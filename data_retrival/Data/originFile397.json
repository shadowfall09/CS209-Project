{"items":[{"tags":["java","pcap","pcap4j"],"owner":{"account_id":28726133,"reputation":1,"user_id":21998925,"display_name":"user21998925"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685619398,"creation_date":1685610087,"question_id":76380270,"body_markdown":"pcap4j sendPacket \r\n\r\nThe target IP cannot capture the corresponding message.\r\n\r\n        PcapHandle pcapHandle = Pcaps.openOffline(&quot;D:\\\\GTP.pcap&quot;);\r\n        PcapNetworkInterface device = Pcaps.getDevByName(&quot;\\\\Device\\\\NPF_{32B17C2A-F521-4721-90CA-C57DF0024F01}&quot;);\r\n        int snapshotLength = 65536;\r\n        int readTimeout = 50;\r\n        PcapHandle handle = device.openLive(snapshotLength, PcapNetworkInterface.PromiscuousMode.PROMISCUOUS, readTimeout);\r\n        String str=null;\r\n        while (true){\r\n            Packet packet = pcapHandle.getNextPacket();\r\n            if(packet==null){\r\n                break;\r\n            }\r\n            EthernetPacket ethernetPacket = packet.get(EthernetPacket.class);\r\n            EthernetPacket.EthernetHeader header = ethernetPacket.getHeader();\r\n            GtpV1Packet gtpPacket = packet.get(GtpV1Packet.class);\r\n            Packet innerPacket = gtpPacket.getPayload();\r\n            byte[] rawData = innerPacket.getRawData();\r\n            byte[] newRawData = Arrays.copyOfRange(rawData, 4, rawData.length);\r\n            IpV4Packet newPacket = IpV4Packet.newPacket(newRawData, 0, newRawData.length);\r\n            if (newPacket.contains(IpPacket.class)) {\r\n                IpV4Packet ipPacket = newPacket.get(IpV4Packet.class);\r\n                InetAddress src = ipPacket.getHeader().getSrcAddr();\r\n                InetAddress dst = ipPacket.getHeader().getDstAddr();\r\n                if(StringUtil.isEmpty(str)){\r\n                    str=src.getHostAddress();\r\n                }\r\n                IpV4Packet.Builder builder = ipPacket.getBuilder();\r\n                Inet4Address srcAddr=null;\r\n                Inet4Address dstAddr=null;\r\n                if(src.getHostAddress().equals(str)){\r\n                    srcAddr=(Inet4Address) InetAddress.getLocalHost();\r\n                }else{\r\n                    srcAddr=(Inet4Address) InetAddress.getByName(ip);\r\n                }\r\n                if(dst.getHostAddress().equals(str)){\r\n                    dstAddr=(Inet4Address)InetAddress.getLocalHost();\r\n                }else {\r\n                    dstAddr=(Inet4Address) InetAddress.getByName(ip);\r\n                }\r\n                builder.srcAddr(srcAddr);\r\n                builder.dstAddr(dstAddr);\r\n                EthernetPacket.Builder eb = new EthernetPacket.Builder();\r\n                eb.dstAddr(header.getDstAddr())\r\n                        .srcAddr(header.getSrcAddr())\r\n                        .type(EtherType.IPV4)\r\n                        .payloadBuilder(builder)\r\n                        .paddingAtBuild(true);\r\n                EthernetPacket build = eb.build();\r\n                handle.sendPacket(build);\r\n            }\r\n        }","title":"pcap4j sendPacket The target IP cannot capture the corresponding message","body":"<p>pcap4j sendPacket</p>\n<p>The target IP cannot capture the corresponding message.</p>\n<pre><code>    PcapHandle pcapHandle = Pcaps.openOffline(&quot;D:\\\\GTP.pcap&quot;);\n    PcapNetworkInterface device = Pcaps.getDevByName(&quot;\\\\Device\\\\NPF_{32B17C2A-F521-4721-90CA-C57DF0024F01}&quot;);\n    int snapshotLength = 65536;\n    int readTimeout = 50;\n    PcapHandle handle = device.openLive(snapshotLength, PcapNetworkInterface.PromiscuousMode.PROMISCUOUS, readTimeout);\n    String str=null;\n    while (true){\n        Packet packet = pcapHandle.getNextPacket();\n        if(packet==null){\n            break;\n        }\n        EthernetPacket ethernetPacket = packet.get(EthernetPacket.class);\n        EthernetPacket.EthernetHeader header = ethernetPacket.getHeader();\n        GtpV1Packet gtpPacket = packet.get(GtpV1Packet.class);\n        Packet innerPacket = gtpPacket.getPayload();\n        byte[] rawData = innerPacket.getRawData();\n        byte[] newRawData = Arrays.copyOfRange(rawData, 4, rawData.length);\n        IpV4Packet newPacket = IpV4Packet.newPacket(newRawData, 0, newRawData.length);\n        if (newPacket.contains(IpPacket.class)) {\n            IpV4Packet ipPacket = newPacket.get(IpV4Packet.class);\n            InetAddress src = ipPacket.getHeader().getSrcAddr();\n            InetAddress dst = ipPacket.getHeader().getDstAddr();\n            if(StringUtil.isEmpty(str)){\n                str=src.getHostAddress();\n            }\n            IpV4Packet.Builder builder = ipPacket.getBuilder();\n            Inet4Address srcAddr=null;\n            Inet4Address dstAddr=null;\n            if(src.getHostAddress().equals(str)){\n                srcAddr=(Inet4Address) InetAddress.getLocalHost();\n            }else{\n                srcAddr=(Inet4Address) InetAddress.getByName(ip);\n            }\n            if(dst.getHostAddress().equals(str)){\n                dstAddr=(Inet4Address)InetAddress.getLocalHost();\n            }else {\n                dstAddr=(Inet4Address) InetAddress.getByName(ip);\n            }\n            builder.srcAddr(srcAddr);\n            builder.dstAddr(dstAddr);\n            EthernetPacket.Builder eb = new EthernetPacket.Builder();\n            eb.dstAddr(header.getDstAddr())\n                    .srcAddr(header.getSrcAddr())\n                    .type(EtherType.IPV4)\n                    .payloadBuilder(builder)\n                    .paddingAtBuild(true);\n            EthernetPacket build = eb.build();\n            handle.sendPacket(build);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","date"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1685617008,"post_id":76380830,"comment_id":134686566,"body_markdown":"Can you avoid using the cumbersome and long outdated `Calendar` class? `java.util.Date` and `java.sql.Date` are not (much) better. At least if using at least version 5.0 of Hibernate, you can use `LocalDate`. It’s independent of time zone so should eliminate your problem.","body":"Can you avoid using the cumbersome and long outdated <code>Calendar</code> class? <code>java.util.Date</code> and <code>java.sql.Date</code> are not (much) better. At least if using at least version 5.0 of Hibernate, you can use <code>LocalDate</code>. It’s independent of time zone so should eliminate your problem."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685617025,"post_id":76380830,"comment_id":134686571,"body_markdown":"Which database engine and which data type in the database?","body":"Which database engine and which data type in the database?"}],"answers":[{"tags":[],"owner":{"account_id":14838004,"reputation":56,"user_id":10715499,"display_name":"Ken.Zhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685615232,"creation_date":1685615232,"answer_id":76380968,"question_id":76380830,"body_markdown":"The issue you&#39;re facing is indeed related to time zones. When you store the dob value in the database, it&#39;s stored as the exact date and time provided. However, when you retrieve it, the time zone conversion takes place, causing the date to appear different.\r\nTry use `TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));`\r\nand set spring.datasource.url: jdbc:mysql://127.0.0.1:3306/database?**serverTimezone=UTC**","title":"Spring Boot Wrong date returned","body":"<p>The issue you're facing is indeed related to time zones. When you store the dob value in the database, it's stored as the exact date and time provided. However, when you retrieve it, the time zone conversion takes place, causing the date to appear different.\nTry use <code>TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));</code>\nand set spring.datasource.url: jdbc:mysql://127.0.0.1:3306/database?<strong>serverTimezone=UTC</strong></p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685619323,"creation_date":1685619323,"answer_id":76381444,"question_id":76380830,"body_markdown":"If Applicable try to switch from class `Calendar` to `LocalDate`. `LocalDate` does not take time zone into consideration. This should resolve your issue (and simplify your code). Also, for formatting the `LocalDate` with Json see the answer to this question: [Spring Data JPA - ZonedDateTime format for json serialization][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization","title":"Spring Boot Wrong date returned","body":"<p>If Applicable try to switch from class <code>Calendar</code> to <code>LocalDate</code>. <code>LocalDate</code> does not take time zone into consideration. This should resolve your issue (and simplify your code). Also, for formatting the <code>LocalDate</code> with Json see the answer to this question: <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a></p>\n"}],"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76381444,"answer_count":2,"score":0,"last_activity_date":1685619323,"creation_date":1685614157,"question_id":76380830,"body_markdown":"I have an entity Person\r\n```\r\n@Entity\r\n@Data\r\npublic class Person {\r\n\r\n  @Temporal(TemporalType.DATE)\r\n  private Calendar dob;\r\n}\r\n```\r\nAnd some dao classes\r\n```\r\n@Data\r\npublic class PersonResponse {\r\n\r\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n  private Calendar dob;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\npublic class PersonRequest{\r\n  @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n  private Calendar dob;\r\n}\r\n```\r\n\r\nWhen storing values it works perfectly. Example if I send &quot;2000-01-01&quot; it&#39;s stored as is in the database &quot;2000-01-01&quot;. But When I try to return it I get &quot;1999-12-31&quot;.\r\n\r\nNow it&#39;s clear that is a ***Timezone Problem*** but I don&#39;t know how to fix it.\r\n##### My explanation for the cause\r\nThe user timezone is GMT+1 so it is some how retrieved as &quot;2000-01-01T00:00:00.000 +01:00&quot;, then parsed to UTC &quot;1999-12-31T23:00:00.000 +00:00&quot; to finally be returned as &quot;1999-12-31&quot;.\r\n\r\nBut why? And how can I prevent this knowing that users timezones can change (so adding the time offset manually of 1 hour won&#39;t work).\r\n\r\nI tried also changing type from Calendar to java.util.Date and java.sql.Date... but no result.\r\n\r\nSimilar questions where asked before like [this one](https://stackoverflow.com/questions/50829014/spring-bootreturn-wrong-value-date-in-json-response) but I still couldn&#39;t understand how to fix it","title":"Spring Boot Wrong date returned","body":"<p>I have an entity Person</p>\n<pre><code>@Entity\n@Data\npublic class Person {\n\n  @Temporal(TemporalType.DATE)\n  private Calendar dob;\n}\n</code></pre>\n<p>And some dao classes</p>\n<pre><code>@Data\npublic class PersonResponse {\n\n  @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\n  private Calendar dob;\n}\n</code></pre>\n<pre><code>@Data\npublic class PersonRequest{\n  @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n  private Calendar dob;\n}\n</code></pre>\n<p>When storing values it works perfectly. Example if I send &quot;2000-01-01&quot; it's stored as is in the database &quot;2000-01-01&quot;. But When I try to return it I get &quot;1999-12-31&quot;.</p>\n<p>Now it's clear that is a <em><strong>Timezone Problem</strong></em> but I don't know how to fix it.</p>\n<h5>My explanation for the cause</h5>\n<p>The user timezone is GMT+1 so it is some how retrieved as &quot;2000-01-01T00:00:00.000 +01:00&quot;, then parsed to UTC &quot;1999-12-31T23:00:00.000 +00:00&quot; to finally be returned as &quot;1999-12-31&quot;.</p>\n<p>But why? And how can I prevent this knowing that users timezones can change (so adding the time offset manually of 1 hour won't work).</p>\n<p>I tried also changing type from Calendar to java.util.Date and java.sql.Date... but no result.</p>\n<p>Similar questions where asked before like <a href=\"https://stackoverflow.com/questions/50829014/spring-bootreturn-wrong-value-date-in-json-response\">this one</a> but I still couldn't understand how to fix it</p>\n"},{"tags":["java","oracle","timestamp","xmlgregoriancalendar"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1685459015,"post_id":76366101,"comment_id":134661187,"body_markdown":"How did you declare the timestamp column in SQL?   Just `TIMESTAMP`?","body":"How did you declare the timestamp column in SQL?   Just <code>TIMESTAMP</code>?"},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":2,"creation_date":1685459582,"post_id":76366101,"comment_id":134661325,"body_markdown":"It looks like your column might be defined as `TIMESTAMP(3)` - if you don&#39;t have the DDL you can check that in `user_tab_columns` or `all_tab_columns`.","body":"It looks like your column might be defined as <code>TIMESTAMP(3)</code> - if you don&#39;t have the DDL you can check that in <code>user_tab_columns</code> or <code>all_tab_columns</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685461436,"post_id":76366101,"comment_id":134661776,"body_markdown":"What *exactly* is the data type of your column? Voting to close for insufficient information.","body":"What <i>exactly</i> is the data type of your column? Voting to close for insufficient information."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685461520,"post_id":76366101,"comment_id":134661792,"body_markdown":"Why involve the legacy class `XMLGregorianCalendar`?","body":"Why involve the legacy class <code>XMLGregorianCalendar</code>?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685461608,"post_id":76366101,"comment_id":134661808,"body_markdown":"I cannot imagine a case where calling `LocalDateTime.now()` is the right thing to do. That class lacks the context of a time zone or offset, so it cannot represent a point on the timeline.","body":"I cannot imagine a case where calling <code>LocalDateTime.now()</code> is the right thing to do. That class lacks the context of a time zone or offset, so it cannot represent a point on the timeline."},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":0,"creation_date":1685516650,"post_id":76366101,"comment_id":134669254,"body_markdown":"I do not know who voted for closing this question but I couldnt check the answer. As I said I declared as TIMESTAMP(6).","body":"I do not know who voted for closing this question but I couldnt check the answer. As I said I declared as TIMESTAMP(6)."},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":0,"creation_date":1685516789,"post_id":76366101,"comment_id":134669273,"body_markdown":"@BasilBourque can I ask what is the reason to vote for closure? Please read the question carefully next time.","body":"@BasilBourque can I ask what is the reason to vote for closure? Please read the question carefully next time."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1685519075,"post_id":76366101,"comment_id":134669713,"body_markdown":"Your Question has many issues. For one: You speak of output from Java, and output from the database, but you do not show code for either. For another: you include some needlessly convoluted code with `XMLGregorianCalendar` that is likely irrelevant to your issue.","body":"Your Question has many issues. For one: You speak of output from Java, and output from the database, but you do not show code for either. For another: you include some needlessly convoluted code with <code>XMLGregorianCalendar</code> that is likely irrelevant to your issue."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1685519090,"post_id":76366101,"comment_id":134669718,"body_markdown":"It is a bit disingenuous to accuse Basil of not reading the question.  We can read the edit history to see where and when you edited the question to respond to his comments.","body":"It is a bit disingenuous to accuse Basil of not reading the question.  We can read the edit history to see where and when you edited the question to respond to his comments."},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":0,"creation_date":1685519459,"post_id":76366101,"comment_id":134669813,"body_markdown":"I shared the code that I am using the java. I added sql mapping and calling now. If you specify, I can share the what you need.","body":"I shared the code that I am using the java. I added sql mapping and calling now. If you specify, I can share the what you need."},{"owner":{"account_id":236811,"reputation":13011,"user_id":504547,"display_name":"Martin Schapendonk"},"score":0,"creation_date":1685522260,"post_id":76366101,"comment_id":134670437,"body_markdown":"The next step would be to also post the code of the `dummytest` procedure. Also, I&#39;m not too familiar with jdbcType Timestamp but the docs at https://docs.oracle.com/javase/8/docs/api/index.html?java/sql/Timestamp.html suggest that the resolution is milliseconds at best.","body":"The next step would be to also post the code of the <code>dummytest</code> procedure. Also, I&#39;m not too familiar with jdbcType Timestamp but the docs at <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/sql/Timestamp.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/index.html?java/sql/&hellip;</a> suggest that the resolution is milliseconds at best."},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":0,"creation_date":1685522541,"post_id":76366101,"comment_id":134670509,"body_markdown":"@MartinSchapendonk thanks for your kind message. Unfortunately in my case, I need microseconds.","body":"@MartinSchapendonk thanks for your kind message. Unfortunately in my case, I need microseconds."},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":1,"creation_date":1685523363,"post_id":76366101,"comment_id":134670681,"body_markdown":"@MartinSchapendonk also added the code of dummytest procedure.","body":"@MartinSchapendonk also added the code of dummytest procedure."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685538892,"post_id":76366101,"comment_id":134674140,"body_markdown":"@MartinSchapendonk I don’t know whether it’s relevant.  From your doc link: *... the ability to hold the SQL `TIMESTAMP` fractional seconds value, by allowing the specification of fractional seconds to a precision of nanoseconds.* However the `java.sql.Timestamp` class is outdated and should not be used provided that Oracle is offering a JDBC 4.2 compliant driver allowing to use `LocalDateTime` (also offering nanosecond precision).","body":"@MartinSchapendonk I don’t know whether it’s relevant.  From your doc link: <i>... the ability to hold the SQL <code>TIMESTAMP</code> fractional seconds value, by allowing the specification of fractional seconds to a precision of nanoseconds.</i> However the <code>java.sql.Timestamp</code> class is outdated and should not be used provided that Oracle is offering a JDBC 4.2 compliant driver allowing to use <code>LocalDateTime</code> (also offering nanosecond precision)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685538980,"post_id":76366101,"comment_id":134674161,"body_markdown":"In the declaration of the stored procedure, in `dummytest(p_timestamp TIMESTAMP)` it does not say `TIMESTAMP(6)`. Might this be the issue??","body":"In the declaration of the stored procedure, in <code>dummytest(p_timestamp TIMESTAMP)</code> it does not say <code>TIMESTAMP(6)</code>. Might this be the issue??"},{"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"score":1,"creation_date":1685606286,"post_id":76366101,"comment_id":134684284,"body_markdown":"@OleV.V. In PLSQL procedure declaration you cannot specify length. such as varchar2(100), timestamp(6), etc.","body":"@OleV.V. In PLSQL procedure declaration you cannot specify length. such as varchar2(100), timestamp(6), etc."},{"owner":{"account_id":236811,"reputation":13011,"user_id":504547,"display_name":"Martin Schapendonk"},"score":0,"creation_date":1685614488,"post_id":76366101,"comment_id":134686044,"body_markdown":"Thanks for your additions, I&#39;m afraid I can&#39;t help you further.","body":"Thanks for your additions, I&#39;m afraid I can&#39;t help you further."}],"answers":[{"tags":[],"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685618791,"creation_date":1685618791,"answer_id":76381375,"question_id":76366101,"body_markdown":"The problem is fixed by custom handler in java side.\r\n\r\n    &lt;select id=&quot;add_time&quot; statementType=&quot;CALLABLE&quot; parameterType=&quot;java.util.Map&quot;&gt;\r\n            {call dummytest(\r\n                    #{time, mode=IN, jdbcType=TIMESTAMP, typeHandler = com.project.yunus.XMLGregorianCalendarWithFractionalTypeHandler}\r\n                )}\r\n        &lt;/select&gt;\r\n\r\nContent of XMLGregorianCalendarWithFractionalTypeHandler:\r\n\r\n    public class XMLGregorianCalendarWithFractionalTypeHandler implements TypeHandler {\r\n        public XMLGregorianCalendarWithFractionalTypeHandler() {\r\n        }\r\n    \r\n        public void setParameter(PreparedStatement paramPreparedStatement, int paramInt, Object paramObject, JdbcType paramJdbcType) throws SQLException {\r\n            if (paramObject == null) {\r\n                paramPreparedStatement.setNull(paramInt, 93);\r\n            } else {\r\n                if (!(paramObject instanceof XMLGregorianCalendar)) {\r\n                    throw new IllegalArgumentException(&quot;Excepted XMLGregorianCalendar, but have: &quot; + paramObject);\r\n                }\r\n    \r\n                XMLGregorianCalendar objectCalendar = ((XMLGregorianCalendar)paramObject);\r\n                Timestamp timestamp = Timestamp.valueOf(objectCalendar.toString().replace(&quot;T&quot;, &quot; &quot;));\r\n                paramPreparedStatement.setTimestamp(paramInt, timestamp);\r\n            }\r\n    \r\n        }\r\n    \r\n        public Object getResult(ResultSet rs, String columnLabel) throws SQLException {\r\n            Timestamp value = rs.getTimestamp(columnLabel);\r\n            return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\r\n        }\r\n    \r\n        public Object getResult(ResultSet rs, int columnIndex) throws SQLException {\r\n            Timestamp value = rs.getTimestamp(columnIndex);\r\n            return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\r\n        }\r\n    \r\n        public Object getResult(CallableStatement rs, int columnNb) throws SQLException {\r\n            Timestamp value = rs.getTimestamp(columnNb);\r\n            return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\r\n        }\r\n    \r\n        private static XMLGregorianCalendar stringToXMLGregorianCalendar(Timestamp value) {\r\n            try {\r\n                return dateToXMLGregorianCalendar(value);\r\n            } catch (Exception var2) {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static XMLGregorianCalendar dateToXMLGregorianCalendar(Timestamp timestamp) throws DatatypeConfigurationException {\r\n            return  DatatypeFactory.newInstance().newXMLGregorianCalendar(timestamp.toString().replace(&quot; &quot;, &quot;T&quot;));\r\n    \r\n        }\r\n\r\n","title":"Cannot set microsecond value from Java to the Oracle","body":"<p>The problem is fixed by custom handler in java side.</p>\n<pre><code>&lt;select id=&quot;add_time&quot; statementType=&quot;CALLABLE&quot; parameterType=&quot;java.util.Map&quot;&gt;\n        {call dummytest(\n                #{time, mode=IN, jdbcType=TIMESTAMP, typeHandler = com.project.yunus.XMLGregorianCalendarWithFractionalTypeHandler}\n            )}\n    &lt;/select&gt;\n</code></pre>\n<p>Content of XMLGregorianCalendarWithFractionalTypeHandler:</p>\n<pre><code>public class XMLGregorianCalendarWithFractionalTypeHandler implements TypeHandler {\n    public XMLGregorianCalendarWithFractionalTypeHandler() {\n    }\n\n    public void setParameter(PreparedStatement paramPreparedStatement, int paramInt, Object paramObject, JdbcType paramJdbcType) throws SQLException {\n        if (paramObject == null) {\n            paramPreparedStatement.setNull(paramInt, 93);\n        } else {\n            if (!(paramObject instanceof XMLGregorianCalendar)) {\n                throw new IllegalArgumentException(&quot;Excepted XMLGregorianCalendar, but have: &quot; + paramObject);\n            }\n\n            XMLGregorianCalendar objectCalendar = ((XMLGregorianCalendar)paramObject);\n            Timestamp timestamp = Timestamp.valueOf(objectCalendar.toString().replace(&quot;T&quot;, &quot; &quot;));\n            paramPreparedStatement.setTimestamp(paramInt, timestamp);\n        }\n\n    }\n\n    public Object getResult(ResultSet rs, String columnLabel) throws SQLException {\n        Timestamp value = rs.getTimestamp(columnLabel);\n        return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\n    }\n\n    public Object getResult(ResultSet rs, int columnIndex) throws SQLException {\n        Timestamp value = rs.getTimestamp(columnIndex);\n        return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\n    }\n\n    public Object getResult(CallableStatement rs, int columnNb) throws SQLException {\n        Timestamp value = rs.getTimestamp(columnNb);\n        return rs.wasNull() ? null : stringToXMLGregorianCalendar(value);\n    }\n\n    private static XMLGregorianCalendar stringToXMLGregorianCalendar(Timestamp value) {\n        try {\n            return dateToXMLGregorianCalendar(value);\n        } catch (Exception var2) {\n            return null;\n        }\n    }\n\n    public static XMLGregorianCalendar dateToXMLGregorianCalendar(Timestamp timestamp) throws DatatypeConfigurationException {\n        return  DatatypeFactory.newInstance().newXMLGregorianCalendar(timestamp.toString().replace(&quot; &quot;, &quot;T&quot;));\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7927892,"reputation":1594,"user_id":6306558,"accept_rate":84,"display_name":"Yunus Haznedar"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76381375,"answer_count":1,"score":-1,"last_activity_date":1685618791,"creation_date":1685458355,"question_id":76366101,"body_markdown":"I have a date which created from current time and the object type is XMLGregorianCalendar. In Java, I can see that my date has microseconds but in the SQL, it is set as 0. What is the exact problem here?\r\n\r\n        public static XMLGregorianCalendar initializeTime(LocalDateTime localDateTime) {\r\n            try {\r\n                XMLGregorianCalendar time= DatatypeFactory.newInstance()\r\n                  .newXMLGregorianCalendar(String.valueOf\r\n                  (LocalDateTime.now().truncatedTo(ChronoUnit.MICROS)));\r\n                \r\n            return time;\r\n            } catch (DatatypeConfigurationException var3) {\r\n                throw new RuntimeException(&quot;Execution time could not created.&quot;);\r\n            }\r\n        }\r\n\r\n\r\n  \r\nIn Java it shows: 2023-05-24T15:50:07.931456\r\n\r\nBut in the SQL (the type is TIMESTAMP(6)) it shows like this : 24-MAY-23 15.50.07.931000000 PM\r\n\r\nSQL calling, you can find it down below.\r\ndummytest is a procedure basically taking a param and inserting this param into a table.\r\n\r\n    &lt;select id=&quot;add_time&quot; statementType=&quot;CALLABLE&quot; parameterType=&quot;java.util.Map&quot;&gt;\r\n            {call dummytest(\r\n                    #{time, mode=IN, jdbcType=TIMESTAMP}\r\n                )}\r\n        &lt;/select&gt;\r\n\r\nprocedure code:\r\n\r\n    create or replace procedure dummytest(p_timestamp TIMESTAMP) is\r\n    begin\r\n      insert into testtimestamp values (p_timestamp);\r\n      commit;\r\n    end ;\r\n\r\nI am losing the microsecond precision. I have to use XMLGregorianCalendar because all code designed for this API.","title":"Cannot set microsecond value from Java to the Oracle","body":"<p>I have a date which created from current time and the object type is XMLGregorianCalendar. In Java, I can see that my date has microseconds but in the SQL, it is set as 0. What is the exact problem here?</p>\n<pre><code>    public static XMLGregorianCalendar initializeTime(LocalDateTime localDateTime) {\n        try {\n            XMLGregorianCalendar time= DatatypeFactory.newInstance()\n              .newXMLGregorianCalendar(String.valueOf\n              (LocalDateTime.now().truncatedTo(ChronoUnit.MICROS)));\n            \n        return time;\n        } catch (DatatypeConfigurationException var3) {\n            throw new RuntimeException(&quot;Execution time could not created.&quot;);\n        }\n    }\n</code></pre>\n<p>In Java it shows: 2023-05-24T15:50:07.931456</p>\n<p>But in the SQL (the type is TIMESTAMP(6)) it shows like this : 24-MAY-23 15.50.07.931000000 PM</p>\n<p>SQL calling, you can find it down below.\ndummytest is a procedure basically taking a param and inserting this param into a table.</p>\n<pre><code>&lt;select id=&quot;add_time&quot; statementType=&quot;CALLABLE&quot; parameterType=&quot;java.util.Map&quot;&gt;\n        {call dummytest(\n                #{time, mode=IN, jdbcType=TIMESTAMP}\n            )}\n    &lt;/select&gt;\n</code></pre>\n<p>procedure code:</p>\n<pre><code>create or replace procedure dummytest(p_timestamp TIMESTAMP) is\nbegin\n  insert into testtimestamp values (p_timestamp);\n  commit;\nend ;\n</code></pre>\n<p>I am losing the microsecond precision. I have to use XMLGregorianCalendar because all code designed for this API.</p>\n"},{"tags":["java","json","gson","json-simple"],"comments":[{"owner":{"account_id":140327,"reputation":43675,"user_id":346561,"accept_rate":94,"display_name":"Jesse Webb"},"score":2,"creation_date":1306506195,"post_id":6153176,"comment_id":7147382,"body_markdown":"&#39;Show me the code&#39; of what you&#39;ve tried. Links to libs should be perfectly fine, you can learn on your own from there. If your question was &quot;How do you parse JSON with XXX lib?&quot;, then your request for code is valid, otherwise, don&#39;t be afraid to experiment with something new.","body":"&#39;Show me the code&#39; of what you&#39;ve tried. Links to libs should be perfectly fine, you can learn on your own from there. If your question was &quot;How do you parse JSON with XXX lib?&quot;, then your request for code is valid, otherwise, don&#39;t be afraid to experiment with something new."},{"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"score":0,"creation_date":1308282557,"post_id":6153176,"comment_id":7475548,"body_markdown":"Was this issue resolved?","body":"Was this issue resolved?"},{"owner":{"account_id":2762334,"reputation":133,"user_id":2378974,"display_name":"Suliman Alzamel"},"score":0,"creation_date":1460457178,"post_id":6153176,"comment_id":60739969,"body_markdown":"try this \n    import com.google.gson.JsonObject;\n    import com.google.gson.JsonParser;\n\n    JsonParser parser = new JsonParser();\n    JsonObject obj = parser.parse(jsonString).getAsJsonObject();\n    String age = obj.get(&quot;age&quot;).getAsString();","body":"try this      import com.google.gson.JsonObject;     import com.google.gson.JsonParser;      JsonParser parser = new JsonParser();     JsonObject obj = parser.parse(jsonString).getAsJsonObject();     String age = obj.get(&quot;age&quot;).getAsString();"},{"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"score":0,"creation_date":1685604019,"post_id":6153176,"comment_id":134683868,"body_markdown":"The question was closed (unjustifiably) so I will have to answer in a comment: add `implementation(&#39;org.json:json:20230227&#39;)` to your `build.gradle`, then `int age = new JSONObject(yourJsonString).getInt(&quot;age&quot;)`","body":"The question was closed (unjustifiably) so I will have to answer in a comment: add <code>implementation(&#39;org.json:json:20230227&#39;)</code> to your <code>build.gradle</code>, then <code>int age = new JSONObject(yourJsonString).getInt(&quot;age&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":404706,"reputation":7875,"user_id":773189,"accept_rate":83,"display_name":"devconsole"},"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1505973717,"creation_date":1306504830,"answer_id":6153294,"question_id":6153176,"body_markdown":"Use a JSON library to parse the string and retrieve the value.\r\n\r\nThe following very basic example uses the built-in [JSON parser][1] from Android.\r\n\r\n    String jsonString = &quot;{ \\&quot;name\\&quot; : \\&quot;John\\&quot;, \\&quot;age\\&quot; : \\&quot;20\\&quot;, \\&quot;address\\&quot; : \\&quot;some address\\&quot; }&quot;;\r\n    JSONObject jsonObject = new JSONObject(jsonString);\r\n    int age = jsonObject.getInt(&quot;age&quot;);\r\n\r\nMore advanced JSON libraries, such as [jackson][2], [google-gson][3], [json-io][4] or [genson][5], allow you to convert JSON objects to Java objects directly.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/org/json/package-summary.html\r\n  [2]: https://github.com/FasterXML/jackson\r\n  [3]: https://github.com/google/gson\r\n  [4]: https://github.com/jdereg/json-io\r\n  [5]: https://github.com/owlike/genson","title":"How to find specified name and its value in JSON-string from Java?","body":"<p>Use a JSON library to parse the string and retrieve the value.</p>\n\n<p>The following very basic example uses the built-in <a href=\"https://developer.android.com/reference/org/json/package-summary.html\" rel=\"noreferrer\">JSON parser</a> from Android.</p>\n\n<pre><code>String jsonString = \"{ \\\"name\\\" : \\\"John\\\", \\\"age\\\" : \\\"20\\\", \\\"address\\\" : \\\"some address\\\" }\";\nJSONObject jsonObject = new JSONObject(jsonString);\nint age = jsonObject.getInt(\"age\");\n</code></pre>\n\n<p>More advanced JSON libraries, such as <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">jackson</a>, <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">google-gson</a>, <a href=\"https://github.com/jdereg/json-io\" rel=\"noreferrer\">json-io</a> or <a href=\"https://github.com/owlike/genson\" rel=\"noreferrer\">genson</a>, allow you to convert JSON objects to Java objects directly.</p>\n"},{"tags":[],"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1308282717,"creation_date":1308282717,"answer_id":6381146,"question_id":6153176,"body_markdown":"Gson allows for one of the simplest possible solutions.  Compared to similar APIs like Jackson or svenson, Gson by default doesn&#39;t even need the unused JSON elements to have bindings available in the Java structure.  Specific to the question asked, here&#39;s a working solution.\r\n\r\n    import com.google.gson.Gson;\r\n    \r\n    public class Foo\r\n    {\r\n      static String jsonInput = \r\n        &quot;{&quot; + \r\n          &quot;\\&quot;name\\&quot;:\\&quot;John\\&quot;,&quot; + \r\n          &quot;\\&quot;age\\&quot;:\\&quot;20\\&quot;,&quot; + \r\n          &quot;\\&quot;address\\&quot;:\\&quot;some address\\&quot;,&quot; + \r\n          &quot;\\&quot;someobject\\&quot;:&quot; +\r\n          &quot;{&quot; + \r\n            &quot;\\&quot;field\\&quot;:\\&quot;value\\&quot;&quot; + \r\n          &quot;}&quot; + \r\n        &quot;}&quot;;\r\n      \r\n      String age;\r\n      \r\n      public static void main(String[] args) throws Exception\r\n      {\r\n        Gson gson = new Gson();\r\n        Foo thing = gson.fromJson(jsonInput, Foo.class);\r\n        if (thing.age != null)\r\n        {\r\n          System.out.println(&quot;age is &quot; + thing.age);\r\n        }\r\n        else\r\n        {\r\n          System.out.println(&quot;age element not present or value is null&quot;);\r\n        }\r\n      }\r\n    }","title":"How to find specified name and its value in JSON-string from Java?","body":"<p>Gson allows for one of the simplest possible solutions.  Compared to similar APIs like Jackson or svenson, Gson by default doesn't even need the unused JSON elements to have bindings available in the Java structure.  Specific to the question asked, here's a working solution.</p>\n\n<pre><code>import com.google.gson.Gson;\n\npublic class Foo\n{\n  static String jsonInput = \n    \"{\" + \n      \"\\\"name\\\":\\\"John\\\",\" + \n      \"\\\"age\\\":\\\"20\\\",\" + \n      \"\\\"address\\\":\\\"some address\\\",\" + \n      \"\\\"someobject\\\":\" +\n      \"{\" + \n        \"\\\"field\\\":\\\"value\\\"\" + \n      \"}\" + \n    \"}\";\n\n  String age;\n\n  public static void main(String[] args) throws Exception\n  {\n    Gson gson = new Gson();\n    Foo thing = gson.fromJson(jsonInput, Foo.class);\n    if (thing.age != null)\n    {\n      System.out.println(\"age is \" + thing.age);\n    }\n    else\n    {\n      System.out.println(\"age element not present or value is null\");\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135261,"reputation":4039,"user_id":337988,"accept_rate":94,"display_name":"philipjkim"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1331908931,"creation_date":1331908931,"answer_id":9739330,"question_id":6153176,"body_markdown":"I agree that Google&#39;s `Gson` is clear and easy to use. But you should create a result class for getting an instance from JSON string. If you can&#39;t clarify the result class, use `json-simple`:\r\n\r\n    // import static org.hamcrest.CoreMatchers.is;\r\n    // import static org.junit.Assert.assertThat;\r\n    // import org.json.simple.JSONObject;\r\n    // import org.json.simple.JSONValue;\r\n    // import org.junit.Test;\r\n\r\n\t@Test\r\n\tpublic void json2Object() {\r\n\t\t// given\r\n\t\tString jsonString = &quot;{\\&quot;name\\&quot; : \\&quot;John\\&quot;,\\&quot;age\\&quot; : \\&quot;20\\&quot;,&quot;\r\n\t\t\t\t+ &quot;\\&quot;address\\&quot; : \\&quot;some address\\&quot;,&quot;\r\n\t\t\t\t+ &quot;\\&quot;someobject\\&quot; : {\\&quot;field\\&quot; : \\&quot;value\\&quot;}}&quot;;\r\n\r\n\t\t// when\r\n\t\tJSONObject object = (JSONObject) JSONValue.parse(jsonString);\r\n\r\n\t\t// then\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tSet&lt;String&gt; keySet = object.keySet();\r\n\t\tfor (String key : keySet) {\r\n\t\t\tObject value = object.get(key);\r\n\t\t\tSystem.out.printf(&quot;%s=%s (%s)\\n&quot;, key, value, value.getClass()\r\n\t\t\t\t\t.getSimpleName());\r\n\t\t}\r\n\r\n\t\tassertThat(object.get(&quot;age&quot;).toString(), is(&quot;20&quot;));\r\n\t}\r\n\r\nPros and cons of `Gson` and `json-simple` is pretty much like pros and cons of user-defined Java Object and `Map`. The object you define is clear for all fields (name and type), but less flexible than `Map`.","title":"How to find specified name and its value in JSON-string from Java?","body":"<p>I agree that Google's <code>Gson</code> is clear and easy to use. But you should create a result class for getting an instance from JSON string. If you can't clarify the result class, use <code>json-simple</code>:</p>\n\n<pre><code>// import static org.hamcrest.CoreMatchers.is;\n// import static org.junit.Assert.assertThat;\n// import org.json.simple.JSONObject;\n// import org.json.simple.JSONValue;\n// import org.junit.Test;\n\n@Test\npublic void json2Object() {\n    // given\n    String jsonString = \"{\\\"name\\\" : \\\"John\\\",\\\"age\\\" : \\\"20\\\",\"\n            + \"\\\"address\\\" : \\\"some address\\\",\"\n            + \"\\\"someobject\\\" : {\\\"field\\\" : \\\"value\\\"}}\";\n\n    // when\n    JSONObject object = (JSONObject) JSONValue.parse(jsonString);\n\n    // then\n    @SuppressWarnings(\"unchecked\")\n    Set&lt;String&gt; keySet = object.keySet();\n    for (String key : keySet) {\n        Object value = object.get(key);\n        System.out.printf(\"%s=%s (%s)\\n\", key, value, value.getClass()\n                .getSimpleName());\n    }\n\n    assertThat(object.get(\"age\").toString(), is(\"20\"));\n}\n</code></pre>\n\n<p>Pros and cons of <code>Gson</code> and <code>json-simple</code> is pretty much like pros and cons of user-defined Java Object and <code>Map</code>. The object you define is clear for all fields (name and type), but less flexible than <code>Map</code>.</p>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233944,"favorite_count":0,"down_vote_count":1,"up_vote_count":58,"answer_count":3,"score":57,"last_activity_date":1685618262,"creation_date":1306504324,"question_id":6153176,"body_markdown":"Let&#39;s assume we have the next JSON string:\r\n\r\n```json\r\n{  \r\n   &quot;name&quot; : &quot;John&quot;,\r\n   &quot;age&quot; : &quot;20&quot;,\r\n   &quot;address&quot; : &quot;some address&quot;,\r\n   &quot;someobject&quot; : {\r\n       &quot;field&quot; : &quot;value&quot;    \r\n   }\r\n}\r\n```\r\n\r\nWhat is the easiest (but still correct, i.e. regular expressions are not acceptable) way to find field `age` and its value (or determine that there&#39;s no field with given name)? \r\n","title":"How to find specified name and its value in JSON-string from Java?","body":"<p>Let's assume we have the next JSON string:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{  \n   &quot;name&quot; : &quot;John&quot;,\n   &quot;age&quot; : &quot;20&quot;,\n   &quot;address&quot; : &quot;some address&quot;,\n   &quot;someobject&quot; : {\n       &quot;field&quot; : &quot;value&quot;    \n   }\n}\n</code></pre>\n<p>What is the easiest (but still correct, i.e. regular expressions are not acceptable) way to find field <code>age</code> and its value (or determine that there's no field with given name)?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":1,"creation_date":1561384683,"post_id":56737634,"comment_id":100035021,"body_markdown":"From my point of view also the first solution should give you a `Property or field &#39;bicycles&#39; cannot be found on null` exception. Just tried it with an example. Check if bicycles is really not null.","body":"From my point of view also the first solution should give you a <code>Property or field &#39;bicycles&#39; cannot be found on null</code> exception. Just tried it with an example. Check if bicycles is really not null."},{"owner":{"account_id":5152799,"reputation":19357,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1561387752,"post_id":56737634,"comment_id":100036925,"body_markdown":"Is that the actual code?  The error message is not saying that `bicycles` doesn&#39;t exist, but rather that `${owner}` is null, and so it can&#39;t get a property of a null object.  Are you sure that you didn&#39;t accidentally close the loop and `${owner}` is out of scope?","body":"Is that the actual code?  The error message is not saying that <code>bicycles</code> doesn&#39;t exist, but rather that <code>${owner}</code> is null, and so it can&#39;t get a property of a null object.  Are you sure that you didn&#39;t accidentally close the loop and <code>${owner}</code> is out of scope?"},{"owner":{"account_id":3337041,"reputation":1633,"user_id":4551793,"accept_rate":44,"display_name":"John"},"score":0,"creation_date":1561392433,"post_id":56737634,"comment_id":100039462,"body_markdown":"@Metroids - I can&#39;t see how it goes out of scope. Owner is supposed to be valid to all child tags. Hopefully that includes another each. \nThis has proved valid in other stackoverflow questions.\nI accept that it is saying owner is null.\nIs &lt;tr&gt; within a &lt;tr&gt; legal?","body":"@Metroids - I can&#39;t see how it goes out of scope. Owner is supposed to be valid to all child tags. Hopefully that includes another each.  This has proved valid in other stackoverflow questions. I accept that it is saying owner is null. Is &lt;tr&gt; within a &lt;tr&gt; legal?"},{"owner":{"account_id":5152799,"reputation":19357,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1561414937,"post_id":56737634,"comment_id":100048015,"body_markdown":"Well, typically you&#39;d do that with a `&lt;th:block&gt;` rather than nested `&lt;tr&gt;s`, but it should work either way. I&#39;m just saying that the error you are getting can&#39;t be explained by the code you have (as far as i can tell).","body":"Well, typically you&#39;d do that with a <code>&lt;th:block&gt;</code> rather than nested <code>&lt;tr&gt;s</code>, but it should work either way. I&#39;m just saying that the error you are getting can&#39;t be explained by the code you have (as far as i can tell)."},{"owner":{"account_id":3475140,"reputation":2491,"user_id":3019956,"accept_rate":33,"display_name":"want2learn"},"score":0,"creation_date":1561473141,"post_id":56737634,"comment_id":100070516,"body_markdown":"just before you do return can yo debug to see how the owners attribute that you add on model looks like","body":"just before you do return can yo debug to see how the owners attribute that you add on model looks like"}],"answers":[{"tags":[],"owner":{"account_id":10191646,"reputation":1081,"user_id":7524856,"display_name":"AmirBll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561400642,"creation_date":1561400642,"answer_id":56742017,"question_id":56737634,"body_markdown":"Try `if` for check `bicycles` is *null* or not\r\n\r\n    &lt;table&gt;\r\n        &lt;tr th:each=&quot;owner : ${owners}&quot;&gt;\r\n          &lt;td th:text=&quot;${owner.userName}&quot;&gt;&lt;/td&gt;\r\n          &lt;tr th:if={owner.bicycles != null} th:each=&quot;bike : ${owner.bicycles}&quot;&gt;\r\n              &lt;td th:text=&quot;${bike.make}&quot;&gt;&lt;/td&gt;\r\n              &lt;td th:text=&quot;${bike.model}&quot;&gt;&lt;/td&gt;  \r\n          &lt;/tr&gt;  \r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;","title":"Spring Boot / Thymeleaf - loop within a loop","body":"<p>Try <code>if</code> for check <code>bicycles</code> is <em>null</em> or not</p>\n\n<pre><code>&lt;table&gt;\n    &lt;tr th:each=\"owner : ${owners}\"&gt;\n      &lt;td th:text=\"${owner.userName}\"&gt;&lt;/td&gt;\n      &lt;tr th:if={owner.bicycles != null} th:each=\"bike : ${owner.bicycles}\"&gt;\n          &lt;td th:text=\"${bike.make}\"&gt;&lt;/td&gt;\n          &lt;td th:text=\"${bike.model}\"&gt;&lt;/td&gt;  \n      &lt;/tr&gt;  \n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3337041,"reputation":1633,"user_id":4551793,"accept_rate":44,"display_name":"John"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1561542421,"creation_date":1561448758,"answer_id":56749181,"question_id":56737634,"body_markdown":"So I found this\r\n\r\nhttps://stackoverflow.com/questions/55095198/thymeleaf-getting-property-or-field-cannot-be-found-on-null-iteration-of-list\r\n\r\nand that has stopped SpelException.\r\n\r\nHaving played around with it, it does not need 3 levels but just two. The problem arises if a th:each is nested within a th:each. The second th:each has to be in a th:block (or possibly div).","title":"Spring Boot / Thymeleaf - loop within a loop","body":"<p>So I found this</p>\n\n<p><a href=\"https://stackoverflow.com/questions/55095198/thymeleaf-getting-property-or-field-cannot-be-found-on-null-iteration-of-list\">Thymeleaf: Getting Property or field cannot be found on null. Iteration of list inside a list</a></p>\n\n<p>and that has stopped SpelException.</p>\n\n<p>Having played around with it, it does not need 3 levels but just two. The problem arises if a th:each is nested within a th:each. The second th:each has to be in a th:block (or possibly div).</p>\n"},{"tags":[],"owner":{"account_id":28727109,"reputation":1,"user_id":21999768,"display_name":"maykelange"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685618074,"creation_date":1685618074,"answer_id":76381297,"question_id":56737634,"body_markdown":"The problem seems to be that you are trying to generate invalid HTML by nesting table row `&lt;tr&gt;` elements. \r\n\r\nTo generate the HTML you want, you should use the [syntethic `th:block` tag](https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#synthetic-thblock-tag) , which allows you to generate the cells for each bike.\r\n\r\n```\r\n&lt;table&gt;\r\n    &lt;tr th:each=&quot;owner : ${owners}&quot;&gt;\r\n      &lt;td th:text=&quot;${owner.userName}&quot;&gt;&lt;/td&gt;\r\n      &lt;th:block th:each=&quot;bike : ${owner.bicycles}&quot;&gt;\r\n          &lt;td th:text=&quot;${bike.make}&quot;&gt;&lt;/td&gt;\r\n          &lt;td th:text=&quot;${bike.model}&quot;&gt;&lt;/td&gt;  \r\n      &lt;/th:block&gt;  \r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n```","title":"Spring Boot / Thymeleaf - loop within a loop","body":"<p>The problem seems to be that you are trying to generate invalid HTML by nesting table row <code>&lt;tr&gt;</code> elements.</p>\n<p>To generate the HTML you want, you should use the <a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#synthetic-thblock-tag\" rel=\"nofollow noreferrer\">syntethic <code>th:block</code> tag</a> , which allows you to generate the cells for each bike.</p>\n<pre><code>&lt;table&gt;\n    &lt;tr th:each=&quot;owner : ${owners}&quot;&gt;\n      &lt;td th:text=&quot;${owner.userName}&quot;&gt;&lt;/td&gt;\n      &lt;th:block th:each=&quot;bike : ${owner.bicycles}&quot;&gt;\n          &lt;td th:text=&quot;${bike.make}&quot;&gt;&lt;/td&gt;\n          &lt;td th:text=&quot;${bike.model}&quot;&gt;&lt;/td&gt;  \n      &lt;/th:block&gt;  \n    &lt;/tr&gt;\n  &lt;/table&gt;\n</code></pre>\n"}],"owner":{"account_id":3337041,"reputation":1633,"user_id":4551793,"accept_rate":44,"display_name":"John"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1712,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56749181,"answer_count":3,"score":0,"last_activity_date":1685618074,"creation_date":1561382865,"question_id":56737634,"body_markdown":"I have an application with two entities that have a bidirectional one to many relationship. Owners and Bicycles.\r\n\r\nSo getting the owners via curl will give\r\n\r\n    [\r\n        {&quot;id&quot;:1,\r\n        &quot;userName&quot;:&quot;user1&quot;,\r\n        &quot;bicycles&quot;:\r\n            [\r\n                {\r\n                    &quot;id&quot;:1,\r\n                    &quot;make&quot;:&quot;dawes&quot;,\r\n                    &quot;model&quot;:&quot;civic&quot;,\r\n                    &quot;owner&quot;:1\r\n                }\r\n            ]\r\n        },\r\n        {&quot;id&quot;:2,\r\n        &quot;userName&quot;:&quot;user2&quot;,\r\n        &quot;bicycles&quot;:\r\n            [\r\n                {\r\n                    &quot;id&quot;:2,\r\n                    &quot;make&quot;:&quot;whyte&quot;,\r\n                    &quot;model&quot;:&quot;montpellier&quot;,\r\n                    &quot;owner&quot;:2\r\n                }\r\n                ,{\r\n                    &quot;id&quot;:4,\r\n                    &quot;make&quot;:&quot;dahon&quot;,\r\n                    &quot;model&quot;:&quot;tern A7&quot;,\r\n                    &quot;owner&quot;:2\r\n                }\r\n            ]\r\n        } ]\r\n\r\nwhich is fine.\r\n\r\nIf I create a template which loops in a table,\r\n\r\n    &lt;table&gt;\r\n        &lt;tr th:each=&quot;owner : ${owners}&quot;&gt;\r\n          &lt;td th:text=&quot;${owner.userName}&quot;&gt;&lt;/td&gt;\r\n          &lt;td th:text=&quot;${owner.bicycles[0].make}&quot;\r\n              th:if=&quot;${#lists.size(owner.bicycles)} &gt; 0&quot;&gt;&quot;&lt;/td&gt;\r\n          &lt;td th:text=&quot;${owner.bicycles[0].model}&quot;\r\n              th:if=&quot;${#lists.size(owner.bicycles)} &gt; 0&quot;&gt;&lt;/td&gt; \r\n        &lt;/tr&gt;\r\n      &lt;/table&gt;\r\n\r\nthen I get the expected result in the browser. I realise the above is awful code but I am just interested in getting thymeleaf to work at the moment.\r\n\r\nBut if I do the following code\r\n\r\n    &lt;table&gt;\r\n        &lt;tr th:each=&quot;owner : ${owners}&quot;&gt;\r\n          &lt;td th:text=&quot;${owner.userName}&quot;&gt;&lt;/td&gt;\r\n          &lt;tr th:each=&quot;bike : ${owner.bicycles}&quot;&gt;\r\n              &lt;td th:text=&quot;${bike.make}&quot;&gt;&lt;/td&gt;\r\n              &lt;td th:text=&quot;${bike.model}&quot;&gt;&lt;/td&gt;  \r\n          &lt;/tr&gt;  \r\n        &lt;/tr&gt;\r\n      &lt;/table&gt;\r\n\r\nthen I get the following console error\r\n\r\n&gt; nested exception is\r\n&gt; org.thymeleaf.exceptions.TemplateProcessingException: Exception\r\n&gt; evaluating SpringEL expression: &quot;owner.bicycles&quot; (template:\r\n&gt; &quot;nutsthymeleaf&quot; - line 23, col 15)] with root cause\r\n&gt; \r\n&gt; org.springframework.expression.spel.SpelEvaluationException: EL1007E:\r\n&gt; Property or field &#39;bicycles&#39; cannot be found on null\r\n\r\nWhat I find confusing is that owner.bicycle[index] works. It shows make and model. Yet owner.bicycles appears to be a null field according to the error.\r\n\r\nSo obviously I am doing something wrong ….\r\n\r\n","title":"Spring Boot / Thymeleaf - loop within a loop","body":"<p>I have an application with two entities that have a bidirectional one to many relationship. Owners and Bicycles.</p>\n\n<p>So getting the owners via curl will give</p>\n\n<pre><code>[\n    {\"id\":1,\n    \"userName\":\"user1\",\n    \"bicycles\":\n        [\n            {\n                \"id\":1,\n                \"make\":\"dawes\",\n                \"model\":\"civic\",\n                \"owner\":1\n            }\n        ]\n    },\n    {\"id\":2,\n    \"userName\":\"user2\",\n    \"bicycles\":\n        [\n            {\n                \"id\":2,\n                \"make\":\"whyte\",\n                \"model\":\"montpellier\",\n                \"owner\":2\n            }\n            ,{\n                \"id\":4,\n                \"make\":\"dahon\",\n                \"model\":\"tern A7\",\n                \"owner\":2\n            }\n        ]\n    } ]\n</code></pre>\n\n<p>which is fine.</p>\n\n<p>If I create a template which loops in a table,</p>\n\n<pre><code>&lt;table&gt;\n    &lt;tr th:each=\"owner : ${owners}\"&gt;\n      &lt;td th:text=\"${owner.userName}\"&gt;&lt;/td&gt;\n      &lt;td th:text=\"${owner.bicycles[0].make}\"\n          th:if=\"${#lists.size(owner.bicycles)} &gt; 0\"&gt;\"&lt;/td&gt;\n      &lt;td th:text=\"${owner.bicycles[0].model}\"\n          th:if=\"${#lists.size(owner.bicycles)} &gt; 0\"&gt;&lt;/td&gt; \n    &lt;/tr&gt;\n  &lt;/table&gt;\n</code></pre>\n\n<p>then I get the expected result in the browser. I realise the above is awful code but I am just interested in getting thymeleaf to work at the moment.</p>\n\n<p>But if I do the following code</p>\n\n<pre><code>&lt;table&gt;\n    &lt;tr th:each=\"owner : ${owners}\"&gt;\n      &lt;td th:text=\"${owner.userName}\"&gt;&lt;/td&gt;\n      &lt;tr th:each=\"bike : ${owner.bicycles}\"&gt;\n          &lt;td th:text=\"${bike.make}\"&gt;&lt;/td&gt;\n          &lt;td th:text=\"${bike.model}\"&gt;&lt;/td&gt;  \n      &lt;/tr&gt;  \n    &lt;/tr&gt;\n  &lt;/table&gt;\n</code></pre>\n\n<p>then I get the following console error</p>\n\n<blockquote>\n  <p>nested exception is\n  org.thymeleaf.exceptions.TemplateProcessingException: Exception\n  evaluating SpringEL expression: \"owner.bicycles\" (template:\n  \"nutsthymeleaf\" - line 23, col 15)] with root cause</p>\n  \n  <p>org.springframework.expression.spel.SpelEvaluationException: EL1007E:\n  Property or field 'bicycles' cannot be found on null</p>\n</blockquote>\n\n<p>What I find confusing is that owner.bicycle[index] works. It shows make and model. Yet owner.bicycles appears to be a null field according to the error.</p>\n\n<p>So obviously I am doing something wrong ….</p>\n"},{"tags":["java","android","gradle","android-gradle-plugin"],"comments":[{"owner":{"display_name":"user6490462"},"score":5,"creation_date":1506596686,"post_id":46467561,"comment_id":79889906,"body_markdown":"maven.google for android studio 2.3 and below versions.\ngoogle()  for android studio 3.0.0 and above. ( it&#39;s the same fuctionality)","body":"maven.google for android studio 2.3 and below versions. google()  for android studio 3.0.0 and above. ( it&#39;s the same fuctionality)"},{"owner":{"account_id":1453935,"reputation":7165,"user_id":1370087,"accept_rate":75,"display_name":"Benjamin"},"score":1,"creation_date":1506597385,"post_id":46467561,"comment_id":79890337,"body_markdown":"See [here](https://stackoverflow.com/a/45854844/1370087) for more details.","body":"See <a href=\"https://stackoverflow.com/a/45854844/1370087\">here</a> for more details."}],"answers":[{"tags":[],"owner":{"account_id":7814463,"reputation":2388,"user_id":5909655,"display_name":"Jayson Chacko"},"down_vote_count":0,"up_vote_count":110,"is_accepted":true,"score":110,"last_activity_date":1506597383,"creation_date":1506597383,"answer_id":46467800,"question_id":46467561,"body_markdown":"The `google()` repository is a shortcut to Google&#39;s maven repository. It was introduced in Gradle 4.x+. The actual repository URL used is `&quot;https://dl.google.com/dl/android/maven2/&quot; as specified [here.][1] https://maven.google.com actually points to the same repository.\r\n\r\nHowever, if you are planning to use the `google()` shortcut, you need Gradle 4.x+, Android Studio 3.x+ and Gradle plugin for Android 3.x+.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/dsl/RepositoryHandler.html#google()","title":"Difference between google() and maven { url &#39;https://maven.google.com&#39; }","body":"<p>The <code>google()</code> repository is a shortcut to Google's maven repository. It was introduced in Gradle 4.x+. The actual repository URL used is `\"<a href=\"https://dl.google.com/dl/android/maven2/\" rel=\"noreferrer\">https://dl.google.com/dl/android/maven2/</a>\" as specified <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/dsl/RepositoryHandler.html#google()\" rel=\"noreferrer\">here.</a> <a href=\"https://maven.google.com\" rel=\"noreferrer\">https://maven.google.com</a> actually points to the same repository.</p>\n\n<p>However, if you are planning to use the <code>google()</code> shortcut, you need Gradle 4.x+, Android Studio 3.x+ and Gradle plugin for Android 3.x+.</p>\n"},{"tags":[],"owner":{"account_id":9022379,"reputation":2364,"user_id":6723008,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1537915801,"creation_date":1525789339,"answer_id":50235942,"question_id":46467561,"body_markdown":"Small correction to the answer above. \r\nIf you try to go to https://dl.google.com/dl/android/maven2/ it gives you a 404.\r\nThe correct url to google maven repository is: \r\n\r\nhttps://dl.google.com/dl/android/maven2/index.html\r\nor just \r\nhttps://maven.google.com\r\n\r\nHere you can check all the supported libraries and the latest versions.","title":"Difference between google() and maven { url &#39;https://maven.google.com&#39; }","body":"<p>Small correction to the answer above. \nIf you try to go to <a href=\"https://dl.google.com/dl/android/maven2/\" rel=\"noreferrer\">https://dl.google.com/dl/android/maven2/</a> it gives you a 404.\nThe correct url to google maven repository is: </p>\n\n<p><a href=\"https://dl.google.com/dl/android/maven2/index.html\" rel=\"noreferrer\">https://dl.google.com/dl/android/maven2/index.html</a>\nor just \n<a href=\"https://maven.google.com\" rel=\"noreferrer\">https://maven.google.com</a></p>\n\n<p>Here you can check all the supported libraries and the latest versions.</p>\n"},{"tags":[],"owner":{"account_id":2264450,"reputation":4051,"user_id":1993577,"display_name":"Ruchira Randana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669740854,"creation_date":1669740854,"answer_id":74617534,"question_id":46467561,"body_markdown":"When using gradle, you can mention multiple repositories which the build tool (gradle) uses to resolve dependencies mentioned in your project.\r\n\r\n    repositories {\r\n        jcenter()\r\n        maven { url &#39;https://maven.google.com&#39; }\r\n        google()\r\n    }\r\nIn the above scenario, you&#39;re mentioning 3 repositories which gradle can use to resolve dependencies—all of which are Maven repositories. \r\n\r\n**1. jcenter()** \r\n* Means the [JCenter Maven][1] repository.\r\n* This is a shortcut available in later versions of gradle\r\n\r\n**2. { url &#39;https://maven.google.com&#39; }**\r\n* This means you are referring a Maven repo hosted at the URL which can be used by gradle to resolve the dependencies.\r\n* If you want, you can actually enter the URL for JCenter and this would be the same as mentioning `jcenter()` in the gradle file.\r\n\r\n**3. google()**\r\n* This means the Google Maven repository\r\n* Similar to the notation `maven()`, this can be used in later versions of gradle only\r\n\r\n\r\n  [1]: https://mvnrepository.com/repos/jcenter","title":"Difference between google() and maven { url &#39;https://maven.google.com&#39; }","body":"<p>When using gradle, you can mention multiple repositories which the build tool (gradle) uses to resolve dependencies mentioned in your project.</p>\n<pre><code>repositories {\n    jcenter()\n    maven { url 'https://maven.google.com' }\n    google()\n}\n</code></pre>\n<p>In the above scenario, you're mentioning 3 repositories which gradle can use to resolve dependencies—all of which are Maven repositories.</p>\n<p><strong>1. jcenter()</strong></p>\n<ul>\n<li>Means the <a href=\"https://mvnrepository.com/repos/jcenter\" rel=\"nofollow noreferrer\">JCenter Maven</a> repository.</li>\n<li>This is a shortcut available in later versions of gradle</li>\n</ul>\n<p><strong>2. { url 'https://maven.google.com' }</strong></p>\n<ul>\n<li>This means you are referring a Maven repo hosted at the URL which can be used by gradle to resolve the dependencies.</li>\n<li>If you want, you can actually enter the URL for JCenter and this would be the same as mentioning <code>jcenter()</code> in the gradle file.</li>\n</ul>\n<p><strong>3. google()</strong></p>\n<ul>\n<li>This means the Google Maven repository</li>\n<li>Similar to the notation <code>maven()</code>, this can be used in later versions of gradle only</li>\n</ul>\n"}],"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68253,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":46467800,"answer_count":3,"score":92,"last_activity_date":1685617673,"creation_date":1506596556,"question_id":46467561,"body_markdown":"Is there any difference between google() and maven { url &#39;https://maven.google.com&#39; } in build.gradle file and if there is any, what is it?\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n            maven { url &#39;https://maven.google.com&#39; }\r\n            // OR\r\n            google()\r\n        }\r\n    }\r\n","title":"Difference between google() and maven { url &#39;https://maven.google.com&#39; }","body":"<p>Is there any difference between google() and maven { url '<a href=\"https://maven.google.com\" rel=\"noreferrer\">https://maven.google.com</a>' } in build.gradle file and if there is any, what is it?</p>\n\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n        maven { url 'https://maven.google.com' }\n        // OR\n        google()\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-commons","ftps","apache-commons-fileupload"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685534724,"post_id":76373127,"comment_id":134673054,"body_markdown":"*at com.sample.simulator.Application.main(Application.java:103)* What *is* line 103? Note that it&#39;s calling logout on a client. You posted the *full* stack trace?","body":"<i>at com.sample.simulator.Application.main(Application.java:103)</i> What <i>is</i> line 103? Note that it&#39;s calling logout on a client. You posted the <i>full</i> stack trace?"},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685535079,"post_id":76373127,"comment_id":134673146,"body_markdown":"@g00se the second exception is a result of the first one. i shorted the sample program a bit. line 103 is the call to ftpClient.logout(); \nthe original (first) exception is thrown on the line ftpClient.connect(server);","body":"@g00se the second exception is a result of the first one. i shorted the sample program a bit. line 103 is the call to ftpClient.logout();  the original (first) exception is thrown on the line ftpClient.connect(server);"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685535983,"post_id":76373127,"comment_id":134673410,"body_markdown":"Please post the *full stack trace* with code to match","body":"Please post the <i>full stack trace</i> with code to match"},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685541403,"post_id":76373127,"comment_id":134674786,"body_markdown":"@g00se I updated the sample source code and added the matching stacktrace.","body":"@g00se I updated the sample source code and added the matching stacktrace."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685542503,"post_id":76373127,"comment_id":134675081,"body_markdown":"And you can, immediately after such an error, successfully execute the curl command?","body":"And you can, immediately after such an error, successfully execute the curl command?"},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685542875,"post_id":76373127,"comment_id":134675199,"body_markdown":"@g00se yes. they are 2 different applications connecting via different methods to the same service and the same user account.","body":"@g00se yes. they are 2 different applications connecting via different methods to the same service and the same user account."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685543231,"post_id":76373127,"comment_id":134675293,"body_markdown":"I&#39;m not entirely sure from that if authorization is finished. Perhaps not, in which case, running with `-Djavax.net.debug=ssl` might reveal something","body":"I&#39;m not entirely sure from that if authorization is finished. Perhaps not, in which case, running with <code>-Djavax.net.debug=ssl</code> might reveal something"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1685544158,"post_id":76373127,"comment_id":134675550,"body_markdown":"I think that the default connection mode is active, which means that a different connection + port is used for file transfers. Can you try calling `ftpClient.enterLocalPassiveMode()`? I don&#39;t know if it&#39;s needed before or after the call to `connect`, you&#39;d have to try that.","body":"I think that the default connection mode is active, which means that a different connection + port is used for file transfers. Can you try calling <code>ftpClient.enterLocalPassiveMode()</code>? I don&#39;t know if it&#39;s needed before or after the call to <code>connect</code>, you&#39;d have to try that."},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685594477,"post_id":76373127,"comment_id":134682602,"body_markdown":"@g00se I added the output with activated debug flag to the original question.","body":"@g00se I added the output with activated debug flag to the original question."},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685594758,"post_id":76373127,"comment_id":134682625,"body_markdown":"@RobSpoor I think so too but i am not sure if it&#39;s possible with this library to reuse the same port for control and data connection. I tried your suggestion but it doesn&#39;t make a difference. I also tried enterLocalActiveMode() but still no change. I have to make the call before connect() because the exception is thrown at connect(). I also tried enterRemotePassiveMode() but for that i ned an open connection.","body":"@RobSpoor I think so too but i am not sure if it&#39;s possible with this library to reuse the same port for control and data connection. I tried your suggestion but it doesn&#39;t make a difference. I also tried enterLocalActiveMode() but still no change. I have to make the call before connect() because the exception is thrown at connect(). I also tried enterRemotePassiveMode() but for that i ned an open connection."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685603252,"post_id":76373127,"comment_id":134683707,"body_markdown":"For local-passive, a _PASV_ command is typically sent before a data transfer.  This will create a separate socket connection, other than the control connection.  You&#39;ll want to call _enterLocalPassiveMode_ after the _login_ call.  Then any subsequent call to _storeFile_ should make a new _PASV_ connection first, before the transfer.","body":"For local-passive, a <i>PASV</i> command is typically sent before a data transfer.  This will create a separate socket connection, other than the control connection.  You&#39;ll want to call <i>enterLocalPassiveMode</i> after the <i>login</i> call.  Then any subsequent call to <i>storeFile</i> should make a new <i>PASV</i> connection first, before the transfer."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685604157,"post_id":76373127,"comment_id":134683899,"body_markdown":"Did you turn on ssl debugging? There could be ssl manoeuvres involved with the *transfer* that are failing","body":"Did you turn on ssl debugging? There could be ssl manoeuvres involved with the <i>transfer</i> that are failing"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685605878,"post_id":76373127,"comment_id":134684195,"body_markdown":"Also worthwhile putting Curl into trace mode to see what it&#39;s doing, e.g. whether using PASV or EPSV. Maybe do that *before* my previous suggestion","body":"Also worthwhile putting Curl into trace mode to see what it&#39;s doing, e.g. whether using PASV or EPSV. Maybe do that <i>before</i> my previous suggestion"},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685609782,"post_id":76373127,"comment_id":134685035,"body_markdown":"@g00se Yes, i added SSL debug output of the sample program to the original question. Also i added the curl verbose output.","body":"@g00se Yes, i added SSL debug output of the sample program to the original question. Also i added the curl verbose output."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685610642,"post_id":76373127,"comment_id":134685219,"body_markdown":"*Failed EPSV attempt. Disabling EPSV* could be of interest. You might find EPSV is enabled *by default* for IP4 connections. Try turning it off","body":"<i>Failed EPSV attempt. Disabling EPSV</i> could be of interest. You might find EPSV is enabled <i>by default</i> for IP4 connections. Try turning it off"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1685614795,"post_id":76373127,"comment_id":134686104,"body_markdown":"@g00se: _curl_ tried EPSV for IP4, but for commons-net it is already disabled: https://apache.googlesource.com/commons-net/+/refs/heads/master/src/main/java/org/apache/commons/net/ftp/FTPClient.java#588 . OP: in summary you need to set explicit SSL/TLS AND enterLocalPassiveMode.","body":"@g00se: <i>curl</i> tried EPSV for IP4, but for commons-net it is already disabled: <a href=\"https://apache.googlesource.com/commons-net/+/refs/heads/master/src/main/java/org/apache/commons/net/ftp/FTPClient.java#588\" rel=\"nofollow noreferrer\">apache.googlesource.com/commons-net/+/refs/heads/master/src/&zwnj;&#8203;&hellip;</a> . OP: in summary you need to set explicit SSL/TLS AND enterLocalPassiveMode."},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685617110,"post_id":76373127,"comment_id":134686588,"body_markdown":"@dave_thompson_085 Thanks for your comment. I updated the OP with the log output when using explicit mode and localPassiveMode. I do not understand why i get a permission error this way when the same thing works with cURL.","body":"@dave_thompson_085 Thanks for your comment. I updated the OP with the log output when using explicit mode and localPassiveMode. I do not understand why i get a permission error this way when the same thing works with cURL."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1685691099,"post_id":76373127,"comment_id":134699136,"body_markdown":"Looking at the logs the obvious difference is your system is not sending PROT, and if the server demands SSL/TLS for control it makes sense it would demand it for data also. I would have thought this would be done automatically but apparently not. From the source it looks like you can just call `.execPROT(&quot;P&quot;)` -- try that.","body":"Looking at the logs the obvious difference is your system is not sending PROT, and if the server demands SSL/TLS for control it makes sense it would demand it for data also. I would have thought this would be done automatically but apparently not. From the source it looks like you can just call <code>.execPROT(&quot;P&quot;)</code> -- try that."},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685692023,"post_id":76373127,"comment_id":134699310,"body_markdown":"@dave_thompson_085 Thank you very much for that hint! It was not the full story though because i had to add a execPBSZ(0); before the call to execPROT(&quot;P&quot;); (and enterLocalPassiveMode()). Please add an answer and i will accept.","body":"@dave_thompson_085 Thank you very much for that hint! It was not the full story though because i had to add a execPBSZ(0); before the call to execPROT(&quot;P&quot;); (and enterLocalPassiveMode()). Please add an answer and i will accept."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685693868,"post_id":76373127,"comment_id":134699686,"body_markdown":"Very nice detective work. Perhaps this weakness should be brought to the attention of the Apache devs? Of course, it would be much better to be using SSH rather than this patched-up old protocol. If that&#39;s possible, I&#39;d strongly advise it","body":"Very nice detective work. Perhaps this weakness should be brought to the attention of the Apache devs? Of course, it would be much better to be using SSH rather than this patched-up old protocol. If that&#39;s possible, I&#39;d strongly advise it"},{"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"score":0,"creation_date":1685695506,"post_id":76373127,"comment_id":134700004,"body_markdown":"@g00se Thank you too for your support! In our project unfortunately we are bound to FTPS because of constraints of a protocol that is implemented on the devices uploading the files. Otherwise 100% agree.","body":"@g00se Thank you too for your support! In our project unfortunately we are bound to FTPS because of constraints of a protocol that is implemented on the devices uploading the files. Otherwise 100% agree."}],"owner":{"account_id":12835035,"reputation":2652,"user_id":9284962,"display_name":"Markus S."},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685617061,"creation_date":1685533520,"question_id":76373127,"body_markdown":"The following command works to upload a file to our FTPS service provider:\r\n\r\n    curl --ftp-ssl -T test.txt ftp://username:password@ftp.hidrive.ionos.com/public/test.txt\r\n\r\nI would like to achieve the same upload with Java using Apache Commons FTPSClient.\r\nI created this small sample program \r\n\r\n    package com.sample.simulator;\r\n    \r\n    import org.apache.commons.net.PrintCommandListener;\r\n    import org.apache.commons.net.ftp.FTP;\r\n    import org.apache.commons.net.ftp.FTPSClient;\r\n    \r\n    import java.io.*;\r\n    \r\n    public class Application  {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String server = &quot;ftp.hidrive.ionos.com&quot;;\r\n            String user = &quot;username&quot;;\r\n            String pass = &quot;password&quot;;\r\n    \r\n            FTPSClient ftpClient = new FTPSClient(true);\r\n    \r\n            ftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\r\n    \r\n            try {\r\n                ftpClient.connect(server);\r\n    \r\n                var success = ftpClient.login(user, pass);\r\n                if(success) {\r\n                    System.out.println(&quot;Login successful&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Login failed&quot;);\r\n                }\r\n    \r\n                ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n    \r\n                File firstLocalFile = new File(&quot;C:/Temp/test.txt&quot;);\r\n                InputStream inputStream = new FileInputStream(firstLocalFile);\r\n    \r\n                String firstRemoteFile = &quot;test.txt&quot;;\r\n    \r\n                ftpClient.changeWorkingDirectory(&quot;public&quot;);\r\n                var currentWorkingDir = ftpClient.printWorkingDirectory();\r\n                System.out.println(&quot;Current working directory &quot; + currentWorkingDir);\r\n    \r\n                System.out.println(&quot;Start uploading first file&quot;);\r\n    \r\n                boolean done = ftpClient.storeFile(firstRemoteFile, inputStream);\r\n    \r\n                inputStream.close();\r\n                if (done) {\r\n                    System.out.println(&quot;The first file is uploaded successfully.&quot;);\r\n                } else {\r\n                    var reply = ftpClient.getReplyString();\r\n                    System.out.println(&quot;Upload failed &quot; + reply );\r\n                }\r\n    \r\n                inputStream.close();\r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;Error: &quot; + ex.getMessage());\r\n                ex.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (ftpClient.isConnected()) {\r\n                        ftpClient.disconnect();\r\n                    }\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nbut it always throws the following exception:\r\n\r\n\r\n\r\n    java.net.SocketException: Connection reset by peer: socket write error\r\n    \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n    \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n    \tat java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\r\n    \tat java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n    \tat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\r\n    \tat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\r\n    \tat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\r\n    \tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\r\n    \tat org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\r\n    \tat org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\r\n    \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\r\n    \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\r\n    \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\r\n    \tat com.sample.simulator.Application.main(Application.java:21)\r\n\r\n\r\n\r\n\r\n\r\nSetting the isImplicit - Flag in the Constructor of FTPSClient to false goes further but fails at the upload stage (because probably a different port would be used for data connection which is not setup at our provider).\r\n\r\n    220 Another visitor. Stay a while...\r\n    AUTH TLS\r\n    234 AUTH SSL OK.\r\n    USER username\r\n    331 FTP login okay, send password.\r\n    PASS password\r\n    230 User logged in, proceed.\r\n    Login successful\r\n    TYPE I\r\n    200 Using BINARY mode to transfer data.\r\n    CWD public\r\n    250 Directory changed to /public\r\n    PWD\r\n    257 &quot;/public&quot; is current directory.\r\n    Current working directory /public\r\n    Start uploading first file\r\n    PORT 192,168,0,4,243,243\r\n    550 Permission denied.\r\n    Upload failed 550 Permission denied.\r\n    \r\n    QUIT\r\n    221 Goodbye.\r\n\r\n\r\nUpdate:\r\nWhen activating the flag -Djavax.net.debug=ssl i get the following output\r\n\r\n    C:\\Users\\xxx\\.jdks\\corretto-11.0.18\\bin\\java.exe -Djavax.net.debug=ssl &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.3\\lib\\idea_rt.jar=59373:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.3\\bin&quot; -Dfile.encoding=UTF-8 @C:\\Users\\xxx\\AppData\\Local\\Temp\\idea_arg_file1613146868 com.sample.simulator.Application -Djavax.net.debug=ssl\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 06:37:30.918 CEST|SSLCipher.java:464|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\n    javax.net.ssl|WARNING|01|main|2023-06-01 06:37:31.262 CEST|SSLSocketImpl.java:1654|handling exception (\r\n    &quot;throwable&quot; : {\r\n      java.net.SocketException: Connection reset by peer: socket write error\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n      \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n      \tat java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\r\n      \tat java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n      \tat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\r\n      \tat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\r\n      \tat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\r\n      \tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\r\n      \tat org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\r\n      \tat org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\r\n      \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\r\n      \tat com.sample.simulator.Application.main(Application.java:21)}\r\n    \r\n    )\r\n    javax.net.ssl|ERROR|01|main|2023-06-01 06:37:31.263 CEST|TransportContext.java:345|Fatal (UNEXPECTED_MESSAGE): Connection reset by peer: socket write error (\r\n    &quot;throwable&quot; : {\r\n      java.net.SocketException: Connection reset by peer: socket write error\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n      \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n      \tat java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\r\n      \tat java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n      \tat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\r\n      \tat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\r\n      \tat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\r\n      \tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\r\n      \tat org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\r\n      \tat org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\r\n      \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\r\n      \tat com.sample.simulator.Application.main(Application.java:21)}\r\n    \r\n    )\r\n    javax.net.ssl|WARNING|01|main|2023-06-01 06:37:31.264 CEST|TransportContext.java:392|Fatal: failed to send fatal alert UNEXPECTED_MESSAGE (\r\n    &quot;throwable&quot; : {\r\n      java.net.SocketException: Connection reset by peer: socket write error\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n      \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n      \tat java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\r\n      \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:389)\r\n      \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:296)\r\n      \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1682)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:466)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\r\n      \tat org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\r\n      \tat org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\r\n      \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\r\n      \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\r\n      \tat com.sample.simulator.Application.main(Application.java:21)}\r\n    \r\n    )\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 06:37:31.264 CEST|SSLSocketImpl.java:1737|close the underlying socket\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 06:37:31.264 CEST|SSLSocketImpl.java:1756|close the SSL connection (initiative)\r\n    java.net.SocketException: Connection reset by peer: socket write error\r\n    \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n    \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n    \tat java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\r\n    \tat java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n    \tat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\r\n    \tat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\r\n    \tat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\r\n    \tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\r\n    \tat org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\r\n    \tat org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\r\n    \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\r\n    \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\r\n    \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\r\n    \tat com.sample.simulator.Application.main(Application.java:21)\r\n    Error: Connection reset by peer: socket write error\r\n    \r\n    Process finished with exit code 0\r\n\r\nUpdate 2:\r\nThis is the verbose log output of the above curl command:\r\n\r\n    curl -v --ftp-ssl -T test.txt ftp://username:password@ftp.hidrive.ionos.com/public/testx2.txt\r\n    \r\n    Warning: --ssl is an insecure option, consider --ssl-reqd instead\r\n      % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                     Dload  Upload   Total   Spent    Left  Speed\r\n      0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 85.214.3.104:21...\r\n    * Connected to ftp.hidrive.ionos.com (85.214.3.104) port 21 (#0)\r\n    &lt; 220 Another visitor. Stay a while...\r\n    &gt; AUTH SSL\r\n    &lt; 234 AUTH SSL OK.\r\n    * schannel: disabled automatic use of client certificate\r\n    &gt; USER username\r\n    * schannel: remote party requests renegotiation\r\n    * schannel: renegotiating SSL/TLS connection\r\n    * schannel: SSL/TLS connection renegotiated\r\n    * schannel: remote party requests renegotiation\r\n    * schannel: renegotiating SSL/TLS connection\r\n    * schannel: SSL/TLS connection renegotiated\r\n    &lt; 331 FTP login okay, send password.\r\n    &gt; PASS password\r\n    &lt; 230 User logged in, proceed.\r\n    &gt; PBSZ 0\r\n    &lt; 200 PBSZ=0\r\n    &gt; PROT P\r\n    &lt; 200 Switched to protected data transfer mode.\r\n    &gt; PWD\r\n    &lt; 257 &quot;/&quot; is current directory.\r\n    * Entry path is &#39;/&#39;\r\n    &gt; CWD public\r\n    * ftp_perform ends with SECONDARY: 0\r\n    &lt; 250 Directory changed to /public\r\n    &gt; EPSV\r\n    * Connect data stream passively\r\n    &lt; 500 Syntax error, command unrecognized.\r\n    * Failed EPSV attempt. Disabling EPSV\r\n    &gt; PASV\r\n    &lt; 227 Entering Passive Mode (85,214,3,104,230,253).\r\n    * Skip 85.214.3.104 for data connection, re-use ftp.hidrive.ionos.com instead\r\n    * Connecting to 85.214.3.104 (85.214.3.104) port 59133\r\n    *   Trying 85.214.3.104:59133...\r\n    * Connected to ftp.hidrive.ionos.com (85.214.3.104) port 21 (#0)\r\n    &gt; TYPE I\r\n    &lt; 200 Using BINARY mode to transfer data.\r\n    &gt; STOR testx2.txt\r\n    &lt; 150 Opening BINARY mode SSL data connection.\r\n    } [8 bytes data]\r\n    * We are completely uploaded and fine\r\n    * Remembering we are in dir &quot;public/&quot;\r\n    * schannel: shutting down SSL/TLS connection with ftp.hidrive.ionos.com port 21\r\n    &lt; 226 Transfer complete. Closing data connection.\r\n    100     8    0     0  100     8      0     10 --:--:-- --:--:-- --:--:--    10\r\n    * Connection #0 to host ftp.hidrive.ionos.com left intact\r\n\r\n\r\nUpdate 3:\r\n\r\nWhen i use passive mode (new FTPSClient(false)) and entering localPassiveMode connect and login works but i get a permission error when uploading the file. How can this be when i am using the same credentials and the same folder as with cURL?\r\n\r\n    220 Another visitor. Stay a while...\r\n    AUTH TLS\r\n    234 AUTH SSL OK.\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.190 CEST|SSLCipher.java:464|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.674 CEST|SSLCipher.java:1866|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\n    countdown value = 137438953472\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.678 CEST|SSLCipher.java:2020|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\n    countdown value = 137438953472\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.729 CEST|SSLCipher.java:1866|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\n    countdown value = 137438953472\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.731 CEST|SSLCipher.java:2020|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\n    countdown value = 137438953472\r\n    USER username\r\n    331 FTP login okay, send password.\r\n    PASS password\r\n    230 User logged in, proceed.\r\n    Login successful\r\n    TYPE I\r\n    200 Using BINARY mode to transfer data.\r\n    CWD public\r\n    250 Directory changed to /public\r\n    PWD\r\n    257 &quot;/public&quot; is current directory.\r\n    Current working directory /public\r\n    Start uploading first file\r\n    PASV\r\n    550 Permission denied.\r\n    Upload failed 550 Permission denied.\r\n    \r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:28.006 CEST|SSLSocketImpl.java:578|duplex close of SSLSocket\r\n    javax.net.ssl|DEBUG|01|main|2023-06-01 12:54:28.008 CEST|SSLSocketImpl.java:1756|close the SSL connection (passive)\r\n\r\n\r\nIs there any option i am missing which would correctly upload the file as the cURL command does? \r\n\r\n\r\n","title":"FTPS Upload works with cURL command but not with Apache Commons FTPClient","body":"<p>The following command works to upload a file to our FTPS service provider:</p>\n<pre><code>curl --ftp-ssl -T test.txt ftp://username:password@ftp.hidrive.ionos.com/public/test.txt\n</code></pre>\n<p>I would like to achieve the same upload with Java using Apache Commons FTPSClient.\nI created this small sample program</p>\n<pre><code>package com.sample.simulator;\n\nimport org.apache.commons.net.PrintCommandListener;\nimport org.apache.commons.net.ftp.FTP;\nimport org.apache.commons.net.ftp.FTPSClient;\n\nimport java.io.*;\n\npublic class Application  {\n\n    public static void main(String[] args) throws IOException {\n        String server = &quot;ftp.hidrive.ionos.com&quot;;\n        String user = &quot;username&quot;;\n        String pass = &quot;password&quot;;\n\n        FTPSClient ftpClient = new FTPSClient(true);\n\n        ftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\n\n        try {\n            ftpClient.connect(server);\n\n            var success = ftpClient.login(user, pass);\n            if(success) {\n                System.out.println(&quot;Login successful&quot;);\n            } else {\n                System.out.println(&quot;Login failed&quot;);\n            }\n\n            ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n\n            File firstLocalFile = new File(&quot;C:/Temp/test.txt&quot;);\n            InputStream inputStream = new FileInputStream(firstLocalFile);\n\n            String firstRemoteFile = &quot;test.txt&quot;;\n\n            ftpClient.changeWorkingDirectory(&quot;public&quot;);\n            var currentWorkingDir = ftpClient.printWorkingDirectory();\n            System.out.println(&quot;Current working directory &quot; + currentWorkingDir);\n\n            System.out.println(&quot;Start uploading first file&quot;);\n\n            boolean done = ftpClient.storeFile(firstRemoteFile, inputStream);\n\n            inputStream.close();\n            if (done) {\n                System.out.println(&quot;The first file is uploaded successfully.&quot;);\n            } else {\n                var reply = ftpClient.getReplyString();\n                System.out.println(&quot;Upload failed &quot; + reply );\n            }\n\n            inputStream.close();\n        } catch (IOException ex) {\n            System.out.println(&quot;Error: &quot; + ex.getMessage());\n            ex.printStackTrace();\n        } finally {\n            try {\n                if (ftpClient.isConnected()) {\n                    ftpClient.disconnect();\n                }\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>but it always throws the following exception:</p>\n<pre><code>java.net.SocketException: Connection reset by peer: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\n    at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\n    at java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\n    at java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\n    at java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\n    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\n    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\n    at org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\n    at com.sample.simulator.Application.main(Application.java:21)\n</code></pre>\n<p>Setting the isImplicit - Flag in the Constructor of FTPSClient to false goes further but fails at the upload stage (because probably a different port would be used for data connection which is not setup at our provider).</p>\n<pre><code>220 Another visitor. Stay a while...\nAUTH TLS\n234 AUTH SSL OK.\nUSER username\n331 FTP login okay, send password.\nPASS password\n230 User logged in, proceed.\nLogin successful\nTYPE I\n200 Using BINARY mode to transfer data.\nCWD public\n250 Directory changed to /public\nPWD\n257 &quot;/public&quot; is current directory.\nCurrent working directory /public\nStart uploading first file\nPORT 192,168,0,4,243,243\n550 Permission denied.\nUpload failed 550 Permission denied.\n\nQUIT\n221 Goodbye.\n</code></pre>\n<p>Update:\nWhen activating the flag -Djavax.net.debug=ssl i get the following output</p>\n<pre><code>C:\\Users\\xxx\\.jdks\\corretto-11.0.18\\bin\\java.exe -Djavax.net.debug=ssl &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.3\\lib\\idea_rt.jar=59373:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.3\\bin&quot; -Dfile.encoding=UTF-8 @C:\\Users\\xxx\\AppData\\Local\\Temp\\idea_arg_file1613146868 com.sample.simulator.Application -Djavax.net.debug=ssl\njavax.net.ssl|DEBUG|01|main|2023-06-01 06:37:30.918 CEST|SSLCipher.java:464|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\njavax.net.ssl|WARNING|01|main|2023-06-01 06:37:31.262 CEST|SSLSocketImpl.java:1654|handling exception (\n&quot;throwable&quot; : {\n  java.net.SocketException: Connection reset by peer: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\n    at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\n    at java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\n    at java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\n    at java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\n    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\n    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\n    at org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\n    at com.sample.simulator.Application.main(Application.java:21)}\n\n)\njavax.net.ssl|ERROR|01|main|2023-06-01 06:37:31.263 CEST|TransportContext.java:345|Fatal (UNEXPECTED_MESSAGE): Connection reset by peer: socket write error (\n&quot;throwable&quot; : {\n  java.net.SocketException: Connection reset by peer: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\n    at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\n    at java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\n    at java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\n    at java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\n    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\n    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\n    at org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\n    at com.sample.simulator.Application.main(Application.java:21)}\n\n)\njavax.net.ssl|WARNING|01|main|2023-06-01 06:37:31.264 CEST|TransportContext.java:392|Fatal: failed to send fatal alert UNEXPECTED_MESSAGE (\n&quot;throwable&quot; : {\n  java.net.SocketException: Connection reset by peer: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:389)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:296)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\n    at java.base/sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1682)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:466)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\n    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\n    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\n    at org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\n    at com.sample.simulator.Application.main(Application.java:21)}\n\n)\njavax.net.ssl|DEBUG|01|main|2023-06-01 06:37:31.264 CEST|SSLSocketImpl.java:1737|close the underlying socket\njavax.net.ssl|DEBUG|01|main|2023-06-01 06:37:31.264 CEST|SSLSocketImpl.java:1756|close the SSL connection (initiative)\njava.net.SocketException: Connection reset by peer: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:271)\n    at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:647)\n    at java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\n    at java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:112)\n    at java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:233)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:449)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427)\n    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:283)\n    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:219)\n    at org.apache.commons.net.SocketClient._connect(SocketClient.java:254)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:212)\n    at org.apache.commons.net.SocketClient.connect(SocketClient.java:316)\n    at com.sample.simulator.Application.main(Application.java:21)\nError: Connection reset by peer: socket write error\n\nProcess finished with exit code 0\n</code></pre>\n<p>Update 2:\nThis is the verbose log output of the above curl command:</p>\n<pre><code>curl -v --ftp-ssl -T test.txt ftp://username:password@ftp.hidrive.ionos.com/public/testx2.txt\n\nWarning: --ssl is an insecure option, consider --ssl-reqd instead\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 85.214.3.104:21...\n* Connected to ftp.hidrive.ionos.com (85.214.3.104) port 21 (#0)\n&lt; 220 Another visitor. Stay a while...\n&gt; AUTH SSL\n&lt; 234 AUTH SSL OK.\n* schannel: disabled automatic use of client certificate\n&gt; USER username\n* schannel: remote party requests renegotiation\n* schannel: renegotiating SSL/TLS connection\n* schannel: SSL/TLS connection renegotiated\n* schannel: remote party requests renegotiation\n* schannel: renegotiating SSL/TLS connection\n* schannel: SSL/TLS connection renegotiated\n&lt; 331 FTP login okay, send password.\n&gt; PASS password\n&lt; 230 User logged in, proceed.\n&gt; PBSZ 0\n&lt; 200 PBSZ=0\n&gt; PROT P\n&lt; 200 Switched to protected data transfer mode.\n&gt; PWD\n&lt; 257 &quot;/&quot; is current directory.\n* Entry path is '/'\n&gt; CWD public\n* ftp_perform ends with SECONDARY: 0\n&lt; 250 Directory changed to /public\n&gt; EPSV\n* Connect data stream passively\n&lt; 500 Syntax error, command unrecognized.\n* Failed EPSV attempt. Disabling EPSV\n&gt; PASV\n&lt; 227 Entering Passive Mode (85,214,3,104,230,253).\n* Skip 85.214.3.104 for data connection, re-use ftp.hidrive.ionos.com instead\n* Connecting to 85.214.3.104 (85.214.3.104) port 59133\n*   Trying 85.214.3.104:59133...\n* Connected to ftp.hidrive.ionos.com (85.214.3.104) port 21 (#0)\n&gt; TYPE I\n&lt; 200 Using BINARY mode to transfer data.\n&gt; STOR testx2.txt\n&lt; 150 Opening BINARY mode SSL data connection.\n} [8 bytes data]\n* We are completely uploaded and fine\n* Remembering we are in dir &quot;public/&quot;\n* schannel: shutting down SSL/TLS connection with ftp.hidrive.ionos.com port 21\n&lt; 226 Transfer complete. Closing data connection.\n100     8    0     0  100     8      0     10 --:--:-- --:--:-- --:--:--    10\n* Connection #0 to host ftp.hidrive.ionos.com left intact\n</code></pre>\n<p>Update 3:</p>\n<p>When i use passive mode (new FTPSClient(false)) and entering localPassiveMode connect and login works but i get a permission error when uploading the file. How can this be when i am using the same credentials and the same folder as with cURL?</p>\n<pre><code>220 Another visitor. Stay a while...\nAUTH TLS\n234 AUTH SSL OK.\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.190 CEST|SSLCipher.java:464|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.674 CEST|SSLCipher.java:1866|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.678 CEST|SSLCipher.java:2020|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.729 CEST|SSLCipher.java:1866|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:27.731 CEST|SSLCipher.java:2020|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\nUSER username\n331 FTP login okay, send password.\nPASS password\n230 User logged in, proceed.\nLogin successful\nTYPE I\n200 Using BINARY mode to transfer data.\nCWD public\n250 Directory changed to /public\nPWD\n257 &quot;/public&quot; is current directory.\nCurrent working directory /public\nStart uploading first file\nPASV\n550 Permission denied.\nUpload failed 550 Permission denied.\n\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:28.006 CEST|SSLSocketImpl.java:578|duplex close of SSLSocket\njavax.net.ssl|DEBUG|01|main|2023-06-01 12:54:28.008 CEST|SSLSocketImpl.java:1756|close the SSL connection (passive)\n</code></pre>\n<p>Is there any option i am missing which would correctly upload the file as the cURL command does?</p>\n"},{"tags":["java","gson"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685616858,"creation_date":1685489041,"answer_id":76369203,"question_id":76368945,"body_markdown":"Assuming that you want to read the JSON from a file and parse it into a Desc object:\r\n```java\r\nGson gson = new Gson();\r\nReader reader = Files.newBufferedReader(Paths.get(&quot;desc.json&quot;));\r\nDesc desc= gson.fromJson(reader,Desc.class);\r\nreader.close();\r\n```","title":"How to convert JSON to Java class using Gson&#39;s fromJson method?","body":"<p>Assuming that you want to read the JSON from a file and parse it into a Desc object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new Gson();\nReader reader = Files.newBufferedReader(Paths.get(&quot;desc.json&quot;));\nDesc desc= gson.fromJson(reader,Desc.class);\nreader.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24346889,"reputation":74,"user_id":18283306,"display_name":"Dylan LaMott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685511539,"creation_date":1685511539,"answer_id":76370457,"question_id":76368945,"body_markdown":"If you already have this in an object then it is simple as this\r\n\r\n    Desc desc = new Gson().fromJson(jsonString, Desc.class);\r\n\r\nAlso for creating class models don&#39;t waste time making your own... just use this: https://www.jsonschema2pojo.org/\r\n\r\nSaves headache and time","title":"How to convert JSON to Java class using Gson&#39;s fromJson method?","body":"<p>If you already have this in an object then it is simple as this</p>\n<pre><code>Desc desc = new Gson().fromJson(jsonString, Desc.class);\n</code></pre>\n<p>Also for creating class models don't waste time making your own... just use this: <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">https://www.jsonschema2pojo.org/</a></p>\n<p>Saves headache and time</p>\n"}],"owner":{"account_id":28611686,"reputation":15,"user_id":21906550,"display_name":"DiegoM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76370457,"answer_count":2,"score":-1,"last_activity_date":1685616858,"creation_date":1685484261,"question_id":76368945,"body_markdown":"I have a message in JSON and I want convert it to a Java object using the &quot;fromJson&quot; method of the Gson library.\r\n\r\nHow can I do this?\r\n\r\nI have the message JSON in this format:\r\n```json\r\n{\r\n   &quot;desc&quot;:[\r\n      {\r\n         &quot;name&quot;:&quot;id&quot;,\r\n         &quot;desc&quot;:{\r\n            &quot;ip_arduino&quot;:&quot;value&quot;,\r\n            &quot;id_house&quot;:&quot;value&quot;,\r\n            &quot;house_address&quot;:&quot;value&quot;\r\n         }\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;P1&quot;,\r\n         &quot;desc&quot;:{\r\n            &quot;field&quot;:&quot;panel1&quot;,\r\n            &quot;value&quot;:0\r\n         }\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;P2&quot;,\r\n         &quot;desc&quot;:{\r\n            &quot;field&quot;:&quot;panel3&quot;,\r\n            &quot;value&quot;:0\r\n         }\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;P3&quot;,\r\n         &quot;desc&quot;:{\r\n            &quot;field&quot;:&quot;panel3&quot;,\r\n            &quot;value&quot;:0\r\n         }\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;P4&quot;,\r\n         &quot;desc&quot;:{\r\n            &quot;field&quot;:&quot;panel4&quot;,\r\n            &quot;value&quot;:0\r\n         }\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\nI have tried this, but it does not work. I have printed some value, but it is null: \r\n\r\njsonDesc.java file\r\n```java\r\npublic class jsonDesc {\r\n\r\n    private ArrayList&lt;Desc&gt; desc = new ArrayList();\r\n    \r\n}\r\n```\r\n\r\n\r\nand Desc.java file\r\n\r\n```java\r\npublic class Desc {\r\n    String name;\r\n    desc desc;\r\n\r\n    desc1 desc1;\r\n\r\n    public class desc{\r\n       String ip_arduino;\r\n       String id_house;\r\n       String house_address;\r\n    }\r\n\r\n    public class desc1{\r\n        String name;\r\n        desc desc;\r\n        public class desc{\r\n            String field;\r\n            String value;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"How to convert JSON to Java class using Gson&#39;s fromJson method?","body":"<p>I have a message in JSON and I want convert it to a Java object using the &quot;fromJson&quot; method of the Gson library.</p>\n<p>How can I do this?</p>\n<p>I have the message JSON in this format:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;desc&quot;:[\n      {\n         &quot;name&quot;:&quot;id&quot;,\n         &quot;desc&quot;:{\n            &quot;ip_arduino&quot;:&quot;value&quot;,\n            &quot;id_house&quot;:&quot;value&quot;,\n            &quot;house_address&quot;:&quot;value&quot;\n         }\n      },\n      {\n         &quot;name&quot;:&quot;P1&quot;,\n         &quot;desc&quot;:{\n            &quot;field&quot;:&quot;panel1&quot;,\n            &quot;value&quot;:0\n         }\n      },\n      {\n         &quot;name&quot;:&quot;P2&quot;,\n         &quot;desc&quot;:{\n            &quot;field&quot;:&quot;panel3&quot;,\n            &quot;value&quot;:0\n         }\n      },\n      {\n         &quot;name&quot;:&quot;P3&quot;,\n         &quot;desc&quot;:{\n            &quot;field&quot;:&quot;panel3&quot;,\n            &quot;value&quot;:0\n         }\n      },\n      {\n         &quot;name&quot;:&quot;P4&quot;,\n         &quot;desc&quot;:{\n            &quot;field&quot;:&quot;panel4&quot;,\n            &quot;value&quot;:0\n         }\n      }\n   ]\n}\n</code></pre>\n<p>I have tried this, but it does not work. I have printed some value, but it is null:</p>\n<p>jsonDesc.java file</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class jsonDesc {\n\n    private ArrayList&lt;Desc&gt; desc = new ArrayList();\n    \n}\n</code></pre>\n<p>and Desc.java file</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Desc {\n    String name;\n    desc desc;\n\n    desc1 desc1;\n\n    public class desc{\n       String ip_arduino;\n       String id_house;\n       String house_address;\n    }\n\n    public class desc1{\n        String name;\n        desc desc;\n        public class desc{\n            String field;\n            String value;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","webview"],"owner":{"account_id":26712899,"reputation":21,"user_id":20317930,"display_name":"Ayan Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685616816,"creation_date":1685616816,"question_id":76381156,"body_markdown":"i will try to handel webview onReceivedError and onReceivedHttpError, i will show error laytout when webview ReceivedError or ReceivedHttpError and hide webview and when user refresh than error layout hide and webview show but problem is webview onReceivedError is work correctly but onReceivedHttpError not working means error layout not showing webview directly show error, please help me ...\r\n\r\ni will get some http errors which will display on webview directly :- net::ERR_INTERNET_DISCONNECTED, net::ERR_HTTP_RESPONSE_CODE_FAILURE.. \r\n\r\nthis is my code :- \r\n\r\n```\r\noverride fun onProgressChanged(view: WebView?, newProgress: Int) {\r\n                binding.progressBar.progress = newProgress\r\n                if (newProgress == 100) {\r\n                    view?.visibility = View.VISIBLE\r\n                    binding.errorLayout.visibility = View.GONE\r\n                }\r\n\r\n                if (newProgress &gt; 70) {\r\n                    binding.swipeRefreshLayout.isRefreshing = false\r\n                    binding.progressBar.visibility = View.INVISIBLE\r\n\r\n                } else {\r\n                    binding.progressBar.visibility = View.VISIBLE\r\n                }\r\n            }\r\n```\r\n\r\nonReceivedError code :- \r\n\r\n```\r\noverride fun onReceivedError(\r\n                view: WebView?,\r\n                request: WebResourceRequest?,\r\n                error: WebResourceError?\r\n            ) {\r\n                if (error != null &amp;&amp; error.errorCode != -1) {\r\n                    val errorCode = error.errorCode\r\n                    val errorMessage = error.description.toString()\r\n                    binding.errorLayout.visibility = View.VISIBLE\r\n                    binding.webView.visibility = View.GONE\r\n                    isErrorOccurred = true\r\n                    handleError(errorCode, errorMessage)\r\n                }\r\n                super.onReceivedError(view, request, error)\r\n            }\r\n```\r\n\r\nonReceivedHttpError code :- \r\n\r\n```\r\noverride fun onReceivedHttpError(\r\n                view: WebView?,\r\n                request: WebResourceRequest?,\r\n                errorResponse: WebResourceResponse?\r\n            ) {\r\n                if (errorResponse != null &amp;&amp; errorResponse.statusCode != 404) {\r\n                    val errorCode = errorResponse.statusCode\r\n                    val errorMessage = errorResponse.reasonPhrase.toString()\r\n                    binding.errorLayout.visibility = View.VISIBLE\r\n                    binding.webView.visibility = View.GONE\r\n                    isErrorOccurred = true\r\n                    handleError(errorCode, errorMessage)\r\n                }\r\n                super.onReceivedHttpError(view, request, errorResponse)\r\n            }\r\n```\r\n\r\n\r\n```\r\nfun handleError(errorCode: Int?, errorDes: String) {\r\n        var message: String? = null\r\n        when (errorCode) {\r\n            WebViewClient.ERROR_AUTHENTICATION -&gt; message = &quot;User authentication failed on server&quot;\r\n            WebViewClient.ERROR_TIMEOUT -&gt; message =\r\n                &quot;The server is taking too much time to communicate. Try again later.&quot;\r\n\r\n            WebViewClient.ERROR_TOO_MANY_REQUESTS -&gt; message = &quot;Too many requests during this load&quot;\r\n            WebViewClient.ERROR_UNKNOWN -&gt; message = &quot;Generic error&quot;\r\n            WebViewClient.ERROR_BAD_URL -&gt; message = &quot;Check entered URL..&quot;\r\n            WebViewClient.ERROR_CONNECT -&gt; message = &quot;Failed to connect to the server&quot;\r\n            WebViewClient.ERROR_FAILED_SSL_HANDSHAKE -&gt; message = &quot;Failed to perform SSL handshake&quot;\r\n            WebViewClient.ERROR_HOST_LOOKUP -&gt; message = &quot;Server or proxy hostname lookup failed&quot;\r\n            WebViewClient.ERROR_PROXY_AUTHENTICATION -&gt; message =\r\n                &quot;User authentication failed on proxy&quot;\r\n\r\n            WebViewClient.ERROR_REDIRECT_LOOP -&gt; message = &quot;Too many redirects&quot;\r\n            WebViewClient.ERROR_UNSUPPORTED_AUTH_SCHEME -&gt; message =\r\n                &quot;Unsupported authentication scheme (not basic or digest)&quot;\r\n\r\n            WebViewClient.ERROR_UNSUPPORTED_SCHEME -&gt; message = &quot;unsupported scheme&quot;\r\n            WebViewClient.ERROR_FILE -&gt; message = &quot;Generic file error&quot;\r\n            WebViewClient.ERROR_FILE_NOT_FOUND -&gt; message = &quot;File not found&quot;\r\n            WebViewClient.ERROR_IO -&gt; message = &quot;The server failed to communicate. Try again later.&quot;\r\n        }\r\n\r\n        binding.errorTxt1.text = errorDes\r\n        binding.errorTxt2.text = message\r\n\r\n    }\r\n```","title":"Webview onReceivedHttpError and onReceivedError problem (not working)","body":"<p>i will try to handel webview onReceivedError and onReceivedHttpError, i will show error laytout when webview ReceivedError or ReceivedHttpError and hide webview and when user refresh than error layout hide and webview show but problem is webview onReceivedError is work correctly but onReceivedHttpError not working means error layout not showing webview directly show error, please help me ...</p>\n<p>i will get some http errors which will display on webview directly :- net::ERR_INTERNET_DISCONNECTED, net::ERR_HTTP_RESPONSE_CODE_FAILURE..</p>\n<p>this is my code :-</p>\n<pre><code>override fun onProgressChanged(view: WebView?, newProgress: Int) {\n                binding.progressBar.progress = newProgress\n                if (newProgress == 100) {\n                    view?.visibility = View.VISIBLE\n                    binding.errorLayout.visibility = View.GONE\n                }\n\n                if (newProgress &gt; 70) {\n                    binding.swipeRefreshLayout.isRefreshing = false\n                    binding.progressBar.visibility = View.INVISIBLE\n\n                } else {\n                    binding.progressBar.visibility = View.VISIBLE\n                }\n            }\n</code></pre>\n<p>onReceivedError code :-</p>\n<pre><code>override fun onReceivedError(\n                view: WebView?,\n                request: WebResourceRequest?,\n                error: WebResourceError?\n            ) {\n                if (error != null &amp;&amp; error.errorCode != -1) {\n                    val errorCode = error.errorCode\n                    val errorMessage = error.description.toString()\n                    binding.errorLayout.visibility = View.VISIBLE\n                    binding.webView.visibility = View.GONE\n                    isErrorOccurred = true\n                    handleError(errorCode, errorMessage)\n                }\n                super.onReceivedError(view, request, error)\n            }\n</code></pre>\n<p>onReceivedHttpError code :-</p>\n<pre><code>override fun onReceivedHttpError(\n                view: WebView?,\n                request: WebResourceRequest?,\n                errorResponse: WebResourceResponse?\n            ) {\n                if (errorResponse != null &amp;&amp; errorResponse.statusCode != 404) {\n                    val errorCode = errorResponse.statusCode\n                    val errorMessage = errorResponse.reasonPhrase.toString()\n                    binding.errorLayout.visibility = View.VISIBLE\n                    binding.webView.visibility = View.GONE\n                    isErrorOccurred = true\n                    handleError(errorCode, errorMessage)\n                }\n                super.onReceivedHttpError(view, request, errorResponse)\n            }\n</code></pre>\n<pre><code>fun handleError(errorCode: Int?, errorDes: String) {\n        var message: String? = null\n        when (errorCode) {\n            WebViewClient.ERROR_AUTHENTICATION -&gt; message = &quot;User authentication failed on server&quot;\n            WebViewClient.ERROR_TIMEOUT -&gt; message =\n                &quot;The server is taking too much time to communicate. Try again later.&quot;\n\n            WebViewClient.ERROR_TOO_MANY_REQUESTS -&gt; message = &quot;Too many requests during this load&quot;\n            WebViewClient.ERROR_UNKNOWN -&gt; message = &quot;Generic error&quot;\n            WebViewClient.ERROR_BAD_URL -&gt; message = &quot;Check entered URL..&quot;\n            WebViewClient.ERROR_CONNECT -&gt; message = &quot;Failed to connect to the server&quot;\n            WebViewClient.ERROR_FAILED_SSL_HANDSHAKE -&gt; message = &quot;Failed to perform SSL handshake&quot;\n            WebViewClient.ERROR_HOST_LOOKUP -&gt; message = &quot;Server or proxy hostname lookup failed&quot;\n            WebViewClient.ERROR_PROXY_AUTHENTICATION -&gt; message =\n                &quot;User authentication failed on proxy&quot;\n\n            WebViewClient.ERROR_REDIRECT_LOOP -&gt; message = &quot;Too many redirects&quot;\n            WebViewClient.ERROR_UNSUPPORTED_AUTH_SCHEME -&gt; message =\n                &quot;Unsupported authentication scheme (not basic or digest)&quot;\n\n            WebViewClient.ERROR_UNSUPPORTED_SCHEME -&gt; message = &quot;unsupported scheme&quot;\n            WebViewClient.ERROR_FILE -&gt; message = &quot;Generic file error&quot;\n            WebViewClient.ERROR_FILE_NOT_FOUND -&gt; message = &quot;File not found&quot;\n            WebViewClient.ERROR_IO -&gt; message = &quot;The server failed to communicate. Try again later.&quot;\n        }\n\n        binding.errorTxt1.text = errorDes\n        binding.errorTxt2.text = message\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"score":1,"creation_date":1685607651,"post_id":76379843,"comment_id":134684579,"body_markdown":"You can use mapstruct to mapper PriceDto to com.prueba.gen.dto.PriceDto","body":"You can use mapstruct to mapper PriceDto to com.prueba.gen.dto.PriceDto"},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1685609563,"post_id":76379843,"comment_id":134684985,"body_markdown":"Either use mapstruct (easiest solution) or you can map your object to be returned by openapi generator [example here](https://stackoverflow.com/questions/59072297/openapi-generator-reference-an-external-pojo-in-yaml-file-specification/59085102#59085102)","body":"Either use mapstruct (easiest solution) or you can map your object to be returned by openapi generator <a href=\"https://stackoverflow.com/questions/59072297/openapi-generator-reference-an-external-pojo-in-yaml-file-specification/59085102#59085102\">example here</a>"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1685641166,"post_id":76379843,"comment_id":134692466,"body_markdown":"Why not return generated dto from your service?","body":"Why not return generated dto from your service?"}],"owner":{"account_id":14775090,"reputation":33,"user_id":10863855,"display_name":"sergio rodriguez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685616762,"creation_date":1685606592,"question_id":76379843,"body_markdown":"Firstly, it&#39;s my first time working with OpenAPI, so any comments are welcome.\r\n\r\nMy question is: OpenAPI generate an interface of my API &quot;PriceControllerApi&quot; that returns a `ResponseEntity&lt;PriceDto&gt;` this is the generated DTO by open API. The method that override in my class controller return a `ResponseEntity&lt;PriceDto&gt;` but this DTO is my own DTO.\r\n\r\nWhat is the best practice?\r\n\r\n - As my service returns my DTO, make a copy of this DTO to the generated DTO and return it on the return\r\n - make a template for the generated API interface that returns my DTO\r\n - Is there any other option that is more correct?\r\n\r\nHere is the code\r\n\r\napi-docs.json\r\n\r\n        {\r\n      &quot;components&quot;: {\r\n        &quot;schemas&quot;: {\r\n          &quot;PriceDto&quot;: {\r\n            &quot;type&quot;: &quot;object&quot;,\r\n            &quot;properties&quot;: {\r\n              &quot;id&quot;: {\r\n                &quot;type&quot;: &quot;integer&quot;,\r\n                &quot;description&quot;: &quot;ID del precio&quot;,\r\n                &quot;format&quot;: &quot;int32&quot;\r\n              },\r\n              &quot;productId&quot;: {\r\n                &quot;type&quot;: &quot;integer&quot;,\r\n                &quot;description&quot;: &quot;ID del producto&quot;,\r\n                &quot;format&quot;: &quot;int64&quot;\r\n              },\r\n              &quot;brandId&quot;: {\r\n                &quot;type&quot;: &quot;integer&quot;,\r\n                &quot;description&quot;: &quot;ID de la marca&quot;,\r\n                &quot;format&quot;: &quot;int64&quot;\r\n              },\r\n              &quot;priceList&quot;: {\r\n                &quot;type&quot;: &quot;integer&quot;,\r\n                &quot;description&quot;: &quot;Orden de ofertas&quot;,\r\n                &quot;format&quot;: &quot;int32&quot;\r\n              },\r\n              &quot;priority&quot;: {\r\n                &quot;type&quot;: &quot;integer&quot;,\r\n                &quot;description&quot;: &quot;Prioridad&quot;,\r\n                &quot;format&quot;: &quot;int32&quot;\r\n              },\r\n              &quot;startDate&quot;: {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;description&quot;: &quot;Fecha inicio de la oferta&quot;,\r\n                &quot;format&quot;: &quot;date-time&quot;\r\n              },\r\n              &quot;endDate&quot;: {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;description&quot;: &quot;Fecha fin de la oferta&quot;,\r\n                &quot;format&quot;: &quot;date-time&quot;\r\n              },\r\n              &quot;price&quot;: {\r\n                &quot;description&quot;: &quot;Precio unitario&quot;,\r\n                &quot;format&quot;: &quot;double&quot;,\r\n                &quot;type&quot;: &quot;number&quot;\r\n              },\r\n              &quot;curr&quot;: {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;description&quot;: &quot;Tipo de moneda&quot;\r\n              }\r\n            },\r\n            &quot;description&quot;: &quot;Objeto que representa el precio&quot;\r\n          }\r\n        }\r\n      },\r\n      &quot;info&quot;: {\r\n        &quot;title&quot;: &quot;OpenAPI definition&quot;,\r\n        &quot;version&quot;: &quot;v0&quot;\r\n      },\r\n      &quot;openapi&quot;: &quot;3.0.1&quot;,\r\n      &quot;paths&quot;: {\r\n        &quot;/prices&quot;: {\r\n          &quot;get&quot;: {\r\n            &quot;tags&quot;: [\r\n              &quot;price-controller&quot;\r\n            ],\r\n            &quot;summary&quot;: &quot;Obtener precio&quot;,\r\n            &quot;operationId&quot;: &quot;getPrice&quot;,\r\n            &quot;parameters&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;applicationDate&quot;,\r\n                &quot;in&quot;: &quot;query&quot;,\r\n                &quot;description&quot;: &quot;Fecha y hora de la aplicaci&#243;n&quot;,\r\n                &quot;required&quot;: true,\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;string&quot;,\r\n                  &quot;format&quot;: &quot;date-time&quot;,\r\n                  &quot;example&quot;: &quot;2023-05-31T10:30:00&quot;\r\n                }\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;productId&quot;,\r\n                &quot;in&quot;: &quot;query&quot;,\r\n                &quot;description&quot;: &quot;Id del producto&quot;,\r\n                &quot;required&quot;: true,\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;integer&quot;,\r\n                  &quot;format&quot;: &quot;int64&quot;\r\n                }\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;brandId&quot;,\r\n                &quot;in&quot;: &quot;query&quot;,\r\n                &quot;description&quot;: &quot;Id de la marca&quot;,\r\n                &quot;required&quot;: true,\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;integer&quot;,\r\n                  &quot;format&quot;: &quot;int64&quot;\r\n                }\r\n              }\r\n            ],\r\n            &quot;responses&quot;: {\r\n              &quot;400&quot;: {\r\n                &quot;description&quot;: &quot;Solicitud inv&#225;lida&quot;\r\n              },\r\n              &quot;200&quot;: {\r\n                &quot;description&quot;: &quot;OK&quot;,\r\n                &quot;content&quot;: {\r\n                  &quot;application/json&quot;: {\r\n                    &quot;schema&quot;: {\r\n                      &quot;$ref&quot;: &quot;#/components/schemas/PriceDto&quot;\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              &quot;404&quot;: {\r\n                &quot;description&quot;: &quot;Valor no encontrado&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;servers&quot;: [\r\n        {\r\n          &quot;url&quot;: &quot;http://localhost:8080&quot;,\r\n          &quot;description&quot;: &quot;Generated server url&quot;}]\r\n    }\r\n\r\nplugin of pom.xml\r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;!-- RELEASE_VERSION --&gt;\r\n    \t\t\t\t&lt;version&gt;5.4.0&lt;/version&gt;\r\n    \t\t\t\t&lt;!-- /RELEASE_VERSION --&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/api-docs/json/api-docs.json&lt;/inputSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n    \t\t\t\t\t\t\t&lt;packageName&gt;${project.groupId}.gen&lt;/packageName&gt;\r\n    \t\t\t\t\t\t\t&lt;apiPackage&gt;${project.groupId}.gen.api.v1&lt;/apiPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;modelPackage&gt;${project.groupId}.gen.dto&lt;/modelPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n    \t\t\t\t\t\t\t&lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n    \t\t\t\t\t\t\t&lt;library&gt;spring-boot&lt;/library&gt;\r\n    \t\t\t\t\t\t\t&lt;skipValidateSpec&gt;false&lt;/skipValidateSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;configOptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;basePackage&gt;com.prueba.test&lt;/basePackage&gt;\r\n    \t\t\t\t\t\t\t\t&lt;reactive&gt;false&lt;/reactive&gt;\r\n    \t\t\t\t\t\t\t\t&lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n    \t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n    \t\t\t\t\t\t\t\t&lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n    \t\t\t\t\t\t\t\t&lt;!--suppress UnresolvedMavenProperty --&gt;\r\n    \t\t\t\t\t\t\t\t&lt;additionalModelTypeAnnotations&gt;@lombok.Builder @lombok.NoArgsConstructor @lombok.AllArgsConstructor&lt;/additionalModelTypeAnnotations&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useTags&gt;true&lt;/useTags&gt;\r\n    \t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\nmy controller with the first option a mencioned\r\n\r\n     @Override\r\n        public ResponseEntity&lt;com.prueba.gen.dto.PriceDto&gt; getPrice(OffsetDateTime applicationDate, Long productId, Long brandId){\r\n            if (applicationDate == null || productId &lt;= 0 || brandId &lt;= 0) {\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n            }\r\n    \r\n            PriceDto priceDto = this.priceService.getByApplicationDateAndProductIdAndBrandId(applicationDate.toLocalDateTime(), productId, brandId);\r\n            if (priceDto.getId() == 0) {\r\n                throw new PriceNotFoundException(&quot;Price not found for application date &quot; + applicationDate + &quot;, product &quot; + productId + &quot;, brand &quot; + brandId);\r\n            }\r\n           com.prueba.gen.dto.PriceDto generatedPriceDto = DtoMapper.INSTANCE.mapSourceToDestination(priceDto);\r\n            return new ResponseEntity&lt;&gt;(generatedPriceDto,HttpStatus.OK);\r\n        }\r\n\r\nany contribution or improvement of the code is welcome. Thank you!\r\n","title":"Best Practice to copy DTO generated by OpenApi to own DTO","body":"<p>Firstly, it's my first time working with OpenAPI, so any comments are welcome.</p>\n<p>My question is: OpenAPI generate an interface of my API &quot;PriceControllerApi&quot; that returns a <code>ResponseEntity&lt;PriceDto&gt;</code> this is the generated DTO by open API. The method that override in my class controller return a <code>ResponseEntity&lt;PriceDto&gt;</code> but this DTO is my own DTO.</p>\n<p>What is the best practice?</p>\n<ul>\n<li>As my service returns my DTO, make a copy of this DTO to the generated DTO and return it on the return</li>\n<li>make a template for the generated API interface that returns my DTO</li>\n<li>Is there any other option that is more correct?</li>\n</ul>\n<p>Here is the code</p>\n<p>api-docs.json</p>\n<pre><code>    {\n  &quot;components&quot;: {\n    &quot;schemas&quot;: {\n      &quot;PriceDto&quot;: {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;id&quot;: {\n            &quot;type&quot;: &quot;integer&quot;,\n            &quot;description&quot;: &quot;ID del precio&quot;,\n            &quot;format&quot;: &quot;int32&quot;\n          },\n          &quot;productId&quot;: {\n            &quot;type&quot;: &quot;integer&quot;,\n            &quot;description&quot;: &quot;ID del producto&quot;,\n            &quot;format&quot;: &quot;int64&quot;\n          },\n          &quot;brandId&quot;: {\n            &quot;type&quot;: &quot;integer&quot;,\n            &quot;description&quot;: &quot;ID de la marca&quot;,\n            &quot;format&quot;: &quot;int64&quot;\n          },\n          &quot;priceList&quot;: {\n            &quot;type&quot;: &quot;integer&quot;,\n            &quot;description&quot;: &quot;Orden de ofertas&quot;,\n            &quot;format&quot;: &quot;int32&quot;\n          },\n          &quot;priority&quot;: {\n            &quot;type&quot;: &quot;integer&quot;,\n            &quot;description&quot;: &quot;Prioridad&quot;,\n            &quot;format&quot;: &quot;int32&quot;\n          },\n          &quot;startDate&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;description&quot;: &quot;Fecha inicio de la oferta&quot;,\n            &quot;format&quot;: &quot;date-time&quot;\n          },\n          &quot;endDate&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;description&quot;: &quot;Fecha fin de la oferta&quot;,\n            &quot;format&quot;: &quot;date-time&quot;\n          },\n          &quot;price&quot;: {\n            &quot;description&quot;: &quot;Precio unitario&quot;,\n            &quot;format&quot;: &quot;double&quot;,\n            &quot;type&quot;: &quot;number&quot;\n          },\n          &quot;curr&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;description&quot;: &quot;Tipo de moneda&quot;\n          }\n        },\n        &quot;description&quot;: &quot;Objeto que representa el precio&quot;\n      }\n    }\n  },\n  &quot;info&quot;: {\n    &quot;title&quot;: &quot;OpenAPI definition&quot;,\n    &quot;version&quot;: &quot;v0&quot;\n  },\n  &quot;openapi&quot;: &quot;3.0.1&quot;,\n  &quot;paths&quot;: {\n    &quot;/prices&quot;: {\n      &quot;get&quot;: {\n        &quot;tags&quot;: [\n          &quot;price-controller&quot;\n        ],\n        &quot;summary&quot;: &quot;Obtener precio&quot;,\n        &quot;operationId&quot;: &quot;getPrice&quot;,\n        &quot;parameters&quot;: [\n          {\n            &quot;name&quot;: &quot;applicationDate&quot;,\n            &quot;in&quot;: &quot;query&quot;,\n            &quot;description&quot;: &quot;Fecha y hora de la aplicación&quot;,\n            &quot;required&quot;: true,\n            &quot;schema&quot;: {\n              &quot;type&quot;: &quot;string&quot;,\n              &quot;format&quot;: &quot;date-time&quot;,\n              &quot;example&quot;: &quot;2023-05-31T10:30:00&quot;\n            }\n          },\n          {\n            &quot;name&quot;: &quot;productId&quot;,\n            &quot;in&quot;: &quot;query&quot;,\n            &quot;description&quot;: &quot;Id del producto&quot;,\n            &quot;required&quot;: true,\n            &quot;schema&quot;: {\n              &quot;type&quot;: &quot;integer&quot;,\n              &quot;format&quot;: &quot;int64&quot;\n            }\n          },\n          {\n            &quot;name&quot;: &quot;brandId&quot;,\n            &quot;in&quot;: &quot;query&quot;,\n            &quot;description&quot;: &quot;Id de la marca&quot;,\n            &quot;required&quot;: true,\n            &quot;schema&quot;: {\n              &quot;type&quot;: &quot;integer&quot;,\n              &quot;format&quot;: &quot;int64&quot;\n            }\n          }\n        ],\n        &quot;responses&quot;: {\n          &quot;400&quot;: {\n            &quot;description&quot;: &quot;Solicitud inválida&quot;\n          },\n          &quot;200&quot;: {\n            &quot;description&quot;: &quot;OK&quot;,\n            &quot;content&quot;: {\n              &quot;application/json&quot;: {\n                &quot;schema&quot;: {\n                  &quot;$ref&quot;: &quot;#/components/schemas/PriceDto&quot;\n                }\n              }\n            }\n          },\n          &quot;404&quot;: {\n            &quot;description&quot;: &quot;Valor no encontrado&quot;\n          }\n        }\n      }\n    }\n  },\n  &quot;servers&quot;: [\n    {\n      &quot;url&quot;: &quot;http://localhost:8080&quot;,\n      &quot;description&quot;: &quot;Generated server url&quot;}]\n}\n</code></pre>\n<p>plugin of pom.xml</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- RELEASE_VERSION --&gt;\n                &lt;version&gt;5.4.0&lt;/version&gt;\n                &lt;!-- /RELEASE_VERSION --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/api-docs/json/api-docs.json&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;packageName&gt;${project.groupId}.gen&lt;/packageName&gt;\n                            &lt;apiPackage&gt;${project.groupId}.gen.api.v1&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;${project.groupId}.gen.dto&lt;/modelPackage&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                            &lt;library&gt;spring-boot&lt;/library&gt;\n                            &lt;skipValidateSpec&gt;false&lt;/skipValidateSpec&gt;\n                            &lt;configOptions&gt;\n                                &lt;basePackage&gt;com.prueba.test&lt;/basePackage&gt;\n                                &lt;reactive&gt;false&lt;/reactive&gt;\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                                &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n                                &lt;!--suppress UnresolvedMavenProperty --&gt;\n                                &lt;additionalModelTypeAnnotations&gt;@lombok.Builder @lombok.NoArgsConstructor @lombok.AllArgsConstructor&lt;/additionalModelTypeAnnotations&gt;\n                                &lt;useTags&gt;true&lt;/useTags&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>my controller with the first option a mencioned</p>\n<pre><code> @Override\n    public ResponseEntity&lt;com.prueba.gen.dto.PriceDto&gt; getPrice(OffsetDateTime applicationDate, Long productId, Long brandId){\n        if (applicationDate == null || productId &lt;= 0 || brandId &lt;= 0) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n        }\n\n        PriceDto priceDto = this.priceService.getByApplicationDateAndProductIdAndBrandId(applicationDate.toLocalDateTime(), productId, brandId);\n        if (priceDto.getId() == 0) {\n            throw new PriceNotFoundException(&quot;Price not found for application date &quot; + applicationDate + &quot;, product &quot; + productId + &quot;, brand &quot; + brandId);\n        }\n       com.prueba.gen.dto.PriceDto generatedPriceDto = DtoMapper.INSTANCE.mapSourceToDestination(priceDto);\n        return new ResponseEntity&lt;&gt;(generatedPriceDto,HttpStatus.OK);\n    }\n</code></pre>\n<p>any contribution or improvement of the code is welcome. Thank you!</p>\n"},{"tags":["java","h2"],"answers":[{"tags":[],"owner":{"account_id":12498833,"reputation":135387,"user_id":9097906,"display_name":"Littlefoot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685468398,"creation_date":1685468398,"answer_id":76367331,"question_id":76367295,"body_markdown":"`regexp_replace` - in &lt;a href=&quot;https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/REGEXP_REPLACE.html&quot;&gt;Oracle&lt;/a&gt; - can have up to 6 parameters:\r\n\r\n    REGEXP_REPLACE ( source_char, pattern\r\n                     [, replace_string\r\n                        [, position\r\n                           [, occurrence\r\n                              [, match_param ]\r\n                           ]\r\n                        ]\r\n                     ]\r\n                   )\r\n\r\n---------\r\n\r\nBut, in &lt;a href=&quot;http://www.h2database.com/html/functions.html#regexp_replace&quot;&gt;h2&lt;/a&gt; (you use), it can have up to 4 parameters:\r\n\r\n    REGEXP_REPLACE(inputString, regexString, replacementString, flagsString)\r\n\r\n-----------\r\n\r\nWhat to do? Adjust your code to syntax your database supports.","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Invalid parameter count for &quot;REGEXP_REPLACE&quot;, expected count: &quot;3..4&quot;; SQL statement","body":"<p><code>regexp_replace</code> - in <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/REGEXP_REPLACE.html\" rel=\"nofollow noreferrer\">Oracle</a> - can have up to 6 parameters:</p>\n<pre><code>REGEXP_REPLACE ( source_char, pattern\n                 [, replace_string\n                    [, position\n                       [, occurrence\n                          [, match_param ]\n                       ]\n                    ]\n                 ]\n               )\n</code></pre>\n<hr />\n<p>But, in <a href=\"http://www.h2database.com/html/functions.html#regexp_replace\" rel=\"nofollow noreferrer\">h2</a> (you use), it can have up to 4 parameters:</p>\n<pre><code>REGEXP_REPLACE(inputString, regexString, replacementString, flagsString)\n</code></pre>\n<hr />\n<p>What to do? Adjust your code to syntax your database supports.</p>\n"}],"owner":{"account_id":22924971,"reputation":39,"user_id":17060205,"display_name":"sadpatato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685616702,"creation_date":1685468080,"question_id":76367295,"body_markdown":"I&#39;m just trying to test a query. I use h2 db. And there is a parameter limitation for REGEXP_REPLACE function. How can I create alias for this one? Because currently I have the following error:\r\n\r\n&gt; Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Invalid parameter\r\n&gt; count for &quot;REGEXP_REPLACE&quot;, expected count: &quot;3..4&quot;; SQL statement.\r\n\r\nAs you can see I have 6 parameter. \r\n\r\n```sql\r\nregexp_replace(error,&#39;(^.*)(date=.*)&#39;,&#39;\\1&#39;, 1, 1,&#39;m&#39;)\r\n```\r\n","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Invalid parameter count for &quot;REGEXP_REPLACE&quot;, expected count: &quot;3..4&quot;; SQL statement","body":"<p>I'm just trying to test a query. I use h2 db. And there is a parameter limitation for REGEXP_REPLACE function. How can I create alias for this one? Because currently I have the following error:</p>\n<blockquote>\n<p>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Invalid parameter\ncount for &quot;REGEXP_REPLACE&quot;, expected count: &quot;3..4&quot;; SQL statement.</p>\n</blockquote>\n<p>As you can see I have 6 parameter.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>regexp_replace(error,'(^.*)(date=.*)','\\1', 1, 1,'m')\n</code></pre>\n"},{"tags":["java","spring","docker","hibernate","testing"],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685616234,"creation_date":1685436997,"question_id":76363185,"body_markdown":"I have a Docker-contained REST app. It has a few test classes, including `UserQuestionRestControllerTest` and `UserQuestionCommentControllerTest`. They look something like this\r\n```java\r\n    @Test\r\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;) // e.g. attempts to insert into the security join table accounts_permissions\r\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;)\r\n    public void getCommentTest() throws Exception {\r\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + 1)\r\n                        .header(HttpHeaders.AUTHORIZATION, token))\r\n                .andExpect(status().isOk())\r\n                .andReturn()\r\n                .getResponse();\r\n    // asserts\r\n```\r\nThe former test class, `UserQuestionRestControllerTest`, completes successfully while the latter class&#39;s test methods all fail for the same reason – 401, &quot;not authorized&quot;\r\n```\r\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\r\nExpected :200\r\nActual   :401\r\n```\r\nI examined the verbose console output and noticed this. The first exception that pops up is `ClosedChannelException`\r\n```\r\nCaused by: java.nio.channels.ClosedChannelException: null\r\n    at java.base/sun.nio.ch.WindowsAsynchronousFileChannelImpl.implRead(WindowsAsynchronousFileChannelImpl.java:516)\r\n    at java.base/sun.nio.ch.AsynchronousFileChannelImpl.read(AsynchronousFileChannelImpl.java:229)\r\n    at com.github.dockerjava.transport.NamedPipeSocket$AsynchronousFileByteChannel.read(NamedPipeSocket.java:117)\r\n    at java.base/java.nio.channels.Channels$2.read(Channels.java:238)\r\n```\r\nIt doesn&#39;t tell me much, and at any rate it seems it doesn&#39;t actually cause `UserQuestionCommentControllerTest`&#39;s tests to fail. After all, when I examined the console output of the successfully run `UserQuestionRestControllerTest`, it, too, included that exception\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBack to the original console output. The next thing of note is Hibernate&#39;s attempt to drop a foreign key of a table `accounts_permissions`. It&#39;s a join table and contains two columns: `account_id` and `permission_id`. It serves to provide security information on user roles\r\n```java\r\n    @NotNull\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;accounts_permissions&quot;, // ← here it is\r\n            joinColumns = @JoinColumn(name = &quot;account_id&quot;, nullable = false),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;, nullable = false),\r\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;account_id&quot;, &quot;permission_id&quot;}))\r\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\r\n```\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table accounts_permissions drop constraint FKjfqhtvqauv3ign74mp1dybsyr&quot; via JDBC Statement\r\n```\r\nHowever, Hibernate finds out that `accounts_permissions` does not exist and throws an exception (instead of creating the table)\r\n```\r\nCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;accounts_permissions&quot; does not exist\r\n```\r\nImportantly, both run configurations are identical. The only VM option in both cases is the profile, `-Dspring.profiles.active=test`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nNow, I have two YML-configurations. One is called `application-local.yml`. It sits in the `resources` folder which is a sibling to `java`, *the source root*. It *contains* datasource information. It, I believe, is not relevant though I&#39;ll include it just in case I&#39;m wrong (which very well might be)\r\n```yml\r\nserver:\r\n  port: ${SERVER_PORT:8080}\r\n\r\nspring:\r\n  application:\r\n    name: stack-overflow\r\n  datasource:\r\n    url: jdbc:postgresql://${POSTGRES_SERVER:localhost}:${POSTGRES_PORT:5411}/${POSTGRES_DATABASE:stack_overflow_postgres}\r\n    username: ${POSTGRES_USERNAME:postgres}\r\n    password: ${POSTGRES_PASSWORD:postgres123}\r\n  jpa:\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n    hibernate.ddl-auto: ${POSTGRES_DDL_AUTO:create}\r\n    show-sql: ${POSTGRES_SHOW_SQL:true}\r\n\r\njwt:\r\n  secret:\r\n    key: abrakadabra\r\n  expiration:\r\n    hours: 10\r\n\r\nspringdoc:\r\n  api-docs:\r\n    path: /docs/v3/api-docs\r\n  swagger-ui:\r\n    path: /docs/swagger-ui/index.html\r\n```\r\nNotice the DDL set to `create`. I also have a separate configuration file, `application-test.yml`. It sits in the resources root which is a sibling to *the test root*. This YML *doesn&#39;t* contain datasource info (but remember the &quot;Question&quot; test class runs with no issues)\r\n```yml\r\nspring:\r\n  jpa:\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n    hibernate.ddl-auto: ${POSTGRES_DDL_AUTO:create}\r\n    show-sql: ${POSTGRES_SHOW_SQL:true}\r\n\r\njwt:\r\n  secret:\r\n    key: abrakadabra\r\n  expiration:\r\n    hours: 10\r\n```\r\nI am new to Docker so my bet is I made some rookie mistake in that department\r\n\r\nIn case I didn&#39;t mention some important details, here&#39;s [my repo][4]. I know that questions on SO are supposed to be self-contained, but in my opinion, information accessible remotely is better than information not accessible at all. If you suggest moving some parts of the code from the repo here, I&#39;ll gladly consider that suggestion\r\n\r\n**UPD:** Unfortunately, I realized after the publication that I didn&#39;t push the commit to the repository. I am sorry for that. I corrected that mistake, and now you can actually see the code in question\r\n\r\n**UPD2:** I am told it&#39;s because the tables are not yet created by the time an instance of my test class is created. Can you suggest alternative solutions to reduce code duplication so that I don&#39;t request the token at the start of each method?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gkiBy.png\r\n  [2]: https://i.stack.imgur.com/vLGmp.png\r\n  [3]: https://i.stack.imgur.com/DbTFT.png\r\n  [4]: https://github.com/NadChel/stack-overflow-1","title":"In a Docker environment, DDL creates tables for one test class – but fails to do so for another. Why?","body":"<p>I have a Docker-contained REST app. It has a few test classes, including <code>UserQuestionRestControllerTest</code> and <code>UserQuestionCommentControllerTest</code>. They look something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;) // e.g. attempts to insert into the security join table accounts_permissions\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;)\n    public void getCommentTest() throws Exception {\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + 1)\n                        .header(HttpHeaders.AUTHORIZATION, token))\n                .andExpect(status().isOk())\n                .andReturn()\n                .getResponse();\n    // asserts\n</code></pre>\n<p>The former test class, <code>UserQuestionRestControllerTest</code>, completes successfully while the latter class's test methods all fail for the same reason – 401, &quot;not authorized&quot;</p>\n<pre><code>java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\nExpected :200\nActual   :401\n</code></pre>\n<p>I examined the verbose console output and noticed this. The first exception that pops up is <code>ClosedChannelException</code></p>\n<pre><code>Caused by: java.nio.channels.ClosedChannelException: null\n    at java.base/sun.nio.ch.WindowsAsynchronousFileChannelImpl.implRead(WindowsAsynchronousFileChannelImpl.java:516)\n    at java.base/sun.nio.ch.AsynchronousFileChannelImpl.read(AsynchronousFileChannelImpl.java:229)\n    at com.github.dockerjava.transport.NamedPipeSocket$AsynchronousFileByteChannel.read(NamedPipeSocket.java:117)\n    at java.base/java.nio.channels.Channels$2.read(Channels.java:238)\n</code></pre>\n<p>It doesn't tell me much, and at any rate it seems it doesn't actually cause <code>UserQuestionCommentControllerTest</code>'s tests to fail. After all, when I examined the console output of the successfully run <code>UserQuestionRestControllerTest</code>, it, too, included that exception</p>\n<p><a href=\"https://i.stack.imgur.com/gkiBy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gkiBy.png\" alt=\"enter image description here\" /></a></p>\n<p>Back to the original console output. The next thing of note is Hibernate's attempt to drop a foreign key of a table <code>accounts_permissions</code>. It's a join table and contains two columns: <code>account_id</code> and <code>permission_id</code>. It serves to provide security information on user roles</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @NotNull\n    @ManyToMany\n    @JoinTable(name = &quot;accounts_permissions&quot;, // ← here it is\n            joinColumns = @JoinColumn(name = &quot;account_id&quot;, nullable = false),\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;, nullable = false),\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;account_id&quot;, &quot;permission_id&quot;}))\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\n</code></pre>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table accounts_permissions drop constraint FKjfqhtvqauv3ign74mp1dybsyr&quot; via JDBC Statement\n</code></pre>\n<p>However, Hibernate finds out that <code>accounts_permissions</code> does not exist and throws an exception (instead of creating the table)</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;accounts_permissions&quot; does not exist\n</code></pre>\n<p>Importantly, both run configurations are identical. The only VM option in both cases is the profile, <code>-Dspring.profiles.active=test</code></p>\n<p><a href=\"https://i.stack.imgur.com/vLGmp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vLGmp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/DbTFT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DbTFT.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, I have two YML-configurations. One is called <code>application-local.yml</code>. It sits in the <code>resources</code> folder which is a sibling to <code>java</code>, <em>the source root</em>. It <em>contains</em> datasource information. It, I believe, is not relevant though I'll include it just in case I'm wrong (which very well might be)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: ${SERVER_PORT:8080}\n\nspring:\n  application:\n    name: stack-overflow\n  datasource:\n    url: jdbc:postgresql://${POSTGRES_SERVER:localhost}:${POSTGRES_PORT:5411}/${POSTGRES_DATABASE:stack_overflow_postgres}\n    username: ${POSTGRES_USERNAME:postgres}\n    password: ${POSTGRES_PASSWORD:postgres123}\n  jpa:\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n    hibernate.ddl-auto: ${POSTGRES_DDL_AUTO:create}\n    show-sql: ${POSTGRES_SHOW_SQL:true}\n\njwt:\n  secret:\n    key: abrakadabra\n  expiration:\n    hours: 10\n\nspringdoc:\n  api-docs:\n    path: /docs/v3/api-docs\n  swagger-ui:\n    path: /docs/swagger-ui/index.html\n</code></pre>\n<p>Notice the DDL set to <code>create</code>. I also have a separate configuration file, <code>application-test.yml</code>. It sits in the resources root which is a sibling to <em>the test root</em>. This YML <em>doesn't</em> contain datasource info (but remember the &quot;Question&quot; test class runs with no issues)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jpa:\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n    hibernate.ddl-auto: ${POSTGRES_DDL_AUTO:create}\n    show-sql: ${POSTGRES_SHOW_SQL:true}\n\njwt:\n  secret:\n    key: abrakadabra\n  expiration:\n    hours: 10\n</code></pre>\n<p>I am new to Docker so my bet is I made some rookie mistake in that department</p>\n<p>In case I didn't mention some important details, here's <a href=\"https://github.com/NadChel/stack-overflow-1\" rel=\"nofollow noreferrer\">my repo</a>. I know that questions on SO are supposed to be self-contained, but in my opinion, information accessible remotely is better than information not accessible at all. If you suggest moving some parts of the code from the repo here, I'll gladly consider that suggestion</p>\n<p><strong>UPD:</strong> Unfortunately, I realized after the publication that I didn't push the commit to the repository. I am sorry for that. I corrected that mistake, and now you can actually see the code in question</p>\n<p><strong>UPD2:</strong> I am told it's because the tables are not yet created by the time an instance of my test class is created. Can you suggest alternative solutions to reduce code duplication so that I don't request the token at the start of each method?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","repository"],"answers":[{"tags":[],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685616209,"creation_date":1685609192,"answer_id":76380135,"question_id":76380070,"body_markdown":"Well, to begin with, there should not be a &quot;join table&quot; for this many-to-one relationship, a record from table A should simply reference an ID from table B.\r\n\r\nA &quot;join table&quot; is only necessary in the case of a many-to-many relationship, if each object could be linked to many of the other object.\r\n\r\nYour SQL query would then be : \r\n\r\n``` sql\r\nSELECT *\r\nFROM objectA\r\nWHERE objectA.objectB_id is not null\r\n```\r\n\r\nThen writing it in JPQL is trivial\r\n\r\nUPDATE :\r\n\r\nSince the true relationship seems to be a &quot;many-to-many&quot; and not a &quot;many-to-one&quot; (one B can have multiple As but one A can also be linked to multiple B), here is how the SQL query should look :\r\n\r\n``` sql\r\nSELECT *\r\nFROM objectA A\r\nLEFT JOIN objectA_objectB AB ON AB.objectA_ID = A.ID\r\nWHERE AB.objectB_ID is not null\r\n```\r\n\r\nAnd &quot;LEFT JOIN&quot; do exist in JPQL : https://www.baeldung.com/jpa-join-types","title":"Cannot formulate correctly my repository method for fetching a list of objects that are existing in another object","body":"<p>Well, to begin with, there should not be a &quot;join table&quot; for this many-to-one relationship, a record from table A should simply reference an ID from table B.</p>\n<p>A &quot;join table&quot; is only necessary in the case of a many-to-many relationship, if each object could be linked to many of the other object.</p>\n<p>Your SQL query would then be :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM objectA\nWHERE objectA.objectB_id is not null\n</code></pre>\n<p>Then writing it in JPQL is trivial</p>\n<p>UPDATE :</p>\n<p>Since the true relationship seems to be a &quot;many-to-many&quot; and not a &quot;many-to-one&quot; (one B can have multiple As but one A can also be linked to multiple B), here is how the SQL query should look :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM objectA A\nLEFT JOIN objectA_objectB AB ON AB.objectA_ID = A.ID\nWHERE AB.objectB_ID is not null\n</code></pre>\n<p>And &quot;LEFT JOIN&quot; do exist in JPQL : <a href=\"https://www.baeldung.com/jpa-join-types\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-join-types</a></p>\n"}],"owner":{"account_id":23104207,"reputation":161,"user_id":17506985,"display_name":"Cucumberbatch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685616209,"creation_date":1685608695,"question_id":76380070,"body_markdown":"This is the first time I&#39;ve been working with Springboot and JPA and I am struggling to write a repository method.\r\n\r\nI have two objects: \r\n\r\n```\r\npublic class ObjectA{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;objectA_id&quot;)\r\n    private Integer id;\r\n\r\n    @Column(length=40, unique=true, nullable = false)\r\n    private String label;\r\n}\r\n```\r\nand \r\n```\r\npublic class ObjectB{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;objectB_id&quot;)\r\n    private Integer id;\r\n\r\n    @Column(length = 100, nullable = false, unique = true)\r\n    private String label;\r\n\r\n    @ManyToMany\r\n    @JoinColumn(name=&quot;refObjectA_id&quot;, nullable = false)\r\n    private List&lt;ObjectA&gt; ObjectAs;\r\n}\r\n```\r\n\r\nNow, I would like to have a repository method to fetch the objects A if only at least one object B is &quot;linked&quot; to it. Since I don&#39;t know how to do so, I wrote a MySQL query that I tested and worked perfectly but I was wondering if there was a way to do it without specifying the query.\r\n\r\nHere&#39;s the query: \r\n\r\n```\r\nSELECT *\r\nFROM objectA\r\nWHERE objectA_id IN \r\n(SELECT objectAs_id FROM objectB_objectAs)\r\n```\r\n\r\nobjectB_objectAs is the join table between the two objects.\r\n\r\nIf anyone has an idea on how to do such a thing, I would be glad to hear about that :) \r\n\r\nThank you for reading !","title":"Cannot formulate correctly my repository method for fetching a list of objects that are existing in another object","body":"<p>This is the first time I've been working with Springboot and JPA and I am struggling to write a repository method.</p>\n<p>I have two objects:</p>\n<pre><code>public class ObjectA{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;objectA_id&quot;)\n    private Integer id;\n\n    @Column(length=40, unique=true, nullable = false)\n    private String label;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class ObjectB{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;objectB_id&quot;)\n    private Integer id;\n\n    @Column(length = 100, nullable = false, unique = true)\n    private String label;\n\n    @ManyToMany\n    @JoinColumn(name=&quot;refObjectA_id&quot;, nullable = false)\n    private List&lt;ObjectA&gt; ObjectAs;\n}\n</code></pre>\n<p>Now, I would like to have a repository method to fetch the objects A if only at least one object B is &quot;linked&quot; to it. Since I don't know how to do so, I wrote a MySQL query that I tested and worked perfectly but I was wondering if there was a way to do it without specifying the query.</p>\n<p>Here's the query:</p>\n<pre><code>SELECT *\nFROM objectA\nWHERE objectA_id IN \n(SELECT objectAs_id FROM objectB_objectAs)\n</code></pre>\n<p>objectB_objectAs is the join table between the two objects.</p>\n<p>If anyone has an idea on how to do such a thing, I would be glad to hear about that :)</p>\n<p>Thank you for reading !</p>\n"},{"tags":["java","sql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"score":0,"creation_date":1685613578,"post_id":76380589,"comment_id":134685865,"body_markdown":"you can enrich your question with snippet of the code ?","body":"you can enrich your question with snippet of the code ?"},{"owner":{"account_id":16656303,"reputation":161,"user_id":14353673,"display_name":"Valdy B"},"score":0,"creation_date":1685614385,"post_id":76380589,"comment_id":134686027,"body_markdown":"Yes, I will. Added","body":"Yes, I will. Added"},{"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"score":0,"creation_date":1685623126,"post_id":76380589,"comment_id":134687964,"body_markdown":"Can  we see what you declared as primary key in your DB ? The ORA-00001 message is triggered when a unique constraint has been violated. Maybe you pass a duplicate values in your batch or retring to save what are you already saved in the update.","body":"Can  we see what you declared as primary key in your DB ? The ORA-00001 message is triggered when a unique constraint has been violated. Maybe you pass a duplicate values in your batch or retring to save what are you already saved in the update."},{"owner":{"account_id":16656303,"reputation":161,"user_id":14353673,"display_name":"Valdy B"},"score":0,"creation_date":1685624222,"post_id":76380589,"comment_id":134688245,"body_markdown":"Looks like my batchUpdate some how working outside transaction scope and can&#39;t find this ID","body":"Looks like my batchUpdate some how working outside transaction scope and can&#39;t find this ID"}],"owner":{"account_id":16656303,"reputation":161,"user_id":14353673,"display_name":"Valdy B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685616183,"creation_date":1685612561,"question_id":76380589,"body_markdown":"I have an interesting problem. Using spring boot and jdbctemplate. I have two SQLs. The first SQL creates the record and the primaryKey is retrieved. A second SQL attempt to create another table is written using the already created primaryKey and an error is received. It is interesting that second SQL with `batchUpdate` an error is received, but with simple `update` no error is received. Both sqls are running one after the other and both are running in the same transaction. Why is this happening and what is the best way to fix it\r\n\r\n\r\n    public int[] createMultilpleRow(String carId, List&lt;String&gt; houseIds) {\r\n        List&lt;MapSqlParameterSource&gt; sqlParameterSources = new ArrayList&lt;&gt;();\r\n\r\n        for (String houseId : houseIds) {\r\n            MapSqlParameterSource sqlParameterSource = new MapSqlParameterSource();\r\n            sqlParameterSource.addValue(&quot;CAR_ID&quot;, carId);\r\n            sqlParameterSource.addValue(&quot;HOUSE_ID&quot;, houseId);\r\n            sqlParameterSources.add(sqlParameterSource);\r\n        }\r\n        SqlParameterSource[] batch = new SqlParameterSource[sqlParameterSources.size()];\r\n        sqlParameterSources.toArray(batch);\r\n\r\n        return jdbcTemplate.batchUpdate(&quot;&quot;&quot;\r\n                INSERT INTO TABLE (carId, houseId)\r\n                VALUES (:carId, :houseId)\r\n                &quot;&quot;&quot;, batch);\r\n    }\r\n\r\n     public int createResource(String carId) {\r\n        Map&lt;String, Object&gt; arguments = new HashMap&lt;&gt;();\r\n        arguments.put(&quot;CAR_ID&quot;, carId);\r\n       \r\n        return jdbcTemplate.update(&quot;&quot;&quot;\r\n                INSERT INTO CarTable (carId)\r\n                VALUES (:carId)\r\n                &quot;&quot;&quot;, arguments);\r\n    }","title":"ORA-00001: unique constraint violated with batchUpdate but with update all good","body":"<p>I have an interesting problem. Using spring boot and jdbctemplate. I have two SQLs. The first SQL creates the record and the primaryKey is retrieved. A second SQL attempt to create another table is written using the already created primaryKey and an error is received. It is interesting that second SQL with <code>batchUpdate</code> an error is received, but with simple <code>update</code> no error is received. Both sqls are running one after the other and both are running in the same transaction. Why is this happening and what is the best way to fix it</p>\n<pre><code>public int[] createMultilpleRow(String carId, List&lt;String&gt; houseIds) {\n    List&lt;MapSqlParameterSource&gt; sqlParameterSources = new ArrayList&lt;&gt;();\n\n    for (String houseId : houseIds) {\n        MapSqlParameterSource sqlParameterSource = new MapSqlParameterSource();\n        sqlParameterSource.addValue(&quot;CAR_ID&quot;, carId);\n        sqlParameterSource.addValue(&quot;HOUSE_ID&quot;, houseId);\n        sqlParameterSources.add(sqlParameterSource);\n    }\n    SqlParameterSource[] batch = new SqlParameterSource[sqlParameterSources.size()];\n    sqlParameterSources.toArray(batch);\n\n    return jdbcTemplate.batchUpdate(&quot;&quot;&quot;\n            INSERT INTO TABLE (carId, houseId)\n            VALUES (:carId, :houseId)\n            &quot;&quot;&quot;, batch);\n}\n\n public int createResource(String carId) {\n    Map&lt;String, Object&gt; arguments = new HashMap&lt;&gt;();\n    arguments.put(&quot;CAR_ID&quot;, carId);\n   \n    return jdbcTemplate.update(&quot;&quot;&quot;\n            INSERT INTO CarTable (carId)\n            VALUES (:carId)\n            &quot;&quot;&quot;, arguments);\n}\n</code></pre>\n"},{"tags":["java","android","react-native","build.gradle"],"comments":[{"owner":{"account_id":25351485,"reputation":1,"user_id":19168274,"display_name":"Subham Sahoo"},"score":0,"creation_date":1685023042,"post_id":76329980,"comment_id":134605583,"body_markdown":"This is where the scanned details is present = https://scans.gradle.com/s/nvmfcc45awwje/failure#1","body":"This is where the scanned details is present = <a href=\"https://scans.gradle.com/s/nvmfcc45awwje/failure#1\" rel=\"nofollow noreferrer\">scans.gradle.com/s/nvmfcc45awwje/failure#1</a>"}],"owner":{"account_id":25351485,"reputation":1,"user_id":19168274,"display_name":"Subham Sahoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685615776,"creation_date":1685000776,"question_id":76329980,"body_markdown":"```none\r\n$ npx react-native run-android\r\ninfo Starting JS server...\r\ninfo Installing the app...\r\n5 actionable tasks: 5 up-to-date\r\n                                                                                                                                  \r\nFAILURE: Build completed with 2 failures.                                                                                         \r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* Where:\r\nBuild file &#39;C:\\Users\\prami\\OneDrive\\Desktop\\Gps_Tracker\\node_modules\\react-native-safe-area-context\\android\\build.gradle&#39; line: 26\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:react-native-safe-area-context&#39;.\r\n&gt; Could not initialize class org.jetbrains.kotlin.gradle.plugin.KotlinGradleBuildServices\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:react-native-safe-area-context&#39;.\r\n&gt; compileSdkVersion is not specified. Please add it to build.gradle\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\n```\r\nI am facing the issue from last three days still not able to resolve can any one help me in resolving the issue?\r\n\r\nI checked the compileSdkVersion in build.gradle file, everything is fine, but I&#39;m still getting the error.","title":"What is causing &#39;compileSdkVersion is not specified&#39; error in React Native app build.gradle file?","body":"<pre class=\"lang-none prettyprint-override\"><code>$ npx react-native run-android\ninfo Starting JS server...\ninfo Installing the app...\n5 actionable tasks: 5 up-to-date\n                                                                                                                                  \nFAILURE: Build completed with 2 failures.                                                                                         \n\n1: Task failed with an exception.\n-----------\n* Where:\nBuild file 'C:\\Users\\prami\\OneDrive\\Desktop\\Gps_Tracker\\node_modules\\react-native-safe-area-context\\android\\build.gradle' line: 26\n\n* What went wrong:\nA problem occurred evaluating project ':react-native-safe-area-context'.\n&gt; Could not initialize class org.jetbrains.kotlin.gradle.plugin.KotlinGradleBuildServices\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n==============================================================================\n\n2: Task failed with an exception.\n-----------\n* What went wrong:\nA problem occurred configuring project ':react-native-safe-area-context'.\n&gt; compileSdkVersion is not specified. Please add it to build.gradle\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n==============================================================================\n\n* Get more help at https://help.gradle.org\n\n</code></pre>\n<p>I am facing the issue from last three days still not able to resolve can any one help me in resolving the issue?</p>\n<p>I checked the compileSdkVersion in build.gradle file, everything is fine, but I'm still getting the error.</p>\n"},{"tags":["java","image","image-processing","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685547469,"creation_date":1685547469,"answer_id":76375200,"question_id":76375169,"body_markdown":"Essentially your code is\r\n```\r\nimage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\nfinal int[] pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\r\n```\r\nYou are never drawing anything into `image`. (The image you read from the filesystem is stored in `img` not `image`.)","title":"Why ((DataBufferInt) image.getRaster().getDataBuffer()).getData() return the array which contains only 0&#39;s?","body":"<p>Essentially your code is</p>\n<pre><code>image = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\nfinal int[] pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\n</code></pre>\n<p>You are never drawing anything into <code>image</code>. (The image you read from the filesystem is stored in <code>img</code> not <code>image</code>.)</p>\n"}],"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1685615734,"answer_count":1,"score":-2,"last_activity_date":1685615709,"creation_date":1685547306,"question_id":76375169,"body_markdown":"I have the next code:\r\n\r\n```\r\nBufferedImage image = null;\r\ntry {\r\n\tBufferedImage img = ImageIO.read(new File(&quot;src/img.jpg&quot;));\r\n\timage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n} catch (IOException e) {\r\n\tSystem.out.println(e);\r\n}\r\n\r\n// get array of image\r\nfinal int[] pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\r\n\r\nSystem.out.println(Arrays.toString(pixels));\r\n```\r\n\r\n\r\nAnd I get next output:\r\n\r\n```\r\n[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ... ]\r\n```\r\n\r\nWhat am I doing wrong? \r\n\r\nP.S. And yes, everything is OK with my file. Because, when I run `sout(image)` get something like that `BufferedImage@6f7fd0e6: type = 2 DirectColorModel: rmask=ff0000 gmask=ff00 bmask=ff amask=ff000000 IntegerInterleavedRaster: width = 1280 height = 720 #Bands = 4 xOff = 0 yOff = 0 dataOffset[0] 0`","title":"Why ((DataBufferInt) image.getRaster().getDataBuffer()).getData() return the array which contains only 0&#39;s?","body":"<p>I have the next code:</p>\n<pre><code>BufferedImage image = null;\ntry {\n    BufferedImage img = ImageIO.read(new File(&quot;src/img.jpg&quot;));\n    image = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\n} catch (IOException e) {\n    System.out.println(e);\n}\n\n// get array of image\nfinal int[] pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\n\nSystem.out.println(Arrays.toString(pixels));\n</code></pre>\n<p>And I get next output:</p>\n<pre><code>[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ... ]\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>P.S. And yes, everything is OK with my file. Because, when I run <code>sout(image)</code> get something like that <code>BufferedImage@6f7fd0e6: type = 2 DirectColorModel: rmask=ff0000 gmask=ff00 bmask=ff amask=ff000000 IntegerInterleavedRaster: width = 1280 height = 720 #Bands = 4 xOff = 0 yOff = 0 dataOffset[0] 0</code></p>\n"},{"tags":["java","sha"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685555783,"creation_date":1685555365,"answer_id":76376116,"question_id":76375868,"body_markdown":"As per the [blog post that explains all this](https://www.troyhunt.com/ive-just-launched-pwned-passwords-version-2/), the `:5` is telling you that this password showed up with separate account information 5 separate times. That one with 873 suggests it&#39;s a somewhat commonly used password and in that sense &#39;worse&#39;.\r\n\r\nI don&#39;t think the passwords are case insensitive. The API that HIBP provides has case insensitive hash searches, i.e. if you search for `000000005ad76BD555C1D6D771DE417A4B87E4B4`, it finds a hit just as well as `000000005AD76BD555C1D6D771DE417A4B87E4B4`. &quot;Case insensitive&quot; and &#39;hash it&#39; are not compatible. For a very quick test, check if SHA1(iloveyou) and SHA1(ILOVEYOU) are in the database. if both are, you have your confirmation: Don&#39;t mess with cases. If only one is, uppercase (or lowercase) before searching. \r\n\r\nVerifying a password&#39;s suitability is done as follows:\r\n\r\nTake the user&#39;s password. Don&#39;t mess with its case. SHA1 it. Check if that SHA1 is in this file (the part _before_ the colon). If yes, tell the user to go pick something else and [link em to the usual](https://xkcd.com/936/). Especially if the number following the colon is high, that&#39;s worse, but appearing _at all_ in this list is grounds to deny that password. That `:1234` stuff is mostly for other kinds of research.\r\n\r\n&gt; However, if I get a cache, then I will have to perform a hash comparison search across the entire database.\r\n\r\nYes; how else did you think this was going to work? Instead of the 6GB or whatever it is file, you can use their API, even cross-site (each IP is rate limited to one request per 1.5 seconds). Yes, your change pass/create new account form can _directly_ ping HIBP with absolutely no involvement from your server, if you want. The HIBP site&#39;s API docs explain all this and how to do that. Then _they_&lt;sup&gt;1&lt;/sup&gt; will do a search.\r\n\r\nFor what its worth, searching all that isn&#39;t too difficult assuming you do it correctly, that is, indexed. For example, a binary search (I&#39;m pretty sure that file is &#39;sorted&#39; on SHA1, so look up hashes the way you look up a phone number in a phone book based on somebody&#39;s name: Don&#39;t just open the book and start reading from Mr. Aabarth, go to the exact middle, check if the name you find there is &#39;below&#39; or &#39;above&#39; what you are looking for. If &#39;below&#39;, then take the bottom half of the phonebook, tear it off, toss it in the garbage. You now have half a phonebook to search.\r\n\r\nContinue to apply that algorithm: Each time you toss half of what is left in the garbage. That&#39;s a LOG2(n) algorithm and therefore will e.g. process in something like 32 steps total (&#39;get rid of half the phonebook&#39; applied 32 times will get you down to a single entry even for a phonebook that has 4 billion entries in it. LOG2(n) is pretty neat).\r\n\r\ndbs do this automatically (or can do even better than that) assuming you add an index to the column.\r\n\r\nIf you actually write this yourself it is smart to build up an index - say, 100k hashes and their exact position in the giant file. To then look up a hash, check your index for that hash that is &#39;below&#39; your hash but as close to it as possible (you can use `TreeSet` in java for this for example). Open the file, seek to that position, and then start processing until you either [A] find that hash (and deny that password as unsuitable), or [B] you find a hash that is &#39;higher&#39; (sorts above the hash you have), in which case the password is presumably allright to use. Given that there are something like 4 billion passwords in there, you&#39;ve now reduced the search to scanning through the file for only 4 billion / 100k = 40,000 hashes, which is going to be near instant, and would be faster than doing a full binary search on the entire file (as hopping around disk sectors is usually pricier even with SSDs), and avoids the difficulty of first seeking to a newline to avoid trying to scan for stuff in the middle of a hash.\r\n\r\n[1] _they_ is referring to [Troy Hunt](https://www.troyhunt.com) who basically runs HIBP as a charity. Consider donating to the cause if you use HIBP!","title":"How can I process a database with unreliable passwords","body":"<p>As per the <a href=\"https://www.troyhunt.com/ive-just-launched-pwned-passwords-version-2/\" rel=\"nofollow noreferrer\">blog post that explains all this</a>, the <code>:5</code> is telling you that this password showed up with separate account information 5 separate times. That one with 873 suggests it's a somewhat commonly used password and in that sense 'worse'.</p>\n<p>I don't think the passwords are case insensitive. The API that HIBP provides has case insensitive hash searches, i.e. if you search for <code>000000005ad76BD555C1D6D771DE417A4B87E4B4</code>, it finds a hit just as well as <code>000000005AD76BD555C1D6D771DE417A4B87E4B4</code>. &quot;Case insensitive&quot; and 'hash it' are not compatible. For a very quick test, check if SHA1(iloveyou) and SHA1(ILOVEYOU) are in the database. if both are, you have your confirmation: Don't mess with cases. If only one is, uppercase (or lowercase) before searching.</p>\n<p>Verifying a password's suitability is done as follows:</p>\n<p>Take the user's password. Don't mess with its case. SHA1 it. Check if that SHA1 is in this file (the part <em>before</em> the colon). If yes, tell the user to go pick something else and <a href=\"https://xkcd.com/936/\" rel=\"nofollow noreferrer\">link em to the usual</a>. Especially if the number following the colon is high, that's worse, but appearing <em>at all</em> in this list is grounds to deny that password. That <code>:1234</code> stuff is mostly for other kinds of research.</p>\n<blockquote>\n<p>However, if I get a cache, then I will have to perform a hash comparison search across the entire database.</p>\n</blockquote>\n<p>Yes; how else did you think this was going to work? Instead of the 6GB or whatever it is file, you can use their API, even cross-site (each IP is rate limited to one request per 1.5 seconds). Yes, your change pass/create new account form can <em>directly</em> ping HIBP with absolutely no involvement from your server, if you want. The HIBP site's API docs explain all this and how to do that. Then <em>they</em><sup>1</sup> will do a search.</p>\n<p>For what its worth, searching all that isn't too difficult assuming you do it correctly, that is, indexed. For example, a binary search (I'm pretty sure that file is 'sorted' on SHA1, so look up hashes the way you look up a phone number in a phone book based on somebody's name: Don't just open the book and start reading from Mr. Aabarth, go to the exact middle, check if the name you find there is 'below' or 'above' what you are looking for. If 'below', then take the bottom half of the phonebook, tear it off, toss it in the garbage. You now have half a phonebook to search.</p>\n<p>Continue to apply that algorithm: Each time you toss half of what is left in the garbage. That's a LOG2(n) algorithm and therefore will e.g. process in something like 32 steps total ('get rid of half the phonebook' applied 32 times will get you down to a single entry even for a phonebook that has 4 billion entries in it. LOG2(n) is pretty neat).</p>\n<p>dbs do this automatically (or can do even better than that) assuming you add an index to the column.</p>\n<p>If you actually write this yourself it is smart to build up an index - say, 100k hashes and their exact position in the giant file. To then look up a hash, check your index for that hash that is 'below' your hash but as close to it as possible (you can use <code>TreeSet</code> in java for this for example). Open the file, seek to that position, and then start processing until you either [A] find that hash (and deny that password as unsuitable), or [B] you find a hash that is 'higher' (sorts above the hash you have), in which case the password is presumably allright to use. Given that there are something like 4 billion passwords in there, you've now reduced the search to scanning through the file for only 4 billion / 100k = 40,000 hashes, which is going to be near instant, and would be faster than doing a full binary search on the entire file (as hopping around disk sectors is usually pricier even with SSDs), and avoids the difficulty of first seeking to a newline to avoid trying to scan for stuff in the middle of a hash.</p>\n<p>[1] <em>they</em> is referring to <a href=\"https://www.troyhunt.com\" rel=\"nofollow noreferrer\">Troy Hunt</a> who basically runs HIBP as a charity. Consider donating to the cause if you use HIBP!</p>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685615589,"creation_date":1685614783,"answer_id":76380900,"question_id":76375868,"body_markdown":"Here is a set of methods that helped me convert a plain-text password into a hash, via the **SHA-1** algorithm.  after that, I compared passwords with an offline database of compromised passwords.\r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String password = &quot;qwerty&quot;;\r\n\r\n        String pwd = generatePasswordIntoSHA1Algorithm(password);\r\n\r\n        System.out.println(pwd);\r\n    }\r\n\r\n\r\n    public static String generatePasswordIntoSHA1Algorithm(String password) throws RuntimeException {\r\n        return convertPasswordIntoHashString(password, &quot;SHA-1&quot;);\r\n    }\r\n\r\n    private static String convertPasswordIntoHashString(String message, String algorithm)\r\n            throws RuntimeException {\r\n        try {\r\n            MessageDigest digest = MessageDigest.getInstance(algorithm);\r\n\r\n            byte[] messageInBytes = message.getBytes(StandardCharsets.UTF_8);\r\n\r\n            byte[] messageInBytesHashed = digest.digest(messageInBytes);\r\n\r\n            return convertByteArrayToHexString(messageInBytesHashed);\r\n\r\n        } catch (NoSuchAlgorithmException ex) {\r\n            throw new RuntimeException(\r\n                    &quot;Could not generate hash from String&quot;, ex);\r\n        }\r\n    }\r\n\r\n    private static String convertByteArrayToHexString(byte[] arrayBytes) {\r\n\r\n        StringBuilder stringBuffer = new StringBuilder();\r\n\r\n        for (byte arrayByte : arrayBytes) {\r\n\r\n            stringBuffer.append(\r\n                    convertByteToHexFormat(arrayByte)\r\n            );\r\n        }\r\n        return stringBuffer.toString();\r\n    }\r\n\r\n    private static String convertByteToHexFormat(byte arrayByte) {\r\n        return String.format(&quot;%02X&quot;, arrayByte);\r\n    }\r\n}\r\n\r\n```","title":"How can I process a database with unreliable passwords","body":"<p>Here is a set of methods that helped me convert a plain-text password into a hash, via the <strong>SHA-1</strong> algorithm.  after that, I compared passwords with an offline database of compromised passwords.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n\n        String password = &quot;qwerty&quot;;\n\n        String pwd = generatePasswordIntoSHA1Algorithm(password);\n\n        System.out.println(pwd);\n    }\n\n\n    public static String generatePasswordIntoSHA1Algorithm(String password) throws RuntimeException {\n        return convertPasswordIntoHashString(password, &quot;SHA-1&quot;);\n    }\n\n    private static String convertPasswordIntoHashString(String message, String algorithm)\n            throws RuntimeException {\n        try {\n            MessageDigest digest = MessageDigest.getInstance(algorithm);\n\n            byte[] messageInBytes = message.getBytes(StandardCharsets.UTF_8);\n\n            byte[] messageInBytesHashed = digest.digest(messageInBytes);\n\n            return convertByteArrayToHexString(messageInBytesHashed);\n\n        } catch (NoSuchAlgorithmException ex) {\n            throw new RuntimeException(\n                    &quot;Could not generate hash from String&quot;, ex);\n        }\n    }\n\n    private static String convertByteArrayToHexString(byte[] arrayBytes) {\n\n        StringBuilder stringBuffer = new StringBuilder();\n\n        for (byte arrayByte : arrayBytes) {\n\n            stringBuffer.append(\n                    convertByteToHexFormat(arrayByte)\n            );\n        }\n        return stringBuffer.toString();\n    }\n\n    private static String convertByteToHexFormat(byte arrayByte) {\n        return String.format(&quot;%02X&quot;, arrayByte);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76376116,"answer_count":2,"score":0,"last_activity_date":1685615589,"creation_date":1685552936,"question_id":76375868,"body_markdown":" I found a website [haveibeenpwned][1] that makes it possible to check if the password is compromised. A database with passwords is also provided. The database looks like a text file\r\n\r\n```txt\r\n000000005AD76BD555C1D6D771DE417A4B87E4B4:10\r\n00000000A8DAE4228F821FB418F59826079BF368:4\r\n00000000DD7F2A1C68A35673713783CA390C9E93:873\r\n```\r\n\r\nThere are several hundred million values encoded in SHA1, before that the values were converted to uppercase.\r\n\r\nI found this:\r\n\r\n```java\r\n  public static String generateSHA1(String message) throws RuntimeException {\r\n        return hashString(message, &quot;SHA-1&quot;);\r\n    }\r\n\r\n    private static String hashString(String message, String algorithm)\r\n            throws RuntimeException {\r\n        try {\r\n            MessageDigest digest = MessageDigest.getInstance(algorithm);\r\n            byte[] hashedBytes = digest.digest(message.getBytes(&quot;UTF-8&quot;));\r\n\r\n            return convertByteArrayToHexString(hashedBytes);\r\n        } catch (NoSuchAlgorithmException | UnsupportedEncodingException ex) {\r\n            throw new RuntimeException(\r\n                    &quot;Could not generate hash from String&quot;, ex);\r\n        }\r\n    }\r\n\r\n    private static String convertByteArrayToHexString(byte[] arrayBytes) {\r\n        StringBuilder stringBuffer = new StringBuilder();\r\n        for (byte arrayByte : arrayBytes) {\r\n            stringBuffer.append(Integer.toString((arrayByte &amp; 0xff) + 0x100, 16)\r\n                    .substring(1));\r\n        }\r\n        return stringBuffer.toString();\r\n    }\r\n```\r\nShould I bring my password (which should be compared with the hashes table) after converting to hash, to a HEX string ?\r\n\r\n Is this enough to be able to perform a comparison?\r\n\r\nHowever, I don&#39;t understand how to check such a volume :\r\n\r\n - After the &#39;:&#39; character, what is this number indicated ?\r\n - To verify, do I have to translate the password value to uppercase and encode using Message Digest with the SHA1 type ?\r\n - However, if I get a hash, then I will have to perform a hash comparison search across the entire database.\r\n- And is it possible to somehow allocate the prefix of the hash string and make a selection of suitable values and search among their range using Java, which will reduce the load on the database and reduce the response of the application?\r\n\r\nIf anyone has any ideas how to do this and what is this hash in the file, please share?\r\n\r\n  [1]: https://haveibeenpwned.com/Passwords","title":"How can I process a database with unreliable passwords","body":"<p>I found a website <a href=\"https://haveibeenpwned.com/Passwords\" rel=\"nofollow noreferrer\">haveibeenpwned</a> that makes it possible to check if the password is compromised. A database with passwords is also provided. The database looks like a text file</p>\n<pre><code>000000005AD76BD555C1D6D771DE417A4B87E4B4:10\n00000000A8DAE4228F821FB418F59826079BF368:4\n00000000DD7F2A1C68A35673713783CA390C9E93:873\n</code></pre>\n<p>There are several hundred million values encoded in SHA1, before that the values were converted to uppercase.</p>\n<p>I found this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static String generateSHA1(String message) throws RuntimeException {\n        return hashString(message, &quot;SHA-1&quot;);\n    }\n\n    private static String hashString(String message, String algorithm)\n            throws RuntimeException {\n        try {\n            MessageDigest digest = MessageDigest.getInstance(algorithm);\n            byte[] hashedBytes = digest.digest(message.getBytes(&quot;UTF-8&quot;));\n\n            return convertByteArrayToHexString(hashedBytes);\n        } catch (NoSuchAlgorithmException | UnsupportedEncodingException ex) {\n            throw new RuntimeException(\n                    &quot;Could not generate hash from String&quot;, ex);\n        }\n    }\n\n    private static String convertByteArrayToHexString(byte[] arrayBytes) {\n        StringBuilder stringBuffer = new StringBuilder();\n        for (byte arrayByte : arrayBytes) {\n            stringBuffer.append(Integer.toString((arrayByte &amp; 0xff) + 0x100, 16)\n                    .substring(1));\n        }\n        return stringBuffer.toString();\n    }\n</code></pre>\n<p>Should I bring my password (which should be compared with the hashes table) after converting to hash, to a HEX string ?</p>\n<p>Is this enough to be able to perform a comparison?</p>\n<p>However, I don't understand how to check such a volume :</p>\n<ul>\n<li>After the ':' character, what is this number indicated ?</li>\n<li>To verify, do I have to translate the password value to uppercase and encode using Message Digest with the SHA1 type ?</li>\n<li>However, if I get a hash, then I will have to perform a hash comparison search across the entire database.</li>\n<li>And is it possible to somehow allocate the prefix of the hash string and make a selection of suitable values and search among their range using Java, which will reduce the load on the database and reduce the response of the application?</li>\n</ul>\n<p>If anyone has any ideas how to do this and what is this hash in the file, please share?</p>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685618067,"post_id":76380976,"comment_id":134686767,"body_markdown":"please attach the image correctly","body":"please attach the image correctly"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1685618317,"post_id":76380976,"comment_id":134686831,"body_markdown":"Please check my comment at https://youtrack.jetbrains.com/issue/IDEA-321462/IDEA-is-not-opening-a-specific-project-it-gets-stuck-on-a-blank-thumbnail#focus=Comments-27-7402701.0-0","body":"Please check my comment at <a href=\"https://youtrack.jetbrains.com/issue/IDEA-321462/IDEA-is-not-opening-a-specific-project-it-gets-stuck-on-a-blank-thumbnail#focus=Comments-27-7402701.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-321462/&hellip;</a>"},{"owner":{"account_id":18877613,"reputation":3,"user_id":13770795,"display_name":"fakindzej"},"score":0,"creation_date":1685621208,"post_id":76380976,"comment_id":134687476,"body_markdown":"I fixed the problem by installing the EAP version of IDEA. Apparently it&#39;s a bug which hasn&#39;t been fixed yet - thank you Egor.","body":"I fixed the problem by installing the EAP version of IDEA. Apparently it&#39;s a bug which hasn&#39;t been fixed yet - thank you Egor."}],"owner":{"account_id":18877613,"reputation":3,"user_id":13770795,"display_name":"fakindzej"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685615519,"creation_date":1685615373,"question_id":76380976,"body_markdown":"When I try to open a specific project, it only loads as an empty thumbnail (see attached screenshot). The issue only happens with this project, others work fine.\r\n\r\n[sccreenshot](https://i.stack.imgur.com/VJq67.png)\r\n\r\n**What steps will reproduce the issue?**\r\nOpening the project with a right click (or with file-&gt;open) in IntelliJ IDEA.\r\n\r\n**What is the expected result?**\r\nProject opens as usual.\r\n\r\n**What I&#39;ve already tried**\r\n - Cloning the project into a new directory\r\n - Invalidating caches\r\n - Updating IDE\r\n - Restarting OS\r\n\r\n","title":"IntelliJ IDEA not opening a specific project - it gets stuck on a blank thumbnail","body":"<p>When I try to open a specific project, it only loads as an empty thumbnail (see attached screenshot). The issue only happens with this project, others work fine.</p>\n<p><a href=\"https://i.stack.imgur.com/VJq67.png\" rel=\"nofollow noreferrer\">sccreenshot</a></p>\n<p><strong>What steps will reproduce the issue?</strong>\nOpening the project with a right click (or with file-&gt;open) in IntelliJ IDEA.</p>\n<p><strong>What is the expected result?</strong>\nProject opens as usual.</p>\n<p><strong>What I've already tried</strong></p>\n<ul>\n<li>Cloning the project into a new directory</li>\n<li>Invalidating caches</li>\n<li>Updating IDE</li>\n<li>Restarting OS</li>\n</ul>\n"},{"tags":["java","class","inheritance","methods","program-entry-point"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1685546568,"post_id":76375037,"comment_id":134676157,"body_markdown":"It looks like you have put both classes in one file. Don&#39;t do that. `Derived` goes in `Derived.java` and `Test` goes in `Test.java`. Also, you currently overload the single function from `Test` in `Derived` (and just duplicated the code when you did so). That is both confusing and pointless. Also your declared package is `code.now` but your error message is from `code.ninja`.","body":"It looks like you have put both classes in one file. Don&#39;t do that. <code>Derived</code> goes in <code>Derived.java</code> and <code>Test</code> goes in <code>Test.java</code>. Also, you currently overload the single function from <code>Test</code> in <code>Derived</code> (and just duplicated the code when you did so). That is both confusing and pointless. Also your declared package is <code>code.now</code> but your error message is from <code>code.ninja</code>."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1685547155,"post_id":76375037,"comment_id":134676313,"body_markdown":"Additionally, I think the class containing `main` should be `public`","body":"Additionally, I think the class containing <code>main</code> should be <code>public</code>"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685547497,"post_id":76375037,"comment_id":134676395,"body_markdown":"@QBrute not required.","body":"@QBrute not required."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685548950,"post_id":76375037,"comment_id":134676761,"body_markdown":"Using eclipse or intelij?","body":"Using eclipse or intelij?"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685549931,"post_id":76375037,"comment_id":134676951,"body_markdown":"Does this answer your question? [Error: Selection does not contain a main type](https://stackoverflow.com/questions/16225177/error-selection-does-not-contain-a-main-type)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16225177/error-selection-does-not-contain-a-main-type\">Error: Selection does not contain a main type</a>"},{"owner":{"account_id":15437885,"reputation":39,"user_id":11137450,"display_name":"Goutham"},"score":0,"creation_date":1685553999,"post_id":76375037,"comment_id":134677825,"body_markdown":"@ElliottFrisch - it is not pointless, i&#39;m just a beginner and learning the implementation with some basic examples. I cannot comment on others capabilities ...","body":"@ElliottFrisch - it is not pointless, i&#39;m just a beginner and learning the implementation with some basic examples. I cannot comment on others capabilities ..."},{"owner":{"account_id":15437885,"reputation":39,"user_id":11137450,"display_name":"Goutham"},"score":0,"creation_date":1685554115,"post_id":76375037,"comment_id":134677840,"body_markdown":"@ElliottFrisch you are right about  the package name mismatch in the error and the code. I might have made a typo in writing the package name in code snippet","body":"@ElliottFrisch you are right about  the package name mismatch in the error and the code. I might have made a typo in writing the package name in code snippet"}],"answers":[{"tags":[],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1685550717,"creation_date":1685549006,"answer_id":76375396,"question_id":76375037,"body_markdown":"I faced the same before. Your code is  good. No issues. Problem with IDE config.\r\n\r\nFor Eclipse https://stackoverflow.com/a/75637946/11962586\r\n\r\nUPDATE - Try this way\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AQhH2.png\r\n  [2]: https://i.stack.imgur.com/CUBVs.png\r\n  [3]: https://i.stack.imgur.com/Tsdv4.png","title":"Why am I getting the error &#39;Main method not found in class&#39; even though I defined the main method in my Java program with inheritance?","body":"<p>I faced the same before. Your code is  good. No issues. Problem with IDE config.</p>\n<p>For Eclipse <a href=\"https://stackoverflow.com/a/75637946/11962586\">https://stackoverflow.com/a/75637946/11962586</a></p>\n<p>UPDATE - Try this way</p>\n<p><a href=\"https://i.stack.imgur.com/AQhH2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQhH2.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/CUBVs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CUBVs.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Tsdv4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tsdv4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15437885,"reputation":39,"user_id":11137450,"display_name":"Goutham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685615381,"creation_date":1685555239,"answer_id":76376103,"question_id":76375037,"body_markdown":"Thanks for the help.\r\n\r\nI think I found the issue. There are two files in the same package\r\n\r\n&gt; package code.ninja; \r\n\r\n    &gt; Main.java\r\n    &gt; Deriveded.java\r\n\r\n\r\n - Main.java ( this has a class name Derived ), so when I tried to create a new java class with Derived.java it&#39;s throwing error, but after I changed the class to Deriveded.java, the errors are gone.\r\n - Deriveded.java (previously it was Derived.java )\r\n\r\n[Main.java program in the same package][1]\r\n\r\n\r\n[Deriveded.java][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/onYxp.png\r\n  [2]: https://i.stack.imgur.com/MFGcX.png","title":"Why am I getting the error &#39;Main method not found in class&#39; even though I defined the main method in my Java program with inheritance?","body":"<p>Thanks for the help.</p>\n<p>I think I found the issue. There are two files in the same package</p>\n<blockquote>\n<p>package code.ninja;</p>\n</blockquote>\n<pre><code>&gt; Main.java\n&gt; Deriveded.java\n</code></pre>\n<ul>\n<li>Main.java ( this has a class name Derived ), so when I tried to create a new java class with Derived.java it's throwing error, but after I changed the class to Deriveded.java, the errors are gone.</li>\n<li>Deriveded.java (previously it was Derived.java )</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/onYxp.png\" rel=\"nofollow noreferrer\">Main.java program in the same package</a></p>\n<p><a href=\"https://i.stack.imgur.com/MFGcX.png\" rel=\"nofollow noreferrer\">Deriveded.java</a></p>\n"}],"owner":{"account_id":15437885,"reputation":39,"user_id":11137450,"display_name":"Goutham"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685615396,"accepted_answer_id":76375396,"answer_count":2,"score":1,"last_activity_date":1685615381,"creation_date":1685546302,"question_id":76375037,"body_markdown":"```\r\npackage code.now;\r\n\r\n\r\nclass Test {\r\n    public void fun() {\r\n        System.out.println(&quot;Coding Ninjas&quot;);\r\n    }\r\n}\r\n\r\nclass Derived extends Test {\r\n\t\r\n    public void fun() {\r\n        System.out.println(&quot;Coding Ninjas&quot;);\r\n    }\r\n    public static void main(String[] args) {\r\n        Derived obj = new Derived();\r\n        obj.fun();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\ni&#39;m trying to execute this code and running into the below error \r\n\r\n&quot;Error: Main method not found in class code.ninja.Derived, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application&quot;\r\n\r\nbut I already defined the main method and also tried to check for any syntax and spelling mistakes but still the code is returning the error.","title":"Why am I getting the error &#39;Main method not found in class&#39; even though I defined the main method in my Java program with inheritance?","body":"<pre><code>package code.now;\n\n\nclass Test {\n    public void fun() {\n        System.out.println(&quot;Coding Ninjas&quot;);\n    }\n}\n\nclass Derived extends Test {\n    \n    public void fun() {\n        System.out.println(&quot;Coding Ninjas&quot;);\n    }\n    public static void main(String[] args) {\n        Derived obj = new Derived();\n        obj.fun();\n    }\n}\n\n</code></pre>\n<p>i'm trying to execute this code and running into the below error</p>\n<p>&quot;Error: Main method not found in class code.ninja.Derived, please define the main method as:\npublic static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application&quot;</p>\n<p>but I already defined the main method and also tried to check for any syntax and spelling mistakes but still the code is returning the error.</p>\n"},{"tags":["java","sbt","typesafe-activator"],"owner":{"account_id":13579259,"reputation":35,"user_id":9795757,"display_name":"Shiva Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685614723,"creation_date":1685614723,"question_id":76380892,"body_markdown":"I am trying to start a play server using\r\n\r\n    activator -Dconfig.file=conf/prod.conf -Dhttp.port=9006 -Dhttps.port=9007 -jvm-debug 5005 run\r\nBut I am getting following error in the server logs:\r\n```\r\n...\r\n[info] Set current project to ofe (in build file:/Users/shiva/br/work/src/analytics/frontend/ui/)\r\n[info] Updating {file:/Users/shiva/br/work/src/analytics/frontend/ui/}ofe...\r\n[info] Resolving com.typesafe.play#play-jdbc_2.10;2.2.0 ...\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-jdbc_2.10/2.2.0/play-jdbc_2.10-2.2.0.pom\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-jdbc_2.10/2.2.0/play-jdbc_2.10-2.2.0.jar\r\n[info] Resolving com.jolbox#bonecp-parent;0.8.0-rc1 ...\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/jolbox/bonecp-parent/0.8.0-rc1/bonecp-parent-0.8.0-rc1.jar\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/jolbox/bonecp-parent/0.8.0-rc1/bonecp-parent-0.8.0-rc1.jar\r\n[info] Resolving com.typesafe.play#play-java_2.10;2.2.0 ...\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-java_2.10/2.2.0/play-java_2.10-2.2.0.pom\r\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-java_2.10/2.2.0/play-java_2.10-2.2.0.jar\r\n...\r\n```\r\nFollowing is my build.sbt file:\r\n```\r\nlibraryDependencies ++= Seq(\r\n  javaJdbc,\r\n  javaEbean,\r\n  cache,\r\n  &quot;com.google.inject&quot; % &quot;guice&quot; % &quot;3.0&quot;\r\n)\r\n\r\nresolvers += &quot;Maven Central Server&quot; at &quot;https://repo1.maven.org/maven2&quot;\r\n\r\nresolvers += &quot;Typesafe Server&quot; at &quot;https://repo.typesafe.com/typesafe/releases&quot;\r\n\r\nplay.Project.playJavaSettings\r\n\r\nseq(copyViewsSettings:_*)\r\n```\r\nFollowing is my project/plugins.sbt file:\r\n```\r\n// Comment to get more information during initialization\r\nlogLevel := Level.Warn\r\n\r\n// The Typesafe repository\r\nresolvers ++= Seq(\r\n  &quot;Typesafe repository&quot; at &quot;https://repo.typesafe.com/typesafe/releases/&quot;,\r\n  &quot;Maven Repo&quot; at  &quot;https://repo1.maven.org/maven2/&quot;\r\n)\r\n\r\n// Use the Play sbt plugin for Play projects\r\naddSbtPlugin(&quot;com.typesafe.play&quot; % &quot;sbt-plugin&quot; % &quot;2.2.0&quot;)\r\n\r\naddSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-web&quot; % &quot;1.1.0&quot;)\r\n```\r\n\r\nI am using sbt version 0.13.18. I have cleared my ~/.ivy2/cache as well.\r\nI want the activator command to resolve dependencies using https://repo.typesafe.com instead of http://repo.typesafe.com. But it is not clear how it is getting resolved to http://repo.typesafe.com.\r\n\r\n\r\nI am new to play and activator. Does anyone know how to fix the above issue?","title":"Getting a http://repo.typesafe.com server access error when trying to start a server using activator","body":"<p>I am trying to start a play server using</p>\n<pre><code>activator -Dconfig.file=conf/prod.conf -Dhttp.port=9006 -Dhttps.port=9007 -jvm-debug 5005 run\n</code></pre>\n<p>But I am getting following error in the server logs:</p>\n<pre><code>...\n[info] Set current project to ofe (in build file:/Users/shiva/br/work/src/analytics/frontend/ui/)\n[info] Updating {file:/Users/shiva/br/work/src/analytics/frontend/ui/}ofe...\n[info] Resolving com.typesafe.play#play-jdbc_2.10;2.2.0 ...\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-jdbc_2.10/2.2.0/play-jdbc_2.10-2.2.0.pom\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-jdbc_2.10/2.2.0/play-jdbc_2.10-2.2.0.jar\n[info] Resolving com.jolbox#bonecp-parent;0.8.0-rc1 ...\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/jolbox/bonecp-parent/0.8.0-rc1/bonecp-parent-0.8.0-rc1.jar\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/jolbox/bonecp-parent/0.8.0-rc1/bonecp-parent-0.8.0-rc1.jar\n[info] Resolving com.typesafe.play#play-java_2.10;2.2.0 ...\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-java_2.10/2.2.0/play-java_2.10-2.2.0.pom\n[error] Server access Error: Connection refused url=http://repo.typesafe.com/typesafe/releases/com/typesafe/play/play-java_2.10/2.2.0/play-java_2.10-2.2.0.jar\n...\n</code></pre>\n<p>Following is my build.sbt file:</p>\n<pre><code>libraryDependencies ++= Seq(\n  javaJdbc,\n  javaEbean,\n  cache,\n  &quot;com.google.inject&quot; % &quot;guice&quot; % &quot;3.0&quot;\n)\n\nresolvers += &quot;Maven Central Server&quot; at &quot;https://repo1.maven.org/maven2&quot;\n\nresolvers += &quot;Typesafe Server&quot; at &quot;https://repo.typesafe.com/typesafe/releases&quot;\n\nplay.Project.playJavaSettings\n\nseq(copyViewsSettings:_*)\n</code></pre>\n<p>Following is my project/plugins.sbt file:</p>\n<pre><code>// Comment to get more information during initialization\nlogLevel := Level.Warn\n\n// The Typesafe repository\nresolvers ++= Seq(\n  &quot;Typesafe repository&quot; at &quot;https://repo.typesafe.com/typesafe/releases/&quot;,\n  &quot;Maven Repo&quot; at  &quot;https://repo1.maven.org/maven2/&quot;\n)\n\n// Use the Play sbt plugin for Play projects\naddSbtPlugin(&quot;com.typesafe.play&quot; % &quot;sbt-plugin&quot; % &quot;2.2.0&quot;)\n\naddSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-web&quot; % &quot;1.1.0&quot;)\n</code></pre>\n<p>I am using sbt version 0.13.18. I have cleared my ~/.ivy2/cache as well.\nI want the activator command to resolve dependencies using <a href=\"https://repo.typesafe.com\" rel=\"nofollow noreferrer\">https://repo.typesafe.com</a> instead of <a href=\"http://repo.typesafe.com\" rel=\"nofollow noreferrer\">http://repo.typesafe.com</a>. But it is not clear how it is getting resolved to <a href=\"http://repo.typesafe.com\" rel=\"nofollow noreferrer\">http://repo.typesafe.com</a>.</p>\n<p>I am new to play and activator. Does anyone know how to fix the above issue?</p>\n"},{"tags":["java","kotlin"],"owner":{"account_id":18396973,"reputation":1,"user_id":17052850,"display_name":"Brayant Brice&#241;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685614502,"creation_date":1685561104,"question_id":76376686,"body_markdown":"I have my configuration, I have the signature key of the app, both upload and test, but even so, it does not read the data, I use SMS and if the message arrives, but when registering the data, it throws null, I don&#39;t know how to do it, it&#39;s the first time that This happens to me I have already used some apps but I never went through this.\r\n\r\n```\r\nandroid {\r\n    compileSdk 32\r\n\r\n    aaptOptions {\r\n        cruncherEnabled = false\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.app.violtecoffe&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 4\r\n        versionName &quot;1.4&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    viewBinding{enabled=true}\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database-ktx:20.2.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage-ktx:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging-ktx:23.1.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n\r\n    //FIREBASE\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.3.0&#39;)\r\n\r\n    implementation &#39;com.google.firebase:firebase-auth&#39;\r\n\r\n    implementation &quot;com.google.android.gms:play-services-location:21.0.1&quot;\r\n\r\n\r\n    //LOTIIEEEE\r\n\r\n    implementation &quot;com.airbnb.android:lottie:3.4.0&quot;\r\n\r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:4.15.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-appcheck-playintegrity&#39;\r\n    implementation &#39;androidx.browser:browser:1.3.0&#39;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:4.9.3&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n\r\n}\r\n\r\n\r\n```\r\n","title":"Firebase database does not read data when I upload the app in production mode","body":"<p>I have my configuration, I have the signature key of the app, both upload and test, but even so, it does not read the data, I use SMS and if the message arrives, but when registering the data, it throws null, I don't know how to do it, it's the first time that This happens to me I have already used some apps but I never went through this.</p>\n<pre><code>android {\n    compileSdk 32\n\n    aaptOptions {\n        cruncherEnabled = false\n    }\n\n    defaultConfig {\n        applicationId &quot;com.app.violtecoffe&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 4\n        versionName &quot;1.4&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n\n\n\n\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    viewBinding{enabled=true}\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.firebase:firebase-database-ktx:20.2.0'\n    implementation 'com.google.android.gms:play-services-maps:18.0.1'\n    implementation 'com.google.firebase:firebase-storage-ktx:20.1.0'\n    implementation 'com.google.firebase:firebase-messaging-ktx:23.1.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n    implementation 'com.google.firebase:firebase-crashlytics-ktx'\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n\n    //FIREBASE\n\n    implementation platform('com.google.firebase:firebase-bom:31.3.0')\n\n    implementation 'com.google.firebase:firebase-auth'\n\n    implementation &quot;com.google.android.gms:play-services-location:21.0.1&quot;\n\n\n    //LOTIIEEEE\n\n    implementation &quot;com.airbnb.android:lottie:3.4.0&quot;\n\n\n    implementation 'com.github.bumptech.glide:glide:4.15.1'\n    implementation 'com.google.firebase:firebase-appcheck-playintegrity'\n    implementation 'androidx.browser:browser:1.3.0'\n    implementation 'com.squareup.okhttp3:okhttp:4.9.3'\n    implementation 'com.android.volley:volley:1.2.1'\n\n}\n\n\n</code></pre>\n"},{"tags":["java","junit","mockito","junit4"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1685563621,"post_id":76375007,"comment_id":134679517,"body_markdown":"Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test) – `final RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();` shadows your field with the same name. The instance with injected mocks is never used. Also, you need to chose Mockito-based tests or Spring-based tests.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a> – <code>final RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();</code> shadows your field with the same name. The instance with injected mocks is never used. Also, you need to chose Mockito-based tests or Spring-based tests."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685546974,"creation_date":1685546974,"answer_id":76375128,"question_id":76375007,"body_markdown":"You&#39;re nullifying the Mock by creating a new instance of the service in your test.\r\n\r\nRemove\r\n\r\n    final RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();\r\n\r\nSince your test class already has a member variable called runSummaryServiceImpl that has the mocks injected, your test should simply look like this:\r\n\r\n    @Test\r\n    public void TestprocessCustomerRunSummaries() {\r\n        final Collection&lt;RunSummary&gt; runs = new ArrayList&lt;&gt;();\r\n        runs.add(new RunSummary(&quot;customer1&quot;, 1, Timestamp.valueOf(&quot;2023-05-30 10:00:00&quot;)));\r\n        runs.add(new RunSummary(&quot;customer2&quot;, 2, Timestamp.valueOf(&quot;2023-05-30 11:00:00&quot;)));\r\n        runs.add(new RunSummary(&quot;customer3&quot;, 3, Timestamp.valueOf(&quot;2023-05-30 12:00:00&quot;)));\r\n\r\n        // This is created as a mock at the class level\r\n        runSummaryServiceImpl.processCustomerRunSummaries(runs);\r\n    }","title":"How do I fix a null pointer exception in a JUnit test class when using Mockito?","body":"<p>You're nullifying the Mock by creating a new instance of the service in your test.</p>\n<p>Remove</p>\n<pre><code>final RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();\n</code></pre>\n<p>Since your test class already has a member variable called runSummaryServiceImpl that has the mocks injected, your test should simply look like this:</p>\n<pre><code>@Test\npublic void TestprocessCustomerRunSummaries() {\n    final Collection&lt;RunSummary&gt; runs = new ArrayList&lt;&gt;();\n    runs.add(new RunSummary(&quot;customer1&quot;, 1, Timestamp.valueOf(&quot;2023-05-30 10:00:00&quot;)));\n    runs.add(new RunSummary(&quot;customer2&quot;, 2, Timestamp.valueOf(&quot;2023-05-30 11:00:00&quot;)));\n    runs.add(new RunSummary(&quot;customer3&quot;, 3, Timestamp.valueOf(&quot;2023-05-30 12:00:00&quot;)));\n\n    // This is created as a mock at the class level\n    runSummaryServiceImpl.processCustomerRunSummaries(runs);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4220957,"reputation":177,"user_id":3455763,"accept_rate":73,"display_name":"Samuel_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685547033,"creation_date":1685547033,"answer_id":76375135,"question_id":76375007,"body_markdown":"Hy\r\n\r\nI think you can use this example :\r\n\r\n    when(myMock.doSomething()).thenThrow(new MyException());\r\n\r\nOr you can annotate your test with : \r\n\r\n    @Test(expected=MyException.class)","title":"How do I fix a null pointer exception in a JUnit test class when using Mockito?","body":"<p>Hy</p>\n<p>I think you can use this example :</p>\n<pre><code>when(myMock.doSomething()).thenThrow(new MyException());\n</code></pre>\n<p>Or you can annotate your test with :</p>\n<pre><code>@Test(expected=MyException.class)\n</code></pre>\n"}],"owner":{"account_id":28634839,"reputation":1,"user_id":21925154,"display_name":"shreyash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1685614436,"answer_count":2,"score":-2,"last_activity_date":1685614429,"creation_date":1685546105,"question_id":76375007,"body_markdown":"I am getting null pointer exception while testing.\r\nHere is the test class.\r\n\r\n```\r\n@SpringBootTest\r\npublic class RunSummaryServiceImplTest {\r\n\r\n\t@Spy   //Tried @Mock too\r\n\tprivate RunSummaryRepository runSummaryRepository;\r\n\r\n\t/** The file repository. */\r\n\t@Spy\r\n\tprivate FileRepository fileRepository;\r\n\r\n\t@InjectMocks\r\n\tRunSummaryServiceImpl runSummaryServiceImpl;\r\n\r\n\t@Before\r\n\tpublic void setup() {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void TestprocessCustomerRunSummaries() {\r\n\r\n\t\tfinal RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();\r\n\t\tfinal Collection&lt;RunSummary&gt; runs = new ArrayList&lt;&gt;();\r\n\t\truns.add(new RunSummary(&quot;customer1&quot;, 1, Timestamp.valueOf(&quot;2023-05-30 10:00:00&quot;)));\r\n\t\truns.add(new RunSummary(&quot;customer2&quot;, 2, Timestamp.valueOf(&quot;2023-05-30 11:00:00&quot;)));\r\n\t\truns.add(new RunSummary(&quot;customer3&quot;, 3, Timestamp.valueOf(&quot;2023-05-30 12:00:00&quot;)));\r\n\r\n\t\trunSummaryServiceImpl.processCustomerRunSummaries(runs);  //NULL POINTER EXCEPTION HERE\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI tried using @Spy also instead of @Mock,also I tried changing @SpringBootTest with `@ExtendWith` still getting same issue.\r\n\r\nAlso I cant use `when.thenReturn()`,because the method `processCustomerRunSummaries()` is void.\r\n\r\nHere is the ServiceImpl Class\r\n```\r\n    @Service\r\n    public class RunSummaryServiceImpl implements RunSummaryService {\r\n\r\n\t/** LOGGER. */\r\n\tprivate static final Logger LOGGER = LogManager.getLogger(RunSummaryServiceImpl.class.getName());\r\n\r\n\t/** RunSummaryRepository reference. */\r\n\t@Autowired\r\n\tprivate RunSummaryRepository runSummaryRepository;\r\n\r\n\t/** The file repository. */\r\n\t@Autowired\r\n\tprivate FileRepository fileRepository;\r\n\r\n\t\r\n\t@Override\r\n\tpublic void processCustomerRunSummaries(final Collection&lt;RunSummary&gt; runs) {\r\n\t\tLOGGER.debug(&quot;Customer RunSummary list size : {}&quot;, runs.size());\r\n\t\tfinal long start = System.currentTimeMillis();\r\n\t\tfor (final RunSummary run : runs) {\r\n\t// Get RunSummaryEntity for each group. Create/update RunSummaryEntity statics for    each group.\r\n\t\tprocessCustomerRunSummary(run);\r\n\t\t}\r\n\tLOGGER.info(&quot;All {} Customer Run Summaries processing finished in {} milliseconds.&quot;, runs.size(),\r\n\t\t\tSystem.currentTimeMillis() - start);\r\n\t}\r\n\r\n\t\r\n\t@Override\r\n\tpublic void processCustomerRunSummary(final RunSummary run) {\r\n\t\tLOGGER.debug(&quot;Processing Customer Run Summary : {}&quot;, run);\r\n\t\tfinal String customerId = run.getCustomerId();\r\n\t\tfinal Integer solutionNumber = run.getSolutionNumber();\r\n\t\tfinal Timestamp downloadDatetime = run.getDownloadDatetime();\r\n\r\n\t\ttry {\r\n\t//check if RunSummary is present in RunSummaryEntity.if not,create a RunSummaryEntity.If present     then\r\n\t\t\t// append its statistics.\r\n\t\t\tfinal RunSummaryEntity runEntityDb = runSummaryRepository\r\n\t .findByCustomerIdAndSolutionNumberAndDownloadDatetime(customerId, solutionNumber,downloadDatetime);\r\n\r\n\t\t\tif (null == runEntityDb) {\r\n\t\t\tcreateCustomerRunSummary(run, customerId, solutionNumber, downloadDatetime);\r\n\t\t\t} else {\r\n\t\t\t// runEntityDb exist in DB so update it with latest Statistics\r\n\t\tupdateCustomerRunSummary(run, customerId, solutionNumber, downloadDatetime, runEntityDb);\r\n\t\t\t}\r\n\t\t} catch (final DataAccessException daException) {\r\n\t\t// just catch and log DataAccessException so that next RunSummaries should be processed.\r\n\tLOGGER.error(&quot;DataAccessException while processing customer RunSummary: {} , error: {}&quot;, run,\r\n\t\t\t\tdaException);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAlso adding the  stack trace below\r\n\r\n```\r\n  java.lang.NullPointerException\r\n\tat     com.oversighttech.ocr.service.impl.RunSummaryServiceImpl.processCustomerRunSummary(RunSummaryServiceImpl.java:74)\r\n\tat com.oversighttech.ocr.service.impl.RunSummaryServiceImpl.processCustomerRunSummaries(RunSummaryServiceImpl.java:52)\r\n\tat com.oversighttech.ocr.service.impl.RunSummaryServiceImplTest.TestprocessCustomerRunSummaries(RunSummaryServiceImplTest.java:53)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\r\n```\r\n\r\n\r\n ","title":"How do I fix a null pointer exception in a JUnit test class when using Mockito?","body":"<p>I am getting null pointer exception while testing.\nHere is the test class.</p>\n<pre><code>@SpringBootTest\npublic class RunSummaryServiceImplTest {\n\n    @Spy   //Tried @Mock too\n    private RunSummaryRepository runSummaryRepository;\n\n    /** The file repository. */\n    @Spy\n    private FileRepository fileRepository;\n\n    @InjectMocks\n    RunSummaryServiceImpl runSummaryServiceImpl;\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void TestprocessCustomerRunSummaries() {\n\n        final RunSummaryServiceImpl runSummaryServiceImpl = new RunSummaryServiceImpl();\n        final Collection&lt;RunSummary&gt; runs = new ArrayList&lt;&gt;();\n        runs.add(new RunSummary(&quot;customer1&quot;, 1, Timestamp.valueOf(&quot;2023-05-30 10:00:00&quot;)));\n        runs.add(new RunSummary(&quot;customer2&quot;, 2, Timestamp.valueOf(&quot;2023-05-30 11:00:00&quot;)));\n        runs.add(new RunSummary(&quot;customer3&quot;, 3, Timestamp.valueOf(&quot;2023-05-30 12:00:00&quot;)));\n\n        runSummaryServiceImpl.processCustomerRunSummaries(runs);  //NULL POINTER EXCEPTION HERE\n    }\n}\n</code></pre>\n<p>I tried using @Spy also instead of @Mock,also I tried changing @SpringBootTest with <code>@ExtendWith</code> still getting same issue.</p>\n<p>Also I cant use <code>when.thenReturn()</code>,because the method <code>processCustomerRunSummaries()</code> is void.</p>\n<p>Here is the ServiceImpl Class</p>\n<pre><code>    @Service\n    public class RunSummaryServiceImpl implements RunSummaryService {\n\n    /** LOGGER. */\n    private static final Logger LOGGER = LogManager.getLogger(RunSummaryServiceImpl.class.getName());\n\n    /** RunSummaryRepository reference. */\n    @Autowired\n    private RunSummaryRepository runSummaryRepository;\n\n    /** The file repository. */\n    @Autowired\n    private FileRepository fileRepository;\n\n    \n    @Override\n    public void processCustomerRunSummaries(final Collection&lt;RunSummary&gt; runs) {\n        LOGGER.debug(&quot;Customer RunSummary list size : {}&quot;, runs.size());\n        final long start = System.currentTimeMillis();\n        for (final RunSummary run : runs) {\n    // Get RunSummaryEntity for each group. Create/update RunSummaryEntity statics for    each group.\n        processCustomerRunSummary(run);\n        }\n    LOGGER.info(&quot;All {} Customer Run Summaries processing finished in {} milliseconds.&quot;, runs.size(),\n            System.currentTimeMillis() - start);\n    }\n\n    \n    @Override\n    public void processCustomerRunSummary(final RunSummary run) {\n        LOGGER.debug(&quot;Processing Customer Run Summary : {}&quot;, run);\n        final String customerId = run.getCustomerId();\n        final Integer solutionNumber = run.getSolutionNumber();\n        final Timestamp downloadDatetime = run.getDownloadDatetime();\n\n        try {\n    //check if RunSummary is present in RunSummaryEntity.if not,create a RunSummaryEntity.If present     then\n            // append its statistics.\n            final RunSummaryEntity runEntityDb = runSummaryRepository\n     .findByCustomerIdAndSolutionNumberAndDownloadDatetime(customerId, solutionNumber,downloadDatetime);\n\n            if (null == runEntityDb) {\n            createCustomerRunSummary(run, customerId, solutionNumber, downloadDatetime);\n            } else {\n            // runEntityDb exist in DB so update it with latest Statistics\n        updateCustomerRunSummary(run, customerId, solutionNumber, downloadDatetime, runEntityDb);\n            }\n        } catch (final DataAccessException daException) {\n        // just catch and log DataAccessException so that next RunSummaries should be processed.\n    LOGGER.error(&quot;DataAccessException while processing customer RunSummary: {} , error: {}&quot;, run,\n                daException);\n        }\n    }\n</code></pre>\n<p>Also adding the  stack trace below</p>\n<pre><code>  java.lang.NullPointerException\n    at     com.oversighttech.ocr.service.impl.RunSummaryServiceImpl.processCustomerRunSummary(RunSummaryServiceImpl.java:74)\n    at com.oversighttech.ocr.service.impl.RunSummaryServiceImpl.processCustomerRunSummaries(RunSummaryServiceImpl.java:52)\n    at com.oversighttech.ocr.service.impl.RunSummaryServiceImplTest.TestprocessCustomerRunSummaries(RunSummaryServiceImplTest.java:53)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\n</code></pre>\n"},{"tags":["java","date","simpledateformat","hsqldb","date-formatting"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685613981,"post_id":76380429,"comment_id":134685940,"body_markdown":"I definitely recommend that you don’t use `SimpleDateFormat`. That is a notorious troublemaker of a class and long outdated. Use `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). Most of the format pattern letters are the same, not all of them. For example, with `DateTimeFormatter` you can choose between `dd-MMM-uuuu` and `dd-MMM-yyyy`.","body":"I definitely recommend that you don’t use <code>SimpleDateFormat</code>. That is a notorious troublemaker of a class and long outdated. Use <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Most of the format pattern letters are the same, not all of them. For example, with <code>DateTimeFormatter</code> you can choose between <code>dd-MMM-uuuu</code> and <code>dd-MMM-yyyy</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685614174,"post_id":76380429,"comment_id":134685980,"body_markdown":"I know of no other library method with same functionality. If you know the HSQL format syntax, you should be able to code it yourself. It’s not clear to me whether you are asking if the method exists or if someone will write it for you? Both seem to be off-topic for Stack Overflow. You can improve your question by spelling out what your search engine turned up and/or what your own attempt at writing the method looks like.","body":"I know of no other library method with same functionality. If you know the HSQL format syntax, you should be able to code it yourself. It’s not clear to me whether you are asking if the method exists or if someone will write it for you? Both seem to be off-topic for Stack Overflow. You can improve your question by spelling out what your search engine turned up and/or what your own attempt at writing the method looks like."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685617184,"post_id":76380429,"comment_id":134686603,"body_markdown":"Also what do you need this for? Asking because I believe that your JDBC driver can transfer `LocalDate` and other java.time objects to and from the database, and you should avoid passing dates back and forth as strings.","body":"Also what do you need this for? Asking because I believe that your JDBC driver can transfer <code>LocalDate</code> and other java.time objects to and from the database, and you should avoid passing dates back and forth as strings."},{"owner":{"account_id":8049179,"reputation":147,"user_id":6068362,"display_name":"Ragas"},"score":0,"creation_date":1685701637,"post_id":76380429,"comment_id":134701242,"body_markdown":"Thank you for the reply. I need this so I can add any date format as param and get back the SimpleDateFormat for given date format in param.","body":"Thank you for the reply. I need this so I can add any date format as param and get back the SimpleDateFormat for given date format in param."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685711652,"post_id":76380429,"comment_id":134703311,"body_markdown":"It seems that the source code of the method is [on Github](https://github.com/ryenus/hsqldb/blob/master/src/org/hsqldb/HsqlDateTime.java) from line 663. Maybe you can copy-paste it from there??","body":"It seems that the source code of the method is <a href=\"https://github.com/ryenus/hsqldb/blob/master/src/org/hsqldb/HsqlDateTime.java\" rel=\"nofollow noreferrer\">on Github</a> from line 663. Maybe you can copy-paste it from there??"}],"owner":{"account_id":8049179,"reputation":147,"user_id":6068362,"display_name":"Ragas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685614214,"creation_date":1685611378,"question_id":76380429,"body_markdown":"Need alternative for toJavaDatePattern method which is available in `HsqlDateTime` class from `jar - hsqldb-2.3.1.`\r\n\r\nMethod usage - Converts the given format to pattern acceptable by SimpleDateFormat.\r\n\r\nExample:\r\n``` toJavaDatePattern(&quot;DD-MON-YYYY&quot;) ```  - This returns - `dd-MMM-yyyy`\r\n\r\nI need to achieve the same thing and don&#39;t use this method.","title":"Need alternative for toJavaDatePattern method from HsqlDateTime class from jar - hsqldb-2.3.1","body":"<p>Need alternative for toJavaDatePattern method which is available in <code>HsqlDateTime</code> class from <code>jar - hsqldb-2.3.1.</code></p>\n<p>Method usage - Converts the given format to pattern acceptable by SimpleDateFormat.</p>\n<p>Example:\n<code>toJavaDatePattern(&quot;DD-MON-YYYY&quot;)</code>  - This returns - <code>dd-MMM-yyyy</code></p>\n<p>I need to achieve the same thing and don't use this method.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685564742,"post_id":76375900,"comment_id":134679746,"body_markdown":"What is a column in this problem? What are the contents of the list? Just Objects with no methods and no fields?","body":"What is a column in this problem? What are the contents of the list? Just Objects with no methods and no fields?"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685570914,"post_id":76375900,"comment_id":134680677,"body_markdown":"It&#39;s not exactly clear what you are trying to do. what does `file` do? do you have a list and you want to save that list in a plain text? something like that? please edit your post clarifying your problem. Maybe the article [how to ask](https://stackoverflow.com/help/how-to-ask) and [minimal reproducible element](https://stackoverflow.com/help/minimal-reproducible-example) detailing the expected behavior and the error messages that you are getting","body":"It&#39;s not exactly clear what you are trying to do. what does <code>file</code> do? do you have a list and you want to save that list in a plain text? something like that? please edit your post clarifying your problem. Maybe the article <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible element</a> detailing the expected behavior and the error messages that you are getting"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685584205,"post_id":76375900,"comment_id":134681793,"body_markdown":"You can utilize the _[String#join](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable))_ method to concatenate a list of values.  Or, do you need that specific code translated to Java?","body":"You can utilize the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable)\" rel=\"nofollow noreferrer\">String#join</a></i> method to concatenate a list of values.  Or, do you need that specific code translated to Java?"},{"owner":{"account_id":28598361,"reputation":15,"user_id":21895897,"display_name":"Hareni"},"score":0,"creation_date":1685600883,"post_id":76375900,"comment_id":134683321,"body_markdown":"Have updated the question, please take a look","body":"Have updated the question, please take a look"}],"owner":{"account_id":28598361,"reputation":15,"user_id":21895897,"display_name":"Hareni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685614184,"creation_date":1685553320,"question_id":76375900,"body_markdown":"How to extract each column value from a list of object using the column name dynamically or how to convert it into a array of column values?\r\n\r\nI am trying to replicate the following .NET (C#) code in Java.\r\n\r\n```csharp\r\nStreamWriter file = new StreamWriter(textFileName, true);\r\nforeach (DataRow row in table.Rows)\r\n{\r\n    \r\n  object[] array = row.ItemArray;\r\n  for (i = 0; i &lt; array.Length; i++)\r\n    \r\n  {\r\n    file.Write(array[i].ToString());   \r\n    if (i &lt; array.Length - 1)\r\n       file.Write(&quot;,&quot;);                                 \r\n  }                    \r\n    \r\n}\r\n```\r\nIn the above code - &#39;table&#39; is a data table, I&#39;m iterating over the rows and storing each row in an array and writing the contents to the text file one by one.\r\n\r\nLikewise, in java in place of the dataTable used in .net, I have used a List&lt;?&gt; (List of UserDetails model class)\r\n\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class UserDetails {\r\n    public String Id;\r\n    public String firstName;\r\n    public String lastName;\r\n    public String department;\r\n}\r\n```\r\n\r\n\r\n```\r\nList&lt;UserDetails&gt; userList = getDate();\r\n\r\npublic List&lt;UserDetails&gt; getData(){\r\nDataSource dataSource = jdbcTemplate.getDataSource();\r\n        if (dataSource != null) {\r\n            try (Connection con = dataSource.getConnection()) {\r\n                CallableStatement cs = this.getCallableStatement(&quot;getUsersSp&quot;, con);\r\n\r\n                int c = 0;\r\n                while(isResultSet){\r\n\r\n                    ResultSet resultSet = cs.getResultSet();\r\n                    while (resultSet.next()) {\r\n                    UserDeatils u = new UserDeatils();\r\n                    u.setId(resultSet.getString(&quot;ID&quot;));\r\n                    u.setfirstName(resultSet.getString(&quot;FirstName&quot;));\r\n                    u.setlastName(resultSet.getString(&quot;LastName&quot;));\r\n                 u.setdeapartment(resultSet.getString(&quot;Department&quot;));\r\n\r\n                   userList.add(u);\r\n}}}}\r\n\r\n}\r\n```\r\n\r\nI want traverse through the list, get each userDetail and put them into a text file &#39;,&#39; seperated\r\n\r\n```\r\nFileWriter fos = new FileWriter(&quot;D:/data/file.txt&quot;);\r\n//String Columns = [&quot;Id&quot;,&quot;firstName&quot;,&quot;lastName&quot;,&quot;department&quot;]\r\nfor(UserDetails value : batchList){  \r\n      /// I want to replicate  object[] array = row.ItemArray; in java here \r\n\r\n/// want to avaid value.getId....\r\n      fos.write();                      \r\n}\r\n\r\n```\r\n\r\nI am looking for similar implementation to the C# code given (or) an alternative way to achieve it instead of manually using the get methods for all variables present in a class, it would be better to get them dynamically to reduce number of lines in a code. Is there a way to do this? \r\n","title":"How to dynamically get the class variables in Java?","body":"<p>How to extract each column value from a list of object using the column name dynamically or how to convert it into a array of column values?</p>\n<p>I am trying to replicate the following .NET (C#) code in Java.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>StreamWriter file = new StreamWriter(textFileName, true);\nforeach (DataRow row in table.Rows)\n{\n    \n  object[] array = row.ItemArray;\n  for (i = 0; i &lt; array.Length; i++)\n    \n  {\n    file.Write(array[i].ToString());   \n    if (i &lt; array.Length - 1)\n       file.Write(&quot;,&quot;);                                 \n  }                    \n    \n}\n</code></pre>\n<p>In the above code - 'table' is a data table, I'm iterating over the rows and storing each row in an array and writing the contents to the text file one by one.</p>\n<p>Likewise, in java in place of the dataTable used in .net, I have used a List&lt;?&gt; (List of UserDetails model class)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class UserDetails {\n    public String Id;\n    public String firstName;\n    public String lastName;\n    public String department;\n}\n</code></pre>\n<pre><code>List&lt;UserDetails&gt; userList = getDate();\n\npublic List&lt;UserDetails&gt; getData(){\nDataSource dataSource = jdbcTemplate.getDataSource();\n        if (dataSource != null) {\n            try (Connection con = dataSource.getConnection()) {\n                CallableStatement cs = this.getCallableStatement(&quot;getUsersSp&quot;, con);\n\n                int c = 0;\n                while(isResultSet){\n\n                    ResultSet resultSet = cs.getResultSet();\n                    while (resultSet.next()) {\n                    UserDeatils u = new UserDeatils();\n                    u.setId(resultSet.getString(&quot;ID&quot;));\n                    u.setfirstName(resultSet.getString(&quot;FirstName&quot;));\n                    u.setlastName(resultSet.getString(&quot;LastName&quot;));\n                 u.setdeapartment(resultSet.getString(&quot;Department&quot;));\n\n                   userList.add(u);\n}}}}\n\n}\n</code></pre>\n<p>I want traverse through the list, get each userDetail and put them into a text file ',' seperated</p>\n<pre><code>FileWriter fos = new FileWriter(&quot;D:/data/file.txt&quot;);\n//String Columns = [&quot;Id&quot;,&quot;firstName&quot;,&quot;lastName&quot;,&quot;department&quot;]\nfor(UserDetails value : batchList){  \n      /// I want to replicate  object[] array = row.ItemArray; in java here \n\n/// want to avaid value.getId....\n      fos.write();                      \n}\n\n</code></pre>\n<p>I am looking for similar implementation to the C# code given (or) an alternative way to achieve it instead of manually using the get methods for all variables present in a class, it would be better to get them dynamically to reduce number of lines in a code. Is there a way to do this?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp","rational-team-concert"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685429312,"post_id":76361859,"comment_id":134654251,"body_markdown":"Note the plugin_customization.ini sets default values. It does **not** update any prefs file.","body":"Note the plugin_customization.ini sets default values. It does <b>not</b> update any prefs file."},{"owner":{"account_id":28668249,"reputation":1,"user_id":21951808,"display_name":"Saravana"},"score":0,"creation_date":1685600286,"post_id":76361859,"comment_id":134683228,"body_markdown":"Please correct me if i am wrong, because in my one of old workspace whenever i add above key and value into plugin_customization.ini it is getting updated into  com.ibm.team.process.rcp.ui.prefs file.","body":"Please correct me if i am wrong, because in my one of old workspace whenever i add above key and value into plugin_customization.ini it is getting updated into  com.ibm.team.process.rcp.ui.prefs file."},{"owner":{"account_id":28668249,"reputation":1,"user_id":21951808,"display_name":"Saravana"},"score":0,"creation_date":1685600418,"post_id":76361859,"comment_id":134683246,"body_markdown":"**Note the plugin_customization.ini sets default values** - but the value should be stored somewhere right? or will directly read from plugin_customization.ini?","body":"<b>Note the plugin_customization.ini sets default values</b> - but the value should be stored somewhere right? or will directly read from plugin_customization.ini?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685600873,"post_id":76361859,"comment_id":134683320,"body_markdown":"The plugin_customization.ini is read during startup and values are kept in memory, they are not written out. If you open one of the preference pages the page may end up writing the value to the prefs file.","body":"The plugin_customization.ini is read during startup and values are kept in memory, they are not written out. If you open one of the preference pages the page may end up writing the value to the prefs file."}],"owner":{"account_id":28668249,"reputation":1,"user_id":21951808,"display_name":"Saravana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685614013,"creation_date":1685425027,"question_id":76361859,"body_markdown":"I am using existing `org.eclipse.ui.ide.workbench` as an application in .product. One using 3.x Compatibility Layer (3.x API) on Eclipse 4.x. My platform is 4.16.\r\n\r\n`plugin_customization.ini` file is added as property value of `preferenceCustomization` under `org.eclipse.core.runtime.products` extension point in application plugin\r\n\r\nI have add below lines into `plugin_customization.ini` file but it is not updating `com.ibm.team.process.rcp.ui.prefs` file\r\n```\r\ncom.ibm.team.process.rcp.ui/com.ibm.team.process.rcp.ui.RepositoryCreationPart/dialog/uri/history0/value=&lt;URL&gt;\r\ncom.ibm.team.process.rcp.ui/com.ibm.team.process.rcp.ui.RepositoryCreationPart/dialog/uri/history1/value=&lt;URL&gt;\r\n```\r\nCreate a jazz connection:\r\n\r\n[![Create a jazz connection][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y2ZP3.png","title":"How to add url&#39;s by deafult in create a jazz repository connection under location URI in eclipse rcp application?","body":"<p>I am using existing <code>org.eclipse.ui.ide.workbench</code> as an application in .product. One using 3.x Compatibility Layer (3.x API) on Eclipse 4.x. My platform is 4.16.</p>\n<p><code>plugin_customization.ini</code> file is added as property value of <code>preferenceCustomization</code> under <code>org.eclipse.core.runtime.products</code> extension point in application plugin</p>\n<p>I have add below lines into <code>plugin_customization.ini</code> file but it is not updating <code>com.ibm.team.process.rcp.ui.prefs</code> file</p>\n<pre><code>com.ibm.team.process.rcp.ui/com.ibm.team.process.rcp.ui.RepositoryCreationPart/dialog/uri/history0/value=&lt;URL&gt;\ncom.ibm.team.process.rcp.ui/com.ibm.team.process.rcp.ui.RepositoryCreationPart/dialog/uri/history1/value=&lt;URL&gt;\n</code></pre>\n<p>Create a jazz connection:</p>\n<p><a href=\"https://i.stack.imgur.com/Y2ZP3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y2ZP3.png\" alt=\"Create a jazz connection\" /></a></p>\n"},{"tags":["java","sbt"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1685602017,"post_id":76379200,"comment_id":134683504,"body_markdown":"Is the error message full? it seems there is something missing in the stack trace~","body":"Is the error message full? it seems there is something missing in the stack trace~"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1685602999,"post_id":76379200,"comment_id":134683663,"body_markdown":"Unsupported Operation usually means that it isn&#39;t implemented in that class, and calling that method is hardcoded to throw that Exception. You may need to find the correct class of which to create an instance to call that method on","body":"Unsupported Operation usually means that it isn&#39;t implemented in that class, and calling that method is hardcoded to throw that Exception. You may need to find the correct class of which to create an instance to call that method on"},{"owner":{"account_id":13579259,"reputation":35,"user_id":9795757,"display_name":"Shiva Reddy"},"score":0,"creation_date":1685616304,"post_id":76379200,"comment_id":134686415,"body_markdown":"@FarkhodAbdukodirov I have intentionally put only the top part of the stack trace so that the question is short. Let me know if I need to provide the full stack trace.","body":"@FarkhodAbdukodirov I have intentionally put only the top part of the stack trace so that the question is short. Let me know if I need to provide the full stack trace."}],"owner":{"account_id":13579259,"reputation":35,"user_id":9795757,"display_name":"Shiva Reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685613994,"creation_date":1685600875,"question_id":76379200,"body_markdown":"I am getting the following error when I try mvn clean install on a play project:\r\n```\r\njava.lang.UnsupportedOperationException: Position.start on class scala.reflect.internal.util.OffsetPosition\r\n\tat scala.reflect.internal.util.Position.start(Position.scala:114)\r\n\tat sbt.internals.parser.SbtParser.sbt$internals$parser$SbtParser$$convertStatement$1(SbtParser.scala:148)\r\n\tat sbt.internals.parser.SbtParser$$anonfun$4.apply(SbtParser.scala:153)\r\n\tat sbt.internals.parser.SbtParser$$anonfun$4.apply(SbtParser.scala:153)\r\n\tat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\r\n\tat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\r\n\tat scala.collection.immutable.List.foreach(List.scala:318)\r\n\tat scala.collection.TraversableLike$class.flatMap(TraversableLike.scala:251)\r\n\tat scala.collection.AbstractTraversable.flatMap(Traversable.scala:105)\r\n\tat sbt.internals.parser.SbtParser.splitExpressions(SbtParser.scala:153)\r\n\tat sbt.internals.parser.SbtParser.&lt;init&gt;(SbtParser.scala:58)\r\n\tat sbt.EvaluateConfigurations$.splitExpressions(EvaluateConfigurations.scala:226)\r\n\tat sbt.EvaluateConfigurations$.parseConfiguration(EvaluateConfigurations.scala:69)\r\n\tat sbt.EvaluateConfigurations$.evaluateSbtFile(EvaluateConfigurations.scala:106)\r\n\tat sbt.Load$.sbt$Load$$loadSettingsFile$1(Load.scala:789)\r\n...\r\n```\r\nMy sbt version is 0.13.18.\r\nHere&#39;s how my ~/.sbt/repositories file looks like:\r\n```\r\n❯ cat ~/.sbt/repositories\r\n[repositories]\r\n  local\r\n  sbt-releases-repo: https://repo.typesafe.com/typesafe/ivy-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]\r\n  sbt-plugins-repo: https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]\r\n  maven-central: https://repo1.maven.org/maven2/\r\n```\r\nAnyone knows how to resolve the issue?","title":"java.lang.UnsupportedOperationException error in mvn clean for a play project","body":"<p>I am getting the following error when I try mvn clean install on a play project:</p>\n<pre><code>java.lang.UnsupportedOperationException: Position.start on class scala.reflect.internal.util.OffsetPosition\n    at scala.reflect.internal.util.Position.start(Position.scala:114)\n    at sbt.internals.parser.SbtParser.sbt$internals$parser$SbtParser$$convertStatement$1(SbtParser.scala:148)\n    at sbt.internals.parser.SbtParser$$anonfun$4.apply(SbtParser.scala:153)\n    at sbt.internals.parser.SbtParser$$anonfun$4.apply(SbtParser.scala:153)\n    at scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\n    at scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\n    at scala.collection.immutable.List.foreach(List.scala:318)\n    at scala.collection.TraversableLike$class.flatMap(TraversableLike.scala:251)\n    at scala.collection.AbstractTraversable.flatMap(Traversable.scala:105)\n    at sbt.internals.parser.SbtParser.splitExpressions(SbtParser.scala:153)\n    at sbt.internals.parser.SbtParser.&lt;init&gt;(SbtParser.scala:58)\n    at sbt.EvaluateConfigurations$.splitExpressions(EvaluateConfigurations.scala:226)\n    at sbt.EvaluateConfigurations$.parseConfiguration(EvaluateConfigurations.scala:69)\n    at sbt.EvaluateConfigurations$.evaluateSbtFile(EvaluateConfigurations.scala:106)\n    at sbt.Load$.sbt$Load$$loadSettingsFile$1(Load.scala:789)\n...\n</code></pre>\n<p>My sbt version is 0.13.18.\nHere's how my ~/.sbt/repositories file looks like:</p>\n<pre><code>❯ cat ~/.sbt/repositories\n[repositories]\n  local\n  sbt-releases-repo: https://repo.typesafe.com/typesafe/ivy-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]\n  sbt-plugins-repo: https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]\n  maven-central: https://repo1.maven.org/maven2/\n</code></pre>\n<p>Anyone knows how to resolve the issue?</p>\n"},{"tags":["java","xml","xslt","xsl-fo","apache-fop"],"comments":[{"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"score":2,"creation_date":1685638226,"post_id":76379148,"comment_id":134691897,"body_markdown":"I would post the current XSL so we can help you modify it. I see no reason for a two pass approach in the sample. One should be able to match when text contains the carret and add the appropriate footnote then.","body":"I would post the current XSL so we can help you modify it. I see no reason for a two pass approach in the sample. One should be able to match when text contains the carret and add the appropriate footnote then."},{"owner":{"account_id":6268914,"reputation":742,"user_id":4873687,"accept_rate":40,"display_name":"stackMan10"},"score":0,"creation_date":1685686605,"post_id":76379148,"comment_id":134698327,"body_markdown":"@KevinBrown the reason I thought two pass approach was needed because different footnotes should be displayed on different pages. is something like this possible in the first pass itself?  I&#39;ll post the xslfo in some time","body":"@KevinBrown the reason I thought two pass approach was needed because different footnotes should be displayed on different pages. is something like this possible in the first pass itself?  I&#39;ll post the xslfo in some time"},{"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"score":1,"creation_date":1685724800,"post_id":76379148,"comment_id":134706263,"body_markdown":"Footnote is a common FO element and will appear on the page in which it is referenced","body":"Footnote is a common FO element and will appear on the page in which it is referenced"}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685613674,"creation_date":1685613674,"answer_id":76380749,"question_id":76379148,"body_markdown":"Obviously one way you could consider is to add the necessary XSLT code (e.g. templates) to process/generate the footnotes to your existing code and existing transformation (step); if you want several transformation steps then XSLT 1.0 allows that using variables and modes with the help of an extension function (usually exsl:node-set) to transform the variable values being result tree fragments back to node-sets for the next processing step or you can easily use XSLT 2 or 3 these days with Fop processing and Java by putting a recent version of Saxon HE (e.g. 10, 11, 12) on the classpath: in XSLT 2/3 you can have intermediary results of type node or node sequence, the (kind of) artificial type &quot;result tree fragment&quot; is gone and that way you would use e.g.\r\n\r\n    &lt;xsl:import href=&quot;first-sheet.xsl&quot;/&gt;\r\n    \r\n    &lt;xsl:variable name=&quot;first-sheet-result&quot;&gt;\r\n      &lt;xsl:apply-imports/&gt;\r\n    &lt;/xsl:variable&gt;\r\n    \r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n      &lt;xsl:apply-templates select=&quot;$first-sheet-result/node()&quot; mode=&quot;step2&quot;/&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:mode name=&quot;step&quot; on-no-match=&quot;shallow-copy&quot;/&gt;\r\n    \r\n    &lt;!-- now make sure you have templates generating footnotes, might use a third mode, depending on the input (i.e. your intermediary FO) and the document structure) --&gt;\r\n\r\n","title":"How to post process an xsl fo to add footnotes on second pass based on the page numbers?","body":"<p>Obviously one way you could consider is to add the necessary XSLT code (e.g. templates) to process/generate the footnotes to your existing code and existing transformation (step); if you want several transformation steps then XSLT 1.0 allows that using variables and modes with the help of an extension function (usually exsl:node-set) to transform the variable values being result tree fragments back to node-sets for the next processing step or you can easily use XSLT 2 or 3 these days with Fop processing and Java by putting a recent version of Saxon HE (e.g. 10, 11, 12) on the classpath: in XSLT 2/3 you can have intermediary results of type node or node sequence, the (kind of) artificial type &quot;result tree fragment&quot; is gone and that way you would use e.g.</p>\n<pre><code>&lt;xsl:import href=&quot;first-sheet.xsl&quot;/&gt;\n\n&lt;xsl:variable name=&quot;first-sheet-result&quot;&gt;\n  &lt;xsl:apply-imports/&gt;\n&lt;/xsl:variable&gt;\n\n&lt;xsl:template match=&quot;/&quot;&gt;\n  &lt;xsl:apply-templates select=&quot;$first-sheet-result/node()&quot; mode=&quot;step2&quot;/&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:mode name=&quot;step&quot; on-no-match=&quot;shallow-copy&quot;/&gt;\n\n&lt;!-- now make sure you have templates generating footnotes, might use a third mode, depending on the input (i.e. your intermediary FO) and the document structure) --&gt;\n</code></pre>\n"}],"owner":{"account_id":6268914,"reputation":742,"user_id":4873687,"accept_rate":40,"display_name":"stackMan10"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685613674,"creation_date":1685600249,"question_id":76379148,"body_markdown":"I have an xml that I recive from the UI, that I use along with an xslfo to transform it to a pdf. \r\n\r\n    &lt;tabs&gt;\r\n    \t&lt;auth&gt;\r\n    \t\t&lt;appointedBy&gt;Test Person is a good SRC^1 boy&lt;/appointedBy&gt;\r\n    \t\t&lt;country&gt;Singapore&lt;/country&gt;\r\n    \t\t&lt;name&gt;NMRC&lt;/name&gt;\r\n    \t&lt;/auth&gt;\r\n    \r\n    \t&lt;meet&gt;\r\n    \t\t&lt;minutes&gt;These^2 are the minues and things like FFD^3 were discussed &lt;/minutes&gt;\r\n    \t\t&lt;frequency&gt;2&lt;/frequency&gt;\r\n    \t\t&lt;responsibilities&gt;&lt;/responsibilities&gt;\r\n    \t&lt;/meet&gt;\r\n    \r\n    \t\r\n    \t&lt;footnotes&gt;\r\n    \t\t&lt;f1&gt;SRC is a sales representative council&lt;/f1&gt;\r\n    \t\t&lt;f2&gt;PWF is the Prduct Workflow&lt;/f2&gt;\r\n    \t\t&lt;f3&gt;Borad of Reroad development&lt;/f4&gt;\r\n    \t&lt;/footnotes&gt;\r\n    \r\n    &lt;/tabs&gt;\r\n\r\nthis is the xml, a corresponding xsl fo is present that simply displays this data in a table in a key value format. \r\nAfter the first transformation is over, I generate an intermediate xsl fo, that represents the pdf, but in the fo format. I want to do a second pass on this intermediate xsl. so that I can add footnotes to the pdf based on the special characters present in the text. The footnotes should appear in the corresponding pages where that character appears. how do I achieve this? where ever ^1 is encountered in the intermediate, the pdf should have //footnotes/f1 in the footer and so on. \r\nI have found no information on how to do this. \r\nI have a couple of questions\r\n\r\n\r\n0. Is this sort of second pass even possible with apache fop ? \r\nto add footnotes to corresponding pages based on where certain texts appear in the pdf.  \r\n1. what would the second pass xslt look like ? Because I want the original pdf to look the same, This second pass should just add footnotes to the original xsl fo. \r\n2. During the second transformation, how do I send the xml data that actually has the corresponding footnotes? because in the transformer I can send the intermediate xsl fo and the new xsl fo to add the footnotes. I don&#39;t understand where the xml data can be sent. \r\n\r\n \r\n\r\n ","title":"How to post process an xsl fo to add footnotes on second pass based on the page numbers?","body":"<p>I have an xml that I recive from the UI, that I use along with an xslfo to transform it to a pdf.</p>\n<pre><code>&lt;tabs&gt;\n    &lt;auth&gt;\n        &lt;appointedBy&gt;Test Person is a good SRC^1 boy&lt;/appointedBy&gt;\n        &lt;country&gt;Singapore&lt;/country&gt;\n        &lt;name&gt;NMRC&lt;/name&gt;\n    &lt;/auth&gt;\n\n    &lt;meet&gt;\n        &lt;minutes&gt;These^2 are the minues and things like FFD^3 were discussed &lt;/minutes&gt;\n        &lt;frequency&gt;2&lt;/frequency&gt;\n        &lt;responsibilities&gt;&lt;/responsibilities&gt;\n    &lt;/meet&gt;\n\n    \n    &lt;footnotes&gt;\n        &lt;f1&gt;SRC is a sales representative council&lt;/f1&gt;\n        &lt;f2&gt;PWF is the Prduct Workflow&lt;/f2&gt;\n        &lt;f3&gt;Borad of Reroad development&lt;/f4&gt;\n    &lt;/footnotes&gt;\n\n&lt;/tabs&gt;\n</code></pre>\n<p>this is the xml, a corresponding xsl fo is present that simply displays this data in a table in a key value format.\nAfter the first transformation is over, I generate an intermediate xsl fo, that represents the pdf, but in the fo format. I want to do a second pass on this intermediate xsl. so that I can add footnotes to the pdf based on the special characters present in the text. The footnotes should appear in the corresponding pages where that character appears. how do I achieve this? where ever ^1 is encountered in the intermediate, the pdf should have //footnotes/f1 in the footer and so on.\nI have found no information on how to do this.\nI have a couple of questions</p>\n<ol start=\"0\">\n<li>Is this sort of second pass even possible with apache fop ?\nto add footnotes to corresponding pages based on where certain texts appear in the pdf.</li>\n<li>what would the second pass xslt look like ? Because I want the original pdf to look the same, This second pass should just add footnotes to the original xsl fo.</li>\n<li>During the second transformation, how do I send the xml data that actually has the corresponding footnotes? because in the transformer I can send the intermediate xsl fo and the new xsl fo to add the footnotes. I don't understand where the xml data can be sent.</li>\n</ol>\n"},{"tags":["java","android","onpause","countdowntimer"],"comments":[{"owner":{"account_id":71498,"reputation":2116,"user_id":206809,"accept_rate":57,"display_name":"Vishal Khakhkhar"},"score":0,"creation_date":1322545676,"post_id":8306374,"comment_id":10235337,"body_markdown":"This will surelyhelp you\r\n\r\nhttp://stackoverflow.com/questions/3510433/countdown-timer-required-on-android","body":"This will surelyhelp you    <a href=\"http://stackoverflow.com/questions/3510433/countdown-timer-required-on-android\" title=\"countdown timer required on android\">stackoverflow.com/questions/3510433/&hellip;</a>"},{"owner":{"account_id":376937,"reputation":21919,"user_id":863257,"accept_rate":93,"display_name":"Nikunj Patel"},"score":0,"creation_date":1322545706,"post_id":8306374,"comment_id":10235344,"body_markdown":"http://developer.android.com/reference/android/os/CountDownTimer.html","body":"<a href=\"http://developer.android.com/reference/android/os/CountDownTimer.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/CountDownTimer.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":1068886,"reputation":651,"user_id":1068638,"accept_rate":72,"display_name":"Mineko"},"score":0,"creation_date":1322546046,"post_id":8306374,"comment_id":10235404,"body_markdown":"do I need to use crono for pause and resume?","body":"do I need to use crono for pause and resume?"},{"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"score":0,"creation_date":1421245199,"post_id":8306374,"comment_id":44285326,"body_markdown":"you must see http://stackoverflow.com/a/8858608/3496570","body":"you must see <a href=\"http://stackoverflow.com/a/8858608/3496570\">stackoverflow.com/a/8858608/3496570</a>"}],"answers":[{"tags":[],"owner":{"account_id":26457,"reputation":33684,"user_id":68805,"display_name":"Reno"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1322545681,"creation_date":1322545681,"answer_id":8306456,"question_id":8306374,"body_markdown":"Well there are no API to pause or resume it. What you should do is `cancel()` the timer and store the time remaining in a variable. When the resume button is hit again, restart the timer with the value from the variable. \r\n\r\n--- \r\n\r\nYou know [Chronometers][1] may be of interest to you. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4152569/how-to-change-format-of-chronometer","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>Well there are no API to pause or resume it. What you should do is <code>cancel()</code> the timer and store the time remaining in a variable. When the resume button is hit again, restart the timer with the value from the variable. </p>\n\n<hr>\n\n<p>You know <a href=\"https://stackoverflow.com/questions/4152569/how-to-change-format-of-chronometer\">Chronometers</a> may be of interest to you. </p>\n"},{"tags":[],"owner":{"account_id":1148870,"reputation":967,"user_id":1131019,"accept_rate":33,"display_name":"hexin"},"down_vote_count":2,"up_vote_count":37,"is_accepted":true,"score":35,"last_activity_date":1477141499,"creation_date":1332324784,"answer_id":9802426,"question_id":8306374,"body_markdown":"    /*\r\n     * Copyright (C) 2010 Andrew Gainer\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *      http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n    \r\n    // Adapted from Android&#39;s CountDownTimer class\r\n    \r\n    package com.cycleindex.multitimer;\r\n    \r\n    import android.os.Handler;\r\n    import android.os.Message;\r\n    import android.os.SystemClock;\r\n    \r\n    /**\r\n     * Schedule a countdown until a time in the future, with\r\n     * regular notifications on intervals along the way.\r\n     *\r\n      * The calls to {@link #onTick(long)} are synchronized to this object so that\r\n     * one call to {@link #onTick(long)} won&#39;t ever occur before the previous\r\n     * callback is complete.  This is only relevant when the implementation of\r\n     * {@link #onTick(long)} takes an amount of time to execute that is significant\r\n     * compared to the countdown interval.\r\n     */\r\n    public abstract class CountDownTimerWithPause {\r\n    \r\n        /**\r\n         * Millis since boot when alarm should stop.\r\n         */\r\n      private long mStopTimeInFuture;\r\n    \r\n      /**\r\n       * Real time remaining until timer completes\r\n       */\r\n        private long mMillisInFuture;\r\n        \r\n        /**\r\n         * Total time on timer at start\r\n         */\r\n        private final long mTotalCountdown;\r\n        \r\n        /**\r\n         * The interval in millis that the user receives callbacks\r\n         */\r\n        private final long mCountdownInterval;\r\n        \r\n        /**\r\n         * The time remaining on the timer when it was paused, if it is currently paused; 0 otherwise.\r\n         */\r\n        private long mPauseTimeRemaining;\r\n        \r\n        /**\r\n         * True if timer was started running, false if not.\r\n         */\r\n        private boolean mRunAtStart;\r\n        \r\n        /**\r\n         * @param millisInFuture The number of millis in the future from the call\r\n         *   to {@link #start} until the countdown is done and {@link #onFinish()}\r\n         *   is called\r\n         * @param countDownInterval The interval in millis at which to execute\r\n         *   {@link #onTick(millisUntilFinished)} callbacks\r\n         * @param runAtStart True if timer should start running, false if not\r\n         */\r\n        public CountDownTimerWithPause(long millisOnTimer, long countDownInterval, boolean runAtStart) {\r\n            mMillisInFuture = millisOnTimer;\r\n            mTotalCountdown = mMillisInFuture;\r\n            mCountdownInterval = countDownInterval;\r\n            mRunAtStart = runAtStart;\r\n        }\r\n    \r\n        /**\r\n         * Cancel the countdown and clears all remaining messages\r\n         */\r\n        public final void cancel() {\r\n            mHandler.removeMessages(MSG);\r\n        }\r\n    \r\n        /**\r\n         * Create the timer object.\r\n         */\r\n        public synchronized final CountDownTimerWithPause create() {\r\n            if (mMillisInFuture &lt;= 0) {\r\n                onFinish();\r\n            } else {\r\n              mPauseTimeRemaining = mMillisInFuture;\r\n            }\r\n            \r\n            if (mRunAtStart) {\r\n              resume();\r\n            }\r\n    \r\n            return this;\r\n        }\r\n        \r\n        /**\r\n         * Pauses the counter.\r\n         */\r\n      public void pause () {\r\n        if (isRunning()) {\r\n          mPauseTimeRemaining = timeLeft();\r\n          cancel();\r\n        }\r\n      }\r\n      \r\n      /**\r\n       * Resumes the counter.\r\n       */\r\n      public void resume () {\r\n        if (isPaused()) {\r\n          mMillisInFuture = mPauseTimeRemaining;\r\n          mStopTimeInFuture = SystemClock.elapsedRealtime() + mMillisInFuture;\r\n              mHandler.sendMessage(mHandler.obtainMessage(MSG));\r\n          mPauseTimeRemaining = 0;\r\n        }\r\n      }\r\n      \r\n      /**\r\n       * Tests whether the timer is paused.\r\n       * @return true if the timer is currently paused, false otherwise.\r\n       */\r\n      public boolean isPaused () {\r\n        return (mPauseTimeRemaining &gt; 0);\r\n      }\r\n      \r\n      /**\r\n       * Tests whether the timer is running. (Performs logical negation on {@link #isPaused()})\r\n       * @return true if the timer is currently running, false otherwise.\r\n       */\r\n      public boolean isRunning() {\r\n        return (! isPaused());\r\n      }\r\n      \r\n      /**\r\n       * Returns the number of milliseconds remaining until the timer is finished\r\n       * @return number of milliseconds remaining until the timer is finished\r\n       */\r\n      public long timeLeft() {\r\n        long millisUntilFinished;\r\n        if (isPaused()) {\r\n          millisUntilFinished = mPauseTimeRemaining;\r\n        } else {\r\n          millisUntilFinished = mStopTimeInFuture - SystemClock.elapsedRealtime();\r\n          if (millisUntilFinished &lt; 0) millisUntilFinished = 0;\r\n        }\r\n        return millisUntilFinished;\r\n      }\r\n      \r\n      /**\r\n       * Returns the number of milliseconds in total that the timer was set to run\r\n       * @return number of milliseconds timer was set to run\r\n       */\r\n      public long totalCountdown() {\r\n        return mTotalCountdown;\r\n      }\r\n      \r\n      /**\r\n       * Returns the number of milliseconds that have elapsed on the timer.\r\n       * @return the number of milliseconds that have elapsed on the timer.\r\n       */\r\n      public long timePassed() {\r\n        return mTotalCountdown - timeLeft();\r\n      }\r\n      \r\n      /**\r\n       * Returns true if the timer has been started, false otherwise.\r\n       * @return true if the timer has been started, false otherwise.\r\n       */\r\n      public boolean hasBeenStarted() {\r\n        return (mPauseTimeRemaining &lt;= mMillisInFuture);\r\n      }\r\n    \r\n        /**\r\n         * Callback fired on regular interval\r\n         * @param millisUntilFinished The amount of time until finished\r\n         */\r\n        public abstract void onTick(long millisUntilFinished);\r\n    \r\n        /**\r\n         * Callback fired when the time is up.\r\n         */\r\n        public abstract void onFinish();\r\n    \r\n    \r\n        private static final int MSG = 1;\r\n    \r\n    \r\n        // handles counting down\r\n        private Handler mHandler = new Handler() {\r\n    \r\n            @Override\r\n            public void handleMessage(Message msg) {\r\n    \r\n                synchronized (CountDownTimerWithPause.this) {\r\n                    long millisLeft = timeLeft();\r\n    \r\n                    if (millisLeft &lt;= 0) {\r\n                        cancel();\r\n                      onFinish();\r\n                    } else if (millisLeft &lt; mCountdownInterval) {\r\n                        // no tick, just delay until done\r\n                        sendMessageDelayed(obtainMessage(MSG), millisLeft);\r\n                    } else {\r\n                        long lastTickStart = SystemClock.elapsedRealtime();\r\n                        onTick(millisLeft);\r\n    \r\n                        // take into account user&#39;s onTick taking time to execute\r\n                        long delay = mCountdownInterval - (SystemClock.elapsedRealtime() - lastTickStart);\r\n    \r\n                        // special case: user&#39;s onTick took more than mCountdownInterval to\r\n                        // complete, skip to next interval\r\n                        while (delay &lt; 0) delay += mCountdownInterval;\r\n    \r\n                        sendMessageDelayed(obtainMessage(MSG), delay);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nSource : [This Gist.][1]\r\n\r\n\r\n  [1]: https://gist.github.com/bverc/1492672","title":"Android: How to pause and resume a Count Down Timer?","body":"<pre><code>/*\n * Copyright (C) 2010 Andrew Gainer\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Adapted from Android's CountDownTimer class\n\npackage com.cycleindex.multitimer;\n\nimport android.os.Handler;\nimport android.os.Message;\nimport android.os.SystemClock;\n\n/**\n * Schedule a countdown until a time in the future, with\n * regular notifications on intervals along the way.\n *\n  * The calls to {@link #onTick(long)} are synchronized to this object so that\n * one call to {@link #onTick(long)} won't ever occur before the previous\n * callback is complete.  This is only relevant when the implementation of\n * {@link #onTick(long)} takes an amount of time to execute that is significant\n * compared to the countdown interval.\n */\npublic abstract class CountDownTimerWithPause {\n\n    /**\n     * Millis since boot when alarm should stop.\n     */\n  private long mStopTimeInFuture;\n\n  /**\n   * Real time remaining until timer completes\n   */\n    private long mMillisInFuture;\n\n    /**\n     * Total time on timer at start\n     */\n    private final long mTotalCountdown;\n\n    /**\n     * The interval in millis that the user receives callbacks\n     */\n    private final long mCountdownInterval;\n\n    /**\n     * The time remaining on the timer when it was paused, if it is currently paused; 0 otherwise.\n     */\n    private long mPauseTimeRemaining;\n\n    /**\n     * True if timer was started running, false if not.\n     */\n    private boolean mRunAtStart;\n\n    /**\n     * @param millisInFuture The number of millis in the future from the call\n     *   to {@link #start} until the countdown is done and {@link #onFinish()}\n     *   is called\n     * @param countDownInterval The interval in millis at which to execute\n     *   {@link #onTick(millisUntilFinished)} callbacks\n     * @param runAtStart True if timer should start running, false if not\n     */\n    public CountDownTimerWithPause(long millisOnTimer, long countDownInterval, boolean runAtStart) {\n        mMillisInFuture = millisOnTimer;\n        mTotalCountdown = mMillisInFuture;\n        mCountdownInterval = countDownInterval;\n        mRunAtStart = runAtStart;\n    }\n\n    /**\n     * Cancel the countdown and clears all remaining messages\n     */\n    public final void cancel() {\n        mHandler.removeMessages(MSG);\n    }\n\n    /**\n     * Create the timer object.\n     */\n    public synchronized final CountDownTimerWithPause create() {\n        if (mMillisInFuture &lt;= 0) {\n            onFinish();\n        } else {\n          mPauseTimeRemaining = mMillisInFuture;\n        }\n\n        if (mRunAtStart) {\n          resume();\n        }\n\n        return this;\n    }\n\n    /**\n     * Pauses the counter.\n     */\n  public void pause () {\n    if (isRunning()) {\n      mPauseTimeRemaining = timeLeft();\n      cancel();\n    }\n  }\n\n  /**\n   * Resumes the counter.\n   */\n  public void resume () {\n    if (isPaused()) {\n      mMillisInFuture = mPauseTimeRemaining;\n      mStopTimeInFuture = SystemClock.elapsedRealtime() + mMillisInFuture;\n          mHandler.sendMessage(mHandler.obtainMessage(MSG));\n      mPauseTimeRemaining = 0;\n    }\n  }\n\n  /**\n   * Tests whether the timer is paused.\n   * @return true if the timer is currently paused, false otherwise.\n   */\n  public boolean isPaused () {\n    return (mPauseTimeRemaining &gt; 0);\n  }\n\n  /**\n   * Tests whether the timer is running. (Performs logical negation on {@link #isPaused()})\n   * @return true if the timer is currently running, false otherwise.\n   */\n  public boolean isRunning() {\n    return (! isPaused());\n  }\n\n  /**\n   * Returns the number of milliseconds remaining until the timer is finished\n   * @return number of milliseconds remaining until the timer is finished\n   */\n  public long timeLeft() {\n    long millisUntilFinished;\n    if (isPaused()) {\n      millisUntilFinished = mPauseTimeRemaining;\n    } else {\n      millisUntilFinished = mStopTimeInFuture - SystemClock.elapsedRealtime();\n      if (millisUntilFinished &lt; 0) millisUntilFinished = 0;\n    }\n    return millisUntilFinished;\n  }\n\n  /**\n   * Returns the number of milliseconds in total that the timer was set to run\n   * @return number of milliseconds timer was set to run\n   */\n  public long totalCountdown() {\n    return mTotalCountdown;\n  }\n\n  /**\n   * Returns the number of milliseconds that have elapsed on the timer.\n   * @return the number of milliseconds that have elapsed on the timer.\n   */\n  public long timePassed() {\n    return mTotalCountdown - timeLeft();\n  }\n\n  /**\n   * Returns true if the timer has been started, false otherwise.\n   * @return true if the timer has been started, false otherwise.\n   */\n  public boolean hasBeenStarted() {\n    return (mPauseTimeRemaining &lt;= mMillisInFuture);\n  }\n\n    /**\n     * Callback fired on regular interval\n     * @param millisUntilFinished The amount of time until finished\n     */\n    public abstract void onTick(long millisUntilFinished);\n\n    /**\n     * Callback fired when the time is up.\n     */\n    public abstract void onFinish();\n\n\n    private static final int MSG = 1;\n\n\n    // handles counting down\n    private Handler mHandler = new Handler() {\n\n        @Override\n        public void handleMessage(Message msg) {\n\n            synchronized (CountDownTimerWithPause.this) {\n                long millisLeft = timeLeft();\n\n                if (millisLeft &lt;= 0) {\n                    cancel();\n                  onFinish();\n                } else if (millisLeft &lt; mCountdownInterval) {\n                    // no tick, just delay until done\n                    sendMessageDelayed(obtainMessage(MSG), millisLeft);\n                } else {\n                    long lastTickStart = SystemClock.elapsedRealtime();\n                    onTick(millisLeft);\n\n                    // take into account user's onTick taking time to execute\n                    long delay = mCountdownInterval - (SystemClock.elapsedRealtime() - lastTickStart);\n\n                    // special case: user's onTick took more than mCountdownInterval to\n                    // complete, skip to next interval\n                    while (delay &lt; 0) delay += mCountdownInterval;\n\n                    sendMessageDelayed(obtainMessage(MSG), delay);\n                }\n            }\n        }\n    };\n}\n</code></pre>\n\n<p>Source : <a href=\"https://gist.github.com/bverc/1492672\" rel=\"noreferrer\">This Gist.</a></p>\n"},{"tags":[],"owner":{"account_id":7056215,"reputation":2222,"user_id":5403449,"accept_rate":43,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1517292469,"creation_date":1472635299,"answer_id":39245596,"question_id":8306374,"body_markdown":"A nice and simple way to create a Pause/Resume for your CountDownTimer is to create a separate method for your timer **start**, **pause** and **resume** as follows:\r\n\r\n    public void timerStart(long timeLengthMilli) {\r\n            timer = new CountDownTimer(timeLengthMilli, 1000) {\r\n    \r\n                @Override\r\n                public void onTick(long milliTillFinish) {\r\n                    milliLeft=milliTillFinish;\r\n                    min = (milliTillFinish/(1000*60));\r\n                    sec = ((milliTillFinish/1000)-min*60);\r\n                    clock.setText(Long.toString(min)+&quot;:&quot;+Long.toString(sec));\r\n                    Log.i(&quot;Tick&quot;, &quot;Tock&quot;);\r\n                }\r\n             }\r\n             timer.start();\r\n\r\nThe timerStart has a long parameter as it will be reused by the **resume()** method below. Remember to store your **milliTillFinished** (above as milliLeft) so that you may send it through in your **resume()** method. Pause and resume methods below respectively:\r\n\r\n    public void timerPause() {\r\n            timer.cancel();\r\n        }\r\n    \r\n        private void timerResume() {\r\n            Log.i(&quot;min&quot;, Long.toString(min));\r\n            Log.i(&quot;Sec&quot;, Long.toString(sec));\r\n            timerStart(milliLeft);\r\n        }\r\n\r\nHere is the code for the button FYI:\r\n\r\n    startPause.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(startPause.getText().equals(&quot;Start&quot;)){\r\n                        Log.i(&quot;Started&quot;, startPause.getText().toString());\r\n                        startPause.setText(&quot;Pause&quot;);\r\n                        timerStart(15*1000);\r\n                    } else if (startPause.getText().equals(&quot;Pause&quot;)){\r\n                        Log.i(&quot;Paused&quot;, startPause.getText().toString());\r\n                        startPause.setText(&quot;Resume&quot;);\r\n                        timerPause();\r\n                    } else if (startPause.getText().equals(&quot;Resume&quot;)){\r\n                        startPause.setText(&quot;Pause&quot;);\r\n                        timerResume();\r\n                    }","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>A nice and simple way to create a Pause/Resume for your CountDownTimer is to create a separate method for your timer <strong>start</strong>, <strong>pause</strong> and <strong>resume</strong> as follows:</p>\n\n<pre><code>public void timerStart(long timeLengthMilli) {\n        timer = new CountDownTimer(timeLengthMilli, 1000) {\n\n            @Override\n            public void onTick(long milliTillFinish) {\n                milliLeft=milliTillFinish;\n                min = (milliTillFinish/(1000*60));\n                sec = ((milliTillFinish/1000)-min*60);\n                clock.setText(Long.toString(min)+\":\"+Long.toString(sec));\n                Log.i(\"Tick\", \"Tock\");\n            }\n         }\n         timer.start();\n</code></pre>\n\n<p>The timerStart has a long parameter as it will be reused by the <strong>resume()</strong> method below. Remember to store your <strong>milliTillFinished</strong> (above as milliLeft) so that you may send it through in your <strong>resume()</strong> method. Pause and resume methods below respectively:</p>\n\n<pre><code>public void timerPause() {\n        timer.cancel();\n    }\n\n    private void timerResume() {\n        Log.i(\"min\", Long.toString(min));\n        Log.i(\"Sec\", Long.toString(sec));\n        timerStart(milliLeft);\n    }\n</code></pre>\n\n<p>Here is the code for the button FYI:</p>\n\n<pre><code>startPause.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(startPause.getText().equals(\"Start\")){\n                    Log.i(\"Started\", startPause.getText().toString());\n                    startPause.setText(\"Pause\");\n                    timerStart(15*1000);\n                } else if (startPause.getText().equals(\"Pause\")){\n                    Log.i(\"Paused\", startPause.getText().toString());\n                    startPause.setText(\"Resume\");\n                    timerPause();\n                } else if (startPause.getText().equals(\"Resume\")){\n                    startPause.setText(\"Pause\");\n                    timerResume();\n                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3040612,"reputation":1928,"user_id":2577750,"display_name":"Ankush"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526969082,"creation_date":1514539491,"answer_id":48020267,"question_id":8306374,"body_markdown":"You can try using a library I created, [Hourglass][1]\r\n\r\n    Hourglass hourglass = new Hourglass(50000, 1000) {\r\n            @Override\r\n            public void onTimerTick(long timeRemaining) {\r\n                // Update UI\r\n                Toast.show(MainActivity.this, String.valueOf(timeRemaining), Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            @Override\r\n            public void onTimerFinish() {\r\n                // Timer finished\r\n                Toast.show(MainActivity.this, &quot;Timer finished&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n            }\r\n        };\r\n\r\nUse `hourglass.startTimer();` to start the timer.\r\n\r\nIt has helper methods which allow to pause and resume the timer.\r\n\r\n    hourglass.pauseTimer();\r\n\r\nAND\r\n\r\n    hourglass.resumeTimer();\r\n       \r\n\r\n  [1]: https://github.com/groverankush/Hourglass","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>You can try using a library I created, <a href=\"https://github.com/groverankush/Hourglass\" rel=\"nofollow noreferrer\">Hourglass</a></p>\n\n<pre><code>Hourglass hourglass = new Hourglass(50000, 1000) {\n        @Override\n        public void onTimerTick(long timeRemaining) {\n            // Update UI\n            Toast.show(MainActivity.this, String.valueOf(timeRemaining), Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onTimerFinish() {\n            // Timer finished\n            Toast.show(MainActivity.this, \"Timer finished\", Toast.LENGTH_SHORT).show();\n\n\n        }\n    };\n</code></pre>\n\n<p>Use <code>hourglass.startTimer();</code> to start the timer.</p>\n\n<p>It has helper methods which allow to pause and resume the timer.</p>\n\n<pre><code>hourglass.pauseTimer();\n</code></pre>\n\n<p>AND</p>\n\n<pre><code>hourglass.resumeTimer();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9787587,"reputation":31,"user_id":7253394,"display_name":"Sam p"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528029117,"creation_date":1528028460,"answer_id":50666360,"question_id":8306374,"body_markdown":"    \r\n \r\n\r\n        public static void setTimerMillis(Context context, long millis)\r\n     { SharedPreferences sp = \r\n    context.getSharedPreferences(SessionManager.FILE_USER, Context.MODE_PRIVATE); \r\n    SharedPreferences.Editor spe = sp.edit(); spe.putLong(SessionManager.TIMER_MILLIS, millis); spe.apply(); }\r\n    \r\n    \r\n    \r\n           void setExamTimer() {\r\n                setTimerColors();\r\n                final long maxTimeToShow = 60000;            //testing\r\n                final long lastTimeinMillisLeftSaved = TestyBookHelper.getTimerMillis(context); //take saved value from sharedpref\r\n                final long intervalTime = 1000;\r\n                donut_exam_timer.setMax((int) maxTimeToShow);\r\n                CountDownTimer countDownTimer = new CountDownTimer(lastTimeinMillisLeftSaved, intervalTime) {\r\n                    @Override\r\n                    public void onTick(long millis) {\r\n                        TestyBookHelper.setTimerMillis(context, millis);\r\n                        String hms = String.format(&quot;%02d:%02d:%02d&quot;, TimeUnit.MILLISECONDS.toHours(millis),\r\n                                TimeUnit.MILLISECONDS.toMinutes(millis) - TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(millis)),\r\n                                TimeUnit.MILLISECONDS.toSeconds(millis) - TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis)));               System.out.println(hms);\r\n                        donut_exam_timer.setText(hms);\r\n                        donut_exam_timer.setProgress(millis);\r\n                    }\r\n                    @Override\r\n                    public void onFinish() {\r\n                    }\r\n                };\r\n                countDownTimer.start();\r\n            }\r\n    \r\n      public static long getTimerMillis(Context context) {\r\n        SharedPreferences sp = context.getSharedPreferences(SessionManager.FILE_USER, Context.MODE_PRIVATE);\r\n        return sp.getLong(SessionManager.TIMER_MILLIS, 60000L);}\r\n      \r\n\r\n\r\n\r\n","title":"Android: How to pause and resume a Count Down Timer?","body":"<pre><code>    public static void setTimerMillis(Context context, long millis)\n { SharedPreferences sp = \ncontext.getSharedPreferences(SessionManager.FILE_USER, Context.MODE_PRIVATE); \nSharedPreferences.Editor spe = sp.edit(); spe.putLong(SessionManager.TIMER_MILLIS, millis); spe.apply(); }\n\n\n\n       void setExamTimer() {\n            setTimerColors();\n            final long maxTimeToShow = 60000;            //testing\n            final long lastTimeinMillisLeftSaved = TestyBookHelper.getTimerMillis(context); //take saved value from sharedpref\n            final long intervalTime = 1000;\n            donut_exam_timer.setMax((int) maxTimeToShow);\n            CountDownTimer countDownTimer = new CountDownTimer(lastTimeinMillisLeftSaved, intervalTime) {\n                @Override\n                public void onTick(long millis) {\n                    TestyBookHelper.setTimerMillis(context, millis);\n                    String hms = String.format(\"%02d:%02d:%02d\", TimeUnit.MILLISECONDS.toHours(millis),\n                            TimeUnit.MILLISECONDS.toMinutes(millis) - TimeUnit.HOURS.toMinutes(TimeUnit.MILLISECONDS.toHours(millis)),\n                            TimeUnit.MILLISECONDS.toSeconds(millis) - TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis)));               System.out.println(hms);\n                    donut_exam_timer.setText(hms);\n                    donut_exam_timer.setProgress(millis);\n                }\n                @Override\n                public void onFinish() {\n                }\n            };\n            countDownTimer.start();\n        }\n\n  public static long getTimerMillis(Context context) {\n    SharedPreferences sp = context.getSharedPreferences(SessionManager.FILE_USER, Context.MODE_PRIVATE);\n    return sp.getLong(SessionManager.TIMER_MILLIS, 60000L);}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7582999,"reputation":437,"user_id":5753128,"display_name":"rahulxyz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538477687,"creation_date":1538477687,"answer_id":52606952,"question_id":8306374,"body_markdown":"I have a simple solution. All you have to do is add an extra variable which stores the current time. The only addition is **currentMillis** at top and in onTick(). Use cancel() to pause.&lt;br&gt;\r\n**PS:** I&#39;m using butterknife library, it&#39;s used to avoid using findviewbyid and setonclicklisteners. If you do not want to use it then you can just use the basic way of setting listeners and findviewbyid.\r\n\r\n    @BindView(R.id.play_btn) ImageButton play;\r\n    @BindView(R.id.pause_btn) ImageButton pause;\r\n    @BindView(R.id.close_btn) ImageButton close;\r\n    @BindView(R.id.time) TextView time;\r\n    private CountDownTimer countDownTimer;\r\n    private long currentMillis=10;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_game);\r\n        ButterKnife.bind(this);\r\n    }\r\n\r\n    @OnClick(R.id.play_btn) void play_game(){\r\n        this.play();\r\n    }\r\n\r\n    @OnClick(R.id.pause_btn) void pause_game(){\r\n        this.pause();\r\n    }\r\n\r\n    @OnClick(R.id.close_btn) void close_game(){\r\n        this.close();\r\n    }\r\n\r\n    void play(){\r\n        play.setVisibility(View.GONE);\r\n        close.setVisibility(View.GONE);\r\n        pause.setVisibility(View.VISIBLE);\r\n\r\n        time.setText(&quot;&quot;+currentMillis);\r\n        countDownTimer = new CountDownTimer(currentMillis*1000,1000) {\r\n\r\n            @Override\r\n            public void onTick(long millisUntilFinish) {\r\n                currentMillis=millisUntilFinish/1000;\r\n                time.setText(&quot;&quot;+millisUntilFinish/1000);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                time.setText(&quot;Done!&quot;);\r\n            }\r\n        };\r\n\r\n        countDownTimer.start();\r\n    }\r\n\r\n    void pause(){\r\n        play.setVisibility(View.VISIBLE);\r\n        close.setVisibility(View.VISIBLE);\r\n        pause.setVisibility(View.GONE);\r\n        countDownTimer.cancel();\r\n    }\r\n\r\n    void close(){\r\n        if(countDownTimer!=null){\r\n            countDownTimer.cancel();\r\n            countDownTimer=null;\r\n        }\r\n        Intent intent = new Intent(this,MainActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n}","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>I have a simple solution. All you have to do is add an extra variable which stores the current time. The only addition is <strong>currentMillis</strong> at top and in onTick(). Use cancel() to pause.<br>\n<strong>PS:</strong> I'm using butterknife library, it's used to avoid using findviewbyid and setonclicklisteners. If you do not want to use it then you can just use the basic way of setting listeners and findviewbyid.</p>\n\n<pre><code>@BindView(R.id.play_btn) ImageButton play;\n@BindView(R.id.pause_btn) ImageButton pause;\n@BindView(R.id.close_btn) ImageButton close;\n@BindView(R.id.time) TextView time;\nprivate CountDownTimer countDownTimer;\nprivate long currentMillis=10;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_game);\n    ButterKnife.bind(this);\n}\n\n@OnClick(R.id.play_btn) void play_game(){\n    this.play();\n}\n\n@OnClick(R.id.pause_btn) void pause_game(){\n    this.pause();\n}\n\n@OnClick(R.id.close_btn) void close_game(){\n    this.close();\n}\n\nvoid play(){\n    play.setVisibility(View.GONE);\n    close.setVisibility(View.GONE);\n    pause.setVisibility(View.VISIBLE);\n\n    time.setText(\"\"+currentMillis);\n    countDownTimer = new CountDownTimer(currentMillis*1000,1000) {\n\n        @Override\n        public void onTick(long millisUntilFinish) {\n            currentMillis=millisUntilFinish/1000;\n            time.setText(\"\"+millisUntilFinish/1000);\n        }\n\n        @Override\n        public void onFinish() {\n            time.setText(\"Done!\");\n        }\n    };\n\n    countDownTimer.start();\n}\n\nvoid pause(){\n    play.setVisibility(View.VISIBLE);\n    close.setVisibility(View.VISIBLE);\n    pause.setVisibility(View.GONE);\n    countDownTimer.cancel();\n}\n\nvoid close(){\n    if(countDownTimer!=null){\n        countDownTimer.cancel();\n        countDownTimer=null;\n    }\n    Intent intent = new Intent(this,MainActivity.class);\n    startActivity(intent);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2666377,"reputation":3503,"user_id":2304737,"accept_rate":50,"display_name":"mr5"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603196124,"creation_date":1602508315,"answer_id":64318584,"question_id":8306374,"body_markdown":"Although the question doesn&#39;t include the Kotlin tag, I still think this answer belongs here due to Android tag.\r\n\r\nI&#39;ve made a very simple library that uses the `CountDownTimer` internally and inspired by this [answer](https://stackoverflow.com/a/8306456/2304737). So far, it works as intended with my very basic use case:\r\n&gt; Pause the timer when the app/activity is paused, and resume when the app/activity resumes.\r\n\r\n### Usage: ###\r\n\r\n    class GameActivity : Activity() {\r\n\r\n        private var timer = CustomTimer(30000, 1000) // 30 seconds duration at 1 second interval\r\n\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            ...\r\n            timer.onTick = { millisUntilFinished -&gt;\r\n                textView.text = &quot;seconds remaining: &quot; + millisUntilFinished / 1000\r\n            }\r\n            timer.onFinish = {\r\n                TODO(&quot;do something here&quot;)\r\n            }\r\n        }\r\n\r\n        override fun onResume() {\r\n            super.onResume()\r\n            timer.resume()\r\n        }\r\n\r\n        override fun onPause() {\r\n            super.onPause()\r\n            timer.pause()\r\n        }\r\n    }\r\n\r\n\r\n### Source code:  ###\r\nResumable [CustomTimer.kt](https://gist.github.com/mr5z/e997cd23844b9461f84d5ceede0e4c86) (50 lines)","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>Although the question doesn't include the Kotlin tag, I still think this answer belongs here due to Android tag.</p>\n<p>I've made a very simple library that uses the <code>CountDownTimer</code> internally and inspired by this <a href=\"https://stackoverflow.com/a/8306456/2304737\">answer</a>. So far, it works as intended with my very basic use case:</p>\n<blockquote>\n<p>Pause the timer when the app/activity is paused, and resume when the app/activity resumes.</p>\n</blockquote>\n<h3>Usage:</h3>\n<pre><code>class GameActivity : Activity() {\n\n    private var timer = CustomTimer(30000, 1000) // 30 seconds duration at 1 second interval\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        ...\n        timer.onTick = { millisUntilFinished -&gt;\n            textView.text = &quot;seconds remaining: &quot; + millisUntilFinished / 1000\n        }\n        timer.onFinish = {\n            TODO(&quot;do something here&quot;)\n        }\n    }\n\n    override fun onResume() {\n        super.onResume()\n        timer.resume()\n    }\n\n    override fun onPause() {\n        super.onPause()\n        timer.pause()\n    }\n}\n</code></pre>\n<h3>Source code:</h3>\n<p>Resumable <a href=\"https://gist.github.com/mr5z/e997cd23844b9461f84d5ceede0e4c86\" rel=\"nofollow noreferrer\">CustomTimer.kt</a> (50 lines)</p>\n"},{"tags":[],"owner":{"account_id":7832532,"reputation":1060,"user_id":5921933,"accept_rate":38,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1604301951,"creation_date":1604301951,"answer_id":64641358,"question_id":8306374,"body_markdown":"I wrote a extended CountDownTimer [here][1]. Let&#39;s try this and leave your comment:\r\n\r\n\r\n  [1]: https://github.com/huynguyennovem/Android-CountDownTimer-Ext\r\n\r\nEg:\r\n\r\n```kotlin\r\n// Init timer\r\nlateinit var timerExt: CountDownTimerExt\r\n\r\ntimerExt = object : CountDownTimerExt(TIMER_DURATION, TIMER_INTERVAL) {\r\n    override fun onTimerTick(millisUntilFinished: Long) {\r\n        Log.d(&quot;MainActivity&quot;, &quot;onTimerTick $millisUntilFinished&quot;)\r\n    }\r\n\r\n    override fun onTimerFinish() {\r\n        Log.d(&quot;MainActivity&quot;, &quot;onTimerFinish&quot;)\r\n    }\r\n\r\n}\r\n\r\n// Start/Resume timer\r\ntimerExt.start()\r\n\r\n// Pause timer\r\ntimerExt.pause()\r\n\r\n// Restart timer\r\ntimerExt.restart()\r\n```","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>I wrote a extended CountDownTimer <a href=\"https://github.com/huynguyennovem/Android-CountDownTimer-Ext\" rel=\"noreferrer\">here</a>. Let's try this and leave your comment:</p>\n<p>Eg:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Init timer\nlateinit var timerExt: CountDownTimerExt\n\ntimerExt = object : CountDownTimerExt(TIMER_DURATION, TIMER_INTERVAL) {\n    override fun onTimerTick(millisUntilFinished: Long) {\n        Log.d(&quot;MainActivity&quot;, &quot;onTimerTick $millisUntilFinished&quot;)\n    }\n\n    override fun onTimerFinish() {\n        Log.d(&quot;MainActivity&quot;, &quot;onTimerFinish&quot;)\n    }\n\n}\n\n// Start/Resume timer\ntimerExt.start()\n\n// Pause timer\ntimerExt.pause()\n\n// Restart timer\ntimerExt.restart()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16554344,"reputation":1,"user_id":11961871,"display_name":"Bence Tibor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685613509,"creation_date":1685613509,"answer_id":76380732,"question_id":8306374,"body_markdown":"Here is my code. I hope this simple and helpful.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private long startMillis = 10000; //milliseconds the start value\r\n    private CountDownTimer countDownTimer;\r\n    private Button btnStart;\r\n    private boolean isStarted;\r\n    private long remainderMillis// get remaing milli seconds\r\n\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        this.Init();\r\n\tStartTime()\r\n\r\n\r\n\r\n    }\r\n\r\n    private void Init() {\r\n        isStarted = false;\r\n       \r\n        remainderMillis = startMillis; // remaingMillis equals startMillis at the first start\r\n        this.btnStart.setOnClickListener(new View.OnClickListener() { // Start pause controller button\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (isStarted){\r\n                    PauseGame();\r\n                }else{\r\n                    StartGame();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void StartTimer(){\r\n        this.countDownTimer = new CountDownTimer(remaingMillis,1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                remainderMillis = millisUntilFinished;\r\n\r\n                int totalSecs = (int)millisUntilFinished/1000; //convert to seconds\r\n                int minutes = (totalSecs%3600)/60; // Convert to minutes\r\n                int seconds = totalSecs%60; // Convert to seconds\r\n                String timeString = String.format(&quot;%02d:%02d&quot;,minutes,seconds); // Formatting to mm:ss\r\n                countDownView.setText(timeString); // Display in textview\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n\t\t// Beeping if the timer onfinish\r\n                ToneGenerator toneGenerator = new ToneGenerator(AudioManager.STREAM_MUSIC,100);\r\n                toneGenerator.startTone(ToneGenerator.TONE_CDMA_PIP,500);\r\n\r\n\r\n            }\r\n        }.start();\r\n        btnStart.setImageResource(R.mipmap.pause); //change button image to Pause mipmap\r\n    }\r\n    private void PauseTimer(){\r\n        isStarted = false;\r\n        countDownTimer.cancel(); //You can cancel here the countDownTimer, but the current milliseconds store in the remainderMillis variable, so in the StartTimer() void can be contiune the timer\r\n        btnStart.setImageResource(R.mipmap.play);\r\n\r\n\r\n    }\r\n\r\n}\r\n","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>Here is my code. I hope this simple and helpful.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate long startMillis = 10000; //milliseconds the start value\nprivate CountDownTimer countDownTimer;\nprivate Button btnStart;\nprivate boolean isStarted;\nprivate long remainderMillis// get remaing milli seconds\n\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    this.Init();\nStartTime()\n\n\n\n}\n\nprivate void Init() {\n    isStarted = false;\n   \n    remainderMillis = startMillis; // remaingMillis equals startMillis at the first start\n    this.btnStart.setOnClickListener(new View.OnClickListener() { // Start pause controller button\n        @Override\n        public void onClick(View v) {\n            if (isStarted){\n                PauseGame();\n            }else{\n                StartGame();\n            }\n        }\n    });\n}\nprivate void StartTimer(){\n    this.countDownTimer = new CountDownTimer(remaingMillis,1000) {\n        @Override\n        public void onTick(long millisUntilFinished) {\n            remainderMillis = millisUntilFinished;\n\n            int totalSecs = (int)millisUntilFinished/1000; //convert to seconds\n            int minutes = (totalSecs%3600)/60; // Convert to minutes\n            int seconds = totalSecs%60; // Convert to seconds\n            String timeString = String.format(&quot;%02d:%02d&quot;,minutes,seconds); // Formatting to mm:ss\n            countDownView.setText(timeString); // Display in textview\n        }\n\n        @Override\n        public void onFinish() {\n    // Beeping if the timer onfinish\n            ToneGenerator toneGenerator = new ToneGenerator(AudioManager.STREAM_MUSIC,100);\n            toneGenerator.startTone(ToneGenerator.TONE_CDMA_PIP,500);\n\n\n        }\n    }.start();\n    btnStart.setImageResource(R.mipmap.pause); //change button image to Pause mipmap\n}\nprivate void PauseTimer(){\n    isStarted = false;\n    countDownTimer.cancel(); //You can cancel here the countDownTimer, but the current milliseconds store in the remainderMillis variable, so in the StartTimer() void can be contiune the timer\n    btnStart.setImageResource(R.mipmap.play);\n\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1068886,"reputation":651,"user_id":1068638,"accept_rate":72,"display_name":"Mineko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60840,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":9802426,"answer_count":9,"score":38,"last_activity_date":1685613509,"creation_date":1322545065,"question_id":8306374,"body_markdown":"I have developed a Count Down Timer and I am not sure how to pause and resume the timer as the textview for the timer is being clicked. Click to start then click again to pause and to resume, click again the timer&#39;s text view.\r\n\r\nThis is my code:\r\n\r\n\r\n        Timer = (TextView) this.findViewById(R.id.time); //TIMER  \r\n        Timer.setOnClickListener(TimerClickListener);\r\n        counter = new MyCount(600000, 1000);\r\n    }//end of create \r\n\r\n    private OnClickListener TimerClickListener = new OnClickListener() {\r\n        public void onClick(View v) {\r\n            updateTimeTask();\r\n        }\r\n\r\n        private void updateTimeTask() {\r\n            if (decision == 0) {\r\n                counter.start();\r\n                decision = 1;\r\n            } else if (decision == 2) {\r\n                counter.onResume1();\r\n                decision = 1;\r\n            } else {\r\n                counter.onPause1();\r\n                decision = 2;\r\n            }//end if  \r\n        }\r\n\r\n        ;\r\n    };\r\n\r\n    class MyCount extends CountDownTimer {\r\n        public MyCount(long millisInFuture, long countDownInterval) {\r\n            super(millisInFuture, countDownInterval);\r\n        }//MyCount  \r\n\r\n        public void onResume1() {\r\n            onResume();\r\n        }\r\n\r\n        public void onPause1() {\r\n            onPause();\r\n        }\r\n\r\n        public void onFinish() {\r\n            Timer.setText(&quot;00:00&quot;);\r\n            p1++;\r\n            if (p1 &lt;= 4) {\r\n                TextView PScore = (TextView) findViewById(R.id.pscore);\r\n                PScore.setText(p1 + &quot;&quot;);\r\n            }//end if  \r\n        }//finish  \r\n\r\n        public void onTick(long millisUntilFinished) {\r\n            Integer milisec = new Integer(new Double(millisUntilFinished).intValue());\r\n            Integer cd_secs = milisec / 1000;\r\n\r\n            Integer minutes = (cd_secs % 3600) / 60;\r\n            Integer seconds = (cd_secs % 3600) % 60;\r\n\r\n            Timer.setText(String.format(&quot;%02d&quot;, minutes) + &quot;:&quot;\r\n                    + String.format(&quot;%02d&quot;, seconds));\r\n            ///long timeLeft = millisUntilFinished / 1000;  \r\n            /}//on tick  \r\n    }//class MyCount  \r\n\r\n    protected void onResume() {\r\n        super.onResume();\r\n        //handler.removeCallbacks(updateTimeTask);  \r\n        //handler.postDelayed(updateTimeTask, 1000);  \r\n    }//onResume  \r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        //do stuff  \r\n    }//onPause  ","title":"Android: How to pause and resume a Count Down Timer?","body":"<p>I have developed a Count Down Timer and I am not sure how to pause and resume the timer as the textview for the timer is being clicked. Click to start then click again to pause and to resume, click again the timer's text view.</p>\n\n<p>This is my code:</p>\n\n<pre><code>    Timer = (TextView) this.findViewById(R.id.time); //TIMER  \n    Timer.setOnClickListener(TimerClickListener);\n    counter = new MyCount(600000, 1000);\n}//end of create \n\nprivate OnClickListener TimerClickListener = new OnClickListener() {\n    public void onClick(View v) {\n        updateTimeTask();\n    }\n\n    private void updateTimeTask() {\n        if (decision == 0) {\n            counter.start();\n            decision = 1;\n        } else if (decision == 2) {\n            counter.onResume1();\n            decision = 1;\n        } else {\n            counter.onPause1();\n            decision = 2;\n        }//end if  \n    }\n\n    ;\n};\n\nclass MyCount extends CountDownTimer {\n    public MyCount(long millisInFuture, long countDownInterval) {\n        super(millisInFuture, countDownInterval);\n    }//MyCount  \n\n    public void onResume1() {\n        onResume();\n    }\n\n    public void onPause1() {\n        onPause();\n    }\n\n    public void onFinish() {\n        Timer.setText(\"00:00\");\n        p1++;\n        if (p1 &lt;= 4) {\n            TextView PScore = (TextView) findViewById(R.id.pscore);\n            PScore.setText(p1 + \"\");\n        }//end if  \n    }//finish  \n\n    public void onTick(long millisUntilFinished) {\n        Integer milisec = new Integer(new Double(millisUntilFinished).intValue());\n        Integer cd_secs = milisec / 1000;\n\n        Integer minutes = (cd_secs % 3600) / 60;\n        Integer seconds = (cd_secs % 3600) % 60;\n\n        Timer.setText(String.format(\"%02d\", minutes) + \":\"\n                + String.format(\"%02d\", seconds));\n        ///long timeLeft = millisUntilFinished / 1000;  \n        /}//on tick  \n}//class MyCount  \n\nprotected void onResume() {\n    super.onResume();\n    //handler.removeCallbacks(updateTimeTask);  \n    //handler.postDelayed(updateTimeTask, 1000);  \n}//onResume  \n\n@Override\nprotected void onPause() {\n    super.onPause();\n    //do stuff  \n}//onPause  \n</code></pre>\n"},{"tags":["java","spring-boot","maven","testng","maven-surefire-plugin"],"answers":[{"tags":[],"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685612969,"creation_date":1685612969,"answer_id":76380646,"question_id":76380624,"body_markdown":"Ok, I have found the &quot;issue&quot;. Seems that the new versions of `maven-surefire-plugin` [needs to include][1] a `surefire-testng` extra plugin for executing it:\r\n\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;suiteXmlFiles&gt;\r\n                        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.1.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nAfter including the dependency on the plugin, now is working fine. \r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html","title":"Testng test are ignored after upgrading to Sprint Boot 3 and maven-surefire-plugin 3.1.0","body":"<p>Ok, I have found the &quot;issue&quot;. Seems that the new versions of <code>maven-surefire-plugin</code> <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/testng.html\" rel=\"nofollow noreferrer\">needs to include</a> a <code>surefire-testng</code> extra plugin for executing it:</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\n                        &lt;version&gt;3.1.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>After including the dependency on the plugin, now is working fine.</p>\n"}],"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76380646,"answer_count":1,"score":0,"last_activity_date":1685613446,"creation_date":1685612790,"question_id":76380624,"body_markdown":"I have an application that was executing TestNG tests perfectly with maven, for example, when using a `mvn clean install` command. \r\n\r\nCurrently I have updated the application to start using Spring Boot 3.1.0, and now the tests are completely ignored. No tests are executed. \r\n\r\nI am using a classic `testng.xml` file defined on the `maven-surefire-plugin`:\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;suiteXmlFiles&gt;\r\n                        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nAll solutions I have found are related about the java classes ending on `*Test.java` but this is not applied as I am using the testng suite file. And before the update, the tests are working fine. \r\n\r\nWhat has been changed into Spring Boot 3 to skip my tests?","title":"Testng test are ignored after upgrading to Sprint Boot 3 and maven-surefire-plugin 3.1.0","body":"<p>I have an application that was executing TestNG tests perfectly with maven, for example, when using a <code>mvn clean install</code> command.</p>\n<p>Currently I have updated the application to start using Spring Boot 3.1.0, and now the tests are completely ignored. No tests are executed.</p>\n<p>I am using a classic <code>testng.xml</code> file defined on the <code>maven-surefire-plugin</code>:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>All solutions I have found are related about the java classes ending on <code>*Test.java</code> but this is not applied as I am using the testng suite file. And before the update, the tests are working fine.</p>\n<p>What has been changed into Spring Boot 3 to skip my tests?</p>\n"},{"tags":["java","pentaho"],"owner":{"account_id":20163759,"reputation":9,"user_id":14788226,"display_name":"DRISSI EL Houcine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685613318,"creation_date":1685609416,"question_id":76380171,"body_markdown":"Could anyone please explain this error that I get when a job started. I have a scheduling lunch system for each kjb or ktr  and some are Ok and green and when it arrive at some ktr or kjb it gives me this error that I don&#39;t understand :\r\n    \r\n    \r\n    &gt;     2023/06/01 09:28:35 - job script launched - ERROR (version 8.3.0.0-371, build 8.3.0.0-371 from 2019-06-11 11.09.08 by buildguy) : Error running job entry &#39;job&#39; :\r\n    &gt;     2023/06/01 09:28:35 - job script launched - ERROR (version 8.3.0.0-371, build 8.3.0.0-371 from 2019-06-11 11.09.08 by buildguy) : org.pentaho.di.core.exception.KettleException: \r\n    &gt;     2023/06/01 09:28:35 - job script launched - Unexpected error during job metadata load\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at java.lang.Thread.run (null:-1)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJobRunner.run\r\n    &gt; (JobEntryJobRunner.java:69)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:565)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:686)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.execute\r\n    &gt; (JobEntryJob.java:695)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta\r\n    &gt; (JobEntryJob.java:1373)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta\r\n    &gt; (JobEntryJob.java:1409)\r\n    &gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMetaFromRepository\r\n    &gt; (JobEntryJob.java:1388)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1449)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1373)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJob.execute(JobEntryJob.java:695)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:686)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:827)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.Job.execute(Job.java:565)`enter code here`\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJobRunner.run(JobEntryJobRunner.java:69)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat java.lang.Thread.run(Unknown Source)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - Caused by: java.lang.NullPointerException\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJob.getJobMetaFromRepository(JobEntryJob.java:1388)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \tat org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1409)\r\n    &gt;     2023/06/01 09:28:35 - job script launched - \t... 11 more","title":"I get this Error java in pentaho when I start a job","body":"<p>Could anyone please explain this error that I get when a job started. I have a scheduling lunch system for each kjb or ktr  and some are Ok and green and when it arrive at some ktr or kjb it gives me this error that I don't understand :</p>\n<pre><code>&gt;     2023/06/01 09:28:35 - job script launched - ERROR (version 8.3.0.0-371, build 8.3.0.0-371 from 2019-06-11 11.09.08 by buildguy) : Error running job entry 'job' :\n&gt;     2023/06/01 09:28:35 - job script launched - ERROR (version 8.3.0.0-371, build 8.3.0.0-371 from 2019-06-11 11.09.08 by buildguy) : org.pentaho.di.core.exception.KettleException: \n&gt;     2023/06/01 09:28:35 - job script launched - Unexpected error during job metadata load\n&gt;     2023/06/01 09:28:35 - job script launched -  at java.lang.Thread.run (null:-1)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJobRunner.run\n&gt; (JobEntryJobRunner.java:69)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:565)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.Job.execute (Job.java:686)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.execute\n&gt; (JobEntryJob.java:695)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta\n&gt; (JobEntryJob.java:1373)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta\n&gt; (JobEntryJob.java:1409)\n&gt;     2023/06/01 09:28:35 - job script launched -  at org.pentaho.di.job.entries.job.JobEntryJob.getJobMetaFromRepository\n&gt; (JobEntryJob.java:1388)\n&gt;     2023/06/01 09:28:35 - job script launched - \n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1449)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1373)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJob.execute(JobEntryJob.java:695)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:686)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:827)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.Job.execute(Job.java:565)`enter code here`\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJobRunner.run(JobEntryJobRunner.java:69)\n&gt;     2023/06/01 09:28:35 - job script launched -   at java.lang.Thread.run(Unknown Source)\n&gt;     2023/06/01 09:28:35 - job script launched - Caused by: java.lang.NullPointerException\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJob.getJobMetaFromRepository(JobEntryJob.java:1388)\n&gt;     2023/06/01 09:28:35 - job script launched -   at org.pentaho.di.job.entries.job.JobEntryJob.getJobMeta(JobEntryJob.java:1409)\n&gt;     2023/06/01 09:28:35 - job script launched -   ... 11 more\n</code></pre>\n"},{"tags":["java","intellij-idea","annotations","abstract-syntax-tree","annotation-processing"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1684130660,"post_id":76250953,"comment_id":134465867,"body_markdown":"Have you enabled annotation processing? See [IntelliJ doc](https://www.jetbrains.com/help/idea/annotation-processors-support.html)","body":"Have you enabled annotation processing? See <a href=\"https://www.jetbrains.com/help/idea/annotation-processors-support.html\" rel=\"nofollow noreferrer\">IntelliJ doc</a>"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1684144018,"post_id":76250953,"comment_id":134468529,"body_markdown":"If yes, please share your project sample at https://uploads.jetbrains.com and share the UploadID here to check the configuration","body":"If yes, please share your project sample at <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and share the UploadID here to check the configuration"},{"owner":{"account_id":15749960,"reputation":11,"user_id":11364836,"display_name":"Thoi Khuman"},"score":0,"creation_date":1684158558,"post_id":76250953,"comment_id":134471807,"body_markdown":"I am not sure if these are the correct settings, but I have turned enabled annotation processing for the profiles Maven default annotation processors profile &amp; Annotation profile for AstTest but not for the Default profile. I have added the screen shot of it in the main question at the end.","body":"I am not sure if these are the correct settings, but I have turned enabled annotation processing for the profiles Maven default annotation processors profile &amp; Annotation profile for AstTest but not for the Default profile. I have added the screen shot of it in the main question at the end."},{"owner":{"account_id":15749960,"reputation":11,"user_id":11364836,"display_name":"Thoi Khuman"},"score":0,"creation_date":1684159020,"post_id":76250953,"comment_id":134471932,"body_markdown":"@EgorKlepikov here is the sample project Upload id: 2023_05_15_V3pSsNMD2m4eQvcWjGw2FK (file: AstTest.zip)","body":"@EgorKlepikov here is the sample project Upload id: 2023_05_15_V3pSsNMD2m4eQvcWjGw2FK (file: AstTest.zip)"}],"answers":[{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685613278,"creation_date":1685613278,"answer_id":76380698,"question_id":76250953,"body_markdown":"IDEA does recognize Classes and Methods generated by APs, but it expects them to be located in `target/generated-sources`.\r\nIn the Project you have provided you seem to be using an approach that is closer to what [Lombok][1] is doing.\r\n\r\nUnfortunately, recognizing Classes/Methods generated in such a way would require a custom support in editor for each individual implementation.\r\n\r\n\r\n  [1]: https://projectlombok.org/","title":"How to get intellij idea to recognise methods generated by my annotation processor","body":"<p>IDEA does recognize Classes and Methods generated by APs, but it expects them to be located in <code>target/generated-sources</code>.\nIn the Project you have provided you seem to be using an approach that is closer to what <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> is doing.</p>\n<p>Unfortunately, recognizing Classes/Methods generated in such a way would require a custom support in editor for each individual implementation.</p>\n"}],"owner":{"account_id":15749960,"reputation":11,"user_id":11364836,"display_name":"Thoi Khuman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685613278,"creation_date":1684126380,"question_id":76250953,"body_markdown":"I have created a multi module project namely **App** and **Mods**, **App** contains the main method and **Mods** contains the annotation and its annotation processor.\r\n[Project Structure](https://i.stack.imgur.com/4CRMt.png)\r\n\r\nI have used the annotation on a class defined in the **App** module called *Test*, and further created an instance of it in the main method and also called the the *getTest* method that gets generated by the annotation processor.\r\n[Test class](https://i.stack.imgur.com/EMNFO.png)\r\n[Main method](https://i.stack.imgur.com/f9M6N.png)\r\n\r\nThe problem I am facing is that the method is not recognised by intellij and shows an error, but the project compiles and runs just fine.\r\n[Run results](https://i.stack.imgur.com/Np3eJ.png)\r\n\r\nHow do I get intellij idea to recognise methods generated by a custom annotation processor?\r\n\r\n\r\n#Note: annotation processor uses AST modification to generate the method\r\n\r\n[Preferences](https://i.stack.imgur.com/dIyDu.png)\r\n[Annotation processor](https://i.stack.imgur.com/NRWes.png)","title":"How to get intellij idea to recognise methods generated by my annotation processor","body":"<p>I have created a multi module project namely <strong>App</strong> and <strong>Mods</strong>, <strong>App</strong> contains the main method and <strong>Mods</strong> contains the annotation and its annotation processor.\n<a href=\"https://i.stack.imgur.com/4CRMt.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<p>I have used the annotation on a class defined in the <strong>App</strong> module called <em>Test</em>, and further created an instance of it in the main method and also called the the <em>getTest</em> method that gets generated by the annotation processor.\n<a href=\"https://i.stack.imgur.com/EMNFO.png\" rel=\"nofollow noreferrer\">Test class</a>\n<a href=\"https://i.stack.imgur.com/f9M6N.png\" rel=\"nofollow noreferrer\">Main method</a></p>\n<p>The problem I am facing is that the method is not recognised by intellij and shows an error, but the project compiles and runs just fine.\n<a href=\"https://i.stack.imgur.com/Np3eJ.png\" rel=\"nofollow noreferrer\">Run results</a></p>\n<p>How do I get intellij idea to recognise methods generated by a custom annotation processor?</p>\n<p>#Note: annotation processor uses AST modification to generate the method</p>\n<p><a href=\"https://i.stack.imgur.com/dIyDu.png\" rel=\"nofollow noreferrer\">Preferences</a>\n<a href=\"https://i.stack.imgur.com/NRWes.png\" rel=\"nofollow noreferrer\">Annotation processor</a></p>\n"},{"tags":["java","spring","swagger","openapi","springdoc"],"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685613242,"creation_date":1685612693,"question_id":76380610,"body_markdown":"I needed a different Instant format in all my dtos in swagger examples, so I&#39;ve replaced schema for an instant like this:\r\n\r\n    var config = SpringDocUtils.getConfig();\r\n    \r\n    config.replaceWithSchema(Instant.class, new StringSchema().example(INSTANT_FORMATTER.format(Instant.now())));\r\n\r\nBut I also need to have a specific format for some dtos. I&#39;ve tried to add `@Schema(example = &quot;2023-06-01T09:24:14.512125&quot;, type = &quot;string&quot;)` for this field, but seems like this annotation is ignored because of my `replaceWithSchema()`.\r\n\r\nHow can I specify different examples for specific Instant fields, while having another example for the rest of the Instant fields?","title":"Override example for one field in DTO with OpenAPI","body":"<p>I needed a different Instant format in all my dtos in swagger examples, so I've replaced schema for an instant like this:</p>\n<pre><code>var config = SpringDocUtils.getConfig();\n\nconfig.replaceWithSchema(Instant.class, new StringSchema().example(INSTANT_FORMATTER.format(Instant.now())));\n</code></pre>\n<p>But I also need to have a specific format for some dtos. I've tried to add <code>@Schema(example = &quot;2023-06-01T09:24:14.512125&quot;, type = &quot;string&quot;)</code> for this field, but seems like this annotation is ignored because of my <code>replaceWithSchema()</code>.</p>\n<p>How can I specify different examples for specific Instant fields, while having another example for the rest of the Instant fields?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1685606537,"post_id":76379660,"comment_id":134684356,"body_markdown":"Have you tried **downgrading** to Gradle 7.6 and maybe to Java 17 (or even Java 11)? Though given the error, more likely you only need to downgrade Java.","body":"Have you tried <b>downgrading</b> to Gradle 7.6 and maybe to Java 17 (or even Java 11)? Though given the error, more likely you only need to downgrade Java."},{"owner":{"account_id":4943370,"reputation":123,"user_id":3979494,"display_name":"Manu Mathur"},"score":0,"creation_date":1685609988,"post_id":76379660,"comment_id":134685078,"body_markdown":"Let me try this method, Mark. To achieve the same, I shall - 1) Uninstall the current JDK v20 from the system and will reinstall JDK v17. \n\nWill also reset the environment and system variables.\n\nHope that works.","body":"Let me try this method, Mark. To achieve the same, I shall - 1) Uninstall the current JDK v20 from the system and will reinstall JDK v17.   Will also reset the environment and system variables.  Hope that works."},{"owner":{"account_id":4943370,"reputation":123,"user_id":3979494,"display_name":"Manu Mathur"},"score":0,"creation_date":1685612940,"post_id":76379660,"comment_id":134685744,"body_markdown":"Hey @MarkRotteveel - the issue stands resolved. AS is no longer throwing error and the build is successful. Thanks for reminding me to downgrade the JDK version.","body":"Hey @MarkRotteveel - the issue stands resolved. AS is no longer throwing error and the build is successful. Thanks for reminding me to downgrade the JDK version."}],"answers":[{"tags":[],"owner":{"account_id":11941592,"reputation":1007,"user_id":8738231,"display_name":"mostafa3dmax"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685613056,"creation_date":1685613056,"answer_id":76380662,"question_id":76379660,"body_markdown":"In the Project Structure menu -&gt; SDK Location -&gt; Gradle settings, set Gradle JDK to embedded JSD 17.0.6","title":"Getting &quot;Unsupported Java&quot; Gradle and JDK related error on Android Studio Flamingo","body":"<p>In the Project Structure menu -&gt; SDK Location -&gt; Gradle settings, set Gradle JDK to embedded JSD 17.0.6</p>\n"}],"owner":{"account_id":4943370,"reputation":123,"user_id":3979494,"display_name":"Manu Mathur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685613056,"creation_date":1685605133,"question_id":76379660,"body_markdown":"I am restarting my Android development journey after 9 years, but when I try building my first project on Android Studio v2022.2.1, I encounter this error:\r\n\r\n```none\r\nUnsupported Java. \r\nYour build is currently configured to use Java 20.0.1 and Gradle 8.0.\r\n\r\nPossible solution:\r\n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\r\n```\r\n\r\nI searched for solutions on Stack Overflow and noticed that it&#39;s primarily related to Gradle properties and version issues, and most of the solutions recommended to either upgrade the Gradle version to 7.4+ or downgrade the JDK version.\r\n\r\nBut, I am already using Gradle v8.0 and latest JDK, available for my OS (Windows 10 OS x64 architecture). So, what could be the issue.\r\n\r\nI have already attempted the following steps listed in these 2 Stack Overflow answers:\r\n\r\n- [Answer #1](https://stackoverflow.com/questions/70890575/flutter-android-your-build-is-currently-configured-to-use-java-17-0-2-and-gra)\r\n\r\n- [Answer #2](https://stackoverflow.com/questions/75543891/unsupported-java-android-studio)\r\n\r\nBut the issue persists.","title":"Getting &quot;Unsupported Java&quot; Gradle and JDK related error on Android Studio Flamingo","body":"<p>I am restarting my Android development journey after 9 years, but when I try building my first project on Android Studio v2022.2.1, I encounter this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Unsupported Java. \nYour build is currently configured to use Java 20.0.1 and Gradle 8.0.\n\nPossible solution:\n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\n</code></pre>\n<p>I searched for solutions on Stack Overflow and noticed that it's primarily related to Gradle properties and version issues, and most of the solutions recommended to either upgrade the Gradle version to 7.4+ or downgrade the JDK version.</p>\n<p>But, I am already using Gradle v8.0 and latest JDK, available for my OS (Windows 10 OS x64 architecture). So, what could be the issue.</p>\n<p>I have already attempted the following steps listed in these 2 Stack Overflow answers:</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/70890575/flutter-android-your-build-is-currently-configured-to-use-java-17-0-2-and-gra\">Answer #1</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/75543891/unsupported-java-android-studio\">Answer #2</a></p>\n</li>\n</ul>\n<p>But the issue persists.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":4875051,"reputation":4665,"user_id":3930424,"accept_rate":78,"display_name":"GROX13"},"score":1,"creation_date":1489423567,"post_id":42768942,"comment_id":72653531,"body_markdown":"Possible duplicate of [Android Studio 2.2. Preview 1 error: &quot;Please use JDK 8 or newer&quot;](http://stackoverflow.com/questions/37335214/android-studio-2-2-preview-1-error-please-use-jdk-8-or-newer)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/37335214/android-studio-2-2-preview-1-error-please-use-jdk-8-or-newer\">Android Studio 2.2. Preview 1 error: &quot;Please use JDK 8 or newer&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489423351,"creation_date":1489423351,"answer_id":42768977,"question_id":42768942,"body_markdown":"&gt; Unsupported Java Version: Cannot start under Java 1.7.0_80-b15: Java 1.8 or later is required.\r\n\r\nIt seems like you also have outdated Java 7 installed on your system. Simply uninstall it completely if you do not really need it or at least update it to most recent version.\t","title":"How to fix unsupported Java version for Android Studio?","body":"<blockquote>\n  <p>Unsupported Java Version: Cannot start under Java 1.7.0_80-b15: Java 1.8 or later is required.</p>\n</blockquote>\n\n<p>It seems like you also have outdated Java 7 installed on your system. Simply uninstall it completely if you do not really need it or at least update it to most recent version. </p>\n"},{"tags":[],"owner":{"account_id":403078,"reputation":4280,"user_id":770627,"accept_rate":78,"display_name":"Albert.Qing"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685100638,"creation_date":1685100638,"answer_id":76340379,"question_id":42768942,"body_markdown":"1.Open your project in Android Studio and select\r\n `File &gt; Settings (on macOS, Android Studio &gt; Preferences`).\r\n\r\n2.In the left pane, navigate to `Build, Execution, Deployment &gt; Build Tools &gt; Gradle`.\r\n\r\n3.Under Gradle `JDK`, choose the right JDK option.\r\nClick OK.","title":"How to fix unsupported Java version for Android Studio?","body":"<p>1.Open your project in Android Studio and select\n<code>File &gt; Settings (on macOS, Android Studio &gt; Preferences</code>).</p>\n<p>2.In the left pane, navigate to <code>Build, Execution, Deployment &gt; Build Tools &gt; Gradle</code>.</p>\n<p>3.Under Gradle <code>JDK</code>, choose the right JDK option.\nClick OK.</p>\n"},{"tags":[],"owner":{"account_id":20651806,"reputation":1,"user_id":15161909,"display_name":"Mahmoud El Shenawy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685612945,"creation_date":1685612945,"answer_id":76380641,"question_id":42768942,"body_markdown":"There are two solutions, especially after updating Android Studio will change the default JDK to a higher version. So, If you are using an older version you have to make changes according to you. \r\n\r\nFirstly, to change the using JDK in Android Studio (Overall not for specific projects) the answer of @Albert.Qing is perfect, and no need to repeat his steps\r\n\r\nif the issue still exists so you have to change it in your specific project. \r\n\r\n&gt; Open your project\r\n&gt; \r\n&gt; Open `Project Structure`\r\n&gt; \r\n&gt; Select `SDK Location`\r\n&gt; \r\n&gt; You will see the following sentence: JDK Location was moved to `Gradle\r\n&gt; Setting` - Click on the setting\r\n&gt;\r\n&gt; Change the `Gradle JDK` to a suitable version\r\n\r\n","title":"How to fix unsupported Java version for Android Studio?","body":"<p>There are two solutions, especially after updating Android Studio will change the default JDK to a higher version. So, If you are using an older version you have to make changes according to you.</p>\n<p>Firstly, to change the using JDK in Android Studio (Overall not for specific projects) the answer of @Albert.Qing is perfect, and no need to repeat his steps</p>\n<p>if the issue still exists so you have to change it in your specific project.</p>\n<blockquote>\n<p>Open your project</p>\n<p>Open <code>Project Structure</code></p>\n<p>Select <code>SDK Location</code></p>\n<p>You will see the following sentence: JDK Location was moved to <code>Gradle Setting</code> - Click on the setting</p>\n<p>Change the <code>Gradle JDK</code> to a suitable version</p>\n</blockquote>\n"}],"owner":{"account_id":10450331,"reputation":31,"user_id":7704169,"display_name":"harsha555"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10429,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":3,"score":0,"last_activity_date":1685612945,"creation_date":1489423220,"question_id":42768942,"body_markdown":"I downloaded Android Studio, but when I try to run it I get:\r\n\r\n&gt; Unsupported Java Version: Cannot start under Java 1.7.0_80-b15: Java 1.8 or later is required.\r\n\r\nBut when I checked the Java version it is:\r\n\r\n&gt; java version &quot;1.8.0_45&quot; Java(TM) SE Runtime Environment (build 1.8.0_45-b14) Java HotSpot(TM) Server VM (build 25.45-b02, mixed mode)\r\n\r\nHow to fix it?","title":"How to fix unsupported Java version for Android Studio?","body":"<p>I downloaded Android Studio, but when I try to run it I get:</p>\n\n<blockquote>\n  <p>Unsupported Java Version: Cannot start under Java 1.7.0_80-b15: Java 1.8 or later is required.</p>\n</blockquote>\n\n<p>But when I checked the Java version it is:</p>\n\n<blockquote>\n  <p>java version \"1.8.0_45\" Java(TM) SE Runtime Environment (build 1.8.0_45-b14) Java HotSpot(TM) Server VM (build 25.45-b02, mixed mode)</p>\n</blockquote>\n\n<p>How to fix it?</p>\n"},{"tags":["java","spring","spring-boot","graphql"],"comments":[{"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"score":0,"creation_date":1550690466,"post_id":54793759,"comment_id":96365566,"body_markdown":"Have you tried this `and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)`?","body":"Have you tried this <code>and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)</code>?"},{"owner":{"account_id":13731020,"reputation":532,"user_id":9908535,"display_name":"Michael"},"score":0,"creation_date":1550690850,"post_id":54793759,"comment_id":96365727,"body_markdown":"I cannot configure the ObjectMapper, since it is used by graphql-servlet library internaly. But as written above: It anyway does not make any sense that the Publisher gets serialized to JSON.","body":"I cannot configure the ObjectMapper, since it is used by graphql-servlet library internaly. But as written above: It anyway does not make any sense that the Publisher gets serialized to JSON."}],"answers":[{"tags":[],"owner":{"account_id":1071752,"reputation":174,"user_id":1070842,"accept_rate":100,"display_name":"vaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550747955,"creation_date":1550747955,"answer_id":54805857,"question_id":54793759,"body_markdown":"Above stack trace comes when you try to use electron based `GraphiQL.app` which was not updated since Mar 22, 2018 (v.0.7.2). So, to fix an issue and see subscription working:\r\n\r\n1. Don&#39;t use `GraphiQL.app`;\r\n\r\n2. Add following dependency to your `pom.xml` to expose resent `/graphiql` endpoint from your spring boot micro service (for testing):\r\n```\r\n        &lt;!-- Graph(i)QL tool: for development --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n``` \r\n3. `graphiql` by default expects that subscriptions are exposed over `/subscriptions` endpoint. So:\r\n\r\n- either change `graphql.subscriptions.websocket.path` from `/graphql` to `/subscriptions`;\r\n\r\n- or customize `graphiql` in your `application.yml` (to reflect `graphql` configuration): \r\n```\r\ngraphiql:\r\n  endpoint:\r\n    subscriptions: /graphql\r\n```\r\n\r\nAfter restart you can go to `http://localhost:9200/graphiql` and run subscription, as:\r\n```\r\nsubscription StockCodeSubscription {\r\n    stockQuotes {\r\n        dateTime\r\n        stockCode\r\n        stockPrice\r\n        stockPriceChange\r\n    }\r\n}\r\n```\r\nShould work!","title":"How to write a resolver for a GraphQL subscription using graphql-java and graphql-java-servlet?","body":"<p>Above stack trace comes when you try to use electron based <code>GraphiQL.app</code> which was not updated since Mar 22, 2018 (v.0.7.2). So, to fix an issue and see subscription working:</p>\n\n<ol>\n<li><p>Don't use <code>GraphiQL.app</code>;</p></li>\n<li><p>Add following dependency to your <code>pom.xml</code> to expose resent <code>/graphiql</code> endpoint from your spring boot micro service (for testing):</p></li>\n</ol>\n\n<pre><code>        &lt;!-- Graph(i)QL tool: for development --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n            &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<ol start=\"3\">\n<li><p><code>graphiql</code> by default expects that subscriptions are exposed over <code>/subscriptions</code> endpoint. So:</p>\n\n<ul>\n<li><p>either change <code>graphql.subscriptions.websocket.path</code> from <code>/graphql</code> to <code>/subscriptions</code>;</p></li>\n<li><p>or customize <code>graphiql</code> in your <code>application.yml</code> (to reflect <code>graphql</code> configuration): </p></li>\n</ul></li>\n</ol>\n\n<pre><code>graphiql:\n  endpoint:\n    subscriptions: /graphql\n</code></pre>\n\n<p>After restart you can go to <code>http://localhost:9200/graphiql</code> and run subscription, as:</p>\n\n<pre><code>subscription StockCodeSubscription {\n    stockQuotes {\n        dateTime\n        stockCode\n        stockPrice\n        stockPriceChange\n    }\n}\n</code></pre>\n\n<p>Should work!</p>\n"}],"owner":{"account_id":13731020,"reputation":532,"user_id":9908535,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4931,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54805857,"answer_count":1,"score":0,"last_activity_date":1685612919,"creation_date":1550690280,"question_id":54793759,"body_markdown":"I try to setup a Spring Boot based GraphQL service (based on project `graphql-spring-boot-starter`, https://github.com/graphql-java-kickstart/graphql-spring-boot), which does **not** use `graphql-java-tools`, but builds the RuntimeWiring manually/programmatically. GraphQL queries and mutations work just fine that way. However, I have problems to make subscriptions work.\r\n\r\nI&#39;ve added the following wiring to bind the DataFetcher for the subscription:\r\n\r\n    RuntimeWiring.Builder runtimeWiringBuilder =\r\n        newRuntimeWiring()\r\n        ...\r\n            .type(TypeRuntimeWiring.newTypeWiring(&quot;Subscription&quot;)\r\n                .dataFetcher(&quot;stockQuotes&quot;, gqlService::stockQuotes)\r\n            );\r\n\r\nAnd my resolver function returns correctly an `org.reactivestream.Publisher`\r\n\r\n    Publisher&lt;StockPriceUpdate&gt; stockQuotes(DataFetchingEnvironment env) {\r\n        return stockTickerPublisher.getPublisher();\r\n    }\r\n\r\nHowever, if I call my subscription from GraphiQL or GraphQL Playground, I get the following error:\r\n&quot;No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher&quot; (stack trace below).\r\n\r\nIt looks like that `GraphQLObjectMapper` from lib `graphql-java-servlet` tries to serialize the result, which is a (wrapped) `org.reactivestream.Publisher`, directly as a JSON result. That does not make sense, of course. Instead it should subscribe as listener to the publisher and push updates via the WebSocket whenever the Publisher emits the next update.\r\n\r\nAs far as I understood, `graphql-java-servlet` already has built-in support for subscriptions via WebSockets. Unfortunately there is no plain-vanilla example available, which does subscriptions *without using graphql-tools*.\r\n\r\nAny ideas how I can get this working? Thanks a lot!\r\n\r\nThe relevant parts of my `application.yml` file are those:\r\n\r\n    server:\r\n      port: 9200\r\n    \r\n    graphql:\r\n      servlet:\r\n        mapping: /graphql\r\n        enabled: true\r\n        corsEnabled: true\r\n        websocket:\r\n          enabled: true\r\n          path: /graphql\r\n        subscriptions:\r\n          websocket:\r\n            path: /graphql\r\n\r\nThe schema (excerpt):\r\n\r\n    schema {\r\n      query: Query\r\n      mutation: Mutation\r\n      subscription : Subscription\r\n    }\r\n    \r\n    type Subscription {\r\n      stockQuotes: StockPriceUpdate!\r\n    }\r\n    \r\n    type StockPriceUpdate {\r\n      dateTime : String\r\n      stockCode : String\r\n      stockPrice : Float\r\n      stockPriceChange : Float\r\n    }\r\n\r\nThe stacktrace:\r\n\r\n    java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[&quot;data&quot;])\r\n        at graphql.servlet.GraphQLObjectMapper.serializeResultAsJson(GraphQLObjectMapper.java:95) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at graphql.servlet.AbstractGraphQLHttpServlet.query(AbstractGraphQLHttpServlet.java:339) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at graphql.servlet.AbstractGraphQLHttpServlet.lambda$init$4(AbstractGraphQLHttpServlet.java:209) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at graphql.servlet.AbstractGraphQLHttpServlet.doRequest(AbstractGraphQLHttpServlet.java:306) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at graphql.servlet.AbstractGraphQLHttpServlet.doRequestAsync(AbstractGraphQLHttpServlet.java:297) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at graphql.servlet.AbstractGraphQLHttpServlet.doPost(AbstractGraphQLHttpServlet.java:327) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_192]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_192]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\r\n        at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_192]\r\n    Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[&quot;data&quot;])\r\n        at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:313) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFields(MapSerializer.java:718) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:639) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:33) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ObjectMapper._configAndWriteValue(ObjectMapper.java:3905) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3219) ~[jackson-databind-2.9.7.jar:2.9.7]\r\n        at graphql.servlet.GraphQLObjectMapper.serializeResultAsJson(GraphQLObjectMapper.java:93) ~[graphql-java-servlet-7.1.1.jar:na]\r\n        ... 57 common frames omitted\r\n","title":"How to write a resolver for a GraphQL subscription using graphql-java and graphql-java-servlet?","body":"<p>I try to setup a Spring Boot based GraphQL service (based on project <code>graphql-spring-boot-starter</code>, <a href=\"https://github.com/graphql-java-kickstart/graphql-spring-boot\" rel=\"nofollow noreferrer\">https://github.com/graphql-java-kickstart/graphql-spring-boot</a>), which does <strong>not</strong> use <code>graphql-java-tools</code>, but builds the RuntimeWiring manually/programmatically. GraphQL queries and mutations work just fine that way. However, I have problems to make subscriptions work.</p>\n\n<p>I've added the following wiring to bind the DataFetcher for the subscription:</p>\n\n<pre><code>RuntimeWiring.Builder runtimeWiringBuilder =\n    newRuntimeWiring()\n    ...\n        .type(TypeRuntimeWiring.newTypeWiring(\"Subscription\")\n            .dataFetcher(\"stockQuotes\", gqlService::stockQuotes)\n        );\n</code></pre>\n\n<p>And my resolver function returns correctly an <code>org.reactivestream.Publisher</code></p>\n\n<pre><code>Publisher&lt;StockPriceUpdate&gt; stockQuotes(DataFetchingEnvironment env) {\n    return stockTickerPublisher.getPublisher();\n}\n</code></pre>\n\n<p>However, if I call my subscription from GraphiQL or GraphQL Playground, I get the following error:\n\"No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher\" (stack trace below).</p>\n\n<p>It looks like that <code>GraphQLObjectMapper</code> from lib <code>graphql-java-servlet</code> tries to serialize the result, which is a (wrapped) <code>org.reactivestream.Publisher</code>, directly as a JSON result. That does not make sense, of course. Instead it should subscribe as listener to the publisher and push updates via the WebSocket whenever the Publisher emits the next update.</p>\n\n<p>As far as I understood, <code>graphql-java-servlet</code> already has built-in support for subscriptions via WebSockets. Unfortunately there is no plain-vanilla example available, which does subscriptions <em>without using graphql-tools</em>.</p>\n\n<p>Any ideas how I can get this working? Thanks a lot!</p>\n\n<p>The relevant parts of my <code>application.yml</code> file are those:</p>\n\n<pre><code>server:\n  port: 9200\n\ngraphql:\n  servlet:\n    mapping: /graphql\n    enabled: true\n    corsEnabled: true\n    websocket:\n      enabled: true\n      path: /graphql\n    subscriptions:\n      websocket:\n        path: /graphql\n</code></pre>\n\n<p>The schema (excerpt):</p>\n\n<pre><code>schema {\n  query: Query\n  mutation: Mutation\n  subscription : Subscription\n}\n\ntype Subscription {\n  stockQuotes: StockPriceUpdate!\n}\n\ntype StockPriceUpdate {\n  dateTime : String\n  stockCode : String\n  stockPrice : Float\n  stockPriceChange : Float\n}\n</code></pre>\n\n<p>The stacktrace:</p>\n\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[\"data\"])\n    at graphql.servlet.GraphQLObjectMapper.serializeResultAsJson(GraphQLObjectMapper.java:95) ~[graphql-java-servlet-7.1.1.jar:na]\n    at graphql.servlet.AbstractGraphQLHttpServlet.query(AbstractGraphQLHttpServlet.java:339) ~[graphql-java-servlet-7.1.1.jar:na]\n    at graphql.servlet.AbstractGraphQLHttpServlet.lambda$init$4(AbstractGraphQLHttpServlet.java:209) ~[graphql-java-servlet-7.1.1.jar:na]\n    at graphql.servlet.AbstractGraphQLHttpServlet.doRequest(AbstractGraphQLHttpServlet.java:306) ~[graphql-java-servlet-7.1.1.jar:na]\n    at graphql.servlet.AbstractGraphQLHttpServlet.doRequestAsync(AbstractGraphQLHttpServlet.java:297) ~[graphql-java-servlet-7.1.1.jar:na]\n    at graphql.servlet.AbstractGraphQLHttpServlet.doPost(AbstractGraphQLHttpServlet.java:327) ~[graphql-java-servlet-7.1.1.jar:na]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) ~[spring-boot-actuator-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_192]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_192]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.14.jar:9.0.14]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_192]\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class graphql.execution.reactive.CompletionStageMappingPublisher and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[\"data\"])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:313) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFields(MapSerializer.java:718) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:639) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:33) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ObjectMapper._configAndWriteValue(ObjectMapper.java:3905) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3219) ~[jackson-databind-2.9.7.jar:2.9.7]\n    at graphql.servlet.GraphQLObjectMapper.serializeResultAsJson(GraphQLObjectMapper.java:93) ~[graphql-java-servlet-7.1.1.jar:na]\n    ... 57 common frames omitted\n</code></pre>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":14511673,"reputation":25,"user_id":10481910,"display_name":"Jason"},"score":0,"creation_date":1695198673,"post_id":76380554,"comment_id":135990687,"body_markdown":"any one have advice?","body":"any one have advice?"}],"owner":{"account_id":14511673,"reputation":25,"user_id":10481910,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685612296,"creation_date":1685612296,"question_id":76380554,"body_markdown":"In our camel configure, we will receive file and once got file, will do split and do some convert work and aggregate the result and save into file.\r\n\r\n    route.split().tokenize(delimiter, eachThreadMsgNum).streaming().to(&quot;seda:rawMessages?concurrentConsumers=&quot;+mutiThreadNum).process(converter).to(publishUri)\r\n\t\t\t**.aggregate(header(Exchange.FILE_NAME_ONLY), new MyAggregationStrategy())\r\n\t\t\t.completionFromBatchConsumer()**\r\n\t\t\t.to(&quot;seda:persistResult?multipleConsumers=true&amp;concurrentConsumers=15&quot;)\r\n\t\t\t.end();\r\n\r\n    @Override\r\n\tpublic Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\r\n        // put order together in old exchange by adding the order from new exchange\r\n\t        Object newBody = newExchange.getIn().getBody();\r\n\t        List&lt;Object&gt; list = null;\r\n\t        if (oldExchange == null) {\r\n\t            list = new ArrayList&lt;Object&gt;();\r\n\t            list.add(newBody);\r\n\t            newExchange.getIn().setBody(list);\r\n\t            return newExchange;\r\n\t        } else {\r\n\t            list = oldExchange.getIn().getBody(List.class);\r\n\t            list.add(newBody);\r\n\t            return oldExchange;\r\n\t        }\r\n\t    }\r\n\r\n\t}\r\n\r\nAnd from the camel document, it suggest we&#39;d better use aggregate after split.\r\nSo we just aggregate by incoming file name and sent to next route.\r\n\r\nSeems like the aggregator will build an aggregate repository which will use JVM memory to implement the aggregation.\r\n\r\nBut in our case, after we received continuous big file and each file aggregated result will be &gt; 100M String.\r\nSo after analyze the OOM heap dump file, the AggregatedRespository will hold a very big map like:\r\n\r\n    file_name_1 : 120M String\r\n    file_name_2 : 140M String\r\n    file_name_3 : 130M String\r\n    ...\r\n\r\nAnd we are using G1 as GC and looks like G1 is not like big object.\r\n\r\nAfter remove aggregation, the OOM is gone, and heap dump have no big object found.\r\n\r\nBut the concern is why Camel suggest to use aggregation after split? looks like it is not necessary. It looks like have no impact after we remove the aggregation part, at least the result are same. The only different is if using file name aggregation, it will pick next file, even the last persist step didn&#39;t start.\r\n\r\nAnd is there any way to setup some configure to let aggregation or batchConsumer not hold so much cache to finish aggregation so that it will not need to hold the big object for such long time and cause the OOM...\r\n\r\n\r\n","title":"How Camel could handle continuous large file with Split and Aggregation without OOM","body":"<p>In our camel configure, we will receive file and once got file, will do split and do some convert work and aggregate the result and save into file.</p>\n<pre><code>route.split().tokenize(delimiter, eachThreadMsgNum).streaming().to(&quot;seda:rawMessages?concurrentConsumers=&quot;+mutiThreadNum).process(converter).to(publishUri)\n        **.aggregate(header(Exchange.FILE_NAME_ONLY), new MyAggregationStrategy())\n        .completionFromBatchConsumer()**\n        .to(&quot;seda:persistResult?multipleConsumers=true&amp;concurrentConsumers=15&quot;)\n        .end();\n\n@Override\npublic Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\n    // put order together in old exchange by adding the order from new exchange\n        Object newBody = newExchange.getIn().getBody();\n        List&lt;Object&gt; list = null;\n        if (oldExchange == null) {\n            list = new ArrayList&lt;Object&gt;();\n            list.add(newBody);\n            newExchange.getIn().setBody(list);\n            return newExchange;\n        } else {\n            list = oldExchange.getIn().getBody(List.class);\n            list.add(newBody);\n            return oldExchange;\n        }\n    }\n\n}\n</code></pre>\n<p>And from the camel document, it suggest we'd better use aggregate after split.\nSo we just aggregate by incoming file name and sent to next route.</p>\n<p>Seems like the aggregator will build an aggregate repository which will use JVM memory to implement the aggregation.</p>\n<p>But in our case, after we received continuous big file and each file aggregated result will be &gt; 100M String.\nSo after analyze the OOM heap dump file, the AggregatedRespository will hold a very big map like:</p>\n<pre><code>file_name_1 : 120M String\nfile_name_2 : 140M String\nfile_name_3 : 130M String\n...\n</code></pre>\n<p>And we are using G1 as GC and looks like G1 is not like big object.</p>\n<p>After remove aggregation, the OOM is gone, and heap dump have no big object found.</p>\n<p>But the concern is why Camel suggest to use aggregation after split? looks like it is not necessary. It looks like have no impact after we remove the aggregation part, at least the result are same. The only different is if using file name aggregation, it will pick next file, even the last persist step didn't start.</p>\n<p>And is there any way to setup some configure to let aggregation or batchConsumer not hold so much cache to finish aggregation so that it will not need to hold the big object for such long time and cause the OOM...</p>\n"},{"tags":["java","android","mapbox"],"comments":[{"owner":{"account_id":6023206,"reputation":7991,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1605013121,"post_id":64769286,"comment_id":114518010,"body_markdown":"asking the simple question which has to be asked, but are you specifically looking to do this with code ? because you could just change the location on the emulator for android","body":"asking the simple question which has to be asked, but are you specifically looking to do this with code ? because you could just change the location on the emulator for android"},{"owner":{"account_id":284239,"reputation":3979,"user_id":582211,"accept_rate":79,"display_name":"Tom"},"score":1,"creation_date":1605013226,"post_id":64769286,"comment_id":114518054,"body_markdown":"Yep, with code. I&#39;d like to show indoor location as user location calculated by our hardware, not by GPS. Thanks a lot!","body":"Yep, with code. I&#39;d like to show indoor location as user location calculated by our hardware, not by GPS. Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":14274600,"reputation":1750,"user_id":10311158,"display_name":"Moritz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1605109554,"creation_date":1605109554,"answer_id":64789606,"question_id":64769286,"body_markdown":"The location engine that is used by the Mapbox locationComponent can be set programmatically. For that you can also use a MockLocationEngine.\r\n\r\nPlease see this article that explains how to define and initialize a locationEngine that would be used with the Mapbox locationComponent:\r\n\r\nhttps://docs.mapbox.com/help/tutorials/android-location-listening/#initialize-the-locationengine \r\n\r\nIf you do not want to create a MockLocationEngine yourself, you can make use of the Android default location engine and set test locations using `setTestProviderLocation`\r\n\r\nhttps://developer.android.com/reference/android/location/LocationManager#setTestProviderLocation(java.lang.String,%20android.location.Location)","title":"Mock user location in MapBox Android","body":"<p>The location engine that is used by the Mapbox locationComponent can be set programmatically. For that you can also use a MockLocationEngine.</p>\n<p>Please see this article that explains how to define and initialize a locationEngine that would be used with the Mapbox locationComponent:</p>\n<p><a href=\"https://docs.mapbox.com/help/tutorials/android-location-listening/#initialize-the-locationengine\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/help/tutorials/android-location-listening/#initialize-the-locationengine</a></p>\n<p>If you do not want to create a MockLocationEngine yourself, you can make use of the Android default location engine and set test locations using <code>setTestProviderLocation</code></p>\n<p><a href=\"https://developer.android.com/reference/android/location/LocationManager#setTestProviderLocation(java.lang.String,%20android.location.Location)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/location/LocationManager#setTestProviderLocation(java.lang.String,%20android.location.Location)</a></p>\n"},{"tags":[],"owner":{"account_id":1988575,"reputation":21,"user_id":1783185,"display_name":"sevy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685612040,"creation_date":1685612040,"answer_id":76380511,"question_id":64769286,"body_markdown":"this is accepted as an answer? \r\n\r\nnone of this work :\r\n\r\nin suggestion 1, there is absolutely no example of a custom LocationEngine\r\n\r\ni suggestion 2, this is only available in developper mode on android and cannot be integrated in an app\r\n\r\ni still haven&#39;t found a solution with mapbox SDK 10.13.0","title":"Mock user location in MapBox Android","body":"<p>this is accepted as an answer?</p>\n<p>none of this work :</p>\n<p>in suggestion 1, there is absolutely no example of a custom LocationEngine</p>\n<p>i suggestion 2, this is only available in developper mode on android and cannot be integrated in an app</p>\n<p>i still haven't found a solution with mapbox SDK 10.13.0</p>\n"}],"owner":{"account_id":284239,"reputation":3979,"user_id":582211,"accept_rate":79,"display_name":"Tom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":64789606,"answer_count":2,"score":-1,"last_activity_date":1685612040,"creation_date":1605012735,"question_id":64769286,"body_markdown":"In MapBox IOS SDK there is a possibility to mock user location by implementing a custom MGLLocationManager. I have implemented mine and works great.\r\n\r\nNow I&#39;d like to implement the same feature on Andorid, but I can not find any similar classes. Would you be to kind to suggest me the way it works on Android?\r\n\r\nThanks a lot!","title":"Mock user location in MapBox Android","body":"<p>In MapBox IOS SDK there is a possibility to mock user location by implementing a custom MGLLocationManager. I have implemented mine and works great.</p>\n<p>Now I'd like to implement the same feature on Andorid, but I can not find any similar classes. Would you be to kind to suggest me the way it works on Android?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684830702,"post_id":76312361,"comment_id":134570602,"body_markdown":"I suspect you need to use the `LocalTemporaryTableMutationStrategy` which implements the correct interface instead of the `LocalTemporaryTableStrategy` which looks like a helper class for the former mentioned class.","body":"I suspect you need to use the <code>LocalTemporaryTableMutationStrategy</code> which implements the correct interface instead of the <code>LocalTemporaryTableStrategy</code> which looks like a helper class for the former mentioned class."},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1684841239,"post_id":76312361,"comment_id":134573069,"body_markdown":"Unfortunately, this is not working :  `Cannot instantiate the class [org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableMutationStrategy] because it does not have a constructor that accepts a dialect or an empty constructor`. \nApp starts if I use `org.hibernate.query.sqm.mutation.internal.inline.InlineMutationStrategy`  but global temporary table are still created...","body":"Unfortunately, this is not working :  <code>Cannot instantiate the class [org.hibernate.query.sqm.mutation.internal.temptable.LocalTe&zwnj;&#8203;mporaryTableMutation&zwnj;&#8203;Strategy] because it does not have a constructor that accepts a dialect or an empty constructor</code>.  App starts if I use <code>org.hibernate.query.sqm.mutation.internal.inline.InlineMutat&zwnj;&#8203;ionStrategy</code>  but global temporary table are still created..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684841837,"post_id":76312361,"comment_id":134573203,"body_markdown":"Try `local_temporary` as the full name (that seems to be the shortcut for it). If it doesn&#39;t implement the interface/appropriate strategy it will do the default (which is global tables, judging from the source code).","body":"Try <code>local_temporary</code> as the full name (that seems to be the shortcut for it). If it doesn&#39;t implement the interface/appropriate strategy it will do the default (which is global tables, judging from the source code)."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684842898,"post_id":76312361,"comment_id":134573467,"body_markdown":"Next to `mutation_strategy` you probably also want to set the `insert_strategy` to the same. `spring.jpa.properties.hibernate.query.mutation_strategy= local_temporary` and `spring.jpa.properties.hibernate.query.insert_strategy= local_temporary`","body":"Next to <code>mutation_strategy</code> you probably also want to set the <code>insert_strategy</code> to the same. <code>spring.jpa.properties.hibernate.query.mutation_strategy= local_temporary</code> and <code>spring.jpa.properties.hibernate.query.insert_strategy= local_temporary</code>"},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1684843365,"post_id":76312361,"comment_id":134573571,"body_markdown":"With the `mutation_strategy` and `insert_strategy`set, I still have the `Cannot instantiate the class [org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableMutationStrategy] because it does not have a constructor that accepts a dialect or an empty constructor` exception.","body":"With the <code>mutation_strategy</code> and <code>insert_strategy</code>set, I still have the <code>Cannot instantiate the class [org.hibernate.query.sqm.mutation.internal.temptable.LocalTe&zwnj;&#8203;mporaryTableMutation&zwnj;&#8203;Strategy] because it does not have a constructor that accepts a dialect or an empty constructor</code> exception."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684843748,"post_id":76312361,"comment_id":134573678,"body_markdown":"You are setting it with `local_temporary`? Or still the full classname?","body":"You are setting it with <code>local_temporary</code>? Or still the full classname?"},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1684844001,"post_id":76312361,"comment_id":134573736,"body_markdown":"I tried both, but the last try was with the short name `local_temporary` as in your comment.","body":"I tried both, but the last try was with the short name <code>local_temporary</code> as in your comment."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684844477,"post_id":76312361,"comment_id":134573859,"body_markdown":"Feels like this is broken by design or something. Only the `InlineMutationStrategy` has a constructor that satisfies the constructor with a `Dialect`. All others have other constructors, not satisfying the constraint. I would register a ticket with Hibernate for t his.","body":"Feels like this is broken by design or something. Only the <code>InlineMutationStrategy</code> has a constructor that satisfies the constructor with a <code>Dialect</code>. All others have other constructors, not satisfying the constraint. I would register a ticket with Hibernate for t his."},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1684844964,"post_id":76312361,"comment_id":134573978,"body_markdown":"You&#39;re right, and I can&#39;t use this strategy for the `insert_strategy` because it does not exist (strategies implementing `SqmMultiTableInsertStrategy` are only cte/global/local/persistent-table` strategies `. Thanks for your time and help, I will keep digging...","body":"You&#39;re right, and I can&#39;t use this strategy for the <code>insert_strategy</code> because it does not exist (strategies implementing <code>SqmMultiTableInsertStrategy</code> are only cte/global/local/persistent-table` strategies `. Thanks for your time and help, I will keep digging..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684845205,"post_id":76312361,"comment_id":134574049,"body_markdown":"And yes you can use the `local_temporary` strategy as that maps to the local one. Check the code. Your initial class `LocalTemporaryTableStrategy` serves as a base class to both of those and the static name is used for the different strategies. (I did check on 6.2.2 I just noticed, not 6.1)","body":"And yes you can use the <code>local_temporary</code> strategy as that maps to the local one. Check the code. Your initial class <code>LocalTemporaryTableStrategy</code> serves as a base class to both of those and the static name is used for the different strategies. (I did check on 6.2.2 I just noticed, not 6.1)"},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1684849951,"post_id":76312361,"comment_id":134575249,"body_markdown":"I tried to ignore the fact that I can&#39;t create global temporary tables and I ran my app without any properties configuring this aspect. The app starts and I can do everything, even if the `HTE_` tables are not present... I&#39;m really confused.","body":"I tried to ignore the fact that I can&#39;t create global temporary tables and I ran my app without any properties configuring this aspect. The app starts and I can do everything, even if the <code>HTE_</code> tables are not present... I&#39;m really confused."}],"answers":[{"tags":[],"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685611912,"creation_date":1685611912,"answer_id":76380491,"question_id":76312361,"body_markdown":"This was an Hibernate [issue](https://hibernate.atlassian.net/browse/HHH-15550) that has been solved in `6.2.0` : \r\n\r\n&gt; In addition to the\r\n&gt; hibernate.hql.bulk_id_strategy.global_temporary.drop_tables and\r\n&gt; hibernate.hql.bulk_id_strategy.persistent.drop_tables settings, add a\r\n&gt; create_tables variant which allows to control whether to create\r\n&gt; tables. Keep it true by default to retain backwards compatibility.\r\n\r\nSpring Boot 3.1 upgrades to Hibernate 6.2, so upgrading SB to `3.1.x` fixes the issue.","title":"Hibernate 6.1.x / Spring Boot : avoid global temporary table creation","body":"<p>This was an Hibernate <a href=\"https://hibernate.atlassian.net/browse/HHH-15550\" rel=\"nofollow noreferrer\">issue</a> that has been solved in <code>6.2.0</code> :</p>\n<blockquote>\n<p>In addition to the\nhibernate.hql.bulk_id_strategy.global_temporary.drop_tables and\nhibernate.hql.bulk_id_strategy.persistent.drop_tables settings, add a\ncreate_tables variant which allows to control whether to create\ntables. Keep it true by default to retain backwards compatibility.</p>\n</blockquote>\n<p>Spring Boot 3.1 upgrades to Hibernate 6.2, so upgrading SB to <code>3.1.x</code> fixes the issue.</p>\n"}],"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76380491,"answer_count":1,"score":1,"last_activity_date":1685611912,"creation_date":1684827837,"question_id":76312361,"body_markdown":"Hibernate creates temporary tables for bulk operations.\r\n\r\nWe&#39;re using Oracle (*v19.0.0.0.0*) and our user won&#39;t have the privilege to create temporary table.\r\n\r\nI&#39;ve tried a lot of different configurations, but `HTE_` tables are still created on startup :\r\n\r\n    09:07:43.658 INFO  [com.zaxxer.hikari.HikariDataSource      ] HikariPool-1 - Starting...\r\n    09:07:44.285 INFO  [com.zaxxer.hikari.pool.HikariPool       ] HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@6dc5e857\r\n    09:07:44.286 INFO  [com.zaxxer.hikari.HikariDataSource      ] HikariPool-1 - Start completed.\r\n    09:07:44.596 INFO  [SQL dialect                             ] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect\r\n    Hibernate: create global temporary table HTE_xxxxx(...) on commit delete rows\r\n    Hibernate: create global temporary table HTE_yyyyy(...) on commit delete rows\r\n    09:07:45.551 INFO  [j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n\r\nThese configurations don&#39;t work :\r\n```\r\nspring.jpa.properties.hibernate.query.mutation_strategy=org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableMutationStrategy\r\n\r\nOR \r\n\r\nspring.jpa.properties.hibernate.query.mutation_strategy=org.hibernate.query.sqm.mutation.internal.inline.InlineMutationStrategy\r\nspring.jpa.properties.hibernate.query.insert_strategy=org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableInsertStrategy\r\n```\r\n\r\n\r\nI&#39;m using **Hibernate 6.1.7.Final** and **Spring Boot 3.0.6**.\r\n\r\nI did not find other ways in the documentation : https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html\r\n","title":"Hibernate 6.1.x / Spring Boot : avoid global temporary table creation","body":"<p>Hibernate creates temporary tables for bulk operations.</p>\n<p>We're using Oracle (<em>v19.0.0.0.0</em>) and our user won't have the privilege to create temporary table.</p>\n<p>I've tried a lot of different configurations, but <code>HTE_</code> tables are still created on startup :</p>\n<pre><code>09:07:43.658 INFO  [com.zaxxer.hikari.HikariDataSource      ] HikariPool-1 - Starting...\n09:07:44.285 INFO  [com.zaxxer.hikari.pool.HikariPool       ] HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@6dc5e857\n09:07:44.286 INFO  [com.zaxxer.hikari.HikariDataSource      ] HikariPool-1 - Start completed.\n09:07:44.596 INFO  [SQL dialect                             ] HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect\nHibernate: create global temporary table HTE_xxxxx(...) on commit delete rows\nHibernate: create global temporary table HTE_yyyyy(...) on commit delete rows\n09:07:45.551 INFO  [j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'\n</code></pre>\n<p>These configurations don't work :</p>\n<pre><code>spring.jpa.properties.hibernate.query.mutation_strategy=org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableMutationStrategy\n\nOR \n\nspring.jpa.properties.hibernate.query.mutation_strategy=org.hibernate.query.sqm.mutation.internal.inline.InlineMutationStrategy\nspring.jpa.properties.hibernate.query.insert_strategy=org.hibernate.query.sqm.mutation.internal.temptable.LocalTemporaryTableInsertStrategy\n</code></pre>\n<p>I'm using <strong>Hibernate 6.1.7.Final</strong> and <strong>Spring Boot 3.0.6</strong>.</p>\n<p>I did not find other ways in the documentation : <a href=\"https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html</a></p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685019697,"post_id":76331546,"comment_id":134604604,"body_markdown":"Please check all the intermediate steps:\n- is pdfData really a PDF? Save it into a file to check\n- is the rendered image really an image? Save it into a file to check\nAlso look at log messages, and make sure you have the latest PDFBox\nversion with all the dependencies (jbig2 decoder)","body":"Please check all the intermediate steps: - is pdfData really a PDF? Save it into a file to check - is the rendered image really an image? Save it into a file to check Also look at log messages, and make sure you have the latest PDFBox version with all the dependencies (jbig2 decoder)"},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1685094972,"post_id":76331546,"comment_id":134616763,"body_markdown":"@TilmanHausherr. Checked all of this. Version of PDFBox is 2.0.28. What I additionaly  tested is that I scanned document with 2 different scanners in 300 and 600dpi. On first scanner is problem above, on second scanner converting is good for both dpi. I think that dpi shouldn&#39;t be even important at all. Might be a problem with scanner? Maybe scanner doesn&#39;t send some metadata?","body":"@TilmanHausherr. Checked all of this. Version of PDFBox is 2.0.28. What I additionaly  tested is that I scanned document with 2 different scanners in 300 and 600dpi. On first scanner is problem above, on second scanner converting is good for both dpi. I think that dpi shouldn&#39;t be even important at all. Might be a problem with scanner? Maybe scanner doesn&#39;t send some metadata?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685098642,"post_id":76331546,"comment_id":134617490,"body_markdown":"You wrote &quot;Checked all of this&quot; but you&#39;re not telling what worked. Are both (I understand that this is about 2 different ones) PDFs ok when saved? Are the JPEGs ok when saved directly? I want to find out whether this base64 stuff plays a role here or not. Try to display the files with PDFDebugger.","body":"You wrote &quot;Checked all of this&quot; but you&#39;re not telling what worked. Are both (I understand that this is about 2 different ones) PDFs ok when saved? Are the JPEGs ok when saved directly? I want to find out whether this base64 stuff plays a role here or not. Try to display the files with PDFDebugger."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1685438375,"post_id":76331546,"comment_id":134656193,"body_markdown":"@newhere Could we help you and did you solve your problem? It is custom on SO to &quot;follow-up&quot; you question and continue in the conversion...","body":"@newhere Could we help you and did you solve your problem? It is custom on SO to &quot;follow-up&quot; you question and continue in the conversion..."},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1685530182,"post_id":76331546,"comment_id":134672054,"body_markdown":"@TilmanHausherr. PDF&#39;s are ok when saved. What do you mean by JPEG&#39;s saved directly?","body":"@TilmanHausherr. PDF&#39;s are ok when saved. What do you mean by JPEG&#39;s saved directly?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685530883,"post_id":76331546,"comment_id":134672185,"body_markdown":"Save them as file and not base64. This way you&#39;ll know whether the JPEG was ok before it was converted to base64. If the directly saved JPEG is not ok then share it for analysis. I&#39;m lazy (sorry!) so I didn&#39;t bother to understand your code and first wanted to know whether the core part (PDF rendering) works or not. Oh, I just looked at your code and you seem to have TWO `base64JPEG` variables (one inner, one global that is returned), or this isn&#39;t your actual code, i.e. you messed up something when editing.","body":"Save them as file and not base64. This way you&#39;ll know whether the JPEG was ok before it was converted to base64. If the directly saved JPEG is not ok then share it for analysis. I&#39;m lazy (sorry!) so I didn&#39;t bother to understand your code and first wanted to know whether the core part (PDF rendering) works or not. Oh, I just looked at your code and you seem to have TWO <code>base64JPEG</code> variables (one inner, one global that is returned), or this isn&#39;t your actual code, i.e. you messed up something when editing."},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1685534650,"post_id":76331546,"comment_id":134673034,"body_markdown":"No, JPEG is not ok when saved as file. If it helps, I&#39;ve converted bytes to string to see headers of both PDF&#39;s, one that working and one that not working.  One that working have some hash after stream, one that not working, doesn&#39;t have anything. It&#39;s like that doesn&#39;t have any content, but it is valid PDF.","body":"No, JPEG is not ok when saved as file. If it helps, I&#39;ve converted bytes to string to see headers of both PDF&#39;s, one that working and one that not working.  One that working have some hash after stream, one that not working, doesn&#39;t have anything. It&#39;s like that doesn&#39;t have any content, but it is valid PDF."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685536029,"post_id":76331546,"comment_id":134673422,"body_markdown":"Then share this PDF.","body":"Then share this PDF."},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":1,"creation_date":1685538413,"post_id":76331546,"comment_id":134674025,"body_markdown":"https://www.transfernow.net/dl/20230531ZC9SUjO8","body":"<a href=\"https://www.transfernow.net/dl/20230531ZC9SUjO8\" rel=\"nofollow noreferrer\">transfernow.net/dl/20230531ZC9SUjO8</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685554097,"post_id":76331546,"comment_id":134677836,"body_markdown":"Make sure the JPX and JBIG2 decoder are in your classpath. https://pdfbox.apache.org/2.0/dependencies.html  There is a log message if you don&#39;t (did you switch off the log messages?). The file renders properly for me.","body":"Make sure the JPX and JBIG2 decoder are in your classpath. <a href=\"https://pdfbox.apache.org/2.0/dependencies.html\" rel=\"nofollow noreferrer\">pdfbox.apache.org/2.0/dependencies.html</a>  There is a log message if you don&#39;t (did you switch off the log messages?). The file renders properly for me."},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1685602944,"post_id":76331546,"comment_id":134683653,"body_markdown":"implementation &#39;org.apache.pdfbox:pdfbox:2.0.28&#39;\n  implementation &#39;org.apache.pdfbox:jbig2-imageio:3.0.4&#39;\n\nThis are my dependencies","body":"implementation &#39;org.apache.pdfbox:pdfbox:2.0.28&#39;   implementation &#39;org.apache.pdfbox:jbig2-imageio:3.0.4&#39;  This are my dependencies"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1685604542,"post_id":76331546,"comment_id":134683974,"body_markdown":"&lt;dependency&gt;\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt; and &lt;dependency&gt;\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/dependency&gt; and find out why your logging is disabled.","body":"&lt;dependency&gt;     &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;     &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;     &lt;version&gt;1.4.0&lt;/version&gt; &lt;/dependency&gt; and &lt;dependency&gt;     &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;     &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;     &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; and find out why your logging is disabled."},{"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"score":0,"creation_date":1685607908,"post_id":76331546,"comment_id":134684635,"body_markdown":"Those dependecies solved problem. Thank you!","body":"Those dependecies solved problem. Thank you!"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1685611255,"post_id":76331546,"comment_id":134685356,"body_markdown":"Thanks I&#39;ve added it as answer. Note that the version number is different from the comment. In the comment I copy-pasted from github readme, which was outdated.","body":"Thanks I&#39;ve added it as answer. Note that the version number is different from the comment. In the comment I copy-pasted from github readme, which was outdated."}],"answers":[{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685545364,"creation_date":1685105445,"answer_id":76340993,"question_id":76331546,"body_markdown":"There are several issues with your code:\r\n\r\n1. You are not decoding the base64 data correctly. You read the file line by line and convert (each line) to bytes. Then at the end you pass the whole thing to the Base64 decoder converting it back to string. You should change the method to:\r\n\r\n       public static byte[] readBase64FromFile(String filePath) {\r\n        File file = new File(filePath);\r\n        StringBuilder base64StringBuilder = new StringBuilder();\r\n        \r\n        try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                base64StringBuilder.append(line);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return Base64.getDecoder().decode(base64StringBuilder.toString());\r\n       }\r\n   Or read the whole thing as a binary:\r\n\r\n       public static byte[] readBinaryFromFile(String filePath) {\r\n        \r\n        Path path2Pdf = Paths.get(filePath);\r\n        \r\n        byte[] pdf = new byte[]{};\r\n        try {\r\n            pdf = Files.readAllBytes(path2Pdf);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        return Base64.getDecoder().decode(pdf);\r\n       }\r\n     \r\n2. Your `convertPDFtoJPEG` method doesn&#39;t make sense. You are reading the whole file but only return the last page (which might even be a white page). You should return a list of base64 jpeg pages:\r\n\r\n       public static List&lt;String&gt; convertPDFtoJPEG(byte[] pdfData) {\r\n        List&lt;String&gt; listOfBase64Images = new ArrayList&lt;&gt;();\r\n        \r\n        try (PDDocument document = PDDocument.load(pdfData)){\r\n            PDFRenderer renderer = new PDFRenderer(document);\r\n\r\n            for (int pageIndex = 0; pageIndex &lt; document.getNumberOfPages(); pageIndex++) {\r\n                BufferedImage image = renderer.renderImageWithDPI(pageIndex, 300);\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                ImageIO.write(image, &quot;JPEG&quot;, baos);\r\n                listOfBase64Images.add(Base64.getEncoder().encodeToString(baos.toByteArray()));\r\n            }\r\n        } \r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return listOfBase64Images;\r\n    }\r\n\r\nAnd fyi: calling close() and flush() on a `ByteArrayOutputStream` doesn&#39;t do anything.","title":"Convert PDF to JPEG","body":"<p>There are several issues with your code:</p>\n<ol>\n<li><p>You are not decoding the base64 data correctly. You read the file line by line and convert (each line) to bytes. Then at the end you pass the whole thing to the Base64 decoder converting it back to string. You should change the method to:</p>\n<pre><code>public static byte[] readBase64FromFile(String filePath) {\n File file = new File(filePath);\n StringBuilder base64StringBuilder = new StringBuilder();\n\n try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n     String line;\n     while ((line = reader.readLine()) != null) {\n         base64StringBuilder.append(line);\n     }\n } catch (IOException e) {\n     e.printStackTrace();\n }\n return Base64.getDecoder().decode(base64StringBuilder.toString());\n}\n</code></pre>\n<p>Or read the whole thing as a binary:</p>\n<pre><code>public static byte[] readBinaryFromFile(String filePath) {\n\n Path path2Pdf = Paths.get(filePath);\n\n byte[] pdf = new byte[]{};\n try {\n     pdf = Files.readAllBytes(path2Pdf);\n } catch (IOException e) {\n     e.printStackTrace();\n }\n\n return Base64.getDecoder().decode(pdf);\n}\n</code></pre>\n</li>\n<li><p>Your <code>convertPDFtoJPEG</code> method doesn't make sense. You are reading the whole file but only return the last page (which might even be a white page). You should return a list of base64 jpeg pages:</p>\n<pre><code>public static List&lt;String&gt; convertPDFtoJPEG(byte[] pdfData) {\n List&lt;String&gt; listOfBase64Images = new ArrayList&lt;&gt;();\n\n try (PDDocument document = PDDocument.load(pdfData)){\n     PDFRenderer renderer = new PDFRenderer(document);\n\n     for (int pageIndex = 0; pageIndex &lt; document.getNumberOfPages(); pageIndex++) {\n         BufferedImage image = renderer.renderImageWithDPI(pageIndex, 300);\n         ByteArrayOutputStream baos = new ByteArrayOutputStream();\n         ImageIO.write(image, &quot;JPEG&quot;, baos);\n         listOfBase64Images.add(Base64.getEncoder().encodeToString(baos.toByteArray()));\n     }\n } \n catch (IOException e) {\n     e.printStackTrace();\n }\n return listOfBase64Images;\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>And fyi: calling close() and flush() on a <code>ByteArrayOutputStream</code> doesn't do anything.</p>\n"},{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685611207,"creation_date":1685611207,"answer_id":76380406,"question_id":76331546,"body_markdown":"As discussed in the comments, make sure you have the dependencies for JPX and JBIG2 image formats:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI also recommend using the [twelvemonkeys][1] library for TIFF and JPEG.\r\n\r\n\r\n  [1]: https://github.com/haraldk/TwelveMonkeys","title":"Convert PDF to JPEG","body":"<p>As discussed in the comments, make sure you have the dependencies for JPX and JBIG2 image formats:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;jai-imageio-jpeg2000&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.jai-imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;jai-imageio-core&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I also recommend using the <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"nofollow noreferrer\">twelvemonkeys</a> library for TIFF and JPEG.</p>\n"}],"owner":{"account_id":13720439,"reputation":39,"user_id":13167157,"display_name":"newhere"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76380406,"answer_count":2,"score":2,"last_activity_date":1685611207,"creation_date":1685012322,"question_id":76331546,"body_markdown":"I&#39;m trying to create a process of converting base64 of pdf to base64 of jpeg image. The problem that I have is if pdf is scanned with less than 600dpi, image is not rendered correctly, it is white image without any content in it. \r\n\r\nThis is my code:\r\n\r\n    public String convertPDFtoJPEG(byte[] pdfData) {\r\n        try {\r\n          PDDocument document = PDDocument.load(pdfData);\r\n          PDFRenderer renderer = new PDFRenderer(document);\r\n    \r\n          for (int pageIndex = 0; pageIndex &lt; document.getNumberOfPages(); pageIndex++) {\r\n            BufferedImage image = renderer.renderImageWithDPI(pageIndex, 300);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            ImageIO.write(image, &quot;JPEG&quot;, baos);\r\n    \r\n            baos.flush();\r\n    \r\n            String base64JPEG = Base64.getEncoder().encodeToString(baos.toByteArray());\r\n    \r\n            baos.close();\r\n          }\r\n    \r\n          document.close();\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return base64JPEG;\r\n    \r\n      }\r\n    \r\n     public byte[] readBase64FromFile(String filePath) {\r\n        File file = new File(filePath);\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n          String line;\r\n          while ((line = reader.readLine()) != null) {\r\n            baos.write(line.getBytes());\r\n          }\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        } \r\n        return Base64.getDecoder().decode(baos.toByteArray());\r\n      }\r\n\r\n\r\nThis is how I&#39;m calling this methods:\r\n\r\n    String filepath = &quot;path:\\\\to\\\\file.txt&quot;\r\n    byte[] pdfData = readBase64FromFile(filePath);\r\n\r\n    convertPDFtoJPEG(pdfData);\r\n\r\n In file.txt is base64 of pdf.","title":"Convert PDF to JPEG","body":"<p>I'm trying to create a process of converting base64 of pdf to base64 of jpeg image. The problem that I have is if pdf is scanned with less than 600dpi, image is not rendered correctly, it is white image without any content in it.</p>\n<p>This is my code:</p>\n<pre><code>public String convertPDFtoJPEG(byte[] pdfData) {\n    try {\n      PDDocument document = PDDocument.load(pdfData);\n      PDFRenderer renderer = new PDFRenderer(document);\n\n      for (int pageIndex = 0; pageIndex &lt; document.getNumberOfPages(); pageIndex++) {\n        BufferedImage image = renderer.renderImageWithDPI(pageIndex, 300);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ImageIO.write(image, &quot;JPEG&quot;, baos);\n\n        baos.flush();\n\n        String base64JPEG = Base64.getEncoder().encodeToString(baos.toByteArray());\n\n        baos.close();\n      }\n\n      document.close();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    return base64JPEG;\n\n  }\n\n public byte[] readBase64FromFile(String filePath) {\n    File file = new File(filePath);\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n      String line;\n      while ((line = reader.readLine()) != null) {\n        baos.write(line.getBytes());\n      }\n    } catch (IOException e) {\n      e.printStackTrace();\n    } \n    return Base64.getDecoder().decode(baos.toByteArray());\n  }\n</code></pre>\n<p>This is how I'm calling this methods:</p>\n<pre><code>String filepath = &quot;path:\\\\to\\\\file.txt&quot;\nbyte[] pdfData = readBase64FromFile(filePath);\n\nconvertPDFtoJPEG(pdfData);\n</code></pre>\n<p>In file.txt is base64 of pdf.</p>\n"},{"tags":["java","azul-zing"],"answers":[{"tags":[],"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681819828,"creation_date":1681819828,"answer_id":76044451,"question_id":75989193,"body_markdown":"There is a standard JVM flag that can be used to control this, `-XX:MaxDirectMemorySize`. I checked the Prime JVM, and the default setting for this is zero, which is the same as for OpenJDK HotSpot. Zero means there is no limit. \r\n\r\nHowever, I think you need to be careful changing this because this space is not like the heap (obviously). If you limit the heap size, your application can still (potentially) continue to work by running the garbage collector more frequently. Off-heap memory is not collected automatically; if you make the value smaller than is required, you&#39;ll cause an abrupt halt of your application.\r\n\r\nI would recommend investigating why the off-heap memory usage is high. This is probably a result of what your application is doing rather than the Prime JVM&#39;s usage. \r\n\r\nThe one thing I can think of that might cause this outside the application is the cache for JIT-compiled code. You can see how much this is by adding the `–XX:+PrintCodeCache` flag. I think that is unlikely to be an issue since this will typically be of the order of MB, not GB.","title":"How can we set max limit on off heap usage in azul prime jvm","body":"<p>There is a standard JVM flag that can be used to control this, <code>-XX:MaxDirectMemorySize</code>. I checked the Prime JVM, and the default setting for this is zero, which is the same as for OpenJDK HotSpot. Zero means there is no limit.</p>\n<p>However, I think you need to be careful changing this because this space is not like the heap (obviously). If you limit the heap size, your application can still (potentially) continue to work by running the garbage collector more frequently. Off-heap memory is not collected automatically; if you make the value smaller than is required, you'll cause an abrupt halt of your application.</p>\n<p>I would recommend investigating why the off-heap memory usage is high. This is probably a result of what your application is doing rather than the Prime JVM's usage.</p>\n<p>The one thing I can think of that might cause this outside the application is the cache for JIT-compiled code. You can see how much this is by adding the <code>–XX:+PrintCodeCache</code> flag. I think that is unlikely to be an issue since this will typically be of the order of MB, not GB.</p>\n"},{"tags":[],"owner":{"account_id":5143074,"reputation":689,"user_id":4119789,"accept_rate":100,"display_name":"Nishant Modi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685611109,"creation_date":1685611109,"answer_id":76380395,"question_id":75989193,"body_markdown":"Although we couldn&#39;t found a way to restrict the off heap usage , but the issue was with Azul&#39;s default compiler falcon and its way to handle Dynamic Code generation. After switching on KestralC2 on such environment where dynamic code generation is huge we have solved the issue of off heap mem going beyond control.","title":"How can we set max limit on off heap usage in azul prime jvm","body":"<p>Although we couldn't found a way to restrict the off heap usage , but the issue was with Azul's default compiler falcon and its way to handle Dynamic Code generation. After switching on KestralC2 on such environment where dynamic code generation is huge we have solved the issue of off heap mem going beyond control.</p>\n"}],"owner":{"account_id":5143074,"reputation":689,"user_id":4119789,"accept_rate":100,"display_name":"Nishant Modi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76380395,"answer_count":2,"score":0,"last_activity_date":1685611109,"creation_date":1681238816,"question_id":75989193,"body_markdown":"We are using azul prime, and it is using a lot of off heap memory.\r\nis there any way to give limit for off heap memory like we give for heap","title":"How can we set max limit on off heap usage in azul prime jvm","body":"<p>We are using azul prime, and it is using a lot of off heap memory.\nis there any way to give limit for off heap memory like we give for heap</p>\n"},{"tags":["java","android","device-policy-manager"],"owner":{"account_id":7993567,"reputation":23,"user_id":6030693,"display_name":"Hossam Maarek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685610980,"creation_date":1685608567,"question_id":76380059,"body_markdown":"Using Android Policy Manager, I am asking the user to grant admin access to my app when needed (to be able to lock the screen from within my app).\r\n\r\nWhen I needed, I remove this admin access using:\r\n\r\n            devicePolicyManager.removeActiveAdmin(new ComponentName(this, DeviceAdminReceiver.class));\r\n\r\nthe problem here is that when I need admin access later in my app, the system will ask the user again to grant that access (activate). All I needed is to be able to temporarily inactivate it and then activate it when needed...given that I am granted access the first time.\r\n\r\nAny help?\r\n\r\nused devicePolicyManager to build an intent to ask for admin access activation.\r\nThen used\r\n            devicePolicyManager.removeActiveAdmin(new ComponentName(this, DeviceAdminReceiver.class));\r\n\r\nto deactivate it.\r\n\r\nI need to be able to activate it again without having to ask the user\r\n","title":"How to Re-Activate Admin Access using DevicePolicyManager","body":"<p>Using Android Policy Manager, I am asking the user to grant admin access to my app when needed (to be able to lock the screen from within my app).</p>\n<p>When I needed, I remove this admin access using:</p>\n<pre><code>        devicePolicyManager.removeActiveAdmin(new ComponentName(this, DeviceAdminReceiver.class));\n</code></pre>\n<p>the problem here is that when I need admin access later in my app, the system will ask the user again to grant that access (activate). All I needed is to be able to temporarily inactivate it and then activate it when needed...given that I am granted access the first time.</p>\n<p>Any help?</p>\n<p>used devicePolicyManager to build an intent to ask for admin access activation.\nThen used\ndevicePolicyManager.removeActiveAdmin(new ComponentName(this, DeviceAdminReceiver.class));</p>\n<p>to deactivate it.</p>\n<p>I need to be able to activate it again without having to ask the user</p>\n"},{"tags":["java","ssl","https","java-8","lets-encrypt"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1525193417,"post_id":50025086,"comment_id":87258432,"body_markdown":"CertBot (which is actually from EFF not LetsEncrypt) normally produces several PEM files and you need all of them not just one. Tomcat 8.5 and 9 can (as a new feature) be configured directly with PEM files even when not using APR, but I don&#39;t know how or if they integrate with Eclipse.","body":"CertBot (which is actually from EFF not LetsEncrypt) normally produces several PEM files and you need all of them not just one. Tomcat 8.5 and 9 can (as a new feature) be configured directly with PEM files even when not using APR, but I don&#39;t know how or if they integrate with Eclipse."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1525284203,"post_id":50025086,"comment_id":87300024,"body_markdown":"If you have the key in `-----BEGIN RSA PRIVATE KEY-----` format loading it is pretty complicated as it is PKCS#1 format which AFAIK can not be read easily in plain Java.","body":"If you have the key in <code>-----BEGIN RSA PRIVATE KEY-----</code> format loading it is pretty complicated as it is PKCS#1 format which AFAIK can not be read easily in plain Java."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1525563070,"post_id":50025086,"comment_id":87406890,"body_markdown":"In Java, you don&#39;t commonly programatically create servers. This is why the process is not as straight forward as you may expect. Instead, you create an app using the common web primitives, and _deploy_ it on a standard server, like Tomcat, which you configure for HTTPs. There are tools and frameworks that do not work this way, but start a server on their own and that&#39;s no longer the _plain_ Java way you seem to be after.","body":"In Java, you don&#39;t commonly programatically create servers. This is why the process is not as straight forward as you may expect. Instead, you create an app using the common web primitives, and <i>deploy</i> it on a standard server, like Tomcat, which you configure for HTTPs. There are tools and frameworks that do not work this way, but start a server on their own and that&#39;s no longer the <i>plain</i> Java way you seem to be after."},{"owner":{"account_id":950197,"reputation":1687,"user_id":976509,"display_name":"vl4d1m1r4"},"score":0,"creation_date":1525783920,"post_id":50025086,"comment_id":87485497,"body_markdown":"Assuming that a web app is in question, any reason why you can&#39;t have a web server like nginx or apache in front of your java server? They know how to handle pem files pretty well.","body":"Assuming that a web app is in question, any reason why you can&#39;t have a web server like nginx or apache in front of your java server? They know how to handle pem files pretty well."},{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":1,"creation_date":1525784027,"post_id":50025086,"comment_id":87485556,"body_markdown":"I think that you have excluded all the easy solutions, sorry. There are easy solutions that involve converting the key to Java format, which you excluded with (1), or using a library that can read PEM, which you have excluded with (2).","body":"I think that you have excluded all the easy solutions, sorry. There are easy solutions that involve converting the key to Java format, which you excluded with (1), or using a library that can read PEM, which you have excluded with (2)."}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1525284610,"creation_date":1525189868,"answer_id":50119615,"question_id":50025086,"body_markdown":"The following code shows in general how create a SSLContext for an HTTPS server by parsing a PEM file that has multiple entries, e.g. several certificates and one `RSA PRIVATE KEY`. However it is incomplete because plain Java 8 is unable to parse the PKCS#1 RSA private key data. Therefore it seems that your wish to do it without any library is not possible. At least BouncyCastle for parsing the PKCS#1 data is required (and then the PEM parser of BouncyCastle could be used, too).\r\n\r\n    private SSLContext createSslContext() throws Exception {\r\n        URL url = getClass().getResource(&quot;/a.pem&quot;);\r\n        InputStream in = url.openStream();\r\n        String pem = new String(in.readAllBytes(), StandardCharsets.UTF_8);\r\n        Pattern parse = Pattern.compile(&quot;(?m)(?s)^---*BEGIN ([^-]+)---*$([^-]+)^---*END[^-]+-+$&quot;);\r\n        Matcher m = parse.matcher(pem);\r\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        Decoder decoder = Base64.getMimeDecoder();\r\n        List&lt;Certificate&gt; certList = new ArrayList&lt;&gt;(); // java.security.cert.Certificate\r\n\r\n        PrivateKey privateKey = null;\r\n\r\n        int start = 0;\r\n        while (m.find(start)) {\r\n            String type = m.group(1);\r\n            String base64Data = m.group(2);\r\n            byte[] data = decoder.decode(base64Data);\r\n            start += m.group(0).length();\r\n            type = type.toUpperCase();\r\n            if (type.contains(&quot;CERTIFICATE&quot;)) {\r\n                Certificate cert = certFactory.generateCertificate(new ByteArrayInputStream(data));\r\n                certList.add(cert);\r\n            } else if (type.contains(&quot;RSA PRIVATE KEY&quot;)) {\r\n                // TODO: load and parse PKCS1 data structure to get the RSA private key  \r\n                privateKey = ...\r\n            } else {\r\n                System.err.println(&quot;Unsupported type: &quot; + type);\r\n            }\r\n\r\n        }\r\n        if (privateKey == null)\r\n            throw new RuntimeException(&quot;RSA private key not found in PEM file&quot;);\r\n\r\n        char[] keyStorePassword = new char[0];\r\n\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n        keyStore.load(null, null);\r\n\r\n        int count = 0;\r\n        for (Certificate cert : certList) {\r\n            keyStore.setCertificateEntry(&quot;cert&quot; + count, cert);\r\n            count++;\r\n        }\r\n        Certificate[] chain = certList.toArray(new Certificate[certList.size()]);\r\n        keyStore.setKeyEntry(&quot;key&quot;, privateKey, keyStorePassword, chain);\r\n\r\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        tmf.init(keyStore);\r\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;RSA&quot;);\r\n        kmf.init(keyStore, keyStorePassword);\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), new SecureRandom());\r\n        return sslContext;\r\n    }\r\n\r\n\r\n","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<p>The following code shows in general how create a SSLContext for an HTTPS server by parsing a PEM file that has multiple entries, e.g. several certificates and one <code>RSA PRIVATE KEY</code>. However it is incomplete because plain Java 8 is unable to parse the PKCS#1 RSA private key data. Therefore it seems that your wish to do it without any library is not possible. At least BouncyCastle for parsing the PKCS#1 data is required (and then the PEM parser of BouncyCastle could be used, too).</p>\n\n<pre><code>private SSLContext createSslContext() throws Exception {\n    URL url = getClass().getResource(\"/a.pem\");\n    InputStream in = url.openStream();\n    String pem = new String(in.readAllBytes(), StandardCharsets.UTF_8);\n    Pattern parse = Pattern.compile(\"(?m)(?s)^---*BEGIN ([^-]+)---*$([^-]+)^---*END[^-]+-+$\");\n    Matcher m = parse.matcher(pem);\n    CertificateFactory certFactory = CertificateFactory.getInstance(\"X.509\");\n    Decoder decoder = Base64.getMimeDecoder();\n    List&lt;Certificate&gt; certList = new ArrayList&lt;&gt;(); // java.security.cert.Certificate\n\n    PrivateKey privateKey = null;\n\n    int start = 0;\n    while (m.find(start)) {\n        String type = m.group(1);\n        String base64Data = m.group(2);\n        byte[] data = decoder.decode(base64Data);\n        start += m.group(0).length();\n        type = type.toUpperCase();\n        if (type.contains(\"CERTIFICATE\")) {\n            Certificate cert = certFactory.generateCertificate(new ByteArrayInputStream(data));\n            certList.add(cert);\n        } else if (type.contains(\"RSA PRIVATE KEY\")) {\n            // TODO: load and parse PKCS1 data structure to get the RSA private key  \n            privateKey = ...\n        } else {\n            System.err.println(\"Unsupported type: \" + type);\n        }\n\n    }\n    if (privateKey == null)\n        throw new RuntimeException(\"RSA private key not found in PEM file\");\n\n    char[] keyStorePassword = new char[0];\n\n    KeyStore keyStore = KeyStore.getInstance(\"JKS\");\n    keyStore.load(null, null);\n\n    int count = 0;\n    for (Certificate cert : certList) {\n        keyStore.setCertificateEntry(\"cert\" + count, cert);\n        count++;\n    }\n    Certificate[] chain = certList.toArray(new Certificate[certList.size()]);\n    keyStore.setKeyEntry(\"key\", privateKey, keyStorePassword, chain);\n\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    tmf.init(keyStore);\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"RSA\");\n    kmf.init(keyStore, keyStorePassword);\n    SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n    sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), new SecureRandom());\n    return sslContext;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13459544,"reputation":32,"user_id":9712075,"display_name":"David Arellano"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1525265530,"creation_date":1525265530,"answer_id":50135125,"question_id":50025086,"body_markdown":" - This is a temporarly solution, because the code below, alows you to accept any server so, you should check deeply into your code when you are trying these kinds solutions.\r\n\r\n - This code does not need any cert at all.\r\n\r\n - The question is that why you are trying to avoid this procces, if the case requiered shouldn&#180;t you be using a non secure server ?\r\n\r\n\r\n----------\r\n\r\n    logger.info(&quot;Starting instance &quot;);\r\n\t\t\tTrustManager[] tm = new TrustManager[]{new X509TrustManager() {\r\n\t\t\t\tpublic X509Certificate[] getAcceptedIssuers(){return new X509Certificate[]{};}\r\n\t\t\t\tpublic void checkClientTrusted(X509Certificate[] chain, String authType) {logger.info(&quot; checkClientTrusted&quot;);}\r\n\t\t\t\tpublic void checkServerTrusted(X509Certificate[] chain, String authType) {logger.info(&quot; checkServerTrusted&quot;);}\r\n\t\t\t\t\r\n\t\t\t}};\r\n\t\t\t\r\n\t\t\tSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n\t\t\tsslContext.init(null, tm , new SecureRandom());\r\n\t\t\tHttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\r\n\r\n","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<ul>\n<li><p>This is a temporarly solution, because the code below, alows you to accept any server so, you should check deeply into your code when you are trying these kinds solutions.</p></li>\n<li><p>This code does not need any cert at all.</p></li>\n<li><p>The question is that why you are trying to avoid this procces, if the case requiered shouldn´t you be using a non secure server ?</p></li>\n</ul>\n\n<hr>\n\n<pre><code>logger.info(\"Starting instance \");\n        TrustManager[] tm = new TrustManager[]{new X509TrustManager() {\n            public X509Certificate[] getAcceptedIssuers(){return new X509Certificate[]{};}\n            public void checkClientTrusted(X509Certificate[] chain, String authType) {logger.info(\" checkClientTrusted\");}\n            public void checkServerTrusted(X509Certificate[] chain, String authType) {logger.info(\" checkServerTrusted\");}\n\n        }};\n\n        SSLContext sslContext = SSLContext.getInstance(\"SSL\");\n        sslContext.init(null, tm , new SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73141,"reputation":10927,"user_id":210791,"accept_rate":57,"display_name":"satnam"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1584647659,"creation_date":1584641451,"answer_id":60762862,"question_id":50025086,"body_markdown":"My full solution that I currently use:\r\n\r\n1. Use certbot on your server to generate the certificate.  I use the command &quot;certbot certonly -d myawesomedomain.com&quot;\r\n2. I use the following code to convert that certbot certificate into a java SSLContext:  https://github.com/mirraj2/bowser/blob/master/src/bowser/SSLUtils.java\r\n\r\n```\r\npackage bowser;\r\n\r\nimport static com.google.common.base.Preconditions.checkState;\r\nimport static ox.util.Utils.propagate;\r\n\r\nimport java.io.File;\r\nimport java.security.KeyStore;\r\n\r\nimport javax.net.ssl.KeyManagerFactory;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.TrustManagerFactory;\r\n\r\nimport com.google.common.base.Splitter;\r\n\r\nimport ox.IO;\r\nimport ox.Log;\r\n\r\npublic class SSLUtils {\r\n\r\n  public static SSLContext createContext(String domain) {\r\n    String pass = &quot;spamspam&quot;;\r\n\r\n    File dir = new File(&quot;/etc/letsencrypt/live/&quot; + domain);\r\n    if (!dir.exists()) {\r\n      Log.warn(&quot;Could not find letsencrypt dir: &quot; + dir);\r\n      return null;\r\n    }\r\n\r\n    File keystoreFile = new File(dir, &quot;keystore.jks&quot;);\r\n    File pemFile = new File(dir, &quot;fullchain.pem&quot;);\r\n\r\n    boolean generateKeystore = false;\r\n\r\n    if (keystoreFile.exists()) {\r\n      if (keystoreFile.lastModified() &lt; pemFile.lastModified()) {\r\n        Log.info(&quot;SSUtils: It looks like a new PEM file was created. Regenerating the keystore.&quot;);\r\n        keystoreFile.delete();\r\n        generateKeystore = true;\r\n      }\r\n    } else {\r\n      generateKeystore = true;\r\n    }\r\n\r\n    if (generateKeystore) {\r\n      Splitter splitter = Splitter.on(&#39; &#39;);\r\n      try {\r\n        String command = &quot;openssl pkcs12 -export -out keystore.pkcs12 -in fullchain.pem -inkey privkey.pem -passout pass:&quot;\r\n            + pass;\r\n        Log.debug(command);\r\n        Process process = new ProcessBuilder(splitter.splitToList(command))\r\n            .directory(dir).inheritIO().start();\r\n        checkState(process.waitFor() == 0);\r\n\r\n        command = &quot;keytool -importkeystore -srckeystore keystore.pkcs12 -srcstoretype PKCS12 -destkeystore keystore.jks -srcstorepass &quot;\r\n            + pass + &quot; -deststorepass &quot; + pass;\r\n        Log.debug(command);\r\n        process = new ProcessBuilder(splitter.splitToList(command))\r\n            .directory(dir).inheritIO().start();\r\n        checkState(process.waitFor() == 0);\r\n\r\n        new File(dir, &quot;keystore.pkcs12&quot;).delete();// cleanup\r\n      } catch (Exception e) {\r\n        throw propagate(e);\r\n      }\r\n    }\r\n\r\n    try {\r\n      KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n      keystore.load(IO.from(keystoreFile).asStream(), pass.toCharArray());\r\n\r\n      KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n      keyManagerFactory.init(keystore, pass.toCharArray());\r\n\r\n      SSLContext ret = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n      TrustManagerFactory factory = TrustManagerFactory.getInstance(\r\n          TrustManagerFactory.getDefaultAlgorithm());\r\n      factory.init(keystore);\r\n      ret.init(keyManagerFactory.getKeyManagers(), factory.getTrustManagers(), null);\r\n\r\n      return ret;\r\n    } catch (Exception e) {\r\n      throw propagate(e);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n```","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<p>My full solution that I currently use:</p>\n\n<ol>\n<li>Use certbot on your server to generate the certificate.  I use the command \"certbot certonly -d myawesomedomain.com\"</li>\n<li>I use the following code to convert that certbot certificate into a java SSLContext:  <a href=\"https://github.com/mirraj2/bowser/blob/master/src/bowser/SSLUtils.java\" rel=\"nofollow noreferrer\">https://github.com/mirraj2/bowser/blob/master/src/bowser/SSLUtils.java</a></li>\n</ol>\n\n<pre><code>package bowser;\n\nimport static com.google.common.base.Preconditions.checkState;\nimport static ox.util.Utils.propagate;\n\nimport java.io.File;\nimport java.security.KeyStore;\n\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManagerFactory;\n\nimport com.google.common.base.Splitter;\n\nimport ox.IO;\nimport ox.Log;\n\npublic class SSLUtils {\n\n  public static SSLContext createContext(String domain) {\n    String pass = \"spamspam\";\n\n    File dir = new File(\"/etc/letsencrypt/live/\" + domain);\n    if (!dir.exists()) {\n      Log.warn(\"Could not find letsencrypt dir: \" + dir);\n      return null;\n    }\n\n    File keystoreFile = new File(dir, \"keystore.jks\");\n    File pemFile = new File(dir, \"fullchain.pem\");\n\n    boolean generateKeystore = false;\n\n    if (keystoreFile.exists()) {\n      if (keystoreFile.lastModified() &lt; pemFile.lastModified()) {\n        Log.info(\"SSUtils: It looks like a new PEM file was created. Regenerating the keystore.\");\n        keystoreFile.delete();\n        generateKeystore = true;\n      }\n    } else {\n      generateKeystore = true;\n    }\n\n    if (generateKeystore) {\n      Splitter splitter = Splitter.on(' ');\n      try {\n        String command = \"openssl pkcs12 -export -out keystore.pkcs12 -in fullchain.pem -inkey privkey.pem -passout pass:\"\n            + pass;\n        Log.debug(command);\n        Process process = new ProcessBuilder(splitter.splitToList(command))\n            .directory(dir).inheritIO().start();\n        checkState(process.waitFor() == 0);\n\n        command = \"keytool -importkeystore -srckeystore keystore.pkcs12 -srcstoretype PKCS12 -destkeystore keystore.jks -srcstorepass \"\n            + pass + \" -deststorepass \" + pass;\n        Log.debug(command);\n        process = new ProcessBuilder(splitter.splitToList(command))\n            .directory(dir).inheritIO().start();\n        checkState(process.waitFor() == 0);\n\n        new File(dir, \"keystore.pkcs12\").delete();// cleanup\n      } catch (Exception e) {\n        throw propagate(e);\n      }\n    }\n\n    try {\n      KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n      keystore.load(IO.from(keystoreFile).asStream(), pass.toCharArray());\n\n      KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n      keyManagerFactory.init(keystore, pass.toCharArray());\n\n      SSLContext ret = SSLContext.getInstance(\"TLSv1.2\");\n      TrustManagerFactory factory = TrustManagerFactory.getInstance(\n          TrustManagerFactory.getDefaultAlgorithm());\n      factory.init(keystore);\n      ret.init(keyManagerFactory.getKeyManagers(), factory.getTrustManagers(), null);\n\n      return ret;\n    } catch (Exception e) {\n      throw propagate(e);\n    }\n  }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10727529,"reputation":1211,"user_id":10530458,"display_name":"Vedran Vidovic"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588946390,"creation_date":1588946390,"answer_id":61680878,"question_id":50025086,"body_markdown":"You can do something like this to get a proper SSLContext:\r\n\r\n    final String ca1 = &quot;..load PEM file in string..&quot;;\r\n    final CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    final Certificate cert1 = cf.generateCertificate(new ByteArrayInputStream(ca1.getBytes()));\r\n    final KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    keyStore.load(null, null);\r\n    // Can add multiple truststore certificates here...\r\n    keyStore.setCertificateEntry(&quot;my-ca-1&quot;, cert1);\r\n    final SSLContext sslContext = SSLContexts.custom().setKeyStoreType(saToken)\r\n    \t\t.loadTrustMaterial(keyStore, null)\r\n\t\t\t.build();\r\n\r\n\r\n","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<p>You can do something like this to get a proper SSLContext:</p>\n\n<pre><code>final String ca1 = \"..load PEM file in string..\";\nfinal CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\nfinal Certificate cert1 = cf.generateCertificate(new ByteArrayInputStream(ca1.getBytes()));\nfinal KeyStore keyStore = KeyStore.getInstance(\"JKS\");\nkeyStore.load(null, null);\n// Can add multiple truststore certificates here...\nkeyStore.setCertificateEntry(\"my-ca-1\", cert1);\nfinal SSLContext sslContext = SSLContexts.custom().setKeyStoreType(saToken)\n        .loadTrustMaterial(keyStore, null)\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1685610393,"creation_date":1607187285,"answer_id":65159530,"question_id":50025086,"body_markdown":"Although an answer has been provided, I would like to provide an alternative which requires less code. See below for an example setup:\r\n\r\n```java\r\nimport nl.altindag.ssl.SSLFactory;\r\nimport nl.altindag.ssl.util.PemUtils;\r\n\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.X509ExtendedKeyManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(&quot;certificate-chain.pem&quot;, &quot;private-key.pem&quot;, &quot;private-key-password&quot;.toCharArray());\r\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(&quot;some-trusted-certificate.pem&quot;);\r\n\r\n        SSLFactory sslFactory = SSLFactory.builder()\r\n                .withIdentityMaterial(keyManager)\r\n                .withTrustMaterial(trustManager)\r\n                .build();\r\n\r\n        SSLContext sslContext = sslFactory.getSslContext();\r\n    }\r\n    \r\n}\r\n```\r\nTo use the above setup you can use this library:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe setup above requires less custom code while it is still achieving what you are trying to accomplish. You can view the library and documentation here: https://github.com/Hakky54/sslcontext-kickstart","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<p>Although an answer has been provided, I would like to provide an alternative which requires less code. See below for an example setup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.altindag.ssl.SSLFactory;\nimport nl.altindag.ssl.util.PemUtils;\n\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.X509ExtendedKeyManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\n\npublic class App {\n\n    public static void main(String[] args) {\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(&quot;certificate-chain.pem&quot;, &quot;private-key.pem&quot;, &quot;private-key-password&quot;.toCharArray());\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(&quot;some-trusted-certificate.pem&quot;);\n\n        SSLFactory sslFactory = SSLFactory.builder()\n                .withIdentityMaterial(keyManager)\n                .withTrustMaterial(trustManager)\n                .build();\n\n        SSLContext sslContext = sslFactory.getSslContext();\n    }\n    \n}\n</code></pre>\n<p>To use the above setup you can use this library:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The setup above requires less custom code while it is still achieving what you are trying to accomplish. You can view the library and documentation here: <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">https://github.com/Hakky54/sslcontext-kickstart</a></p>\n"}],"owner":{"account_id":73141,"reputation":10927,"user_id":210791,"accept_rate":57,"display_name":"satnam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35490,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":60762862,"answer_count":5,"score":26,"last_activity_date":1685610393,"creation_date":1524667144,"question_id":50025086,"body_markdown":"I used LetsEncrypt&#39;s CertBot to generate PEM files for free.  In other languages it is easy to start an HTTPS server using just a couple lines of code and the PEM/key files.  The solutions I have found so far in java are overly complex and I&#39;m looking for something simpler.\r\n\r\n1. I do not want to use java&#39;s command-line &quot;keytool&quot;.  I just want to drag and drop my PEM/key files into my eclipse, and programatically start up an HTTPS server using an SSLContext.\r\n2. I do not want to include massive external libraries like BouncyCastle. See the following link for a supposed solution using BouncyCastle:  https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting?rq=1\r\n\r\nIs there a better/easier way to do this?","title":"In Java, what is the simplest way to create an SSLContext with just a PEM file?","body":"<p>I used LetsEncrypt's CertBot to generate PEM files for free.  In other languages it is easy to start an HTTPS server using just a couple lines of code and the PEM/key files.  The solutions I have found so far in java are overly complex and I'm looking for something simpler.</p>\n\n<ol>\n<li>I do not want to use java's command-line \"keytool\".  I just want to drag and drop my PEM/key files into my eclipse, and programatically start up an HTTPS server using an SSLContext.</li>\n<li>I do not want to include massive external libraries like BouncyCastle. See the following link for a supposed solution using BouncyCastle:  <a href=\"https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting?rq=1\">How to build a SSLSocketFactory from PEM certificate and key without converting to keystore?</a></li>\n</ol>\n\n<p>Is there a better/easier way to do this?</p>\n"},{"tags":["java","eclipse","maven","rdf4j","javaimports"],"comments":[{"owner":{"account_id":8940505,"reputation":961,"user_id":6669735,"display_name":"Byron Lagrone"},"score":2,"creation_date":1684927044,"post_id":76322526,"comment_id":134588179,"body_markdown":"I don&#39;t believe there is a way to do exactly what you want (which is unfortunate in itself), but I would strongly recommend using the official Maven central package search, which does have some namespace-based searching -- https://central.sonatype.com/search?smo=true&amp;q=rdf4j ; \n\nbased on James&#39; comment below I was able to find the source repository underlying the main rdf4j eclipse package, which is what I think you&#39;re looking for: https://github.com/eclipse/rdf4j/blob/main/core/model/src/main/java/org/eclipse/rdf4j/model/util/Values.java","body":"I don&#39;t believe there is a way to do exactly what you want (which is unfortunate in itself), but I would strongly recommend using the official Maven central package search, which does have some namespace-based searching -- <a href=\"https://central.sonatype.com/search?smo=true&amp;q=rdf4j\" rel=\"nofollow noreferrer\">central.sonatype.com/search?smo=true&amp;q=rdf4j</a> ;   based on James&#39; comment below I was able to find the source repository underlying the main rdf4j eclipse package, which is what I think you&#39;re looking for: <a href=\"https://github.com/eclipse/rdf4j/blob/main/core/model/src/main/java/org/eclipse/rdf4j/model/util/Values.java\" rel=\"nofollow noreferrer\">github.com/eclipse/rdf4j/blob/main/core/model/src/main/java/&zwnj;&#8203;org/&hellip;</a>"},{"owner":{"account_id":25889665,"reputation":60,"user_id":19617261,"display_name":"Peter Mulm"},"score":0,"creation_date":1684929830,"post_id":76322526,"comment_id":134588811,"body_markdown":"Most IDE&#39;S automatically search for the missing dependencies, if needed. Maybe turn on auto complete in your editor.","body":"Most IDE&#39;S automatically search for the missing dependencies, if needed. Maybe turn on auto complete in your editor."},{"owner":{"account_id":4153704,"reputation":549,"user_id":3405484,"display_name":"Abdelghani"},"score":0,"creation_date":1685431174,"post_id":76322526,"comment_id":134654644,"body_markdown":"Thanks @Byron Lagrone and James Baxter. I am probably missing something because I have looked in the git repo and used the version in the pom file but still cant see the class I am looking for.","body":"Thanks @Byron Lagrone and James Baxter. I am probably missing something because I have looked in the git repo and used the version in the pom file but still cant see the class I am looking for."},{"owner":{"account_id":203984,"reputation":21747,"user_id":451941,"accept_rate":100,"display_name":"Jeen Broekstra"},"score":0,"creation_date":1685609951,"post_id":76322526,"comment_id":134685070,"body_markdown":"@Abdelghani interested to hear which tutorial you were looking at. If it&#39;s one by the RDF4J project, perhaps I can fix it.","body":"@Abdelghani interested to hear which tutorial you were looking at. If it&#39;s one by the RDF4J project, perhaps I can fix it."}],"answers":[{"tags":[],"owner":{"account_id":159214,"reputation":1238,"user_id":378365,"accept_rate":100,"display_name":"James Baxter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684924295,"creation_date":1684924295,"answer_id":76322556,"question_id":76322526,"body_markdown":"Personally I try to find the source repo for the project that contains the class, then I look at the maven configuration (ie pom.xml) to see what groupId/artifactId it&#39;s published under.\r\n\r\nSometimes you will need to look at older git tags if the class has moved and/or been deleted.","title":"How to look for the maven repository of a particular class or package","body":"<p>Personally I try to find the source repo for the project that contains the class, then I look at the maven configuration (ie pom.xml) to see what groupId/artifactId it's published under.</p>\n<p>Sometimes you will need to look at older git tags if the class has moved and/or been deleted.</p>\n"},{"tags":[],"owner":{"account_id":203984,"reputation":21747,"user_id":451941,"accept_rate":100,"display_name":"Jeen Broekstra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685610082,"creation_date":1685609508,"answer_id":76380183,"question_id":76322526,"body_markdown":"Looking at the specific project website is usually a good idea if somehow these dependencies are not automatically found. \r\n\r\nIn this case, the [RDF4J project][1] gives instructions on how to get the right maven artifacts on its [download page][2]. You can also look in the [Github repo][3], if you search for the class file ([Values.java][4] in this case) you can see what package and module it&#39;s in: it&#39;s in the `rdf4j/core/model` directory, which has a [module POM][5] that gives you the details of the specific maven artifact:\r\n\r\n```xml\r\n\t&lt;groupId&gt;org.eclipse.rdf4j&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;rdf4j-model&lt;/artifactId&gt;\r\n```\r\n\r\n\r\n  [1]: https://rdf4j.org/\r\n  [2]: https://rdf4j.org/download/\r\n  [3]: https://github.com/eclipse/rdf4j\r\n  [4]: https://github.com/eclipse/rdf4j/blob/main/core/model/src/main/java/org/eclipse/rdf4j/model/util/Values.java\r\n  [5]: https://github.com/eclipse/rdf4j/blob/main/core/model/pom.xml","title":"How to look for the maven repository of a particular class or package","body":"<p>Looking at the specific project website is usually a good idea if somehow these dependencies are not automatically found.</p>\n<p>In this case, the <a href=\"https://rdf4j.org/\" rel=\"nofollow noreferrer\">RDF4J project</a> gives instructions on how to get the right maven artifacts on its <a href=\"https://rdf4j.org/download/\" rel=\"nofollow noreferrer\">download page</a>. You can also look in the <a href=\"https://github.com/eclipse/rdf4j\" rel=\"nofollow noreferrer\">Github repo</a>, if you search for the class file (<a href=\"https://github.com/eclipse/rdf4j/blob/main/core/model/src/main/java/org/eclipse/rdf4j/model/util/Values.java\" rel=\"nofollow noreferrer\">Values.java</a> in this case) you can see what package and module it's in: it's in the <code>rdf4j/core/model</code> directory, which has a <a href=\"https://github.com/eclipse/rdf4j/blob/main/core/model/pom.xml\" rel=\"nofollow noreferrer\">module POM</a> that gives you the details of the specific maven artifact:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;groupId&gt;org.eclipse.rdf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;rdf4j-model&lt;/artifactId&gt;\n</code></pre>\n"}],"owner":{"account_id":4153704,"reputation":549,"user_id":3405484,"display_name":"Abdelghani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685610082,"creation_date":1684924075,"question_id":76322526,"body_markdown":"In my Maven project, I need to use a particular class (specifically, org.eclipse.rdf4j.model.util.Values.bnode) However, when I import it in Eclipse it logically  complains it couldnt find it.\r\nFurther, when I look for the Maven repo of rdf4j in https://mvnrepository.com/, I find a bunch of them and I dont know which one contains the class I am looking for.\r\n\r\nSo my question is : is there a simple way to look for the Maven repository that contains a certain class or package?\r\n\r\nThx in advance\r\n\r\nBTW.\r\nI found this class in an online tutorial. But the turorial does not give the maven configuration or the package information, which is not convenient at all. Tutos should always mention how to set the environment and import specific packages (or at least point to another webpage that does).","title":"How to look for the maven repository of a particular class or package","body":"<p>In my Maven project, I need to use a particular class (specifically, org.eclipse.rdf4j.model.util.Values.bnode) However, when I import it in Eclipse it logically  complains it couldnt find it.\nFurther, when I look for the Maven repo of rdf4j in <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a>, I find a bunch of them and I dont know which one contains the class I am looking for.</p>\n<p>So my question is : is there a simple way to look for the Maven repository that contains a certain class or package?</p>\n<p>Thx in advance</p>\n<p>BTW.\nI found this class in an online tutorial. But the turorial does not give the maven configuration or the package information, which is not convenient at all. Tutos should always mention how to set the environment and import specific packages (or at least point to another webpage that does).</p>\n"},{"tags":["java","apache-kafka-streams","confluent-cloud"],"answers":[{"tags":[],"owner":{"account_id":233249,"reputation":11,"user_id":498610,"display_name":"JorgeLC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685609669,"creation_date":1685609669,"answer_id":76380210,"question_id":76316840,"body_markdown":"So, it turns out setting `compression.type=producer` is enough for compressing the `*-changelog` topics. \r\nThe amount of data in our testing environment was too small for the retained_bytes stats to show the compression, but it became apparent when we applied on an environment with more volume.","title":"Can I compress intermediate topic (state store) used by KafkaStream in Kafka via producer settings?","body":"<p>So, it turns out setting <code>compression.type=producer</code> is enough for compressing the <code>*-changelog</code> topics.\nThe amount of data in our testing environment was too small for the retained_bytes stats to show the compression, but it became apparent when we applied on an environment with more volume.</p>\n"}],"owner":{"account_id":233249,"reputation":11,"user_id":498610,"display_name":"JorgeLC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76380210,"answer_count":1,"score":0,"last_activity_date":1685609669,"creation_date":1684858999,"question_id":76316840,"body_markdown":"I am working with a kafka cluster hosted in Confluent Cloud.\r\n\r\n\r\nAs per https://docs.confluent.io/cloud/current/client-apps/optimizing/throughput.html#compression, Confluent Cloud enforces `compression.type=producer`.\r\n\r\nI want to compress both the internal `*-changelog` and output topics.\r\n\r\nThis question is similar to https://stackoverflow.com/questions/56594637/can-i-compress-intermediate-topic-state-store-used-by-kafkastream-in-kafka, but the accepted solution is not valid for me, as the topic setting can&#39;t be changed in Confluent Cloud.\r\n\r\nI have tried to set `producer.compression.type=lz4` in my KStreams app, but I don&#39;t see a significant change in the bytes retained in the topic.\r\n\r\nThe setting seemed to work when I tried with a local docker broker (the topics on the file system were smaller), but it doesn&#39;t seem to make a difference in the retained_bytes metric available from Confluent Cloud.\r\n\r\nIs there a good way to validate that this is effectively compressing the messages?","title":"Can I compress intermediate topic (state store) used by KafkaStream in Kafka via producer settings?","body":"<p>I am working with a kafka cluster hosted in Confluent Cloud.</p>\n<p>As per <a href=\"https://docs.confluent.io/cloud/current/client-apps/optimizing/throughput.html#compression\" rel=\"nofollow noreferrer\">https://docs.confluent.io/cloud/current/client-apps/optimizing/throughput.html#compression</a>, Confluent Cloud enforces <code>compression.type=producer</code>.</p>\n<p>I want to compress both the internal <code>*-changelog</code> and output topics.</p>\n<p>This question is similar to <a href=\"https://stackoverflow.com/questions/56594637/can-i-compress-intermediate-topic-state-store-used-by-kafkastream-in-kafka\">Can I compress intermediate topic (state store) used by KafkaStream in Kafka</a>, but the accepted solution is not valid for me, as the topic setting can't be changed in Confluent Cloud.</p>\n<p>I have tried to set <code>producer.compression.type=lz4</code> in my KStreams app, but I don't see a significant change in the bytes retained in the topic.</p>\n<p>The setting seemed to work when I tried with a local docker broker (the topics on the file system were smaller), but it doesn't seem to make a difference in the retained_bytes metric available from Confluent Cloud.</p>\n<p>Is there a good way to validate that this is effectively compressing the messages?</p>\n"},{"tags":["java","opc-ua","opc"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685616448,"post_id":76375918,"comment_id":134686451,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":124881,"reputation":2119,"user_id":1282835,"accept_rate":82,"display_name":"Jouni Aro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685609427,"creation_date":1685609427,"answer_id":76380173,"question_id":76375918,"body_markdown":"If you look at the [SampleClient][1] in the OPC Foundation UA Java Legacy project, and see how it makes a Read call with a ReadRequest, you can now make a similar Call to make a method call with a CallRequest.\r\n\r\nThe [specification][2] defines how to use the Call request in general.\r\n\r\n\r\n  [1]: https://github.com/OPCFoundation/UA-Java-Legacy/blob/master/examples/basic/src/main/java/org/opcfoundation/ua/examples/SampleClient.java\r\n  [2]: https://reference.opcfoundation.org/Core/Part4/v105/docs/5.11.2","title":"how to use opc ua call method request with java opc library","body":"<p>If you look at the <a href=\"https://github.com/OPCFoundation/UA-Java-Legacy/blob/master/examples/basic/src/main/java/org/opcfoundation/ua/examples/SampleClient.java\" rel=\"nofollow noreferrer\">SampleClient</a> in the OPC Foundation UA Java Legacy project, and see how it makes a Read call with a ReadRequest, you can now make a similar Call to make a method call with a CallRequest.</p>\n<p>The <a href=\"https://reference.opcfoundation.org/Core/Part4/v105/docs/5.11.2\" rel=\"nofollow noreferrer\">specification</a> defines how to use the Call request in general.</p>\n"}],"owner":{"account_id":12136525,"reputation":11,"user_id":8861875,"display_name":"daniele sensini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685609427,"creation_date":1685553528,"question_id":76375918,"body_markdown":"I&#39;m trying to send the contents of a cvs file to an opc server via the call method request function.  In practice I should send an array with two strings, the first which would be the name of the machine file where I am going to write the parameters, and the second the name of the csv file where I have already written the parameters to send.  Can you give me some indications on which class to use of the Java opc foundation?  Thanks in advance\r\n\r\nI tried calling the java library by invoking the call method but i can&#39;t figure out how to pass the parameters","title":"how to use opc ua call method request with java opc library","body":"<p>I'm trying to send the contents of a cvs file to an opc server via the call method request function.  In practice I should send an array with two strings, the first which would be the name of the machine file where I am going to write the parameters, and the second the name of the csv file where I have already written the parameters to send.  Can you give me some indications on which class to use of the Java opc foundation?  Thanks in advance</p>\n<p>I tried calling the java library by invoking the call method but i can't figure out how to pass the parameters</p>\n"},{"tags":["java","spring","logging"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1685609383,"post_id":76380123,"comment_id":134684937,"body_markdown":"take a look into [spring-boot-sleuth](https://spring.io/projects/spring-cloud-sleuth) it provides tracing","body":"take a look into <a href=\"https://spring.io/projects/spring-cloud-sleuth\" rel=\"nofollow noreferrer\">spring-boot-sleuth</a> it provides tracing"},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685629967,"post_id":76380123,"comment_id":134689846,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28725993,"reputation":21,"user_id":21998803,"display_name":"谢良基"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685609098,"creation_date":1685609098,"question_id":76380123,"body_markdown":"I want to retrive the relative logs of a request from being received to the processing completed and respond. \r\nAre there any solutions? thx.\r\n\r\neg . a request for fetch a user detail info. i want to collect the whole server processing logs","title":"How to seperate the context log of each endpoint in springboot","body":"<p>I want to retrive the relative logs of a request from being received to the processing completed and respond.\nAre there any solutions? thx.</p>\n<p>eg . a request for fetch a user detail info. i want to collect the whole server processing logs</p>\n"},{"tags":["java","mysql","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1685560374,"post_id":76376472,"comment_id":134679024,"body_markdown":"If you changed your entity primary key to be the natural userId and appId composite ID, JPA would pretty much handle this for you with its merge api. Otherwise, what does your query execution return for AffectedRows, what is the constraint(s) you&#39;ve got on that table, and why do you have devicePlatform being passed into findUserConfig when the query is only using appId and userId? I&#39;d guess you have multiple unique indexes - see https://dev.mysql.com/doc/refman/8.0/en/insert-on-duplicate.html","body":"If you changed your entity primary key to be the natural userId and appId composite ID, JPA would pretty much handle this for you with its merge api. Otherwise, what does your query execution return for AffectedRows, what is the constraint(s) you&#39;ve got on that table, and why do you have devicePlatform being passed into findUserConfig when the query is only using appId and userId? I&#39;d guess you have multiple unique indexes - see <a href=\"https://dev.mysql.com/doc/refman/8.0/en/insert-on-duplicate.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/insert-on-duplicate.html</a>"},{"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"score":0,"creation_date":1685563956,"post_id":76376472,"comment_id":134679582,"body_markdown":"Indexes on table are:\n\nPRIMARY KEY (id), UNIQUE KEY user_config (user_id,app_id)\n\nALSO affectedRows&#39;s value was not zero when addDefaultUserConfig method was returning null. Also devicePlatform passed into findUserConfig method is useless.","body":"Indexes on table are:  PRIMARY KEY (id), UNIQUE KEY user_config (user_id,app_id)  ALSO affectedRows&#39;s value was not zero when addDefaultUserConfig method was returning null. Also devicePlatform passed into findUserConfig method is useless."},{"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"score":0,"creation_date":1685565820,"post_id":76376472,"comment_id":134679951,"body_markdown":"@Chris updated question with more description.","body":"@Chris updated question with more description."},{"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"score":0,"creation_date":1685608081,"post_id":76376472,"comment_id":134684673,"body_markdown":"@chris `If you changed your entity primary key to be the natural userId and appId composite ID, JPA would pretty much handle this for you with its merge api` -&gt; if two threads concurrently try to insert, then merge api will throw duplicate exception. so to prevent that exception we are doing ON DUPLICATE KEY UPDATE","body":"@chris <code>If you changed your entity primary key to be the natural userId and appId composite ID, JPA would pretty much handle this for you with its merge api</code> -&gt; if two threads concurrently try to insert, then merge api will throw duplicate exception. so to prevent that exception we are doing ON DUPLICATE KEY UPDATE"}],"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685608931,"creation_date":1685558899,"question_id":76376472,"body_markdown":"I am opening a MySQL database transaction using JPA (Hibernate) and executing the following code inside that:\r\n\r\n    UserConfig userConfig = this.findUserConfig(appId, userId, devicePlatform);\r\n    if(userConfig == null){\r\n        userConfig = this.addDefaultUserConfig(appId, userId, devicePlatform);\r\n        if (userConfig == null) logger.error(&quot;userConfig must not be null&quot;)\r\n    }\r\n\r\nI am getting &quot;userConfig must not be null&quot; log sometimes in production. So I wanted to know why it is happening?\r\n\r\nUserConfig entity looks like below:\r\n\r\n    @Table(name = &quot;user_config&quot;)\r\n    public class UserConfig extends TemporalModel {\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected long id;\r\n    \r\n        @Column(name = &quot;user_id&quot;)\r\n        private String userId;\r\n    \r\n        @Column(name = &quot;app_id&quot;)\r\n        private String appId;\r\n    \r\n        @Column(name = &quot;device_platform&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        private Platform devicePlatform;\r\n    \r\n        @Column(name = &quot;payer&quot;)\r\n        private Boolean payer;\r\n    \r\n        @Column(name = &quot;winning_balance&quot;)\r\n        private BigDecimal winningBalance;\r\n    \r\n        @Column(name = &quot;games_eligibility_count&quot;)\r\n        private Integer gamesEligibilityCount;\r\n    }\r\n\r\nfindUserConfig method implementation:\r\n\r\n    public UserConfig findUserConfig(String appId, String userId, Platform devicePlatform) {\r\n        EntityManager em = threadContextProvider.currentThreadContext().getEm();\r\n        String queryS = &quot;SELECT u FROM UserConfig u WHERE u.userId = :userId and u.appId = :appId&quot;;\r\n        TypedQuery&lt;UserConfig&gt; q = em.createQuery(queryS, UserConfig.class)\r\n                .setParameter(&quot;userId&quot;, userId)\r\n                .setParameter(&quot;appId&quot;, appId);\r\n\r\n\r\n        List&lt;UserConfig&gt; userConfig = q.getResultList();\r\n        if (userConfig == null || userConfig.size() == 0) {\r\n            return null;\r\n        }\r\n        return userConfig.get(0);\r\n    }\r\n\r\naddDefaultUserConfig method implementation:\r\n\r\n    UserConfig addDefaultUserConfig(String appId, String userId, Platform devicePlatform) {\r\n        EntityManager em = threadContextProvider.currentThreadContext().getEm();\r\n        String queryStr = &quot;INSERT INTO user_config values ( null, :userId , :appId , :devicePlatform, :winningBalance , :payer ,&quot; +\r\n                &quot;:ratedOnAppStore , :ratedOnPlayStore , :gamesEligibilityCount , now() , now() ) ON DUPLICATE KEY UPDATE updated_at = now() ;&quot;;\r\n\r\n        Query q = em.createNativeQuery(queryStr)\r\n            .setParameter(&quot;userId&quot;, userId)\r\n            .setParameter(&quot;appId&quot;, appId)\r\n            .setParameter(&quot;devicePlatform&quot;, devicePlatform == null ? null:devicePlatform.name())\r\n            .setParameter(&quot;payer&quot;, 0)\r\n            .setParameter(&quot;winningBalance&quot;, &quot;0.00&quot;)\r\n            .setParameter(&quot;ratedOnAppStore&quot;, 0)\r\n            .setParameter(&quot;ratedOnPlayStore&quot;, 0)\r\n            .setParameter(&quot;gamesEligibilityCount&quot;, 0);\r\n        int affectedRows = q.executeUpdate(); //not coming 0\r\n        \r\n        UserConfig userConfig = findUserConfig(appId, userId, devicePlatform);\r\n        if (userConfig == null) {\r\n            logger.debug(&quot;addDefaultUserConfig: userConfig is null&quot;);\r\n        }\r\n        return userConfig;\r\n    }\r\n\r\n\r\nIndexes on table are:\r\n\r\n- PRIMARY KEY (`id`),\r\n- UNIQUE KEY `user_config` (`user_id`,`app_id`)\r\n\r\nAlso affectedRows&#39;s value was not zero when addDefaultUserConfig method was returning null.\r\n\r\nOne more observation:\r\n\r\n`ON DUPLICATE KEY UPDATE updated_at = now()` - I am updating updated_at because otherwise addDefaultUserConfig method was returning null more frequently when I had `ON DUPLICATE KEY UPDATE user_id = :userId`.\r\n\r\nOne more observation:\r\n\r\nWith `ON DUPLICATE KEY UPDATE user_id = :userId`, addDefaultUserConfig method was always returning null if insertion was not being done by this transaction.\r\n","title":"SELECT statement returning null after INSERT ... ON DUPLICATE KEY UPDATE Statement in same transaction","body":"<p>I am opening a MySQL database transaction using JPA (Hibernate) and executing the following code inside that:</p>\n<pre><code>UserConfig userConfig = this.findUserConfig(appId, userId, devicePlatform);\nif(userConfig == null){\n    userConfig = this.addDefaultUserConfig(appId, userId, devicePlatform);\n    if (userConfig == null) logger.error(&quot;userConfig must not be null&quot;)\n}\n</code></pre>\n<p>I am getting &quot;userConfig must not be null&quot; log sometimes in production. So I wanted to know why it is happening?</p>\n<p>UserConfig entity looks like below:</p>\n<pre><code>@Table(name = &quot;user_config&quot;)\npublic class UserConfig extends TemporalModel {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected long id;\n\n    @Column(name = &quot;user_id&quot;)\n    private String userId;\n\n    @Column(name = &quot;app_id&quot;)\n    private String appId;\n\n    @Column(name = &quot;device_platform&quot;)\n    @Enumerated(EnumType.STRING)\n    private Platform devicePlatform;\n\n    @Column(name = &quot;payer&quot;)\n    private Boolean payer;\n\n    @Column(name = &quot;winning_balance&quot;)\n    private BigDecimal winningBalance;\n\n    @Column(name = &quot;games_eligibility_count&quot;)\n    private Integer gamesEligibilityCount;\n}\n</code></pre>\n<p>findUserConfig method implementation:</p>\n<pre><code>public UserConfig findUserConfig(String appId, String userId, Platform devicePlatform) {\n    EntityManager em = threadContextProvider.currentThreadContext().getEm();\n    String queryS = &quot;SELECT u FROM UserConfig u WHERE u.userId = :userId and u.appId = :appId&quot;;\n    TypedQuery&lt;UserConfig&gt; q = em.createQuery(queryS, UserConfig.class)\n            .setParameter(&quot;userId&quot;, userId)\n            .setParameter(&quot;appId&quot;, appId);\n\n\n    List&lt;UserConfig&gt; userConfig = q.getResultList();\n    if (userConfig == null || userConfig.size() == 0) {\n        return null;\n    }\n    return userConfig.get(0);\n}\n</code></pre>\n<p>addDefaultUserConfig method implementation:</p>\n<pre><code>UserConfig addDefaultUserConfig(String appId, String userId, Platform devicePlatform) {\n    EntityManager em = threadContextProvider.currentThreadContext().getEm();\n    String queryStr = &quot;INSERT INTO user_config values ( null, :userId , :appId , :devicePlatform, :winningBalance , :payer ,&quot; +\n            &quot;:ratedOnAppStore , :ratedOnPlayStore , :gamesEligibilityCount , now() , now() ) ON DUPLICATE KEY UPDATE updated_at = now() ;&quot;;\n\n    Query q = em.createNativeQuery(queryStr)\n        .setParameter(&quot;userId&quot;, userId)\n        .setParameter(&quot;appId&quot;, appId)\n        .setParameter(&quot;devicePlatform&quot;, devicePlatform == null ? null:devicePlatform.name())\n        .setParameter(&quot;payer&quot;, 0)\n        .setParameter(&quot;winningBalance&quot;, &quot;0.00&quot;)\n        .setParameter(&quot;ratedOnAppStore&quot;, 0)\n        .setParameter(&quot;ratedOnPlayStore&quot;, 0)\n        .setParameter(&quot;gamesEligibilityCount&quot;, 0);\n    int affectedRows = q.executeUpdate(); //not coming 0\n    \n    UserConfig userConfig = findUserConfig(appId, userId, devicePlatform);\n    if (userConfig == null) {\n        logger.debug(&quot;addDefaultUserConfig: userConfig is null&quot;);\n    }\n    return userConfig;\n}\n</code></pre>\n<p>Indexes on table are:</p>\n<ul>\n<li>PRIMARY KEY (<code>id</code>),</li>\n<li>UNIQUE KEY <code>user_config</code> (<code>user_id</code>,<code>app_id</code>)</li>\n</ul>\n<p>Also affectedRows's value was not zero when addDefaultUserConfig method was returning null.</p>\n<p>One more observation:</p>\n<p><code>ON DUPLICATE KEY UPDATE updated_at = now()</code> - I am updating updated_at because otherwise addDefaultUserConfig method was returning null more frequently when I had <code>ON DUPLICATE KEY UPDATE user_id = :userId</code>.</p>\n<p>One more observation:</p>\n<p>With <code>ON DUPLICATE KEY UPDATE user_id = :userId</code>, addDefaultUserConfig method was always returning null if insertion was not being done by this transaction.</p>\n"},{"tags":["java","http","zip"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1685612444,"post_id":76380074,"comment_id":134685656,"body_markdown":"Are you saying this code runs to end without exceptions? Make sure `nextEntry.getSize()` is set to value &gt;= 0 before throw ISE.","body":"Are you saying this code runs to end without exceptions? Make sure <code>nextEntry.getSize()</code> is set to value &gt;= 0 before throw ISE."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685617793,"post_id":76380074,"comment_id":134686720,"body_markdown":"*and no IOException is thrown.* What about `IllegalStateException` ? Incidentally, you want `if (!nextEntry.isDirectory() &amp;&amp; file.toFile().length() != nextEntry.getSize())`","body":"<i>and no IOException is thrown.</i> What about <code>IllegalStateException</code> ? Incidentally, you want <code>if (!nextEntry.isDirectory() &amp;&amp; file.toFile().length() != nextEntry.getSize())</code>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685627838,"post_id":76380074,"comment_id":134689271,"body_markdown":"How the exceptions `throws IOException, InterruptedException` are handled in the caller method?","body":"How the exceptions <code>throws IOException, InterruptedException</code> are handled in the caller method?"},{"owner":{"account_id":7328,"reputation":13010,"user_id":12695,"accept_rate":44,"display_name":"Roman"},"score":0,"creation_date":1685829556,"post_id":76380074,"comment_id":134716477,"body_markdown":"All exceptions are logged, the zip file in question has only one entry, and the end result without the size check is the file is cut in the middle.","body":"All exceptions are logged, the zip file in question has only one entry, and the end result without the size check is the file is cut in the middle."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685830489,"post_id":76380074,"comment_id":134716569,"body_markdown":"Please give us a url that we can use to test that code","body":"Please give us a url that we can use to test that code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685831204,"post_id":76380074,"comment_id":134716624,"body_markdown":"fwiw I just ran it with a zip archive on my own web server and it worked fine. So you need to post a url that we can use that *you* have a problem with","body":"fwiw I just ran it with a zip archive on my own web server and it worked fine. So you need to post a url that we can use that <i>you</i> have a problem with"}],"owner":{"account_id":7328,"reputation":13010,"user_id":12695,"accept_rate":44,"display_name":"Roman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685608747,"creation_date":1685608747,"question_id":76380074,"body_markdown":"I have the following method which downloads a zip file and extracts the first entry:\r\n```java\r\npublic static Path download(String url) throws IOException, InterruptedException {\r\n        HttpClient httpClient = HttpClient.newHttpClient();\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n            .uri(URI.create(url))\r\n            .build();\r\n        HttpResponse&lt;InputStream&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofInputStream());\r\n        if (response.statusCode() != 200) {\r\n            throw new RuntimeException(response.toString());\r\n        }\r\n        try (ZipInputStream zipInputStream = new ZipInputStream(response.body())) {\r\n            ZipEntry nextEntry = zipInputStream.getNextEntry();\r\n            Path file = Path.of(CACHE_PATH, Objects.requireNonNull(nextEntry).getName());\r\n            Files.createDirectories(Path.of(CACHE_PATH));\r\n            Files.copy(zipInputStream, file);\r\n            if (file.toFile().length() != nextEntry.getSize()) {\r\n                throw new IllegalStateException(&quot;incomplete file: &quot; + file);\r\n            }\r\n            return file;\r\n        }\r\n    }\r\n```\r\nThe problem is that sometimes the file is incomplete and no IOException is thrown.\r\nI added the check in order to workaround this issue, but I&#39;m curious what&#39;s going on there. Any ideas?","title":"Incomplete file when extracting from ZipInputStream","body":"<p>I have the following method which downloads a zip file and extracts the first entry:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Path download(String url) throws IOException, InterruptedException {\n        HttpClient httpClient = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(url))\n            .build();\n        HttpResponse&lt;InputStream&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofInputStream());\n        if (response.statusCode() != 200) {\n            throw new RuntimeException(response.toString());\n        }\n        try (ZipInputStream zipInputStream = new ZipInputStream(response.body())) {\n            ZipEntry nextEntry = zipInputStream.getNextEntry();\n            Path file = Path.of(CACHE_PATH, Objects.requireNonNull(nextEntry).getName());\n            Files.createDirectories(Path.of(CACHE_PATH));\n            Files.copy(zipInputStream, file);\n            if (file.toFile().length() != nextEntry.getSize()) {\n                throw new IllegalStateException(&quot;incomplete file: &quot; + file);\n            }\n            return file;\n        }\n    }\n</code></pre>\n<p>The problem is that sometimes the file is incomplete and no IOException is thrown.\nI added the check in order to workaround this issue, but I'm curious what's going on there. Any ideas?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685564601,"post_id":76377009,"comment_id":134679721,"body_markdown":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need. \nAs it&#39;s currently written, it’s hard to tell exactly what is the issue. See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to \nreproduce the issue. See: [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, it’s hard to tell exactly what is the issue. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1685564625,"post_id":76377009,"comment_id":134679727,"body_markdown":"An array of length `0` contains nothing.","body":"An array of length <code>0</code> contains nothing."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1685564933,"post_id":76377009,"comment_id":134679781,"body_markdown":"You are not running this correctly. It expects three command line arguments, and you are providing none.","body":"You are not running this correctly. It expects three command line arguments, and you are providing none."},{"owner":{"account_id":28722678,"reputation":1,"user_id":21996164,"display_name":"lovely trash"},"score":0,"creation_date":1685568930,"post_id":76377009,"comment_id":134680424,"body_markdown":"ohhh right!! idk how to do that on VSCode tho.. but thanks for responding :)","body":"ohhh right!! idk how to do that on VSCode tho.. but thanks for responding :)"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1686272507,"post_id":76377009,"comment_id":134779861,"body_markdown":"Welcome to StackOverflow. If an answer solves your problem you could click &#39;✔&#39; to mark it as an acceptable answer. If it helps you give it an upvote. If the answer is offtopic or doesn’t help at all, downvote or add a comment. See also [stackoverflow.com/help/why-vote](https://stackoverflow.com/help/why-vote)","body":"Welcome to StackOverflow. If an answer solves your problem you could click &#39;✔&#39; to mark it as an acceptable answer. If it helps you give it an upvote. If the answer is offtopic or doesn’t help at all, downvote or add a comment. See also <a href=\"https://stackoverflow.com/help/why-vote\">stackoverflow.com/help/why-vote</a>"}],"answers":[{"tags":[],"owner":{"account_id":11283371,"reputation":31,"user_id":8274928,"display_name":"grey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685568834,"creation_date":1685567267,"answer_id":76377310,"question_id":76377009,"body_markdown":"You should pass 3 arguments as your code expects them. Currently you&#39;re passing none. Since you&#39;re launching your code via VSCode IDE, try to add arguments via IDE:\r\n\r\nRun -&gt; Add Configuration...\r\n\r\nIt will open *launch.json* file. Add the line with arguments to the section where the mainClass specified:\r\n\r\n    &quot;args&quot;: [&quot;one&quot;,&quot;two&quot;,&quot;three&quot;]\r\n\r\n\r\nConsider adding the proper arguments as per your code&#39;s logic: *integer*, *double* &amp; *string*. \r\nWhole *launch.json* should be a valid JSON file, thus pls don&#39;t forget about commas and quotes around the arguments even if they are not strings. It should help, good luck.","title":"Exception in thread &quot;main&quot; java.lang.ArrayOutOfBoundsException: Index 0 out of bounds for length 0","body":"<p>You should pass 3 arguments as your code expects them. Currently you're passing none. Since you're launching your code via VSCode IDE, try to add arguments via IDE:</p>\n<p>Run -&gt; Add Configuration...</p>\n<p>It will open <em>launch.json</em> file. Add the line with arguments to the section where the mainClass specified:</p>\n<pre><code>&quot;args&quot;: [&quot;one&quot;,&quot;two&quot;,&quot;three&quot;]\n</code></pre>\n<p>Consider adding the proper arguments as per your code's logic: <em>integer</em>, <em>double</em> &amp; <em>string</em>.\nWhole <em>launch.json</em> should be a valid JSON file, thus pls don't forget about commas and quotes around the arguments even if they are not strings. It should help, good luck.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685568458,"creation_date":1685568458,"answer_id":76377411,"question_id":76377009,"body_markdown":"Here is a great tutorial by Java, on the _exception_ mechanism used within the framework.  \r\n_[What Is an Exception? (The Java&amp;trade; Tutorials &gt; Essential Java Classes &gt; Exceptions)](https://docs.oracle.com/javase/tutorial/essential/exceptions/definition.html)_\r\n\r\nThe error you&#39;re encountering states the following.\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat Programa01.main(Programa01.java:11)\r\n```\r\n\r\nThis is caused by an _Exception_ which was thrown by one of the statements.\r\n\r\nThe first line here, outlines the type of _Exception_, in this case an _[ArrayIndexOutOfBoundsException](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ArrayIndexOutOfBoundsException.html)_.  \r\nWhich is followed by a message&amp;mdash;optional, although will sometimes includes relative information.\r\n\r\nIn this case it states the following.\r\n\r\n&gt; _Index 0 out of bounds for length 0_\r\n\r\nFirstly, you&#39;ll need to determine how to locate the error.\r\n\r\nThe last line in the error includes the line-number of which the error occurred.  \r\nIn this case it is line _11_, as denoted within the parentheses, after the _.java_ file-extension.\r\n\r\n```none\r\nat Programa01.main(Programa01.java:11)\r\n```\r\n\r\nIf you look at line 11, you&#39;ll find the following code.\r\n\r\n```java\r\nNumInt = Integer.parseInt(args[0]);\r\n```\r\n\r\nThere are a few _[statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html)_ in this line.\r\n\r\nFirstly, you have the _NumInt_ assignment.\r\n\r\n```java\r\nNumInt = \r\n```\r\n\r\nAdditionally, you have the _[Integer#parseInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String))_ method call.\r\n\r\n```java\r\nInteger.parseInt()\r\n```\r\n\r\nAnd, finally, you have the _args_ array access.  \r\nIn which your syntax is specifying a resolve to index _0_.\r\n\r\n```java\r\nargs[0]\r\n```\r\n\r\nSince the _Exception_ that was thrown is an _ArrayIndexOutOfBoundsException_, we can presume that the logic propagates from this final statement, the _args_ array access. \r\n\r\nThus, index _0_ of the _args_ array is inaccessible, since the _length_ of _args_ is 0&amp;mdash;it contains no elements.\r\n\r\nThe _args_ parameter is an argument which is supplied and populated by the Java Virtual Machine upon the start of your program.\r\n\r\nHere is a tutorial on _Command-Line Arguments_.  \r\n_[Command-Line Arguments (The Java&amp;trade; Tutorials &amp;gt; Essential Java Classes &amp;gt; The Platform Environment)](https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html)_.\r\n\r\nSince you&#39;re using _VSCode_, you can refer to the following tutorial on adding _Launch Configurations_.  \r\n_[VisualStudio.com &amp;ndash; Debugging in Visual Studio Code](https://code.visualstudio.com/docs/editor/debugging#_launch-configurations)_.\r\n\r\nIf you need more assistance on adding the values, feel free to leave a comment.  ","title":"Exception in thread &quot;main&quot; java.lang.ArrayOutOfBoundsException: Index 0 out of bounds for length 0","body":"<p>Here is a great tutorial by Java, on the <em>exception</em> mechanism used within the framework.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/definition.html\" rel=\"nofollow noreferrer\">What Is an Exception? (The Java™ Tutorials &gt; Essential Java Classes &gt; Exceptions)</a></em></p>\n<p>The error you're encountering states the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at Programa01.main(Programa01.java:11)\n</code></pre>\n<p>This is caused by an <em>Exception</em> which was thrown by one of the statements.</p>\n<p>The first line here, outlines the type of <em>Exception</em>, in this case an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ArrayIndexOutOfBoundsException.html\" rel=\"nofollow noreferrer\">ArrayIndexOutOfBoundsException</a></em>.<br />\nWhich is followed by a message—optional, although will sometimes includes relative information.</p>\n<p>In this case it states the following.</p>\n<blockquote>\n<p><em>Index 0 out of bounds for length 0</em></p>\n</blockquote>\n<p>Firstly, you'll need to determine how to locate the error.</p>\n<p>The last line in the error includes the line-number of which the error occurred.<br />\nIn this case it is line <em>11</em>, as denoted within the parentheses, after the <em>.java</em> file-extension.</p>\n<pre class=\"lang-none prettyprint-override\"><code>at Programa01.main(Programa01.java:11)\n</code></pre>\n<p>If you look at line 11, you'll find the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NumInt = Integer.parseInt(args[0]);\n</code></pre>\n<p>There are a few <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"nofollow noreferrer\">statements</a></em> in this line.</p>\n<p>Firstly, you have the <em>NumInt</em> assignment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NumInt = \n</code></pre>\n<p>Additionally, you have the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"nofollow noreferrer\">Integer#parseInt</a></em> method call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer.parseInt()\n</code></pre>\n<p>And, finally, you have the <em>args</em> array access.<br />\nIn which your syntax is specifying a resolve to index <em>0</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>args[0]\n</code></pre>\n<p>Since the <em>Exception</em> that was thrown is an <em>ArrayIndexOutOfBoundsException</em>, we can presume that the logic propagates from this final statement, the <em>args</em> array access.</p>\n<p>Thus, index <em>0</em> of the <em>args</em> array is inaccessible, since the <em>length</em> of <em>args</em> is 0—it contains no elements.</p>\n<p>The <em>args</em> parameter is an argument which is supplied and populated by the Java Virtual Machine upon the start of your program.</p>\n<p>Here is a tutorial on <em>Command-Line Arguments</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html\" rel=\"nofollow noreferrer\">Command-Line Arguments (The Java™ Tutorials &gt; Essential Java Classes &gt; The Platform Environment)</a></em>.</p>\n<p>Since you're using <em>VSCode</em>, you can refer to the following tutorial on adding <em>Launch Configurations</em>.<br />\n<em><a href=\"https://code.visualstudio.com/docs/editor/debugging#_launch-configurations\" rel=\"nofollow noreferrer\">VisualStudio.com – Debugging in Visual Studio Code</a></em>.</p>\n<p>If you need more assistance on adding the values, feel free to leave a comment.</p>\n"}],"owner":{"account_id":28722678,"reputation":1,"user_id":21996164,"display_name":"lovely trash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1685608689,"answer_count":2,"score":-1,"last_activity_date":1685608608,"creation_date":1685564568,"question_id":76377009,"body_markdown":"[enter image description here][1]\r\n\r\nI&#39;m in college and new to coding. The professor is teaching us Java, but I keep encountering this error whenever I try running her code.\r\n\r\nThis is the second time I encounter this problem, and I spent so much time trying to solve it last time I don&#39;t even remember what I did. Can someone help me please?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KnmR8.png","title":"Exception in thread &quot;main&quot; java.lang.ArrayOutOfBoundsException: Index 0 out of bounds for length 0","body":"<p><a href=\"https://i.stack.imgur.com/KnmR8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I'm in college and new to coding. The professor is teaching us Java, but I keep encountering this error whenever I try running her code.</p>\n<p>This is the second time I encounter this problem, and I spent so much time trying to solve it last time I don't even remember what I did. Can someone help me please?</p>\n"},{"tags":["java","spring-boot","jar","java-17"],"answers":[{"tags":[],"owner":{"account_id":5143074,"reputation":689,"user_id":4119789,"accept_rate":100,"display_name":"Nishant Modi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685608309,"creation_date":1685608309,"answer_id":76380030,"question_id":76379202,"body_markdown":"As per below article, it is a bug in spring boot with Java 11 +\r\nAlthough they have fixed it is spring 2.3+ but same is not frontported to 3.x so after applying below workaround it worked for me\r\n\r\n`-Dsun.misc.URLClassPath.disableJarChecking=true`\r\n\r\nReference Article\r\n\r\nhttps://github.com/spring-projects/spring-boot/issues/25538","title":"Security Manager Having Issue with Java 17 and spring boot runnable jar","body":"<p>As per below article, it is a bug in spring boot with Java 11 +\nAlthough they have fixed it is spring 2.3+ but same is not frontported to 3.x so after applying below workaround it worked for me</p>\n<p><code>-Dsun.misc.URLClassPath.disableJarChecking=true</code></p>\n<p>Reference Article</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/25538\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/25538</a></p>\n"}],"owner":{"account_id":5143074,"reputation":689,"user_id":4119789,"accept_rate":100,"display_name":"Nishant Modi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685608309,"creation_date":1685600887,"question_id":76379202,"body_markdown":"I am migrating a project from Java-8 and spring boot 2.x to Java 17 and Spring boot 3.x\r\nThe project use Security Manager for some of internal requirements and can&#39;t be removed as of now.\r\nWhen the project is started using intellij i.e. \r\n\r\n`java -classpath &lt;all local classes&gt;;&lt;all dependencies&gt; &lt;main class&gt; `\r\n\r\nIt works fine but if the final executable jar is used then a lot of class not found exception occurs for logger, ignite etc. Also if security manager is turned off errors doesn&#39;t come\r\n\r\n`java -jar &lt;executable jar&gt;`\r\n\r\ncode used to enable custom security manager\r\n```\r\n\r\n    log.warn(&quot;Enabling PlatformSecurityManager&quot;);\r\n    Policy policy = Policy.getPolicy();\r\n    PermissionCollection perm = policy.getPermissions(new CodeSource(null, (Certificate[]) null));\r\n    boolean canReplaceSecurityManager = perm.implies(new RuntimePermission(&quot;setSecurityManager&quot;));\r\n    if (System.getSecurityManager() != null &amp;&amp; !canReplaceSecurityManager) {\r\n      //we have to do the check like this because it will be from a different classloader\r\n      if (!(System.getSecurityManager().getClass().getName().equals(PlatformSecurityManager.class.getName()))) {\r\n        throw new RuntimeException(\r\n            &quot;You have started the JVM with a security manager that doesn&#39;t allow me to set a new one!&quot;);\r\n      }\r\n      //else another platform application has specified the security manager... so we should be ok\r\n    } else {\r\n      if (System.getProperty(&quot;java.security.policy&quot;) == null) {\r\n        log.warn(&quot;java.security.policy Not found&quot;);\r\n        //load up allow all policy\r\n        log.info(&quot;Enabling AllPermission for the platform security manager&quot;);\r\n        PlatformSecurityPolicy platformPolicy = new PlatformSecurityPolicy();\r\n        platformPolicy.addPermission(new AllPermission());\r\n        Policy.setPolicy(platformPolicy);\r\n      }\r\n\r\n      log.warn(&quot;Enabled PlatformSecurityManager&quot;);\r\n      System.setSecurityManager(new PlatformSecurityManager(false));\r\n    }\r\n```\r\n\r\nPlease add comment if any additional info is needed.\r\nAny lead/help is highly appreciated.","title":"Security Manager Having Issue with Java 17 and spring boot runnable jar","body":"<p>I am migrating a project from Java-8 and spring boot 2.x to Java 17 and Spring boot 3.x\nThe project use Security Manager for some of internal requirements and can't be removed as of now.\nWhen the project is started using intellij i.e.</p>\n<p><code>java -classpath &lt;all local classes&gt;;&lt;all dependencies&gt; &lt;main class&gt; </code></p>\n<p>It works fine but if the final executable jar is used then a lot of class not found exception occurs for logger, ignite etc. Also if security manager is turned off errors doesn't come</p>\n<p><code>java -jar &lt;executable jar&gt;</code></p>\n<p>code used to enable custom security manager</p>\n<pre><code>\n    log.warn(&quot;Enabling PlatformSecurityManager&quot;);\n    Policy policy = Policy.getPolicy();\n    PermissionCollection perm = policy.getPermissions(new CodeSource(null, (Certificate[]) null));\n    boolean canReplaceSecurityManager = perm.implies(new RuntimePermission(&quot;setSecurityManager&quot;));\n    if (System.getSecurityManager() != null &amp;&amp; !canReplaceSecurityManager) {\n      //we have to do the check like this because it will be from a different classloader\n      if (!(System.getSecurityManager().getClass().getName().equals(PlatformSecurityManager.class.getName()))) {\n        throw new RuntimeException(\n            &quot;You have started the JVM with a security manager that doesn't allow me to set a new one!&quot;);\n      }\n      //else another platform application has specified the security manager... so we should be ok\n    } else {\n      if (System.getProperty(&quot;java.security.policy&quot;) == null) {\n        log.warn(&quot;java.security.policy Not found&quot;);\n        //load up allow all policy\n        log.info(&quot;Enabling AllPermission for the platform security manager&quot;);\n        PlatformSecurityPolicy platformPolicy = new PlatformSecurityPolicy();\n        platformPolicy.addPermission(new AllPermission());\n        Policy.setPolicy(platformPolicy);\n      }\n\n      log.warn(&quot;Enabled PlatformSecurityManager&quot;);\n      System.setSecurityManager(new PlatformSecurityManager(false));\n    }\n</code></pre>\n<p>Please add comment if any additional info is needed.\nAny lead/help is highly appreciated.</p>\n"},{"tags":["java","exception","runtime","jdk1.7"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685618623,"post_id":76378793,"comment_id":134686897,"body_markdown":"We need to see the [error trace](https://technojeeves.com/index.php/aliasjava1/17-errors)","body":"We need to see the <a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">error trace</a>"}],"owner":{"account_id":28724628,"reputation":1,"user_id":21997655,"display_name":"Rautk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685608210,"creation_date":1685595755,"question_id":76378793,"body_markdown":"I am the devtools test suite on java test harness but getting this saxparse exception after running the testcase. what is the root cause? i am using oracle jdk1.7.\r\n\r\nI have tried validating the xml document with xsd but it is valid. ","title":"&quot;java.lang.runtimeexception: org.xml.sax.saxparseexception; linenumber: 1; columnnumber: caused by: org.xml.sax.saxparseexception&quot;","body":"<p>I am the devtools test suite on java test harness but getting this saxparse exception after running the testcase. what is the root cause? i am using oracle jdk1.7.</p>\n<p>I have tried validating the xml document with xsd but it is valid.</p>\n"},{"tags":["java","arrays","foreach"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1685585261,"post_id":76378249,"comment_id":134681863,"body_markdown":"could you further clarify what you mean? It is a bit hard to understand what you hope to achieve","body":"could you further clarify what you mean? It is a bit hard to understand what you hope to achieve"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1685585826,"post_id":76378249,"comment_id":134681901,"body_markdown":"In other words please show us code which reproduces the problem.  What result do you want to see instead of the current result.","body":"In other words please show us code which reproduces the problem.  What result do you want to see instead of the current result."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1685586333,"post_id":76378249,"comment_id":134681936,"body_markdown":"Why loop through all books when I suspect that `Book b = findBook(title);` is the book you want to process - no?","body":"Why loop through all books when I suspect that <code>Book b = findBook(title);</code> is the book you want to process - no?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1685587564,"post_id":76378249,"comment_id":134682026,"body_markdown":"Other than checking them for null, you never use `lm` or `b`.","body":"Other than checking them for null, you never use <code>lm</code> or <code>b</code>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1685589737,"post_id":76378249,"comment_id":134682180,"body_markdown":"Why would there be any particular relationship between `lm` and any particular element of `libMems`, just from this code alone?  What part of the for loop checks anything about `libMem`?","body":"Why would there be any particular relationship between <code>lm</code> and any particular element of <code>libMems</code>, just from this code alone?  What part of the for loop checks anything about <code>libMem</code>?"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685600901,"creation_date":1685600901,"answer_id":76379207,"question_id":76378249,"body_markdown":"You have two `for` loops and you are only breaking out of the `books` one, and the `libMems` loop continues.\r\n\r\n    for (LibraryMember libMem : libMems) {\r\n        for (Book book : books) {\r\n            if( ... ) {\r\n                ...\r\n                break;\r\n            }\r\n\r\nThe simplest way to solve this is to label your main loop and use that label to `break` out of the processing.\r\n\r\nHere is added a lable called `checkBorrowLoop`, adding the label is done with the name and a colon `:` then using that name as a part of the break statement.\r\n\r\n    checkBorrowLoop:\r\n    for (LibraryMember libMem : libMems) {\r\n        for (Book book : books) {\r\n            if( ... ) {\r\n                ...\r\n                break checkBorrowLoop;\r\n            }\r\n\r\n*** A small comment on the logic: You should test for `libMem.getNumBorrowed()&gt;=4` and `!book.isAvailability()` before doing any other processing, as there is no point in doing any checks if either of these are true.","title":"Why does Java for-each loop execute methods on all objects in array?","body":"<p>You have two <code>for</code> loops and you are only breaking out of the <code>books</code> one, and the <code>libMems</code> loop continues.</p>\n<pre><code>for (LibraryMember libMem : libMems) {\n    for (Book book : books) {\n        if( ... ) {\n            ...\n            break;\n        }\n</code></pre>\n<p>The simplest way to solve this is to label your main loop and use that label to <code>break</code> out of the processing.</p>\n<p>Here is added a lable called <code>checkBorrowLoop</code>, adding the label is done with the name and a colon <code>:</code> then using that name as a part of the break statement.</p>\n<pre><code>checkBorrowLoop:\nfor (LibraryMember libMem : libMems) {\n    for (Book book : books) {\n        if( ... ) {\n            ...\n            break checkBorrowLoop;\n        }\n</code></pre>\n<p>*** A small comment on the logic: You should test for <code>libMem.getNumBorrowed()&gt;=4</code> and <code>!book.isAvailability()</code> before doing any other processing, as there is no point in doing any checks if either of these are true.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685607400,"creation_date":1685607400,"answer_id":76379926,"question_id":76378249,"body_markdown":"The for-each loop does what it is supposed to do: it loops over all members of a collection.\r\n\r\nFrom the code you provided I think you don&#39;t need to loop at all since you already have references to the `LibraryMember` and the `Book`:\r\n\r\n    public void borrowBook(String name, String title) {\r\n        LibraryMember lm = findMember(name);\r\n        Book b = findBook(title);\r\n        if (lm != null &amp;&amp; b != null) {\r\n            if (b.isAvailability() &amp;&amp; lm.getNumBorrowed()&lt;4) {\r\n                b.setAvailability(false);\r\n                lm.addBorrow(lm); // this line looks suspicious!!\r\n                System.out.println(title + &quot; has been borrowed by &quot; + name);\r\n            } else if (!book.isAvailability()) {\r\n                System.out.println(title + &quot; is unavailable.&quot;);\r\n            } else {\r\n                System.out.println(name + &quot; has too many books.&quot;);\r\n            }\r\n        } else if (lm==null) {\r\n            System.out.println(name + &quot; could not be found.&quot;);\r\n        } else {\r\n            System.out.println(title + &quot; could not be found.&quot;);\r\n        }\r\n    }\r\n\r\nNote that the line `lm.addBorrow(lm);` (in your original source `libMem.addBorrow(libMem);`) looks suspicious: why would a library member borrow itself?\r\n","title":"Why does Java for-each loop execute methods on all objects in array?","body":"<p>The for-each loop does what it is supposed to do: it loops over all members of a collection.</p>\n<p>From the code you provided I think you don't need to loop at all since you already have references to the <code>LibraryMember</code> and the <code>Book</code>:</p>\n<pre><code>public void borrowBook(String name, String title) {\n    LibraryMember lm = findMember(name);\n    Book b = findBook(title);\n    if (lm != null &amp;&amp; b != null) {\n        if (b.isAvailability() &amp;&amp; lm.getNumBorrowed()&lt;4) {\n            b.setAvailability(false);\n            lm.addBorrow(lm); // this line looks suspicious!!\n            System.out.println(title + &quot; has been borrowed by &quot; + name);\n        } else if (!book.isAvailability()) {\n            System.out.println(title + &quot; is unavailable.&quot;);\n        } else {\n            System.out.println(name + &quot; has too many books.&quot;);\n        }\n    } else if (lm==null) {\n        System.out.println(name + &quot; could not be found.&quot;);\n    } else {\n        System.out.println(title + &quot; could not be found.&quot;);\n    }\n}\n</code></pre>\n<p>Note that the line <code>lm.addBorrow(lm);</code> (in your original source <code>libMem.addBorrow(libMem);</code>) looks suspicious: why would a library member borrow itself?</p>\n"}],"owner":{"account_id":27392371,"reputation":1,"user_id":20895168,"display_name":"AzureBoredom"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685607496,"creation_date":1685585091,"question_id":76378249,"body_markdown":"I&#39;m a beginner to coding and trying to implement a Java for-each loop for a simple project. The project in question has the classes LibraryMember and Book, and the class Library contains the other two classes as attributes of type ArrayList. I would like to be able to cycle through both arrays to discern which LibraryMembers and which Books are available, and subsequently perform the appropriate actions on them, such as mark Book checked out (unavailable) and increment number of Books checked out by LibraryMember.\r\n\r\n```java\r\npublic void borrowBook(String name, String title) {\r\n\tLibraryMember lm = findMember(name);\r\n\tBook b = findBook(title);\r\n\tif (lm != null &amp;&amp; b != null) {\r\n\t\tfor (LibraryMember libMem : libMems) {\r\n\t\t\tfor (Book book : books) {\r\n\t\t\t\tif(book.isAvailability() &amp;&amp; libMem.getNumBorrowed()&lt;4) {\r\n\t\t\t\t\tbook.setAvailability(false);\r\n\t\t\t\t\tlibMem.addBorrow(libMem);\r\n\t\t\t\t\tSystem.out.println(title + &quot; has been borrowed by &quot; + name);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else if(!book.isAvailability()) System.out.println(title + &quot; is unavailable.&quot;);\r\n\t\t\t\telse System.out.println(name + &quot; has too many books.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t} else if(lm==null) System.out.println(name + &quot; could not be found.&quot;);\r\n\telse System.out.println(title + &quot; could not be found.&quot;);\r\n}\r\n```\r\n\r\nWhen the code runs, the methods act upon each object in the array. I know this is because when the initial condition `if (lm != null &amp;&amp; b != null)` is satisfied, the for-each loop continues to cycle through every single member of the array and the methods are executed. \r\n\r\nCould someone please tell me why this is? Why doesn&#39;t the code act only upon the objects which meet the conditions outlined before the loop? i.e. `if (lm != null &amp;&amp; b != null)` and `if(book.isAvailability() &amp;&amp; libMem.getNumBorrowed()&lt;4)`. How would I fix this? \r\n\r\n","title":"Why does Java for-each loop execute methods on all objects in array?","body":"<p>I'm a beginner to coding and trying to implement a Java for-each loop for a simple project. The project in question has the classes LibraryMember and Book, and the class Library contains the other two classes as attributes of type ArrayList. I would like to be able to cycle through both arrays to discern which LibraryMembers and which Books are available, and subsequently perform the appropriate actions on them, such as mark Book checked out (unavailable) and increment number of Books checked out by LibraryMember.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void borrowBook(String name, String title) {\n    LibraryMember lm = findMember(name);\n    Book b = findBook(title);\n    if (lm != null &amp;&amp; b != null) {\n        for (LibraryMember libMem : libMems) {\n            for (Book book : books) {\n                if(book.isAvailability() &amp;&amp; libMem.getNumBorrowed()&lt;4) {\n                    book.setAvailability(false);\n                    libMem.addBorrow(libMem);\n                    System.out.println(title + &quot; has been borrowed by &quot; + name);\n                    break;\n                } else if(!book.isAvailability()) System.out.println(title + &quot; is unavailable.&quot;);\n                else System.out.println(name + &quot; has too many books.&quot;);\n            }\n        }\n    } else if(lm==null) System.out.println(name + &quot; could not be found.&quot;);\n    else System.out.println(title + &quot; could not be found.&quot;);\n}\n</code></pre>\n<p>When the code runs, the methods act upon each object in the array. I know this is because when the initial condition <code>if (lm != null &amp;&amp; b != null)</code> is satisfied, the for-each loop continues to cycle through every single member of the array and the methods are executed.</p>\n<p>Could someone please tell me why this is? Why doesn't the code act only upon the objects which meet the conditions outlined before the loop? i.e. <code>if (lm != null &amp;&amp; b != null)</code> and <code>if(book.isAvailability() &amp;&amp; libMem.getNumBorrowed()&lt;4)</code>. How would I fix this?</p>\n"},{"tags":["java","spring-boot","caching","ehcache-3","jsr107"],"answers":[{"tags":[],"owner":{"account_id":449410,"reputation":3835,"user_id":844177,"accept_rate":71,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678043883,"creation_date":1678043883,"answer_id":75644742,"question_id":75642995,"body_markdown":"The error was the wrong value for `spring.cache.type`. Changing the value of the property to `jcache` solved the issue. \r\n\r\n```\r\nspring.cache.type=jcache\r\n```\r\n\r\nIt is also possible to leave this property out.","title":"Ehcache integration in Spring Boot application fails","body":"<p>The error was the wrong value for <code>spring.cache.type</code>. Changing the value of the property to <code>jcache</code> solved the issue.</p>\n<pre><code>spring.cache.type=jcache\n</code></pre>\n<p>It is also possible to leave this property out.</p>\n"},{"tags":[],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685607391,"creation_date":1685607391,"answer_id":76379922,"question_id":75642995,"body_markdown":"Encountering the same problem as Oliver, with the same exception, I&#39;d like to submit my own work when upgrading to SpringBoot 3.0.5\r\n\r\n**Old configurations:**\r\n```\r\n&lt;!-- in POM.xml --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```\r\n## in application.properties:\r\nspring.cache.type=ehcache\r\nspring.cache.ehcache.config=classpath:ehcache.xml\r\n```\r\n```\r\n&lt;!-- ehcache.xml example --&gt;\r\n&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:noNamespaceSchemaLocation=&quot;ehcache.xsd&quot;\r\n         updateCheck=&quot;true&quot;\r\n         monitoring=&quot;autodetect&quot;\r\n         dynamicConfig=&quot;true&quot;&gt;\r\n\r\n&lt;cache name=&quot;myCustomCache&quot;\r\n           maxEntriesLocalHeap=&quot;1000&quot;\r\n           eternal=&quot;false&quot;\r\n           timeToIdleSeconds=&quot;3600&quot;\r\n           timeToLiveSeconds=&quot;0&quot;\r\n           overflowToDisk=&quot;false&quot;\r\n           memoryStoreEvictionPolicy=&quot;LRU&quot;\r\n/&gt;\r\n&lt;/ehcache&gt;\r\n```\r\n```\r\n/*\r\n * regular call in a @RestController annotated class\r\n */\r\n@GetMapping(value = &quot;/users/{myParam}&quot;, produces = &quot;application/xml&quot;)\r\n@Cacheable(value = &quot;myCustomCache&quot;, key = &quot;#myParam&quot;)\r\npublic String findActiveUser(@PathVariable(&quot;myParam&quot;) String myParam) {\r\n        // call to service\r\n\r\n        // returning desired String\r\n        return &quot;answerFromService&quot;;\r\n}\r\n```\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfig {\r\n\r\n}\r\n```\r\n\r\n**New configurations:**\r\n```\r\n&lt;!-- in POM.xml --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.10.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.cache&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cache-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```\r\n## in application.properties:\r\nspring.cache.type=jcache\r\n```\r\n```\r\nimport org.ehcache.config.CacheConfiguration;\r\nimport org.ehcache.config.builders.CacheConfigurationBuilder;\r\nimport org.ehcache.config.builders.ExpiryPolicyBuilder;\r\nimport org.ehcache.config.builders.ResourcePoolsBuilder;\r\nimport org.ehcache.jsr107.Eh107Configuration;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport javax.cache.CacheManager;\r\nimport javax.cache.Caching;\r\nimport javax.cache.spi.CachingProvider;\r\nimport java.time.Duration;\r\n\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfig {\r\n\r\n    @Bean\r\n    public CacheManager createCacheWithinManager() {\r\n        // creation of cache configuration\r\n        CacheConfiguration&lt;String, String&gt; cacheConfiguration = CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(\r\n                        String.class, String.class,\r\n                        ResourcePoolsBuilder.heap(1000).build()\r\n                )\r\n                .withExpiry(ExpiryPolicyBuilder\r\n                        .timeToIdleExpiration(Duration.ofSeconds(3600))\r\n                ).build();\r\n\r\n        // fetching cacheManager\r\n        CachingProvider cachingProvider = Caching.getCachingProvider();\r\n        CacheManager cacheManager = cachingProvider.getCacheManager();\r\n\r\n        // parsing ehcache configuration to something SpringBoot will understand\r\n        javax.cache.configuration.Configuration&lt;String, String&gt; configuration = Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfiguration);\r\n\r\n        // creating as many caches as you want\r\n        cacheManager.createCache(&quot;myCustomCache&quot;, configuration);\r\n\r\n        // add shutdown hook to close cacheManager\r\n        Runtime.getRuntime().addShutdownHook(new Thread(cacheManager::close));\r\n\r\n        // return Bean\r\n        return cacheManager;\r\n    }\r\n}\r\n```\r\n*The xml configuration is now obsolete and the Controller-method can remain unchanged!* Take note: the cache is picked up by it&#39;s name.\r\n\r\n**Sources**\r\n- the [ehcache docs][1]\r\n- article by [refactorfirst][2]\r\n- didn&#39;t suffice for me, because I wanted to step away from xml-config, but [Baeldung][3] had some information as well.\r\n\r\n\r\n  [1]: https://www.ehcache.org/documentation/3.0/\r\n  [2]: https://refactorfirst.com/spring-boot-spring-cache-with-ehcache-3\r\n  [3]: https://www.baeldung.com/spring-boot-ehcache","title":"Ehcache integration in Spring Boot application fails","body":"<p>Encountering the same problem as Oliver, with the same exception, I'd like to submit my own work when upgrading to SpringBoot 3.0.5</p>\n<p><strong>Old configurations:</strong></p>\n<pre><code>&lt;!-- in POM.xml --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n    &lt;version&gt;2.10.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>## in application.properties:\nspring.cache.type=ehcache\nspring.cache.ehcache.config=classpath:ehcache.xml\n</code></pre>\n<pre><code>&lt;!-- ehcache.xml example --&gt;\n&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:noNamespaceSchemaLocation=&quot;ehcache.xsd&quot;\n         updateCheck=&quot;true&quot;\n         monitoring=&quot;autodetect&quot;\n         dynamicConfig=&quot;true&quot;&gt;\n\n&lt;cache name=&quot;myCustomCache&quot;\n           maxEntriesLocalHeap=&quot;1000&quot;\n           eternal=&quot;false&quot;\n           timeToIdleSeconds=&quot;3600&quot;\n           timeToLiveSeconds=&quot;0&quot;\n           overflowToDisk=&quot;false&quot;\n           memoryStoreEvictionPolicy=&quot;LRU&quot;\n/&gt;\n&lt;/ehcache&gt;\n</code></pre>\n<pre><code>/*\n * regular call in a @RestController annotated class\n */\n@GetMapping(value = &quot;/users/{myParam}&quot;, produces = &quot;application/xml&quot;)\n@Cacheable(value = &quot;myCustomCache&quot;, key = &quot;#myParam&quot;)\npublic String findActiveUser(@PathVariable(&quot;myParam&quot;) String myParam) {\n        // call to service\n\n        // returning desired String\n        return &quot;answerFromService&quot;;\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n}\n</code></pre>\n<p><strong>New configurations:</strong></p>\n<pre><code>&lt;!-- in POM.xml --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n    &lt;version&gt;3.10.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n    &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>## in application.properties:\nspring.cache.type=jcache\n</code></pre>\n<pre><code>import org.ehcache.config.CacheConfiguration;\nimport org.ehcache.config.builders.CacheConfigurationBuilder;\nimport org.ehcache.config.builders.ExpiryPolicyBuilder;\nimport org.ehcache.config.builders.ResourcePoolsBuilder;\nimport org.ehcache.jsr107.Eh107Configuration;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.cache.CacheManager;\nimport javax.cache.Caching;\nimport javax.cache.spi.CachingProvider;\nimport java.time.Duration;\n\n@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n    @Bean\n    public CacheManager createCacheWithinManager() {\n        // creation of cache configuration\n        CacheConfiguration&lt;String, String&gt; cacheConfiguration = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(\n                        String.class, String.class,\n                        ResourcePoolsBuilder.heap(1000).build()\n                )\n                .withExpiry(ExpiryPolicyBuilder\n                        .timeToIdleExpiration(Duration.ofSeconds(3600))\n                ).build();\n\n        // fetching cacheManager\n        CachingProvider cachingProvider = Caching.getCachingProvider();\n        CacheManager cacheManager = cachingProvider.getCacheManager();\n\n        // parsing ehcache configuration to something SpringBoot will understand\n        javax.cache.configuration.Configuration&lt;String, String&gt; configuration = Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfiguration);\n\n        // creating as many caches as you want\n        cacheManager.createCache(&quot;myCustomCache&quot;, configuration);\n\n        // add shutdown hook to close cacheManager\n        Runtime.getRuntime().addShutdownHook(new Thread(cacheManager::close));\n\n        // return Bean\n        return cacheManager;\n    }\n}\n</code></pre>\n<p><em>The xml configuration is now obsolete and the Controller-method can remain unchanged!</em> Take note: the cache is picked up by it's name.</p>\n<p><strong>Sources</strong></p>\n<ul>\n<li>the <a href=\"https://www.ehcache.org/documentation/3.0/\" rel=\"nofollow noreferrer\">ehcache docs</a></li>\n<li>article by <a href=\"https://refactorfirst.com/spring-boot-spring-cache-with-ehcache-3\" rel=\"nofollow noreferrer\">refactorfirst</a></li>\n<li>didn't suffice for me, because I wanted to step away from xml-config, but <a href=\"https://www.baeldung.com/spring-boot-ehcache\" rel=\"nofollow noreferrer\">Baeldung</a> had some information as well.</li>\n</ul>\n"}],"owner":{"account_id":449410,"reputation":3835,"user_id":844177,"accept_rate":71,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1544,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685607391,"creation_date":1678027206,"question_id":75642995,"body_markdown":"I try to integrate Ehcache 3 into a Spring Boot 2.7.7 application, but during startup, the application fails with the following error message:\r\n\r\n`org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cacheAutoConfigurationValidator&#39; defined in class path resource [org/springframework/boot/autoconfigure/cache/CacheAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is &#39;EHCACHE&#39;)\r\n...\r\nCaused by: java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is &#39;EHCACHE&#39;)`\r\n\r\nAccording the documentation it should be enough to add Ehcache to the classpath/dependencies, and to provide a `ehcache.xml` file.\r\n\r\nMy (relevant) dependencies looks like this:\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.cache&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy `application.properties` contains the following chache related entry:\r\n\r\n```\r\nspring.cache.type=ehcache\r\n```\r\n\r\nAny idea what might be missing?","title":"Ehcache integration in Spring Boot application fails","body":"<p>I try to integrate Ehcache 3 into a Spring Boot 2.7.7 application, but during startup, the application fails with the following error message:</p>\n<p><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheAutoConfigurationValidator' defined in class path resource [org/springframework/boot/autoconfigure/cache/CacheAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is 'EHCACHE') ... Caused by: java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is 'EHCACHE')</code></p>\n<p>According the documentation it should be enough to add Ehcache to the classpath/dependencies, and to provide a <code>ehcache.xml</code> file.</p>\n<p>My (relevant) dependencies looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n    &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My <code>application.properties</code> contains the following chache related entry:</p>\n<pre><code>spring.cache.type=ehcache\n</code></pre>\n<p>Any idea what might be missing?</p>\n"},{"tags":["java","android","kotlin","jar"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1685607376,"post_id":76379914,"comment_id":134684523,"body_markdown":"your error message is not about a library that is missing, but about a field within a class it used.","body":"your error message is not about a library that is missing, but about a field within a class it used."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685620619,"post_id":76379914,"comment_id":134687344,"body_markdown":"You didn&#39;t provide any source code to understand the issue.","body":"You didn&#39;t provide any source code to understand the issue."}],"owner":{"account_id":24900932,"reputation":3,"user_id":18771614,"display_name":"Karthick G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685607327,"creation_date":1685607327,"question_id":76379914,"body_markdown":"I create a .jar file from my old project and try to use the .jar file in new project its crash application. \r\n\r\n\r\n\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.clientapp, PID: 2837\r\n    java.lang.NoSuchFieldError: No static field abc_text_select_handle_left_mtrl of type I in class Landroidx/appcompat/R$drawable; or its superclasses (declaration of &#39;androidx.appcompat.R$drawable&#39; appears in /data/app/~~m2UIxY8m41H6F1206VId5A==/com.example.clientapp-uQDl-7yLeT3HZC91kbld4Q==/base.apk)\r\n        at androidx.appcompat.widget.AppCompatDrawableManager$1.&lt;init&gt;(AppCompatDrawableManager.java:93)\r\n        at androidx.appcompat.widget.AppCompatDrawableManager.preload(AppCompatDrawableManager.java:62)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.&lt;init&gt;(AppCompatDelegateImpl.java:342)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.&lt;init&gt;(AppCompatDelegateImpl.java:292)\r\n        at androidx.appcompat.app.AppCompatDelegate.create(AppCompatDelegate.java:230)\r\n        at androidx.appcompat.app.AppCompatActivity.getDelegate(AppCompatActivity.java:586)\r\n        at androidx.appcompat.app.AppCompatActivity.attachBaseContext(AppCompatActivity.java:139)\r\n        at android.app.Activity.attach(Activity.java:7939)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3622)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3832)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2247)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7886)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:568)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1045)\r\n```\r\n\r\nI have only one layout in my new project the layout name also different from the .jar file and  the both project package name also different i don&#39;t know where i mistaked please help.\r\n\r\nThis is my new project build.gradle\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.clientapp&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.clientapp&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation files(&#39;libs/BpLibrary.jar&#39;)\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```","title":"I create the .jar file but I can&#39;t use .jar file in my new project","body":"<p>I create a .jar file from my old project and try to use the .jar file in new project its crash application.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.clientapp, PID: 2837\n    java.lang.NoSuchFieldError: No static field abc_text_select_handle_left_mtrl of type I in class Landroidx/appcompat/R$drawable; or its superclasses (declaration of 'androidx.appcompat.R$drawable' appears in /data/app/~~m2UIxY8m41H6F1206VId5A==/com.example.clientapp-uQDl-7yLeT3HZC91kbld4Q==/base.apk)\n        at androidx.appcompat.widget.AppCompatDrawableManager$1.&lt;init&gt;(AppCompatDrawableManager.java:93)\n        at androidx.appcompat.widget.AppCompatDrawableManager.preload(AppCompatDrawableManager.java:62)\n        at androidx.appcompat.app.AppCompatDelegateImpl.&lt;init&gt;(AppCompatDelegateImpl.java:342)\n        at androidx.appcompat.app.AppCompatDelegateImpl.&lt;init&gt;(AppCompatDelegateImpl.java:292)\n        at androidx.appcompat.app.AppCompatDelegate.create(AppCompatDelegate.java:230)\n        at androidx.appcompat.app.AppCompatActivity.getDelegate(AppCompatActivity.java:586)\n        at androidx.appcompat.app.AppCompatActivity.attachBaseContext(AppCompatActivity.java:139)\n        at android.app.Activity.attach(Activity.java:7939)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3622)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3832)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2247)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7886)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:568)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1045)\n</code></pre>\n<p>I have only one layout in my new project the layout name also different from the .jar file and  the both project package name also different i don't know where i mistaked please help.</p>\n<p>This is my new project build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    namespace 'com.example.clientapp'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.clientapp&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation files('libs/BpLibrary.jar')\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n"},{"tags":["java","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":17351533,"reputation":155,"user_id":12579510,"display_name":"mamadaliev"},"score":0,"creation_date":1685565235,"post_id":76375951,"comment_id":134679840,"body_markdown":"The error message suggests that the property &quot;LstMyClassInfo&quot; is duplicated in your MyClassBLL class. This could be because you have both a field and a getter/setter method for this property.","body":"The error message suggests that the property &quot;LstMyClassInfo&quot; is duplicated in your MyClassBLL class. This could be because you have both a field and a getter/setter method for this property."}],"answers":[{"tags":[],"owner":{"account_id":8018983,"reputation":26,"user_id":6048215,"display_name":"ashwinij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685606875,"creation_date":1685606875,"answer_id":76379873,"question_id":76375951,"body_markdown":"You would need to add `@JacksonXmlProperty` to the fields in the `MyClassBLL` class that matches with the xml element names.\r\n\r\nExample\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@JsonPropertyOrder({ &quot;LstMyClassInfo&quot;, &quot;DtIni&quot;, &quot;DtEnd&quot;, &quot;LstNumbers&quot; })\r\npublic class MyClassBLL {\r\n\r\n    @JacksonXmlElementWrapper(localName = &quot;LstMyClassInfo&quot;)\r\n    @JacksonXmlProperty(localName=&quot;MyClassInfo&quot;)\r\n    public List&lt;MyClassInfo&gt; MyClassInfoList;\r\n    public String DtIni;\r\n    public String DtEnd;\r\n    @JacksonXmlElementWrapper(localName = &quot;LstNumbers&quot;)\r\n    @JacksonXmlProperty(localName=&quot;string&quot;)\r\n    public List&lt;String&gt; Numbers;\r\n}\r\n```\r\n","title":"I can&#39;t deserialize a wrapped List with Jackson XmlMapper","body":"<p>You would need to add <code>@JacksonXmlProperty</code> to the fields in the <code>MyClassBLL</code> class that matches with the xml element names.</p>\n<p>Example</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@JsonPropertyOrder({ &quot;LstMyClassInfo&quot;, &quot;DtIni&quot;, &quot;DtEnd&quot;, &quot;LstNumbers&quot; })\npublic class MyClassBLL {\n\n    @JacksonXmlElementWrapper(localName = &quot;LstMyClassInfo&quot;)\n    @JacksonXmlProperty(localName=&quot;MyClassInfo&quot;)\n    public List&lt;MyClassInfo&gt; MyClassInfoList;\n    public String DtIni;\n    public String DtEnd;\n    @JacksonXmlElementWrapper(localName = &quot;LstNumbers&quot;)\n    @JacksonXmlProperty(localName=&quot;string&quot;)\n    public List&lt;String&gt; Numbers;\n}\n</code></pre>\n"}],"owner":{"account_id":28721493,"reputation":3,"user_id":21995203,"display_name":"Doma Ricardi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76379873,"answer_count":1,"score":0,"last_activity_date":1685606875,"creation_date":1685553875,"question_id":76375951,"body_markdown":"I&#39;m trying to deserialize an XML list returned from a SOAP request, but I&#39;m getting the following error:\r\n\r\n*com.fasterxml.jackson.databind.JsonMappingException: Duplicate property &#39;LstMyClassInfo&#39; for \\[simple type, class MyClassBLL\\] at \\[Source: (StringReader); line: 1, column: 1\\]*\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport java.util.List;\r\n\r\n@Getter\r\n@Setter\r\n@JsonPropertyOrder({&quot;LstMyClassInfo&quot;, &quot;DtIni&quot;, &quot;DtEnd&quot;, &quot;LstNumbers&quot;})\r\npublic class MyClassBLL {\r\n    @JacksonXmlElementWrapper(localName = &quot;LstMyClassInfo&quot;)\r\n    public List&lt;MyClassInfo&gt; MyClassInfoList;\r\n    public String DtIni;\r\n    public String DtFDtEndnal;\r\n    @JacksonXmlElementWrapper(localName = &quot;LstNumbers&quot;)\r\n    public List&lt;String&gt; Numbers;\r\n}\r\n```\r\n\r\n```\r\nprivate MyClassBLL deserialize(String captureInformation) throws Exception {\r\n        JacksonXmlModule xmlModule = new JacksonXmlModule();\r\n        xmlModule.setDefaultUseWrapper(false);\r\n        ObjectMapper objectMapper = new XmlMapper(xmlModule);\r\n\r\n        return objectMapper.readValue(captureInformation, MyClassBLL.class);\r\n    }\r\n```\r\n\r\nThis is XML sample to deserialize:\r\n\r\n```\r\n&lt;MyClassBLL xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n\t&lt;LstMyClassInfo&gt;\r\n\t\t&lt;MyClassInfo&gt;\r\n\t\t\t&lt;SNumber&gt;XXXXXXXXX&lt;/SNumber&gt;\r\n\t\t\t-- Any other properties\r\n\t\t&lt;/MyClassInfo&gt;\r\n\t\t&lt;MyClassInfo&gt;\r\n\t\t\t&lt;SNumber&gt;YYYYYYYYY&lt;/SNumber&gt;\r\n\t\t\t-- Any other properties\r\n\t\t&lt;/MyClassInfo&gt;\r\n\t\t&lt;MyClassInfo&gt;\r\n\t\t\t&lt;SNumber&gt;ZZZZZZZZZ&lt;/SNumber&gt;\r\n\t\t\t-- Any other properties\r\n\t\t&lt;/MyClassInfo&gt;\r\n\t&lt;/LstMyClassInfo&gt;\r\n\t&lt;DtIni&gt;2023-05-01T03:00:00&lt;/DtIni&gt;\r\n\t&lt;DtEnd&gt;2023-06-01T02:59:59&lt;/DtEd&gt;\r\n\t&lt;LstNumbers&gt;\r\n\t\t&lt;string&gt;XXXXXXXXX&lt;/string&gt;\r\n\t\t&lt;string&gt;YYYYYYYYY&lt;/string&gt;\r\n\t\t&lt;string&gt;ZZZZZZZZZ&lt;/string&gt;\r\n\t&lt;/LstNumbers&gt;\r\n&lt;/MyClassBLL&gt;\r\n```\r\n\r\nAnybody help-me?\r\n\r\nPS: sorry for my bad english\r\n\r\nI&#39;ve already checked the JacksonXml documentation, but there doesn&#39;t seem to be anything wrong with my implementation.","title":"I can&#39;t deserialize a wrapped List with Jackson XmlMapper","body":"<p>I'm trying to deserialize an XML list returned from a SOAP request, but I'm getting the following error:</p>\n<p><em>com.fasterxml.jackson.databind.JsonMappingException: Duplicate property 'LstMyClassInfo' for [simple type, class MyClassBLL] at [Source: (StringReader); line: 1, column: 1]</em></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport java.util.List;\n\n@Getter\n@Setter\n@JsonPropertyOrder({&quot;LstMyClassInfo&quot;, &quot;DtIni&quot;, &quot;DtEnd&quot;, &quot;LstNumbers&quot;})\npublic class MyClassBLL {\n    @JacksonXmlElementWrapper(localName = &quot;LstMyClassInfo&quot;)\n    public List&lt;MyClassInfo&gt; MyClassInfoList;\n    public String DtIni;\n    public String DtFDtEndnal;\n    @JacksonXmlElementWrapper(localName = &quot;LstNumbers&quot;)\n    public List&lt;String&gt; Numbers;\n}\n</code></pre>\n<pre><code>private MyClassBLL deserialize(String captureInformation) throws Exception {\n        JacksonXmlModule xmlModule = new JacksonXmlModule();\n        xmlModule.setDefaultUseWrapper(false);\n        ObjectMapper objectMapper = new XmlMapper(xmlModule);\n\n        return objectMapper.readValue(captureInformation, MyClassBLL.class);\n    }\n</code></pre>\n<p>This is XML sample to deserialize:</p>\n<pre><code>&lt;MyClassBLL xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;LstMyClassInfo&gt;\n        &lt;MyClassInfo&gt;\n            &lt;SNumber&gt;XXXXXXXXX&lt;/SNumber&gt;\n            -- Any other properties\n        &lt;/MyClassInfo&gt;\n        &lt;MyClassInfo&gt;\n            &lt;SNumber&gt;YYYYYYYYY&lt;/SNumber&gt;\n            -- Any other properties\n        &lt;/MyClassInfo&gt;\n        &lt;MyClassInfo&gt;\n            &lt;SNumber&gt;ZZZZZZZZZ&lt;/SNumber&gt;\n            -- Any other properties\n        &lt;/MyClassInfo&gt;\n    &lt;/LstMyClassInfo&gt;\n    &lt;DtIni&gt;2023-05-01T03:00:00&lt;/DtIni&gt;\n    &lt;DtEnd&gt;2023-06-01T02:59:59&lt;/DtEd&gt;\n    &lt;LstNumbers&gt;\n        &lt;string&gt;XXXXXXXXX&lt;/string&gt;\n        &lt;string&gt;YYYYYYYYY&lt;/string&gt;\n        &lt;string&gt;ZZZZZZZZZ&lt;/string&gt;\n    &lt;/LstNumbers&gt;\n&lt;/MyClassBLL&gt;\n</code></pre>\n<p>Anybody help-me?</p>\n<p>PS: sorry for my bad english</p>\n<p>I've already checked the JacksonXml documentation, but there doesn't seem to be anything wrong with my implementation.</p>\n"},{"tags":["java","spring-boot","mockito","junit5","java-11"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685601432,"post_id":76379115,"comment_id":134683406,"body_markdown":"Create that object with an injected factory instead of new.","body":"Create that object with an injected factory instead of new."},{"owner":{"account_id":13556629,"reputation":71,"user_id":9779833,"display_name":"Manoj Kommineni"},"score":0,"creation_date":1685603218,"post_id":76379115,"comment_id":134683698,"body_markdown":"I am assuming what you meant is using &quot;@InjectMocks Dependency2 dependency2&quot; instead of &quot;@Mock Dependency2 dependency2&quot;\nTired doing that, however it is resulting in a null pointer exception due to the method dependency2.handle(item) method","body":"I am assuming what you meant is using &quot;@InjectMocks Dependency2 dependency2&quot; instead of &quot;@Mock Dependency2 dependency2&quot; Tired doing that, however it is resulting in a null pointer exception due to the method dependency2.handle(item) method"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685607011,"post_id":76379115,"comment_id":134684442,"body_markdown":"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test provides possible solutions (but not an exact dupe, even though the underlying problem is the same)","body":"<a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\" title=\"why are my mocked methods not called when executing a unit test\">stackoverflow.com/questions/74027324/&hellip;</a> provides possible solutions (but not an exact dupe, even though the underlying problem is the same)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685623354,"post_id":76379115,"comment_id":134688027,"body_markdown":"No, I mean create a factory class, `Dependency2Factory` which has  a method `Dependency2 create(Something something)` and inject that into `EventAhandler`.","body":"No, I mean create a factory class, <code>Dependency2Factory</code> which has  a method <code>Dependency2 create(Something something)</code> and inject that into <code>EventAhandler</code>."}],"owner":{"account_id":13556629,"reputation":71,"user_id":9779833,"display_name":"Manoj Kommineni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685606751,"creation_date":1685599887,"question_id":76379115,"body_markdown":"I have a method which I need to test on Spring Boot using JUnit 5.\r\n\r\n    @Component\r\n    public class EventAhandler implements ApplicationListener&lt;EventA&gt; {\r\n      @Autowired private ApplicationEventPublisher applicationEventPublisher;\r\n    \r\n      @Autowired private Dependency1 dependency1;\r\n    \r\n      public void onApplicationEvent(EventA event) {\r\n    \r\n        Item item = event.getItem();\r\n        Dependency2 dependency2 = new Dependency2(dependency1.getSomething());\r\n        try {\r\n          dependency2.handle(item);\r\n          applicationEventPublisher.publishEvent(new EventB(this, item));\r\n        } catch (Exception e) {\r\n          applicationEventPublisher.publishEvent(\r\n              new EventC(this, item, e.getMessage()));\r\n        }\r\n      }\r\n    }\r\n\r\nI wrote a test for it as follows:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest\r\n    public class EventAPublisherTest {\r\n      @Autowired private ApplicationEventPublisher applicationEventPublisher;\r\n    \t@MockBean private Dependency1 dependency1;\r\n    \t@MockBean private Dependency3 dependency3;\r\n    \t@Mock private  Dependency2 dependency2;\r\n      @MockBean private EventBHandler EventBHandler;\r\n    \r\n      @MockBean private EventCHandler EventCHandler;\r\n    \r\n      @SpyBean private EventTestListener testEventListener;\r\n      private static Item item;\r\n    \r\n      @BeforeAll\r\n      static void setup() {\r\n        Item item = new Item(&quot;test&quot;);\r\n      }\r\n    \r\n      @Test\r\n      public void testEventAListener()\r\n    \t\t  throws Exception {\r\n    \t  given(this.dependency1.getSomething()).willReturn(dependency3);\r\n    \t  doNothing().when(this.dependency2).handle(item);\r\n        applicationEventPublisher.publishEvent(\r\n            new EventA(this, item));\r\n    \r\n      }\r\n    }\r\n\r\nHowever it throws a null pointer exception for dependency2.handle(item) and it is not mocked or does nothing. Please help me solve this issue.\r\n","title":"How to mock an object using JUnit 5 which is created inside a method being tested?","body":"<p>I have a method which I need to test on Spring Boot using JUnit 5.</p>\n<pre><code>@Component\npublic class EventAhandler implements ApplicationListener&lt;EventA&gt; {\n  @Autowired private ApplicationEventPublisher applicationEventPublisher;\n\n  @Autowired private Dependency1 dependency1;\n\n  public void onApplicationEvent(EventA event) {\n\n    Item item = event.getItem();\n    Dependency2 dependency2 = new Dependency2(dependency1.getSomething());\n    try {\n      dependency2.handle(item);\n      applicationEventPublisher.publishEvent(new EventB(this, item));\n    } catch (Exception e) {\n      applicationEventPublisher.publishEvent(\n          new EventC(this, item, e.getMessage()));\n    }\n  }\n}\n</code></pre>\n<p>I wrote a test for it as follows:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\npublic class EventAPublisherTest {\n  @Autowired private ApplicationEventPublisher applicationEventPublisher;\n    @MockBean private Dependency1 dependency1;\n    @MockBean private Dependency3 dependency3;\n    @Mock private  Dependency2 dependency2;\n  @MockBean private EventBHandler EventBHandler;\n\n  @MockBean private EventCHandler EventCHandler;\n\n  @SpyBean private EventTestListener testEventListener;\n  private static Item item;\n\n  @BeforeAll\n  static void setup() {\n    Item item = new Item(&quot;test&quot;);\n  }\n\n  @Test\n  public void testEventAListener()\n          throws Exception {\n      given(this.dependency1.getSomething()).willReturn(dependency3);\n      doNothing().when(this.dependency2).handle(item);\n    applicationEventPublisher.publishEvent(\n        new EventA(this, item));\n\n  }\n}\n</code></pre>\n<p>However it throws a null pointer exception for dependency2.handle(item) and it is not mocked or does nothing. Please help me solve this issue.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":28725705,"reputation":31,"user_id":21998561,"display_name":"Transport"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685605942,"creation_date":1685605942,"answer_id":76379759,"question_id":76379664,"body_markdown":"Based on the speculation in the exception information, this may be due to the incompatibility between the Java version you are using and the Java version used to compile &quot;App.class&quot;. In this case, you need to ensure that you are using a Java runtime environment (JRE) or development tool that is compatible with the Java version used when compiling the code.","title":"@ComponentScan giving error. How to resolve?","body":"<p>Based on the speculation in the exception information, this may be due to the incompatibility between the Java version you are using and the Java version used to compile &quot;App.class&quot;. In this case, you need to ensure that you are using a Java runtime environment (JRE) or development tool that is compatible with the Java version used when compiling the code.</p>\n"}],"owner":{"display_name":"user17788823"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685606710,"creation_date":1685605180,"question_id":76379664,"body_markdown":"I am learning spring and springboot and have created a project where I am using a configuration class to create beans.\r\n\r\nI also have a pom.xml file where I add the dependencies.\r\n\r\nThe codes are as follows:\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n     http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n     &lt;groupId&gt;com.lcwd.withoutboot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;SpringWithoutBoot&lt;/artifactId&gt;\r\n     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n     &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n     &lt;name&gt;SpringWithoutBoot&lt;/name&gt;\r\n     &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n      &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.2.24.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n      &lt;version&gt;5.2.24.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\nAppConfig.java\r\n```\r\npackage com.lcwd.withoutboot.config;\r\n\r\nimport com.lcwd.withoutboot.beans.CartService;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@ComponentScan(basePackages = {&quot;com.lcwd.withoutboot&quot;})\r\npublic class AppConfig {\r\n\r\n    @Bean(&quot;cartService1&quot;)\r\n    public CartService cartService(){\r\n        return new CartService();\r\n    }\r\n}\r\n```\r\n\r\nApp.java\r\n```\r\npackage com.lcwd.withoutboot;\r\n\r\nimport com.lcwd.withoutboot.beans.CartService;\r\nimport com.lcwd.withoutboot.beans.UserService;\r\nimport com.lcwd.withoutboot.config.AppConfig;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        System.out.println( &quot;Application Started&quot; );\r\n        ApplicationContext context=new AnnotationConfigApplicationContext(AppConfig.class);\r\n        CartService cartService=context.getBean(&quot;cartService1&quot;, CartService.class);\r\n        cartService.createCart();\r\n\r\n        //UserService userService=context.getBean(UserService.class);\r\n        //userService.saveUser();\r\n    }\r\n}\r\n```\r\n\r\nThe error I am getting is as follows:\r\n```\r\nJun 01, 2023 12:56:58 PM org.springframework.context.support.AbstractApplicationContext refresh\r\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:237)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:89)\r\n\tat com.lcwd.withoutboot.App.main(App.java:18)\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\r\n\t... 15 more\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\r\n\t... 19 more\r\n\r\n```\r\n\r\nCan someone please tell me how can I resolve the error?","title":"@ComponentScan giving error. How to resolve?","body":"<p>I am learning spring and springboot and have created a project where I am using a configuration class to create beans.</p>\n<p>I also have a pom.xml file where I add the dependencies.</p>\n<p>The codes are as follows:</p>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n &lt;groupId&gt;com.lcwd.withoutboot&lt;/groupId&gt;\n &lt;artifactId&gt;SpringWithoutBoot&lt;/artifactId&gt;\n &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n &lt;packaging&gt;jar&lt;/packaging&gt;\n\n &lt;name&gt;SpringWithoutBoot&lt;/name&gt;\n &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n&lt;properties&gt;\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n  &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n  &lt;version&gt;5.2.24.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n  &lt;version&gt;5.2.24.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;3.8.1&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n  \n\n<p>AppConfig.java</p>\n<pre><code>package com.lcwd.withoutboot.config;\n\nimport com.lcwd.withoutboot.beans.CartService;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan(basePackages = {&quot;com.lcwd.withoutboot&quot;})\npublic class AppConfig {\n\n    @Bean(&quot;cartService1&quot;)\n    public CartService cartService(){\n        return new CartService();\n    }\n}\n</code></pre>\n<p>App.java</p>\n<pre><code>package com.lcwd.withoutboot;\n\nimport com.lcwd.withoutboot.beans.CartService;\nimport com.lcwd.withoutboot.beans.UserService;\nimport com.lcwd.withoutboot.config.AppConfig;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( &quot;Application Started&quot; );\n        ApplicationContext context=new AnnotationConfigApplicationContext(AppConfig.class);\n        CartService cartService=context.getBean(&quot;cartService1&quot;, CartService.class);\n        cartService.createCart();\n\n        //UserService userService=context.getBean(UserService.class);\n        //userService.saveUser();\n    }\n}\n</code></pre>\n<p>The error I am getting is as follows:</p>\n<pre><code>Jun 01, 2023 12:56:58 PM org.springframework.context.support.AbstractApplicationContext refresh\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:237)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:89)\n    at com.lcwd.withoutboot.App.main(App.java:18)\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\soura\\Desktop\\SpringWithoutBoot\\target\\classes\\com\\lcwd\\withoutboot\\App.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\n    ... 15 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\n    ... 19 more\n\n</code></pre>\n<p>Can someone please tell me how can I resolve the error?</p>\n"},{"tags":["java","png"],"answers":[{"tags":[],"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685604145,"creation_date":1685604145,"answer_id":76379543,"question_id":76379416,"body_markdown":"You can try to use the `javax.imageio.ImageIO` class:\r\n\r\n```java\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\n\r\npublic class PixelToPNG {\r\n    public static void main(String[] args) {\r\n        // Assuming you have your pixel data stored in a 2D array called &quot;pixels&quot;\r\n        byte[][] pixels = {\r\n                {0, 127, (byte) 255},\r\n                {127, 0, 127},\r\n                {(byte) 255, 127, 0}\r\n        };\r\n\r\n        // Create a BufferedImage with single-band 8-bit grayscale configuration\r\n        BufferedImage image = new BufferedImage(pixels[0].length, pixels.length, BufferedImage.TYPE_BYTE_GRAY);\r\n        for (int y = 0; y &lt; pixels.length; y++) {\r\n            for (int x = 0; x &lt; pixels[y].length; x++) {\r\n                int pixelValue = pixels[y][x] &amp; 0xFF; // Convert byte to unsigned value\r\n                int rgb = (pixelValue &lt;&lt; 16) | (pixelValue &lt;&lt; 8) | pixelValue; // Create RGB value\r\n                image.setRGB(x, y, rgb); // Set pixel value in the BufferedImage\r\n            }\r\n        }\r\n\r\n        // Convert the BufferedImage to PNG-compressed binary data\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        try {\r\n            ImageIO.write(image, &quot;PNG&quot;, outputStream);\r\n            byte[] pngData = outputStream.toByteArray();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"How can I convert an array of pixel values from an image to a PNG binary data without generating the image?","body":"<p>You can try to use the <code>javax.imageio.ImageIO</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\n\npublic class PixelToPNG {\n    public static void main(String[] args) {\n        // Assuming you have your pixel data stored in a 2D array called &quot;pixels&quot;\n        byte[][] pixels = {\n                {0, 127, (byte) 255},\n                {127, 0, 127},\n                {(byte) 255, 127, 0}\n        };\n\n        // Create a BufferedImage with single-band 8-bit grayscale configuration\n        BufferedImage image = new BufferedImage(pixels[0].length, pixels.length, BufferedImage.TYPE_BYTE_GRAY);\n        for (int y = 0; y &lt; pixels.length; y++) {\n            for (int x = 0; x &lt; pixels[y].length; x++) {\n                int pixelValue = pixels[y][x] &amp; 0xFF; // Convert byte to unsigned value\n                int rgb = (pixelValue &lt;&lt; 16) | (pixelValue &lt;&lt; 8) | pixelValue; // Create RGB value\n                image.setRGB(x, y, rgb); // Set pixel value in the BufferedImage\n            }\n        }\n\n        // Convert the BufferedImage to PNG-compressed binary data\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        try {\n            ImageIO.write(image, &quot;PNG&quot;, outputStream);\n            byte[] pngData = outputStream.toByteArray();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":27702325,"reputation":13,"user_id":21367834,"display_name":"keweizhou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76379543,"answer_count":1,"score":-1,"last_activity_date":1685606642,"creation_date":1685603042,"question_id":76379416,"body_markdown":"I want to convert pixel data to PNG-compressed binary data and store it in a database, but I don&#39;t want to generate an image file. How can I do this?\r\n\r\nI tried using `BufferedImage` to store my pixel data and `com.keypoint.PngEncoder` to generate binary data for PNG images, but couldn&#39;t seem to generate only single-band 8-bit grayscale images","title":"How can I convert an array of pixel values from an image to a PNG binary data without generating the image?","body":"<p>I want to convert pixel data to PNG-compressed binary data and store it in a database, but I don't want to generate an image file. How can I do this?</p>\n<p>I tried using <code>BufferedImage</code> to store my pixel data and <code>com.keypoint.PngEncoder</code> to generate binary data for PNG images, but couldn't seem to generate only single-band 8-bit grayscale images</p>\n"},{"tags":["java","apache-camel","soa","enterprise-integration"],"answers":[{"tags":[],"owner":{"account_id":1119154,"reputation":1238,"user_id":1107856,"accept_rate":71,"display_name":"Sunil"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1326423578,"creation_date":1326423578,"answer_id":8845358,"question_id":8845186,"body_markdown":"If you are aware of Enterprise Integration Patterns, Apache Camel is one integration framework which implements all EIPs.\r\n\r\nAnd you can deploy Camel as a standalone application in a web-container.\r\n\r\nBasically, if you have to integrate several applications with different protocols and technologies, you can use Camel.","title":"What exactly is Apache Camel?","body":"<p>If you are aware of Enterprise Integration Patterns, Apache Camel is one integration framework which implements all EIPs.</p>\n\n<p>And you can deploy Camel as a standalone application in a web-container.</p>\n\n<p>Basically, if you have to integrate several applications with different protocols and technologies, you can use Camel.</p>\n"},{"tags":[],"owner":{"account_id":383315,"reputation":2761,"user_id":739090,"accept_rate":89,"display_name":"Crollster"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1326425808,"creation_date":1326425808,"answer_id":8845595,"question_id":8845186,"body_markdown":"One of the things you need to understand, before you try to understand Apache Camel, are Enterprise Integration Patterns. Not everyone in the field is actually aware of them. While you can certainly read the Enterprise Integration Patterns book, a quicker way to get up to speed on them would be to read something like the Wikipedia article on [Enterprise Application Integration][1]. \r\n\r\nOne you have read and understood the subject area, you would be much more likely to understand the purpose of Apache Camel\r\n\r\nHTH\r\n\r\n\r\n [1]: http://en.wikipedia.org/wiki/Enterprise_application_integration","title":"What exactly is Apache Camel?","body":"<p>One of the things you need to understand, before you try to understand Apache Camel, are Enterprise Integration Patterns. Not everyone in the field is actually aware of them. While you can certainly read the Enterprise Integration Patterns book, a quicker way to get up to speed on them would be to read something like the Wikipedia article on <a href=\"http://en.wikipedia.org/wiki/Enterprise_application_integration\">Enterprise Application Integration</a>. </p>\n\n<p>One you have read and understood the subject area, you would be much more likely to understand the purpose of Apache Camel</p>\n\n<p>HTH</p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":19,"up_vote_count":807,"is_accepted":false,"score":788,"last_activity_date":1601895081,"creation_date":1326451786,"answer_id":8849379,"question_id":8845186,"body_markdown":"If you have 5 to 10 minutes, I generally recommend people to read this [Integration with Apache Camel][1] by Jonathan Anstey. It&#39;s a well written piece which gives a brief introduction to and overview of some of Camel&#39;s concepts, and it implements a use case with code samples. In it, Jonathan writes:\r\n\r\n&gt; Apache Camel is an open source Java framework that focuses on making integration easier and more accessible to developers. It does this by providing:\r\n&gt; \r\n&gt;  - concrete implementations of all the widely used [Enterprise Integration Patterns][2] (EIPs)\r\n&gt;  - connectivity to a great variety of transports and APIs\r\n&gt;  - easy to use Domain Specific Languages (DSLs) to wire EIPs and transports together\r\n\r\nThere is also a free chapter of [Camel in Action][3] (Camel in Action, 2nd ed. is [here][4]) which introduces Camel in the first chapter. Jonathan is a co-author on that book with me.\r\n\r\n\r\n  [1]: http://dzone.com/articles/open-source-integration-apache\r\n  [2]: http://www.enterpriseintegrationpatterns.com/\r\n  [3]: http://manning.com/ibsen/\r\n  [4]: https://www.manning.com/books/camel-in-action-second-edition","title":"What exactly is Apache Camel?","body":"<p>If you have 5 to 10 minutes, I generally recommend people to read this <a href=\"http://dzone.com/articles/open-source-integration-apache\" rel=\"noreferrer\">Integration with Apache Camel</a> by Jonathan Anstey. It's a well written piece which gives a brief introduction to and overview of some of Camel's concepts, and it implements a use case with code samples. In it, Jonathan writes:</p>\n<blockquote>\n<p>Apache Camel is an open source Java framework that focuses on making integration easier and more accessible to developers. It does this by providing:</p>\n<ul>\n<li>concrete implementations of all the widely used <a href=\"http://www.enterpriseintegrationpatterns.com/\" rel=\"noreferrer\">Enterprise Integration Patterns</a> (EIPs)</li>\n<li>connectivity to a great variety of transports and APIs</li>\n<li>easy to use Domain Specific Languages (DSLs) to wire EIPs and transports together</li>\n</ul>\n</blockquote>\n<p>There is also a free chapter of <a href=\"http://manning.com/ibsen/\" rel=\"noreferrer\">Camel in Action</a> (Camel in Action, 2nd ed. is <a href=\"https://www.manning.com/books/camel-in-action-second-edition\" rel=\"noreferrer\">here</a>) which introduces Camel in the first chapter. Jonathan is a co-author on that book with me.</p>\n"},{"tags":[],"owner":{"account_id":21425,"reputation":10691,"user_id":52070,"accept_rate":67,"display_name":"David Newcomb"},"down_vote_count":13,"up_vote_count":692,"is_accepted":false,"score":679,"last_activity_date":1420585017,"creation_date":1338478630,"answer_id":10836773,"question_id":8845186,"body_markdown":"Creating a [project description][1] should not be complicated.\r\n\r\nI say:\r\n&gt;Apache Camel is messaging technology glue with routing. It joins together messaging start and end points allowing the transference of messages from different sources to different destinations. For example: JMS -&gt; JSON, HTTP -&gt; JMS or funneling FTP -&gt; JMS, HTTP -&gt; JMS, JSON -&gt; JMS\r\n\r\nWikipedia says:\r\n&gt;Apache Camel is a rule-based routing and mediation engine which provides a Java object based implementation of the Enterprise Integration Patterns using an API (or declarative Java Domain Specific Language) to configure routing and mediation rules. The domain specific language means that Apache Camel can support type-safe smart completion of routing rules in your IDE using regular Java code without huge amounts of XML configuration files; though XML configuration inside Spring is also supported.\r\n\r\nSee? That wasn&#39;t hard was it?\r\n\r\n\r\n  [1]: http://www.bigsoft.co.uk/blog/index.php/2010/10/18/the-whats-and-whys-to-creating-project-descriptions","title":"What exactly is Apache Camel?","body":"<p>Creating a <a href=\"http://www.bigsoft.co.uk/blog/index.php/2010/10/18/the-whats-and-whys-to-creating-project-descriptions\">project description</a> should not be complicated.</p>\n\n<p>I say:</p>\n\n<blockquote>\n  <p>Apache Camel is messaging technology glue with routing. It joins together messaging start and end points allowing the transference of messages from different sources to different destinations. For example: JMS -> JSON, HTTP -> JMS or funneling FTP -> JMS, HTTP -> JMS, JSON -> JMS</p>\n</blockquote>\n\n<p>Wikipedia says:</p>\n\n<blockquote>\n  <p>Apache Camel is a rule-based routing and mediation engine which provides a Java object based implementation of the Enterprise Integration Patterns using an API (or declarative Java Domain Specific Language) to configure routing and mediation rules. The domain specific language means that Apache Camel can support type-safe smart completion of routing rules in your IDE using regular Java code without huge amounts of XML configuration files; though XML configuration inside Spring is also supported.</p>\n</blockquote>\n\n<p>See? That wasn't hard was it?</p>\n"},{"tags":[],"owner":{"account_id":18840,"reputation":23337,"user_id":43597,"display_name":"Amr Mostafa"},"down_vote_count":3,"up_vote_count":1375,"is_accepted":true,"score":1372,"last_activity_date":1685606505,"creation_date":1342611480,"answer_id":11540451,"question_id":8845186,"body_markdown":"My take to describe this in a more accessible way...\r\n\r\nIn order to understand what Apache Camel is, you need to understand what are [Enterprise Integration Patterns](https://en.wikipedia.org/wiki/Enterprise_Integration_Patterns).\r\n\r\n\r\nLet&#39;s start with what we presumably already know: The [Singleton pattern](https://en.wikipedia.org/wiki/Singleton_pattern), the Factory pattern, etc; They are merely ways of organizing your solution to the problem, but they are not solutions themselves. These patterns were analyzed and extracted for the rest of us by the Gang of Four, when they published their book: [Design Patterns][1]. They saved some of us tremendous effort in thinking of how to best structure our code.\r\n\r\nMuch like the Gang of Four, Gregor Hohpe and Bobby Woolf authored the book [*Enterprise Integration Patterns*][2] (EIP) in which they propose and document a set of new patterns and *blueprints* for how we could *best* design large component-based systems, where components can be running on the same process or in a different machine.\r\n\r\nThey basically propose that we structure our system to be *message* oriented -- where components communicate with each others using messages as inputs and outputs and absolutely nothing else. They show us a complete set of patterns that we may choose from and implement in our different components that will together form the whole system.\r\n\r\n**So what is Apache Camel?**\r\n\r\nApache Camel offers you the interfaces for the EIPs, the base objects, commonly needed implementations, debugging tools, a configuration system, and many other helpers which will save you a ton of time when you want to implement your solution to follow the EIPs.\r\n\r\nTake [MVC](https://en.wikipedia.org/wiki/Model–view–controller). MVC is pretty simple in theory and we could implement it without any framework help. But good MVC frameworks provide us with the structure ready-to-use and have gone the extra mile and thought out all the other &quot;side&quot; things you need when you create a large MVC project and that&#39;s why we use them most of the time.\r\n\r\nThat&#39;s exactly what Apache Camel is for EIPs. **It&#39;s a complete production-ready framework for people who want to implement their solution to follow the EIPs.**\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Design_Patterns &quot;Design Patterns&quot;\r\n  [2]: https://www.enterpriseintegrationpatterns.com/ &quot;Enterprise Integration Patterns book website&quot;","title":"What exactly is Apache Camel?","body":"<p>My take to describe this in a more accessible way...</p>\n<p>In order to understand what Apache Camel is, you need to understand what are <a href=\"https://en.wikipedia.org/wiki/Enterprise_Integration_Patterns\" rel=\"noreferrer\">Enterprise Integration Patterns</a>.</p>\n<p>Let's start with what we presumably already know: The <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"noreferrer\">Singleton pattern</a>, the Factory pattern, etc; They are merely ways of organizing your solution to the problem, but they are not solutions themselves. These patterns were analyzed and extracted for the rest of us by the Gang of Four, when they published their book: <a href=\"https://en.wikipedia.org/wiki/Design_Patterns\" rel=\"noreferrer\" title=\"Design Patterns\">Design Patterns</a>. They saved some of us tremendous effort in thinking of how to best structure our code.</p>\n<p>Much like the Gang of Four, Gregor Hohpe and Bobby Woolf authored the book <a href=\"https://www.enterpriseintegrationpatterns.com/\" rel=\"noreferrer\" title=\"Enterprise Integration Patterns book website\"><em>Enterprise Integration Patterns</em></a> (EIP) in which they propose and document a set of new patterns and <em>blueprints</em> for how we could <em>best</em> design large component-based systems, where components can be running on the same process or in a different machine.</p>\n<p>They basically propose that we structure our system to be <em>message</em> oriented -- where components communicate with each others using messages as inputs and outputs and absolutely nothing else. They show us a complete set of patterns that we may choose from and implement in our different components that will together form the whole system.</p>\n<p><strong>So what is Apache Camel?</strong></p>\n<p>Apache Camel offers you the interfaces for the EIPs, the base objects, commonly needed implementations, debugging tools, a configuration system, and many other helpers which will save you a ton of time when you want to implement your solution to follow the EIPs.</p>\n<p>Take <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"noreferrer\">MVC</a>. MVC is pretty simple in theory and we could implement it without any framework help. But good MVC frameworks provide us with the structure ready-to-use and have gone the extra mile and thought out all the other &quot;side&quot; things you need when you create a large MVC project and that's why we use them most of the time.</p>\n<p>That's exactly what Apache Camel is for EIPs. <strong>It's a complete production-ready framework for people who want to implement their solution to follow the EIPs.</strong></p>\n"},{"tags":[],"owner":{"account_id":257390,"reputation":5260,"user_id":538775,"accept_rate":15,"display_name":"Kai W&#228;hner"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1363453723,"creation_date":1363453723,"answer_id":15452135,"question_id":8845186,"body_markdown":"A definition from another perspective: \r\n\r\nApache Camel is an integration framework. It consists of some Java libraries, which helps you implementing integration problems on the Java platform. What this means and how it differs from APIs on the one side and an Enterprise Service Bus (ESB) on the other side is described in my article &quot;[When to use Apache Camel][1]&quot;. \r\n\r\n\r\n  [1]: http://www.kai-waehner.de/blog/2011/06/02/when-to-use-apache-camel/","title":"What exactly is Apache Camel?","body":"<p>A definition from another perspective: </p>\n\n<p>Apache Camel is an integration framework. It consists of some Java libraries, which helps you implementing integration problems on the Java platform. What this means and how it differs from APIs on the one side and an Enterprise Service Bus (ESB) on the other side is described in my article \"<a href=\"http://www.kai-waehner.de/blog/2011/06/02/when-to-use-apache-camel/\">When to use Apache Camel</a>\". </p>\n"},{"tags":[],"owner":{"account_id":349924,"reputation":4745,"user_id":685495,"accept_rate":71,"display_name":"Marcin Wasiluk"},"down_vote_count":0,"up_vote_count":122,"is_accepted":false,"score":122,"last_activity_date":1400248449,"creation_date":1370378908,"answer_id":16927203,"question_id":8845186,"body_markdown":"In short: \r\n\r\nWhen there is a requirement to connect / integrate systems, you will probably need to connect to some data source and then process this data to match your business requirements.\r\n\r\nIn order to do that:\r\n\r\n1) You could develop custom program that would do it (might be time consuming and hard to understand, maintain for other developer) \r\n\r\n2) Alternatively, you could use Apache Camel to do it in standardised way (it has most of the connectors already developed for you, you just need to set it up and plug your logic - called Process):\r\n\r\n\r\nCamel will help you to:\r\n\r\n 1. Consume data from any source/format\r\n 2. Process this data\r\n 3. Output data to any source/format\r\n\r\nBy using Apache Camel you will make it easy to understand / maintain / extend your system to another developer.\r\n\r\nApache Camel is developed with Enterprise Integration Patterns. The patterns help you to integrate systems in a good way :-)","title":"What exactly is Apache Camel?","body":"<p>In short: </p>\n\n<p>When there is a requirement to connect / integrate systems, you will probably need to connect to some data source and then process this data to match your business requirements.</p>\n\n<p>In order to do that:</p>\n\n<p>1) You could develop custom program that would do it (might be time consuming and hard to understand, maintain for other developer) </p>\n\n<p>2) Alternatively, you could use Apache Camel to do it in standardised way (it has most of the connectors already developed for you, you just need to set it up and plug your logic - called Process):</p>\n\n<p>Camel will help you to:</p>\n\n<ol>\n<li>Consume data from any source/format</li>\n<li>Process this data</li>\n<li>Output data to any source/format</li>\n</ol>\n\n<p>By using Apache Camel you will make it easy to understand / maintain / extend your system to another developer.</p>\n\n<p>Apache Camel is developed with Enterprise Integration Patterns. The patterns help you to integrate systems in a good way :-)</p>\n"},{"tags":[],"owner":{"account_id":1479414,"reputation":4052,"user_id":1389118,"display_name":"skipy"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1385585909,"creation_date":1384170679,"answer_id":19905650,"question_id":8845186,"body_markdown":"Here is another attempt at it.\r\n\r\n\r\nYou know how there are/were things like Webmethods, ICAN Seebeyond, Tibco BW, IBM Broker. They all did help with integration solutions in the enterprise. These tools are commonly known by the name Enterprise Application Integration (EAI) tools.\r\n\r\nThere were mostly drag drop tools built around these technologies and in parts you would have to write adapters in Java. These adapter code were either untested or had poor tooling/automation around testing.\r\n\r\nJust like with design patterns in programming, you have Enterprise Integration patterns for common integration solutions. They were made famous by a book of the same name by Gregor Hohpe and Bobby Woolf.\r\n\r\nAlthough it is quite possible to implement integration solutions which use one or many EIP, Camel is an attempt at doing this within your code base using one of XML, Java, Groovy or Scala.\r\n\r\nCamel supports all Enterprise Integration Patterns listed in the book via its rich DSL and routing mechanism.\r\n\r\nSo Camel is a competing technoloy to other EAI tools with better support for testing your integration code. The code is concise because of the Domain Specific Languages (DSLs). It is readable by even business users and it is free and makes you productive.\r\n\r\n","title":"What exactly is Apache Camel?","body":"<p>Here is another attempt at it.</p>\n\n<p>You know how there are/were things like Webmethods, ICAN Seebeyond, Tibco BW, IBM Broker. They all did help with integration solutions in the enterprise. These tools are commonly known by the name Enterprise Application Integration (EAI) tools.</p>\n\n<p>There were mostly drag drop tools built around these technologies and in parts you would have to write adapters in Java. These adapter code were either untested or had poor tooling/automation around testing.</p>\n\n<p>Just like with design patterns in programming, you have Enterprise Integration patterns for common integration solutions. They were made famous by a book of the same name by Gregor Hohpe and Bobby Woolf.</p>\n\n<p>Although it is quite possible to implement integration solutions which use one or many EIP, Camel is an attempt at doing this within your code base using one of XML, Java, Groovy or Scala.</p>\n\n<p>Camel supports all Enterprise Integration Patterns listed in the book via its rich DSL and routing mechanism.</p>\n\n<p>So Camel is a competing technoloy to other EAI tools with better support for testing your integration code. The code is concise because of the Domain Specific Languages (DSLs). It is readable by even business users and it is free and makes you productive.</p>\n"},{"tags":[],"owner":{"account_id":1527161,"reputation":801,"user_id":1425280,"accept_rate":56,"display_name":"Naveen Raj"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1407725459,"creation_date":1401353523,"answer_id":23929350,"question_id":8845186,"body_markdown":"\r\n\r\nThere are lot of frameworks that facilitates us for messaging and solving problems in messaging. One such product is Apache Camel.\r\n\r\nMost of the common problems have proven solutions called as design patterns. The design pattern for messaging is Enterprise Integration patterns(EIPs) which are well explained [here][1]. Apache camel help us to implement our solution using the EIPs.\r\n\r\n The strength of an integration framework is its ability to facilitate us through EIPs or other patterns,number of transports and components and ease of development on which Apache camel stands on the top of the list \r\n\r\nEach of the Frameworks has its own advantages  Some of the special features of Apache camel are the following.\r\n\r\n1. It provides the coding to be in many DSLs namely Java DSL and Spring xml based DSL , which are popular.\r\n2. Easy use and simple to use. \r\n3. Fuse IDE is a product that helps you to code through UI\r\n\r\n\r\n  [1]: http://www.eaipatterns.com/toc.html","title":"What exactly is Apache Camel?","body":"<p>There are lot of frameworks that facilitates us for messaging and solving problems in messaging. One such product is Apache Camel.</p>\n\n<p>Most of the common problems have proven solutions called as design patterns. The design pattern for messaging is Enterprise Integration patterns(EIPs) which are well explained <a href=\"http://www.eaipatterns.com/toc.html\" rel=\"noreferrer\">here</a>. Apache camel help us to implement our solution using the EIPs.</p>\n\n<p>The strength of an integration framework is its ability to facilitate us through EIPs or other patterns,number of transports and components and ease of development on which Apache camel stands on the top of the list </p>\n\n<p>Each of the Frameworks has its own advantages  Some of the special features of Apache camel are the following.</p>\n\n<ol>\n<li>It provides the coding to be in many DSLs namely Java DSL and Spring xml based DSL , which are popular.</li>\n<li>Easy use and simple to use. </li>\n<li>Fuse IDE is a product that helps you to code through UI</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2060460,"reputation":981,"user_id":1837134,"accept_rate":65,"display_name":"sa_nyc"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1408545252,"creation_date":1408545252,"answer_id":25407488,"question_id":8845186,"body_markdown":"Camel helps in routing, transformation, monitoring. \r\n\r\nIt uses Routes; which can be described as :\r\n\r\n*When service bus receives particular message, it will route it through no of services/broker destinations such as queue/topics. This path is known as route.*\r\n\r\nExample:\r\n*your stock application has got some input by analyst, it will be processed through the application/web component and then result will be published to all the interested/registered members for particular stock update.*","title":"What exactly is Apache Camel?","body":"<p>Camel helps in routing, transformation, monitoring. </p>\n\n<p>It uses Routes; which can be described as :</p>\n\n<p><em>When service bus receives particular message, it will route it through no of services/broker destinations such as queue/topics. This path is known as route.</em></p>\n\n<p>Example:\n<em>your stock application has got some input by analyst, it will be processed through the application/web component and then result will be published to all the interested/registered members for particular stock update.</em></p>\n"},{"tags":[],"owner":{"account_id":4155445,"reputation":2712,"user_id":3406884,"accept_rate":75,"display_name":"DolphinJava"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1428929661,"creation_date":1428929661,"answer_id":29605854,"question_id":8845186,"body_markdown":"BASED ON ANALOGY\r\n\r\nCamel based routing can be understood much easily by putting yourself in the shoes of a Airline owner (eg.: American Airlines, Jet Airways) .\r\n\r\n\r\nPurpose of &#39;your airline&#39; is to &#39;carry&#39; &#39;passengers&#39; from one &#39;city&#39; to another one in the world. You use aircrafts from different &#39;aircraft companies&#39; like Boeing, Airbus, HAL for carrying passengers.\r\n\r\n \r\n\r\nYour airline&#39;s boards passengers using &#39;airports&#39; of the from city and deboards them using the airport of the to city. A passenger may &#39;travel&#39; to multiple cities, but everywhere they have to go through the airport to travel between your airline&#39;s aircraft and the city.\r\n\r\n \r\n\r\nNote that a passenger &#39;departing&#39; from the city is essentially &#39;arriving&#39; into your airlines&#39; aircraft. And a passeger  &#39;arriving&#39; into the city, is essentially departing from the aircraft. Since we are in the shoes of airline owner, the term &#39;arrival passenger&#39; and &#39;departing passenger&#39; are reversed from our conventional notions which are based on cities perspective.\r\n\r\n \r\n\r\nSame &#39;airport&#39; infrastructure of each city is used by &#39;departing&#39; passengers and &#39;arrival&#39; passengers. An airport provides &#39;departing infrastructure&#39; for departing passengers, which is different from the &#39;arrival infrastructure&#39; provided for arriving passengers.\r\n\r\n \r\n\r\nPassengers can continue doing their day to their activities due to various &#39;amenities&#39; provided inside the aircraft by your airlines, while travelling.\r\n\r\n \r\n\r\nOn top of that, your airline also provides lounge facilities for special treatments like &#39;understanding local language&#39; and or preparing you for the &#39;travel&#39;.\r\n\r\n \r\n\r\n**Lets replace few words/phrases used above with following:**\r\n\r\nyour airline: Apache Camel\r\n\r\naircraft companies: Transport mechanisms\r\n\r\nyour airline&#39;s aircraft: Apache Camel&#39;s underlying transport mechanism\r\n\r\ncarry: route\r\n\r\npassengers: message;\r\n\r\ncity: system;\r\n\r\nairport: Camel Component;\r\n\r\nunderstanding local languages: Type Conversions;\r\n\r\ndeparting: producing, produced\r\n\r\narriving: consuming, consumed\r\n\r\ntravel: routed\r\n\r\namenities: provided\r\n\r\n \r\n\r\nAfter replacing the words, here is what you get:\r\n\r\n\r\n**Purpose of &#39;Apache Camel&#39;** is to route &#39;messages&#39; from one &#39;system&#39; to another one in the world. Apache camel uses different transport mechanisms for message routing.\r\n\r\n \r\n\r\nApache Camel picks up messages using &#39;Camel based Component&#39; of the &#39;from&#39; system and drops them using the &#39;Camel based Component&#39; of the &#39;to&#39; system. A message may route to multiple systems, but everywhere they have to go through &#39;Camel based Components&#39; to travel between &#39;Apache Camel&#39;s underlying transport mechanism&#39; and the system.\r\n\r\n \r\n\r\nNote that a message &#39;produced&#39; from the system is essentially &#39;consumed&#39; into Apache Camel&#39;s underlying transport mechanism&#39;. And a message consumed by a system, is essentially produced by the &#39;Apache Camel&#39;s underlying transport mechanism&#39;.\r\n\r\n\r\nSince we are attempting to understand Camel, we must think from Camel&#39;s perspective here onwards. The meaning of the terms &#39;consumer message&#39; and &#39;producer message&#39; are ,thus, reversed from our conventional notions which are based on a system&#39;s perspective.\r\n\r\n \r\n\r\nSame &#39;Camel based Component&#39;s &#39; coding infrastructure is used by &#39;producer message&#39; and &#39;consumer message&#39;. A &#39;Camel based Component&#39; provides a &#39;producer endpoint&#39; for &#39;producer message&#39; and a &#39;consumer endpoint&#39; for &#39;consumer message&#39;.\r\n\r\n \r\n\r\nMessages can be processed by Camel when they are being routed.\r\n\r\n \r\n\r\nOn top of this routing, Camel provides special features like &#39;Type Conversion&#39; and many more...","title":"What exactly is Apache Camel?","body":"<p>BASED ON ANALOGY</p>\n\n<p>Camel based routing can be understood much easily by putting yourself in the shoes of a Airline owner (eg.: American Airlines, Jet Airways) .</p>\n\n<p>Purpose of 'your airline' is to 'carry' 'passengers' from one 'city' to another one in the world. You use aircrafts from different 'aircraft companies' like Boeing, Airbus, HAL for carrying passengers.</p>\n\n<p>Your airline's boards passengers using 'airports' of the from city and deboards them using the airport of the to city. A passenger may 'travel' to multiple cities, but everywhere they have to go through the airport to travel between your airline's aircraft and the city.</p>\n\n<p>Note that a passenger 'departing' from the city is essentially 'arriving' into your airlines' aircraft. And a passeger  'arriving' into the city, is essentially departing from the aircraft. Since we are in the shoes of airline owner, the term 'arrival passenger' and 'departing passenger' are reversed from our conventional notions which are based on cities perspective.</p>\n\n<p>Same 'airport' infrastructure of each city is used by 'departing' passengers and 'arrival' passengers. An airport provides 'departing infrastructure' for departing passengers, which is different from the 'arrival infrastructure' provided for arriving passengers.</p>\n\n<p>Passengers can continue doing their day to their activities due to various 'amenities' provided inside the aircraft by your airlines, while travelling.</p>\n\n<p>On top of that, your airline also provides lounge facilities for special treatments like 'understanding local language' and or preparing you for the 'travel'.</p>\n\n<p><strong>Lets replace few words/phrases used above with following:</strong></p>\n\n<p>your airline: Apache Camel</p>\n\n<p>aircraft companies: Transport mechanisms</p>\n\n<p>your airline's aircraft: Apache Camel's underlying transport mechanism</p>\n\n<p>carry: route</p>\n\n<p>passengers: message;</p>\n\n<p>city: system;</p>\n\n<p>airport: Camel Component;</p>\n\n<p>understanding local languages: Type Conversions;</p>\n\n<p>departing: producing, produced</p>\n\n<p>arriving: consuming, consumed</p>\n\n<p>travel: routed</p>\n\n<p>amenities: provided</p>\n\n<p>After replacing the words, here is what you get:</p>\n\n<p><strong>Purpose of 'Apache Camel'</strong> is to route 'messages' from one 'system' to another one in the world. Apache camel uses different transport mechanisms for message routing.</p>\n\n<p>Apache Camel picks up messages using 'Camel based Component' of the 'from' system and drops them using the 'Camel based Component' of the 'to' system. A message may route to multiple systems, but everywhere they have to go through 'Camel based Components' to travel between 'Apache Camel's underlying transport mechanism' and the system.</p>\n\n<p>Note that a message 'produced' from the system is essentially 'consumed' into Apache Camel's underlying transport mechanism'. And a message consumed by a system, is essentially produced by the 'Apache Camel's underlying transport mechanism'.</p>\n\n<p>Since we are attempting to understand Camel, we must think from Camel's perspective here onwards. The meaning of the terms 'consumer message' and 'producer message' are ,thus, reversed from our conventional notions which are based on a system's perspective.</p>\n\n<p>Same 'Camel based Component's ' coding infrastructure is used by 'producer message' and 'consumer message'. A 'Camel based Component' provides a 'producer endpoint' for 'producer message' and a 'consumer endpoint' for 'consumer message'.</p>\n\n<p>Messages can be processed by Camel when they are being routed.</p>\n\n<p>On top of this routing, Camel provides special features like 'Type Conversion' and many more...</p>\n"},{"tags":[],"owner":{"account_id":924115,"reputation":349,"user_id":1403742,"accept_rate":50,"display_name":"MMacD"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1441717831,"creation_date":1441717831,"answer_id":32458754,"question_id":8845186,"body_markdown":"Most &quot;new&quot; things in computing aren&#39;t really new at all, they&#39;re just a mystifying wrapper around something that already well-understood.  When they&#39;re hard to understand, it&#39;s usually because someone decided to invent new language terms or colonise existing terms for a different purpose (a good example of *that* is the X developers&#39; reversal of what &quot;client&quot; and &quot;server&quot; mean.)\r\n\r\nCamel is a Java-based wrapper/API for inter-application middleware.  \r\n\r\nMiddleware is a general term for software that provides interpretation services between entities that don&#39;t share a common language or data types.\r\n\r\nThat&#39;s what Camel is, at bottom.  We can flesh out the description by noting that it provides for EIP-type middleware.\r\n\r\nIt doesn&#39;t provide the middleware itself, since it can&#39;t know the details of what the applications need to communicate.  But it provides the API for creating the invariant parts of that middleware (create a start point, create an end point, create conditions for starting and ending, etc)\r\n\r\nHope that helps.","title":"What exactly is Apache Camel?","body":"<p>Most \"new\" things in computing aren't really new at all, they're just a mystifying wrapper around something that already well-understood.  When they're hard to understand, it's usually because someone decided to invent new language terms or colonise existing terms for a different purpose (a good example of <em>that</em> is the X developers' reversal of what \"client\" and \"server\" mean.)</p>\n\n<p>Camel is a Java-based wrapper/API for inter-application middleware.  </p>\n\n<p>Middleware is a general term for software that provides interpretation services between entities that don't share a common language or data types.</p>\n\n<p>That's what Camel is, at bottom.  We can flesh out the description by noting that it provides for EIP-type middleware.</p>\n\n<p>It doesn't provide the middleware itself, since it can't know the details of what the applications need to communicate.  But it provides the API for creating the invariant parts of that middleware (create a start point, create an end point, create conditions for starting and ending, etc)</p>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1442900604,"creation_date":1442900604,"answer_id":32709196,"question_id":8845186,"body_markdown":"Yes, this is probably a bit late. But one thing to add to everyone else&#39;s comments is that, Camel is actually a toolbox rather than a complete set of features. You should bear this in mind when developing and need to do various transformations and protocol conversions. \r\n\r\nCamel itself relies on other frameworks and therefore sometimes you need to understand those as well in order to understand which is best suited for your needs. There are for example multiple ways to handle REST. This can get a bit confusing at first, but once you starting using and testing you will feel at ease and your knowledge of the different concepts will increase.","title":"What exactly is Apache Camel?","body":"<p>Yes, this is probably a bit late. But one thing to add to everyone else's comments is that, Camel is actually a toolbox rather than a complete set of features. You should bear this in mind when developing and need to do various transformations and protocol conversions. </p>\n\n<p>Camel itself relies on other frameworks and therefore sometimes you need to understand those as well in order to understand which is best suited for your needs. There are for example multiple ways to handle REST. This can get a bit confusing at first, but once you starting using and testing you will feel at ease and your knowledge of the different concepts will increase.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1680446570,"creation_date":1449572319,"answer_id":34154102,"question_id":8845186,"body_markdown":"&gt; What exactly is it?\r\n\r\n*Apache Camel* is a lightweight integration framework which implements many Enterprise Integration patterns. You can easily integrate different applications.\r\n\r\n*You can integrated with many of the technologies like HTTP, FTP, JMS, EJB, JPA, RMI, JMS, JMX,  Netty etc.* \r\n\r\n&gt; How does it interact with an application written in Java?\r\n\r\nCamel uses a *Java Domain Specific Language or DSL* for creating Enterprise Integration Patterns or Routes in a variety of domain-specific languages (DSL) \r\n\r\nEnterprise Integration Pattern resolves around these concepts : \r\n\r\n*Message, End Point, Producer, Consumer, Routing, Bus, Transform and Process*.\r\n\r\n&gt; Is it something that goes together with the server?\r\n\r\nIt acts as a bridge across multiple enterprise sub systems.\r\n\r\n&gt; Is it an independent program?\r\n\r\nApache Camel, an integration framework, integrates different independent applications. \r\n\r\n*The major advantage of Camel* : You can integrate different applications with different technologies (and different protocols) by using same same concepts for every integration. \r\n\r\n ","title":"What exactly is Apache Camel?","body":"<blockquote>\n<p>What exactly is it?</p>\n</blockquote>\n<p><em>Apache Camel</em> is a lightweight integration framework which implements many Enterprise Integration patterns. You can easily integrate different applications.</p>\n<p><em>You can integrated with many of the technologies like HTTP, FTP, JMS, EJB, JPA, RMI, JMS, JMX,  Netty etc.</em></p>\n<blockquote>\n<p>How does it interact with an application written in Java?</p>\n</blockquote>\n<p>Camel uses a <em>Java Domain Specific Language or DSL</em> for creating Enterprise Integration Patterns or Routes in a variety of domain-specific languages (DSL)</p>\n<p>Enterprise Integration Pattern resolves around these concepts :</p>\n<p><em>Message, End Point, Producer, Consumer, Routing, Bus, Transform and Process</em>.</p>\n<blockquote>\n<p>Is it something that goes together with the server?</p>\n</blockquote>\n<p>It acts as a bridge across multiple enterprise sub systems.</p>\n<blockquote>\n<p>Is it an independent program?</p>\n</blockquote>\n<p>Apache Camel, an integration framework, integrates different independent applications.</p>\n<p><em>The major advantage of Camel</em> : You can integrate different applications with different technologies (and different protocols) by using same same concepts for every integration.</p>\n"},{"tags":[],"owner":{"account_id":4724623,"reputation":303,"user_id":3821653,"display_name":"KingJulien"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1505904844,"creation_date":1463175704,"answer_id":37219754,"question_id":8845186,"body_markdown":"In plain English, camel gets (many) things done without much of boiler plate code.\r\n\r\nJust to give you a perspective, the Java DSL given below will create a REST endpoint which will be able to accept an XML consisting of List of Products and splits it into multiple products and invoke Process method of BrandProcessor with it. \r\nAnd just by adding .parallelProcessing (note the commented out part) it will parallel process all the Product Objects. (Product class is JAXB/XJC generated Java stub from the XSD which the input xml is confined to.) This much code (along with few Camel dependencies) will get the job done which used to take 100s of lines of Java code.\r\n\r\n    from(&quot;servlet:item-delta?matchOnUriPrefix=true&amp;httpMethodRestrict=POST&quot;)\r\n    .split(stax(Product.class))\r\n    /*.parallelProcessing()*/\r\n    .process(itemDeltaProcessor);\r\n\r\nAfter adding the route ID and logging statement\r\n\r\n    from(&quot;servlet:item-delta?matchOnUriPrefix=true&amp;httpMethodRestrict=POST&quot;)\r\n    .routeId(&quot;Item-DeltaRESTRoute&quot;)\r\n    .log(LoggingLevel.INFO, &quot;Item Delta received on Item-DeltaRESTRoute&quot;)\r\n    .split(stax(Product.class))\r\n    .parallelProcessing()\r\n    .process(itemDeltaProcessor);\r\n\r\nThis is just a sample, Camel is much more than just REST end point. Just take a look the pluggable component list http://camel.apache.org/components.html","title":"What exactly is Apache Camel?","body":"<p>In plain English, camel gets (many) things done without much of boiler plate code.</p>\n\n<p>Just to give you a perspective, the Java DSL given below will create a REST endpoint which will be able to accept an XML consisting of List of Products and splits it into multiple products and invoke Process method of BrandProcessor with it. \nAnd just by adding .parallelProcessing (note the commented out part) it will parallel process all the Product Objects. (Product class is JAXB/XJC generated Java stub from the XSD which the input xml is confined to.) This much code (along with few Camel dependencies) will get the job done which used to take 100s of lines of Java code.</p>\n\n<pre><code>from(\"servlet:item-delta?matchOnUriPrefix=true&amp;httpMethodRestrict=POST\")\n.split(stax(Product.class))\n/*.parallelProcessing()*/\n.process(itemDeltaProcessor);\n</code></pre>\n\n<p>After adding the route ID and logging statement</p>\n\n<pre><code>from(\"servlet:item-delta?matchOnUriPrefix=true&amp;httpMethodRestrict=POST\")\n.routeId(\"Item-DeltaRESTRoute\")\n.log(LoggingLevel.INFO, \"Item Delta received on Item-DeltaRESTRoute\")\n.split(stax(Product.class))\n.parallelProcessing()\n.process(itemDeltaProcessor);\n</code></pre>\n\n<p>This is just a sample, Camel is much more than just REST end point. Just take a look the pluggable component list <a href=\"http://camel.apache.org/components.html\" rel=\"noreferrer\">http://camel.apache.org/components.html</a></p>\n"},{"tags":[],"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":175,"is_accepted":false,"score":175,"last_activity_date":1493402021,"creation_date":1493402021,"answer_id":43686199,"question_id":8845186,"body_markdown":"Camel sends messages from A to B:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\nWhy a whole framework for this? Well, what if you have:\r\n\r\n- many senders and many receivers\r\n- a dozen of protocols (`ftp`, `http`, `jms`, etc.)\r\n- many complex rules \r\n   - Send a message A to Receivers A and B only\r\n   - Send a message B to Receiver C **as XML**, but partly **translate** it, **enrich** it (add metadata) and **IF condition X**, then send it to Receiver D too, but **as CSV**.\r\n\r\nSo now you need:\r\n\r\n- **translate** between protocols\r\n- **glue** components together\r\n- define routes - **what goes where**\r\n- **filter** some things in some cases\r\n\r\n\r\nCamel gives you the above (and more) out of the box:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nwith a cool DSL language for you to define the what and how:\r\n\r\n      new DefaultCamelContext().addRoutes(new RouteBuilder() {\r\n            public void configure() {\r\n                from(&quot;jms:incomingMessages&quot;)\r\n                        .choice() // start router rules\r\n                        .when(header(&quot;CamelFileName&quot;)\r\n                                .endsWith(&quot;.xml&quot;))\r\n                        .to(&quot;jms:xmlMessages&quot;)\r\n                        .when(header(&quot;CamelFileName&quot;)\r\n                                .endsWith(&quot;.csv&quot;))\r\n                        .to(&quot;ftp:csvMessages&quot;);\r\n    }\r\n\r\n\r\nSee also [this][3] and [this][4] and Camel in Action (as others have said, an excellent book!)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r5Kfr.png\r\n  [2]: https://i.stack.imgur.com/AoyyL.png\r\n  [3]: http://camel.apache.org/eip.html\r\n  [4]: https://dzone.com/articles/apache-camel-tutorial-eip","title":"What exactly is Apache Camel?","body":"<p>Camel sends messages from A to B:</p>\n\n<p><a href=\"https://i.stack.imgur.com/r5Kfr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/r5Kfr.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why a whole framework for this? Well, what if you have:</p>\n\n<ul>\n<li>many senders and many receivers</li>\n<li>a dozen of protocols (<code>ftp</code>, <code>http</code>, <code>jms</code>, etc.)</li>\n<li>many complex rules \n\n<ul>\n<li>Send a message A to Receivers A and B only</li>\n<li>Send a message B to Receiver C <strong>as XML</strong>, but partly <strong>translate</strong> it, <strong>enrich</strong> it (add metadata) and <strong>IF condition X</strong>, then send it to Receiver D too, but <strong>as CSV</strong>.</li>\n</ul></li>\n</ul>\n\n<p>So now you need:</p>\n\n<ul>\n<li><strong>translate</strong> between protocols</li>\n<li><strong>glue</strong> components together</li>\n<li>define routes - <strong>what goes where</strong></li>\n<li><strong>filter</strong> some things in some cases</li>\n</ul>\n\n<p>Camel gives you the above (and more) out of the box:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AoyyL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AoyyL.png\" alt=\"enter image description here\"></a></p>\n\n<p>with a cool DSL language for you to define the what and how:</p>\n\n<pre><code>  new DefaultCamelContext().addRoutes(new RouteBuilder() {\n        public void configure() {\n            from(\"jms:incomingMessages\")\n                    .choice() // start router rules\n                    .when(header(\"CamelFileName\")\n                            .endsWith(\".xml\"))\n                    .to(\"jms:xmlMessages\")\n                    .when(header(\"CamelFileName\")\n                            .endsWith(\".csv\"))\n                    .to(\"ftp:csvMessages\");\n}\n</code></pre>\n\n<p>See also <a href=\"http://camel.apache.org/eip.html\" rel=\"noreferrer\">this</a> and <a href=\"https://dzone.com/articles/apache-camel-tutorial-eip\" rel=\"noreferrer\">this</a> and Camel in Action (as others have said, an excellent book!)</p>\n"},{"tags":[],"owner":{"account_id":10030576,"reputation":483,"user_id":7417349,"accept_rate":67,"display_name":"javalearner_heaven"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1504772608,"creation_date":1504772608,"answer_id":46091438,"question_id":8845186,"body_markdown":"Its like a pipeline connecting \r\n\r\n    From----&gt;To\r\n\r\nIn between u can add as many channels and pipes. The faucet can be of any type \r\nautomatic or manual for flow of data and a route to channelize the flow.\r\n\r\nIt supports and have implementation for all types and kinds of processing.\r\nAnd for same processing many approaches because it has many components and each component can also provide the desired output using different methods under it.\r\n\r\n\r\nFor instance,\r\n File transfer can be done in camel with types file moved or copied and also from folder, server or queue. \r\n \r\n\r\n    -from--&gt;To\r\n       - from--&gt;process--&gt;to\r\n       - from--&gt;bean--&gt;to\r\n       - from--&gt;process--&gt;bean--&gt;to\r\n       -from--&gt;marshal--&gt;process--&gt;unmarshal--&gt;to\r\n\r\nFrom/to----folder, direct, seda, vm can be anything\r\n \r\n\r\n\r\n","title":"What exactly is Apache Camel?","body":"<p>Its like a pipeline connecting </p>\n\n<pre><code>From----&gt;To\n</code></pre>\n\n<p>In between u can add as many channels and pipes. The faucet can be of any type \nautomatic or manual for flow of data and a route to channelize the flow.</p>\n\n<p>It supports and have implementation for all types and kinds of processing.\nAnd for same processing many approaches because it has many components and each component can also provide the desired output using different methods under it.</p>\n\n<p>For instance,\n File transfer can be done in camel with types file moved or copied and also from folder, server or queue. </p>\n\n<pre><code>-from--&gt;To\n   - from--&gt;process--&gt;to\n   - from--&gt;bean--&gt;to\n   - from--&gt;process--&gt;bean--&gt;to\n   -from--&gt;marshal--&gt;process--&gt;unmarshal--&gt;to\n</code></pre>\n\n<p>From/to----folder, direct, seda, vm can be anything</p>\n"},{"tags":[],"owner":{"account_id":5958733,"reputation":5513,"user_id":4684508,"display_name":"Khader M A"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1519919311,"creation_date":1519919311,"answer_id":49053481,"question_id":8845186,"body_markdown":"Apache Camel is a Java framework for Enterprise integration. Eg:- if you are building a web application which interacts with many vendor API&#39;s we can use the camel as the External integration tool. We can do more with it based on the use case. Camel in Action from Manning publications is a great book for learning Camel. The integrations can be defined as below.\r\n\r\nJava DSL\r\n\r\n    from(&quot;jetty://0.0.0.0:8080/searchProduct&quot;).routeId(&quot;searchProduct.products&quot;).threads()\r\n\t\t.log(LoggingLevel.INFO, &quot;searchProducts request Received with body: ${body}&quot;)\r\n\t\t.bean(Processor.class, &quot;createSearchProductsRequest&quot;).removeHeaders(&quot;CamelHttp*&quot;)\r\n\t\t.setHeader(Exchange.HTTP_METHOD, constant(org.apache.camel.component.http4.HttpMethods.POST))\r\n\t\t.to(&quot;http4://&quot; + preLiveBaseAPI + searchProductsUrl + &quot;?apiKey=&quot; + ApiKey\r\n\t\t\t\t\t\t+ &quot;&amp;bridgeEndpoint=true&quot;)\r\n\t\t.bean(Processor.class, &quot;buildResponse&quot;).log(LoggingLevel.INFO, &quot;Search products finished&quot;);\r\n\r\nThis is to just create a REST API endpoint which in turn calls an external API and sends the request back\r\n\r\n\r\nSpring DSL\r\n\r\n    &lt;route id=&quot;GROUPS-SHOW&quot;&gt;\r\n        &lt;from uri=&quot;jetty://0.0.0.0:8080/showGroups&quot; /&gt;\r\n        &lt;log loggingLevel=&quot;INFO&quot; message=&quot;Reqeust receviced service to fetch groups -&gt; ${body}&quot; /&gt;\r\n        &lt;to uri=&quot;direct:auditLog&quot; /&gt;\r\n\t    &lt;process ref=&quot;TestProcessor&quot; /&gt;\r\n    &lt;/route&gt;\r\n\r\nComing to your questions\r\n\r\n 1. What exactly is it? Ans:- It is a framework which implements Enterprise integration patterns\r\n 2. How does it interact with an application written in Java? Ans:- it can interact with any available protocols like http, ftp, amqp etc\r\n 3. Is it something that goes together with the server? Ans:- It can be deployed in a container like tomcat or can be deployed independently as a java process\r\n 4. Is it an independent program? Ans:- It can be.\r\n\r\nHope it helps\r\n\r\n\r\n\r\n","title":"What exactly is Apache Camel?","body":"<p>Apache Camel is a Java framework for Enterprise integration. Eg:- if you are building a web application which interacts with many vendor API's we can use the camel as the External integration tool. We can do more with it based on the use case. Camel in Action from Manning publications is a great book for learning Camel. The integrations can be defined as below.</p>\n\n<p>Java DSL</p>\n\n<pre><code>from(\"jetty://0.0.0.0:8080/searchProduct\").routeId(\"searchProduct.products\").threads()\n    .log(LoggingLevel.INFO, \"searchProducts request Received with body: ${body}\")\n    .bean(Processor.class, \"createSearchProductsRequest\").removeHeaders(\"CamelHttp*\")\n    .setHeader(Exchange.HTTP_METHOD, constant(org.apache.camel.component.http4.HttpMethods.POST))\n    .to(\"http4://\" + preLiveBaseAPI + searchProductsUrl + \"?apiKey=\" + ApiKey\n                    + \"&amp;bridgeEndpoint=true\")\n    .bean(Processor.class, \"buildResponse\").log(LoggingLevel.INFO, \"Search products finished\");\n</code></pre>\n\n<p>This is to just create a REST API endpoint which in turn calls an external API and sends the request back</p>\n\n<p>Spring DSL</p>\n\n<pre><code>&lt;route id=\"GROUPS-SHOW\"&gt;\n    &lt;from uri=\"jetty://0.0.0.0:8080/showGroups\" /&gt;\n    &lt;log loggingLevel=\"INFO\" message=\"Reqeust receviced service to fetch groups -&gt; ${body}\" /&gt;\n    &lt;to uri=\"direct:auditLog\" /&gt;\n    &lt;process ref=\"TestProcessor\" /&gt;\n&lt;/route&gt;\n</code></pre>\n\n<p>Coming to your questions</p>\n\n<ol>\n<li>What exactly is it? Ans:- It is a framework which implements Enterprise integration patterns</li>\n<li>How does it interact with an application written in Java? Ans:- it can interact with any available protocols like http, ftp, amqp etc</li>\n<li>Is it something that goes together with the server? Ans:- It can be deployed in a container like tomcat or can be deployed independently as a java process</li>\n<li>Is it an independent program? Ans:- It can be.</li>\n</ol>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":3311832,"reputation":390,"user_id":2785156,"accept_rate":17,"display_name":"Chetan Gowda"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1543575912,"creation_date":1543575912,"answer_id":53556297,"question_id":8845186,"body_markdown":"Assume you create an ecommerce company like Amazon, and you want to only focus on strategy/choice of products to sell. unlike amazon delivery fleet, instead of yourself handling moving of goods from sellers to warehouse, making changes to it in warehouse like packaging and sending it out to other city and customers. You hire a company that does all this and just give them info of all your warehouse locations, vehicle types, delivery locations and a list of when to do what. Then they handle that by themselves, that would be Apache Camel. They take care of moving things from one end to other, once you handover stuff to them, so that you are free to focus on other things. \r\n","title":"What exactly is Apache Camel?","body":"<p>Assume you create an ecommerce company like Amazon, and you want to only focus on strategy/choice of products to sell. unlike amazon delivery fleet, instead of yourself handling moving of goods from sellers to warehouse, making changes to it in warehouse like packaging and sending it out to other city and customers. You hire a company that does all this and just give them info of all your warehouse locations, vehicle types, delivery locations and a list of when to do what. Then they handle that by themselves, that would be Apache Camel. They take care of moving things from one end to other, once you handover stuff to them, so that you are free to focus on other things. </p>\n"},{"tags":[],"owner":{"account_id":23695,"reputation":4225,"user_id":59561,"accept_rate":69,"display_name":"cwash"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1544658979,"creation_date":1544658668,"answer_id":53753117,"question_id":8845186,"body_markdown":"# 101 Word Intro\r\n\r\nCamel is a framework with a consistent API and programming model for integrating applications together.  The API is based on theories in [Enterprise Integration Patterns](https://www.enterpriseintegrationpatterns.com/) - i.e., bunch of design patterns that tend to use messaging.  It provides out of the box implementations of most of these patterns, and additionally ships with over 200 different [components](https://camel.apache.org/components.html) you can use to easily talk to all kinds of other systems.  To use Camel, first write your business logic in POJOs and implement simple interfaces centered around messages.  Then use Camel’s DSL to create &quot;Routes&quot; which are sets of rules for gluing your application together.\r\n\r\n# Extended Intro\r\n\r\nOn the surface, Camel&#39;s functionality rivals traditional Enterprise Service Bus products.  We typically think of a Camel Route being a &quot;mediation&quot; (aka orchestration) component that lives on the server side, but because it&#39;s a Java library it’s easy to embed and it can live on a client side app just as well and help you integrate it with point to point services (aka choreography).  You can even take your POJOs that process the messages inside the Camel route and easily spin them off into their own remote consumer processes, e.g. if you needed to scale just one piece independently.  You can use Camel to connect routes or processors through any number of different remote transport/protocols depending on your needs.  Do you need an extremely efficient and fast binary protocol, or one that is more human readable and easy to debug?  What if you wanted to switch?  With Camel this is usually as easy as changing a line or two in your route and not changing any business logic at all.  Or you could support both - you’re free to run many Routes at once in a Camel Context.\r\n\r\nYou don&#39;t really need to use Camel for simple applications that are going to live in a single process or JVM - it would be overkill.  But it&#39;s not conceptually any more difficult than code you may write yourself.  And if your requirements change, the separation of business logic and glue code makes it easier to maintain over time.  Once you learn the Camel API, it is easy to use it like a Swiss-Army knife and apply it quickly in many different contexts to cut down on the amount of custom code you’d otherwise have to write.  You can learn one flavor - the Java DSL, for example, a fluent API that&#39;s easy to chain together - and pick up the other flavors easily.\r\n\r\nOverall Camel is a great fit if you are trying to do microservices.  I have found it invaluable for evolutionary architecture, because you can put off a lot of the difficult, &quot;easy-to-get-wrong&quot; decisions about protocols, transports and other system integration problems until you know more about your problem domain.  Just focus on your EIPs and core business logic and switch to new Routes with the &quot;right&quot; components as you learn more.\r\n","title":"What exactly is Apache Camel?","body":"<h1>101 Word Intro</h1>\n\n<p>Camel is a framework with a consistent API and programming model for integrating applications together.  The API is based on theories in <a href=\"https://www.enterpriseintegrationpatterns.com/\" rel=\"noreferrer\">Enterprise Integration Patterns</a> - i.e., bunch of design patterns that tend to use messaging.  It provides out of the box implementations of most of these patterns, and additionally ships with over 200 different <a href=\"https://camel.apache.org/components.html\" rel=\"noreferrer\">components</a> you can use to easily talk to all kinds of other systems.  To use Camel, first write your business logic in POJOs and implement simple interfaces centered around messages.  Then use Camel’s DSL to create \"Routes\" which are sets of rules for gluing your application together.</p>\n\n<h1>Extended Intro</h1>\n\n<p>On the surface, Camel's functionality rivals traditional Enterprise Service Bus products.  We typically think of a Camel Route being a \"mediation\" (aka orchestration) component that lives on the server side, but because it's a Java library it’s easy to embed and it can live on a client side app just as well and help you integrate it with point to point services (aka choreography).  You can even take your POJOs that process the messages inside the Camel route and easily spin them off into their own remote consumer processes, e.g. if you needed to scale just one piece independently.  You can use Camel to connect routes or processors through any number of different remote transport/protocols depending on your needs.  Do you need an extremely efficient and fast binary protocol, or one that is more human readable and easy to debug?  What if you wanted to switch?  With Camel this is usually as easy as changing a line or two in your route and not changing any business logic at all.  Or you could support both - you’re free to run many Routes at once in a Camel Context.</p>\n\n<p>You don't really need to use Camel for simple applications that are going to live in a single process or JVM - it would be overkill.  But it's not conceptually any more difficult than code you may write yourself.  And if your requirements change, the separation of business logic and glue code makes it easier to maintain over time.  Once you learn the Camel API, it is easy to use it like a Swiss-Army knife and apply it quickly in many different contexts to cut down on the amount of custom code you’d otherwise have to write.  You can learn one flavor - the Java DSL, for example, a fluent API that's easy to chain together - and pick up the other flavors easily.</p>\n\n<p>Overall Camel is a great fit if you are trying to do microservices.  I have found it invaluable for evolutionary architecture, because you can put off a lot of the difficult, \"easy-to-get-wrong\" decisions about protocols, transports and other system integration problems until you know more about your problem domain.  Just focus on your EIPs and core business logic and switch to new Routes with the \"right\" components as you learn more.</p>\n"},{"tags":[],"owner":{"account_id":1233610,"reputation":2139,"user_id":1197682,"accept_rate":73,"display_name":"earizon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596473656,"creation_date":1545295814,"answer_id":53865210,"question_id":8845186,"body_markdown":"Another point of view (based on more fundamental mathematical topics)\r\n\r\nThe most general computing platform is a [Turing Machine][1].\r\n\r\n\r\nThere is a problem with the Turing machine. All the input/output data stays inside the turing machine. In the real world there are input sources and output sinks external to our Turing machine, and in general governed by systems outside of our control. That is, those external system will send/receive data at will in any format with any desired data-scheduler. \r\n\r\nQuestion: How do we manage to make independent turing-machines speak to each other in the most-general way so that each turing-machine sees their peers as either a source of input-data or sink of output-data?\r\n\r\nAnswer: Using something like camel, mule, BizTalk or any other ESB that abstract away the data handling between completing distinct &quot;physical&quot; (or virtual software) turing machines.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Turing_machine","title":"What exactly is Apache Camel?","body":"<p>Another point of view (based on more fundamental mathematical topics)</p>\n<p>The most general computing platform is a <a href=\"https://en.wikipedia.org/wiki/Turing_machine\" rel=\"nofollow noreferrer\">Turing Machine</a>.</p>\n<p>There is a problem with the Turing machine. All the input/output data stays inside the turing machine. In the real world there are input sources and output sinks external to our Turing machine, and in general governed by systems outside of our control. That is, those external system will send/receive data at will in any format with any desired data-scheduler.</p>\n<p>Question: How do we manage to make independent turing-machines speak to each other in the most-general way so that each turing-machine sees their peers as either a source of input-data or sink of output-data?</p>\n<p>Answer: Using something like camel, mule, BizTalk or any other ESB that abstract away the data handling between completing distinct &quot;physical&quot; (or virtual software) turing machines.</p>\n"},{"tags":[],"owner":{"account_id":1808646,"reputation":1117,"user_id":1645154,"accept_rate":58,"display_name":"Midhun Pottammal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569228568,"creation_date":1569228568,"answer_id":58058775,"question_id":8845186,"body_markdown":"Apache Camel is a lightweight integration framework that implements all Enterprise Integration patterns. You can easily integrate different applications using the required patterns. You can use Java, Spring XML, Scala or Groovy.\r\n\r\nApache Camel runs on the Java Virtual Machine (JVM). ... The core functionality of Apache Camel is its routing engine. It allocates messages based on the related routes. A route contains flow and integration logic. It is implemented using EIPs and a specific DSL.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NdL2x.jpg","title":"What exactly is Apache Camel?","body":"<p>Apache Camel is a lightweight integration framework that implements all Enterprise Integration patterns. You can easily integrate different applications using the required patterns. You can use Java, Spring XML, Scala or Groovy.</p>\n\n<p>Apache Camel runs on the Java Virtual Machine (JVM). ... The core functionality of Apache Camel is its routing engine. It allocates messages based on the related routes. A route contains flow and integration logic. It is implemented using EIPs and a specific DSL.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NdL2x.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NdL2x.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":891545,"reputation":18247,"user_id":929694,"accept_rate":76,"display_name":"Myy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668352,"favorite_count":0,"down_vote_count":9,"up_vote_count":1626,"accepted_answer_id":11540451,"answer_count":22,"score":1617,"last_activity_date":1685606505,"creation_date":1326421938,"question_id":8845186,"body_markdown":"I don&#39;t understand what exactly [Camel](http://camel.apache.org/index.html) does.\r\n\r\nIf you could give in 101 words an introduction to Camel:\r\n\r\n* What exactly is it? \r\n* How does it interact with an application written in Java? \r\n* Is it something that goes together with the server? \r\n* Is it an independent program? \r\n\r\n**Please explain what Camel is.**","title":"What exactly is Apache Camel?","body":"<p>I don't understand what exactly <a href=\"http://camel.apache.org/index.html\" rel=\"noreferrer\">Camel</a> does.</p>\n\n<p>If you could give in 101 words an introduction to Camel:</p>\n\n<ul>\n<li>What exactly is it? </li>\n<li>How does it interact with an application written in Java? </li>\n<li>Is it something that goes together with the server? </li>\n<li>Is it an independent program? </li>\n</ul>\n\n<p><strong>Please explain what Camel is.</strong></p>\n"},{"tags":["macos","java"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1357991234,"post_id":14292698,"comment_id":19850257,"body_markdown":"*&quot; that software aren&#39;t running&quot;*  What is the error output?","body":"<i>&quot; that software aren&#39;t running&quot;</i>  What is the error output?"}],"answers":[{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":5,"up_vote_count":268,"is_accepted":true,"score":263,"last_activity_date":1357988751,"creation_date":1357988751,"answer_id":14292720,"question_id":14292698,"body_markdown":"`javac -version` in a terminal will do","title":"How do I check if the Java JDK is installed on Mac?","body":"<p><code>javac -version</code> in a terminal will do</p>\n"},{"tags":[],"owner":{"account_id":2162386,"reputation":35622,"user_id":1916258,"accept_rate":100,"display_name":"asgoth"},"down_vote_count":12,"up_vote_count":28,"is_accepted":false,"score":16,"last_activity_date":1357989139,"creation_date":1357988751,"answer_id":14292719,"question_id":14292698,"body_markdown":"Type in  a terminal:\r\n\r\n    which javac\r\n\r\nIt should show you something like\r\n\r\n    /usr/bin/javac","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>Type in  a terminal:</p>\n\n<pre><code>which javac\n</code></pre>\n\n<p>It should show you something like</p>\n\n<pre><code>/usr/bin/javac\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2974393,"reputation":93,"user_id":2525780,"display_name":"Hari Dattada"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1486402764,"creation_date":1372278707,"answer_id":17329907,"question_id":14292698,"body_markdown":"Just type `javac`. If it is installed you get usage information, otherwise it would just ask if you would like to install Java.\r\n","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>Just type <code>javac</code>. If it is installed you get usage information, otherwise it would just ask if you would like to install Java.</p>\n"},{"tags":[],"owner":{"account_id":160587,"reputation":47975,"user_id":380757,"accept_rate":86,"display_name":"Tuxdude"},"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1438549220,"creation_date":1438549220,"answer_id":31776543,"question_id":14292698,"body_markdown":"You can leverage the `java_home` helper binary on `OS X` for what you&#39;re looking for.\r\n\r\nTo list all versions of installed JDK:\r\n\r\n    $ /usr/libexec/java_home -V\r\n    Matching Java Virtual Machines (2):\r\n        1.8.0_51, x86_64:\t&quot;Java SE 8&quot;\t/Library/Java/JavaVirtualMachines/jdk1.8.0_51.jdk/Contents/Home\r\n        1.7.0_79, x86_64:\t&quot;Java SE 7&quot;\t/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\r\n\r\n\r\nTo request the JAVA_HOME path of a specific JDK version, you can do:\r\n\r\n    $ /usr/libexec/java_home -v 1.7\r\n    /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\r\n    \r\n    $ /usr/libexec/java_home -v 1.8\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_51.jdk/Contents/Home\r\n\r\nYou could take advantage of the above commands in your script like this:\r\n\r\n    REQUESTED_JAVA_VERSION=&quot;1.7&quot;\r\n    if POSSIBLE_JAVA_HOME=&quot;$(/usr/libexec/java_home -v $REQUESTED_JAVA_VERSION 2&gt;/dev/null)&quot;; then\r\n        # Do this if you want to export JAVA_HOME\r\n        export JAVA_HOME=&quot;$POSSIBLE_JAVA_HOME&quot;\r\n        echo &quot;Java SDK is installed&quot;\r\n    else\r\n        echo &quot;Did not find any installed JDK for version $REQUESTED_JAVA_VERSION&quot;\r\n    fi\r\n\r\nYou might be able to do if-else and check for multiple different versions of java as well.\r\n\r\nIf you prefer XML output, java_home also has a -X option to output in XML.\r\n\r\n    $ /usr/libexec/java_home --help\r\n    Usage: java_home [options...]\r\n        Returns the path to a Java home directory from the current user&#39;s settings.\r\n    \r\n    Options:\r\n        [-v/--version   &lt;version&gt;]       Filter Java versions in the &quot;JVMVersion&quot; form 1.X(+ or *).\r\n        [-a/--arch      &lt;architecture&gt;]  Filter JVMs matching architecture (i386, x86_64, etc).\r\n        [-d/--datamodel &lt;datamodel&gt;]     Filter JVMs capable of -d32 or -d64\r\n        [-t/--task      &lt;task&gt;]          Use the JVM list for a specific task (Applets, WebStart, BundledApp, JNI, or CommandLine)\r\n        [-F/--failfast]                  Fail when filters return no JVMs, do not continue with default.\r\n        [   --exec      &lt;command&gt; ...]   Execute the $JAVA_HOME/bin/&lt;command&gt; with the remaining arguments.\r\n        [-R/--request]                   Request installation of a Java Runtime if not installed.\r\n        [-X/--xml]                       Print full JVM list and additional data as XML plist.\r\n        [-V/--verbose]                   Print full JVM list with architectures.\r\n        [-h/--help]                      This usage information.","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>You can leverage the <code>java_home</code> helper binary on <code>OS X</code> for what you're looking for.</p>\n\n<p>To list all versions of installed JDK:</p>\n\n<pre><code>$ /usr/libexec/java_home -V\nMatching Java Virtual Machines (2):\n    1.8.0_51, x86_64:   \"Java SE 8\" /Library/Java/JavaVirtualMachines/jdk1.8.0_51.jdk/Contents/Home\n    1.7.0_79, x86_64:   \"Java SE 7\" /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\n</code></pre>\n\n<p>To request the JAVA_HOME path of a specific JDK version, you can do:</p>\n\n<pre><code>$ /usr/libexec/java_home -v 1.7\n/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\n\n$ /usr/libexec/java_home -v 1.8\n/Library/Java/JavaVirtualMachines/jdk1.8.0_51.jdk/Contents/Home\n</code></pre>\n\n<p>You could take advantage of the above commands in your script like this:</p>\n\n<pre><code>REQUESTED_JAVA_VERSION=\"1.7\"\nif POSSIBLE_JAVA_HOME=\"$(/usr/libexec/java_home -v $REQUESTED_JAVA_VERSION 2&gt;/dev/null)\"; then\n    # Do this if you want to export JAVA_HOME\n    export JAVA_HOME=\"$POSSIBLE_JAVA_HOME\"\n    echo \"Java SDK is installed\"\nelse\n    echo \"Did not find any installed JDK for version $REQUESTED_JAVA_VERSION\"\nfi\n</code></pre>\n\n<p>You might be able to do if-else and check for multiple different versions of java as well.</p>\n\n<p>If you prefer XML output, java_home also has a -X option to output in XML.</p>\n\n<pre><code>$ /usr/libexec/java_home --help\nUsage: java_home [options...]\n    Returns the path to a Java home directory from the current user's settings.\n\nOptions:\n    [-v/--version   &lt;version&gt;]       Filter Java versions in the \"JVMVersion\" form 1.X(+ or *).\n    [-a/--arch      &lt;architecture&gt;]  Filter JVMs matching architecture (i386, x86_64, etc).\n    [-d/--datamodel &lt;datamodel&gt;]     Filter JVMs capable of -d32 or -d64\n    [-t/--task      &lt;task&gt;]          Use the JVM list for a specific task (Applets, WebStart, BundledApp, JNI, or CommandLine)\n    [-F/--failfast]                  Fail when filters return no JVMs, do not continue with default.\n    [   --exec      &lt;command&gt; ...]   Execute the $JAVA_HOME/bin/&lt;command&gt; with the remaining arguments.\n    [-R/--request]                   Request installation of a Java Runtime if not installed.\n    [-X/--xml]                       Print full JVM list and additional data as XML plist.\n    [-V/--verbose]                   Print full JVM list with architectures.\n    [-h/--help]                      This usage information.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2520594,"reputation":772,"user_id":2191057,"display_name":"ramzes2"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1495628095,"creation_date":1495628095,"answer_id":44158166,"question_id":14292698,"body_markdown":"`/usr/bin/java_home` tool returns 1 if java not installed.\r\n\r\nSo you can check if java is installed by the next way:\r\n\r\n    /usr/libexec/java_home &amp;&gt; /dev/null &amp;&amp; echo &quot;installed&quot; || echo  &quot;not installed&quot;","title":"How do I check if the Java JDK is installed on Mac?","body":"<p><code>/usr/bin/java_home</code> tool returns 1 if java not installed.</p>\n\n<p>So you can check if java is installed by the next way:</p>\n\n<pre><code>/usr/libexec/java_home &amp;&gt; /dev/null &amp;&amp; echo \"installed\" || echo  \"not installed\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528742551,"creation_date":1528742551,"answer_id":50804164,"question_id":14292698,"body_markdown":"Make sure you correctly define the project&#39;s JDK and restart IntelliJ (full restart).","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>Make sure you correctly define the project's JDK and restart IntelliJ (full restart).</p>\n"},{"tags":[],"owner":{"account_id":2752510,"reputation":401,"user_id":2371568,"display_name":"Mir Kazim Ali Tabrez"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1534818674,"creation_date":1534818674,"answer_id":51940794,"question_id":14292698,"body_markdown":"Below command worked out pretty good:\r\n\r\n    javac -version\r\n\r\nI also manually verified by navigating to the Java Folder on my Mac\r\n        \r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>Below command worked out pretty good:</p>\n\n<pre><code>javac -version\n</code></pre>\n\n<p>I also manually verified by navigating to the Java Folder on my Mac</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7563249,"reputation":121,"user_id":5739881,"display_name":"Mohtasim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580587364,"creation_date":1580587364,"answer_id":60020650,"question_id":14292698,"body_markdown":"* Open terminal.\r\n* run command to see:\r\n\r\n    javac -version\r\n\r\n* Also you can verify manually by going to the specific location and then check. To do this run below command in the mac terminal\r\n\r\n    cd /Library/Java/JavaVirtualMachines/\r\n    \r\nThen run `ls` command in the terminal again. Now you can see the jdk version &amp; package if exists in your computer. \r\n\r\n\r\n","title":"How do I check if the Java JDK is installed on Mac?","body":"<ul>\n<li>Open terminal.</li>\n<li><p>run command to see:</p>\n\n<p>javac -version</p></li>\n<li><p>Also you can verify manually by going to the specific location and then check. To do this run below command in the mac terminal</p>\n\n<p>cd /Library/Java/JavaVirtualMachines/</p></li>\n</ul>\n\n<p>Then run <code>ls</code> command in the terminal again. Now you can see the jdk version &amp; package if exists in your computer. </p>\n"},{"tags":[],"owner":{"account_id":2404155,"reputation":3688,"user_id":2101117,"display_name":"Aleksandar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611254951,"creation_date":1611254951,"answer_id":65833927,"question_id":14292698,"body_markdown":"If you are on Mac OS Big Sur, then you probably have a messed up java installation.\r\nI found info on how to fix the issue with this article:\r\nhttps://knasmueller.net/how-to-install-java-openjdk-15-on-macos-big-sur\r\n\r\n 1. Download the .tar.gz file of the JDK on https://jdk.java.net/15/\r\n 2. Navigate to the download folder, and run these commands (move the .tar.gz file, extract it and remove it after extraction):\r\n```\r\nsudo mv openjdk-15.0.2_osx-x64_bin.tar.gz /Library/Java/JavaVirtualMachines/\r\ncd /Library/Java/JavaVirtualMachines/\r\nsudo tar -xzf openjdk-15.0.2_osx-x64_bin.tar.gz\r\nsudo rm openjdk-15.0.2_osx-x64_bin.tar.gz\r\n```\r\nNote: it might be 15.0.3 or higher, depending on the date of your download.\r\n\r\n 3. run `/usr/libexec/java_home -v15` and copy the output\r\n 4. add this line to your `.bash_profile` or `.zshrc` file, depending on which shell you are using. You will probably have only one of these files existing in your home directory (`~/.bash_profile` or `~/.zshrc`).\r\n```\r\nJAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-15.0.2.jdk/Contents/Home\r\n```\r\n5. save the changes and make them effective right away by running:\r\n`source ~/.bash_profile` or `source ~/.zshrc`\r\n6. check that java is working - run `java -v`","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>If you are on Mac OS Big Sur, then you probably have a messed up java installation.\nI found info on how to fix the issue with this article:\n<a href=\"https://knasmueller.net/how-to-install-java-openjdk-15-on-macos-big-sur\" rel=\"nofollow noreferrer\">https://knasmueller.net/how-to-install-java-openjdk-15-on-macos-big-sur</a></p>\n<ol>\n<li>Download the .tar.gz file of the JDK on <a href=\"https://jdk.java.net/15/\" rel=\"nofollow noreferrer\">https://jdk.java.net/15/</a></li>\n<li>Navigate to the download folder, and run these commands (move the .tar.gz file, extract it and remove it after extraction):</li>\n</ol>\n<pre><code>sudo mv openjdk-15.0.2_osx-x64_bin.tar.gz /Library/Java/JavaVirtualMachines/\ncd /Library/Java/JavaVirtualMachines/\nsudo tar -xzf openjdk-15.0.2_osx-x64_bin.tar.gz\nsudo rm openjdk-15.0.2_osx-x64_bin.tar.gz\n</code></pre>\n<p>Note: it might be 15.0.3 or higher, depending on the date of your download.</p>\n<ol start=\"3\">\n<li>run <code>/usr/libexec/java_home -v15</code> and copy the output</li>\n<li>add this line to your <code>.bash_profile</code> or <code>.zshrc</code> file, depending on which shell you are using. You will probably have only one of these files existing in your home directory (<code>~/.bash_profile</code> or <code>~/.zshrc</code>).</li>\n</ol>\n<pre><code>JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-15.0.2.jdk/Contents/Home\n</code></pre>\n<ol start=\"5\">\n<li>save the changes and make them effective right away by running:\n<code>source ~/.bash_profile</code> or <code>source ~/.zshrc</code></li>\n<li>check that java is working - run <code>java -v</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7442031,"reputation":3314,"user_id":5659521,"display_name":"Amit Meena"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665049648,"creation_date":1665049648,"answer_id":73971776,"question_id":14292698,"body_markdown":"On MAC find your JDK path by executing the command.\r\n\r\n```\r\n/usr/libexec/java_home\r\n```","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>On MAC find your JDK path by executing the command.</p>\n<pre><code>/usr/libexec/java_home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3627341,"reputation":25080,"user_id":3024579,"accept_rate":62,"display_name":"Alok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685606216,"creation_date":1685606216,"answer_id":76379794,"question_id":14292698,"body_markdown":"If you want to only check Java is already installed or not \r\n\r\njust type- **java** on the terminal\r\n\r\nand if you want to know about the version as well then \r\n\r\ntype- **java -version** on the terminal\r\n\r\nResult will be look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pG3vn.png","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>If you want to only check Java is already installed or not</p>\n<p>just type- <strong>java</strong> on the terminal</p>\n<p>and if you want to know about the version as well then</p>\n<p>type- <strong>java -version</strong> on the terminal</p>\n<p>Result will be look like:</p>\n<p><a href=\"https://i.stack.imgur.com/pG3vn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pG3vn.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":206200,"reputation":10858,"user_id":455340,"accept_rate":87,"display_name":"angry kiwi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276258,"favorite_count":0,"down_vote_count":0,"up_vote_count":192,"accepted_answer_id":14292720,"answer_count":11,"score":192,"last_activity_date":1685606216,"creation_date":1357988611,"question_id":14292698,"body_markdown":"How do you check if Java SDK is installed on a Mac?\r\n\r\nIs there a command line for this?\r\n","title":"How do I check if the Java JDK is installed on Mac?","body":"<p>How do you check if Java SDK is installed on a Mac?</p>\n\n<p>Is there a command line for this?</p>\n"},{"tags":["java","spring","spring-websocket"],"comments":[{"owner":{"account_id":28177079,"reputation":118,"user_id":21534708,"display_name":"Farfetch&#39;d"},"score":0,"creation_date":1685433157,"post_id":76361533,"comment_id":134655057,"body_markdown":"It&#39;s only working when client send request cause you have used  @MessageMapping(&quot;/client&quot;). It means that counDonwService is mapped with &quot;/client&quot; websocket endpoint. I don&#39;t know if you are interresting by schedule the call of countDownService, so take a look of @Scheduled (https://spring.io/guides/gs/scheduling-tasks/)","body":"It&#39;s only working when client send request cause you have used  @MessageMapping(&quot;/client&quot;). It means that counDonwService is mapped with &quot;/client&quot; websocket endpoint. I don&#39;t know if you are interresting by schedule the call of countDownService, so take a look of @Scheduled (<a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/scheduling-tasks</a>)"},{"owner":{"account_id":9683939,"reputation":15,"user_id":7184477,"display_name":"DKB"},"score":0,"creation_date":1685459707,"post_id":76361533,"comment_id":134661359,"body_markdown":"Hi @Farfetch&#39;d thanks a lot. Its working completely fine. Is there any way if I can do this without multithreading.","body":"Hi @Farfetch&#39;d thanks a lot. Its working completely fine. Is there any way if I can do this without multithreading."},{"owner":{"account_id":28177079,"reputation":118,"user_id":21534708,"display_name":"Farfetch&#39;d"},"score":0,"creation_date":1685519588,"post_id":76361533,"comment_id":134669847,"body_markdown":"Hi @DKB I&#39;m not sure to understand what you want to achieve. You are trying to send the count to all client when value equals to 0 ?","body":"Hi @DKB I&#39;m not sure to understand what you want to achieve. You are trying to send the count to all client when value equals to 0 ?"},{"owner":{"account_id":9683939,"reputation":15,"user_id":7184477,"display_name":"DKB"},"score":0,"creation_date":1685551488,"post_id":76361533,"comment_id":134677292,"body_markdown":"Hi @Farfetch&#39;d I just want to create a server which will share live countdown to the all the connected clients like 60 59 58 57.....","body":"Hi @Farfetch&#39;d I just want to create a server which will share live countdown to the all the connected clients like 60 59 58 57....."}],"answers":[{"tags":[],"owner":{"account_id":28177079,"reputation":118,"user_id":21534708,"display_name":"Farfetch&#39;d"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685605757,"creation_date":1685605435,"answer_id":76379692,"question_id":76361533,"body_markdown":"One of the ways to do that without using multi threading \r\n\r\n    @Controller\r\n    public class CountdownWSController {\r\n    \r\n        private int countdown;\r\n        private SimpMessagingTemplate template;\r\n    \r\n    \r\n        public CountdownWSController(Countdown cnt, SimpMessagingTemplate template){\r\n            this.template = template;\r\n            countdown = 60; /* Choose the starting value */\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 1000)\r\n        public void countDownService() {\r\n                this.template.convertAndSend(&quot;/topic/greetings&quot;, this.count);\r\n                this.count=this.count-1;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nHowever, with this way if there are two clients the timer will be the same even if they join the communication at different time \r\n","title":"Sending data from server to all the client using spring websocket java","body":"<p>One of the ways to do that without using multi threading</p>\n<pre><code>@Controller\npublic class CountdownWSController {\n\n    private int countdown;\n    private SimpMessagingTemplate template;\n\n\n    public CountdownWSController(Countdown cnt, SimpMessagingTemplate template){\n        this.template = template;\n        countdown = 60; /* Choose the starting value */\n    }\n\n    @Scheduled(fixedRate = 1000)\n    public void countDownService() {\n            this.template.convertAndSend(&quot;/topic/greetings&quot;, this.count);\n            this.count=this.count-1;\n\n    }\n\n}\n</code></pre>\n<p>However, with this way if there are two clients the timer will be the same even if they join the communication at different time</p>\n"}],"owner":{"account_id":9683939,"reputation":15,"user_id":7184477,"display_name":"DKB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76379692,"answer_count":1,"score":0,"last_activity_date":1685605757,"creation_date":1685419152,"question_id":76361533,"body_markdown":"I have create a thread in spring application which is called at the start of the spring boot application.\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n        public static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t\tThread th = new Thread(new Countdown());\r\n    \t\tth.start();\r\n    \r\n    \t}\r\n    }\r\nInside that I have created a variable which decreases by 1 every second.\r\n\r\n    public class Countdown implements Runnable{\r\n        private static volatile int count=0;\r\n\r\n        @Override\r\n        public void run() {\r\n            this.runTimer();\r\n    \r\n        }\r\n    \r\n        public void runTimer(){\r\n            count=60;\r\n            while(count&gt;0){\r\n                System.out.println(&quot;Countdown : &quot;+count+&quot; &quot;+Thread.currentThread().getId());\r\n                try{\r\n                    count--;\r\n                    Thread.sleep(1000);\r\n                }\r\n                catch (Exception e){\r\n                    System.out.println(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\nWhat I wanted to achieve is that after count-- operation I should be able to send the count value to all the clients connected to the server. The count value should be send without any request from the client.\r\n\r\nHere is the WebSocket configuration\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.enableSimpleBroker(&quot;/topic&quot;);\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/gs-guide-websocket&quot;).withSockJS();\r\n        }\r\n    }\r\n\r\nI tried using SimpMessageTemplate object to send the count. But it is only working when the client sends a request. I tried to use the SimpMessageTemplate object in Countdown class after count-- operation but its giving me null exception.   \r\n\r\n    @Controller\r\n    public class CountdownWSController {\r\n    \r\n        private Countdown countdown;\r\n        private SimpMessagingTemplate template;\r\n    \r\n    \r\n        public CountdownWSController(Countdown cnt, SimpMessagingTemplate template){\r\n            this.template = template;\r\n            countdown = cnt;\r\n        }\r\n    \r\n        @MessageMapping(&quot;/client&quot;)\r\n        @SendTo(&quot;/topic/greetings&quot;)\r\n        public void countDownService(int count) throws Exception{\r\n                this.template.convertAndSend(&quot;/topic/greetings&quot;, new CountdownModel(count));\r\n    \r\n        }\r\n    \r\n        }\r\n    }","title":"Sending data from server to all the client using spring websocket java","body":"<p>I have create a thread in spring application which is called at the start of the spring boot application.</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n        Thread th = new Thread(new Countdown());\n        th.start();\n\n    }\n}\n</code></pre>\n<p>Inside that I have created a variable which decreases by 1 every second.</p>\n<pre><code>public class Countdown implements Runnable{\n    private static volatile int count=0;\n\n    @Override\n    public void run() {\n        this.runTimer();\n\n    }\n\n    public void runTimer(){\n        count=60;\n        while(count&gt;0){\n            System.out.println(&quot;Countdown : &quot;+count+&quot; &quot;+Thread.currentThread().getId());\n            try{\n                count--;\n                Thread.sleep(1000);\n            }\n            catch (Exception e){\n                System.out.println(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I wanted to achieve is that after count-- operation I should be able to send the count value to all the clients connected to the server. The count value should be send without any request from the client.</p>\n<p>Here is the WebSocket configuration</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/gs-guide-websocket&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p>I tried using SimpMessageTemplate object to send the count. But it is only working when the client sends a request. I tried to use the SimpMessageTemplate object in Countdown class after count-- operation but its giving me null exception.</p>\n<pre><code>@Controller\npublic class CountdownWSController {\n\n    private Countdown countdown;\n    private SimpMessagingTemplate template;\n\n\n    public CountdownWSController(Countdown cnt, SimpMessagingTemplate template){\n        this.template = template;\n        countdown = cnt;\n    }\n\n    @MessageMapping(&quot;/client&quot;)\n    @SendTo(&quot;/topic/greetings&quot;)\n    public void countDownService(int count) throws Exception{\n            this.template.convertAndSend(&quot;/topic/greetings&quot;, new CountdownModel(count));\n\n    }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","spring","redhat","bufferedreader"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684855925,"post_id":76316188,"comment_id":134576910,"body_markdown":"Try instead `Process p = new ProcessBuilder(cmdScript).inheriIO().start();`, forgetting the `BufferedReader` reading for now. That&#39;s a privileged command btw, which will need to be run by root or used with sdo","body":"Try instead <code>Process p = new ProcessBuilder(cmdScript).inheriIO().start();</code>, forgetting the <code>BufferedReader</code> reading for now. That&#39;s a privileged command btw, which will need to be run by root or used with sdo"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685610436,"post_id":76316188,"comment_id":134685176,"body_markdown":"Please post your *current* code to remove doubt. btw, my code can be simplified to `try (InputStream in = p.getInputStream()) { String text = new String(in.readAllBytes()); }`","body":"Please post your <i>current</i> code to remove doubt. btw, my code can be simplified to <code>try (InputStream in = p.getInputStream()) { String text = new String(in.readAllBytes()); }</code>"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684857056,"creation_date":1684857056,"answer_id":76316589,"question_id":76316188,"body_markdown":"Actually, you can get some output from the command as a normal user, so my comment above is not right. But the following works fine for me:\r\n\r\n    public synchronized String launchLinuxCommand() {\r\n        try {\r\n            log.info(&quot;init launchLinuxCommand&quot;);\r\n            String[] cmdScript = new String[] { &quot;/sbin/ausearch&quot;, &quot;-ts&quot;, &quot;today&quot; };\r\n            Process p = new ProcessBuilder(cmdScript).inheritIO().start();\r\n            log.info(&quot;Command Executed&quot;);\r\n            ByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n            p.getInputStream().transferTo(bout);\r\n            String text = new String(bout.toByteArray());\r\n            p.waitFor();\r\n            log.info(&quot;text: &quot; + text);\r\n        } catch (Exception ex) {\r\n            log.error(ex.getMessage());\r\n        }\r\n        return &quot; &quot;;\r\n    }\r\n","title":"ausearch command and JAVA issue - RedHat 9","body":"<p>Actually, you can get some output from the command as a normal user, so my comment above is not right. But the following works fine for me:</p>\n<pre><code>public synchronized String launchLinuxCommand() {\n    try {\n        log.info(&quot;init launchLinuxCommand&quot;);\n        String[] cmdScript = new String[] { &quot;/sbin/ausearch&quot;, &quot;-ts&quot;, &quot;today&quot; };\n        Process p = new ProcessBuilder(cmdScript).inheritIO().start();\n        log.info(&quot;Command Executed&quot;);\n        ByteArrayOutputStream bout = new ByteArrayOutputStream();\n        p.getInputStream().transferTo(bout);\n        String text = new String(bout.toByteArray());\n        p.waitFor();\n        log.info(&quot;text: &quot; + text);\n    } catch (Exception ex) {\n        log.error(ex.getMessage());\n    }\n    return &quot; &quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":10588861,"reputation":13,"user_id":7800204,"display_name":"Cristian Perez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685605436,"creation_date":1684854280,"question_id":76316188,"body_markdown":"I was triying to lunch some commands from JAVA to my RedHat server, this is the code that im testing:\r\n\r\n\r\n```\r\n  public synchronized String lunchLinuxCommand() {\r\n        try {\r\n            log.info(&quot;init lunchLinuxCommand&quot;);\r\n            String[] cmdScript = new String[]{&quot;/sbin/ausearch&quot;, &quot;-ts&quot;, &quot;today&quot;};\r\n            Process p = Runtime.getRuntime().exec(cmdScript);\r\n            log.info(&quot;Command Executed&quot;);\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream(), StandardCharsets.UTF_8));\r\n            log.info(&quot;BufferedReader Created&quot;);\r\n            String text = br.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n            p.waitFor();\r\n            log.info (&quot;text: &quot; + text);\r\n        } catch (Exception ex){\r\n            log.error(ex.getMessage());\r\n        }\r\n        return &quot; &quot;;\r\n    }\r\n```\r\n\r\nIm trying to run a **ausearch** command, to obtain audit information setted up correctly before, i was using different commands, different approaches to lunch the command like Process Builder, and some different ways to do the BufferedReader process, but the sistem do not respond. It just stocked, trying to wait for the command response, but after a lot time to wait it never respond.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/pp9pJ.png)](https://i.stack.imgur.com/pp9pJ.png)\r\n\r\nI was testing with some other commands like pwd, ping or ls, and all of those are working fine.\r\n\r\nI cannot understand why only with this one generates me an error, could someone please help me with that?\r\n\r\nThanks in advance.\r\n\r\n\r\nSolve the issue trying to obtain audit info from REDHAT server\r\n\r\n\r\n**[UPDATE]**\r\n\r\nAfter **@g00se** approach, I continue having the issue testing from Intellij directly to the server via SSH, but in the server, part of the issue is solved, deploying the jar directly on it. Now, as you see in the next image, the p.waitFor() method its printing the response of the command in the LOG file and is not storing the response in the String variable.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9zF0A.png\r\n\r\nI don’t understand why this behavior is coming up, and I was trying different approaches and orders on the code, without success. I feel is something related with Spring Framework or something that is generating the printing directly (as Sys.out) and don’t let me obtain that data.","title":"ausearch command and JAVA issue - RedHat 9","body":"<p>I was triying to lunch some commands from JAVA to my RedHat server, this is the code that im testing:</p>\n<pre><code>  public synchronized String lunchLinuxCommand() {\n        try {\n            log.info(&quot;init lunchLinuxCommand&quot;);\n            String[] cmdScript = new String[]{&quot;/sbin/ausearch&quot;, &quot;-ts&quot;, &quot;today&quot;};\n            Process p = Runtime.getRuntime().exec(cmdScript);\n            log.info(&quot;Command Executed&quot;);\n            BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream(), StandardCharsets.UTF_8));\n            log.info(&quot;BufferedReader Created&quot;);\n            String text = br.lines().collect(Collectors.joining(&quot;\\n&quot;));\n            p.waitFor();\n            log.info (&quot;text: &quot; + text);\n        } catch (Exception ex){\n            log.error(ex.getMessage());\n        }\n        return &quot; &quot;;\n    }\n</code></pre>\n<p>Im trying to run a <strong>ausearch</strong> command, to obtain audit information setted up correctly before, i was using different commands, different approaches to lunch the command like Process Builder, and some different ways to do the BufferedReader process, but the sistem do not respond. It just stocked, trying to wait for the command response, but after a lot time to wait it never respond.</p>\n<p><a href=\"https://i.stack.imgur.com/pp9pJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pp9pJ.png\" alt=\"enter image description here\" /></a></p>\n<p>I was testing with some other commands like pwd, ping or ls, and all of those are working fine.</p>\n<p>I cannot understand why only with this one generates me an error, could someone please help me with that?</p>\n<p>Thanks in advance.</p>\n<p>Solve the issue trying to obtain audit info from REDHAT server</p>\n<p><strong>[UPDATE]</strong></p>\n<p>After <strong>@g00se</strong> approach, I continue having the issue testing from Intellij directly to the server via SSH, but in the server, part of the issue is solved, deploying the jar directly on it. Now, as you see in the next image, the p.waitFor() method its printing the response of the command in the LOG file and is not storing the response in the String variable.</p>\n<p><a href=\"https://i.stack.imgur.com/9zF0A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9zF0A.png\" alt=\"enter image description here\" /></a></p>\n<p>I don’t understand why this behavior is coming up, and I was trying different approaches and orders on the code, without success. I feel is something related with Spring Framework or something that is generating the printing directly (as Sys.out) and don’t let me obtain that data.</p>\n"},{"tags":["java","spring-boot","swagger","springdoc","springdoc-openui"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1685610275,"post_id":76379649,"comment_id":134685139,"body_markdown":"Works fine for me when I have integrated new `springdoc-openapi-starter-webflux-ui:2.1.0` in my existing project, I suspect may be issue due to migration steps","body":"Works fine for me when I have integrated new <code>springdoc-openapi-starter-webflux-ui:2.1.0</code> in my existing project, I suspect may be issue due to migration steps"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1685610557,"post_id":76379649,"comment_id":134685200,"body_markdown":"Added `implementation(&quot;org.springdoc:springdoc-openapi-starter-webflux-ui:2.1.0&quot;)`, gradle plugin`id(&quot;org.springdoc.openapi-gradle-plugin&quot;) version &quot;1.6.0&quot;`, app.properties ```springdoc.swagger-ui.path=/swagger-ui.html\nspringdoc.show-actuator=true\nspringdoc.use-management-port=true\nspringdoc.api-docs.path=/api-docs\nspringdoc.api-docs.enabled=true```","body":"Added <code>implementation(&quot;org.springdoc:springdoc-openapi-starter-webf&zwnj;&#8203;lux-ui:2.1.0&quot;)</code>, gradle plugin<code>id(&quot;org.springdoc.openapi-gradle-plugin&quot;) version &quot;1.6.0&quot;</code>, app.properties <code>springdoc.swagger-ui.path=&#47;swagger-ui.html springdoc.show-actuator=true springdoc.use-management-port=true springdoc.api-docs.path=&#47;api-docs springdoc.api-docs.enabled=true</code>"}],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685605057,"creation_date":1685605057,"question_id":76379649,"body_markdown":"I am on Spring boot `3.1.0` and Spring doc `2.1.0`.\r\n\r\nPreviously I was using springfox and I was forced to migrate to springdoc since springfox didn&#39;t support springboot 3.\r\n\r\nI followed migration guide [this migration guide][1] and here&#39;s how my setup looks like.\r\n\r\npom.xml\r\n\r\n    \t&lt;!--Swagger dependency--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nController\r\n\r\n    @RestController\r\n    @Slf4j\r\n    public class HelloController {\r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;hi&quot;)\r\n        public String hi(HttpServletRequest httpRequest) {\r\n            return &quot;hi&quot;;\r\n        }\r\n    }\r\n\r\napplication.properties\r\n\r\n    \r\n    #Swagger properties\r\n    \r\n    server.contextPath=/ctx-path\r\n    springdoc.packagesToScan=abc.def.ghi\r\n    springdoc.paths-to-match=/hi,hi,/ctx-path/hi\r\n    springdoc.api-docs.path=/api-docs\r\n    springdoc.swagger-ui.config-url=/ctx-path/api-docs/swagger-config\r\n    springdoc.swagger-ui.disable-swagger-default-url=true\r\n\r\nConfig bean\r\n\r\n    @Configuration\r\n    public class SwaggerConfig {\r\n        @Bean\r\n        public OpenAPI springShopOpenAPI() {\r\n            return new OpenAPI()\r\n                    .info(new Info().title(&quot;service-API&quot;)\r\n                            .description(&quot;service API for UI&quot;)\r\n                            .version(&quot;Version 1&quot;))\r\n                    .externalDocs(new ExternalDocumentation()\r\n                            .description(&quot;SpringShop Wiki Documentation&quot;)\r\n                            .url(&quot;https://springshop.wiki.github.org/docs&quot;));\r\n        }\r\n    }\r\n\r\nI have tried all the solutions on the internet such as setting appropriate config-url, Having @RestController, and @RequestMapping with method explicitly defined.\r\n\r\nBut I only see No API definition provided despite all the efforts.\r\n[![No API definition provided][2]][2]\r\n\r\n\r\n  [1]: https://springdoc.org/#migrating-from-springfox\r\n  [2]: https://i.stack.imgur.com/sMj2W.png","title":"Springdoc 2.1.0 &quot;No API definition provided.&quot; Not scanning endpoints","body":"<p>I am on Spring boot <code>3.1.0</code> and Spring doc <code>2.1.0</code>.</p>\n<p>Previously I was using springfox and I was forced to migrate to springdoc since springfox didn't support springboot 3.</p>\n<p>I followed migration guide <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"nofollow noreferrer\">this migration guide</a> and here's how my setup looks like.</p>\n<p>pom.xml</p>\n<pre><code>    &lt;!--Swagger dependency--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Controller</p>\n<pre><code>@RestController\n@Slf4j\npublic class HelloController {\n    @RequestMapping(method = RequestMethod.GET, value = &quot;hi&quot;)\n    public String hi(HttpServletRequest httpRequest) {\n        return &quot;hi&quot;;\n    }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>#Swagger properties\n\nserver.contextPath=/ctx-path\nspringdoc.packagesToScan=abc.def.ghi\nspringdoc.paths-to-match=/hi,hi,/ctx-path/hi\nspringdoc.api-docs.path=/api-docs\nspringdoc.swagger-ui.config-url=/ctx-path/api-docs/swagger-config\nspringdoc.swagger-ui.disable-swagger-default-url=true\n</code></pre>\n<p>Config bean</p>\n<pre><code>@Configuration\npublic class SwaggerConfig {\n    @Bean\n    public OpenAPI springShopOpenAPI() {\n        return new OpenAPI()\n                .info(new Info().title(&quot;service-API&quot;)\n                        .description(&quot;service API for UI&quot;)\n                        .version(&quot;Version 1&quot;))\n                .externalDocs(new ExternalDocumentation()\n                        .description(&quot;SpringShop Wiki Documentation&quot;)\n                        .url(&quot;https://springshop.wiki.github.org/docs&quot;));\n    }\n}\n</code></pre>\n<p>I have tried all the solutions on the internet such as setting appropriate config-url, Having @RestController, and @RequestMapping with method explicitly defined.</p>\n<p>But I only see No API definition provided despite all the efforts.\n<a href=\"https://i.stack.imgur.com/sMj2W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sMj2W.png\" alt=\"No API definition provided\" /></a></p>\n"},{"tags":["java","spring","multithreading","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685604582,"creation_date":1685604582,"answer_id":76379586,"question_id":76379022,"body_markdown":"You can use `CompletableFuture` for that.\r\n\r\n    CompletableFuture.supplyAsync(() -&gt; {\r\n        // Some time consuming computation\r\n        return &quot;Result&quot;;\r\n    }).thenAccept(result -&gt; {\r\n        // This will be executed when the computation is done.\r\n        System.out.println(result);\r\n    });\r\n\r\n\r\n`supplyAsync` starts a task in a separate thread that does some computation and returns a result. \r\n`thenAccept` is a callback that is called when the computation is finished, with the result of the computation as a parameter.\r\n\r\nYou can combine `@Async` with `CompletableFuture`:\r\n\r\n    @Async\r\n    public CompletableFuture&lt;String&gt; asyncMethod() {\r\n        // Some time consuming task\r\n        return CompletableFuture.completedFuture(&quot;Result&quot;);\r\n    }\r\n    \r\n    public void callerMethod() {\r\n        asyncMethod().thenAccept(result -&gt; {\r\n            // This will be executed when asyncMethod is done.\r\n            System.out.println(result);\r\n        });\r\n    }\r\nWhen you call `callerMethod()`, it will call `asyncMethod()`, which will be executed in a separate thread. The `thenAccept` callback will be called when `asyncMethod()` is finished, with the result of `asyncMethod()` as a parameter.\r\n\r\nIn your case, you can use a `CompletableFuture` that wraps the execution of your tasks and retrieves the value of the error counter when all tasks have finished. This can be achieved by using the `thenApply` or `thenAccept` methods of the `CompletableFuture`.\r\n\r\n","title":"Check variable and update database after threads are finished","body":"<p>You can use <code>CompletableFuture</code> for that.</p>\n<pre><code>CompletableFuture.supplyAsync(() -&gt; {\n    // Some time consuming computation\n    return &quot;Result&quot;;\n}).thenAccept(result -&gt; {\n    // This will be executed when the computation is done.\n    System.out.println(result);\n});\n</code></pre>\n<p><code>supplyAsync</code> starts a task in a separate thread that does some computation and returns a result.\n<code>thenAccept</code> is a callback that is called when the computation is finished, with the result of the computation as a parameter.</p>\n<p>You can combine <code>@Async</code> with <code>CompletableFuture</code>:</p>\n<pre><code>@Async\npublic CompletableFuture&lt;String&gt; asyncMethod() {\n    // Some time consuming task\n    return CompletableFuture.completedFuture(&quot;Result&quot;);\n}\n\npublic void callerMethod() {\n    asyncMethod().thenAccept(result -&gt; {\n        // This will be executed when asyncMethod is done.\n        System.out.println(result);\n    });\n}\n</code></pre>\n<p>When you call <code>callerMethod()</code>, it will call <code>asyncMethod()</code>, which will be executed in a separate thread. The <code>thenAccept</code> callback will be called when <code>asyncMethod()</code> is finished, with the result of <code>asyncMethod()</code> as a parameter.</p>\n<p>In your case, you can use a <code>CompletableFuture</code> that wraps the execution of your tasks and retrieves the value of the error counter when all tasks have finished. This can be achieved by using the <code>thenApply</code> or <code>thenAccept</code> methods of the <code>CompletableFuture</code>.</p>\n"}],"owner":{"account_id":16618126,"reputation":1,"user_id":12009213,"display_name":"Franm94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685604582,"creation_date":1685598877,"question_id":76379022,"body_markdown":"this is my first question in stackoverflow.\r\n\r\nI have something like this:\r\n\r\n```\r\n@Async(&quot;myExecutor&quot;)\r\nvoid updateUsers() {\r\n        AtomicInteger errorCounter = new AtomicInteger(0);\r\n        Pageable pageRequest = Pageable.ofSize(100);\r\n        Page&lt;User&gt; page = new PageImpl&lt;&gt;(Collections.emptyList());\r\n        do {\r\n            try {\r\n                page = userRepository.findAll(pageRequest);\r\n                page.forEach(this::update);\r\n                pageRequest = pageRequest.next();\r\n            } catch (MyCustomException e) {\r\n                String errorMessage = &quot;Error updating user. &quot; + e.getMessage();\r\n                log.error(errorMessage);\r\n                errorCounter.incrementAndGet();\r\n            }\r\n        } while (!page.isLast());\r\n}\r\n```\r\n\r\n```\r\n@Bean\r\npublic TaskExecutor myExecutor() {\r\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    executor.setCorePoolSize(4);\r\n    executor.setMaxPoolSize(4);\r\n    executor.setQueueCapacity(25);\r\n\r\n    return executor;\r\n}\r\n```\r\n\r\nI need to know the value of my &#39;errorCounter&#39; to update my db or not when the process is finished, so is a must do something when all threads are finished and the counter value. I found something about CountDownLatch or implement ExecutorService without @Async(&quot;myExecutor&quot;), just instance at the class the ExecutorService and use awaitTermination.\r\n\r\nIs my first time working with Threads so I dont have a lot of experience with that.\r\n\r\nThanks and sorry for my English (=","title":"Check variable and update database after threads are finished","body":"<p>this is my first question in stackoverflow.</p>\n<p>I have something like this:</p>\n<pre><code>@Async(&quot;myExecutor&quot;)\nvoid updateUsers() {\n        AtomicInteger errorCounter = new AtomicInteger(0);\n        Pageable pageRequest = Pageable.ofSize(100);\n        Page&lt;User&gt; page = new PageImpl&lt;&gt;(Collections.emptyList());\n        do {\n            try {\n                page = userRepository.findAll(pageRequest);\n                page.forEach(this::update);\n                pageRequest = pageRequest.next();\n            } catch (MyCustomException e) {\n                String errorMessage = &quot;Error updating user. &quot; + e.getMessage();\n                log.error(errorMessage);\n                errorCounter.incrementAndGet();\n            }\n        } while (!page.isLast());\n}\n</code></pre>\n<pre><code>@Bean\npublic TaskExecutor myExecutor() {\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setCorePoolSize(4);\n    executor.setMaxPoolSize(4);\n    executor.setQueueCapacity(25);\n\n    return executor;\n}\n</code></pre>\n<p>I need to know the value of my 'errorCounter' to update my db or not when the process is finished, so is a must do something when all threads are finished and the counter value. I found something about CountDownLatch or implement ExecutorService without @Async(&quot;myExecutor&quot;), just instance at the class the ExecutorService and use awaitTermination.</p>\n<p>Is my first time working with Threads so I dont have a lot of experience with that.</p>\n<p>Thanks and sorry for my English (=</p>\n"},{"tags":["java","spring","spring-boot","dto","lombok"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1534156008,"post_id":51820133,"comment_id":90594153,"body_markdown":"which @Data are you talking about? is it from Lombok?","body":"which @Data are you talking about? is it from Lombok?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":3,"creation_date":1534157176,"post_id":51820133,"comment_id":90594805,"body_markdown":"A setter should update the content of a field. You have to decide if you want instances of that class to be immutable or not. It doesn&#39;t matter *how* setters are coming into your class, the only question: should there be setters? And that is a requirement that only *you* can decide how to go about it.","body":"A setter should update the content of a field. You have to decide if you want instances of that class to be immutable or not. It doesn&#39;t matter <i>how</i> setters are coming into your class, the only question: should there be setters? And that is a requirement that only <i>you</i> can decide how to go about it."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534157285,"creation_date":1534156726,"answer_id":51820408,"question_id":51820133,"body_markdown":"The annotation [`@Data`][1] comes from the Project Lombok which is designed to use reflection via annotations mostly. This annotation assures generation of all the setters, getters, a constructor with all the required arguments and overridden `Object::toString`, `Object::equals` and `Object::hashCode` methods. \r\n\r\nBriefly said, this annotation &quot;completes&quot; a simple POJO object and generates all the boilerplate without a need to use IDE.\r\n\r\nThey named the annotation `@Data` because they support the idea of the understanding objects as data containers only.\r\n\r\n__________________\r\n\r\nAs far as I understand, the generation happens only for the missing getters/setters (let&#39;s speak about them for brevity). The generated getters/setters are in their pure form as you know:\r\n\r\n    public int getId() { return this.id; }\r\n\r\n    public void setId(int id) { this.id = id; }\r\n\r\nYou can use more verbose setter/getter performing validation or anything similar which override the generated ones. You can both use `@Data` annotation and write your ones manually.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Data\r\n  [2]: https://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html#entity-hibspec-entity","title":"Using Data annotation on Java DTO class","body":"<p>The annotation <a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\"><code>@Data</code></a> comes from the Project Lombok which is designed to use reflection via annotations mostly. This annotation assures generation of all the setters, getters, a constructor with all the required arguments and overridden <code>Object::toString</code>, <code>Object::equals</code> and <code>Object::hashCode</code> methods. </p>\n\n<p>Briefly said, this annotation \"completes\" a simple POJO object and generates all the boilerplate without a need to use IDE.</p>\n\n<p>They named the annotation <code>@Data</code> because they support the idea of the understanding objects as data containers only.</p>\n\n<hr>\n\n<p>As far as I understand, the generation happens only for the missing getters/setters (let's speak about them for brevity). The generated getters/setters are in their pure form as you know:</p>\n\n<pre><code>public int getId() { return this.id; }\n\npublic void setId(int id) { this.id = id; }\n</code></pre>\n\n<p>You can use more verbose setter/getter performing validation or anything similar which override the generated ones. You can both use <code>@Data</code> annotation and write your ones manually.</p>\n"},{"tags":[],"owner":{"account_id":14143775,"reputation":76,"user_id":10217651,"display_name":"finqq"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534157526,"creation_date":1534157526,"answer_id":51820653,"question_id":51820133,"body_markdown":"DTO is used to transmit data information, some information is actually we do not want users to be able to change or access, such as the user password, we do not want to pass to the front end when the user can see the encrypted password, or we do not want users to modify the password while changing their information, and what works in this serialization process is setter and getter, and data annotations that automatically generate getters and setters for all fields.\r\n\r\nFor example\r\n\r\n    @Data\r\n    class User{\r\n    \r\n    private String userName;\r\n\r\n    private String pwd;\r\n    }\r\nThis class, will have all setter and getter. When you trans to web, you will see\r\n\r\n    {userName: &quot;123&quot;, pwd: &quot;xxx&quot;}\r\n\r\n\r\nThis is terrible.\r\nBut if you use DTO\r\n\r\n       \r\n    class User{\r\n    \r\n    private String userName;\r\n\r\n    private String pwd;\r\n\r\n    public String getUserName(){\r\n        return userName;\r\n    }\r\n    }\r\n\r\nThey only see\r\n\r\n    {userName: &quot;123&quot;}","title":"Using Data annotation on Java DTO class","body":"<p>DTO is used to transmit data information, some information is actually we do not want users to be able to change or access, such as the user password, we do not want to pass to the front end when the user can see the encrypted password, or we do not want users to modify the password while changing their information, and what works in this serialization process is setter and getter, and data annotations that automatically generate getters and setters for all fields.</p>\n\n<p>For example</p>\n\n<pre><code>@Data\nclass User{\n\nprivate String userName;\n\nprivate String pwd;\n}\n</code></pre>\n\n<p>This class, will have all setter and getter. When you trans to web, you will see</p>\n\n<pre><code>{userName: \"123\", pwd: \"xxx\"}\n</code></pre>\n\n<p>This is terrible.\nBut if you use DTO</p>\n\n<pre><code>class User{\n\nprivate String userName;\n\nprivate String pwd;\n\npublic String getUserName(){\n    return userName;\n}\n}\n</code></pre>\n\n<p>They only see</p>\n\n<pre><code>{userName: \"123\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":910393,"reputation":1619,"user_id":1384748,"display_name":"Breand&#225;n Dalton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622722209,"creation_date":1562769405,"answer_id":56973071,"question_id":51820133,"body_markdown":"By default the `@Data` lombok annotation will generate setters and getters for all fields in the class. \r\n\r\nIf you want an immutable data transfer object, annotate it as `@Value` instead.\r\n\r\nIf you want a mixure of some immmutable values and some mutable values in your `MyClass` type, for instance you might want the id field to be immutable and the rest mutable, you would use the `@Setter` annotation on the field you want to be immutable, specifying an `AccessLevel` of `NONE`. For instance:\r\n\r\n```java\r\n@Data\r\npublic class MyClass {\r\n   @Setter(AccessLevel.NONE)\r\n   private Long id;\r\n   private String name;\r\n}\r\n```\r\n\r\nThis will generate a getter but no setter for the id, and a getter and setter for the name.\r\n","title":"Using Data annotation on Java DTO class","body":"<p>By default the <code>@Data</code> lombok annotation will generate setters and getters for all fields in the class.</p>\n<p>If you want an immutable data transfer object, annotate it as <code>@Value</code> instead.</p>\n<p>If you want a mixure of some immmutable values and some mutable values in your <code>MyClass</code> type, for instance you might want the id field to be immutable and the rest mutable, you would use the <code>@Setter</code> annotation on the field you want to be immutable, specifying an <code>AccessLevel</code> of <code>NONE</code>. For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class MyClass {\n   @Setter(AccessLevel.NONE)\n   private Long id;\n   private String name;\n}\n</code></pre>\n<p>This will generate a getter but no setter for the id, and a getter and setter for the name.</p>\n"},{"tags":[],"owner":{"account_id":8609684,"reputation":996,"user_id":6448518,"display_name":"rougou"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1591973838,"creation_date":1591973838,"answer_id":62346884,"question_id":51820133,"body_markdown":"I would avoid @Data for DTOs since it has too many pitfalls. First of all as you mentioned it is mutable which you don&#39;t really want for a DTO. And despite it being mutable, it implements equals() and hashCode() which is only asking for trouble.\r\n\r\nYou can use @Value for an immutable DTO. For an incoming DTO you may need to add `lombok.anyConstructor.addConstructorProperties` to your lombok.config, which will allow libraries like jackson to deserialize to your POJO without a default constructor.","title":"Using Data annotation on Java DTO class","body":"<p>I would avoid @Data for DTOs since it has too many pitfalls. First of all as you mentioned it is mutable which you don't really want for a DTO. And despite it being mutable, it implements equals() and hashCode() which is only asking for trouble.</p>\n\n<p>You can use @Value for an immutable DTO. For an incoming DTO you may need to add <code>lombok.anyConstructor.addConstructorProperties</code> to your lombok.config, which will allow libraries like jackson to deserialize to your POJO without a default constructor.</p>\n"},{"tags":[],"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685604383,"creation_date":1685604383,"answer_id":76379567,"question_id":51820133,"body_markdown":"Since **Java 14** you can use a `record` for your DTOs:\r\n\r\n```java\r\npublic record MyClass(Long id, String name) {}\r\n```","title":"Using Data annotation on Java DTO class","body":"<p>Since <strong>Java 14</strong> you can use a <code>record</code> for your DTOs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record MyClass(Long id, String name) {}\n</code></pre>\n"}],"owner":{"account_id":4253983,"reputation":177,"user_id":3480126,"accept_rate":33,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21206,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1685604383,"creation_date":1534155799,"question_id":51820133,"body_markdown":"I have confusion in using Data annotation to DTO class. Here is my sample class.\r\n\r\n    @Data\r\n    public class MyClass {\r\n       private Long id;\r\n       private String name;\r\n    }\r\n\r\nI&#39;ve read online that using Data annotation specifically on DTO class will allow the values of the fields to be changed by use of the generated setters.\r\n\r\nShould I remove the lombok Data annotation? And implement the getters and setters manually.\r\n\r\nThanks :) ","title":"Using Data annotation on Java DTO class","body":"<p>I have confusion in using Data annotation to DTO class. Here is my sample class.</p>\n\n<pre><code>@Data\npublic class MyClass {\n   private Long id;\n   private String name;\n}\n</code></pre>\n\n<p>I've read online that using Data annotation specifically on DTO class will allow the values of the fields to be changed by use of the generated setters.</p>\n\n<p>Should I remove the lombok Data annotation? And implement the getters and setters manually.</p>\n\n<p>Thanks :) </p>\n"},{"tags":["java","compiler-optimization"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1685604386,"post_id":76379510,"comment_id":134683949,"body_markdown":"*&quot;I don&#39;t know their dependency relationship, so I won&#39;t upgrade library B&quot;* - so, why does it matter if B uses an old value of A? Does any part of your code rely on some part of A for input to B which in turn depends on B&#39;s &quot;knowledge&quot; of A? In practice, if libraries depend on each other you *do* need to be aware of it and handle it properly.","body":"<i>&quot;I don&#39;t know their dependency relationship, so I won&#39;t upgrade library B&quot;</i> - so, why does it matter if B uses an old value of A? Does any part of your code rely on some part of A for input to B which in turn depends on B&#39;s &quot;knowledge&quot; of A? In practice, if libraries depend on each other you <i>do</i> need to be aware of it and handle it properly."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1685607824,"post_id":76379510,"comment_id":134684617,"body_markdown":"It is best not to export compile-time constants as part of an API if you assume that these values could change. Do not rely on a library that exports compile-time constants as part of their API with changing values.","body":"It is best not to export compile-time constants as part of an API if you assume that these values could change. Do not rely on a library that exports compile-time constants as part of their API with changing values."},{"owner":{"account_id":7259563,"reputation":31,"user_id":5604750,"display_name":"lwenkun"},"score":0,"creation_date":1685683949,"post_id":76379510,"comment_id":134697996,"body_markdown":"@luk2302 If my code calls `B#b()` eigher directly or through a deep call path, `B#b()` will print the old value, which is unexpected. In pratice, it&#39;s usually hard to know dependency relationship among libraries. In a gradle project, for example, some libraries may be included into proejct due to transive dependency.","body":"@luk2302 If my code calls <code>B#b()</code> eigher directly or through a deep call path, <code>B#b()</code> will print the old value, which is unexpected. In pratice, it&#39;s usually hard to know dependency relationship among libraries. In a gradle project, for example, some libraries may be included into proejct due to transive dependency."}],"owner":{"account_id":7259563,"reputation":31,"user_id":5604750,"display_name":"lwenkun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685604348,"creation_date":1685603836,"question_id":76379510,"body_markdown":"Here is an example:\r\n\r\nThis is a class in my project:\r\n```\r\nclass MyProject {\r\n   public static void main(String[] args) {\r\n       System.out.println(A.COMPILE_TIME_CONSTANTS);\r\n   }\r\n}\r\n```\r\n\r\nThis is a class in library A：\r\n```\r\nclass Library A {\r\n    public static final String COMPILE_TIME_CONSTANTS = &quot;compile_time_constants_version_0&quot;;\r\n}\r\n```\r\n\r\nThis is a class in library B：\r\n```\r\nclass Library B {\r\n    void b() {\r\n        System.out.println(A.COMPILE_TIME_CONSTANTS);\r\n    }\r\n}\r\n```\r\n\r\nMy project references the compile-time constant `COMPILE_TIME_CONSTANTS` from library A. Because of  the inline optimization, after compilation, `COMPILE_TIME_CONSTANTS` in my project will be replaced with the string `&quot;compile_time_constants_version_0&quot;`. When library A is upgraded, regardless of whether the constant value has changed or not, I just need to recompile the project code to avoid inconsistencies caused by inlining of compile-time constants. \r\n\r\nEverything is ok up to now. Problem comes when another library B in my project also references `COMPILE_TIME_CONSTANTS` from library A (I don&#39;t know their dependency relationship, so I won&#39;t upgrade library B), and the value of `COMPILE_TIME_CONSTANTS` in library A changes from `&quot;compile_time_constants_version_0&quot;` to `&quot;compile_time_constants_version_1&quot;`. Because library is pre-compiled, even if I recompile the project, library B still uses the old value `&quot;compile_time_constants_version_0&quot;`. \r\n\r\nMy question: \r\n\r\n1. It should be the responsibility of the project developers or the library developers to avoid this issue?\r\n2. And How?","title":"How to handle changes in compile-time constants in Java libraries for consistent results?","body":"<p>Here is an example:</p>\n<p>This is a class in my project:</p>\n<pre><code>class MyProject {\n   public static void main(String[] args) {\n       System.out.println(A.COMPILE_TIME_CONSTANTS);\n   }\n}\n</code></pre>\n<p>This is a class in library A：</p>\n<pre><code>class Library A {\n    public static final String COMPILE_TIME_CONSTANTS = &quot;compile_time_constants_version_0&quot;;\n}\n</code></pre>\n<p>This is a class in library B：</p>\n<pre><code>class Library B {\n    void b() {\n        System.out.println(A.COMPILE_TIME_CONSTANTS);\n    }\n}\n</code></pre>\n<p>My project references the compile-time constant <code>COMPILE_TIME_CONSTANTS</code> from library A. Because of  the inline optimization, after compilation, <code>COMPILE_TIME_CONSTANTS</code> in my project will be replaced with the string <code>&quot;compile_time_constants_version_0&quot;</code>. When library A is upgraded, regardless of whether the constant value has changed or not, I just need to recompile the project code to avoid inconsistencies caused by inlining of compile-time constants.</p>\n<p>Everything is ok up to now. Problem comes when another library B in my project also references <code>COMPILE_TIME_CONSTANTS</code> from library A (I don't know their dependency relationship, so I won't upgrade library B), and the value of <code>COMPILE_TIME_CONSTANTS</code> in library A changes from <code>&quot;compile_time_constants_version_0&quot;</code> to <code>&quot;compile_time_constants_version_1&quot;</code>. Because library is pre-compiled, even if I recompile the project, library B still uses the old value <code>&quot;compile_time_constants_version_0&quot;</code>.</p>\n<p>My question:</p>\n<ol>\n<li>It should be the responsibility of the project developers or the library developers to avoid this issue?</li>\n<li>And How?</li>\n</ol>\n"},{"tags":["java","android-studio","permissions","storage","android-sdk-manager"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1685604432,"post_id":76379473,"comment_id":134683956,"body_markdown":"What type of Application you&#39;re creating?","body":"What type of Application you&#39;re creating?"},{"owner":{"account_id":21329266,"reputation":1,"user_id":15701261,"display_name":"Piyush Apkaje"},"score":0,"creation_date":1685696995,"post_id":76379473,"comment_id":134700284,"body_markdown":"currently creating an application which can access pdf files and images from storage for uploading.","body":"currently creating an application which can access pdf files and images from storage for uploading."}],"owner":{"account_id":21329266,"reputation":1,"user_id":15701261,"display_name":"Piyush Apkaje"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685603508,"creation_date":1685603508,"question_id":76379473,"body_markdown":"I&#39;m facing a problem due to permission is not getting asked in android sdk version 33 but if you lower its version then it runs smoothly. Please help..\r\nsnippet of the code i&#39;ve used i&#39;m providing right below.\r\n for asking permission\r\n\r\n```\r\nString[] PERMISSIONS = {\r\n            android.Manifest.permission.RECORD_AUDIO,\r\n            android.Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n            android.Manifest.permission.READ_EXTERNAL_STORAGE,\r\n            android.Manifest.permission.CAMERA\r\n    };\r\n if (!hasPermissions(this, PERMISSIONS)) {\r\n            ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_ALL);\r\n        }\r\n```\r\n\r\n\r\nI have tried this code\r\n```\r\nString[] PERMISSIONS = {\r\n            android.Manifest.permission.RECORD_AUDIO,\r\n            android.Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n            android.Manifest.permission.READ_EXTERNAL_STORAGE,\r\n            android.Manifest.permission.CAMERA\r\n    };\r\n if (!hasPermissions(this, PERMISSIONS)) {\r\n            ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_ALL);\r\n        }\r\n```\r\nand expepcting to get permission of storage for sdk 33","title":"how to give file permission for android 13 in android studio using java for targetSdk 33?","body":"<p>I'm facing a problem due to permission is not getting asked in android sdk version 33 but if you lower its version then it runs smoothly. Please help..\nsnippet of the code i've used i'm providing right below.\nfor asking permission</p>\n<pre><code>String[] PERMISSIONS = {\n            android.Manifest.permission.RECORD_AUDIO,\n            android.Manifest.permission.WRITE_EXTERNAL_STORAGE,\n            android.Manifest.permission.READ_EXTERNAL_STORAGE,\n            android.Manifest.permission.CAMERA\n    };\n if (!hasPermissions(this, PERMISSIONS)) {\n            ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_ALL);\n        }\n</code></pre>\n<p>I have tried this code</p>\n<pre><code>String[] PERMISSIONS = {\n            android.Manifest.permission.RECORD_AUDIO,\n            android.Manifest.permission.WRITE_EXTERNAL_STORAGE,\n            android.Manifest.permission.READ_EXTERNAL_STORAGE,\n            android.Manifest.permission.CAMERA\n    };\n if (!hasPermissions(this, PERMISSIONS)) {\n            ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_ALL);\n        }\n</code></pre>\n<p>and expepcting to get permission of storage for sdk 33</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685607429,"post_id":76379458,"comment_id":134684536,"body_markdown":"Why are you using initial uri if you dont use it? Which effect does it have?","body":"Why are you using initial uri if you dont use it? Which effect does it have?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685607486,"post_id":76379458,"comment_id":134684547,"body_markdown":"`Action_open_Document_tree` Please write it down as it should be written.","body":"<code>Action_open_Document_tree</code> Please write it down as it should be written."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685607615,"post_id":76379458,"comment_id":134684572,"body_markdown":"`If I click again that button Action_open_Document_tree should not work.` Oh... Well simply disable the button. Or make it invisible.","body":"<code>If I click again that button Action_open_Document_tree should not work.</code> Oh... Well simply disable the button. Or make it invisible."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685607808,"post_id":76379458,"comment_id":134684612,"body_markdown":"Only disable button in onActivityResult when not cancelled.","body":"Only disable button in onActivityResult when not cancelled."},{"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"score":0,"creation_date":1685608373,"post_id":76379458,"comment_id":134684730,"body_markdown":"Only the original thread that created a view hierarchy can touch its views. this my error while using Action_open_Document_tree","body":"Only the original thread that created a view hierarchy can touch its views. this my error while using Action_open_Document_tree"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685608458,"post_id":76379458,"comment_id":134684750,"body_markdown":"You did not read my second comment? And post the errors in your post. Not afterwards in a comment. Your post is about something different. Dont confuse us.","body":"You did not read my second comment? And post the errors in your post. Not afterwards in a comment. Your post is about something different. Dont confuse us."}],"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685603492,"creation_date":1685603392,"question_id":76379458,"body_markdown":"**Problem**:I am currently working in Android Project in that I Declared Action_open_Document_tree in button.set on click listener but whenever I click button the Action_open_Document_tree run again and again. \r\n\r\n\r\n\r\n I tried Like this:\r\n```\r\nbutton.setOnClickListener(v -&gt; { Intent intent = new      Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n         intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, (Parcelable[]) null);\r\n         startActivityForResult(intent, 2);\r\n```\r\nExpectation : My expectation is when I click the button Action_open_Document_tree ask one time only ,If I click again that button Action_open_Document_tree should not work.","title":"How can I prevent multiple runs of Action_open_Document_tree when button is clicked?","body":"<p><strong>Problem</strong>:I am currently working in Android Project in that I Declared Action_open_Document_tree in button.set on click listener but whenever I click button the Action_open_Document_tree run again and again.</p>\n<p>I tried Like this:</p>\n<pre><code>button.setOnClickListener(v -&gt; { Intent intent = new      Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n         intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, (Parcelable[]) null);\n         startActivityForResult(intent, 2);\n</code></pre>\n<p>Expectation : My expectation is when I click the button Action_open_Document_tree ask one time only ,If I click again that button Action_open_Document_tree should not work.</p>\n"},{"tags":["java","security","jenkins","logging","audit-trail"],"answers":[{"tags":[],"owner":{"account_id":13685089,"reputation":203,"user_id":9874376,"display_name":"subhadeep dutta gupta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1600583747,"creation_date":1600583747,"answer_id":63976201,"question_id":63971580,"body_markdown":"When you are talking about seeings logs in webportal, are you talking about console output? In that case there are some options.\r\n\r\nFor jenkins build logs,By default logs should be made available in /var/log/jenkins/jenkins.log , unless customized in /etc/default/jenkins (for *.deb) or via /etc/sysconfig/jenkins (for */rpm).\r\n\r\nAnother option is to download them in your linux server using curl or wget command.\r\n\r\ncurl  http://jenkinsUrl/job/&lt;Build_Name&gt;/&lt;Build_Number&gt;/consoleText -OutFile &lt;FilePathToLocalDisk&gt;\r\n\r\nanother common location:\r\n${JENKINS_HOME}/jobs/${JOB_NAME}/builds/${BUILD_NUMBER}/log\r\n\r\nYou can use plugins also to capture jenkins console logs and store them in any location in server as per your choice. Plugins are available for that.\r\n\r\nThanks,\r\nSubhadeep","title":"How to redirect jenkins.security.SecurityListener logs to a log file on a linux host","body":"<p>When you are talking about seeings logs in webportal, are you talking about console output? In that case there are some options.</p>\n<p>For jenkins build logs,By default logs should be made available in /var/log/jenkins/jenkins.log , unless customized in /etc/default/jenkins (for *.deb) or via /etc/sysconfig/jenkins (for */rpm).</p>\n<p>Another option is to download them in your linux server using curl or wget command.</p>\n<p>curl  http://jenkinsUrl/job/&lt;Build_Name&gt;/&lt;Build_Number&gt;/consoleText -OutFile </p>\n<p>another common location:\n${JENKINS_HOME}/jobs/${JOB_NAME}/builds/${BUILD_NUMBER}/log</p>\n<p>You can use plugins also to capture jenkins console logs and store them in any location in server as per your choice. Plugins are available for that.</p>\n<p>Thanks,\nSubhadeep</p>\n"},{"tags":[],"owner":{"account_id":28725327,"reputation":26,"user_id":21998238,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685603054,"creation_date":1685601943,"answer_id":76379305,"question_id":63971580,"body_markdown":"I had the same issue -- wanted to redirect `jenkins.security.SecurityListener` output to a file.\r\n\r\nIn my implementation I have Jenkins running on AWS as an ECS Fargate task.  The `/var/jenkins_home` directory is mounted to an EFS filesystem.  I also have a CloudWatch agent running alongside Jenkins mounting the same EFS access point.  Any logs written to EFS can therefore be polled/monitored and transferred to CloudWatch.\r\n\r\nThe best solution I found involved installing the &#39;Support Core&#39; plugin -- it automatically redirects all logs (including custom configurations in `System Log -&gt; Log Recorders`) into `/var/jenkins_home/logs` as well as a host of additional features.\r\n\r\nCaveat: the container logs (visible via `docker logs &lt;container_id&gt;`) are not written to a file by this plugin, to capture/view these outside the Jenkins UI, one of several AWS Log Drivers needs to be applied to your ECS task. \r\n\r\n[Here](https://www.jenkins.io/doc/book/system-administration/viewing-logs/#debug-logging-in-jenkins) is the page where I found the answer.","title":"How to redirect jenkins.security.SecurityListener logs to a log file on a linux host","body":"<p>I had the same issue -- wanted to redirect <code>jenkins.security.SecurityListener</code> output to a file.</p>\n<p>In my implementation I have Jenkins running on AWS as an ECS Fargate task.  The <code>/var/jenkins_home</code> directory is mounted to an EFS filesystem.  I also have a CloudWatch agent running alongside Jenkins mounting the same EFS access point.  Any logs written to EFS can therefore be polled/monitored and transferred to CloudWatch.</p>\n<p>The best solution I found involved installing the 'Support Core' plugin -- it automatically redirects all logs (including custom configurations in <code>System Log -&gt; Log Recorders</code>) into <code>/var/jenkins_home/logs</code> as well as a host of additional features.</p>\n<p>Caveat: the container logs (visible via <code>docker logs &lt;container_id&gt;</code>) are not written to a file by this plugin, to capture/view these outside the Jenkins UI, one of several AWS Log Drivers needs to be applied to your ECS task.</p>\n<p><a href=\"https://www.jenkins.io/doc/book/system-administration/viewing-logs/#debug-logging-in-jenkins\" rel=\"nofollow noreferrer\">Here</a> is the page where I found the answer.</p>\n"}],"owner":{"account_id":2209423,"reputation":471,"user_id":1951756,"accept_rate":75,"display_name":"user1951756"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76379305,"answer_count":2,"score":2,"last_activity_date":1685603054,"creation_date":1600536771,"question_id":63971580,"body_markdown":"I have setup a logger on my jenkins server for jenkins.security.SecurityListener logs. I can view the logs in the webportal but I cannot find where the are stored on the server. I want to be able access these logs on the server.","title":"How to redirect jenkins.security.SecurityListener logs to a log file on a linux host","body":"<p>I have setup a logger on my jenkins server for jenkins.security.SecurityListener logs. I can view the logs in the webportal but I cannot find where the are stored on the server. I want to be able access these logs on the server.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","hql"],"comments":[{"owner":{"account_id":53471,"reputation":5683,"user_id":159837,"accept_rate":75,"display_name":"Fırat K&#252;&#231;&#252;k"},"score":6,"creation_date":1560234771,"post_id":44022076,"comment_id":99657501,"body_markdown":"My problem was a `delete method` with `List` return type. :)","body":"My problem was a <code>delete method</code> with <code>List</code> return type. :)"},{"owner":{"account_id":1722023,"reputation":2771,"user_id":1706188,"display_name":"user18853"},"score":3,"creation_date":1590135491,"post_id":44022076,"comment_id":109570671,"body_markdown":"I had 2 problems: 1. Method was returning non-void. 2. I didn&#39;t add @Modifying","body":"I had 2 problems: 1. Method was returning non-void. 2. I didn&#39;t add @Modifying"},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1593136343,"post_id":44022076,"comment_id":110681288,"body_markdown":"Note: return type can be Integer/int, not only void","body":"Note: return type can be Integer/int, not only void"},{"owner":{"account_id":3945609,"reputation":81,"user_id":3258381,"accept_rate":50,"display_name":"Sameed Tariq"},"score":0,"creation_date":1616313311,"post_id":44022076,"comment_id":117958407,"body_markdown":"@standalone what value should we expect in the Integer return type.","body":"@standalone what value should we expect in the Integer return type."},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1616325727,"post_id":44022076,"comment_id":117961304,"body_markdown":"@SameedTariq the number of affected rows(like in SQL delete/update queries)","body":"@SameedTariq the number of affected rows(like in SQL delete/update queries)"}],"answers":[{"tags":[],"owner":{"account_id":10147549,"reputation":6813,"user_id":7495230,"accept_rate":57,"display_name":"Afridi"},"down_vote_count":1,"up_vote_count":358,"is_accepted":true,"score":357,"last_activity_date":1648640607,"creation_date":1495016759,"answer_id":44022231,"question_id":44022076,"body_markdown":"Try this:\r\n\r\n    public interface LimitRepository extends JpaRepository&lt;CLimit, Long&gt; {\r\n      @Modifying\r\n      @Query(&quot;delete from CLimit l where l.trader.id =:#{#trader.id}&quot;)\r\n      void deleteLimitsByTrader(@Param(&quot;trader&quot;) CTrader trader);\r\n    }\r\n\r\nWhenever you are trying to modify a record in db, you have to mark it as `@Modifying`, which instruct Spring that it can modify existing records.  \r\n\r\nThe modifying queries can only use void or int/Integer as return type, otherwise it will throw an exception.","title":"JpaRepository Not supported for DML operations [delete query]","body":"<p>Try this:</p>\n<pre><code>public interface LimitRepository extends JpaRepository&lt;CLimit, Long&gt; {\n  @Modifying\n  @Query(&quot;delete from CLimit l where l.trader.id =:#{#trader.id}&quot;)\n  void deleteLimitsByTrader(@Param(&quot;trader&quot;) CTrader trader);\n}\n</code></pre>\n<p>Whenever you are trying to modify a record in db, you have to mark it as <code>@Modifying</code>, which instruct Spring that it can modify existing records.</p>\n<p>The modifying queries can only use void or int/Integer as return type, otherwise it will throw an exception.</p>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"down_vote_count":1,"up_vote_count":60,"is_accepted":false,"score":59,"last_activity_date":1509586329,"creation_date":1509586329,"answer_id":47066201,"question_id":44022076,"body_markdown":"I had the same issue and I tried @afridi&#39;s answer which is working fine but bad practice, as far as I understand. you should not use `@Transactional` annotation in the repository class but service(and implementation) classes. please find the below answer.\r\n\r\n \r\n\r\n&gt; LimitServiceImpl.java\r\n\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    ...\r\n    @Override\r\n    @Transactional\r\n    public void deleteLimitsByTrader(CTrader trader) {\r\n    // here im calling the LimitRepository interface. \r\n     getEntityRepository().deleteLimitsByTrader(trader);\r\n    }\r\n\r\n&gt; LimitRepository.java\r\n\r\n    import org.springframework.data.jpa.repository.Modifying;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    ...\r\n    public interface LimitRepository extends JpaRepository&lt;CLimit, Long&gt; {\r\n    \r\n      @Modifying\r\n      @Query(&quot;delete from CLimit l where l.trader.id =:#{#trader.id}&quot;)\r\n      void deleteLimitsByTrader(@Param(&quot;trader&quot;) CTrader trader);\r\n    \r\n    }\r\n\r\nmake sure to use the correct imports.","title":"JpaRepository Not supported for DML operations [delete query]","body":"<p>I had the same issue and I tried @afridi's answer which is working fine but bad practice, as far as I understand. you should not use <code>@Transactional</code> annotation in the repository class but service(and implementation) classes. please find the below answer.</p>\n\n<blockquote>\n  <p>LimitServiceImpl.java</p>\n</blockquote>\n\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n...\n@Override\n@Transactional\npublic void deleteLimitsByTrader(CTrader trader) {\n// here im calling the LimitRepository interface. \n getEntityRepository().deleteLimitsByTrader(trader);\n}\n</code></pre>\n\n<blockquote>\n  <p>LimitRepository.java</p>\n</blockquote>\n\n<pre><code>import org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\n...\npublic interface LimitRepository extends JpaRepository&lt;CLimit, Long&gt; {\n\n  @Modifying\n  @Query(\"delete from CLimit l where l.trader.id =:#{#trader.id}\")\n  void deleteLimitsByTrader(@Param(\"trader\") CTrader trader);\n\n}\n</code></pre>\n\n<p>make sure to use the correct imports.</p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1591912918,"creation_date":1591912918,"answer_id":62334297,"question_id":44022076,"body_markdown":"You forgot to add two `annotations` above of method . \r\n\r\n    @Transactional\r\n    @Modifying","title":"JpaRepository Not supported for DML operations [delete query]","body":"<p>You forgot to add two <code>annotations</code> above of method . </p>\n\n<pre><code>@Transactional\n@Modifying\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19126305,"reputation":31,"user_id":13969217,"display_name":"azeem hassan syed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1612243977,"creation_date":1605862330,"answer_id":64926408,"question_id":44022076,"body_markdown":"I solved the issue by using &lt;code&gt;EntityManager.createQuery(&quot;your deleteStatement&quot;).executeUpdate();&lt;/code&gt;","title":"JpaRepository Not supported for DML operations [delete query]","body":"<p>I solved the issue by using <code>EntityManager.createQuery(&quot;your deleteStatement&quot;).executeUpdate();</code></p>\n"},{"tags":[],"owner":{"account_id":21554197,"reputation":27,"user_id":15889775,"display_name":"Sajan Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657525142,"creation_date":1624698660,"answer_id":68140876,"question_id":44022076,"body_markdown":"Add `@Transactional(org.springframework.transaction.annotation.Transactional)`\r\nand `@Modifying(org.springframework.data.jpa.repository.Modifying)`\r\nwhich solved similar issue for me","title":"JpaRepository Not supported for DML operations [delete query]","body":"<p>Add <code>@Transactional(org.springframework.transaction.annotation.Transactional)</code>\nand <code>@Modifying(org.springframework.data.jpa.repository.Modifying)</code>\nwhich solved similar issue for me</p>\n"},{"tags":[],"owner":{"account_id":4482535,"reputation":464,"user_id":5161634,"accept_rate":0,"display_name":"Sriharsha g.r.v"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685603008,"creation_date":1685603008,"answer_id":76379414,"question_id":44022076,"body_markdown":"If you are using repositary,then most of the answers work.\r\nIf anyone is using entity manager\r\n\r\nthen use\r\n1.Transactional\r\n2.entitymanager.createQuery(&quot;your deleteStatement&quot;).executeUpdate();\r\n\r\n    @Transactional\r\n    public Integer somemethod() {\r\n    \r\n    entitymanager.createQuery(&quot;your deleteStatement&quot;).executeUpdate();\r\n    \r\n    }","title":"JpaRepository Not supported for DML operations [delete query]","body":"<p>If you are using repositary,then most of the answers work.\nIf anyone is using entity manager</p>\n<p>then use\n1.Transactional\n2.entitymanager.createQuery(&quot;your deleteStatement&quot;).executeUpdate();</p>\n<pre><code>@Transactional\npublic Integer somemethod() {\n\nentitymanager.createQuery(&quot;your deleteStatement&quot;).executeUpdate();\n\n}\n</code></pre>\n"}],"owner":{"account_id":10876683,"reputation":1673,"user_id":7996910,"display_name":"Student"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132544,"favorite_count":0,"down_vote_count":0,"up_vote_count":167,"accepted_answer_id":44022231,"answer_count":6,"score":167,"last_activity_date":1685603008,"creation_date":1495016363,"question_id":44022076,"body_markdown":"I have written a query to delete some objects in my interface extending `JPaRepository`, but when I execute the query it throws an exception! \r\nCan anyone explain it for me?\r\n\r\nQuery:\r\n\r\n    public interface LimitRepository extends JpaRepository&lt;CLimit, Long&gt; {\r\n  \r\n      @Query(&quot;delete from CLimit l where l.trader.id =:#{#trader.id}&quot;)\r\n      void deleteLimitsByTrader(@Param(&quot;trader&quot;) CTrader trader);\r\n\r\n    }\r\n\r\nI got this error, can anyne Please, explain this for me, and thank you all  :)\r\n\r\nException:\r\n\r\n      org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for DML operations [delete from com.query.domain.CLimit l where l.trader.id =:__$synthetic$__1]\r\n          at org.hibernate.hql.internal.ast.QueryTranslatorImpl.errorIfDML(QueryTranslatorImpl.java:318)\r\n          at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:369)\r\n          at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:236)\r\n          at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1300)\r\n          at org.hibernate.internal.QueryImpl.list(QueryImpl.java:103)\r\n          at org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:573)\r\n          at org.hibernate.jpa.internal.QueryImpl.getSingleResult(QueryImpl.java:495)\r\n          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n          at java.lang.reflect.Method.invoke(Method.java:498)\r\n          at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:364)\r\n          at com.sun.proxy.$Proxy98.getSingleResult(Unknown Source)\r\n          at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:206)\r\n          at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:78)\r\n          at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:102)\r\n          at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:92)\r\n          at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:482)\r\n          at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:460)\r\n          at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n          at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61)\r\n          at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n          at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n          at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n          at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n          at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n          at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n          at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n          at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133)\r\n          at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n          at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n          at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n          at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)\r\n          at com.sun.proxy.$Proxy88.deleteLimitsByTrader(Unknown Source)\r\n          at com.query.service.impl.LimitServiceImpl.deleteLimitsByTrader(LimitServiceImpl.java:138)\r\n          at com.query.controller.UserController.deleteUser(UserController.java:96)\r\n          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n          at java.lang.reflect.Method.invoke(Method.java:498)\r\n          at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\r\n          at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\r\n          at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n          at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814)\r\n          at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737)\r\n          at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n          at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n          at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n          at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969)\r\n          at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:893)\r\n          at javax.servlet.http.HttpServlet.service(HttpServlet.java:656)\r\n          at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845)\r\n          at javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n          at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316)\r\n          at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n          at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)\r\n          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:205)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\r\n          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53)\r\n          at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:133)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91)\r\n          at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n          at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213)\r\n          at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176)\r\n          at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n          at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\r\n          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n          at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:221)\r\n          at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n          at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:505)\r\n          at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\r\n          at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n          at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)\r\n          at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n          at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:436)\r\n          at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1078)\r\n          at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:625)\r\n          at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:318)\r\n          at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n          at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n          at java.lang.Thread.run(Thread.java:745)","title":"JpaRepository Not supported for DML operations [delete query]","body":"<p>I have written a query to delete some objects in my interface extending <code>JPaRepository</code>, but when I execute the query it throws an exception! \nCan anyone explain it for me?</p>\n\n<p>Query:</p>\n\n<pre><code>public interface LimitRepository extends JpaRepository&lt;CLimit, Long&gt; {\n\n  @Query(\"delete from CLimit l where l.trader.id =:#{#trader.id}\")\n  void deleteLimitsByTrader(@Param(\"trader\") CTrader trader);\n\n}\n</code></pre>\n\n<p>I got this error, can anyne Please, explain this for me, and thank you all  :)</p>\n\n<p>Exception:</p>\n\n<pre><code>  org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for DML operations [delete from com.query.domain.CLimit l where l.trader.id =:__$synthetic$__1]\n      at org.hibernate.hql.internal.ast.QueryTranslatorImpl.errorIfDML(QueryTranslatorImpl.java:318)\n      at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:369)\n      at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:236)\n      at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1300)\n      at org.hibernate.internal.QueryImpl.list(QueryImpl.java:103)\n      at org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:573)\n      at org.hibernate.jpa.internal.QueryImpl.getSingleResult(QueryImpl.java:495)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke(Method.java:498)\n      at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:364)\n      at com.sun.proxy.$Proxy98.getSingleResult(Unknown Source)\n      at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:206)\n      at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:78)\n      at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:102)\n      at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:92)\n      at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:482)\n      at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:460)\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n      at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61)\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n      at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n      at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n      at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n      at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n      at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133)\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n      at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n      at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)\n      at com.sun.proxy.$Proxy88.deleteLimitsByTrader(Unknown Source)\n      at com.query.service.impl.LimitServiceImpl.deleteLimitsByTrader(LimitServiceImpl.java:138)\n      at com.query.controller.UserController.deleteUser(UserController.java:96)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke(Method.java:498)\n      at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\n      at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n      at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814)\n      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737)\n      at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n      at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n      at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n      at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969)\n      at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:893)\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:656)\n      at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845)\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n      at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316)\n      at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n      at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:205)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53)\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:133)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91)\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n      at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213)\n      at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176)\n      at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\n      at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:221)\n      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n      at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:505)\n      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\n      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n      at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)\n      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:436)\n      at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1078)\n      at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:625)\n      at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:318)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n      at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","single-sign-on","keycloak","xwiki","back-channel"],"answers":[{"tags":[],"owner":{"account_id":5448787,"reputation":814,"user_id":4334331,"display_name":"Sanjay Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685602947,"creation_date":1685602947,"answer_id":76379408,"question_id":72560464,"body_markdown":"What worked for me was to use front-channel logout instead back-channel. I also wanted the session details to clear that out once the user logs out from App-A. In back-channel logout you will not receive the session details.\r\n\r\nNote that, the front-channel logout URL has a GET method.\r\n\r\n","title":"OIDC Backchannel logout, how to kill browser session of a user from REST call in a JEE Application","body":"<p>What worked for me was to use front-channel logout instead back-channel. I also wanted the session details to clear that out once the user logs out from App-A. In back-channel logout you will not receive the session details.</p>\n<p>Note that, the front-channel logout URL has a GET method.</p>\n"}],"owner":{"account_id":3077118,"reputation":3050,"user_id":2606178,"accept_rate":71,"display_name":"amdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1685602947,"creation_date":1654778512,"question_id":72560464,"body_markdown":"We are using Keycloak as a SSO provider to login in all our application.\r\n\r\nWe are using the keycloak logout endpoint to logout at a realm level and invalidate the access tokens of the user.\r\n\r\nOur issue is, if a user was connected on `websiteA` and `websiteB` and logout from `websiteA`, he still have an active local session on `websiteB` through they browser. \r\n\r\nBasically we want the user logout of the `websiteB`, a bit like if you logout from google drive you will also be logout from gmail as soon as you open gmail.com\r\n\r\nHopefully for us, keycloak support [OIDC backchannel logout][1]\r\n\r\nSo we define that when a user logout from keycloak, a LogoutToken is sent to every app on an endpoint that we choose\r\n\r\nlet&#39;s say `websiteB/backchannel-logout`\r\n\r\nSo on my JEE application, the server well receive a LogoutToken on the url `/backchannel-logout`\r\n\r\nThis is how the logout token look FYI\r\n\r\n```\r\n{\r\n  &quot;iat&quot;: 1654177246,\r\n  &quot;jti&quot;: &quot;66265511-a5fc-4f60-b5b7-65bea0e1a9e2&quot;,\r\n  &quot;iss&quot;: &quot;https://mykeycloakserver.com/auth/realms/myRealm&quot;,\r\n  &quot;aud&quot;: &quot;websiteB&quot;,\r\n  &quot;sub&quot;: &quot;18e56c69-a90d-4f32-b76a-c9166def54d0&quot;,\r\n  &quot;typ&quot;: &quot;Logout&quot;,\r\n  &quot;sid&quot;: &quot;5bca2f13-f7a6-4b41-bdfc-1f7a89264149&quot;,\r\n  &quot;events&quot;: {\r\n    &quot;http://schemas.openid.net/event/backchannel-logout&quot;: {},\r\n    &quot;revoke_offline_access&quot;: true\r\n  }\r\n}\r\n```\r\n\r\nAt this point I have a logout request from my SSO provider keycloak, containing the `sub` of the user so her unique ID and I can know the user I want to logout.\r\n\r\nBut basically I just receive an HttpRequest containing a `logout_token` from keycloak\r\n\r\n`String logoutToken = request.getParameter(&quot;logout_token&quot;);`\r\n\r\nThen I transform it to a JWT token object and I can read it.\r\n\r\nBut I&#39;m completely out of any user session at this point `request.getSession()` doesn&#39;t return me at all the session that the user have open in it&#39;s browser, and I don&#39;t have any access token to use there was invalidate by the logout, I just have this logout token.\r\n\r\n------------------------\r\n\r\nSo all the speech above is to explain what I&#39;m doing. But the real question could be.\r\n\r\nHow from a request not related to a browser Session could I found this session and invalidate it ?\r\n\r\nEven if we forgout the SSO context and the LogoutToken, if as an admin I want an admin logout endpoint that accept a userId value and on this endpoint I want to kill any session of this user but I&#39;m not this user (I&#39;m the admin) how could I do it ?\r\n\r\nThe project is not using spring, we are using a platform called XWiki,I think it&#39;s just JEE with `javax.servlet-api` and keycloak adapter.\r\n\r\n```\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport org.keycloak.KeycloakSecurityContext;\r\n```\r\n  [1]: https://openid.net/specs/openid-connect-backchannel-1_0.html","title":"OIDC Backchannel logout, how to kill browser session of a user from REST call in a JEE Application","body":"<p>We are using Keycloak as a SSO provider to login in all our application.</p>\n<p>We are using the keycloak logout endpoint to logout at a realm level and invalidate the access tokens of the user.</p>\n<p>Our issue is, if a user was connected on <code>websiteA</code> and <code>websiteB</code> and logout from <code>websiteA</code>, he still have an active local session on <code>websiteB</code> through they browser.</p>\n<p>Basically we want the user logout of the <code>websiteB</code>, a bit like if you logout from google drive you will also be logout from gmail as soon as you open gmail.com</p>\n<p>Hopefully for us, keycloak support <a href=\"https://openid.net/specs/openid-connect-backchannel-1_0.html\" rel=\"nofollow noreferrer\">OIDC backchannel logout</a></p>\n<p>So we define that when a user logout from keycloak, a LogoutToken is sent to every app on an endpoint that we choose</p>\n<p>let's say <code>websiteB/backchannel-logout</code></p>\n<p>So on my JEE application, the server well receive a LogoutToken on the url <code>/backchannel-logout</code></p>\n<p>This is how the logout token look FYI</p>\n<pre><code>{\n  &quot;iat&quot;: 1654177246,\n  &quot;jti&quot;: &quot;66265511-a5fc-4f60-b5b7-65bea0e1a9e2&quot;,\n  &quot;iss&quot;: &quot;https://mykeycloakserver.com/auth/realms/myRealm&quot;,\n  &quot;aud&quot;: &quot;websiteB&quot;,\n  &quot;sub&quot;: &quot;18e56c69-a90d-4f32-b76a-c9166def54d0&quot;,\n  &quot;typ&quot;: &quot;Logout&quot;,\n  &quot;sid&quot;: &quot;5bca2f13-f7a6-4b41-bdfc-1f7a89264149&quot;,\n  &quot;events&quot;: {\n    &quot;http://schemas.openid.net/event/backchannel-logout&quot;: {},\n    &quot;revoke_offline_access&quot;: true\n  }\n}\n</code></pre>\n<p>At this point I have a logout request from my SSO provider keycloak, containing the <code>sub</code> of the user so her unique ID and I can know the user I want to logout.</p>\n<p>But basically I just receive an HttpRequest containing a <code>logout_token</code> from keycloak</p>\n<p><code>String logoutToken = request.getParameter(&quot;logout_token&quot;);</code></p>\n<p>Then I transform it to a JWT token object and I can read it.</p>\n<p>But I'm completely out of any user session at this point <code>request.getSession()</code> doesn't return me at all the session that the user have open in it's browser, and I don't have any access token to use there was invalidate by the logout, I just have this logout token.</p>\n<hr />\n<p>So all the speech above is to explain what I'm doing. But the real question could be.</p>\n<p>How from a request not related to a browser Session could I found this session and invalidate it ?</p>\n<p>Even if we forgout the SSO context and the LogoutToken, if as an admin I want an admin logout endpoint that accept a userId value and on this endpoint I want to kill any session of this user but I'm not this user (I'm the admin) how could I do it ?</p>\n<p>The project is not using spring, we are using a platform called XWiki,I think it's just JEE with <code>javax.servlet-api</code> and keycloak adapter.</p>\n<pre><code>import javax.servlet.http.HttpServletRequest;\nimport org.keycloak.KeycloakSecurityContext;\n</code></pre>\n"},{"tags":["java","if-statement","refactoring"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1685602897,"post_id":76379354,"comment_id":134683642,"body_markdown":"hello and welcome to SO. Please ask only one specific question at a time, and for code smells just read the book &quot;Clean Code&quot; it has pretty much everything anyone needs to know.","body":"hello and welcome to SO. Please ask only one specific question at a time, and for code smells just read the book &quot;Clean Code&quot; it has pretty much everything anyone needs to know."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1685603076,"post_id":76379354,"comment_id":134683674,"body_markdown":"if I understand your question correctly, this is better suited on a site for code review. Try here: https://codereview.stackexchange.com/","body":"if I understand your question correctly, this is better suited on a site for code review. Try here: <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1685610645,"post_id":76379354,"comment_id":134685220,"body_markdown":"You&#39;re basically building a lexer/parser from scratch, there&#39;s been *tons* of content written on possible ways to implement them and their pros/cons. I suggest you use those terms to do some basic investigation on your own and then come back with a more concrete question, if you still have them.","body":"You&#39;re basically building a lexer/parser from scratch, there&#39;s been <i>tons</i> of content written on possible ways to implement them and their pros/cons. I suggest you use those terms to do some basic investigation on your own and then come back with a more concrete question, if you still have them."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1685615713,"post_id":76379354,"comment_id":134686305,"body_markdown":"You should not copy contents of the already existing `String` to a `tempWord`, even less by repeated `+=` operations. Remember *positions* within the string. Use methods like [`regionMatches`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#regionMatches(int,java.lang.String,int,int)) to check whether you are looking at a known sequence and `substring` if you really need the part as a new `String`. Or learn to use regex [`Pattern`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html) and `Matcher`.","body":"You should not copy contents of the already existing <code>String</code> to a <code>tempWord</code>, even less by repeated <code>+=</code> operations. Remember <i>positions</i> within the string. Use methods like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#regionMatches(int,java.lang.String,int,int)\" rel=\"nofollow noreferrer\"><code>regionMatches</code></a> to check whether you are looking at a known sequence and <code>substring</code> if you really need the part as a new <code>String</code>. Or learn to use regex <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>Pattern</code></a> and <code>Matcher</code>."}],"owner":{"account_id":28725176,"reputation":53,"user_id":21998109,"display_name":"codeDog"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685602874,"creation_date":1685602488,"question_id":76379354,"body_markdown":"I have &quot;long&quot; if statements in for loop.\r\n\r\nWhat It trying to do is tokenize a line.\r\n\r\nFor example, \r\n\r\nEx1) Tokenize this line `&quot;class Main {&quot;` into a ArrayList `[ &#39;class&#39; , &#39;Main&#39;, &#39;{&#39; ]`\r\n\r\nEx2) `let length = Keyboard.readInt(&quot;HOW MANY NUMBERS? &quot;);` (In this line String in quotation mark is a one token)\r\n\r\n\\-\\&gt; `[&#39;let&#39;, &#39;length&#39;, &#39;=&#39;, &#39;Keyboard&#39;, &#39;.&#39;, &#39;readInt&#39;, &#39;(&#39;, &#39;&quot;HOW MANY NUMBERS? &quot;&#39;, &#39;)&#39; &#39;;&#39;]`\r\n\r\nThere are 8 different conditions which are logic of tokenization. And each condition has different action to tokenize line.\r\n\r\nThe overall logic is like this\r\n\r\n```\r\nfor ( char c : line ){\r\n    if (condition){\r\n        doSomething1(); //like arrayList.add(c)\r\n        doSomething2(); //like tempWord += c\r\n    }else if(condition2) {\r\n        doSomething2();\r\n    }else if(condition3) {\r\n        doSomething2();\r\n        doSomething3();\r\n    }\r\n```\r\n\r\nI functionized each conditions\r\n\r\n```\r\n   private static boolean isOpeningQuotationMark(char currentChar) {\r\n        return (currentChar == &#39;\\&quot;&#39; &amp;&amp; progressInQuotationMark == false);\r\n    }\r\n\r\n   private static boolean isClosingQuotationMark(char currentChar) {\r\n        return (currentChar == &#39;\\&quot;&#39; &amp;&amp; progressInQuotationMark == true);\r\n    }\r\n    ...\r\n   private static boolean metSymbolAtFull(char currentChar) {\r\n        return Symbol.contains(currentChar) &amp;&amp; !tempWord.isEmpty();\r\n    }\r\n```\r\n\r\nAnd real code is here\r\n\r\n```\r\npublic static ArrayList&lt;String&gt; tokenize(String line){\r\n        ArrayList&lt;String&gt; tokenizedLine = new ArrayList&lt;&gt;();\r\n\r\n        for (char currentChar : line.toCharArray()) {\r\n            if (isOpeningQuotationMark(currentChar)) {\r\n                progressInQuotationMark = true;\r\n            } else if (isClosingQuotationMark(currentChar)) {\r\n                tokenizedLine.add(&#39;\\&quot;&#39; + tempWord + &#39;\\&quot;&#39;);\r\n                tempWord = &quot;&quot;;\r\n                progressInQuotationMark = false;\r\n            } else if (progressInQuotationMark) {\r\n                tempWord += currentChar;\r\n            } else if (isTailWhiteSpace(currentChar)) {\r\n                tokenizedLine.add(tempWord);\r\n                tempWord = &quot;&quot;;\r\n            } else if (isHeadWhiteSpace(currentChar)) {\r\n                ;\r\n            } else if (!isSymbol(currentChar)) {\r\n                tempWord += currentChar;\r\n            } else if (metSymbolAtFull(currentChar)) {\r\n                tokenizedLine.add(tempWord);\r\n                tokenizedLine.add(String.valueOf(currentChar));\r\n                tempWord = &quot;&quot;;\r\n            } else if (metSymbolAtEmpty(currentChar)) {\r\n                tokenizedLine.add(String.valueOf(currentChar));\r\n                tempWord = &quot;&quot;;\r\n            }\r\n        }\r\n        return tokenizedLine;\r\n    }\r\n```\r\n\r\nThis code works fine. But I think there are code smells.\r\nBecause\r\n\r\n1) &quot;long&quot; if statement.\r\n2) I think it violates Open Closed Principle.\r\n3) The order of if statement is hard to change.\r\n4) If I want to change or add new condition, I have to think all the conditions again.\r\n\r\nWhat I tried is\r\n\r\n1) make a new class for a char in lines. `class CodeChar` . But This Class needed a tempWord of original logic and some conditions in caller class.\r\n2) I made a enum for each conditions and made them type attribute of CodeChar.  \r\n   So I can make `Set` dictionary of `&lt;CodeCharType, Runnable&gt;` \\&lt;- Runnable in this Set is logic inside if statements\r\n\r\nBut Those also caused dependency of each other and looks kinda &quot;dirty&quot;\r\n\r\nHow can I solve this problem? Is there a pattern for this?\r\n\r\nBefore I consider changing the if statement, Are There already fundamental design problem? \r\n\r\nOr Is that okay to be like that?","title":"Long If statement refactoring - java","body":"<p>I have &quot;long&quot; if statements in for loop.</p>\n<p>What It trying to do is tokenize a line.</p>\n<p>For example,</p>\n<p>Ex1) Tokenize this line <code>&quot;class Main {&quot;</code> into a ArrayList <code>[ 'class' , 'Main', '{' ]</code></p>\n<p>Ex2) <code>let length = Keyboard.readInt(&quot;HOW MANY NUMBERS? &quot;);</code> (In this line String in quotation mark is a one token)</p>\n<p>-&gt; <code>['let', 'length', '=', 'Keyboard', '.', 'readInt', '(', '&quot;HOW MANY NUMBERS? &quot;', ')' ';']</code></p>\n<p>There are 8 different conditions which are logic of tokenization. And each condition has different action to tokenize line.</p>\n<p>The overall logic is like this</p>\n<pre><code>for ( char c : line ){\n    if (condition){\n        doSomething1(); //like arrayList.add(c)\n        doSomething2(); //like tempWord += c\n    }else if(condition2) {\n        doSomething2();\n    }else if(condition3) {\n        doSomething2();\n        doSomething3();\n    }\n</code></pre>\n<p>I functionized each conditions</p>\n<pre><code>   private static boolean isOpeningQuotationMark(char currentChar) {\n        return (currentChar == '\\&quot;' &amp;&amp; progressInQuotationMark == false);\n    }\n\n   private static boolean isClosingQuotationMark(char currentChar) {\n        return (currentChar == '\\&quot;' &amp;&amp; progressInQuotationMark == true);\n    }\n    ...\n   private static boolean metSymbolAtFull(char currentChar) {\n        return Symbol.contains(currentChar) &amp;&amp; !tempWord.isEmpty();\n    }\n</code></pre>\n<p>And real code is here</p>\n<pre><code>public static ArrayList&lt;String&gt; tokenize(String line){\n        ArrayList&lt;String&gt; tokenizedLine = new ArrayList&lt;&gt;();\n\n        for (char currentChar : line.toCharArray()) {\n            if (isOpeningQuotationMark(currentChar)) {\n                progressInQuotationMark = true;\n            } else if (isClosingQuotationMark(currentChar)) {\n                tokenizedLine.add('\\&quot;' + tempWord + '\\&quot;');\n                tempWord = &quot;&quot;;\n                progressInQuotationMark = false;\n            } else if (progressInQuotationMark) {\n                tempWord += currentChar;\n            } else if (isTailWhiteSpace(currentChar)) {\n                tokenizedLine.add(tempWord);\n                tempWord = &quot;&quot;;\n            } else if (isHeadWhiteSpace(currentChar)) {\n                ;\n            } else if (!isSymbol(currentChar)) {\n                tempWord += currentChar;\n            } else if (metSymbolAtFull(currentChar)) {\n                tokenizedLine.add(tempWord);\n                tokenizedLine.add(String.valueOf(currentChar));\n                tempWord = &quot;&quot;;\n            } else if (metSymbolAtEmpty(currentChar)) {\n                tokenizedLine.add(String.valueOf(currentChar));\n                tempWord = &quot;&quot;;\n            }\n        }\n        return tokenizedLine;\n    }\n</code></pre>\n<p>This code works fine. But I think there are code smells.\nBecause</p>\n<ol>\n<li>&quot;long&quot; if statement.</li>\n<li>I think it violates Open Closed Principle.</li>\n<li>The order of if statement is hard to change.</li>\n<li>If I want to change or add new condition, I have to think all the conditions again.</li>\n</ol>\n<p>What I tried is</p>\n<ol>\n<li>make a new class for a char in lines. <code>class CodeChar</code> . But This Class needed a tempWord of original logic and some conditions in caller class.</li>\n<li>I made a enum for each conditions and made them type attribute of CodeChar.<br />\nSo I can make <code>Set</code> dictionary of <code>&lt;CodeCharType, Runnable&gt;</code> &lt;- Runnable in this Set is logic inside if statements</li>\n</ol>\n<p>But Those also caused dependency of each other and looks kinda &quot;dirty&quot;</p>\n<p>How can I solve this problem? Is there a pattern for this?</p>\n<p>Before I consider changing the if statement, Are There already fundamental design problem?</p>\n<p>Or Is that okay to be like that?</p>\n"},{"tags":["java","sql-server","jdbc"],"answers":[{"tags":[],"owner":{"account_id":17916680,"reputation":684,"user_id":13017474,"display_name":"priyranjan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605387760,"creation_date":1605387760,"answer_id":64838584,"question_id":64838405,"body_markdown":"Hey you have to just follow below steps to resolve your issue:---\r\n\r\nYou just have to:\r\nGo to java folder:---\r\n   \r\n\r\n     1)Find file “java.security” in folder “jre\\conf\\security”\r\n       \r\n        \r\n    2)`In this java.security file, find “3DES_EDE_CBC” linked to “jdk.tls.disabledAlgorithms”`\r\n        \r\n    3)Remove it!\r\n        \r\n        Sample:\r\n        If file &quot;C:\\Users\\myUser\\AppData\\jre\\conf\\security\\java.security&quot;\r\n        \r\n        ORIGINAL:\r\n        \r\n        jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024,\r\n        EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\n        \r\n        NEW (after removing “3DES_EDE_CBC”):\r\n        \r\n        jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024,\r\n        EC keySize &lt; 224, anon, NULL","title":"Getting the SQL Server Connection Exception","body":"<p>Hey you have to just follow below steps to resolve your issue:---</p>\n<p>You just have to:\nGo to java folder:---</p>\n<pre><code> 1)Find file “java.security” in folder “jre\\conf\\security”\n   \n    \n2)`In this java.security file, find “3DES_EDE_CBC” linked to “jdk.tls.disabledAlgorithms”`\n    \n3)Remove it!\n    \n    Sample:\n    If file &quot;C:\\Users\\myUser\\AppData\\jre\\conf\\security\\java.security&quot;\n    \n    ORIGINAL:\n    \n    jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024,\n    EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\n    \n    NEW (after removing “3DES_EDE_CBC”):\n    \n    jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024,\n    EC keySize &lt; 224, anon, NULL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25139388,"reputation":126,"user_id":18985864,"display_name":"Ruhul Hussain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652776218,"creation_date":1652298392,"answer_id":72206835,"question_id":64838405,"body_markdown":"In case the above solution doesn&#39;t work for anyone. Try replacing the `sql-jdbc` jar with `mssql-jdbc-8.4.1` jar. \r\n\r\nPosting this because the above approach didn&#39;t work for me. \r\nThe workaround for me on the exception  - The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;Unexpected rethrowing&quot; was to replace the jar.","title":"Getting the SQL Server Connection Exception","body":"<p>In case the above solution doesn't work for anyone. Try replacing the <code>sql-jdbc</code> jar with <code>mssql-jdbc-8.4.1</code> jar.</p>\n<p>Posting this because the above approach didn't work for me.\nThe workaround for me on the exception  - The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;Unexpected rethrowing&quot; was to replace the jar.</p>\n"}],"owner":{"account_id":7258016,"reputation":385,"user_id":5535886,"accept_rate":50,"display_name":"Pranav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6098,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72206835,"answer_count":2,"score":1,"last_activity_date":1685601970,"creation_date":1605386401,"question_id":64838405,"body_markdown":"I am getting below connection exception, when trying to connect to SQL Server using JDBC.\r\n\r\nCan someone please help, with this issue?\r\n\r\nI am using sqljdbc4.jar file to connect to SQL Server\r\n\r\nCode is as below\r\n\r\n``` \r\nString dbURL = &quot;jdbc:sqlserver://10.156.54.123;encrypt=false;DatabaseName=PRA;sslProtocol=TLSv1;&quot;;\r\n String user = &quot;username&quot;;\r\n String pass = &quot;password&quot;;\r\n conn = DriverManager.getConnection(dbURL, user, pass);\r\n```\r\n\r\nThis is the exception.\r\n\r\n&gt; Nov 14, 2020 8:33:01 PM com.microsoft.sqlserver.jdbc.TDSChannel enableSSL\r\nINFO: java.security path: /usr/java/jdk1.8.0_261-amd64/jre/lib/security\r\nSecurity providers: [SUN version 1.8, SunRsaSign version 1.8, SunEC version 1.8, SunJSSE version 1.8, SunJCE version 1.8, SunJGSS version 1.8, SunSASL version 1.8, XMLDSig version 1.8, SunPCSC version 1.8]\r\nSSLContext provider info: Sun JSSE provider(PKCS12, SunX509/PKIX key/trust factories, SSLv3/TLSv1/TLSv1.1/TLSv1.2/TLSv1.3)\r\nSSLContext provider services:\r\n[SunJSSE: KeyPairGenerator.RSA -&gt; sun.security.rsa.RSAKeyPairGenerator$Legacy\r\n  aliases: [1.2.840.113549.1.1, OID.1.2.840.113549.1.1]\r\n, SunJSSE: Signature.SHA1withRSA -&gt; sun.security.rsa.RSASignature$SHA1withRSA\r\n  aliases: [1.2.840.113549.1.1.5, 1.3.14.3.2.29, OID.1.2.840.113549.1.1.5]\r\n  attributes: {SupportedKeyClasses=java.security.interfaces.RSAPublicKey|java.security.interfaces.RSAPrivateKey}\r\n, SunJSSE: SSLContext.TLS -&gt; sun.security.ssl.SSLContextImpl$TLSContext\r\n  aliases: [SSL]\r\n, SunJSSE: SSLContext.TLSv1 -&gt; sun.security.ssl.SSLContextImpl$TLS10Context\r\n  aliases: [SSLv3]\r\n, SunJSSE: Signature.MD2withRSA -&gt; sun.security.rsa.RSASignature$MD2withRSA\r\n  aliases: [1.2.840.113549.1.1.2, OID.1.2.840.113549.1.1.2]\r\n  attributes: {SupportedKeyClasses=java.security.interfaces.RSAPublicKey|java.security.interfaces.RSAPrivateKey}\r\n, SunJSSE: KeyFactory.RSA -&gt; sun.security.rsa.RSAKeyFactory$Legacy\r\n  aliases: [1.2.840.113549.1.1, OID.1.2.840.113549.1.1]\r\n, SunJSSE: Signature.MD5withRSA -&gt; sun.security.rsa.RSASignature$MD5withRSA\r\n  aliases: [1.2.840.113549.1.1.4, OID.1.2.840.113549.1.1.4]\r\n  attributes: {SupportedKeyClasses=java.security.interfaces.RSAPublicKey|java.security.interfaces.RSAPrivateKey}\r\n, SunJSSE: KeyStore.PKCS12 -&gt; sun.security.pkcs12.PKCS12KeyStore\r\n, SunJSSE: TrustManagerFactory.SunX509 -&gt; sun.security.ssl.TrustManagerFactoryImpl$SimpleFactory\r\n, SunJSSE: KeyManagerFactory.SunX509 -&gt; sun.security.ssl.KeyManagerFactoryImpl$SunX509\r\n, SunJSSE: TrustManagerFactory.PKIX -&gt; sun.security.ssl.TrustManagerFactoryImpl$PKIXFactory\r\n  aliases: [SunPKIX, X509, X.509]\r\n, SunJSSE: KeyManagerFactory.NewSunX509 -&gt; sun.security.ssl.KeyManagerFactoryImpl$X509\r\n  aliases: [PKIX]\r\n, SunJSSE: SSLContext.Default -&gt; sun.security.ssl.SSLContextImpl$DefaultSSLContext\r\n, SunJSSE: SSLContext.TLSv1.1 -&gt; sun.security.ssl.SSLContextImpl$TLS11Context\r\n, SunJSSE: Signature.MD5andSHA1withRSA -&gt; sun.security.ssl.RSASignature\r\n, SunJSSE: SSLContext.TLSv1.3 -&gt; sun.security.ssl.SSLContextImpl$TLS13Context\r\n, SunJSSE: SSLContext.TLSv1.2 -&gt; sun.security.ssl.SSLContextImpl$TLS12Context\r\n]\r\njava.ext.dirs: /usr/java/jdk1.8.0_261-amd64/jre/lib/ext:/usr/java/packages/lib/ext\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;Unexpected rethrowing&quot;.\r\n\r\n","title":"Getting the SQL Server Connection Exception","body":"<p>I am getting below connection exception, when trying to connect to SQL Server using JDBC.</p>\n<p>Can someone please help, with this issue?</p>\n<p>I am using sqljdbc4.jar file to connect to SQL Server</p>\n<p>Code is as below</p>\n<pre><code>String dbURL = &quot;jdbc:sqlserver://10.156.54.123;encrypt=false;DatabaseName=PRA;sslProtocol=TLSv1;&quot;;\n String user = &quot;username&quot;;\n String pass = &quot;password&quot;;\n conn = DriverManager.getConnection(dbURL, user, pass);\n</code></pre>\n<p>This is the exception.</p>\n<blockquote>\n<p>Nov 14, 2020 8:33:01 PM com.microsoft.sqlserver.jdbc.TDSChannel enableSSL\nINFO: java.security path: /usr/java/jdk1.8.0_261-amd64/jre/lib/security\nSecurity providers: [SUN version 1.8, SunRsaSign version 1.8, SunEC version 1.8, SunJSSE version 1.8, SunJCE version 1.8, SunJGSS version 1.8, SunSASL version 1.8, XMLDSig version 1.8, SunPCSC version 1.8]\nSSLContext provider info: Sun JSSE provider(PKCS12, SunX509/PKIX key/trust factories, SSLv3/TLSv1/TLSv1.1/TLSv1.2/TLSv1.3)\nSSLContext provider services:\n[SunJSSE: KeyPairGenerator.RSA -&gt; sun.security.rsa.RSAKeyPairGenerator$Legacy\naliases: [1.2.840.113549.1.1, OID.1.2.840.113549.1.1]\n, SunJSSE: Signature.SHA1withRSA -&gt; sun.security.rsa.RSASignature$SHA1withRSA\naliases: [1.2.840.113549.1.1.5, 1.3.14.3.2.29, OID.1.2.840.113549.1.1.5]\nattributes: {SupportedKeyClasses=java.security.interfaces.RSAPublicKey|java.security.interfaces.RSAPrivateKey}\n, SunJSSE: SSLContext.TLS -&gt; sun.security.ssl.SSLContextImpl$TLSContext\naliases: [SSL]\n, SunJSSE: SSLContext.TLSv1 -&gt; sun.security.ssl.SSLContextImpl$TLS10Context\naliases: [SSLv3]\n, SunJSSE: Signature.MD2withRSA -&gt; sun.security.rsa.RSASignature$MD2withRSA\naliases: [1.2.840.113549.1.1.2, OID.1.2.840.113549.1.1.2]\nattributes: {SupportedKeyClasses=java.security.interfaces.RSAPublicKey|java.security.interfaces.RSAPrivateKey}\n, SunJSSE: KeyFactory.RSA -&gt; sun.security.rsa.RSAKeyFactory$Legacy\naliases: [1.2.840.113549.1.1, OID.1.2.840.113549.1.1]\n, SunJSSE: Signature.MD5withRSA -&gt; sun.security.rsa.RSASignature$MD5withRSA\naliases: [1.2.840.113549.1.1.4, OID.1.2.840.113549.1.1.4]\nattributes: {SupportedKeyClasses=java.security.interfaces.RSAPublicKey|java.security.interfaces.RSAPrivateKey}\n, SunJSSE: KeyStore.PKCS12 -&gt; sun.security.pkcs12.PKCS12KeyStore\n, SunJSSE: TrustManagerFactory.SunX509 -&gt; sun.security.ssl.TrustManagerFactoryImpl$SimpleFactory\n, SunJSSE: KeyManagerFactory.SunX509 -&gt; sun.security.ssl.KeyManagerFactoryImpl$SunX509\n, SunJSSE: TrustManagerFactory.PKIX -&gt; sun.security.ssl.TrustManagerFactoryImpl$PKIXFactory\naliases: [SunPKIX, X509, X.509]\n, SunJSSE: KeyManagerFactory.NewSunX509 -&gt; sun.security.ssl.KeyManagerFactoryImpl$X509\naliases: [PKIX]\n, SunJSSE: SSLContext.Default -&gt; sun.security.ssl.SSLContextImpl$DefaultSSLContext\n, SunJSSE: SSLContext.TLSv1.1 -&gt; sun.security.ssl.SSLContextImpl$TLS11Context\n, SunJSSE: Signature.MD5andSHA1withRSA -&gt; sun.security.ssl.RSASignature\n, SunJSSE: SSLContext.TLSv1.3 -&gt; sun.security.ssl.SSLContextImpl$TLS13Context\n, SunJSSE: SSLContext.TLSv1.2 -&gt; sun.security.ssl.SSLContextImpl$TLS12Context\n]\njava.ext.dirs: /usr/java/jdk1.8.0_261-amd64/jre/lib/ext:/usr/java/packages/lib/ext\ncom.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;Unexpected rethrowing&quot;.</p>\n</blockquote>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":1,"creation_date":1685550334,"post_id":76375497,"comment_id":134677041,"body_markdown":"Does a preprcessing of the String is an acceptable solution (like checking and removing the dash) or it must be solution using a single RegExp ?","body":"Does a preprcessing of the String is an acceptable solution (like checking and removing the dash) or it must be solution using a single RegExp ?"},{"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"score":0,"creation_date":1685550522,"post_id":76375497,"comment_id":134677084,"body_markdown":"@Bastien Aracil any solution. But remember, it can be 1-E-G-4-T-E-5-M-K-7-2 and it invalid, so, if we remove all - it can be valid by regex bu invalid by business rules","body":"@Bastien Aracil any solution. But remember, it can be 1-E-G-4-T-E-5-M-K-7-2 and it invalid, so, if we remove all - it can be valid by regex bu invalid by business rules"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685585285,"post_id":76375497,"comment_id":134681865,"body_markdown":"The format is complex, if you&#39;re not looking for an archaic regex pattern, you could try using just basic string parsing techniques.","body":"The format is complex, if you&#39;re not looking for an archaic regex pattern, you could try using just basic string parsing techniques."}],"answers":[{"tags":[],"owner":{"account_id":17253187,"reputation":15250,"user_id":12492890,"display_name":"lemon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685550219,"creation_date":1685550219,"answer_id":76375560,"question_id":76375497,"body_markdown":"You can unroll it, and use a backreference to check correspondence with previous existence of dash (or not).\r\n\r\n```\r\n[1-9][A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\d(-?)[A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\d\\1[A-Z&amp;&amp;[^SLOIBZ]]{2}\\d{2}\r\n```\r\n\r\n**Regex Explanation**:\r\n- `[1-9]`: number in range 1-9\r\n- `[A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\d`: your first three characters\r\n- `(-?)`: optional dash capturing group\r\n- `[A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\d`: your middle three characters\r\n- `\\1`: backreference to the capturing group\r\n- `[A-Z&amp;&amp;[^SLOIBZ]]{2}\\d{2}`: your last three characters\r\n\r\n\r\nCheck the demo [here][1].\r\n\r\n\r\n  [1]: https://regex101.com/r/HmXHUA/1","title":"Improve a regex to include coupled-dashes matching","body":"<p>You can unroll it, and use a backreference to check correspondence with previous existence of dash (or not).</p>\n<pre><code>[1-9][A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\d(-?)[A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\d\\1[A-Z&amp;&amp;[^SLOIBZ]]{2}\\d{2}\n</code></pre>\n<p><strong>Regex Explanation</strong>:</p>\n<ul>\n<li><code>[1-9]</code>: number in range 1-9</li>\n<li><code>[A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\d</code>: your first three characters</li>\n<li><code>(-?)</code>: optional dash capturing group</li>\n<li><code>[A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\d</code>: your middle three characters</li>\n<li><code>\\1</code>: backreference to the capturing group</li>\n<li><code>[A-Z&amp;&amp;[^SLOIBZ]]{2}\\d{2}</code>: your last three characters</li>\n</ul>\n<p>Check the demo <a href=\"https://regex101.com/r/HmXHUA/1\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685600975,"creation_date":1685587457,"answer_id":76378357,"question_id":76375497,"body_markdown":"If you&#39;re not looking for a regular-expression pattern, you can try the following method.\r\n\r\nThis follows the pattern, as specified in the PDF file provided.\r\n\r\n```none\r\nPos.    1   2   3   4   5   6   7   8   9  10  11\r\nType    C   A  AN   N   A  AN   N   A   A   N   N\r\n\r\nC  – Numeric 1 thru 9\r\nN  – Numeric 0 thru 9 \r\nAN – Either A or N \r\nA  – Alphabetic Character (A...Z); Excluding (S, L, O, I, B, Z)\r\n```\r\n\r\nAdditionally, the following conditions are evaluated.\r\n\r\n```none\r\n- The MBI has 11 characters.\r\n- The MBI’s 2nd, 5th, 8th, and 9th characters are always letters.\r\n- Characters 1, 4, 7, 10, and 11 are always numbers.\r\n- The 3rd and 6th characters are letters or numbers.\r\n- We don’t use dashes in the MBI.\r\n```\r\n\r\nI was unsure how to handle a lowercase argument&amp;mdash;I settled with an uppercase requirement.\r\n\r\nThe _dash_ separator is optional, otherwise it must contain 2, and position can be arbitrary.\r\n\r\nI did not run any extensive tests, although _&quot;1EG4-TE5-MK73&quot;_ will return _true_, and _&quot;ABCD-EFG-HIJK&quot;_ will return _false_.\r\n\r\nThe logic of this evaluation works in a procedural manner&amp;mdash;there will be an early _return_ of _false_ if a transition is not met&amp;mdash;ultimately leading to a _return_ of _true_.\r\n\r\n```java\r\n/** @param string case-sensitive; A-Z */\r\nboolean match(String string) {\r\n    if (string.length() &lt; 11 || string.length() &gt; 13) return false;\r\n    if (string.contains(&quot;-&quot;)) {\r\n        if (string.split(&quot;-&quot;).length != 3) return false;\r\n        string = string.replace(&quot;-&quot;, &quot;&quot;);\r\n    }\r\n    String value;\r\n    int position = 1;\r\n    for (char character : string.toCharArray()) {\r\n        value = String.valueOf(character);\r\n        switch (position) {\r\n            case 2, 5, 8, 9 -&gt; {\r\n                if (!value.matches(&quot;[A-Z&amp;&amp;[^SLOIBZ]]&quot;)) return false;\r\n            }\r\n            case 1, 4, 7, 10, 11 -&gt; {\r\n                if (position == 1 &amp;&amp; !value.matches(&quot;[1-9]&quot;)) return false;\r\n                else if (!value.matches(&quot;\\\\d&quot;)) return false;\r\n            }\r\n            case 3, 6 -&gt; {\r\n                if (!value.matches(&quot;[A-Z\\\\d&amp;&amp;[^SLOIBZ]]&quot;)) return false;\r\n            }\r\n        }\r\n        position++;\r\n    }\r\n    return true;\r\n}\r\n```","title":"Improve a regex to include coupled-dashes matching","body":"<p>If you're not looking for a regular-expression pattern, you can try the following method.</p>\n<p>This follows the pattern, as specified in the PDF file provided.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Pos.    1   2   3   4   5   6   7   8   9  10  11\nType    C   A  AN   N   A  AN   N   A   A   N   N\n\nC  – Numeric 1 thru 9\nN  – Numeric 0 thru 9 \nAN – Either A or N \nA  – Alphabetic Character (A...Z); Excluding (S, L, O, I, B, Z)\n</code></pre>\n<p>Additionally, the following conditions are evaluated.</p>\n<pre class=\"lang-none prettyprint-override\"><code>- The MBI has 11 characters.\n- The MBI’s 2nd, 5th, 8th, and 9th characters are always letters.\n- Characters 1, 4, 7, 10, and 11 are always numbers.\n- The 3rd and 6th characters are letters or numbers.\n- We don’t use dashes in the MBI.\n</code></pre>\n<p>I was unsure how to handle a lowercase argument—I settled with an uppercase requirement.</p>\n<p>The <em>dash</em> separator is optional, otherwise it must contain 2, and position can be arbitrary.</p>\n<p>I did not run any extensive tests, although <em>&quot;1EG4-TE5-MK73&quot;</em> will return <em>true</em>, and <em>&quot;ABCD-EFG-HIJK&quot;</em> will return <em>false</em>.</p>\n<p>The logic of this evaluation works in a procedural manner—there will be an early <em>return</em> of <em>false</em> if a transition is not met—ultimately leading to a <em>return</em> of <em>true</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** @param string case-sensitive; A-Z */\nboolean match(String string) {\n    if (string.length() &lt; 11 || string.length() &gt; 13) return false;\n    if (string.contains(&quot;-&quot;)) {\n        if (string.split(&quot;-&quot;).length != 3) return false;\n        string = string.replace(&quot;-&quot;, &quot;&quot;);\n    }\n    String value;\n    int position = 1;\n    for (char character : string.toCharArray()) {\n        value = String.valueOf(character);\n        switch (position) {\n            case 2, 5, 8, 9 -&gt; {\n                if (!value.matches(&quot;[A-Z&amp;&amp;[^SLOIBZ]]&quot;)) return false;\n            }\n            case 1, 4, 7, 10, 11 -&gt; {\n                if (position == 1 &amp;&amp; !value.matches(&quot;[1-9]&quot;)) return false;\n                else if (!value.matches(&quot;\\\\d&quot;)) return false;\n            }\n            case 3, 6 -&gt; {\n                if (!value.matches(&quot;[A-Z\\\\d&amp;&amp;[^SLOIBZ]]&quot;)) return false;\n            }\n        }\n        position++;\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685600975,"creation_date":1685549722,"question_id":76375497,"body_markdown":"I have this regex: `[1-9]([A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\d){2}[A-Z&amp;&amp;[^SLOIBZ]]{2}\\d{2}`, which I got from [this site][1] and that works as described [here][2]. \r\n\r\nThe problem is that this regex does not support dashes, and I want to modify it accordingly. As per now, this regex matches &quot;**1EG4TE5MK72**&quot; but not &quot;**1EG4-TE5-MK72**&quot;\r\n\r\n\r\nI improved the original regex to: `[1-9]([A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\\\d(-)?){2}[A-Z&amp;&amp;[^SLOIBZ]]{2}\\\\d{2}` (added `(-)?`) and now both strings are matched. But also &quot;**1EG4TE5-MK72**&quot; gets matched, whereas it should be invalid (not matched). \r\n\r\nIn other words: only 0 or 2 dashes are allowed. \r\n\r\nCan someone help me with that?\r\n\r\n  [1]: https://regex101.com/library/spvXdL\r\n  [2]: https://www.cms.gov/medicare/new-medicare-card/understanding-the-mbi-with-format.pdf","title":"Improve a regex to include coupled-dashes matching","body":"<p>I have this regex: <code>[1-9]([A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\d){2}[A-Z&amp;&amp;[^SLOIBZ]]{2}\\d{2}</code>, which I got from <a href=\"https://regex101.com/library/spvXdL\" rel=\"nofollow noreferrer\">this site</a> and that works as described <a href=\"https://www.cms.gov/medicare/new-medicare-card/understanding-the-mbi-with-format.pdf\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The problem is that this regex does not support dashes, and I want to modify it accordingly. As per now, this regex matches &quot;<strong>1EG4TE5MK72</strong>&quot; but not &quot;<strong>1EG4-TE5-MK72</strong>&quot;</p>\n<p>I improved the original regex to: <code>[1-9]([A-Z&amp;&amp;[^SLOIBZ]][0-9A-Z&amp;&amp;[^SLOIBZ]]\\\\d(-)?){2}[A-Z&amp;&amp;[^SLOIBZ]]{2}\\\\d{2}</code> (added <code>(-)?</code>) and now both strings are matched. But also &quot;<strong>1EG4TE5-MK72</strong>&quot; gets matched, whereas it should be invalid (not matched).</p>\n<p>In other words: only 0 or 2 dashes are allowed.</p>\n<p>Can someone help me with that?</p>\n"},{"tags":["java","spring","spring-boot","spring-transactions"],"comments":[{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1685542519,"post_id":76374340,"comment_id":134675087,"body_markdown":"Possibly related: https://stackoverflow.com/questions/1201726/tracking-down-cause-of-springs-not-eligible-for-auto-proxying","body":"Possibly related: <a href=\"https://stackoverflow.com/questions/1201726/tracking-down-cause-of-springs-not-eligible-for-auto-proxying\" title=\"tracking down cause of springs not eligible for auto proxying\">stackoverflow.com/questions/1201726/&hellip;</a>"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685542597,"post_id":76374340,"comment_id":134675113,"body_markdown":"`javax.transaction.Transactional` - that is wrong annotation, should be `org.springframework.transaction.annotation.Transactional`","body":"<code>javax.transaction.Transactional</code> - that is wrong annotation, should be <code>org.springframework.transaction.annotation.Transactional</code>"},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1685542605,"post_id":76374340,"comment_id":134675117,"body_markdown":"Did you add `@EnableTransactionManagement` to your `@SpringBootApplication` class? Also, `TransactionSynchronizationManager` class belongs to `...reactive` package, so maybe you will need to define `ReactiveTransactionManager` bean, e.g. `org.springframework.data.mongodb.ReactiveMongoTransactionManager`","body":"Did you add <code>@EnableTransactionManagement</code> to your <code>@SpringBootApplication</code> class? Also, <code>TransactionSynchronizationManager</code> class belongs to <code>...reactive</code> package, so maybe you will need to define <code>ReactiveTransactionManager</code> bean, e.g. <code>org.springframework.data.mongodb.ReactiveMongoTransactionMan&zwnj;&#8203;ager</code>"},{"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"score":0,"creation_date":1685600866,"post_id":76374340,"comment_id":134683318,"body_markdown":"@AndreyB.Panfilov Nope, it is not. It works as expected.","body":"@AndreyB.Panfilov Nope, it is not. It works as expected."},{"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"score":0,"creation_date":1685600891,"post_id":76374340,"comment_id":134683324,"body_markdown":"@geobreze Yes. `@EnableTransactionManagement` is added.","body":"@geobreze Yes. <code>@EnableTransactionManagement</code> is added."}],"answers":[{"tags":[],"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685600896,"creation_date":1685600896,"answer_id":76379205,"question_id":76374340,"body_markdown":"The first comment mentioning a possible duplicate helped me move forward. I changed the Constructor injection to field injection and added `@Lazy` and it started working.\r\nMore Information can be found here: \r\n- https://stackoverflow.com/questions/76374340/spring-not-creating-proxy-object-for-a-spring-service-that-has-a-public-method-w?noredirect=1#comment134675117_76374340\r\n- https://www.baeldung.com/spring-not-eligible-for-auto-proxying\r\n- https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/\r\n- https://www.startups.com/community/questions/7706/springboot-doesn-t-load-bean-globalmethodsecurityconfiguration-err-not-eligible","title":"Spring not creating Proxy Object for A Spring Service that has a public method with @Transactional annotation","body":"<p>The first comment mentioning a possible duplicate helped me move forward. I changed the Constructor injection to field injection and added <code>@Lazy</code> and it started working.\nMore Information can be found here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/76374340/spring-not-creating-proxy-object-for-a-spring-service-that-has-a-public-method-w?noredirect=1#comment134675117_76374340\">Spring not creating Proxy Object for A Spring Service that has a public method with @Transactional annotation</a></li>\n<li><a href=\"https://www.baeldung.com/spring-not-eligible-for-auto-proxying\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-not-eligible-for-auto-proxying</a></li>\n<li><a href=\"https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/\" rel=\"nofollow noreferrer\">https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/</a></li>\n<li><a href=\"https://www.startups.com/community/questions/7706/springboot-doesn-t-load-bean-globalmethodsecurityconfiguration-err-not-eligible\" rel=\"nofollow noreferrer\">https://www.startups.com/community/questions/7706/springboot-doesn-t-load-bean-globalmethodsecurityconfiguration-err-not-eligible</a></li>\n</ul>\n"}],"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685600896,"creation_date":1685541778,"question_id":76374340,"body_markdown":"I have a RestController that has a Service with a public method annotated with `@Transactional`. The RestController class is annotated with `@RestController`, and the service bean is injected using Constructor injection. You can assume that the service is written as a different public class. `MyRespository` is annotated with `@Repository` annotation.\r\n\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.support.TransactionSynchronizationManager;\r\n    import org.springframework.web.bind.annotation.PatchMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import javax.transaction.Transactional;\r\n    \r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class MyController {\r\n    \r\n        private final MyService myService;\r\n    \r\n        @PatchMapping(&quot;/some-endpoint&quot;)\r\n        public SomeCustomObject updateSomeObject(){\r\n            // This prints `package.x.y.z.MyService` as opposed to something like `package.x.y.z.MyService$$EnhancerBySpringCGLIB$$a1b2c3d4`\r\n            log.info(&quot;myService proxy {}&quot;, myService.getClass());\r\n            return myService.updateSomeObject();\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class MyService extends SomeBaseService{\r\n    \r\n        private final MyRepository myRepository;\r\n    \r\n        @Transactional(rollbackOn = SomeCustomException.class)\r\n        public SomeCustomObject updateSomeObject(){\r\n            log.info(&quot;Is Transaction Active {} Name {} &quot;, TransactionSynchronizationManager.isActualTransactionActive(),\r\n                    TransactionSynchronizationManager.getCurrentTransactionName()); // This prints `false` and `null`\r\n            SomeCustomObject someCustomObject = getTheObj();\r\n            updateTheObject(someCustomObject);\r\n        } // Updates are not persisted to the database.\r\n    \r\n        private SomeCustomObject getTheObj(){\r\n            return myRepository.HugeMethodNameThatsWhyUsedAMethodAsWrapper();\r\n        }\r\n    \r\n        private void updateTheObject(SomeCustomObject someCustomObject){\r\n            myRepository.setSomething(someCustomObject);\r\n        }\r\n    }\r\n\r\nOn googling, I found Spring may not be able to create a proxy if circular dependencies are there. So I tried Field injection using `@Autowired` still the log output show the real object.\r\n\r\nIn one of the other controllers which have another service, which also extends from the `SomeBaseService` like `MyService` class, injected, the proxy is being created and all these classes are within the same base package.","title":"Spring not creating Proxy Object for A Spring Service that has a public method with @Transactional annotation","body":"<p>I have a RestController that has a Service with a public method annotated with <code>@Transactional</code>. The RestController class is annotated with <code>@RestController</code>, and the service bean is injected using Constructor injection. You can assume that the service is written as a different public class. <code>MyRespository</code> is annotated with <code>@Repository</code> annotation.</p>\n<pre><code>import lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.support.TransactionSynchronizationManager;\nimport org.springframework.web.bind.annotation.PatchMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.transaction.Transactional;\n\n@RestController\n@RequiredArgsConstructor\npublic class MyController {\n\n    private final MyService myService;\n\n    @PatchMapping(&quot;/some-endpoint&quot;)\n    public SomeCustomObject updateSomeObject(){\n        // This prints `package.x.y.z.MyService` as opposed to something like `package.x.y.z.MyService$$EnhancerBySpringCGLIB$$a1b2c3d4`\n        log.info(&quot;myService proxy {}&quot;, myService.getClass());\n        return myService.updateSomeObject();\n    }\n\n}\n\n\n@Service\n@RequiredArgsConstructor\npublic class MyService extends SomeBaseService{\n\n    private final MyRepository myRepository;\n\n    @Transactional(rollbackOn = SomeCustomException.class)\n    public SomeCustomObject updateSomeObject(){\n        log.info(&quot;Is Transaction Active {} Name {} &quot;, TransactionSynchronizationManager.isActualTransactionActive(),\n                TransactionSynchronizationManager.getCurrentTransactionName()); // This prints `false` and `null`\n        SomeCustomObject someCustomObject = getTheObj();\n        updateTheObject(someCustomObject);\n    } // Updates are not persisted to the database.\n\n    private SomeCustomObject getTheObj(){\n        return myRepository.HugeMethodNameThatsWhyUsedAMethodAsWrapper();\n    }\n\n    private void updateTheObject(SomeCustomObject someCustomObject){\n        myRepository.setSomething(someCustomObject);\n    }\n}\n</code></pre>\n<p>On googling, I found Spring may not be able to create a proxy if circular dependencies are there. So I tried Field injection using <code>@Autowired</code> still the log output show the real object.</p>\n<p>In one of the other controllers which have another service, which also extends from the <code>SomeBaseService</code> like <code>MyService</code> class, injected, the proxy is being created and all these classes are within the same base package.</p>\n"},{"tags":["java","swing","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676737713,"post_id":75493730,"comment_id":133199345,"body_markdown":"What UI framework? JavaFX, Swing, AWT, SWT, Vaadin?","body":"What UI framework? JavaFX, Swing, AWT, SWT, Vaadin?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676816928,"post_id":75493730,"comment_id":133209420,"body_markdown":"@BasilBourque The OP is referring to IntelliJ itself, so in a sense the framework *is* IntelliJ.","body":"@BasilBourque The OP is referring to IntelliJ itself, so in a sense the framework <i>is</i> IntelliJ."},{"owner":{"account_id":2568958,"reputation":863,"user_id":2692704,"display_name":"foobarna"},"score":0,"creation_date":1676841879,"post_id":75493730,"comment_id":133213993,"body_markdown":"@BasilBourque as Mark noted, it&#39;s the framework used to develop the IDE itself and I think is based on Swing.","body":"@BasilBourque as Mark noted, it&#39;s the framework used to develop the IDE itself and I think is based on Swing."}],"answers":[{"tags":[],"owner":{"account_id":8835692,"reputation":1670,"user_id":6629569,"accept_rate":71,"display_name":"Abby"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685600851,"creation_date":1676806039,"answer_id":75499797,"question_id":75493730,"body_markdown":"When running IntelliJ in internal mode (should be by default in your sandbox), you get the [UI inspector](https://plugins.jetbrains.com/docs/intellij/internal-ui-inspector.html) under **Tools &gt; Internal Actions &gt; UI &gt; UI Inspector**.\r\n\r\nThe specific UI element you are looking for is hard to get this way though, because when transferring focus to the UI inspector you lose the find popup.\r\nMy guess is that you are looking for an implementation of [`ItemPresentation`](https://github.com/JetBrains/intellij-community/blob/master/platform/core-api/src/com/intellij/navigation/ItemPresentation.java), the one in [`PsiFileImpl`](https://github.com/JetBrains/intellij-community/blob/c1d5eea5a08b1d67abf65804d3a573f5a25f791e/platform/core-impl/src/com/intellij/psi/impl/source/PsiFileImpl.java#L888`) might give you a good starting point.\r\n\r\n---\r\n\r\n**Edit.** You *can* open the UI inspector for any UI element with the shortcut &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Click&lt;/kbd&gt;, where you click on the element you want to inspect.","title":"Inspect UI in IntelliJ IDEs","body":"<p>When running IntelliJ in internal mode (should be by default in your sandbox), you get the <a href=\"https://plugins.jetbrains.com/docs/intellij/internal-ui-inspector.html\" rel=\"nofollow noreferrer\">UI inspector</a> under <strong>Tools &gt; Internal Actions &gt; UI &gt; UI Inspector</strong>.</p>\n<p>The specific UI element you are looking for is hard to get this way though, because when transferring focus to the UI inspector you lose the find popup.\nMy guess is that you are looking for an implementation of <a href=\"https://github.com/JetBrains/intellij-community/blob/master/platform/core-api/src/com/intellij/navigation/ItemPresentation.java\" rel=\"nofollow noreferrer\"><code>ItemPresentation</code></a>, the one in <a href=\"https://github.com/JetBrains/intellij-community/blob/c1d5eea5a08b1d67abf65804d3a573f5a25f791e/platform/core-impl/src/com/intellij/psi/impl/source/PsiFileImpl.java#L888%60\" rel=\"nofollow noreferrer\"><code>PsiFileImpl</code></a> might give you a good starting point.</p>\n<hr />\n<p><strong>Edit.</strong> You <em>can</em> open the UI inspector for any UI element with the shortcut <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>Click</kbd>, where you click on the element you want to inspect.</p>\n"}],"owner":{"account_id":2568958,"reputation":863,"user_id":2692704,"display_name":"foobarna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75499797,"answer_count":1,"score":1,"last_activity_date":1685600851,"creation_date":1676727705,"question_id":75493730,"body_markdown":"I want to modify some UI in IntelliJ straight from the code (https://github.com/JetBrains/intellij-community), but I am having a hard time to identify which panel/class that particular UI component is.\r\n\r\nIs there a way to tell &quot;Hey, what panel is beneath the mouse cursor?&quot;? - just like &quot;Inspect element&quot; in a browser.\r\n\r\nThe particular UI piece is the &quot;file + line number&quot; from the find panel:\r\n[![enter image description here](https://i.stack.imgur.com/8RG94.png)](https://i.stack.imgur.com/8RG94.png)\r\n\r\nI&#39;ve added the code from https://github.com/JetBrains/intellij-community and tried searching by strings found in the &quot;Find&quot; panel, but as I&#39;m not a Java developer, haven&#39;t found what I&#39;m looking for.\r\n\r\n","title":"Inspect UI in IntelliJ IDEs","body":"<p>I want to modify some UI in IntelliJ straight from the code (<a href=\"https://github.com/JetBrains/intellij-community\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/intellij-community</a>), but I am having a hard time to identify which panel/class that particular UI component is.</p>\n<p>Is there a way to tell &quot;Hey, what panel is beneath the mouse cursor?&quot;? - just like &quot;Inspect element&quot; in a browser.</p>\n<p>The particular UI piece is the &quot;file + line number&quot; from the find panel:\n<a href=\"https://i.stack.imgur.com/8RG94.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8RG94.png\" alt=\"enter image description here\" /></a></p>\n<p>I've added the code from <a href=\"https://github.com/JetBrains/intellij-community\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/intellij-community</a> and tried searching by strings found in the &quot;Find&quot; panel, but as I'm not a Java developer, haven't found what I'm looking for.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5271912,"reputation":55,"user_id":4209925,"display_name":"rick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685600795,"creation_date":1685600795,"answer_id":76379185,"question_id":76379061,"body_markdown":"&gt; . in most of the cases it executes at the time but sometime it takes to many hours to call the method.\r\n&gt; Blockquote\r\n\r\nthread issue. If the available thread is busy for other task, you must wait maybe many hours.\r\n\r\n1. calling the async method from within the same class — won&#39;t work. you may see the detail [https://www.baeldung.com/spring-async][1]\r\n\r\n2. you should create a ThreadPool and its size should bigger than 1, you may see the detail [https://spring.io/guides/gs/async-method/][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-async\r\n  [2]: https://spring.io/guides/gs/async-method/","title":"Calling method with @Async annotation called after to much time in spring boot","body":"<blockquote>\n<p>. in most of the cases it executes at the time but sometime it takes to many hours to call the method.\nBlockquote</p>\n</blockquote>\n<p>thread issue. If the available thread is busy for other task, you must wait maybe many hours.</p>\n<ol>\n<li><p>calling the async method from within the same class — won't work. you may see the detail <a href=\"https://www.baeldung.com/spring-async\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-async</a></p>\n</li>\n<li><p>you should create a ThreadPool and its size should bigger than 1, you may see the detail <a href=\"https://spring.io/guides/gs/async-method/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/async-method/</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":10892613,"reputation":29,"user_id":8007829,"display_name":"Bilal Ghanchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685600795,"creation_date":1685599311,"question_id":76379061,"body_markdown":"I am using **java-11** and **spring boot 2.3.8.RELEASE** in my project.\r\n\r\nIn my project, I got the issue in calling **@async** method.\r\n\r\nwhen i call **@async** method sometimes it called after to many hours. in most of the cases it executes at the time but sometime it takes to many hours to call the method. \r\n\r\nbelow is my code\r\n\r\n```` \r\npublic void methodA(){\r\n     logger.info(&quot;going to call async method&quot;);\r\n     this.methodB();\r\n     logger.info(&quot;async method execution completed&quot;);\r\n}\r\n\r\n@Async\r\npublic void methodB(){\r\n      logger.info(&quot;inside async method&quot;);\r\n}\r\n\r\n````\r\n\r\nwhen i checked logs for above then it i got o/p as below\r\n\r\n````\r\n2023-05-29 03:36:36.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : going to call async method\r\n\r\n2023-05-29 04:53:08.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : inside async method\r\n\r\n2023-05-29 04:53:08.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : async method execution completed\r\n````\r\n\r\n\r\nI don&#39;t understand why this is happening.\r\nSometime it works well as expected and sometime it&#39;s working like this \r\n\r\nAny help is appreciated\r\n\r\nPlease guide. Thanks\r\n\r\n","title":"Calling method with @Async annotation called after to much time in spring boot","body":"<p>I am using <strong>java-11</strong> and <strong>spring boot 2.3.8.RELEASE</strong> in my project.</p>\n<p>In my project, I got the issue in calling <strong>@async</strong> method.</p>\n<p>when i call <strong>@async</strong> method sometimes it called after to many hours. in most of the cases it executes at the time but sometime it takes to many hours to call the method.</p>\n<p>below is my code</p>\n<pre><code>public void methodA(){\n     logger.info(&quot;going to call async method&quot;);\n     this.methodB();\n     logger.info(&quot;async method execution completed&quot;);\n}\n\n@Async\npublic void methodB(){\n      logger.info(&quot;inside async method&quot;);\n}\n\n</code></pre>\n<p>when i checked logs for above then it i got o/p as below</p>\n<pre><code>2023-05-29 03:36:36.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : going to call async method\n\n2023-05-29 04:53:08.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : inside async method\n\n2023-05-29 04:53:08.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : async method execution completed\n</code></pre>\n<p>I don't understand why this is happening.\nSometime it works well as expected and sometime it's working like this</p>\n<p>Any help is appreciated</p>\n<p>Please guide. Thanks</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":2802397,"reputation":1110,"user_id":5339661,"display_name":"Marcos Barbero"},"score":2,"creation_date":1617005779,"post_id":66850744,"comment_id":118169516,"body_markdown":"I believe it&#39;s better if you use Liquibase or Flyway for that purposed, it will give you a lot more control over what you are trying to achieve.","body":"I believe it&#39;s better if you use Liquibase or Flyway for that purposed, it will give you a lot more control over what you are trying to achieve."},{"owner":{"account_id":19880392,"reputation":11,"user_id":14564531,"display_name":"mariaILikeIt"},"score":0,"creation_date":1617008554,"post_id":66850744,"comment_id":118170581,"body_markdown":"Thanks @MarcosBarbero, are there any good resources for Liquibase or Flyway you can recommend?","body":"Thanks @MarcosBarbero, are there any good resources for Liquibase or Flyway you can recommend?"},{"owner":{"account_id":2802397,"reputation":1110,"user_id":5339661,"display_name":"Marcos Barbero"},"score":1,"creation_date":1617014547,"post_id":66850744,"comment_id":118173014,"body_markdown":"You can refer to Liquibase&#39;s official guide here https://docs.liquibase.com/tools-integrations/springboot/springboot.html","body":"You can refer to Liquibase&#39;s official guide here <a href=\"https://docs.liquibase.com/tools-integrations/springboot/springboot.html\" rel=\"nofollow noreferrer\">docs.liquibase.com/tools-integrations/springboot/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4703670,"reputation":141,"user_id":3806532,"display_name":"Tavo Sanchez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617006172,"creation_date":1617006172,"answer_id":66850865,"question_id":66850744,"body_markdown":"If you are using `schema.sql` and `data.sql` you have to disable the `spring.jpa.hibernate.ddl-auto` ie. `spring.jpa.hibernate.ddl-auto=none`.\r\nTake a look at the [documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-initialize-a-database-using-spring-jdbc) on how to initialize the database.","title":"Spring H2 database - cannot initilize and persist data","body":"<p>If you are using <code>schema.sql</code> and <code>data.sql</code> you have to disable the <code>spring.jpa.hibernate.ddl-auto</code> ie. <code>spring.jpa.hibernate.ddl-auto=none</code>.\nTake a look at the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-initialize-a-database-using-spring-jdbc\" rel=\"nofollow noreferrer\">documentation</a> on how to initialize the database.</p>\n"},{"tags":[],"owner":{"account_id":22105716,"reputation":1,"user_id":16361418,"display_name":"Rob Ladrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685598437,"creation_date":1685598437,"answer_id":76378981,"question_id":66850744,"body_markdown":"i just tried with import.sql instead of data.sql and works for me","title":"Spring H2 database - cannot initilize and persist data","body":"<p>i just tried with import.sql instead of data.sql and works for me</p>\n"}],"owner":{"account_id":19880392,"reputation":11,"user_id":14564531,"display_name":"mariaILikeIt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685600312,"creation_date":1617005565,"question_id":66850744,"body_markdown":"I would like to create an app that fills a **`H2`** database with some data on the first startup and persists it. Unless I remove the db file, the data is saved in the file and not overwritten. If I remove the db file, I would like the app to create it again with the basic set of data. I&#39;ve made two files `schema.sql` and `data.sql`.\r\n\r\n**Schema.sql**\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS ACCOUNT\r\n(\r\n    id      INT AUTO_INCREMENT PRIMARY KEY,\r\n    NAME    VARCHAR(50) UNIQUE NOT NULL,\r\n    BALANCE INT                NOT NULL\r\n);\r\n\r\n```\r\n\r\n**Data.sql**\r\n```\r\nINSERT INTO ACCOUNT(NAME, BALANCE)\r\nVALUES (&#39;Wallet&#39;, 100);\r\nINSERT INTO ACCOUNT(NAME, BALANCE)\r\nVALUES (&#39;Savings&#39;, 5000);\r\nINSERT INTO ACCOUNT(NAME, BALANCE)\r\nVALUES (&#39;Budget3&#39;, 0);\r\nINSERT INTO ACCOUNT(NAME, BALANCE)\r\nVALUES (&#39;Budget4&#39;, 0);\r\n```\r\n\r\n\r\nAnd my application.properties\r\n\r\n```\r\nspring.h2.console.path=/h2\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.show-sql=true\r\nspring.h2.console.enabled=true\r\nspring.datasource.url = jdbc:h2:file:./data/sample;DB_CLOSE_ON_EXIT=FALSE;AUTO_RECONNECT=TRUE\r\n```\r\nIn the current setup, the data.sql does not populate the db on first start. If I add `#spring.datasource.initialization-mode=always` - it populates the db on the first run, but causes issues afterwards.","title":"Spring H2 database - cannot initilize and persist data","body":"<p>I would like to create an app that fills a <strong><code>H2</code></strong> database with some data on the first startup and persists it. Unless I remove the db file, the data is saved in the file and not overwritten. If I remove the db file, I would like the app to create it again with the basic set of data. I've made two files <code>schema.sql</code> and <code>data.sql</code>.</p>\n<p><strong>Schema.sql</strong></p>\n<pre><code>CREATE TABLE IF NOT EXISTS ACCOUNT\n(\n    id      INT AUTO_INCREMENT PRIMARY KEY,\n    NAME    VARCHAR(50) UNIQUE NOT NULL,\n    BALANCE INT                NOT NULL\n);\n\n</code></pre>\n<p><strong>Data.sql</strong></p>\n<pre><code>INSERT INTO ACCOUNT(NAME, BALANCE)\nVALUES ('Wallet', 100);\nINSERT INTO ACCOUNT(NAME, BALANCE)\nVALUES ('Savings', 5000);\nINSERT INTO ACCOUNT(NAME, BALANCE)\nVALUES ('Budget3', 0);\nINSERT INTO ACCOUNT(NAME, BALANCE)\nVALUES ('Budget4', 0);\n</code></pre>\n<p>And my application.properties</p>\n<pre><code>spring.h2.console.path=/h2\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.show-sql=true\nspring.h2.console.enabled=true\nspring.datasource.url = jdbc:h2:file:./data/sample;DB_CLOSE_ON_EXIT=FALSE;AUTO_RECONNECT=TRUE\n</code></pre>\n<p>In the current setup, the data.sql does not populate the db on first start. If I add <code>#spring.datasource.initialization-mode=always</code> - it populates the db on the first run, but causes issues afterwards.</p>\n"},{"tags":["java","emoji"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685598719,"post_id":76378972,"comment_id":134683033,"body_markdown":"I imagine you need to add a UTF-16 _encoding_ declaration as a _[launch option](https://code.visualstudio.com/docs/java/java-debugging#_launch)_ in the _launch.json_.","body":"I imagine you need to add a UTF-16 <i>encoding</i> declaration as a <i><a href=\"https://code.visualstudio.com/docs/java/java-debugging#_launch\" rel=\"nofollow noreferrer\">launch option</a></i> in the <i>launch.json</i>."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685606951,"post_id":76378972,"comment_id":134684431,"body_markdown":"@Reilas Java may internally use UTF-16 for `char`, that does not mean it uses UTF-16 for source and communication with consoles and things (since Java 18 it is UTF-8 by default, before that - on Windows - it is generally a locale specific encoding, like windows-1252).","body":"@Reilas Java may internally use UTF-16 for <code>char</code>, that does not mean it uses UTF-16 for source and communication with consoles and things (since Java 18 it is UTF-8 by default, before that - on Windows - it is generally a locale specific encoding, like windows-1252)."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685639895,"post_id":76378972,"comment_id":134692203,"body_markdown":"@MarkRotteveel, is that what the launch option would be changing?  Only a JVM option?  I misinterpreted.","body":"@MarkRotteveel, is that what the launch option would be changing?  Only a JVM option?  I misinterpreted."}],"answers":[{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685600248,"creation_date":1685600248,"answer_id":76379147,"question_id":76378972,"body_markdown":"It works for me in both VS Code and IntelliJ IDEA.\r\n\r\nPlease check your settings for terminal and file encoding.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0J54x.png","title":"Why do emojis print as weird symbols in my Java project on Visual Studio Code?","body":"<p>It works for me in both VS Code and IntelliJ IDEA.</p>\n<p>Please check your settings for terminal and file encoding.</p>\n<p><a href=\"https://i.stack.imgur.com/0J54x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0J54x.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28724842,"reputation":1,"user_id":21997834,"display_name":"holdtheline"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685600248,"creation_date":1685598337,"question_id":76378972,"body_markdown":"Displaying UTF-8 Emojis in java\r\n\r\nI&#39;m trying to print emojis such as &quot;&#128674;&quot; in java on Visual Studio Code, but it would replace every emoji with a &quot;?&quot;\r\nI tried to find solutions online and found that by importing:\r\n\r\n```\r\nimport java.io.FileDescriptor;\r\nimport java.io.FileOutputStream;\r\nimport java.io.PrintStream;\r\nimport java.nio.charset.StandardCharsets;\r\n```\r\nI could print using a new printStream, which got me to:\r\n```\r\n PrintStream ps = new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8);\r\n ps.println(&quot;&#128674;&quot;);\r\n```\r\nHowever, this only returned unintended symbols &quot;≡ƒ&#220;&#243;&quot;. \r\nHow can I get it to display the intended emojis?","title":"Why do emojis print as weird symbols in my Java project on Visual Studio Code?","body":"<p>Displaying UTF-8 Emojis in java</p>\n<p>I'm trying to print emojis such as &quot;🚢&quot; in java on Visual Studio Code, but it would replace every emoji with a &quot;?&quot;\nI tried to find solutions online and found that by importing:</p>\n<pre><code>import java.io.FileDescriptor;\nimport java.io.FileOutputStream;\nimport java.io.PrintStream;\nimport java.nio.charset.StandardCharsets;\n</code></pre>\n<p>I could print using a new printStream, which got me to:</p>\n<pre><code> PrintStream ps = new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8);\n ps.println(&quot;🚢&quot;);\n</code></pre>\n<p>However, this only returned unintended symbols &quot;≡ƒÜó&quot;.\nHow can I get it to display the intended emojis?</p>\n"},{"tags":["java","eclipse","project","startup","startup-error"],"comments":[{"owner":{"display_name":"user1131435"},"score":13,"creation_date":1366926023,"post_id":16225177,"comment_id":23206890,"body_markdown":"Do you have a `public static void main(String[] args)` anywhere?","body":"Do you have a <code>public static void main(String[] args)</code> anywhere?"},{"owner":{"account_id":2687521,"reputation":1049,"user_id":2321611,"accept_rate":78,"display_name":"user2321611"},"score":2,"creation_date":1366926230,"post_id":16225177,"comment_id":23206966,"body_markdown":"I do have public class &quot;name&quot; extends JFrame","body":"I do have public class &quot;name&quot; extends JFrame"},{"owner":{"account_id":898283,"reputation":1283,"user_id":935079,"accept_rate":100,"display_name":"jambriz"},"score":3,"creation_date":1366926886,"post_id":16225177,"comment_id":23207212,"body_markdown":"i dont know what causes this, or how to solve it, but it sure has happened to me with public classes that do have a main method (correctly declared of course). Just wanted to point out that it may not be as simple as you might think","body":"i dont know what causes this, or how to solve it, but it sure has happened to me with public classes that do have a main method (correctly declared of course). Just wanted to point out that it may not be as simple as you might think"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":2,"creation_date":1366926944,"post_id":16225177,"comment_id":23207232,"body_markdown":"I think all the probes point that he&#39;s trying to run some classes without a main method. We&#39;ll continue investigating.","body":"I think all the probes point that he&#39;s trying to run some classes without a main method. We&#39;ll continue investigating."},{"owner":{"account_id":5834077,"reputation":73,"user_id":4597705,"accept_rate":75,"display_name":"Andr&#233; Lu&#237;s Tomaz Dionisio"},"score":1,"creation_date":1515170216,"post_id":16225177,"comment_id":83211703,"body_markdown":"Maybe it is a maven project so click in the name of your project and hit the follow keys alt+f5 to update the project.","body":"Maybe it is a maven project so click in the name of your project and hit the follow keys alt+f5 to update the project."},{"owner":{"account_id":1065843,"reputation":157,"user_id":1101680,"display_name":"TheGeeko61"},"score":0,"creation_date":1657587457,"post_id":16225177,"comment_id":128841169,"body_markdown":"Ten years later, and I receive it on version 2022-06 of eclipse.  Running on Linux Ubuntu 22.04.  Was there ever a viable answer among the many given?  Looks like a lot of shot-iin-the-dark responses.","body":"Ten years later, and I receive it on version 2022-06 of eclipse.  Running on Linux Ubuntu 22.04.  Was there ever a viable answer among the many given?  Looks like a lot of shot-iin-the-dark responses."}],"answers":[{"tags":[],"owner":{"display_name":"user1131435"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1366927332,"creation_date":1366927332,"answer_id":16225497,"question_id":16225177,"body_markdown":"The entry point for Java programs is the method:\r\n\r\n    public static void main(String[] args) {\r\n        //Code\r\n    }\r\n\r\nIf you do not have this, your program will not run. ","title":"Error: Selection does not contain a main type","body":"<p>The entry point for Java programs is the method:</p>\n\n<pre><code>public static void main(String[] args) {\n    //Code\n}\n</code></pre>\n\n<p>If you do not have this, your program will not run. </p>\n"},{"tags":[],"owner":{"account_id":1507235,"reputation":6056,"user_id":1410342,"accept_rate":95,"display_name":"NoNaMe"},"down_vote_count":3,"up_vote_count":31,"is_accepted":true,"score":28,"last_activity_date":1613662588,"creation_date":1366958828,"answer_id":16230316,"question_id":16225177,"body_markdown":"I hope you are trying to run the main class in this way, see screenshot:  \r\n![screenshot of Eclipse file context menu][1]\r\n\r\nIf not, then try this way. If yes, then please make sure that your class you are trying to run has a main method, that is, the same method definition as below:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    // some code here\r\n}\r\n```\r\n\r\nI hope this will help you.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aoCV9.png","title":"Error: Selection does not contain a main type","body":"<p>I hope you are trying to run the main class in this way, see screenshot:<br />\n<img src=\"https://i.stack.imgur.com/aoCV9.png\" alt=\"screenshot of Eclipse file context menu\" /></p>\n<p>If not, then try this way. If yes, then please make sure that your class you are trying to run has a main method, that is, the same method definition as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // some code here\n}\n</code></pre>\n<p>I hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":186042,"reputation":591,"user_id":423143,"display_name":"zen"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1379643097,"creation_date":1379643097,"answer_id":18907842,"question_id":16225177,"body_markdown":"The other answers are all valid, however, if you are still having a problem you might not have your class inside the src folder in which case Eclipse may not see it as part of the project. This would also invoke the same error message you have seen. ","title":"Error: Selection does not contain a main type","body":"<p>The other answers are all valid, however, if you are still having a problem you might not have your class inside the src folder in which case Eclipse may not see it as part of the project. This would also invoke the same error message you have seen. </p>\n"},{"tags":[],"owner":{"account_id":1373820,"reputation":1579,"user_id":1308236,"accept_rate":79,"display_name":"Dev M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393606026,"creation_date":1393606026,"answer_id":22100992,"question_id":16225177,"body_markdown":"You must place all your files (file.java) under the root folder **SRC**.","title":"Error: Selection does not contain a main type","body":"<p>You must place all your files (file.java) under the root folder <strong>SRC</strong>.</p>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1394118945,"creation_date":1394118945,"answer_id":22228526,"question_id":16225177,"body_markdown":"Few things to check out:\r\n\r\n1. Do you have a main package? do all of your classes are under this package?\r\n2. Do you use a main class with public static void main(String[] args)?\r\n3. Do you declare: package &lt;your package name&gt;; in your main class?\r\n4. You can always clean the project before running it. In Eclipse - Just go to  Project -&gt; clean then run the app again. \r\n\r\n","title":"Error: Selection does not contain a main type","body":"<p>Few things to check out:</p>\n\n<ol>\n<li>Do you have a main package? do all of your classes are under this package?</li>\n<li>Do you use a main class with public static void main(String[] args)?</li>\n<li>Do you declare: package ; in your main class?</li>\n<li>You can always clean the project before running it. In Eclipse - Just go to  Project -> clean then run the app again. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4315658,"reputation":941,"user_id":3525611,"display_name":"Rashid"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1644932714,"creation_date":1397259692,"answer_id":23024294,"question_id":16225177,"body_markdown":"Right click on the folder where you put your main class then click on `Build Path` --&gt; `Use as Source Folder`.\r\n\r\n Finally run your main file as java application. Hope this problem will be solved.\r\n\r\nIf the option &#39;Use as Source Folder&#39; is not visible then inside the &#39;Build Path&#39; select the option &#39;Remove from Build Path&#39;. This will allow &#39;Use as Source Folder&#39; option to appear in the &#39;Build Path&#39;.","title":"Error: Selection does not contain a main type","body":"<p>Right click on the folder where you put your main class then click on <code>Build Path</code> --&gt; <code>Use as Source Folder</code>.</p>\n<p>Finally run your main file as java application. Hope this problem will be solved.</p>\n<p>If the option 'Use as Source Folder' is not visible then inside the 'Build Path' select the option 'Remove from Build Path'. This will allow 'Use as Source Folder' option to appear in the 'Build Path'.</p>\n"},{"tags":[],"owner":{"account_id":102459,"reputation":1508,"user_id":275027,"accept_rate":68,"display_name":"mishal153"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1398192887,"creation_date":1398192296,"answer_id":23227742,"question_id":16225177,"body_markdown":"I resolved this by adding a new source folder and putting my java file inside that folder. &quot;source folder&quot; is not just any folder i believe. its some special folder type for java/eclipse and can be added in eclipse by right-click on project -&gt; properties -&gt; Java buld path -&gt; Source and add a folder","title":"Error: Selection does not contain a main type","body":"<p>I resolved this by adding a new source folder and putting my java file inside that folder. \"source folder\" is not just any folder i believe. its some special folder type for java/eclipse and can be added in eclipse by right-click on project -> properties -> Java buld path -> Source and add a folder</p>\n"},{"tags":[],"owner":{"account_id":2071510,"reputation":1531,"user_id":1845891,"accept_rate":40,"display_name":"shivesh suman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398840624,"creation_date":1398840624,"answer_id":23381448,"question_id":16225177,"body_markdown":"I ran into the same issue and found that there was an extra pair of braces (curly brackets) enclosing public static void main(String args) { ... }. This method should really be at the top scope in the class and should not be enclosed around braces. It seems that it is possible to end up with braces around this method when working in Eclipse. This could be just one way you can see this issue when working with Eclipse. Happy coding!\r\n","title":"Error: Selection does not contain a main type","body":"<p>I ran into the same issue and found that there was an extra pair of braces (curly brackets) enclosing public static void main(String args) { ... }. This method should really be at the top scope in the class and should not be enclosed around braces. It seems that it is possible to end up with braces around this method when working in Eclipse. This could be just one way you can see this issue when working with Eclipse. Happy coding!</p>\n"},{"tags":[],"owner":{"account_id":463594,"reputation":972,"user_id":866596,"accept_rate":85,"display_name":"Keven M"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1401082958,"creation_date":1401082958,"answer_id":23863418,"question_id":16225177,"body_markdown":"I had this happen repeatedly after adding images to a project in Eclipse and making them part of the build path.  The solution was to right-click on the class containing the `main` method, and then choose Run As -&gt; Java Application.  It seems that when you add a file to the build path, Eclipse automatically assumes that file is where the `main` method is.  By going through the Run As menu instead of just clicking the green Run As button, it allows you to specify the correct entry-point.","title":"Error: Selection does not contain a main type","body":"<p>I had this happen repeatedly after adding images to a project in Eclipse and making them part of the build path.  The solution was to right-click on the class containing the <code>main</code> method, and then choose Run As -> Java Application.  It seems that when you add a file to the build path, Eclipse automatically assumes that file is where the <code>main</code> method is.  By going through the Run As menu instead of just clicking the green Run As button, it allows you to specify the correct entry-point.</p>\n"},{"tags":[],"owner":{"account_id":4969821,"reputation":31,"user_id":3998007,"display_name":"Yang Zhang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409592645,"creation_date":1409592645,"answer_id":25610623,"question_id":16225177,"body_markdown":"I ran into the same problem.  I fixed by right click on the package -&gt; properties -&gt; Java Build Path -&gt; Add folder (select the folder your code reside in).","title":"Error: Selection does not contain a main type","body":"<p>I ran into the same problem.  I fixed by right click on the package -> properties -> Java Build Path -> Add folder (select the folder your code reside in).</p>\n"},{"tags":[],"owner":{"account_id":2707308,"reputation":246,"user_id":2336634,"accept_rate":50,"display_name":"KC McLaughlin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410181621,"creation_date":1410181621,"answer_id":25725013,"question_id":16225177,"body_markdown":"When you save your file, make sure it has the extension .java.  If it does not, Eclipse won&#39;t know to read it as a java file.","title":"Error: Selection does not contain a main type","body":"<p>When you save your file, make sure it has the extension .java.  If it does not, Eclipse won't know to read it as a java file.</p>\n"},{"tags":[],"owner":{"account_id":3608976,"reputation":413,"user_id":3010484,"display_name":"hipokito"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1451501273,"creation_date":1451501273,"answer_id":34535347,"question_id":16225177,"body_markdown":"I am running eclipse from Ubuntu. Had this same problem and was able run the program through terminal. So I just moved the existing `public static void main(String[] args) {` just below the class declaration (it got automatically formatted by eclipse) and the next launch was successful. Then moved the main method back to where it was before and it worked fine this time.","title":"Error: Selection does not contain a main type","body":"<p>I am running eclipse from Ubuntu. Had this same problem and was able run the program through terminal. So I just moved the existing <code>public static void main(String[] args) {</code> just below the class declaration (it got automatically formatted by eclipse) and the next launch was successful. Then moved the main method back to where it was before and it worked fine this time.</p>\n"},{"tags":[],"owner":{"account_id":11763655,"reputation":1486,"user_id":8608962,"accept_rate":50,"display_name":"sander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537513542,"creation_date":1537513542,"answer_id":52438325,"question_id":16225177,"body_markdown":"Make sure the `main` in `public static void main(String[] args)` is lower case. For me it didn&#39;t work when I had it with capital letter.","title":"Error: Selection does not contain a main type","body":"<p>Make sure the <code>main</code> in <code>public static void main(String[] args)</code> is lower case. For me it didn't work when I had it with capital letter.</p>\n"},{"tags":[],"owner":{"account_id":4526530,"reputation":377,"user_id":3678163,"accept_rate":71,"display_name":"Yithirash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551677525,"creation_date":1551677525,"answer_id":54977178,"question_id":16225177,"body_markdown":"Right Click &gt; Run AS &gt; Run Configurations\r\n\r\nIn this screen if your &quot;Main class&quot; Text field is empty, then add the class name by clicking &quot;Search&quot; button on the right side of the text field and choose the class file. And then click &quot;Run&quot; button on the bottom of the configuration screen. That&#39;s it","title":"Error: Selection does not contain a main type","body":"<p>Right Click > Run AS > Run Configurations</p>\n\n<p>In this screen if your \"Main class\" Text field is empty, then add the class name by clicking \"Search\" button on the right side of the text field and choose the class file. And then click \"Run\" button on the bottom of the configuration screen. That's it</p>\n"},{"tags":[],"owner":{"account_id":8935079,"reputation":343,"user_id":6666173,"display_name":"Rajiv Ranjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557903045,"creation_date":1557898869,"answer_id":56142404,"question_id":16225177,"body_markdown":"Put your Main Java class file in `src/main/java` folder and check if there is not any error in &#39;Java Build Path&#39; by following right click on project and select `Java Build Path-&gt;Source`.\r\n","title":"Error: Selection does not contain a main type","body":"<p>Put your Main Java class file in <code>src/main/java</code> folder and check if there is not any error in 'Java Build Path' by following right click on project and select <code>Java Build Path-&gt;Source</code>.</p>\n"},{"tags":[],"owner":{"account_id":5617704,"reputation":235,"user_id":4448479,"display_name":"&#216;yvind Roth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559415967,"creation_date":1559415967,"answer_id":56409642,"question_id":16225177,"body_markdown":"I had this problem in two projects. Maven and command line worked as expected for both. The problems were Eclipse specific. Two different solutions:\r\nProject 1): Move the main method declaration to the top within the class, above all other declarations like fields and constructors. Crazy, but it worked.\r\nProject 2): The solution for Project 1) did not remedy the problem. However, removing lombok imports and explicitly writing a getter method solved the problem\r\n\r\nConclusion:\r\nEclipse and/or the lombok plugin have/has a bug.","title":"Error: Selection does not contain a main type","body":"<p>I had this problem in two projects. Maven and command line worked as expected for both. The problems were Eclipse specific. Two different solutions:\nProject 1): Move the main method declaration to the top within the class, above all other declarations like fields and constructors. Crazy, but it worked.\nProject 2): The solution for Project 1) did not remedy the problem. However, removing lombok imports and explicitly writing a getter method solved the problem</p>\n\n<p>Conclusion:\nEclipse and/or the lombok plugin have/has a bug.</p>\n"},{"tags":[],"owner":{"account_id":7109625,"reputation":1066,"user_id":5438060,"display_name":"Abhishek Rathore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565759010,"creation_date":1565759010,"answer_id":57488414,"question_id":16225177,"body_markdown":"If you are working with a Maven project you have to understand the fact that directory layout is bit different. In this the package name must be **src/main/java**.\r\n\r\nFor this update your source folder by right click on project **root folder -&gt; properties -&gt; java build path -&gt; source tab**. Here remove all other source folders as they might have been added in wrong manner. Now, select project /src/main/java as the source folder. Add and apply the changes. Now refresh your workspace using F5.\r\n\r\nThis should fix the issue of not recognizing a main type.\r\n","title":"Error: Selection does not contain a main type","body":"<p>If you are working with a Maven project you have to understand the fact that directory layout is bit different. In this the package name must be <strong>src/main/java</strong>.</p>\n\n<p>For this update your source folder by right click on project <strong>root folder -> properties -> java build path -> source tab</strong>. Here remove all other source folders as they might have been added in wrong manner. Now, select project /src/main/java as the source folder. Add and apply the changes. Now refresh your workspace using F5.</p>\n\n<p>This should fix the issue of not recognizing a main type.</p>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593458904,"creation_date":1593458469,"answer_id":62645308,"question_id":16225177,"body_markdown":"I had this issue because the tutorial code I was trying to run wasn&#39;t in the correct package even though I had typed in the package name at the top of each class. \r\n\r\nI right-clicked each class, `Refactor` and `Move To` and accepted the package name suggestion.\r\n\r\nThen as usual, `Run As`... `Java Application`.\r\n\r\nAnd it worked `:)`","title":"Error: Selection does not contain a main type","body":"<p>I had this issue because the tutorial code I was trying to run wasn't in the correct package even though I had typed in the package name at the top of each class.</p>\n<p>I right-clicked each class, <code>Refactor</code> and <code>Move To</code> and accepted the package name suggestion.</p>\n<p>Then as usual, <code>Run As</code>... <code>Java Application</code>.</p>\n<p>And it worked <code>:)</code></p>\n"},{"tags":[],"owner":{"account_id":18705688,"reputation":3,"user_id":13636912,"display_name":"Anshul Khatri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614702398,"creation_date":1614702398,"answer_id":66443237,"question_id":16225177,"body_markdown":"You must check this as well, Go to Java build path -&gt; config build path, check that JRE System Library [Java SE -version] is check marked, try running the code again. This fixed my issue. ","title":"Error: Selection does not contain a main type","body":"<p>You must check this as well, Go to Java build path -&gt; config build path, check that JRE System Library [Java SE -version] is check marked, try running the code again. This fixed my issue.</p>\n"},{"tags":[],"owner":{"account_id":11597672,"reputation":359,"user_id":8495914,"display_name":"Zakir Hussain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616216351,"creation_date":1616216351,"answer_id":66718388,"question_id":16225177,"body_markdown":"Looks too late to answer but might help someone,\r\n\r\nHaving same problem i solved it by following steps:::::\r\n\r\nSelect Main class in eclipse then click on Window in menu bar, \r\n\r\n`Window--&gt;Show view--&gt;Select Outline`\r\n\r\nRight click on `main(String[]):void` then `Run As` --&gt; `java Application`\r\n\r\n[![Image reference for Running Main method][1]][1]\r\n\r\n\r\nBy doing this you can run the main method directly. This worked for me \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7lxte.jpg","title":"Error: Selection does not contain a main type","body":"<p>Looks too late to answer but might help someone,</p>\n<p>Having same problem i solved it by following steps:::::</p>\n<p>Select Main class in eclipse then click on Window in menu bar,</p>\n<p><code>Window--&gt;Show view--&gt;Select Outline</code></p>\n<p>Right click on <code>main(String[]):void</code> then <code>Run As</code> --&gt; <code>java Application</code></p>\n<p><a href=\"https://i.stack.imgur.com/7lxte.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7lxte.jpg\" alt=\"Image reference for Running Main method\" /></a></p>\n<p>By doing this you can run the main method directly. This worked for me</p>\n"},{"tags":[],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634583118,"creation_date":1634583118,"answer_id":69621114,"question_id":16225177,"body_markdown":"In my case I was using ant to perform the build, and clearly had the class setup in the build.xml file:\r\n\r\n    &lt;target name=&quot;jar&quot;&gt;\r\n      &lt;jar destfile=&quot;ec-stats.jar&quot; includes=&quot;bin/**,src/**&quot;&gt;\r\n        &lt;manifest&gt;\r\n            &lt;attribute name=&quot;Main-Class&quot; value=&quot;my.package.MyStatistics&quot; /&gt;\r\n        &lt;/manifest&gt;\r\n      &lt;/jar&gt;\r\n  \t&lt;/target&gt; \r\n\r\nBut it still kept giving me the same error, until I right-clicked on the folder in Eclipse and chose `Build Path` -&gt; `Use As Source Folder`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSee also https://stackoverflow.com/questions/16225177/error-selection-does-not-contain-a-main-type\r\n\r\n  [1]: https://i.stack.imgur.com/n2Ofl.jpg","title":"Error: Selection does not contain a main type","body":"<p>In my case I was using ant to perform the build, and clearly had the class setup in the build.xml file:</p>\n<pre><code>&lt;target name=&quot;jar&quot;&gt;\n  &lt;jar destfile=&quot;ec-stats.jar&quot; includes=&quot;bin/**,src/**&quot;&gt;\n    &lt;manifest&gt;\n        &lt;attribute name=&quot;Main-Class&quot; value=&quot;my.package.MyStatistics&quot; /&gt;\n    &lt;/manifest&gt;\n  &lt;/jar&gt;\n&lt;/target&gt; \n</code></pre>\n<p>But it still kept giving me the same error, until I right-clicked on the folder in Eclipse and chose <code>Build Path</code> -&gt; <code>Use As Source Folder</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/n2Ofl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n2Ofl.jpg\" alt=\"enter image description here\" /></a></p>\n<p>See also <a href=\"https://stackoverflow.com/questions/16225177/error-selection-does-not-contain-a-main-type\">Error: Selection does not contain a main type</a></p>\n"},{"tags":[],"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634752722,"creation_date":1634752722,"answer_id":69650951,"question_id":16225177,"body_markdown":"Solved the issue as following:\r\n 1) Going in Properties of the Project\r\n\r\n  - 1.1) Inside &quot;Java Compiler&quot;: chose the: &quot;Compiler compliance level:&quot; to a specific version of JDK (in my case I choosed 15)\r\n\r\n  - 1.2) Inside &quot;Java Build Path&quot;, in the tab &quot;Libraries&quot;, at the Modulepath:  change the &quot;JRE System Library&quot; to the same of the version you choosed at step 1.1 above (in my case I picked JDK 15)\r\n\r\n 2) Run the java file that contains a main method","title":"Error: Selection does not contain a main type","body":"<p>Solved the issue as following:</p>\n<ol>\n<li>Going in Properties of the Project</li>\n</ol>\n<ul>\n<li><p>1.1) Inside &quot;Java Compiler&quot;: chose the: &quot;Compiler compliance level:&quot; to a specific version of JDK (in my case I choosed 15)</p>\n</li>\n<li><p>1.2) Inside &quot;Java Build Path&quot;, in the tab &quot;Libraries&quot;, at the Modulepath:  change the &quot;JRE System Library&quot; to the same of the version you choosed at step 1.1 above (in my case I picked JDK 15)</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Run the java file that contains a main method</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23428548,"reputation":129,"user_id":17487723,"display_name":"Syed Aaqib Hussain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648307999,"creation_date":1648307999,"answer_id":71629301,"question_id":16225177,"body_markdown":"This can be resolved in two steps if you are using Eclipse IDE.\r\n\r\n**&#128073; Step I**: Right click on the project and click *Maven* &gt; Choose *Up-date Project*\r\n\r\n[![][1]][1]\r\n\r\n\r\n**&#128073; Step II**: Select the project the click *Ok button*\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OTlrp.png\r\n  [2]: https://i.stack.imgur.com/pn6Tu.png\r\n\r\nHope this helps.✔","title":"Error: Selection does not contain a main type","body":"<p>This can be resolved in two steps if you are using Eclipse IDE.</p>\n<p><strong>👉 Step I</strong>: Right click on the project and click <em>Maven</em> &gt; Choose <em>Up-date Project</em></p>\n<p><a href=\"https://i.stack.imgur.com/OTlrp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OTlrp.png\" alt=\"\" /></a></p>\n<p><strong>👉 Step II</strong>: Select the project the click <em>Ok button</em></p>\n<p><a href=\"https://i.stack.imgur.com/pn6Tu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pn6Tu.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope this helps.✔</p>\n"},{"tags":[],"owner":{"account_id":19587164,"reputation":13,"user_id":14335042,"display_name":"Pratik Chandra Tripathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664803028,"creation_date":1664803028,"answer_id":73936050,"question_id":16225177,"body_markdown":"This error usually occurs because jdk is not selected for the project. I had the same problem and this worked for me.\r\n\r\nMake sure that your class file is inside src folder then follow below steps\r\n\r\nStep 1: Right click on project folder\r\nStep 2: Build Path --&gt; Configure Build Path\r\nStep 3: Select &quot;Java Build Path&quot; from the left corner of the window\r\nStep 4: Under &quot;Order and Export&quot; **Tab**\r\nStep 5: Click on any of the jdk available check box to select it.\r\nStep 6: Click on Apply and Close. ","title":"Error: Selection does not contain a main type","body":"<p>This error usually occurs because jdk is not selected for the project. I had the same problem and this worked for me.</p>\n<p>Make sure that your class file is inside src folder then follow below steps</p>\n<p>Step 1: Right click on project folder\nStep 2: Build Path --&gt; Configure Build Path\nStep 3: Select &quot;Java Build Path&quot; from the left corner of the window\nStep 4: Under &quot;Order and Export&quot; <strong>Tab</strong>\nStep 5: Click on any of the jdk available check box to select it.\nStep 6: Click on Apply and Close.</p>\n"},{"tags":[],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685599893,"creation_date":1677956103,"answer_id":75637946,"question_id":16225177,"body_markdown":"1. ---&gt; Right click on the projecct and select `properties`.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. ---&gt; Select `Java Build Path`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n3. ---&gt; Select `Source` tab, see `source folders on build path` is pointing to your `project/src` path. If not, select `Add folder` and select the `src` folder.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n4. ---&gt; Under `Default output folder` see that it is pointing to your `ProjectName/src`\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n--------------------\r\n****Solution - 2****\r\n--------------------\r\n\r\n\r\nOr Try this way - https://stackoverflow.com/a/76375396/11962586\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JOwW0.png\r\n  [2]: https://i.stack.imgur.com/E9HK9.png\r\n  [3]: https://i.stack.imgur.com/kjbBF.png\r\n  [4]: https://i.stack.imgur.com/rzGtd.png","title":"Error: Selection does not contain a main type","body":"<ol>\n<li><p>---&gt; Right click on the projecct and select <code>properties</code>.\n<a href=\"https://i.stack.imgur.com/JOwW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JOwW0.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>---&gt; Select <code>Java Build Path</code></p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/E9HK9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E9HK9.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>---&gt; Select <code>Source</code> tab, see <code>source folders on build path</code> is pointing to your <code>project/src</code> path. If not, select <code>Add folder</code> and select the <code>src</code> folder.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/kjbBF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kjbBF.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>---&gt; Under <code>Default output folder</code> see that it is pointing to your <code>ProjectName/src</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/rzGtd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rzGtd.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h2><strong><strong>Solution - 2</strong></strong></h2>\n<p>Or Try this way - <a href=\"https://stackoverflow.com/a/76375396/11962586\">https://stackoverflow.com/a/76375396/11962586</a></p>\n"}],"owner":{"account_id":2687521,"reputation":1049,"user_id":2321611,"accept_rate":78,"display_name":"user2321611"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342608,"favorite_count":0,"down_vote_count":1,"up_vote_count":76,"accepted_answer_id":16230316,"answer_count":25,"score":75,"last_activity_date":1685599893,"creation_date":1366925932,"question_id":16225177,"body_markdown":"I am trying to run some java files in a new project. So I make the project, put the files in it and I try to run the main file so my game starts. \r\n\r\nI get an error that says `selection does not contain a main type`.\r\n\r\nI have tried several ways to run it:\r\n\r\n - Some say to launch eclipse again, tried this a dozen times. \r\n - Somewhere else someone pointed to open a new project and make a build path to the old project. \r\n\r\nDidn&#39;t work either. \r\n\r\nI am pretty sure it must work because I ran it a few hours ago at school. How do I get this working?  Thank you in advance! \r\n","title":"Error: Selection does not contain a main type","body":"<p>I am trying to run some java files in a new project. So I make the project, put the files in it and I try to run the main file so my game starts. </p>\n\n<p>I get an error that says <code>selection does not contain a main type</code>.</p>\n\n<p>I have tried several ways to run it:</p>\n\n<ul>\n<li>Some say to launch eclipse again, tried this a dozen times. </li>\n<li>Somewhere else someone pointed to open a new project and make a build path to the old project. </li>\n</ul>\n\n<p>Didn't work either. </p>\n\n<p>I am pretty sure it must work because I ran it a few hours ago at school. How do I get this working?  Thank you in advance! </p>\n"},{"tags":["java","flutter"],"owner":{"account_id":20486781,"reputation":988,"user_id":15033763,"display_name":"Kdon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685606808,"answer_count":0,"score":0,"last_activity_date":1685599241,"creation_date":1685599241,"question_id":76379057,"body_markdown":"I am using flutter in China with a VPN and ran into this issue related the java connection, which prevents flutter from running.\r\n\r\nMy internet connection works well with VPN. And flutter doctor has no errors. I have tried flutter pub clean, restarting PC, changing VPN location etc but can&#39;t get fix this error.\r\n\r\n\r\n```\r\nFlutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!\r\nLaunching lib\\main.dart on sdk gphone x86 64 in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\nException in thread &quot;main&quot; java.net.ConnectException: Connection refused: connect\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\r\n\tat java.base/sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:174)\r\n\tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:193)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:179)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1665)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n\tat org.gradle.wrapper.Download.downloadInternal(Download.java:58)\r\n\tat org.gradle.wrapper.Download.download(Download.java:44)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:61)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:48)\r\n\tat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\r\n\tat org.gradle.wrapper.Install.createDist(Install.java:48)\r\n\tat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\r\n\tat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```","title":"Flutter - error: Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused: connect","body":"<p>I am using flutter in China with a VPN and ran into this issue related the java connection, which prevents flutter from running.</p>\n<p>My internet connection works well with VPN. And flutter doctor has no errors. I have tried flutter pub clean, restarting PC, changing VPN location etc but can't get fix this error.</p>\n<pre><code>Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!\nLaunching lib\\main.dart on sdk gphone x86 64 in debug mode...\nRunning Gradle task 'assembleDebug'...\nException in thread &quot;main&quot; java.net.ConnectException: Connection refused: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\n    at java.base/sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:174)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)\n    at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\n    at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:193)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:179)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1665)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n    at org.gradle.wrapper.Download.downloadInternal(Download.java:58)\n    at org.gradle.wrapper.Download.download(Download.java:44)\n    at org.gradle.wrapper.Install$1.call(Install.java:61)\n    at org.gradle.wrapper.Install$1.call(Install.java:48)\n    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\n    at org.gradle.wrapper.Install.createDist(Install.java:48)\n    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\n    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n"},{"tags":["java","owl","owl-api"],"answers":[{"tags":[],"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1685599184,"creation_date":1419373958,"answer_id":27629005,"question_id":27611174,"body_markdown":"Yes, this has changed in OWLAPI 4. Use `EntitySearcher.getAnnotationObjects(cls.getIRI(), ontology)` instead.\r\n\r\nTo search over the imports closure, pass the closure instead of the single ontology.","title":"Cannot Get Annotations for OWLClass in OWLAPI","body":"<p>Yes, this has changed in OWLAPI 4. Use <code>EntitySearcher.getAnnotationObjects(cls.getIRI(), ontology)</code> instead.</p>\n<p>To search over the imports closure, pass the closure instead of the single ontology.</p>\n"}],"owner":{"account_id":3064692,"reputation":6250,"user_id":2596664,"accept_rate":57,"display_name":"Jim L."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27629005,"answer_count":1,"score":3,"last_activity_date":1685599184,"creation_date":1419286098,"question_id":27611174,"body_markdown":"I am using OWLAPI 4.0.1 as a global library from Maven in IntelliJ. I am seeing many examples on the Web for how to get annotations for a class (such as the one in this [related question][1]), but IntelliJ tells me there is no such getAnnotations() method. Other API code works fine, and I&#39;m able to find classes and properties in an ontology. Has the OWLAPI changed, or am I missing something?\r\n\r\n  [1]: https://stackoverflow.com/questions/25622694/how-to-get-annotations-from-owl-individual-using-owlapi","title":"Cannot Get Annotations for OWLClass in OWLAPI","body":"<p>I am using OWLAPI 4.0.1 as a global library from Maven in IntelliJ. I am seeing many examples on the Web for how to get annotations for a class (such as the one in this <a href=\"https://stackoverflow.com/questions/25622694/how-to-get-annotations-from-owl-individual-using-owlapi\">related question</a>), but IntelliJ tells me there is no such getAnnotations() method. Other API code works fine, and I'm able to find classes and properties in an ontology. Has the OWLAPI changed, or am I missing something?</p>\n"},{"tags":["java","oracle","jdbc","connection-string","service-name"],"comments":[{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":1,"creation_date":1564463245,"post_id":57264443,"comment_id":101028049,"body_markdown":"Do you have any stacktraces / sql error codes you can add? Also make sure that the domain can actually be resolved.","body":"Do you have any stacktraces / sql error codes you can add? Also make sure that the domain can actually be resolved."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1564481281,"post_id":57264443,"comment_id":101036608,"body_markdown":"Related: https://stackoverflow.com/questions/4832056/java-jdbc-how-to-connect-to-oracle-using-service-name-instead-of-sid?rq=1","body":"Related: <a href=\"https://stackoverflow.com/questions/4832056/java-jdbc-how-to-connect-to-oracle-using-service-name-instead-of-sid?rq=1\" title=\"java jdbc how to connect to oracle using service name instead of sid\">stackoverflow.com/questions/4832056/&hellip;</a>"},{"owner":{"account_id":16119330,"reputation":1097,"user_id":11635652,"display_name":"Daniel Weigel"},"score":0,"creation_date":1564528982,"post_id":57264443,"comment_id":101058629,"body_markdown":"Hi @MarkRotteveel thanks for the answer. I stumbled upon this question before asking mine. I figured that maybe I get a server error because the Oracle server I am trying to connect with may not have Google scripts IP ranges whitelisted..... I will explore that solution today. Still, I do not understand why changing the domain name by its IP address number version gives me a different response","body":"Hi @MarkRotteveel thanks for the answer. I stumbled upon this question before asking mine. I figured that maybe I get a server error because the Oracle server I am trying to connect with may not have Google scripts IP ranges whitelisted..... I will explore that solution today. Still, I do not understand why changing the domain name by its IP address number version gives me a different response"}],"answers":[{"tags":[],"owner":{"account_id":5860804,"reputation":54,"user_id":11377103,"display_name":"Sanower Tamjit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564465181,"creation_date":1564464339,"answer_id":57264808,"question_id":57264443,"body_markdown":"The actual format of Oracle JDBC connection using service name is:\r\n\r\n```none\r\n@//host_name:port_number/service_name\r\n```\r\n\r\nMake sure that is service name is ok.\r\nYou can try with TNSNameListener\r\n\r\n```none\r\njdbc:oracle:thin:@(description=(address=(host=&lt;HOSTADDRESS&gt;)(protocol=tcp)(port=&lt;PORT&gt;))(connect_data=(service_name=&lt;SERVICENAME&gt;)(server=&lt;SHARED&gt;)))\r\n```\r\nThe TNSNameListener file location:\r\n\r\n    &lt;ORACLE_HOME&gt;\\network\\admin\\tnsnames.ora\r\n    example: /home/oracle/oracle/product/10.2.0/db_1/network/admin/tnsnames.ora\r\n\r\n ","title":"JDBC - Cant connect to Oracle using Service Name","body":"<p>The actual format of Oracle JDBC connection using service name is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>@//host_name:port_number/service_name\n</code></pre>\n\n<p>Make sure that is service name is ok.\nYou can try with TNSNameListener</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:oracle:thin:@(description=(address=(host=&lt;HOSTADDRESS&gt;)(protocol=tcp)(port=&lt;PORT&gt;))(connect_data=(service_name=&lt;SERVICENAME&gt;)(server=&lt;SHARED&gt;)))\n</code></pre>\n\n<p>The TNSNameListener file location:</p>\n\n<pre><code>&lt;ORACLE_HOME&gt;\\network\\admin\\tnsnames.ora\nexample: /home/oracle/oracle/product/10.2.0/db_1/network/admin/tnsnames.ora\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564528801,"creation_date":1564528801,"answer_id":57281233,"question_id":57264443,"body_markdown":"I am not sure which class is that Jdbc is. Take a look at the [JDBCUrlSample.java][1] and [DataSourceSample.java][2]\r\n\r\n\r\n  [1]: https://github.com/oracle/oracle-db-examples/blob/master/java/jdbc/BasicSamples/JDBCUrlSample.java\r\n  [2]: https://github.com/oracle/oracle-db-examples/blob/master/java/jdbc/ConnectionSamples/DataSourceSample.java","title":"JDBC - Cant connect to Oracle using Service Name","body":"<p>I am not sure which class is that Jdbc is. Take a look at the <a href=\"https://github.com/oracle/oracle-db-examples/blob/master/java/jdbc/BasicSamples/JDBCUrlSample.java\" rel=\"nofollow noreferrer\">JDBCUrlSample.java</a> and <a href=\"https://github.com/oracle/oracle-db-examples/blob/master/java/jdbc/ConnectionSamples/DataSourceSample.java\" rel=\"nofollow noreferrer\">DataSourceSample.java</a></p>\n"},{"tags":[],"owner":{"account_id":13087154,"reputation":134,"user_id":9455798,"display_name":"Vishnu Mari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685599052,"creation_date":1685599052,"answer_id":76379041,"question_id":57264443,"body_markdown":"Use this: \r\n\r\njdbc:oracle:thin:@//hostname:1521/ServiceName","title":"JDBC - Cant connect to Oracle using Service Name","body":"<p>Use this:</p>\n<p>jdbc:oracle:thin:@//hostname:1521/ServiceName</p>\n"}],"owner":{"account_id":16119330,"reputation":1097,"user_id":11635652,"display_name":"Daniel Weigel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6594,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685599052,"creation_date":1564462044,"question_id":57264443,"body_markdown":"I have been trying to connect to this Oracle database with JDBC **thin** driver with the following syntax:\r\n\r\n    var URL = &quot;jdbc:oracle:thin:@//16.161.286.56:1522/Service_Name&quot;; \r\n    var USER = &quot;user&quot;;\r\n    var PASS = &quot;password&quot;;\r\n    var conn = Jdbc.getConnection(URL, USER, PASS);\r\n\r\n\r\nI keep on having the same response when I execute this:\r\n\r\n**We&#39;re sorry, a server error occurred. Please wait a bit and try again. [87a99af]**\r\n\r\nWould anyone have an idea of what I am doing wrong ?\r\n\r\n--------------------------------\r\n\r\nAlso, when I change the IP address to its &#39;string version&#39;:\r\n\r\n    var URL = &quot;jdbc:oracle:thin:@//mydomain.com:1522/Service_Name&quot;;\r\n\r\nThen I get the error response:\r\n\r\n&gt; Failed to establish a database connection. Check connection string, username and password.\r\n\r\nWhich does not make sense to me as both expressions are supposed to be equivalent ...","title":"JDBC - Cant connect to Oracle using Service Name","body":"<p>I have been trying to connect to this Oracle database with JDBC <strong>thin</strong> driver with the following syntax:</p>\n\n<pre><code>var URL = \"jdbc:oracle:thin:@//16.161.286.56:1522/Service_Name\"; \nvar USER = \"user\";\nvar PASS = \"password\";\nvar conn = Jdbc.getConnection(URL, USER, PASS);\n</code></pre>\n\n<p>I keep on having the same response when I execute this:</p>\n\n<p><strong>We're sorry, a server error occurred. Please wait a bit and try again. [87a99af]</strong></p>\n\n<p>Would anyone have an idea of what I am doing wrong ?</p>\n\n<hr>\n\n<p>Also, when I change the IP address to its 'string version':</p>\n\n<pre><code>var URL = \"jdbc:oracle:thin:@//mydomain.com:1522/Service_Name\";\n</code></pre>\n\n<p>Then I get the error response:</p>\n\n<blockquote>\n  <p>Failed to establish a database connection. Check connection string, username and password.</p>\n</blockquote>\n\n<p>Which does not make sense to me as both expressions are supposed to be equivalent ...</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose"],"answers":[{"tags":[],"owner":{"account_id":5110444,"reputation":1635,"user_id":4097210,"display_name":"mixer"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1685598785,"creation_date":1641463205,"answer_id":70605397,"question_id":70605396,"body_markdown":"You may be import wrong package from glance.\r\n\r\nGoogle provide [glance][1] for write appwidget with compose.\r\n\r\nFor example `LazyColumn`, there are:\r\n\r\n- androidx.glance.appwidget.layout.LazyColumn\r\n- androidx.compose.foundation.lazy.LazyColumn\r\n\r\n说实话这个定义真垃圾，太迷惑了。\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/glance","title":"Jetpack compose java.lang.IllegalStateException: Invalid applier","body":"<p>You may be import wrong package from glance.</p>\n<p>Google provide <a href=\"https://developer.android.com/jetpack/androidx/releases/glance\" rel=\"nofollow noreferrer\">glance</a> for write appwidget with compose.</p>\n<p>For example <code>LazyColumn</code>, there are:</p>\n<ul>\n<li>androidx.glance.appwidget.layout.LazyColumn</li>\n<li>androidx.compose.foundation.lazy.LazyColumn</li>\n</ul>\n<p>说实话这个定义真垃圾，太迷惑了。</p>\n"}],"owner":{"account_id":5110444,"reputation":1635,"user_id":4097210,"display_name":"mixer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2204,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70605397,"answer_count":1,"score":2,"last_activity_date":1685598785,"creation_date":1641463205,"question_id":70605396,"body_markdown":"```\r\n2022-01-06 17:52:16.567 9504-9504/com.example.android E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.android, PID: 9504\r\n    java.lang.IllegalStateException: Invalid applier\r\n        at androidx.compose.runtime.ComposablesKt.invalidApplier(Composables.kt:449)\r\n        at androidx.glance.appwidget.layout.LazyListKt.LazyColumn-EiNPFjs(LazyList.kt:265)\r\n        at com.example.android.MainActivity$onCreate$1$2.invoke(MainActivity.kt:60)\r\n        at com.example.android.MainActivity$onCreate$1$2.invoke(MainActivity.kt:59)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.material.MaterialTheme_androidKt.PlatformMaterialTheme(MaterialTheme.android.kt:23)\r\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1$1.invoke(MaterialTheme.kt:82)\r\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1$1.invoke(MaterialTheme.kt:81)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\r\n        at androidx.compose.material.TextKt.ProvideTextStyle(Text.kt:265)\r\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1.invoke(MaterialTheme.kt:81)\r\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1.invoke(MaterialTheme.kt:80)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\r\n        at androidx.compose.material.MaterialThemeKt.MaterialTheme(MaterialTheme.kt:72)\r\n        at com.example.android.ui.theme.ThemeKt.PeopleInSpaceTheme(Theme.kt:41)\r\n        at com.example.android.MainActivity$onCreate$1.invoke(MainActivity.kt:59)\r\n        at com.example.android.MainActivity$onCreate$1.invoke(MainActivity.kt:49)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.ui.platform.ComposeView.Content(ComposeView.android.kt:410)\r\n        at androidx.compose.ui.platform.AbstractComposeView$ensureCompositionCreated$1.invoke(ComposeView.android.kt:252)\r\n        at androidx.compose.ui.platform.AbstractComposeView$ensureCompositionCreated$1.invoke(ComposeView.android.kt:251)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\r\n        at androidx.compose.ui.platform.CompositionLocalsKt.ProvideCommonCompositionLocals(CompositionLocals.kt:166)\r\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt$ProvideAndroidCompositionLocals$3.invoke(AndroidCompositionLocals.android.kt:123)\r\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt$ProvideAndroidCompositionLocals$3.invoke(AndroidCompositionLocals.android.kt:122)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\r\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt.ProvideAndroidCompositionLocals(AndroidCompositionLocals.android.kt:114)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1$3.invoke(Wrapper.android.kt:157)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1$3.invoke(Wrapper.android.kt:156)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n2022-01-06 17:52:16.567 9504-9504/com.example.android E/AndroidRuntime:     at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1.invoke(Wrapper.android.kt:156)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1.invoke(Wrapper.android.kt:140)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.ComposerKt.invokeComposable(Composer.kt:3337)\r\n        at androidx.compose.runtime.ComposerImpl$doCompose$2$5.invoke(Composer.kt:2582)\r\n        at androidx.compose.runtime.ComposerImpl$doCompose$2$5.invoke(Composer.kt:2571)\r\n        at androidx.compose.runtime.SnapshotStateKt__DerivedStateKt.observeDerivedStateRecalculations(DerivedState.kt:247)\r\n        at androidx.compose.runtime.SnapshotStateKt.observeDerivedStateRecalculations(Unknown Source:1)\r\n        at androidx.compose.runtime.ComposerImpl.doCompose(Composer.kt:2571)\r\n        at androidx.compose.runtime.ComposerImpl.composeContent$runtime_release(Composer.kt:2522)\r\n        at androidx.compose.runtime.CompositionImpl.composeContent(Composition.kt:478)\r\n        at androidx.compose.runtime.Recomposer.composeInitial$runtime_release(Recomposer.kt:748)\r\n        at androidx.compose.runtime.CompositionImpl.setContent(Composition.kt:433)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:140)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:131)\r\n        at androidx.compose.ui.platform.AndroidComposeView.setOnViewTreeOwnersAvailable(AndroidComposeView.android.kt:907)\r\n        at androidx.compose.ui.platform.WrappedComposition.setContent(Wrapper.android.kt:131)\r\n        at androidx.compose.ui.platform.WrappedComposition.onStateChanged(Wrapper.android.kt:182)\r\n        at androidx.lifecycle.LifecycleRegistry$ObserverWithState.dispatchEvent(LifecycleRegistry.java:354)\r\n        at androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:196)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:138)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:131)\r\n        at androidx.compose.ui.platform.AndroidComposeView.onAttachedToWindow(AndroidComposeView.android.kt:994)\r\n        at android.view.View.dispatchAttachedToWindow(View.java:20753)\r\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3490)\r\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\r\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\r\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\r\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2613)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2126)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8653)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1037)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:845)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:780)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1022)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n\r\n```","title":"Jetpack compose java.lang.IllegalStateException: Invalid applier","body":"<pre><code>2022-01-06 17:52:16.567 9504-9504/com.example.android E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.android, PID: 9504\n    java.lang.IllegalStateException: Invalid applier\n        at androidx.compose.runtime.ComposablesKt.invalidApplier(Composables.kt:449)\n        at androidx.glance.appwidget.layout.LazyListKt.LazyColumn-EiNPFjs(LazyList.kt:265)\n        at com.example.android.MainActivity$onCreate$1$2.invoke(MainActivity.kt:60)\n        at com.example.android.MainActivity$onCreate$1$2.invoke(MainActivity.kt:59)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.material.MaterialTheme_androidKt.PlatformMaterialTheme(MaterialTheme.android.kt:23)\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1$1.invoke(MaterialTheme.kt:82)\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1$1.invoke(MaterialTheme.kt:81)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\n        at androidx.compose.material.TextKt.ProvideTextStyle(Text.kt:265)\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1.invoke(MaterialTheme.kt:81)\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1.invoke(MaterialTheme.kt:80)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\n        at androidx.compose.material.MaterialThemeKt.MaterialTheme(MaterialTheme.kt:72)\n        at com.example.android.ui.theme.ThemeKt.PeopleInSpaceTheme(Theme.kt:41)\n        at com.example.android.MainActivity$onCreate$1.invoke(MainActivity.kt:59)\n        at com.example.android.MainActivity$onCreate$1.invoke(MainActivity.kt:49)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.ui.platform.ComposeView.Content(ComposeView.android.kt:410)\n        at androidx.compose.ui.platform.AbstractComposeView$ensureCompositionCreated$1.invoke(ComposeView.android.kt:252)\n        at androidx.compose.ui.platform.AbstractComposeView$ensureCompositionCreated$1.invoke(ComposeView.android.kt:251)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\n        at androidx.compose.ui.platform.CompositionLocalsKt.ProvideCommonCompositionLocals(CompositionLocals.kt:166)\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt$ProvideAndroidCompositionLocals$3.invoke(AndroidCompositionLocals.android.kt:123)\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt$ProvideAndroidCompositionLocals$3.invoke(AndroidCompositionLocals.android.kt:122)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt.ProvideAndroidCompositionLocals(AndroidCompositionLocals.android.kt:114)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1$3.invoke(Wrapper.android.kt:157)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1$3.invoke(Wrapper.android.kt:156)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n2022-01-06 17:52:16.567 9504-9504/com.example.android E/AndroidRuntime:     at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1.invoke(Wrapper.android.kt:156)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1.invoke(Wrapper.android.kt:140)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.ComposerKt.invokeComposable(Composer.kt:3337)\n        at androidx.compose.runtime.ComposerImpl$doCompose$2$5.invoke(Composer.kt:2582)\n        at androidx.compose.runtime.ComposerImpl$doCompose$2$5.invoke(Composer.kt:2571)\n        at androidx.compose.runtime.SnapshotStateKt__DerivedStateKt.observeDerivedStateRecalculations(DerivedState.kt:247)\n        at androidx.compose.runtime.SnapshotStateKt.observeDerivedStateRecalculations(Unknown Source:1)\n        at androidx.compose.runtime.ComposerImpl.doCompose(Composer.kt:2571)\n        at androidx.compose.runtime.ComposerImpl.composeContent$runtime_release(Composer.kt:2522)\n        at androidx.compose.runtime.CompositionImpl.composeContent(Composition.kt:478)\n        at androidx.compose.runtime.Recomposer.composeInitial$runtime_release(Recomposer.kt:748)\n        at androidx.compose.runtime.CompositionImpl.setContent(Composition.kt:433)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:140)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:131)\n        at androidx.compose.ui.platform.AndroidComposeView.setOnViewTreeOwnersAvailable(AndroidComposeView.android.kt:907)\n        at androidx.compose.ui.platform.WrappedComposition.setContent(Wrapper.android.kt:131)\n        at androidx.compose.ui.platform.WrappedComposition.onStateChanged(Wrapper.android.kt:182)\n        at androidx.lifecycle.LifecycleRegistry$ObserverWithState.dispatchEvent(LifecycleRegistry.java:354)\n        at androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:196)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:138)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:131)\n        at androidx.compose.ui.platform.AndroidComposeView.onAttachedToWindow(AndroidComposeView.android.kt:994)\n        at android.view.View.dispatchAttachedToWindow(View.java:20753)\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3490)\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2613)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2126)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8653)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1037)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:845)\n        at android.view.Choreographer.doFrame(Choreographer.java:780)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1022)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685588323,"creation_date":1685588323,"answer_id":76378400,"question_id":76358670,"body_markdown":"the JsonParser is fetch data in sequence, when you invoke readValue, it get `F`, and the parser move its cursor to next token, so there is no method to access the store_code field that in the previous. so for your scenario, i think you could add custom deserializer for `Product` Class and maintaion all the field in your self, so you could no effect by the parse order.","title":"Jackson custom deserializer dropped some fields inside the deserializer method","body":"<p>the JsonParser is fetch data in sequence, when you invoke readValue, it get <code>F</code>, and the parser move its cursor to next token, so there is no method to access the store_code field that in the previous. so for your scenario, i think you could add custom deserializer for <code>Product</code> Class and maintaion all the field in your self, so you could no effect by the parse order.</p>\n"},{"tags":[],"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685598394,"creation_date":1685598394,"answer_id":76378976,"question_id":76358670,"body_markdown":"I found a workaround solution for this, after we create the `ObjectMapper mapper = new ObjectMapper();` pass the required values to it in the following way,\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    DeserializationConfig deserializationConfig = mapper.getDeserializationConfig();\r\n    DeserializationConfig modifiedConfig = deserializationConfig.withAttribute(&quot;mappingData&quot;, map);\r\n    mapper.setConfig(modifiedConfig);\r\n\r\nThen access the passed information through the deserializer in this way,\r\n\r\n    public com.sysco.site_product.models.pisv2.Split deserialize(JsonParser jp, DeserializationContext context) throws IOException {\r\n          Map&lt;String, Object&gt; inputJSONMap = (Map&lt;String, Object&gt;) context.getAttribute(&quot;mappingData&quot;);\r\n    \r\n    ......\r\n    \r\n    }\r\n\r\nOpen for feedbacks!\r\n\r\n","title":"Jackson custom deserializer dropped some fields inside the deserializer method","body":"<p>I found a workaround solution for this, after we create the <code>ObjectMapper mapper = new ObjectMapper();</code> pass the required values to it in the following way,</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nDeserializationConfig deserializationConfig = mapper.getDeserializationConfig();\nDeserializationConfig modifiedConfig = deserializationConfig.withAttribute(&quot;mappingData&quot;, map);\nmapper.setConfig(modifiedConfig);\n</code></pre>\n<p>Then access the passed information through the deserializer in this way,</p>\n<pre><code>public com.sysco.site_product.models.pisv2.Split deserialize(JsonParser jp, DeserializationContext context) throws IOException {\n      Map&lt;String, Object&gt; inputJSONMap = (Map&lt;String, Object&gt;) context.getAttribute(&quot;mappingData&quot;);\n\n......\n\n}\n</code></pre>\n<p>Open for feedbacks!</p>\n"}],"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685598394,"creation_date":1685374968,"question_id":76358670,"body_markdown":"I have a JSON object that needs to be deserialized in my use case. Also, I need to generate some fields value combining one or more attributes in the same JSON. So I chose Jackson deserialization and annotated the required fields with relevant deserialization classes like follow\r\n\r\n    @Getter\r\n    @ToString\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Product implements Serializable {\r\n\r\n        @JsonProperty(&quot;item_name&quot;)\r\n        @JsonDeserialize(using = ProductDeserializer.ItemName.class)\r\n        private String itemName;\r\n        \r\n        @JsonProperty(&quot;item_code&quot;)\r\n        @JsonDeserialize(using = CommonDeserializer.Trim.class)\r\n        private String itemCode;\r\n        \r\n        @JsonProperty(&quot;demand_status&quot;)\r\n        @JsonDeserialize(using = ProductDeserializer.DemandStatus.class)\r\n        private boolean isDemandItem;\r\n        \r\n        @JsonProperty(&quot;upc&quot;)\r\n        private long upcCode;\r\n        \r\n        @JsonProperty(&quot;store_condition&quot;) //multiple attributes uses, ex &#39;store_code&#39;\r\n        @JsonDeserialize(using = ProductDeserializer.StoreConditionDeserializer.class)\r\n        private StoreCondition storeCondition;\r\n\r\n        .....\r\n\r\n    }\r\n\r\nDeserialization class for the `storeCondition` variable is as follows,\r\n    \r\n    \r\n\r\n    public static class StoreConditionDeserializer extends JsonDeserializer&lt;StoreCondition&gt; {\r\n        @Override\r\n        public StoreCondition deserialize(JsonParser jp, DeserializationContext context) throws IOException {\r\n            String stock_id = jp.getCodec().readValue(jp, JsonNode.class).asText();\r\n            String store_code = jp.getCodec().readValue(jp, JsonNode.class).get(&quot;store_code&quot;).asText();\r\n        \r\n            /* I need to access several fields from the JSON to generate the object I need, \r\n               but some of them are missing here but they exist in the JSON input */\r\n        \r\n            //Also some logic, API calls, etc\r\n        \r\n            return ...;\r\n        }\r\n        \r\n    }\r\n\r\nThis is how my input JSON looks like\r\n\r\n    {\r\n      &quot;_id&quot;: 28463836,\r\n      &quot;item_name&quot;: &quot;john product&quot;,\r\n      &quot;item_code&quot;: &quot;doe code&quot;,\r\n      &quot;store_code&quot;: &quot;T&quot;,\r\n      &quot;demand_status&quot;: &quot;D&quot;,\r\n      &quot;upc&quot;: 874564847,\r\n      &quot;store_condition&quot;: &quot;F&quot;,\r\n      &quot;location&quot;: &quot;IR&quot;,\r\n      &quot;W_Code&quot;: &quot;X3846&quot;\r\n    }\r\n\r\n\r\nIf you take a look at the Pojo class, the last attribute annotated with `@JsonProperty(&quot;store_condition&quot;)`, which is also present in the above JSON. When the deserialization happens, it does not have this complete JSON object within the `deserialize` method, it only has the attributes after the `store_condition` attribute. But for my use case, I need to access the fields above that, for example, `store_code`. But since the `store_code` code is located before `store_condition`, the `store_code` does not available in the deserializer.\r\n\r\n\r\nThis is how I do the deserialization,\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Product product = mapper.convertValue(jsonInput, Product.class);\r\n\r\n**Could someone explain why and how this happens? Also, a way to solve this.** &lt;br&gt;I hope that my question and my requirement is clear. Feel free to drop a comment if you need any clarifications.\r\n\r\nThe Jackson library I used is `group: &#39;org.apache.beam&#39;, name: &#39;beam-sdks-java-extensions-json-jackson&#39;, version: &#39;2.47.0&#39;`","title":"Jackson custom deserializer dropped some fields inside the deserializer method","body":"<p>I have a JSON object that needs to be deserialized in my use case. Also, I need to generate some fields value combining one or more attributes in the same JSON. So I chose Jackson deserialization and annotated the required fields with relevant deserialization classes like follow</p>\n<pre><code>@Getter\n@ToString\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Product implements Serializable {\n\n    @JsonProperty(&quot;item_name&quot;)\n    @JsonDeserialize(using = ProductDeserializer.ItemName.class)\n    private String itemName;\n    \n    @JsonProperty(&quot;item_code&quot;)\n    @JsonDeserialize(using = CommonDeserializer.Trim.class)\n    private String itemCode;\n    \n    @JsonProperty(&quot;demand_status&quot;)\n    @JsonDeserialize(using = ProductDeserializer.DemandStatus.class)\n    private boolean isDemandItem;\n    \n    @JsonProperty(&quot;upc&quot;)\n    private long upcCode;\n    \n    @JsonProperty(&quot;store_condition&quot;) //multiple attributes uses, ex 'store_code'\n    @JsonDeserialize(using = ProductDeserializer.StoreConditionDeserializer.class)\n    private StoreCondition storeCondition;\n\n    .....\n\n}\n</code></pre>\n<p>Deserialization class for the <code>storeCondition</code> variable is as follows,</p>\n<pre><code>public static class StoreConditionDeserializer extends JsonDeserializer&lt;StoreCondition&gt; {\n    @Override\n    public StoreCondition deserialize(JsonParser jp, DeserializationContext context) throws IOException {\n        String stock_id = jp.getCodec().readValue(jp, JsonNode.class).asText();\n        String store_code = jp.getCodec().readValue(jp, JsonNode.class).get(&quot;store_code&quot;).asText();\n    \n        /* I need to access several fields from the JSON to generate the object I need, \n           but some of them are missing here but they exist in the JSON input */\n    \n        //Also some logic, API calls, etc\n    \n        return ...;\n    }\n    \n}\n</code></pre>\n<p>This is how my input JSON looks like</p>\n<pre><code>{\n  &quot;_id&quot;: 28463836,\n  &quot;item_name&quot;: &quot;john product&quot;,\n  &quot;item_code&quot;: &quot;doe code&quot;,\n  &quot;store_code&quot;: &quot;T&quot;,\n  &quot;demand_status&quot;: &quot;D&quot;,\n  &quot;upc&quot;: 874564847,\n  &quot;store_condition&quot;: &quot;F&quot;,\n  &quot;location&quot;: &quot;IR&quot;,\n  &quot;W_Code&quot;: &quot;X3846&quot;\n}\n</code></pre>\n<p>If you take a look at the Pojo class, the last attribute annotated with <code>@JsonProperty(&quot;store_condition&quot;)</code>, which is also present in the above JSON. When the deserialization happens, it does not have this complete JSON object within the <code>deserialize</code> method, it only has the attributes after the <code>store_condition</code> attribute. But for my use case, I need to access the fields above that, for example, <code>store_code</code>. But since the <code>store_code</code> code is located before <code>store_condition</code>, the <code>store_code</code> does not available in the deserializer.</p>\n<p>This is how I do the deserialization,</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nProduct product = mapper.convertValue(jsonInput, Product.class);\n</code></pre>\n<p><strong>Could someone explain why and how this happens? Also, a way to solve this.</strong> <br>I hope that my question and my requirement is clear. Feel free to drop a comment if you need any clarifications.</p>\n<p>The Jackson library I used is <code>group: 'org.apache.beam', name: 'beam-sdks-java-extensions-json-jackson', version: '2.47.0'</code></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1685348258,"post_id":76355672,"comment_id":134643539,"body_markdown":"I think you need to call toString() on the StringBuffer. StringBuffer != String","body":"I think you need to call toString() on the StringBuffer. StringBuffer != String"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1685394908,"post_id":76355672,"comment_id":134650993,"body_markdown":"FYI, `== true` is always redundant.","body":"FYI, <code>== true</code> is always redundant."}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685350315,"creation_date":1685348674,"answer_id":76355743,"question_id":76355672,"body_markdown":"A `StringBuffer` is not a `String`, thus it will never be equal to a `String`. Compare `st` with `st1.toString()` instead.\r\n\r\nAs an aside, in `if(st1.equals(st)==true)` comparing a boolean with `true` is not necessary and error-prone. You should write it as `if(st1.toString().equals(st))` so you don&#39;t use a single `=` by mistake and introduce a bug that can be rather hard to notice.\r\n\r\n    class Palindrome {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString st = &quot;iti&quot;;\r\n    \t\tStringBuffer st1 =new StringBuffer(st);\r\n    \t\tst1.reverse();\r\n    \t\tif(st1.toString().equals(st)) { // HERE notice the use of `toString`\r\n    \t\t\tSystem.out.print(&quot;palindrome string&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.print(&quot;not palindrome&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"String is palindrome or not","body":"<p>A <code>StringBuffer</code> is not a <code>String</code>, thus it will never be equal to a <code>String</code>. Compare <code>st</code> with <code>st1.toString()</code> instead.</p>\n<p>As an aside, in <code>if(st1.equals(st)==true)</code> comparing a boolean with <code>true</code> is not necessary and error-prone. You should write it as <code>if(st1.toString().equals(st))</code> so you don't use a single <code>=</code> by mistake and introduce a bug that can be rather hard to notice.</p>\n<pre><code>class Palindrome {\n    public static void main(String[] args) {\n        String st = &quot;iti&quot;;\n        StringBuffer st1 =new StringBuffer(st);\n        st1.reverse();\n        if(st1.toString().equals(st)) { // HERE notice the use of `toString`\n            System.out.print(&quot;palindrome string&quot;);\n        } else {\n            System.out.print(&quot;not palindrome&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28700475,"reputation":29,"user_id":21977743,"display_name":"Aliana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685349469,"creation_date":1685349469,"answer_id":76355821,"question_id":76355672,"body_markdown":"    public static void main(String[] args) {\r\n    String st = &quot;iti&quot;;\r\n    StringBuffer st1 =new StringBuffer(st);\r\n    st1.reverse();\r\n    System.out.println(st1);\r\n    System.out.println(st.equals(st1));\r\n    if(st.equals(&quot;&quot;+st1)) { // convert st1 from StringBuffer to String\r\n        System.out.print(&quot;palindrome string&quot;);\r\n    } else {\r\n        System.out.print(&quot;not palindrome&quot;);\r\n    }\r\n}","title":"String is palindrome or not","body":"<pre><code>public static void main(String[] args) {\nString st = &quot;iti&quot;;\nStringBuffer st1 =new StringBuffer(st);\nst1.reverse();\nSystem.out.println(st1);\nSystem.out.println(st.equals(st1));\nif(st.equals(&quot;&quot;+st1)) { // convert st1 from StringBuffer to String\n    System.out.print(&quot;palindrome string&quot;);\n} else {\n    System.out.print(&quot;not palindrome&quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685598305,"creation_date":1685394408,"answer_id":76360324,"question_id":76355672,"body_markdown":"To derive the _String_ value within _StringBuffer_, you need to call the _toString_ method.\r\n\r\n```java\r\nSystem.out.print(st.equals(st1.toString()));\r\n```\r\n\r\nAnd, at your _if-conditional_ statement.\r\n\r\n```java\r\nif(st1.toString().equals(st)==true)\r\n```","title":"String is palindrome or not","body":"<p>To derive the <em>String</em> value within <em>StringBuffer</em>, you need to call the <em>toString</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.print(st.equals(st1.toString()));\n</code></pre>\n<p>And, at your <em>if-conditional</em> statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(st1.toString().equals(st)==true)\n</code></pre>\n"}],"owner":{"account_id":27473103,"reputation":11,"user_id":20961580,"display_name":"Shakti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685598305,"creation_date":1685347964,"question_id":76355672,"body_markdown":"I need to check whether a string is a palindrome, but I&#39;m always getting &quot;not palindrome&quot;. What&#39;s my mistake?\r\n\r\n    public static void main(String[] args) {\r\n        String st = &quot;iti&quot;;\r\n        StringBuffer st1 =new StringBuffer(st);\r\n        st1.reverse();\r\n        System.out.println(st1);\r\n        System.out.print(st.equals(st1));\r\n        if(st1.equals(st)==true) {\r\n            System.out.print(&quot;palindrome string&quot;);\r\n        } else {\r\n            System.out.print(&quot;not palindrome&quot;);\r\n        }\r\n\t}\r\n\r\n","title":"String is palindrome or not","body":"<p>I need to check whether a string is a palindrome, but I'm always getting &quot;not palindrome&quot;. What's my mistake?</p>\n<pre><code>public static void main(String[] args) {\n    String st = &quot;iti&quot;;\n    StringBuffer st1 =new StringBuffer(st);\n    st1.reverse();\n    System.out.println(st1);\n    System.out.print(st.equals(st1));\n    if(st1.equals(st)==true) {\n        System.out.print(&quot;palindrome string&quot;);\n    } else {\n        System.out.print(&quot;not palindrome&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685565064,"post_id":76377027,"comment_id":134679804,"body_markdown":"Please read [How to Ask](https://stackoverflow.com/help/how-to-ask). You should provide complete the [complete error message](https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough)","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>. You should provide complete the <a href=\"https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough\">complete error message</a>"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1701208056,"post_id":76377027,"comment_id":136746418,"body_markdown":"Did you ever figure this out?","body":"Did you ever figure this out?"}],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685598064,"creation_date":1685564671,"question_id":76377027,"body_markdown":"I am trying to modify one-to-many relationship via CriteriaUpdate for partial update but I am getting `java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0` when I am trying to save relation with child entity.\r\n\r\nhere&#39;s `OrganizationRepositoryImpl.update(dto)` code:\r\n\r\n\r\n  \r\n\r\n          var criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    \r\n            CriteriaUpdate&lt;Organization&gt; update = criteriaBuilder.createCriteriaUpdate(Organization.class);\r\n    \r\n            Root&lt;Organization&gt; organization = update.from(Organization.class);\r\n    \r\n     // variables declaration &amp; logic\r\n    \r\n    \r\n            if (details.isPresent()) {\r\n                var l = details.get().stream()\r\n                        .map(td -&gt; entityManager.getReference(Detail.class, td))\r\n                        .toList();\r\n                update.set(organization.join(&quot;details&quot;), l);\r\n            }\r\n    \r\n            if (identifiers.isPresent()) {\r\n                var l = identifiers.get().stream()\r\n                        .map(td -&gt; entityManager.getReference(Identifier.class, td))\r\n                        .toList();\r\n                update.set(organization.get(&quot;identifiers&quot;), l);\r\n            }\r\n    \r\n\r\n\r\n            if (addresses.isPresent()) {\r\n                var l = addresses.get().stream()\r\n                        .map(td -&gt; entityManager.getReference(Address.class, td))\r\n                        .toList();\r\n                update.set(organization.get(&quot;addresses&quot;), l);\r\n            }\r\n    \r\n            update.where(criteriaBuilder.equal(organization.get(&quot;id&quot;), organizationDTO.getId()));\r\n    \r\n            Query query = entityManager.createQuery(update);\r\n            int rowCount = query.executeUpdate();\r\n    \r\n            log.info(&quot;{} rows updated&quot;, rowCount);\r\n\r\nOrganization entity code:\r\n\r\n    @Data\r\n    @Entity\r\n    public class Organization {\r\n        @Id\r\n        @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\r\n        private Long id;\r\n        // string fields\r\n    \r\n        @JoinColumn(name=&quot;organization_id&quot;)\r\n        @OneToMany\r\n        private List&lt;Detail&gt; details;\r\n        @JoinColumn(name=&quot;organization_id&quot;)\r\n        @OneToMany\r\n        private List&lt;Identifier&gt; identifiers;\r\n        @JoinColumn(name=&quot;organization_id&quot;)\r\n        @OneToMany\r\n        private List&lt;Address&gt; addresses;\r\n    }\r\n\r\nIdentifier entity code:\r\n\r\n    @Data\r\n    @Entity\r\n    public class Identifier {\r\n        @Id\r\n        @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\r\n        private Long id;\r\n        private String text;\r\n        private String detail;\r\n    }\r\n\r\nError message:\r\n\r\n    2023-05-31 20:16:40|ERROR|organizations|http-nio-8080-exec-1|o.a.c.c.C.[.[.[/].[dispatcherServlet]   ||Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0] with root cause\r\n    java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\r\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n    at java.base/java.util.Objects.checkIndex(Objects.java:385)\r\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$visitSetClause$4(BaseSqmToSqlAstConverter.java:925)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$consumeSqmParameter$85(BaseSqmToSqlAstConverter.java:4903)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$resolveSqmParameter$90(BaseSqmToSqlAstConverter.java:5321)\r\n    at org.hibernate.metamodel.mapping.internal.BasicEntityIdentifierMappingImpl.forEachJdbcType(BasicEntityIdentifierMappingImpl.java:191)\r\n    at org.hibernate.persister.entity.AbstractEntityPersister.forEachJdbcType(AbstractEntityPersister.java:6892)\r\n    at org.hibernate.metamodel.mapping.EntityValuedModelPart.forEachJdbcType(EntityValuedModelPart.java:88)\r\n    at org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl.forEachJdbcType(PluralAttributeMappingImpl.java:907)\r\n    at org.hibernate.metamodel.mapping.Bindable.forEachJdbcType(Bindable.java:48)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.resolveSqmParameter(BaseSqmToSqlAstConverter.java:5320)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.consumeSqmParameter(BaseSqmToSqlAstConverter.java:4899)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSetClause(BaseSqmToSqlAstConverter.java:920)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitUpdateStatement(BaseSqmToSqlAstConverter.java:773)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitUpdateStatement(BaseSqmToSqlAstConverter.java:416)\r\n    at org.hibernate.query.sqm.tree.update.SqmUpdateStatement.accept(SqmUpdateStatement.java:170)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:711)\r\n    at org.hibernate.query.sqm.internal.SimpleUpdateQueryPlan.createUpdateTranslator(SimpleUpdateQueryPlan.java:119)\r\n    at org.hibernate.query.sqm.internal.SimpleUpdateQueryPlan.executeUpdate(SimpleUpdateQueryPlan.java:61)\r\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doExecuteUpdate(QuerySqmImpl.java:728)\r\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.executeUpdate(QuerySqmImpl.java:698)\r\n    at com.company.repository.OrganizationRepositoryImpl.update(OrganizationRepositoryImpl.java:77)\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\r\n    at com.company.repository.OrganizationRepositoryImpl$$SpringCGLIB$$0.update(&lt;generated&gt;)\r\n    at com.company.service.OrganizationServiceImpl.updateOrganization(OrganizationServiceImpl.java:88)\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\r\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\r\n    at com.company.service.OrganizationServiceImpl$$SpringCGLIB$$0.updateOrganization(&lt;generated&gt;)\r\n    at com.company.controller.OrganizationsController.patchOrganization(OrganizationsController.java:51)\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888)\r\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\r\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\r\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\r\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    at java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\nI&#39;ve tried `organization.join(...)`, `organization.get(...)` methods but it didn&#39;t help.","title":"entityManager.createQuery throws java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 on saving child entity","body":"<p>I am trying to modify one-to-many relationship via CriteriaUpdate for partial update but I am getting <code>java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0</code> when I am trying to save relation with child entity.</p>\n<p>here's <code>OrganizationRepositoryImpl.update(dto)</code> code:</p>\n<pre><code>      var criteriaBuilder = entityManager.getCriteriaBuilder();\n\n        CriteriaUpdate&lt;Organization&gt; update = criteriaBuilder.createCriteriaUpdate(Organization.class);\n\n        Root&lt;Organization&gt; organization = update.from(Organization.class);\n\n // variables declaration &amp; logic\n\n\n        if (details.isPresent()) {\n            var l = details.get().stream()\n                    .map(td -&gt; entityManager.getReference(Detail.class, td))\n                    .toList();\n            update.set(organization.join(&quot;details&quot;), l);\n        }\n\n        if (identifiers.isPresent()) {\n            var l = identifiers.get().stream()\n                    .map(td -&gt; entityManager.getReference(Identifier.class, td))\n                    .toList();\n            update.set(organization.get(&quot;identifiers&quot;), l);\n        }\n\n\n\n        if (addresses.isPresent()) {\n            var l = addresses.get().stream()\n                    .map(td -&gt; entityManager.getReference(Address.class, td))\n                    .toList();\n            update.set(organization.get(&quot;addresses&quot;), l);\n        }\n\n        update.where(criteriaBuilder.equal(organization.get(&quot;id&quot;), organizationDTO.getId()));\n\n        Query query = entityManager.createQuery(update);\n        int rowCount = query.executeUpdate();\n\n        log.info(&quot;{} rows updated&quot;, rowCount);\n</code></pre>\n<p>Organization entity code:</p>\n<pre><code>@Data\n@Entity\npublic class Organization {\n    @Id\n    @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\n    private Long id;\n    // string fields\n\n    @JoinColumn(name=&quot;organization_id&quot;)\n    @OneToMany\n    private List&lt;Detail&gt; details;\n    @JoinColumn(name=&quot;organization_id&quot;)\n    @OneToMany\n    private List&lt;Identifier&gt; identifiers;\n    @JoinColumn(name=&quot;organization_id&quot;)\n    @OneToMany\n    private List&lt;Address&gt; addresses;\n}\n</code></pre>\n<p>Identifier entity code:</p>\n<pre><code>@Data\n@Entity\npublic class Identifier {\n    @Id\n    @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\n    private Long id;\n    private String text;\n    private String detail;\n}\n</code></pre>\n<p>Error message:</p>\n<pre><code>2023-05-31 20:16:40|ERROR|organizations|http-nio-8080-exec-1|o.a.c.c.C.[.[.[/].[dispatcherServlet]   ||Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0] with root cause\njava.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\nat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\nat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\nat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\nat java.base/java.util.Objects.checkIndex(Objects.java:385)\nat java.base/java.util.ArrayList.get(ArrayList.java:427)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$visitSetClause$4(BaseSqmToSqlAstConverter.java:925)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$consumeSqmParameter$85(BaseSqmToSqlAstConverter.java:4903)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$resolveSqmParameter$90(BaseSqmToSqlAstConverter.java:5321)\nat org.hibernate.metamodel.mapping.internal.BasicEntityIdentifierMappingImpl.forEachJdbcType(BasicEntityIdentifierMappingImpl.java:191)\nat org.hibernate.persister.entity.AbstractEntityPersister.forEachJdbcType(AbstractEntityPersister.java:6892)\nat org.hibernate.metamodel.mapping.EntityValuedModelPart.forEachJdbcType(EntityValuedModelPart.java:88)\nat org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl.forEachJdbcType(PluralAttributeMappingImpl.java:907)\nat org.hibernate.metamodel.mapping.Bindable.forEachJdbcType(Bindable.java:48)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.resolveSqmParameter(BaseSqmToSqlAstConverter.java:5320)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.consumeSqmParameter(BaseSqmToSqlAstConverter.java:4899)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSetClause(BaseSqmToSqlAstConverter.java:920)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitUpdateStatement(BaseSqmToSqlAstConverter.java:773)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitUpdateStatement(BaseSqmToSqlAstConverter.java:416)\nat org.hibernate.query.sqm.tree.update.SqmUpdateStatement.accept(SqmUpdateStatement.java:170)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:711)\nat org.hibernate.query.sqm.internal.SimpleUpdateQueryPlan.createUpdateTranslator(SimpleUpdateQueryPlan.java:119)\nat org.hibernate.query.sqm.internal.SimpleUpdateQueryPlan.executeUpdate(SimpleUpdateQueryPlan.java:61)\nat org.hibernate.query.sqm.internal.QuerySqmImpl.doExecuteUpdate(QuerySqmImpl.java:728)\nat org.hibernate.query.sqm.internal.QuerySqmImpl.executeUpdate(QuerySqmImpl.java:698)\nat com.company.repository.OrganizationRepositoryImpl.update(OrganizationRepositoryImpl.java:77)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:578)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\nat com.company.repository.OrganizationRepositoryImpl$$SpringCGLIB$$0.update(&lt;generated&gt;)\nat com.company.service.OrganizationServiceImpl.updateOrganization(OrganizationServiceImpl.java:88)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:578)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\nat com.company.service.OrganizationServiceImpl$$SpringCGLIB$$0.updateOrganization(&lt;generated&gt;)\nat com.company.controller.OrganizationsController.patchOrganization(OrganizationsController.java:51)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:578)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888)\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n<p>I've tried <code>organization.join(...)</code>, <code>organization.get(...)</code> methods but it didn't help.</p>\n"},{"tags":["java","console-application","jansi"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664716689,"post_id":73925622,"comment_id":130530941,"body_markdown":"```AnsiConsole```  needs to be put into your classpath","body":"<code>AnsiConsole</code>  needs to be put into your classpath"},{"owner":{"account_id":15775971,"reputation":33,"user_id":15817931,"display_name":"Alwin Schneider"},"score":0,"creation_date":1664718028,"post_id":73925622,"comment_id":130531252,"body_markdown":"all i have is a jar file that i included","body":"all i have is a jar file that i included"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664720224,"post_id":73925622,"comment_id":130531668,"body_markdown":"The jar is not on the classpath otherwise you wouldn&#39;t get that message","body":"The jar is not on the classpath otherwise you wouldn&#39;t get that message"}],"answers":[{"tags":[],"owner":{"account_id":4920049,"reputation":934,"user_id":8780138,"display_name":"Logu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685598062,"creation_date":1685598062,"answer_id":76378953,"question_id":73925622,"body_markdown":"To compile\r\n\r\n`javac -cp path/to/jansi.jar SnakeGame.java`\r\n\r\nTo run\r\n\r\n`java -cp path/to/jansi.jar:./ SnakeGame`\r\n\r\nAlternatively you can export the CLASS_PATH env variable and do them normally\r\n","title":"What causes this jAnsi NoClassDefFoundError?","body":"<p>To compile</p>\n<p><code>javac -cp path/to/jansi.jar SnakeGame.java</code></p>\n<p>To run</p>\n<p><code>java -cp path/to/jansi.jar:./ SnakeGame</code></p>\n<p>Alternatively you can export the CLASS_PATH env variable and do them normally</p>\n"}],"owner":{"account_id":15775971,"reputation":33,"user_id":15817931,"display_name":"Alwin Schneider"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685598062,"creation_date":1664711933,"question_id":73925622,"body_markdown":"In my code i am using the jAnsi Libary. but it spits the following error:\r\n\r\n    import org.fusesource.jansi.AnsiConsole;\r\n    import org.fusesource.jansi.Ansi;\r\n\r\n\r\n\r\n    public class SnakeGame {\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\t\t\r\n\t\t\r\n\t\tAnsiConsole.systemInstall();\r\n\t\tSystem.out.println( \r\n        Ansi.ansi().eraseScreen().fg(Ansi.Color.RED).a(&quot;Hello&quot;).fg(Ansi.Color.GREEN).a(&quot; \r\n        World&quot;).reset() );\r\n\t\tAnsiConsole.systemUninstall();\r\n\t    }\r\n    }\r\n\r\n\r\ni already tried this https://stackoverflow.com/questions/24951951/playframework-2-3-1-noclassdeffounderror-org-fusesource-jansi-ansioutputstream and it doesnt apply to my problem\r\n\r\n\r\nHere is the Error it spits:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/fusesource/jansi/AnsiConsole\r\n\tat SnakeGame.main(SnakeGame.java:11)\r\nCaused by: java.lang.ClassNotFoundException: org.fusesource.jansi.AnsiConsole\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 1 more\r\n\r\n\r\ni tried using Versions 2.10 and 2.01, but the problem stays.\r\n\r\n\r\nDo you have any Idea how to solve this?\r\n\r\nor should i just use another language than java. because i already tried jLine and it doesent work either.switching language would be the last option for me.\r\n\r\ngg Guys,\r\n\r\nkind regards,\r\n\r\nAlwin","title":"What causes this jAnsi NoClassDefFoundError?","body":"<p>In my code i am using the jAnsi Libary. but it spits the following error:</p>\n<pre><code>import org.fusesource.jansi.AnsiConsole;\nimport org.fusesource.jansi.Ansi;\n\n\n\npublic class SnakeGame {\n\n\npublic static void main(String[] args) {        \n    \n    AnsiConsole.systemInstall();\n    System.out.println( \n    Ansi.ansi().eraseScreen().fg(Ansi.Color.RED).a(&quot;Hello&quot;).fg(Ansi.Color.GREEN).a(&quot; \n    World&quot;).reset() );\n    AnsiConsole.systemUninstall();\n    }\n}\n</code></pre>\n<p>i already tried this <a href=\"https://stackoverflow.com/questions/24951951/playframework-2-3-1-noclassdeffounderror-org-fusesource-jansi-ansioutputstream\">PlayFramework 2.3.1 NoClassDefFoundError: org/fusesource/jansi/AnsiOutputStream</a> and it doesnt apply to my problem</p>\n<p>Here is the Error it spits:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/fusesource/jansi/AnsiConsole\nat SnakeGame.main(SnakeGame.java:11)\nCaused by: java.lang.ClassNotFoundException: org.fusesource.jansi.AnsiConsole\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 1 more</p>\n</blockquote>\n<p>i tried using Versions 2.10 and 2.01, but the problem stays.</p>\n<p>Do you have any Idea how to solve this?</p>\n<p>or should i just use another language than java. because i already tried jLine and it doesent work either.switching language would be the last option for me.</p>\n<p>gg Guys,</p>\n<p>kind regards,</p>\n<p>Alwin</p>\n"},{"tags":["java","xml","dom","jaxb","xml-formatting"],"comments":[{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1433782364,"post_id":30713897,"comment_id":49487139,"body_markdown":"The [XML Specification](http://www.w3.org/TR/REC-xml/#sec-starttags) explicitly says, &quot;the order of attribute specifications in a start-tag or empty-element tag is not significant.&quot; If they are significant to you, I&#39;d suggest they not be attributes, but rather child elements.","body":"The <a href=\"http://www.w3.org/TR/REC-xml/#sec-starttags\" rel=\"nofollow noreferrer\">XML Specification</a> explicitly says, &quot;the order of attribute specifications in a start-tag or empty-element tag is not significant.&quot; If they are significant to you, I&#39;d suggest they not be attributes, but rather child elements."},{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1433782534,"post_id":30713897,"comment_id":49487235,"body_markdown":"possible duplicate of [Order of XML attributes after DOM processing](http://stackoverflow.com/questions/726395/order-of-xml-attributes-after-dom-processing)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/726395/order-of-xml-attributes-after-dom-processing\">Order of XML attributes after DOM processing</a>"},{"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"score":0,"creation_date":1433797120,"post_id":30713897,"comment_id":49495405,"body_markdown":"If you have created some solution that requires XML attributes to be in a specific order, then you have created a text-processing solution and not an XML solution. Do not use XML technology to modify it because you now have specified non-XML processing requirements (i.e. you want a specific ordering in the attributes). That does not exist in the standard and no &quot;XML&quot; software needs to do it.","body":"If you have created some solution that requires XML attributes to be in a specific order, then you have created a text-processing solution and not an XML solution. Do not use XML technology to modify it because you now have specified non-XML processing requirements (i.e. you want a specific ordering in the attributes). That does not exist in the standard and no &quot;XML&quot; software needs to do it."},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":1,"creation_date":1688829492,"post_id":30713897,"comment_id":135128006,"body_markdown":"the order of attributes are significant to me because I&#39;m writing tests and they must never change, even when I reconstitute a DOM into its source string for inspection. I apologize for writing tests. I know it&#39;s a bad habit, and I will try to stop","body":"the order of attributes are significant to me because I&#39;m writing tests and they must never change, even when I reconstitute a DOM into its source string for inspection. I apologize for writing tests. I know it&#39;s a bad habit, and I will try to stop"}],"answers":[{"tags":[],"owner":{"account_id":13985372,"reputation":1,"user_id":10100608,"display_name":"SuperRedNova"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1531940657,"creation_date":1531928014,"answer_id":51405905,"question_id":30713897,"body_markdown":"    @XmlType(propOrder = {&quot;startversion&quot;, &quot;moduleid&quot;, &quot;endversion&quot;, &quot;steps&quot;})\r\n    public class XmlSubModel {\r\n\t   \r\n\t\tprivate String startversion = &quot;&quot;;\r\n\t\tprivate String moduleid = &quot;&quot;;\r\n\t\tprivate String endversion = &quot;&quot;;\r\n\t\tprivate String steps = &quot;&quot;;\r\n\r\n\t\t@XmlAttribute\r\n\t\tpublic String getStartversion() {\r\n\t\t\treturn startversion;\r\n\t\t}\r\n\r\n\t\tpublic void setStartversion(String startversion) {\r\n\t\t\tthis.startversion = startversion;\r\n\t\t}\r\n\r\n\t\t@XmlAttribute\r\n\t\tpublic String getModuleid() {\r\n\t\t\treturn moduleid;\r\n\t\t}\r\n\r\n\t\tpublic void setModuleid(String moduleid) {\r\n\t\t\tthis.moduleid = moduleid;\r\n\t\t}\r\n\r\n\t\t@XmlAttribute\r\n\t\tpublic String getEndversion() {\r\n\t\t\treturn endversion;\r\n\t\t}\r\n\r\n\t\tpublic void setEndversion(String endversion) {\r\n\t\t\tthis.endversion = endversion;\r\n\t\t}\r\n\r\n\t\tpublic String getSteps() {\r\n\t\t\treturn steps;\r\n\t\t}\r\n\r\n\t\tpublic void setSteps(String steps) {\r\n\t\t\tthis.steps = steps;\r\n\t\t}\r\n\r\n    \r\n\t}\r\n","title":"How to stop XML Tag Attributes from sorting in Ascending Order after modifying the XML file using Java?","body":"<pre><code>@XmlType(propOrder = {\"startversion\", \"moduleid\", \"endversion\", \"steps\"})\npublic class XmlSubModel {\n\n    private String startversion = \"\";\n    private String moduleid = \"\";\n    private String endversion = \"\";\n    private String steps = \"\";\n\n    @XmlAttribute\n    public String getStartversion() {\n        return startversion;\n    }\n\n    public void setStartversion(String startversion) {\n        this.startversion = startversion;\n    }\n\n    @XmlAttribute\n    public String getModuleid() {\n        return moduleid;\n    }\n\n    public void setModuleid(String moduleid) {\n        this.moduleid = moduleid;\n    }\n\n    @XmlAttribute\n    public String getEndversion() {\n        return endversion;\n    }\n\n    public void setEndversion(String endversion) {\n        this.endversion = endversion;\n    }\n\n    public String getSteps() {\n        return steps;\n    }\n\n    public void setSteps(String steps) {\n        this.steps = steps;\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9555707,"reputation":3,"user_id":7098249,"display_name":"slow_learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685597543,"creation_date":1685526987,"answer_id":76372256,"question_id":30713897,"body_markdown":"You cannot control the order of attributes. If you are using DOM, then attributes will be sorted in alphabetical order. One approach is to set your element as string without parsing, this will maintain the order.\r\n\r\nExample: `element.setTextContent(&quot;&lt;child_element attr=&quot;&quot;&gt;&lt;/child_element&gt;&quot;)`\r\n\r\nLater you can parse this while reading.\r\n\r\nIf you want to specify the order of attributes, it can be achieved by using JAXB. [JAXB Example][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jaxb","title":"How to stop XML Tag Attributes from sorting in Ascending Order after modifying the XML file using Java?","body":"<p>You cannot control the order of attributes. If you are using DOM, then attributes will be sorted in alphabetical order. One approach is to set your element as string without parsing, this will maintain the order.</p>\n<p>Example: <code>element.setTextContent(&quot;&lt;child_element attr=&quot;&quot;&gt;&lt;/child_element&gt;&quot;)</code></p>\n<p>Later you can parse this while reading.</p>\n<p>If you want to specify the order of attributes, it can be achieved by using JAXB. <a href=\"https://www.baeldung.com/jaxb\" rel=\"nofollow noreferrer\">JAXB Example</a></p>\n"}],"owner":{"account_id":6300508,"reputation":431,"user_id":4895346,"accept_rate":29,"display_name":"Arthas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2569,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1685597543,"creation_date":1433779039,"question_id":30713897,"body_markdown":"I have written a program to find all XML files matching a particular pattern in a directory and modify it by adding a new tag.\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;paths&gt;\r\n      &lt;upgradepath startversion=&quot;1.4.0.0&quot; moduleid=&quot;${moduleId}&quot; endversion=&quot;1.4.0.1&quot;&gt;\r\n        &lt;steps&gt;\r\n          &lt;!-- Put scripts here to go from 1.4.0.0 to 1.4.0.1 --&gt;\r\n        &lt;/steps&gt;\r\n      &lt;/upgradepath&gt;\r\n\r\n      &lt;upgradepath startversion=&quot;1.4.0.1&quot; moduleid=&quot;${moduleId}&quot; endversion=&quot;1.4.0.2&quot;&gt;\r\n        &lt;steps&gt;\r\n          &lt;!-- Put scripts here to go from 1.4.0.1 to 1.4.0.2 --&gt;\r\n        &lt;/steps&gt;\r\n      &lt;/upgradepath&gt;\r\n    &lt;/paths&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAfter running my program the XML file gets modified as below :\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;paths&gt;\r\n      &lt;upgradepath endversion=&quot;1.4.0.1&quot; moduleid=&quot;${moduleId}&quot; startversion=&quot;1.4.0.0&quot;&gt;\r\n        &lt;steps&gt;\r\n          &lt;!-- Put scripts here to go from 1.4.0.0 to 1.4.0.1 --&gt;\r\n        &lt;/steps&gt;\r\n      &lt;/upgradepath&gt;\r\n\r\n      &lt;upgradepath endversion=&quot;1.4.0.2&quot; moduleid=&quot;${moduleId}&quot; startversion=&quot;1.4.0.1&quot;&gt;\r\n    \t&lt;steps&gt;\r\n    \t  &lt;!-- Put scripts here to go from 1.4.0.1 to 1.4.0.2 --&gt;\r\n    \t&lt;/steps&gt;\r\n      &lt;/upgradepath&gt;\r\n\r\n    &lt;upgradepath endversion=&quot;1.4.0.3&quot; moduleid=&quot;${moduleId}&quot; startversion=&quot;1.4.0.2&quot;&gt;\r\n    &lt;steps&gt;\r\n    &lt;!--Put scripts here to go from 1.4.0.2 to 1.4.0.3--&gt;\r\n    &lt;/steps&gt;\r\n    &lt;/upgradepath&gt;\r\n    &lt;/paths&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf you see the attributes of all the tags you will see that they have all been rearranged in ascending order. The **startversion** attribute now appears last and the **endversion** attribute appears first. I want the original order of the attributes after modification of the XML file. I have tried almost everything and have lost all hope. Is there any way I can do this? Also is there a way to sort the attributes in descending order? It&#39;s not the right solution but it helps.\r\n\r\nHere is a code snippet from the program I am using to modify the files : \r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    private static void updateXMLFiles(String sStartVersion, String sEndVersion) {\r\n      try {\r\n        for (int c = 0; c &lt; pathsList.size(); c++) {\r\n          File xmlFile = new File(pathsList.get(c).toString());\r\n          DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n          DocumentBuilder dBuilder;\r\n          dBuilder = dbFactory.newDocumentBuilder();\r\n          Document doc = dBuilder.parse(xmlFile);\r\n          doc.getDocumentElement().normalize();\r\n                    \r\n          // Get the last &lt;upgradepath&gt; tag in the file.\r\n          // Method Call to verify the version entered and update the XML Files.\r\n\r\n          // Write the updated document to the file.\r\n          doc.getDocumentElement().normalize();\r\n          TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n          Transformer transformer = transformerFactory.newTransformer();\r\n          DOMSource source = new DOMSource(doc);\r\n          StreamResult result = new StreamResult(new File(pathsList.get(c).toString()));\r\n          transformer.setOutputProperty(OutputKeys.STANDALONE, &quot;yes&quot;);\r\n          transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n          transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n          transformer.transform(source, result);\r\n      } \r\n      catch (SAXException e1) {\r\n        e1.printStackTrace();\r\n      } \r\n      catch (ParserConfigurationException e1) {\r\n        e1.printStackTrace();\r\n      } \r\n      catch (IOException e1) {\r\n        e1.printStackTrace();\r\n      } \r\n      catch (TransformerException e1) {\r\n        e1.printStackTrace();\r\n      }\r\n    }\r\n\r\n    private static void addNewVersion(Document doc, String sStartVersion, String sEndVersion) {\r\n        Element element = doc.getDocumentElement();\r\n        Element upgradePath = doc.createElement(&quot;upgradepath&quot;);\r\n        upgradePath.setAttribute(&quot;startversion&quot;, sStartVersion);\r\n        upgradePath.setAttribute(&quot;moduleid&quot;, &quot;${moduleId}&quot;);\r\n        upgradePath.setAttribute(&quot;endversion&quot;, sEndVersion);\r\n        Element steps = doc.createElement(&quot;steps&quot;);\r\n        Comment comment = doc.createComment(&quot;Put scripts here to go from &quot; + sStartVersion + &quot; to &quot; + sEndVersion);\r\n        steps.appendChild(comment);\r\n        upgradePath.appendChild(steps);\r\n        element.appendChild(upgradePath);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIs there any way I can keep the order of the attributes intact or in the worst case arrange it in descending order?\r\nA friend of mine suggested I try out JAXB but I couldn&#39;t find a way to achieve this. If someone thinks JAXB can solve this do mention how to format an existing XML file and not creating one.\r\nAnother issue which is not a major concern is that although I have used the &lt;br&gt;\r\n**transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);** &lt;br&gt;\r\nthe newly added tags are not indented correctly. Any way to fix this?","title":"How to stop XML Tag Attributes from sorting in Ascending Order after modifying the XML file using Java?","body":"<p>I have written a program to find all XML files matching a particular pattern in a directory and modify it by adding a new tag.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\r\n&lt;paths&gt;\r\n  &lt;upgradepath startversion=\"1.4.0.0\" moduleid=\"${moduleId}\" endversion=\"1.4.0.1\"&gt;\r\n    &lt;steps&gt;\r\n      &lt;!-- Put scripts here to go from 1.4.0.0 to 1.4.0.1 --&gt;\r\n    &lt;/steps&gt;\r\n  &lt;/upgradepath&gt;\r\n\r\n  &lt;upgradepath startversion=\"1.4.0.1\" moduleid=\"${moduleId}\" endversion=\"1.4.0.2\"&gt;\r\n    &lt;steps&gt;\r\n      &lt;!-- Put scripts here to go from 1.4.0.1 to 1.4.0.2 --&gt;\r\n    &lt;/steps&gt;\r\n  &lt;/upgradepath&gt;\r\n&lt;/paths&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After running my program the XML file gets modified as below :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\r\n&lt;paths&gt;\r\n  &lt;upgradepath endversion=\"1.4.0.1\" moduleid=\"${moduleId}\" startversion=\"1.4.0.0\"&gt;\r\n    &lt;steps&gt;\r\n      &lt;!-- Put scripts here to go from 1.4.0.0 to 1.4.0.1 --&gt;\r\n    &lt;/steps&gt;\r\n  &lt;/upgradepath&gt;\r\n\r\n  &lt;upgradepath endversion=\"1.4.0.2\" moduleid=\"${moduleId}\" startversion=\"1.4.0.1\"&gt;\r\n\t&lt;steps&gt;\r\n\t  &lt;!-- Put scripts here to go from 1.4.0.1 to 1.4.0.2 --&gt;\r\n\t&lt;/steps&gt;\r\n  &lt;/upgradepath&gt;\r\n\r\n&lt;upgradepath endversion=\"1.4.0.3\" moduleid=\"${moduleId}\" startversion=\"1.4.0.2\"&gt;\r\n&lt;steps&gt;\r\n&lt;!--Put scripts here to go from 1.4.0.2 to 1.4.0.3--&gt;\r\n&lt;/steps&gt;\r\n&lt;/upgradepath&gt;\r\n&lt;/paths&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you see the attributes of all the tags you will see that they have all been rearranged in ascending order. The <strong>startversion</strong> attribute now appears last and the <strong>endversion</strong> attribute appears first. I want the original order of the attributes after modification of the XML file. I have tried almost everything and have lost all hope. Is there any way I can do this? Also is there a way to sort the attributes in descending order? It's not the right solution but it helps.</p>\n\n<p>Here is a code snippet from the program I am using to modify the files : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>private static void updateXMLFiles(String sStartVersion, String sEndVersion) {\r\n  try {\r\n    for (int c = 0; c &lt; pathsList.size(); c++) {\r\n      File xmlFile = new File(pathsList.get(c).toString());\r\n      DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n      DocumentBuilder dBuilder;\r\n      dBuilder = dbFactory.newDocumentBuilder();\r\n      Document doc = dBuilder.parse(xmlFile);\r\n      doc.getDocumentElement().normalize();\r\n                \r\n      // Get the last &lt;upgradepath&gt; tag in the file.\r\n      // Method Call to verify the version entered and update the XML Files.\r\n\r\n      // Write the updated document to the file.\r\n      doc.getDocumentElement().normalize();\r\n      TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n      Transformer transformer = transformerFactory.newTransformer();\r\n      DOMSource source = new DOMSource(doc);\r\n      StreamResult result = new StreamResult(new File(pathsList.get(c).toString()));\r\n      transformer.setOutputProperty(OutputKeys.STANDALONE, \"yes\");\r\n      transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\r\n      transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"2\");\r\n      transformer.transform(source, result);\r\n  } \r\n  catch (SAXException e1) {\r\n    e1.printStackTrace();\r\n  } \r\n  catch (ParserConfigurationException e1) {\r\n    e1.printStackTrace();\r\n  } \r\n  catch (IOException e1) {\r\n    e1.printStackTrace();\r\n  } \r\n  catch (TransformerException e1) {\r\n    e1.printStackTrace();\r\n  }\r\n}\r\n\r\nprivate static void addNewVersion(Document doc, String sStartVersion, String sEndVersion) {\r\n    Element element = doc.getDocumentElement();\r\n    Element upgradePath = doc.createElement(\"upgradepath\");\r\n    upgradePath.setAttribute(\"startversion\", sStartVersion);\r\n    upgradePath.setAttribute(\"moduleid\", \"${moduleId}\");\r\n    upgradePath.setAttribute(\"endversion\", sEndVersion);\r\n    Element steps = doc.createElement(\"steps\");\r\n    Comment comment = doc.createComment(\"Put scripts here to go from \" + sStartVersion + \" to \" + sEndVersion);\r\n    steps.appendChild(comment);\r\n    upgradePath.appendChild(steps);\r\n    element.appendChild(upgradePath);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Is there any way I can keep the order of the attributes intact or in the worst case arrange it in descending order?\nA friend of mine suggested I try out JAXB but I couldn't find a way to achieve this. If someone thinks JAXB can solve this do mention how to format an existing XML file and not creating one.\nAnother issue which is not a major concern is that although I have used the <br>\n<strong>transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");</strong> <br>\nthe newly added tags are not indented correctly. Any way to fix this?</p>\n"},{"tags":["java","garbage-collection","jvm"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1312304130,"post_id":6915633,"comment_id":8237121,"body_markdown":"Why would you want to increase the rate of GCs? What are you **really** trying to optimize? And yes: there are [plenty of ways to tweak the GC](http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html).","body":"Why would you want to increase the rate of GCs? What are you <b>really</b> trying to optimize? And yes: there are <a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\" rel=\"nofollow noreferrer\">plenty of ways to tweak the GC</a>."},{"owner":{"account_id":67250,"reputation":3526,"user_id":196869,"accept_rate":100,"display_name":"Jim"},"score":2,"creation_date":1312304151,"post_id":6915633,"comment_id":8237130,"body_markdown":"Don&#39;t call System.gc().  Please.  http://stackoverflow.com/questions/2414105/why-is-it-a-bad-practice-to-call-system-gc","body":"Don&#39;t call System.gc().  Please.  <a href=\"http://stackoverflow.com/questions/2414105/why-is-it-a-bad-practice-to-call-system-gc\" title=\"why is it a bad practice to call system gc\">stackoverflow.com/questions/2414105/&hellip;</a>"},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":0,"creation_date":1312304214,"post_id":6915633,"comment_id":8237145,"body_markdown":"Check out similar posts in the **Related** column on the right... specifically this: [Does anyone know of a good guide to configure GC in Java?](http://stackoverflow.com/questions/4505987/does-anyone-know-of-a-good-guide-to-configure-gc-in-java)","body":"Check out similar posts in the <b>Related</b> column on the right... specifically this: <a href=\"http://stackoverflow.com/questions/4505987/does-anyone-know-of-a-good-guide-to-configure-gc-in-java\">Does anyone know of a good guide to configure GC in Java?</a>"},{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":1,"creation_date":1312304424,"post_id":6915633,"comment_id":8237211,"body_markdown":"Increasing the rate of GC calls will not solve your problem if GC is taking up a significant chunk of CPU usage; it will only worsen things. If your JVM is well tuned, then it should invoke GC only occassionally to clean up the young gen, and the old gen on lesser occasions.","body":"Increasing the rate of GC calls will not solve your problem if GC is taking up a significant chunk of CPU usage; it will only worsen things. If your JVM is well tuned, then it should invoke GC only occassionally to clean up the young gen, and the old gen on lesser occasions."}],"answers":[{"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1312305677,"creation_date":1312305085,"answer_id":6915824,"question_id":6915633,"body_markdown":"If you change the GC pause time, garbage collection should take place more frequently. This *may* be useful for some time critical apps where you need garbage collections to not take as long as it might, even if there may be more collections. `-XpauseTarget` should do this as a VM argument. Minimum value here is 10 milliseconds. Don&#39;t call `System.gc()`. Depending on where you call it, you could make your application hugely inefficient.\r\n\r\nThe best idea is to simply optimise your application to use fewer objects. You can use a tool such as JVisualVM which comes with the JDK to inspect your app at runtime and find out where the problem lies, and also to look at the garbage collection info.\r\n\r\nYou could also try a different garbage collector. I use the following, and it helps me in some applications where memory usage, say, is more important than CPU time (although there&#39;s a few useless options here -- just weed them out):\r\n\r\n    -Xincgc\r\n    -XX:+CMSIncrementalPacing\r\n    -XX:+UseAdaptiveSizePolicy\r\n    -XX:+AggressiveOpts\r\n    -XX:+ExplicitGCInvokesConcurrent\r\n    -XX:+UnlockExperimentalVMOptions\r\n    -XX:+UseConcMarkSweepGC\r\n    -XX:UseSSE=3\r\n    -XX:+UseParNewGC\r\n    -XX:SurvivorRatio=2\r\n    -XX:NewRatio=8\r\n    -XX:+DoEscapeAnalysis\r\n    -XX:+UseFastAccessorMethods\r\n    -XX:+ForceTimeHighResolution\r\n    -XX:+UseTLAB\r\n    -XX:+ResizeTLAB\r\n    -XX:MaxGCPauseMillis=10\r\n    -XX:ParallelGCThreads=8\r\n    -XX:+CMSParallelRemarkEnabled\r\n    -XX:+DisableExplicitGC\r\n    -XX:+UseAdaptiveGCBoundary\r\n    -XX:-UseGCOverheadLimit\r\n    -Xnoclassgc\r\n    -server\r\n    -Xss128k\r\n    -Xms1g\r\n    -Xmx1g","title":"How to increase the rate of GC calls in java?","body":"<p>If you change the GC pause time, garbage collection should take place more frequently. This <em>may</em> be useful for some time critical apps where you need garbage collections to not take as long as it might, even if there may be more collections. <code>-XpauseTarget</code> should do this as a VM argument. Minimum value here is 10 milliseconds. Don't call <code>System.gc()</code>. Depending on where you call it, you could make your application hugely inefficient.</p>\n\n<p>The best idea is to simply optimise your application to use fewer objects. You can use a tool such as JVisualVM which comes with the JDK to inspect your app at runtime and find out where the problem lies, and also to look at the garbage collection info.</p>\n\n<p>You could also try a different garbage collector. I use the following, and it helps me in some applications where memory usage, say, is more important than CPU time (although there's a few useless options here -- just weed them out):</p>\n\n<pre><code>-Xincgc\n-XX:+CMSIncrementalPacing\n-XX:+UseAdaptiveSizePolicy\n-XX:+AggressiveOpts\n-XX:+ExplicitGCInvokesConcurrent\n-XX:+UnlockExperimentalVMOptions\n-XX:+UseConcMarkSweepGC\n-XX:UseSSE=3\n-XX:+UseParNewGC\n-XX:SurvivorRatio=2\n-XX:NewRatio=8\n-XX:+DoEscapeAnalysis\n-XX:+UseFastAccessorMethods\n-XX:+ForceTimeHighResolution\n-XX:+UseTLAB\n-XX:+ResizeTLAB\n-XX:MaxGCPauseMillis=10\n-XX:ParallelGCThreads=8\n-XX:+CMSParallelRemarkEnabled\n-XX:+DisableExplicitGC\n-XX:+UseAdaptiveGCBoundary\n-XX:-UseGCOverheadLimit\n-Xnoclassgc\n-server\n-Xss128k\n-Xms1g\n-Xmx1g\n</code></pre>\n"}],"owner":{"account_id":189681,"reputation":691,"user_id":429150,"accept_rate":71,"display_name":"cooltechnomax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3331,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6915824,"answer_count":1,"score":3,"last_activity_date":1685596410,"creation_date":1312303988,"question_id":6915633,"body_markdown":"How to increase the rate of GC calls in java? Are there any JVM parameters to tune the rate at which GC gets called?\r\n\r\nThanks!!","title":"How to increase the rate of GC calls in java?","body":"<p>How to increase the rate of GC calls in java? Are there any JVM parameters to tune the rate at which GC gets called?</p>\n\n<p>Thanks!!</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685597200,"post_id":76377814,"comment_id":134682864,"body_markdown":"What is the spring version that you are using?","body":"What is the spring version that you are using?"},{"owner":{"account_id":4651430,"reputation":1022,"user_id":3768218,"accept_rate":67,"display_name":"Jeya Kumar"},"score":0,"creation_date":1685598275,"post_id":76377814,"comment_id":134682993,"body_markdown":"spring 5.3.x; and i tried with    4.3.x; for both throwing null pointer exception","body":"spring 5.3.x; and i tried with    4.3.x; for both throwing null pointer exception"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685600754,"post_id":76377814,"comment_id":134683297,"body_markdown":"https://stackoverflow.com/questions/68538851/lombok-and-autowired","body":"<a href=\"https://stackoverflow.com/questions/68538851/lombok-and-autowired\" title=\"lombok and autowired\">stackoverflow.com/questions/68538851/lombok-and-autowired</a>"}],"answers":[{"tags":[],"owner":{"account_id":3416886,"reputation":137,"user_id":2865528,"display_name":"manojgarimella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685592962,"creation_date":1685592962,"answer_id":76378622,"question_id":76377814,"body_markdown":"You need to have the configuration created for your ObjectMapper using the config.\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class ObjectMapperConfig {\r\n    \r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n            return new ObjectMapper();\r\n        }\r\n    }\r\n\r\nThen in your configuration processor class autowire your objectmapper.\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    public ConfigurationProcessor(ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\nThis should inject your objectMapper object into the context.\r\n","title":"dependency injection in java library using spring","body":"<p>You need to have the configuration created for your ObjectMapper using the config.</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class ObjectMapperConfig {\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        return new ObjectMapper();\n    }\n}\n</code></pre>\n<p>Then in your configuration processor class autowire your objectmapper.</p>\n<pre><code>private final ObjectMapper objectMapper;\n\n@Autowired\npublic ConfigurationProcessor(ObjectMapper objectMapper) {\n    this.objectMapper = objectMapper;\n}\n</code></pre>\n<p>This should inject your objectMapper object into the context.</p>\n"},{"tags":[],"owner":{"account_id":23390750,"reputation":1,"user_id":17455434,"display_name":"hontinghk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685595984,"creation_date":1685593850,"answer_id":76378675,"question_id":76377814,"body_markdown":"Based on the code you provided, it seems that you are manually creating an instance of ConfigurationProcessor using the new keyword in your TestSpring class. When you create an object this way, Spring is not aware of it, and thus, it doesn&#39;t perform dependency injection on that object.\r\n\r\nTo fix it, one of the solution is to retrieve the ConfigurationProcessor bean and let spring to handle the dependency injection. Here is an example.\r\n\r\n```\r\n@Slf4j\r\n@ComponentScan(basePackages = {&quot;com.my.package.search&quot;})\r\npublic final class TestSpring {\r\n  \r\n    public static void main(String[] args) {\r\n        ApplicationContext context = new AnnotationConfigApplicationContext(TestSpring.class);\r\n        ConfigurationProcessor configurationProcessor = context.getBean(ConfigurationProcessor.class);\r\n        configurationProcessor.processTheme(null);\r\n    }\r\n}\r\n```\r\n\r\nThere is alternative solutions. You can try and see which is the best for your situation. Here is some key word: SpringBootTest, TestConfiguration or Mockito.","title":"dependency injection in java library using spring","body":"<p>Based on the code you provided, it seems that you are manually creating an instance of ConfigurationProcessor using the new keyword in your TestSpring class. When you create an object this way, Spring is not aware of it, and thus, it doesn't perform dependency injection on that object.</p>\n<p>To fix it, one of the solution is to retrieve the ConfigurationProcessor bean and let spring to handle the dependency injection. Here is an example.</p>\n<pre><code>@Slf4j\n@ComponentScan(basePackages = {&quot;com.my.package.search&quot;})\npublic final class TestSpring {\n  \n    public static void main(String[] args) {\n        ApplicationContext context = new AnnotationConfigApplicationContext(TestSpring.class);\n        ConfigurationProcessor configurationProcessor = context.getBean(ConfigurationProcessor.class);\n        configurationProcessor.processTheme(null);\n    }\n}\n</code></pre>\n<p>There is alternative solutions. You can try and see which is the best for your situation. Here is some key word: SpringBootTest, TestConfiguration or Mockito.</p>\n"}],"owner":{"account_id":4651430,"reputation":1022,"user_id":3768218,"accept_rate":67,"display_name":"Jeya Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685596253,"creation_date":1685574889,"question_id":76377814,"body_markdown":"I am new to spring framework and trying to do dependency injection using spring framework in my stand alone java library which is consumed by 2 of the clients\r\n\r\nI am declaring my bean and I want to inject `ObjectMapper`\r\n\r\n        package com.my.package.search.modules\r\n\r\n        @Component\r\n        public class ModuleProvider {\r\n            @Bean\r\n            public ObjectMapper getObjectMapper() {\r\n               return new ObjectMapper().enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n            }\r\n        \r\n        }\r\n\r\nmy class using it\r\n\r\n        @Slf4j\r\n        @ComponentScan(basePackages = {&quot;com.my.package.search&quot;})\r\n        @Component\r\n        @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n        public class ConfigurationProcessor {\r\n        \r\n        private ObjectMapper objectMapper;\r\n        \r\n        @SneakyThrows\r\n        public void processTheme(String name) {\r\n        \r\n            String json = &quot;{ \\&quot;color\\&quot; : \\&quot;Black\\&quot;, \\&quot;type\\&quot; : \\&quot;BMW\\&quot; }&quot;;\r\n            Car car = objectMapper.readValue(json, Car.class);\r\n            System.out.println(&quot;all gg&quot; + car);\r\n        }\r\n    }\r\n\r\nI am trying to trigger it from\r\n\r\n    @Slf4j\r\n    public final class SomeCaller {\r\n    \r\n      //Some caller method is triggering this\r\n        public void callConfig() {\r\n            new ConfigurationProcessor().processTheme(null);\r\n        }\r\n    }\r\n\r\nI am getting null pointer exception in\r\n\r\n    Car car = objectMapper.readValue(json, Car.class);\r\n\r\nobjectMapper -  is not getting injected and it is coming as null\r\n\r\nI am trying to follow examples which I got from internet like https://www.baeldung.com/spring-component-annotation\r\n\r\n\r\nPS: I am aware this is not best practice to integrate DI in libraries. In this case both the clients-services are owned by myself.\r\n\r\n\r\nEDIT:1\r\n\r\nI made changes as suggested but that didnt worked \r\n\r\n    @Component\r\n    @Configuration\r\n    public class ModuleProvider {\r\n        @Bean\r\n        public ObjectMapper getObjectMapper() {\r\n           return new ObjectMapper().enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"dependency injection in java library using spring","body":"<p>I am new to spring framework and trying to do dependency injection using spring framework in my stand alone java library which is consumed by 2 of the clients</p>\n<p>I am declaring my bean and I want to inject <code>ObjectMapper</code></p>\n<pre><code>    package com.my.package.search.modules\n\n    @Component\n    public class ModuleProvider {\n        @Bean\n        public ObjectMapper getObjectMapper() {\n           return new ObjectMapper().enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n        }\n    \n    }\n</code></pre>\n<p>my class using it</p>\n<pre><code>    @Slf4j\n    @ComponentScan(basePackages = {&quot;com.my.package.search&quot;})\n    @Component\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\n    public class ConfigurationProcessor {\n    \n    private ObjectMapper objectMapper;\n    \n    @SneakyThrows\n    public void processTheme(String name) {\n    \n        String json = &quot;{ \\&quot;color\\&quot; : \\&quot;Black\\&quot;, \\&quot;type\\&quot; : \\&quot;BMW\\&quot; }&quot;;\n        Car car = objectMapper.readValue(json, Car.class);\n        System.out.println(&quot;all gg&quot; + car);\n    }\n}\n</code></pre>\n<p>I am trying to trigger it from</p>\n<pre><code>@Slf4j\npublic final class SomeCaller {\n\n  //Some caller method is triggering this\n    public void callConfig() {\n        new ConfigurationProcessor().processTheme(null);\n    }\n}\n</code></pre>\n<p>I am getting null pointer exception in</p>\n<pre><code>Car car = objectMapper.readValue(json, Car.class);\n</code></pre>\n<p>objectMapper -  is not getting injected and it is coming as null</p>\n<p>I am trying to follow examples which I got from internet like <a href=\"https://www.baeldung.com/spring-component-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-component-annotation</a></p>\n<p>PS: I am aware this is not best practice to integrate DI in libraries. In this case both the clients-services are owned by myself.</p>\n<p>EDIT:1</p>\n<p>I made changes as suggested but that didnt worked</p>\n<pre><code>@Component\n@Configuration\npublic class ModuleProvider {\n    @Bean\n    public ObjectMapper getObjectMapper() {\n       return new ObjectMapper().enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","google-maps"],"comments":[{"owner":{"account_id":17917946,"reputation":266,"user_id":13018498,"display_name":"Binil George"},"score":0,"creation_date":1685559893,"post_id":76375442,"comment_id":134678948,"body_markdown":"have you tried starting the activity again ?","body":"have you tried starting the activity again ?"},{"owner":{"account_id":17917946,"reputation":266,"user_id":13018498,"display_name":"Binil George"},"score":0,"creation_date":1685560922,"post_id":76375442,"comment_id":134679130,"body_markdown":"with startactivity and intent ?","body":"with startactivity and intent ?"},{"owner":{"account_id":22386279,"reputation":1,"user_id":16599040,"display_name":"varrun"},"score":0,"creation_date":1685590316,"post_id":76375442,"comment_id":134682233,"body_markdown":"Yes i have tried still not refreshed. @BinilGeorge","body":"Yes i have tried still not refreshed. @BinilGeorge"}],"owner":{"account_id":22386279,"reputation":1,"user_id":16599040,"display_name":"varrun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685596061,"creation_date":1685549328,"question_id":76375442,"body_markdown":"Once enabling the permissions in settings for google map, on back to the application screen is not getting refreshed. what is the call back need to be used ?\r\n\r\n&gt; \r\n&gt; \r\n&gt;\r\n&gt; ```\r\n&gt; binding.mapView.permissionMsgClick.setOnClickListener {\r\n&gt;             val intent = Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS)\r\n&gt;             val uri = Uri.fromParts(&quot;package&quot;, requireContext().packageName, null)\r\n&gt;             intent.data = uri\r\n&gt;             startActivity(intent)\r\n&gt;             Log.d(TAG, &quot;permissionMsgClick : entering&quot;)\r\n&gt;         }\r\n&gt; ```\r\n&gt;\r\n&gt; \r\n&gt; \r\n&gt; \\[enter image description here\\](https://i.stack.imgur.com/aOreG.png)\r\n&gt; In the above image i have a location text after enabling permissions from settings on navigate back map screen is not refreshing. So the texts are not hiding am using the fragment class.","title":"How to refresh map screen in a Kotlin app after enabling permissions in settings screen?","body":"<p>Once enabling the permissions in settings for google map, on back to the application screen is not getting refreshed. what is the call back need to be used ?</p>\n<blockquote>\n<pre><code>binding.mapView.permissionMsgClick.setOnClickListener {\n            val intent = Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS)\n            val uri = Uri.fromParts(&quot;package&quot;, requireContext().packageName, null)\n            intent.data = uri\n            startActivity(intent)\n            Log.d(TAG, &quot;permissionMsgClick : entering&quot;)\n        }\n</code></pre>\n<p>[enter image description here](<a href=\"https://i.stack.imgur.com/aOreG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/aOreG.png</a>)\nIn the above image i have a location text after enabling permissions from settings on navigate back map screen is not refreshing. So the texts are not hiding am using the fragment class.</p>\n</blockquote>\n"},{"tags":["java","oracle","jdbc","apache-axis"],"comments":[{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":2,"creation_date":1387800073,"post_id":20742794,"comment_id":31081576,"body_markdown":"What does `util.getFilePathToSave()` give you - sounds like it would be a file path rather than a JDBC URL, but then you wouldn&#39;t be getting an error from the listener. Do you get this error immediately, or after it&#39;s performed some operations - maybe you aren&#39;t closing your connections and the listener/DB is running out of processes?","body":"What does <code>util.getFilePathToSave()</code> give you - sounds like it would be a file path rather than a JDBC URL, but then you wouldn&#39;t be getting an error from the listener. Do you get this error immediately, or after it&#39;s performed some operations - maybe you aren&#39;t closing your connections and the listener/DB is running out of processes?"},{"owner":{"account_id":2563574,"reputation":1605,"user_id":2224206,"accept_rate":86,"display_name":"Priyan RockZ"},"score":0,"creation_date":1387947625,"post_id":20742794,"comment_id":31129001,"body_markdown":"thanks dear Alex.its gives jdbc url.i&#39;ll check my connection&#39;s open &amp; close","body":"thanks dear Alex.its gives jdbc url.i&#39;ll check my connection&#39;s open &amp; close"}],"answers":[{"tags":[],"owner":{"account_id":3766428,"reputation":458,"user_id":3129841,"accept_rate":100,"display_name":"Devaraj Mahesan"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1387811830,"creation_date":1387810869,"answer_id":20746040,"question_id":20742794,"body_markdown":"You opened a lot of connections and that&#39;s the issue. I think in your code, you did not close the opened connection.\r\n\r\nA database bounce could temporarily solve, but will re-appear when you do consecutive execution.\r\nAlso, it should be verified the number of concurrent connections to the database. If maximum DB processes parameter has been reached this is a common symptom. \r\n\r\nCourtesy of this thread: https://community.oracle.com/thread/362226?tstart=-1","title":"ORA-12516, TNS:listener could not find available handler","body":"<p>You opened a lot of connections and that's the issue. I think in your code, you did not close the opened connection.</p>\n\n<p>A database bounce could temporarily solve, but will re-appear when you do consecutive execution.\nAlso, it should be verified the number of concurrent connections to the database. If maximum DB processes parameter has been reached this is a common symptom. </p>\n\n<p>Courtesy of this thread: <a href=\"https://community.oracle.com/thread/362226?tstart=-1\">https://community.oracle.com/thread/362226?tstart=-1</a></p>\n"},{"tags":[],"owner":{"account_id":543620,"reputation":1424,"user_id":912813,"display_name":"Jeff Miller"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1395771960,"creation_date":1395771960,"answer_id":22643231,"question_id":20742794,"body_markdown":"I fixed this problem with sql command line:\r\n\r\n    connect system/&lt;password&gt;\r\n    alter system set processes=300 scope=spfile;\r\n    alter system set sessions=300 scope=spfile;\r\n\r\nRestart database.\r\n\r\n","title":"ORA-12516, TNS:listener could not find available handler","body":"<p>I fixed this problem with sql command line:</p>\n\n<pre><code>connect system/&lt;password&gt;\nalter system set processes=300 scope=spfile;\nalter system set sessions=300 scope=spfile;\n</code></pre>\n\n<p>Restart database.</p>\n"},{"tags":[],"owner":{"account_id":9155183,"reputation":99,"user_id":6808336,"display_name":"Sorin Dumitru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676882875,"creation_date":1676882875,"answer_id":75507025,"question_id":20742794,"body_markdown":"For me the problem was not the number of connexions, but the &quot;matching protocol&quot; part. Changing the ojdbc version solved the problem.","title":"ORA-12516, TNS:listener could not find available handler","body":"<p>For me the problem was not the number of connexions, but the &quot;matching protocol&quot; part. Changing the ojdbc version solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":1675364,"reputation":383,"user_id":1541051,"accept_rate":80,"display_name":"Bharat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685594369,"creation_date":1685594369,"answer_id":76378711,"question_id":20742794,"body_markdown":"A connection pooling solution can prevent these intermittent connection establishment failures. This is from &quot;High Performance Java Persistence book&quot; by Vlad Mihalcea\r\n","title":"ORA-12516, TNS:listener could not find available handler","body":"<p>A connection pooling solution can prevent these intermittent connection establishment failures. This is from &quot;High Performance Java Persistence book&quot; by Vlad Mihalcea</p>\n"}],"owner":{"account_id":2563574,"reputation":1605,"user_id":2224206,"accept_rate":86,"display_name":"Priyan RockZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200145,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":20746040,"answer_count":4,"score":32,"last_activity_date":1685594369,"creation_date":1387798871,"question_id":20742794,"body_markdown":"My error:\r\n\r\n    java.sql.SQLException: Listener refused the connection with the following error:\r\n    \r\n    ORA-12516, TNS:listener could not find available handler with matching protocol\r\n    stack\r\n    The Connection descriptor used by the client was:\r\n    //10.2.5.21:9001/XE\r\n    \r\n            at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java\r\n    :112)\r\n            at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java\r\n    :261)\r\n            at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:387)\r\n            at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:\r\n    414)\r\n            at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n            at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtensio\r\n    n.java:35)\r\n            at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\r\n            at oracle.jdbc.pool.OracleDataSource.getPhysicalConnection(OracleDataSou\r\n    rce.java:297)\r\n            at oracle.jdbc.pool.OracleDataSource.getConnection(OracleDataSource.java\r\n    :221)\r\n            at oracle.jdbc.pool.OracleDataSource.getConnection(OracleDataSource.java\r\n    :165)\r\n            at utilityService.DB_util.setOracleConnectionActive(DB_util.java:99)\r\n            at utilityService.DB_util.getRecPreparedAuthentication(DB_util.java:124)\r\n\r\n\r\nMy common db connection class:\r\n\r\n    package utilityService;\r\n    \r\n    import java.sql.CallableStatement;\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    import oracle.jdbc.pool.OracleDataSource;\r\n    \r\n\r\n    public class DB_util {\r\n    \tString propValue = &quot;&quot;;\r\n    \tResultSet rec = null;\r\n    \tStatement stm = null;\r\n    \tPreparedStatement pre_stm = null;\r\n    \tCallableStatement call_stm = null;\r\n    \tConnection conn1 = null;\r\n    \r\n    \t/**\r\n    \t * Constructure to get oracle connection\r\n    \t */\r\n    \tpublic DB_util() {\r\n    \t\t\r\n    \t\tUtil util=new Util();\r\n    \t\tpropValue=util.getFilePathToSave();\r\n    \t\t//propValue = Util.propValue;// get oracle connection\r\n    \t\tsetOracleConnectionActive();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Close all oracle connections and result sets.\r\n    \t */\r\n    \tpublic void setOracleConnectionClose() {\r\n    \t\ttry {\r\n    \t\t\tif (conn1 != null || !conn1.isClosed()) {\r\n    \t\t\t\tif (rec != null) {\r\n    \t\t\t\t\trec.close();\r\n    \t\t\t\t\trec = null;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (stm != null) {\r\n    \t\t\t\t\tstm.close();\r\n    \t\t\t\t\tstm = null;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (pre_stm != null) {\r\n    \t\t\t\t\tpre_stm.close();\r\n    \t\t\t\t\tpre_stm = null;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (call_stm != null) {\r\n    \t\t\t\t\tcall_stm.close();\r\n    \t\t\t\t\tcall_stm = null;\r\n    \t\t\t\t}\r\n    \t\t\t\tconn1.commit();\r\n    \t\t\t\tconn1.close();\r\n    \t\t\t\tconn1 = null;\r\n    \t\t\t}\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * return a result set according to sql sent\r\n    \t * \r\n    \t * @param SQL\r\n    \t * @return\r\n    \t */\r\n    \tpublic ResultSet getRec(String SQL) {\r\n    \t\ttry {\r\n    \t\t\tsetOracleConnectionActive();\r\n    \t\t\tstm = conn1.createStatement();\r\n    \t\t\trec = stm.executeQuery(SQL);\r\n    \r\n    \t\t\treturn rec;\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t\treturn rec;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Activate oracle connection\r\n    \t */\r\n    \tprivate void setOracleConnectionActive() {\r\n    \t\ttry {\r\n    \t\t\tif (conn1 == null || conn1.isClosed()) {\r\n    \t\t\t\tOracleDataSource ods = new OracleDataSource();\r\n    \t\t\t\tif (propValue != null) {\r\n    \t\t\t\t\tods.setURL(propValue);\r\n    \t\t\t\t}\r\n    \t\t\t\tconn1 = ods.getConnection();\r\n    \t\t\t\tSystem.out.println(&quot;DB connection CONNECTED......&quot;);\r\n    \t\t\t\tconn1.setAutoCommit(false);\r\n    \t\t\t}\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\t//setOracleConnectionActive();\r\n    \t\t\tex.printStackTrace();\r\n    \t\t\tSystem.out.println(&quot;DB connection FAILED......&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * send prepared result set with user authenticate\r\n    \t * \r\n    \t * @param SQL\r\n    \t * @param strInputUserMobile\r\n    \t * @param strInputUserName\r\n    \t * @param strInputUserPassword\r\n    \t * @return\r\n    \t */\r\n    \tpublic ResultSet getRecPreparedAuthentication(String SQL,\r\n    \t\t\tString strInputUserMobile, String strInputUserName,\r\n    \t\t\tString strInputUserPassword) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tsetOracleConnectionActive();\r\n    \t\t\tpre_stm = conn1.prepareStatement(SQL);\r\n    \t\t\tpre_stm.setString(1, strInputUserMobile);\r\n    \t\t\tpre_stm.setString(2, strInputUserName);\r\n    \t\t\tpre_stm.setString(3, strInputUserPassword);\r\n    \t\t\trec = pre_stm.executeQuery();\r\n    \r\n    \t\t\treturn rec;\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t\treturn rec;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t/**\r\n    \t * insert sql to db which is send as a sql\r\n    \t * \r\n    \t * @param SQL\r\n    \t * @return\r\n    \t */\r\n    \tpublic int insertSQL(String SQL) {\r\n    \t\tint output = 0;\r\n    \t\ttry {\r\n    \t\t\tsetOracleConnectionActive();\r\n    \t\t\tstm = conn1.createStatement();\r\n    \t\t\toutput = stm.executeUpdate(SQL);\r\n    \t\t\tconn1.commit();\r\n    \t\t\toutput = 1;\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \t\t\ttry {\r\n    \t\t\t\tconn1.rollback();\r\n    \t\t\t\toutput = 0;\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\toutput = 0;\r\n    \t\t\t}\r\n    \t\t\tex.printStackTrace();\r\n    \r\n    \t\t}\r\n    \t\treturn output;\r\n    \r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Send a callable statement according to sent sql\r\n    \t * \r\n    \t * @param SQL\r\n    \t * @return\r\n    \t */\r\n    \tpublic CallableStatement callableStatementSQL(String SQL) {\r\n    \r\n    \t\tint output = 0;\r\n    \t\ttry {\r\n    \t\t\tsetOracleConnectionActive();\r\n    \t\t\tcall_stm = conn1.prepareCall(SQL);\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \t\t\ttry {\r\n    \t\t\t\tconn1.rollback();\r\n    \t\t\t\toutput = 0;\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\toutput = 0;\r\n    \t\t\t}\r\n    \t\t\tex.printStackTrace();\r\n    \r\n    \t\t}\r\n    \t\treturn call_stm;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nEvery transaction I refer this class and do my fetching &amp; CRUD operations.\r\nIs there any issue with my code?","title":"ORA-12516, TNS:listener could not find available handler","body":"<p>My error:</p>\n\n<pre><code>java.sql.SQLException: Listener refused the connection with the following error:\n\nORA-12516, TNS:listener could not find available handler with matching protocol\nstack\nThe Connection descriptor used by the client was:\n//10.2.5.21:9001/XE\n\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java\n:112)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java\n:261)\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:387)\n        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:\n414)\n        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtensio\nn.java:35)\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\n        at oracle.jdbc.pool.OracleDataSource.getPhysicalConnection(OracleDataSou\nrce.java:297)\n        at oracle.jdbc.pool.OracleDataSource.getConnection(OracleDataSource.java\n:221)\n        at oracle.jdbc.pool.OracleDataSource.getConnection(OracleDataSource.java\n:165)\n        at utilityService.DB_util.setOracleConnectionActive(DB_util.java:99)\n        at utilityService.DB_util.getRecPreparedAuthentication(DB_util.java:124)\n</code></pre>\n\n<p>My common db connection class:</p>\n\n<pre><code>package utilityService;\n\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport oracle.jdbc.pool.OracleDataSource;\n\n\npublic class DB_util {\n    String propValue = \"\";\n    ResultSet rec = null;\n    Statement stm = null;\n    PreparedStatement pre_stm = null;\n    CallableStatement call_stm = null;\n    Connection conn1 = null;\n\n    /**\n     * Constructure to get oracle connection\n     */\n    public DB_util() {\n\n        Util util=new Util();\n        propValue=util.getFilePathToSave();\n        //propValue = Util.propValue;// get oracle connection\n        setOracleConnectionActive();\n    }\n\n    /**\n     * Close all oracle connections and result sets.\n     */\n    public void setOracleConnectionClose() {\n        try {\n            if (conn1 != null || !conn1.isClosed()) {\n                if (rec != null) {\n                    rec.close();\n                    rec = null;\n                }\n                if (stm != null) {\n                    stm.close();\n                    stm = null;\n                }\n                if (pre_stm != null) {\n                    pre_stm.close();\n                    pre_stm = null;\n                }\n                if (call_stm != null) {\n                    call_stm.close();\n                    call_stm = null;\n                }\n                conn1.commit();\n                conn1.close();\n                conn1 = null;\n            }\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    /**\n     * return a result set according to sql sent\n     * \n     * @param SQL\n     * @return\n     */\n    public ResultSet getRec(String SQL) {\n        try {\n            setOracleConnectionActive();\n            stm = conn1.createStatement();\n            rec = stm.executeQuery(SQL);\n\n            return rec;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return rec;\n        }\n\n    }\n\n    /**\n     * Activate oracle connection\n     */\n    private void setOracleConnectionActive() {\n        try {\n            if (conn1 == null || conn1.isClosed()) {\n                OracleDataSource ods = new OracleDataSource();\n                if (propValue != null) {\n                    ods.setURL(propValue);\n                }\n                conn1 = ods.getConnection();\n                System.out.println(\"DB connection CONNECTED......\");\n                conn1.setAutoCommit(false);\n            }\n        } catch (Exception ex) {\n            //setOracleConnectionActive();\n            ex.printStackTrace();\n            System.out.println(\"DB connection FAILED......\");\n        }\n    }\n\n    /**\n     * send prepared result set with user authenticate\n     * \n     * @param SQL\n     * @param strInputUserMobile\n     * @param strInputUserName\n     * @param strInputUserPassword\n     * @return\n     */\n    public ResultSet getRecPreparedAuthentication(String SQL,\n            String strInputUserMobile, String strInputUserName,\n            String strInputUserPassword) {\n\n        try {\n            setOracleConnectionActive();\n            pre_stm = conn1.prepareStatement(SQL);\n            pre_stm.setString(1, strInputUserMobile);\n            pre_stm.setString(2, strInputUserName);\n            pre_stm.setString(3, strInputUserPassword);\n            rec = pre_stm.executeQuery();\n\n            return rec;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return rec;\n        }\n\n    }\n\n    /**\n     * insert sql to db which is send as a sql\n     * \n     * @param SQL\n     * @return\n     */\n    public int insertSQL(String SQL) {\n        int output = 0;\n        try {\n            setOracleConnectionActive();\n            stm = conn1.createStatement();\n            output = stm.executeUpdate(SQL);\n            conn1.commit();\n            output = 1;\n\n        } catch (Exception ex) {\n            try {\n                conn1.rollback();\n                output = 0;\n            } catch (SQLException e) {\n                e.printStackTrace();\n                output = 0;\n            }\n            ex.printStackTrace();\n\n        }\n        return output;\n\n    }\n\n    /**\n     * Send a callable statement according to sent sql\n     * \n     * @param SQL\n     * @return\n     */\n    public CallableStatement callableStatementSQL(String SQL) {\n\n        int output = 0;\n        try {\n            setOracleConnectionActive();\n            call_stm = conn1.prepareCall(SQL);\n\n        } catch (Exception ex) {\n            try {\n                conn1.rollback();\n                output = 0;\n            } catch (SQLException e) {\n                e.printStackTrace();\n                output = 0;\n            }\n            ex.printStackTrace();\n\n        }\n        return call_stm;\n\n    }\n\n}\n</code></pre>\n\n<p>Every transaction I refer this class and do my fetching &amp; CRUD operations.\nIs there any issue with my code?</p>\n"},{"tags":["java","amazon-web-services","google-cloud-platform","google-bigquery"],"owner":{"account_id":20245896,"reputation":3,"user_id":14848356,"display_name":"Sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685594350,"creation_date":1685281310,"question_id":76351789,"body_markdown":"I have setup a data transfer config between Big Query and Amazon S3, and Big Query data transfer service support connection with AWS using  AWS access keys and secret keys. Because of key rotation policy for AWS, secret keys and access keys are rotated after fixed interval of time. So how should we update the new access keys and secret keys for data transfer config by creating some script.\r\n\r\n","title":"How to update access keys and secret keys for Data transfer Config","body":"<p>I have setup a data transfer config between Big Query and Amazon S3, and Big Query data transfer service support connection with AWS using  AWS access keys and secret keys. Because of key rotation policy for AWS, secret keys and access keys are rotated after fixed interval of time. So how should we update the new access keys and secret keys for data transfer config by creating some script.</p>\n"},{"tags":["java","encapsulation","jls","java-package"],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1612892472,"creation_date":1600811002,"answer_id":64018076,"question_id":64018075,"body_markdown":"Subpackages exist to allow code to be conveniently organized.  They impose a restriction on class/interface naming (a class cannot have the same fully qualified name as a subpackage), but are otherwise no different than two unrelated packages.\r\n\r\nThe Java Language Specification defines what subpackages are in section 7.1, [Package Members](https://docs.oracle.com/javase/specs/jls/se15/html/jls-7.html#jls-7.1).\r\n\r\nA subpackage is any package directly nested within another package.  For instance, `com.example.subpackage` is a subpackage of `com.example`:\r\n\r\n&gt; The members of a package are its subpackages and all the top level class types and top level interface types declared in all the compilation units of the package.\r\n&gt;\r\n&gt; *For example, in the Java SE Platform API:*\r\n&gt;\r\n&gt; * *The package `java` has subpackages `awt`, `applet`, `io`, `lang`, `net`, and `util`, but no compilation units.*\r\n&gt; * *The package `java.awt` has a subpackage named `image`, as well as a number of compilation units containing declarations of class and interface types.*\r\n\r\nSubpackages enforce naming constraints between subpackages and classes/interfaces within the package.  Namely, a subpackage and a class/interface cannot share the same name within the same package:\r\n\r\n&gt; **A package may not contain two members of the same name, or a compile-time error results.**\r\n&gt;\r\n&gt; *Here are some examples:*\r\n&gt;\r\n&gt; * *Because the package `java.awt` has a subpackage `image`, it cannot (and does not) contain a declaration of a class or interface type named `image`.*\r\n&gt; * *If there is a package named `mouse` and a member type `Button` in that package (which then might be referred to as `mouse.Button`), then there cannot be any package with the fully qualified name `mouse.Button` or `mouse.Button.Click`.*\r\n&gt; * *If `com.nighthacks.java.jag` is the fully qualified name of a type, then there cannot be any package whose fully qualified name is either `com.nighthacks.java.jag` or `com.nighthacks.java.jag.scrabble`.*\r\n\r\nThe subpackage concept primarly exists for organizational purposes.  The restriction against name conflicts is the *only* significance afforded to subpackages by the language:\r\n\r\n&gt; The hierarchical naming structure for packages is intended to be convenient for organizing related packages in a conventional manner, but has no significance in itself other than the prohibition against a package having a subpackage with the same simple name as a top level type declared in that package.\r\n&gt;\r\n&gt; *For example, there is no special access relationship between a package named `oliver` and another package named `oliver.twist`, or between packages named `evelyn.wood` and `evelyn.waugh`. That is, the code in a package named `oliver.twist` has no better access to the types declared within package `oliver` than code in any other package.*\r\n","title":"What do Java subpackages do, given that they don&#39;t provide a special access relationship?","body":"<p>Subpackages exist to allow code to be conveniently organized.  They impose a restriction on class/interface naming (a class cannot have the same fully qualified name as a subpackage), but are otherwise no different than two unrelated packages.</p>\n<p>The Java Language Specification defines what subpackages are in section 7.1, <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-7.html#jls-7.1\" rel=\"nofollow noreferrer\">Package Members</a>.</p>\n<p>A subpackage is any package directly nested within another package.  For instance, <code>com.example.subpackage</code> is a subpackage of <code>com.example</code>:</p>\n<blockquote>\n<p>The members of a package are its subpackages and all the top level class types and top level interface types declared in all the compilation units of the package.</p>\n<p><em>For example, in the Java SE Platform API:</em></p>\n<ul>\n<li><em>The package <code>java</code> has subpackages <code>awt</code>, <code>applet</code>, <code>io</code>, <code>lang</code>, <code>net</code>, and <code>util</code>, but no compilation units.</em></li>\n<li><em>The package <code>java.awt</code> has a subpackage named <code>image</code>, as well as a number of compilation units containing declarations of class and interface types.</em></li>\n</ul>\n</blockquote>\n<p>Subpackages enforce naming constraints between subpackages and classes/interfaces within the package.  Namely, a subpackage and a class/interface cannot share the same name within the same package:</p>\n<blockquote>\n<p><strong>A package may not contain two members of the same name, or a compile-time error results.</strong></p>\n<p><em>Here are some examples:</em></p>\n<ul>\n<li><em>Because the package <code>java.awt</code> has a subpackage <code>image</code>, it cannot (and does not) contain a declaration of a class or interface type named <code>image</code>.</em></li>\n<li><em>If there is a package named <code>mouse</code> and a member type <code>Button</code> in that package (which then might be referred to as <code>mouse.Button</code>), then there cannot be any package with the fully qualified name <code>mouse.Button</code> or <code>mouse.Button.Click</code>.</em></li>\n<li><em>If <code>com.nighthacks.java.jag</code> is the fully qualified name of a type, then there cannot be any package whose fully qualified name is either <code>com.nighthacks.java.jag</code> or <code>com.nighthacks.java.jag.scrabble</code>.</em></li>\n</ul>\n</blockquote>\n<p>The subpackage concept primarly exists for organizational purposes.  The restriction against name conflicts is the <em>only</em> significance afforded to subpackages by the language:</p>\n<blockquote>\n<p>The hierarchical naming structure for packages is intended to be convenient for organizing related packages in a conventional manner, but has no significance in itself other than the prohibition against a package having a subpackage with the same simple name as a top level type declared in that package.</p>\n<p><em>For example, there is no special access relationship between a package named <code>oliver</code> and another package named <code>oliver.twist</code>, or between packages named <code>evelyn.wood</code> and <code>evelyn.waugh</code>. That is, the code in a package named <code>oliver.twist</code> has no better access to the types declared within package <code>oliver</code> than code in any other package.</em></p>\n</blockquote>\n"}],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64018076,"answer_count":1,"score":0,"last_activity_date":1685593288,"creation_date":1600811002,"question_id":64018075,"body_markdown":"I have seen a number of posts on Stack Overflow and elsewhere assert that Java does not have the concept of subpackages.  One thing often pointed out is the lack of any special access relationship between a package and its &quot;subpackage&quot;.  For instance, there is no way to expose a class or method in `com.example` to classes in `com.example.subpackage` (or vice versa) without exposing it to all other packages.  However, despite these assertions, I see that the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se15/html/index.html) does in fact define the concept of &quot;subpackage&quot; in [Chapter 7. Packages and Modules](https://docs.oracle.com/javase/specs/jls/se15/html/jls-7.html).\r\n\r\n&gt; The members of a package are class and interface types, which are declared in compilation units of the package, and subpackages, which may contain compilation units and subpackages of their own.\r\n\r\nWhat, therefore, is a subpackage in Java, and what does it do?","title":"What do Java subpackages do, given that they don&#39;t provide a special access relationship?","body":"<p>I have seen a number of posts on Stack Overflow and elsewhere assert that Java does not have the concept of subpackages.  One thing often pointed out is the lack of any special access relationship between a package and its &quot;subpackage&quot;.  For instance, there is no way to expose a class or method in <code>com.example</code> to classes in <code>com.example.subpackage</code> (or vice versa) without exposing it to all other packages.  However, despite these assertions, I see that the <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/index.html\" rel=\"nofollow noreferrer\">Java Language Specification</a> does in fact define the concept of &quot;subpackage&quot; in <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-7.html\" rel=\"nofollow noreferrer\">Chapter 7. Packages and Modules</a>.</p>\n<blockquote>\n<p>The members of a package are class and interface types, which are declared in compilation units of the package, and subpackages, which may contain compilation units and subpackages of their own.</p>\n</blockquote>\n<p>What, therefore, is a subpackage in Java, and what does it do?</p>\n"},{"tags":["java","android","eclipse","performance"],"comments":[{"owner":{"account_id":1626069,"reputation":7110,"user_id":1501613,"accept_rate":100,"display_name":"cYrixmorten"},"score":0,"creation_date":1382630458,"post_id":19570209,"comment_id":29043714,"body_markdown":"filter by message: ^(?!.*(GC)|(Cache)).*$. :P when using Google Maps API it generates a lot of GC messages in LogCat, which is removed by doing this. Not a solution though. But in case or app works fine despite the warning, this is a neat way to remove unwanted logs.","body":"filter by message: ^(?!.*(GC)|(Cache)).*$. :P when using Google Maps API it generates a lot of GC messages in LogCat, which is removed by doing this. Not a solution though. But in case or app works fine despite the warning, this is a neat way to remove unwanted logs."}],"answers":[{"tags":[],"owner":{"account_id":3172419,"reputation":583,"user_id":2681023,"display_name":"Varun"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1515423240,"creation_date":1392807046,"answer_id":21878274,"question_id":19570209,"body_markdown":"eclipse.ini file can be edited.\r\nIncrease the values for memory usage.\r\nPlease see the sample eclipse.ini file below.\r\n\r\n    --launcher.XXMaxPermSize\r\n    512M\r\n    \r\n    -showsplash\r\n    org.eclipse.platform\r\n    --launcher.XXMaxPermSize\r\n    512m\r\n    \r\n    --launcher.defaultAction\r\n    openFile\r\n    \r\n    --launcher.appendVmargs\r\n    \r\n    -showsplash\r\n    \r\n    org.eclipse.platform\r\n    \r\n    --launcher.XXMaxPermSize\r\n    \r\n    512m\r\n    \r\n    --launcher.defaultAction\r\n    \r\n    openFile\r\n    \r\n    --launcher.appendVmargs\r\n    \r\n    -vmargs\r\n    \r\n    -Dosgi.requiredJavaVersion=1.6\r\n    \r\n    -Xms512m\r\n    \r\n    -Xmx1024m\r\n\r\n![The changed area in Eclipse.ini file][1]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/NMcuW.png\r\n","title":"How to fix this error &quot;GC overhead limit exceeded in Eclipse&quot;","body":"<p>eclipse.ini file can be edited.\nIncrease the values for memory usage.\nPlease see the sample eclipse.ini file below.</p>\n\n<pre><code>--launcher.XXMaxPermSize\n512M\n\n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize\n512m\n\n--launcher.defaultAction\nopenFile\n\n--launcher.appendVmargs\n\n-showsplash\n\norg.eclipse.platform\n\n--launcher.XXMaxPermSize\n\n512m\n\n--launcher.defaultAction\n\nopenFile\n\n--launcher.appendVmargs\n\n-vmargs\n\n-Dosgi.requiredJavaVersion=1.6\n\n-Xms512m\n\n-Xmx1024m\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/NMcuW.png\" alt=\"The changed area in Eclipse.ini file\"></p>\n"},{"tags":[],"owner":{"account_id":3056766,"reputation":399,"user_id":2590197,"display_name":"HariKishore K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570536555,"creation_date":1570536555,"answer_id":58286073,"question_id":19570209,"body_markdown":"MAC / IOS Users \r\n\r\n&gt; RightClick on Eclipse.app and then click on Show Package Content\r\n&gt; Now Open Content folder to find the eclipse.ini file and edit\r\n\r\n    -Xms512m\r\n    -Xmx2048m","title":"How to fix this error &quot;GC overhead limit exceeded in Eclipse&quot;","body":"<p>MAC / IOS Users </p>\n\n<blockquote>\n  <p>RightClick on Eclipse.app and then click on Show Package Content\n  Now Open Content folder to find the eclipse.ini file and edit</p>\n</blockquote>\n\n<pre><code>-Xms512m\n-Xmx2048m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10835294,"reputation":21,"user_id":7968464,"display_name":"faizan9689"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685593211,"creation_date":1685593211,"answer_id":76378631,"question_id":19570209,"body_markdown":"Use -Xmx:G1GC:1024 algorithm to fix it in config file which loads when app start","title":"How to fix this error &quot;GC overhead limit exceeded in Eclipse&quot;","body":"<p>Use -Xmx:G1GC:1024 algorithm to fix it in config file which loads when app start</p>\n"}],"owner":{"account_id":3423854,"reputation":697,"user_id":2870356,"accept_rate":14,"display_name":"issam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45363,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1685593211,"creation_date":1382628682,"question_id":19570209,"body_markdown":"How to fix this error &quot;GC overhead limit exceeded in Eclipse&quot;. This problem was occurred when I used graphical layout from ADT android.","title":"How to fix this error &quot;GC overhead limit exceeded in Eclipse&quot;","body":"<p>How to fix this error \"GC overhead limit exceeded in Eclipse\". This problem was occurred when I used graphical layout from ADT android.</p>\n"},{"tags":["java","android","admob","android-recyclerview"],"comments":[{"owner":{"account_id":7192131,"reputation":1877,"user_id":5492047,"display_name":"Reyansh Mishra"},"score":0,"creation_date":1493691468,"post_id":43666419,"comment_id":74501758,"body_markdown":"where do you call this method ?recyclerview.scrollToPosition(adapterWrapper.getAdapter().getItemCount()-1); try this mRecyclerView.post(new Runnable() {\n                                @Override\n                                public void run() {\n                                    mRecyclerView.scrollToPosition(mData.size()-1);\n                                }\n                            });","body":"where do you call this method ?recyclerview.scrollToPosition(adapterWrapper.getAdapter().g&zwnj;&#8203;etItemCount()-1); try this mRecyclerView.post(new Runnable() {                                 @Override                                 public void run() {                                     mRecyclerView.scrollToPosition(mData.size()-1);                                 }                             });"},{"owner":{"account_id":10003908,"reputation":863,"user_id":7399013,"accept_rate":54,"display_name":"Doge"},"score":0,"creation_date":1493691593,"post_id":43666419,"comment_id":74501784,"body_markdown":"@ReyanshMishra I tried setStackFromEnd in oncreate. ScrollToPostion after recyclerview.setAdapter","body":"@ReyanshMishra I tried setStackFromEnd in oncreate. ScrollToPostion after recyclerview.setAdapter"},{"owner":{"account_id":7192131,"reputation":1877,"user_id":5492047,"display_name":"Reyansh Mishra"},"score":0,"creation_date":1493691763,"post_id":43666419,"comment_id":74501826,"body_markdown":"once your all data is loaded and your recyclerview and adapter is ready then you should call this method calling before or in between can confuse the recyclerview to calculate the sizes of the item in its adapter. try above code and let me know.","body":"once your all data is loaded and your recyclerview and adapter is ready then you should call this method calling before or in between can confuse the recyclerview to calculate the sizes of the item in its adapter. try above code and let me know."}],"answers":[{"tags":[],"owner":{"account_id":7192131,"reputation":1877,"user_id":5492047,"display_name":"Reyansh Mishra"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1493616139,"creation_date":1493529476,"answer_id":43703164,"question_id":43666419,"body_markdown":"Can you show us your whole code of recyclerview and its adapter.\r\n\r\nmaybe this will work\r\n\r\n&gt; recyclerview.scrollToPosition(mData.size()-1);\r\n\r\nwhere mData is the list which you are passing into the recyclerview&#39;s adapter\r\nthose its pretty hard to figure out what&#39;s wrong with such a little code.","title":"Scroll to bottom in recyclerview with multiple view types","body":"<p>Can you show us your whole code of recyclerview and its adapter.</p>\n\n<p>maybe this will work</p>\n\n<blockquote>\n  <p>recyclerview.scrollToPosition(mData.size()-1);</p>\n</blockquote>\n\n<p>where mData is the list which you are passing into the recyclerview's adapter\nthose its pretty hard to figure out what's wrong with such a little code.</p>\n"},{"tags":[],"owner":{"account_id":10003908,"reputation":863,"user_id":7399013,"accept_rate":54,"display_name":"Doge"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1493772492,"creation_date":1493771860,"answer_id":43749286,"question_id":43666419,"body_markdown":"I don&#39;t know the reason, But I changed my RecyclerView height to `match_parent` and it&#39;s working properly.\r\n\r\nAnd it&#39;s scrolling to complete bottom and I&#39;m still using same function `.setstacktoend(true)`\r\n\r\nThanx to everyone who tried to help me :)","title":"Scroll to bottom in recyclerview with multiple view types","body":"<p>I don't know the reason, But I changed my RecyclerView height to <code>match_parent</code> and it's working properly.</p>\n\n<p>And it's scrolling to complete bottom and I'm still using same function <code>.setstacktoend(true)</code></p>\n\n<p>Thanx to everyone who tried to help me :)</p>\n"},{"tags":[],"owner":{"account_id":16247350,"reputation":149,"user_id":11732119,"display_name":"lazy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685590714,"creation_date":1685590714,"answer_id":76378540,"question_id":43666419,"body_markdown":"It seems that no one here has mentioned the actual reason. I&#39;ve encountered a similar issue. If you are using Glide to load images and your imageView&#39;s width and height are dynamic, what will happen if you call `recyclerview.scrollToPosition` before the `onResourceReady` callback?\r\n\r\nIf you call `recyclerview.scrollToPosition` before the `onResourceReady` callback is triggered, the RecyclerView will scroll to the desired position immediately, without waiting for Glide to finish loading the image and adjusting the imageView&#39;s dimensions. As a result, after Glide finishes loading the image and the imageView&#39;s dimensions change, the content may shift or become misaligned, causing an offset.\r\n\r\nTo avoid this issue, it is recommended to wait until all the images are loaded before calling `scrollToPosition`. You can achieve this by using Glide&#39;s listener methods or other mechanisms to determine when all the images have been loaded, and then trigger the scrollToPosition method. This ensures that the RecyclerView scrolls to the correct position after all the images have finished loading and their dimensions have been adjusted.","title":"Scroll to bottom in recyclerview with multiple view types","body":"<p>It seems that no one here has mentioned the actual reason. I've encountered a similar issue. If you are using Glide to load images and your imageView's width and height are dynamic, what will happen if you call <code>recyclerview.scrollToPosition</code> before the <code>onResourceReady</code> callback?</p>\n<p>If you call <code>recyclerview.scrollToPosition</code> before the <code>onResourceReady</code> callback is triggered, the RecyclerView will scroll to the desired position immediately, without waiting for Glide to finish loading the image and adjusting the imageView's dimensions. As a result, after Glide finishes loading the image and the imageView's dimensions change, the content may shift or become misaligned, causing an offset.</p>\n<p>To avoid this issue, it is recommended to wait until all the images are loaded before calling <code>scrollToPosition</code>. You can achieve this by using Glide's listener methods or other mechanisms to determine when all the images have been loaded, and then trigger the scrollToPosition method. This ensures that the RecyclerView scrolls to the correct position after all the images have finished loading and their dimensions have been adjusted.</p>\n"}],"owner":{"account_id":10003908,"reputation":863,"user_id":7399013,"accept_rate":54,"display_name":"Doge"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":43749286,"answer_count":3,"score":15,"last_activity_date":1685590714,"creation_date":1493321323,"question_id":43666419,"body_markdown":"I have a recyclerview with multiple items. and recyclerview has different viewtypes with different heights..\r\n\r\n\r\nSo these are what i tried\r\n\r\n        \r\n\r\n    recyclerview.scrollToPosition(adapterWrapper.getAdapter().getItemCount()-1);\r\n\r\nand\r\n\r\n    app:layoutManager=&quot;LinearLayoutManager&quot;\r\n    app:stackFromEnd=&quot;true&quot;\r\n\r\nThey work well for me when i apply them on single view types only.. But in multiview types. It&#39;s not scrolling to bottom. It&#39;s being stuck at 9 items before the bottom.\r\n\r\nI was using `stackFromBottom` in listview before and it was working fine.. \r\n\r\nSo what&#39;s the solution for it in recyclerview?\r\n\r\nIt&#39;s actually a chat app with different types of layout including images,gif etc..\r\n\r\n\r\nRecyclerAdapter code,\r\n\r\n\r\n\r\n    package com.buckydroid.anonchat.Adapters;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.webkit.URLUtil;\r\n    import android.widget.ImageView;\r\n    import android.widget.PopupMenu;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.buckydroid.anonchat.Async.DownloadManager;\r\n    import com.buckydroid.anonchat.Chatroom.ChatRoom;\r\n    import com.buckydroid.anonchat.Pages.FullScreenImageView;\r\n    import com.buckydroid.anonchat.Pages.Profile;\r\n    import com.buckydroid.anonchat.Pages.VideoPlayer;\r\n    import com.buckydroid.anonchat.R;\r\n    import com.bumptech.glide.Glide;\r\n    import com.bumptech.glide.load.engine.DiskCacheStrategy;\r\n    import com.bumptech.glide.load.resource.drawable.GlideDrawable;\r\n    import com.bumptech.glide.load.resource.gif.GifDrawable;\r\n    import com.bumptech.glide.request.RequestListener;\r\n    import com.bumptech.glide.request.target.GlideDrawableImageViewTarget;\r\n    import com.bumptech.glide.request.target.Target;\r\n    import com.firebase.client.DataSnapshot;\r\n    import com.firebase.client.Firebase;\r\n    import com.firebase.client.FirebaseError;\r\n    import com.firebase.client.ValueEventListener;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.vanniktech.emoji.EmojiTextView;\r\n    \r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import de.hdodenhof.circleimageview.CircleImageView;\r\n    \r\n    /**\r\n     * Created by buckydroid on 27/04/17.\r\n     */\r\n    \r\n    public class ChatRecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;{\r\n        List&lt;String&gt; message = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; image = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; usernames = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n        ChatRoom chatroom = new ChatRoom();\r\n        String name;\r\n        Context c;\r\n        String username;\r\n        String otherusername;\r\n        String groupName;\r\n        public GifDrawable gifDrawable;\r\n        List&lt;Integer&gt; type = new ArrayList&lt;&gt;();\r\n        String id;\r\n        ArrayList&lt;String&gt; zcode = new ArrayList&lt;&gt;();\r\n    \r\n        public ChatRecyclerAdapter(String id, String s, List&lt;String&gt; message, List&lt;Integer&gt; image, Context c, String username, String otherusername, List&lt;Integer&gt; type, List&lt;String&gt; usernames, String j, ArrayList&lt;String&gt; zcode) {\r\n            this.message = message;\r\n            this.image = image;\r\n            this.c = c;\r\n            this.username = username;\r\n            this.otherusername = otherusername;\r\n            this.type = type;\r\n            this.usernames = usernames;\r\n            this.groupName = j;\r\n            this.name = s;\r\n            this.id = id;\r\n            this.zcode = zcode;\r\n    \r\n        }\r\n    \r\n    \r\n        class ViewHolder extends  RecyclerView.ViewHolder{\r\n            ImageView imageView;\r\n            EmojiTextView messageView;\r\n            CircleImageView profileImage;\r\n            ImageView gif;\r\n            TextView groupactionmessage;\r\n            ImageView thumbnail;\r\n            TextView filename;\r\n            TextView filesize;\r\n            TextView morevert;\r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n                messageView = (EmojiTextView) itemView.findViewById(R.id.message_view);\r\n                imageView = (ImageView) itemView.findViewById(R.id.imageMessage);\r\n                profileImage = (CircleImageView) itemView.findViewById(R.id.profile_image);\r\n                thumbnail = (ImageView) itemView.findViewById(R.id.thumbnail);\r\n                filename = (TextView) itemView.findViewById(R.id.filename);\r\n                gif = (ImageView) itemView.findViewById(R.id.gifmessage);\r\n                groupactionmessage = (TextView) itemView.findViewById(R.id.group_action_message);\r\n    \r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            if (username.equals(usernames.get(position))) {\r\n                Log.i(&quot;type&quot;, String.valueOf(type.get(position)));\r\n                return type.get(position);\r\n            }\r\n            else\r\n                return type.get(position)+7;\r\n        }\r\n    \r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View v = null;\r\n            switch (viewType){\r\n    \r\n                case 0:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_message_bubble, parent, false);\r\n                    System.out.println(&quot;Type 0&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 7:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.message_item, parent, false);;\r\n                    System.out.println(&quot;Type 7&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 1:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_image_layout, parent, false);\r\n                    System.out.println(&quot;Type 1&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 8:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.chatroom_image, parent, false);\r\n                    System.out.println(&quot;Type 8&quot;);\r\n                    return new ViewHolder(v);\r\n                case 2:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_gif, parent, false);\r\n                    System.out.println(&quot;Type 2&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 9:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.chatroom_gif, parent, false);\r\n                    System.out.println(&quot;Type 9&quot;);\r\n    \r\n                case 3:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.group_actions_list, parent, false);\r\n                    System.out.println(&quot;Type 3&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 10:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.group_actions_list, parent, false);\r\n                    System.out.println(&quot;Type 10&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 4:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.video_thumbnail_message, parent, false);\r\n                    System.out.println(&quot;Type 4&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n                case 11:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.video_thumbnail_message2, parent, false);\r\n                    System.out.println(&quot;Type 11&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n                case 5:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.file_layout, parent, false);\r\n                    System.out.println(&quot;Type 5&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n                case 12:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_file_layout, parent, false);\r\n                    System.out.println(&quot;Type 12&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n                default:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.message_item, parent, false);\r\n                    return new ViewHolder(v);\r\n    \r\n            }\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n            switch (holder.getItemViewType()){\r\n                case 0:\r\n                case 7:\r\n    \r\n                    Log.i(&quot;Type on message&quot;, String.valueOf(type.get(position)) + &quot;  &quot; +message.get(position) + &quot;   &quot;+holder.getItemViewType());\r\n    \r\n                    ViewHolder messageHolder = (ViewHolder)holder;\r\n                    if (!username.equals(usernames.get(position)))\r\n                        messageHolder.profileImage.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                Intent i = new Intent(c, Profile.class);\r\n                                i.putExtra(&quot;username&quot;,usernames.get(position));\r\n                                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                c.startActivity(i);\r\n                            }\r\n                        });\r\n                    Firebase userdata = new Firebase(&quot;https://droidchatz.firebaseio.com/userdata/&quot;+usernames.get(position));\r\n                    userdata.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            if (!usernames.get(position).equals(username))\r\n                                Glide.with (c.getApplicationContext())\r\n                                        .load (dataSnapshot.child(&quot;pic&quot;).getValue(String.class))\r\n                                        .diskCacheStrategy(DiskCacheStrategy.ALL)\r\n    \r\n                                        .error (R.drawable.dog)\r\n                                        .into (messageHolder.profileImage);\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(FirebaseError firebaseError) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n                   messageHolder.messageView.setText(message.get(position));\r\n    \r\n    \r\n    \r\n    \r\n                    messageHolder.messageView.setOnLongClickListener(new View.OnLongClickListener() {\r\n                        @Override\r\n                        public boolean onLongClick(View v) {\r\n                            PopupMenu popupMenu = new PopupMenu(c, messageHolder.messageView);\r\n                            popupMenu.getMenuInflater().inflate(R.menu.messsage_popup_menu, popupMenu.getMenu());\r\n                            popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\r\n                                @Override\r\n                                public boolean onMenuItemClick(MenuItem item) {\r\n                                    switch (item.getItemId()) {\r\n                                        case R.id.action_reply:\r\n                                            String te = usernames.get(position) + &quot; : &quot; + messageHolder.messageView.getText() + &quot;\\n\\n\\n&quot;;\r\n                                            ChatRoom.input.setText(te);\r\n                                            ChatRoom.input.setSelection(te.length());\r\n                                            break;\r\n                                        case R.id.action_copy:\r\n                                            android.content.ClipboardManager clipboard = (android.content.ClipboardManager) c.getSystemService(Context.CLIPBOARD_SERVICE);\r\n                                            android.content.ClipData clip = android.content.ClipData.newPlainText(messageHolder.messageView.getText(), messageHolder.messageView.getText());\r\n                                            clipboard.setPrimaryClip(clip);\r\n                                            Toast.makeText(c, &quot;Text Copied...&quot;, Toast.LENGTH_SHORT).show();\r\n                                            break;\r\n                                        case R.id.action_report:\r\n                                            new Firebase(&quot;https://droidchatz.firebaseio.com/groupchat/&quot; + name).child(&quot;report&quot;).child(usernames.get(position)).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).setValue(true);\r\n    \r\n                                            break;\r\n    \r\n                                    }\r\n                                    return false;\r\n                                }\r\n                            });\r\n                            popupMenu.show();\r\n                            return false;\r\n                        }\r\n                    });\r\n    \r\n                    break;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n                case 1:\r\n                case 8:\r\n                    ViewHolder imageHolder = (ViewHolder)holder;\r\n    \r\n                    Log.i(&quot;Type on image&quot;, String.valueOf(type.get(position)) + &quot;  &quot; +message.get(position)+&quot;   &quot;+holder.getItemViewType());\r\n    \r\n                    imageHolder.imageView.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            Intent i = new Intent(c, FullScreenImageView.class);\r\n                            i.putExtra(&quot;uri&quot;, message.get(position));\r\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                            c.startActivity(i);\r\n                        }\r\n                    });\r\n    \r\n    \r\n    \r\n                    imageHolder.imageView.setAdjustViewBounds(true);\r\n                    GlideDrawableImageViewTarget imageViewPreview = new GlideDrawableImageViewTarget(imageHolder.imageView);\r\n                    Glide\r\n                            .with(c)\r\n                            .load(message.get(position))\r\n                            .centerCrop()\r\n                            .listener(new RequestListener&lt;String, GlideDrawable&gt;() {\r\n                                @Override\r\n                                public boolean onException(Exception e, String model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\r\n                                    return false;\r\n                                }\r\n    \r\n                                @Override\r\n                                public boolean onResourceReady(GlideDrawable resource, String model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\r\n                                    return false;\r\n                                }\r\n                            })\r\n                            .into(imageViewPreview);\r\n    \r\n                    Firebase userdata2 = new Firebase(&quot;https://droidchatz.firebaseio.com/userdata/&quot;+usernames.get(position));\r\n                    userdata2.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            if (!usernames.get(position).equals(username)) {\r\n                                Glide.with (c)\r\n                                        .load (dataSnapshot.child(&quot;pic&quot;).getValue(String.class))\r\n                                        .error (R.drawable.dog)\r\n                                        .into (imageHolder.profileImage);\r\n    \r\n    \r\n                            }                }\r\n    \r\n                        @Override\r\n                        public void onCancelled(FirebaseError firebaseError) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n    \r\n    \r\n                    break;\r\n                case 2:\r\n                case 9:\r\n    \r\n                    Log.i(&quot;Type on gif&quot;, String.valueOf(type.get(position)) + &quot;  &quot; +message.get(position)+&quot;   &quot;+holder.getItemViewType());\r\n    \r\n                    ViewHolder gifHolder = (ViewHolder)holder;\r\n                    gifHolder.gif.setAdjustViewBounds(true);\r\n                    GlideDrawableImageViewTarget imageViewPreview2 = new GlideDrawableImageViewTarget(gifHolder.gif);\r\n                    Glide\r\n                            .with(c)\r\n                            .load(message.get(position))\r\n                            .listener(new RequestListener&lt;String, GlideDrawable&gt;() {\r\n                                @Override\r\n                                public boolean onException(Exception e, String model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\r\n                                    return false;\r\n                                }\r\n    \r\n                                @Override\r\n                                public boolean onResourceReady(GlideDrawable resource, String model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\r\n                                    return false;\r\n                                }\r\n                            })\r\n                            .into(imageViewPreview2);\r\n                    if (!username.equals(usernames.get(position)))\r\n                        gifHolder.profileImage.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                Intent i = new Intent(c, Profile.class);\r\n                                i.putExtra(&quot;username&quot;,usernames.get(position));\r\n                                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                c.startActivity(i);\r\n                            }\r\n                        });\r\n    \r\n    \r\n                    Firebase userdata3 = new Firebase(&quot;https://droidchatz.firebaseio.com/userdata/&quot;+usernames.get(position));\r\n                    userdata3.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            if (!usernames.get(position).equals(username))\r\n                                Glide.with (c)\r\n                                        .load (dataSnapshot.child(&quot;pic&quot;).getValue(String.class))\r\n                                        .error (R.drawable.dog)\r\n                                        .into (gifHolder.profileImage);\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(FirebaseError firebaseError) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n                    break;\r\n                case 3:\r\n                case 10:\r\n                    Log.i(&quot;Type on action&quot;, String.valueOf(type.get(position)) + &quot;  &quot; +message.get(position)+&quot;   &quot;+holder.getItemViewType());\r\n    \r\n                    ViewHolder actionHolder = (ViewHolder)holder;\r\n                    actionHolder.groupactionmessage.setText(message.get(position));\r\n    \r\n    \r\n                    break;\r\n    \r\n                case 4:\r\n                case 11:\r\n    \r\n                    ViewHolder videoHolder = (ViewHolder)holder;\r\n                    Log.i(&quot;Type on video&quot;, String.valueOf(type.get(position)) + &quot;  &quot; +message.get(position)+&quot;   &quot;+holder.getItemViewType());\r\n                    FirebaseDatabase.getInstance().getReference().child(&quot;thumbnails&quot;).child(name).child(zcode.get(position)).addValueEventListener(new com.google.firebase.database.ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(com.google.firebase.database.DataSnapshot dataSnapshot) {\r\n                            Glide.with(c).load(dataSnapshot.getValue(String.class)).centerCrop().into(videoHolder.thumbnail);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(DatabaseError databaseError) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n                    if (!username.equals(usernames.get(position)))\r\n                        videoHolder.profileImage.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                Intent i = new Intent(c, Profile.class);\r\n                                i.putExtra(&quot;username&quot;,usernames.get(position));\r\n                                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                c.startActivity(i);\r\n                            }\r\n                        });\r\n                    videoHolder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            Intent i = new Intent(c, VideoPlayer.class);\r\n                            i.putExtra(&quot;link&quot;, message.get(position));\r\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    \r\n                            c.startActivity(i);\r\n    \r\n                        }\r\n                    });\r\n                    Firebase userdata4 = new Firebase(&quot;https://droidchatz.firebaseio.com/userdata/&quot;+usernames.get(position));\r\n    \r\n                    userdata4.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            if (!usernames.get(position).equals(username))\r\n                                Glide.with (c)\r\n                                        .load (dataSnapshot.child(&quot;pic&quot;).getValue(String.class))\r\n                                        .error (R.drawable.dog)\r\n                                        .into (videoHolder.profileImage);\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(FirebaseError firebaseError) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n    \r\n                    break;\r\n                case 5:\r\n                case 12:\r\n    \r\n    \r\n    \r\n                    ViewHolder fileHolder = (ViewHolder)holder;\r\n                    Firebase userdata5 = new Firebase(&quot;https://droidchatz.firebaseio.com/userdata/&quot;+usernames.get(position));\r\n                    if (!username.equals(usernames.get(position)))\r\n                        fileHolder.profileImage.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                Intent i = new Intent(c, Profile.class);\r\n                                i.putExtra(&quot;username&quot;,usernames.get(position));\r\n                                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                c.startActivity(i);\r\n                            }\r\n                        });\r\n                    userdata5.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            if (!usernames.get(position).equals(username))\r\n    \r\n                                Glide.with (c)\r\n                                        .load (dataSnapshot.child(&quot;pic&quot;).getValue(String.class))\r\n                                        .error (R.drawable.dog)\r\n                                        .into (fileHolder.profileImage);\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(FirebaseError firebaseError) {\r\n    \r\n                        }\r\n                    });\r\n                    fileHolder.filename.setText(URLUtil.guessFileName(message.get(position), null, null));\r\n                    final URL[] uri = new URL[1];\r\n                    final URLConnection[] ucon = new URLConnection[1];\r\n                    final String[] contentLengthStr = new String[1];\r\n                    Thread size = new Thread();\r\n                    Runnable getfilesize;\r\n                    fileHolder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(message.get(position)));\r\n                            c.startActivity(browserIntent);\r\n                        }\r\n                    });\r\n                    break;\r\n    \r\n    \r\n            }\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return message.size();\r\n        }\r\n    \r\n    \r\n        }\r\n\r\nThanx!!!\r\n\r\n  [1]: https://github.com/clockbyte/admobadapter\r\n\r\n\r\n","title":"Scroll to bottom in recyclerview with multiple view types","body":"<p>I have a recyclerview with multiple items. and recyclerview has different viewtypes with different heights..</p>\n\n<p>So these are what i tried</p>\n\n<pre><code>recyclerview.scrollToPosition(adapterWrapper.getAdapter().getItemCount()-1);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>app:layoutManager=\"LinearLayoutManager\"\napp:stackFromEnd=\"true\"\n</code></pre>\n\n<p>They work well for me when i apply them on single view types only.. But in multiview types. It's not scrolling to bottom. It's being stuck at 9 items before the bottom.</p>\n\n<p>I was using <code>stackFromBottom</code> in listview before and it was working fine.. </p>\n\n<p>So what's the solution for it in recyclerview?</p>\n\n<p>It's actually a chat app with different types of layout including images,gif etc..</p>\n\n<p>RecyclerAdapter code,</p>\n\n<pre><code>package com.buckydroid.anonchat.Adapters;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.support.v7.widget.RecyclerView;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.webkit.URLUtil;\nimport android.widget.ImageView;\nimport android.widget.PopupMenu;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.buckydroid.anonchat.Async.DownloadManager;\nimport com.buckydroid.anonchat.Chatroom.ChatRoom;\nimport com.buckydroid.anonchat.Pages.FullScreenImageView;\nimport com.buckydroid.anonchat.Pages.Profile;\nimport com.buckydroid.anonchat.Pages.VideoPlayer;\nimport com.buckydroid.anonchat.R;\nimport com.bumptech.glide.Glide;\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\nimport com.bumptech.glide.load.resource.drawable.GlideDrawable;\nimport com.bumptech.glide.load.resource.gif.GifDrawable;\nimport com.bumptech.glide.request.RequestListener;\nimport com.bumptech.glide.request.target.GlideDrawableImageViewTarget;\nimport com.bumptech.glide.request.target.Target;\nimport com.firebase.client.DataSnapshot;\nimport com.firebase.client.Firebase;\nimport com.firebase.client.FirebaseError;\nimport com.firebase.client.ValueEventListener;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.vanniktech.emoji.EmojiTextView;\n\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\n/**\n * Created by buckydroid on 27/04/17.\n */\n\npublic class ChatRecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;{\n    List&lt;String&gt; message = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; image = new ArrayList&lt;&gt;();\n    List&lt;String&gt; usernames = new ArrayList&lt;&gt;();\n    List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n    ChatRoom chatroom = new ChatRoom();\n    String name;\n    Context c;\n    String username;\n    String otherusername;\n    String groupName;\n    public GifDrawable gifDrawable;\n    List&lt;Integer&gt; type = new ArrayList&lt;&gt;();\n    String id;\n    ArrayList&lt;String&gt; zcode = new ArrayList&lt;&gt;();\n\n    public ChatRecyclerAdapter(String id, String s, List&lt;String&gt; message, List&lt;Integer&gt; image, Context c, String username, String otherusername, List&lt;Integer&gt; type, List&lt;String&gt; usernames, String j, ArrayList&lt;String&gt; zcode) {\n        this.message = message;\n        this.image = image;\n        this.c = c;\n        this.username = username;\n        this.otherusername = otherusername;\n        this.type = type;\n        this.usernames = usernames;\n        this.groupName = j;\n        this.name = s;\n        this.id = id;\n        this.zcode = zcode;\n\n    }\n\n\n    class ViewHolder extends  RecyclerView.ViewHolder{\n        ImageView imageView;\n        EmojiTextView messageView;\n        CircleImageView profileImage;\n        ImageView gif;\n        TextView groupactionmessage;\n        ImageView thumbnail;\n        TextView filename;\n        TextView filesize;\n        TextView morevert;\n        public ViewHolder(View itemView) {\n            super(itemView);\n            messageView = (EmojiTextView) itemView.findViewById(R.id.message_view);\n            imageView = (ImageView) itemView.findViewById(R.id.imageMessage);\n            profileImage = (CircleImageView) itemView.findViewById(R.id.profile_image);\n            thumbnail = (ImageView) itemView.findViewById(R.id.thumbnail);\n            filename = (TextView) itemView.findViewById(R.id.filename);\n            gif = (ImageView) itemView.findViewById(R.id.gifmessage);\n            groupactionmessage = (TextView) itemView.findViewById(R.id.group_action_message);\n\n\n        }\n    }\n\n\n\n    @Override\n    public int getItemViewType(int position) {\n        if (username.equals(usernames.get(position))) {\n            Log.i(\"type\", String.valueOf(type.get(position)));\n            return type.get(position);\n        }\n        else\n            return type.get(position)+7;\n    }\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = null;\n        switch (viewType){\n\n            case 0:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_message_bubble, parent, false);\n                System.out.println(\"Type 0\");\n                return new ViewHolder(v);\n\n\n            case 7:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.message_item, parent, false);;\n                System.out.println(\"Type 7\");\n                return new ViewHolder(v);\n\n\n            case 1:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_image_layout, parent, false);\n                System.out.println(\"Type 1\");\n                return new ViewHolder(v);\n\n\n            case 8:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.chatroom_image, parent, false);\n                System.out.println(\"Type 8\");\n                return new ViewHolder(v);\n            case 2:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_gif, parent, false);\n                System.out.println(\"Type 2\");\n                return new ViewHolder(v);\n\n\n            case 9:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.chatroom_gif, parent, false);\n                System.out.println(\"Type 9\");\n\n            case 3:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.group_actions_list, parent, false);\n                System.out.println(\"Type 3\");\n                return new ViewHolder(v);\n\n\n            case 10:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.group_actions_list, parent, false);\n                System.out.println(\"Type 10\");\n                return new ViewHolder(v);\n\n\n            case 4:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.video_thumbnail_message, parent, false);\n                System.out.println(\"Type 4\");\n                return new ViewHolder(v);\n\n            case 11:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.video_thumbnail_message2, parent, false);\n                System.out.println(\"Type 11\");\n                return new ViewHolder(v);\n\n            case 5:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.file_layout, parent, false);\n                System.out.println(\"Type 5\");\n                return new ViewHolder(v);\n\n            case 12:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_file_layout, parent, false);\n                System.out.println(\"Type 12\");\n                return new ViewHolder(v);\n\n            default:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.message_item, parent, false);\n                return new ViewHolder(v);\n\n        }\n\n\n\n\n    }\n\n    @Override\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\n        switch (holder.getItemViewType()){\n            case 0:\n            case 7:\n\n                Log.i(\"Type on message\", String.valueOf(type.get(position)) + \"  \" +message.get(position) + \"   \"+holder.getItemViewType());\n\n                ViewHolder messageHolder = (ViewHolder)holder;\n                if (!username.equals(usernames.get(position)))\n                    messageHolder.profileImage.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            Intent i = new Intent(c, Profile.class);\n                            i.putExtra(\"username\",usernames.get(position));\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                            c.startActivity(i);\n                        }\n                    });\n                Firebase userdata = new Firebase(\"https://droidchatz.firebaseio.com/userdata/\"+usernames.get(position));\n                userdata.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        if (!usernames.get(position).equals(username))\n                            Glide.with (c.getApplicationContext())\n                                    .load (dataSnapshot.child(\"pic\").getValue(String.class))\n                                    .diskCacheStrategy(DiskCacheStrategy.ALL)\n\n                                    .error (R.drawable.dog)\n                                    .into (messageHolder.profileImage);\n\n                    }\n\n                    @Override\n                    public void onCancelled(FirebaseError firebaseError) {\n\n                    }\n                });\n\n               messageHolder.messageView.setText(message.get(position));\n\n\n\n\n                messageHolder.messageView.setOnLongClickListener(new View.OnLongClickListener() {\n                    @Override\n                    public boolean onLongClick(View v) {\n                        PopupMenu popupMenu = new PopupMenu(c, messageHolder.messageView);\n                        popupMenu.getMenuInflater().inflate(R.menu.messsage_popup_menu, popupMenu.getMenu());\n                        popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\n                            @Override\n                            public boolean onMenuItemClick(MenuItem item) {\n                                switch (item.getItemId()) {\n                                    case R.id.action_reply:\n                                        String te = usernames.get(position) + \" : \" + messageHolder.messageView.getText() + \"\\n\\n\\n\";\n                                        ChatRoom.input.setText(te);\n                                        ChatRoom.input.setSelection(te.length());\n                                        break;\n                                    case R.id.action_copy:\n                                        android.content.ClipboardManager clipboard = (android.content.ClipboardManager) c.getSystemService(Context.CLIPBOARD_SERVICE);\n                                        android.content.ClipData clip = android.content.ClipData.newPlainText(messageHolder.messageView.getText(), messageHolder.messageView.getText());\n                                        clipboard.setPrimaryClip(clip);\n                                        Toast.makeText(c, \"Text Copied...\", Toast.LENGTH_SHORT).show();\n                                        break;\n                                    case R.id.action_report:\n                                        new Firebase(\"https://droidchatz.firebaseio.com/groupchat/\" + name).child(\"report\").child(usernames.get(position)).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).setValue(true);\n\n                                        break;\n\n                                }\n                                return false;\n                            }\n                        });\n                        popupMenu.show();\n                        return false;\n                    }\n                });\n\n                break;\n\n\n\n\n\n            case 1:\n            case 8:\n                ViewHolder imageHolder = (ViewHolder)holder;\n\n                Log.i(\"Type on image\", String.valueOf(type.get(position)) + \"  \" +message.get(position)+\"   \"+holder.getItemViewType());\n\n                imageHolder.imageView.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Intent i = new Intent(c, FullScreenImageView.class);\n                        i.putExtra(\"uri\", message.get(position));\n                        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                        c.startActivity(i);\n                    }\n                });\n\n\n\n                imageHolder.imageView.setAdjustViewBounds(true);\n                GlideDrawableImageViewTarget imageViewPreview = new GlideDrawableImageViewTarget(imageHolder.imageView);\n                Glide\n                        .with(c)\n                        .load(message.get(position))\n                        .centerCrop()\n                        .listener(new RequestListener&lt;String, GlideDrawable&gt;() {\n                            @Override\n                            public boolean onException(Exception e, String model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\n                                return false;\n                            }\n\n                            @Override\n                            public boolean onResourceReady(GlideDrawable resource, String model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\n                                return false;\n                            }\n                        })\n                        .into(imageViewPreview);\n\n                Firebase userdata2 = new Firebase(\"https://droidchatz.firebaseio.com/userdata/\"+usernames.get(position));\n                userdata2.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        if (!usernames.get(position).equals(username)) {\n                            Glide.with (c)\n                                    .load (dataSnapshot.child(\"pic\").getValue(String.class))\n                                    .error (R.drawable.dog)\n                                    .into (imageHolder.profileImage);\n\n\n                        }                }\n\n                    @Override\n                    public void onCancelled(FirebaseError firebaseError) {\n\n                    }\n                });\n\n\n\n\n                break;\n            case 2:\n            case 9:\n\n                Log.i(\"Type on gif\", String.valueOf(type.get(position)) + \"  \" +message.get(position)+\"   \"+holder.getItemViewType());\n\n                ViewHolder gifHolder = (ViewHolder)holder;\n                gifHolder.gif.setAdjustViewBounds(true);\n                GlideDrawableImageViewTarget imageViewPreview2 = new GlideDrawableImageViewTarget(gifHolder.gif);\n                Glide\n                        .with(c)\n                        .load(message.get(position))\n                        .listener(new RequestListener&lt;String, GlideDrawable&gt;() {\n                            @Override\n                            public boolean onException(Exception e, String model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\n                                return false;\n                            }\n\n                            @Override\n                            public boolean onResourceReady(GlideDrawable resource, String model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\n                                return false;\n                            }\n                        })\n                        .into(imageViewPreview2);\n                if (!username.equals(usernames.get(position)))\n                    gifHolder.profileImage.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            Intent i = new Intent(c, Profile.class);\n                            i.putExtra(\"username\",usernames.get(position));\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                            c.startActivity(i);\n                        }\n                    });\n\n\n                Firebase userdata3 = new Firebase(\"https://droidchatz.firebaseio.com/userdata/\"+usernames.get(position));\n                userdata3.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        if (!usernames.get(position).equals(username))\n                            Glide.with (c)\n                                    .load (dataSnapshot.child(\"pic\").getValue(String.class))\n                                    .error (R.drawable.dog)\n                                    .into (gifHolder.profileImage);\n\n                    }\n\n                    @Override\n                    public void onCancelled(FirebaseError firebaseError) {\n\n                    }\n                });\n\n\n                break;\n            case 3:\n            case 10:\n                Log.i(\"Type on action\", String.valueOf(type.get(position)) + \"  \" +message.get(position)+\"   \"+holder.getItemViewType());\n\n                ViewHolder actionHolder = (ViewHolder)holder;\n                actionHolder.groupactionmessage.setText(message.get(position));\n\n\n                break;\n\n            case 4:\n            case 11:\n\n                ViewHolder videoHolder = (ViewHolder)holder;\n                Log.i(\"Type on video\", String.valueOf(type.get(position)) + \"  \" +message.get(position)+\"   \"+holder.getItemViewType());\n                FirebaseDatabase.getInstance().getReference().child(\"thumbnails\").child(name).child(zcode.get(position)).addValueEventListener(new com.google.firebase.database.ValueEventListener() {\n                    @Override\n                    public void onDataChange(com.google.firebase.database.DataSnapshot dataSnapshot) {\n                        Glide.with(c).load(dataSnapshot.getValue(String.class)).centerCrop().into(videoHolder.thumbnail);\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError databaseError) {\n\n                    }\n                });\n\n\n                if (!username.equals(usernames.get(position)))\n                    videoHolder.profileImage.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            Intent i = new Intent(c, Profile.class);\n                            i.putExtra(\"username\",usernames.get(position));\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                            c.startActivity(i);\n                        }\n                    });\n                videoHolder.itemView.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Intent i = new Intent(c, VideoPlayer.class);\n                        i.putExtra(\"link\", message.get(position));\n                        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\n                        c.startActivity(i);\n\n                    }\n                });\n                Firebase userdata4 = new Firebase(\"https://droidchatz.firebaseio.com/userdata/\"+usernames.get(position));\n\n                userdata4.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        if (!usernames.get(position).equals(username))\n                            Glide.with (c)\n                                    .load (dataSnapshot.child(\"pic\").getValue(String.class))\n                                    .error (R.drawable.dog)\n                                    .into (videoHolder.profileImage);\n\n                    }\n\n                    @Override\n                    public void onCancelled(FirebaseError firebaseError) {\n\n                    }\n                });\n\n\n\n                break;\n            case 5:\n            case 12:\n\n\n\n                ViewHolder fileHolder = (ViewHolder)holder;\n                Firebase userdata5 = new Firebase(\"https://droidchatz.firebaseio.com/userdata/\"+usernames.get(position));\n                if (!username.equals(usernames.get(position)))\n                    fileHolder.profileImage.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            Intent i = new Intent(c, Profile.class);\n                            i.putExtra(\"username\",usernames.get(position));\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                            c.startActivity(i);\n                        }\n                    });\n                userdata5.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        if (!usernames.get(position).equals(username))\n\n                            Glide.with (c)\n                                    .load (dataSnapshot.child(\"pic\").getValue(String.class))\n                                    .error (R.drawable.dog)\n                                    .into (fileHolder.profileImage);\n\n                    }\n\n                    @Override\n                    public void onCancelled(FirebaseError firebaseError) {\n\n                    }\n                });\n                fileHolder.filename.setText(URLUtil.guessFileName(message.get(position), null, null));\n                final URL[] uri = new URL[1];\n                final URLConnection[] ucon = new URLConnection[1];\n                final String[] contentLengthStr = new String[1];\n                Thread size = new Thread();\n                Runnable getfilesize;\n                fileHolder.itemView.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(message.get(position)));\n                        c.startActivity(browserIntent);\n                    }\n                });\n                break;\n\n\n        }\n\n\n\n\n    }\n\n\n\n    @Override\n    public int getItemCount() {\n        return message.size();\n    }\n\n\n    }\n</code></pre>\n\n<p>Thanx!!!</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1685548450,"post_id":76375315,"comment_id":134676644,"body_markdown":"Is this **really** the code you have for your enums or did you just guess and wrote something from your memory? Because this is not any java syntax I am familiar with.","body":"Is this <b>really</b> the code you have for your enums or did you just guess and wrote something from your memory? Because this is not any java syntax I am familiar with."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1685548543,"post_id":76375315,"comment_id":134676661,"body_markdown":"How are you using these &quot;enums&quot; in your code? Could you provide a minimal example?","body":"How are you using these &quot;enums&quot; in your code? Could you provide a minimal example?"},{"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"score":0,"creation_date":1685548830,"post_id":76375315,"comment_id":134676729,"body_markdown":"@aled No it does not . I want to retrieve the entire enum class not just the enum within it","body":"@aled No it does not . I want to retrieve the entire enum class not just the enum within it"},{"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"score":0,"creation_date":1685549476,"post_id":76375315,"comment_id":134676864,"body_markdown":"Here is my method from the duplicate https://stackoverflow.com/a/43664038/2323964 If you want to use something other than the literal enum name, just implement a common interface like @Mr.Polywhirl suggest and use whatever property from that","body":"Here is my method from the duplicate <a href=\"https://stackoverflow.com/a/43664038/2323964\">stackoverflow.com/a/43664038/2323964</a> If you want to use something other than the literal enum name, just implement a common interface like @Mr.Polywhirl suggest and use whatever property from that"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1685549821,"post_id":76375315,"comment_id":134676934,"body_markdown":"_&quot;For example map.get(&quot;Animal&quot;) should return me the enum Animal&quot;_ - that&#39;s impossible: methods cannot return classes, they can only return _instances_ of classes, i.e. objects. The enum entries DOG, LION etc. are in fact objects - they&#39;re instances of the enum class Animal. So a method such as `map.get` can only return DOG etc but not Animal. When you had it return a `Class&lt;? extends Enum&gt;` that was actually returning an instance of the `Class` class.","body":"<i>&quot;For example map.get(&quot;Animal&quot;) should return me the enum Animal&quot;</i> - that&#39;s impossible: methods cannot return classes, they can only return <i>instances</i> of classes, i.e. objects. The enum entries DOG, LION etc. are in fact objects - they&#39;re instances of the enum class Animal. So a method such as <code>map.get</code> can only return DOG etc but not Animal. When you had it return a <code>Class&lt;? extends Enum&gt;</code> that was actually returning an instance of the <code>Class</code> class."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":3,"creation_date":1685551206,"post_id":76375315,"comment_id":134677232,"body_markdown":"You can return `Aminal.class`, and use it with `Enum.valueOf(map.get(&quot;Animal&quot;), &quot;DOG&quot;)`.","body":"You can return <code>Aminal.class</code>, and use it with <code>Enum.valueOf(map.get(&quot;Animal&quot;), &quot;DOG&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685555871,"creation_date":1685548798,"answer_id":76375372,"question_id":76375315,"body_markdown":"\\* Updating my answer since the question is updated with more explanations.\r\n\r\nI&#39;m going to provide another approach which is adding another dimension to the Enum to indicate the Animal type, and in this case you don&#39;t need to cast to multiple Enums: \r\n```java\r\npublic enum AnimalType \r\n{\r\n    BIRD, CAT;\r\n}\r\npublic enum Animal \r\n{\r\n    CHEETAH(AnimalType.CAT, &quot;Cheetah&quot;),\r\n    LION(AnimalType.CAT, &quot;Lion&quot;),\r\n    HAWK(AnimalType.BIRD, &quot;Hawk&quot;),\r\n    OWL(AnimalType.BIRD, &quot;Owl&quot;);\r\n \r\n    private AnimalType type;\r\n    private String name;\r\n \r\n    Animal(AnimalType type, String name) {\r\n        this.type = type;\r\n        this.name = name;\r\n    }\r\n \r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public AnimalType getType() {\r\n        return type;\r\n    }\r\n\r\n    public static Optional&lt;Animal&gt; fromName(String name) {\r\n        return Arrays.stream(Animal.values())\r\n            .filter(a -&gt; a.name.equals(name))\r\n            .findFirst();\r\n    }\r\n\r\n    public static List&lt;Animal&gt; fromType(AnimalType type) {\r\n        return Arrays.stream(Animal.values())\r\n            .filter(a -&gt; a.type == type))\r\n            .collect(Collectors.toList());\r\n    }\r\n}\r\n```","title":"How can we store String to Enum classes map","body":"<p>* Updating my answer since the question is updated with more explanations.</p>\n<p>I'm going to provide another approach which is adding another dimension to the Enum to indicate the Animal type, and in this case you don't need to cast to multiple Enums:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum AnimalType \n{\n    BIRD, CAT;\n}\npublic enum Animal \n{\n    CHEETAH(AnimalType.CAT, &quot;Cheetah&quot;),\n    LION(AnimalType.CAT, &quot;Lion&quot;),\n    HAWK(AnimalType.BIRD, &quot;Hawk&quot;),\n    OWL(AnimalType.BIRD, &quot;Owl&quot;);\n \n    private AnimalType type;\n    private String name;\n \n    Animal(AnimalType type, String name) {\n        this.type = type;\n        this.name = name;\n    }\n \n    public String getName() {\n        return name;\n    }\n\n    public AnimalType getType() {\n        return type;\n    }\n\n    public static Optional&lt;Animal&gt; fromName(String name) {\n        return Arrays.stream(Animal.values())\n            .filter(a -&gt; a.name.equals(name))\n            .findFirst();\n    }\n\n    public static List&lt;Animal&gt; fromType(AnimalType type) {\n        return Arrays.stream(Animal.values())\n            .filter(a -&gt; a.type == type))\n            .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685550163,"creation_date":1685549145,"answer_id":76375415,"question_id":76375315,"body_markdown":"You will need to have your enums implement a common interface like so:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Zoo {\r\n    private static final Map&lt;String, ZooAnimal&gt; animals;\r\n\r\n    static {\r\n        Map&lt;String, ZooAnimal&gt; tmp = new HashMap&lt;&gt;();\r\n        tmp.put(&quot;CHEETAH&quot;, Cat.CHEETAH);\r\n        tmp.put(&quot;LION&quot;, Cat.LION);\r\n        tmp.put(&quot;PANTHER&quot;, Cat.PANTHER);\r\n        tmp.put(&quot;TIGER&quot;, Cat.TIGER);\r\n        tmp.put(&quot;HAWK&quot;, Bird.HAWK);\r\n        tmp.put(&quot;OSTRICH&quot;, Bird.OSTRICH);\r\n        tmp.put(&quot;OWL&quot;, Bird.OWL);\r\n        animals = Collections.unmodifiableMap(tmp);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        ZooAnimal animal = animals.get(&quot;PANTHER&quot;);\r\n        if (animal != null &amp;&amp; animal instanceof Cat) {\r\n            // A panther is a cat\r\n            System.out.printf(&quot;A %s is a cat%n&quot;, animal.getName().toLowerCase());\r\n        }\r\n    }\r\n\r\n    private interface ZooAnimal {\r\n        String getName();\r\n    }\r\n\r\n    public enum Cat implements ZooAnimal {\r\n        CHEETAH, LION, PANTHER, TIGER;\r\n\r\n        @Override\r\n        public String getName() {\r\n            return this.name();\r\n        }\r\n    };\r\n\r\n    public enum Bird implements ZooAnimal {\r\n        HAWK, OSTRICH, OWL;\r\n\r\n        @Override\r\n        public String getName() {\r\n            return this.name();\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nIf you want the values, you can use the generic `Enum` class:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Zoo {\r\n    private static final Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; animals;\r\n\r\n    static {\r\n        Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; tmp = new HashMap&lt;&gt;();\r\n        tmp.put(&quot;BIRD&quot;, Bird.class);\r\n        tmp.put(&quot;CAT&quot;, Cat.class);\r\n        animals = Collections.unmodifiableMap(tmp);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Class&lt;? extends Enum&lt;?&gt;&gt; animal = animals.get(&quot;CAT&quot;);\r\n        // Print the values\r\n        for (Enum&lt;?&gt; c : animal.getEnumConstants()) {\r\n            System.out.println(c.name()); // CHEETAH, LION, PANTHER, TIGER\r\n        }\r\n    }\r\n\r\n    public enum Cat {\r\n        CHEETAH, LION, PANTHER, TIGER;\r\n    };\r\n\r\n    public enum Bird {\r\n        HAWK, OSTRICH, OWL;\r\n    };\r\n}\r\n```","title":"How can we store String to Enum classes map","body":"<p>You will need to have your enums implement a common interface like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Zoo {\n    private static final Map&lt;String, ZooAnimal&gt; animals;\n\n    static {\n        Map&lt;String, ZooAnimal&gt; tmp = new HashMap&lt;&gt;();\n        tmp.put(&quot;CHEETAH&quot;, Cat.CHEETAH);\n        tmp.put(&quot;LION&quot;, Cat.LION);\n        tmp.put(&quot;PANTHER&quot;, Cat.PANTHER);\n        tmp.put(&quot;TIGER&quot;, Cat.TIGER);\n        tmp.put(&quot;HAWK&quot;, Bird.HAWK);\n        tmp.put(&quot;OSTRICH&quot;, Bird.OSTRICH);\n        tmp.put(&quot;OWL&quot;, Bird.OWL);\n        animals = Collections.unmodifiableMap(tmp);\n    }\n\n    public static void main(String[] args) {\n        ZooAnimal animal = animals.get(&quot;PANTHER&quot;);\n        if (animal != null &amp;&amp; animal instanceof Cat) {\n            // A panther is a cat\n            System.out.printf(&quot;A %s is a cat%n&quot;, animal.getName().toLowerCase());\n        }\n    }\n\n    private interface ZooAnimal {\n        String getName();\n    }\n\n    public enum Cat implements ZooAnimal {\n        CHEETAH, LION, PANTHER, TIGER;\n\n        @Override\n        public String getName() {\n            return this.name();\n        }\n    };\n\n    public enum Bird implements ZooAnimal {\n        HAWK, OSTRICH, OWL;\n\n        @Override\n        public String getName() {\n            return this.name();\n        }\n    };\n}\n</code></pre>\n<p>If you want the values, you can use the generic <code>Enum</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Zoo {\n    private static final Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; animals;\n\n    static {\n        Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; tmp = new HashMap&lt;&gt;();\n        tmp.put(&quot;BIRD&quot;, Bird.class);\n        tmp.put(&quot;CAT&quot;, Cat.class);\n        animals = Collections.unmodifiableMap(tmp);\n    }\n\n    public static void main(String[] args) {\n        Class&lt;? extends Enum&lt;?&gt;&gt; animal = animals.get(&quot;CAT&quot;);\n        // Print the values\n        for (Enum&lt;?&gt; c : animal.getEnumConstants()) {\n            System.out.println(c.name()); // CHEETAH, LION, PANTHER, TIGER\n        }\n    }\n\n    public enum Cat {\n        CHEETAH, LION, PANTHER, TIGER;\n    };\n\n    public enum Bird {\n        HAWK, OSTRICH, OWL;\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1685555308,"creation_date":1685555308,"answer_id":76376110,"question_id":76375315,"body_markdown":"I found a solution through Reflections . It can be sone like this \r\n\r\n    Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; errorCodes = errorCodeMap.getErrorCodeMap();\r\n                Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = errorCodes.get(code.substring(0, 1));\r\n                Enum&lt;?&gt;[] enumConstants = enumClass.getEnumConstants();\r\n                Class&lt;?&gt; actualEnumClass = enumConstants[0].getDeclaringClass();\r\n                StringBuilder errorCode = new StringBuilder().append(prefix).append(code);\r\n                Enum&lt;?&gt; errorEnum = Enum.valueOf(actualEnumClass.asSubclass(Enum.class), errorCode.toString());","title":"How can we store String to Enum classes map","body":"<p>I found a solution through Reflections . It can be sone like this</p>\n<pre><code>Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; errorCodes = errorCodeMap.getErrorCodeMap();\n            Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = errorCodes.get(code.substring(0, 1));\n            Enum&lt;?&gt;[] enumConstants = enumClass.getEnumConstants();\n            Class&lt;?&gt; actualEnumClass = enumConstants[0].getDeclaringClass();\n            StringBuilder errorCode = new StringBuilder().append(prefix).append(code);\n            Enum&lt;?&gt; errorEnum = Enum.valueOf(actualEnumClass.asSubclass(Enum.class), errorCode.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685590653,"creation_date":1685590653,"answer_id":76378536,"question_id":76375315,"body_markdown":"There doesn&#39;t appear to be an exact solution to what you&#39;re looking to achieve.\r\n\r\nEssentially, I believe that since an _enum_ is considered a _static_ object, you cannot cast the static reference into a new object.\r\n\r\nYou would have to use a _Class\\&lt;Animal\\&gt;_ type.  \r\nAnd, at that rate, you&#39;re better off just utilizing the _[Enum](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Enum.html)_ class.\r\n\r\nHere is a tutorial on Java reflection with _enums_, for this specific requirement.  \r\n_[Examining Enums (The Java&amp;trade; Tutorials &amp;gt; The Reflection API &amp;gt; Arrays and Enumerated Types)](https://docs.oracle.com/javase/tutorial/reflect/special/enumMembers.html)_.\r\n\r\nSince you know that your map values are going to be _enum_ objects, you can utilize the _[Enum#valueOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String))_ method, to obtain a single value.\r\n\r\nIf you want a list of values, similar to the _values_ method, you can use an array of _Enum_ and utilize the _[Class#getEnumConstants](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#getEnumConstants())_.\r\n\r\n```java\r\nMap&lt;String, Class&lt;? extends Enum&gt;&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;Animal&quot;, Animal.class);\r\nmap.put(&quot;Bird&quot;, Bird.class);\r\nfor (Enum value : map.get(&quot;Animal&quot;).getEnumConstants()) \r\n    System.out.println(value.name());\r\n```","title":"How can we store String to Enum classes map","body":"<p>There doesn't appear to be an exact solution to what you're looking to achieve.</p>\n<p>Essentially, I believe that since an <em>enum</em> is considered a <em>static</em> object, you cannot cast the static reference into a new object.</p>\n<p>You would have to use a <em>Class&lt;Animal&gt;</em> type.<br />\nAnd, at that rate, you're better off just utilizing the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\">Enum</a></em> class.</p>\n<p>Here is a tutorial on Java reflection with <em>enums</em>, for this specific requirement.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/reflect/special/enumMembers.html\" rel=\"nofollow noreferrer\">Examining Enums (The Java™ Tutorials &gt; The Reflection API &gt; Arrays and Enumerated Types)</a></em>.</p>\n<p>Since you know that your map values are going to be <em>enum</em> objects, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\" rel=\"nofollow noreferrer\">Enum#valueOf</a></em> method, to obtain a single value.</p>\n<p>If you want a list of values, similar to the <em>values</em> method, you can use an array of <em>Enum</em> and utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#getEnumConstants()\" rel=\"nofollow noreferrer\">Class#getEnumConstants</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Class&lt;? extends Enum&gt;&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;Animal&quot;, Animal.class);\nmap.put(&quot;Bird&quot;, Bird.class);\nfor (Enum value : map.get(&quot;Animal&quot;).getEnumConstants()) \n    System.out.println(value.name());\n</code></pre>\n"}],"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685615445,"accepted_answer_id":76376110,"answer_count":4,"score":1,"last_activity_date":1685590653,"creation_date":1685548329,"question_id":76375315,"body_markdown":"I have multiple enum classes . For example\r\n\r\n       public class enum Animal { \r\n            DOG,\r\n            LION;\r\n    } \r\n        public class enum Bird { \r\n    \r\n         OSTRICH,\r\n         CROW };\r\n    }\r\nI want to have a Map&lt;String, Enums &gt; where i can store these enum classes as values and then fetch them based on keys . For example\r\nMap&lt;String, Enumclass&gt; such that it gives me the Enum when i pass the key to the Map. For example map.get(&quot;Animal&quot;) should return me the enum Animal and then i can do operations like Animals.valueOf();\r\n\r\nI was able to store the enums in a  `private Map&lt;String, Class&lt;? extends Enum&gt;&gt; Map;` but not able to retreive and cast it back to the proper enum classes. Is it possible to do this ","title":"How can we store String to Enum classes map","body":"<p>I have multiple enum classes . For example</p>\n<pre><code>   public class enum Animal { \n        DOG,\n        LION;\n} \n    public class enum Bird { \n\n     OSTRICH,\n     CROW };\n}\n</code></pre>\n<p>I want to have a Map&lt;String, Enums &gt; where i can store these enum classes as values and then fetch them based on keys . For example\nMap&lt;String, Enumclass&gt; such that it gives me the Enum when i pass the key to the Map. For example map.get(&quot;Animal&quot;) should return me the enum Animal and then i can do operations like Animals.valueOf();</p>\n<p>I was able to store the enums in a  <code>private Map&lt;String, Class&lt;? extends Enum&gt;&gt; Map;</code> but not able to retreive and cast it back to the proper enum classes. Is it possible to do this</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1685595802,"post_id":76378371,"comment_id":134682722,"body_markdown":"As @KJ says, what we see as tables in pdf, often internally merely are some lines and text pieces. Thus, often one needs sophisticated guesswork to identify tables. Such guesswork is usually only implemented in dedicated projects (like tabula), not in the general purpose pdf libraries (like iText). If the pdf is properly tagged, though, table extraction with iText is possible using those tags. So: Are your pdfs properly tagged? Furthermore, what do you mean by *&quot;ensure the data is valid&quot;*? By which criteria should iText validate the data?","body":"As @KJ says, what we see as tables in pdf, often internally merely are some lines and text pieces. Thus, often one needs sophisticated guesswork to identify tables. Such guesswork is usually only implemented in dedicated projects (like tabula), not in the general purpose pdf libraries (like iText). If the pdf is properly tagged, though, table extraction with iText is possible using those tags. So: Are your pdfs properly tagged? Furthermore, what do you mean by <i>&quot;ensure the data is valid&quot;</i>? By which criteria should iText validate the data?"},{"owner":{"account_id":1707578,"reputation":868,"user_id":1566339,"display_name":"Andr&#233; Lemos"},"score":1,"creation_date":1685601802,"post_id":76378371,"comment_id":134683465,"body_markdown":"doing that is not an easy task, that&#39;s why we&#39;ve created [pdf2Data](https://itextpdf.com/products/pdf2data/extract-your-content-from-pdf), which leverages on iText 7, and in the near future, iText 8.","body":"doing that is not an easy task, that&#39;s why we&#39;ve created <a href=\"https://itextpdf.com/products/pdf2data/extract-your-content-from-pdf\" rel=\"nofollow noreferrer\">pdf2Data</a>, which leverages on iText 7, and in the near future, iText 8."}],"owner":{"account_id":28723989,"reputation":1,"user_id":21997165,"display_name":"dream rob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685589895,"creation_date":1685587699,"question_id":76378371,"body_markdown":"# **May I ask a question, whether iText 7 can extract table data from a PDF file?**\r\n\r\n\r\n\r\nCurrently, I am learning to use iText 7, which is a great open-source software that I really like. However, I have encountered a problem while learning. May I ask how to extract data from a table in a PDF file, and ensure the data is valid? Moreover, if there are multiple tables on the same page of the PDF file, how can I extract the data from each of the tables separately?\r\n\r\nLooking forward to your reply, thank you.","title":"Can iText 7 extract table data from a PDF file?","body":"<h1><strong>May I ask a question, whether iText 7 can extract table data from a PDF file?</strong></h1>\n<p>Currently, I am learning to use iText 7, which is a great open-source software that I really like. However, I have encountered a problem while learning. May I ask how to extract data from a table in a PDF file, and ensure the data is valid? Moreover, if there are multiple tables on the same page of the PDF file, how can I extract the data from each of the tables separately?</p>\n<p>Looking forward to your reply, thank you.</p>\n"},{"tags":["java","itext","apache-poi","xdocreport"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677598987,"post_id":75590755,"comment_id":133367658,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1677684588,"post_id":75590755,"comment_id":133387055,"body_markdown":"If you google `WARNING: An illegal reflective access operation has occurred` - you will get 1.25m matches. First one is https://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access","body":"If you google <code>WARNING: An illegal reflective access operation has occurred</code> - you will get 1.25m matches. First one is <a href=\"https://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access\" title=\"what is an illegal reflective access\">stackoverflow.com/questions/50251798/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28717138,"reputation":11,"user_id":21991536,"display_name":"Gail Thorne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685589186,"creation_date":1685589186,"answer_id":76378446,"question_id":75590755,"body_markdown":"I think you can try the Spire.Doc for java component.Spire.Doc for Java can be applied easily to [convert  Word to PDF in high quality][1].Last but not least it is very easy to operate.Please visit this link to explore more about for [Spire.Doc for Java][2].\r\nHere is part of the codeis:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            //Load a sample Word document\r\n            doc.loadFromFile(&quot;C:\\\\Users\\\\Test1\\\\Desktop\\\\sample.docx&quot;);\r\n\r\n            //Create a ToPdfParameterList instance\r\n            ToPdfParameterList ppl=new ToPdfParameterList();\r\n\r\n            //Embed all fonts in the PDF document \r\n            ppl.isEmbeddedAllFonts(true);\r\n\r\n            //Remove the hyperlinks and keep the character formats\r\n            ppl.setDisableLink(true);\r\n\r\n            //Set the output image quality as 40% of the original image. 80% is the default setting.\r\n            doc.setJPEGQuality(40);\r\n\r\n            //Save the document as PDF\r\n            doc.saveToFile(&quot;output/ToPDF.pdf&quot;, ppl);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://www.e-iceblue.com/Tutorials/Java/Spire.Doc-for-Java/Program-Guide/Conversion/Convert-Word-to-PDF-in-Java.html\r\n  [2]: https://www.e-iceblue.com/Download/doc-for-java.html","title":"Convert docx to pdf with library XDocReport in Java","body":"<p>I think you can try the Spire.Doc for java component.Spire.Doc for Java can be applied easily to <a href=\"https://www.e-iceblue.com/Tutorials/Java/Spire.Doc-for-Java/Program-Guide/Conversion/Convert-Word-to-PDF-in-Java.html\" rel=\"nofollow noreferrer\">convert  Word to PDF in high quality</a>.Last but not least it is very easy to operate.Please visit this link to explore more about for <a href=\"https://www.e-iceblue.com/Download/doc-for-java.html\" rel=\"nofollow noreferrer\">Spire.Doc for Java</a>.\nHere is part of the codeis:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        //Load a sample Word document\n        doc.loadFromFile(\"C:\\\\Users\\\\Test1\\\\Desktop\\\\sample.docx\");\n\n        //Create a ToPdfParameterList instance\n        ToPdfParameterList ppl=new ToPdfParameterList();\n\n        //Embed all fonts in the PDF document \n        ppl.isEmbeddedAllFonts(true);\n\n        //Remove the hyperlinks and keep the character formats\n        ppl.setDisableLink(true);\n\n        //Set the output image quality as 40% of the original image. 80% is the default setting.\n        doc.setJPEGQuality(40);\n\n        //Save the document as PDF\n        doc.saveToFile(\"output/ToPDF.pdf\", ppl);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":25882918,"reputation":1,"user_id":19611635,"display_name":"Hooman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685595206,"answer_count":1,"score":0,"last_activity_date":1685589186,"creation_date":1677580116,"question_id":75590755,"body_markdown":"To convert docx to pdf, I want to do it with the latest method.\r\nI get help from this website.\r\n\r\nhttps://simplesolution.dev/java-convert-docx-file-to-pdf-file-using-xdocreport/\r\n\r\nI add the library to my project and test the code example.\r\nFinally I get this warning :\r\n\r\n**WARNING: An illegal reflective access operation has occurred**\r\n**WARNING: Illegal reflective access by com.lowagie.text.pdf.MappedRandomAccessFile$1 (file:/C:/Users/ToOpbOoy/.m2/repository/com/lowagie/itext/2.1.7/itext-2.1.7.jar) to method java.nio.DirectByteBuffer.cleaner()**\r\n**WARNING: Please consider reporting this to the maintainers of com.lowagie.text.pdf.MappedRandomAccessFile$1**\r\n**WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations**\r\n**WARNING: All illegal access operations will be denied in a future release**\r\n\r\nI did not find anything about this warning on the Internet. What is this warning and how can it be solved?\r\n\r\nI did the conversion with apache poi and itext libraries.\r\nBut it does not convert correctly.","title":"Convert docx to pdf with library XDocReport in Java","body":"<p>To convert docx to pdf, I want to do it with the latest method.\nI get help from this website.</p>\n<p><a href=\"https://simplesolution.dev/java-convert-docx-file-to-pdf-file-using-xdocreport/\" rel=\"nofollow noreferrer\">https://simplesolution.dev/java-convert-docx-file-to-pdf-file-using-xdocreport/</a></p>\n<p>I add the library to my project and test the code example.\nFinally I get this warning :</p>\n<p><strong>WARNING: An illegal reflective access operation has occurred</strong>\n<strong>WARNING: Illegal reflective access by com.lowagie.text.pdf.MappedRandomAccessFile$1 (file:/C:/Users/ToOpbOoy/.m2/repository/com/lowagie/itext/2.1.7/itext-2.1.7.jar) to method java.nio.DirectByteBuffer.cleaner()</strong>\n<strong>WARNING: Please consider reporting this to the maintainers of com.lowagie.text.pdf.MappedRandomAccessFile$1</strong>\n<strong>WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations</strong>\n<strong>WARNING: All illegal access operations will be denied in a future release</strong></p>\n<p>I did not find anything about this warning on the Internet. What is this warning and how can it be solved?</p>\n<p>I did the conversion with apache poi and itext libraries.\nBut it does not convert correctly.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9595,"page":397,"page_size":100}
