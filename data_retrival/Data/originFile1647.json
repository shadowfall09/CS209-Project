{"items":[{"tags":["java","android-studio","libgdx","box2d"],"answers":[{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643263945,"creation_date":1643263945,"answer_id":70874127,"question_id":70870800,"body_markdown":"You can use a [ContactListener](https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/physics/box2d/ContactListener.html), to let the Box2D world inform you, about every contact of objects. Therefore your protagonist&#39;s classes need to implement the `ContactListener` interface and be registered in the Box2D world (using the [setContactListener](https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/physics/box2d/World.html#setContactListener-com.badlogic.gdx.physics.box2d.ContactListener-) method).\r\n\r\nNow if any contact happens, the [beginContact](https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/physics/box2d/ContactListener.html#beginContact-com.badlogic.gdx.physics.box2d.Contact-) method of your protagonist&#39;s class will be called. \r\n\r\nBut this will happen for every contact. Not only the contacts between your protagonists, so you&#39;ll have to filter. This is usually done, by checking the [Fixtures](https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/physics/box2d/Fixture.html) of a [Contact](https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/physics/box2d/Contact.html) (that is passed to your `beginContact` method). Using the `Fixtures` you can get the colliding `Body` and its user data, which you can set to the protagonist to identify him.\r\n\r\nFor further information have a look at [this tutorial](https://www.gamedevelopment.blog/full-libgdx-game-tutorial-box2d-contact-listener/) or the [libGDX documentation on Box2D](https://libgdx.com/wiki/extensions/physics/box2d)","title":"Is it possible in Libgdx that two bodies of type StaticBody can collide? (Box2D)","body":"<p>You can use a <a href=\"https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/physics/box2d/ContactListener.html\" rel=\"nofollow noreferrer\">ContactListener</a>, to let the Box2D world inform you, about every contact of objects. Therefore your protagonist's classes need to implement the <code>ContactListener</code> interface and be registered in the Box2D world (using the <a href=\"https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/physics/box2d/World.html#setContactListener-com.badlogic.gdx.physics.box2d.ContactListener-\" rel=\"nofollow noreferrer\">setContactListener</a> method).</p>\n<p>Now if any contact happens, the <a href=\"https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/physics/box2d/ContactListener.html#beginContact-com.badlogic.gdx.physics.box2d.Contact-\" rel=\"nofollow noreferrer\">beginContact</a> method of your protagonist's class will be called.</p>\n<p>But this will happen for every contact. Not only the contacts between your protagonists, so you'll have to filter. This is usually done, by checking the <a href=\"https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/physics/box2d/Fixture.html\" rel=\"nofollow noreferrer\">Fixtures</a> of a <a href=\"https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/physics/box2d/Contact.html\" rel=\"nofollow noreferrer\">Contact</a> (that is passed to your <code>beginContact</code> method). Using the <code>Fixtures</code> you can get the colliding <code>Body</code> and its user data, which you can set to the protagonist to identify him.</p>\n<p>For further information have a look at <a href=\"https://www.gamedevelopment.blog/full-libgdx-game-tutorial-box2d-contact-listener/\" rel=\"nofollow noreferrer\">this tutorial</a> or the <a href=\"https://libgdx.com/wiki/extensions/physics/box2d\" rel=\"nofollow noreferrer\">libGDX documentation on Box2D</a></p>\n"}],"owner":{"account_id":22942367,"reputation":3,"user_id":17074909,"display_name":"1kgdelate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70874127,"answer_count":1,"score":0,"last_activity_date":1643263945,"creation_date":1643234335,"question_id":70870800,"body_markdown":"I am new using the library and incorporating box2d, I have run into a problem and that is that I have created 2 protagonists of which both are dynamic and I would like to know if there is any way or any function to indicate that they can collide with each other and I don&#39;t know cross over","title":"Is it possible in Libgdx that two bodies of type StaticBody can collide? (Box2D)","body":"<p>I am new using the library and incorporating box2d, I have run into a problem and that is that I have created 2 protagonists of which both are dynamic and I would like to know if there is any way or any function to indicate that they can collide with each other and I don't know cross over</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1643206204,"post_id":70864713,"comment_id":125277582,"body_markdown":"Does this answer your question? [How to get a method&#39;s annotation value from a ProceedingJoinPoint?](https://stackoverflow.com/questions/21275819/how-to-get-a-methods-annotation-value-from-a-proceedingjoinpoint)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21275819/how-to-get-a-methods-annotation-value-from-a-proceedingjoinpoint\">How to get a method&#39;s annotation value from a ProceedingJoinPoint?</a>"},{"owner":{"account_id":2265402,"reputation":407,"user_id":1994239,"display_name":"Ali Tavakol"},"score":0,"creation_date":1643206366,"post_id":70864713,"comment_id":125277654,"body_markdown":"@tsamridh86 value here is not constant. edited.","body":"@tsamridh86 value here is not constant. edited."},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1643206469,"post_id":70864713,"comment_id":125277691,"body_markdown":"You will have to `return` that message, is it acceptable? I don&#39;t think any kind of reflection will allow you to go inside a method and pick out a specific `String`","body":"You will have to <code>return</code> that message, is it acceptable? I don&#39;t think any kind of reflection will allow you to go inside a method and pick out a specific <code>String</code>"},{"owner":{"account_id":2265402,"reputation":407,"user_id":1994239,"display_name":"Ali Tavakol"},"score":0,"creation_date":1643206651,"post_id":70864713,"comment_id":125277771,"body_markdown":"but it is a controller method that handles a @GetRequest and returns a string to a specific thymeleaf html page template name. the real thing I want is how to log user activity on certain actions in a decoupled way.","body":"but it is a controller method that handles a @GetRequest and returns a string to a specific thymeleaf html page template name. the real thing I want is how to log user activity on certain actions in a decoupled way."},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":1,"creation_date":1643206797,"post_id":70864713,"comment_id":125277847,"body_markdown":"you might have to move those actions into a separate method, and then apply annotations on it, if you cannot directly modify it. Otherwise, we can wait for other answers too, i&#39;ve bookmarked the question for my own future reading. &#128578;","body":"you might have to move those actions into a separate method, and then apply annotations on it, if you cannot directly modify it. Otherwise, we can wait for other answers too, i&#39;ve bookmarked the question for my own future reading. 🙂"},{"owner":{"account_id":2265402,"reputation":407,"user_id":1994239,"display_name":"Ali Tavakol"},"score":0,"creation_date":1643206824,"post_id":70864713,"comment_id":125277860,"body_markdown":"but wait; what if we remove the aspect or if no one handles the annotation?","body":"but wait; what if we remove the aspect or if no one handles the annotation?"},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1643206915,"post_id":70864713,"comment_id":125277912,"body_markdown":"if no one handles the annotations, then nothing is going to happen, it just has an annotation.","body":"if no one handles the annotations, then nothing is going to happen, it just has an annotation."},{"owner":{"account_id":6145341,"reputation":146,"user_id":4791483,"display_name":"David Laci"},"score":2,"creation_date":1643214110,"post_id":70864713,"comment_id":125281285,"body_markdown":"I agree with @tsamridh86, you either need to return the desired message so that in the aspect you will have access, or if that is not possible, then extracting the &quot;massaging&quot; logic in subsequent methods, which are themselves annotated with your LogActivity annotation.","body":"I agree with @tsamridh86, you either need to return the desired message so that in the aspect you will have access, or if that is not possible, then extracting the &quot;massaging&quot; logic in subsequent methods, which are themselves annotated with your LogActivity annotation."}],"owner":{"account_id":2265402,"reputation":407,"user_id":1994239,"display_name":"Ali Tavakol"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643263531,"creation_date":1643205977,"question_id":70864713,"body_markdown":"I have this aspect that is called on every method annotated with `@LogActivity` annotation.\r\n\r\n```java\r\n@Aspect\r\n@Component\r\npublic class EndpointAspect {\r\n\r\n    @Around(&quot;@annotation(LogActivity)&quot;)\r\n    public Object logActivity(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        Object result = joinPoint.proceed();\r\n        // I want to access message here. see below\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this is one annotated method: \r\n\r\n```java\r\npublic class contrlr {\r\n\r\n    @LogActivity\r\n    @GetRequest(&quot;/home&quot;)\r\n    public String aMethod() {\r\n        String message = &quot;some RUNTIME-GENERATED message&quot;; // I want to send it to aspect\r\n        return &quot;home.html&quot;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI want to pass the `message` to aspect. note that `message` may not be hard-coded constant. How to do that?\r\n","title":"Pass value from annotated method to @Around aspect","body":"<p>I have this aspect that is called on every method annotated with <code>@LogActivity</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic class EndpointAspect {\n\n    @Around(&quot;@annotation(LogActivity)&quot;)\n    public Object logActivity(ProceedingJoinPoint joinPoint) throws Throwable {\n        Object result = joinPoint.proceed();\n        // I want to access message here. see below\n        return result;\n    }\n\n}\n</code></pre>\n<p>And this is one annotated method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class contrlr {\n\n    @LogActivity\n    @GetRequest(&quot;/home&quot;)\n    public String aMethod() {\n        String message = &quot;some RUNTIME-GENERATED message&quot;; // I want to send it to aspect\n        return &quot;home.html&quot;\n    }\n\n}\n\n</code></pre>\n<p>I want to pass the <code>message</code> to aspect. note that <code>message</code> may not be hard-coded constant. How to do that?</p>\n"},{"tags":["java","docker","selenium","testng","allure"],"answers":[{"tags":[],"owner":{"account_id":22890170,"reputation":161,"user_id":17030420,"display_name":"deokyong song"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643263336,"creation_date":1643263336,"answer_id":70874035,"question_id":70873711,"body_markdown":"I found the answer myself.\r\nTo generate a report, actually, I don&#39;t have to generate it manually as this allure-docker generates reports automatically if new results in the results directory are detected.\r\n\r\nTo get the report, remove `allure-docker-service` from URL request. Hence, it should be like,\r\n\r\n`http://192.168.100.58:5050/generate-report?project_id=test`\r\n","title":"Cannot generate allure report from allure docker","body":"<p>I found the answer myself.\nTo generate a report, actually, I don't have to generate it manually as this allure-docker generates reports automatically if new results in the results directory are detected.</p>\n<p>To get the report, remove <code>allure-docker-service</code> from URL request. Hence, it should be like,</p>\n<p><code>http://192.168.100.58:5050/generate-report?project_id=test</code></p>\n"}],"owner":{"account_id":22890170,"reputation":161,"user_id":17030420,"display_name":"deokyong song"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643263336,"creation_date":1643260936,"question_id":70873711,"body_markdown":"I have tested with testng.xml and got the folder called &lt;code&gt;allure-results&lt;/code&gt; on my linux host. This folder has many .json files\r\n\r\n```\r\n-rw-rw-r--  1 root root  202 Jan 27 03:20 038526c0-e53c-4907-a04b-7061eff12e91-container.json\r\n-rw-rw-r--  1 root root  548 Jan 27 03:20 17bd74ad-1f5e-4ef9-9f21-b2ec85cfca47-container.json\r\n-rw-rw-r--  1 root root  419 Jan 27 03:20 1bd85195-ab0d-4e17-ab12-800e5037405f-container.json\r\n-rw-rw-r--  1 root root  195 Jan 27 03:20 1f6a2505-8c58-452d-a564-e7ffa9512599-container.json\r\n-rw-rw-r--  1 root root  837 Jan 27 03:20 4fb8431a-162a-4f33-889b-2e5ee5c01843-result.json\r\n-rw-rw-r--  1 root root  415 Jan 27 03:20 990031d8-60eb-4379-8864-aee237fed175-container.json\r\n```\r\n\r\n\r\nThe docker-compose file I used to create a container is as below.\r\n\r\n```\r\nversion: &#39;2&#39;\r\nservices:\r\n  allure:\r\n    image: &quot;frankescobar/allure-docker-service&quot;\r\n    environment:\r\n      CHECK_RESULTS_EVERY_SECONDS: 1\r\n      KEEP_HISTORY: 1\r\n    ports:\r\n      - &quot;5050:5050&quot;\r\n    volumes:\r\n      - $PROJECT_PATH/allure-results:/app/allure-results\r\n      - $PROJECT_PATH/allure-reports:/app/default-reports\r\n```\r\n\r\nThe project name I created in allure-docker is `test`.\r\n\r\nTo generate allure report, I request this URL.\r\n`http://192.168.100.58:5050/allure-docker-service/generate-report?project_id=test` but got nothing in there.\r\n\r\nI can see the same .json files in the container&#39;s path as they are correctly mounted as a volume.\r\n\r\n```\r\nallure@0ff7067fedb0:/app/allure-results$ ll\r\ntotal 36\r\ndrwxrwxr-x 2 root   root   4096 Jan 27 03:20 ./\r\ndrwxr-xr-x 1 allure allure 4096 Dec 14 10:03 ../\r\n-rw-rw-r-- 1 root   root    202 Jan 27 03:20 038526c0-e53c-4907-a04b-7061eff12e91-container.json\r\n-rw-rw-r-- 1 root   root    548 Jan 27 03:20 17bd74ad-1f5e-4ef9-9f21-b2ec85cfca47-container.json\r\n-rw-rw-r-- 1 root   root    419 Jan 27 03:20 1bd85195-ab0d-4e17-ab12-800e5037405f-container.json\r\n-rw-rw-r-- 1 root   root    195 Jan 27 03:20 1f6a2505-8c58-452d-a564-e7ffa9512599-container.json\r\n-rw-rw-r-- 1 root   root    837 Jan 27 03:20 4fb8431a-162a-4f33-889b-2e5ee5c01843-result.json\r\n-rw-rw-r-- 1 root   root    415 Jan 27 03:20 990031d8-60eb-4379-8864-aee237fed175-container.json\r\nallure@0ff7067fedb0:/app/allure-results$\r\n```\r\n\r\n\r\n**Question** What am I missing to get the allure report?","title":"Cannot generate allure report from allure docker","body":"<p>I have tested with testng.xml and got the folder called <code>allure-results</code> on my linux host. This folder has many .json files</p>\n<pre><code>-rw-rw-r--  1 root root  202 Jan 27 03:20 038526c0-e53c-4907-a04b-7061eff12e91-container.json\n-rw-rw-r--  1 root root  548 Jan 27 03:20 17bd74ad-1f5e-4ef9-9f21-b2ec85cfca47-container.json\n-rw-rw-r--  1 root root  419 Jan 27 03:20 1bd85195-ab0d-4e17-ab12-800e5037405f-container.json\n-rw-rw-r--  1 root root  195 Jan 27 03:20 1f6a2505-8c58-452d-a564-e7ffa9512599-container.json\n-rw-rw-r--  1 root root  837 Jan 27 03:20 4fb8431a-162a-4f33-889b-2e5ee5c01843-result.json\n-rw-rw-r--  1 root root  415 Jan 27 03:20 990031d8-60eb-4379-8864-aee237fed175-container.json\n</code></pre>\n<p>The docker-compose file I used to create a container is as below.</p>\n<pre><code>version: '2'\nservices:\n  allure:\n    image: &quot;frankescobar/allure-docker-service&quot;\n    environment:\n      CHECK_RESULTS_EVERY_SECONDS: 1\n      KEEP_HISTORY: 1\n    ports:\n      - &quot;5050:5050&quot;\n    volumes:\n      - $PROJECT_PATH/allure-results:/app/allure-results\n      - $PROJECT_PATH/allure-reports:/app/default-reports\n</code></pre>\n<p>The project name I created in allure-docker is <code>test</code>.</p>\n<p>To generate allure report, I request this URL.\n<code>http://192.168.100.58:5050/allure-docker-service/generate-report?project_id=test</code> but got nothing in there.</p>\n<p>I can see the same .json files in the container's path as they are correctly mounted as a volume.</p>\n<pre><code>allure@0ff7067fedb0:/app/allure-results$ ll\ntotal 36\ndrwxrwxr-x 2 root   root   4096 Jan 27 03:20 ./\ndrwxr-xr-x 1 allure allure 4096 Dec 14 10:03 ../\n-rw-rw-r-- 1 root   root    202 Jan 27 03:20 038526c0-e53c-4907-a04b-7061eff12e91-container.json\n-rw-rw-r-- 1 root   root    548 Jan 27 03:20 17bd74ad-1f5e-4ef9-9f21-b2ec85cfca47-container.json\n-rw-rw-r-- 1 root   root    419 Jan 27 03:20 1bd85195-ab0d-4e17-ab12-800e5037405f-container.json\n-rw-rw-r-- 1 root   root    195 Jan 27 03:20 1f6a2505-8c58-452d-a564-e7ffa9512599-container.json\n-rw-rw-r-- 1 root   root    837 Jan 27 03:20 4fb8431a-162a-4f33-889b-2e5ee5c01843-result.json\n-rw-rw-r-- 1 root   root    415 Jan 27 03:20 990031d8-60eb-4379-8864-aee237fed175-container.json\nallure@0ff7067fedb0:/app/allure-results$\n</code></pre>\n<p><strong>Question</strong> What am I missing to get the allure report?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1643259294,"post_id":70873227,"comment_id":125293672,"body_markdown":"Does this answer your question? [How to print to text usb printer in android](https://stackoverflow.com/questions/70859147/how-to-print-to-text-usb-printer-in-android) Please don&#39;t write new question which you have self answered.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70859147/how-to-print-to-text-usb-printer-in-android\">How to print to text usb printer in android</a> Please don&#39;t write new question which you have self answered."},{"owner":{"account_id":20616386,"reputation":1060,"user_id":15134376,"display_name":"Jungwon"},"score":0,"creation_date":1643260418,"post_id":70873227,"comment_id":125293844,"body_markdown":"No, that&#39;s a different matter. The problem of printing text to a USB printer has been resolved. Now I need to print an image, I try to get the image from Asset and send the data as a Byte array, but it doesn&#39;t work.","body":"No, that&#39;s a different matter. The problem of printing text to a USB printer has been resolved. Now I need to print an image, I try to get the image from Asset and send the data as a Byte array, but it doesn&#39;t work."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1643265396,"post_id":70873227,"comment_id":125294809,"body_markdown":"JPEG images are compressed. See: https://developer.android.com/topic/performance/graphics/load-bitmap . Also realize that printers may need drivers: [Print custom invoice via Bluetooth and usb printers on android](https://stackoverflow.com/q/68928691/295004)","body":"JPEG images are compressed. See: <a href=\"https://developer.android.com/topic/performance/graphics/load-bitmap\" rel=\"nofollow noreferrer\">developer.android.com/topic/performance/graphics/load-bitmap</a> . Also realize that printers may need drivers: <a href=\"https://stackoverflow.com/q/68928691/295004\">Print custom invoice via Bluetooth and usb printers on android</a>"}],"owner":{"account_id":20616386,"reputation":1060,"user_id":15134376,"display_name":"Jungwon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643263011,"creation_date":1643256468,"question_id":70873227,"body_markdown":"I am trying to print images (jpeg, jpg, png...) using a USB printer.  \r\nSearching for examples and outputting text to a USB printer was successful.  \r\nBut I want to print the image to a USB printer.   \r\n\r\n```\r\npackage com.android.usb_printer;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.PendingIntent;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\n\r\nimport android.hardware.usb.UsbConstants;\r\nimport android.hardware.usb.UsbDevice;\r\nimport android.hardware.usb.UsbDeviceConnection;\r\nimport android.hardware.usb.UsbEndpoint;\r\nimport android.hardware.usb.UsbInterface;\r\nimport android.hardware.usb.UsbManager;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private UsbManager mUsbManager;\r\n    private UsbDevice mDevice;\r\n    private UsbDeviceConnection mConnection;\r\n    private UsbInterface mInterface;\r\n    private UsbEndpoint mEndPoint;\r\n    private PendingIntent mPermissionIntent;\r\n    EditText ed_txt;\r\n    private static final String ACTION_USB_PERMISSION = &quot;com.android.example.USB_PERMISSION&quot;;\r\n    private static Boolean forceCLaim = true;\r\n\r\n    HashMap&lt;String, UsbDevice&gt; mDeviceList;\r\n    Iterator&lt;UsbDevice&gt; mDeviceIterator;\r\n    byte[] testBytes;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        ed_txt = (EditText) findViewById(R.id.ed_txt);\r\n        Button print = (Button) findViewById(R.id.print);\r\n\r\n        mUsbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n        mDeviceList = mUsbManager.getDeviceList();\r\n\r\n        if (mDeviceList.size() &gt; 0) {\r\n            mDeviceIterator = mDeviceList.values().iterator();\r\n\r\n            Toast.makeText(this, &quot;Device List Size: &quot; + String.valueOf(mDeviceList.size()), Toast.LENGTH_SHORT).show();\r\n\r\n            TextView textView = (TextView) findViewById(R.id.usbDevice);\r\n            String usbDevice = &quot;&quot;;\r\n            while (mDeviceIterator.hasNext()) {\r\n                UsbDevice usbDevice1 = mDeviceIterator.next();\r\n                usbDevice += &quot;\\n&quot; +\r\n                        &quot;DeviceID: &quot; + usbDevice1.getDeviceId() + &quot;\\n&quot; +\r\n                        &quot;DeviceName: &quot; + usbDevice1.getDeviceName() + &quot;\\n&quot; +\r\n                        &quot;Protocol: &quot; + usbDevice1.getDeviceProtocol() + &quot;\\n&quot; +\r\n                        &quot;Product Name: &quot; + usbDevice1.getProductName() + &quot;\\n&quot; +\r\n                        &quot;Manufacturer Name: &quot; + usbDevice1.getManufacturerName() + &quot;\\n&quot; +\r\n                        &quot;DeviceClass: &quot; + usbDevice1.getDeviceClass() + &quot; - &quot; + translateDeviceClass(usbDevice1.getDeviceClass()) + &quot;\\n&quot; +\r\n                        &quot;DeviceSubClass: &quot; + usbDevice1.getDeviceSubclass() + &quot;\\n&quot; +\r\n                        &quot;VendorID: &quot; + usbDevice1.getVendorId() + &quot;\\n&quot; +\r\n                        &quot;ProductID: &quot; + usbDevice1.getProductId() + &quot;\\n&quot;;\r\n\r\n                int interfaceCount = usbDevice1.getInterfaceCount();\r\n                Toast.makeText(this, &quot;INTERFACE COUNT: &quot; + String.valueOf(interfaceCount), Toast.LENGTH_SHORT).show();\r\n\r\n                mDevice = usbDevice1;\r\n\r\n                Toast.makeText(this, &quot;Device is attached&quot;, Toast.LENGTH_SHORT).show();\r\n                textView.setText(usbDevice);\r\n            }\r\n\r\n            mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\r\n            IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n            registerReceiver(mUsbReceiver, filter);\r\n\r\n            mUsbManager.requestPermission(mDevice, mPermissionIntent);\r\n        } else {\r\n            Toast.makeText(this, &quot;USB를 연결해주세요.&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        print.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                try {\r\n                    print(mConnection, mInterface);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void print(final UsbDeviceConnection connection, final UsbInterface usbInterface) throws IOException {\r\n        final String test = ed_txt.getText().toString();\r\n       // testBytes = &quot;USB 프린트 테스트&quot;.getBytes(StandardCharsets.UTF_8);\r\n\r\n        InputStream inputStream = getAssets().open(&quot;score1.jpeg&quot;);\r\n        byte[] buffer = new byte[8192];\r\n        int bytesRead;\r\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n        while((bytesRead = inputStream.read(buffer)) != -1){\r\n            output.write(buffer, 0, bytesRead);\r\n        }\r\n        testBytes = output.toByteArray();\r\n\r\n        if (usbInterface == null) {\r\n            Toast.makeText(this, &quot;INTERFACE IS NULL&quot;, Toast.LENGTH_SHORT).show();\r\n        } else if (connection == null) {\r\n            Toast.makeText(this, &quot;CONNECTION IS NULL&quot;, Toast.LENGTH_SHORT).show();\r\n        } else if (forceCLaim == null) {\r\n            Toast.makeText(this, &quot;FORCE CLAIM IS NULL&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(this, &quot;forceCLaim start&quot;, Toast.LENGTH_SHORT).show();\r\n            connection.claimInterface(usbInterface, forceCLaim);\r\n            Toast.makeText(this, &quot;forceCLaim done&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            Toast.makeText(this, &quot;bulkTransfer start&quot;, Toast.LENGTH_SHORT).show();\r\n            connection.bulkTransfer(mEndPoint, testBytes, testBytes.length, 10000);\r\n            Toast.makeText(this, &quot;bulkTransfer done&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n    final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (ACTION_USB_PERMISSION.equals(action)) {\r\n                synchronized (this) {\r\n                    UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n\r\n                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n                        if (device != null) {\r\n                            //call method to set up device communication\r\n                            mInterface = device.getInterface(0);\r\n                            mEndPoint = mInterface.getEndpoint(0);// 0 IN and  1 OUT to printer.\r\n                            mConnection = mUsbManager.openDevice(device);\r\n\r\n                        }\r\n                    } else {\r\n                        Toast.makeText(context, &quot;PERMISSION DENIED FOR THIS DEVICE&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    private String translateDeviceClass(int deviceClass) {\r\n\r\n        switch (deviceClass) {\r\n\r\n            case UsbConstants.USB_CLASS_APP_SPEC:\r\n                return &quot;Application specific USB class&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_AUDIO:\r\n                return &quot;USB class for audio devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_CDC_DATA:\r\n                return &quot;USB class for CDC devices (communications device class)&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_COMM:\r\n                return &quot;USB class for communication devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_CONTENT_SEC:\r\n                return &quot;USB class for content security devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_CSCID:\r\n                return &quot;USB class for content smart card devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_HID:\r\n                return &quot;USB class for human interface devices (for example, mice and keyboards)&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_HUB:\r\n                return &quot;USB class for USB hubs&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_MASS_STORAGE:\r\n                return &quot;USB class for mass storage devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_MISC:\r\n                return &quot;USB class for wireless miscellaneous devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_PER_INTERFACE:\r\n                return &quot;USB class indicating that the class is determined on a per-interface basis&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_PHYSICA:\r\n                return &quot;USB class for physical devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_PRINTER:\r\n                return &quot;USB class for printers&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_STILL_IMAGE:\r\n                return &quot;USB class for still image devices (digital cameras)&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_VENDOR_SPEC:\r\n                return &quot;Vendor specific USB class&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_VIDEO:\r\n                return &quot;USB class for video devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_WIRELESS_CONTROLLER:\r\n                return &quot;USB class for wireless controller devices&quot;;\r\n\r\n            default:\r\n                return &quot;Unknown USB class!&quot;;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nFor testing, I want to save an image in the Assets folder and print the image to a USB printer.   \r\n\r\nGet the asset image.  \r\n```\r\nInputStream inputStream = getAssets().open(&quot;score1.jpeg&quot;);\r\n```\r\n\r\nAfter reading and writing the image, it is saved as a byteArray.\r\n```\r\nbyte[] buffer = new byte[8192];\r\n        int bytesRead;\r\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n        while((bytesRead = inputStream.read(buffer)) != -1){\r\n            output.write(buffer, 0, bytesRead);\r\n        }\r\n```\r\n\r\n\r\nFinally, connect to a USB printer and print.\r\n```\r\nconnection.claimInterface(usbInterface, forceCLaim);         \r\nconnection.bulkTransfer(mEndPoint, testBytes, testBytes.length, 10000);\r\n```\r\n\r\nHowever, the USB printer is found, but printing is not performed.","title":"Android printing images with a usb printer","body":"<p>I am trying to print images (jpeg, jpg, png...) using a USB printer.<br />\nSearching for examples and outputting text to a USB printer was successful.<br />\nBut I want to print the image to a USB printer.</p>\n<pre><code>package com.android.usb_printer;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.PendingIntent;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\n\nimport android.hardware.usb.UsbConstants;\nimport android.hardware.usb.UsbDevice;\nimport android.hardware.usb.UsbDeviceConnection;\nimport android.hardware.usb.UsbEndpoint;\nimport android.hardware.usb.UsbInterface;\nimport android.hardware.usb.UsbManager;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.HashMap;\nimport java.util.Iterator;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private UsbManager mUsbManager;\n    private UsbDevice mDevice;\n    private UsbDeviceConnection mConnection;\n    private UsbInterface mInterface;\n    private UsbEndpoint mEndPoint;\n    private PendingIntent mPermissionIntent;\n    EditText ed_txt;\n    private static final String ACTION_USB_PERMISSION = &quot;com.android.example.USB_PERMISSION&quot;;\n    private static Boolean forceCLaim = true;\n\n    HashMap&lt;String, UsbDevice&gt; mDeviceList;\n    Iterator&lt;UsbDevice&gt; mDeviceIterator;\n    byte[] testBytes;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        ed_txt = (EditText) findViewById(R.id.ed_txt);\n        Button print = (Button) findViewById(R.id.print);\n\n        mUsbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\n        mDeviceList = mUsbManager.getDeviceList();\n\n        if (mDeviceList.size() &gt; 0) {\n            mDeviceIterator = mDeviceList.values().iterator();\n\n            Toast.makeText(this, &quot;Device List Size: &quot; + String.valueOf(mDeviceList.size()), Toast.LENGTH_SHORT).show();\n\n            TextView textView = (TextView) findViewById(R.id.usbDevice);\n            String usbDevice = &quot;&quot;;\n            while (mDeviceIterator.hasNext()) {\n                UsbDevice usbDevice1 = mDeviceIterator.next();\n                usbDevice += &quot;\\n&quot; +\n                        &quot;DeviceID: &quot; + usbDevice1.getDeviceId() + &quot;\\n&quot; +\n                        &quot;DeviceName: &quot; + usbDevice1.getDeviceName() + &quot;\\n&quot; +\n                        &quot;Protocol: &quot; + usbDevice1.getDeviceProtocol() + &quot;\\n&quot; +\n                        &quot;Product Name: &quot; + usbDevice1.getProductName() + &quot;\\n&quot; +\n                        &quot;Manufacturer Name: &quot; + usbDevice1.getManufacturerName() + &quot;\\n&quot; +\n                        &quot;DeviceClass: &quot; + usbDevice1.getDeviceClass() + &quot; - &quot; + translateDeviceClass(usbDevice1.getDeviceClass()) + &quot;\\n&quot; +\n                        &quot;DeviceSubClass: &quot; + usbDevice1.getDeviceSubclass() + &quot;\\n&quot; +\n                        &quot;VendorID: &quot; + usbDevice1.getVendorId() + &quot;\\n&quot; +\n                        &quot;ProductID: &quot; + usbDevice1.getProductId() + &quot;\\n&quot;;\n\n                int interfaceCount = usbDevice1.getInterfaceCount();\n                Toast.makeText(this, &quot;INTERFACE COUNT: &quot; + String.valueOf(interfaceCount), Toast.LENGTH_SHORT).show();\n\n                mDevice = usbDevice1;\n\n                Toast.makeText(this, &quot;Device is attached&quot;, Toast.LENGTH_SHORT).show();\n                textView.setText(usbDevice);\n            }\n\n            mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\n            IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n            registerReceiver(mUsbReceiver, filter);\n\n            mUsbManager.requestPermission(mDevice, mPermissionIntent);\n        } else {\n            Toast.makeText(this, &quot;USB를 연결해주세요.&quot;, Toast.LENGTH_SHORT).show();\n        }\n        print.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                try {\n                    print(mConnection, mInterface);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    private void print(final UsbDeviceConnection connection, final UsbInterface usbInterface) throws IOException {\n        final String test = ed_txt.getText().toString();\n       // testBytes = &quot;USB 프린트 테스트&quot;.getBytes(StandardCharsets.UTF_8);\n\n        InputStream inputStream = getAssets().open(&quot;score1.jpeg&quot;);\n        byte[] buffer = new byte[8192];\n        int bytesRead;\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\n        while((bytesRead = inputStream.read(buffer)) != -1){\n            output.write(buffer, 0, bytesRead);\n        }\n        testBytes = output.toByteArray();\n\n        if (usbInterface == null) {\n            Toast.makeText(this, &quot;INTERFACE IS NULL&quot;, Toast.LENGTH_SHORT).show();\n        } else if (connection == null) {\n            Toast.makeText(this, &quot;CONNECTION IS NULL&quot;, Toast.LENGTH_SHORT).show();\n        } else if (forceCLaim == null) {\n            Toast.makeText(this, &quot;FORCE CLAIM IS NULL&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;forceCLaim start&quot;, Toast.LENGTH_SHORT).show();\n            connection.claimInterface(usbInterface, forceCLaim);\n            Toast.makeText(this, &quot;forceCLaim done&quot;, Toast.LENGTH_SHORT).show();\n\n            Toast.makeText(this, &quot;bulkTransfer start&quot;, Toast.LENGTH_SHORT).show();\n            connection.bulkTransfer(mEndPoint, testBytes, testBytes.length, 10000);\n            Toast.makeText(this, &quot;bulkTransfer done&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n\n    final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (ACTION_USB_PERMISSION.equals(action)) {\n                synchronized (this) {\n                    UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n\n                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n                        if (device != null) {\n                            //call method to set up device communication\n                            mInterface = device.getInterface(0);\n                            mEndPoint = mInterface.getEndpoint(0);// 0 IN and  1 OUT to printer.\n                            mConnection = mUsbManager.openDevice(device);\n\n                        }\n                    } else {\n                        Toast.makeText(context, &quot;PERMISSION DENIED FOR THIS DEVICE&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        }\n    };\n\n\n    private String translateDeviceClass(int deviceClass) {\n\n        switch (deviceClass) {\n\n            case UsbConstants.USB_CLASS_APP_SPEC:\n                return &quot;Application specific USB class&quot;;\n\n            case UsbConstants.USB_CLASS_AUDIO:\n                return &quot;USB class for audio devices&quot;;\n\n            case UsbConstants.USB_CLASS_CDC_DATA:\n                return &quot;USB class for CDC devices (communications device class)&quot;;\n\n            case UsbConstants.USB_CLASS_COMM:\n                return &quot;USB class for communication devices&quot;;\n\n            case UsbConstants.USB_CLASS_CONTENT_SEC:\n                return &quot;USB class for content security devices&quot;;\n\n            case UsbConstants.USB_CLASS_CSCID:\n                return &quot;USB class for content smart card devices&quot;;\n\n            case UsbConstants.USB_CLASS_HID:\n                return &quot;USB class for human interface devices (for example, mice and keyboards)&quot;;\n\n            case UsbConstants.USB_CLASS_HUB:\n                return &quot;USB class for USB hubs&quot;;\n\n            case UsbConstants.USB_CLASS_MASS_STORAGE:\n                return &quot;USB class for mass storage devices&quot;;\n\n            case UsbConstants.USB_CLASS_MISC:\n                return &quot;USB class for wireless miscellaneous devices&quot;;\n\n            case UsbConstants.USB_CLASS_PER_INTERFACE:\n                return &quot;USB class indicating that the class is determined on a per-interface basis&quot;;\n\n            case UsbConstants.USB_CLASS_PHYSICA:\n                return &quot;USB class for physical devices&quot;;\n\n            case UsbConstants.USB_CLASS_PRINTER:\n                return &quot;USB class for printers&quot;;\n\n            case UsbConstants.USB_CLASS_STILL_IMAGE:\n                return &quot;USB class for still image devices (digital cameras)&quot;;\n\n            case UsbConstants.USB_CLASS_VENDOR_SPEC:\n                return &quot;Vendor specific USB class&quot;;\n\n            case UsbConstants.USB_CLASS_VIDEO:\n                return &quot;USB class for video devices&quot;;\n\n            case UsbConstants.USB_CLASS_WIRELESS_CONTROLLER:\n                return &quot;USB class for wireless controller devices&quot;;\n\n            default:\n                return &quot;Unknown USB class!&quot;;\n        }\n    }\n\n}\n</code></pre>\n<p>For testing, I want to save an image in the Assets folder and print the image to a USB printer.</p>\n<p>Get the asset image.</p>\n<pre><code>InputStream inputStream = getAssets().open(&quot;score1.jpeg&quot;);\n</code></pre>\n<p>After reading and writing the image, it is saved as a byteArray.</p>\n<pre><code>byte[] buffer = new byte[8192];\n        int bytesRead;\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\n        while((bytesRead = inputStream.read(buffer)) != -1){\n            output.write(buffer, 0, bytesRead);\n        }\n</code></pre>\n<p>Finally, connect to a USB printer and print.</p>\n<pre><code>connection.claimInterface(usbInterface, forceCLaim);         \nconnection.bulkTransfer(mEndPoint, testBytes, testBytes.length, 10000);\n</code></pre>\n<p>However, the USB printer is found, but printing is not performed.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643262945,"creation_date":1643262945,"answer_id":70873971,"question_id":70873948,"body_markdown":"You put a `char` into an `int` array, and you got the expected result -- which is the ASCII value of the character `&#39;1&#39;`, [or 49](https://www.asciitable.com/).\r\n\r\nWhat you want to do for your use case is to use `Integer.parseInt` on the `String` of the entire line, not to try to convert the individual characters.","title":"Why did value of string integer changed when putting it into int array?","body":"<p>You put a <code>char</code> into an <code>int</code> array, and you got the expected result -- which is the ASCII value of the character <code>'1'</code>, <a href=\"https://www.asciitable.com/\" rel=\"nofollow noreferrer\">or 49</a>.</p>\n<p>What you want to do for your use case is to use <code>Integer.parseInt</code> on the <code>String</code> of the entire line, not to try to convert the individual characters.</p>\n"}],"owner":{"account_id":22558649,"reputation":43,"user_id":16746587,"display_name":"John Roice M. Aldeza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643262945,"creation_date":1643262749,"question_id":70873948,"body_markdown":"    Scanner input = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;How many numbers will you enter?&quot;);\r\n\t\tint x = input.nextInt();\r\n\t\tinput.nextLine();\r\n\t\tint[] array = new int[x];\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter &quot; + x + &quot; integers, one per line:&quot;);\r\n\t\tInteger y = input.nextInt();\r\n\t\tinput.nextLine();\r\n\t\tString z = y.toString();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tarray[i] = z.charAt(i);\r\n\t\t\tSystem.out.println(z.charAt(i));\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tSystem.out.println(array[i]);\r\n\t\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/66UgO.png\r\n\r\nI put 1 to feed into the array and when I printed it, it got printed 49 instead.","title":"Why did value of string integer changed when putting it into int array?","body":"<pre><code>Scanner input = new Scanner(System.in);\n    System.out.println(&quot;How many numbers will you enter?&quot;);\n    int x = input.nextInt();\n    input.nextLine();\n    int[] array = new int[x];\n    \n    System.out.println(&quot;Enter &quot; + x + &quot; integers, one per line:&quot;);\n    Integer y = input.nextInt();\n    input.nextLine();\n    String z = y.toString();\n    \n    for (int i = 0; i &lt; array.length; i++) {\n        array[i] = z.charAt(i);\n        System.out.println(z.charAt(i));\n    }\n    for (int i = 0; i &lt; array.length; i++) {\n        System.out.println(array[i]);\n    }\n</code></pre>\n<p>I put 1 to feed into the array and when I printed it, it got printed 49 instead.</p>\n"},{"tags":["java","android","google-play-console","android-app-bundle",".so"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640426033,"post_id":70479205,"comment_id":124585902,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":5350952,"reputation":16310,"user_id":4265103,"display_name":"Pierre"},"score":0,"creation_date":1640531157,"post_id":70479205,"comment_id":124600154,"body_markdown":"I&#39;ve gone in details to explain why that happens and how to fix it here: https://stackoverflow.com/a/56551499/4265103","body":"I&#39;ve gone in details to explain why that happens and how to fix it here: <a href=\"https://stackoverflow.com/a/56551499/4265103\">stackoverflow.com/a/56551499/4265103</a>"}],"answers":[{"tags":[],"owner":{"account_id":22231952,"reputation":33,"user_id":16467956,"display_name":"unboundExDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640502795,"creation_date":1640444272,"answer_id":70480809,"question_id":70479205,"body_markdown":"Finally I found the solution:\r\n\r\nJust Put this code in your `gradle.properties`\r\n\r\n    android.bundle.enableUncompressedNativeLibs=false\r\n\r\nAnd problem solved all lib that you input in **jnilibs** will be included once your app has been live in PlayStore and installed by the users :)","title":"Missing .so file lib when building in App Bundle","body":"<p>Finally I found the solution:</p>\n<p>Just Put this code in your <code>gradle.properties</code></p>\n<pre><code>android.bundle.enableUncompressedNativeLibs=false\n</code></pre>\n<p>And problem solved all lib that you input in <strong>jnilibs</strong> will be included once your app has been live in PlayStore and installed by the users :)</p>\n"},{"tags":[],"owner":{"account_id":18606755,"reputation":238,"user_id":13560194,"display_name":"Blue Ocean"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1643262205,"creation_date":1643262205,"answer_id":70873876,"question_id":70479205,"body_markdown":"The option setting &#39;android.bundle.enableUncompressedNativeLibs=false&#39; is deprecated.\r\n  The current default is &#39;true&#39;.\r\n  It will be removed in version 8.0 of the Android Gradle plugin.\r\n  You can add the following to your build.gradle instead:\r\n\r\n    android {\r\n        packagingOptions {\r\n            jniLibs {\r\n                useLegacyPackaging = true\r\n            }\r\n        }\r\n    }\r\n","title":"Missing .so file lib when building in App Bundle","body":"<p>The option setting 'android.bundle.enableUncompressedNativeLibs=false' is deprecated.\nThe current default is 'true'.\nIt will be removed in version 8.0 of the Android Gradle plugin.\nYou can add the following to your build.gradle instead:</p>\n<pre><code>android {\n    packagingOptions {\n        jniLibs {\n            useLegacyPackaging = true\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22231952,"reputation":33,"user_id":16467956,"display_name":"unboundExDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7357,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70873876,"answer_count":2,"score":3,"last_activity_date":1643262205,"creation_date":1640425957,"question_id":70479205,"body_markdown":"I&#39;m trying to release an app on the Playstore that includes .so lib files. When I try to debug it, the app works fine. But when I try to release it  and upload it on the PlayStore via .aab and install it, my app can&#39;t find the .so file that I put in the Jnilibs folder. It says\r\n\r\n&gt;.so file Not Found\r\n\r\nI tried many solutions\r\n(ndk, abifilters, split, etc.)\r\nbut nothing worked. I&#39;m using Android Studio arctic fox 2020.3.1 version. ","title":"Missing .so file lib when building in App Bundle","body":"<p>I'm trying to release an app on the Playstore that includes .so lib files. When I try to debug it, the app works fine. But when I try to release it  and upload it on the PlayStore via .aab and install it, my app can't find the .so file that I put in the Jnilibs folder. It says</p>\n<blockquote>\n<p>.so file Not Found</p>\n</blockquote>\n<p>I tried many solutions\n(ndk, abifilters, split, etc.)\nbut nothing worked. I'm using Android Studio arctic fox 2020.3.1 version.</p>\n"},{"tags":["java","php","android","mysql","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643262171,"creation_date":1643262171,"answer_id":70873873,"question_id":70873319,"body_markdown":"Let&#39;s say you have a class named **User** and you are passing an ArrayList(that contains different User objects) to the RecyclerView Adapter.\r\n\r\n    public class User\r\n    {\r\n        ....\r\n        private String name;\r\n        private int age;\r\n        //Getters, setters, etc ....\r\n    }\r\n\r\nSo for updating just the **age**, simply update that object present at that specific position in the list and then just refresh the RecyclerView.\r\n\r\n    ....\r\n    users.get(position).setAge(xyz);\r\n    userAdapter.notifyItemChanged(position);\r\n    ....","title":"RecyclerView Update Single Item&#39;s Child","body":"<p>Let's say you have a class named <strong>User</strong> and you are passing an ArrayList(that contains different User objects) to the RecyclerView Adapter.</p>\n<pre><code>public class User\n{\n    ....\n    private String name;\n    private int age;\n    //Getters, setters, etc ....\n}\n</code></pre>\n<p>So for updating just the <strong>age</strong>, simply update that object present at that specific position in the list and then just refresh the RecyclerView.</p>\n<pre><code>....\nusers.get(position).setAge(xyz);\nuserAdapter.notifyItemChanged(position);\n....\n</code></pre>\n"}],"owner":{"account_id":19391481,"reputation":37,"user_id":14180027,"display_name":"Fatih Demir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70873873,"answer_count":1,"score":0,"last_activity_date":1643262171,"creation_date":1643257287,"question_id":70873319,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RqPDb.png\r\n\r\nMy `Recyclerview` list is as in the picture.\r\n\r\n\r\nI want to update the child (example: just the &#39;Like&#39; part) of a single item in my list. I did some research on the subject. I can update the whole item. However, what I need is to update one child of the item. I need code snippet on this. I&#39;m new here, thanks in advance.\r\n","title":"RecyclerView Update Single Item&#39;s Child","body":"<p><a href=\"https://i.stack.imgur.com/RqPDb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RqPDb.png\" alt=\"enter image description here\" /></a></p>\n<p>My <code>Recyclerview</code> list is as in the picture.</p>\n<p>I want to update the child (example: just the 'Like' part) of a single item in my list. I did some research on the subject. I can update the whole item. However, what I need is to update one child of the item. I need code snippet on this. I'm new here, thanks in advance.</p>\n"},{"tags":["java","okhttp"],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643261726,"creation_date":1643261726,"answer_id":70873818,"question_id":70873186,"body_markdown":"Yep, Set `maxIdleConnections` to 0.","title":"How to disable connection pooling and make a new connection for each request in OkHttp3","body":"<p>Yep, Set <code>maxIdleConnections</code> to 0.</p>\n"}],"owner":{"account_id":6686868,"reputation":23,"user_id":5157784,"display_name":"Chacham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1751,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70873818,"answer_count":1,"score":2,"last_activity_date":1643261726,"creation_date":1643256117,"question_id":70873186,"body_markdown":"Because of the server side problem, we are trying to disable the connection pool used by OkHttp.  \r\nThe initializer for OkHttp ConnectionPool class receives maxIdleConnections and keep alive duration information.\r\n\r\n\r\n```\r\npublic ConnectionPool(int maxIdleConnections, long keepAliveDuration, TimeUnit timeUnit) {\r\n  this.delegate = new RealConnectionPool(maxIdleConnections, keepAliveDuration, timeUnit);\r\n}\r\n\r\npublic RealConnectionPool(int maxIdleConnections, long keepAliveDuration, TimeUnit timeUnit) {\r\n  this.maxIdleConnections = maxIdleConnections;\r\n  this.keepAliveDurationNs = timeUnit.toNanos(keepAliveDuration);\r\n\r\n  // Put a floor on the keep alive duration, otherwise cleanup will spin loop.\r\n  if (keepAliveDuration &lt;= 0) {\r\n    throw new IllegalArgumentException(&quot;keepAliveDuration &lt;= 0: &quot; + keepAliveDuration);\r\n  }\r\n}\r\n\r\n```\r\n\r\nWould it be ok to set `maxIdleConnections` to 0?  \r\nWe just need to create a new connection for each request.","title":"How to disable connection pooling and make a new connection for each request in OkHttp3","body":"<p>Because of the server side problem, we are trying to disable the connection pool used by OkHttp.<br />\nThe initializer for OkHttp ConnectionPool class receives maxIdleConnections and keep alive duration information.</p>\n<pre><code>public ConnectionPool(int maxIdleConnections, long keepAliveDuration, TimeUnit timeUnit) {\n  this.delegate = new RealConnectionPool(maxIdleConnections, keepAliveDuration, timeUnit);\n}\n\npublic RealConnectionPool(int maxIdleConnections, long keepAliveDuration, TimeUnit timeUnit) {\n  this.maxIdleConnections = maxIdleConnections;\n  this.keepAliveDurationNs = timeUnit.toNanos(keepAliveDuration);\n\n  // Put a floor on the keep alive duration, otherwise cleanup will spin loop.\n  if (keepAliveDuration &lt;= 0) {\n    throw new IllegalArgumentException(&quot;keepAliveDuration &lt;= 0: &quot; + keepAliveDuration);\n  }\n}\n\n</code></pre>\n<p>Would it be ok to set <code>maxIdleConnections</code> to 0?<br />\nWe just need to create a new connection for each request.</p>\n"},{"tags":["java","eclipse","debugging"],"answers":[{"tags":[],"owner":{"account_id":1948424,"reputation":12649,"user_id":1753073,"display_name":"navylover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643261031,"creation_date":1643261031,"answer_id":70873726,"question_id":70873652,"body_markdown":" 1. Close all opened workspaces.\r\n 2. Reopen your workspace.\r\n 3. Remove all breakpoints.\r\n 4. Reset the breakpoint.\r\n 5. Start debugging.\r\n\r\nAnd see if the problem is gone.","title":"While while debugging eclipse open another java file with same name","body":"<ol>\n<li>Close all opened workspaces.</li>\n<li>Reopen your workspace.</li>\n<li>Remove all breakpoints.</li>\n<li>Reset the breakpoint.</li>\n<li>Start debugging.</li>\n</ol>\n<p>And see if the problem is gone.</p>\n"}],"owner":{"account_id":12623945,"reputation":29,"user_id":9178404,"display_name":"Ila Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643261031,"creation_date":1643260379,"question_id":70873652,"body_markdown":"I am using Eclipse 2019-03, Java 8 .\r\nI have 2 wars say A and B and both have file named C.java. I have but breakpoint at B war&#39;s C.java but at time of debugging A war&#39;s C.java gets open. Please tell which settings need to be done to solve this problem ","title":"While while debugging eclipse open another java file with same name","body":"<p>I am using Eclipse 2019-03, Java 8 .\nI have 2 wars say A and B and both have file named C.java. I have but breakpoint at B war's C.java but at time of debugging A war's C.java gets open. Please tell which settings need to be done to solve this problem</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":1,"creation_date":1564043021,"post_id":57197385,"comment_id":100903343,"body_markdown":"no. Java arrays cannot have negative indexes","body":"no. Java arrays cannot have negative indexes"},{"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"score":0,"creation_date":1564043151,"post_id":57197385,"comment_id":100903426,"body_markdown":"Use a `Map&lt;Integer, Integer&gt;` then","body":"Use a <code>Map&lt;Integer, Integer&gt;</code> then"},{"owner":{"account_id":1790063,"reputation":998,"user_id":1630691,"accept_rate":19,"display_name":"Tomasz"},"score":0,"creation_date":1564043270,"post_id":57197385,"comment_id":100903508,"body_markdown":"The editor is just a helper, not the judge. The compiler is the judge :)","body":"The editor is just a helper, not the judge. The compiler is the judge :)"},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":1,"creation_date":1564043386,"post_id":57197385,"comment_id":100903573,"body_markdown":"Eight answers, so far, saying the same thing. How many ways are there to say No?","body":"Eight answers, so far, saying the same thing. How many ways are there to say No?"},{"owner":{"account_id":12510916,"reputation":265,"user_id":9106074,"display_name":"Null Pointer"},"score":0,"creation_date":1564046867,"post_id":57197385,"comment_id":100905521,"body_markdown":"No, negative index is not possible but your problem can be solve if you tell exact issues that why you need this.","body":"No, negative index is not possible but your problem can be solve if you tell exact issues that why you need this."}],"answers":[{"tags":[],"owner":{"account_id":3041924,"reputation":137,"user_id":2578699,"display_name":"Diya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564043089,"creation_date":1564043089,"answer_id":57197448,"question_id":57197385,"body_markdown":"There is no support in java for negative indices.\r\nLast element can be accessed using\r\n\r\n\r\n    array[array.length-1] = lastElement;","title":"Can array&#39;s index be negative number in Java?","body":"<p>There is no support in java for negative indices.\nLast element can be accessed using</p>\n\n<pre><code>array[array.length-1] = lastElement;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564044404,"creation_date":1564043089,"answer_id":57197449,"question_id":57197385,"body_markdown":"&gt; So is negative number index in java is illegal all the time?\r\n\r\nYes.\r\n\r\n&gt; Or there&#39;s some special situation can let array&#39;s index be a negative number?\r\n\r\nYou could write own array-like collection type where negative indices would be valid. It would be rather a domain-specific type because I can&#39;t think of any general applications.\r\n\r\nA simple example would be\r\n\r\n    // define an anonymous class that overrides ArrayList&#39;s get behaviour\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;() {\r\n        @Override\r\n        public String get(int index) {\r\n            return super.get(Math.abs(index));\r\n        }\r\n    };\r\n    \r\n    list.add(&quot;a&quot;);\r\n    list.add(&quot;b&quot;);\r\n    \r\n    System.out.println(list.get(-1)); // b\r\n    System.out.println(list.get(1));  // b\r\n\r\nIt&#39;s not what I would recommend you do. It&#39;s confusing and unusual for any Java developer.","title":"Can array&#39;s index be negative number in Java?","body":"<blockquote>\n  <p>So is negative number index in java is illegal all the time?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>Or there's some special situation can let array's index be a negative number?</p>\n</blockquote>\n\n<p>You could write own array-like collection type where negative indices would be valid. It would be rather a domain-specific type because I can't think of any general applications.</p>\n\n<p>A simple example would be</p>\n\n<pre><code>// define an anonymous class that overrides ArrayList's get behaviour\nList&lt;String&gt; list = new ArrayList&lt;String&gt;() {\n    @Override\n    public String get(int index) {\n        return super.get(Math.abs(index));\n    }\n};\n\nlist.add(\"a\");\nlist.add(\"b\");\n\nSystem.out.println(list.get(-1)); // b\nSystem.out.println(list.get(1));  // b\n</code></pre>\n\n<p>It's not what I would recommend you do. It's confusing and unusual for any Java developer.</p>\n"},{"tags":[],"owner":{"account_id":12638355,"reputation":9413,"user_id":9186783,"display_name":"cameron1024"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564043097,"creation_date":1564043097,"answer_id":57197451,"question_id":57197385,"body_markdown":"Short answer: No.\r\n\r\nSlightly less short answer: Array indices range from 0 to the length of the array minus 1.\r\n\r\nE.g. :\r\n\r\n    int[] ints = new int[5];\r\n    ints[0] = 1;  // fine\r\n    ints[4] = 1;  // fine\r\n    ints[-1] = 1;  // ArrayIndexOutOfBoundsException thrown\r\n    ints[5] = 1;  // ArrayIndexOutOfBoundsException thrown","title":"Can array&#39;s index be negative number in Java?","body":"<p>Short answer: No.</p>\n\n<p>Slightly less short answer: Array indices range from 0 to the length of the array minus 1.</p>\n\n<p>E.g. :</p>\n\n<pre><code>int[] ints = new int[5];\nints[0] = 1;  // fine\nints[4] = 1;  // fine\nints[-1] = 1;  // ArrayIndexOutOfBoundsException thrown\nints[5] = 1;  // ArrayIndexOutOfBoundsException thrown\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1564043165,"creation_date":1564043165,"answer_id":57197478,"question_id":57197385,"body_markdown":"Let&#39;s have a look at Oracle&#39;s documentation [here][1]. This is what it says:\r\n\r\n&gt; An array object contains a number of variables. The number of variables may be zero, in which case the array is said to be empty. The variables contained in an array have no names; instead they are referenced by array access expressions that use **non-negative** integer index values. These variables are called the components of the array. If an array has n components, we say n is the length of the array; the components of the array are referenced using integer indices from 0 to n - 1, inclusive.\r\n\r\nAlso,\r\n\r\n&gt; All array accesses are checked at run time; an attempt to use an index\r\n&gt; that is less than zero or greater than or equal to the length of the\r\n&gt; array causes an ArrayIndexOutOfBoundsException to be thrown.\r\n\r\nTo answer the question, no, index can&#39;t be negative.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html","title":"Can array&#39;s index be negative number in Java?","body":"<p>Let's have a look at Oracle's documentation <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html\" rel=\"noreferrer\">here</a>. This is what it says:</p>\n\n<blockquote>\n  <p>An array object contains a number of variables. The number of variables may be zero, in which case the array is said to be empty. The variables contained in an array have no names; instead they are referenced by array access expressions that use <strong>non-negative</strong> integer index values. These variables are called the components of the array. If an array has n components, we say n is the length of the array; the components of the array are referenced using integer indices from 0 to n - 1, inclusive.</p>\n</blockquote>\n\n<p>Also,</p>\n\n<blockquote>\n  <p>All array accesses are checked at run time; an attempt to use an index\n  that is less than zero or greater than or equal to the length of the\n  array causes an ArrayIndexOutOfBoundsException to be thrown.</p>\n</blockquote>\n\n<p>To answer the question, no, index can't be negative.</p>\n"},{"tags":[],"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564043190,"creation_date":1564043190,"answer_id":57197484,"question_id":57197385,"body_markdown":"In short, no, they cannot be negative. \r\n\r\nFrom the [docs][1](using `get` for example)\r\n\r\n&gt; ArrayIndexOutOfBoundsException - If the specified index argument is negative, or if it is greater than or equal to the length of the specified array\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Array.html#get-java.lang.Object-int-","title":"Can array&#39;s index be negative number in Java?","body":"<p>In short, no, they cannot be negative. </p>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Array.html#get-java.lang.Object-int-\" rel=\"nofollow noreferrer\">docs</a>(using <code>get</code> for example)</p>\n\n<blockquote>\n  <p>ArrayIndexOutOfBoundsException - If the specified index argument is negative, or if it is greater than or equal to the length of the specified array</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15820077,"reputation":545,"user_id":11414619,"display_name":"Rowi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564043316,"creation_date":1564043316,"answer_id":57197517,"question_id":57197385,"body_markdown":"In java, Negative index can&#39;t  be used. It is 0 based positive index. If used negative index then java will throw `&quot;ArrayIndexOutOfBoundsException&quot;` Exception.","title":"Can array&#39;s index be negative number in Java?","body":"<p>In java, Negative index can't  be used. It is 0 based positive index. If used negative index then java will throw <code>\"ArrayIndexOutOfBoundsException\"</code> Exception.</p>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564043330,"creation_date":1564043330,"answer_id":57197526,"question_id":57197385,"body_markdown":"arrays in java can not be indexed using negative numbers, the &quot;problem&quot; is that there is no such unsigned integers defined until now in java, so writing myArr[x] will compile as soon a x is a valid numerical index ","title":"Can array&#39;s index be negative number in Java?","body":"<p>arrays in java can not be indexed using negative numbers, the \"problem\" is that there is no such unsigned integers defined until now in java, so writing myArr[x] will compile as soon a x is a valid numerical index </p>\n"},{"tags":[],"owner":{"account_id":9081975,"reputation":642,"user_id":6761506,"accept_rate":88,"display_name":"Kcits970"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643260441,"creation_date":1643253609,"answer_id":70872912,"question_id":57197385,"body_markdown":"As @Darshan Mehta&#39;s answer says, negative numbers are not allowed as array indexes. However, you can always write your own array class that allows negative indices.\r\n\r\nHere&#39;s my example using generics.\r\n\r\n```\r\npublic class ModuloArray&lt;E&gt; {\r\n    int size;\r\n    E[] array;\r\n\r\n    public ModuloArray(int size) {\r\n    \tif (size &lt;= 0)\r\n    \t\tthrow new RuntimeException(&quot;not positive&quot;);\r\n    \t\r\n        this.size = size;\r\n        array = (E[]) new Object[size];\r\n    }\r\n    \r\n    public ModuloArray(E... elements) {\r\n    \tif (elements == null)\r\n    \t\tthrow new RuntimeException(&quot;null&quot;);\r\n    \t\r\n    \tthis.size = elements.length;\r\n    \tarray = elements;\r\n    }\r\n\r\n    public E get(int index) {\r\n        return array[Math.floorMod(index, size)];\r\n    }\r\n    \r\n    public void set(int index, E element) {\r\n    \tarray[Math.floorMod(index, size)] = element;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;*** ModuloArray with first constructor ***&quot;);\r\n\t\tModuloArray&lt;String&gt; myArray = new ModuloArray&lt;&gt;(3);\r\n\t\tmyArray.set(-1, &quot;apple&quot;);\r\n\t\tmyArray.set(-2, &quot;orange&quot;);\r\n\t\tmyArray.set(-3, &quot;banana&quot;);\r\n\t\t\r\n\t\tSystem.out.println(myArray.get(-3));\r\n\t\tSystem.out.println(myArray.get(-2));\r\n\t\tSystem.out.println(myArray.get(-1));\r\n\t\tSystem.out.println(myArray.get(0));\r\n\t\tSystem.out.println(myArray.get(1));\r\n\t\tSystem.out.println(myArray.get(2));\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;*** ModuloArray with second constructor ***&quot;);\r\n\t\tModuloArray&lt;String&gt; myArray2 = new ModuloArray&lt;&gt;(&quot;glazed donut&quot;, &quot;chicken burger&quot;, &quot;apple soda&quot;);\r\n\t\t\r\n\t\tSystem.out.println(myArray2.get(-2));\r\n\t\tSystem.out.println(myArray2.get(3));\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe above example outputs:\r\n```\r\n*** ModuloArray with first constructor ***\r\nbanana\r\norange\r\napple\r\nbanana\r\norange\r\napple\r\n\r\n*** ModuloArray with second constructor ***\r\nchicken burger\r\nglazed donut\r\n```\r\n\r\nArray indexes in Java are valid only if `0 &lt;= index &lt; array.length` is true. However, because `ModuloArray` uses [`Math.floorMod(int x, int y)`](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorMod-int-int-) to access the array elements, any integer *(including negative numbers)* can be used as a valid index. This behavior is similar to how indexing works for lists in Python.\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/jXU8j.png","title":"Can array&#39;s index be negative number in Java?","body":"<p>As @Darshan Mehta's answer says, negative numbers are not allowed as array indexes. However, you can always write your own array class that allows negative indices.</p>\n<p>Here's my example using generics.</p>\n<pre><code>public class ModuloArray&lt;E&gt; {\n    int size;\n    E[] array;\n\n    public ModuloArray(int size) {\n        if (size &lt;= 0)\n            throw new RuntimeException(&quot;not positive&quot;);\n        \n        this.size = size;\n        array = (E[]) new Object[size];\n    }\n    \n    public ModuloArray(E... elements) {\n        if (elements == null)\n            throw new RuntimeException(&quot;null&quot;);\n        \n        this.size = elements.length;\n        array = elements;\n    }\n\n    public E get(int index) {\n        return array[Math.floorMod(index, size)];\n    }\n    \n    public void set(int index, E element) {\n        array[Math.floorMod(index, size)] = element;\n    }\n}\n</code></pre>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;*** ModuloArray with first constructor ***&quot;);\n        ModuloArray&lt;String&gt; myArray = new ModuloArray&lt;&gt;(3);\n        myArray.set(-1, &quot;apple&quot;);\n        myArray.set(-2, &quot;orange&quot;);\n        myArray.set(-3, &quot;banana&quot;);\n        \n        System.out.println(myArray.get(-3));\n        System.out.println(myArray.get(-2));\n        System.out.println(myArray.get(-1));\n        System.out.println(myArray.get(0));\n        System.out.println(myArray.get(1));\n        System.out.println(myArray.get(2));\n        \n        System.out.println();\n        System.out.println(&quot;*** ModuloArray with second constructor ***&quot;);\n        ModuloArray&lt;String&gt; myArray2 = new ModuloArray&lt;&gt;(&quot;glazed donut&quot;, &quot;chicken burger&quot;, &quot;apple soda&quot;);\n        \n        System.out.println(myArray2.get(-2));\n        System.out.println(myArray2.get(3));\n    }\n}\n\n</code></pre>\n<p>The above example outputs:</p>\n<pre><code>*** ModuloArray with first constructor ***\nbanana\norange\napple\nbanana\norange\napple\n\n*** ModuloArray with second constructor ***\nchicken burger\nglazed donut\n</code></pre>\n<p>Array indexes in Java are valid only if <code>0 &lt;= index &lt; array.length</code> is true. However, because <code>ModuloArray</code> uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorMod-int-int-\" rel=\"nofollow noreferrer\"><code>Math.floorMod(int x, int y)</code></a> to access the array elements, any integer <em>(including negative numbers)</em> can be used as a valid index. This behavior is similar to how indexing works for lists in Python.\n<a href=\"https://i.stack.imgur.com/jXU8j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXU8j.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9099991,"reputation":4197,"user_id":6772460,"accept_rate":0,"display_name":"无名小路"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8507,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":8,"score":5,"last_activity_date":1643260441,"creation_date":1564042881,"question_id":57197385,"body_markdown":"    public static void main(String[] args) {\r\n        int[] a = new int[10];\r\n        a[1] =2;\r\n        a[-1] = -2;\r\n        a[0] = 0;\r\n        System.out.println(a[-1]);\r\n\r\n    }\r\n\r\nI write codes above, editor didn&#39;t judge it illegal, but when I run it, it give me \r\n&quot;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: -1&quot;\r\n\r\nSo is negative number index in java is illegal all the time? Or there&#39;s some special situation can let array&#39;s index be negative number?\r\n","title":"Can array&#39;s index be negative number in Java?","body":"<pre><code>public static void main(String[] args) {\n    int[] a = new int[10];\n    a[1] =2;\n    a[-1] = -2;\n    a[0] = 0;\n    System.out.println(a[-1]);\n\n}\n</code></pre>\n\n<p>I write codes above, editor didn't judge it illegal, but when I run it, it give me \n\"Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: -1\"</p>\n\n<p>So is negative number index in java is illegal all the time? Or there's some special situation can let array's index be negative number?</p>\n"},{"tags":["java","android","android-studio","kotlin","android-edittext"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1643257237,"post_id":70873266,"comment_id":125293359,"body_markdown":"What is your question? [https://stackoverflow.com/help/how-to-ask](https://stackoverflow.com/help/how-to-ask)","body":"What is your question? <a href=\"https://stackoverflow.com/help/how-to-ask\">https://stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":10002030,"reputation":11,"user_id":7397643,"display_name":"Muhamad Fauzan Luthfi"},"score":0,"creation_date":1643257934,"post_id":70873266,"comment_id":125293480,"body_markdown":"@RickyMo I use device vivo 1819 I&#39;m confused, why the return from EditText, when i &#39;println, Log, and JSON except use Toast&#39; result become asterisk ( **** )","body":"@RickyMo I use device vivo 1819 I&#39;m confused, why the return from EditText, when i &#39;println, Log, and JSON except use Toast&#39; result become asterisk ( **** )"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1643260832,"post_id":70873266,"comment_id":125293922,"body_markdown":"Muhamad&#39;s asking why the ``EditText``&#39;s ``text`` value is becoming asterisks - from the last screenshot (with the ``TextWatcher``) it looks like it happens when the length exceeds 9 characters. Does it happen in an emulator?","body":"Muhamad&#39;s asking why the <code>EditText</code>&#39;s <code>text</code> value is becoming asterisks - from the last screenshot (with the <code>TextWatcher</code>) it looks like it happens when the length exceeds 9 characters. Does it happen in an emulator?"},{"owner":{"account_id":10002030,"reputation":11,"user_id":7397643,"display_name":"Muhamad Fauzan Luthfi"},"score":0,"creation_date":1643262999,"post_id":70873266,"comment_id":125294328,"body_markdown":"@cactustictacs in emulator nothing happened","body":"@cactustictacs in emulator nothing happened"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1643271783,"post_id":70873266,"comment_id":125296583,"body_markdown":"Does it actually turn into asterisks on the screen, or can you see the full email address? If it does turn into asterisks, when you delete a few characters, does it show the text again, or does it stay as asterisks? Does removing the ``inputType`` attributes in the XML change anything? This is really weird behaviour, and if you&#39;re not seeing it in the emulator, your device is doing something strange (maybe some changes the company made to Android). You might just need to find a workaround that avoids it happening","body":"Does it actually turn into asterisks on the screen, or can you see the full email address? If it does turn into asterisks, when you delete a few characters, does it show the text again, or does it stay as asterisks? Does removing the <code>inputType</code> attributes in the XML change anything? This is really weird behaviour, and if you&#39;re not seeing it in the emulator, your device is doing something strange (maybe some changes the company made to Android). You might just need to find a workaround that avoids it happening"},{"owner":{"account_id":10002030,"reputation":11,"user_id":7397643,"display_name":"Muhamad Fauzan Luthfi"},"score":0,"creation_date":1643273824,"post_id":70873266,"comment_id":125297288,"body_markdown":"1. Does it actually turn into asterisks on the screen, or can you see the full email address? I can only see when the toast appears, if in front of the &#39;@&#39; character the email is deleted to &#39;@gmail.com&#39; but if the deletion is in front of &#39;.com&#39; it has to be &#39;.c &#39;and then &#39; a@gmail.c &#39; appears","body":"1. Does it actually turn into asterisks on the screen, or can you see the full email address? I can only see when the toast appears, if in front of the &#39;@&#39; character the email is deleted to &#39;@gmail.com&#39; but if the deletion is in front of &#39;.com&#39; it has to be &#39;.c &#39;and then &#39; a@gmail.c &#39; appears"},{"owner":{"account_id":10002030,"reputation":11,"user_id":7397643,"display_name":"Muhamad Fauzan Luthfi"},"score":0,"creation_date":1643280879,"post_id":70873266,"comment_id":125300063,"body_markdown":"@cactustictacs \n2. If it does turn into asterisks, when you delete a few characters, does it show the text again, or does it stay as asterisks? Yes, stay as asterisks","body":"@cactustictacs  2. If it does turn into asterisks, when you delete a few characters, does it show the text again, or does it stay as asterisks? Yes, stay as asterisks"},{"owner":{"account_id":10002030,"reputation":11,"user_id":7397643,"display_name":"Muhamad Fauzan Luthfi"},"score":0,"creation_date":1643280909,"post_id":70873266,"comment_id":125300070,"body_markdown":"@cactustictacs 3. Does removing the inputType attributes in the XML change anything? No","body":"@cactustictacs 3. Does removing the inputType attributes in the XML change anything? No"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1643285552,"post_id":70873266,"comment_id":125301789,"body_markdown":"I&#39;m talking about your ``EditText``, the thing you&#39;re typing an address into. According to your ``TextWatcher`` output, the contents of that EditText start normal but then turn into asterisks after you enter 9(?) characters - I&#39;m asking if you see that on the screen while you&#39;re entering the email address, if it all turns into asterisks. It would be strange if you don&#39;t see them in the UI, but ``yourEditText.text.toString()`` returns something completely different. I don&#39;t have a solution to this by the way, I have no idea what&#39;s happening, just trying to get more info in case someone can help","body":"I&#39;m talking about your <code>EditText</code>, the thing you&#39;re typing an address into. According to your <code>TextWatcher</code> output, the contents of that EditText start normal but then turn into asterisks after you enter 9(?) characters - I&#39;m asking if you see that on the screen while you&#39;re entering the email address, if it all turns into asterisks. It would be strange if you don&#39;t see them in the UI, but <code>yourEditText.text.toString()</code> returns something completely different. I don&#39;t have a solution to this by the way, I have no idea what&#39;s happening, just trying to get more info in case someone can help"}],"owner":{"account_id":10002030,"reputation":11,"user_id":7397643,"display_name":"Muhamad Fauzan Luthfi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643260182,"creation_date":1643256846,"question_id":70873266,"body_markdown":"I use device Vivo 1819.\r\n\r\nI&#39;m confused, why the return from EditText, when I `println, Log, and JSON except use Toast` result comes out as asterisks ( `****` ).\r\n\r\nI try with EditText and the Button returns the value `*****`\r\n\r\n`MainActivity.kt`\r\n```java\r\npackage com.sentul.otopark.activity\r\n\r\nimport android.os.Bundle\r\nimport android.widget.Button\r\nimport android.widget.EditText\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport com.sentul.otopark.R\r\nimport com.sentul.otopark.utils.URL_CHECK_EMAIL\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        val etRegisterMail = findViewById&lt;EditText&gt;(R.id.txtUsername)\r\n        val mbRegister = findViewById&lt;Button&gt;(R.id.mbRegister)\r\n\r\n        mbRegister.setOnClickListener {\r\n            val etRegisterMailParam = etRegisterMail.text.toString()\r\n            Toast.makeText(this, &quot;Email input is $etRegisterMailParam&quot;, Toast.LENGTH_SHORT).show()\r\n            Toast.makeText(this, &quot;Url input is $URL_CHECK_EMAIL&quot;, Toast.LENGTH_SHORT).show()\r\n            println(&quot;Email is ${getText(etRegisterMail)}&quot;)\r\n            println(&quot;URL is $URL_CHECK_EMAIL&quot;)\r\n        }\r\n    }\r\n\r\n    private fun getText(editText: EditText): String {\r\n        return editText.text.toString()\r\n    }\r\n}\r\n```\r\n\r\n`activity_main.xml`\r\n```java\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.activity.MainActivity&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/txtUsername&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:drawablePadding=&quot;10dp&quot;\r\n        android:importantForAutofill=&quot;no&quot;\r\n        android:inputType=&quot;textEmailAddress&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        tools:ignore=&quot;LabelFor&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/mbRegister&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;\r\n        android:fontFamily=&quot;@font/fira_sans_extra_bold_italic&quot;\r\n        android:padding=&quot;12dp&quot;\r\n        android:text=&quot;@string/register&quot;\r\n        android:textColor=&quot;@color/white_ffffff&quot;\r\n        android:textSize=&quot;14sp&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n[![Image result try with EditText + Button][2]][2]\r\n\r\nAnd I try with TextWatcher but got a return value of `*****`\r\n\r\n`RegisterActivity.kt`\r\n```java\r\npackage com.sentul.otopark.activity\r\n\r\nimport android.os.Bundle\r\nimport android.text.Editable\r\nimport android.text.TextWatcher\r\nimport android.util.Log\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport com.sentul.otopark.R\r\nimport com.sentul.otopark.databinding.ActivityRegisterBinding\r\nimport com.sentul.otopark.dialog.LoadingFullScreenDialog\r\nimport com.sentul.otopark.utils.SystemUtil\r\nimport com.sentul.otopark.utils.SystemUtil.Companion.goneView\r\nimport com.sentul.otopark.utils.SystemUtil.Companion.handleDisable\r\nimport com.sentul.otopark.utils.SystemUtil.Companion.handleEventClick\r\nimport com.sentul.otopark.utils.SystemUtil.Companion.visibleView\r\nimport org.json.JSONException\r\nimport org.json.JSONObject\r\n\r\nclass RegisterActivity : AppCompatActivity() {\r\n    private var binding: ActivityRegisterBinding? = null\r\n    private var progressBar: LoadingFullScreenDialog? = null\r\n\r\n    private var tagClassName = &quot;RegisterActivity&quot;\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityRegisterBinding.inflate(layoutInflater)\r\n        setContentView(binding!!.root)\r\n\r\n        progressBar = LoadingFullScreenDialog()\r\n\r\n        binding!!.llLogin.setOnClickListener {\r\n            it.handleEventClick(3)\r\n            finish()\r\n        }\r\n\r\n        binding!!.mbRegister.setOnClickListener {\r\n            it.handleEventClick(3)\r\n            progressBar!!.show(this, getString(R.string.please_wait))\r\n            val paramJsonObject = JSONObject()\r\n            try {\r\n                paramJsonObject.put(&quot;email&quot;, binding!!.etEmail.text)\r\n                Log.i(tagClassName, &quot;Parameter JSON is $paramJsonObject&quot;)\r\n                dismissProgressDialog()\r\n            } catch (e: JSONException) {\r\n                Log.e(tagClassName, &quot;Error generate JSON is ${e.printStackTrace()}&quot;)\r\n                dismissProgressDialog()\r\n            }\r\n        }\r\n\r\n        initUI()\r\n        initEvent()\r\n    }\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        binding = null\r\n    }\r\n\r\n    override fun onBackPressed() {\r\n        finish()\r\n    }\r\n\r\n    private fun initUI() {\r\n        binding!!.mbRegister.handleDisable(false)\r\n\r\n        binding!!.etEmail.addTextChangedListener(object : TextWatcher {\r\n            override fun afterTextChanged(text: Editable?) {\r\n                checkValidation(text.toString())\r\n                Log.i(tagClassName, &quot;afterTextChanged $text&quot;)\r\n            }\r\n\r\n            override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {}\r\n\r\n            override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {}\r\n        })\r\n    }\r\n\r\n    private fun initEvent() {\r\n\r\n    }\r\n\r\n    private fun checkValidation(text: String) {\r\n        val isEmail = if (SystemUtil.isValidEmail(text)) {\r\n            binding!!.tvErrorEmail.goneView()\r\n            Log.i(tagClassName, &quot;checkValidation $text&quot;)\r\n            true\r\n        } else {\r\n            binding!!.tvErrorEmail.visibleView()\r\n            false\r\n        }\r\n        binding!!.mbRegister.handleDisable(!(isEmail))\r\n    }\r\n\r\n    private fun dismissProgressDialog() {\r\n        if (progressBar!!.getDialog() != null) {\r\n            progressBar!!.getDialog()!!.dismiss()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n`activity_register.xml`\r\n```java\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white_ffffff&quot;\r\n    tools:context=&quot;.activity.RegisterActivity&quot;&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:id=&quot;@+id/nsvRegister&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_above=&quot;@+id/mbRegister&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:scrollbars=&quot;vertical&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;179dp&quot;\r\n                android:layout_height=&quot;116dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginTop=&quot;127dp&quot;\r\n                android:contentDescription=&quot;@string/app_name&quot;\r\n                android:src=&quot;@drawable/logo&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginTop=&quot;142dp&quot;\r\n                android:fontFamily=&quot;@font/fira_sans_extra_bold_italic&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/register&quot;\r\n                android:textColor=&quot;@color/black_252525&quot;\r\n                android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:fontFamily=&quot;@font/nunito_regular&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/enter_your_email_address_to_register&quot;\r\n                android:textColor=&quot;@color/gray_505050&quot;\r\n                android:textSize=&quot;14sp&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center|start&quot;\r\n                android:layout_marginStart=&quot;16dp&quot;\r\n                android:layout_marginTop=&quot;24dp&quot;\r\n                android:layout_marginEnd=&quot;16dp&quot;\r\n                android:fontFamily=&quot;@font/nunito_regular&quot;\r\n                android:gravity=&quot;center|start&quot;\r\n                android:text=&quot;@string/email&quot;\r\n                android:textColor=&quot;@color/black_252525&quot;\r\n                android:textSize=&quot;12sp&quot; /&gt;\r\n\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/llEmail&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:layout_marginStart=&quot;16dp&quot;\r\n                android:layout_marginTop=&quot;4dp&quot;\r\n                android:layout_marginEnd=&quot;16dp&quot;\r\n                android:background=&quot;@drawable/round_text_field_ecf2f7&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/etEmail&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:background=&quot;@android:color/transparent&quot;\r\n                    android:hint=&quot;@string/youremail_gmail_com&quot;\r\n                    android:imeOptions=&quot;actionDone&quot;\r\n                    android:importantForAutofill=&quot;no&quot;\r\n                    android:inputType=&quot;textEmailSubject&quot;\r\n                    android:paddingStart=&quot;12dp&quot;\r\n                    android:paddingEnd=&quot;12dp&quot;\r\n                    android:textSize=&quot;14sp&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/ivErrorEmail&quot;\r\n                    android:layout_width=&quot;20dp&quot;\r\n                    android:layout_height=&quot;20dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginEnd=&quot;12dp&quot;\r\n                    android:contentDescription=&quot;@string/app_name&quot;\r\n                    android:src=&quot;@drawable/ic_danger&quot;\r\n                    android:visibility=&quot;gone&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tvErrorEmail&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center|start&quot;\r\n                android:layout_marginStart=&quot;16dp&quot;\r\n                android:layout_marginTop=&quot;4dp&quot;\r\n                android:layout_marginEnd=&quot;16dp&quot;\r\n                android:fontFamily=&quot;@font/nunito_regular&quot;\r\n                android:gravity=&quot;center|start&quot;\r\n                android:text=&quot;@string/invalid_email_try_another_email&quot;\r\n                android:textColor=&quot;@color/error&quot;\r\n                android:textSize=&quot;10sp&quot;\r\n                android:visibility=&quot;gone&quot;\r\n                tools:ignore=&quot;SmallSp&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/llLogin&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginStart=&quot;16dp&quot;\r\n                android:layout_marginTop=&quot;32dp&quot;\r\n                android:layout_marginEnd=&quot;16dp&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:fontFamily=&quot;@font/nunito_regular&quot;\r\n                    android:gravity=&quot;center|end&quot;\r\n                    android:text=&quot;@string/already_have_an_account_question_mark&quot;\r\n                    android:textColor=&quot;@color/gray_505050&quot;\r\n                    android:textSize=&quot;12sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginStart=&quot;5dp&quot;\r\n                    android:fontFamily=&quot;@font/nunito_regular&quot;\r\n                    android:gravity=&quot;center|start&quot;\r\n                    android:text=&quot;@string/login&quot;\r\n                    android:textColor=&quot;@color/colorPrimary&quot;\r\n                    android:textSize=&quot;12sp&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/mbRegister&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:alpha=&quot;0.5&quot;\r\n        android:enabled=&quot;false&quot;\r\n        android:fontFamily=&quot;@font/fira_sans_extra_bold_italic&quot;\r\n        android:padding=&quot;12dp&quot;\r\n        android:text=&quot;@string/register&quot;\r\n        android:textColor=&quot;@color/white_ffffff&quot;\r\n        android:textSize=&quot;14sp&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n[![Image result try with TextWatcher][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fHbv9.jpg\r\n  [2]: https://i.stack.imgur.com/0B1z5.jpg","title":"Android/Kotlin: Edit Text email result become asterisk ( **** )","body":"<p>I use device Vivo 1819.</p>\n<p>I'm confused, why the return from EditText, when I <code>println, Log, and JSON except use Toast</code> result comes out as asterisks ( <code>****</code> ).</p>\n<p>I try with EditText and the Button returns the value <code>*****</code></p>\n<p><code>MainActivity.kt</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.sentul.otopark.activity\n\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport com.sentul.otopark.R\nimport com.sentul.otopark.utils.URL_CHECK_EMAIL\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val etRegisterMail = findViewById&lt;EditText&gt;(R.id.txtUsername)\n        val mbRegister = findViewById&lt;Button&gt;(R.id.mbRegister)\n\n        mbRegister.setOnClickListener {\n            val etRegisterMailParam = etRegisterMail.text.toString()\n            Toast.makeText(this, &quot;Email input is $etRegisterMailParam&quot;, Toast.LENGTH_SHORT).show()\n            Toast.makeText(this, &quot;Url input is $URL_CHECK_EMAIL&quot;, Toast.LENGTH_SHORT).show()\n            println(&quot;Email is ${getText(etRegisterMail)}&quot;)\n            println(&quot;URL is $URL_CHECK_EMAIL&quot;)\n        }\n    }\n\n    private fun getText(editText: EditText): String {\n        return editText.text.toString()\n    }\n}\n</code></pre>\n<p><code>activity_main.xml</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.activity.MainActivity&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/txtUsername&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:drawablePadding=&quot;10dp&quot;\n        android:importantForAutofill=&quot;no&quot;\n        android:inputType=&quot;textEmailAddress&quot;\n        android:padding=&quot;10dp&quot;\n        android:textSize=&quot;15sp&quot;\n        tools:ignore=&quot;LabelFor&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/mbRegister&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        android:background=&quot;@color/colorPrimary&quot;\n        android:fontFamily=&quot;@font/fira_sans_extra_bold_italic&quot;\n        android:padding=&quot;12dp&quot;\n        android:text=&quot;@string/register&quot;\n        android:textColor=&quot;@color/white_ffffff&quot;\n        android:textSize=&quot;14sp&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0B1z5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0B1z5.jpg\" alt=\"Image result try with EditText + Button\" /></a></p>\n<p>And I try with TextWatcher but got a return value of <code>*****</code></p>\n<p><code>RegisterActivity.kt</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.sentul.otopark.activity\n\nimport android.os.Bundle\nimport android.text.Editable\nimport android.text.TextWatcher\nimport android.util.Log\nimport androidx.appcompat.app.AppCompatActivity\nimport com.sentul.otopark.R\nimport com.sentul.otopark.databinding.ActivityRegisterBinding\nimport com.sentul.otopark.dialog.LoadingFullScreenDialog\nimport com.sentul.otopark.utils.SystemUtil\nimport com.sentul.otopark.utils.SystemUtil.Companion.goneView\nimport com.sentul.otopark.utils.SystemUtil.Companion.handleDisable\nimport com.sentul.otopark.utils.SystemUtil.Companion.handleEventClick\nimport com.sentul.otopark.utils.SystemUtil.Companion.visibleView\nimport org.json.JSONException\nimport org.json.JSONObject\n\nclass RegisterActivity : AppCompatActivity() {\n    private var binding: ActivityRegisterBinding? = null\n    private var progressBar: LoadingFullScreenDialog? = null\n\n    private var tagClassName = &quot;RegisterActivity&quot;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityRegisterBinding.inflate(layoutInflater)\n        setContentView(binding!!.root)\n\n        progressBar = LoadingFullScreenDialog()\n\n        binding!!.llLogin.setOnClickListener {\n            it.handleEventClick(3)\n            finish()\n        }\n\n        binding!!.mbRegister.setOnClickListener {\n            it.handleEventClick(3)\n            progressBar!!.show(this, getString(R.string.please_wait))\n            val paramJsonObject = JSONObject()\n            try {\n                paramJsonObject.put(&quot;email&quot;, binding!!.etEmail.text)\n                Log.i(tagClassName, &quot;Parameter JSON is $paramJsonObject&quot;)\n                dismissProgressDialog()\n            } catch (e: JSONException) {\n                Log.e(tagClassName, &quot;Error generate JSON is ${e.printStackTrace()}&quot;)\n                dismissProgressDialog()\n            }\n        }\n\n        initUI()\n        initEvent()\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        binding = null\n    }\n\n    override fun onBackPressed() {\n        finish()\n    }\n\n    private fun initUI() {\n        binding!!.mbRegister.handleDisable(false)\n\n        binding!!.etEmail.addTextChangedListener(object : TextWatcher {\n            override fun afterTextChanged(text: Editable?) {\n                checkValidation(text.toString())\n                Log.i(tagClassName, &quot;afterTextChanged $text&quot;)\n            }\n\n            override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {}\n\n            override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {}\n        })\n    }\n\n    private fun initEvent() {\n\n    }\n\n    private fun checkValidation(text: String) {\n        val isEmail = if (SystemUtil.isValidEmail(text)) {\n            binding!!.tvErrorEmail.goneView()\n            Log.i(tagClassName, &quot;checkValidation $text&quot;)\n            true\n        } else {\n            binding!!.tvErrorEmail.visibleView()\n            false\n        }\n        binding!!.mbRegister.handleDisable(!(isEmail))\n    }\n\n    private fun dismissProgressDialog() {\n        if (progressBar!!.getDialog() != null) {\n            progressBar!!.getDialog()!!.dismiss()\n        }\n    }\n}\n</code></pre>\n<p><code>activity_register.xml</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white_ffffff&quot;\n    tools:context=&quot;.activity.RegisterActivity&quot;&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:id=&quot;@+id/nsvRegister&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_above=&quot;@+id/mbRegister&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:scrollbars=&quot;vertical&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;179dp&quot;\n                android:layout_height=&quot;116dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginTop=&quot;127dp&quot;\n                android:contentDescription=&quot;@string/app_name&quot;\n                android:src=&quot;@drawable/logo&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginTop=&quot;142dp&quot;\n                android:fontFamily=&quot;@font/fira_sans_extra_bold_italic&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;@string/register&quot;\n                android:textColor=&quot;@color/black_252525&quot;\n                android:textSize=&quot;20sp&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:fontFamily=&quot;@font/nunito_regular&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;@string/enter_your_email_address_to_register&quot;\n                android:textColor=&quot;@color/gray_505050&quot;\n                android:textSize=&quot;14sp&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center|start&quot;\n                android:layout_marginStart=&quot;16dp&quot;\n                android:layout_marginTop=&quot;24dp&quot;\n                android:layout_marginEnd=&quot;16dp&quot;\n                android:fontFamily=&quot;@font/nunito_regular&quot;\n                android:gravity=&quot;center|start&quot;\n                android:text=&quot;@string/email&quot;\n                android:textColor=&quot;@color/black_252525&quot;\n                android:textSize=&quot;12sp&quot; /&gt;\n\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/llEmail&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;48dp&quot;\n                android:layout_marginStart=&quot;16dp&quot;\n                android:layout_marginTop=&quot;4dp&quot;\n                android:layout_marginEnd=&quot;16dp&quot;\n                android:background=&quot;@drawable/round_text_field_ecf2f7&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;EditText\n                    android:id=&quot;@+id/etEmail&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:background=&quot;@android:color/transparent&quot;\n                    android:hint=&quot;@string/youremail_gmail_com&quot;\n                    android:imeOptions=&quot;actionDone&quot;\n                    android:importantForAutofill=&quot;no&quot;\n                    android:inputType=&quot;textEmailSubject&quot;\n                    android:paddingStart=&quot;12dp&quot;\n                    android:paddingEnd=&quot;12dp&quot;\n                    android:textSize=&quot;14sp&quot; /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/ivErrorEmail&quot;\n                    android:layout_width=&quot;20dp&quot;\n                    android:layout_height=&quot;20dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_marginEnd=&quot;12dp&quot;\n                    android:contentDescription=&quot;@string/app_name&quot;\n                    android:src=&quot;@drawable/ic_danger&quot;\n                    android:visibility=&quot;gone&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tvErrorEmail&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center|start&quot;\n                android:layout_marginStart=&quot;16dp&quot;\n                android:layout_marginTop=&quot;4dp&quot;\n                android:layout_marginEnd=&quot;16dp&quot;\n                android:fontFamily=&quot;@font/nunito_regular&quot;\n                android:gravity=&quot;center|start&quot;\n                android:text=&quot;@string/invalid_email_try_another_email&quot;\n                android:textColor=&quot;@color/error&quot;\n                android:textSize=&quot;10sp&quot;\n                android:visibility=&quot;gone&quot;\n                tools:ignore=&quot;SmallSp&quot; /&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/llLogin&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginStart=&quot;16dp&quot;\n                android:layout_marginTop=&quot;32dp&quot;\n                android:layout_marginEnd=&quot;16dp&quot;\n                android:layout_weight=&quot;2&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:fontFamily=&quot;@font/nunito_regular&quot;\n                    android:gravity=&quot;center|end&quot;\n                    android:text=&quot;@string/already_have_an_account_question_mark&quot;\n                    android:textColor=&quot;@color/gray_505050&quot;\n                    android:textSize=&quot;12sp&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_marginStart=&quot;5dp&quot;\n                    android:fontFamily=&quot;@font/nunito_regular&quot;\n                    android:gravity=&quot;center|start&quot;\n                    android:text=&quot;@string/login&quot;\n                    android:textColor=&quot;@color/colorPrimary&quot;\n                    android:textSize=&quot;12sp&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/mbRegister&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        android:alpha=&quot;0.5&quot;\n        android:enabled=&quot;false&quot;\n        android:fontFamily=&quot;@font/fira_sans_extra_bold_italic&quot;\n        android:padding=&quot;12dp&quot;\n        android:text=&quot;@string/register&quot;\n        android:textColor=&quot;@color/white_ffffff&quot;\n        android:textSize=&quot;14sp&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fHbv9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fHbv9.jpg\" alt=\"Image result try with TextWatcher\" /></a></p>\n"},{"tags":["java","spring","properties","yaml"],"answers":[{"tags":[],"owner":{"account_id":15732107,"reputation":71,"user_id":13718790,"display_name":"Jeremy Dsilva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643259440,"creation_date":1643227276,"answer_id":70869536,"question_id":70868853,"body_markdown":"Approach #1: \r\n\r\nConditionalOnProperty work on the complete property name. For your usecase, something that could work is if you can add an additional boolean parameter like client.auth.foo.enabled. Like shown below:\r\n\r\n``` java\r\n@Bean\r\n@ConditionalOnProperty(value = &quot;client.auth.foo.enabled&quot;, havingValue = &quot;true&quot;)\r\npublic Foo foo() {\r\n    return new Foo();\r\n}\r\n```\r\n\r\nCorresponding yaml file\r\n\r\n``` yaml\r\nclient:\r\n  auth:\r\n    foo:\r\n      enabled: true\r\n      something: 123\r\n      whatever: 321\r\n```\r\n\r\nApproach #2:\r\n\r\nYou can implement your own Condition to check whether the property prefix exist. \r\n\r\n``` java \r\n@Bean\r\n@Conditional(MyCondition.class)\r\npublic Foo foo() {\r\n    return new Foo();\r\n}\r\n\r\nstatic class MyCondition implements Condition {\r\n\r\n    @Override\r\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n        final String prefix = &quot;client.auth.foo&quot;;\r\n        if (context.getEnvironment() instanceof ConfigurableEnvironment env) {\r\n            for (PropertySource&lt;?&gt; propertySource : env.getPropertySources()) {\r\n                if (propertySource instanceof EnumerablePropertySource enumerablePropertySource) {\r\n                    for (String key : enumerablePropertySource.getPropertyNames()) {\r\n                        if (key.startsWith(prefix)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nBased on https://stackoverflow.com/a/47873601 modified for your usecase\r\n\r\n","title":"@ConditionalOnProperty on YAML objects","body":"<p>Approach #1:</p>\n<p>ConditionalOnProperty work on the complete property name. For your usecase, something that could work is if you can add an additional boolean parameter like client.auth.foo.enabled. Like shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@ConditionalOnProperty(value = &quot;client.auth.foo.enabled&quot;, havingValue = &quot;true&quot;)\npublic Foo foo() {\n    return new Foo();\n}\n</code></pre>\n<p>Corresponding yaml file</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>client:\n  auth:\n    foo:\n      enabled: true\n      something: 123\n      whatever: 321\n</code></pre>\n<p>Approach #2:</p>\n<p>You can implement your own Condition to check whether the property prefix exist.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Conditional(MyCondition.class)\npublic Foo foo() {\n    return new Foo();\n}\n\nstatic class MyCondition implements Condition {\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        final String prefix = &quot;client.auth.foo&quot;;\n        if (context.getEnvironment() instanceof ConfigurableEnvironment env) {\n            for (PropertySource&lt;?&gt; propertySource : env.getPropertySources()) {\n                if (propertySource instanceof EnumerablePropertySource enumerablePropertySource) {\n                    for (String key : enumerablePropertySource.getPropertyNames()) {\n                        if (key.startsWith(prefix)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    }\n}\n\n</code></pre>\n<p>Based on <a href=\"https://stackoverflow.com/a/47873601\">https://stackoverflow.com/a/47873601</a> modified for your usecase</p>\n"}],"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70869536,"answer_count":1,"score":0,"last_activity_date":1643259440,"creation_date":1643223484,"question_id":70868853,"body_markdown":"I have an YAML that looks like this:\r\n\r\n    client:\r\n      auth:\r\n        foo:\r\n    \t  something: 123\r\n    \t  whatever: 321\r\n        bar:\r\n    \t  idk: 999\r\n    \t  anything: bleh\r\n\r\nI&#39;m trying to create beans whether they&#39;re specified on that YAML, example:\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(prefix = &quot;client.auth&quot;, name = &quot;foo&quot;)\r\n    public Foo foo() {\r\n    \treturn new Foo();\r\n    }\r\n    \r\n    @Bean\r\n    @ConditionalOnProperty(prefix = &quot;client.auth&quot;, name = &quot;bar&quot;)\r\n    public Bar bar() {\r\n    \treturn new Bar();\r\n    }\r\n\r\nSuch YAML should create only the `Bar` bean (no `client.auth.foo` specified):\r\n\r\n    client:\r\n      auth:\r\n        bar:\r\n    \t  idk: 999\r\n    \t  anything: bleh\r\n\r\nHowever, this does not work (beans aren&#39;t created). I&#39;ve also tried the following (foo&#39;s - bar&#39;s omitted for brevity):\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(prefix = &quot;client.auth&quot;, value = &quot;foo&quot;)\r\n    public Foo foo() {\r\n    \treturn new Foo();\r\n    }\r\n    \r\n    @Bean\r\n    @ConditionalOnProperty(prefix = &quot;client&quot;, name = &quot;auth&quot;, havingValue = &quot;foo&quot;)\r\n    public Foo foo() {\r\n    \treturn new Foo();\r\n    }\r\n\r\nIs it possible to achieve what I&#39;m looking for? How?","title":"@ConditionalOnProperty on YAML objects","body":"<p>I have an YAML that looks like this:</p>\n<pre><code>client:\n  auth:\n    foo:\n      something: 123\n      whatever: 321\n    bar:\n      idk: 999\n      anything: bleh\n</code></pre>\n<p>I'm trying to create beans whether they're specified on that YAML, example:</p>\n<pre><code>@Bean\n@ConditionalOnProperty(prefix = &quot;client.auth&quot;, name = &quot;foo&quot;)\npublic Foo foo() {\n    return new Foo();\n}\n\n@Bean\n@ConditionalOnProperty(prefix = &quot;client.auth&quot;, name = &quot;bar&quot;)\npublic Bar bar() {\n    return new Bar();\n}\n</code></pre>\n<p>Such YAML should create only the <code>Bar</code> bean (no <code>client.auth.foo</code> specified):</p>\n<pre><code>client:\n  auth:\n    bar:\n      idk: 999\n      anything: bleh\n</code></pre>\n<p>However, this does not work (beans aren't created). I've also tried the following (foo's - bar's omitted for brevity):</p>\n<pre><code>@Bean\n@ConditionalOnProperty(prefix = &quot;client.auth&quot;, value = &quot;foo&quot;)\npublic Foo foo() {\n    return new Foo();\n}\n\n@Bean\n@ConditionalOnProperty(prefix = &quot;client&quot;, name = &quot;auth&quot;, havingValue = &quot;foo&quot;)\npublic Foo foo() {\n    return new Foo();\n}\n</code></pre>\n<p>Is it possible to achieve what I'm looking for? How?</p>\n"},{"tags":["java","if-statement","character"],"comments":[{"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"score":0,"creation_date":1643257738,"post_id":70873358,"comment_id":125293452,"body_markdown":"where is the if statement that is not executed","body":"where is the if statement that is not executed"},{"owner":{"account_id":22818817,"reputation":11,"user_id":16969006,"display_name":"joker5309"},"score":0,"creation_date":1643257995,"post_id":70873358,"comment_id":125293484,"body_markdown":"if (chars.get(counter_char).equals(&quot;+&quot;) )","body":"if (chars.get(counter_char).equals(&quot;+&quot;) )"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1643258044,"post_id":70873358,"comment_id":125293489,"body_markdown":"what are the values of `ints` and `chars` ?","body":"what are the values of <code>ints</code> and <code>chars</code> ?"},{"owner":{"account_id":22818817,"reputation":11,"user_id":16969006,"display_name":"joker5309"},"score":0,"creation_date":1643258199,"post_id":70873358,"comment_id":125293511,"body_markdown":"whatever the user inputs. For example, if the user inputs 2 + 3 - 4, then the values of ints is [2, 3, 4] and the values of chars is [+, -]","body":"whatever the user inputs. For example, if the user inputs 2 + 3 - 4, then the values of ints is [2, 3, 4] and the values of chars is [+, -]"}],"answers":[{"tags":[],"owner":{"account_id":13515575,"reputation":143,"user_id":9750259,"display_name":"Andriy Zhuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643258250,"creation_date":1643258250,"answer_id":70873423,"question_id":70873358,"body_markdown":"If your code is about to enter a condition - please check if you&#39;re comparing it to string or actual character:\r\n\r\nFor example:\r\n\r\n    @Test\r\n    public void test() {\r\n        Character theChar = &#39;+&#39;;\r\n        \r\n        if (theChar.equals(&quot;+&quot;)) {\r\n            System.out.println(&quot;Fine&quot;);\r\n        } else {\r\n            System.out.println(&quot;Wrong&quot;);\r\n        }\r\n    }\r\n\r\nWill output &quot;Wrong&quot;.\r\n\r\nAnd the following will output &quot;Fine&quot;:\r\n\r\n    @Test\r\n    public void test() {\r\n        Character theChar = &#39;+&#39;;\r\n\r\n        if (theChar.equals(&#39;+&#39;)) {\r\n            System.out.println(&quot;Fine&quot;);\r\n        } else {\r\n            System.out.println(&quot;Wrong&quot;);\r\n        }\r\n    }","title":"My code never enters the body of the if statement, because the condition is never valid. How to successfully compare characters?","body":"<p>If your code is about to enter a condition - please check if you're comparing it to string or actual character:</p>\n<p>For example:</p>\n<pre><code>@Test\npublic void test() {\n    Character theChar = '+';\n    \n    if (theChar.equals(&quot;+&quot;)) {\n        System.out.println(&quot;Fine&quot;);\n    } else {\n        System.out.println(&quot;Wrong&quot;);\n    }\n}\n</code></pre>\n<p>Will output &quot;Wrong&quot;.</p>\n<p>And the following will output &quot;Fine&quot;:</p>\n<pre><code>@Test\npublic void test() {\n    Character theChar = '+';\n\n    if (theChar.equals('+')) {\n        System.out.println(&quot;Fine&quot;);\n    } else {\n        System.out.println(&quot;Wrong&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5965285,"reputation":21,"user_id":4689197,"display_name":"Kumar Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643258922,"creation_date":1643258922,"answer_id":70873494,"question_id":70873358,"body_markdown":"`equals` method in any Java class is an overridden implementation of the `equals` method of Object class. \r\n\r\nThis means the signature of equals method is `public boolean equals(Object obj)` \r\n\r\nIn the implementation above, a Character instance is being compared to a String instance `chars.get(counter_char).equals(&quot;+&quot;)`. \r\n\r\nThis does not result in a compilation error as the input parameter type of equals method is Object(parent class of all other types in java, hence able to point to reference of any java type, in this case String type), but the equality check will fail at runtime as the types of LHS and RHS do not match. \r\n\r\nTo fix this simply update the equals to compare Character to character.\r\n`chars.get(counter_char).equals(&#39;+&#39;)`\r\n\r\nNote: In Java, values within double quotes represent a sring constant, and values within single qoutes reprsent a character constant.\r\n\r\n\r\nReferences:\r\n 1. https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#equals-java.lang.Object-","title":"My code never enters the body of the if statement, because the condition is never valid. How to successfully compare characters?","body":"<p><code>equals</code> method in any Java class is an overridden implementation of the <code>equals</code> method of Object class.</p>\n<p>This means the signature of equals method is <code>public boolean equals(Object obj)</code></p>\n<p>In the implementation above, a Character instance is being compared to a String instance <code>chars.get(counter_char).equals(&quot;+&quot;)</code>.</p>\n<p>This does not result in a compilation error as the input parameter type of equals method is Object(parent class of all other types in java, hence able to point to reference of any java type, in this case String type), but the equality check will fail at runtime as the types of LHS and RHS do not match.</p>\n<p>To fix this simply update the equals to compare Character to character.\n<code>chars.get(counter_char).equals('+')</code></p>\n<p>Note: In Java, values within double quotes represent a sring constant, and values within single qoutes reprsent a character constant.</p>\n<p>References:</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#equals-java.lang.Object-</a></li>\n</ol>\n"}],"owner":{"account_id":22818817,"reputation":11,"user_id":16969006,"display_name":"joker5309"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643258922,"creation_date":1643257570,"question_id":70873358,"body_markdown":"My program is supposed to take in a single line of integers and characters, separate the ints and chars, store them in two different linked lists, and run calculations based on the input. My code for the compute method:\r\n\r\n    public static float ComputeResults(LinkedList&lt;Integer&gt; ints, LinkedList&lt;Character&gt; chars){\r\n        \r\n        //iterate through elements from the int linkedList\r\n        result = 0; \r\n        \r\n        for (int counter_int = 0; counter_int &lt; ints.size(); counter_int++){\r\n            \r\n            for (int counter_char = 0; counter_char &lt; chars.size(); counter_char++){\r\n            \r\n                if (chars.get(counter_char).equals(&quot;+&quot;) ){\r\n                    result = result + ints.get(counter_int);\r\n                }\r\n                else if (chars.get(counter_char).equals(&quot;-&quot;)){\r\n                    result = result - ints.get(counter_int + 1);\r\n                }\r\n                else if (chars.get(counter_char).equals(&quot;*&quot;)){\r\n                    result = result * ints.get(counter_int + 1);\r\n                }\r\n                else if (chars.get(counter_char).equals(&quot;/&quot;)){\r\n                    result = result / ints.get(counter_int + 1);\r\n                }\r\n                \r\n                else {\r\n                    System.out.println(&quot;no if statement is valid&quot;);\r\n                }\r\n            }\r\n            \r\n        }\r\n        return result;\r\n    }\r\n\r\nI understood despite what the user inputs, the code does not enter any of the if statements (because the character is never found equal to &quot;+&quot;, &quot;-&quot;, &quot;*&quot; or &quot;/&quot;)? What am I doing wrong in my if condition?\r\n\r\nMy code for all other class: \r\n\r\n    UserInterface Class:\r\n    \r\n    import java.util.*;\r\n    \r\n    public class UserInterface {\r\n        \r\n        //create an arraylist to store the numbers\r\n        //create another arraylist to store the characters \r\n        \r\n        public static ArrayList&lt;Integer&gt; integers = new ArrayList&lt;Integer&gt;();\r\n        public static ArrayList&lt;Character&gt; characters = new ArrayList&lt;Character&gt;();\r\n        \r\n        public static void PrintMenu(){\r\n            //ask the user to enter a single line of integers and characters \r\n            //ask the user to enter a formula with spaces between the ints and characters\r\n            \r\n            Scanner input = new Scanner (System.in);\r\n            \r\n            System.out.println(&quot;Please enter a single line of integers and operators for calculation&quot;);\r\n            System.out.println(&quot;put one space between the integers and characters&quot;);\r\n            System.out.println(&quot;Example of a correctly entered line for calculation: &quot;);\r\n            System.out.println(&quot;23 + 4 + 78 / 31 - 2&quot;);\r\n            System.out.println(&quot;&quot;);\r\n            \r\n            //take the input in as a string\r\n            String line;\r\n            line = input.nextLine();\r\n            \r\n            //parse the line to separate each element of the line\r\n            //store them in an arraylist of string\r\n            ArrayList&lt;String&gt; elements = new ArrayList();\r\n            Scanner scanner = new Scanner(line);\r\n            scanner.useDelimiter(&quot; &quot;);\r\n            while (scanner.hasNext()){\r\n                elements.add(scanner.next());\r\n            }\r\n            \r\n            // in the elements arraylist\r\n            //if the index of the element is even\r\n                //add to list of ints\r\n            //if the index of the element is odd\r\n                //add to list of chars\r\n                \r\n            for (int i = 0; i&lt;elements.size(); i++){\r\n                if (i % 2 == 0){\r\n                    integers.add(Integer.parseInt(elements.get(i)));\r\n                }\r\n                else if (i % 2 == 1){\r\n                    characters.add(elements.get(i).charAt(0));\r\n                }\r\n            }\r\n            \r\n        }\r\n        \r\n        public static void OutputResults(){\r\n            \r\n        }\r\n        \r\n        public UserInterface(){\r\n        \r\n        }\r\n        \r\n    }\r\n\r\nCode for LListCalculator class:\r\n\r\n    import java.util.*;\r\n    \r\n    public class LListCalculator {\r\n        \r\n        static float result;\r\n        \r\n        public static LinkedList LinkedListMaintenance(ArrayList list){\r\n            \r\n            LinkedList linkedList = new LinkedList();\r\n            \r\n            for (int i = 0; i&lt;list.size(); i++){\r\n                linkedList.add(list.get(i));\r\n            }\r\n            return linkedList;\r\n        }\r\n        \r\n        public static float ComputeResults(LinkedList&lt;Integer&gt; ints, LinkedList&lt;Character&gt; chars){\r\n         //as mentioned before   \r\n        }\r\n        \r\n        public LListCalculator() {\r\n            \r\n        }\r\n        \r\n    }\r\n\r\nCode for main class:\r\n\r\n    import java.util.*;\r\n    \r\n    public class LListDriver {\r\n        \r\n        public static void main(String[] args)\r\n        {\r\n            UserInterface.PrintMenu();\r\n            \r\n            LinkedList ints;\r\n            LinkedList chars;\r\n            \r\n            ints = LListCalculator.LinkedListMaintenance(UserInterface.integers);\r\n            \r\n            chars = LListCalculator.LinkedListMaintenance(UserInterface.characters);\r\n            \r\n            System.out.println(chars);\r\n            float result;\r\n            result = LListCalculator.ComputeResults(ints, chars);\r\n            System.out.println(result);\r\n        }\r\n        \r\n    }","title":"My code never enters the body of the if statement, because the condition is never valid. How to successfully compare characters?","body":"<p>My program is supposed to take in a single line of integers and characters, separate the ints and chars, store them in two different linked lists, and run calculations based on the input. My code for the compute method:</p>\n<pre><code>public static float ComputeResults(LinkedList&lt;Integer&gt; ints, LinkedList&lt;Character&gt; chars){\n    \n    //iterate through elements from the int linkedList\n    result = 0; \n    \n    for (int counter_int = 0; counter_int &lt; ints.size(); counter_int++){\n        \n        for (int counter_char = 0; counter_char &lt; chars.size(); counter_char++){\n        \n            if (chars.get(counter_char).equals(&quot;+&quot;) ){\n                result = result + ints.get(counter_int);\n            }\n            else if (chars.get(counter_char).equals(&quot;-&quot;)){\n                result = result - ints.get(counter_int + 1);\n            }\n            else if (chars.get(counter_char).equals(&quot;*&quot;)){\n                result = result * ints.get(counter_int + 1);\n            }\n            else if (chars.get(counter_char).equals(&quot;/&quot;)){\n                result = result / ints.get(counter_int + 1);\n            }\n            \n            else {\n                System.out.println(&quot;no if statement is valid&quot;);\n            }\n        }\n        \n    }\n    return result;\n}\n</code></pre>\n<p>I understood despite what the user inputs, the code does not enter any of the if statements (because the character is never found equal to &quot;+&quot;, &quot;-&quot;, &quot;*&quot; or &quot;/&quot;)? What am I doing wrong in my if condition?</p>\n<p>My code for all other class:</p>\n<pre><code>UserInterface Class:\n\nimport java.util.*;\n\npublic class UserInterface {\n    \n    //create an arraylist to store the numbers\n    //create another arraylist to store the characters \n    \n    public static ArrayList&lt;Integer&gt; integers = new ArrayList&lt;Integer&gt;();\n    public static ArrayList&lt;Character&gt; characters = new ArrayList&lt;Character&gt;();\n    \n    public static void PrintMenu(){\n        //ask the user to enter a single line of integers and characters \n        //ask the user to enter a formula with spaces between the ints and characters\n        \n        Scanner input = new Scanner (System.in);\n        \n        System.out.println(&quot;Please enter a single line of integers and operators for calculation&quot;);\n        System.out.println(&quot;put one space between the integers and characters&quot;);\n        System.out.println(&quot;Example of a correctly entered line for calculation: &quot;);\n        System.out.println(&quot;23 + 4 + 78 / 31 - 2&quot;);\n        System.out.println(&quot;&quot;);\n        \n        //take the input in as a string\n        String line;\n        line = input.nextLine();\n        \n        //parse the line to separate each element of the line\n        //store them in an arraylist of string\n        ArrayList&lt;String&gt; elements = new ArrayList();\n        Scanner scanner = new Scanner(line);\n        scanner.useDelimiter(&quot; &quot;);\n        while (scanner.hasNext()){\n            elements.add(scanner.next());\n        }\n        \n        // in the elements arraylist\n        //if the index of the element is even\n            //add to list of ints\n        //if the index of the element is odd\n            //add to list of chars\n            \n        for (int i = 0; i&lt;elements.size(); i++){\n            if (i % 2 == 0){\n                integers.add(Integer.parseInt(elements.get(i)));\n            }\n            else if (i % 2 == 1){\n                characters.add(elements.get(i).charAt(0));\n            }\n        }\n        \n    }\n    \n    public static void OutputResults(){\n        \n    }\n    \n    public UserInterface(){\n    \n    }\n    \n}\n</code></pre>\n<p>Code for LListCalculator class:</p>\n<pre><code>import java.util.*;\n\npublic class LListCalculator {\n    \n    static float result;\n    \n    public static LinkedList LinkedListMaintenance(ArrayList list){\n        \n        LinkedList linkedList = new LinkedList();\n        \n        for (int i = 0; i&lt;list.size(); i++){\n            linkedList.add(list.get(i));\n        }\n        return linkedList;\n    }\n    \n    public static float ComputeResults(LinkedList&lt;Integer&gt; ints, LinkedList&lt;Character&gt; chars){\n     //as mentioned before   \n    }\n    \n    public LListCalculator() {\n        \n    }\n    \n}\n</code></pre>\n<p>Code for main class:</p>\n<pre><code>import java.util.*;\n\npublic class LListDriver {\n    \n    public static void main(String[] args)\n    {\n        UserInterface.PrintMenu();\n        \n        LinkedList ints;\n        LinkedList chars;\n        \n        ints = LListCalculator.LinkedListMaintenance(UserInterface.integers);\n        \n        chars = LListCalculator.LinkedListMaintenance(UserInterface.characters);\n        \n        System.out.println(chars);\n        float result;\n        result = LListCalculator.ComputeResults(ints, chars);\n        System.out.println(result);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android-studio","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643258858,"creation_date":1643258858,"answer_id":70873482,"question_id":70873450,"body_markdown":"You have declared these as being local in validateData\r\n\r\n    String email = binding.emailEt.getText().toString().trim();\r\n    String password = binding.passwordEt.getText().toString().trim();\r\n\r\nWhen you call\r\n\r\n    firebaseAuth.signInWithEmailAndPassword(email,password)\r\n\r\nthey are empty","title":"Firebase Auth Login and Signup app crashes when button clicked","body":"<p>You have declared these as being local in validateData</p>\n<pre><code>String email = binding.emailEt.getText().toString().trim();\nString password = binding.passwordEt.getText().toString().trim();\n</code></pre>\n<p>When you call</p>\n<pre><code>firebaseAuth.signInWithEmailAndPassword(email,password)\n</code></pre>\n<p>they are empty</p>\n"}],"owner":{"account_id":1444954,"reputation":5,"user_id":4531633,"display_name":"Jeevan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70873482,"answer_count":1,"score":0,"last_activity_date":1643258858,"creation_date":1643258548,"question_id":70873450,"body_markdown":"I am building a simple firebase login and signup application. It contains three activities, SignUp, LogIn and Profile activities. I have integrated Firebase, but the app crashes with an error when I click on either LogIn or SignUp button. I have gone through the entire forum looking for possible fix but couldn&#39;t find a right solution to fix my problem. How can I fix this problem? \r\n\r\nSharing my Login activity as reference code:-\r\n\r\n        public class LoginActivity extends AppCompatActivity {\r\n        //view binding\r\n        private ActivityLoginBinding binding;\r\n    \r\n        //firebase auth\r\n        private FirebaseAuth firebaseAuth;\r\n    \r\n        //progress dialog\r\n        private ProgressDialog progressDialog;\r\n    \r\n        //actionBar\r\n        private ActionBar actionBar;\r\n    \r\n        private String email=&quot;&quot;, password=&quot;&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            binding = ActivityLoginBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            //Configure action bar, title\r\n            actionBar = getSupportActionBar();\r\n            if (actionBar != null) {\r\n                actionBar.setTitle(&quot;LogIn&quot;);\r\n            }\r\n    \r\n            //Configure progress dialog\r\n            progressDialog = new ProgressDialog(this);\r\n            progressDialog.setTitle(&quot;Please wait&quot;);\r\n            progressDialog.setMessage(&quot;Logging In&quot;);\r\n            progressDialog.setCanceledOnTouchOutside(false);\r\n    \r\n            //Initialise firebase auth\r\n            firebaseAuth = FirebaseAuth.getInstance();\r\n            checkUser();\r\n    \r\n    \r\n            //if have account, SignUp\r\n            binding.haveAccountTv.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startActivity(new Intent(LoginActivity.this ,SignUpActivity.class));\r\n                    finish();\r\n                }\r\n            });\r\n    \r\n            binding.loginBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    validateData();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void checkUser() {\r\n            //check if user is already logged in\r\n            //get current user\r\n            //if already logged in, then open profile activity\r\n            FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\r\n            if(firebaseUser != null){\r\n                //user is already logged in\r\n                startActivity(new Intent(this, ProfileActivity.class));\r\n                finish();\r\n            }\r\n    \r\n        }\r\n    \r\n        //Method 1 : Validate User Data\r\n        private void validateData() {\r\n            String email = binding.emailEt.getText().toString().trim();\r\n            String password = binding.passwordEt.getText().toString().trim();\r\n    \r\n            if(TextUtils.isEmpty(email)){\r\n                binding.emailEt.setError(&quot;This field cannot be empty&quot;);\r\n            }\r\n            else if(!Patterns.EMAIL_ADDRESS.matcher(email).matches()){\r\n                binding.emailEt.setError(&quot;Invalid Email format&quot;);\r\n            }\r\n            else if(TextUtils.isEmpty(password)){\r\n                binding.passwordEt.setError(&quot;This field cannot be empty&quot;);\r\n            }\r\n            else if(password.length() &lt; 6){\r\n                binding.passwordEt.setError(&quot;Password must be atleast 6 characters long&quot;);\r\n            }\r\n            else {\r\n                //data is valid. Now continue to firebase LogIn.\r\n                firebaseLogIn();\r\n            }\r\n        }\r\n    \r\n        //Method 2 : Firebase Log in\r\n        private void firebaseLogIn(){\r\n            //show progress\r\n            progressDialog.show();\r\n    \r\n            firebaseAuth.signInWithEmailAndPassword(email,password).addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\r\n                @Override\r\n                public void onSuccess(AuthResult authResult) {\r\n                    //login success\r\n                    progressDialog.dismiss();\r\n                    //get user info\r\n                    FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\r\n                    String email = null;\r\n                    if (firebaseUser != null) {\r\n                        email = firebaseUser.getEmail();\r\n                    }\r\n                    Toast.makeText(LoginActivity.this, &quot;LoggedIn\\n&quot;+email, Toast.LENGTH_SHORT).show();\r\n                    //open profile activity\r\n                    startActivity(new Intent(LoginActivity.this, ProfileActivity.class));\r\n                    finish();\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    //login failed. get and show error message\r\n                    progressDialog.dismiss();\r\n                    Toast.makeText(LoginActivity.this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n\r\nAlso sharing the logcat below:-\r\n  \r\n\r\n    --------- beginning of crash\r\n    2022-01-27 09:48:19.063 4915-4915/com.jaswikventures.firebaseloginsignup E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.jaswikventures.firebaseloginsignup, PID: 4915\r\n        java.lang.IllegalArgumentException: Given String is empty or null\r\n            at com.google.android.gms.common.internal.Preconditions.checkNotEmpty(com.google.android.gms:play-services-basement@@18.0.0:2)\r\n            at com.google.firebase.auth.FirebaseAuth.signInWithEmailAndPassword(com.google.firebase:firebase-auth@@21.0.1:1)\r\n            at com.jaswikventures.firebaseloginsignup.LoginActivity.firebaseLogIn(LoginActivity.java:118)\r\n            at com.jaswikventures.firebaseloginsignup.LoginActivity.validateData(LoginActivity.java:109)\r\n            at com.jaswikventures.firebaseloginsignup.LoginActivity.access$000(LoginActivity.java:22)\r\n            at com.jaswikventures.firebaseloginsignup.LoginActivity$2.onClick(LoginActivity.java:72)\r\n            at android.view.View.performClick(View.java:7448)\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\r\n            at android.view.View.performClickInternal(View.java:7425)\r\n            at android.view.View.access$3600(View.java:810)\r\n            at android.view.View$PerformClick.run(View.java:28305)\r\n            at android.os.Handler.handleCallback(Handler.java:938)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n    2022-01-27 09:48:19.065 530-3813/? W/ActivityTaskManager:   Force finishing activity com.jaswikventures.firebaseloginsignup/.LoginActivity\r\n\r\n\r\nI thought covering below code with if statement would solve the problem but it didn&#39;t work.\r\n\r\n    String email = null;\r\n    if (firebaseUser != null) {\r\n        email = firebaseUser.getEmail();\r\n    }\r\n\r\n ","title":"Firebase Auth Login and Signup app crashes when button clicked","body":"<p>I am building a simple firebase login and signup application. It contains three activities, SignUp, LogIn and Profile activities. I have integrated Firebase, but the app crashes with an error when I click on either LogIn or SignUp button. I have gone through the entire forum looking for possible fix but couldn't find a right solution to fix my problem. How can I fix this problem?</p>\n<p>Sharing my Login activity as reference code:-</p>\n<pre><code>    public class LoginActivity extends AppCompatActivity {\n    //view binding\n    private ActivityLoginBinding binding;\n\n    //firebase auth\n    private FirebaseAuth firebaseAuth;\n\n    //progress dialog\n    private ProgressDialog progressDialog;\n\n    //actionBar\n    private ActionBar actionBar;\n\n    private String email=&quot;&quot;, password=&quot;&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityLoginBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        //Configure action bar, title\n        actionBar = getSupportActionBar();\n        if (actionBar != null) {\n            actionBar.setTitle(&quot;LogIn&quot;);\n        }\n\n        //Configure progress dialog\n        progressDialog = new ProgressDialog(this);\n        progressDialog.setTitle(&quot;Please wait&quot;);\n        progressDialog.setMessage(&quot;Logging In&quot;);\n        progressDialog.setCanceledOnTouchOutside(false);\n\n        //Initialise firebase auth\n        firebaseAuth = FirebaseAuth.getInstance();\n        checkUser();\n\n\n        //if have account, SignUp\n        binding.haveAccountTv.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(new Intent(LoginActivity.this ,SignUpActivity.class));\n                finish();\n            }\n        });\n\n        binding.loginBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                validateData();\n            }\n        });\n    }\n\n    private void checkUser() {\n        //check if user is already logged in\n        //get current user\n        //if already logged in, then open profile activity\n        FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\n        if(firebaseUser != null){\n            //user is already logged in\n            startActivity(new Intent(this, ProfileActivity.class));\n            finish();\n        }\n\n    }\n\n    //Method 1 : Validate User Data\n    private void validateData() {\n        String email = binding.emailEt.getText().toString().trim();\n        String password = binding.passwordEt.getText().toString().trim();\n\n        if(TextUtils.isEmpty(email)){\n            binding.emailEt.setError(&quot;This field cannot be empty&quot;);\n        }\n        else if(!Patterns.EMAIL_ADDRESS.matcher(email).matches()){\n            binding.emailEt.setError(&quot;Invalid Email format&quot;);\n        }\n        else if(TextUtils.isEmpty(password)){\n            binding.passwordEt.setError(&quot;This field cannot be empty&quot;);\n        }\n        else if(password.length() &lt; 6){\n            binding.passwordEt.setError(&quot;Password must be atleast 6 characters long&quot;);\n        }\n        else {\n            //data is valid. Now continue to firebase LogIn.\n            firebaseLogIn();\n        }\n    }\n\n    //Method 2 : Firebase Log in\n    private void firebaseLogIn(){\n        //show progress\n        progressDialog.show();\n\n        firebaseAuth.signInWithEmailAndPassword(email,password).addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\n            @Override\n            public void onSuccess(AuthResult authResult) {\n                //login success\n                progressDialog.dismiss();\n                //get user info\n                FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\n                String email = null;\n                if (firebaseUser != null) {\n                    email = firebaseUser.getEmail();\n                }\n                Toast.makeText(LoginActivity.this, &quot;LoggedIn\\n&quot;+email, Toast.LENGTH_SHORT).show();\n                //open profile activity\n                startActivity(new Intent(LoginActivity.this, ProfileActivity.class));\n                finish();\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                //login failed. get and show error message\n                progressDialog.dismiss();\n                Toast.makeText(LoginActivity.this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>Also sharing the logcat below:-</p>\n<pre><code>--------- beginning of crash\n2022-01-27 09:48:19.063 4915-4915/com.jaswikventures.firebaseloginsignup E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.jaswikventures.firebaseloginsignup, PID: 4915\n    java.lang.IllegalArgumentException: Given String is empty or null\n        at com.google.android.gms.common.internal.Preconditions.checkNotEmpty(com.google.android.gms:play-services-basement@@18.0.0:2)\n        at com.google.firebase.auth.FirebaseAuth.signInWithEmailAndPassword(com.google.firebase:firebase-auth@@21.0.1:1)\n        at com.jaswikventures.firebaseloginsignup.LoginActivity.firebaseLogIn(LoginActivity.java:118)\n        at com.jaswikventures.firebaseloginsignup.LoginActivity.validateData(LoginActivity.java:109)\n        at com.jaswikventures.firebaseloginsignup.LoginActivity.access$000(LoginActivity.java:22)\n        at com.jaswikventures.firebaseloginsignup.LoginActivity$2.onClick(LoginActivity.java:72)\n        at android.view.View.performClick(View.java:7448)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n2022-01-27 09:48:19.065 530-3813/? W/ActivityTaskManager:   Force finishing activity com.jaswikventures.firebaseloginsignup/.LoginActivity\n</code></pre>\n<p>I thought covering below code with if statement would solve the problem but it didn't work.</p>\n<pre><code>String email = null;\nif (firebaseUser != null) {\n    email = firebaseUser.getEmail();\n}\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643258681,"creation_date":1643258681,"answer_id":70873461,"question_id":70873163,"body_markdown":"There is no way to search for that `Always` key under all `CustomerBookedRooms` child nodes. \r\n\r\nYour current data model makes it easy to find all the rooms that a specific customer booked, but not all customers that booked a specific rooms.\r\n\r\nTo allow that use-case you will need to add another top-level data structure, which is essentially the opposite of your `CustomerBookedRooms` branch, mapping from each room back the customers that booked it.\r\n\r\n```\r\nRoomsToCustomer: {\r\n  &quot;Always&quot;: {\r\n    &quot;johnny123&quot;: true,\r\n    &quot;tjing123&quot;: true\r\n  },\r\n   &quot;The Nuts&quot;: {\r\n    &quot;tjing123&quot;: true\r\n  }\r\n}\r\n```\r\n\r\nWith this additional data structure, you can easily look up the customers for a given room id, and from that result then update them under the `CustomerBookedRooms` node.\r\n\r\nThis is pretty common when you have a bi-directional relationship in a NoSQL database, so I recommend checking out my answers to these related questions:\r\n\r\n* https://stackoverflow.com/questions/41527058/many-to-many-relationship-in-firebase\r\n* https://stackoverflow.com/questions/40656589/firebase-query-if-child-of-child-contains-a-value\r\n* https://stackoverflow.com/questions/27207059/firebase-query-double-nested","title":"Making sure the data is similar at different tables","body":"<p>There is no way to search for that <code>Always</code> key under all <code>CustomerBookedRooms</code> child nodes.</p>\n<p>Your current data model makes it easy to find all the rooms that a specific customer booked, but not all customers that booked a specific rooms.</p>\n<p>To allow that use-case you will need to add another top-level data structure, which is essentially the opposite of your <code>CustomerBookedRooms</code> branch, mapping from each room back the customers that booked it.</p>\n<pre><code>RoomsToCustomer: {\n  &quot;Always&quot;: {\n    &quot;johnny123&quot;: true,\n    &quot;tjing123&quot;: true\n  },\n   &quot;The Nuts&quot;: {\n    &quot;tjing123&quot;: true\n  }\n}\n</code></pre>\n<p>With this additional data structure, you can easily look up the customers for a given room id, and from that result then update them under the <code>CustomerBookedRooms</code> node.</p>\n<p>This is pretty common when you have a bi-directional relationship in a NoSQL database, so I recommend checking out my answers to these related questions:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41527058/many-to-many-relationship-in-firebase\">Many to Many relationship in Firebase</a></li>\n<li><a href=\"https://stackoverflow.com/questions/40656589/firebase-query-if-child-of-child-contains-a-value\">Firebase query if child of child contains a value</a></li>\n<li><a href=\"https://stackoverflow.com/questions/27207059/firebase-query-double-nested\">Firebase Query Double Nested</a></li>\n</ul>\n"}],"owner":{"account_id":21091690,"reputation":103,"user_id":15503457,"display_name":"Raymond Jian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643258821,"creation_date":1643255883,"question_id":70873163,"body_markdown":"\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0qYE4.png\r\n\r\n\r\nHi i want to do something like, when theres is data changes within the &quot;Always&quot; under parent Rooms, those data changes must be simillar to respective customers child &quot;Always&quot;.\r\n\r\nIm not sure how to implement it as how to go through each of every child node of CUstomerBookedRooms which are those respective Customers then check if this customer have &quot;Always&quot; under their respective parents node.\r\n\r\nThis my JSON file:\r\n\r\n    {\r\n      &quot;Customer&quot; : {\r\n        &quot;johnny123&quot; : {\r\n          &quot;email&quot; : &quot;johnny@gmail.com&quot;,\r\n          &quot;fullname&quot; : &quot;johnny&quot;,\r\n          &quot;password&quot; : &quot;Abcbc12345&quot;,\r\n          &quot;username&quot; : &quot;johnny123&quot;\r\n        },\r\n        &quot;tjing123&quot; : {\r\n          &quot;email&quot; : &quot;jh@gmail.com&quot;,\r\n          &quot;fullname&quot; : &quot;JingHuan&quot;,\r\n          &quot;password&quot; : &quot;1&quot;,\r\n          &quot;username&quot; : &quot;tjing123&quot;\r\n        }\r\n      },\r\n      &quot;CustomerBookedRooms&quot; : {\r\n        &quot;johnny123&quot; : {\r\n          &quot;Always&quot; : {\r\n            &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F20476d50-0256-4637-a85f-88cfb0d49509%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A76555?alt=media&amp;token=9042d0c2-1203-48a9-85e0-66de5c30eb84&quot;,\r\n            &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n            &quot;roomcapacity&quot; : &quot;1 pax&quot;,\r\n            &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n            &quot;roomname&quot; : &quot;Always&quot;,\r\n            &quot;roomprice&quot; : &quot;588.00&quot;,\r\n            &quot;roomstatus&quot; : &quot;Available&quot;,\r\n            &quot;roomtype&quot; : &quot;Single Room&quot;,\r\n            &quot;username&quot; : &quot;johnny123&quot;\r\n          }\r\n        },\r\n        &quot;tjing123&quot; : {\r\n          &quot;Always&quot; : {\r\n            &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F20476d50-0256-4637-a85f-88cfb0d49509%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A76555?alt=media&amp;token=9042d0c2-1203-48a9-85e0-66de5c30eb84&quot;,\r\n            &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n            &quot;roomcapacity&quot; : &quot;1 pax&quot;,\r\n            &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n            &quot;roomname&quot; : &quot;Always&quot;,\r\n            &quot;roomprice&quot; : &quot;588.00&quot;,\r\n            &quot;roomstatus&quot; : &quot;Available&quot;,\r\n            &quot;roomtype&quot; : &quot;Single Room&quot;,\r\n            &quot;username&quot; : &quot;tjing123&quot;\r\n          },\r\n          &quot;The Nuts&quot; : {\r\n            &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2Fd0f0279a-121b-4747-bdf0-76c9e7bfb30c%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A76556?alt=media&amp;token=e234d404-adfd-4a64-b180-50408c90a823&quot;,\r\n            &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n            &quot;roomcapacity&quot; : &quot;2 pax&quot;,\r\n            &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n            &quot;roomname&quot; : &quot;The Nuts&quot;,\r\n            &quot;roomprice&quot; : &quot;258.00&quot;,\r\n            &quot;roomstatus&quot; : &quot;Available&quot;,\r\n            &quot;roomtype&quot; : &quot;Master Room&quot;,\r\n            &quot;username&quot; : &quot;tjing123&quot;\r\n          }\r\n        }\r\n      },\r\n      &quot;Rooms&quot; : {\r\n        &quot;Always&quot; : {\r\n          &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F20476d50-0256-4637-a85f-88cfb0d49509%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A76555?alt=media&amp;token=9042d0c2-1203-48a9-85e0-66de5c30eb84&quot;,\r\n          &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n          &quot;roomcapacity&quot; : &quot;1 pax&quot;,\r\n          &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n          &quot;roomid&quot; : &quot;1111&quot;,\r\n          &quot;roomname&quot; : &quot;Always&quot;,\r\n          &quot;roomprice&quot; : &quot;588.00&quot;,\r\n          &quot;roomstatus&quot; : &quot;Available&quot;,\r\n          &quot;roomtype&quot; : &quot;Single Room&quot;\r\n        },\r\n        &quot;HEHE&quot; : {\r\n          &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F36b436d2-0897-41a3-9d08-0ec48ec13a5d%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A25?alt=media&amp;token=2984d69a-b52c-4003-9adc-eb7556b97bf7&quot;,\r\n          &quot;roombedcounts&quot; : &quot;Three Beds&quot;,\r\n          &quot;roomcapacity&quot; : &quot;2 pax&quot;,\r\n          &quot;roomcharacteristics&quot; : &quot;Scenery View&quot;,\r\n          &quot;roomid&quot; : &quot;1111&quot;,\r\n          &quot;roomname&quot; : &quot;HEHE&quot;,\r\n          &quot;roomprice&quot; : &quot;399.00&quot;,\r\n          &quot;roomstatus&quot; : &quot;Unavailable&quot;,\r\n          &quot;roomtype&quot; : &quot;Master Room&quot;\r\n        },\r\n        &quot;Huan&amp;Jian&quot; : {\r\n          &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2Fd8ad8454-29b4-4a44-b2c0-4da584c0cf17%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A71334?alt=media&amp;token=0cbd8564-adbd-4a69-8bbb-4c0b8af1ab5c&quot;,\r\n          &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n          &quot;roomcapacity&quot; : &quot;2 pax&quot;,\r\n          &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n          &quot;roomid&quot; : &quot;1314&quot;,\r\n          &quot;roomname&quot; : &quot;Huan&amp;Jian&quot;,\r\n          &quot;roomprice&quot; : &quot;188.00&quot;,\r\n          &quot;roomstatus&quot; : &quot;Maintenance&quot;,\r\n          &quot;roomtype&quot; : &quot;Couple Room&quot;\r\n        },\r\n        &quot;Kokomi&quot; : {\r\n          &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F175ac041-af4d-4ffd-8b0f-0f04f3b293f5%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253Ab456c215-0536-4e05-8f77-616f83d36055%2FORIGINAL%2FNONE%2F1931479739?alt=media&amp;token=1cab4f94-929f-4f52-8a46-aa76c82a0848&quot;,\r\n          &quot;roombedcounts&quot; : &quot;Two Beds&quot;,\r\n          &quot;roomcapacity&quot; : &quot;2 pax&quot;,\r\n          &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n          &quot;roomid&quot; : &quot;5555&quot;,\r\n          &quot;roomname&quot; : &quot;Kokomi&quot;,\r\n          &quot;roomprice&quot; : &quot;499.00&quot;,\r\n          &quot;roomstatus&quot; : &quot;Maintenance&quot;,\r\n          &quot;roomtype&quot; : &quot;Couple Room&quot;\r\n        },\r\n        &quot;The Nuts&quot; : {\r\n          &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2Fd0f0279a-121b-4747-bdf0-76c9e7bfb30c%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A76556?alt=media&amp;token=e234d404-adfd-4a64-b180-50408c90a823&quot;,\r\n          &quot;roombedcounts&quot; : &quot;One Bed&quot;,\r\n          &quot;roomcapacity&quot; : &quot;2 pax&quot;,\r\n          &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\r\n          &quot;roomid&quot; : &quot;7272&quot;,\r\n          &quot;roomname&quot; : &quot;The Nuts&quot;,\r\n          &quot;roomprice&quot; : &quot;258.00&quot;,\r\n          &quot;roomstatus&quot; : &quot;Available&quot;,\r\n          &quot;roomtype&quot; : &quot;Master Room&quot;\r\n        }\r\n      },\r\n      &quot;Staff&quot; : {\r\n        &quot;tt&quot; : {\r\n          &quot;email&quot; : &quot;raymondting521@gmail.com&quot;,\r\n          &quot;fullname&quot; : &quot;raymondting&quot;,\r\n          &quot;password&quot; : &quot;1&quot;,\r\n          &quot;username&quot; : &quot;tt&quot;\r\n        }\r\n      }\r\n    }","title":"Making sure the data is similar at different tables","body":"<p><a href=\"https://i.stack.imgur.com/0qYE4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0qYE4.png\" alt=\"enter image description here\" /></a></p>\n<p>Hi i want to do something like, when theres is data changes within the &quot;Always&quot; under parent Rooms, those data changes must be simillar to respective customers child &quot;Always&quot;.</p>\n<p>Im not sure how to implement it as how to go through each of every child node of CUstomerBookedRooms which are those respective Customers then check if this customer have &quot;Always&quot; under their respective parents node.</p>\n<p>This my JSON file:</p>\n<pre><code>{\n  &quot;Customer&quot; : {\n    &quot;johnny123&quot; : {\n      &quot;email&quot; : &quot;johnny@gmail.com&quot;,\n      &quot;fullname&quot; : &quot;johnny&quot;,\n      &quot;password&quot; : &quot;Abcbc12345&quot;,\n      &quot;username&quot; : &quot;johnny123&quot;\n    },\n    &quot;tjing123&quot; : {\n      &quot;email&quot; : &quot;jh@gmail.com&quot;,\n      &quot;fullname&quot; : &quot;JingHuan&quot;,\n      &quot;password&quot; : &quot;1&quot;,\n      &quot;username&quot; : &quot;tjing123&quot;\n    }\n  },\n  &quot;CustomerBookedRooms&quot; : {\n    &quot;johnny123&quot; : {\n      &quot;Always&quot; : {\n        &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F20476d50-0256-4637-a85f-88cfb0d49509%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A76555?alt=media&amp;token=9042d0c2-1203-48a9-85e0-66de5c30eb84&quot;,\n        &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n        &quot;roomcapacity&quot; : &quot;1 pax&quot;,\n        &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n        &quot;roomname&quot; : &quot;Always&quot;,\n        &quot;roomprice&quot; : &quot;588.00&quot;,\n        &quot;roomstatus&quot; : &quot;Available&quot;,\n        &quot;roomtype&quot; : &quot;Single Room&quot;,\n        &quot;username&quot; : &quot;johnny123&quot;\n      }\n    },\n    &quot;tjing123&quot; : {\n      &quot;Always&quot; : {\n        &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F20476d50-0256-4637-a85f-88cfb0d49509%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A76555?alt=media&amp;token=9042d0c2-1203-48a9-85e0-66de5c30eb84&quot;,\n        &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n        &quot;roomcapacity&quot; : &quot;1 pax&quot;,\n        &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n        &quot;roomname&quot; : &quot;Always&quot;,\n        &quot;roomprice&quot; : &quot;588.00&quot;,\n        &quot;roomstatus&quot; : &quot;Available&quot;,\n        &quot;roomtype&quot; : &quot;Single Room&quot;,\n        &quot;username&quot; : &quot;tjing123&quot;\n      },\n      &quot;The Nuts&quot; : {\n        &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2Fd0f0279a-121b-4747-bdf0-76c9e7bfb30c%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A76556?alt=media&amp;token=e234d404-adfd-4a64-b180-50408c90a823&quot;,\n        &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n        &quot;roomcapacity&quot; : &quot;2 pax&quot;,\n        &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n        &quot;roomname&quot; : &quot;The Nuts&quot;,\n        &quot;roomprice&quot; : &quot;258.00&quot;,\n        &quot;roomstatus&quot; : &quot;Available&quot;,\n        &quot;roomtype&quot; : &quot;Master Room&quot;,\n        &quot;username&quot; : &quot;tjing123&quot;\n      }\n    }\n  },\n  &quot;Rooms&quot; : {\n    &quot;Always&quot; : {\n      &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F20476d50-0256-4637-a85f-88cfb0d49509%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A76555?alt=media&amp;token=9042d0c2-1203-48a9-85e0-66de5c30eb84&quot;,\n      &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n      &quot;roomcapacity&quot; : &quot;1 pax&quot;,\n      &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n      &quot;roomid&quot; : &quot;1111&quot;,\n      &quot;roomname&quot; : &quot;Always&quot;,\n      &quot;roomprice&quot; : &quot;588.00&quot;,\n      &quot;roomstatus&quot; : &quot;Available&quot;,\n      &quot;roomtype&quot; : &quot;Single Room&quot;\n    },\n    &quot;HEHE&quot; : {\n      &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F36b436d2-0897-41a3-9d08-0ec48ec13a5d%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A25?alt=media&amp;token=2984d69a-b52c-4003-9adc-eb7556b97bf7&quot;,\n      &quot;roombedcounts&quot; : &quot;Three Beds&quot;,\n      &quot;roomcapacity&quot; : &quot;2 pax&quot;,\n      &quot;roomcharacteristics&quot; : &quot;Scenery View&quot;,\n      &quot;roomid&quot; : &quot;1111&quot;,\n      &quot;roomname&quot; : &quot;HEHE&quot;,\n      &quot;roomprice&quot; : &quot;399.00&quot;,\n      &quot;roomstatus&quot; : &quot;Unavailable&quot;,\n      &quot;roomtype&quot; : &quot;Master Room&quot;\n    },\n    &quot;Huan&amp;Jian&quot; : {\n      &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2Fd8ad8454-29b4-4a44-b2c0-4da584c0cf17%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A71334?alt=media&amp;token=0cbd8564-adbd-4a69-8bbb-4c0b8af1ab5c&quot;,\n      &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n      &quot;roomcapacity&quot; : &quot;2 pax&quot;,\n      &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n      &quot;roomid&quot; : &quot;1314&quot;,\n      &quot;roomname&quot; : &quot;Huan&amp;Jian&quot;,\n      &quot;roomprice&quot; : &quot;188.00&quot;,\n      &quot;roomstatus&quot; : &quot;Maintenance&quot;,\n      &quot;roomtype&quot; : &quot;Couple Room&quot;\n    },\n    &quot;Kokomi&quot; : {\n      &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2F175ac041-af4d-4ffd-8b0f-0f04f3b293f5%2Fcontent%3A%2Fcom.google.android.apps.photos.contentprovider%2F0%2F1%2Fmediakey%253A%252Flocal%25253Ab456c215-0536-4e05-8f77-616f83d36055%2FORIGINAL%2FNONE%2F1931479739?alt=media&amp;token=1cab4f94-929f-4f52-8a46-aa76c82a0848&quot;,\n      &quot;roombedcounts&quot; : &quot;Two Beds&quot;,\n      &quot;roomcapacity&quot; : &quot;2 pax&quot;,\n      &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n      &quot;roomid&quot; : &quot;5555&quot;,\n      &quot;roomname&quot; : &quot;Kokomi&quot;,\n      &quot;roomprice&quot; : &quot;499.00&quot;,\n      &quot;roomstatus&quot; : &quot;Maintenance&quot;,\n      &quot;roomtype&quot; : &quot;Couple Room&quot;\n    },\n    &quot;The Nuts&quot; : {\n      &quot;imageUrl&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/finalyearprojectapplicat-8a301.appspot.com/o/RoomImageStorage%2Fd0f0279a-121b-4747-bdf0-76c9e7bfb30c%2Fcontent%3A%2Fcom.android.providers.media.documents%2Fdocument%2Fimage%253A76556?alt=media&amp;token=e234d404-adfd-4a64-b180-50408c90a823&quot;,\n      &quot;roombedcounts&quot; : &quot;One Bed&quot;,\n      &quot;roomcapacity&quot; : &quot;2 pax&quot;,\n      &quot;roomcharacteristics&quot; : &quot;Cozy&quot;,\n      &quot;roomid&quot; : &quot;7272&quot;,\n      &quot;roomname&quot; : &quot;The Nuts&quot;,\n      &quot;roomprice&quot; : &quot;258.00&quot;,\n      &quot;roomstatus&quot; : &quot;Available&quot;,\n      &quot;roomtype&quot; : &quot;Master Room&quot;\n    }\n  },\n  &quot;Staff&quot; : {\n    &quot;tt&quot; : {\n      &quot;email&quot; : &quot;raymondting521@gmail.com&quot;,\n      &quot;fullname&quot; : &quot;raymondting&quot;,\n      &quot;password&quot; : &quot;1&quot;,\n      &quot;username&quot; : &quot;tt&quot;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-functions","form-data"],"comments":[{"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"score":0,"creation_date":1642971058,"post_id":70826326,"comment_id":125209931,"body_markdown":"I can see that &quot;getQueryParameters()&quot; return correctly &quot;Map&lt;String, List&lt;String&gt;&gt;&quot; and not &quot;Map&lt;String, String&gt;&quot; because a parameter name can have many value but why &quot;getParts()&quot; return &quot;Map&lt;String, HttpPart&gt;&quot; and not &quot;Map&lt;String, List&lt;HttpPart&gt;&gt;&quot; ?","body":"I can see that &quot;getQueryParameters()&quot; return correctly &quot;Map&lt;String, List&lt;String&gt;&gt;&quot; and not &quot;Map&lt;String, String&gt;&quot; because a parameter name can have many value but why &quot;getParts()&quot; return &quot;Map&lt;String, HttpPart&gt;&quot; and not &quot;Map&lt;String, List&lt;HttpPart&gt;&gt;&quot; ?"},{"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"score":1,"creation_date":1643079924,"post_id":70826326,"comment_id":125239378,"body_markdown":"I don&#39;t see any issue with the functions-framework-api dependency. Can you also provide the complete stacktrace so we can isolate which code triggers the error? @elgsylvain85","body":"I don&#39;t see any issue with the functions-framework-api dependency. Can you also provide the complete stacktrace so we can isolate which code triggers the error? @elgsylvain85"},{"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"score":0,"creation_date":1643107846,"post_id":70826326,"comment_id":125246593,"body_markdown":"@CatherineO are you able to submit a &quot;form-data&quot; form with several files on the same parameter like this : curl --location --request POST &#39;http://localhost:8080/&#39; \\\n--form &#39;medias=@&quot;/file1.jpeg&quot;&#39; \\\n--form &#39;medias=@&quot;/file2.jpeg&quot;&#39;","body":"@CatherineO are you able to submit a &quot;form-data&quot; form with several files on the same parameter like this : curl --location --request POST &#39;<a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a>&#39; \\ --form &#39;medias=@&quot;/file1.jpeg&quot;&#39; \\ --form &#39;medias=@&quot;/file2.jpeg&quot;&#39;"},{"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"score":0,"creation_date":1643217138,"post_id":70826326,"comment_id":125282725,"body_markdown":"I was able to reproduce your issue and provided a workaround. I&#39;ve also posted my answer. @elgsylvain85","body":"I was able to reproduce your issue and provided a workaround. I&#39;ve also posted my answer. @elgsylvain85"}],"answers":[{"tags":[],"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643257784,"creation_date":1643215614,"answer_id":70867160,"question_id":70826326,"body_markdown":"As mentioned in this GCP [docs][1], you can process the data with a multipart/form-data content type by using the sample code below. \r\n \r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    for (HttpRequest.HttpPart httpPart : request.getParts().values()) {\r\n          String filename = httpPart.getFileName().orElse(null);\r\n          if (filename == null) {\r\n            continue;\r\n          }\r\n          \r\n          //do something here\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI&#39;ve done some tests using your scenario and tried manipulating the `getParts()` method using `java.util.stream.Collectors` to come up with a solution like `Map&lt;String, List&lt;HttpPart&gt;&gt;` but failed. It seems that it&#39;s not possible to use the same parameter key for each form-data. \r\n\r\nI also checked the source code of the `HttpRequest.getParts()` method and found out that it has its own way of collecting the stream from the form-data  that is failing when there&#39;s only a single key for each data as seen below:\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public Map&lt;String, HttpRequest.HttpPart&gt; getParts() {\r\n        String contentType = this.request.getContentType();\r\n        if (contentType == null || this.request.getContentType().startsWith(&quot;multipart/form-data&quot;))\r\n            throw new IllegalStateException(&quot;Content-Type must be multipart/form-data: &quot; + contentType);\r\n         try {\r\n             return (Map&lt;String, HttpRequest.HttpPart&gt;)this.request.getParts().stream().collect(Collectors.toMap(Part::getName, x -&gt; new HttpPartImpl(x)));\r\n         } catch (IOException e) {\r\n             throw new UncheckedIOException(e);\r\n         } catch (ServletException e) {\r\n             throw new RuntimeException(e.getMessage(), e);\r\n         }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nFinally, my suggestion is to use &quot;unique&quot; parameter key for each form-data. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    curl --location --request POST &#39;http://localhost:8080/&#39; --form &#39;medias[item]=@file1.jpeg&#39; --form &#39;medias[item1]=@file2.jpeg&#39;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n  [1]: https://cloud.google.com/functions/docs/writing/http#multipart_data\r\n  [2]: https://i.stack.imgur.com/nkmpa.png","title":"com.google.cloud.functions.HttpRequest instance does not support form-data with more than 1 file on the same field","body":"<p>As mentioned in this GCP <a href=\"https://cloud.google.com/functions/docs/writing/http#multipart_data\" rel=\"nofollow noreferrer\">docs</a>, you can process the data with a multipart/form-data content type by using the sample code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (HttpRequest.HttpPart httpPart : request.getParts().values()) {\n      String filename = httpPart.getFileName().orElse(null);\n      if (filename == null) {\n        continue;\n      }\n      \n      //do something here\n}\n</code></pre>\n<p>I've done some tests using your scenario and tried manipulating the <code>getParts()</code> method using <code>java.util.stream.Collectors</code> to come up with a solution like <code>Map&lt;String, List&lt;HttpPart&gt;&gt;</code> but failed. It seems that it's not possible to use the same parameter key for each form-data.</p>\n<p>I also checked the source code of the <code>HttpRequest.getParts()</code> method and found out that it has its own way of collecting the stream from the form-data  that is failing when there's only a single key for each data as seen below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;String, HttpRequest.HttpPart&gt; getParts() {\n    String contentType = this.request.getContentType();\n    if (contentType == null || this.request.getContentType().startsWith(&quot;multipart/form-data&quot;))\n        throw new IllegalStateException(&quot;Content-Type must be multipart/form-data: &quot; + contentType);\n     try {\n         return (Map&lt;String, HttpRequest.HttpPart&gt;)this.request.getParts().stream().collect(Collectors.toMap(Part::getName, x -&gt; new HttpPartImpl(x)));\n     } catch (IOException e) {\n         throw new UncheckedIOException(e);\n     } catch (ServletException e) {\n         throw new RuntimeException(e.getMessage(), e);\n     }\n}\n</code></pre>\n<p>Finally, my suggestion is to use &quot;unique&quot; parameter key for each form-data.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>curl --location --request POST 'http://localhost:8080/' --form 'medias[item]=@file1.jpeg' --form 'medias[item1]=@file2.jpeg'</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643257784,"creation_date":1642970052,"question_id":70826326,"body_markdown":"I am creating a `gcloud` *http* Cloud Function which must receive a &quot;**form-data**&quot; form with a &quot;**medias**&quot; field which can contain up to 3 files, here is the basic code:\r\n\r\ngcloud Java function :\r\n    \r\n    package functions;\r\n    \r\n    import com.google.cloud.functions.HttpFunction;\r\n    import com.google.cloud.functions.HttpRequest;\r\n    import com.google.cloud.functions.HttpResponse;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    \r\n    public class HelloWorld implements HttpFunction {\r\n      @Override\r\n      public void service(HttpRequest request, HttpResponse response)\r\n          throws IOException {\r\n        var parts = request.getParts();\r\n\r\n        parts.forEach(\r\n                (e1, e2) -&gt; {\r\n                    System.out.println(e1);\r\n                    System.out.println(e2.getFileName().get());\r\n                });\r\n\r\n\r\n      }\r\n    }\r\n\r\nMy simple request :\r\n\r\n    curl --location --request POST &#39;http://localhost:8080/&#39; \\\r\n    --form &#39;medias=@&quot;/file1.jpeg&quot;&#39; \\\r\n    --form &#39;medias=@&quot;/file2.jpeg&quot;&#39;\r\n\r\nOddly, `&quot;request.getParts();&quot;` returns a `&quot;Map&lt;String, HttpPart&gt;&quot;` and therefore I don&#39;t see how to retrieve multiple files of the same submitted parameter. In debugging, I get a nice:\r\n&gt;&quot;java.lang.IllegalStateException: Duplicate key medias (attempted merging values com.google.cloud.functions.invoker.http.HttpRequestImpl$HttpPartImpl@49e848cf \r\n\r\nand\r\n&gt;com.google.cloud.functions.invoker.http .HttpRequestImpl$HttpPartImpl@6d5d7015)&quot;\r\n\r\nThe same query works without problem with &quot;Springboot&quot; by specifying this as a parameter:\r\n\r\n    @RequestParam(value = &quot;medias&quot;, required = false) MultipartFile[] medias\r\nSo do you think it&#39;s a bug with this dependency?\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;functions-framework-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.4&lt;/version&gt;\r\n    \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"com.google.cloud.functions.HttpRequest instance does not support form-data with more than 1 file on the same field","body":"<p>I am creating a <code>gcloud</code> <em>http</em> Cloud Function which must receive a &quot;<strong>form-data</strong>&quot; form with a &quot;<strong>medias</strong>&quot; field which can contain up to 3 files, here is the basic code:</p>\n<p>gcloud Java function :</p>\n<pre><code>package functions;\n\nimport com.google.cloud.functions.HttpFunction;\nimport com.google.cloud.functions.HttpRequest;\nimport com.google.cloud.functions.HttpResponse;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\n\npublic class HelloWorld implements HttpFunction {\n  @Override\n  public void service(HttpRequest request, HttpResponse response)\n      throws IOException {\n    var parts = request.getParts();\n\n    parts.forEach(\n            (e1, e2) -&gt; {\n                System.out.println(e1);\n                System.out.println(e2.getFileName().get());\n            });\n\n\n  }\n}\n</code></pre>\n<p>My simple request :</p>\n<pre><code>curl --location --request POST 'http://localhost:8080/' \\\n--form 'medias=@&quot;/file1.jpeg&quot;' \\\n--form 'medias=@&quot;/file2.jpeg&quot;'\n</code></pre>\n<p>Oddly, <code>&quot;request.getParts();&quot;</code> returns a <code>&quot;Map&lt;String, HttpPart&gt;&quot;</code> and therefore I don't see how to retrieve multiple files of the same submitted parameter. In debugging, I get a nice:</p>\n<blockquote>\n<p>&quot;java.lang.IllegalStateException: Duplicate key medias (attempted merging values com.google.cloud.functions.invoker.http.HttpRequestImpl$HttpPartImpl@49e848cf</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>com.google.cloud.functions.invoker.http .HttpRequestImpl$HttpPartImpl@6d5d7015)&quot;</p>\n</blockquote>\n<p>The same query works without problem with &quot;Springboot&quot; by specifying this as a parameter:</p>\n<pre><code>@RequestParam(value = &quot;medias&quot;, required = false) MultipartFile[] medias\n</code></pre>\n<p>So do you think it's a bug with this dependency?</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\n    &lt;artifactId&gt;functions-framework-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.4&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","dictionary","jpa"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1643185500,"post_id":70860253,"comment_id":125269674,"body_markdown":"So forget the superficial difference of the working one using a variable `list`, the main difference is that the working one uses `OrderExtnTrans` But the failing one uses `OrderExtnAdd`.  Can you edit your question to show a bit more of these classes - and in particular show their `toDto` methods (especially if one is `static`)","body":"So forget the superficial difference of the working one using a variable <code>list</code>, the main difference is that the working one uses <code>OrderExtnTrans</code> But the failing one uses <code>OrderExtnAdd</code>.  Can you edit your question to show a bit more of these classes - and in particular show their <code>toDto</code> methods (especially if one is <code>static</code>)"},{"owner":{"account_id":6346113,"reputation":549,"user_id":4926622,"display_name":"Daniel Methner"},"score":0,"creation_date":1643185952,"post_id":70860253,"comment_id":125269843,"body_markdown":"@racraman sorry that was a copy paste error, they are the same class in the actual code. I will add more details later","body":"@racraman sorry that was a copy paste error, they are the same class in the actual code. I will add more details later"},{"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"score":0,"creation_date":1643186876,"post_id":70860253,"comment_id":125270145,"body_markdown":"What is the type of `dtoOrderExtnTransList` and what returns `getOrderExtnTransList()`?","body":"What is the type of <code>dtoOrderExtnTransList</code> and what returns <code>getOrderExtnTransList()</code>?"},{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1643187036,"post_id":70860253,"comment_id":125270190,"body_markdown":"can you edit your question to have a reproducible example we don&#39;t have the correct class and missing some method. I suspect that you have raw class and type can&#39;t be correctly infer.","body":"can you edit your question to have a reproducible example we don&#39;t have the correct class and missing some method. I suspect that you have raw class and type can&#39;t be correctly infer."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643187211,"post_id":70860253,"comment_id":125270238,"body_markdown":"Please show the `OrderType class`, thanks","body":"Please show the <code>OrderType class</code>, thanks"},{"owner":{"account_id":6346113,"reputation":549,"user_id":4926622,"display_name":"Daniel Methner"},"score":0,"creation_date":1643187445,"post_id":70860253,"comment_id":125270326,"body_markdown":"@SMA The OrderType class is shown in the post, its the &quot;Order&quot; Class, but as a type parameter.","body":"@SMA The OrderType class is shown in the post, its the &quot;Order&quot; Class, but as a type parameter."},{"owner":{"account_id":6346113,"reputation":549,"user_id":4926622,"display_name":"Daniel Methner"},"score":0,"creation_date":1643187472,"post_id":70860253,"comment_id":125270333,"body_markdown":"@JEY: Will do. For now I noticed the following:\nIf instead of OrderType I use &quot;Order&lt;DtoOrder&gt;&quot;, it works as well, but obviously throws errors elsewhere, because the signature of the constructor changed. I assume another approach would be to parameterise the method based on the the caller of the constructor or to parameterise the parent class DtoOrder to know the type of the child class, but there should be a better way?","body":"@JEY: Will do. For now I noticed the following: If instead of OrderType I use &quot;Order&lt;DtoOrder&gt;&quot;, it works as well, but obviously throws errors elsewhere, because the signature of the constructor changed. I assume another approach would be to parameterise the method based on the the caller of the constructor or to parameterise the parent class DtoOrder to know the type of the child class, but there should be a better way?"},{"owner":{"account_id":6346113,"reputation":549,"user_id":4926622,"display_name":"Daniel Methner"},"score":0,"creation_date":1643187519,"post_id":70860253,"comment_id":125270356,"body_markdown":"@Egor: private List&lt;DtoOrderExtnTrans&gt; dtoOrderExtnTransList; and public List&lt;OrderExtnTrans&gt; getOrderExtnTransList() {\n        return orderExtnTransList;\n    } keep in mind though, that the code works if getting the list before mapping it, just doing both in one call does not work","body":"@Egor: private List&lt;DtoOrderExtnTrans&gt; dtoOrderExtnTransList; and public List&lt;OrderExtnTrans&gt; getOrderExtnTransList() {         return orderExtnTransList;     } keep in mind though, that the code works if getting the list before mapping it, just doing both in one call does not work"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1643188310,"post_id":70860253,"comment_id":125270653,"body_markdown":"“ that the code works if getting the list before mapping it, just doing both in one call does not work” No, as I said above, simply creating a `list` variable is irrelevant.  You’ll see this for yourself if you take the working one and change that to “ doing both in one call”.   The error is in the difference in the other classes, so you need to show those.","body":"“ that the code works if getting the list before mapping it, just doing both in one call does not work” No, as I said above, simply creating a <code>list</code> variable is irrelevant.  You’ll see this for yourself if you take the working one and change that to “ doing both in one call”.   The error is in the difference in the other classes, so you need to show those."},{"owner":{"account_id":6346113,"reputation":549,"user_id":4926622,"display_name":"Daniel Methner"},"score":0,"creation_date":1643191495,"post_id":70860253,"comment_id":125271999,"body_markdown":"@racraman: they are the same class. I added a screenshot as &quot;proof&quot;. The screenshot shows the error in the one-liner, while the split works (as does the executing code).","body":"@racraman: they are the same class. I added a screenshot as &quot;proof&quot;. The screenshot shows the error in the one-liner, while the split works (as does the executing code)."}],"answers":[{"tags":[],"owner":{"account_id":6346113,"reputation":549,"user_id":4926622,"display_name":"Daniel Methner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643217102,"creation_date":1643217102,"answer_id":70867500,"question_id":70860253,"body_markdown":"One way to solve the issue is by parameterizing the ParentDTO Class with its own children. \r\n```\r\npublic class DtoOrderStex extends DtoOrder&lt;OrderStex, DtoOrderStex&gt; {\r\n\r\n\r\n    public DtoOrderStex(OrderStex orderStex) {\r\n        super(orderStex);\r\n    }\r\n\r\n    public DtoOrderStex() {\r\n    }\r\n}\r\n```\r\n\r\nThis raises the question: \r\nDoes this have any serious negative side effects, apart from the redundancy in the child classes?\r\nAnd why is that necessary in the first place, given that the class is already a child of its parent?\r\n","title":"Java map function throws non-static method compiler error","body":"<p>One way to solve the issue is by parameterizing the ParentDTO Class with its own children.</p>\n<pre><code>public class DtoOrderStex extends DtoOrder&lt;OrderStex, DtoOrderStex&gt; {\n\n\n    public DtoOrderStex(OrderStex orderStex) {\n        super(orderStex);\n    }\n\n    public DtoOrderStex() {\n    }\n}\n</code></pre>\n<p>This raises the question:\nDoes this have any serious negative side effects, apart from the redundancy in the child classes?\nAnd why is that necessary in the first place, given that the class is already a child of its parent?</p>\n"},{"tags":[],"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643257058,"creation_date":1643256626,"answer_id":70873247,"question_id":70860253,"body_markdown":"Thanks for an interesting question, that shows some unexpected behaviour, that is behaving according to spec.\r\n\r\nTL;DR (ie, the correct way of quickly and easily fixing this) is to add the **&lt;?&gt;** generic wildcard to Order in the DtoOrder class declaration, so :\r\n\r\n    public class DtoOrder&lt;OrderType extends Order&lt;?&gt;&gt; extends DtoEntity {\r\n\r\nThis will make the all-in-one-line way in the constructor work ​:\r\n\r\n    ​this.dtoOrderExtnTransList = orderType.getOrderExtnTransList().stream().map(OrderExtnTrans::toDto).collect(Collectors.toList());\r\n\r\nAs for why this is the fix, this is because you have defined Order as a Generic type :\r\n\r\n    public class Order&lt;DtoOrderType extends DtoOrder&gt; \r\n\r\nBy NOT specifying the generic type, you are declaring it (and therefore making `OrderType` as well) as a **raw-type**.\r\n\r\nGenerally we are used to `List&lt;SomeType&gt;` being generic, that at run-time undergoes type-erasure.  Further, that if we have old code like :\r\n\r\n    List myRawTypeVariable = new ArrayList();\r\n\r\nthat `myRawType` is a raw type, in that we can add any `Object` and only get `Object`s out.\r\n\r\nHowever, it turns out that (as you have discovered) raw types go further than that, and type-erasure has compile-time implications as well.\r\n\r\nThe Java Language Specification (JLS) says this (source : https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.8 )\r\n\r\n&gt; The type of a constructor (&#167;8.8), instance method (&#167;8.4, &#167;9.4), or\r\n&gt; non-static field (&#167;8.3) of a raw type C that is not inherited from its\r\n&gt; superclasses or superinterfaces is the raw type that corresponds to\r\n&gt; the erasure of its type in the generic declaration corresponding to C.\r\n\r\nNote that this is NOT limiting type erasure to ONLY those of the generic type;  The types of ALL instance methods get taken to their raw types !\r\n\r\nIn other words, by not specifying the generic type of `Order`, you are making `Order` a raw type - and therefore turning off all Generic type-checking for that class (except for methods, etc otherwise specified, from inheritance or interfaces).\r\n\r\nSo even though `getOrderExtnTransList()` is declared as returning a `List&lt;String&gt;`, because you are using `Order` as a raw-type, it&#39;s dropping the `&lt;String&gt;` generic and treating that method as simply returning a `List` (effectively a `List&lt;Object&gt;` ).\r\n\r\nYou can confirm this by trying to insert a `peek`, so :\r\n\r\n       ​this.dtoOrderExtnTransList = orderType.getOrderExtnTransList().stream().peek(s -&gt; s.\r\n\r\nthen try to do an auto-complete.   You&#39;ll find that the options are only the members for `Object`, not the `endsWith`, etc members for `String`. \r\n\r\nThis, in turn, means that when it hits `.map(OrderExtnTrans::toDto)`, instead of interpreting this for a `OrderExtnTrans` coming down the stream :\r\n\r\n     `.map(o -&gt; o.toDto())`, \r\n\r\nit thinks you mean\r\n\r\n      `.map(o -&gt; OrderExtnTrans.toDto(o))` \r\n\r\nwhich is what is appropriate for an `Object` coming down the stream - and that is why it complains about `toDto` being a non-static method.\r\n\r\nAs stated, the solution is to simply not treat `Order` as a raw-type, instead to make it generic by adding the &lt;?&gt; as above.","title":"Java map function throws non-static method compiler error","body":"<p>Thanks for an interesting question, that shows some unexpected behaviour, that is behaving according to spec.</p>\n<p>TL;DR (ie, the correct way of quickly and easily fixing this) is to add the <strong>&lt;?&gt;</strong> generic wildcard to Order in the DtoOrder class declaration, so :</p>\n<pre><code>public class DtoOrder&lt;OrderType extends Order&lt;?&gt;&gt; extends DtoEntity {\n</code></pre>\n<p>This will make the all-in-one-line way in the constructor work ​:</p>\n<pre><code>​this.dtoOrderExtnTransList = orderType.getOrderExtnTransList().stream().map(OrderExtnTrans::toDto).collect(Collectors.toList());\n</code></pre>\n<p>As for why this is the fix, this is because you have defined Order as a Generic type :</p>\n<pre><code>public class Order&lt;DtoOrderType extends DtoOrder&gt; \n</code></pre>\n<p>By NOT specifying the generic type, you are declaring it (and therefore making <code>OrderType</code> as well) as a <strong>raw-type</strong>.</p>\n<p>Generally we are used to <code>List&lt;SomeType&gt;</code> being generic, that at run-time undergoes type-erasure.  Further, that if we have old code like :</p>\n<pre><code>List myRawTypeVariable = new ArrayList();\n</code></pre>\n<p>that <code>myRawType</code> is a raw type, in that we can add any <code>Object</code> and only get <code>Object</code>s out.</p>\n<p>However, it turns out that (as you have discovered) raw types go further than that, and type-erasure has compile-time implications as well.</p>\n<p>The Java Language Specification (JLS) says this (source : <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.8\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.8</a> )</p>\n<blockquote>\n<p>The type of a constructor (§8.8), instance method (§8.4, §9.4), or\nnon-static field (§8.3) of a raw type C that is not inherited from its\nsuperclasses or superinterfaces is the raw type that corresponds to\nthe erasure of its type in the generic declaration corresponding to C.</p>\n</blockquote>\n<p>Note that this is NOT limiting type erasure to ONLY those of the generic type;  The types of ALL instance methods get taken to their raw types !</p>\n<p>In other words, by not specifying the generic type of <code>Order</code>, you are making <code>Order</code> a raw type - and therefore turning off all Generic type-checking for that class (except for methods, etc otherwise specified, from inheritance or interfaces).</p>\n<p>So even though <code>getOrderExtnTransList()</code> is declared as returning a <code>List&lt;String&gt;</code>, because you are using <code>Order</code> as a raw-type, it's dropping the <code>&lt;String&gt;</code> generic and treating that method as simply returning a <code>List</code> (effectively a <code>List&lt;Object&gt;</code> ).</p>\n<p>You can confirm this by trying to insert a <code>peek</code>, so :</p>\n<pre><code>   ​this.dtoOrderExtnTransList = orderType.getOrderExtnTransList().stream().peek(s -&gt; s.\n</code></pre>\n<p>then try to do an auto-complete.   You'll find that the options are only the members for <code>Object</code>, not the <code>endsWith</code>, etc members for <code>String</code>.</p>\n<p>This, in turn, means that when it hits <code>.map(OrderExtnTrans::toDto)</code>, instead of interpreting this for a <code>OrderExtnTrans</code> coming down the stream :</p>\n<pre><code> `.map(o -&gt; o.toDto())`, \n</code></pre>\n<p>it thinks you mean</p>\n<pre><code>  `.map(o -&gt; OrderExtnTrans.toDto(o))` \n</code></pre>\n<p>which is what is appropriate for an <code>Object</code> coming down the stream - and that is why it complains about <code>toDto</code> being a non-static method.</p>\n<p>As stated, the solution is to simply not treat <code>Order</code> as a raw-type, instead to make it generic by adding the &lt;?&gt; as above.</p>\n"}],"owner":{"account_id":6346113,"reputation":549,"user_id":4926622,"display_name":"Daniel Methner"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70873247,"answer_count":2,"score":6,"last_activity_date":1643257058,"creation_date":1643184589,"question_id":70860253,"body_markdown":"I have an odd problem, where I am struggling to understand the nature of &quot;static context&quot; in Java, despite the numerous SO questions regarding the topic. \r\n\r\n**TL;DR:**\r\n\r\nI have a design flaw, where ...\r\n\r\n**This works:**\r\n```\r\nList&lt;OrderExtnTrans&gt; list = orderType.getOrderExtnTransList();\r\nthis.dtoOrderExtnTransList = list.stream().map(OrderExtnTrans::toDto).collect(Collectors.toList());\r\n```\r\n\r\n**But this does not:**\r\n```\r\nthis.dtoOrderExtnTransList = orderType.getOrderExtnTransList().stream().map(OrderExtnTrans::toDto).collect(Collectors.toList());\r\n```\r\n\r\n[![Issue][1]][1]\r\nThe error shown in the second version is &quot;Non-static method cannot be referenced from a static context&quot;.\r\n\r\n**The long version:**\r\n\r\nObject Model: \r\nThe model consists of Business Type specific orders (eg. Stock exchange, payments), which inherit from a an order entity via an &quot;InheritanceType.JOINED&quot; inheritance strategy.\r\nThe parent order can be parameterized with the business type specific DTO object of that order, so for example DtoStockExchangeOrder. This is to enable, that JPA objects can be mapped to their DTO equivalent within the Entity, rather than in a service (which I did previously. It worked, but its &quot;less clean&quot;).\r\n\r\n**JPA Order:**\r\n```\r\n@Entity\r\n@Table(name = &quot;ORDER_BASE&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class Order&lt;DtoOrderType extends DtoOrder&gt; implements Serializable {\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;order&quot;, orphanRemoval = true)\r\n    private List&lt;OrderExtnTrans&gt; orderExtnTransList = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\n**JPA Order - Business Type specific example:**\r\n```\r\n@Entity\r\n@Table(name = &quot;ORDER_STEX&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class OrderStex extends Order&lt;DtoOrderStex&gt; implements Serializable {\r\n```\r\n\r\nLikewise, DTO orders follow the same pattern, where they can be parameterized with the business type specific JPA entity, to enable the relevant mapping:\r\n\r\n**DTO Order:**\r\n```\r\npublic class DtoOrder&lt;OrderType extends Order&gt; extends DtoEntity {\r\n```\r\n\r\n**DTO Order - Business Type Specific Example**\r\n```\r\npublic class DtoOrderStex extends DtoOrder&lt;OrderStex&gt; {\r\n```\r\n\r\nThe DTOEntity class it inherits from is just a &quot;wrapper&quot; class, consisting of an ID and a name.\r\n\r\nNow the tricky part: \r\nThe DTOOrder class has a constructor which populates the fields that are common to all business types, like the list of process status transitions, an order goes through in its life cycle (placed, cancelled, executed, etc..). Staying with the example of the process status transitions, these are also modelled as JPA entities in the database, with their corresponding DTO counterparts (likewise parameterized, that part works fine).\r\n\r\nHere the constructor:\r\n```\r\npublic DtoOrder(OrderType orderType) {\r\n    super(orderType);\r\n    // this is the part from above, which works (but it shows a warning: Unchecked assignment: &#39;java.util.List&#39; to &#39;java.util.List&lt;com.tradingvessel.core.persistence.model.OrderExtnTrans&gt;&#39; )\r\n    List&lt;OrderExtnTrans&gt; list = orderType.getOrderExtnTransList();\r\n    this.dtoOrderExtnTransList = list.stream().map(OrderExtnTrans::toDto).collect(Collectors.toList());\r\n    // this is how I would have expected it to work, but it does not, with the error shown above: &quot;Non-static method cannot be referenced from a static context&quot;\r\n    this.dtoOrderExtnTransList = orderType.getOrderExtnTransList().stream().map(OrderExtnTrans::toDto).collect(Collectors.toList());\r\n}\r\n```\r\n\r\nIf I comment out the non-working version, the application behaves as expected and throws no error, so &quot;logically&quot;, this works. But JAVA does not allow it as developed in the second version. \r\n\r\nIf instead of OrderType I use &quot;Order&lt;DtoOrder&gt;&quot;, it works as well, but obviously throws errors elsewhere, because the signature of the constructor changed. I assume another approach would be to parameterise the method based on the the caller of the constructor or to parameterise the parent class DtoOrder to know the type of the child class, but there should be a better way?\r\n\r\nWhat am I doing wrong, and why does the upper version work as expected?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cEY1t.png","title":"Java map function throws non-static method compiler error","body":"<p>I have an odd problem, where I am struggling to understand the nature of &quot;static context&quot; in Java, despite the numerous SO questions regarding the topic.</p>\n<p><strong>TL;DR:</strong></p>\n<p>I have a design flaw, where ...</p>\n<p><strong>This works:</strong></p>\n<pre><code>List&lt;OrderExtnTrans&gt; list = orderType.getOrderExtnTransList();\nthis.dtoOrderExtnTransList = list.stream().map(OrderExtnTrans::toDto).collect(Collectors.toList());\n</code></pre>\n<p><strong>But this does not:</strong></p>\n<pre><code>this.dtoOrderExtnTransList = orderType.getOrderExtnTransList().stream().map(OrderExtnTrans::toDto).collect(Collectors.toList());\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cEY1t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cEY1t.png\" alt=\"Issue\" /></a>\nThe error shown in the second version is &quot;Non-static method cannot be referenced from a static context&quot;.</p>\n<p><strong>The long version:</strong></p>\n<p>Object Model:\nThe model consists of Business Type specific orders (eg. Stock exchange, payments), which inherit from a an order entity via an &quot;InheritanceType.JOINED&quot; inheritance strategy.\nThe parent order can be parameterized with the business type specific DTO object of that order, so for example DtoStockExchangeOrder. This is to enable, that JPA objects can be mapped to their DTO equivalent within the Entity, rather than in a service (which I did previously. It worked, but its &quot;less clean&quot;).</p>\n<p><strong>JPA Order:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;ORDER_BASE&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class Order&lt;DtoOrderType extends DtoOrder&gt; implements Serializable {\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;order&quot;, orphanRemoval = true)\n    private List&lt;OrderExtnTrans&gt; orderExtnTransList = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p><strong>JPA Order - Business Type specific example:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;ORDER_STEX&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class OrderStex extends Order&lt;DtoOrderStex&gt; implements Serializable {\n</code></pre>\n<p>Likewise, DTO orders follow the same pattern, where they can be parameterized with the business type specific JPA entity, to enable the relevant mapping:</p>\n<p><strong>DTO Order:</strong></p>\n<pre><code>public class DtoOrder&lt;OrderType extends Order&gt; extends DtoEntity {\n</code></pre>\n<p><strong>DTO Order - Business Type Specific Example</strong></p>\n<pre><code>public class DtoOrderStex extends DtoOrder&lt;OrderStex&gt; {\n</code></pre>\n<p>The DTOEntity class it inherits from is just a &quot;wrapper&quot; class, consisting of an ID and a name.</p>\n<p>Now the tricky part:\nThe DTOOrder class has a constructor which populates the fields that are common to all business types, like the list of process status transitions, an order goes through in its life cycle (placed, cancelled, executed, etc..). Staying with the example of the process status transitions, these are also modelled as JPA entities in the database, with their corresponding DTO counterparts (likewise parameterized, that part works fine).</p>\n<p>Here the constructor:</p>\n<pre><code>public DtoOrder(OrderType orderType) {\n    super(orderType);\n    // this is the part from above, which works (but it shows a warning: Unchecked assignment: 'java.util.List' to 'java.util.List&lt;com.tradingvessel.core.persistence.model.OrderExtnTrans&gt;' )\n    List&lt;OrderExtnTrans&gt; list = orderType.getOrderExtnTransList();\n    this.dtoOrderExtnTransList = list.stream().map(OrderExtnTrans::toDto).collect(Collectors.toList());\n    // this is how I would have expected it to work, but it does not, with the error shown above: &quot;Non-static method cannot be referenced from a static context&quot;\n    this.dtoOrderExtnTransList = orderType.getOrderExtnTransList().stream().map(OrderExtnTrans::toDto).collect(Collectors.toList());\n}\n</code></pre>\n<p>If I comment out the non-working version, the application behaves as expected and throws no error, so &quot;logically&quot;, this works. But JAVA does not allow it as developed in the second version.</p>\n<p>If instead of OrderType I use &quot;Order&quot;, it works as well, but obviously throws errors elsewhere, because the signature of the constructor changed. I assume another approach would be to parameterise the method based on the the caller of the constructor or to parameterise the parent class DtoOrder to know the type of the child class, but there should be a better way?</p>\n<p>What am I doing wrong, and why does the upper version work as expected?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23280653,"reputation":15,"user_id":17364146,"display_name":"user17364146"},"score":0,"creation_date":1643252923,"post_id":70872854,"comment_id":125292676,"body_markdown":"for (int i=0;i&lt;answers.length;i++){\n            result[i]=[answers[i]];\n            } //this is where I&#39;m having issues","body":"for (int i=0;i&lt;answers.length;i++){             result[i]=[answers[i]];             } //this is where I&#39;m having issues"},{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1643253057,"post_id":70872854,"comment_id":125292696,"body_markdown":"why do you have triple stars in your code?","body":"why do you have triple stars in your code?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643253116,"post_id":70872854,"comment_id":125292706,"body_markdown":"`[answers[i]]` won&#39;t even compile. Please edit your question and include your actual code.","body":"<code>[answers[i]]</code> won&#39;t even compile. Please edit your question and include your actual code."},{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1643253247,"post_id":70872854,"comment_id":125292736,"body_markdown":"Why are you using nested loop when there is no need to use it. Please clarify your question. Your code is quite buggy","body":"Why are you using nested loop when there is no need to use it. Please clarify your question. Your code is quite buggy"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1643253369,"post_id":70872854,"comment_id":125292749,"body_markdown":"The logic is very confused.  Your first loop on `i` exits after the first iteration (with i=0), due to the break statement. You ask about options 0,1, ... and store the answer for each one in answers[0].  You should review that section to see what you&#39;re trying to accomplish.  I think you don&#39;t need the loop and you don&#39;t need `i`.","body":"The logic is very confused.  Your first loop on <code>i</code> exits after the first iteration (with i=0), due to the break statement. You ask about options 0,1, ... and store the answer for each one in answers[0].  You should review that section to see what you&#39;re trying to accomplish.  I think you don&#39;t need the loop and you don&#39;t need <code>i</code>."},{"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"score":0,"creation_date":1643253615,"post_id":70872854,"comment_id":125292792,"body_markdown":"I recommend making a 2D array of width 2. You could have all the first preferences in one row and the second preferences in second row. Like row one will have `{&quot;mild&quot;, &quot;tea&quot;, &quot;breakfast&quot;}` and row two will have `{&quot;spicy&quot;, &quot;coffee&quot;, &quot;lunch&quot;}`","body":"I recommend making a 2D array of width 2. You could have all the first preferences in one row and the second preferences in second row. Like row one will have <code>{&quot;mild&quot;, &quot;tea&quot;, &quot;breakfast&quot;}</code> and row two will have <code>{&quot;spicy&quot;, &quot;coffee&quot;, &quot;lunch&quot;}</code>"}],"answers":[{"tags":[],"owner":{"account_id":24067169,"reputation":1,"user_id":18043543,"display_name":"ottlite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643255860,"creation_date":1643253977,"answer_id":70872949,"question_id":70872854,"body_markdown":"Inside the loop, you continue assigning the result to the same index in the `answers` list, rather than assigning the result to another index for each input. Because you are not iterating anything, you don&#39;t even need the loop. Replace the entire `while` loop with the code below. Please upvote and accept answer if it solves/helps you with your problem.\r\n\r\n                System.out.println(&quot;Enter 0 for the preference on the left\\n&quot; +\r\n                    &quot;Enter 1 for the preference on the right&quot;);\r\n                System.out.println(&quot;Do you prefer &quot; + options[0] + &quot;?&quot;);\r\n                answers[0] = scanner.nextInt();\r\n                System.out.println(&quot;Do you prefer &quot; + options[1] + &quot;?&quot;);\r\n                answers[1] = scanner.nextInt();\r\n                System.out.println(&quot;Do you prefer &quot; + options[2] + &quot;?&quot;);\r\n                answers[2] = scanner.nextInt();\r\n                System.out.println(&quot;Do you prefer &quot; + options[3] + &quot;?&quot;);\r\n                answers[3] = scanner.nextInt();\r\n                System.out.println(&quot;Do you prefer &quot; + options[4] + &quot;?&quot;);\r\n                answers[4] = scanner.nextInt();\r\n\r\nAlso, please note this:\r\n\r\n    for (int i = 0; i &lt; answers.length; i++) {\r\n                result[i] = [answers[i]];\r\n            }\r\nwon&#39;t work. Instead of `result[i] = [answers[i]];`, do `result[i] = Integer.parseInt(answers.get(i))`.","title":"how to extract answers from for loop","body":"<p>Inside the loop, you continue assigning the result to the same index in the <code>answers</code> list, rather than assigning the result to another index for each input. Because you are not iterating anything, you don't even need the loop. Replace the entire <code>while</code> loop with the code below. Please upvote and accept answer if it solves/helps you with your problem.</p>\n<pre><code>            System.out.println(&quot;Enter 0 for the preference on the left\\n&quot; +\n                &quot;Enter 1 for the preference on the right&quot;);\n            System.out.println(&quot;Do you prefer &quot; + options[0] + &quot;?&quot;);\n            answers[0] = scanner.nextInt();\n            System.out.println(&quot;Do you prefer &quot; + options[1] + &quot;?&quot;);\n            answers[1] = scanner.nextInt();\n            System.out.println(&quot;Do you prefer &quot; + options[2] + &quot;?&quot;);\n            answers[2] = scanner.nextInt();\n            System.out.println(&quot;Do you prefer &quot; + options[3] + &quot;?&quot;);\n            answers[3] = scanner.nextInt();\n            System.out.println(&quot;Do you prefer &quot; + options[4] + &quot;?&quot;);\n            answers[4] = scanner.nextInt();\n</code></pre>\n<p>Also, please note this:</p>\n<pre><code>for (int i = 0; i &lt; answers.length; i++) {\n            result[i] = [answers[i]];\n        }\n</code></pre>\n<p>won't work. Instead of <code>result[i] = [answers[i]];</code>, do <code>result[i] = Integer.parseInt(answers.get(i))</code>.</p>\n"},{"tags":[],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643255544,"creation_date":1643254285,"answer_id":70872985,"question_id":70872854,"body_markdown":"To Fix Your Code\r\n----------------\r\n\r\nIn the first for-loop, you are supposed to loop through the `options` array. But somehow you unfold the loop within the loop body. To prevent the whole thing loop again, you `break` the loop immediately. To fix the first loop, write it like this instead. Properly loop through each element, no need to unfold it, no need to break it.\r\n\r\n    System.out.println(&quot;Enter 0 for the preference on the left\\n&quot; + &quot;Enter 1 for the preference on the right&quot;);\r\n    for (int i = 0; i &lt; options.length; i++) {\r\n        System.out.println(&quot;Do you prefer &quot; + options[i] + &quot;?&quot;);\r\n        answers[i] = scanner.nextInt();\r\n    }\r\n\r\nIn the second loop, you are supposed to retrieve the selected string from `answers` and write the string to `results`. Without modifying your data structure, this can be achieved by using `split(&quot; or &quot;)` on the option, which gives you an array of string which you can use the answer as index to access. Note that this does not prevent array index out of bound exception if user enter anything other than 0 or 1, which you should totally do, but is out of scope of this question.\r\n\r\n    for (int i = 0; i &lt; answers.length; i++) {\r\n        result[i] = options[i].split(&quot; or &quot;)[answers[i]] ;\r\n    }\r\n\r\nAnd there you go.\r\n\r\nTo Solve Your Task\r\n------------------\r\n\r\nAlternatively, redesigning the data structure and logic to get rid of the unnecessary string manipulation and comparison is more ideal. You don&#39;t even need the `result` and `answers` array, simply add up the user input will do (if the user follows your instruction)\r\n\r\n    int rslt = 0;\r\n    System.out.println(&quot;Enter 0 for the preference on the left\\n&quot; +\r\n            &quot;Enter 1 for the preference on the right&quot;);\r\n    for (int i = 0; i &lt; options.length; i++) {\r\n        System.out.println(&quot;Do you prefer &quot; + options[i] + &quot;?&quot;);\r\n        rslt += scanner.nextInt();\r\n    } ","title":"how to extract answers from for loop","body":"<h2>To Fix Your Code</h2>\n<p>In the first for-loop, you are supposed to loop through the <code>options</code> array. But somehow you unfold the loop within the loop body. To prevent the whole thing loop again, you <code>break</code> the loop immediately. To fix the first loop, write it like this instead. Properly loop through each element, no need to unfold it, no need to break it.</p>\n<pre><code>System.out.println(&quot;Enter 0 for the preference on the left\\n&quot; + &quot;Enter 1 for the preference on the right&quot;);\nfor (int i = 0; i &lt; options.length; i++) {\n    System.out.println(&quot;Do you prefer &quot; + options[i] + &quot;?&quot;);\n    answers[i] = scanner.nextInt();\n}\n</code></pre>\n<p>In the second loop, you are supposed to retrieve the selected string from <code>answers</code> and write the string to <code>results</code>. Without modifying your data structure, this can be achieved by using <code>split(&quot; or &quot;)</code> on the option, which gives you an array of string which you can use the answer as index to access. Note that this does not prevent array index out of bound exception if user enter anything other than 0 or 1, which you should totally do, but is out of scope of this question.</p>\n<pre><code>for (int i = 0; i &lt; answers.length; i++) {\n    result[i] = options[i].split(&quot; or &quot;)[answers[i]] ;\n}\n</code></pre>\n<p>And there you go.</p>\n<h2>To Solve Your Task</h2>\n<p>Alternatively, redesigning the data structure and logic to get rid of the unnecessary string manipulation and comparison is more ideal. You don't even need the <code>result</code> and <code>answers</code> array, simply add up the user input will do (if the user follows your instruction)</p>\n<pre><code>int rslt = 0;\nSystem.out.println(&quot;Enter 0 for the preference on the left\\n&quot; +\n        &quot;Enter 1 for the preference on the right&quot;);\nfor (int i = 0; i &lt; options.length; i++) {\n    System.out.println(&quot;Do you prefer &quot; + options[i] + &quot;?&quot;);\n    rslt += scanner.nextInt();\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643255155,"creation_date":1643254412,"answer_id":70873006,"question_id":70872854,"body_markdown":"I have modified your code according to my understanding of the code.\r\nIt works just exactly like you may have wanted.\r\n\r\n```\r\npackage module1.assignment;\r\nimport java.util.Scanner;\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String[][] options = {\r\n                {&quot;mild&quot;, &quot;spicy&quot;},\r\n                {&quot;tea&quot;, &quot;coffee&quot;},\r\n                {&quot;brunch&quot;, &quot;breakfast&quot;},\r\n                {&quot;summer&quot;, &quot;winter&quot;},\r\n                {&quot;plastic&quot;, &quot;paper&quot;}\r\n        };\r\n        int[] answers = new int[options.length];\r\n\r\n        do {\r\n            System.out.println(&quot;Enter 0 for the preference on the left\\n&quot; +\r\n                    &quot;Enter 1 for the preference on the right&quot;);\r\n            for (int i = 0; i &lt; options.length; i++) {\r\n                System.out.println(&quot;Do you prefer &quot; + options[i][0] +\r\n                        &quot; or &quot; + options[i][1] + &quot;?&quot;);\r\n                answers[i] = scanner.nextInt();\r\n            }\r\n\r\n            int result = getScore(answers);\r\n            if (result &lt; 3)\r\n                System.out.println(&quot;You prefer life to be calm and organized&quot;);\r\n            else if (result &gt; 3)\r\n                System.out.println(&quot;You prefer life to be spontaneous and active.&quot;);\r\n            else\r\n                System.out.println(&quot;You prefer a good balance in life&quot;);\r\n\r\n            System.out.println(&quot;Enter 0 to exit program or 1 to run again&quot;);\r\n        } while (scanner.nextInt() != 0);\r\n    }\r\n    static int getScore(int[] answers) {\r\n        int score = 0;\r\n        for (int answer : answers) if (answer == 1) score++;\r\n        return score;\r\n    }\r\n}\r\n```","title":"how to extract answers from for loop","body":"<p>I have modified your code according to my understanding of the code.\nIt works just exactly like you may have wanted.</p>\n<pre><code>package module1.assignment;\nimport java.util.Scanner;\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String[][] options = {\n                {&quot;mild&quot;, &quot;spicy&quot;},\n                {&quot;tea&quot;, &quot;coffee&quot;},\n                {&quot;brunch&quot;, &quot;breakfast&quot;},\n                {&quot;summer&quot;, &quot;winter&quot;},\n                {&quot;plastic&quot;, &quot;paper&quot;}\n        };\n        int[] answers = new int[options.length];\n\n        do {\n            System.out.println(&quot;Enter 0 for the preference on the left\\n&quot; +\n                    &quot;Enter 1 for the preference on the right&quot;);\n            for (int i = 0; i &lt; options.length; i++) {\n                System.out.println(&quot;Do you prefer &quot; + options[i][0] +\n                        &quot; or &quot; + options[i][1] + &quot;?&quot;);\n                answers[i] = scanner.nextInt();\n            }\n\n            int result = getScore(answers);\n            if (result &lt; 3)\n                System.out.println(&quot;You prefer life to be calm and organized&quot;);\n            else if (result &gt; 3)\n                System.out.println(&quot;You prefer life to be spontaneous and active.&quot;);\n            else\n                System.out.println(&quot;You prefer a good balance in life&quot;);\n\n            System.out.println(&quot;Enter 0 to exit program or 1 to run again&quot;);\n        } while (scanner.nextInt() != 0);\n    }\n    static int getScore(int[] answers) {\n        int score = 0;\n        for (int answer : answers) if (answer == 1) score++;\n        return score;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5965285,"reputation":21,"user_id":4689197,"display_name":"Kumar Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643256603,"creation_date":1643256603,"answer_id":70873243,"question_id":70872854,"body_markdown":"This is part causing the unexpected behaviour: `result[i] = [answers[i]];`\r\n\r\nFrom what I understood, you want to implement this:\r\n\r\n 1. For each option, store the user choice like 0 or 1, 0 for left, 1 for right\r\n 2. For each user choice, store the string value of the choice, i.e.,  for the 1st question if the user inputs 0, mild should be captured\r\n 3. Calculate scores by comparing string value of user input against a branching construct, switch case here\r\n\r\nThe problem is in step 2, the current code `result[i] = [answers[i]];` does not express this operation properly.\r\n\r\n`answers[i]` stores the user choice 0 or 1, step 1 operation. So to convert it to the corresponding choice in string step 2 operation, something like this should be done \r\n`(options[i].split(&quot; or &quot;))[answers[i]]`\r\n\r\nExplanation:\r\n\r\n 1. Pick up the complete string for each answer\r\n 2. Divide the string into two parts(array with 2 indexes 0 and 1), left and right, using a delimiter, &quot; or &quot; in this case\r\n 3. pick up the left or right based on the value stored in answers[i](the user input)\r\n\r\nThis should let the code behave as expected :) \r\n\r\nThere are other aspects that can be improved in the code though, as others have already suggested.","title":"how to extract answers from for loop","body":"<p>This is part causing the unexpected behaviour: <code>result[i] = [answers[i]];</code></p>\n<p>From what I understood, you want to implement this:</p>\n<ol>\n<li>For each option, store the user choice like 0 or 1, 0 for left, 1 for right</li>\n<li>For each user choice, store the string value of the choice, i.e.,  for the 1st question if the user inputs 0, mild should be captured</li>\n<li>Calculate scores by comparing string value of user input against a branching construct, switch case here</li>\n</ol>\n<p>The problem is in step 2, the current code <code>result[i] = [answers[i]];</code> does not express this operation properly.</p>\n<p><code>answers[i]</code> stores the user choice 0 or 1, step 1 operation. So to convert it to the corresponding choice in string step 2 operation, something like this should be done\n<code>(options[i].split(&quot; or &quot;))[answers[i]]</code></p>\n<p>Explanation:</p>\n<ol>\n<li>Pick up the complete string for each answer</li>\n<li>Divide the string into two parts(array with 2 indexes 0 and 1), left and right, using a delimiter, &quot; or &quot; in this case</li>\n<li>pick up the left or right based on the value stored in answers[i](the user input)</li>\n</ol>\n<p>This should let the code behave as expected :)</p>\n<p>There are other aspects that can be improved in the code though, as others have already suggested.</p>\n"}],"owner":{"account_id":23280653,"reputation":15,"user_id":17364146,"display_name":"user17364146"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70873006,"answer_count":4,"score":0,"last_activity_date":1643256603,"creation_date":1643252903,"question_id":70872854,"body_markdown":"I can&#39;t figure out how to correctly write my for loop statement that will give me the correct score. I bolded the code that is what I can&#39;t figure out how to write correctly. Anytime I run my program I end up with the first result of (rslt &lt; 3) no matter what numbers I enter. \r\n\r\n    package module1.assignment;\r\n    import java.util.Scanner;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            String options[] = {\r\n                &quot;mild or spicy&quot;,\r\n                &quot;tea or coffee&quot;,\r\n                &quot;breakfast or &quot; +\r\n                &quot;brunch&quot;,\r\n                &quot;summer or winter&quot;,\r\n                &quot;paper or plastic&quot;\r\n            };\r\n            int answers[] = new int[options.length];\r\n            String result[] = new String[answers.length];\r\n            boolean bool = true;\r\n    \r\n            while (true) {\r\n                for (int i = 0; i &lt; options.length; i++) {\r\n                    System.out.println(&quot;Enter 0 for the preference on the left\\n&quot; +\r\n                        &quot;Enter 1 for the preference on the right&quot;);\r\n                    System.out.println(&quot;Do you prefer &quot; + options[i] + &quot;?&quot;);\r\n                    answers[i] = scanner.nextInt();\r\n                    System.out.println(&quot;Do you prefer &quot; + options[i + 1] + &quot;?&quot;);\r\n                    answers[i] = scanner.nextInt();\r\n                    System.out.println(&quot;Do you prefer &quot; + options[i + 2] + &quot;?&quot;);\r\n                    answers[i] = scanner.nextInt();\r\n                    System.out.println(&quot;Do you prefer &quot; + options[i + 3] + &quot;?&quot;);\r\n                    answers[i] = scanner.nextInt();\r\n                    System.out.println(&quot;Do you prefer &quot; + options[i + 4] + &quot;?&quot;);\r\n                    answers[i] = scanner.nextInt();\r\n                    break;\r\n                }\r\n                for (int i = 0; i &lt; answers.length; i++) {\r\n                    result[i] = [answers[i]];\r\n                }\r\n    \r\n                int rslt = getScore(result);\r\n                if (rslt &lt; 3)\r\n                    System.out.println(&quot;You prefer life to be calm and organized&quot;);\r\n                else if (rslt &gt; 3)\r\n                    System.out.println(&quot;You prefer life to be spontaneous and active.&quot;);\r\n                else\r\n                    System.out.println(&quot;You prefer a good balance in life&quot;);\r\n    \r\n                System.out.println(&quot;Enter 0 to exit program or 1 to run again&quot;);\r\n                int out = scanner.nextInt();\r\n    \r\n                if (out == 0)\r\n                    bool = false;\r\n                if (!bool)\r\n                    System.exit(0);\r\n            }\r\n        }\r\n        static int getScore(String[] result) {\r\n            int score = 0;\r\n    \r\n            for (int i = 0; i &lt; result.length; i++) {\r\n                switch (result[i]) {\r\n                    case &quot;spicy&quot;:\r\n                        score++;\r\n                        break;\r\n                    case &quot;coffee&quot;:\r\n                        score++;\r\n                        break;\r\n                    case &quot;breakfast&quot;:\r\n                        score++;\r\n                        break;\r\n                    case &quot;winter&quot;:\r\n                        score++;\r\n                        break;\r\n                    case &quot;paper&quot;:\r\n                        score++;\r\n                        break;\r\n                }\r\n            }\r\n            return score;\r\n        }\r\n    }\r\n\r\n","title":"how to extract answers from for loop","body":"<p>I can't figure out how to correctly write my for loop statement that will give me the correct score. I bolded the code that is what I can't figure out how to write correctly. Anytime I run my program I end up with the first result of (rslt &lt; 3) no matter what numbers I enter.</p>\n<pre><code>package module1.assignment;\nimport java.util.Scanner;\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String options[] = {\n            &quot;mild or spicy&quot;,\n            &quot;tea or coffee&quot;,\n            &quot;breakfast or &quot; +\n            &quot;brunch&quot;,\n            &quot;summer or winter&quot;,\n            &quot;paper or plastic&quot;\n        };\n        int answers[] = new int[options.length];\n        String result[] = new String[answers.length];\n        boolean bool = true;\n\n        while (true) {\n            for (int i = 0; i &lt; options.length; i++) {\n                System.out.println(&quot;Enter 0 for the preference on the left\\n&quot; +\n                    &quot;Enter 1 for the preference on the right&quot;);\n                System.out.println(&quot;Do you prefer &quot; + options[i] + &quot;?&quot;);\n                answers[i] = scanner.nextInt();\n                System.out.println(&quot;Do you prefer &quot; + options[i + 1] + &quot;?&quot;);\n                answers[i] = scanner.nextInt();\n                System.out.println(&quot;Do you prefer &quot; + options[i + 2] + &quot;?&quot;);\n                answers[i] = scanner.nextInt();\n                System.out.println(&quot;Do you prefer &quot; + options[i + 3] + &quot;?&quot;);\n                answers[i] = scanner.nextInt();\n                System.out.println(&quot;Do you prefer &quot; + options[i + 4] + &quot;?&quot;);\n                answers[i] = scanner.nextInt();\n                break;\n            }\n            for (int i = 0; i &lt; answers.length; i++) {\n                result[i] = [answers[i]];\n            }\n\n            int rslt = getScore(result);\n            if (rslt &lt; 3)\n                System.out.println(&quot;You prefer life to be calm and organized&quot;);\n            else if (rslt &gt; 3)\n                System.out.println(&quot;You prefer life to be spontaneous and active.&quot;);\n            else\n                System.out.println(&quot;You prefer a good balance in life&quot;);\n\n            System.out.println(&quot;Enter 0 to exit program or 1 to run again&quot;);\n            int out = scanner.nextInt();\n\n            if (out == 0)\n                bool = false;\n            if (!bool)\n                System.exit(0);\n        }\n    }\n    static int getScore(String[] result) {\n        int score = 0;\n\n        for (int i = 0; i &lt; result.length; i++) {\n            switch (result[i]) {\n                case &quot;spicy&quot;:\n                    score++;\n                    break;\n                case &quot;coffee&quot;:\n                    score++;\n                    break;\n                case &quot;breakfast&quot;:\n                    score++;\n                    break;\n                case &quot;winter&quot;:\n                    score++;\n                    break;\n                case &quot;paper&quot;:\n                    score++;\n                    break;\n            }\n        }\n        return score;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","pdf"],"answers":[{"tags":[],"owner":{"account_id":16083136,"reputation":1360,"user_id":12056368,"display_name":"Apps Maven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643256107,"creation_date":1643256107,"answer_id":70873185,"question_id":70823181,"body_markdown":"In order to get pdf file content you can make use of itext library.\r\n\r\n    implementation &#39;com.itextpdf:itextg:5.5.10&#39;\r\n\r\nThis library will help you to fetch the content of any  pdf document. Please follow the below code for reference\r\n\r\n    try {\r\n          String text=&quot;&quot;;\r\n          PdfReader reader = new PdfReader(&quot;pdf file path&quot;);\r\n          int n = reader.getNumberOfPages();\r\n          for (int i = 0; i &lt;n ; i++) {\r\n               text= text+PdfTextExtractor.getTextFromPage(reader, i+1).trim()+&quot;\\n&quot;; \r\n          }\r\n          System.out.println(text);\r\n          reader.close();\r\n       } catch (Exception e) {\r\n          System.out.println(e);\r\n    }\r\n\r\nat the end you will get pdf content as text and you can show it on screen.\r\n","title":"How to get the information of pdf file on storage in android device and display it on to the screen?","body":"<p>In order to get pdf file content you can make use of itext library.</p>\n<pre><code>implementation 'com.itextpdf:itextg:5.5.10'\n</code></pre>\n<p>This library will help you to fetch the content of any  pdf document. Please follow the below code for reference</p>\n<pre><code>try {\n      String text=&quot;&quot;;\n      PdfReader reader = new PdfReader(&quot;pdf file path&quot;);\n      int n = reader.getNumberOfPages();\n      for (int i = 0; i &lt;n ; i++) {\n           text= text+PdfTextExtractor.getTextFromPage(reader, i+1).trim()+&quot;\\n&quot;; \n      }\n      System.out.println(text);\n      reader.close();\n   } catch (Exception e) {\n      System.out.println(e);\n}\n</code></pre>\n<p>at the end you will get pdf content as text and you can show it on screen.</p>\n"}],"owner":{"display_name":"user17603594"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643256107,"creation_date":1642948926,"question_id":70823181,"body_markdown":"I am trying to get the information about the pdf files on my android 11 device and display it on my screen How can I do that?\r\nand also we could open the pdf file after clicking on it...\r\n\r\nLike this \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hRjAy.png\r\n\r\n","title":"How to get the information of pdf file on storage in android device and display it on to the screen?","body":"<p>I am trying to get the information about the pdf files on my android 11 device and display it on my screen How can I do that?\nand also we could open the pdf file after clicking on it...</p>\n<p>Like this</p>\n<p><a href=\"https://i.stack.imgur.com/hRjAy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hRjAy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":259413,"reputation":1853,"user_id":542271,"accept_rate":0,"display_name":"dmotta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1448377421,"creation_date":1448377421,"answer_id":33897025,"question_id":33896373,"body_markdown":"You must put Headers in your Message:\r\n\r\n    MessageProperties props = MessagePropertiesBuilder.newInstance().setContentType(MessageProperties.CONTENT_TYPE_JSON).build();\r\n    props.setHeader(&quot;headerKey1&quot;, &quot;headerValue1&quot;);\r\n    \r\n    Message msg = new Message(&quot;{&#39;body&#39;:&#39;value1&#39;,&#39;body2&#39;:value2}&quot;.getBytes(), props);\t\t\r\n    \t\t\r\n    rabbitTemplate.send(&quot;exchange.direct.one&quot;, new String(), msg);\r\n\r\nFor read the headers of Message inbound from Rabbit Queue: \r\n\r\n\t\r\n\r\n    import org.springframework.amqp.core.Message;\r\n    \timport org.springframework.amqp.core.MessageListener;\r\n    \t\r\n    \tpublic class MessagesHandler implements MessageListener {\r\n    \t\r\n    \t\tpublic void onMessage(Message message) {\r\n    \t\t\tMap&lt;String, Object&gt; headers = message.getMessageProperties().getHeaders();\r\n    \t\t\tfor (Map.Entry&lt;String, Object&gt; header : headers.entrySet())\r\n    \t\t\t{\r\n    \t\t\t    System.out.println(header.getKey() + &quot; : &quot; + header.getValue());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"How to read headers in RabbitMQ in Java?","body":"<p>You must put Headers in your Message:</p>\n\n<pre><code>MessageProperties props = MessagePropertiesBuilder.newInstance().setContentType(MessageProperties.CONTENT_TYPE_JSON).build();\nprops.setHeader(\"headerKey1\", \"headerValue1\");\n\nMessage msg = new Message(\"{'body':'value1','body2':value2}\".getBytes(), props);        \n\nrabbitTemplate.send(\"exchange.direct.one\", new String(), msg);\n</code></pre>\n\n<p>For read the headers of Message inbound from Rabbit Queue: </p>\n\n<pre><code>import org.springframework.amqp.core.Message;\n    import org.springframework.amqp.core.MessageListener;\n\n    public class MessagesHandler implements MessageListener {\n\n        public void onMessage(Message message) {\n            Map&lt;String, Object&gt; headers = message.getMessageProperties().getHeaders();\n            for (Map.Entry&lt;String, Object&gt; header : headers.entrySet())\n            {\n                System.out.println(header.getKey() + \" : \" + header.getValue());\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480916214,"creation_date":1480916214,"answer_id":40967713,"question_id":33896373,"body_markdown":"That&#39;s how I&#39;ve been able to do it, I am casting to LongString and then convert to String :\r\n\r\n    protected String extractCorrelationIdFromHeaders(AMQP.BasicProperties properties) throws UnsupportedEncodingException {\r\n\r\n        String decodedCorrelationId=null;\r\n\r\n        if(properties.getHeaders() != null) {\r\n\r\n            try {\r\n                Object rawCorrelationId = properties.getHeaders().get(CORRELATION_ID_KEY);\r\n\r\n                if(rawCorrelationId==null){\r\n                    log.info(&quot;no correlationId provided in headers&quot;);\r\n                    return null;\r\n                }\r\n\r\n                byte[] correlationIdAsByteArray = ((LongString) rawCorrelationId).getBytes();\r\n\r\n                decodedCorrelationId = new String(correlationIdAsByteArray, &quot;UTF-8&quot;);\r\n            }\r\n            catch(UnsupportedEncodingException e){\r\n                log.warn(&quot;extracted correlationId, but unable to decode it&quot;,e);\r\n            }\r\n        }\r\n\r\n        return decodedCorrelationId;\r\n    }\r\n\r\n\r\nStrangely enough,  I feel it&#39;s not very well documented out there. Hope this helps !","title":"How to read headers in RabbitMQ in Java?","body":"<p>That's how I've been able to do it, I am casting to LongString and then convert to String :</p>\n\n<pre><code>protected String extractCorrelationIdFromHeaders(AMQP.BasicProperties properties) throws UnsupportedEncodingException {\n\n    String decodedCorrelationId=null;\n\n    if(properties.getHeaders() != null) {\n\n        try {\n            Object rawCorrelationId = properties.getHeaders().get(CORRELATION_ID_KEY);\n\n            if(rawCorrelationId==null){\n                log.info(\"no correlationId provided in headers\");\n                return null;\n            }\n\n            byte[] correlationIdAsByteArray = ((LongString) rawCorrelationId).getBytes();\n\n            decodedCorrelationId = new String(correlationIdAsByteArray, \"UTF-8\");\n        }\n        catch(UnsupportedEncodingException e){\n            log.warn(\"extracted correlationId, but unable to decode it\",e);\n        }\n    }\n\n    return decodedCorrelationId;\n}\n</code></pre>\n\n<p>Strangely enough,  I feel it's not very well documented out there. Hope this helps !</p>\n"},{"tags":[],"owner":{"account_id":1876517,"reputation":1209,"user_id":1697631,"display_name":"jmccure"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643255687,"creation_date":1643255687,"answer_id":70873137,"question_id":33896373,"body_markdown":"I just cast to LongString and the convert toString()\r\n\r\n\r\n    String header = &quot;foo&quot;;\r\n    \r\n    String value = ((LongString) message.getProps().getHeaders().get(header)).toString();\r\n\r\n","title":"How to read headers in RabbitMQ in Java?","body":"<p>I just cast to LongString and the convert toString()</p>\n<pre><code>String header = &quot;foo&quot;;\n\nString value = ((LongString) message.getProps().getHeaders().get(header)).toString();\n</code></pre>\n"}],"owner":{"account_id":557382,"reputation":804,"user_id":919801,"accept_rate":54,"display_name":"korda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9569,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1643255687,"creation_date":1448375743,"question_id":33896373,"body_markdown":"I have some properties that I would like to read from previously set message headers. I did this:\r\n\r\n     Delivery delivery = consumer.nextDelivery();\r\n     Map&lt;String, Object&gt; headers = delivery.getProperties().getHeaders();\r\n\r\nProblem is, headers have weird types - like LongString for example. Is there any helper class that would allow me to easily convert headers to anything more useful?","title":"How to read headers in RabbitMQ in Java?","body":"<p>I have some properties that I would like to read from previously set message headers. I did this:</p>\n\n<pre><code> Delivery delivery = consumer.nextDelivery();\n Map&lt;String, Object&gt; headers = delivery.getProperties().getHeaders();\n</code></pre>\n\n<p>Problem is, headers have weird types - like LongString for example. Is there any helper class that would allow me to easily convert headers to anything more useful?</p>\n"},{"tags":["java","android","bluetooth-sco"],"answers":[{"tags":[],"owner":{"account_id":1797563,"reputation":196,"user_id":1636653,"display_name":"Immanuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643255578,"creation_date":1643255578,"answer_id":70873122,"question_id":70676346,"body_markdown":"I was able to figure it out. I did try it once before, but didn&#39;t work then. Not sure why. \r\n\r\nDocument reference [AudioManager#startBluetoothSco][1]\r\n\r\n```\r\npublic void TextToSpeechButton(View view) {\r\n\r\n        Bundle ttsBundle = new Bundle();\r\n        //Setting the stream to STREAM_VOICE_CALL was the key\r\n        ttsBundle.putInt(TextToSpeech.Engine.KEY_PARAM_STREAM, AudioManager.STREAM_VOICE_CALL);\r\n\r\n        textToSpeech.speak(editText.getText().toString(), TextToSpeech.QUEUE_FLUSH, ttsBundle, null);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/media/AudioManager#startBluetoothSco()","title":"Audio stops after startBluetoothSco in Android 11","body":"<p>I was able to figure it out. I did try it once before, but didn't work then. Not sure why.</p>\n<p>Document reference <a href=\"https://developer.android.com/reference/android/media/AudioManager#startBluetoothSco()\" rel=\"nofollow noreferrer\">AudioManager#startBluetoothSco</a></p>\n<pre><code>public void TextToSpeechButton(View view) {\n\n        Bundle ttsBundle = new Bundle();\n        //Setting the stream to STREAM_VOICE_CALL was the key\n        ttsBundle.putInt(TextToSpeech.Engine.KEY_PARAM_STREAM, AudioManager.STREAM_VOICE_CALL);\n\n        textToSpeech.speak(editText.getText().toString(), TextToSpeech.QUEUE_FLUSH, ttsBundle, null);\n    }\n</code></pre>\n"}],"owner":{"account_id":1797563,"reputation":196,"user_id":1636653,"display_name":"Immanuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643255578,"creation_date":1641961961,"question_id":70676346,"body_markdown":"The moment I bind an Android 11 device using startBluetoothSco I loose audio. It works fine till Android 10\r\n\r\nSample code I tried with below. \r\n\r\nAudio works as it should when i do not bind using startBluetoothSco.\r\nI also added queries tag in AndroidManifest.xml\r\n\r\n*android:name=&quot;android.intent.action.TTS_SERVICE&quot;*\r\n\r\nThat didn&#39;t help either!\r\n\r\n```\r\npackage com.example.ttssample;\r\n\r\nimport android.Manifest;\r\nimport android.bluetooth.BluetoothAdapter;\r\nimport android.bluetooth.BluetoothProfile;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.content.pm.PackageManager;\r\nimport android.media.AudioManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.speech.RecognitionListener;\r\nimport android.speech.RecognizerIntent;\r\nimport android.speech.SpeechRecognizer;\r\nimport android.speech.tts.TextToSpeech;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.Locale;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\tpublic static final Integer RecordAudioRequestCode = 1;\r\n\tIntent speechRecognizerIntent;\r\n\tprivate EditText         editText;\r\n\tprivate TextToSpeech     textToSpeech;\r\n\tprivate EditText         editText2;\r\n\tprivate SpeechRecognizer speechRecognizer;\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\r\n\t\tif (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n\t\t\tcheckPermission();\r\n\t\t}\r\n\r\n\t\teditText     = findViewById(R.id.editText);\r\n\t\ttextToSpeech = new TextToSpeech(getApplicationContext(), i -&gt; textToSpeech.setLanguage(Locale.ENGLISH));\r\n\r\n\t\teditText2              = findViewById(R.id.editTextRecord);\r\n\t\tspeechRecognizer       = SpeechRecognizer.createSpeechRecognizer(this);\r\n\t\tspeechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n\t\tspeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n\t\tspeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\r\n\t\tspeechRecognizer.setRecognitionListener(new RecognitionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onReadyForSpeech(Bundle bundle) {\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onBeginningOfSpeech() {\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onRmsChanged(float v) {\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onBufferReceived(byte[] bytes) {\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onEndOfSpeech() {\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onError(int i) {\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onResults(Bundle bundle) {\r\n\t\t\t\tArrayList&lt;String&gt; matches = bundle.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n\r\n\t\t\t\tif (matches != null)\r\n\t\t\t\t\teditText2.setText(matches.get(0));\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onPartialResults(Bundle bundle) {\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onEvent(int i, Bundle bundle) {\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfindViewById(R.id.btnRecord).setOnTouchListener(new View.OnTouchListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic boolean onTouch(View view, MotionEvent motionEvent) {\r\n\t\t\t\tswitch (motionEvent.getAction()) {\r\n\r\n\t\t\t\t\tcase MotionEvent.ACTION_UP:\r\n\t\t\t\t\t\tspeechRecognizer.stopListening();\r\n\t\t\t\t\t\teditText2.setHint(&quot;You will see the input here&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase MotionEvent.ACTION_DOWN:\r\n\t\t\t\t\t\teditText2.setText(&quot;&quot;);\r\n\t\t\t\t\t\teditText2.setHint(&quot;Listening...&quot;);\r\n\t\t\t\t\t\tspeechRecognizer.startListening(speechRecognizerIntent);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tprivate void checkPermission() {\r\n\t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n\t\t\tActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO}, RecordAudioRequestCode);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void TextToSpeechButton(View view) {\r\n\t\ttextToSpeech.speak(editText.getText().toString(), TextToSpeech.QUEUE_FLUSH, null, null);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\t\tsuper.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\t\tif (requestCode == RecordAudioRequestCode &amp;&amp; grantResults.length &gt; 0) {\r\n\t\t\tif (grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n\t\t\t\tToast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void doBind(View view) {\r\n\t\tredirectToBTHeadset();\r\n\t}\r\n\r\n\tprivate void redirectToBTHeadset() {\r\n\t\tfinal AudioManager localAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n\t\tif (localAudioManager.isBluetoothScoOn())\r\n\t\t\treturn;\r\n\t\tBluetoothAdapter btAdapter = BluetoothAdapter.getDefaultAdapter();\r\n\r\n\t\tif (btAdapter != null &amp;&amp; btAdapter.isEnabled() &amp;&amp; btAdapter.getProfileConnectionState(BluetoothProfile.HEADSET) == BluetoothProfile.STATE_CONNECTED) {\r\n\t\t\tif (localAudioManager.isBluetoothScoAvailableOffCall()) {\r\n\t\t\t\tBundle extrasBundle = registerReceiver(new BroadcastReceiver() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onReceive(Context context, Intent intent) {\r\n\t\t\t\t\t\tint conState = intent.getExtras().getInt(AudioManager.EXTRA_SCO_AUDIO_STATE);\r\n\t\t\t\t\t\tif (conState == AudioManager.SCO_AUDIO_STATE_CONNECTED) {\r\n\t\t\t\t\t\t\tlocalAudioManager.setBluetoothScoOn(true);\r\n\t\t\t\t\t\t\tcontext.unregisterReceiver(this);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (conState == AudioManager.SCO_AUDIO_STATE_CONNECTING) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Bluetooth Receiver :SCO Connecting....&quot;);\r\n\t\t\t\t\t\t\t} else if (conState == AudioManager.SCO_AUDIO_STATE_ERROR) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Bluetooth Receiver : SCO Error.&quot;);\r\n\t\t\t\t\t\t\t\tcontext.unregisterReceiver(this);\r\n\t\t\t\t\t\t\t} else if (conState == AudioManager.SCO_AUDIO_STATE_DISCONNECTED) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Bluetooth Receiver :SCO Disconnected&quot;);\r\n\t\t\t\t\t\t\t\tlocalAudioManager.setBluetoothScoOn(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, new IntentFilter(AudioManager.ACTION_SCO_AUDIO_STATE_UPDATED)).getExtras();\r\n\t\t\t\tIterator&lt;String&gt; iter = extrasBundle.keySet().iterator();\r\n\t\t\t\twhile (iter.hasNext()) {\r\n\t\t\t\t\tString key = iter.next();\r\n\t\t\t\t\tSystem.out.println(&quot;Bluetooth Receiver  Key :&quot; + key + &quot;, value: &quot; + extrasBundle.get(key));\r\n\t\t\t\t}\r\n\t\t\t\tif (extrasBundle.getInt(AudioManager.EXTRA_SCO_AUDIO_STATE) != 2) {\r\n\t\t\t\t\tlocalAudioManager.setMode(AudioManager.MODE_IN_CALL);\r\n\t\t\t\t\tlocalAudioManager.startBluetoothSco();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void doUnBind(View view) {\r\n\t\tstopBluetoothSco();\r\n\t}\r\n\r\n\tprivate void stopBluetoothSco() {\r\n\t\tSystem.out.println(&quot;stopBluetoothSco called&quot;);\r\n\t\tAudioManager localAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n\t\tlocalAudioManager.setMode(AudioManager.MODE_NORMAL);\r\n\t\tlocalAudioManager.setSpeakerphoneOn(true);\r\n\t\tlocalAudioManager.setBluetoothScoOn(false);\r\n\t\tlocalAudioManager.stopBluetoothSco();\r\n\t}\r\n}\r\n```\r\n\r\nactivity_main.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;120dp&quot;\r\n        android:layout_marginTop=&quot;60dp&quot;\r\n        android:onClick=&quot;TextToSpeechButton&quot;\r\n        android:text=&quot;@string/text_to_speech&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editText&quot;\r\n        android:layout_width=&quot;360dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;150dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:gravity=&quot;start|top&quot;\r\n        android:hint=&quot;@string/your_text_here&quot;\r\n        android:text=&quot;Hello&quot;\r\n        android:inputType=&quot;textMultiLine&quot;\r\n        android:autofillHints=&quot;&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextRecord&quot;\r\n        android:layout_width=&quot;360dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;300dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPersonName&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnRecord&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;120dp&quot;\r\n        android:layout_marginTop=&quot;400dp&quot;\r\n        android:text=&quot;Click to Record&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnBind&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;120dp&quot;\r\n        android:layout_marginTop=&quot;500dp&quot;\r\n        android:onClick=&quot;doBind&quot;\r\n        android:text=&quot;Bind&quot; /&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnUnBind&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;120dp&quot;\r\n        android:layout_marginTop=&quot;600dp&quot;\r\n        android:onClick=&quot;doUnBind&quot;\r\n        android:text=&quot;Unbind&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n```","title":"Audio stops after startBluetoothSco in Android 11","body":"<p>The moment I bind an Android 11 device using startBluetoothSco I loose audio. It works fine till Android 10</p>\n<p>Sample code I tried with below.</p>\n<p>Audio works as it should when i do not bind using startBluetoothSco.\nI also added queries tag in AndroidManifest.xml</p>\n<p><em>android:name=&quot;android.intent.action.TTS_SERVICE&quot;</em></p>\n<p>That didn't help either!</p>\n<pre><code>package com.example.ttssample;\n\nimport android.Manifest;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothProfile;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.content.pm.PackageManager;\nimport android.media.AudioManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.speech.RecognitionListener;\nimport android.speech.RecognizerIntent;\nimport android.speech.SpeechRecognizer;\nimport android.speech.tts.TextToSpeech;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n\n    public static final Integer RecordAudioRequestCode = 1;\n    Intent speechRecognizerIntent;\n    private EditText         editText;\n    private TextToSpeech     textToSpeech;\n    private EditText         editText2;\n    private SpeechRecognizer speechRecognizer;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n            checkPermission();\n        }\n\n        editText     = findViewById(R.id.editText);\n        textToSpeech = new TextToSpeech(getApplicationContext(), i -&gt; textToSpeech.setLanguage(Locale.ENGLISH));\n\n        editText2              = findViewById(R.id.editTextRecord);\n        speechRecognizer       = SpeechRecognizer.createSpeechRecognizer(this);\n        speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n        speechRecognizer.setRecognitionListener(new RecognitionListener() {\n            @Override\n            public void onReadyForSpeech(Bundle bundle) {\n\n            }\n\n            @Override\n            public void onBeginningOfSpeech() {\n\n            }\n\n            @Override\n            public void onRmsChanged(float v) {\n\n            }\n\n            @Override\n            public void onBufferReceived(byte[] bytes) {\n\n            }\n\n            @Override\n            public void onEndOfSpeech() {\n\n            }\n\n            @Override\n            public void onError(int i) {\n\n            }\n\n            @Override\n            public void onResults(Bundle bundle) {\n                ArrayList&lt;String&gt; matches = bundle.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n\n                if (matches != null)\n                    editText2.setText(matches.get(0));\n            }\n\n            @Override\n            public void onPartialResults(Bundle bundle) {\n\n            }\n\n            @Override\n            public void onEvent(int i, Bundle bundle) {\n\n            }\n        });\n\n        findViewById(R.id.btnRecord).setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View view, MotionEvent motionEvent) {\n                switch (motionEvent.getAction()) {\n\n                    case MotionEvent.ACTION_UP:\n                        speechRecognizer.stopListening();\n                        editText2.setHint(&quot;You will see the input here&quot;);\n                        break;\n\n                    case MotionEvent.ACTION_DOWN:\n                        editText2.setText(&quot;&quot;);\n                        editText2.setHint(&quot;Listening...&quot;);\n                        speechRecognizer.startListening(speechRecognizerIntent);\n                        break;\n                }\n                return false;\n            }\n        });\n\n    }\n\n    private void checkPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO}, RecordAudioRequestCode);\n        }\n    }\n\n    public void TextToSpeechButton(View view) {\n        textToSpeech.speak(editText.getText().toString(), TextToSpeech.QUEUE_FLUSH, null, null);\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == RecordAudioRequestCode &amp;&amp; grantResults.length &gt; 0) {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED)\n                Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    public void doBind(View view) {\n        redirectToBTHeadset();\n    }\n\n    private void redirectToBTHeadset() {\n        final AudioManager localAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n        if (localAudioManager.isBluetoothScoOn())\n            return;\n        BluetoothAdapter btAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        if (btAdapter != null &amp;&amp; btAdapter.isEnabled() &amp;&amp; btAdapter.getProfileConnectionState(BluetoothProfile.HEADSET) == BluetoothProfile.STATE_CONNECTED) {\n            if (localAudioManager.isBluetoothScoAvailableOffCall()) {\n                Bundle extrasBundle = registerReceiver(new BroadcastReceiver() {\n                    @Override\n                    public void onReceive(Context context, Intent intent) {\n                        int conState = intent.getExtras().getInt(AudioManager.EXTRA_SCO_AUDIO_STATE);\n                        if (conState == AudioManager.SCO_AUDIO_STATE_CONNECTED) {\n                            localAudioManager.setBluetoothScoOn(true);\n                            context.unregisterReceiver(this);\n                        } else {\n                            if (conState == AudioManager.SCO_AUDIO_STATE_CONNECTING) {\n                                System.out.println(&quot;Bluetooth Receiver :SCO Connecting....&quot;);\n                            } else if (conState == AudioManager.SCO_AUDIO_STATE_ERROR) {\n                                System.out.println(&quot;Bluetooth Receiver : SCO Error.&quot;);\n                                context.unregisterReceiver(this);\n                            } else if (conState == AudioManager.SCO_AUDIO_STATE_DISCONNECTED) {\n                                System.out.println(&quot;Bluetooth Receiver :SCO Disconnected&quot;);\n                                localAudioManager.setBluetoothScoOn(false);\n                            }\n                        }\n                    }\n                }, new IntentFilter(AudioManager.ACTION_SCO_AUDIO_STATE_UPDATED)).getExtras();\n                Iterator&lt;String&gt; iter = extrasBundle.keySet().iterator();\n                while (iter.hasNext()) {\n                    String key = iter.next();\n                    System.out.println(&quot;Bluetooth Receiver  Key :&quot; + key + &quot;, value: &quot; + extrasBundle.get(key));\n                }\n                if (extrasBundle.getInt(AudioManager.EXTRA_SCO_AUDIO_STATE) != 2) {\n                    localAudioManager.setMode(AudioManager.MODE_IN_CALL);\n                    localAudioManager.startBluetoothSco();\n                }\n            }\n        }\n    }\n\n    public void doUnBind(View view) {\n        stopBluetoothSco();\n    }\n\n    private void stopBluetoothSco() {\n        System.out.println(&quot;stopBluetoothSco called&quot;);\n        AudioManager localAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n        localAudioManager.setMode(AudioManager.MODE_NORMAL);\n        localAudioManager.setSpeakerphoneOn(true);\n        localAudioManager.setBluetoothScoOn(false);\n        localAudioManager.stopBluetoothSco();\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;120dp&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        android:onClick=&quot;TextToSpeechButton&quot;\n        android:text=&quot;@string/text_to_speech&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editText&quot;\n        android:layout_width=&quot;360dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;20dp&quot;\n        android:layout_marginTop=&quot;150dp&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;start|top&quot;\n        android:hint=&quot;@string/your_text_here&quot;\n        android:text=&quot;Hello&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        android:autofillHints=&quot;&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextRecord&quot;\n        android:layout_width=&quot;360dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;20dp&quot;\n        android:layout_marginTop=&quot;300dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnRecord&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;120dp&quot;\n        android:layout_marginTop=&quot;400dp&quot;\n        android:text=&quot;Click to Record&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnBind&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;120dp&quot;\n        android:layout_marginTop=&quot;500dp&quot;\n        android:onClick=&quot;doBind&quot;\n        android:text=&quot;Bind&quot; /&gt;\n    &lt;Button\n        android:id=&quot;@+id/btnUnBind&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;120dp&quot;\n        android:layout_marginTop=&quot;600dp&quot;\n        android:onClick=&quot;doUnBind&quot;\n        android:text=&quot;Unbind&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","macos","api","rest"],"comments":[{"owner":{"account_id":5807304,"reputation":1125,"user_id":6804134,"display_name":"Lazycoder-007"},"score":0,"creation_date":1591718419,"post_id":62285805,"comment_id":110159540,"body_markdown":"It seems, there is some issue in reading the jsonString. Please post the actual code to better debug your issue. Provide your jsonString and the actual you are usiong to parse it.","body":"It seems, there is some issue in reading the jsonString. Please post the actual code to better debug your issue. Provide your jsonString and the actual you are usiong to parse it."},{"owner":{"account_id":7092146,"reputation":91,"user_id":5427006,"display_name":"Bilbo"},"score":0,"creation_date":1591771093,"post_id":62285805,"comment_id":110178525,"body_markdown":"Dear 007,\nThanks 2 reply. This API is giving response for some users &amp; for some user it will throw an Exception (WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver:390 - Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is java.net.SocketTimeoutException).","body":"Dear 007, Thanks 2 reply. This API is giving response for some users &amp; for some user it will throw an Exception (WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver:390 - Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableExc&zwnj;&#8203;eption: I/O error while reading input message; nested exception is java.net.SocketTimeoutException)."},{"owner":{"account_id":5807304,"reputation":1125,"user_id":6804134,"display_name":"Lazycoder-007"},"score":0,"creation_date":1591771723,"post_id":62285805,"comment_id":110178813,"body_markdown":"I think few of the users are sending you wrong jsonString in the request.","body":"I think few of the users are sending you wrong jsonString in the request."},{"owner":{"account_id":7092146,"reputation":91,"user_id":5427006,"display_name":"Bilbo"},"score":0,"creation_date":1591784383,"post_id":62285805,"comment_id":110185260,"body_markdown":"Hey 007, I have posted the jsonString for the reference. All the users are sending the same jsonString but mostly Mac users are facing this issue and those who are working on windows getting the required response. Thanks Buddy for your helping hands. :)","body":"Hey 007, I have posted the jsonString for the reference. All the users are sending the same jsonString but mostly Mac users are facing this issue and those who are working on windows getting the required response. Thanks Buddy for your helping hands. :)"}],"owner":{"account_id":7092146,"reputation":91,"user_id":5427006,"display_name":"Bilbo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2789,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643255522,"creation_date":1591715517,"question_id":62285805,"body_markdown":"I have created an API to save an object in DB. whenever the hit comes to this API it gives correct response/output for some users but for some users (MACOS users) it gives an error mentioned below. I have tried a lot to resolve but still stuck init :\r\n\r\nthe request contains a data field which has a csv parsed data stringified. When someone adds a csv with more than 20 rows or csv size is more tan 500 kb the request doesn&#39;t goes through otherwise it does.\r\nAlso when running on local the api works fine.    \r\n```    \r\nDefaultHandlerExceptionResolver : Failed to read HTTP message: \r\norg.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; \r\nnested exception is java.net.SocketTimeoutException.\r\n\r\n```\r\n    \r\n**My code is:**\r\n\r\n         @PostMapping(&quot;/abc&quot;)\r\n        \tpublic ResponseEntity createObject(@RequestBody String jsonStr) throws Exception{\r\n        \t\tResponseEntity response = null;\r\n                ObjectMapper objectMapper = new ObjectMapper();\r\n        \t\tClassA abc = objectMapper.readValue(jsonStr, ClassA.class);\r\n    ....\r\n    ......\r\n    .......\r\n        \t\t}\r\n\r\n**Json that I am sending in a request is:**\r\n\r\n    {\r\n      &quot;userId&quot;: &quot;&quot;,\r\n      &quot;sessionId&quot;: &quot;&quot;,\r\n      &quot;inputValue&quot;: {\r\n        &quot;reqId&quot;: null,\r\n        &quot;viewId&quot;: null,\r\n        &quot;viewName&quot;: &quot;test&quot;,\r\n        &quot;viewPurpose&quot;: &quot;test&quot;,\r\n        &quot;viewDesc&quot;: &quot;test&quot;,\r\n        &quot;pastRun&quot;: null,\r\n        &quot;variable&quot;: &quot;&quot;,\r\n        &quot;criteria&quot;: &quot;&quot;,\r\n        &quot;selectVariables&quot;: [\r\n          &quot;column d&quot;\r\n        ],\r\n        &quot;setId&quot;: null,\r\n        &quot;queryId&quot;: null,\r\n        &quot;viewConfig&quot;: &quot;{\\&quot;rendererOptions\\&quot;:{\\&quot;localeStrings\\&quot;:{\\&quot;renderError\\&quot;:\\&quot;An error occurred rendering the PivotTable results.\\&quot;,\\&quot;computeError\\&quot;:\\&quot;An error occurred computing the PivotTable results.\\&quot;,\\&quot;uiRenderError\\&quot;:\\&quot;An error occurred rendering the PivotTable UI.\\&quot;,\\&quot;selectAll\\&quot;:\\&quot;Select All\\&quot;,\\&quot;selectNone\\&quot;:\\&quot;Select None\\&quot;,\\&quot;tooMany\\&quot;:\\&quot;(too many to list)\\&quot;,\\&quot;filterResults\\&quot;:\\&quot;Filter values\\&quot;,\\&quot;apply\\&quot;:\\&quot;Apply\\&quot;,\\&quot;cancel\\&quot;:\\&quot;Cancel\\&quot;,\\&quot;totals\\&quot;:\\&quot;Totals\\&quot;,\\&quot;vs\\&quot;:\\&quot;vs\\&quot;,\\&quot;by\\&quot;:\\&quot;by\\&quot;},\\&quot;plotly\\&quot;:{\\&quot;font\\&quot;:{\\&quot;size\\&quot;:10},\\&quot;width\\&quot;:420,\\&quot;height\\&quot;:300,\\&quot;showlegend\\&quot;:true,\\&quot;isEditable\\&quot;:false,\\&quot;gtitle\\&quot;:\\&quot;\\&quot;,\\&quot;xtitle\\&quot;:\\&quot;\\&quot;,\\&quot;ytitle\\&quot;:\\&quot;\\&quot;,\\&quot;lastUpdated\\&quot;:\\&quot;\\&quot;},\\&quot;venn\\&quot;:{\\&quot;isStaticVenn\\&quot;:false,\\&quot;vennFilteredVariable\\&quot;:[]}},\\&quot;localeStrings\\&quot;:{\\&quot;renderError\\&quot;:\\&quot;An error occurred rendering the PivotTable results.\\&quot;,\\&quot;computeError\\&quot;:\\&quot;An error occurred computing the PivotTable results.\\&quot;,\\&quot;uiRenderError\\&quot;:\\&quot;An error occurred rendering the PivotTable UI.\\&quot;,\\&quot;selectAll\\&quot;:\\&quot;Select All\\&quot;,\\&quot;selectNone\\&quot;:\\&quot;Select None\\&quot;,\\&quot;tooMany\\&quot;:\\&quot;(too many to list)\\&quot;,\\&quot;filterResults\\&quot;:\\&quot;Filter values\\&quot;,\\&quot;apply\\&quot;:\\&quot;Apply\\&quot;,\\&quot;cancel\\&quot;:\\&quot;Cancel\\&quot;,\\&quot;totals\\&quot;:\\&quot;Totals\\&quot;,\\&quot;vs\\&quot;:\\&quot;vs\\&quot;,\\&quot;by\\&quot;:\\&quot;by\\&quot;},\\&quot;derivedAttributes\\&quot;:{},\\&quot;hiddenAttributes\\&quot;:[],\\&quot;hiddenFromAggregators\\&quot;:[],\\&quot;hiddenFromDragDrop\\&quot;:[],\\&quot;menuLimit\\&quot;:500,\\&quot;cols\\&quot;:[\\&quot;column a \\&quot;],\\&quot;rows\\&quot;:[],\\&quot;vals\\&quot;:[],\\&quot;rowOrder\\&quot;:\\&quot;key_a_to_z\\&quot;,\\&quot;colOrder\\&quot;:\\&quot;key_a_to_z\\&quot;,\\&quot;labelOrder\\&quot;:\\&quot;key_a_to_z\\&quot;,\\&quot;exclusions\\&quot;:{},\\&quot;inclusions\\&quot;:{},\\&quot;unusedAttrsVertical\\&quot;:85,\\&quot;autoSortUnusedAttrs\\&quot;:false,\\&quot;showUI\\&quot;:false,\\&quot;slicers\\&quot;:[],\\&quot;slicerValues\\&quot;:[],\\&quot;singleSelectVariables\\&quot;:[],\\&quot;inputThresholds\\&quot;:[],\\&quot;percentCheckbox\\&quot;:false,\\&quot;percentAttribute\\&quot;:\\&quot;\\&quot;,\\&quot;sorters\\&quot;:{},\\&quot;rendererName\\&quot;:\\&quot;Bar Chart\\&quot;,\\&quot;inclusionsInfo\\&quot;:{},\\&quot;aggregatorName\\&quot;:\\&quot;Count\\&quot;,\\&quot;gtitle\\&quot;:\\&quot;\\&quot;,\\&quot;ytitle\\&quot;:\\&quot;\\&quot;,\\&quot;xtitle\\&quot;:\\&quot;\\&quot;}&quot;,\r\n        &quot;data&quot;: &quot;\\&quot;column a \\&quot;,column b,column c,column d,column e\\r\\nwwdw,wqwq,assa,dsdsad,ewwe\\r\\nqwqweq,wqwq,sa,sa,ewwe\\r\\nwq,wqwq,sa,dsa,ewwe\\r\\nwq,wqe,sa,ds,ewr\\r\\nwqwq,rew,sas,d,ewr\\r\\nwq,ret,aas,asa,wer\\r\\nwq,re,sa,das,ewr\\r\\nwq,asas,d,sa,ewr\\r\\nwq,gg,assa,dsa,erw\\r\\nwq,gr,d,sda,ew\\r\\nwq,rt,s,sda,wer\\r\\nwq,tr,sdsd,dsa,erw\\r\\nwq,trgtr,sdsd,dsa,ewrewr\\r\\nwq,tr,sdsd,dsaa,wer\\r\\nwq,dasa,sdsd,asdsda,ewr\\r\\nwq,saas,sdsd,dsa,ewr\\r\\nqwqweq,saas,sdsd,dsa,ewr\\r\\nwqqw,tr,sdsd,sdaa,ewr\\r\\new,rg,ds,dsa,ewr\\r\\nweqw,ref,sdsd,das,ew\\r\\nw,efew,sdsd,dsa,wer\\r\\nqq,few,sdsd,ads,wer\\r\\nwq,wef,ds,dsa,ewr\\r\\nweqw,wef,sdsd,dsa,wer\\r\\newqweq,ewr,sdsd,dsa,wer\\r\\new,etr,ds,dsa,werewr\\r\\ne,ty,sdsd,dsadsa,ew\\r\\nwq,yt,sdsd,dsa,ewr\\r\\nwqe,yt,sdsd,dsa,weerw\\r\\nweqewq,yt,sdsd,das,ew\\r\\nwqe,yt,sdsd,dsa,ew\\r\\nwq,trtrg,sdsd,dsa,ew\\r\\newqweq,trgtr,sdsd,sda,wer&quot;,\r\n        &quot;reportType&quot;: 0,\r\n        &quot;singleValue&quot;: false,\r\n        &quot;createdBy&quot;: &quot;abc&quot;,\r\n        &quot;createdDate&quot;: 1591782601097,\r\n        &quot;modifiedBy&quot;: &quot;xyz&quot;,\r\n        &quot;modifiedDate&quot;: 1591782601097\r\n      },\r\n      &quot;inputType&quot;: &quot;&quot;\r\n    }\r\n\r\n","title":"HttpMessageNotReadableException: I/O error while reading input message; nested exception is java.net.SocketTimeoutException","body":"<p>I have created an API to save an object in DB. whenever the hit comes to this API it gives correct response/output for some users but for some users (MACOS users) it gives an error mentioned below. I have tried a lot to resolve but still stuck init :</p>\n\n<p>the request contains a data field which has a csv parsed data stringified. When someone adds a csv with more than 20 rows or csv size is more tan 500 kb the request doesn't goes through otherwise it does.\nAlso when running on local the api works fine.    </p>\n\n<pre><code>DefaultHandlerExceptionResolver : Failed to read HTTP message: \norg.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; \nnested exception is java.net.SocketTimeoutException.\n\n</code></pre>\n\n<p><strong>My code is:</strong></p>\n\n<pre><code>     @PostMapping(\"/abc\")\n        public ResponseEntity createObject(@RequestBody String jsonStr) throws Exception{\n            ResponseEntity response = null;\n            ObjectMapper objectMapper = new ObjectMapper();\n            ClassA abc = objectMapper.readValue(jsonStr, ClassA.class);\n....\n......\n.......\n            }\n</code></pre>\n\n<p><strong>Json that I am sending in a request is:</strong></p>\n\n<pre><code>{\n  \"userId\": \"\",\n  \"sessionId\": \"\",\n  \"inputValue\": {\n    \"reqId\": null,\n    \"viewId\": null,\n    \"viewName\": \"test\",\n    \"viewPurpose\": \"test\",\n    \"viewDesc\": \"test\",\n    \"pastRun\": null,\n    \"variable\": \"\",\n    \"criteria\": \"\",\n    \"selectVariables\": [\n      \"column d\"\n    ],\n    \"setId\": null,\n    \"queryId\": null,\n    \"viewConfig\": \"{\\\"rendererOptions\\\":{\\\"localeStrings\\\":{\\\"renderError\\\":\\\"An error occurred rendering the PivotTable results.\\\",\\\"computeError\\\":\\\"An error occurred computing the PivotTable results.\\\",\\\"uiRenderError\\\":\\\"An error occurred rendering the PivotTable UI.\\\",\\\"selectAll\\\":\\\"Select All\\\",\\\"selectNone\\\":\\\"Select None\\\",\\\"tooMany\\\":\\\"(too many to list)\\\",\\\"filterResults\\\":\\\"Filter values\\\",\\\"apply\\\":\\\"Apply\\\",\\\"cancel\\\":\\\"Cancel\\\",\\\"totals\\\":\\\"Totals\\\",\\\"vs\\\":\\\"vs\\\",\\\"by\\\":\\\"by\\\"},\\\"plotly\\\":{\\\"font\\\":{\\\"size\\\":10},\\\"width\\\":420,\\\"height\\\":300,\\\"showlegend\\\":true,\\\"isEditable\\\":false,\\\"gtitle\\\":\\\"\\\",\\\"xtitle\\\":\\\"\\\",\\\"ytitle\\\":\\\"\\\",\\\"lastUpdated\\\":\\\"\\\"},\\\"venn\\\":{\\\"isStaticVenn\\\":false,\\\"vennFilteredVariable\\\":[]}},\\\"localeStrings\\\":{\\\"renderError\\\":\\\"An error occurred rendering the PivotTable results.\\\",\\\"computeError\\\":\\\"An error occurred computing the PivotTable results.\\\",\\\"uiRenderError\\\":\\\"An error occurred rendering the PivotTable UI.\\\",\\\"selectAll\\\":\\\"Select All\\\",\\\"selectNone\\\":\\\"Select None\\\",\\\"tooMany\\\":\\\"(too many to list)\\\",\\\"filterResults\\\":\\\"Filter values\\\",\\\"apply\\\":\\\"Apply\\\",\\\"cancel\\\":\\\"Cancel\\\",\\\"totals\\\":\\\"Totals\\\",\\\"vs\\\":\\\"vs\\\",\\\"by\\\":\\\"by\\\"},\\\"derivedAttributes\\\":{},\\\"hiddenAttributes\\\":[],\\\"hiddenFromAggregators\\\":[],\\\"hiddenFromDragDrop\\\":[],\\\"menuLimit\\\":500,\\\"cols\\\":[\\\"column a \\\"],\\\"rows\\\":[],\\\"vals\\\":[],\\\"rowOrder\\\":\\\"key_a_to_z\\\",\\\"colOrder\\\":\\\"key_a_to_z\\\",\\\"labelOrder\\\":\\\"key_a_to_z\\\",\\\"exclusions\\\":{},\\\"inclusions\\\":{},\\\"unusedAttrsVertical\\\":85,\\\"autoSortUnusedAttrs\\\":false,\\\"showUI\\\":false,\\\"slicers\\\":[],\\\"slicerValues\\\":[],\\\"singleSelectVariables\\\":[],\\\"inputThresholds\\\":[],\\\"percentCheckbox\\\":false,\\\"percentAttribute\\\":\\\"\\\",\\\"sorters\\\":{},\\\"rendererName\\\":\\\"Bar Chart\\\",\\\"inclusionsInfo\\\":{},\\\"aggregatorName\\\":\\\"Count\\\",\\\"gtitle\\\":\\\"\\\",\\\"ytitle\\\":\\\"\\\",\\\"xtitle\\\":\\\"\\\"}\",\n    \"data\": \"\\\"column a \\\",column b,column c,column d,column e\\r\\nwwdw,wqwq,assa,dsdsad,ewwe\\r\\nqwqweq,wqwq,sa,sa,ewwe\\r\\nwq,wqwq,sa,dsa,ewwe\\r\\nwq,wqe,sa,ds,ewr\\r\\nwqwq,rew,sas,d,ewr\\r\\nwq,ret,aas,asa,wer\\r\\nwq,re,sa,das,ewr\\r\\nwq,asas,d,sa,ewr\\r\\nwq,gg,assa,dsa,erw\\r\\nwq,gr,d,sda,ew\\r\\nwq,rt,s,sda,wer\\r\\nwq,tr,sdsd,dsa,erw\\r\\nwq,trgtr,sdsd,dsa,ewrewr\\r\\nwq,tr,sdsd,dsaa,wer\\r\\nwq,dasa,sdsd,asdsda,ewr\\r\\nwq,saas,sdsd,dsa,ewr\\r\\nqwqweq,saas,sdsd,dsa,ewr\\r\\nwqqw,tr,sdsd,sdaa,ewr\\r\\new,rg,ds,dsa,ewr\\r\\nweqw,ref,sdsd,das,ew\\r\\nw,efew,sdsd,dsa,wer\\r\\nqq,few,sdsd,ads,wer\\r\\nwq,wef,ds,dsa,ewr\\r\\nweqw,wef,sdsd,dsa,wer\\r\\newqweq,ewr,sdsd,dsa,wer\\r\\new,etr,ds,dsa,werewr\\r\\ne,ty,sdsd,dsadsa,ew\\r\\nwq,yt,sdsd,dsa,ewr\\r\\nwqe,yt,sdsd,dsa,weerw\\r\\nweqewq,yt,sdsd,das,ew\\r\\nwqe,yt,sdsd,dsa,ew\\r\\nwq,trtrg,sdsd,dsa,ew\\r\\newqweq,trgtr,sdsd,sda,wer\",\n    \"reportType\": 0,\n    \"singleValue\": false,\n    \"createdBy\": \"abc\",\n    \"createdDate\": 1591782601097,\n    \"modifiedBy\": \"xyz\",\n    \"modifiedDate\": 1591782601097\n  },\n  \"inputType\": \"\"\n}\n</code></pre>\n"},{"tags":["java","executorservice","completable-future","threadpoolexecutor"],"comments":[{"owner":{"account_id":11953108,"reputation":1423,"user_id":8746228,"display_name":"adarsh"},"score":1,"creation_date":1643201199,"post_id":70862874,"comment_id":125275508,"body_markdown":"Cannot think of other reason except all threads in the thread-pool are busy and the tasks that you cannot see are waiting to be executed. BTW, what&#39;s `executorService` (`FixedThreadPool`, `CachedThreadPool`)?","body":"Cannot think of other reason except all threads in the thread-pool are busy and the tasks that you cannot see are waiting to be executed. BTW, what&#39;s <code>executorService</code> (<code>FixedThreadPool</code>, <code>CachedThreadPool</code>)?"},{"owner":{"account_id":13815956,"reputation":36,"user_id":16095284,"display_name":"rajmachawal"},"score":0,"creation_date":1643202217,"post_id":70862874,"comment_id":125275891,"body_markdown":"@adarsh But still after many hours I dont see the log for the task that might been delayed. Its ThreadPoolExecutor with max pool of 50.","body":"@adarsh But still after many hours I dont see the log for the task that might been delayed. Its ThreadPoolExecutor with max pool of 50."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1643203539,"post_id":70862874,"comment_id":125276369,"body_markdown":"You should provide a [mre] as it won’t be possible for us to reproduce your issue in its current form.","body":"You should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as it won’t be possible for us to reproduce your issue in its current form."},{"owner":{"account_id":13815956,"reputation":36,"user_id":16095284,"display_name":"rajmachawal"},"score":0,"creation_date":1643254371,"post_id":70862874,"comment_id":125292915,"body_markdown":"@DidierL not sure what all other details can help you here, I have updated the question, pls let me know.","body":"@DidierL not sure what all other details can help you here, I have updated the question, pls let me know."},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1643278653,"post_id":70862874,"comment_id":125299122,"body_markdown":"Maybe some of the threads are blocked inside `execute`. Looking at a thread dumps might reveal some clues.","body":"Maybe some of the threads are blocked inside <code>execute</code>. Looking at a thread dumps might reveal some clues."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643280945,"post_id":70862874,"comment_id":125300083,"body_markdown":"Well, as currently the code provided is not sufficient to reproduce the problem, one can only guess what it could be, it’s not possible to try and debug it. Hence the need for a [mre].","body":"Well, as currently the code provided is not sufficient to reproduce the problem, one can only guess what it could be, it’s not possible to try and debug it. Hence the need for a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":13815956,"reputation":36,"user_id":16095284,"display_name":"rajmachawal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":790,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643254302,"creation_date":1643197314,"question_id":70862874,"body_markdown":"I am new to asynchronus coding in Java.\r\n\r\nThis is my code in spring boot application:\r\n```\r\npublic void func(String someString){\r\n       if(someString != null){\r\n            doAsync(someString);\r\n            publish(topic, someString);\r\n       }\r\n}\r\n\r\npublic void doAsync(String someString) {\r\n        log.info(&quot;Inside do Async&quot;);\r\n        CompletableFuture.runAsync(() -&gt; {\r\n            try {\r\n                execute(someString);\r\n            } catch (Throwable throwable) {\r\n                log.error(&quot;Error&quot;);\r\n            }\r\n        }, executorService);\r\n    }\r\n\r\nprivate void execute(String someString) {\r\n        try {\r\n            log.info(&quot;Inside Execute&quot;);\r\n            DBcall(someString);\r\n        } catch (Throwable e) {\r\n            log.info(&quot;Error&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nThe ```func()``` is being called around 200k times through an event in a Queue, In logs the log ```Inside do Async``` appeared for 200k times but the log ```Inside Execute``` appeared just for 195k times.\r\n\r\n\r\nI see no errors/exception occurred in this flow.\r\nWhy is it not running consistently for all 200k events? Am I missing something in the implementation?\r\n\r\nThe ```publish()``` function publishes the same message to another subscriber which is in the same service, there are some 10k-11k errors in that subscriber flow(null pointer error). Is error in this flow is main reason behind not executing all async call?","title":"CompletableFuture.runAsync not executing the number of times it was invoked","body":"<p>I am new to asynchronus coding in Java.</p>\n<p>This is my code in spring boot application:</p>\n<pre><code>public void func(String someString){\n       if(someString != null){\n            doAsync(someString);\n            publish(topic, someString);\n       }\n}\n\npublic void doAsync(String someString) {\n        log.info(&quot;Inside do Async&quot;);\n        CompletableFuture.runAsync(() -&gt; {\n            try {\n                execute(someString);\n            } catch (Throwable throwable) {\n                log.error(&quot;Error&quot;);\n            }\n        }, executorService);\n    }\n\nprivate void execute(String someString) {\n        try {\n            log.info(&quot;Inside Execute&quot;);\n            DBcall(someString);\n        } catch (Throwable e) {\n            log.info(&quot;Error&quot;);\n        }\n    }\n</code></pre>\n<p>The <code>func()</code> is being called around 200k times through an event in a Queue, In logs the log <code>Inside do Async</code> appeared for 200k times but the log <code>Inside Execute</code> appeared just for 195k times.</p>\n<p>I see no errors/exception occurred in this flow.\nWhy is it not running consistently for all 200k events? Am I missing something in the implementation?</p>\n<p>The <code>publish()</code> function publishes the same message to another subscriber which is in the same service, there are some 10k-11k errors in that subscriber flow(null pointer error). Is error in this flow is main reason behind not executing all async call?</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643268678,"post_id":70872873,"comment_id":125295603,"body_markdown":"No that is not correct, as tomcat is part of your application it is part of the load. This would be true for a non-embedded tomcat althouhg it wouldn&#39;t reduce the overall load on the tomcat server it could reduce the load on that specific application.","body":"No that is not correct, as tomcat is part of your application it is part of the load. This would be true for a non-embedded tomcat althouhg it wouldn&#39;t reduce the overall load on the tomcat server it could reduce the load on that specific application."},{"owner":{"account_id":23683798,"reputation":11,"user_id":17709024,"display_name":"Bernie.T"},"score":0,"creation_date":1643276016,"post_id":70872873,"comment_id":125298081,"body_markdown":"I&#39;m disapointed about that. But thank you @M.Deinum for your help.","body":"I&#39;m disapointed about that. But thank you @M.Deinum for your help."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643277506,"post_id":70872873,"comment_id":125298683,"body_markdown":"Why are you concerned with this anyway? Is it an issue? As this feels like a premature optimization for an issue that isn&#39;t really an issue. If you want to prevent certain URLs from passing through the security filter chain, there are configuration options for that. But what you are actually trying to achieve isn&#39;t very clear.","body":"Why are you concerned with this anyway? Is it an issue? As this feels like a premature optimization for an issue that isn&#39;t really an issue. If you want to prevent certain URLs from passing through the security filter chain, there are configuration options for that. But what you are actually trying to achieve isn&#39;t very clear."},{"owner":{"account_id":23683798,"reputation":11,"user_id":17709024,"display_name":"Bernie.T"},"score":0,"creation_date":1643351937,"post_id":70872873,"comment_id":125321420,"body_markdown":"What I want is just serve static file without web application, like Nginx or non-embedded tomcat can do. I&#39;ve tried the speed on getting images between embedded tomcat and nginx. Tomcat is a little bit slower. But yes, this is a premature optimization and I just want to know is there anything I am misunderstand about embedded tomcat.","body":"What I want is just serve static file without web application, like Nginx or non-embedded tomcat can do. I&#39;ve tried the speed on getting images between embedded tomcat and nginx. Tomcat is a little bit slower. But yes, this is a premature optimization and I just want to know is there anything I am misunderstand about embedded tomcat."}],"owner":{"account_id":23683798,"reputation":11,"user_id":17709024,"display_name":"Bernie.T"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643253130,"creation_date":1643253130,"question_id":70872873,"body_markdown":"I have a Spring Boot application with embedded Tomcat and a file directory with images. Can Tomcat serve these images without processed by Spring application?&lt;br&gt;\r\nI know I can set `spring.web.resources.static-locations` to custom resource directory, and I also permit the route for requesting resources. But every request still went through the filter in application. Is there any way to prevent these requests from entering the application, just processed by Tomcat?&lt;br&gt;\r\nBecause I suppose that the requests whithout processed by application can help me decrease the load for application. Is this correct?","title":"Can embedded Tomcat serve resources without spring application processing","body":"<p>I have a Spring Boot application with embedded Tomcat and a file directory with images. Can Tomcat serve these images without processed by Spring application?<br>\nI know I can set <code>spring.web.resources.static-locations</code> to custom resource directory, and I also permit the route for requesting resources. But every request still went through the filter in application. Is there any way to prevent these requests from entering the application, just processed by Tomcat?<br>\nBecause I suppose that the requests whithout processed by application can help me decrease the load for application. Is this correct?</p>\n"},{"tags":["java","spring","kotlin","intellij-idea","jetbrains-ide"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1643252600,"post_id":70872800,"comment_id":125292615,"body_markdown":"There is no general-purpose way to do this built into IntelliJ.","body":"There is no general-purpose way to do this built into IntelliJ."},{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":1,"creation_date":1643254876,"post_id":70872800,"comment_id":125292986,"body_markdown":"@LouisWasserman I know. Just wondering whether there are some smart workarounds","body":"@LouisWasserman I know. Just wondering whether there are some smart workarounds"},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":3,"creation_date":1643255603,"post_id":70872800,"comment_id":125293085,"body_markdown":"Just in case, here is the feature request for that: https://youtrack.jetbrains.com/issue/KTIJ-14308","body":"Just in case, here is the feature request for that: <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-14308\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KTIJ-14308</a>"},{"owner":{"account_id":18852935,"reputation":85,"user_id":13751635,"display_name":"Johannes Oehm"},"score":2,"creation_date":1643278591,"post_id":70872800,"comment_id":125299094,"body_markdown":"IntelliJ has also a &quot;Structural Replace&quot; feature, try replacing Optional&lt;$T$&gt; with $T$?","body":"IntelliJ has also a &quot;Structural Replace&quot; feature, try replacing Optional&lt;$T$&gt; with $T$?"},{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":1,"creation_date":1643279159,"post_id":70872800,"comment_id":125299342,"body_markdown":"@JohannesOehm Sounds interesting! That should definitely be better than a naive regex replace. Thanks!","body":"@JohannesOehm Sounds interesting! That should definitely be better than a naive regex replace. Thanks!"}],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643252265,"creation_date":1643252265,"question_id":70872800,"body_markdown":"My old Java code uses `Optional` a lot (as a way to workaround null pointer exceptions). Now I am migrating it to Kotlin. I do use the java-to-kotlin auto converter in Intellij IDEA, but it keeps `Optional` there.\r\n\r\nWhat I want:\r\n\r\n```\r\nOptional&lt;B&gt; hello(Optional&lt;A&gt; a) {...}\r\n```\r\n\r\nauto convert to \r\n\r\n```\r\nfun hello(a: A?): B? {...}\r\n```\r\n\r\nIt is OK if doing it in a semi-automatic way. My naive thoughts is regexp matching and replacing, but hope there exists a better solution.\r\n\r\nThanks for any suggestions!","title":"How to (semi)-automatically convert Java Optional to Kotlin nullable types?","body":"<p>My old Java code uses <code>Optional</code> a lot (as a way to workaround null pointer exceptions). Now I am migrating it to Kotlin. I do use the java-to-kotlin auto converter in Intellij IDEA, but it keeps <code>Optional</code> there.</p>\n<p>What I want:</p>\n<pre><code>Optional&lt;B&gt; hello(Optional&lt;A&gt; a) {...}\n</code></pre>\n<p>auto convert to</p>\n<pre><code>fun hello(a: A?): B? {...}\n</code></pre>\n<p>It is OK if doing it in a semi-automatic way. My naive thoughts is regexp matching and replacing, but hope there exists a better solution.</p>\n<p>Thanks for any suggestions!</p>\n"},{"tags":["java","jar","size"],"comments":[{"owner":{"account_id":603334,"reputation":85,"user_id":312661,"display_name":"joe_shmoe"},"score":0,"creation_date":1270809077,"post_id":2606424,"comment_id":2616645,"body_markdown":"Well, to add my module to the project. it&#39;s a couple of relatively small java packages. all I want is that my dependency on a few classes from &#39;fastutil&#39; should not increase the size of the project threefold.","body":"Well, to add my module to the project. it&#39;s a couple of relatively small java packages. all I want is that my dependency on a few classes from &#39;fastutil&#39; should not increase the size of the project threefold."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1270807057,"creation_date":1270807057,"answer_id":2606456,"question_id":2606424,"body_markdown":"Obfuscation tools such as [ProGuard][1] usually provide a feature to remove unused classes (and even fields and methods) from the jar file. You have to be careful to verify everything still works, &#39;though, because you might be using reflecton to access classes or methods that ProGuard can&#39;t analyze.\r\n\r\nYou can use only that feature and already get quite some saving\r\n\r\nOr you could combine it with other space-saving obfuscation techniques (such as class and method renaming) to save even more space at the cost of harder debugging (your stack traces will become harder to parse).\r\n\r\n\r\n  [1]: http://proguard.sourceforge.net/","title":"Reduce external jar file size","body":"<p>Obfuscation tools such as <a href=\"http://proguard.sourceforge.net/\" rel=\"noreferrer\">ProGuard</a> usually provide a feature to remove unused classes (and even fields and methods) from the jar file. You have to be careful to verify everything still works, 'though, because you might be using reflecton to access classes or methods that ProGuard can't analyze.</p>\n\n<p>You can use only that feature and already get quite some saving</p>\n\n<p>Or you could combine it with other space-saving obfuscation techniques (such as class and method renaming) to save even more space at the cost of harder debugging (your stack traces will become harder to parse).</p>\n"},{"tags":[],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1270807079,"creation_date":1270807079,"answer_id":2606459,"question_id":2606424,"body_markdown":"Yeah one crude is to have a backup of your original jar. then remove all unused class files from the jar. and there may be some internal references to other class which you can add as and when it is required. ie while executing it may throw a class not found exception so then you can add that class from the original jar to this jar.","title":"Reduce external jar file size","body":"<p>Yeah one crude is to have a backup of your original jar. then remove all unused class files from the jar. and there may be some internal references to other class which you can add as and when it is required. ie while executing it may throw a class not found exception so then you can add that class from the original jar to this jar.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1270807440,"creation_date":1270807440,"answer_id":2606482,"question_id":2606424,"body_markdown":"From the [installation instructions][1] of fastutil:\r\n\r\n&gt; Note that the jar file is huge, due to the large number of classes: if you plan to ship your own jar with some fastutil classes included, you should look at [AutoJar][2] (also available at JPackage) to extract automatically the necessary classes. \r\n\r\n\r\n  [1]: http://fastutil.dsi.unimi.it/#install\r\n  [2]: http://autojar.sourceforge.net/","title":"Reduce external jar file size","body":"<p>From the <a href=\"http://fastutil.dsi.unimi.it/#install\" rel=\"noreferrer\">installation instructions</a> of fastutil:</p>\n\n<blockquote>\n  <p>Note that the jar file is huge, due to the large number of classes: if you plan to ship your own jar with some fastutil classes included, you should look at <a href=\"http://autojar.sourceforge.net/\" rel=\"noreferrer\">AutoJar</a> (also available at JPackage) to extract automatically the necessary classes. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1942,"reputation":5675,"user_id":2671,"accept_rate":75,"display_name":"J&#246;rn Zaefferer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1270807451,"creation_date":1270807451,"answer_id":2606486,"question_id":2606424,"body_markdown":"As fastutil is LGPL open-source software, you could just copy the relevant source files to your project and drop that jar file. The compiler will then tell you if have all the files you need. Just keep the packages as they are and put a copy of the fastutil license file on top.","title":"Reduce external jar file size","body":"<p>As fastutil is LGPL open-source software, you could just copy the relevant source files to your project and drop that jar file. The compiler will then tell you if have all the files you need. Just keep the packages as they are and put a copy of the fastutil license file on top.</p>\n"},{"tags":[],"owner":{"account_id":2504093,"reputation":820,"user_id":2178363,"display_name":"Jason K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643251925,"creation_date":1643241074,"answer_id":70871675,"question_id":2606424,"body_markdown":"For a project of any complexity, I would personally avoid Proguard for this very specific purpose of shrinking an external library like fastutil because doing so currently requires considerable configuration to specify all the jars that will be modified and those that are to be left intact. You will also have to specify the filters to get the source contents from your input jars into the correct output jars.\r\n\r\nOn top of that, the tool does not like to modify external jar files without having access to modify the application jar file. It will generate an error as a &#39;warning&#39; even when only using the shrink option that indicates a library that is to be updated is referenced by a fixed jar file. If you are only shrinking the code and doing no optimizations or obfuscation, this requirement is an unnecessary limitation. In my case, this was forcing me to include a whole set of library references in my Proguard configuration as inputs when my only goal was to eliminate classes from the fastutil jar that I do not use.\r\n\r\nI think Proguard could solve this issue with minor changes but for right now, I found its usage for the purpose to be frustrating and time consuming. Instead I offer up this solution for anyone who has this specific problem.\r\n\r\nIn this example, I use ant to clearly remove those primitive types that I do not use in my application and then remove the specific implementations of maps that I do not use. With this configuration, I reduced the jar file from 23Mb to 5Mb which was sufficient for my case.\r\n\r\n    &lt;jar destfile=&quot;F:/Programs/Java/JARS/fastutil-8.5.6-partial.jar&quot;&gt;\r\n\t\t&lt;zipfileset src=&quot;F:/Programs/Java/JARS/fastutil-8.5.6.jar&quot;&gt;\r\n\t\t\t&lt;!-- eliminate keys of specific primitive types --&gt;\r\n\t\t\t&lt;exclude name=&quot;it/unimi/dsi/fastutil/booleans/**&quot;/&gt;\r\n\t\t\t&lt;exclude name=&quot;it/unimi/dsi/fastutil/chars/**&quot;/&gt;\r\n\t\t\t&lt;exclude name=&quot;it/unimi/dsi/fastutil/doubles/**&quot;/&gt;\r\n\t\t\t&lt;exclude name=&quot;it/unimi/dsi/fastutil/io/**&quot;/&gt;\r\n\t\t\t&lt;exclude name=&quot;it/unimi/dsi/fastutil/longs/**&quot;/&gt;\r\n\t\t\t&lt;!-- eliminate maps of specific implementations --&gt;\r\n\t\t\t&lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*ArrayMap*&quot;/&gt;\r\n\t\t\t&lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*AVLTree*&quot;/&gt;\r\n\t\t\t&lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*CustomHash*&quot;/&gt;\r\n\t\t\t&lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*Linked*&quot;/&gt;\r\n\t\t\t&lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*RBTree*&quot;/&gt;\r\n\t\t\t&lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*Reference*&quot;/&gt;\r\n\t\t&lt;/zipfileset&gt;\r\n\t\t&lt;zipfileset src=&quot;F:/Programs/Java/JARS/fastutil-8.5.6.jar&quot;&gt;\r\n\t\t\t&lt;include name=&quot;**/*2ObjectFunction.class&quot;/&gt;\r\n\t\t&lt;/zipfileset&gt;\r\n\t&lt;/jar&gt;\r\n\r\nWhile this is not the optimal solution, it is easier to setup and troubleshhoot than using Proguard.","title":"Reduce external jar file size","body":"<p>For a project of any complexity, I would personally avoid Proguard for this very specific purpose of shrinking an external library like fastutil because doing so currently requires considerable configuration to specify all the jars that will be modified and those that are to be left intact. You will also have to specify the filters to get the source contents from your input jars into the correct output jars.</p>\n<p>On top of that, the tool does not like to modify external jar files without having access to modify the application jar file. It will generate an error as a 'warning' even when only using the shrink option that indicates a library that is to be updated is referenced by a fixed jar file. If you are only shrinking the code and doing no optimizations or obfuscation, this requirement is an unnecessary limitation. In my case, this was forcing me to include a whole set of library references in my Proguard configuration as inputs when my only goal was to eliminate classes from the fastutil jar that I do not use.</p>\n<p>I think Proguard could solve this issue with minor changes but for right now, I found its usage for the purpose to be frustrating and time consuming. Instead I offer up this solution for anyone who has this specific problem.</p>\n<p>In this example, I use ant to clearly remove those primitive types that I do not use in my application and then remove the specific implementations of maps that I do not use. With this configuration, I reduced the jar file from 23Mb to 5Mb which was sufficient for my case.</p>\n<pre><code>&lt;jar destfile=&quot;F:/Programs/Java/JARS/fastutil-8.5.6-partial.jar&quot;&gt;\n    &lt;zipfileset src=&quot;F:/Programs/Java/JARS/fastutil-8.5.6.jar&quot;&gt;\n        &lt;!-- eliminate keys of specific primitive types --&gt;\n        &lt;exclude name=&quot;it/unimi/dsi/fastutil/booleans/**&quot;/&gt;\n        &lt;exclude name=&quot;it/unimi/dsi/fastutil/chars/**&quot;/&gt;\n        &lt;exclude name=&quot;it/unimi/dsi/fastutil/doubles/**&quot;/&gt;\n        &lt;exclude name=&quot;it/unimi/dsi/fastutil/io/**&quot;/&gt;\n        &lt;exclude name=&quot;it/unimi/dsi/fastutil/longs/**&quot;/&gt;\n        &lt;!-- eliminate maps of specific implementations --&gt;\n        &lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*ArrayMap*&quot;/&gt;\n        &lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*AVLTree*&quot;/&gt;\n        &lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*CustomHash*&quot;/&gt;\n        &lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*Linked*&quot;/&gt;\n        &lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*RBTree*&quot;/&gt;\n        &lt;exclude name=&quot;it/unimi/dsi/fastutil/**/*Reference*&quot;/&gt;\n    &lt;/zipfileset&gt;\n    &lt;zipfileset src=&quot;F:/Programs/Java/JARS/fastutil-8.5.6.jar&quot;&gt;\n        &lt;include name=&quot;**/*2ObjectFunction.class&quot;/&gt;\n    &lt;/zipfileset&gt;\n&lt;/jar&gt;\n</code></pre>\n<p>While this is not the optimal solution, it is easier to setup and troubleshhoot than using Proguard.</p>\n"}],"owner":{"account_id":603334,"reputation":85,"user_id":312661,"display_name":"joe_shmoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7773,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":2606456,"answer_count":5,"score":8,"last_activity_date":1643251925,"creation_date":1270806731,"question_id":2606424,"body_markdown":"I&#39;ve developed a module for a Java project. The module depends on external library (`fastutil`). The problem is, the `fastutil.jar` file is a couple of times heavier than the whole project itself (14 MB). I only use a tiny subset of the classes from the library. The module is now finished, and no-one is likely to extend it in future. Is there a way I could extract only the relevant class to some `fastutil_small.jar` so that others don&#39;t have to download all this extra weight? ","title":"Reduce external jar file size","body":"<p>I've developed a module for a Java project. The module depends on external library (<code>fastutil</code>). The problem is, the <code>fastutil.jar</code> file is a couple of times heavier than the whole project itself (14 MB). I only use a tiny subset of the classes from the library. The module is now finished, and no-one is likely to extend it in future. Is there a way I could extract only the relevant class to some <code>fastutil_small.jar</code> so that others don't have to download all this extra weight? </p>\n"},{"tags":["java","unit-testing","junit","assert"],"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1274734171,"post_id":2899918,"comment_id":2949827,"body_markdown":"@Kyle Rozendo: JUnit can (and typically *is*) used for more than unit testing.  You added some &quot;unit-testing&quot; tag to this question but I&#39;m really not sure that a test that verifies some &quot;db-configuration&quot; (the OP wrote *so when I change some db-configuration, I re-run this test and check if the configuration is right*) is really a unit-test.  Nowhere did the OP mention unit-testing and I wouldn&#39;t call such a test a &quot;unit test&quot;.","body":"@Kyle Rozendo: JUnit can (and typically <i>is</i>) used for more than unit testing.  You added some &quot;unit-testing&quot; tag to this question but I&#39;m really not sure that a test that verifies some &quot;db-configuration&quot; (the OP wrote <i>so when I change some db-configuration, I re-run this test and check if the configuration is right</i>) is really a unit-test.  Nowhere did the OP mention unit-testing and I wouldn&#39;t call such a test a &quot;unit test&quot;."},{"owner":{"account_id":36288,"reputation":25061,"user_id":103385,"accept_rate":81,"display_name":"Kyle Rosendo"},"score":0,"creation_date":1274765318,"post_id":2899918,"comment_id":2952023,"body_markdown":"@Web - &quot;Unit testing is a software verification and validation method in which a programmer tests if individual units of source code are fit for use.&quot; I Disagree :)","body":"@Web - &quot;Unit testing is a software verification and validation method in which a programmer tests if individual units of source code are fit for use.&quot; I Disagree :)"},{"owner":{"account_id":17355,"reputation":79141,"user_id":38765,"accept_rate":68,"display_name":"Andrew Grimm"},"score":3,"creation_date":1288071011,"post_id":2899918,"comment_id":4311457,"body_markdown":"This kind of test is sometimes called a &quot;smoke test&quot;. If smoke comes out, it&#39;s failed the test.","body":"This kind of test is sometimes called a &quot;smoke test&quot;. If smoke comes out, it&#39;s failed the test."}],"answers":[{"tags":[],"owner":{"account_id":36288,"reputation":25061,"user_id":103385,"accept_rate":81,"display_name":"Kyle Rosendo"},"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1274877571,"creation_date":1274731612,"answer_id":2899938,"question_id":2899918,"body_markdown":"It is perfectly valid to make sure a unit test runs without encountering an exception.\r\n\r\nAs per [Matt B][1]&#39;s suggestion, be sure to document what the test is actually testing to be clear and precise.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/4249/matt-b","title":"Can I write a test without any assert in it?","body":"<p>It is perfectly valid to make sure a unit test runs without encountering an exception.</p>\n\n<p>As per <a href=\"https://stackoverflow.com/users/4249/matt-b\">Matt B</a>'s suggestion, be sure to document what the test is actually testing to be clear and precise.</p>\n"},{"tags":[],"owner":{"account_id":4619,"reputation":2761,"user_id":7018,"accept_rate":82,"display_name":"JoshReedSchramm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1274731710,"creation_date":1274731710,"answer_id":2899953,"question_id":2899918,"body_markdown":"Testing is a really subjective discussion. Some people will say no, you should always have AAA syntax. Personally I&#39;ve written tests that do things very similar to what your talking about so I&#39;d say, sure go ahead - if it helps you build a more stable app then why not. \r\n\r\nFor example in NUnit i consider [ExpectedException typeof(XXXX)] to be logically equivalent to an Assert. \r\n\r\nAlso in some tests you might not assert anything but expect a particular order of execution via Mocks and Expects.\r\n","title":"Can I write a test without any assert in it?","body":"<p>Testing is a really subjective discussion. Some people will say no, you should always have AAA syntax. Personally I've written tests that do things very similar to what your talking about so I'd say, sure go ahead - if it helps you build a more stable app then why not. </p>\n\n<p>For example in NUnit i consider [ExpectedException typeof(XXXX)] to be logically equivalent to an Assert. </p>\n\n<p>Also in some tests you might not assert anything but expect a particular order of execution via Mocks and Expects.</p>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1274731738,"creation_date":1274731738,"answer_id":2899958,"question_id":2899918,"body_markdown":"As @Kyle noted, your test case is valid. In fact the opposite would also be a valid: when you write a test case to confirm that a certain call with specific parameter(s) results in an exception.","title":"Can I write a test without any assert in it?","body":"<p>As @Kyle noted, your test case is valid. In fact the opposite would also be a valid: when you write a test case to confirm that a certain call with specific parameter(s) results in an exception.</p>\n"},{"tags":[],"owner":{"account_id":44322,"reputation":3665,"user_id":130033,"accept_rate":60,"display_name":"Mattias Nilsson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1274731837,"creation_date":1274731837,"answer_id":2899973,"question_id":2899918,"body_markdown":"Sure you can do that.\r\nIt is also perfectly fine to write a test without assertions where the expected outcome is an exeption. I know testng will let you specify an exception that should be thrown and the test will fail if the expected exception isn&#39;t thrown. ","title":"Can I write a test without any assert in it?","body":"<p>Sure you can do that.\nIt is also perfectly fine to write a test without assertions where the expected outcome is an exeption. I know testng will let you specify an exception that should be thrown and the test will fail if the expected exception isn't thrown. </p>\n"},{"tags":[],"owner":{"account_id":21331,"reputation":1741,"user_id":51749,"display_name":"Gorkem Pacaci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274732002,"creation_date":1274732002,"answer_id":2899989,"question_id":2899918,"body_markdown":"It is surely acceptable to write a unit test that doesn&#39;t have any assertions. You could do this for:\r\n\r\n - Testing a case that ends without an exception. In this case, if you can, it&#39;s nice to dress the test with the specific type of the exception, as in [ExpectedException(MyException)].\r\n\r\n - Testing a feature is there. Even there isn&#39;t a possibility that the test may generate an exception, you may want to make this test fail if someone decides to remove that feature. If the test uses a method and the method is removed, the test will simply fail to build.","title":"Can I write a test without any assert in it?","body":"<p>It is surely acceptable to write a unit test that doesn't have any assertions. You could do this for:</p>\n\n<ul>\n<li><p>Testing a case that ends without an exception. In this case, if you can, it's nice to dress the test with the specific type of the exception, as in [ExpectedException(MyException)].</p></li>\n<li><p>Testing a feature is there. Even there isn't a possibility that the test may generate an exception, you may want to make this test fail if someone decides to remove that feature. If the test uses a method and the method is removed, the test will simply fail to build.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":515180,"reputation":1185,"user_id":1107450,"display_name":"Rodislav Moldovan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499322741,"creation_date":1499322741,"answer_id":44941365,"question_id":2899918,"body_markdown":"the purpose of the test is to check if &quot;X&quot; has an &quot;expected something&quot;, in order to check that &quot;expected something&quot; is correct to assert, to expect or to verify. This is why most frameworks implements those methods in a way or another","title":"Can I write a test without any assert in it?","body":"<p>the purpose of the test is to check if \"X\" has an \"expected something\", in order to check that \"expected something\" is correct to assert, to expect or to verify. This is why most frameworks implements those methods in a way or another</p>\n"}],"owner":{"account_id":139377,"reputation":3663,"user_id":344927,"accept_rate":100,"display_name":"stratwine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9191,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":2899938,"answer_count":6,"score":18,"last_activity_date":1643251923,"creation_date":1274731491,"question_id":2899918,"body_markdown":"I&#39;d like to know if it is &quot;ok&quot; to write a test without any &quot;assert&quot; in it. So the test would fail only when an exception / error has occured.\r\n\r\nEg: like a test which has a simple select query, to ensure that the database configuration is right. So when I change some db-configuration, I re-run this test and check if the configuration is right. ?\r\n\r\nThanks!","title":"Can I write a test without any assert in it?","body":"<p>I'd like to know if it is \"ok\" to write a test without any \"assert\" in it. So the test would fail only when an exception / error has occured.</p>\n\n<p>Eg: like a test which has a simple select query, to ensure that the database configuration is right. So when I change some db-configuration, I re-run this test and check if the configuration is right. ?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1643251054,"post_id":70872598,"comment_id":125292337,"body_markdown":"That is no single swing component, it is something custom that could be constructed from a number of different components all put together or extended and added to. For example, the [\\n x] is likely a container with a text area on the left, and a button aligned to the right side, and the area you can type in is likely a text field that gets offset based on the location of any previous sequences, and it is all housed within another container with a border and a button aligned the the right side","body":"That is no single swing component, it is something custom that could be constructed from a number of different components all put together or extended and added to. For example, the [\\n x] is likely a container with a text area on the left, and a button aligned to the right side, and the area you can type in is likely a text field that gets offset based on the location of any previous sequences, and it is all housed within another container with a border and a button aligned the the right side"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1643251567,"post_id":70872598,"comment_id":125292413,"body_markdown":"Can you not decompile the application?","body":"Can you not decompile the application?"},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":1,"creation_date":1643262439,"post_id":70872598,"comment_id":125294201,"body_markdown":"The inputs are usually called tags.","body":"The inputs are usually called tags."}],"owner":{"account_id":8833205,"reputation":601,"user_id":6598627,"display_name":"Travasaurus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643251833,"creation_date":1643250452,"question_id":70872598,"body_markdown":"An application I like has this field for inputting multiple custom text inputs. It&#39;s a really clean solution that I would like to use in my own project, however, I don&#39;t know what it&#39;s called. Any idea what this type of field is called in swing?\r\n\r\n(this is a java project)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9NSLn.png","title":"What is this type of field called? (multiple custom text select inputs)","body":"<p>An application I like has this field for inputting multiple custom text inputs. It's a really clean solution that I would like to use in my own project, however, I don't know what it's called. Any idea what this type of field is called in swing?</p>\n<p>(this is a java project)</p>\n<p><a href=\"https://i.stack.imgur.com/9NSLn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9NSLn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","build"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1643227704,"post_id":70869180,"comment_id":125286721,"body_markdown":"Sorry, I do not quite understand. You want to write a program that runs Maven on a Java project?","body":"Sorry, I do not quite understand. You want to write a program that runs Maven on a Java project?"},{"owner":{"account_id":23729715,"reputation":23,"user_id":17749148,"display_name":"Mxrlin"},"score":0,"creation_date":1643227860,"post_id":70869180,"comment_id":125286768,"body_markdown":"Exactly, a Application/Program where u say the location of the Project and it builds the project with maven.","body":"Exactly, a Application/Program where u say the location of the Project and it builds the project with maven."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1643229584,"post_id":70869180,"comment_id":125287418,"body_markdown":"To build a project you usually need to run something like `mvn clean install` on the project. So your Application needs to start a new bash/cmd process that runs the Maven command.","body":"To build a project you usually need to run something like <code>mvn clean install</code> on the project. So your Application needs to start a new bash/cmd process that runs the Maven command."},{"owner":{"account_id":23729715,"reputation":23,"user_id":17749148,"display_name":"Mxrlin"},"score":0,"creation_date":1643230953,"post_id":70869180,"comment_id":125287934,"body_markdown":"And how can I do something like that? Don&#39;t really have much experience with maven...","body":"And how can I do something like that? Don&#39;t really have much experience with maven..."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1643233243,"post_id":70869180,"comment_id":125288633,"body_markdown":"You can run Maven like any other command line tool. In e.g. Java you would probably use a Process and start Maven with it.","body":"You can run Maven like any other command line tool. In e.g. Java you would probably use a Process and start Maven with it."}],"answers":[{"tags":[],"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643251563,"creation_date":1643251563,"answer_id":70872711,"question_id":70869180,"body_markdown":"If you just want to automate the build process, maybe you should use jenkins.","title":"Can you build a maven project with code only with java?","body":"<p>If you just want to automate the build process, maybe you should use jenkins.</p>\n"}],"owner":{"account_id":23729715,"reputation":23,"user_id":17749148,"display_name":"Mxrlin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643251563,"creation_date":1643225360,"question_id":70869180,"body_markdown":"I wanted to ask, if its possible to build a maven project with just code. So I mean i run a application, select a Project, and it automatically build the maven project, without pressing anything in the Project itself.\r\n\r\nI didnt find anything in the web, so hopefully it even works.","title":"Can you build a maven project with code only with java?","body":"<p>I wanted to ask, if its possible to build a maven project with just code. So I mean i run a application, select a Project, and it automatically build the maven project, without pressing anything in the Project itself.</p>\n<p>I didnt find anything in the web, so hopefully it even works.</p>\n"},{"tags":["java","for-loop","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643251258,"creation_date":1643251258,"answer_id":70872687,"question_id":70872648,"body_markdown":"Just swap row and col in nested for loop","title":"I am working on an exercise to create an 2D java array that displays every number as a table and has the averages for each row/column","body":"<p>Just swap row and col in nested for loop</p>\n"}],"owner":{"account_id":24066877,"reputation":3,"user_id":18043309,"display_name":"Cab Man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70872687,"answer_count":1,"score":-1,"last_activity_date":1643251258,"creation_date":1643250894,"question_id":70872648,"body_markdown":"So i have to make this program and I was able to make the program display the array with the row averages but I am finding it difficult to also display the column averages. My problems are that: 1. I cannot figure out how to add the column value similar to how I did with the row values. 2. I am also having trouble displaying the average column values below the table. Can anybody help?\r\n```\r\npublic class ColRowAvg\r\n{\r\n   public static void main (String args[])\r\n   {\r\n      int avg = 0;\r\n      int[][] arr = {{6,3,4,2}, {3,4,5,7}, {3,6,7,2}, {3, 5, 2, 7}};\r\n      for (int row = 0; row &lt; arr.length; row++)//Cycles through rows\r\n      {\r\n         for (int col = 0; col &lt; arr[row].length; col++)//Cycles through columns\r\n         {\r\n            System.out.printf(&quot;%5d&quot;, arr[row][col]);\r\n            avg += arr[row][col];\r\n         }\r\n         System.out.printf(&quot; |%2d&quot;, avg/arr.length);\r\n         System.out.println(); //Makes a new row\r\n         avg = 0;\r\n      }\r\n      System.out.println();\r\n      for (int col = 0; col &lt; arr.length; col++)//Cycles through rows\r\n      {\r\n         for (int row = 0; row &lt; arr[col].length; row++)//Cycles through columns\r\n         {\r\n            System.out.printf(&quot;%5d&quot;, arr[row][col]);\r\n            avg += arr[row][col];\r\n         }\r\n         System.out.printf(&quot; |%2d&quot;, avg/arr.length);\r\n         System.out.println(); //Makes a new row\r\n         avg = 0;\r\n      }      \r\n   }\r\n}\r\n```\r\nThis is what I have right now.","title":"I am working on an exercise to create an 2D java array that displays every number as a table and has the averages for each row/column","body":"<p>So i have to make this program and I was able to make the program display the array with the row averages but I am finding it difficult to also display the column averages. My problems are that: 1. I cannot figure out how to add the column value similar to how I did with the row values. 2. I am also having trouble displaying the average column values below the table. Can anybody help?</p>\n<pre><code>public class ColRowAvg\n{\n   public static void main (String args[])\n   {\n      int avg = 0;\n      int[][] arr = {{6,3,4,2}, {3,4,5,7}, {3,6,7,2}, {3, 5, 2, 7}};\n      for (int row = 0; row &lt; arr.length; row++)//Cycles through rows\n      {\n         for (int col = 0; col &lt; arr[row].length; col++)//Cycles through columns\n         {\n            System.out.printf(&quot;%5d&quot;, arr[row][col]);\n            avg += arr[row][col];\n         }\n         System.out.printf(&quot; |%2d&quot;, avg/arr.length);\n         System.out.println(); //Makes a new row\n         avg = 0;\n      }\n      System.out.println();\n      for (int col = 0; col &lt; arr.length; col++)//Cycles through rows\n      {\n         for (int row = 0; row &lt; arr[col].length; row++)//Cycles through columns\n         {\n            System.out.printf(&quot;%5d&quot;, arr[row][col]);\n            avg += arr[row][col];\n         }\n         System.out.printf(&quot; |%2d&quot;, avg/arr.length);\n         System.out.println(); //Makes a new row\n         avg = 0;\n      }      \n   }\n}\n</code></pre>\n<p>This is what I have right now.</p>\n"},{"tags":["java","methods","return"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1386468412,"post_id":20448998,"comment_id":30551982,"body_markdown":"Void doesn&#39;t return anything. Your method doesn&#39;t return anything. It modifies the contents of the array referenced by &quot;list&quot;.","body":"Void doesn&#39;t return anything. Your method doesn&#39;t return anything. It modifies the contents of the array referenced by &quot;list&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2573724,"reputation":4706,"user_id":2231887,"accept_rate":88,"display_name":"Sionnach733"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386468352,"creation_date":1386468339,"answer_id":20449013,"question_id":20448998,"body_markdown":"It doesn&#39;t return anything, it just modifies  the variable `list[0]`.\r\n","title":"Java: void method returns values?","body":"<p>It doesn't return anything, it just modifies  the variable <code>list[0]</code>.</p>\n"},{"tags":[],"owner":{"account_id":3212886,"reputation":164,"user_id":2712451,"accept_rate":67,"display_name":"DawnFreeze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386468496,"creation_date":1386468496,"answer_id":20449032,"question_id":20448998,"body_markdown":"As mentioned above, the method isn&#39;t actually returning a value... it is modifying the first value in the array. The output is a reflection of the value modified by the &#39;modify&#39;","title":"Java: void method returns values?","body":"<p>As mentioned above, the method isn't actually returning a value... it is modifying the first value in the array. The output is a reflection of the value modified by the 'modify'</p>\n"},{"tags":[],"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1386468607,"creation_date":1386468607,"answer_id":20449042,"question_id":20448998,"body_markdown":"You likely need to familiarize your self with concepts of &quot;pass by value&quot;, &quot;pass by reference&quot;, and the understanding that objects are references (passed by value between method calls).\r\n\r\n\r\n&quot;number&quot; is a simple integer - passed by value to the modify method.  So even if the value assigned to &quot;num&quot; changes within the method, the original variable used by the caller of this method remains the same.\r\n\r\n&quot;list&quot; is also passed by value, but &quot;list&quot; is an object, so you are passing the reference to this object (by value) to the modify method.   So if you change the internals of an object within a method, you are changing the same object referenced by the caller.\r\n\r\nNow if you did this:\r\n\r\n    public static void modify (int num, int [] list)\r\n    {\r\n    \r\n        num = 3;\r\n        int [] newlist = {9,8,7,6,5,4};\r\n        list = newlist;\r\n        newlist[0] = 3;\r\n    }\r\n\r\nThen the &quot;list&quot; that was passed into modify never gets modified because &quot;list&quot; within the modify method gets changed to point to a different object altogether.\r\n\r\n","title":"Java: void method returns values?","body":"<p>You likely need to familiarize your self with concepts of \"pass by value\", \"pass by reference\", and the understanding that objects are references (passed by value between method calls).</p>\n\n<p>\"number\" is a simple integer - passed by value to the modify method.  So even if the value assigned to \"num\" changes within the method, the original variable used by the caller of this method remains the same.</p>\n\n<p>\"list\" is also passed by value, but \"list\" is an object, so you are passing the reference to this object (by value) to the modify method.   So if you change the internals of an object within a method, you are changing the same object referenced by the caller.</p>\n\n<p>Now if you did this:</p>\n\n<pre><code>public static void modify (int num, int [] list)\n{\n\n    num = 3;\n    int [] newlist = {9,8,7,6,5,4};\n    list = newlist;\n    newlist[0] = 3;\n}\n</code></pre>\n\n<p>Then the \"list\" that was passed into modify never gets modified because \"list\" within the modify method gets changed to point to a different object altogether.</p>\n"},{"tags":[],"owner":{"account_id":2644958,"reputation":13447,"user_id":2554605,"accept_rate":90,"display_name":"Michael Yaworski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386468634,"creation_date":1386468634,"answer_id":20449047,"question_id":20448998,"body_markdown":"`list[0] = 3;` is why you gave output 3. It has nothing to do with `num` and you did **not** return anything. You simply modified the content of the array.","title":"Java: void method returns values?","body":"<p><code>list[0] = 3;</code> is why you gave output 3. It has nothing to do with <code>num</code> and you did <strong>not</strong> return anything. You simply modified the content of the array.</p>\n"},{"tags":[],"owner":{"account_id":24066900,"reputation":1,"user_id":18043325,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643250554,"creation_date":1643250554,"answer_id":70872611,"question_id":20448998,"body_markdown":"When you declared &quot;num&quot; in the method, that is simply a new integer that has nothing to do with &quot;number.&quot; Yes, you passed &quot;number&quot; into &quot;num&quot; in the method call, but you did not pass back &quot;num&quot; into &quot;number,&quot; because in order to do that you would have had to return &quot;num&quot; specifically to the method call, which didn&#39;t happen because the return type was void. However, on the other hand, list[0] = 3 was in fact a successful modification to the array because it&#39;s not required for the array contents to be returned to the original method caller. Both the main method and the modify method already point to the same array in memory. But on the other hand, it&#39;s not clear from the computer&#39;s point of view that &quot;num&quot; and &quot;number&quot; point to the same thing in memory.","title":"Java: void method returns values?","body":"<p>When you declared &quot;num&quot; in the method, that is simply a new integer that has nothing to do with &quot;number.&quot; Yes, you passed &quot;number&quot; into &quot;num&quot; in the method call, but you did not pass back &quot;num&quot; into &quot;number,&quot; because in order to do that you would have had to return &quot;num&quot; specifically to the method call, which didn't happen because the return type was void. However, on the other hand, list[0] = 3 was in fact a successful modification to the array because it's not required for the array contents to be returned to the original method caller. Both the main method and the modify method already point to the same array in memory. But on the other hand, it's not clear from the computer's point of view that &quot;num&quot; and &quot;number&quot; point to the same thing in memory.</p>\n"}],"owner":{"account_id":3596717,"reputation":141,"user_id":3001177,"accept_rate":33,"display_name":"coding"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9981,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":20449042,"answer_count":5,"score":1,"last_activity_date":1643250554,"creation_date":1386468195,"question_id":20448998,"body_markdown":"So, I think I misunderstood something about how method returns values. \r\nI don&#39;t understand why list[0] is 3 in the output since that is a void method, which doesn&#39;t return anything back to main method... If the void method could actually return the value, then why num would still be 0..... wouldn&#39;t num become 3 as well??\r\nOr void method doesn&#39;t return any values, except arrays?\r\n\r\n    public static void main (String []args){\r\n    \t\r\n    \tint []list = {1,2,3,4,5};\r\n    \tint number = 0;\r\n    \t\r\n    \tmodify(number, list);\r\n    \t\r\n    \tSystem.out.println(&quot;number is: &quot;+number);\r\n    \t\r\n    \tfor (int i = 0; i &lt; list.length; i++)\r\n    \t{\r\n    \t\tSystem.out.print(list[i]+&quot; &quot;);\r\n    \t}\r\n    \t\r\n    \tSystem.out.println();\r\n    }\r\n    public static void modify (int num, int []list){\r\n    \r\n    \tnum = 3;\r\n    \tlist[0] = 3;\r\n    }\r\n\r\nOutput:\r\n\r\n    number is: 0\r\n    \r\n    3 2 3 4 5 \r\n\r\n","title":"Java: void method returns values?","body":"<p>So, I think I misunderstood something about how method returns values. \nI don't understand why list[0] is 3 in the output since that is a void method, which doesn't return anything back to main method... If the void method could actually return the value, then why num would still be 0..... wouldn't num become 3 as well??\nOr void method doesn't return any values, except arrays?</p>\n\n<pre><code>public static void main (String []args){\n\n    int []list = {1,2,3,4,5};\n    int number = 0;\n\n    modify(number, list);\n\n    System.out.println(\"number is: \"+number);\n\n    for (int i = 0; i &lt; list.length; i++)\n    {\n        System.out.print(list[i]+\" \");\n    }\n\n    System.out.println();\n}\npublic static void modify (int num, int []list){\n\n    num = 3;\n    list[0] = 3;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>number is: 0\n\n3 2 3 4 5 \n</code></pre>\n"},{"tags":["java","android","image","text","printing"],"answers":[{"tags":[],"owner":{"account_id":3416484,"reputation":211,"user_id":2865213,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643250440,"creation_date":1643200220,"answer_id":70863452,"question_id":70862271,"body_markdown":"see code below:\r\n    \r\n        \r\n    \r\n    private void drawTextOnBitmap(Bitmap bmp, String text, int x, int y, int textColor) {\r\n            Canvas canvas = new Canvas(bmp);\r\n    \r\n            Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);\r\n            paint.setColor(textColor);\r\n            // draw text\r\n            canvas.drawText(text, x, y, paint);\r\n        }\r\n    \r\n    \r\n    holder.shareBtn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n    \r\n            bitmapDrawable = (BitmapDrawable) holder.imageView.getDrawable();// get the from imageview or use your drawable from drawable folder\r\n            // draw text on bitmap\r\n            Bitmap bitmap1 = bitmapDrawable.getBitmap();\r\n            drawTextOnBitmap(bitmap1, &quot;YOUR TEXT&quot;, 0, 15, Color.RED);\r\n    \r\n    \r\n            String imgBitmapPath= MediaStore.Images.Media.insertImage(context.getContentResolver(),\r\n                    bitmap1,&quot;title&quot;,null);\r\n            Uri imgBitmapUri=Uri.parse(imgBitmapPath);\r\n            String shareText=paheliItem.getTitle();\r\n            Intent shareIntent=new Intent(Intent.ACTION_SEND);\r\n            shareIntent.setType(&quot;*/*&quot;);\r\n            shareIntent.putExtra(Intent.EXTRA_STREAM,imgBitmapUri);\r\n            shareIntent.putExtra(Intent.EXTRA_TEXT, shareText);\r\n            context.startActivity(Intent.createChooser(shareIntent,&quot;Share Wallpaper using&quot;));\r\n    \r\n        }\r\n    });","title":"How can I print text on an image? | Android Studio | Java","body":"<p>see code below:</p>\n<pre><code>private void drawTextOnBitmap(Bitmap bmp, String text, int x, int y, int textColor) {\n        Canvas canvas = new Canvas(bmp);\n\n        Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);\n        paint.setColor(textColor);\n        // draw text\n        canvas.drawText(text, x, y, paint);\n    }\n\n\nholder.shareBtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n\n        bitmapDrawable = (BitmapDrawable) holder.imageView.getDrawable();// get the from imageview or use your drawable from drawable folder\n        // draw text on bitmap\n        Bitmap bitmap1 = bitmapDrawable.getBitmap();\n        drawTextOnBitmap(bitmap1, &quot;YOUR TEXT&quot;, 0, 15, Color.RED);\n\n\n        String imgBitmapPath= MediaStore.Images.Media.insertImage(context.getContentResolver(),\n                bitmap1,&quot;title&quot;,null);\n        Uri imgBitmapUri=Uri.parse(imgBitmapPath);\n        String shareText=paheliItem.getTitle();\n        Intent shareIntent=new Intent(Intent.ACTION_SEND);\n        shareIntent.setType(&quot;*/*&quot;);\n        shareIntent.putExtra(Intent.EXTRA_STREAM,imgBitmapUri);\n        shareIntent.putExtra(Intent.EXTRA_TEXT, shareText);\n        context.startActivity(Intent.createChooser(shareIntent,&quot;Share Wallpaper using&quot;));\n\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":12256245,"reputation":3,"user_id":8945206,"display_name":"Abdul Rehman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70863452,"answer_count":1,"score":0,"last_activity_date":1643250440,"creation_date":1643194284,"question_id":70862271,"body_markdown":"I want to be able to print text on an image in my android app. \r\n\r\nCurrently, the code below allows the picture and text to be shared separately from each other.\r\nPlease refer to the picture to see the result. How can I get the text to print on the image?\r\n\r\nPlease help me out. I would really appreciate.\r\n\r\n    holder.shareBtn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n\r\n            bitmapDrawable = (BitmapDrawable) holder.imageView.getDrawable();// get the from imageview or use your drawable from drawable folder\r\n            bitmap1 = bitmapDrawable.getBitmap();\r\n            String imgBitmapPath= MediaStore.Images.Media.insertImage(context.getContentResolver(),\r\n                    bitmap1,&quot;title&quot;,null);\r\n            Uri imgBitmapUri=Uri.parse(imgBitmapPath);\r\n            String shareText=paheliItem.getTitle();\r\n            Intent shareIntent=new Intent(Intent.ACTION_SEND);\r\n            shareIntent.setType(&quot;*/*&quot;);\r\n            shareIntent.putExtra(Intent.EXTRA_STREAM,imgBitmapUri);\r\n            shareIntent.putExtra(Intent.EXTRA_TEXT, shareText);\r\n            context.startActivity(Intent.createChooser(shareIntent,&quot;Share Wallpaper using&quot;));\r\n\r\n        }\r\n    });\r\n\r\n[Image- result on clicking shareBtn][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fka1G.jpg","title":"How can I print text on an image? | Android Studio | Java","body":"<p>I want to be able to print text on an image in my android app.</p>\n<p>Currently, the code below allows the picture and text to be shared separately from each other.\nPlease refer to the picture to see the result. How can I get the text to print on the image?</p>\n<p>Please help me out. I would really appreciate.</p>\n<pre><code>holder.shareBtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n\n        bitmapDrawable = (BitmapDrawable) holder.imageView.getDrawable();// get the from imageview or use your drawable from drawable folder\n        bitmap1 = bitmapDrawable.getBitmap();\n        String imgBitmapPath= MediaStore.Images.Media.insertImage(context.getContentResolver(),\n                bitmap1,&quot;title&quot;,null);\n        Uri imgBitmapUri=Uri.parse(imgBitmapPath);\n        String shareText=paheliItem.getTitle();\n        Intent shareIntent=new Intent(Intent.ACTION_SEND);\n        shareIntent.setType(&quot;*/*&quot;);\n        shareIntent.putExtra(Intent.EXTRA_STREAM,imgBitmapUri);\n        shareIntent.putExtra(Intent.EXTRA_TEXT, shareText);\n        context.startActivity(Intent.createChooser(shareIntent,&quot;Share Wallpaper using&quot;));\n\n    }\n});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Fka1G.jpg\" rel=\"nofollow noreferrer\">Image- result on clicking shareBtn</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":8,"creation_date":1643246764,"post_id":70872217,"comment_id":125291597,"body_markdown":"Change it to `ArrayList&lt;? extends IStudyDetails&gt;`.","body":"Change it to <code>ArrayList&lt;? extends IStudyDetails&gt;</code>."},{"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"score":2,"creation_date":1643247759,"post_id":70872217,"comment_id":125291766,"body_markdown":"@shmosel can you make this an answer and explain ? Also ,is changing `subjectList` and `courseList`  type to `ArrayList&lt;IStudyDetails&gt;` wrong ?","body":"@shmosel can you make this an answer and explain ? Also ,is changing <code>subjectList</code> and <code>courseList</code>  type to <code>ArrayList&lt;IStudyDetails&gt;</code> wrong ?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1643248323,"post_id":70872217,"comment_id":125291865,"body_markdown":"@YasserCHENIK See also [What is PECS (Producer Extends Consumer Super)?](https://stackoverflow.com/a/2723538/2970947)","body":"@YasserCHENIK See also <a href=\"https://stackoverflow.com/a/2723538/2970947\">What is PECS (Producer Extends Consumer Super)?</a>"},{"owner":{"account_id":19538787,"reputation":401,"user_id":14297009,"display_name":"digolira2"},"score":0,"creation_date":1643249532,"post_id":70872217,"comment_id":125292076,"body_markdown":"@shmosel wow, it worked!    I agree with YasserChenik,  could you explain a bit better in this specific context?","body":"@shmosel wow, it worked!    I agree with YasserChenik,  could you explain a bit better in this specific context?"}],"answers":[{"tags":[],"owner":{"account_id":24055819,"reputation":11,"user_id":18033644,"display_name":"Log1cChan_CN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643250158,"creation_date":1643249804,"answer_id":70872536,"question_id":70872217,"body_markdown":"    public static void main(String[] args) {\r\n        //Objects created along the code are stored here\r\n        List&lt;IStudyDetails&gt; courseList = new ArrayList&lt;&gt;();\r\n        List&lt;IStudyDetails&gt; subjectList = new ArrayList&lt;&gt;();\r\n        Subject subject = new Subject(0001, &quot;John&quot;);\r\n        Subject subject1 = new Subject(1001, &quot;Tom&quot;);\r\n        subjectList.add(subject);\r\n        subjectList.add(subject1);\r\n        int subject_id = 1001;\r\n        int index_subject = findObjectById(subject_id,subjectList);\r\n    }\r\n    public static Integer findObjectById(int id, List&lt;IStudyDetails&gt; object_list) {\r\n        for (int i = 0; i &lt; object_list.size(); i++) {\r\n            if (id == object_list.get(i).getId()) {\r\n                System.out.println(i);\r\n                return i;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nI Just change the List Type, Cause both Course and Subject are implemented from IStudyDetails, so you need to use IStudyDetails as a type to create the list and it can work.","title":"Java different objects in a single method","body":"<pre><code>public static void main(String[] args) {\n    //Objects created along the code are stored here\n    List&lt;IStudyDetails&gt; courseList = new ArrayList&lt;&gt;();\n    List&lt;IStudyDetails&gt; subjectList = new ArrayList&lt;&gt;();\n    Subject subject = new Subject(0001, &quot;John&quot;);\n    Subject subject1 = new Subject(1001, &quot;Tom&quot;);\n    subjectList.add(subject);\n    subjectList.add(subject1);\n    int subject_id = 1001;\n    int index_subject = findObjectById(subject_id,subjectList);\n}\npublic static Integer findObjectById(int id, List&lt;IStudyDetails&gt; object_list) {\n    for (int i = 0; i &lt; object_list.size(); i++) {\n        if (id == object_list.get(i).getId()) {\n            System.out.println(i);\n            return i;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>I Just change the List Type, Cause both Course and Subject are implemented from IStudyDetails, so you need to use IStudyDetails as a type to create the list and it can work.</p>\n"}],"owner":{"account_id":19538787,"reputation":401,"user_id":14297009,"display_name":"digolira2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643250158,"creation_date":1643246562,"question_id":70872217,"body_markdown":"I Know there are a bunch of questions related with this topic. Most of the answers states &quot;use a interface&quot; or &quot;create a generic&quot;. Tried both and didnt work =( dont know what I&#39;m doing wrong.\r\n\r\n***Here is the problem:*** I have two classes: Subjects and Courses. In the main section, I want a function that will receive an id (provided by the user) and look into, for example, a subjectList, trying to find if the subject is there, if yes , return its index. The logic is the same for both Courses and Subjects, so I&#39;m trying to let this function become a bit more generic.\r\n\r\n\r\n     public static void main(String[] args) {\r\n            \r\n                 //Objects created along the code are stored here\r\n                 ArrayList&lt;Course&gt; courseList = new ArrayList&lt;&gt;();   \r\n                 ArrayList&lt;Subject&gt; subjectList = new ArrayList&lt;&gt;();\r\n            \r\n                public static Integer findObjectById(int id, ArrayList&lt;IStudyDetails&gt; object_list) {\r\n                    for (int i = 0; i &lt; object_list.size(); i++) {\r\n                        if (id == object_list.get(i).getId()) {\r\n                            return i;\r\n                        }\r\n                    }\r\n                    return null;\r\n                }\r\n        int index_subject = findObjectById(subject_id,subjectList);\r\n        }\r\n\r\n\r\n**Here is the Interface:**\r\nI tried to create this after look into some Stack Overflow related topics.\r\n\r\n    public interface IStudyDetails{\r\n        int getId();\r\n    \r\n    }\r\n\r\n**Here is the Course class: (I did hide most of the constructors/gets and setters)**\r\n\r\n    public class Course implements IStudyDetails {\r\n        private int id;\r\n        private String name;\r\n        public int getId() {return id;}}\r\n\r\n\r\n\r\n**Here is the Subject class (I did hide most of the constructors/gets and setters)**\r\n\r\n    public class Subject implements IStudyDetails {\r\n        private int id;\r\n        private String name;\r\n        public int getId() {return id;}}\r\n\r\n\r\n\r\n\r\n**THe error I&#39;m receiving is:**\r\n\r\n&gt; java: incompatible types: java.util.ArrayList&lt;entities.Subject&gt; cannot\r\n&gt; be converted to java.util.ArrayList&lt;entities.IStudyDetails&gt;\r\n\r\n\r\n","title":"Java different objects in a single method","body":"<p>I Know there are a bunch of questions related with this topic. Most of the answers states &quot;use a interface&quot; or &quot;create a generic&quot;. Tried both and didnt work =( dont know what I'm doing wrong.</p>\n<p><em><strong>Here is the problem:</strong></em> I have two classes: Subjects and Courses. In the main section, I want a function that will receive an id (provided by the user) and look into, for example, a subjectList, trying to find if the subject is there, if yes , return its index. The logic is the same for both Courses and Subjects, so I'm trying to let this function become a bit more generic.</p>\n<pre><code> public static void main(String[] args) {\n        \n             //Objects created along the code are stored here\n             ArrayList&lt;Course&gt; courseList = new ArrayList&lt;&gt;();   \n             ArrayList&lt;Subject&gt; subjectList = new ArrayList&lt;&gt;();\n        \n            public static Integer findObjectById(int id, ArrayList&lt;IStudyDetails&gt; object_list) {\n                for (int i = 0; i &lt; object_list.size(); i++) {\n                    if (id == object_list.get(i).getId()) {\n                        return i;\n                    }\n                }\n                return null;\n            }\n    int index_subject = findObjectById(subject_id,subjectList);\n    }\n</code></pre>\n<p><strong>Here is the Interface:</strong>\nI tried to create this after look into some Stack Overflow related topics.</p>\n<pre><code>public interface IStudyDetails{\n    int getId();\n\n}\n</code></pre>\n<p><strong>Here is the Course class: (I did hide most of the constructors/gets and setters)</strong></p>\n<pre><code>public class Course implements IStudyDetails {\n    private int id;\n    private String name;\n    public int getId() {return id;}}\n</code></pre>\n<p><strong>Here is the Subject class (I did hide most of the constructors/gets and setters)</strong></p>\n<pre><code>public class Subject implements IStudyDetails {\n    private int id;\n    private String name;\n    public int getId() {return id;}}\n</code></pre>\n<p><strong>THe error I'm receiving is:</strong></p>\n<blockquote>\n<p>java: incompatible types: java.util.ArrayList&lt;entities.Subject&gt; cannot\nbe converted to java.util.ArrayList&lt;entities.IStudyDetails&gt;</p>\n</blockquote>\n"},{"tags":["java","date","time","filenames"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1592878624,"post_id":62526087,"comment_id":110575818,"body_markdown":"&quot;with the locale date and hour&quot; -- did you mean &quot;local&quot; rather than &quot;locale&quot;?","body":"&quot;with the locale date and hour&quot; -- did you mean &quot;local&quot; rather than &quot;locale&quot;?"},{"owner":{"account_id":13035025,"reputation":27,"user_id":9420241,"display_name":"Ricard Barnes"},"score":0,"creation_date":1592879044,"post_id":62526087,"comment_id":110575908,"body_markdown":"I want the date being formatted using the locale format, given by the system (`Locale.getDefault()`). For instance, MM/dd/yyyy in the US, but replacing the slashes with dashes. So, I think it&#39;s locale what I mean, but I am a beginner and I may be a bit confused on that.","body":"I want the date being formatted using the locale format, given by the system (<code>Locale.getDefault()</code>). For instance, MM/dd/yyyy in the US, but replacing the slashes with dashes. So, I think it&#39;s locale what I mean, but I am a beginner and I may be a bit confused on that."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1592879648,"post_id":62526087,"comment_id":110576012,"body_markdown":"Localized formats may well contain characters that would be problematic on various file systems. Your example string using slash characters might cause problems on some Unix/POSIX-oriented file systems. Also, localized formats may be misinterpreted by humans who assume a different custom. And localized formats may make parsing that string back to a date-time value difficult or impossible. Look to [my Answer](https://stackoverflow.com/a/62526350/642706) to learn about using the &quot;basic&quot; variant of ISO 8601 to avoid such problems.","body":"Localized formats may well contain characters that would be problematic on various file systems. Your example string using slash characters might cause problems on some Unix/POSIX-oriented file systems. Also, localized formats may be misinterpreted by humans who assume a different custom. And localized formats may make parsing that string back to a date-time value difficult or impossible. Look to <a href=\"https://stackoverflow.com/a/62526350/642706\">my Answer</a> to learn about using the &quot;basic&quot; variant of ISO 8601 to avoid such problems."}],"answers":[{"tags":[],"owner":{"account_id":2364915,"reputation":351,"user_id":2070782,"display_name":"Dinesh K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643249820,"creation_date":1592878588,"answer_id":62526273,"question_id":62526087,"body_markdown":"Here is how you can get the locale Date_Time-\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n\r\n    public class CurrentDateTimeExample {\r\n       public static void main(String[] args) {\r\n           LocalDateTime currentDateTime = LocalDateTime.now();\r\n           System.out.println(&quot;Current Date and Time: &quot;+currentDateTime);\r\n\r\n           DateTimeFormatter pattern = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd_hh-mm-ss&quot;);\r\n           System.out.println(&quot;Date Time in 12 Hour format - &quot; + currentDateTime.format(pattern));\r\n       }\r\n    }\r\n\r\nFor more details please see this [Get Locale Date_Time][1]\r\n\r\n\r\n  [1]: https://kodehelp.com/get-current-date-and-time-java-examples/","title":"What would be a good way to get a full locale date and hour string with allowed filename characters, in Java?","body":"<p>Here is how you can get the locale Date_Time-</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class CurrentDateTimeExample {\n   public static void main(String[] args) {\n       LocalDateTime currentDateTime = LocalDateTime.now();\n       System.out.println(&quot;Current Date and Time: &quot;+currentDateTime);\n\n       DateTimeFormatter pattern = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd_hh-mm-ss&quot;);\n       System.out.println(&quot;Date Time in 12 Hour format - &quot; + currentDateTime.format(pattern));\n   }\n}\n</code></pre>\n<p>For more details please see this <a href=\"https://kodehelp.com/get-current-date-and-time-java-examples/\" rel=\"nofollow noreferrer\">Get Locale Date_Time</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1592883053,"creation_date":1592879181,"answer_id":62526350,"question_id":62526087,"body_markdown":"# *java.time*\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes. \r\n\r\n## Avoid localized formats\r\n\r\nYou asked for text representing the date-time value in various localized formats. That approach is unwise in a file name.\r\n\r\n - Localized formats may well contain characters that would be problematic on various file systems. Your example `MM/dd/yyyy` format using slash characters might cause problems on some Unix/[POSIX][1]-oriented file systems. \r\n - Localized formats may be misinterpreted by humans who assume a different custom. \r\n - Localized formats may make difficult or impossible parsing that string back to a date-time value.\r\n\r\nInstead, I strongly recommend using only standard [ISO 8601][2] formats.\r\n\r\n## “Basic” variant of ISO 8601\r\n\r\nYou asked for:\r\n\r\n&gt; must be human readable and compatible\r\n\r\nI suggest sticking with the &quot;basic&quot; variant of [ISO 8601][2] format that makes minimal use of delimiters. For compatibility with various filesystems you want to avoid slash, backslash, colon, and space characters. \r\n\r\nThe ISO 8601 format is in order of significance: year, month, day, hour, minute, second, fractional second. An uppercase `T` separates the date portion from the time-of-day portion. Such strings sort alphabetically as chronological. \r\n\r\n## UTC\r\n\r\nI also suggest you stick with [UTC][3] (an offset of zero hours-minutes-seconds). For this, use `Instant` (or `OffsetDateTime` set to UTC). \r\n\r\n    Instant instant = Instant.now() ; // Capture current moment as seen in UTC.\r\n\r\nTruncate if you do not want fractional seconds or minutes.\r\n\r\n    Instant instant = Instant.now().truncatedTo( ChronoUnit.MINUTES ) ;\r\n\r\nYou would do string manipulation to remove the hyphens between the year-month-day and the colons between the hour-minute-second. \r\n\r\n    String output = instant.replace( &quot;-&quot; , &quot;&quot; ).replace( &quot;:&quot; , &quot;&quot; ) ;\r\n\r\nFor 2021-01-23T12:30:35Z that would be:\r\n\r\n&gt;20210123T123035Z  \r\n\r\nThe trailing `Z` means UTC, and is pronounced “Zulu”. \r\n\r\n## Zoned moment\r\n\r\nIf you insist on using the date-time as seen in a particular time zone, use `ZonedDateTime`. \r\n\r\n    ZoneId z = ZoneId.systemDefault() ;  // Or ZoneId.of( &quot;Africa/Tunis&quot; ) and such.\r\n    ZonedDateTime zdt = ZonedDateTime.now().truncatedTo( ChronoUnit.MINUTES ) ;\r\n\r\nSpecify a formatting pattern.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuuMMdd&#39;T&#39;HHmmss&quot; ) ;\r\n    String output = zdt.format( f ) ;\r\n\r\nExample: \r\n\r\n&gt;20210123T123035\r\n\r\nI do not recommend omitting the zone or offset, but there you go if you insist. \r\n\r\nIf you insist your example format of `6-23-20_03-06-50`, define a `DateTimeFormatter` to match.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;M-d-uu&#39;_&#39;HH-mm-ss&quot; ) ;\r\n\r\nAllowing single-digit month or day is yet another thing I recommend against. As is the use of a two-digit year. \r\n\r\n\r\n----------\r\n\r\n\r\n[![Table of all date-time types in Java, both modern and legacy][4]][4]\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/POSIX\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [4]: https://i.stack.imgur.com/WyAl2.png","title":"What would be a good way to get a full locale date and hour string with allowed filename characters, in Java?","body":"<h1><em>java.time</em></h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes.</p>\n<h2>Avoid localized formats</h2>\n<p>You asked for text representing the date-time value in various localized formats. That approach is unwise in a file name.</p>\n<ul>\n<li>Localized formats may well contain characters that would be problematic on various file systems. Your example <code>MM/dd/yyyy</code> format using slash characters might cause problems on some Unix/<a href=\"https://en.wikipedia.org/wiki/POSIX\" rel=\"nofollow noreferrer\">POSIX</a>-oriented file systems.</li>\n<li>Localized formats may be misinterpreted by humans who assume a different custom.</li>\n<li>Localized formats may make difficult or impossible parsing that string back to a date-time value.</li>\n</ul>\n<p>Instead, I strongly recommend using only standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats.</p>\n<h2>“Basic” variant of ISO 8601</h2>\n<p>You asked for:</p>\n<blockquote>\n<p>must be human readable and compatible</p>\n</blockquote>\n<p>I suggest sticking with the &quot;basic&quot; variant of <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format that makes minimal use of delimiters. For compatibility with various filesystems you want to avoid slash, backslash, colon, and space characters.</p>\n<p>The ISO 8601 format is in order of significance: year, month, day, hour, minute, second, fractional second. An uppercase <code>T</code> separates the date portion from the time-of-day portion. Such strings sort alphabetically as chronological.</p>\n<h2>UTC</h2>\n<p>I also suggest you stick with <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> (an offset of zero hours-minutes-seconds). For this, use <code>Instant</code> (or <code>OffsetDateTime</code> set to UTC).</p>\n<pre><code>Instant instant = Instant.now() ; // Capture current moment as seen in UTC.\n</code></pre>\n<p>Truncate if you do not want fractional seconds or minutes.</p>\n<pre><code>Instant instant = Instant.now().truncatedTo( ChronoUnit.MINUTES ) ;\n</code></pre>\n<p>You would do string manipulation to remove the hyphens between the year-month-day and the colons between the hour-minute-second.</p>\n<pre><code>String output = instant.replace( &quot;-&quot; , &quot;&quot; ).replace( &quot;:&quot; , &quot;&quot; ) ;\n</code></pre>\n<p>For 2021-01-23T12:30:35Z that would be:</p>\n<blockquote>\n<p>20210123T123035Z</p>\n</blockquote>\n<p>The trailing <code>Z</code> means UTC, and is pronounced “Zulu”.</p>\n<h2>Zoned moment</h2>\n<p>If you insist on using the date-time as seen in a particular time zone, use <code>ZonedDateTime</code>.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;  // Or ZoneId.of( &quot;Africa/Tunis&quot; ) and such.\nZonedDateTime zdt = ZonedDateTime.now().truncatedTo( ChronoUnit.MINUTES ) ;\n</code></pre>\n<p>Specify a formatting pattern.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuuMMdd'T'HHmmss&quot; ) ;\nString output = zdt.format( f ) ;\n</code></pre>\n<p>Example:</p>\n<blockquote>\n<p>20210123T123035</p>\n</blockquote>\n<p>I do not recommend omitting the zone or offset, but there you go if you insist.</p>\n<p>If you insist your example format of <code>6-23-20_03-06-50</code>, define a <code>DateTimeFormatter</code> to match.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;M-d-uu'_'HH-mm-ss&quot; ) ;\n</code></pre>\n<p>Allowing single-digit month or day is yet another thing I recommend against. As is the use of a two-digit year.</p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/WyAl2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WyAl2.png\" alt=\"Table of all date-time types in Java, both modern and legacy\" /></a></p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n"}],"owner":{"account_id":13035025,"reputation":27,"user_id":9420241,"display_name":"Ricard Barnes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62526350,"answer_count":2,"score":0,"last_activity_date":1643249820,"creation_date":1592877076,"question_id":62526087,"body_markdown":"I want to build a string with the locale date and hour, concatenated, that must be human readable and compatible with the most common OS file allowed characters as well. Something like: \r\n\r\n&gt; 6-23-20_03-06-50\r\n\r\nI am using this as an automated filename suggestion for the user.\r\nTo achieve this, I have written the following code:\r\n\r\n    public class CustomDateProvider {\r\n    \r\n        private static final String TWO_DIGIT_PATTERN = &quot;%02d&quot;;\r\n    \r\n        public static String getDashedDateAndHourFromDate(Date date) {\r\n            ZonedDateTime dateTime = date.toInstant().atZone(ZoneId.systemDefault());\r\n            int hour = dateTime.getHour();\r\n            int minute = dateTime.getMinute();\r\n            int second = dateTime.getSecond();\r\n    \r\n            DateFormat dateFormat = DateFormat.getDateInstance(DateFormat.SHORT, Locale.getDefault());\r\n            String localeDate = dateFormat.format(date);\r\n            String dashedDate = localeDate.replace(&quot;/&quot;, &quot;-&quot;);\r\n    \r\n            return dashedDate\r\n                    + &quot;_&quot;\r\n                    + String.format(TWO_DIGIT_PATTERN, hour)\r\n                    + &quot;-&quot;\r\n                    + String.format(TWO_DIGIT_PATTERN, minute)\r\n                    + &quot;-&quot;\r\n                    + String.format(TWO_DIGIT_PATTERN, second);\r\n        }\r\n    }\r\n\r\nThus, I am assuming the date separator char will always be &quot;**/**&quot;, and I am not sure if this is always correct.\r\nEither way, there are probably better ways to achieve my goal, and I would appreciate any improvement.","title":"What would be a good way to get a full locale date and hour string with allowed filename characters, in Java?","body":"<p>I want to build a string with the locale date and hour, concatenated, that must be human readable and compatible with the most common OS file allowed characters as well. Something like:</p>\n<blockquote>\n<p>6-23-20_03-06-50</p>\n</blockquote>\n<p>I am using this as an automated filename suggestion for the user.\nTo achieve this, I have written the following code:</p>\n<pre><code>public class CustomDateProvider {\n\n    private static final String TWO_DIGIT_PATTERN = &quot;%02d&quot;;\n\n    public static String getDashedDateAndHourFromDate(Date date) {\n        ZonedDateTime dateTime = date.toInstant().atZone(ZoneId.systemDefault());\n        int hour = dateTime.getHour();\n        int minute = dateTime.getMinute();\n        int second = dateTime.getSecond();\n\n        DateFormat dateFormat = DateFormat.getDateInstance(DateFormat.SHORT, Locale.getDefault());\n        String localeDate = dateFormat.format(date);\n        String dashedDate = localeDate.replace(&quot;/&quot;, &quot;-&quot;);\n\n        return dashedDate\n                + &quot;_&quot;\n                + String.format(TWO_DIGIT_PATTERN, hour)\n                + &quot;-&quot;\n                + String.format(TWO_DIGIT_PATTERN, minute)\n                + &quot;-&quot;\n                + String.format(TWO_DIGIT_PATTERN, second);\n    }\n}\n</code></pre>\n<p>Thus, I am assuming the date separator char will always be &quot;<strong>/</strong>&quot;, and I am not sure if this is always correct.\nEither way, there are probably better ways to achieve my goal, and I would appreciate any improvement.</p>\n"},{"tags":["java","javascript","html","canvas","graph"],"comments":[{"owner":{"account_id":55585,"reputation":24902,"user_id":166491,"accept_rate":67,"display_name":"Mic"},"score":0,"creation_date":1321811909,"post_id":8201504,"comment_id":10082439,"body_markdown":"Did you have a look at d3.js? http://mbostock.github.com/d3/","body":"Did you have a look at d3.js? <a href=\"http://mbostock.github.com/d3/\" rel=\"nofollow noreferrer\">mbostock.github.com/d3</a>"},{"owner":{"account_id":477356,"reputation":33,"user_id":888807,"display_name":"2xyo"},"score":0,"creation_date":1321871523,"post_id":8201504,"comment_id":10092695,"body_markdown":"@Mic This library does cover my needs in part. However, It lacks partly due to the algorithms.","body":"@Mic This library does cover my needs in part. However, It lacks partly due to the algorithms."}],"answers":[{"tags":[],"owner":{"account_id":1054996,"reputation":556,"user_id":1057925,"display_name":"Yoann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1321884253,"creation_date":1321884253,"answer_id":8213026,"question_id":8201504,"body_markdown":"I don’t know about other tools but as a GraphStream dev I can tell about perspectives of the project.\r\n\r\nWe do not plan to rewrite the all project in JS, however we are working on a Web based viewer.  The idea would be to keep the graph/algorithmic part on the server side, and to focus on the visualization on the client side. \r\n\r\nTechnologies on the server side would lead to a connection between GraphStream and a Web server. On the client side investigated techs for now are:\r\n\r\n - HTML5 canvas drawing for the visualization;\r\n - WebSocket communication channels for the client/server communication.\r\n\r\n\r\n","title":"Is there an equivalent of graphstream (Java) in HTML5 (canvas + JavaScript)","body":"<p>I don’t know about other tools but as a GraphStream dev I can tell about perspectives of the project.</p>\n\n<p>We do not plan to rewrite the all project in JS, however we are working on a Web based viewer.  The idea would be to keep the graph/algorithmic part on the server side, and to focus on the visualization on the client side. </p>\n\n<p>Technologies on the server side would lead to a connection between GraphStream and a Web server. On the client side investigated techs for now are:</p>\n\n<ul>\n<li>HTML5 canvas drawing for the visualization;</li>\n<li>WebSocket communication channels for the client/server communication.</li>\n</ul>\n"}],"owner":{"account_id":477356,"reputation":33,"user_id":888807,"display_name":"2xyo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643249594,"creation_date":1321792585,"question_id":8201504,"body_markdown":"[GraphStream][1] is a dynamic graph library written in Java that provides Java developers a way to easily represent dynamic graphs in memory, on screen or in files. [Video demo][2].\r\n\r\nGraphStream provides a framework to handle the evolution of graphs, that is the changes on values stored on edges and nodes of a graph during time, but also the &quot;topology&quot; changes of the graph, that is the addition, removal and modification of nodes and edges during time.\r\n\r\nIs there an equivalent of GraphStream in HTML5 (element canvas with JavaScript) with this kind of algoritmes :\r\n\r\n - Welsh-Powell \r\n - Betweenness Centrality\r\n - Random walks on graphs\r\n - Several often used algorithms on graphs\r\n - Base for spanning-tree algorithm\r\n - BellmanFord  \r\n - Kruskal, spanning-tree algorithm \r\n - Prim, spanning-tree algorithm\r\n - Centroid\r\n - Eccentricity\r\n - All Pair Shortest Path\r\n - Dijkstra\r\n - Connected Components \r\n - etc.\r\n\r\n\r\n  [1]: http://www.graphstream-project.org/\r\n  [2]: http://www.youtube.com/watch?v=XX5rRF6uxow&amp;list=UUXAWLKCPQfyBuINOpYp37Cw&amp;feature=plcp","title":"Is there an equivalent of graphstream (Java) in HTML5 (canvas + JavaScript)","body":"<p><a href=\"http://www.graphstream-project.org/\" rel=\"nofollow\">GraphStream</a> is a dynamic graph library written in Java that provides Java developers a way to easily represent dynamic graphs in memory, on screen or in files. <a href=\"http://www.youtube.com/watch?v=XX5rRF6uxow&amp;list=UUXAWLKCPQfyBuINOpYp37Cw&amp;feature=plcp\" rel=\"nofollow\">Video demo</a>.</p>\n\n<p>GraphStream provides a framework to handle the evolution of graphs, that is the changes on values stored on edges and nodes of a graph during time, but also the \"topology\" changes of the graph, that is the addition, removal and modification of nodes and edges during time.</p>\n\n<p>Is there an equivalent of GraphStream in HTML5 (element canvas with JavaScript) with this kind of algoritmes :</p>\n\n<ul>\n<li>Welsh-Powell </li>\n<li>Betweenness Centrality</li>\n<li>Random walks on graphs</li>\n<li>Several often used algorithms on graphs</li>\n<li>Base for spanning-tree algorithm</li>\n<li>BellmanFord  </li>\n<li>Kruskal, spanning-tree algorithm </li>\n<li>Prim, spanning-tree algorithm</li>\n<li>Centroid</li>\n<li>Eccentricity</li>\n<li>All Pair Shortest Path</li>\n<li>Dijkstra</li>\n<li>Connected Components </li>\n<li>etc.</li>\n</ul>\n"},{"tags":["java","eclipse","maven","servlets","jetty"],"comments":[{"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"score":1,"creation_date":1498408424,"post_id":44748371,"comment_id":76477599,"body_markdown":"Do not use images of code. Please post your actual code.","body":"Do not use images of code. Please post your actual code."},{"owner":{"account_id":6657175,"reputation":11,"user_id":5137324,"display_name":"gis_dev_4ever_seahigh"},"score":0,"creation_date":1498440977,"post_id":44748371,"comment_id":76485261,"body_markdown":"If I delete the ,value=&quot;/&quot; in the annotation. It does not work fine.","body":"If I delete the ,value=&quot;/&quot; in the annotation. It does not work fine."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1498514311,"post_id":44748371,"comment_id":76519598,"body_markdown":"Don&#39;t use unstable releases of Jetty.  `9.3.0.M2` is milestone/alpha/beta release.  Use a stable release version, such as `9.4.6.v20170531`","body":"Don&#39;t use unstable releases of Jetty.  <code>9.3.0.M2</code> is milestone/alpha/beta release.  Use a stable release version, such as <code>9.4.6.v20170531</code>"}],"answers":[{"tags":[],"owner":{"account_id":7845051,"reputation":21,"user_id":5930402,"display_name":"Ivan Ovitx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516325806,"creation_date":1516325806,"answer_id":48332915,"question_id":44748371,"body_markdown":"I don&#39;t know if it&#39;s your case but I faced similar issue with Jetty.\r\n\r\nWhen using annotations the **web.xml** file is not needed anymore, so if you have it then remove it (even if there are no servlets mapped inside) and it will make the trick.\r\n\r\nAlso note that either ***value*** or ***urlPatterns*** are required attributes for **@WebServlet** annotation but you shouldn&#39;t use both at the same time.","title":"use @WebServlet annotation in maven jetty plugin","body":"<p>I don't know if it's your case but I faced similar issue with Jetty.</p>\n\n<p>When using annotations the <strong>web.xml</strong> file is not needed anymore, so if you have it then remove it (even if there are no servlets mapped inside) and it will make the trick.</p>\n\n<p>Also note that either <strong><em>value</em></strong> or <strong><em>urlPatterns</em></strong> are required attributes for <strong>@WebServlet</strong> annotation but you shouldn't use both at the same time.</p>\n"},{"tags":[],"owner":{"account_id":29800,"reputation":1196,"user_id":80772,"display_name":"eel ghEEz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643247979,"creation_date":1643247979,"answer_id":70872360,"question_id":44748371,"body_markdown":"This Github issue mentions that servlet API moved packages from `javax.*` to `jakarta.*`. Only Jetty 11 and later changed to reading annotations from `jakarta`.  Perhaps, your code uses the newer jakarta servlet API and older Jetty 9.\r\n\r\nhttps://github.com/eclipse/jetty.project/issues/5964#issuecomment-777083559\r\n","title":"use @WebServlet annotation in maven jetty plugin","body":"<p>This Github issue mentions that servlet API moved packages from <code>javax.*</code> to <code>jakarta.*</code>. Only Jetty 11 and later changed to reading annotations from <code>jakarta</code>.  Perhaps, your code uses the newer jakarta servlet API and older Jetty 9.</p>\n<p><a href=\"https://github.com/eclipse/jetty.project/issues/5964#issuecomment-777083559\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/issues/5964#issuecomment-777083559</a></p>\n"}],"owner":{"account_id":6657175,"reputation":11,"user_id":5137324,"display_name":"gis_dev_4ever_seahigh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1548,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643247979,"creation_date":1498408345,"question_id":44748371,"body_markdown":"I build an web application in my ecplise with maven plugin\r\nI want debug it in jetty.\r\n\r\nthis is my code:\r\n\r\n    @WebServlet(name=&quot;Startup&quot;,value=&quot;/&quot;, urlPatterns = {}, loadOnStartup = 1)\r\n    public class Startup extends HttpServlet {\r\n\t    private static final long serialVersionUID = 1L;\r\n       \r\n\t    /**\r\n\t     * @see Servlet#init(ServletConfig)\r\n\t     */\r\n\t    @Override\r\n\t    public void init(ServletConfig config) throws ServletException {\r\n\t    \tSystem.out.println(&quot;start up&quot;);\r\n\t\t    QCloud.setupSDK();\r\n\t    }\r\n\r\nthis is  pom:\r\n\r\n    &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;9.3.0.M2&lt;/version&gt;\r\n\t\t\t\t \r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;stopPort&gt;8889&lt;/stopPort&gt;\r\n\t\t\t\t\t&lt;useTestClasspath&gt;false&lt;/useTestClasspath&gt;\r\n\t\t\t\t\t&lt;webAppConfig&gt;\r\n\t\t\t\t\t\t&lt;contextPath&gt;/${project.name}&lt;/contextPath&gt;\r\n\t\t\t\t\t&lt;/webAppConfig&gt;\r\n\t\t\t\t\t \r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nwhen i start the jetty server. no error shows. and i can see the index page.\r\nbut i can&#39;t visti my servlet. It seems the servlet haven&#39;t init with jetty server.\r\nthen I build a war and put it in the webapps of a tomcat server.\r\neverything is ok ,the servlet init successfully, anyone knows why?","title":"use @WebServlet annotation in maven jetty plugin","body":"<p>I build an web application in my ecplise with maven plugin\nI want debug it in jetty.</p>\n\n<p>this is my code:</p>\n\n<pre><code>@WebServlet(name=\"Startup\",value=\"/\", urlPatterns = {}, loadOnStartup = 1)\npublic class Startup extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    /**\n     * @see Servlet#init(ServletConfig)\n     */\n    @Override\n    public void init(ServletConfig config) throws ServletException {\n        System.out.println(\"start up\");\n        QCloud.setupSDK();\n    }\n</code></pre>\n\n<p>this is  pom:</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;9.3.0.M2&lt;/version&gt;\n\n            &lt;configuration&gt;\n                &lt;stopPort&gt;8889&lt;/stopPort&gt;\n                &lt;useTestClasspath&gt;false&lt;/useTestClasspath&gt;\n                &lt;webAppConfig&gt;\n                    &lt;contextPath&gt;/${project.name}&lt;/contextPath&gt;\n                &lt;/webAppConfig&gt;\n\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>when i start the jetty server. no error shows. and i can see the index page.\nbut i can't visti my servlet. It seems the servlet haven't init with jetty server.\nthen I build a war and put it in the webapps of a tomcat server.\neverything is ok ,the servlet init successfully, anyone knows why?</p>\n"},{"tags":["java","javadoc","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":1,"creation_date":1643066719,"post_id":70838620,"comment_id":125237281,"body_markdown":"What is the JavaDoc on your field declaration of `type`?","body":"What is the JavaDoc on your field declaration of <code>type</code>?"},{"owner":{"account_id":7297,"reputation":32768,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"score":0,"creation_date":1643071666,"post_id":70838620,"comment_id":125238179,"body_markdown":"Arguably, your &quot;no warning-producing javadoc&quot; should have produced a warning. There is absolutely no value in that line of &quot;code&quot; You see the name of the parameter. Well, that&#39;s already in the code. I wish that that type of javadoc, or similarly `@param type the type` would be flagged.","body":"Arguably, your &quot;no warning-producing javadoc&quot; should have produced a warning. There is absolutely no value in that line of &quot;code&quot; You see the name of the parameter. Well, that&#39;s already in the code. I wish that that type of javadoc, or similarly <code>@param type the type</code> would be flagged."},{"owner":{"account_id":5221319,"reputation":718,"user_id":4174701,"accept_rate":27,"display_name":"michelson"},"score":0,"creation_date":1643099302,"post_id":70838620,"comment_id":125243310,"body_markdown":"@JanRieke none. But as you mentioned it - I&#39;ve added some and its being copied both to the field in delomboked class as well as its put over the builder method for that field. Problem is that its copied 1:1 so its just a description for the method, and `@param` is &quot;not allowed&quot; over fields in the original,lomboked file.","body":"@JanRieke none. But as you mentioned it - I&#39;ve added some and its being copied both to the field in delomboked class as well as its put over the builder method for that field. Problem is that its copied 1:1 so its just a description for the method, and <code>@param</code> is &quot;not allowed&quot; over fields in the original,lomboked file."},{"owner":{"account_id":5221319,"reputation":718,"user_id":4174701,"accept_rate":27,"display_name":"michelson"},"score":0,"creation_date":1643099611,"post_id":70838620,"comment_id":125243399,"body_markdown":"@RoelSpilker yes, you are absolutely right, I&#39;ve edited the question. Of course I want to have some meaningful message there, not just &quot;the type&quot; or &quot;type&quot; :D","body":"@RoelSpilker yes, you are absolutely right, I&#39;ve edited the question. Of course I want to have some meaningful message there, not just &quot;the type&quot; or &quot;type&quot; :D"}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643247593,"creation_date":1643247593,"answer_id":70872314,"question_id":70838620,"body_markdown":"With the latest Lombok versions&#185;, delombok will copy the `@param` placed in the field Javadoc to the corresponding builder method.\r\n\r\nThis is an extension of the existing [`@Getter/@Setter`](https://projectlombok.org/features/GetterSetter) feature, which already moved `@param`/`@return` to the corresponding setter/getter.\r\n\r\nYou can also *optionally* put fully custom documentation using `-- SETTER --`/`-- GETTER --` (the `@param` and `@return` tags must then be in the corresponding section in that case):\r\n\r\n```\r\n@Builder\r\n@Data\r\n@AllArgsConstructor\r\npublic class LombokJavadoc {\r\n    /**\r\n     * my nice field\r\n     *\r\n     * -- SETTER --\r\n     * sets the something\r\n     *\r\n     * @param something a nice value\r\n     * -- GETTER --\r\n     * access for something\r\n     *\r\n     * @return a nice value\r\n     */\r\n    private String something;\r\n}\r\n```\r\nGenerates:\r\n```\r\npublic class LombokJavadoc {\r\n    /**\r\n     * my nice field\r\n     */\r\n    private String something;\r\n\r\n\r\n    @java.lang.SuppressWarnings(&quot;all&quot;)\r\n    public static class LombokJavadocBuilder {\r\n        […]\r\n\r\n        /**\r\n         * sets the something\r\n         *\r\n         * @param something a nice value\r\n         * @return {@code this}.\r\n         */\r\n        @java.lang.SuppressWarnings(&quot;all&quot;)\r\n        public LombokJavadoc.LombokJavadocBuilder something(final String something) {\r\n            this.something = something;\r\n            return this;\r\n        }\r\n    }\r\n\r\n    […]\r\n\r\n    /**\r\n     * access for something\r\n     *\r\n     * @return a nice value\r\n     */\r\n    @java.lang.SuppressWarnings(&quot;all&quot;)\r\n    public String getSomething() {\r\n        return this.something;\r\n    }\r\n\r\n    /**\r\n     * sets the something\r\n     *\r\n     * @param something a nice value\r\n     */\r\n    @java.lang.SuppressWarnings(&quot;all&quot;)\r\n    public void setSomething(final String something) {\r\n        this.something = something;\r\n    }\r\n    \r\n    […]\r\n}\r\n```\r\n\r\n&#185; This appears to actually have been implemented in PR [#2008](https://github.com/projectlombok/lombok/pull/2008), which was part of [v1.18.6](https://projectlombok.org/changelog)","title":"Javadoc warning: no @param for type when using Lombok @Builder","body":"<p>With the latest Lombok versions¹, delombok will copy the <code>@param</code> placed in the field Javadoc to the corresponding builder method.</p>\n<p>This is an extension of the existing <a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\"><code>@Getter/@Setter</code></a> feature, which already moved <code>@param</code>/<code>@return</code> to the corresponding setter/getter.</p>\n<p>You can also <em>optionally</em> put fully custom documentation using <code>-- SETTER --</code>/<code>-- GETTER --</code> (the <code>@param</code> and <code>@return</code> tags must then be in the corresponding section in that case):</p>\n<pre><code>@Builder\n@Data\n@AllArgsConstructor\npublic class LombokJavadoc {\n    /**\n     * my nice field\n     *\n     * -- SETTER --\n     * sets the something\n     *\n     * @param something a nice value\n     * -- GETTER --\n     * access for something\n     *\n     * @return a nice value\n     */\n    private String something;\n}\n</code></pre>\n<p>Generates:</p>\n<pre><code>public class LombokJavadoc {\n    /**\n     * my nice field\n     */\n    private String something;\n\n\n    @java.lang.SuppressWarnings(&quot;all&quot;)\n    public static class LombokJavadocBuilder {\n        […]\n\n        /**\n         * sets the something\n         *\n         * @param something a nice value\n         * @return {@code this}.\n         */\n        @java.lang.SuppressWarnings(&quot;all&quot;)\n        public LombokJavadoc.LombokJavadocBuilder something(final String something) {\n            this.something = something;\n            return this;\n        }\n    }\n\n    […]\n\n    /**\n     * access for something\n     *\n     * @return a nice value\n     */\n    @java.lang.SuppressWarnings(&quot;all&quot;)\n    public String getSomething() {\n        return this.something;\n    }\n\n    /**\n     * sets the something\n     *\n     * @param something a nice value\n     */\n    @java.lang.SuppressWarnings(&quot;all&quot;)\n    public void setSomething(final String something) {\n        this.something = something;\n    }\n    \n    […]\n}\n</code></pre>\n<p>¹ This appears to actually have been implemented in PR <a href=\"https://github.com/projectlombok/lombok/pull/2008\" rel=\"nofollow noreferrer\">#2008</a>, which was part of <a href=\"https://projectlombok.org/changelog\" rel=\"nofollow noreferrer\">v1.18.6</a></p>\n"}],"owner":{"account_id":5221319,"reputation":718,"user_id":4174701,"accept_rate":27,"display_name":"michelson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4027,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1643247593,"creation_date":1643048523,"question_id":70838620,"body_markdown":"when generating javadoc from sources (delomboked) I receive following warnings for the builder classes generated by the Lombok&#39;s `@Builder`\r\n\r\n```text\r\n[ERROR] Error while creating javadoc report: \r\nExit code: 1 - /path/to/project/ProjectData.java:85: warning: no @param for type\r\n        public ProjectData.ProjectDataBuilder type(final ProjectType type) {\r\n```\r\n\r\nHere is a part of delomboked class causing warning:\r\n```java\r\n/**\r\n * @return {@code this}.\r\n */\r\n@java.lang.SuppressWarnings(&quot;all&quot;)\r\npublic ProjectData.ProjectDataBuilder type(final ProjectType type) {\r\n    this.type = type;\r\n    return this;\r\n}\r\n```\r\n\r\nAnd here is what is assumed a proper, no warning-producing javadoc - with `@param` present\r\n```java\r\n/**\r\n * @param type some meaningful description\r\n * @return {@code this}.\r\n */\r\n@java.lang.SuppressWarnings(&quot;all&quot;)\r\npublic ProjectData.ProjectDataBuilder type(final ProjectType type) {\r\n    this.type = type;\r\n    return this;\r\n}\r\n```\r\n\r\n**Is there a way to make de-lombok generate these as well? There are a lot of such warning in my project and they kind of clouds all the relevant actual errors.**\r\n\r\n","title":"Javadoc warning: no @param for type when using Lombok @Builder","body":"<p>when generating javadoc from sources (delomboked) I receive following warnings for the builder classes generated by the Lombok's <code>@Builder</code></p>\n<pre><code>[ERROR] Error while creating javadoc report: \nExit code: 1 - /path/to/project/ProjectData.java:85: warning: no @param for type\n        public ProjectData.ProjectDataBuilder type(final ProjectType type) {\n</code></pre>\n<p>Here is a part of delomboked class causing warning:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @return {@code this}.\n */\n@java.lang.SuppressWarnings(&quot;all&quot;)\npublic ProjectData.ProjectDataBuilder type(final ProjectType type) {\n    this.type = type;\n    return this;\n}\n</code></pre>\n<p>And here is what is assumed a proper, no warning-producing javadoc - with <code>@param</code> present</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @param type some meaningful description\n * @return {@code this}.\n */\n@java.lang.SuppressWarnings(&quot;all&quot;)\npublic ProjectData.ProjectDataBuilder type(final ProjectType type) {\n    this.type = type;\n    return this;\n}\n</code></pre>\n<p><strong>Is there a way to make de-lombok generate these as well? There are a lot of such warning in my project and they kind of clouds all the relevant actual errors.</strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":0,"creation_date":1643233531,"post_id":70870440,"comment_id":125288728,"body_markdown":"I remember [AndroidViewClient/culebra](https://github.com/dtmilano/AndroidViewClient) has a map https://github.com/dtmilano/AndroidViewClient/blob/master/src/com/dtmilano/android/viewclient.py#L1539 that might be useful (IIRC it was obtained from IANA registry).","body":"I remember <a href=\"https://github.com/dtmilano/AndroidViewClient\" rel=\"nofollow noreferrer\">AndroidViewClient/culebra</a> has a map <a href=\"https://github.com/dtmilano/AndroidViewClient/blob/master/src/com/dtmilano/android/viewclient.py#L1539\" rel=\"nofollow noreferrer\">github.com/dtmilano/AndroidViewClient/blob/master/src/com/&hellip;</a> that might be useful (IIRC it was obtained from IANA registry)."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643247501,"creation_date":1643233224,"answer_id":70870615,"question_id":70870440,"body_markdown":"Call [`Locale#getDisplayLanguage`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html#getDisplayLanguage(java.util.Locale)) while passing the locale for which you want the name of language translated. \r\n\r\n    String langNameEnUs = \r\n            Locale\r\n            .getDefault()\r\n            .getDisplayLanguage( Locale.US ) ;  // “Spanish”, not “espa&#241;ol” nor “espagnol”.\r\n\r\n&gt; Spanish\r\n\r\nYou said:\r\n\r\n&gt; But then I would have to set the default back\r\n\r\nNo, no need to monkey around with the JVM’s current default locale. Simply specify the language you want to use in translating the default locale’s name by passing a `Locale` object.\r\n\r\nHere is a demonstration. \r\n\r\n    Locale.setDefault( new Locale( &quot;es&quot; , &quot;ES&quot; ) ) ;  // For the sake of this demonstration, we want to see the language of Spanish, and cultural norms of Spain &#127466;&#127480;. \r\n\r\n    String langName_en_US = Locale.getDefault().getDisplayLanguage( Locale.US ) ; \r\n    String langName_fr_FR = Locale.getDefault().getDisplayLanguage( Locale.FRANCE ) ; \r\n    String langName_Japan = Locale.getDefault().getDisplayLanguage( Locale.JAPAN ) ;  \r\n\r\n\r\nSee this [code run live at IdeOne.com](https://ideone.com/0lAOMj).\r\n\r\n&gt; Spanish\r\n&gt;\r\n&gt;espagnol\r\n&gt;\r\n&gt; スペイン語\r\n","title":"How can I get the English spelling of the current default language regardless of the phone language?","body":"<p>Call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html#getDisplayLanguage(java.util.Locale)\" rel=\"nofollow noreferrer\"><code>Locale#getDisplayLanguage</code></a> while passing the locale for which you want the name of language translated.</p>\n<pre><code>String langNameEnUs = \n        Locale\n        .getDefault()\n        .getDisplayLanguage( Locale.US ) ;  // “Spanish”, not “español” nor “espagnol”.\n</code></pre>\n<blockquote>\n<p>Spanish</p>\n</blockquote>\n<p>You said:</p>\n<blockquote>\n<p>But then I would have to set the default back</p>\n</blockquote>\n<p>No, no need to monkey around with the JVM’s current default locale. Simply specify the language you want to use in translating the default locale’s name by passing a <code>Locale</code> object.</p>\n<p>Here is a demonstration.</p>\n<pre><code>Locale.setDefault( new Locale( &quot;es&quot; , &quot;ES&quot; ) ) ;  // For the sake of this demonstration, we want to see the language of Spanish, and cultural norms of Spain 🇪🇸. \n\nString langName_en_US = Locale.getDefault().getDisplayLanguage( Locale.US ) ; \nString langName_fr_FR = Locale.getDefault().getDisplayLanguage( Locale.FRANCE ) ; \nString langName_Japan = Locale.getDefault().getDisplayLanguage( Locale.JAPAN ) ;  \n</code></pre>\n<p>See this <a href=\"https://ideone.com/0lAOMj\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>Spanish</p>\n<p>espagnol</p>\n<p>スペイン語</p>\n</blockquote>\n"}],"owner":{"account_id":361931,"reputation":8776,"user_id":704836,"accept_rate":63,"display_name":"casolorz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70870615,"answer_count":1,"score":1,"last_activity_date":1643247501,"creation_date":1643232289,"question_id":70870440,"body_markdown":"I need to be able to compare language names between the phone&#39;s default language and a a language name that a third party gives me in English. \r\n\r\nSo if a phone is in Spanish then `&quot;espa&#241;ol&quot;.equals(&quot;spanish&quot;)` will fail. So even though the phone is in Spanish, I need the comparison to be `&quot;spanish&quot;.equals(&quot;spanish&quot;)`. Hope that makes sense. \r\n\r\nI have found a way to do it but I don&#39;t like setting the default `Locale`.\r\n\r\n    Locale def  = Locale.getDefault();\r\n    Locale english = Locale.ENGLISH;\r\n    Locale.setDefault(english);\r\n\r\nNow `def` has `Spanish` as the `DisplayLanguage`. \r\n\r\nBut then I would have to set the default back after I do my comparison. And what happens if at that same time something else queries the locale? \r\n\r\nAnyway, is there a better way to do this?","title":"How can I get the English spelling of the current default language regardless of the phone language?","body":"<p>I need to be able to compare language names between the phone's default language and a a language name that a third party gives me in English.</p>\n<p>So if a phone is in Spanish then <code>&quot;español&quot;.equals(&quot;spanish&quot;)</code> will fail. So even though the phone is in Spanish, I need the comparison to be <code>&quot;spanish&quot;.equals(&quot;spanish&quot;)</code>. Hope that makes sense.</p>\n<p>I have found a way to do it but I don't like setting the default <code>Locale</code>.</p>\n<pre><code>Locale def  = Locale.getDefault();\nLocale english = Locale.ENGLISH;\nLocale.setDefault(english);\n</code></pre>\n<p>Now <code>def</code> has <code>Spanish</code> as the <code>DisplayLanguage</code>.</p>\n<p>But then I would have to set the default back after I do my comparison. And what happens if at that same time something else queries the locale?</p>\n<p>Anyway, is there a better way to do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1643244297,"post_id":70871884,"comment_id":125291148,"body_markdown":"You cannot do this assignment `nameLength = b.length()` arbitrarily if you are going to use `nameLength` to set the limit for your number of iterations. You MUST choose the smaller length.","body":"You cannot do this assignment <code>nameLength = b.length()</code> arbitrarily if you are going to use <code>nameLength</code> to set the limit for your number of iterations. You MUST choose the smaller length."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1643244364,"post_id":70871884,"comment_id":125291159,"body_markdown":"What happens if `b` is shorted then `a`?","body":"What happens if <code>b</code> is shorted then <code>a</code>?"},{"owner":{"account_id":8609226,"reputation":130,"user_id":6448219,"display_name":"Lizzo"},"score":0,"creation_date":1643244467,"post_id":70871884,"comment_id":125291178,"body_markdown":"yes, I agree. I am trying to handle it using a conditional operators. thank you","body":"yes, I agree. I am trying to handle it using a conditional operators. thank you"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1643244582,"post_id":70871884,"comment_id":125291206,"body_markdown":"@Lizzo Your code should be robust. One way to make sure is to swap the inputs. It should work with &quot;abcdef&quot; &amp; &quot;zyxdmmmmm&quot; and with &quot;zyxdmmmmm&quot; &amp; &quot;abcdef&quot;.","body":"@Lizzo Your code should be robust. One way to make sure is to swap the inputs. It should work with &quot;abcdef&quot; &amp; &quot;zyxdmmmmm&quot; and with &quot;zyxdmmmmm&quot; &amp; &quot;abcdef&quot;."},{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":1,"creation_date":1643245388,"post_id":70871884,"comment_id":125291350,"body_markdown":"also  this will never happen,\n`if (a.compareToIgnoreCase(b) &lt; 0){  nameLength = b.length();\n            } ` it will just return the difference of length but not negative or positive. so your code will never set nameLength = b.length();","body":"also  this will never happen, <code>if (a.compareToIgnoreCase(b) &lt; 0){  nameLength = b.length();             } </code> it will just return the difference of length but not negative or positive. so your code will never set nameLength = b.length();"},{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":1,"creation_date":1643245807,"post_id":70871884,"comment_id":125291434,"body_markdown":"do this instead, if(a.length()&gt; b.length()) {nameLength = b.length();}","body":"do this instead, if(a.length()&gt; b.length()) {nameLength = b.length();}"},{"owner":{"account_id":8609226,"reputation":130,"user_id":6448219,"display_name":"Lizzo"},"score":0,"creation_date":1643246116,"post_id":70871884,"comment_id":125291477,"body_markdown":"that is what I ended up doing. I gave the .compareToIgnoreCase the old college try -I to tried to subtract the difference of that method to the second parameter of the for loop. @Brooklyn99 - I haven&#39;t tested all cases but I think that is going to be the solution.","body":"that is what I ended up doing. I gave the .compareToIgnoreCase the old college try -I to tried to subtract the difference of that method to the second parameter of the for loop. @Brooklyn99 - I haven&#39;t tested all cases but I think that is going to be the solution."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1643253849,"post_id":70871884,"comment_id":125292830,"body_markdown":"FWIW, rather that repeating the loop with the only difference being the terminating count, you can write `for (int i=0; i&lt;str1Length &amp;&amp; i&lt;str2Length; i++)` or equivalently write the middle expression as `i &lt; Math.min(str1Length, str2Length)`.","body":"FWIW, rather that repeating the loop with the only difference being the terminating count, you can write <code>for (int i=0; i&lt;str1Length &amp;&amp; i&lt;str2Length; i++)</code> or equivalently write the middle expression as <code>i &lt; Math.min(str1Length, str2Length)</code>."},{"owner":{"account_id":8609226,"reputation":130,"user_id":6448219,"display_name":"Lizzo"},"score":0,"creation_date":1643417079,"post_id":70871884,"comment_id":125342045,"body_markdown":"Great suggestion. It help consolidate the code.","body":"Great suggestion. It help consolidate the code."}],"owner":{"account_id":8609226,"reputation":130,"user_id":6448219,"display_name":"Lizzo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643246165,"creation_date":1643243025,"question_id":70871884,"body_markdown":"I wrote a method takes two strings and determines which is longer, to check for similarities between the string. When I run this code it works in most cases. But for the two strings inputs: &quot;abcdef&quot; &amp; &quot;zyxdmmmmm&quot; there is an error: java.lang.StringIndexOutOfBoundsException: String index out of range: 6. Any ideas?\r\n```\r\nimport java.util.*;\r\n\r\npublic class charCompare{\r\n\t  public static void main(String[] args) {\r\n\t  \r\n\t\t  Scanner input = new Scanner(System.in);\r\n\r\n\t \t  System.out.print(&quot;Enter a word: &quot;);\r\n\t \t  String s1 = input.next();\r\n\r\n\r\n\t\t  System.out.print(&quot;Enter another word: &quot;);\r\n   \t\t  String s2 = input.next();   \r\n\r\n\r\n   \t\tcharOffByOne(s1, s2);\r\n   \t\tSystem.out.println(charOffByOne(s1, s2));\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n\tpublic static int charOffByOne(String a, String b){\r\n\r\n        int str1Length = a.length();\r\n        int str2Length = b.length();\r\n    \tint j = 0;\r\n\r\n        if (str1Length &gt;= str2Length){\r\n\t        for(int i = 0; i &lt; str2Length; i++ ) {\r\n\t              if(a.charAt(i) == b.charAt(i)){\r\n\t                j++;        \r\n\t              }\r\n\t        }\r\n\t        return j;\r\n        }else{\r\n\t        \tfor(int i = 0; i &lt; str1Length; i++ ) {\r\n\t              if(a.charAt(i) == b.charAt(i)){\r\n\t                j++;        \r\n\t              }\r\n\t        }\r\n\t        return j;\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Java .compareToIgnoreCase String out of index works with most inputs","body":"<p>I wrote a method takes two strings and determines which is longer, to check for similarities between the string. When I run this code it works in most cases. But for the two strings inputs: &quot;abcdef&quot; &amp; &quot;zyxdmmmmm&quot; there is an error: java.lang.StringIndexOutOfBoundsException: String index out of range: 6. Any ideas?</p>\n<pre><code>import java.util.*;\n\npublic class charCompare{\n      public static void main(String[] args) {\n      \n          Scanner input = new Scanner(System.in);\n\n          System.out.print(&quot;Enter a word: &quot;);\n          String s1 = input.next();\n\n\n          System.out.print(&quot;Enter another word: &quot;);\n          String s2 = input.next();   \n\n\n        charOffByOne(s1, s2);\n        System.out.println(charOffByOne(s1, s2));\n        System.out.println();\n    }\n\n    public static int charOffByOne(String a, String b){\n\n        int str1Length = a.length();\n        int str2Length = b.length();\n        int j = 0;\n\n        if (str1Length &gt;= str2Length){\n            for(int i = 0; i &lt; str2Length; i++ ) {\n                  if(a.charAt(i) == b.charAt(i)){\n                    j++;        \n                  }\n            }\n            return j;\n        }else{\n                for(int i = 0; i &lt; str1Length; i++ ) {\n                  if(a.charAt(i) == b.charAt(i)){\n                    j++;        \n                  }\n            }\n            return j;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":20616386,"reputation":1060,"user_id":15134376,"display_name":"Jungwon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643246100,"creation_date":1643246100,"answer_id":70872176,"question_id":70859147,"body_markdown":"Solved!!\r\n\r\n\r\nChange to  `mEndPoint = mInterface.getEndpoint(0);` \r\n\r\n```\r\n  final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (ACTION_USB_PERMISSION.equals(action)) {\r\n                synchronized (this) {\r\n                    UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n\r\n                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n                        if (device != null) {\r\n                            //call method to set up device communication\r\n                            mInterface = device.getInterface(0);\r\n                            mEndPoint = mInterface.getEndpoint(1);// 0 IN and  1 OUT to printer.\r\n                            mConnection = mUsbManager.openDevice(device);\r\n\r\n                        }\r\n                    } else {\r\n                        Toast.makeText(context, &quot;PERMISSION DENIED FOR THIS DEVICE&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n```","title":"How to print to text usb printer in android","body":"<p>Solved!!</p>\n<p>Change to  <code>mEndPoint = mInterface.getEndpoint(0);</code></p>\n<pre><code>  final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (ACTION_USB_PERMISSION.equals(action)) {\n                synchronized (this) {\n                    UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n\n                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n                        if (device != null) {\n                            //call method to set up device communication\n                            mInterface = device.getInterface(0);\n                            mEndPoint = mInterface.getEndpoint(1);// 0 IN and  1 OUT to printer.\n                            mConnection = mUsbManager.openDevice(device);\n\n                        }\n                    } else {\n                        Toast.makeText(context, &quot;PERMISSION DENIED FOR THIS DEVICE&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        }\n    };\n</code></pre>\n"}],"owner":{"account_id":20616386,"reputation":1060,"user_id":15134376,"display_name":"Jungwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643246100,"creation_date":1643176675,"question_id":70859147,"body_markdown":"I am making a function to print using USB.  \r\nI&#39;ve found a simple example and I&#39;m trying to test it and transform it.  \r\nThe print information was retrieved normally, and the permission was granted normally.\r\n\r\nIf you input text and click the print button, the thread starts, and it seems to go through an infinite loop. Which part is wrong??\r\n\r\n***activity_main.xml***\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/usbDevice&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:gravity=&quot;center&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/ed_txt&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:textSize=&quot;25dp&quot;\r\n        android:hint=&quot;Enter text to print&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/print&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:text=&quot;print&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n***MainActivity.java***\r\n```\r\npackage com.android.usb_printer;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.PendingIntent;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.hardware.usb.UsbConstants;\r\nimport android.hardware.usb.UsbDevice;\r\nimport android.hardware.usb.UsbDeviceConnection;\r\nimport android.hardware.usb.UsbEndpoint;\r\nimport android.hardware.usb.UsbInterface;\r\nimport android.hardware.usb.UsbManager;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private UsbManager mUsbManager;\r\n    private UsbDevice mDevice;\r\n    private UsbDeviceConnection mConnection;\r\n    private UsbInterface mInterface;\r\n    private UsbEndpoint mEndPoint;\r\n    private PendingIntent mPermissionIntent;\r\n    EditText ed_txt;\r\n    private static final String ACTION_USB_PERMISSION = &quot;com.android.example.USB_PERMISSION&quot;;\r\n    private static Boolean forceCLaim = true;\r\n\r\n    HashMap&lt;String, UsbDevice&gt; mDeviceList;\r\n    Iterator&lt;UsbDevice&gt; mDeviceIterator;\r\n    byte[] testBytes;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        ed_txt = (EditText) findViewById(R.id.ed_txt);\r\n        Button print = (Button) findViewById(R.id.print);\r\n\r\n        mUsbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n        mDeviceList = mUsbManager.getDeviceList();\r\n\r\n        if (mDeviceList.size() &gt; 0) {\r\n            mDeviceIterator = mDeviceList.values().iterator();\r\n\r\n            Toast.makeText(this, &quot;Device List Size: &quot; + String.valueOf(mDeviceList.size()), Toast.LENGTH_SHORT).show();\r\n\r\n            TextView textView = (TextView) findViewById(R.id.usbDevice);\r\n            String usbDevice = &quot;&quot;;\r\n            while (mDeviceIterator.hasNext()) {\r\n                UsbDevice usbDevice1 = mDeviceIterator.next();\r\n                usbDevice += &quot;\\n&quot; +\r\n                        &quot;DeviceID: &quot; + usbDevice1.getDeviceId() + &quot;\\n&quot; +\r\n                        &quot;DeviceName: &quot; + usbDevice1.getDeviceName() + &quot;\\n&quot; +\r\n                        &quot;Protocol: &quot; + usbDevice1.getDeviceProtocol() + &quot;\\n&quot; +\r\n                        &quot;Product Name: &quot; + usbDevice1.getProductName() + &quot;\\n&quot; +\r\n                        &quot;Manufacturer Name: &quot; + usbDevice1.getManufacturerName() + &quot;\\n&quot; +\r\n                        &quot;DeviceClass: &quot; + usbDevice1.getDeviceClass() + &quot; - &quot; + translateDeviceClass(usbDevice1.getDeviceClass()) + &quot;\\n&quot; +\r\n                        &quot;DeviceSubClass: &quot; + usbDevice1.getDeviceSubclass() + &quot;\\n&quot; +\r\n                        &quot;VendorID: &quot; + usbDevice1.getVendorId() + &quot;\\n&quot; +\r\n                        &quot;ProductID: &quot; + usbDevice1.getProductId() + &quot;\\n&quot;;\r\n\r\n                int interfaceCount = usbDevice1.getInterfaceCount();\r\n                Toast.makeText(this, &quot;INTERFACE COUNT: &quot; + String.valueOf(interfaceCount), Toast.LENGTH_SHORT).show();\r\n\r\n                mDevice = usbDevice1;\r\n\r\n                Toast.makeText(this, &quot;Device is attached&quot;, Toast.LENGTH_SHORT).show();\r\n                textView.setText(usbDevice);\r\n            }\r\n\r\n            mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\r\n            IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n            registerReceiver(mUsbReceiver, filter);\r\n\r\n            mUsbManager.requestPermission(mDevice, mPermissionIntent);\r\n        } else {\r\n            Toast.makeText(this, &quot;Please attach printer via USB&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        print.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                print(mConnection, mInterface);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void print(final UsbDeviceConnection connection, final UsbInterface usbInterface) {\r\n        final String test = ed_txt.getText().toString() + &quot;\\n\\n&quot;;\r\n        testBytes = test.getBytes();\r\n\r\n        if (usbInterface == null) {\r\n            Toast.makeText(this, &quot;INTERFACE IS NULL&quot;, Toast.LENGTH_SHORT).show();\r\n        } else if (connection == null) {\r\n            Toast.makeText(this, &quot;CONNECTION IS NULL&quot;, Toast.LENGTH_SHORT).show();\r\n        } else if (forceCLaim == null) {\r\n            Toast.makeText(this, &quot;FORCE CLAIM IS NULL&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n\r\n            connection.claimInterface(usbInterface, forceCLaim);\r\n\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n\r\n                    byte[] cut_paper = {0x1D, 0x56, 0x41, 0x10};\r\n                    connection.bulkTransfer(mEndPoint, testBytes, testBytes.length, 0);\r\n                    connection.bulkTransfer(mEndPoint, cut_paper, cut_paper.length, 0);\r\n                }\r\n            });\r\n            thread.run();\r\n        }\r\n    }\r\n\r\n\r\n    final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (ACTION_USB_PERMISSION.equals(action)) {\r\n                synchronized (this) {\r\n                    UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n\r\n                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n                        if (device != null) {\r\n                            //call method to set up device communication\r\n                            mInterface = device.getInterface(0);\r\n                            mEndPoint = mInterface.getEndpoint(1);// 0 IN and  1 OUT to printer.\r\n                            mConnection = mUsbManager.openDevice(device);\r\n\r\n                        }\r\n                    } else {\r\n                        Toast.makeText(context, &quot;PERMISSION DENIED FOR THIS DEVICE&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    private String translateDeviceClass(int deviceClass) {\r\n\r\n        switch (deviceClass) {\r\n\r\n            case UsbConstants.USB_CLASS_APP_SPEC:\r\n                return &quot;Application specific USB class&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_AUDIO:\r\n                return &quot;USB class for audio devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_CDC_DATA:\r\n                return &quot;USB class for CDC devices (communications device class)&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_COMM:\r\n                return &quot;USB class for communication devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_CONTENT_SEC:\r\n                return &quot;USB class for content security devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_CSCID:\r\n                return &quot;USB class for content smart card devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_HID:\r\n                return &quot;USB class for human interface devices (for example, mice and keyboards)&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_HUB:\r\n                return &quot;USB class for USB hubs&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_MASS_STORAGE:\r\n                return &quot;USB class for mass storage devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_MISC:\r\n                return &quot;USB class for wireless miscellaneous devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_PER_INTERFACE:\r\n                return &quot;USB class indicating that the class is determined on a per-interface basis&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_PHYSICA:\r\n                return &quot;USB class for physical devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_PRINTER:\r\n                return &quot;USB class for printers&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_STILL_IMAGE:\r\n                return &quot;USB class for still image devices (digital cameras)&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_VENDOR_SPEC:\r\n                return &quot;Vendor specific USB class&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_VIDEO:\r\n                return &quot;USB class for video devices&quot;;\r\n\r\n            case UsbConstants.USB_CLASS_WIRELESS_CONTROLLER:\r\n                return &quot;USB class for wireless controller devices&quot;;\r\n\r\n            default:\r\n                return &quot;Unknown USB class!&quot;;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to print to text usb printer in android","body":"<p>I am making a function to print using USB.<br />\nI've found a simple example and I'm trying to test it and transform it.<br />\nThe print information was retrieved normally, and the permission was granted normally.</p>\n<p>If you input text and click the print button, the thread starts, and it seems to go through an infinite loop. Which part is wrong??</p>\n<p><em><strong>activity_main.xml</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/usbDevice&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:gravity=&quot;center&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/ed_txt&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:textSize=&quot;25dp&quot;\n        android:hint=&quot;Enter text to print&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/print&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:text=&quot;print&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><em><strong>MainActivity.java</strong></em></p>\n<pre><code>package com.android.usb_printer;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.PendingIntent;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.hardware.usb.UsbConstants;\nimport android.hardware.usb.UsbDevice;\nimport android.hardware.usb.UsbDeviceConnection;\nimport android.hardware.usb.UsbEndpoint;\nimport android.hardware.usb.UsbInterface;\nimport android.hardware.usb.UsbManager;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport java.util.HashMap;\nimport java.util.Iterator;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private UsbManager mUsbManager;\n    private UsbDevice mDevice;\n    private UsbDeviceConnection mConnection;\n    private UsbInterface mInterface;\n    private UsbEndpoint mEndPoint;\n    private PendingIntent mPermissionIntent;\n    EditText ed_txt;\n    private static final String ACTION_USB_PERMISSION = &quot;com.android.example.USB_PERMISSION&quot;;\n    private static Boolean forceCLaim = true;\n\n    HashMap&lt;String, UsbDevice&gt; mDeviceList;\n    Iterator&lt;UsbDevice&gt; mDeviceIterator;\n    byte[] testBytes;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        ed_txt = (EditText) findViewById(R.id.ed_txt);\n        Button print = (Button) findViewById(R.id.print);\n\n        mUsbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\n        mDeviceList = mUsbManager.getDeviceList();\n\n        if (mDeviceList.size() &gt; 0) {\n            mDeviceIterator = mDeviceList.values().iterator();\n\n            Toast.makeText(this, &quot;Device List Size: &quot; + String.valueOf(mDeviceList.size()), Toast.LENGTH_SHORT).show();\n\n            TextView textView = (TextView) findViewById(R.id.usbDevice);\n            String usbDevice = &quot;&quot;;\n            while (mDeviceIterator.hasNext()) {\n                UsbDevice usbDevice1 = mDeviceIterator.next();\n                usbDevice += &quot;\\n&quot; +\n                        &quot;DeviceID: &quot; + usbDevice1.getDeviceId() + &quot;\\n&quot; +\n                        &quot;DeviceName: &quot; + usbDevice1.getDeviceName() + &quot;\\n&quot; +\n                        &quot;Protocol: &quot; + usbDevice1.getDeviceProtocol() + &quot;\\n&quot; +\n                        &quot;Product Name: &quot; + usbDevice1.getProductName() + &quot;\\n&quot; +\n                        &quot;Manufacturer Name: &quot; + usbDevice1.getManufacturerName() + &quot;\\n&quot; +\n                        &quot;DeviceClass: &quot; + usbDevice1.getDeviceClass() + &quot; - &quot; + translateDeviceClass(usbDevice1.getDeviceClass()) + &quot;\\n&quot; +\n                        &quot;DeviceSubClass: &quot; + usbDevice1.getDeviceSubclass() + &quot;\\n&quot; +\n                        &quot;VendorID: &quot; + usbDevice1.getVendorId() + &quot;\\n&quot; +\n                        &quot;ProductID: &quot; + usbDevice1.getProductId() + &quot;\\n&quot;;\n\n                int interfaceCount = usbDevice1.getInterfaceCount();\n                Toast.makeText(this, &quot;INTERFACE COUNT: &quot; + String.valueOf(interfaceCount), Toast.LENGTH_SHORT).show();\n\n                mDevice = usbDevice1;\n\n                Toast.makeText(this, &quot;Device is attached&quot;, Toast.LENGTH_SHORT).show();\n                textView.setText(usbDevice);\n            }\n\n            mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\n            IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n            registerReceiver(mUsbReceiver, filter);\n\n            mUsbManager.requestPermission(mDevice, mPermissionIntent);\n        } else {\n            Toast.makeText(this, &quot;Please attach printer via USB&quot;, Toast.LENGTH_SHORT).show();\n        }\n        print.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                print(mConnection, mInterface);\n            }\n        });\n    }\n\n    private void print(final UsbDeviceConnection connection, final UsbInterface usbInterface) {\n        final String test = ed_txt.getText().toString() + &quot;\\n\\n&quot;;\n        testBytes = test.getBytes();\n\n        if (usbInterface == null) {\n            Toast.makeText(this, &quot;INTERFACE IS NULL&quot;, Toast.LENGTH_SHORT).show();\n        } else if (connection == null) {\n            Toast.makeText(this, &quot;CONNECTION IS NULL&quot;, Toast.LENGTH_SHORT).show();\n        } else if (forceCLaim == null) {\n            Toast.makeText(this, &quot;FORCE CLAIM IS NULL&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n\n            connection.claimInterface(usbInterface, forceCLaim);\n\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n\n                    byte[] cut_paper = {0x1D, 0x56, 0x41, 0x10};\n                    connection.bulkTransfer(mEndPoint, testBytes, testBytes.length, 0);\n                    connection.bulkTransfer(mEndPoint, cut_paper, cut_paper.length, 0);\n                }\n            });\n            thread.run();\n        }\n    }\n\n\n    final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (ACTION_USB_PERMISSION.equals(action)) {\n                synchronized (this) {\n                    UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n\n                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n                        if (device != null) {\n                            //call method to set up device communication\n                            mInterface = device.getInterface(0);\n                            mEndPoint = mInterface.getEndpoint(1);// 0 IN and  1 OUT to printer.\n                            mConnection = mUsbManager.openDevice(device);\n\n                        }\n                    } else {\n                        Toast.makeText(context, &quot;PERMISSION DENIED FOR THIS DEVICE&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        }\n    };\n\n\n    private String translateDeviceClass(int deviceClass) {\n\n        switch (deviceClass) {\n\n            case UsbConstants.USB_CLASS_APP_SPEC:\n                return &quot;Application specific USB class&quot;;\n\n            case UsbConstants.USB_CLASS_AUDIO:\n                return &quot;USB class for audio devices&quot;;\n\n            case UsbConstants.USB_CLASS_CDC_DATA:\n                return &quot;USB class for CDC devices (communications device class)&quot;;\n\n            case UsbConstants.USB_CLASS_COMM:\n                return &quot;USB class for communication devices&quot;;\n\n            case UsbConstants.USB_CLASS_CONTENT_SEC:\n                return &quot;USB class for content security devices&quot;;\n\n            case UsbConstants.USB_CLASS_CSCID:\n                return &quot;USB class for content smart card devices&quot;;\n\n            case UsbConstants.USB_CLASS_HID:\n                return &quot;USB class for human interface devices (for example, mice and keyboards)&quot;;\n\n            case UsbConstants.USB_CLASS_HUB:\n                return &quot;USB class for USB hubs&quot;;\n\n            case UsbConstants.USB_CLASS_MASS_STORAGE:\n                return &quot;USB class for mass storage devices&quot;;\n\n            case UsbConstants.USB_CLASS_MISC:\n                return &quot;USB class for wireless miscellaneous devices&quot;;\n\n            case UsbConstants.USB_CLASS_PER_INTERFACE:\n                return &quot;USB class indicating that the class is determined on a per-interface basis&quot;;\n\n            case UsbConstants.USB_CLASS_PHYSICA:\n                return &quot;USB class for physical devices&quot;;\n\n            case UsbConstants.USB_CLASS_PRINTER:\n                return &quot;USB class for printers&quot;;\n\n            case UsbConstants.USB_CLASS_STILL_IMAGE:\n                return &quot;USB class for still image devices (digital cameras)&quot;;\n\n            case UsbConstants.USB_CLASS_VENDOR_SPEC:\n                return &quot;Vendor specific USB class&quot;;\n\n            case UsbConstants.USB_CLASS_VIDEO:\n                return &quot;USB class for video devices&quot;;\n\n            case UsbConstants.USB_CLASS_WIRELESS_CONTROLLER:\n                return &quot;USB class for wireless controller devices&quot;;\n\n            default:\n                return &quot;Unknown USB class!&quot;;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","jakarta-ee","netbeans","glassfish"],"comments":[{"owner":{"account_id":9145236,"reputation":383,"user_id":6801721,"accept_rate":25,"display_name":"Barath Sankar"},"score":0,"creation_date":1569271491,"post_id":33254343,"comment_id":102535583,"body_markdown":"Try [this](https://stackoverflow.com/a/55218770/6801721). It solved the problem for me.","body":"Try <a href=\"https://stackoverflow.com/a/55218770/6801721\">this</a>. It solved the problem for me."}],"answers":[{"tags":[],"owner":{"account_id":7441223,"reputation":161,"user_id":5658960,"display_name":"Christoph Andriessens"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1449661629,"creation_date":1449661629,"answer_id":34178083,"question_id":33254343,"body_markdown":"I had exactly the same problem. When I set &quot;preserve sessions across redeployment&quot; in the Eclipse properties dialog for GlassFish, tab &quot;GlassFish&quot;, to false (true being the default), everything worked out fine. ","title":"The Eclipse plugin cannot communicate with the GlassFish server","body":"<p>I had exactly the same problem. When I set \"preserve sessions across redeployment\" in the Eclipse properties dialog for GlassFish, tab \"GlassFish\", to false (true being the default), everything worked out fine. </p>\n"},{"tags":[],"owner":{"account_id":2403745,"reputation":461,"user_id":2100814,"accept_rate":75,"display_name":"gokhangokce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465801627,"creation_date":1465801627,"answer_id":37783666,"question_id":33254343,"body_markdown":"I have faced the same problem. Generally, the programs that get dynamicly port numbers causes this. Etc: skype, teamviewer. \r\n\r\nFor me, I solved the problem with starting eclipse before them. \r\n\r\nMaybe this works for you too.","title":"The Eclipse plugin cannot communicate with the GlassFish server","body":"<p>I have faced the same problem. Generally, the programs that get dynamicly port numbers causes this. Etc: skype, teamviewer. </p>\n\n<p>For me, I solved the problem with starting eclipse before them. </p>\n\n<p>Maybe this works for you too.</p>\n"},{"tags":[],"owner":{"account_id":10116410,"reputation":1,"user_id":7474941,"display_name":"Daniel Londo&#241;o Ram&#237;rez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485449837,"creation_date":1485449837,"answer_id":41878832,"question_id":33254343,"body_markdown":"I had the same problem, and I solved it by removing the glassfish server from Eclipse, and adding it again.","title":"The Eclipse plugin cannot communicate with the GlassFish server","body":"<p>I had the same problem, and I solved it by removing the glassfish server from Eclipse, and adding it again.</p>\n"},{"tags":[],"owner":{"account_id":12273457,"reputation":11,"user_id":8958016,"display_name":"Endyamon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510929264,"creation_date":1510927308,"answer_id":47352381,"question_id":33254343,"body_markdown":"\r\nI just set the proxy configuration in Eclipse menu Window -&gt; Preferences -&gt; General -&gt; Network Connections (changing the Active Provider value from &quot;Native&quot; to &quot;Manual&quot; and inserting all the needed values for HTTP and HTTPS rows) and added &quot;localhost&quot; and &quot;127.0.0.1&quot; to the section &quot;Proxy bypass&quot;. ","title":"The Eclipse plugin cannot communicate with the GlassFish server","body":"<p>I just set the proxy configuration in Eclipse menu Window -> Preferences -> General -> Network Connections (changing the Active Provider value from \"Native\" to \"Manual\" and inserting all the needed values for HTTP and HTTPS rows) and added \"localhost\" and \"127.0.0.1\" to the section \"Proxy bypass\". </p>\n"},{"tags":[],"owner":{"account_id":12598283,"reputation":1,"user_id":9161968,"display_name":"IDHU JEPHTHAH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643245800,"creation_date":1643245800,"answer_id":70872150,"question_id":33254343,"body_markdown":"What I noticed in my own case was that other applications where using port number 4848, so I had to stop all use of port 4848 and restart the domain again ( restart glassfish server )","title":"The Eclipse plugin cannot communicate with the GlassFish server","body":"<p>What I noticed in my own case was that other applications where using port number 4848, so I had to stop all use of port 4848 and restart the domain again ( restart glassfish server )</p>\n"}],"owner":{"account_id":6171358,"reputation":31,"user_id":4809543,"display_name":"metalredstar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9297,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1643245800,"creation_date":1445415910,"question_id":33254343,"body_markdown":"I need use Glassfish in a project we&#39;re currently working on in Eclipse IDE.\r\nMy problem is after installing Glassfish Tools in Eclipse I manage to correctly create a new glassfish server en SERVERS tab but when I try to start it the following error message pop up:\r\n\r\n&gt; The Eclipse plugin cannot communicate with the GlassFish server....\r\n&gt; The Eclipse plugin cannot communicate with the GlassFish server. A\r\n&gt; GlassFish Enterprise Server may be running on the same admin or HTTP\r\n&gt; port, but with a different root installation.Please also check for\r\n&gt; antivirus software, firewall configuration, or VPN setup which might\r\n&gt; block some ports.\r\n\r\nActually the problem looks more complex since not only I&#39;m not able to start server but I cannot execute any action on server. Neither deploying, nor clean or whaterever else do work resulting in popping up the above message.\r\n\r\nIn the internet developers communities I only find clues about CREDENTIAL ERROR but this is not the case.\r\nLooking in the Glassfish log folder there is no trace of any access attempt.\r\nEverythings points at Eclipse plug-in neither be able to communicate with glassfish by any circumstance.\r\n\r\nThis issue occours either with  Glassfish 3.1 (using jdk1.7) and 4.1 (using jdk1.8) and in Eclipse Luna and Mars.\r\n\r\nI already tried to create, delete and manage glassfish domains (as suggested in other questions here at StackOverflow) to get over potential &quot;credential-related&quot; issues but no result.\r\n\r\nTried to uninstall and reinstall Glassfish Tools from Eclipse too but still no way.\r\n\r\nBoth Glasshfish 3.1 an 4.1 start flawlessly manually and NetBeans manage to start them without any problem but, as said, I need to work with eclipse so switching to NetBeans is not the solution (and, please, don&#39;t suggest me a manual deploy and server start).\r\n\r\nAs a last attempt, since I work in Windows, in a console window I tried this:\r\n\r\n    netstat -a -b\r\n\r\nto verify no other service is &quot;taking&quot; port 8080 (although it doesn&#39;t seem to be a port problem but a &quot;plug-in communication&quot; one) but it resulted free.\r\n\r\nI&#39;m into this mess by days. \r\nPlease help.\r\n\r\nThank you","title":"The Eclipse plugin cannot communicate with the GlassFish server","body":"<p>I need use Glassfish in a project we're currently working on in Eclipse IDE.\nMy problem is after installing Glassfish Tools in Eclipse I manage to correctly create a new glassfish server en SERVERS tab but when I try to start it the following error message pop up:</p>\n\n<blockquote>\n  <p>The Eclipse plugin cannot communicate with the GlassFish server....\n  The Eclipse plugin cannot communicate with the GlassFish server. A\n  GlassFish Enterprise Server may be running on the same admin or HTTP\n  port, but with a different root installation.Please also check for\n  antivirus software, firewall configuration, or VPN setup which might\n  block some ports.</p>\n</blockquote>\n\n<p>Actually the problem looks more complex since not only I'm not able to start server but I cannot execute any action on server. Neither deploying, nor clean or whaterever else do work resulting in popping up the above message.</p>\n\n<p>In the internet developers communities I only find clues about CREDENTIAL ERROR but this is not the case.\nLooking in the Glassfish log folder there is no trace of any access attempt.\nEverythings points at Eclipse plug-in neither be able to communicate with glassfish by any circumstance.</p>\n\n<p>This issue occours either with  Glassfish 3.1 (using jdk1.7) and 4.1 (using jdk1.8) and in Eclipse Luna and Mars.</p>\n\n<p>I already tried to create, delete and manage glassfish domains (as suggested in other questions here at StackOverflow) to get over potential \"credential-related\" issues but no result.</p>\n\n<p>Tried to uninstall and reinstall Glassfish Tools from Eclipse too but still no way.</p>\n\n<p>Both Glasshfish 3.1 an 4.1 start flawlessly manually and NetBeans manage to start them without any problem but, as said, I need to work with eclipse so switching to NetBeans is not the solution (and, please, don't suggest me a manual deploy and server start).</p>\n\n<p>As a last attempt, since I work in Windows, in a console window I tried this:</p>\n\n<pre><code>netstat -a -b\n</code></pre>\n\n<p>to verify no other service is \"taking\" port 8080 (although it doesn't seem to be a port problem but a \"plug-in communication\" one) but it resulted free.</p>\n\n<p>I'm into this mess by days. \nPlease help.</p>\n\n<p>Thank you</p>\n"},{"tags":["java","spring","scala","reflection","scala-2.9"],"comments":[{"owner":{"account_id":11173,"reputation":11485,"user_id":21399,"accept_rate":100,"display_name":"Nick"},"score":0,"creation_date":1322057683,"post_id":8014920,"comment_id":10141145,"body_markdown":"I think we&#39;re getting something similar - fortunately it&#39;s not affecting our actual app, just Spring IDE which marks some beans with errors as it complains that some trait-defined methods don&#39;t exist.","body":"I think we&#39;re getting something similar - fortunately it&#39;s not affecting our actual app, just Spring IDE which marks some beans with errors as it complains that some trait-defined methods don&#39;t exist."},{"owner":{"account_id":170616,"reputation":3313,"user_id":397442,"accept_rate":75,"display_name":"Janx"},"score":1,"creation_date":1325799572,"post_id":8014920,"comment_id":10901709,"body_markdown":"See this: http://stackoverflow.com/questions/8748625/why-are-concrete-function-implementations-in-traits-compiled-to-bridge-methods-i","body":"See this: <a href=\"http://stackoverflow.com/questions/8748625/why-are-concrete-function-implementations-in-traits-compiled-to-bridge-methods-i\" title=\"why are concrete function implementations in traits compiled to bridge methods i\">stackoverflow.com/questions/8748625/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":53637,"reputation":54848,"user_id":160378,"accept_rate":80,"display_name":"retronym"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643245531,"creation_date":1320610024,"answer_id":8030006,"question_id":8014920,"body_markdown":"We saw the same thing. I never figured out what change in Scala 2.9.x triggered this, but I think the real problem is with Spring itself.\r\n\r\nWhen you mix a trait into a class, the adds synthetic methods to in the class, marked in the byte code as *bridge methods*, that forward to the implementation of the method in the trait.\r\n\r\nJava also adds bridge methods to classes, when a sub-class overrides a method in a superclass or interface, but refines the return type. Because the return type is part of the method signature at the bytecode level, a forwarding method is needed so that clients who only know about the parent method signature can still call the method in the subclass. (More details: https://stackoverflow.com/questions/289731/what-java-lang-reflect-method-isbridge-used-for)\r\n\r\nSpring inspects the bytecode for bridge methods for reasons described in the article [A Bridge Too Far][1]. The name of that article is ironic -- Spring calls this &quot;a perfect example of Spring solving the hard infrastructure problems that Java developers face and integrating them into the application stack&quot;, but it makes too many assumptions about the source of the bytecode, and worse, can&#39;t be disabled.\r\n\r\nShort term workaround, is to avoid mixing traits into classes you use in Spring. You should lodge a bug with Spring to allow you to disable this check for non-Java bytecode.\r\n\r\n\r\n  [1]: http://blog.springsource.com/2007/01/16/a-bridge-too-far/","title":"Scala 2.9 Bridge-Method","body":"<p>We saw the same thing. I never figured out what change in Scala 2.9.x triggered this, but I think the real problem is with Spring itself.</p>\n<p>When you mix a trait into a class, the adds synthetic methods to in the class, marked in the byte code as <em>bridge methods</em>, that forward to the implementation of the method in the trait.</p>\n<p>Java also adds bridge methods to classes, when a sub-class overrides a method in a superclass or interface, but refines the return type. Because the return type is part of the method signature at the bytecode level, a forwarding method is needed so that clients who only know about the parent method signature can still call the method in the subclass. (More details: <a href=\"https://stackoverflow.com/questions/289731/what-java-lang-reflect-method-isbridge-used-for\">What Method.isBridge used for?</a>)</p>\n<p>Spring inspects the bytecode for bridge methods for reasons described in the article <a href=\"http://blog.springsource.com/2007/01/16/a-bridge-too-far/\" rel=\"nofollow noreferrer\">A Bridge Too Far</a>. The name of that article is ironic -- Spring calls this &quot;a perfect example of Spring solving the hard infrastructure problems that Java developers face and integrating them into the application stack&quot;, but it makes too many assumptions about the source of the bytecode, and worse, can't be disabled.</p>\n<p>Short term workaround, is to avoid mixing traits into classes you use in Spring. You should lodge a bug with Spring to allow you to disable this check for non-Java bytecode.</p>\n"}],"owner":{"account_id":233767,"reputation":1598,"user_id":499483,"accept_rate":94,"display_name":"shj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":8030006,"answer_count":1,"score":6,"last_activity_date":1643245531,"creation_date":1320435944,"question_id":8014920,"body_markdown":"I&#39;m using Scala 2.9.1\r\n\r\nI&#39;ve defined a Logging trait as such:\r\n\r\n     trait Logging {\r\n        def debug(msg: String, throwables: Throwable*) = ....\r\n        ....\r\n     }\r\n\r\nAnd I have a JMSPublisher class which mixes-in the Logging trait:\r\n\r\n     class JMSPublisher extends Publisher with Logging {\r\n        def publishProducts(list: List[_ &lt;: Product]) = ....\r\n        def publish(list: Seq[Product]) = ....\r\n     }\r\n\r\nThis all compiles fine.  My issue is that I have a user who wants to load my JMSPublisher into Spring.  He&#39;s using Spring 2.5.6.\r\n\r\nWhen the ApplicationContext is loaded during startup, the app crashes with an IllegalStateException, complaining that it can&#39;t find a bridged-method related to my Logging trait.\r\n\r\n    Initialization of bean failed; nested exception is java.lang.IllegalStateException: Unable to locate bridged method for bridge method &#39;public void com.app.messaging.JmsPublisher.debug(java.lang.String, scala.collection.Seq)&#39; \r\n      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\r\n        .....stack trace follows.......\r\n       \r\nThis code worked under Scala-2.8, and I heard that Scala is marking trait that have some methods as bridged in 2.9.  I think this is what is causing Spring to fail.  I can&#39;t upgrade to Scala-2.9 if my class can&#39;t be loaded by Spring.\r\n\r\nHas anyone run into this issue?  Is there any fix or work-around?\r\n","title":"Scala 2.9 Bridge-Method","body":"<p>I'm using Scala 2.9.1</p>\n\n<p>I've defined a Logging trait as such:</p>\n\n<pre><code> trait Logging {\n    def debug(msg: String, throwables: Throwable*) = ....\n    ....\n }\n</code></pre>\n\n<p>And I have a JMSPublisher class which mixes-in the Logging trait:</p>\n\n<pre><code> class JMSPublisher extends Publisher with Logging {\n    def publishProducts(list: List[_ &lt;: Product]) = ....\n    def publish(list: Seq[Product]) = ....\n }\n</code></pre>\n\n<p>This all compiles fine.  My issue is that I have a user who wants to load my JMSPublisher into Spring.  He's using Spring 2.5.6.</p>\n\n<p>When the ApplicationContext is loaded during startup, the app crashes with an IllegalStateException, complaining that it can't find a bridged-method related to my Logging trait.</p>\n\n<pre><code>Initialization of bean failed; nested exception is java.lang.IllegalStateException: Unable to locate bridged method for bridge method 'public void com.app.messaging.JmsPublisher.debug(java.lang.String, scala.collection.Seq)' \n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\n    .....stack trace follows.......\n</code></pre>\n\n<p>This code worked under Scala-2.8, and I heard that Scala is marking trait that have some methods as bridged in 2.9.  I think this is what is causing Spring to fail.  I can't upgrade to Scala-2.9 if my class can't be loaded by Spring.</p>\n\n<p>Has anyone run into this issue?  Is there any fix or work-around?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1643243267,"post_id":70871885,"comment_id":125290926,"body_markdown":"What part of your code is even *trying* to handle this case?  To even *detect* it?","body":"What part of your code is even <i>trying</i> to handle this case?  To even <i>detect</i> it?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1643243681,"post_id":70871885,"comment_id":125291024,"body_markdown":"What is `last` used for? (it&#39;s nothing at the moment, so you should delete it from your code)","body":"What is <code>last</code> used for? (it&#39;s nothing at the moment, so you should delete it from your code)"},{"owner":{"account_id":24066222,"reputation":3,"user_id":18042753,"display_name":"Sharar294"},"score":0,"creation_date":1643243906,"post_id":70871885,"comment_id":125291064,"body_markdown":"okay. Do you have a solution for this? I am new to java and stack overflow and I don&#39;t know what I&#39;m doing.","body":"okay. Do you have a solution for this? I am new to java and stack overflow and I don&#39;t know what I&#39;m doing."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1643244095,"post_id":70871885,"comment_id":125291101,"body_markdown":"@Bohemian What is `newArr` used for?","body":"@Bohemian What is <code>newArr</code> used for?"},{"owner":{"account_id":24066222,"reputation":3,"user_id":18042753,"display_name":"Sharar294"},"score":0,"creation_date":1643244139,"post_id":70871885,"comment_id":125291113,"body_markdown":"@ScaryWombat I just removed it, I was trying to create a new array but decided to rotate the original one.","body":"@ScaryWombat I just removed it, I was trying to create a new array but decided to rotate the original one."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1643244166,"post_id":70871885,"comment_id":125291122,"body_markdown":"@ScaryWombat nothing, and that&#39;s part of the problem (assuming OP is not required to do an in-place rotation - something probably too advanced for OP at this stage in OP&#39;s coding journey)","body":"@ScaryWombat nothing, and that&#39;s part of the problem (assuming OP is not required to do an in-place rotation - something probably too advanced for OP at this stage in OP&#39;s coding journey)"},{"owner":{"account_id":24066222,"reputation":3,"user_id":18042753,"display_name":"Sharar294"},"score":0,"creation_date":1643244416,"post_id":70871885,"comment_id":125291167,"body_markdown":"@Bohemian sorry I&#39;m adding it back. It might be simpler for me to understand if I create a new array with the rotated alphabets.","body":"@Bohemian sorry I&#39;m adding it back. It might be simpler for me to understand if I create a new array with the rotated alphabets."}],"answers":[{"tags":[],"owner":{"account_id":19570189,"reputation":520,"user_id":14321517,"display_name":"Anmol"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643245188,"creation_date":1643243378,"answer_id":70871921,"question_id":70871885,"body_markdown":"Replace your code&#39;s assignment line with this:\r\n\r\n    newArr[i] = arr[(i + keyIndex)%26];\r\n\r\nThe logic behind this is:\r\n`%` (i.e. modulus) gives us the remainder on the division by a given number.\r\n \r\nlet i = 25 and keyIndex=2, so arr[(25 + 2) % 26] =&gt; arr[27 % 26] =&gt; arr[1]\r\n\r\nso we can say modulus26  bounds a number in the range of 0 to 26, which is the need for this rotation operation\r\n\r\n***Your Corrected Code:***\r\n\r\n    char[] arr = new char[] {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;};\r\n    int keyIndex = 2;\r\n    char[] newArr = new char[arr.length];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        newArr[i] = arr[(i + keyIndex )%arr.length];\r\n    } \r\n    //Print Array\r\n\r\n","title":"Java array rotation","body":"<p>Replace your code's assignment line with this:</p>\n<pre><code>newArr[i] = arr[(i + keyIndex)%26];\n</code></pre>\n<p>The logic behind this is:\n<code>%</code> (i.e. modulus) gives us the remainder on the division by a given number.</p>\n<p>let i = 25 and keyIndex=2, so arr[(25 + 2) % 26] =&gt; arr[27 % 26] =&gt; arr[1]</p>\n<p>so we can say modulus26  bounds a number in the range of 0 to 26, which is the need for this rotation operation</p>\n<p><em><strong>Your Corrected Code:</strong></em></p>\n<pre><code>char[] arr = new char[] {'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'};\nint keyIndex = 2;\nchar[] newArr = new char[arr.length];\nfor (int i = 0; i &lt; arr.length; i++) {\n    newArr[i] = arr[(i + keyIndex )%arr.length];\n} \n//Print Array\n</code></pre>\n"}],"owner":{"account_id":24066222,"reputation":3,"user_id":18042753,"display_name":"Sharar294"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70871921,"answer_count":1,"score":0,"last_activity_date":1643245188,"creation_date":1643243030,"question_id":70871885,"body_markdown":"I need help rotating an array by a distance according to `keyIndex`.\r\n\r\nHere is my code:\r\n\r\n    char[] arr = new char[] {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;};\r\n    int keyIndex = 2;\r\n\r\n    char[] newArr = new char[26];\r\n\r\n    int last = arr[arr.length -1];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        arr[i] = arr[i + keyIndex];\r\n    }\r\n\r\nbut I get an error and the last two characters are not being saved in elements 0, 1.\r\n\r\nMy teacher said this can be solved somehow by using modulus division in one line. ","title":"Java array rotation","body":"<p>I need help rotating an array by a distance according to <code>keyIndex</code>.</p>\n<p>Here is my code:</p>\n<pre><code>char[] arr = new char[] {'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'};\nint keyIndex = 2;\n\nchar[] newArr = new char[26];\n\nint last = arr[arr.length -1];\nfor (int i = 0; i &lt; arr.length; i++) {\n    arr[i] = arr[i + keyIndex];\n}\n</code></pre>\n<p>but I get an error and the last two characters are not being saved in elements 0, 1.</p>\n<p>My teacher said this can be solved somehow by using modulus division in one line.</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565769509,"creation_date":1565768695,"answer_id":57490261,"question_id":57490127,"body_markdown":"    DeleteRequest request = new DeleteRequest(\r\n        &quot;index&quot;,   \r\n        &quot;doc&quot;,     \r\n        &quot;id&quot;);\r\n    DeleteResponse deleteResponse = client.delete(request,RequestOptions.DEFAULT);\r\n            return deleteResponse.getResult().name();\r\n    \r\nwhere &quot;index&quot; is the index name and id is the document id.\r\n\r\nAs per https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-document-delete.html documentation, you need to pass 3 arguments. 2 argument should be &quot;doc&quot;.","title":"how to delete index with deleteRequest API in elasticsearch(6.4.3)","body":"<pre><code>DeleteRequest request = new DeleteRequest(\n    \"index\",   \n    \"doc\",     \n    \"id\");\nDeleteResponse deleteResponse = client.delete(request,RequestOptions.DEFAULT);\n        return deleteResponse.getResult().name();\n</code></pre>\n\n<p>where \"index\" is the index name and id is the document id.</p>\n\n<p>As per <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-document-delete.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-document-delete.html</a> documentation, you need to pass 3 arguments. 2 argument should be \"doc\".</p>\n"},{"tags":[],"owner":{"account_id":8024041,"reputation":11,"user_id":6051771,"display_name":"Leidy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643244626,"creation_date":1643244626,"answer_id":70872044,"question_id":57490127,"body_markdown":"If you want to delete an index in Elastic Search, you need to use the Delete Index API\r\n https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-delete-index.html\r\n\r\nThis is the basic example, using the synchronous execution:\r\n\r\n    DeleteIndexRequest request = new DeleteIndexRequest(*IndexName*);\r\n    DeleteIndexResponse deleteIndexResponse = client.indices().delete(request, RequestOptions.DEFAULT);\r\n\r\nThe API you are using is meant to delete documents, that is why it requires 3 arguments: the name of the index, the type, and the id of the document you want to delete.\r\n    \r\n\r\n","title":"how to delete index with deleteRequest API in elasticsearch(6.4.3)","body":"<p>If you want to delete an index in Elastic Search, you need to use the Delete Index API\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-delete-index.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-delete-index.html</a></p>\n<p>This is the basic example, using the synchronous execution:</p>\n<pre><code>DeleteIndexRequest request = new DeleteIndexRequest(*IndexName*);\nDeleteIndexResponse deleteIndexResponse = client.indices().delete(request, RequestOptions.DEFAULT);\n</code></pre>\n<p>The API you are using is meant to delete documents, that is why it requires 3 arguments: the name of the index, the type, and the id of the document you want to delete.</p>\n"}],"owner":{"account_id":13549311,"reputation":1,"user_id":9774601,"display_name":"junghwan huh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643244626,"creation_date":1565768189,"question_id":57490127,"body_markdown":"I&#39;d like to delete index in elasticsearch 6.4.3 by using DeleteRequest API\r\n\r\nBut elastic.co guide 3 arguments(index,document,id)\r\n(https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-document-delete.html)\r\n\r\nI want use 2 arguments for deleting index (index,document) \r\n\r\nSo, Anybody help me about this?\r\n\r\n    DeleteRequest deleteRequest = new DeleteRequest(index);\r\n    DeleteResponse response = mClient.delete(deleteRequest, RequestOptions.DEFAULT);\r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; org.elasticsearch.action.ActionRequestValidationException: Validation\r\n&gt; Failed: 1: type is missing;2: id is missing; \tat\r\n&gt; org.elasticsearch.action.ValidateActions.addValidationError(ValidateActions.java:26)\r\n&gt; \tat\r\n&gt; org.elasticsearch.action.delete.DeleteRequest.validate(DeleteRequest.java:87)\r\n&gt; \tat\r\n&gt; org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1248)\r\n&gt; \tat\r\n&gt; org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1231)\r\n&gt; \tat\r\n&gt; org.elasticsearch.client.RestHighLevelClient.delete(RestHighLevelClient.java:681)\r\n&gt; \tat\r\n&gt; com.sds.imp.gm.comm.es.RestHighLevelClientAPI.deleteIndex(RestHighLevelClientAPI.java:52)\r\n&gt; \tat\r\n&gt; com.sds.imp.gm.comm.es.RestHighLevelClientAPI.main(RestHighLevelClientAPI.java:220)\r\n\r\n","title":"how to delete index with deleteRequest API in elasticsearch(6.4.3)","body":"<p>I'd like to delete index in elasticsearch 6.4.3 by using DeleteRequest API</p>\n\n<p>But elastic.co guide 3 arguments(index,document,id)\n(<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-document-delete.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-document-delete.html</a>)</p>\n\n<p>I want use 2 arguments for deleting index (index,document) </p>\n\n<p>So, Anybody help me about this?</p>\n\n<pre><code>DeleteRequest deleteRequest = new DeleteRequest(index);\nDeleteResponse response = mClient.delete(deleteRequest, RequestOptions.DEFAULT);\n</code></pre>\n\n<blockquote>\n  <p>Exception in thread \"main\"\n  org.elasticsearch.action.ActionRequestValidationException: Validation\n  Failed: 1: type is missing;2: id is missing;  at\n  org.elasticsearch.action.ValidateActions.addValidationError(ValidateActions.java:26)\n    at\n  org.elasticsearch.action.delete.DeleteRequest.validate(DeleteRequest.java:87)\n    at\n  org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1248)\n    at\n  org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1231)\n    at\n  org.elasticsearch.client.RestHighLevelClient.delete(RestHighLevelClient.java:681)\n    at\n  com.sds.imp.gm.comm.es.RestHighLevelClientAPI.deleteIndex(RestHighLevelClientAPI.java:52)\n    at\n  com.sds.imp.gm.comm.es.RestHighLevelClientAPI.main(RestHighLevelClientAPI.java:220)</p>\n</blockquote>\n"},{"tags":["java","android-studio","httpurlconnection"],"comments":[{"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"score":1,"creation_date":1568963952,"post_id":58022495,"comment_id":102449745,"body_markdown":"Possible duplicate of [Android 8: Cleartext HTTP traffic not permitted](https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted\">Android 8: Cleartext HTTP traffic not permitted</a>"}],"answers":[{"tags":[],"owner":{"account_id":3205612,"reputation":681,"user_id":2706715,"display_name":"Suman Kumar Dash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568960411,"creation_date":1568959980,"answer_id":58022692,"question_id":58022495,"body_markdown":"May be you made a mistake. Here is a correct format got it from another source.\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;network-security-config&gt;\r\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;Your URL(ex: 127.0.0.1)&lt;/domain&gt;\r\n    &lt;/domain-config&gt;\r\n&lt;/network-security-config&gt;\r\n\r\nAndroidManifest.xml -\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest ...&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n     &lt;application\r\n        ...\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        ...&gt;\r\n     &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nIf you have android:targetSandboxVersion in &lt;manifest&gt; then reduce it to 1\r\n\r\nAndroidManifest.xml -\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest android:targetSandboxVersion=&quot;1&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    ...\r\n   &lt;/manifest&gt;","title":"How to fix &#39;Cleartext HTTP traffic to x not permitted&#39;","body":"<p>May be you made a mistake. Here is a correct format got it from another source.</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;network-security-config&gt;\n&lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n    &lt;domain includeSubdomains=\"true\"&gt;Your URL(ex: 127.0.0.1)&lt;/domain&gt;\n&lt;/domain-config&gt;\n</code></pre>\n\n<p></p>\n\n<p>AndroidManifest.xml -</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest ...&gt;\n &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n &lt;application\n    ...\n    android:networkSecurityConfig=\"@xml/network_security_config\"\n    ...&gt;\n &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>If you have android:targetSandboxVersion in  then reduce it to 1</p>\n\n<p>AndroidManifest.xml -</p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest android:targetSandboxVersion=\"1\"&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n...\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":12576162,"reputation":31,"user_id":9148499,"display_name":"sushil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643244405,"creation_date":1568960331,"answer_id":58022748,"question_id":58022495,"body_markdown":"Create a file in your project \r\n\r\n`res/xml/security_config.xml`\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;Your URL(ex: 127.0.0.1)&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n    &lt;/network-security-config&gt;\r\n    \r\n\r\n   `AndroidManifest.xml`\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest ...&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;application\r\n            ...\r\n            android:networkSecurityConfig=&quot;@xml/security_config&quot;\r\n            ...&gt;\r\n            ...\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nAlso if you have android:targetSandboxVersion in &lt;manifest&gt; then reduce it to 1","title":"How to fix &#39;Cleartext HTTP traffic to x not permitted&#39;","body":"<p>Create a file in your project</p>\n<p><code>res/xml/security_config.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;Your URL(ex: 127.0.0.1)&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n<p><code>AndroidManifest.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest ...&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;application\n        ...\n        android:networkSecurityConfig=&quot;@xml/security_config&quot;\n        ...&gt;\n        ...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Also if you have android:targetSandboxVersion in  then reduce it to 1</p>\n"},{"tags":[],"owner":{"account_id":16069383,"reputation":616,"user_id":11598177,"display_name":"L2_Paver"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1643244284,"creation_date":1568962584,"answer_id":58023238,"question_id":58022495,"body_markdown":"Try using just \r\n        \r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\ndelete this 2\r\n\r\n    android:targetSandboxVersion=&quot;1&quot;\r\n    android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n\r\nmine is working in any API just using `android:usesCleartextTraffic=&quot;true&quot;`\r\n","title":"How to fix &#39;Cleartext HTTP traffic to x not permitted&#39;","body":"<p>Try using just</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n<p>delete this 2</p>\n<pre><code>android:targetSandboxVersion=&quot;1&quot;\nandroid:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n</code></pre>\n<p>mine is working in any API just using <code>android:usesCleartextTraffic=&quot;true&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":11973543,"reputation":131,"user_id":8761386,"display_name":"Reynard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568964252,"creation_date":1568964252,"answer_id":58023649,"question_id":58022495,"body_markdown":"Solved my own problem, airing my shame for posterity.\r\n\r\nAccidentally put a url in `&lt;domain includeSubdomains=&quot;true&quot;&gt;&lt;/domain&gt;` instead of a domain.","title":"How to fix &#39;Cleartext HTTP traffic to x not permitted&#39;","body":"<p>Solved my own problem, airing my shame for posterity.</p>\n\n<p>Accidentally put a url in <code>&lt;domain includeSubdomains=\"true\"&gt;&lt;/domain&gt;</code> instead of a domain.</p>\n"},{"tags":[],"owner":{"account_id":10511962,"reputation":9,"user_id":7747364,"display_name":"Jesus Vazquez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1574360229,"creation_date":1574360229,"answer_id":58981324,"question_id":58022495,"body_markdown":"\r\nI had the same problem and I solved it by lowering the android version to 25 in And, the application works well on devices with android 9 and smaller.\r\n\r\n    \r\n    &lt;uses-sdk\r\n            android:minSdkVersion=&quot;16&quot;\r\n            android:targetSdkVersion=&quot;25&quot; /&gt;\r\n\r\n","title":"How to fix &#39;Cleartext HTTP traffic to x not permitted&#39;","body":"<p>I had the same problem and I solved it by lowering the android version to 25 in And, the application works well on devices with android 9 and smaller.</p>\n\n<pre><code>&lt;uses-sdk\n        android:minSdkVersion=\"16\"\n        android:targetSdkVersion=\"25\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3120769,"reputation":66,"user_id":12732900,"display_name":"Israel Estrada"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1579285148,"creation_date":1579285148,"answer_id":59792900,"question_id":58022495,"body_markdown":"If you are working in your local machine make sure that you are requesting to **10.0.2.2** instead of **localhost** (this is very important)\r\n\r\nThen make sure that your **AndroidManfest.xml** file has following lines:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    \r\n    &lt;application\r\n            ... \r\n            android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;\r\n\r\nand your **network_security_config.xml** file must look like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;trust-anchors&gt;\r\n                &lt;certificates src=&quot;system&quot; /&gt;\r\n            &lt;/trust-anchors&gt;\r\n        &lt;/base-config&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\n\r\nor if you need to allow request to specific domains you could modify **network_security_config.xml** file with:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;10.0.2.2&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\nBoth **network_security_config.xml** configurations works for me. I&#39;m working on my local development enviroment.","title":"How to fix &#39;Cleartext HTTP traffic to x not permitted&#39;","body":"<p>If you are working in your local machine make sure that you are requesting to <strong>10.0.2.2</strong> instead of <strong>localhost</strong> (this is very important)</p>\n\n<p>Then make sure that your <strong>AndroidManfest.xml</strong> file has following lines:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n&lt;application\n        ... \n        android:networkSecurityConfig=\"@xml/network_security_config\"&gt;\n</code></pre>\n\n<p>and your <strong>network_security_config.xml</strong> file must look like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=\"system\" /&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p>or if you need to allow request to specific domains you could modify <strong>network_security_config.xml</strong> file with:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"true\"&gt;10.0.2.2&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p>Both <strong>network_security_config.xml</strong> configurations works for me. I'm working on my local development enviroment.</p>\n"},{"tags":[],"owner":{"account_id":15535861,"reputation":41,"user_id":11208081,"display_name":"Check Google Active"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583395421,"creation_date":1583395421,"answer_id":60540659,"question_id":58022495,"body_markdown":"Don&#39;t do like this way it may be get run time error \r\nTo Do easiest method;\r\ngo to android native project here you can see Properties click there then take AssemblyInfo.cs file then edit this part below\r\n\r\n \r\n\r\n[assembly: Application(UsesCleartextTraffic = true)]\r\n\r\nexample below my code:-\r\n\r\n   \r\n\r\n     using System.Reflection;\r\n        using System.Runtime.CompilerServices;\r\n    \r\n        using System.Runtime.InteropServices;\r\n    \r\n        using Android.App;\r\n        \r\n        // General Information about an assembly is controlled through the following \r\n        // set of attributes. Change these attribute values to modify the information\r\n        // associated with an assembly.\r\n        [assembly: AssemblyTitle(&quot;ZATWEBO.Android&quot;)]\r\n        [assembly: AssemblyDescription(&quot;&quot;)]\r\n        [assembly: AssemblyConfiguration(&quot;&quot;)]\r\n        [assembly: AssemblyCompany(&quot;&quot;)]\r\n        [assembly: AssemblyProduct(&quot;ZATWEBO.Android&quot;)]\r\n        [assembly: AssemblyCopyright(&quot;Copyright &#169;  2014&quot;)]\r\n        [assembly: AssemblyTrademark(&quot;&quot;)]\r\n        [assembly: AssemblyCulture(&quot;&quot;)]\r\n        [assembly: ComVisible(false)]\r\n        \r\n        // Version information for an assembly consists of the following four values:\r\n        //\r\n        //      Major Version\r\n        //      Minor Version \r\n        //      Build Number\r\n        //      Revision\r\n        //\r\n        // You can specify all the values or you can default the Build and Revision Numbers \r\n        // by using the &#39;*&#39; as shown below:\r\n        // [assembly: AssemblyVersion(&quot;1.0.*&quot;)]\r\n        [assembly: AssemblyVersion(&quot;1.0.0.0&quot;)]\r\n        [assembly: AssemblyFileVersion(&quot;1.0.0.0&quot;)]\r\n        \r\n        // Add some common permissions, these can be removed if not needed\r\n        [assembly: UsesPermission(Android.Manifest.Permission.Internet)]\r\n        [assembly: UsesPermission(Android.Manifest.Permission.WriteExternalStorage)]\r\n        [assembly: Application(UsesCleartextTraffic = true)]\r\n\r\nNote: this change only need android 9 Pie or higher versions","title":"How to fix &#39;Cleartext HTTP traffic to x not permitted&#39;","body":"<p>Don't do like this way it may be get run time error \nTo Do easiest method;\ngo to android native project here you can see Properties click there then take AssemblyInfo.cs file then edit this part below</p>\n\n<p>[assembly: Application(UsesCleartextTraffic = true)]</p>\n\n<p>example below my code:-</p>\n\n<pre><code> using System.Reflection;\n    using System.Runtime.CompilerServices;\n\n    using System.Runtime.InteropServices;\n\n    using Android.App;\n\n    // General Information about an assembly is controlled through the following \n    // set of attributes. Change these attribute values to modify the information\n    // associated with an assembly.\n    [assembly: AssemblyTitle(\"ZATWEBO.Android\")]\n    [assembly: AssemblyDescription(\"\")]\n    [assembly: AssemblyConfiguration(\"\")]\n    [assembly: AssemblyCompany(\"\")]\n    [assembly: AssemblyProduct(\"ZATWEBO.Android\")]\n    [assembly: AssemblyCopyright(\"Copyright ©  2014\")]\n    [assembly: AssemblyTrademark(\"\")]\n    [assembly: AssemblyCulture(\"\")]\n    [assembly: ComVisible(false)]\n\n    // Version information for an assembly consists of the following four values:\n    //\n    //      Major Version\n    //      Minor Version \n    //      Build Number\n    //      Revision\n    //\n    // You can specify all the values or you can default the Build and Revision Numbers \n    // by using the '*' as shown below:\n    // [assembly: AssemblyVersion(\"1.0.*\")]\n    [assembly: AssemblyVersion(\"1.0.0.0\")]\n    [assembly: AssemblyFileVersion(\"1.0.0.0\")]\n\n    // Add some common permissions, these can be removed if not needed\n    [assembly: UsesPermission(Android.Manifest.Permission.Internet)]\n    [assembly: UsesPermission(Android.Manifest.Permission.WriteExternalStorage)]\n    [assembly: Application(UsesCleartextTraffic = true)]\n</code></pre>\n\n<p>Note: this change only need android 9 Pie or higher versions</p>\n"},{"tags":[],"owner":{"account_id":18635226,"reputation":11,"user_id":13582296,"display_name":"Aravindh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591485082,"creation_date":1591260231,"answer_id":62190407,"question_id":58022495,"body_markdown":"I added the following code to the Android Manifest file:\r\n\r\n  \r\n```lang-xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;base-config&gt;\r\n            &lt;trust-anchors&gt;\r\n                &lt;certificates src=&quot;system&quot;&gt;\r\n                &lt;/certificates&gt;\r\n            &lt;/trust-anchors&gt;\r\n        &lt;/base-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;http://YourURL/api/&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n    &lt;/network-security-config&gt;","title":"How to fix &#39;Cleartext HTTP traffic to x not permitted&#39;","body":"<p>I added the following code to the Android Manifest file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;network-security-config&gt;\n        &lt;base-config&gt;\n            &lt;trust-anchors&gt;\n                &lt;certificates src=\"system\"&gt;\n                &lt;/certificates&gt;\n            &lt;/trust-anchors&gt;\n        &lt;/base-config&gt;\n        &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n            &lt;domain includeSubdomains=\"true\"&gt;http://YourURL/api/&lt;/domain&gt;\n        &lt;/domain-config&gt;\n    &lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18947452,"reputation":1,"user_id":13825981,"display_name":"Mahmoud Chahine"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1593286317,"creation_date":1593286317,"answer_id":62614660,"question_id":58022495,"body_markdown":"Make sure you have the https request for both post and origin header. If you have one http request and the other is htps:// it won&#39;t work I had the same problem with the same error.","title":"How to fix &#39;Cleartext HTTP traffic to x not permitted&#39;","body":"<p>Make sure you have the https request for both post and origin header. If you have one http request and the other is htps:// it won't work I had the same problem with the same error.</p>\n"}],"owner":{"account_id":11973543,"reputation":131,"user_id":8761386,"display_name":"Reynard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37548,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":9,"score":13,"last_activity_date":1643244405,"creation_date":1568958737,"question_id":58022495,"body_markdown":"I&#39;m trying to make a post request to an http server, but when I try to get an input stream I get the error `java.io.IOException: Cleartext HTTP traffic to x not permitted`\r\n\r\nI&#39;ve already tried putting `android:usesCleartextTraffic=&quot;true&quot;` in my manifest, as well as making a network security config and setting the android:targetSandboxVersion to 1\r\n\r\napp/src/main/res/xml/network_security_config.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;network-security-config&gt;\r\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;Server adress&lt;/domain&gt;\r\n    &lt;/domain-config&gt;\r\n&lt;/network-security-config&gt;\r\n```\r\n\r\napp/src/main/AndroidManifest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.packagename&quot;\r\n    android:targetSandboxVersion=&quot;1&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        &gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n```\r\n\r\n\r\n\r\nLogcat output\r\n```\r\nD/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\r\nW/System.err: java.io.IOException: Cleartext HTTP traffic to x not permitted\r\nW/System.err:     at com.android.okhttp.HttpHandler$CleartextURLFilter.checkURLPermitted(HttpHandler.java:124) \r\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:462)\r\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\r\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\r\n``` \r\n\r\nAny help would be appreciated","title":"How to fix &#39;Cleartext HTTP traffic to x not permitted&#39;","body":"<p>I'm trying to make a post request to an http server, but when I try to get an input stream I get the error <code>java.io.IOException: Cleartext HTTP traffic to x not permitted</code></p>\n\n<p>I've already tried putting <code>android:usesCleartextTraffic=\"true\"</code> in my manifest, as well as making a network security config and setting the android:targetSandboxVersion to 1</p>\n\n<p>app/src/main/res/xml/network_security_config.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"true\"&gt;Server adress&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p>app/src/main/AndroidManifest.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.packagename\"\n    android:targetSandboxVersion=\"1\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"\n        android:usesCleartextTraffic=\"true\"\n        android:networkSecurityConfig=\"@xml/network_security_config\"\n        &gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n</code></pre>\n\n<p>Logcat output</p>\n\n<pre><code>D/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\nW/System.err: java.io.IOException: Cleartext HTTP traffic to x not permitted\nW/System.err:     at com.android.okhttp.HttpHandler$CleartextURLFilter.checkURLPermitted(HttpHandler.java:124) \nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:462)\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\nW/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\n</code></pre>\n\n<p>Any help would be appreciated</p>\n"},{"tags":["java","xml","xml-parsing","nashorn"],"comments":[{"owner":{"account_id":22919341,"reputation":4094,"user_id":17055403,"display_name":"skara9"},"score":0,"creation_date":1643243173,"post_id":70871870,"comment_id":125290909,"body_markdown":"javascript != java","body":"javascript != java"}],"answers":[{"tags":[],"owner":{"account_id":22919341,"reputation":4094,"user_id":17055403,"display_name":"skara9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643243853,"creation_date":1643243853,"answer_id":70871969,"question_id":70871870,"body_markdown":"Well, the docs for `&lt;XmlParser.Node&gt;.get` describe it as *&quot;Get the first child node with the tag.&quot;*\r\n\r\nIf you want to get all the tags, there&#39;s `&lt;XmlParser.Node&gt;.iterator` which returns an `Iterator` containing all the matching child nodes with the tag.\r\n\r\n```java\r\nvar webservices = inputMessage.iterator(&quot;DeliverWeb&quot;);\r\n\r\nvar webservice1 = webservices.next();\r\nvar webservice2 = webservices.next();\r\n```","title":"Retrieve duplicated element using Jetty XML Parser","body":"<p>Well, the docs for <code>&lt;XmlParser.Node&gt;.get</code> describe it as <em>&quot;Get the first child node with the tag.&quot;</em></p>\n<p>If you want to get all the tags, there's <code>&lt;XmlParser.Node&gt;.iterator</code> which returns an <code>Iterator</code> containing all the matching child nodes with the tag.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var webservices = inputMessage.iterator(&quot;DeliverWeb&quot;);\n\nvar webservice1 = webservices.next();\nvar webservice2 = webservices.next();\n</code></pre>\n"}],"owner":{"account_id":13011419,"reputation":271,"user_id":9404300,"display_name":"William Pham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70871969,"answer_count":1,"score":0,"last_activity_date":1643243867,"creation_date":1643242927,"question_id":70871870,"body_markdown":"I&#39;m currently using Jetty XML Parser in JavaScript Nashorn to retrieve certain nodes in an XML payload and I want to retrieve a certain child node with the same name. For example:\r\n```\r\n&lt;MessageV1 xmlns=&quot;http://schemas.somecompany.com.au/somemessage.xsd&quot;&gt;\r\n    &lt;DeliverWeb&gt;\r\n       &lt;DeliveryMethod&gt;WebService1&lt;/DeliveryMethod&gt;\r\n       &lt;DeliverToUrl&gt;https://someurl.com/class/Webservices&lt;/DeliverToUrl&gt;\r\n       &lt;DeliverToSomewhere&gt;false&lt;/DeliverToSomewhere&gt;\r\n    &lt;/DeliverWeb&gt;\r\n    &lt;DeliverWeb&gt;\r\n       &lt;DeliveryMethod&gt;WebService2&lt;/DeliveryMethod&gt;\r\n       &lt;DeliverToUrl&gt;https://login.salesforce.com/services/someid&lt;/DeliverToUrl&gt;\r\n       &lt;DeliverToSomewhere&gt;false&lt;/DeliverToSomewhere&gt;\r\n    &lt;/DeliverWeb&gt;\r\n &lt;/MessageV1&gt;\r\n```\r\n\r\nMy code:\r\n```\r\n    //Convert XML input string to input stream\r\n    var parser = new UsersXmlParser()\r\n    var input = new ByteArrayInputStream(xmlStringBuilder.toString().getBytes(&quot;UTF-8&quot;));\r\n\r\n    //parse XML\r\n    var inputMessage = parser.parse(input)\r\n\r\n   //extract DeliverWeb using tag string\r\n    var webservice1 = inputMessage.get(&quot;DeliverWeb&quot;)\r\n\r\n   //extract DeliverWeb using i node (This will count the number of tag)\r\n    var webservice1 = inputMessage.get(1)\r\n    var webservice2 = inputMessage.get(3)\r\n```\r\nAs you can see in the code, if I use tag string I won&#39;t be able to get the second DeliverWeb as it only return the first child node:\r\n```\r\n    &lt;DeliverWeb&gt;\r\n       &lt;DeliveryMethod&gt;WebService1&lt;/DeliveryMethod&gt;\r\n       &lt;DeliverToUrl&gt;https://someurl.com/class/Webservices&lt;/DeliverToUrl&gt;\r\n       &lt;DeliverToSomewhere&gt;false&lt;/DeliverToSomewhere&gt;\r\n    &lt;/DeliverWeb&gt;\r\n```\r\nIs there a way I can retrieve the second deliverweb using the name tag following up with the number of the child node for example:\r\n```\r\n    var webservice1 = inputMessage.get(&quot;DeliverWeb&quot;)[1]\r\n```\r\nHowever, that won&#39;t work as it will return:\r\n```\r\n&lt;DeliveryMethod&gt;WebService1&lt;/DeliveryMethod&gt;\r\n```\r\n\r\nIf it helps, here&#39;s the jetty XML library link:\r\nhttps://archive.eclipse.org/jetty/7.0.0.M3/apidocs/org/eclipse/jetty/xml/XmlParser.Node.html\r\n\r\nAny ideas would be much appreciated!","title":"Retrieve duplicated element using Jetty XML Parser","body":"<p>I'm currently using Jetty XML Parser in JavaScript Nashorn to retrieve certain nodes in an XML payload and I want to retrieve a certain child node with the same name. For example:</p>\n<pre><code>&lt;MessageV1 xmlns=&quot;http://schemas.somecompany.com.au/somemessage.xsd&quot;&gt;\n    &lt;DeliverWeb&gt;\n       &lt;DeliveryMethod&gt;WebService1&lt;/DeliveryMethod&gt;\n       &lt;DeliverToUrl&gt;https://someurl.com/class/Webservices&lt;/DeliverToUrl&gt;\n       &lt;DeliverToSomewhere&gt;false&lt;/DeliverToSomewhere&gt;\n    &lt;/DeliverWeb&gt;\n    &lt;DeliverWeb&gt;\n       &lt;DeliveryMethod&gt;WebService2&lt;/DeliveryMethod&gt;\n       &lt;DeliverToUrl&gt;https://login.salesforce.com/services/someid&lt;/DeliverToUrl&gt;\n       &lt;DeliverToSomewhere&gt;false&lt;/DeliverToSomewhere&gt;\n    &lt;/DeliverWeb&gt;\n &lt;/MessageV1&gt;\n</code></pre>\n<p>My code:</p>\n<pre><code>    //Convert XML input string to input stream\n    var parser = new UsersXmlParser()\n    var input = new ByteArrayInputStream(xmlStringBuilder.toString().getBytes(&quot;UTF-8&quot;));\n\n    //parse XML\n    var inputMessage = parser.parse(input)\n\n   //extract DeliverWeb using tag string\n    var webservice1 = inputMessage.get(&quot;DeliverWeb&quot;)\n\n   //extract DeliverWeb using i node (This will count the number of tag)\n    var webservice1 = inputMessage.get(1)\n    var webservice2 = inputMessage.get(3)\n</code></pre>\n<p>As you can see in the code, if I use tag string I won't be able to get the second DeliverWeb as it only return the first child node:</p>\n<pre><code>    &lt;DeliverWeb&gt;\n       &lt;DeliveryMethod&gt;WebService1&lt;/DeliveryMethod&gt;\n       &lt;DeliverToUrl&gt;https://someurl.com/class/Webservices&lt;/DeliverToUrl&gt;\n       &lt;DeliverToSomewhere&gt;false&lt;/DeliverToSomewhere&gt;\n    &lt;/DeliverWeb&gt;\n</code></pre>\n<p>Is there a way I can retrieve the second deliverweb using the name tag following up with the number of the child node for example:</p>\n<pre><code>    var webservice1 = inputMessage.get(&quot;DeliverWeb&quot;)[1]\n</code></pre>\n<p>However, that won't work as it will return:</p>\n<pre><code>&lt;DeliveryMethod&gt;WebService1&lt;/DeliveryMethod&gt;\n</code></pre>\n<p>If it helps, here's the jetty XML library link:\n<a href=\"https://archive.eclipse.org/jetty/7.0.0.M3/apidocs/org/eclipse/jetty/xml/XmlParser.Node.html\" rel=\"nofollow noreferrer\">https://archive.eclipse.org/jetty/7.0.0.M3/apidocs/org/eclipse/jetty/xml/XmlParser.Node.html</a></p>\n<p>Any ideas would be much appreciated!</p>\n"},{"tags":["java","mongodb","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":11914266,"reputation":1155,"user_id":8718583,"accept_rate":75,"display_name":"Tet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643242545,"creation_date":1643242545,"answer_id":70871841,"question_id":70866913,"body_markdown":"I had the same issue and It seems related to version 3.3.0.\r\n\r\nUsing 3.2.8 worked for me:\r\n\r\nde.flapdoodle.embed:de.flapdoodle.embed.mongo:3.2.8","title":"Flapdoodle Embedded Mongo process won&#39;t start","body":"<p>I had the same issue and It seems related to version 3.3.0.</p>\n<p>Using 3.2.8 worked for me:</p>\n<p>de.flapdoodle.embed:de.flapdoodle.embed.mongo:3.2.8</p>\n"}],"owner":{"account_id":20909176,"reputation":135,"user_id":15360437,"display_name":"Tom Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3337,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1643242545,"creation_date":1643214613,"question_id":70866913,"body_markdown":"I&#39;m trying to have an Embedded Mongo instance run while performing my unit tests. I am using the flapdoodle embedded mongo package to achieve this, but getting an error while attempting to start the tests.\r\n\r\nMy build.gradle dependencies:\r\n```\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;de.flapdoodle.embed:de.flapdoodle.embed.mongo:3.3.0&#39;\r\n}\r\n```\r\nAnd the test file:\r\n```\r\n@SpringBootTest\r\npublic class UserServiceTest {\r\n\r\n    @Autowired\r\n    UserServiceImpl userService;\r\n\r\n    @MockBean\r\n    MongoTemplate mongoTemplate;\r\n\r\n    @MockBean\r\n    UserRepository userRepository;\r\n\r\n    @Test\r\n    public void contextLoads() {\r\n        assertThat(userService).isNotNull();\r\n        assertThat(userRepository).isNotNull();\r\n    }\r\n\r\n    public User getUser(String authId) {\r\n        User user = new User();\r\n        user.setAuth0Id(authId);\r\n        user.setUserImage(&quot;img&quot;);\r\n        user.setEmail(&quot;email@mail.com&quot;);\r\n        user.setName(&quot;User 1&quot;);\r\n        user.setId(&quot;1&quot;);\r\n        return user;\r\n    }\r\n\r\n    @Test\r\n    public void findByAuth0IdReturnsCorrectly() {\r\n        String id = &quot;helloIamTheId&quot;;\r\n        User user = getUser(id);\r\n        when(userRepository.findByAuth0Id(id)).thenReturn(Optional.of(user));\r\n        assertThat(userService.findByAuth0Id(id)).isEqualTo(Optional.of(user));\r\n    }\r\n}\r\n```\r\n\r\nThe error:\r\n```\r\nCaused by: java.lang.RuntimeException: Could not start process: &lt;EOF&gt;\r\n\tat de.flapdoodle.embed.mongo.AbstractMongoProcess.onAfterProcessStart(AbstractMongoProcess.java:79) ~[de.flapdoodle.embed.mongo-3.3.0.jar:na]\r\n\tat de.flapdoodle.embed.process.runtime.AbstractProcess.&lt;init&gt;(AbstractProcess.java:113) ~[de.flapdoodle.embed.process-3.1.6.jar:na]\r\n\tat de.flapdoodle.embed.mongo.AbstractMongoProcess.&lt;init&gt;(AbstractMongoProcess.java:53) ~[de.flapdoodle.embed.mongo-3.3.0.jar:na]\r\n\tat de.flapdoodle.embed.mongo.MongodProcess.&lt;init&gt;(MongodProcess.java:50) ~[de.flapdoodle.embed.mongo-3.3.0.jar:na]\r\n\tat de.flapdoodle.embed.mongo.MongodExecutable.start(MongodExecutable.java:44) ~[de.flapdoodle.embed.mongo-3.3.0.jar:na]\r\n\tat de.flapdoodle.embed.mongo.MongodExecutable.start(MongodExecutable.java:34) ~[de.flapdoodle.embed.mongo-3.3.0.jar:na]\r\n\tat de.flapdoodle.embed.process.runtime.Executable.start(Executable.java:109) ~[de.flapdoodle.embed.process-3.1.6.jar:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1930) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1872) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 100 common frames omitted\r\n```\r\n\r\nThanks","title":"Flapdoodle Embedded Mongo process won&#39;t start","body":"<p>I'm trying to have an Embedded Mongo instance run while performing my unit tests. I am using the flapdoodle embedded mongo package to achieve this, but getting an error while attempting to start the tests.</p>\n<p>My build.gradle dependencies:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-resource-server'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'de.flapdoodle.embed:de.flapdoodle.embed.mongo:3.3.0'\n}\n</code></pre>\n<p>And the test file:</p>\n<pre><code>@SpringBootTest\npublic class UserServiceTest {\n\n    @Autowired\n    UserServiceImpl userService;\n\n    @MockBean\n    MongoTemplate mongoTemplate;\n\n    @MockBean\n    UserRepository userRepository;\n\n    @Test\n    public void contextLoads() {\n        assertThat(userService).isNotNull();\n        assertThat(userRepository).isNotNull();\n    }\n\n    public User getUser(String authId) {\n        User user = new User();\n        user.setAuth0Id(authId);\n        user.setUserImage(&quot;img&quot;);\n        user.setEmail(&quot;email@mail.com&quot;);\n        user.setName(&quot;User 1&quot;);\n        user.setId(&quot;1&quot;);\n        return user;\n    }\n\n    @Test\n    public void findByAuth0IdReturnsCorrectly() {\n        String id = &quot;helloIamTheId&quot;;\n        User user = getUser(id);\n        when(userRepository.findByAuth0Id(id)).thenReturn(Optional.of(user));\n        assertThat(userService.findByAuth0Id(id)).isEqualTo(Optional.of(user));\n    }\n}\n</code></pre>\n<p>The error:</p>\n<pre><code>Caused by: java.lang.RuntimeException: Could not start process: &lt;EOF&gt;\n    at de.flapdoodle.embed.mongo.AbstractMongoProcess.onAfterProcessStart(AbstractMongoProcess.java:79) ~[de.flapdoodle.embed.mongo-3.3.0.jar:na]\n    at de.flapdoodle.embed.process.runtime.AbstractProcess.&lt;init&gt;(AbstractProcess.java:113) ~[de.flapdoodle.embed.process-3.1.6.jar:na]\n    at de.flapdoodle.embed.mongo.AbstractMongoProcess.&lt;init&gt;(AbstractMongoProcess.java:53) ~[de.flapdoodle.embed.mongo-3.3.0.jar:na]\n    at de.flapdoodle.embed.mongo.MongodProcess.&lt;init&gt;(MongodProcess.java:50) ~[de.flapdoodle.embed.mongo-3.3.0.jar:na]\n    at de.flapdoodle.embed.mongo.MongodExecutable.start(MongodExecutable.java:44) ~[de.flapdoodle.embed.mongo-3.3.0.jar:na]\n    at de.flapdoodle.embed.mongo.MongodExecutable.start(MongodExecutable.java:34) ~[de.flapdoodle.embed.mongo-3.3.0.jar:na]\n    at de.flapdoodle.embed.process.runtime.Executable.start(Executable.java:109) ~[de.flapdoodle.embed.process-3.1.6.jar:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1930) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1872) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 100 common frames omitted\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","android","dependency-injection","dagger-2","android-apt"],"owner":{"account_id":10844025,"reputation":11,"user_id":7974252,"display_name":"Patryk Prusinowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643242278,"creation_date":1643157680,"question_id":70857456,"body_markdown":"I try to use Dagger 2, but I&#39;ve got a errors. Adding code below doesn&#39;t help me.\r\n\r\n    gradle.projectsEvaluated {\r\n      tasks.withType(JavaCompile) {\r\n        options.compilerArgs &lt;&lt; &quot;-Xmaxerrs&quot; &lt;&lt; &quot;500&quot; // or whatever number you want\r\n      }\r\n    }\r\n\r\nMy build.gradle (:app) looks like\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;me.tatarka.retrolambda&#39;\r\n    \r\n    ...\r\n    \r\n    dependencies {\r\n    \r\n        compile &#39;com.google.dagger:dagger:2.23.2&#39;\r\n        compile &#39;com.google.dagger:dagger-android:2.23.2&#39;\r\n        compile &#39;com.google.dagger:dagger-android-support:2.23.2&#39;\r\n        annotationProcessor &#39;com.google.dagger:dagger-compiler:2.23.2&#39;\r\n        annotationProcessor &#39;com.google.dagger:dagger-android-processor:2.23.2&#39;\r\n    \r\n        compile &#39;me.tatarka.bindingcollectionadapter:bindingcollectionadapter:1.3.0&#39;\r\n    }\r\n\r\nI use compileSdkVersion set to 26, Gradle Wrapper set to 3.5 and \r\nAndroid Gradle Build Tools set to 2.2.3.\r\n\r\nErrors:\r\n```\r\nC:\\Projects\\xxx\\app\\src\\main\\java\\pl\\xxx\\view\\activity\\MainActivity.java:31: error: package pl.xxx.databinding does not exist\r\nimport pl.xxx.databinding.ActivityMainBinding;\r\n                                        ^\r\n\r\nC:\\Projects\\xxx\\app\\src\\main\\java\\pl\\upos\\xxx\\view\\activity\\MainActivity.java:52: error: cannot find symbol\r\n    private ActivityMainBinding binding;\r\n            ^\r\n  symbol:   class ActivityMainBinding\r\n  location: class MainActivity\r\n\r\n```\r\n","title":"Dagger 2 - Tatarka DataBinding Conflict","body":"<p>I try to use Dagger 2, but I've got a errors. Adding code below doesn't help me.</p>\n<pre><code>gradle.projectsEvaluated {\n  tasks.withType(JavaCompile) {\n    options.compilerArgs &lt;&lt; &quot;-Xmaxerrs&quot; &lt;&lt; &quot;500&quot; // or whatever number you want\n  }\n}\n</code></pre>\n<p>My build.gradle (:app) looks like</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'me.tatarka.retrolambda'\n\n...\n\ndependencies {\n\n    compile 'com.google.dagger:dagger:2.23.2'\n    compile 'com.google.dagger:dagger-android:2.23.2'\n    compile 'com.google.dagger:dagger-android-support:2.23.2'\n    annotationProcessor 'com.google.dagger:dagger-compiler:2.23.2'\n    annotationProcessor 'com.google.dagger:dagger-android-processor:2.23.2'\n\n    compile 'me.tatarka.bindingcollectionadapter:bindingcollectionadapter:1.3.0'\n}\n</code></pre>\n<p>I use compileSdkVersion set to 26, Gradle Wrapper set to 3.5 and\nAndroid Gradle Build Tools set to 2.2.3.</p>\n<p>Errors:</p>\n<pre><code>C:\\Projects\\xxx\\app\\src\\main\\java\\pl\\xxx\\view\\activity\\MainActivity.java:31: error: package pl.xxx.databinding does not exist\nimport pl.xxx.databinding.ActivityMainBinding;\n                                        ^\n\nC:\\Projects\\xxx\\app\\src\\main\\java\\pl\\upos\\xxx\\view\\activity\\MainActivity.java:52: error: cannot find symbol\n    private ActivityMainBinding binding;\n            ^\n  symbol:   class ActivityMainBinding\n  location: class MainActivity\n\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","openapi"],"comments":[{"owner":{"account_id":1550295,"reputation":2478,"user_id":1442853,"display_name":"Pablo"},"score":0,"creation_date":1643244051,"post_id":70871774,"comment_id":125291093,"body_markdown":"Are you using Spring Fox? check [this](https://stackoverflow.com/a/36104935/1442853) answer.","body":"Are you using Spring Fox? check <a href=\"https://stackoverflow.com/a/36104935/1442853\">this</a> answer."},{"owner":{"account_id":4371459,"reputation":119,"user_id":3565743,"accept_rate":44,"display_name":"Sanchit Jain"},"score":0,"creation_date":1643245529,"post_id":70871774,"comment_id":125291385,"body_markdown":"@Pablo: We are using open-api, but have tried springfox too. We looked at it and tried that approach; but it wasn&#39;t working for us","body":"@Pablo: We are using open-api, but have tried springfox too. We looked at it and tried that approach; but it wasn&#39;t working for us"},{"owner":{"account_id":1550295,"reputation":2478,"user_id":1442853,"display_name":"Pablo"},"score":0,"creation_date":1643299082,"post_id":70871774,"comment_id":125307742,"body_markdown":"Please update your question with your project structure, a controller code and the pom with the related dependencies","body":"Please update your question with your project structure, a controller code and the pom with the related dependencies"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1643312620,"post_id":70871774,"comment_id":125313197,"body_markdown":"Please consider using `springdoc` instead of `springfox`. Take a look at https://stackoverflow.com/a/70178391/16572295 to find some more details.","body":"Please consider using <code>springdoc</code> instead of <code>springfox</code>. Take a look at <a href=\"https://stackoverflow.com/a/70178391/16572295\">stackoverflow.com/a/70178391/16572295</a> to find some more details."}],"owner":{"account_id":4371459,"reputation":119,"user_id":3565743,"accept_rate":44,"display_name":"Sanchit Jain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643241926,"creation_date":1643241926,"question_id":70871774,"body_markdown":"We are trying to generate swagger documentation for our project. It&#39;s springboot project but it has JAX-RS annotations like @Path, @Get, @Post etc. \r\n\r\nWe have added modified SpringBootApplication.java file to include swagger configurations like - \r\n\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    @ImportResource({&quot;/spring/context.xml&quot;})\r\n    @OpenAPIDefinition(info = @Info(title = &quot;MFSWalletServ API&#39;s&quot;, version = &quot;1.0&quot;, \r\n        description = &quot;API Information&quot;),\r\n\t\tservers = { @Server(description = &quot;local&quot;, url = &quot;http://localhost:8080&quot;),\r\n\t\t@Server(description = &quot;Stage&quot;, url = &quot;https://msmaster.qa.paypal.com:12326&quot;)})\r\n    \r\n    public class SpringBootApplication extends SpringBootServletInitializer {\r\n\r\n\t    public static void main(String[] args) throws IOException {\r\n\t\t      SpringApplication.run(RaptorApplication.class);\r\n\t    }\r\n\r\n    }\r\n\r\n\r\nSwagger page is showing up but no API&#39;s are coming up. \r\n\r\n[![Current Swagger page][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0oyuD.png\r\n\r\n\r\nWe might have to add some property or something to tell swagger where(package) to look for API&#39;s - but i am not sure where to add them. How can i add swagger documentation for our API&#39;s ?","title":"OpenAPI Swagger Documentation for Springboot application","body":"<p>We are trying to generate swagger documentation for our project. It's springboot project but it has JAX-RS annotations like @Path, @Get, @Post etc.</p>\n<p>We have added modified SpringBootApplication.java file to include swagger configurations like -</p>\n<pre><code>@EnableAutoConfiguration\n@ComponentScan\n@ImportResource({&quot;/spring/context.xml&quot;})\n@OpenAPIDefinition(info = @Info(title = &quot;MFSWalletServ API's&quot;, version = &quot;1.0&quot;, \n    description = &quot;API Information&quot;),\n    servers = { @Server(description = &quot;local&quot;, url = &quot;http://localhost:8080&quot;),\n    @Server(description = &quot;Stage&quot;, url = &quot;https://msmaster.qa.paypal.com:12326&quot;)})\n\npublic class SpringBootApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) throws IOException {\n          SpringApplication.run(RaptorApplication.class);\n    }\n\n}\n</code></pre>\n<p>Swagger page is showing up but no API's are coming up.</p>\n<p><a href=\"https://i.stack.imgur.com/0oyuD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0oyuD.png\" alt=\"Current Swagger page\" /></a></p>\n<p>We might have to add some property or something to tell swagger where(package) to look for API's - but i am not sure where to add them. How can i add swagger documentation for our API's ?</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5000237,"reputation":19,"user_id":4019497,"display_name":"dpassyann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643241806,"creation_date":1643241806,"answer_id":70871759,"question_id":66154677,"body_markdown":"\r\n    @EntityGraph(value = &quot;Application.list2&quot; type = EntityGraph.EntityGraphType.FETCH)\r\n    List&lt;Application&gt; findByCategoryId(Long categoryId, Sort sort);\r\n\r\n    @NamedEntityGraph(name = &quot;Application.list2&quot;,\r\n    attributeNodes = {@NamedAttributeNode(&quot;category&quot;)})\r\n    public class Application {}","title":"Spring JPA : Exclude lob field from child in EntityGraph","body":"<pre><code>@EntityGraph(value = &quot;Application.list2&quot; type = EntityGraph.EntityGraphType.FETCH)\nList&lt;Application&gt; findByCategoryId(Long categoryId, Sort sort);\n\n@NamedEntityGraph(name = &quot;Application.list2&quot;,\nattributeNodes = {@NamedAttributeNode(&quot;category&quot;)})\npublic class Application {}\n</code></pre>\n"}],"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643241806,"creation_date":1613046064,"question_id":66154677,"body_markdown":"I have an entity called **application** which have an **icon** to be loaded :\r\nMy main problem is how to exclude some field that are used in the entityGraph   \r\n\r\n     @Data\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Table\r\n        @Entity\r\n        @Indexed\r\n        @NamedEntityGraph(name = &quot;Application.list&quot;,\r\n                attributeNodes = {\r\n                        @NamedAttributeNode(&quot;icon&quot;),\r\n                        @NamedAttributeNode(&quot;category&quot;)\r\n                }\r\n        )\r\n        public class Application {\r\n        \r\n            @Id\r\n            @Column\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            private Long id;\r\n        \r\n        \r\n            @ManyToOne(fetch = FetchType.EAGER)\r\n            private Category category;\r\n        \r\n            @ManyToOne(fetch = FetchType.EAGER)\r\n            private ApplicationType type;\r\n        \r\n            @ManyToOne(fetch = FetchType.EAGER)\r\n            private Category category;\r\n        \r\n            @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n            private Icon icon;\r\n        \r\n          \r\n        }\r\n\r\n    the icon child class :\r\n    \r\n    \r\n    @Table\r\n    @Entity\r\n    public class Icon {\r\n    \r\n        @Id\r\n        @Column\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column\r\n        private String label;\r\n    \r\n        @Column\r\n        private String type;\r\n    \r\n        @Lob\r\n        @Basic(fetch = FetchType.LAZY)\r\n        private String image;\r\n    \r\n    }\r\n\r\nwhen i call this :\r\n\r\n    @EntityGraph(value = &quot;Application.list&quot;)\r\n    List&lt;Application&gt; findByCategoryId(Long categoryId, Sort sort);\r\n\r\nthe query result is : \r\n\r\n    select\r\n            applicatio0_.id as id1_3_0_,\r\n            category1_.id as id1_18_1_,\r\n            icon2_.id as id1_24_2_,\r\n            applicatio3_.id as id1_9_3_,\r\n            applicatio0_.category_id as category_id7_3_0_,\r\n            applicatio0_.deleted as deleted2_3_0_,\r\n            applicatio0_.description as description3_3_0_,\r\n            applicatio0_.guide as guide4_3_0_,\r\n            applicatio0_.icon_id as icon_id8_3_0_,\r\n            applicatio0_.link as link5_3_0_,\r\n            applicatio0_.name as name6_3_0_,\r\n            applicatio0_.type_id as type_id9_3_0_,\r\n            category1_.name as name2_18_1_,\r\n            icon2_.label as label2_24_2_,\r\n            icon2_.type as type3_24_2_,2\r\n            ***icon2_.image as type3_24_2_,***\r\n            applicatio3_.name as name2_9_3_ \r\n        from\r\n            application applicatio0_ \r\n        left outer join\r\n            category category1_ \r\n                on applicatio0_.category_id=category1_.id \r\n        left outer join\r\n            icon icon2_ \r\n                on applicatio0_.icon_id=icon2_.id \r\n        left outer join\r\n            application_type applicatio3_ \r\n                on applicatio0_.type_id=applicatio3_.id \r\n        where\r\n            category1_.id=? \r\n        order by\r\n            lower(applicatio0_.name) asc\r\n\r\nMy question is how to exclude the child field ***icon2_.image as type3_24_2_,*** from the query findByCategoryId cause this one will load a big data, so i want that will be a LAzy field.\r\n","title":"Spring JPA : Exclude lob field from child in EntityGraph","body":"<p>I have an entity called <strong>application</strong> which have an <strong>icon</strong> to be loaded :\nMy main problem is how to exclude some field that are used in the entityGraph</p>\n<pre><code> @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Table\n    @Entity\n    @Indexed\n    @NamedEntityGraph(name = &quot;Application.list&quot;,\n            attributeNodes = {\n                    @NamedAttributeNode(&quot;icon&quot;),\n                    @NamedAttributeNode(&quot;category&quot;)\n            }\n    )\n    public class Application {\n    \n        @Id\n        @Column\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n    \n    \n        @ManyToOne(fetch = FetchType.EAGER)\n        private Category category;\n    \n        @ManyToOne(fetch = FetchType.EAGER)\n        private ApplicationType type;\n    \n        @ManyToOne(fetch = FetchType.EAGER)\n        private Category category;\n    \n        @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n        private Icon icon;\n    \n      \n    }\n\nthe icon child class :\n\n\n@Table\n@Entity\npublic class Icon {\n\n    @Id\n    @Column\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column\n    private String label;\n\n    @Column\n    private String type;\n\n    @Lob\n    @Basic(fetch = FetchType.LAZY)\n    private String image;\n\n}\n</code></pre>\n<p>when i call this :</p>\n<pre><code>@EntityGraph(value = &quot;Application.list&quot;)\nList&lt;Application&gt; findByCategoryId(Long categoryId, Sort sort);\n</code></pre>\n<p>the query result is :</p>\n<pre><code>select\n        applicatio0_.id as id1_3_0_,\n        category1_.id as id1_18_1_,\n        icon2_.id as id1_24_2_,\n        applicatio3_.id as id1_9_3_,\n        applicatio0_.category_id as category_id7_3_0_,\n        applicatio0_.deleted as deleted2_3_0_,\n        applicatio0_.description as description3_3_0_,\n        applicatio0_.guide as guide4_3_0_,\n        applicatio0_.icon_id as icon_id8_3_0_,\n        applicatio0_.link as link5_3_0_,\n        applicatio0_.name as name6_3_0_,\n        applicatio0_.type_id as type_id9_3_0_,\n        category1_.name as name2_18_1_,\n        icon2_.label as label2_24_2_,\n        icon2_.type as type3_24_2_,2\n        ***icon2_.image as type3_24_2_,***\n        applicatio3_.name as name2_9_3_ \n    from\n        application applicatio0_ \n    left outer join\n        category category1_ \n            on applicatio0_.category_id=category1_.id \n    left outer join\n        icon icon2_ \n            on applicatio0_.icon_id=icon2_.id \n    left outer join\n        application_type applicatio3_ \n            on applicatio0_.type_id=applicatio3_.id \n    where\n        category1_.id=? \n    order by\n        lower(applicatio0_.name) asc\n</code></pre>\n<p>My question is how to exclude the child field <em><strong>icon2_.image as type3_24_2_,</strong></em> from the query findByCategoryId cause this one will load a big data, so i want that will be a LAzy field.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643206902,"creation_date":1643206902,"answer_id":70864959,"question_id":70856942,"body_markdown":"Out of the box, not within the Streams API. \r\n\r\nYou&#39;re more than welcome to import methods that `ConsumerGroupCommand.scala` uses to get the group lag and calculate / print from there. \r\n\r\nOr you can externally install a tool like Burrow or Remora which have REST APIs for accessing lag information ","title":"printing progress for my application lag for Kafka stream application","body":"<p>Out of the box, not within the Streams API.</p>\n<p>You're more than welcome to import methods that <code>ConsumerGroupCommand.scala</code> uses to get the group lag and calculate / print from there.</p>\n<p>Or you can externally install a tool like Burrow or Remora which have REST APIs for accessing lag information</p>\n"},{"tags":[],"owner":{"account_id":295763,"reputation":1157,"user_id":600331,"accept_rate":82,"display_name":"Ahmad Houri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643240494,"creation_date":1643240494,"answer_id":70871616,"question_id":70856942,"body_markdown":"I wrote the following class to help be print the lag/progress easily\r\n\r\n    package util;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.kafka.clients.admin.AdminClient;\r\n    import org.apache.kafka.clients.admin.ListConsumerGroupOffsetsResult;\r\n    import org.apache.kafka.clients.admin.ListOffsetsResult;\r\n    import org.apache.kafka.clients.admin.OffsetSpec;\r\n    import org.apache.kafka.clients.consumer.*;\r\n    import org.apache.kafka.common.TopicPartition;\r\n    \r\n    import java.util.*;\r\n    import java.util.concurrent.*;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Slf4j\r\n    public class LagLogger implements AutoCloseable {\r\n        private ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(1);\r\n        private String topic;\r\n        private String consumerGroupName;\r\n        private int logDelayInMilliSeconds;\r\n        private Properties kafkaStreamsProperties;\r\n        private boolean closed;\r\n        private AdminClient adminClient;\r\n    \r\n        public LagLogger(String topic, String consumerGroupName, Properties kafkaStreamProperties, int logDelayInMilliSeconds) {\r\n            this.topic = topic;\r\n            this.kafkaStreamsProperties = kafkaStreamProperties;\r\n            this.logDelayInMilliSeconds = logDelayInMilliSeconds;\r\n            this.consumerGroupName = consumerGroupName;\r\n            adminClient = AdminClient.create(LagLogger.this.kafkaStreamsProperties);\r\n        }\r\n    \r\n        public class LagVisualizerTask implements AutoCloseable, Runnable {\r\n    \r\n            public LagVisualizerTask() {\r\n    \r\n            }\r\n    \r\n            public void run() {\r\n                ListConsumerGroupOffsetsResult listConsumerGroupOffsetsResult = adminClient.listConsumerGroupOffsets(LagLogger.this.consumerGroupName);\r\n    \r\n                // Current offsets.\r\n                Map&lt;TopicPartition, OffsetAndMetadata&gt; topicPartitionOffsetAndMetadataMap = null;\r\n                try {\r\n                    topicPartitionOffsetAndMetadataMap = listConsumerGroupOffsetsResult.partitionsToOffsetAndMetadata().get();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                // all topic partitions.\r\n                Set&lt;TopicPartition&gt; topicPartitions = topicPartitionOffsetAndMetadataMap.keySet();\r\n                // list of end offsets for each partitions.\r\n                ListOffsetsResult listOffsetsResult = adminClient.listOffsets(topicPartitions.stream()\r\n                        .collect(Collectors.toMap(Function.identity(), tp -&gt; OffsetSpec.latest())));\r\n    \r\n                StringBuilder stringBuilder = new StringBuilder();\r\n                stringBuilder.append(topic+&quot;: &quot;);\r\n                for (var entry : topicPartitionOffsetAndMetadataMap.entrySet()) {\r\n                    String finalString = stringBuilder.toString();\r\n                    if (entry.getKey().topic().equals(LagLogger.this.topic)) {\r\n                        long current_offset = entry.getValue().offset();\r\n                        long end_offset = 0;\r\n                        try {\r\n                            end_offset = listOffsetsResult.partitionResult(entry.getKey()).get().offset();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        } catch (ExecutionException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        stringBuilder.append(current_offset);\r\n                        stringBuilder.append(&quot; --&gt; &quot;);\r\n                        stringBuilder.append(end_offset);\r\n                        stringBuilder.append(&quot; (&quot;+String.format(&quot;%.2f&quot;, ((double)current_offset/end_offset)*100)   +&quot;%)&quot;);\r\n                        stringBuilder.append(&quot;    /    &quot;);\r\n                    }\r\n                }\r\n                log.info(stringBuilder.toString());\r\n            }\r\n    \r\n            public void close()  {\r\n                closed = true;\r\n            }\r\n        }\r\n    \r\n        public LagVisualizerTask startNewLagVisualizerTask() {\r\n            LagVisualizerTask lagVisualizerTask = new LagVisualizerTask();\r\n            scheduledExecutorService.scheduleWithFixedDelay(lagVisualizerTask,0, LagLogger.this.logDelayInMilliSeconds, TimeUnit.MILLISECONDS);\r\n            return lagVisualizerTask;\r\n        }\r\n    \r\n        public void close() {\r\n            if (scheduledExecutorService != null) {\r\n                scheduledExecutorService.shutdownNow();\r\n                scheduledExecutorService = null;\r\n            }\r\n        }\r\n    }\r\n\r\nWhich can be used as follows:\r\n\r\n    LagLogger lagVisualizer = new LagLogger(INPUT_TOPIC_NAME,APPLICATION_ID,configuration.getKafkaStreamsProperties(),DELY_BETWEEN_LOGS);\r\n    lagVisualizer.startNewLagVisualizerTask();\r\n\r\n","title":"printing progress for my application lag for Kafka stream application","body":"<p>I wrote the following class to help be print the lag/progress easily</p>\n<pre><code>package util;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.kafka.clients.admin.AdminClient;\nimport org.apache.kafka.clients.admin.ListConsumerGroupOffsetsResult;\nimport org.apache.kafka.clients.admin.ListOffsetsResult;\nimport org.apache.kafka.clients.admin.OffsetSpec;\nimport org.apache.kafka.clients.consumer.*;\nimport org.apache.kafka.common.TopicPartition;\n\nimport java.util.*;\nimport java.util.concurrent.*;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\n@Slf4j\npublic class LagLogger implements AutoCloseable {\n    private ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(1);\n    private String topic;\n    private String consumerGroupName;\n    private int logDelayInMilliSeconds;\n    private Properties kafkaStreamsProperties;\n    private boolean closed;\n    private AdminClient adminClient;\n\n    public LagLogger(String topic, String consumerGroupName, Properties kafkaStreamProperties, int logDelayInMilliSeconds) {\n        this.topic = topic;\n        this.kafkaStreamsProperties = kafkaStreamProperties;\n        this.logDelayInMilliSeconds = logDelayInMilliSeconds;\n        this.consumerGroupName = consumerGroupName;\n        adminClient = AdminClient.create(LagLogger.this.kafkaStreamsProperties);\n    }\n\n    public class LagVisualizerTask implements AutoCloseable, Runnable {\n\n        public LagVisualizerTask() {\n\n        }\n\n        public void run() {\n            ListConsumerGroupOffsetsResult listConsumerGroupOffsetsResult = adminClient.listConsumerGroupOffsets(LagLogger.this.consumerGroupName);\n\n            // Current offsets.\n            Map&lt;TopicPartition, OffsetAndMetadata&gt; topicPartitionOffsetAndMetadataMap = null;\n            try {\n                topicPartitionOffsetAndMetadataMap = listConsumerGroupOffsetsResult.partitionsToOffsetAndMetadata().get();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n\n            // all topic partitions.\n            Set&lt;TopicPartition&gt; topicPartitions = topicPartitionOffsetAndMetadataMap.keySet();\n            // list of end offsets for each partitions.\n            ListOffsetsResult listOffsetsResult = adminClient.listOffsets(topicPartitions.stream()\n                    .collect(Collectors.toMap(Function.identity(), tp -&gt; OffsetSpec.latest())));\n\n            StringBuilder stringBuilder = new StringBuilder();\n            stringBuilder.append(topic+&quot;: &quot;);\n            for (var entry : topicPartitionOffsetAndMetadataMap.entrySet()) {\n                String finalString = stringBuilder.toString();\n                if (entry.getKey().topic().equals(LagLogger.this.topic)) {\n                    long current_offset = entry.getValue().offset();\n                    long end_offset = 0;\n                    try {\n                        end_offset = listOffsetsResult.partitionResult(entry.getKey()).get().offset();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    } catch (ExecutionException e) {\n                        e.printStackTrace();\n                    }\n                    stringBuilder.append(current_offset);\n                    stringBuilder.append(&quot; --&gt; &quot;);\n                    stringBuilder.append(end_offset);\n                    stringBuilder.append(&quot; (&quot;+String.format(&quot;%.2f&quot;, ((double)current_offset/end_offset)*100)   +&quot;%)&quot;);\n                    stringBuilder.append(&quot;    /    &quot;);\n                }\n            }\n            log.info(stringBuilder.toString());\n        }\n\n        public void close()  {\n            closed = true;\n        }\n    }\n\n    public LagVisualizerTask startNewLagVisualizerTask() {\n        LagVisualizerTask lagVisualizerTask = new LagVisualizerTask();\n        scheduledExecutorService.scheduleWithFixedDelay(lagVisualizerTask,0, LagLogger.this.logDelayInMilliSeconds, TimeUnit.MILLISECONDS);\n        return lagVisualizerTask;\n    }\n\n    public void close() {\n        if (scheduledExecutorService != null) {\n            scheduledExecutorService.shutdownNow();\n            scheduledExecutorService = null;\n        }\n    }\n}\n</code></pre>\n<p>Which can be used as follows:</p>\n<pre><code>LagLogger lagVisualizer = new LagLogger(INPUT_TOPIC_NAME,APPLICATION_ID,configuration.getKafkaStreamsProperties(),DELY_BETWEEN_LOGS);\nlagVisualizer.startNewLagVisualizerTask();\n</code></pre>\n"}],"owner":{"account_id":295763,"reputation":1157,"user_id":600331,"accept_rate":82,"display_name":"Ahmad Houri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643240494,"creation_date":1643152907,"question_id":70856942,"body_markdown":"is there any nice way to print the progresss in a kafka stream app? I feel that my app is falling behind and I want a nice way to show the progress of processing the events in my app","title":"printing progress for my application lag for Kafka stream application","body":"<p>is there any nice way to print the progresss in a kafka stream app? I feel that my app is falling behind and I want a nice way to show the progress of processing the events in my app</p>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1643226876,"post_id":70869250,"comment_id":125286422,"body_markdown":"`string.replace(string, inputValue)` should probably be `string.replace(&quot;NDA&quot;, inputValue)`.","body":"<code>string.replace(string, inputValue)</code> should probably be <code>string.replace(&quot;NDA&quot;, inputValue)</code>."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1643230501,"post_id":70869250,"comment_id":125287782,"body_markdown":"Here, you ask about a simple fixed string replacement. No need for a regex.","body":"Here, you ask about a simple fixed string replacement. No need for a regex."}],"answers":[{"tags":[],"owner":{"account_id":12561846,"reputation":56,"user_id":12219775,"display_name":"ved gaur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643239593,"creation_date":1643227795,"answer_id":70869642,"question_id":70869250,"body_markdown":"Use this code for your problem\r\n\r\n```java\r\nfor (String string : arrayString) {\r\n  if(string.contains(&quot;NDA&quot;)) {    \r\n      arrayList.add(string.replace(&quot;NDA&quot;, inputValue));\r\n  }\r\n}\r\n```","title":"Replacing a portion of string entry","body":"<p>Use this code for your problem</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String string : arrayString) {\n  if(string.contains(&quot;NDA&quot;)) {    \n      arrayList.add(string.replace(&quot;NDA&quot;, inputValue));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14638583,"reputation":387,"user_id":10571898,"display_name":"Rakshan Premsagar Kapikad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70869642,"answer_count":1,"score":0,"last_activity_date":1643239593,"creation_date":1643225818,"question_id":70869250,"body_markdown":"I have a list of Strings, and would want to replace a few characters of the individual string entry by new string and add to the list. For eg:\r\n\r\n```\r\n     List&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n     arrayList.add(&quot;s=1;n = 001NDA001&quot;);\r\n     arrayList.add(&quot;s=1;n = 001NDA001.INR&quot;);\r\n     arrayList.add(&quot;s=1;n = 001NDA001.INR.val&quot;);\r\n     String inputValue =&quot;CSV&quot;;\r\n     \r\n     for (String string : arrayString) {\r\n      if(string.contains(&quot;NDA&quot;)) {\r\n          arrayList.add(string.replace(string, inputValue));;         \r\n      }\r\n    }\r\n     log.info(&quot;arrayList : {}&quot;,arrayList);\r\n```\r\n\r\n```\r\nCurrent output : \r\narrayList : [s=1;n = 001NDA001, s=1;n = 001NDA001.INR, s=1;n = 001NDA001.INR.val, CSV, CSV, CSV]\r\n\r\n```\r\n\r\n```\r\nExpectedOutput: \r\narrayList : [s=1;n = 001NDA001, s=1;n = 001NDA001.INR, s=1;n = 001NDA001.INR.val, s=1;n = 001CSV001, s=1;n = 001CSV001.INR, s=1;n = 001NDA001.CSV.val]\r\n```\r\n\r\nI believe it can be achieved with regex, and I need some inputs here. Suggestions?\r\n","title":"Replacing a portion of string entry","body":"<p>I have a list of Strings, and would want to replace a few characters of the individual string entry by new string and add to the list. For eg:</p>\n<pre><code>     List&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\n     arrayList.add(&quot;s=1;n = 001NDA001&quot;);\n     arrayList.add(&quot;s=1;n = 001NDA001.INR&quot;);\n     arrayList.add(&quot;s=1;n = 001NDA001.INR.val&quot;);\n     String inputValue =&quot;CSV&quot;;\n     \n     for (String string : arrayString) {\n      if(string.contains(&quot;NDA&quot;)) {\n          arrayList.add(string.replace(string, inputValue));;         \n      }\n    }\n     log.info(&quot;arrayList : {}&quot;,arrayList);\n</code></pre>\n<pre><code>Current output : \narrayList : [s=1;n = 001NDA001, s=1;n = 001NDA001.INR, s=1;n = 001NDA001.INR.val, CSV, CSV, CSV]\n\n</code></pre>\n<pre><code>ExpectedOutput: \narrayList : [s=1;n = 001NDA001, s=1;n = 001NDA001.INR, s=1;n = 001NDA001.INR.val, s=1;n = 001CSV001, s=1;n = 001CSV001.INR, s=1;n = 001NDA001.CSV.val]\n</code></pre>\n<p>I believe it can be achieved with regex, and I need some inputs here. Suggestions?</p>\n"},{"tags":["java","wait"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":2,"creation_date":1643238272,"post_id":70871314,"comment_id":125289998,"body_markdown":"This is nothing to do with Sleep, but is to do with how you do the output.  System.out is by default line-buffered. You need a flush before every sleep if you want to see what has been written so far.","body":"This is nothing to do with Sleep, but is to do with how you do the output.  System.out is by default line-buffered. You need a flush before every sleep if you want to see what has been written so far."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1643239141,"creation_date":1643239141,"answer_id":70871467,"question_id":70871314,"body_markdown":"    public static void printCharacters(final String s) {\r\n\t\tRunnable runnable = new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (char c : s.toCharArray()) {\r\n\t\t\t\t\t\tThread.sleep(1000);\t\t\t\t\t\t\r\n\t\t\t\t\t\tSystem.out.println(c);\r\n\t\t\t\t\t} \r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n \t\t\t}\r\n\t\t};\r\n\t\tnew Thread(runnable).start();\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tprintCharacters(&quot;Test&quot;);\r\n\t}","title":"Is there something in Java that works like time.sleep() in Python?","body":"<pre><code>public static void printCharacters(final String s) {\n    Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            System.out.println(&quot;&quot;);\n            try {\n                for (char c : s.toCharArray()) {\n                    Thread.sleep(1000);                     \n                    System.out.println(c);\n                } \n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    };\n    new Thread(runnable).start();\n}\npublic static void main(String[] args) {\n    printCharacters(&quot;Test&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":24065655,"reputation":1,"user_id":18042265,"display_name":"Miri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1643238872,"answer_count":1,"score":-2,"last_activity_date":1643239141,"creation_date":1643238077,"question_id":70871314,"body_markdown":"Basically, I want to print characters with a delay between them. If I&#39;m printing &quot;test&quot; it should go, &quot;&quot; &quot;t&quot; &quot;te&quot; &quot;tes&quot; &quot;test&quot;.\r\nPresently, I&#39;m using Thread.sleep(), but when used in rapid succession, it just kind of waits until the whole string is printed and *then* shows it. It goes &quot;&quot;, waits and then suddenly says &quot;test&quot;, basically.\r\nThe way I want this to work is similar to how time.sleep() works in Python. Is there anything like that I can do in Java?","title":"Is there something in Java that works like time.sleep() in Python?","body":"<p>Basically, I want to print characters with a delay between them. If I'm printing &quot;test&quot; it should go, &quot;&quot; &quot;t&quot; &quot;te&quot; &quot;tes&quot; &quot;test&quot;.\nPresently, I'm using Thread.sleep(), but when used in rapid succession, it just kind of waits until the whole string is printed and <em>then</em> shows it. It goes &quot;&quot;, waits and then suddenly says &quot;test&quot;, basically.\nThe way I want this to work is similar to how time.sleep() works in Python. Is there anything like that I can do in Java?</p>\n"},{"tags":["java","xml","jaxb"],"comments":[{"owner":{"account_id":12897750,"reputation":73,"user_id":9327571,"display_name":"Chanfir"},"score":0,"creation_date":1643238470,"post_id":70870510,"comment_id":125290033,"body_markdown":"what do you mean by removing the value of orderNbr? You can probably set it to null?","body":"what do you mean by removing the value of orderNbr? You can probably set it to null?"},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1643239090,"post_id":70870510,"comment_id":125290168,"body_markdown":"@Chanfir updated the question.","body":"@Chanfir updated the question."}],"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643239021,"creation_date":1643232676,"question_id":70870510,"body_markdown":"The following is my xml:\r\n\r\n \r\n    &lt;pickingOrderBeginEventMessage xmlns=&quot;http://www.xmlns.walmartstores.com/SuppyChain/FulfillmentManagement&quot;&gt;\r\n        &lt;hdr:MessageHeader&gt;\r\n        &lt;/hdr:MessageHeader&gt;\r\n        &lt;MessageBody&gt;\r\n            &lt;orderBeginEvent&gt;\r\n                &lt;node&gt;\r\n                &lt;/node&gt;\r\n                &lt;fulfillmentOrders&gt;\r\n                    &lt;fulfillmentOrder&gt;\r\n                        &lt;orderNbr&gt;1&lt;/orderNbr&gt;\r\n                        &lt;priorityCode&gt;1&lt;/priorityCode&gt;\r\n                        &lt;assignedPickUserId&gt;alpha&lt;/assignedPickUserId&gt;\r\n                        &lt;userId&gt;123&lt;/userId&gt;\r\n                    &lt;/fulfillmentOrder&gt;\r\n                &lt;/fulfillmentOrders&gt;\r\n            &lt;/orderBeginEvent&gt;\r\n            &lt;MessageExtensions /&gt;\r\n        &lt;/MessageBody&gt;\r\n    &lt;/pickingOrderBeginEventMessage&gt;\r\n\r\nI want to remove the value `&lt;orderBeginEvent&gt;` and add it back later.I can achieve the first part where I am deleting &lt;orderBeginEvent&gt; but cant set it back to the way it was in the xml. It is throwing me a `nullpointerexception`.\r\n\r\nThis is my POJO class.\r\n\r\n        public class MessageBody implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @XmlElement(name = &quot;RoutingInfo&quot;)\r\n        RoutingInfoPickBgn routingInfo;\r\n        @XmlElement(name = &quot;orderBeginEvent&quot;)\r\n        @Accessors(fluent = true)\r\n        OrderBeginEvent orderBeginEvent;\r\n    }\r\n\r\nThis is how I am marshaling it using JAXB:\r\n\r\n\r\n     public String updateXML() {\r\n            try {\r\n                JAXBContext context = JAXBContext.newInstance(PickingOrderBeginEventMessage.class);\r\n                Marshaller mar = context.createMarshaller();\r\n                mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n                File updateXml = new File(&quot;src/test/resources/xml/updatePickBgn.xml&quot;);\r\n                mar.marshal(pickBegin, updateXml);\r\n                String absolutePath = updateXml.getAbsolutePath();\r\n                String updatedXml = readFromResources(absolutePath);\r\n                return updatedXml;\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\nI am able to remove orderBeginEvent by setting it to null but I am not sure how to add it back. \r\n\r\n      public void checkNoOrderBeginEvent() {\r\n    \r\n            FulfillmentOrder orderNbr = pickBegin.getMessageBody().setOrderBeginEvent(null);\r\n            String updatedXml = updateXML();\r\n        //This code removed the OrderBeginEvent\r\n\r\n    }\r\n\r\nThe objective of the code is to after deleting the orderBeginEvent i need to put it back the way it was. I can achieve the former which is to delete the orderBeginEvent but dont know how to set it back. Any help will be appreciated.","title":"Adding back the nodes in xml using Java JAXB","body":"<p>The following is my xml:</p>\n<pre><code>&lt;pickingOrderBeginEventMessage xmlns=&quot;http://www.xmlns.walmartstores.com/SuppyChain/FulfillmentManagement&quot;&gt;\n    &lt;hdr:MessageHeader&gt;\n    &lt;/hdr:MessageHeader&gt;\n    &lt;MessageBody&gt;\n        &lt;orderBeginEvent&gt;\n            &lt;node&gt;\n            &lt;/node&gt;\n            &lt;fulfillmentOrders&gt;\n                &lt;fulfillmentOrder&gt;\n                    &lt;orderNbr&gt;1&lt;/orderNbr&gt;\n                    &lt;priorityCode&gt;1&lt;/priorityCode&gt;\n                    &lt;assignedPickUserId&gt;alpha&lt;/assignedPickUserId&gt;\n                    &lt;userId&gt;123&lt;/userId&gt;\n                &lt;/fulfillmentOrder&gt;\n            &lt;/fulfillmentOrders&gt;\n        &lt;/orderBeginEvent&gt;\n        &lt;MessageExtensions /&gt;\n    &lt;/MessageBody&gt;\n&lt;/pickingOrderBeginEventMessage&gt;\n</code></pre>\n<p>I want to remove the value <code>&lt;orderBeginEvent&gt;</code> and add it back later.I can achieve the first part where I am deleting  but cant set it back to the way it was in the xml. It is throwing me a <code>nullpointerexception</code>.</p>\n<p>This is my POJO class.</p>\n<pre><code>    public class MessageBody implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @XmlElement(name = &quot;RoutingInfo&quot;)\n    RoutingInfoPickBgn routingInfo;\n    @XmlElement(name = &quot;orderBeginEvent&quot;)\n    @Accessors(fluent = true)\n    OrderBeginEvent orderBeginEvent;\n}\n</code></pre>\n<p>This is how I am marshaling it using JAXB:</p>\n<pre><code> public String updateXML() {\n        try {\n            JAXBContext context = JAXBContext.newInstance(PickingOrderBeginEventMessage.class);\n            Marshaller mar = context.createMarshaller();\n            mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n            File updateXml = new File(&quot;src/test/resources/xml/updatePickBgn.xml&quot;);\n            mar.marshal(pickBegin, updateXml);\n            String absolutePath = updateXml.getAbsolutePath();\n            String updatedXml = readFromResources(absolutePath);\n            return updatedXml;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>I am able to remove orderBeginEvent by setting it to null but I am not sure how to add it back.</p>\n<pre><code>  public void checkNoOrderBeginEvent() {\n\n        FulfillmentOrder orderNbr = pickBegin.getMessageBody().setOrderBeginEvent(null);\n        String updatedXml = updateXML();\n    //This code removed the OrderBeginEvent\n\n}\n</code></pre>\n<p>The objective of the code is to after deleting the orderBeginEvent i need to put it back the way it was. I can achieve the former which is to delete the orderBeginEvent but dont know how to set it back. Any help will be appreciated.</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1643239737,"post_id":70871397,"comment_id":125290273,"body_markdown":"strings in mysql need to be delimited with single quotes, e.g. `&#39;a string&#39;`.  Note that concatenating sql queries like that is very insecure and opens you up to sql injection attacks.  Try using prepared statements https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html","body":"strings in mysql need to be delimited with single quotes, e.g. <code>&#39;a string&#39;</code>.  Note that concatenating sql queries like that is very insecure and opens you up to sql injection attacks.  Try using prepared statements <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html</a>"},{"owner":{"account_id":23217269,"reputation":21,"user_id":17310018,"display_name":"peebee"},"score":0,"creation_date":1643240312,"post_id":70871397,"comment_id":125290366,"body_markdown":"allright is noted :) thanks!","body":"allright is noted :) thanks!"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1643241154,"post_id":70871397,"comment_id":125290509,"body_markdown":"Also is there a reason not to use auto-genrated ids？","body":"Also is there a reason not to use auto-genrated ids？"}],"owner":{"account_id":23217269,"reputation":21,"user_id":17310018,"display_name":"peebee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643238947,"creation_date":1643238610,"question_id":70871397,"body_markdown":"I created a database and want to fill it with data using Java, but this table gives me some difficulties. \r\n```sql\r\nCREATE TABLE doctor (\r\n    id INTEGER,\r\n    employeeID CHAR(10) CONSTRAINT doctor_uk UNIQUE,\r\n    specialisation VARCHAR(255),\r\n    drugcertificate INTEGER DEFAULT 0,\r\n    CONSTRAINT docotr_pk PRIMARY KEY (id),\r\n    CONSTRAINT doctor_fk FOREIGN KEY (employeeID) REFERENCES employee\r\n        ON DELETE CASCADE,\r\n    CONSTRAINT doctor_drugcert_check CHECK (drugcertificate Between 0 AND 1 )\r\n);  \r\n```\r\nI created the table with no problems whatsoever, and I am able to fill it with data using oracle sql developer. \r\nBut when I try to run this Java code I get the error msg: \r\n\r\n&gt; ORA-00984: Column Not Allowed Here\r\n\r\nAnd in the Java file, before that loop is another loop which fills another table and that works just fine. So it is just this for loop that doesn&#39;t work.\r\n```java\r\nfor(int amount = 0; amount &lt; 10; ++amount) {\r\n    \t  int drugcertificate = (random.nextDouble() &gt;= 0.5? 1 : 0);\r\n    \t  String insertDocotr = &quot;INSERT INTO doctor(doctorId, employeeId, specialisation, drugcertificate) VALUES (&quot;+(amount+1)+&quot;, &quot;+\r\n    \t\t\t  \t\t\t\t\t\temployeeIDs.get(amount)+&quot;, &quot;+doctorSpecial[amount%4]+&quot;, &quot;+drugcertificate+&quot;)&quot;;\r\n\r\n    \t  int rowsAffected = stmt.executeUpdate(insertDoctor);\r\n      }\r\n```\r\nemployeeIDs is a List with a few type Long numbers and\r\ndoctorSpecial is an Array of Strings.\r\n\r\nWhat should I change? I don&#39;t get it.","title":"How can I check which column is wrong in the insert statement?","body":"<p>I created a database and want to fill it with data using Java, but this table gives me some difficulties.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE doctor (\n    id INTEGER,\n    employeeID CHAR(10) CONSTRAINT doctor_uk UNIQUE,\n    specialisation VARCHAR(255),\n    drugcertificate INTEGER DEFAULT 0,\n    CONSTRAINT docotr_pk PRIMARY KEY (id),\n    CONSTRAINT doctor_fk FOREIGN KEY (employeeID) REFERENCES employee\n        ON DELETE CASCADE,\n    CONSTRAINT doctor_drugcert_check CHECK (drugcertificate Between 0 AND 1 )\n);  \n</code></pre>\n<p>I created the table with no problems whatsoever, and I am able to fill it with data using oracle sql developer.\nBut when I try to run this Java code I get the error msg:</p>\n<blockquote>\n<p>ORA-00984: Column Not Allowed Here</p>\n</blockquote>\n<p>And in the Java file, before that loop is another loop which fills another table and that works just fine. So it is just this for loop that doesn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int amount = 0; amount &lt; 10; ++amount) {\n          int drugcertificate = (random.nextDouble() &gt;= 0.5? 1 : 0);\n          String insertDocotr = &quot;INSERT INTO doctor(doctorId, employeeId, specialisation, drugcertificate) VALUES (&quot;+(amount+1)+&quot;, &quot;+\n                                        employeeIDs.get(amount)+&quot;, &quot;+doctorSpecial[amount%4]+&quot;, &quot;+drugcertificate+&quot;)&quot;;\n\n          int rowsAffected = stmt.executeUpdate(insertDoctor);\n      }\n</code></pre>\n<p>employeeIDs is a List with a few type Long numbers and\ndoctorSpecial is an Array of Strings.</p>\n<p>What should I change? I don't get it.</p>\n"},{"tags":["java","xml","jackson","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":4,"creation_date":1643238912,"post_id":70871343,"comment_id":125290128,"body_markdown":"Well, we always tell people they should be using a real XML parser, not some hand-crafted approximation. You should tell your 3rd party consumer the same thing. XML is about standards: if you don&#39;t follow the standards, you don&#39;t get the benefits.","body":"Well, we always tell people they should be using a real XML parser, not some hand-crafted approximation. You should tell your 3rd party consumer the same thing. XML is about standards: if you don&#39;t follow the standards, you don&#39;t get the benefits."}],"owner":{"account_id":1745580,"reputation":78,"user_id":1595901,"display_name":"jbeale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643238739,"creation_date":1643238235,"question_id":70871343,"body_markdown":"I&#39;m using XmlMapper to migrate some XML feed logic from Ruby to Java. One of the diffs I got is the following:\r\n\r\nOld output (from Ruby code): \r\n\r\n```\r\n&lt;qualification&gt;&#183; Development experience in one or more object-oriented programming languages&amp;lt;br/&amp;gt;&lt;/qualification&gt;\r\n```\r\n\r\nNew Output (from XmlMapper.writeValueAsString):\r\n\r\n```\r\n&lt;qualification&gt;&#183; Development experience in one or more object-oriented programming languages&amp;lt;br/&gt;&lt;/qualification&gt;\r\n```\r\n\r\nNote the `&lt;br/&gt;` tag in the new output, where the ``&gt;`` character is not encoded to ``&amp;gt;``. I realize this is not technically required per XML Specification, but in my case it&#39;s a strict requirement due to the way a 3rd-party consumer is handling my data. Is there an easy way to enable XmlMapper to do this?","title":"XmlMapper: Force entity encoding of &gt; to &amp;gt;","body":"<p>I'm using XmlMapper to migrate some XML feed logic from Ruby to Java. One of the diffs I got is the following:</p>\n<p>Old output (from Ruby code):</p>\n<pre><code>&lt;qualification&gt;· Development experience in one or more object-oriented programming languages&amp;lt;br/&amp;gt;&lt;/qualification&gt;\n</code></pre>\n<p>New Output (from XmlMapper.writeValueAsString):</p>\n<pre><code>&lt;qualification&gt;· Development experience in one or more object-oriented programming languages&amp;lt;br/&gt;&lt;/qualification&gt;\n</code></pre>\n<p>Note the <code>&lt;br/&gt;</code> tag in the new output, where the <code>&gt;</code> character is not encoded to <code>&amp;gt;</code>. I realize this is not technically required per XML Specification, but in my case it's a strict requirement due to the way a 3rd-party consumer is handling my data. Is there an easy way to enable XmlMapper to do this?</p>\n"},{"tags":["java","jersey","mockito"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1425633383,"creation_date":1425633383,"answer_id":28895582,"question_id":28895450,"body_markdown":"Yes.  You&#39;ve misused `verify`.  The argument to `verify` has to be the mock itself.  Then you call the method you want to verify on the value that&#39;s returned by `verify`.  So in this case, the first `verify` call should be\r\n\r\n    Mockito.verify(_client).resource(_baseUrl + &quot;token&quot;);\r\n\r\nand similarly for the other `verify` calls.","title":"jersey/Mockito: NullInsteadOfMockException on client.post call verification","body":"<p>Yes.  You've misused <code>verify</code>.  The argument to <code>verify</code> has to be the mock itself.  Then you call the method you want to verify on the value that's returned by <code>verify</code>.  So in this case, the first <code>verify</code> call should be</p>\n\n<pre><code>Mockito.verify(_client).resource(_baseUrl + \"token\");\n</code></pre>\n\n<p>and similarly for the other <code>verify</code> calls.</p>\n"},{"tags":[],"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527747274,"creation_date":1527747274,"answer_id":50617783,"question_id":28895450,"body_markdown":"I ran into this issue, but for `when()` instead of `verify()`. I found this question by googling. For me, I had forgotten to add [`MockitoAnnotations.initMocks()`][1] in my test class&#39; constructor.\r\n\r\n\r\n  [1]: https://static.javadoc.io/org.mockito/mockito-core/2.2.28/org/mockito/MockitoAnnotations.html#initMocks(java.lang.Object)","title":"jersey/Mockito: NullInsteadOfMockException on client.post call verification","body":"<p>I ran into this issue, but for <code>when()</code> instead of <code>verify()</code>. I found this question by googling. For me, I had forgotten to add <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.2.28/org/mockito/MockitoAnnotations.html#initMocks(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>MockitoAnnotations.initMocks()</code></a> in my test class' constructor.</p>\n"},{"tags":[],"owner":{"account_id":5224958,"reputation":536,"user_id":4177271,"display_name":"Tcheutchoua Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643238715,"creation_date":1643238715,"answer_id":70871408,"question_id":28895450,"body_markdown":"Had this error because of a wrong call to verify I made. I used\r\n\r\n    verify(mock.methodToVerify, times(n));\r\n\r\ninstead of \r\n\r\n    verify(mock, times(n)).methodToVerify(); ","title":"jersey/Mockito: NullInsteadOfMockException on client.post call verification","body":"<p>Had this error because of a wrong call to verify I made. I used</p>\n<pre><code>verify(mock.methodToVerify, times(n));\n</code></pre>\n<p>instead of</p>\n<pre><code>verify(mock, times(n)).methodToVerify(); \n</code></pre>\n"}],"owner":{"account_id":1383707,"reputation":4033,"user_id":1316184,"accept_rate":91,"display_name":"Joanna Derks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39900,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":28895582,"answer_count":3,"score":13,"last_activity_date":1643238715,"creation_date":1425632865,"question_id":28895450,"body_markdown":"I&#39;ve run into a strange issue with unit testing the following jersey client call:\r\n\r\n    WebResource webResource = _client.resource(url);\r\n    ClientResponse response = webResource\r\n                            .accept(&quot;application/json&quot;)\r\n                            .type(&quot;application/x-www-form-urlencoded&quot;)\r\n                            .post(ClientResponse.class, postBody);\r\n\r\nPostBody is a MultivaluedMap.\r\n\r\nThe unit test verifies fine the `accept` and `type` calls but fails on the `post` one with this exception:\r\n\r\n    org.mockito.exceptions.misusing.NullInsteadOfMockException: \r\n    Argument passed to verify() should be a mock but is null!\r\n\r\nHere&#39;s the test code:\r\n\r\n    _client = Mockito.mock(Client.class);\r\n            _webResource = Mockito.mock(WebResource.class);\r\n            _builder = Mockito.mock(WebResource.Builder.class);\r\n            _response = Mockito.mock(ClientResponse.class);\r\n    \r\n            Mockito.when(_client.resource(Mockito.anyString())).thenReturn(_webResource);\r\n    \r\n            Mockito.when(_response.getEntity(Mockito.any(Class.class))).thenReturn(new RefreshTokenDto());\r\n            Mockito.when(_response.getStatus()).thenReturn(200);\r\n    \r\n            Mockito.when(_builder.post(Mockito.eq(ClientResponse.class), Mockito.anyObject())).thenReturn(_response);\r\n            Mockito.when(_builder.type(Mockito.anyString())).thenReturn(_builder);\r\n            Mockito.when(_webResource.accept(Mockito.anyString())).thenReturn(_builder);\r\n    \r\n            RefreshTokenDto response = _clientWrapper.exchangeAuthorizationCodeForToken(_token);\r\n    \r\n            Assert.assertNotNull(response);\r\n    \r\n            Mockito.verify(_client.resource(_baseUrl + &quot;token&quot;));\r\n            Mockito.verify(_webResource.accept(&quot;application/json&quot;));\r\n            Mockito.verify(_builder.type(&quot;application/x-www-form-urlencoded&quot;));\r\n    \r\n            // TODO: this line throws NullRefExc for some unknown reason\r\n            Mockito.verify(_builder.post(Mockito.any(Class.class), Mockito.any(MultivaluedMap.class)));\r\n\r\n\r\nCan you see anything wrong with this code?\r\n","title":"jersey/Mockito: NullInsteadOfMockException on client.post call verification","body":"<p>I've run into a strange issue with unit testing the following jersey client call:</p>\n\n<pre><code>WebResource webResource = _client.resource(url);\nClientResponse response = webResource\n                        .accept(\"application/json\")\n                        .type(\"application/x-www-form-urlencoded\")\n                        .post(ClientResponse.class, postBody);\n</code></pre>\n\n<p>PostBody is a MultivaluedMap.</p>\n\n<p>The unit test verifies fine the <code>accept</code> and <code>type</code> calls but fails on the <code>post</code> one with this exception:</p>\n\n<pre><code>org.mockito.exceptions.misusing.NullInsteadOfMockException: \nArgument passed to verify() should be a mock but is null!\n</code></pre>\n\n<p>Here's the test code:</p>\n\n<pre><code>_client = Mockito.mock(Client.class);\n        _webResource = Mockito.mock(WebResource.class);\n        _builder = Mockito.mock(WebResource.Builder.class);\n        _response = Mockito.mock(ClientResponse.class);\n\n        Mockito.when(_client.resource(Mockito.anyString())).thenReturn(_webResource);\n\n        Mockito.when(_response.getEntity(Mockito.any(Class.class))).thenReturn(new RefreshTokenDto());\n        Mockito.when(_response.getStatus()).thenReturn(200);\n\n        Mockito.when(_builder.post(Mockito.eq(ClientResponse.class), Mockito.anyObject())).thenReturn(_response);\n        Mockito.when(_builder.type(Mockito.anyString())).thenReturn(_builder);\n        Mockito.when(_webResource.accept(Mockito.anyString())).thenReturn(_builder);\n\n        RefreshTokenDto response = _clientWrapper.exchangeAuthorizationCodeForToken(_token);\n\n        Assert.assertNotNull(response);\n\n        Mockito.verify(_client.resource(_baseUrl + \"token\"));\n        Mockito.verify(_webResource.accept(\"application/json\"));\n        Mockito.verify(_builder.type(\"application/x-www-form-urlencoded\"));\n\n        // TODO: this line throws NullRefExc for some unknown reason\n        Mockito.verify(_builder.post(Mockito.any(Class.class), Mockito.any(MultivaluedMap.class)));\n</code></pre>\n\n<p>Can you see anything wrong with this code?</p>\n"},{"tags":["c#","java",".net","compiler-construction"],"comments":[{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1320175069,"post_id":7971607,"comment_id":9747679,"body_markdown":"As a side note, if it&#39;s part of the vocab for the course, it should be covered during at least one of the lectures. Perhaps you can go back through your syllabus to find it?","body":"As a side note, if it&#39;s part of the vocab for the course, it should be covered during at least one of the lectures. Perhaps you can go back through your syllabus to find it?"},{"owner":{"account_id":19779,"reputation":229345,"user_id":46642,"accept_rate":88,"display_name":"R. Martinho Fernandes"},"score":0,"creation_date":1320175290,"post_id":7971607,"comment_id":9747727,"body_markdown":"It&#39;s very weird to have this assignment in a course where they don&#39;t cover BNF grammars.","body":"It&#39;s very weird to have this assignment in a course where they don&#39;t cover BNF grammars."},{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1320175314,"post_id":7971607,"comment_id":9747732,"body_markdown":"I&#39;m pretty sure I saw this exact same question not so long ago on this site...","body":"I&#39;m pretty sure I saw this exact same question not so long ago on this site..."},{"owner":{"account_id":390971,"reputation":1183,"user_id":751368,"display_name":"Wojteq"},"score":0,"creation_date":1320175335,"post_id":7971607,"comment_id":9747740,"body_markdown":"BNF is a notation that helps to describe a grammar","body":"BNF is a notation that helps to describe a grammar"},{"owner":{"account_id":199804,"reputation":7176,"user_id":445322,"accept_rate":88,"display_name":"Brandon Buck"},"score":0,"creation_date":1320175361,"post_id":7971607,"comment_id":9747745,"body_markdown":"[BNF Grammars](http://en.wikipedia.org/wiki/Backus%E2%80%93Naur_Form)","body":"<a href=\"http://en.wikipedia.org/wiki/Backus%E2%80%93Naur_Form\" rel=\"nofollow noreferrer\">BNF Grammars</a>"},{"owner":{"account_id":921943,"reputation":75308,"user_id":953482,"accept_rate":92,"display_name":"Kevin"},"score":1,"creation_date":1320176052,"post_id":7971607,"comment_id":9747939,"body_markdown":"This sounds more like an interpreter than a compiler to me. It sounds like you need to develop a language which represents primitive geometric shapes. You then must interpret the expressions the user inputs to draw the panel. Going the other way, you must interpret the user&#39;s mouse input to output the corresponding language expressions. Fortunately for you, none of that requires &quot;compiling&quot; in the sense of translating into assembly code or outputting a binary file.","body":"This sounds more like an interpreter than a compiler to me. It sounds like you need to develop a language which represents primitive geometric shapes. You then must interpret the expressions the user inputs to draw the panel. Going the other way, you must interpret the user&#39;s mouse input to output the corresponding language expressions. Fortunately for you, none of that requires &quot;compiling&quot; in the sense of translating into assembly code or outputting a binary file."},{"owner":{"account_id":424159,"reputation":1287,"user_id":803997,"accept_rate":65,"display_name":"franko_camron"},"score":0,"creation_date":1320197175,"post_id":7971607,"comment_id":9752350,"body_markdown":"@Mat, yes I did it, but someone delete it, guess because I offered a reward...","body":"@Mat, yes I did it, but someone delete it, guess because I offered a reward..."},{"owner":{"account_id":424159,"reputation":1287,"user_id":803997,"accept_rate":65,"display_name":"franko_camron"},"score":0,"creation_date":1320198078,"post_id":7971607,"comment_id":9752449,"body_markdown":"@Kevin thanks bro, so, how do I start creating my own commands ?","body":"@Kevin thanks bro, so, how do I start creating my own commands ?"}],"answers":[{"tags":[],"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320175829,"creation_date":1320175829,"answer_id":7971783,"question_id":7971607,"body_markdown":"I recommend you implement [Context-Free Art][1].\r\n\r\nIt will be relatively ugly to convert drawing to code - you&#39;ll inevitably describe a set of fixed shapes at fixed locations.  And all your classmates will do likewise.\r\n\r\nBut by implementing the context-free grammar, you&#39;ll be able to generate absolutely stunning pictures from code.  This will be massively satisfy and will spur you to polish and pass and you&#39;ll be left with something to show off afterwards.\r\n\r\n\r\n  [1]: http://www.contextfreeart.org/","title":"How do I start creating a small compiler for a school project in java or c#","body":"<p>I recommend you implement <a href=\"http://www.contextfreeart.org/\" rel=\"nofollow\">Context-Free Art</a>.</p>\n\n<p>It will be relatively ugly to convert drawing to code - you'll inevitably describe a set of fixed shapes at fixed locations.  And all your classmates will do likewise.</p>\n\n<p>But by implementing the context-free grammar, you'll be able to generate absolutely stunning pictures from code.  This will be massively satisfy and will spur you to polish and pass and you'll be left with something to show off afterwards.</p>\n"},{"tags":[],"owner":{"account_id":212018,"reputation":143323,"user_id":464581,"accept_rate":60,"display_name":"Cheers and hth. - Alf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643237784,"creation_date":1320175991,"answer_id":7971826,"question_id":7971607,"body_markdown":"It sounds like the exercise is about generating and parsing something like SVG. It also sounds like the professor is not completely clear on what a compiler is. Translating from text to graphics might be within some academic definition of compiler, but it certainly doesn&#39;t reflect any real world meaning (in spite of work done on graphical programming languages).\r\n\r\nPerhaps to fulfill the requirement of &quot;compiler&quot; you could translate a subset of SVG (which is textual) to JavaScript commands for generating the graphics. For the meaning of &quot;primitive&quot; you could just [google it](http://www.google.com/search?q=svg+primitives). Sort of, show some initiative.\r\n\r\nThen you could do your user interface in HTML, which would fit the time frame better than anything else I can think of. Essentially this would be something like Google Documents Draw, except with display of the drawing&#39;s representation as SVG.\r\n","title":"How do I start creating a small compiler for a school project in java or c#","body":"<p>It sounds like the exercise is about generating and parsing something like SVG. It also sounds like the professor is not completely clear on what a compiler is. Translating from text to graphics might be within some academic definition of compiler, but it certainly doesn't reflect any real world meaning (in spite of work done on graphical programming languages).</p>\n<p>Perhaps to fulfill the requirement of &quot;compiler&quot; you could translate a subset of SVG (which is textual) to JavaScript commands for generating the graphics. For the meaning of &quot;primitive&quot; you could just <a href=\"http://www.google.com/search?q=svg+primitives\" rel=\"nofollow noreferrer\">google it</a>. Sort of, show some initiative.</p>\n<p>Then you could do your user interface in HTML, which would fit the time frame better than anything else I can think of. Essentially this would be something like Google Documents Draw, except with display of the drawing's representation as SVG.</p>\n"},{"tags":[],"owner":{"account_id":194186,"reputation":70518,"user_id":436376,"accept_rate":94,"display_name":"KeithS"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1320177864,"creation_date":1320177380,"answer_id":7972112,"question_id":7971607,"body_markdown":"This isn&#39;t so much a compiler as an interpreter/designer. But I digress.\r\n\r\nBasically what you are being asked to create is a &quot;drawing command language&quot;, and a program that can interpret that command language. For an example of what a &quot;drawing command language&quot; is usually expected to do, take a look at [LOGO][1].\r\n\r\nWhat you are required to do is to define a simple set of instructions (primitives) that will, in the proper combination, cause a shape to be drawn. You will also have to include a primitive to rotate the shape. [Here&#39;s the Wikipedia definition of &quot;primitive&quot; in the appropriate context.][2] By doing this, you are creating a &quot;language&quot; and a &quot;runtime&quot;; theoretically you could save the commands in a file, then re-load them into the program and re-run them to generate the same shape.\r\n\r\nThere are three major ways you could go with this:\r\n\r\n* Define primitives to draw different types of lines (straight, curved, solid, dashed, etc etc) and set the color with which to draw the next line(s). This would likely have you creating primitives just to create primitives; your main primitives will be &quot;Set Color&quot; and &quot;Draw Line&quot;.\r\n\r\n* Define primitives to draw various pre-defined shapes (line, circle, rectangle, pentagon, hexagon, etc etc). This is probably what your classmates will do, and it&#39;s going to both take a while and not be very functional.\r\n\r\n* Implement &quot;turtle drawing&quot; much like LOGO. There would be a cursor (the &quot;turtle&quot;) that is represented on-screen somehow, and its current location and where it goes is integral to the drawing of lines.\r\n\r\nPersonally I like the last idea; you&#39;ll need primitives to move the turtle, to mark the start and end positions of lines, set colors, rotate, clear, etc:\r\n\r\n - MVUP x - Move turtle up by x pixels \r\n - MVDN x - Move turtle down by x pixels \r\n - MVLT x - Move turtle left by x pixels \r\n - MVRT x - Move turtle right by x pixels \r\n - SETC r g b - Set the line-drawing color to an RGB value \r\n - STLN - Mark the start of a line at the turtle&#39;s position\r\n - ENDL - Mark the end of a line at the turtle&#39;s position; causes the line to be drawn from start to end using the currently-set color. \r\n - RTCL x - Rotate canvas x degrees clockwise (this requires some matrix math, and you will lose anything you&#39;ve drawn that falls outside the canvas after rotation)\r\n - RTCC x - Rotate canvas x degrees counter-clockwise (ditto)\r\n - CNTR - Place turtle in the very center of the canvas. Useful when defining an initial position from which to begin, or to avoid reversing a number of complex movements to get back to the center and draw again.\r\n - CLRS - Remove all drawn lines from the pad. This, along with CNTR, should probably be the first two commands in a &quot;program&quot; to draw any particular shape, but if you omit them, the program can build on itself iteratively by being run on top of its previous output to create fractal patterns.\r\n\r\nI just gave you 11 primitive commands that could be used to move a cursor from place to place on a canvas, drawing lines as you go, and could draw any 2D shape the user wished. You could also use a forward-backward-turn left-turn right model, as if the turtle were a robot, but that would probably make this more complex than it has to be (remember YAGNI; it will serve you well in industry).\r\n\r\nOnce you have the language, you have to make it work 2 ways; first, the program has to know how to interpret the instructions entered in a textbox in order to draw/redraw the shape on a drawing pad, and second, the program has to accept mouse input on the drawing pad, interpret those commands as moving the turtle/marking start or end/setting colors, and enter the commands into the textbox. That&#39;s your project, and I leave its implementation to you.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Logo_%28programming_language%29\r\n  [2]: http://en.wikipedia.org/wiki/Language_primitive#Interpreted_language_primitives","title":"How do I start creating a small compiler for a school project in java or c#","body":"<p>This isn't so much a compiler as an interpreter/designer. But I digress.</p>\n\n<p>Basically what you are being asked to create is a \"drawing command language\", and a program that can interpret that command language. For an example of what a \"drawing command language\" is usually expected to do, take a look at <a href=\"http://en.wikipedia.org/wiki/Logo_%28programming_language%29\" rel=\"nofollow\">LOGO</a>.</p>\n\n<p>What you are required to do is to define a simple set of instructions (primitives) that will, in the proper combination, cause a shape to be drawn. You will also have to include a primitive to rotate the shape. <a href=\"http://en.wikipedia.org/wiki/Language_primitive#Interpreted_language_primitives\" rel=\"nofollow\">Here's the Wikipedia definition of \"primitive\" in the appropriate context.</a> By doing this, you are creating a \"language\" and a \"runtime\"; theoretically you could save the commands in a file, then re-load them into the program and re-run them to generate the same shape.</p>\n\n<p>There are three major ways you could go with this:</p>\n\n<ul>\n<li><p>Define primitives to draw different types of lines (straight, curved, solid, dashed, etc etc) and set the color with which to draw the next line(s). This would likely have you creating primitives just to create primitives; your main primitives will be \"Set Color\" and \"Draw Line\".</p></li>\n<li><p>Define primitives to draw various pre-defined shapes (line, circle, rectangle, pentagon, hexagon, etc etc). This is probably what your classmates will do, and it's going to both take a while and not be very functional.</p></li>\n<li><p>Implement \"turtle drawing\" much like LOGO. There would be a cursor (the \"turtle\") that is represented on-screen somehow, and its current location and where it goes is integral to the drawing of lines.</p></li>\n</ul>\n\n<p>Personally I like the last idea; you'll need primitives to move the turtle, to mark the start and end positions of lines, set colors, rotate, clear, etc:</p>\n\n<ul>\n<li>MVUP x - Move turtle up by x pixels </li>\n<li>MVDN x - Move turtle down by x pixels </li>\n<li>MVLT x - Move turtle left by x pixels </li>\n<li>MVRT x - Move turtle right by x pixels </li>\n<li>SETC r g b - Set the line-drawing color to an RGB value </li>\n<li>STLN - Mark the start of a line at the turtle's position</li>\n<li>ENDL - Mark the end of a line at the turtle's position; causes the line to be drawn from start to end using the currently-set color. </li>\n<li>RTCL x - Rotate canvas x degrees clockwise (this requires some matrix math, and you will lose anything you've drawn that falls outside the canvas after rotation)</li>\n<li>RTCC x - Rotate canvas x degrees counter-clockwise (ditto)</li>\n<li>CNTR - Place turtle in the very center of the canvas. Useful when defining an initial position from which to begin, or to avoid reversing a number of complex movements to get back to the center and draw again.</li>\n<li>CLRS - Remove all drawn lines from the pad. This, along with CNTR, should probably be the first two commands in a \"program\" to draw any particular shape, but if you omit them, the program can build on itself iteratively by being run on top of its previous output to create fractal patterns.</li>\n</ul>\n\n<p>I just gave you 11 primitive commands that could be used to move a cursor from place to place on a canvas, drawing lines as you go, and could draw any 2D shape the user wished. You could also use a forward-backward-turn left-turn right model, as if the turtle were a robot, but that would probably make this more complex than it has to be (remember YAGNI; it will serve you well in industry).</p>\n\n<p>Once you have the language, you have to make it work 2 ways; first, the program has to know how to interpret the instructions entered in a textbox in order to draw/redraw the shape on a drawing pad, and second, the program has to accept mouse input on the drawing pad, interpret those commands as moving the turtle/marking start or end/setting colors, and enter the commands into the textbox. That's your project, and I leave its implementation to you.</p>\n"}],"owner":{"account_id":424159,"reputation":1287,"user_id":803997,"accept_rate":65,"display_name":"franko_camron"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1471,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":7972112,"answer_count":3,"score":3,"last_activity_date":1643237784,"creation_date":1320174859,"question_id":7971607,"body_markdown":"for my final exam (to graduate from university) I’ve been asked to create a tiny compiler, with the following requirements: \r\n\r\n&gt; The student must develop a basic compiler with all the design parts\r\n&gt; that conforms it (lexical analysis, syntaxis analysis, parsing, etc).\r\n&gt; This compiler will have an interface that shows 2 panels, a graphic\r\n&gt; representation (A) and code representation (B).   The user will be\r\n&gt; able to draw a geometric shape in panel (A), and the program will show\r\n&gt; in panel B the code generated for that shape, and the if the user\r\n&gt; types code in (B) it will show the shape in (A).\r\n&gt; \r\n&gt; This compiler must handle at least 7 primitives (I guess this means\r\n&gt; commands).   The geometric shape must be created from the primitives.\r\n&gt; The student will have to include a primitive to rotate the shape.\r\n\r\nSo the thing is that we never studied compilers in depth, just the very basic theory, I only have 20 days to finish this!! and I’m pretty sure they want to make me flunk because I asked the professor to tell me what is a primitive and he said he wouldn’t answer that because that is part of the vocabulary of  the course I want to pass.\r\n\r\n**So the question here is:**\r\n\r\nHow should I start, how do I create this thing in .NET or how do I create my very small set of instructions to create geometric shapes?\r\n\r\nIs there something out there similar to this requirement to take it as an example and modify it?\r\n\r\nP.S.:  I’m a .net C# developer (good skills). I know the basics of C and Java. I’m reading about parser generators (ANTLR, lex &amp; YACC, Ray) but there’s no basic tutorial for that, there are a lot of new terms like BNF grammar (what is this, a language, a txt file?). It is so hard because there’s no easy way to start, or samples for C#.\r\nI don’t want to do this project in C or C++ because since it’s using graphics and my C knowledge is basic, I’m afraid I won’t be able to do it, I would like to use .Net\r\n","title":"How do I start creating a small compiler for a school project in java or c#","body":"<p>for my final exam (to graduate from university) I’ve been asked to create a tiny compiler, with the following requirements: </p>\n\n<blockquote>\n  <p>The student must develop a basic compiler with all the design parts\n  that conforms it (lexical analysis, syntaxis analysis, parsing, etc).\n  This compiler will have an interface that shows 2 panels, a graphic\n  representation (A) and code representation (B).   The user will be\n  able to draw a geometric shape in panel (A), and the program will show\n  in panel B the code generated for that shape, and the if the user\n  types code in (B) it will show the shape in (A).</p>\n  \n  <p>This compiler must handle at least 7 primitives (I guess this means\n  commands).   The geometric shape must be created from the primitives.\n  The student will have to include a primitive to rotate the shape.</p>\n</blockquote>\n\n<p>So the thing is that we never studied compilers in depth, just the very basic theory, I only have 20 days to finish this!! and I’m pretty sure they want to make me flunk because I asked the professor to tell me what is a primitive and he said he wouldn’t answer that because that is part of the vocabulary of  the course I want to pass.</p>\n\n<p><strong>So the question here is:</strong></p>\n\n<p>How should I start, how do I create this thing in .NET or how do I create my very small set of instructions to create geometric shapes?</p>\n\n<p>Is there something out there similar to this requirement to take it as an example and modify it?</p>\n\n<p>P.S.:  I’m a .net C# developer (good skills). I know the basics of C and Java. I’m reading about parser generators (ANTLR, lex &amp; YACC, Ray) but there’s no basic tutorial for that, there are a lot of new terms like BNF grammar (what is this, a language, a txt file?). It is so hard because there’s no easy way to start, or samples for C#.\nI don’t want to do this project in C or C++ because since it’s using graphics and my C knowledge is basic, I’m afraid I won’t be able to do it, I would like to use .Net</p>\n"},{"tags":["java","amazon-web-services","jce","hsm","amazon-cloudhsm"],"comments":[{"owner":{"account_id":958669,"reputation":9639,"user_id":983476,"accept_rate":98,"display_name":"Allan Chua"},"score":0,"creation_date":1643246999,"post_id":70871267,"comment_id":125291637,"body_markdown":"What kind of keys are you trying to pull for what use-case?","body":"What kind of keys are you trying to pull for what use-case?"},{"owner":{"account_id":24065738,"reputation":11,"user_id":18042340,"display_name":"Beeb84"},"score":0,"creation_date":1643268811,"post_id":70871267,"comment_id":125295661,"body_markdown":"I need to implement an API backed by CloudHSM (via the Java library) which will need to support calls such as list all keys, list all ec/rsa/aes keys, list keys that match the label XYZ etc.  Basically expose over the API a subset of the different ways of finding keys as the `findKey` command.","body":"I need to implement an API backed by CloudHSM (via the Java library) which will need to support calls such as list all keys, list all ec/rsa/aes keys, list keys that match the label XYZ etc.  Basically expose over the API a subset of the different ways of finding keys as the <code>findKey</code> command."}],"owner":{"account_id":24065738,"reputation":11,"user_id":18042340,"display_name":"Beeb84"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643237729,"creation_date":1643237729,"question_id":70871267,"body_markdown":"In the Amazon CloudHSM command line tools there is the command `findKey` which can take a bunch of different parameters to search for keys by type, class, label etc.  The equivalent in the Java library would appear to be the `com.cavium.cfm2.Util.findKeys` methods.  There is no source, documentation or Javadoc for the classes in this library so it&#39;s impossible to know what the parameters to these methods actually signify.\r\n\r\nWhat I&#39;m trying to figure out how to do using the Java lib:\r\n1. How to find keys based on type?\r\n2. How to return all keys (`Utils.findAllKeys(null)` perhaps?)?\r\n\r\nI&#39;ve looked everywhere for some kind of Javadoc.  Would be bonus if someone knows if it exists somewhere.","title":"How to use cloudhsm java library","body":"<p>In the Amazon CloudHSM command line tools there is the command <code>findKey</code> which can take a bunch of different parameters to search for keys by type, class, label etc.  The equivalent in the Java library would appear to be the <code>com.cavium.cfm2.Util.findKeys</code> methods.  There is no source, documentation or Javadoc for the classes in this library so it's impossible to know what the parameters to these methods actually signify.</p>\n<p>What I'm trying to figure out how to do using the Java lib:</p>\n<ol>\n<li>How to find keys based on type?</li>\n<li>How to return all keys (<code>Utils.findAllKeys(null)</code> perhaps?)?</li>\n</ol>\n<p>I've looked everywhere for some kind of Javadoc.  Would be bonus if someone knows if it exists somewhere.</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1643217037,"post_id":70867472,"comment_id":125282692,"body_markdown":"Does this answer your question? [Stream API and Queues: Subscribe to BlockingQueue stream-style](https://stackoverflow.com/questions/23462209/stream-api-and-queues-subscribe-to-blockingqueue-stream-style)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23462209/stream-api-and-queues-subscribe-to-blockingqueue-stream-style\">Stream API and Queues: Subscribe to BlockingQueue stream-style</a>"},{"owner":{"account_id":2979580,"reputation":73,"user_id":2529865,"display_name":"TKTheTechie"},"score":0,"creation_date":1643222717,"post_id":70867472,"comment_id":125284979,"body_markdown":"No it doesn&#39;t - the code there doesn&#39;t take - just peeks so the object is never removed from the queue. Also the delay is never respected either (I&#39;m assuming because the stream is peeking and not taking)","body":"No it doesn&#39;t - the code there doesn&#39;t take - just peeks so the object is never removed from the queue. Also the delay is never respected either (I&#39;m assuming because the stream is peeking and not taking)"},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1643229527,"post_id":70867472,"comment_id":125287398,"body_markdown":"Could you please provide a minimal reproducible example? Please, see: [How to create a Minimal, Reproducible Example - Help Center - Stack Overflow](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Could you please provide a minimal reproducible example? Please, see: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example - Help Center - Stack Overflow</a>."},{"owner":{"account_id":2979580,"reputation":73,"user_id":2529865,"display_name":"TKTheTechie"},"score":1,"creation_date":1643236579,"post_id":70867472,"comment_id":125289592,"body_markdown":"Yes sorry - done","body":"Yes sorry - done"},{"owner":{"account_id":2979580,"reputation":73,"user_id":2529865,"display_name":"TKTheTechie"},"score":1,"creation_date":1643237581,"post_id":70867472,"comment_id":125289837,"body_markdown":"Hmm ok, actually looking into the post you mentioned. If I use Stream.Generate() I get the behavior that I need.","body":"Hmm ok, actually looking into the post you mentioned. If I use Stream.Generate() I get the behavior that I need."}],"owner":{"account_id":2979580,"reputation":73,"user_id":2529865,"display_name":"TKTheTechie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643236963,"creation_date":1643216970,"question_id":70867472,"body_markdown":"Say I have a delayQueue as follows:\r\n\r\n    DelayQueue&lt;DelayedObject&gt; queue= new DelayQueue&lt;&gt;();\r\n\r\nI would like to get the following behavior:\r\n\r\n    while (true) {\r\n    DealyedObject next = queue.take();\r\n    System.out.println(&quot;next message:&quot; + next);\r\n    }\r\n\r\nbut with streams as follows:\r\n\r\n    queue.stream().forEach(e -&gt; System.out.println(e));\r\n\r\n\r\nHowever, I notice that this doesn&#39;t respect the delay and it also appears to be peeking and not taking. Is this expected behavior? Is there a better way to accomplish what I need with streams?\r\n\r\nHere is a fully reproducible sample:\r\n\r\n```\r\n\r\n\r\nimport java.util.UUID;\r\nimport java.util.concurrent.BlockingQueue;\r\nimport java.util.concurrent.DelayQueue;\r\nimport java.util.concurrent.Delayed;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class DelayQueueExample {\r\n    public class DelayObject implements Delayed {\r\n        private String data;\r\n        private long startTime;\r\n\r\n        public DelayObject(String data, long delayInMilliseconds) {\r\n            this.data = data;\r\n            this.startTime = System.currentTimeMillis() + delayInMilliseconds;\r\n        }\r\n\r\n        @Override\r\n        public long getDelay(TimeUnit unit) {\r\n            long diff = this.startTime - System.currentTimeMillis();\r\n            return unit.convert(diff, TimeUnit.MILLISECONDS);\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Delayed o) {\r\n            return Math.toIntExact(this.startTime - ((DelayObject) o).startTime);\r\n        }\r\n\r\n        public String toString(){\r\n            return this.data;\r\n        }\r\n    }\r\n\r\n    public void startLoop() throws InterruptedException {\r\n        BlockingQueue&lt;DelayObject&gt; delayQueue= new DelayQueue&lt;&gt;();\r\n        DelayObject object1 = new DelayObject(&quot;Object1ExpiresIn1MS&quot;,1);\r\n        DelayObject object2 = new DelayObject(&quot;Object1ExpiresIn10000MS&quot;,10000);\r\n        delayQueue.add(object1);\r\n        delayQueue.add(object2);\r\n\r\n        while(!delayQueue.isEmpty()){\r\n            System.out.println(delayQueue.take());\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public void startStream() throws InterruptedException {\r\n        BlockingQueue&lt;DelayObject&gt; delayQueue= new DelayQueue&lt;&gt;();\r\n        DelayObject object1 = new DelayObject(&quot;Object1ExpiresIn1MS&quot;,1);\r\n        DelayObject object2 = new DelayObject(&quot;Object1ExpiresIn10000MS&quot;,10000);\r\n        delayQueue.add(object1);\r\n        delayQueue.add(object2);\r\n\r\n        delayQueue.forEach(o-&gt;System.out.println(o));\r\n\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        DelayQueueExample ex1 = new DelayQueueExample();\r\n        ex1.startLoop();      //Immediately outputs Object1ExpiresIn1ms and Object1ExpiresIn10000MS after 10ms\r\n        ex1.startStream();    //Immediately outputs Object1ExpiresIn1ms,Object1ExpiresIn10000MS\r\n    }\r\n}\r\n\r\n```","title":"Stream from a delayQueue in Java","body":"<p>Say I have a delayQueue as follows:</p>\n<pre><code>DelayQueue&lt;DelayedObject&gt; queue= new DelayQueue&lt;&gt;();\n</code></pre>\n<p>I would like to get the following behavior:</p>\n<pre><code>while (true) {\nDealyedObject next = queue.take();\nSystem.out.println(&quot;next message:&quot; + next);\n}\n</code></pre>\n<p>but with streams as follows:</p>\n<pre><code>queue.stream().forEach(e -&gt; System.out.println(e));\n</code></pre>\n<p>However, I notice that this doesn't respect the delay and it also appears to be peeking and not taking. Is this expected behavior? Is there a better way to accomplish what I need with streams?</p>\n<p>Here is a fully reproducible sample:</p>\n<pre><code>\n\nimport java.util.UUID;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.DelayQueue;\nimport java.util.concurrent.Delayed;\nimport java.util.concurrent.TimeUnit;\n\npublic class DelayQueueExample {\n    public class DelayObject implements Delayed {\n        private String data;\n        private long startTime;\n\n        public DelayObject(String data, long delayInMilliseconds) {\n            this.data = data;\n            this.startTime = System.currentTimeMillis() + delayInMilliseconds;\n        }\n\n        @Override\n        public long getDelay(TimeUnit unit) {\n            long diff = this.startTime - System.currentTimeMillis();\n            return unit.convert(diff, TimeUnit.MILLISECONDS);\n        }\n\n        @Override\n        public int compareTo(Delayed o) {\n            return Math.toIntExact(this.startTime - ((DelayObject) o).startTime);\n        }\n\n        public String toString(){\n            return this.data;\n        }\n    }\n\n    public void startLoop() throws InterruptedException {\n        BlockingQueue&lt;DelayObject&gt; delayQueue= new DelayQueue&lt;&gt;();\n        DelayObject object1 = new DelayObject(&quot;Object1ExpiresIn1MS&quot;,1);\n        DelayObject object2 = new DelayObject(&quot;Object1ExpiresIn10000MS&quot;,10000);\n        delayQueue.add(object1);\n        delayQueue.add(object2);\n\n        while(!delayQueue.isEmpty()){\n            System.out.println(delayQueue.take());\n        }\n\n\n    }\n\n    public void startStream() throws InterruptedException {\n        BlockingQueue&lt;DelayObject&gt; delayQueue= new DelayQueue&lt;&gt;();\n        DelayObject object1 = new DelayObject(&quot;Object1ExpiresIn1MS&quot;,1);\n        DelayObject object2 = new DelayObject(&quot;Object1ExpiresIn10000MS&quot;,10000);\n        delayQueue.add(object1);\n        delayQueue.add(object2);\n\n        delayQueue.forEach(o-&gt;System.out.println(o));\n\n\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        DelayQueueExample ex1 = new DelayQueueExample();\n        ex1.startLoop();      //Immediately outputs Object1ExpiresIn1ms and Object1ExpiresIn10000MS after 10ms\n        ex1.startStream();    //Immediately outputs Object1ExpiresIn1ms,Object1ExpiresIn10000MS\n    }\n}\n\n</code></pre>\n"},{"tags":["java","java-stream","filtering"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1643226830,"post_id":70869436,"comment_id":125286406,"body_markdown":"Do you need copies or do you need to edit the existing strictures? (If the latter, then that problem is not too well suited to streams)","body":"Do you need copies or do you need to edit the existing strictures? (If the latter, then that problem is not too well suited to streams)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1643227923,"post_id":70869436,"comment_id":125286792,"body_markdown":"@paulsm4 OP is not trying to remove element of a list.","body":"@paulsm4 OP is not trying to remove element of a list."}],"answers":[{"tags":[],"owner":{"account_id":6763345,"reputation":36,"user_id":5209179,"display_name":"Umut Can Ala&#231;am"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643227385,"creation_date":1643227385,"answer_id":70869562,"question_id":70869436,"body_markdown":"You can simply use this:\r\n\r\n     list.forEach(stringObjectMap -&gt; {\r\n         stringObjectMap.remove(&quot;Age&quot;);\r\n     });\r\n\r\nSince the map object is a reference, you can simply delete a key from the map without copying it into another map object.","title":"Java8 remove keys from List&lt;Map&lt;String, Object&gt;&gt;","body":"<p>You can simply use this:</p>\n<pre><code> list.forEach(stringObjectMap -&gt; {\n     stringObjectMap.remove(&quot;Age&quot;);\n });\n</code></pre>\n<p>Since the map object is a reference, you can simply delete a key from the map without copying it into another map object.</p>\n"},{"tags":[],"owner":{"account_id":1660529,"reputation":13,"user_id":1528912,"display_name":"Heisenberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643236488,"creation_date":1643228206,"answer_id":70869720,"question_id":70869436,"body_markdown":"Try something like:\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; result = list.stream()\r\n        .filter(x -&gt; x.entrySet().removeIf(y -&gt; y.getKey().equals(&quot;Age&quot;)))\r\n        .collect(Collectors.toList());","title":"Java8 remove keys from List&lt;Map&lt;String, Object&gt;&gt;","body":"<p>Try something like:</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; result = list.stream()\n    .filter(x -&gt; x.entrySet().removeIf(y -&gt; y.getKey().equals(&quot;Age&quot;)))\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":1660529,"reputation":13,"user_id":1528912,"display_name":"Heisenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1643228366,"accepted_answer_id":70869562,"answer_count":2,"score":1,"last_activity_date":1643236488,"creation_date":1643226747,"question_id":70869436,"body_markdown":"I have a List&lt;Map&lt;String, Object&gt;&gt; and I need to remove the nested key = &quot;age&quot; if exists and return the List of map. How can I do this elegantly with streams()?\r\n\r\n    Map&lt;String, Object&gt; map1 = new HashMap&lt;String, Object&gt;();\r\n    map1.put(&quot;Name&quot;, &quot;Michael&quot;);\r\n    map1.put(&quot;Age&quot;, 43);\r\n    map1.put(&quot;City&quot;, &quot;Paris&quot;);\r\n\r\n    Map&lt;String, Object&gt; map2 = new HashMap&lt;String, Object&gt;();\r\n    map2.put(&quot;Name&quot;, &quot;Tanja&quot;);\r\n    map2.put(&quot;Age&quot;, 23);\r\n    map2.put(&quot;City&quot;, &quot;Berlin&quot;);\r\n\r\n    Map&lt;String, Object&gt; map3 = new HashMap&lt;String, Object&gt;();\r\n    map3.put(&quot;Name&quot;, &quot;Diego&quot;);\r\n    map3.put(&quot;Age&quot;, 35);\r\n    map3.put(&quot;City&quot;, &quot;Madrid&quot;);\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(map1);\r\n    list.add(map2);\r\n    list.add(map3);\r\n\r\n\r\n\r\nExample: \r\n\r\n    [\r\n         {Name=&quot;Michael&quot;, age=43, city=&quot;Paris&quot;},\r\n         {Name=&quot;Tanja&quot;, age=23, city=&quot;Berlin&quot;},\r\n         {Name=&quot;Diego&quot;, age=35, city=&quot;Madrid&quot;}\r\n    ]\r\n\r\nto:\r\n\r\n    [\r\n         {Name=&quot;Michael&quot;, city=&quot;Paris&quot;},\r\n         {Name=&quot;Tanja&quot;, city=&quot;Berlin&quot;},\r\n         {Name=&quot;Diego&quot;, city=&quot;Madrid&quot;}\r\n    ]\r\n\r\nThanks for helping.","title":"Java8 remove keys from List&lt;Map&lt;String, Object&gt;&gt;","body":"<p>I have a List&lt;Map&lt;String, Object&gt;&gt; and I need to remove the nested key = &quot;age&quot; if exists and return the List of map. How can I do this elegantly with streams()?</p>\n<pre><code>Map&lt;String, Object&gt; map1 = new HashMap&lt;String, Object&gt;();\nmap1.put(&quot;Name&quot;, &quot;Michael&quot;);\nmap1.put(&quot;Age&quot;, 43);\nmap1.put(&quot;City&quot;, &quot;Paris&quot;);\n\nMap&lt;String, Object&gt; map2 = new HashMap&lt;String, Object&gt;();\nmap2.put(&quot;Name&quot;, &quot;Tanja&quot;);\nmap2.put(&quot;Age&quot;, 23);\nmap2.put(&quot;City&quot;, &quot;Berlin&quot;);\n\nMap&lt;String, Object&gt; map3 = new HashMap&lt;String, Object&gt;();\nmap3.put(&quot;Name&quot;, &quot;Diego&quot;);\nmap3.put(&quot;Age&quot;, 35);\nmap3.put(&quot;City&quot;, &quot;Madrid&quot;);\n\nList&lt;Map&lt;String, Object&gt;&gt; list = new ArrayList&lt;&gt;();\nlist.add(map1);\nlist.add(map2);\nlist.add(map3);\n</code></pre>\n<p>Example:</p>\n<pre><code>[\n     {Name=&quot;Michael&quot;, age=43, city=&quot;Paris&quot;},\n     {Name=&quot;Tanja&quot;, age=23, city=&quot;Berlin&quot;},\n     {Name=&quot;Diego&quot;, age=35, city=&quot;Madrid&quot;}\n]\n</code></pre>\n<p>to:</p>\n<pre><code>[\n     {Name=&quot;Michael&quot;, city=&quot;Paris&quot;},\n     {Name=&quot;Tanja&quot;, city=&quot;Berlin&quot;},\n     {Name=&quot;Diego&quot;, city=&quot;Madrid&quot;}\n]\n</code></pre>\n<p>Thanks for helping.</p>\n"},{"tags":["javascript","java","keycloak","openid-connect"],"comments":[{"owner":{"account_id":137186,"reputation":29517,"user_id":341201,"accept_rate":50,"display_name":"feeela"},"score":0,"creation_date":1612920191,"post_id":66127605,"comment_id":116915590,"body_markdown":"Is that user-data you want to display stored in your own database? Or is it already available via Keycloak? If yes, please refer to the Keycloak documentation also.","body":"Is that user-data you want to display stored in your own database? Or is it already available via Keycloak? If yes, please refer to the Keycloak documentation also."},{"owner":{"account_id":20674154,"reputation":75,"user_id":15179181,"display_name":"Frank333"},"score":0,"creation_date":1612970957,"post_id":66127605,"comment_id":116932944,"body_markdown":"It&#39;s stored in the keycloak database.","body":"It&#39;s stored in the keycloak database."}],"answers":[{"tags":[],"owner":{"account_id":5105937,"reputation":101,"user_id":4094011,"display_name":"JamesR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1612945406,"creation_date":1612909312,"answer_id":66128103,"question_id":66127605,"body_markdown":"Looking at the requests you have made you have not completed the OIDC code flow.\r\n\r\nI&#39;m assuming that your java application is acting as the OIDC client, in which case it will need to exchange the authorization code for access, id and refresh tokens by calling the token endpoint of your realm.\r\n\r\ne.g.\r\n\r\n&gt; POST /auth/realms/mmyrealm/protocol/openid-connect/token HTTP/1.1\r\n&gt; Host: server.example.com\r\n&gt; Content-Type: application/x-www-form-urlencoded\r\n&gt; Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\r\n&gt;\r\n&gt; grant_type=authorization_code&amp;code=SplxlOBeZQQYbYS6WxSbIA\r\n&gt; &amp;redirect_uri=https%3A%2F%2Fclient.example.org%2Fcb\r\n\r\n\r\n[A description of the Token Request][1]\r\n\r\nThe simplest way would be to use a Java OIDC Client or OAuth2 client to do the authorisation and cod exchange for you and provide OAuth2/OIDC token primitives for you to code against.\r\n\r\nHave a look at:\r\n[Scribe Java OAuth2 client][2]\r\n[Nimbus OIDC SDK][3]\r\n\r\nThe details of the user will be in claims within the tokens returned by the token endpoint, if you are including the user claims in your tokens. \r\n\r\n\r\n  [1]: https://rograce.github.io/openid-connect-documentation/explore_auth_code_flow#token-request\r\n  [2]: https://github.com/scribejava/scribejava\r\n  [3]: https://connect2id.com/products/nimbus-oauth-openid-connect-sdk\r\n\r\nEdit:\r\nThe OIDC Authorization code flow is one of the OIDC authorisation flows. It provides the benefit of not exposing any of the actual tokens to the user agent - e.g. web browser - and allows the oidc client to authenticate with the token server before exchanging the code for the OIDC tokens\r\n\r\nAt a high level the following occurs:\r\n1. OIDC Client makes an authentication request\r\n2. Client authenticates - this could be an end user\r\n3. Authorisation server returns an Authorisation code - on a redirect - to the client\r\n\r\n4. OIDC Client retrieves Access, ID and Refresh Tokens from the authorisation server&#39;s token endpoint\r\n\r\n5. If needed User info is retrieved from the UserInfo endpoint or thge access token is inspected using the introspect endpoint\r\n\r\nDetails of the actual user will be in claims with in the ID token, which is a plain JWT.\r\nKeycloak allows you to embed the claims in the Access token too.\r\n\r\nAfter authentication with Keycloak you will be redirected back to your web applications redirect URI.\r\n\r\nAs *per* your breakdown \r\n\r\n    http://localhost:8080/mypage.html?\r\n    session_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;\r\n    code=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\r\n\r\nYour requst handler will need to extract the code from that request and then make another call to keycloak to exchange the authorisation code for Access, ID and refresh tokens\r\n\r\ne.g.\r\n\r\n    POST /auth/realms/myrealm/protocol/openid-connect/token HTTP/1.1\r\n    Host: localhost:8180\r\n    ContentType: application/x-www-form-urlencoded\r\n    Authorization: &lt;whatever method your oidc client is usingL\r\n    grant_type=authorization_code&amp;\r\n    code=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b&amp;\r\n    client_id=myclientid&amp;\r\n    redirect_uri=....\r\n\r\nIdeally you have a route handler for accepting the tokens - maybe a tokens enpoint that also accepts query parameters that indicate the original uri requested so that you can redirect back to that if this is a user facing web application.\r\nIf it is completely programatic then you can achive all of it using the nimbus sdk.\r\n\r\n\r\n\r\nThe has a good summary of the various parts of Authorization Code flow\r\nhttps://rograce.github.io/openid-connect-documentation/explore_auth_code_flow","title":"Simplest way to get current user logged in Keycloak","body":"<p>Looking at the requests you have made you have not completed the OIDC code flow.</p>\n<p>I'm assuming that your java application is acting as the OIDC client, in which case it will need to exchange the authorization code for access, id and refresh tokens by calling the token endpoint of your realm.</p>\n<p>e.g.</p>\n<blockquote>\n<p>POST /auth/realms/mmyrealm/protocol/openid-connect/token HTTP/1.1\nHost: server.example.com\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW</p>\n<p>grant_type=authorization_code&amp;code=SplxlOBeZQQYbYS6WxSbIA\n&amp;redirect_uri=https%3A%2F%2Fclient.example.org%2Fcb</p>\n</blockquote>\n<p><a href=\"https://rograce.github.io/openid-connect-documentation/explore_auth_code_flow#token-request\" rel=\"nofollow noreferrer\">A description of the Token Request</a></p>\n<p>The simplest way would be to use a Java OIDC Client or OAuth2 client to do the authorisation and cod exchange for you and provide OAuth2/OIDC token primitives for you to code against.</p>\n<p>Have a look at:\n<a href=\"https://github.com/scribejava/scribejava\" rel=\"nofollow noreferrer\">Scribe Java OAuth2 client</a>\n<a href=\"https://connect2id.com/products/nimbus-oauth-openid-connect-sdk\" rel=\"nofollow noreferrer\">Nimbus OIDC SDK</a></p>\n<p>The details of the user will be in claims within the tokens returned by the token endpoint, if you are including the user claims in your tokens.</p>\n<p>Edit:\nThe OIDC Authorization code flow is one of the OIDC authorisation flows. It provides the benefit of not exposing any of the actual tokens to the user agent - e.g. web browser - and allows the oidc client to authenticate with the token server before exchanging the code for the OIDC tokens</p>\n<p>At a high level the following occurs:</p>\n<ol>\n<li><p>OIDC Client makes an authentication request</p>\n</li>\n<li><p>Client authenticates - this could be an end user</p>\n</li>\n<li><p>Authorisation server returns an Authorisation code - on a redirect - to the client</p>\n</li>\n<li><p>OIDC Client retrieves Access, ID and Refresh Tokens from the authorisation server's token endpoint</p>\n</li>\n<li><p>If needed User info is retrieved from the UserInfo endpoint or thge access token is inspected using the introspect endpoint</p>\n</li>\n</ol>\n<p>Details of the actual user will be in claims with in the ID token, which is a plain JWT.\nKeycloak allows you to embed the claims in the Access token too.</p>\n<p>After authentication with Keycloak you will be redirected back to your web applications redirect URI.</p>\n<p>As <em>per</em> your breakdown</p>\n<pre><code>http://localhost:8080/mypage.html?\nsession_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;\ncode=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\n</code></pre>\n<p>Your requst handler will need to extract the code from that request and then make another call to keycloak to exchange the authorisation code for Access, ID and refresh tokens</p>\n<p>e.g.</p>\n<pre><code>POST /auth/realms/myrealm/protocol/openid-connect/token HTTP/1.1\nHost: localhost:8180\nContentType: application/x-www-form-urlencoded\nAuthorization: &lt;whatever method your oidc client is usingL\ngrant_type=authorization_code&amp;\ncode=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b&amp;\nclient_id=myclientid&amp;\nredirect_uri=....\n</code></pre>\n<p>Ideally you have a route handler for accepting the tokens - maybe a tokens enpoint that also accepts query parameters that indicate the original uri requested so that you can redirect back to that if this is a user facing web application.\nIf it is completely programatic then you can achive all of it using the nimbus sdk.</p>\n<p>The has a good summary of the various parts of Authorization Code flow\n<a href=\"https://rograce.github.io/openid-connect-documentation/explore_auth_code_flow\" rel=\"nofollow noreferrer\">https://rograce.github.io/openid-connect-documentation/explore_auth_code_flow</a></p>\n"}],"owner":{"account_id":20674154,"reputation":75,"user_id":15179181,"display_name":"Frank333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3031,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66128103,"answer_count":1,"score":3,"last_activity_date":1643236069,"creation_date":1612906931,"question_id":66127605,"body_markdown":"I have implemented a really simple keycloak integration on my maven java web app. \r\nAssuming I am calling a url directly for the keycloak log in page .\r\n\r\n    http://localhost:8180/auth/realms/myrealm/protocol/openid-connect/auth?client_id=myclientid&amp;response_type=code&amp;scope=openid&amp;redirect_uri=http//localhost:8080/mypage.html\r\n\r\nAfter entering my username &amp; password on success i am being redirected on mypage.html , the url is like this\r\n\r\n    http://localhost:8080/mypage.html?session_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;code=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\r\n\r\nIf I break this down its \r\n\r\n    http://localhost:8080/mypage.html?\r\n    session_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;\r\n    code=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\r\n\r\nWhat would be the simplest - easiest way to get the user currently logged so i can display it&#39;s name ?\r\n\r\n\r\n","title":"Simplest way to get current user logged in Keycloak","body":"<p>I have implemented a really simple keycloak integration on my maven java web app.\nAssuming I am calling a url directly for the keycloak log in page .</p>\n<pre><code>http://localhost:8180/auth/realms/myrealm/protocol/openid-connect/auth?client_id=myclientid&amp;response_type=code&amp;scope=openid&amp;redirect_uri=http//localhost:8080/mypage.html\n</code></pre>\n<p>After entering my username &amp; password on success i am being redirected on mypage.html , the url is like this</p>\n<pre><code>http://localhost:8080/mypage.html?session_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;code=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\n</code></pre>\n<p>If I break this down its</p>\n<pre><code>http://localhost:8080/mypage.html?\nsession_state=c9482da3-50ff-4176-bf3c-54227271c661&amp;\ncode=5d4aebda-54d8-41ad-8205-c4d7e021770f.c9482da3-50ff-4176-bf3c-54227271c661.d5c1b6ac-c427-46da-8509-f2689849103b\n</code></pre>\n<p>What would be the simplest - easiest way to get the user currently logged so i can display it's name ?</p>\n"},{"tags":["java","apache","http","httpclient"],"answers":[{"tags":[],"owner":{"account_id":7362792,"reputation":417,"user_id":5605525,"display_name":"Mr. Skip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557912034,"creation_date":1557912034,"answer_id":56145778,"question_id":55385180,"body_markdown":"You would need to override the `SSLConnectionSocketFactory` for your `ConnectionManager`, for example, on the example below will be created default `SSLConnectionSocketFactory` if you would use `useSystemProperties`\r\n\r\n        DefaultHostnameVerifier hostnameVerifier = new DefaultHostnameVerifier(PublicSuffixMatcherLoader.getDefault());\r\n        SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(\r\n                (SSLSocketFactory) SSLSocketFactory.getDefault(), null, null, hostnameVerifier\r\n        );\r\n\r\n        final PoolingHttpClientConnectionManager connManager = new PoolingHttpClientConnectionManager(\r\n                RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n                        .register(&quot;http&quot;, PlainConnectionSocketFactory.getSocketFactory())\r\n                        .register(&quot;https&quot;, sslConnectionSocketFactory)\r\n                        .build()\r\n        );\r\n\r\n        connManager.setDefaultMaxPerRoute(20);\r\n        connManager.setMaxTotal(20);\r\n\r\n\r\n        final HttpClientBuilder builder = HttpClientBuilder\r\n                .create()\r\n                .setConnectionManager(connManager);","title":"create HttpClient using useSystemProperties()","body":"<p>You would need to override the <code>SSLConnectionSocketFactory</code> for your <code>ConnectionManager</code>, for example, on the example below will be created default <code>SSLConnectionSocketFactory</code> if you would use <code>useSystemProperties</code></p>\n\n<pre><code>    DefaultHostnameVerifier hostnameVerifier = new DefaultHostnameVerifier(PublicSuffixMatcherLoader.getDefault());\n    SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(\n            (SSLSocketFactory) SSLSocketFactory.getDefault(), null, null, hostnameVerifier\n    );\n\n    final PoolingHttpClientConnectionManager connManager = new PoolingHttpClientConnectionManager(\n            RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n                    .register(\"http\", PlainConnectionSocketFactory.getSocketFactory())\n                    .register(\"https\", sslConnectionSocketFactory)\n                    .build()\n    );\n\n    connManager.setDefaultMaxPerRoute(20);\n    connManager.setMaxTotal(20);\n\n\n    final HttpClientBuilder builder = HttpClientBuilder\n            .create()\n            .setConnectionManager(connManager);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24064638,"reputation":11,"user_id":18041401,"display_name":"Ruks Shetty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643235861,"creation_date":1643226636,"answer_id":70869409,"question_id":55385180,"body_markdown":"You can also set `useSystemProperties()` as below to your `HttpClient`:\r\n\r\n    HttpClient httpClient = HttpClientBuilder.create()\r\n                .setConnectionManager(connectionManager)\r\n                .useSystemProperties()\r\n                .setDefaultRequestConfig(requestConfig).build();","title":"create HttpClient using useSystemProperties()","body":"<p>You can also set <code>useSystemProperties()</code> as below to your <code>HttpClient</code>:</p>\n<pre><code>HttpClient httpClient = HttpClientBuilder.create()\n            .setConnectionManager(connectionManager)\n            .useSystemProperties()\n            .setDefaultRequestConfig(requestConfig).build();\n</code></pre>\n"}],"owner":{"account_id":15193830,"reputation":25,"user_id":10963805,"display_name":"Sree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643235861,"creation_date":1553715281,"question_id":55385180,"body_markdown":"I am trying to create one http client using useSystemProperties() as i need to default the ssl properties to that of WAS [like to get the WAS ciphers in runtime ]. And I have to set some max connections and connection manager also to the httpclient. This is a very high traffic rest call.\r\n\r\nI have tried 3 ways,\r\n\r\n     -- This did not set the WAS ssl properties and thus the connection got failed.\r\n  \thttpclient = HttpClients.custom().useSystemProperties()\r\n                            .setConnectionManager(&quot;some value&quot;)\r\n                            .setMaxConnPerRoute(&quot;some value&quot;)\r\n                            .setMaxConnTotal(&quot;some value&quot;)\r\n                            .setUserAgent(&quot;Custom Browser&quot;)\r\n                            .disableCookieManagement().build();\r\n\r\n     -- This did not set the WAS ssl properties and thus the connection failed.\r\n    httpclient1 = HttpClientBuilder.create().useSystemProperties()\r\n                                   .setConnectionManager(connManager)\r\n                                   .setMaxConnPerRoute(maxConnPerRoute)\r\n                                   .setMaxConnTotal(maxConnTotal)\r\n                                   .setUserAgent(&quot;Custom Browser&quot;)\r\n                                   .disableCookieManagement().build();\r\n    \r\n    -- This one defaulted to WAS ssl configurations and connection was fine but other params are missing here.\r\n    httpclient2 = HttpClientBuilder.create().useSystemProperties().build();\r\n\r\nCan I really achieve both these options?\r\n\r\n\r\n\r\n","title":"create HttpClient using useSystemProperties()","body":"<p>I am trying to create one http client using useSystemProperties() as i need to default the ssl properties to that of WAS [like to get the WAS ciphers in runtime ]. And I have to set some max connections and connection manager also to the httpclient. This is a very high traffic rest call.</p>\n<p>I have tried 3 ways,</p>\n<pre><code> -- This did not set the WAS ssl properties and thus the connection got failed.\nhttpclient = HttpClients.custom().useSystemProperties()\n                        .setConnectionManager(&quot;some value&quot;)\n                        .setMaxConnPerRoute(&quot;some value&quot;)\n                        .setMaxConnTotal(&quot;some value&quot;)\n                        .setUserAgent(&quot;Custom Browser&quot;)\n                        .disableCookieManagement().build();\n\n -- This did not set the WAS ssl properties and thus the connection failed.\nhttpclient1 = HttpClientBuilder.create().useSystemProperties()\n                               .setConnectionManager(connManager)\n                               .setMaxConnPerRoute(maxConnPerRoute)\n                               .setMaxConnTotal(maxConnTotal)\n                               .setUserAgent(&quot;Custom Browser&quot;)\n                               .disableCookieManagement().build();\n\n-- This one defaulted to WAS ssl configurations and connection was fine but other params are missing here.\nhttpclient2 = HttpClientBuilder.create().useSystemProperties().build();\n</code></pre>\n<p>Can I really achieve both these options?</p>\n"},{"tags":["java","eclipse","windowbuilder"],"answers":[{"tags":[],"owner":{"account_id":1535286,"reputation":553,"user_id":1431510,"display_name":"Yaza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643235828,"creation_date":1643235828,"answer_id":70871021,"question_id":70815571,"body_markdown":"There is no such tool AFAIK. The next thing is to place the program in Debug mode add a refresh button to redraw the widget and hope for the best (the JVM might or might not be able to re-initialize your class).\r\n\r\nAlternatively, you can create a class that monitors the filesystem for recompiles and then restarts your application. \r\n\r\nAll bleh...\r\n\r\nThe best tip I can give you is to redesign your application in a way that Windowbuilder can understand. \r\n\r\nI assume you have refactored your UI into multiple modular parts. If your UI consists of e.g. a Customer Detail panel and a Customer List panel, you might want to develop each of these separately. This is something WB can handle fine.\r\n\r\nCreate your modular UI classes in such a way that WB can understand them by subclassing a Widget (preferably Composite). The class below can be added to the palette of Windowbuilder and dragged into your &#39;composite&#39; application.\r\n\r\n        public class MyCustomerDetail extends Composite {\r\n    \r\n    \tpublic MyCustomerDetail(Composite pParent, int pStyle) {\r\n    \t\tsuper(pParent, pStyle);\r\n    \r\n    \t\tGridLayout gridLayout = new GridLayout(2, false);\r\n    \t\tsetLayout(gridLayout);\r\n    \r\n    \t\tLabel label = new Label(this, SWT.NONE);\r\n    \t\tlabel.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\r\n    \t\tlabel.setText(&quot;Customer Name&quot;);\r\n    \r\n    \t\tText name = new Text(this, SWT.SINGLE | SWT.LEAD | SWT.BORDER);\r\n    \t\tname.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\r\n    \t}\r\n    }\r\n\r\n\r\nDon&#39;t make a POJO class with a GUI method. The following class cannot be handled by WB and is of bad taste altogether.\r\n\r\n    public class MyCustomerDetail {\r\n    \r\n    \tpublic void createUI(Composite pParent) {\r\n    \r\n    \t\tLabel label = new Label(pParent, SWT.NONE);\r\n    \t\tlabel.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\r\n    \t\tlabel.setText(&quot;Customer Name&quot;);\r\n    \r\n    \t\tText name = new Text(pParent, SWT.SINGLE | SWT.LEAD | SWT.BORDER);\r\n    \t\tname.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"Is there any tool or plugin availabe in eclipse to recompile a Java GUI application","body":"<p>There is no such tool AFAIK. The next thing is to place the program in Debug mode add a refresh button to redraw the widget and hope for the best (the JVM might or might not be able to re-initialize your class).</p>\n<p>Alternatively, you can create a class that monitors the filesystem for recompiles and then restarts your application.</p>\n<p>All bleh...</p>\n<p>The best tip I can give you is to redesign your application in a way that Windowbuilder can understand.</p>\n<p>I assume you have refactored your UI into multiple modular parts. If your UI consists of e.g. a Customer Detail panel and a Customer List panel, you might want to develop each of these separately. This is something WB can handle fine.</p>\n<p>Create your modular UI classes in such a way that WB can understand them by subclassing a Widget (preferably Composite). The class below can be added to the palette of Windowbuilder and dragged into your 'composite' application.</p>\n<pre><code>    public class MyCustomerDetail extends Composite {\n\n    public MyCustomerDetail(Composite pParent, int pStyle) {\n        super(pParent, pStyle);\n\n        GridLayout gridLayout = new GridLayout(2, false);\n        setLayout(gridLayout);\n\n        Label label = new Label(this, SWT.NONE);\n        label.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\n        label.setText(&quot;Customer Name&quot;);\n\n        Text name = new Text(this, SWT.SINGLE | SWT.LEAD | SWT.BORDER);\n        name.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\n    }\n}\n</code></pre>\n<p>Don't make a POJO class with a GUI method. The following class cannot be handled by WB and is of bad taste altogether.</p>\n<pre><code>public class MyCustomerDetail {\n\n    public void createUI(Composite pParent) {\n\n        Label label = new Label(pParent, SWT.NONE);\n        label.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\n        label.setText(&quot;Customer Name&quot;);\n\n        Text name = new Text(pParent, SWT.SINGLE | SWT.LEAD | SWT.BORDER);\n        name.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23615568,"reputation":73,"user_id":17649724,"display_name":"Rob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70871021,"answer_count":1,"score":1,"last_activity_date":1643235828,"creation_date":1642874003,"question_id":70815571,"body_markdown":"I&#39;m working in a GUI Java Application in Eclipse IDE. I&#39;m using Window Builder to speed the UI design. \r\nAs a part of refactoring, I&#39;ve changed the sequential and repetitive code to encapsulated versions in other packages, this breaks the &quot;Design&quot; view, but does not affect the application itself.\r\nThe problem is that any change made to the ui needs to be seen through the compiled app, (after compile and run the app I mean), and I need to manually relaunch app any time I make a change.\r\n\r\nSo, my question is:\r\n\r\nIs there any plugin or tool that detects changes and automatically relaunches the application, as nodemon does in Nodejs applications.\r\n\r\nThanks in advance.","title":"Is there any tool or plugin availabe in eclipse to recompile a Java GUI application","body":"<p>I'm working in a GUI Java Application in Eclipse IDE. I'm using Window Builder to speed the UI design.\nAs a part of refactoring, I've changed the sequential and repetitive code to encapsulated versions in other packages, this breaks the &quot;Design&quot; view, but does not affect the application itself.\nThe problem is that any change made to the ui needs to be seen through the compiled app, (after compile and run the app I mean), and I need to manually relaunch app any time I make a change.</p>\n<p>So, my question is:</p>\n<p>Is there any plugin or tool that detects changes and automatically relaunches the application, as nodemon does in Nodejs applications.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643162927,"creation_date":1643162927,"answer_id":70857953,"question_id":70857018,"body_markdown":"`th:text` overwrites the contents of everything inside it.  Something like this is will work for you:\r\n\r\n    &lt;h4&gt;\r\n      &lt;span th:text=&quot;${dish.name}&quot;&gt;chicken fried salad&lt;/span&gt;\r\n      &lt;span th:text=&quot;${dish.price}&quot;&gt;45&lt;/span&gt;\r\n    &lt;/h4&gt;","title":"Thymeleaf, nested th:text does not show","body":"<p><code>th:text</code> overwrites the contents of everything inside it.  Something like this is will work for you:</p>\n<pre><code>&lt;h4&gt;\n  &lt;span th:text=&quot;${dish.name}&quot;&gt;chicken fried salad&lt;/span&gt;\n  &lt;span th:text=&quot;${dish.price}&quot;&gt;45&lt;/span&gt;\n&lt;/h4&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15917181,"reputation":35,"user_id":11485409,"display_name":"Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643235785,"creation_date":1643229701,"answer_id":70869997,"question_id":70857018,"body_markdown":"First as the previous user told you, `th:text=${dish.name}` will overwrite whatever text you put inside the tag and it will place the value of `dish.name` instead.\r\n\r\nSecond - instead of `dish.getPrice()` you need to call just `dish.price` in order to view value of the `.price` attribute.","title":"Thymeleaf, nested th:text does not show","body":"<p>First as the previous user told you, <code>th:text=${dish.name}</code> will overwrite whatever text you put inside the tag and it will place the value of <code>dish.name</code> instead.</p>\n<p>Second - instead of <code>dish.getPrice()</code> you need to call just <code>dish.price</code> in order to view value of the <code>.price</code> attribute.</p>\n"}],"owner":{"display_name":"user16722881"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70857953,"answer_count":2,"score":1,"last_activity_date":1643235785,"creation_date":1643153538,"question_id":70857018,"body_markdown":"Nested span with price does not show, only the one with h4. How to solve this out?\r\n\r\n    &lt;h4 th:text=&quot;${dish.name}&quot;&gt;chicken fried salad &lt;span th:text=&quot;${dish.getPrice()}&quot;&gt;45&lt;/span&gt;&lt;/h4&gt;\r\n\r\n","title":"Thymeleaf, nested th:text does not show","body":"<p>Nested span with price does not show, only the one with h4. How to solve this out?</p>\n<pre><code>&lt;h4 th:text=&quot;${dish.name}&quot;&gt;chicken fried salad &lt;span th:text=&quot;${dish.getPrice()}&quot;&gt;45&lt;/span&gt;&lt;/h4&gt;\n</code></pre>\n"},{"tags":["java","hyperledger-fabric","blockchain","hyperledger"],"comments":[{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":0,"creation_date":1526279479,"post_id":50323127,"comment_id":87664178,"body_markdown":"Did you check the source code? [Channel.java](https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/Channel.java)","body":"Did you check the source code? <a href=\"https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/Channel.java\" rel=\"nofollow noreferrer\">Channel.java</a>"},{"owner":{"account_id":12640497,"reputation":709,"user_id":9188188,"display_name":"Skadoosh"},"score":0,"creation_date":1526285204,"post_id":50323127,"comment_id":87666955,"body_markdown":"i did . in joinPeer() it says peer is &#39;added&#39; with roles . I am not able to get the clear picture though .","body":"i did . in joinPeer() it says peer is &#39;added&#39; with roles . I am not able to get the clear picture though ."}],"answers":[{"tags":[],"owner":{"account_id":2336152,"reputation":1185,"user_id":2048454,"display_name":"Nicolae Natea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643235691,"creation_date":1643235691,"answer_id":70871005,"question_id":50323127,"body_markdown":"When you join peers you actually update the &#39;channel&#39;.\r\nBut, when you add peers, you are basically just updating a local copy of the &#39;channel object&#39;, and assume that the peers had already &#39;joined&#39;.\r\n\r\nIf you would look at the &#39;joinPeer&#39; method, you would see that it calls &#39;addPeer&#39;, and it gets the genesis block from a random orderer.\r\nOn the other hand addPeer updates some internal maps.\r\n\r\nWith enough mental gymnastics it starts to make sense.\r\n\r\nSource code:\r\nhttps://github.com/hyperledger/fabric-sdk-java/blob/f11f197852d4596d2ab6e4c88eb4fe861d3765c4/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L837","title":"Difference between channel.addPeer() and channel.joinPeer()","body":"<p>When you join peers you actually update the 'channel'.\nBut, when you add peers, you are basically just updating a local copy of the 'channel object', and assume that the peers had already 'joined'.</p>\n<p>If you would look at the 'joinPeer' method, you would see that it calls 'addPeer', and it gets the genesis block from a random orderer.\nOn the other hand addPeer updates some internal maps.</p>\n<p>With enough mental gymnastics it starts to make sense.</p>\n<p>Source code:\n<a href=\"https://github.com/hyperledger/fabric-sdk-java/blob/f11f197852d4596d2ab6e4c88eb4fe861d3765c4/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L837\" rel=\"nofollow noreferrer\">https://github.com/hyperledger/fabric-sdk-java/blob/f11f197852d4596d2ab6e4c88eb4fe861d3765c4/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L837</a></p>\n"}],"owner":{"account_id":12640497,"reputation":709,"user_id":9188188,"display_name":"Skadoosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70871005,"answer_count":1,"score":1,"last_activity_date":1643235691,"creation_date":1526272272,"question_id":50323127,"body_markdown":"I am studying **Hyperledger Fabric** and running samples from the Hyperledger fabric samples . \r\nI have run th **BYFN** network http://hyperledger-fabric.readthedocs.io/en/release-1.0/build_network.html\r\n\r\nAnd i am able to access the peers , invoke and query chaincode using the Fabric Java SDK .\r\n\r\n I add the peers to the channel using channel.addPeer() function and initilaize.\r\n\r\nThere is also a method joinPeer() in channel class . \r\n\r\nI want to know the difference between **channel.addPeer()** and **channel.joinPeer()**\r\n\r\nThanks","title":"Difference between channel.addPeer() and channel.joinPeer()","body":"<p>I am studying <strong>Hyperledger Fabric</strong> and running samples from the Hyperledger fabric samples . \nI have run th <strong>BYFN</strong> network <a href=\"http://hyperledger-fabric.readthedocs.io/en/release-1.0/build_network.html\" rel=\"nofollow noreferrer\">http://hyperledger-fabric.readthedocs.io/en/release-1.0/build_network.html</a></p>\n\n<p>And i am able to access the peers , invoke and query chaincode using the Fabric Java SDK .</p>\n\n<p>I add the peers to the channel using channel.addPeer() function and initilaize.</p>\n\n<p>There is also a method joinPeer() in channel class . </p>\n\n<p>I want to know the difference between <strong>channel.addPeer()</strong> and <strong>channel.joinPeer()</strong></p>\n\n<p>Thanks</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1643232894,"post_id":70870238,"comment_id":125288538,"body_markdown":"Which version of Jackson is used?","body":"Which version of Jackson is used?"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":1,"creation_date":1643233496,"post_id":70870238,"comment_id":125288721,"body_markdown":"@SergeyVyacheslavovichBrunov I use ```2.10.2``` version.","body":"@SergeyVyacheslavovichBrunov I use <code>2.10.2</code> version."},{"owner":{"account_id":12502107,"reputation":81,"user_id":9100243,"display_name":"Augusto Souza"},"score":0,"creation_date":1685372538,"post_id":70870238,"comment_id":134647726,"body_markdown":"try to add this to your AbstractData class\n\n@JsonSubTypes.Type(value = DefaultData.class, name = &quot;unknown&quot;)","body":"try to add this to your AbstractData class  @JsonSubTypes.Type(value = DefaultData.class, name = &quot;unknown&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643235279,"creation_date":1643234512,"answer_id":70870826,"question_id":70870238,"body_markdown":"# Summary\r\nRight now it is not clear what is the **exact** root cause of the problem, because your example works for me with several corrections.\r\n\r\nStill, please, consider the corrections as a draft.\r\n\r\n# Corrections\r\n## Data class for root object: Introduced\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport java.util.Arrays;\r\nimport java.util.StringJoiner;\r\n\r\npublic class RootData {\r\n    public final AbstractData[] data;\r\n\r\n    @JsonCreator\r\n    public RootData(@JsonProperty(&quot;data&quot;) final AbstractData[] data) {\r\n        this.data = data;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return new StringJoiner(&quot;, &quot;, RootData.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\r\n            .add(&quot;data=&quot; + Arrays.toString(data))\r\n            .toString();\r\n    }\r\n}\r\n```\r\n\r\n## `AbstractData` data class: Updated to deserialize `type` property\r\nPlease, see [the Javadoc](https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.10.1/com/fasterxml/jackson/annotation/JsonTypeInfo.html):\r\n\r\n&gt; Note on visibility of type identifier: by default, deserialization (use during reading of JSON) of type identifier is completely handled by Jackson, and is **not passed to** deserializers. However, if so desired, it is possible to define property `visible = true` in which case property will be passed as-is to deserializers (and set via setter or field) on deserialization.\r\n\r\nUpdated annotation by adding `visible = true`:\r\n\r\n```\r\n@JsonTypeInfo(\r\n    use = JsonTypeInfo.Id.NAME,\r\n    property = &quot;type&quot;,\r\n    visible = true,\r\n    defaultImpl = DefaultData.class\r\n)\r\n```\r\n\r\nAdditionally, please, see the related question: [java - Jackson - @JsonTypeInfo property is being mapped as null?](https://stackoverflow.com/questions/33611199/jackson-jsontypeinfo-property-is-being-mapped-as-null).\r\n\r\n## Data classes: Implemented `toString()` method\r\n(Omitted.)\r\n\r\n## Main: Updated to use root data class\r\nPlease, note that I have corrected the JSON document: added the missing comma after `&quot;type&quot;: &quot;type1&quot;`.\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class Main {\r\n    public static void main(String... args) throws JsonProcessingException {\r\n        final String jsonDocumentString =\r\n            &quot;&quot;&quot;\r\n            {\r\n              &quot;data&quot;: [{\r\n                &quot;id&quot;: &quot;id1&quot;,\r\n                &quot;type&quot;: &quot;type1&quot;,\r\n                &quot;name&quot;: &quot;John&quot;\r\n              },\r\n              {\r\n                &quot;id&quot;: &quot;id2&quot;,\r\n                &quot;type&quot;: &quot;type2&quot;,\r\n                &quot;name&quot;: &quot;Rebecca&quot;\r\n              },\r\n              {\r\n                &quot;id&quot;: &quot;id3&quot;,\r\n                &quot;type&quot;: &quot;unknown&quot;,\r\n                &quot;name&quot;: &quot;Peter&quot;\r\n              }]\r\n            }\r\n            &quot;&quot;&quot;;\r\n\r\n        final ObjectMapper mapper = new ObjectMapper();\r\n        final RootData rootData = mapper.readValue(jsonDocumentString, RootData.class);\r\n        System.out.println(rootData);\r\n    }\r\n}\r\n```\r\n\r\nThe program completes successfully, i.e. without an exception being thrown.  \r\nThe program outputs:\r\n\r\n```\r\nRootData[data=[Type1Data[id=&#39;id1&#39;, type=&#39;type1&#39;, name=&#39;John&#39;], Type2Data[id=&#39;id2&#39;, type=&#39;type2&#39;, name=&#39;Rebecca&#39;], AbstractData[id=&#39;id3&#39;, type=&#39;unknown&#39;, name=&#39;Peter&#39;]]]\r\n```\r\n\r\nThe actual result (output) is the same as the expected result.","title":"How to deserialize JSON via JsonTypeInfo with unknown property","body":"<h1>Summary</h1>\n<p>Right now it is not clear what is the <strong>exact</strong> root cause of the problem, because your example works for me with several corrections.</p>\n<p>Still, please, consider the corrections as a draft.</p>\n<h1>Corrections</h1>\n<h2>Data class for root object: Introduced</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport java.util.Arrays;\nimport java.util.StringJoiner;\n\npublic class RootData {\n    public final AbstractData[] data;\n\n    @JsonCreator\n    public RootData(@JsonProperty(&quot;data&quot;) final AbstractData[] data) {\n        this.data = data;\n    }\n\n    @Override\n    public String toString() {\n        return new StringJoiner(&quot;, &quot;, RootData.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\n            .add(&quot;data=&quot; + Arrays.toString(data))\n            .toString();\n    }\n}\n</code></pre>\n<h2><code>AbstractData</code> data class: Updated to deserialize <code>type</code> property</h2>\n<p>Please, see <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.10.1/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\">the Javadoc</a>:</p>\n<blockquote>\n<p>Note on visibility of type identifier: by default, deserialization (use during reading of JSON) of type identifier is completely handled by Jackson, and is <strong>not passed to</strong> deserializers. However, if so desired, it is possible to define property <code>visible = true</code> in which case property will be passed as-is to deserializers (and set via setter or field) on deserialization.</p>\n</blockquote>\n<p>Updated annotation by adding <code>visible = true</code>:</p>\n<pre><code>@JsonTypeInfo(\n    use = JsonTypeInfo.Id.NAME,\n    property = &quot;type&quot;,\n    visible = true,\n    defaultImpl = DefaultData.class\n)\n</code></pre>\n<p>Additionally, please, see the related question: <a href=\"https://stackoverflow.com/questions/33611199/jackson-jsontypeinfo-property-is-being-mapped-as-null\">java - Jackson - @JsonTypeInfo property is being mapped as null?</a>.</p>\n<h2>Data classes: Implemented <code>toString()</code> method</h2>\n<p>(Omitted.)</p>\n<h2>Main: Updated to use root data class</h2>\n<p>Please, note that I have corrected the JSON document: added the missing comma after <code>&quot;type&quot;: &quot;type1&quot;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class Main {\n    public static void main(String... args) throws JsonProcessingException {\n        final String jsonDocumentString =\n            &quot;&quot;&quot;\n            {\n              &quot;data&quot;: [{\n                &quot;id&quot;: &quot;id1&quot;,\n                &quot;type&quot;: &quot;type1&quot;,\n                &quot;name&quot;: &quot;John&quot;\n              },\n              {\n                &quot;id&quot;: &quot;id2&quot;,\n                &quot;type&quot;: &quot;type2&quot;,\n                &quot;name&quot;: &quot;Rebecca&quot;\n              },\n              {\n                &quot;id&quot;: &quot;id3&quot;,\n                &quot;type&quot;: &quot;unknown&quot;,\n                &quot;name&quot;: &quot;Peter&quot;\n              }]\n            }\n            &quot;&quot;&quot;;\n\n        final ObjectMapper mapper = new ObjectMapper();\n        final RootData rootData = mapper.readValue(jsonDocumentString, RootData.class);\n        System.out.println(rootData);\n    }\n}\n</code></pre>\n<p>The program completes successfully, i.e. without an exception being thrown.<br />\nThe program outputs:</p>\n<pre><code>RootData[data=[Type1Data[id='id1', type='type1', name='John'], Type2Data[id='id2', type='type2', name='Rebecca'], AbstractData[id='id3', type='unknown', name='Peter']]]\n</code></pre>\n<p>The actual result (output) is the same as the expected result.</p>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70870826,"answer_count":1,"score":1,"last_activity_date":1643235279,"creation_date":1643231144,"question_id":70870238,"body_markdown":"I need to deserialize JSON looks like the following:\r\n```\r\n{\r\n  &quot;data&quot;: [{\r\n    &quot;id&quot;: &quot;id1&quot;,\r\n    &quot;type&quot;: &quot;type1&quot;\r\n    &quot;name&quot;: &quot;John&quot;,\r\n    ...\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;id2&quot;,\r\n    &quot;type&quot;: &quot;type2&quot;,\r\n    &quot;name&quot;: &quot;Rebecca&quot;,\r\n    ...\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;id3&quot;,\r\n    &quot;type&quot;: &quot;unknown&quot;,\r\n    &quot;name&quot;: &quot;Peter&quot;,\r\n    ...\r\n  }]\r\n}\r\n```\r\nFor deserializing JSON which I have written above I have created a couple of classes:\r\n```\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        property = &quot;type&quot;,\r\n        defaultImpl = DefaultData.class\r\n)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Type1Data.class, name = &quot;type1&quot;),\r\n        @JsonSubTypes.Type(value = Type2Data.class, name = &quot;type2&quot;)\r\n})\r\npublic class AbstractData {\r\n    public final String id;\r\n    public final String type;\r\n    public final String name;\r\n    public AbstractData(String id, String type, String name) {\r\n        this.id = id;\r\n        this.type = type;\r\n        this.name = name;\r\n    }\r\n}\r\n\r\npublic class Type1Data extends AbstractData {\r\n    @JsonCreator\r\n    public Type1Data(@JsonProperty(&quot;id&quot;) String id,\r\n                     @JsonProperty(&quot;name&quot;) String name\r\n    ) {\r\n        super(id, &quot;type1&quot;, name);\r\n    }\r\n}\r\n\r\npublic class DefaultData extends AbstractData {\r\n    @JsonCreator\r\n    public DefaultData(@JsonProperty(&quot;id&quot;) String id, \r\n                       @JsonProperty(&quot;type&quot;) String type,\r\n                       @JsonProperty(&quot;name&quot;) String name\r\n    ) {\r\n        super(id, type, name);\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String... args) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        AbstractData data = mapper.readValue(json, AbstractData.class);\r\n    }\r\n}\r\n```\r\nI get an exception if I use default implementation:\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;unknown&#39; as a type\r\n```\r\nThe class ```DefaultData``` I need to avoid a deserialization exception if I will get the unknown type.\r\n\r\nHow can I fix this issue?","title":"How to deserialize JSON via JsonTypeInfo with unknown property","body":"<p>I need to deserialize JSON looks like the following:</p>\n<pre><code>{\n  &quot;data&quot;: [{\n    &quot;id&quot;: &quot;id1&quot;,\n    &quot;type&quot;: &quot;type1&quot;\n    &quot;name&quot;: &quot;John&quot;,\n    ...\n  },\n  {\n    &quot;id&quot;: &quot;id2&quot;,\n    &quot;type&quot;: &quot;type2&quot;,\n    &quot;name&quot;: &quot;Rebecca&quot;,\n    ...\n  },\n  {\n    &quot;id&quot;: &quot;id3&quot;,\n    &quot;type&quot;: &quot;unknown&quot;,\n    &quot;name&quot;: &quot;Peter&quot;,\n    ...\n  }]\n}\n</code></pre>\n<p>For deserializing JSON which I have written above I have created a couple of classes:</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        property = &quot;type&quot;,\n        defaultImpl = DefaultData.class\n)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Type1Data.class, name = &quot;type1&quot;),\n        @JsonSubTypes.Type(value = Type2Data.class, name = &quot;type2&quot;)\n})\npublic class AbstractData {\n    public final String id;\n    public final String type;\n    public final String name;\n    public AbstractData(String id, String type, String name) {\n        this.id = id;\n        this.type = type;\n        this.name = name;\n    }\n}\n\npublic class Type1Data extends AbstractData {\n    @JsonCreator\n    public Type1Data(@JsonProperty(&quot;id&quot;) String id,\n                     @JsonProperty(&quot;name&quot;) String name\n    ) {\n        super(id, &quot;type1&quot;, name);\n    }\n}\n\npublic class DefaultData extends AbstractData {\n    @JsonCreator\n    public DefaultData(@JsonProperty(&quot;id&quot;) String id, \n                       @JsonProperty(&quot;type&quot;) String type,\n                       @JsonProperty(&quot;name&quot;) String name\n    ) {\n        super(id, type, name);\n    }\n}\n\npublic class Main {\n    public static void main(String... args) {\n        ObjectMapper mapper = new ObjectMapper();\n        AbstractData data = mapper.readValue(json, AbstractData.class);\n    }\n}\n</code></pre>\n<p>I get an exception if I use default implementation:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id 'unknown' as a type\n</code></pre>\n<p>The class <code>DefaultData</code> I need to avoid a deserialization exception if I will get the unknown type.</p>\n<p>How can I fix this issue?</p>\n"},{"tags":["java","android","android-mediaprojection","image-reader"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643230825,"post_id":70869332,"comment_id":125287896,"body_markdown":"`image` ? Where does that image come from? Please start your code with instantiating that image variable.","body":"<code>image</code> ? Where does that image come from? Please start your code with instantiating that image variable."},{"owner":{"account_id":17020889,"reputation":13,"user_id":12313499,"display_name":"seanfir"},"score":0,"creation_date":1643234758,"post_id":70869332,"comment_id":125289098,"body_markdown":"@blackapps I added an edit to my post to make that more clear.","body":"@blackapps I added an edit to my post to make that more clear."}],"owner":{"account_id":17020889,"reputation":13,"user_id":12313499,"display_name":"seanfir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643234702,"creation_date":1643226231,"question_id":70869332,"body_markdown":"I have been working to capture images of the phone screen using ImageReader. The JPEG&#39;s I am receiving are not valid. With this setting:\r\n\r\n```\r\nImageReader mImageReader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 10);\r\n```\r\n\r\nI get this in onImageAvailable:\r\n\r\n```\r\n\r\nW/AndroidMediaUtils: Image_getBlobSize: No JPEG/HEIC header detected, defaulting to size=width=2662272\r\n2022-01-26 11:23:36.495 22708-22857/com.artistol.phonekast D/skia: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\n```\r\n\r\nIf I try to extract a bitmap, the bitmap is null:\r\n\r\n```\r\nByteBuffer myBuffer = image.getPlanes()[0].getBuffer();\r\n            myBuffer.rewind();\r\n            int mySize = myBuffer.remaining();\r\n\r\n            frame = new byte[mySize];\r\n            myBuffer.get(frame, 0, mySize);\r\n\r\n            final Bitmap bitmap = BitmapFactory.decodeByteArray(frame, 0, frame.length);\r\n            if (bitmap==null)\r\n                Log.d(TAG, &quot;bitmap is null&quot;);\r\n```\r\n\r\nIf I set things such that the height != width, I will see the following exception:\r\n\r\n```\r\n2022-01-26 11:30:29.251 23141-23194/com.name.subname A/AndroidMediaUtils: RGBA override BLOB format buffer should have height == width\r\n2022-01-26 11:30:29.376 23141-23194/com.name.subname A/my_process: runtime.cc:655] Runtime aborting...\r\n    runtime.cc:655] Dumping all threads without mutator lock held\r\n    runtime.cc:655] All threads:\r\n    runtime.cc:655] DALVIK THREADS (27):\r\n    runtime.cc:655] &quot;com.name.subname.MyService&quot; prio=5 tid=23 Runnable\r\n    runtime.cc:655]   | group=&quot;&quot; sCount=0 dsCount=0 flags=0 obj=0x12e4cce8 self=0xb40000773250af00\r\n    runtime.cc:655]   | sysTid=23194 nice=0 cgrp=default sched=0/0 handle=0x75b062bcc0\r\n    runtime.cc:655]   | state=R schedstat=( 5329217 1502500 2 ) utm=0 stm=0 core=7 HZ=100\r\n    runtime.cc:655]   | stack=0x75b0528000-0x75b052a000 stackSize=1043KB\r\n    runtime.cc:655]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\r\n    runtime.cc:655]   native: #00 pc 000000000049ee3c  /apex/com.android.art/lib64/libart.so (art::DumpNativeStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, int, BacktraceMap*, char const*, art::ArtMethod*, void*, bool)+140)\r\n    runtime.cc:655]   native: #01 pc 00000000005abff8  /apex/com.android.art/lib64/libart.so (art::Thread::DumpStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, bool, BacktraceMap*, bool) const+376)\r\n    runtime.cc:655]   native: #02 pc 00000000005c9130  /apex/com.android.art/lib64/libart.so (art::DumpCheckpoint::Run(art::Thread*)+924)\r\n    runtime.cc:655]   native: #03 pc 00000000005c3070  /apex/com.android.art/lib64/libart.so (art::ThreadList::RunCheckpoint(art::Closure*, art::Closure*)+528)\r\n    runtime.cc:655]   native: #04 pc 00000000005c223c  /apex/com.android.art/lib64/libart.so (art::ThreadList::Dump(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, bool)+1920)\r\n    runtime.cc:655]   native: #05 pc 000000000055cec4  /apex/com.android.art/lib64/libart.so (art::Runtime::Abort(char const*)+1864)\r\n    runtime.cc:655]   native: #06 pc 0000000000013978  /system/lib64/libbase.so (android::base::SetAborter(std::__1::function&lt;void (char const*)&gt;&amp;&amp;)::$_3::__invoke(char const*)+76)\r\n    runtime.cc:655]   native: #07 pc 0000000000006e18  /system/lib64/liblog.so (__android_log_assert+336)\r\n    runtime.cc:655]   native: #08 pc 0000000000001644  /system/lib64/libmedia_jni_utils.so (android::getLockedImageInfo(android::CpuConsumer::LockedBuffer*, int, int, unsigned char**, unsigned int*, int*, int*)+1284)\r\n    runtime.cc:655]   native: #09 pc 000000000003c66c  /system/lib64/libmedia_jni.so (Image_createSurfacePlanes(_JNIEnv*, _jobject*, int, int)+616)\r\n    runtime.cc:655]   at android.media.ImageReader$SurfaceImage.nativeCreatePlanes(Native method)\r\n    runtime.cc:655]   - locked &lt;0x004f434f&gt; (a android.media.ImageReader$SurfaceImage)\r\n    runtime.cc:655]   at android.media.ImageReader$SurfaceImage.getPlanes(ImageReader.java:912)\r\n    runtime.cc:655]   at com.name.subname.MyService.processImage(MyService.java:341)\r\n    runtime.cc:655]   at com.name.subname.MyService.access$600(MyService.java:60)\r\n    runtime.cc:655]   at com.name.subname.MyService$2.onImageAvailable(MyService.java:293)\r\n```\r\n\r\n\r\nI have spent considerable time looking at this. I have experimented with changing my ImageReader setting to produce formats other than JPEG. Each time I get an exception such as the following when I use ImageFormat.FLEX_RGBA_8888 instead of ImageFormat.JPEG:\r\n\r\n\r\n```\r\njava.lang.UnsupportedOperationException: Invalid format specified 42\r\n        at android.media.ImageUtils.getNumPlanesForFormat(ImageUtils.java:73)\r\n        at android.media.ImageReader.&lt;init&gt;(ImageReader.java:274)\r\n        at android.media.ImageReader.newInstance(ImageReader.java:135) \r\n```\r\n\r\nI see that ImageFormat.FLEX_RGBA_8888 is defined as 0x29 (42) in ImageFormat.java. I reviewed ImageUtils.java code I found here: \r\n\r\nhttps://cs.android.com/android/platform/superproject/+/master:frameworks/base/media/java/android/media/ImageUtils.java;l=55;bpv=1;bpt=0\r\n\r\nIndeed FLEX_RGBA_8888 is not one of the codes that getNumPlanesForFormat recognizes, so I can see why this is being rejected. I am an Android novice and could be missing the obvious, but why would ImageFormat provide values that are rejected by ImageReader? Put another way, if I enter some of the codes I see as valid in the ImageUtils case statement, such as PixelFormat.RGBA_8888, my code won&#39;t even compile. I&#39;m told:\r\n\r\n```\r\nMust be one of: ImageFormat.UNKNOWN, ImageFormat.RGB_565, ImageFormat.YV12, ImageFormat.Y8, ImageFormat.NV16, ImageFormat.NV21, ImageFormat.YUY2, ImageFormat.JPEG, ImageFormat.DEPTH_JPEG, ImageFormat.YUV_420_888, ImageFormat.YUV_422_888, ImageFormat.YUV_444_888, ImageFormat.FLEX_RGB_888, ImageFormat.FLEX_RGBA_8888, ImageFormat.RAW_SENSOR, ImageFormat.RAW_PRIVATE, ImageFormat.RAW10, ImageFormat.RAW12, ImageFormat.DEPTH16, ImageFormat.DEPTH_POINT_CLOUD, ImageFormat.PRIVATE, ImageFormat.HEIC\r\n```\r\n\r\nHere is how I am setting things up:\r\n\r\n```\r\nImageReader mImageReader = ImageReader.newInstance(width, height, ImageFormat.FLEX_RGBA_8888, 10);\r\n        \r\n        mImageReader.setOnImageAvailableListener(new ImageReader.OnImageAvailableListener() {\r\n            @Override\r\n            public void onImageAvailable(ImageReader reader) {\r\n                processImage(reader);\r\n\r\n            }\r\n        }, mImageReaderCallbackHandler);\r\n\r\n\r\n        MediaProjectionManager mediaProjectionManager = (MediaProjectionManager) getSystemService(MEDIA_PROJECTION_SERVICE);\r\n        mMediaProjection =  mediaProjectionManager.getMediaProjection(Activity.RESULT_OK, mIntent);\r\n        mMediaProjection.registerCallback(mMediaProjectionCallback, mMediaProjectionCallbackHandler);\r\n\r\n        mVirtualDisplay = mMediaProjection.createVirtualDisplay(&quot;ScreenCapture&quot;,\r\n                width, height, density,\r\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\r\n                mImageReader.getSurface(), mVirtualDisplayCallback, mVirtualDisplayCallbackHandler);\r\n```\r\n\r\nI am running this as a remote service and have been testing on a Samsung Note 8 and and Pixel 4a, both physical devices.\r\n\r\nEdit 1:\r\n\r\nIn ImageReader&#39;s onImageAvailable, I have the following:\r\n\r\n```\r\nprivate void processImage(ImageReader reader){\r\n        byte[] frame;\r\n\r\n        Image image = reader.acquireLatestImage();\r\n        if(image!=null) {\r\n         \r\n            ByteBuffer myBuffer = image.getPlanes()[0].getBuffer();\r\n            myBuffer.rewind();\r\n            int mySize = myBuffer.remaining();\r\n\r\n            frame = new byte[mySize];\r\n            myBuffer.get(frame, 0, mySize);\r\n\r\n            final Bitmap bitmap = BitmapFactory.decodeByteArray(frame, 0, frame.length);\r\n            if (bitmap==null)\r\n                Log.d(TAG, &quot;bitmap is null&quot;);\r\n\r\n            image.close();\r\n        }\r\n\r\n    }\r\n```\r\n\r\n ","title":"Android ImageReader - Invalid format specified 42","body":"<p>I have been working to capture images of the phone screen using ImageReader. The JPEG's I am receiving are not valid. With this setting:</p>\n<pre><code>ImageReader mImageReader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 10);\n</code></pre>\n<p>I get this in onImageAvailable:</p>\n<pre><code>\nW/AndroidMediaUtils: Image_getBlobSize: No JPEG/HEIC header detected, defaulting to size=width=2662272\n2022-01-26 11:23:36.495 22708-22857/com.artistol.phonekast D/skia: --- Failed to create image decoder with message 'unimplemented'\n</code></pre>\n<p>If I try to extract a bitmap, the bitmap is null:</p>\n<pre><code>ByteBuffer myBuffer = image.getPlanes()[0].getBuffer();\n            myBuffer.rewind();\n            int mySize = myBuffer.remaining();\n\n            frame = new byte[mySize];\n            myBuffer.get(frame, 0, mySize);\n\n            final Bitmap bitmap = BitmapFactory.decodeByteArray(frame, 0, frame.length);\n            if (bitmap==null)\n                Log.d(TAG, &quot;bitmap is null&quot;);\n</code></pre>\n<p>If I set things such that the height != width, I will see the following exception:</p>\n<pre><code>2022-01-26 11:30:29.251 23141-23194/com.name.subname A/AndroidMediaUtils: RGBA override BLOB format buffer should have height == width\n2022-01-26 11:30:29.376 23141-23194/com.name.subname A/my_process: runtime.cc:655] Runtime aborting...\n    runtime.cc:655] Dumping all threads without mutator lock held\n    runtime.cc:655] All threads:\n    runtime.cc:655] DALVIK THREADS (27):\n    runtime.cc:655] &quot;com.name.subname.MyService&quot; prio=5 tid=23 Runnable\n    runtime.cc:655]   | group=&quot;&quot; sCount=0 dsCount=0 flags=0 obj=0x12e4cce8 self=0xb40000773250af00\n    runtime.cc:655]   | sysTid=23194 nice=0 cgrp=default sched=0/0 handle=0x75b062bcc0\n    runtime.cc:655]   | state=R schedstat=( 5329217 1502500 2 ) utm=0 stm=0 core=7 HZ=100\n    runtime.cc:655]   | stack=0x75b0528000-0x75b052a000 stackSize=1043KB\n    runtime.cc:655]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\n    runtime.cc:655]   native: #00 pc 000000000049ee3c  /apex/com.android.art/lib64/libart.so (art::DumpNativeStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, int, BacktraceMap*, char const*, art::ArtMethod*, void*, bool)+140)\n    runtime.cc:655]   native: #01 pc 00000000005abff8  /apex/com.android.art/lib64/libart.so (art::Thread::DumpStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, bool, BacktraceMap*, bool) const+376)\n    runtime.cc:655]   native: #02 pc 00000000005c9130  /apex/com.android.art/lib64/libart.so (art::DumpCheckpoint::Run(art::Thread*)+924)\n    runtime.cc:655]   native: #03 pc 00000000005c3070  /apex/com.android.art/lib64/libart.so (art::ThreadList::RunCheckpoint(art::Closure*, art::Closure*)+528)\n    runtime.cc:655]   native: #04 pc 00000000005c223c  /apex/com.android.art/lib64/libart.so (art::ThreadList::Dump(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, bool)+1920)\n    runtime.cc:655]   native: #05 pc 000000000055cec4  /apex/com.android.art/lib64/libart.so (art::Runtime::Abort(char const*)+1864)\n    runtime.cc:655]   native: #06 pc 0000000000013978  /system/lib64/libbase.so (android::base::SetAborter(std::__1::function&lt;void (char const*)&gt;&amp;&amp;)::$_3::__invoke(char const*)+76)\n    runtime.cc:655]   native: #07 pc 0000000000006e18  /system/lib64/liblog.so (__android_log_assert+336)\n    runtime.cc:655]   native: #08 pc 0000000000001644  /system/lib64/libmedia_jni_utils.so (android::getLockedImageInfo(android::CpuConsumer::LockedBuffer*, int, int, unsigned char**, unsigned int*, int*, int*)+1284)\n    runtime.cc:655]   native: #09 pc 000000000003c66c  /system/lib64/libmedia_jni.so (Image_createSurfacePlanes(_JNIEnv*, _jobject*, int, int)+616)\n    runtime.cc:655]   at android.media.ImageReader$SurfaceImage.nativeCreatePlanes(Native method)\n    runtime.cc:655]   - locked &lt;0x004f434f&gt; (a android.media.ImageReader$SurfaceImage)\n    runtime.cc:655]   at android.media.ImageReader$SurfaceImage.getPlanes(ImageReader.java:912)\n    runtime.cc:655]   at com.name.subname.MyService.processImage(MyService.java:341)\n    runtime.cc:655]   at com.name.subname.MyService.access$600(MyService.java:60)\n    runtime.cc:655]   at com.name.subname.MyService$2.onImageAvailable(MyService.java:293)\n</code></pre>\n<p>I have spent considerable time looking at this. I have experimented with changing my ImageReader setting to produce formats other than JPEG. Each time I get an exception such as the following when I use ImageFormat.FLEX_RGBA_8888 instead of ImageFormat.JPEG:</p>\n<pre><code>java.lang.UnsupportedOperationException: Invalid format specified 42\n        at android.media.ImageUtils.getNumPlanesForFormat(ImageUtils.java:73)\n        at android.media.ImageReader.&lt;init&gt;(ImageReader.java:274)\n        at android.media.ImageReader.newInstance(ImageReader.java:135) \n</code></pre>\n<p>I see that ImageFormat.FLEX_RGBA_8888 is defined as 0x29 (42) in ImageFormat.java. I reviewed ImageUtils.java code I found here:</p>\n<p><a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/media/java/android/media/ImageUtils.java;l=55;bpv=1;bpt=0\" rel=\"nofollow noreferrer\">https://cs.android.com/android/platform/superproject/+/master:frameworks/base/media/java/android/media/ImageUtils.java;l=55;bpv=1;bpt=0</a></p>\n<p>Indeed FLEX_RGBA_8888 is not one of the codes that getNumPlanesForFormat recognizes, so I can see why this is being rejected. I am an Android novice and could be missing the obvious, but why would ImageFormat provide values that are rejected by ImageReader? Put another way, if I enter some of the codes I see as valid in the ImageUtils case statement, such as PixelFormat.RGBA_8888, my code won't even compile. I'm told:</p>\n<pre><code>Must be one of: ImageFormat.UNKNOWN, ImageFormat.RGB_565, ImageFormat.YV12, ImageFormat.Y8, ImageFormat.NV16, ImageFormat.NV21, ImageFormat.YUY2, ImageFormat.JPEG, ImageFormat.DEPTH_JPEG, ImageFormat.YUV_420_888, ImageFormat.YUV_422_888, ImageFormat.YUV_444_888, ImageFormat.FLEX_RGB_888, ImageFormat.FLEX_RGBA_8888, ImageFormat.RAW_SENSOR, ImageFormat.RAW_PRIVATE, ImageFormat.RAW10, ImageFormat.RAW12, ImageFormat.DEPTH16, ImageFormat.DEPTH_POINT_CLOUD, ImageFormat.PRIVATE, ImageFormat.HEIC\n</code></pre>\n<p>Here is how I am setting things up:</p>\n<pre><code>ImageReader mImageReader = ImageReader.newInstance(width, height, ImageFormat.FLEX_RGBA_8888, 10);\n        \n        mImageReader.setOnImageAvailableListener(new ImageReader.OnImageAvailableListener() {\n            @Override\n            public void onImageAvailable(ImageReader reader) {\n                processImage(reader);\n\n            }\n        }, mImageReaderCallbackHandler);\n\n\n        MediaProjectionManager mediaProjectionManager = (MediaProjectionManager) getSystemService(MEDIA_PROJECTION_SERVICE);\n        mMediaProjection =  mediaProjectionManager.getMediaProjection(Activity.RESULT_OK, mIntent);\n        mMediaProjection.registerCallback(mMediaProjectionCallback, mMediaProjectionCallbackHandler);\n\n        mVirtualDisplay = mMediaProjection.createVirtualDisplay(&quot;ScreenCapture&quot;,\n                width, height, density,\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\n                mImageReader.getSurface(), mVirtualDisplayCallback, mVirtualDisplayCallbackHandler);\n</code></pre>\n<p>I am running this as a remote service and have been testing on a Samsung Note 8 and and Pixel 4a, both physical devices.</p>\n<p>Edit 1:</p>\n<p>In ImageReader's onImageAvailable, I have the following:</p>\n<pre><code>private void processImage(ImageReader reader){\n        byte[] frame;\n\n        Image image = reader.acquireLatestImage();\n        if(image!=null) {\n         \n            ByteBuffer myBuffer = image.getPlanes()[0].getBuffer();\n            myBuffer.rewind();\n            int mySize = myBuffer.remaining();\n\n            frame = new byte[mySize];\n            myBuffer.get(frame, 0, mySize);\n\n            final Bitmap bitmap = BitmapFactory.decodeByteArray(frame, 0, frame.length);\n            if (bitmap==null)\n                Log.d(TAG, &quot;bitmap is null&quot;);\n\n            image.close();\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","big-o","coding-efficiency"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1643233806,"post_id":70870639,"comment_id":125288822,"body_markdown":"4n + 2 is O(n). The significant point is just that your loop runs n times. If you doubled n, the loop would run twice as many times. That makes it O(n).","body":"4n + 2 is O(n). The significant point is just that your loop runs n times. If you doubled n, the loop would run twice as many times. That makes it O(n)."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":1,"creation_date":1643233847,"post_id":70870639,"comment_id":125288836,"body_markdown":"Refer to the definition of &quot;big O&quot; notation.","body":"Refer to the definition of &quot;big O&quot; notation."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643233851,"post_id":70870639,"comment_id":125288843,"body_markdown":"Do you have a reference for the notion of a &quot;precise&quot; big O?","body":"Do you have a reference for the notion of a &quot;precise&quot; big O?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1643234219,"post_id":70870639,"comment_id":125288965,"body_markdown":"The point of big-O is to be imprecise.","body":"The point of big-O is to be imprecise."},{"owner":{"account_id":14836546,"reputation":31,"user_id":10714478,"display_name":"PrometheusAurelius"},"score":0,"creation_date":1643234270,"post_id":70870639,"comment_id":125288979,"body_markdown":"I understand that it acts as O(n), and that this is the whole point of Big oh. But for my class we have to come up with a &quot;Presice&quot; number and are graded on it. I know how to get the normal Big oh, and not the one that requires counting the executions.","body":"I understand that it acts as O(n), and that this is the whole point of Big oh. But for my class we have to come up with a &quot;Presice&quot; number and are graded on it. I know how to get the normal Big oh, and not the one that requires counting the executions."},{"owner":{"account_id":23710598,"reputation":59302,"user_id":17732522,"display_name":"user17732522"},"score":1,"creation_date":1643234450,"post_id":70870639,"comment_id":125289023,"body_markdown":"@PrometheusAurelius Then you should ask your teacher what exactly you are supposed to count as an operation. There is no obvious answer to that. But I suspect that it isn&#39;t meant to be that precise. I would for example accept if you said that the number of instructions in the loop body is some constant, call it `c`, and the loop is executed `n` times, so the total number of instructions is `c*n`. Then add that the `int i = 0;` and the last `i &lt; n` are another constant `d1` and `d2` giving a total of `c*n + d1 + d2`, which is `O(n)` without it mattering what `c` and `d1` and `d2` are.","body":"@PrometheusAurelius Then you should ask your teacher what exactly you are supposed to count as an operation. There is no obvious answer to that. But I suspect that it isn&#39;t meant to be that precise. I would for example accept if you said that the number of instructions in the loop body is some constant, call it <code>c</code>, and the loop is executed <code>n</code> times, so the total number of instructions is <code>c*n</code>. Then add that the <code>int i = 0;</code> and the last <code>i &lt; n</code> are another constant <code>d1</code> and <code>d2</code> giving a total of <code>c*n + d1 + d2</code>, which is <code>O(n)</code> without it mattering what <code>c</code> and <code>d1</code> and <code>d2</code> are."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1643234608,"post_id":70870639,"comment_id":125289063,"body_markdown":"I don&#39;t think you should ask a teacher or the &quot;not a homework site.&quot; Your counting does not appear off.","body":"I don&#39;t think you should ask a teacher or the &quot;not a homework site.&quot; Your counting does not appear off."}],"owner":{"account_id":14836546,"reputation":31,"user_id":10714478,"display_name":"PrometheusAurelius"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1643234542,"creation_date":1643233393,"question_id":70870639,"body_markdown":"I need help understanding how each line is calculated for a &quot;precise&quot; big o notation. \r\n\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n    sum += i;\r\n    }\r\n\r\nTo my understanding this is the breakdown.\r\n```\r\nint i = 0;  --&gt; 1\r\ni &lt; n;      --&gt; n + 1\r\ni++;        --&gt; n\r\nsum += i;   --&gt; n (should I be thinking of this as a simple addition and assignment n times?)\r\nJUMP to top --&gt; n\r\n```\r\nthus, adding up to    **4n + 2** \r\n\r\nIm unsure of how I&#39;m approaching it, and it seems like there are many ways to do it. Any help is appreciated.\r\n\r\nEDIT: I know this is silly because it defeats the purpose of Big Oh in the first place, but it is required for my class and my teacher has not been helpful in explaining how we are to calculate the executions line by line.","title":"Counting executions for a precise Big(O)","body":"<p>I need help understanding how each line is calculated for a &quot;precise&quot; big o notation.</p>\n<pre><code>for (int i = 0; i &lt; n; i++) {\nsum += i;\n}\n</code></pre>\n<p>To my understanding this is the breakdown.</p>\n<pre><code>int i = 0;  --&gt; 1\ni &lt; n;      --&gt; n + 1\ni++;        --&gt; n\nsum += i;   --&gt; n (should I be thinking of this as a simple addition and assignment n times?)\nJUMP to top --&gt; n\n</code></pre>\n<p>thus, adding up to    <strong>4n + 2</strong></p>\n<p>Im unsure of how I'm approaching it, and it seems like there are many ways to do it. Any help is appreciated.</p>\n<p>EDIT: I know this is silly because it defeats the purpose of Big Oh in the first place, but it is required for my class and my teacher has not been helpful in explaining how we are to calculate the executions line by line.</p>\n"},{"tags":["java","while-loop","bufferedreader","filereader","priority-queue"],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625768629,"creation_date":1625768629,"answer_id":68306910,"question_id":68306664,"body_markdown":"Since it is a queue of `String`s it is sorted alphabetically. If you want to keep it as `String`s, you can use a custom comparator that converts the `String`s to `int`s and compares those:\r\n```\r\n// This constructor requires an initial capacity before the comparator\r\nQueue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;(100, new Comparator&lt;String&gt;() {\r\n\tpublic int compare(String s1, String s2) {\r\n    \treturn Integer.parseInt(s1) - Integer.parseInt(s2);\r\n\t}\r\n});\r\n```\r\nAnother option is to change the type of the queue to `Integer` and convert the input:\r\n```\r\nQueue&lt;Integer&gt; queue = new PriorityQueue&lt;Integer&gt;();\r\n...\r\nwhile ((strLine = br.readLine()) != null)   {\r\n    queue.offer(Integer.parseInt(strLine));\r\n}\r\n```","title":"Using priority queue with File Reader","body":"<p>Since it is a queue of <code>String</code>s it is sorted alphabetically. If you want to keep it as <code>String</code>s, you can use a custom comparator that converts the <code>String</code>s to <code>int</code>s and compares those:</p>\n<pre><code>// This constructor requires an initial capacity before the comparator\nQueue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;(100, new Comparator&lt;String&gt;() {\n    public int compare(String s1, String s2) {\n        return Integer.parseInt(s1) - Integer.parseInt(s2);\n    }\n});\n</code></pre>\n<p>Another option is to change the type of the queue to <code>Integer</code> and convert the input:</p>\n<pre><code>Queue&lt;Integer&gt; queue = new PriorityQueue&lt;Integer&gt;();\n...\nwhile ((strLine = br.readLine()) != null)   {\n    queue.offer(Integer.parseInt(strLine));\n}\n</code></pre>\n"}],"owner":{"account_id":22162434,"reputation":3,"user_id":16409205,"display_name":"Ahmet G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68306910,"answer_count":1,"score":0,"last_activity_date":1643234283,"creation_date":1625767393,"question_id":68306664,"body_markdown":"I want to order numbers between the range of 1-100 with File Reader. It&#39;s very weird otput. My code:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    public class Main {\r\n    public static String strLine;\r\n    public static int order = 1;\r\n    public static void main(String[] args) {\r\n        Queue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;();\r\n        try{\r\n            FileReader fr = new FileReader(&quot;File.txt&quot;);\r\n            BufferedReader br = new BufferedReader(fr);\r\n            while ((strLine = br.readLine()) != null)   {\r\n                queue.offer(strLine);\r\n            }\r\n            br.close();\r\n        } catch (IOException e){\r\n            System.out.println(&quot;File not found&quot;);\r\n        }\r\n         while (!queue.isEmpty()){\r\n            System.out.println(order + &quot;.Number: &quot; + queue.poll());\r\n            order++;\r\n        }\r\n    } }\r\nFile.txt: \r\n```\r\n81\r\n56\r\n42\r\n3\r\n49\r\n100\r\n61\r\n76\r\n74\r\n79\r\n6\r\n90\r\n34\r\n93\r\n22\r\n71\r\n72\r\n63\r\n67\r\n18\r\n14\r\n5\r\n91\r\n39\r\n53\r\n86\r\n40\r\n45\r\n60\r\n55\r\n48\r\n62\r\n8\r\n4\r\n80\r\n11\r\n87\r\n47\r\n15\r\n46\r\n97\r\n66\r\n43\r\n58\r\n41\r\n54\r\n33\r\n96\r\n82\r\n44\r\n98\r\n27\r\n85\r\n10\r\n32\r\n95\r\n35\r\n24\r\n7\r\n30\r\n83\r\n9\r\n31\r\n99\r\n25\r\n29\r\n57\r\n36\r\n69\r\n50\r\n28\r\n59\r\n12\r\n37\r\n78\r\n73\r\n70\r\n89\r\n65\r\n51\r\n77\r\n88\r\n20\r\n17\r\n21\r\n94\r\n64\r\n19\r\n26\r\n23\r\n92\r\n52\r\n2\r\n16\r\n68\r\n75\r\n38\r\n1\r\n84\r\n13\r\n```\r\noutput:\r\n```\r\n1.Number: 1\r\n2.Number: 10\r\n3.Number: 100\r\n4.Number: 11\r\n5.Number: 12\r\n6.Number: 13\r\n7.Number: 14\r\n8.Number: 15\r\n9.Number: 16\r\n10.Number: 17\r\n11.Number: 18\r\n12.Number: 19\r\n13.Number: 2\r\n14.Number: 20\r\n15.Number: 21\r\n16.Number: 22\r\n17.Number: 23\r\n18.Number: 24\r\n19.Number: 25\r\n20.Number: 26\r\n21.Number: 27\r\n22.Number: 28\r\n23.Number: 29\r\n24.Number: 3\r\n25.Number: 30\r\n26.Number: 31\r\n27.Number: 32\r\n28.Number: 33\r\n29.Number: 34\r\n30.Number: 35\r\n31.Number: 36\r\n32.Number: 37\r\n33.Number: 38\r\n34.Number: 39\r\n35.Number: 4\r\n36.Number: 40\r\n37.Number: 41\r\n38.Number: 42\r\n39.Number: 43\r\n40.Number: 44\r\n41.Number: 45\r\n42.Number: 46\r\n43.Number: 47\r\n44.Number: 48\r\n45.Number: 49\r\n46.Number: 5\r\n47.Number: 50\r\n48.Number: 51\r\n49.Number: 52\r\n50.Number: 53\r\n51.Number: 54\r\n52.Number: 55\r\n53.Number: 56\r\n54.Number: 57\r\n55.Number: 58\r\n56.Number: 59\r\n57.Number: 6\r\n58.Number: 60\r\n59.Number: 61\r\n60.Number: 62\r\n61.Number: 63\r\n62.Number: 64\r\n63.Number: 65\r\n64.Number: 66\r\n65.Number: 67\r\n66.Number: 68\r\n67.Number: 69\r\n68.Number: 7\r\n69.Number: 70\r\n70.Number: 71\r\n71.Number: 72\r\n72.Number: 73\r\n73.Number: 74\r\n74.Number: 75\r\n75.Number: 76\r\n76.Number: 77\r\n77.Number: 78\r\n78.Number: 79\r\n79.Number: 8\r\n80.Number: 80\r\n81.Number: 81\r\n82.Number: 82\r\n83.Number: 83\r\n84.Number: 84\r\n85.Number: 85\r\n86.Number: 86\r\n87.Number: 87\r\n88.Number: 88\r\n89.Number: 89\r\n90.Number: 9\r\n91.Number: 90\r\n92.Number: 91\r\n93.Number: 92\r\n94.Number: 93\r\n95.Number: 94\r\n96.Number: 95\r\n97.Number: 96\r\n98.Number: 97\r\n99.Number: 98\r\n100.Number: 99\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n","title":"Using priority queue with File Reader","body":"<p>I want to order numbers between the range of 1-100 with File Reader. It's very weird otput. My code:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\npublic class Main {\npublic static String strLine;\npublic static int order = 1;\npublic static void main(String[] args) {\n    Queue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;();\n    try{\n        FileReader fr = new FileReader(&quot;File.txt&quot;);\n        BufferedReader br = new BufferedReader(fr);\n        while ((strLine = br.readLine()) != null)   {\n            queue.offer(strLine);\n        }\n        br.close();\n    } catch (IOException e){\n        System.out.println(&quot;File not found&quot;);\n    }\n     while (!queue.isEmpty()){\n        System.out.println(order + &quot;.Number: &quot; + queue.poll());\n        order++;\n    }\n} }\n</code></pre>\n<p>File.txt:</p>\n<pre><code>81\n56\n42\n3\n49\n100\n61\n76\n74\n79\n6\n90\n34\n93\n22\n71\n72\n63\n67\n18\n14\n5\n91\n39\n53\n86\n40\n45\n60\n55\n48\n62\n8\n4\n80\n11\n87\n47\n15\n46\n97\n66\n43\n58\n41\n54\n33\n96\n82\n44\n98\n27\n85\n10\n32\n95\n35\n24\n7\n30\n83\n9\n31\n99\n25\n29\n57\n36\n69\n50\n28\n59\n12\n37\n78\n73\n70\n89\n65\n51\n77\n88\n20\n17\n21\n94\n64\n19\n26\n23\n92\n52\n2\n16\n68\n75\n38\n1\n84\n13\n</code></pre>\n<p>output:</p>\n<pre><code>1.Number: 1\n2.Number: 10\n3.Number: 100\n4.Number: 11\n5.Number: 12\n6.Number: 13\n7.Number: 14\n8.Number: 15\n9.Number: 16\n10.Number: 17\n11.Number: 18\n12.Number: 19\n13.Number: 2\n14.Number: 20\n15.Number: 21\n16.Number: 22\n17.Number: 23\n18.Number: 24\n19.Number: 25\n20.Number: 26\n21.Number: 27\n22.Number: 28\n23.Number: 29\n24.Number: 3\n25.Number: 30\n26.Number: 31\n27.Number: 32\n28.Number: 33\n29.Number: 34\n30.Number: 35\n31.Number: 36\n32.Number: 37\n33.Number: 38\n34.Number: 39\n35.Number: 4\n36.Number: 40\n37.Number: 41\n38.Number: 42\n39.Number: 43\n40.Number: 44\n41.Number: 45\n42.Number: 46\n43.Number: 47\n44.Number: 48\n45.Number: 49\n46.Number: 5\n47.Number: 50\n48.Number: 51\n49.Number: 52\n50.Number: 53\n51.Number: 54\n52.Number: 55\n53.Number: 56\n54.Number: 57\n55.Number: 58\n56.Number: 59\n57.Number: 6\n58.Number: 60\n59.Number: 61\n60.Number: 62\n61.Number: 63\n62.Number: 64\n63.Number: 65\n64.Number: 66\n65.Number: 67\n66.Number: 68\n67.Number: 69\n68.Number: 7\n69.Number: 70\n70.Number: 71\n71.Number: 72\n72.Number: 73\n73.Number: 74\n74.Number: 75\n75.Number: 76\n76.Number: 77\n77.Number: 78\n78.Number: 79\n79.Number: 8\n80.Number: 80\n81.Number: 81\n82.Number: 82\n83.Number: 83\n84.Number: 84\n85.Number: 85\n86.Number: 86\n87.Number: 87\n88.Number: 88\n89.Number: 89\n90.Number: 9\n91.Number: 90\n92.Number: 91\n93.Number: 92\n94.Number: 93\n95.Number: 94\n96.Number: 95\n97.Number: 96\n98.Number: 97\n99.Number: 98\n100.Number: 99\n\nProcess finished with exit code 0\n\n</code></pre>\n"},{"tags":["java","email","outlook","calendar"],"comments":[{"owner":{"account_id":10056368,"reputation":500,"user_id":7434553,"display_name":"IQV"},"score":0,"creation_date":1485509952,"post_id":41890741,"comment_id":70963709,"body_markdown":"Have you tried to export an original Outlook-invitation to ICS and checked its attributes?","body":"Have you tried to export an original Outlook-invitation to ICS and checked its attributes?"},{"owner":{"account_id":2577658,"reputation":426,"user_id":2234974,"display_name":"Mahesh Gosemath"},"score":0,"creation_date":1485511176,"post_id":41890741,"comment_id":70964479,"body_markdown":"Yes, did that too. Didn&#39;t work. Also manually created an event with google calendar and sent invitation to email configured on outlook. Outlook could recognize that invitation so hardcoded the gmail ics in code and tried but that too didn&#39;t work.","body":"Yes, did that too. Didn&#39;t work. Also manually created an event with google calendar and sent invitation to email configured on outlook. Outlook could recognize that invitation so hardcoded the gmail ics in code and tried but that too didn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":6822324,"reputation":321,"user_id":5249090,"display_name":"swaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537533806,"creation_date":1537533806,"answer_id":52444077,"question_id":41890741,"body_markdown":"Modifying content type as below did trick for me.\r\n\r\n    messageBodyPart.setContent(inviteMessage, &quot;text/calendar;method=REQUEST&quot;);\r\n\r\n","title":"Java: ics not read in outlook","body":"<p>Modifying content type as below did trick for me.</p>\n\n<pre><code>messageBodyPart.setContent(inviteMessage, \"text/calendar;method=REQUEST\");\n</code></pre>\n"}],"owner":{"account_id":2577658,"reputation":426,"user_id":2234974,"display_name":"Mahesh Gosemath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643234273,"creation_date":1485509684,"question_id":41890741,"body_markdown":"I have written java code to send calendar invite. It works good with gmail, thunderbird. The clients read the ics and show the invitation properly.\r\n\r\nBut the same mail doesn&#39;t seem to be working on Microsoft Outlook. Outlook doesn&#39;t recognize the mail as calendar invite and hence no accept, reject buttons are shown.\r\n\r\nFollowing is the code snippet used:\r\n\r\n    MimeMessage message = new MimeMessage(session);\r\n    message.addHeaderLine(&quot;method=REQUEST&quot;);\r\n    message.addHeaderLine(&quot;charset=UTF-8&quot;);\r\n    message.addHeaderLine(&quot;component=VEVENT&quot;); \r\n\r\n    BodyPart textBodyPart = new MimeBodyPart();\r\n    textBodyPart.setContent(&quot;Invitation for an event.&quot;, &quot;text/plain&quot;);\r\n\r\n    BodyPart messageBodyPart = new MimeBodyPart();\r\n    messageBodyPart.addHeader(&quot;Content-Class&quot;, &quot;urn:content-classes:calendarmessage&quot;);\r\n    messageBodyPart.addHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\r\n    messageBodyPart.setContent(inviteMessage, &quot;text/calendar&quot;);\r\n\r\n    Multipart multipart = new MimeMultipart(&quot;alternative&quot;);\r\n    multipart.addBodyPart(textBodyPart);\r\n    multipart.addBodyPart(messageBodyPart);\r\n    message.setContent(multipart);\r\n\r\nThe ics file that I&#39;m sending is:\r\n\r\n\r\n`BEGIN:VCALENDAR\r\nVERSION:1.0\r\nPRODID:-//Michael Angstadt//biweekly 0.6.0//EN\r\nMETHOD:REQUEST\r\nBEGIN:VEVENT\r\nDTSTAMP:20170123T115919Z\r\nORGANIZER:mailto:x@y.com\r\nUID:12345678\r\nCOMMENT:Event Invitation\r\nDTSTART:20170123T120319Z\r\nSUMMARY;LANGUAGE=en-us:Event Invitation\r\nDURATION:PT30M\r\nATTENDEE;RSVP=TRUE;ROLE=CHAIR;PARTSTAT=NEEDS-ACTION;CN=XY:mail\r\n to:x.y@gmail.com\r\nEND:VEVENT\r\nEND:VCALENDAR`\r\n\r\nFound similar problems on stackoverflow, tried the mentioned solutions but nothing helped.\r\nhttps://stackoverflow.com/questions/19523861/multipart-email-with-text-and-calendar-outlook-doesnt-recognize-ics\r\n\r\nhttps://stackoverflow.com/questions/461889/sending-outlook-meeting-requests-without-outlook?noredirect=1&amp;lq=1\r\n\r\nhttps://stackoverflow.com/questions/32506065/java-ics-calendar-format-not-showing-time-when-imported-in-outlook-or-thunderbi\r\n\r\n\r\n ","title":"Java: ics not read in outlook","body":"<p>I have written java code to send calendar invite. It works good with gmail, thunderbird. The clients read the ics and show the invitation properly.</p>\n\n<p>But the same mail doesn't seem to be working on Microsoft Outlook. Outlook doesn't recognize the mail as calendar invite and hence no accept, reject buttons are shown.</p>\n\n<p>Following is the code snippet used:</p>\n\n<pre><code>MimeMessage message = new MimeMessage(session);\nmessage.addHeaderLine(\"method=REQUEST\");\nmessage.addHeaderLine(\"charset=UTF-8\");\nmessage.addHeaderLine(\"component=VEVENT\"); \n\nBodyPart textBodyPart = new MimeBodyPart();\ntextBodyPart.setContent(\"Invitation for an event.\", \"text/plain\");\n\nBodyPart messageBodyPart = new MimeBodyPart();\nmessageBodyPart.addHeader(\"Content-Class\", \"urn:content-classes:calendarmessage\");\nmessageBodyPart.addHeader(\"Content-ID\", \"calendar_message\");\nmessageBodyPart.setContent(inviteMessage, \"text/calendar\");\n\nMultipart multipart = new MimeMultipart(\"alternative\");\nmultipart.addBodyPart(textBodyPart);\nmultipart.addBodyPart(messageBodyPart);\nmessage.setContent(multipart);\n</code></pre>\n\n<p>The ics file that I'm sending is:</p>\n\n<p><code>BEGIN:VCALENDAR\nVERSION:1.0\nPRODID:-//Michael Angstadt//biweekly 0.6.0//EN\nMETHOD:REQUEST\nBEGIN:VEVENT\nDTSTAMP:20170123T115919Z\nORGANIZER:mailto:x@y.com\nUID:12345678\nCOMMENT:Event Invitation\nDTSTART:20170123T120319Z\nSUMMARY;LANGUAGE=en-us:Event Invitation\nDURATION:PT30M\nATTENDEE;RSVP=TRUE;ROLE=CHAIR;PARTSTAT=NEEDS-ACTION;CN=XY:mail\n to:x.y@gmail.com\nEND:VEVENT\nEND:VCALENDAR</code></p>\n\n<p>Found similar problems on stackoverflow, tried the mentioned solutions but nothing helped.\n<a href=\"https://stackoverflow.com/questions/19523861/multipart-email-with-text-and-calendar-outlook-doesnt-recognize-ics\">Multipart email with text and calendar: Outlook doesn&#39;t recognize ics</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/461889/sending-outlook-meeting-requests-without-outlook?noredirect=1&amp;lq=1\">Sending Outlook meeting requests without Outlook?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/32506065/java-ics-calendar-format-not-showing-time-when-imported-in-outlook-or-thunderbi\">Java, ICS calendar format not showing time when imported in Outlook or Thunderbird</a></p>\n"},{"tags":["java","sockets","zip","serversocket","zip4j"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643235248,"post_id":70870764,"comment_id":125289251,"body_markdown":"I would make use of [`ZipOutputStream#write(byte[], int, int)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/zip/ZipOutputStream.html#write(byte%5B%5D,int,int)) instead of `write(byte[])`.  `write(byte[])` is going to write ALL the bytes in the array, but the array may not be full (hence the use of `readLen`)","body":"I would make use of <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/zip/ZipOutputStream.html#write(byte%5B%5D,int,int)\" rel=\"nofollow noreferrer\"><code>ZipOutputStream#write(byte[], int, int)</code></a> instead of <code>write(byte[])</code>.  <code>write(byte[])</code> is going to write ALL the bytes in the array, but the array may not be full (hence the use of <code>readLen</code>)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643235309,"post_id":70870764,"comment_id":125289261,"body_markdown":"I&#39;d also be making a lot more use of [The try-with-resources Statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)","body":"I&#39;d also be making a lot more use of <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The try-with-resources Statement</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643235622,"post_id":70870764,"comment_id":125289361,"body_markdown":"You might consider having a look at [How to zip the content of a directory in Java](https://stackoverflow.com/questions/51833423/how-to-zip-the-content-of-a-directory-in-java/51833575#51833575) - forget about the socket for now, get the zip workflow to work","body":"You might consider having a look at <a href=\"https://stackoverflow.com/questions/51833423/how-to-zip-the-content-of-a-directory-in-java/51833575#51833575\">How to zip the content of a directory in Java</a> - forget about the socket for now, get the zip workflow to work"},{"owner":{"account_id":18246452,"reputation":11,"user_id":14171758,"display_name":"Xenu"},"score":0,"creation_date":1643289945,"post_id":70870764,"comment_id":125303465,"body_markdown":"@MadProgrammer so I should use java standard zip library instead of external and then try to do something with sockets","body":"@MadProgrammer so I should use java standard zip library instead of external and then try to do something with sockets"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643315761,"post_id":70870764,"comment_id":125314196,"body_markdown":"You ca use zip4j, but you need to be sure you&#39;re managing the buffer correctly","body":"You ca use zip4j, but you need to be sure you&#39;re managing the buffer correctly"},{"owner":{"account_id":18246452,"reputation":11,"user_id":14171758,"display_name":"Xenu"},"score":0,"creation_date":1643750097,"post_id":70870764,"comment_id":125421794,"body_markdown":"Hymmm, for some reason it works with standard java zipping library so I think I&#39;ll just stick with it as it actually has all the stuff that I need thanks to @MadProgrammer for giving me some directions on how to tackle the problem :)","body":"Hymmm, for some reason it works with standard java zipping library so I think I&#39;ll just stick with it as it actually has all the stuff that I need thanks to @MadProgrammer for giving me some directions on how to tackle the problem :)"}],"owner":{"account_id":18246452,"reputation":11,"user_id":14171758,"display_name":"Xenu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643234101,"creation_date":1643234101,"question_id":70870764,"body_markdown":"So I have this thing that I&#39;m making and the problem is that I think that some bytes are lost while the file is compressed and send to server as well as saved locally. I was able to send data while not using ``ByteArrayOutputStream`` but I have to use it and can&#39;t just use socket&#39;s ``OutputStream`` directly as I need each sent file to have somwhat unique ID. Also sizes of out.zip and out2.zip are different by around 10kB (out2.zip is smaller)\r\nhere is Log dump: https://pastebin.com/UyTqnRYc\r\n\r\n\r\nFunction that sends data in chunks\r\n```public static void addMultipleNestedDirectoriesToZipFileUsingPacketsSingle(List&lt;File&gt; pathsToDirectories, CompressionMethod compressionMethod,OutputStream outputStream, String rootDirectoryName) throws IOException {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ZipOutputStream zos = new ZipOutputStream(baos);\r\n        ZipParameters zipParameters = buildZipParameters(compressionMethod);\r\n        ObjectOutputStream objOS = new ObjectOutputStream(outputStream);\r\n        File f = new File(&quot;out2.zip&quot;);\r\n        FileOutputStream fos = new FileOutputStream(f);\r\n        for (File directory:pathsToDirectories) {\r\n            String relativeRootDirectory = directory.getName();\r\n            List&lt;File&gt; filesAndDirectories = Arrays.stream(Objects.requireNonNull(directory.listFiles())).toList();\r\n            for (File somefile:filesAndDirectories) {\r\n\r\n                if(somefile.isDirectory()){\r\n                    addDirectoryToZip(zos,somefile,zipParameters,relativeRootDirectory,rootDirectoryName);\r\n                }\r\n                else\r\n                {\r\n                    if (zipParameters.getCompressionMethod() == CompressionMethod.STORE) {\r\n                        zipParameters.setEntrySize(somefile.length());\r\n                    }\r\n                    byte[] buff = new byte[4096];\r\n                    zipParameters.setFileNameInZip(rootDirectoryName+ &quot;/&quot;+somefile.getName()); //YIKES\r\n                    zos.putNextEntry(zipParameters);\r\n                    try(InputStream inputStream = new FileInputStream(somefile)) {\r\n                        int readLen;\r\n                        while (((readLen = inputStream.read(buff)) != -1)) {\r\n                            zos.write(buff);\r\n                            byte[] b = baos.toByteArray();\r\n                            System.out.println(&quot;written :&quot;+baos.toByteArray().length);\r\n                            objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\r\n                            fos.write(baos.toByteArray());\r\n                            baos.reset();\r\n                            baos.flush();\r\n                        }\r\n                    }\r\n                    zos.closeEntry();\r\n                }\r\n\r\n            }\r\n        }\r\n        objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\r\n        zos.flush();\r\n\r\n\r\n        System.out.println(&quot;REST OF IT :&quot;+ Arrays.toString(baos.toByteArray()));\r\n        System.out.println(baos.toByteArray().length);\r\n        objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\r\n\r\n        fos.write(baos.toByteArray());\r\n        baos.reset();\r\n        System.out.println(&quot;REST OF IT :&quot;+ Arrays.toString(baos.toByteArray()));\r\n        fos.flush();\r\n        fos.close();\r\n        objOS.writeObject(new TransportDataModel((byte) -1,new byte[0]));\r\n\r\n        zos.close();\r\n\r\n    }\r\n```\r\n\r\nRecord used as a packet\r\n```\r\n\r\nimport java.io.Serializable;\r\n\r\npublic record TransportDataModel(byte id, byte[] data) implements Serializable {\r\n}\r\n\r\n```\r\n\r\nServer code: \r\n```\r\npublic Server(int port)\r\n    {\r\n        // starts server and waits for a connection\r\n        try\r\n        {\r\n            server = new ServerSocket(port);\r\n            System.out.println(&quot;Server started&quot;);\r\n\r\n            System.out.println(&quot;Waiting for a client ...&quot;);\r\n\r\n            socket = server.accept();\r\n            System.out.println(&quot;Client accepted&quot;);\r\n\r\n            \r\n            in = new ObjectInputStream(socket.getInputStream());\r\n            File f = new File(&quot;out.zip&quot;);\r\n            FileOutputStream outputStream = new FileOutputStream(f);\r\n            \r\n\r\n            TransportDataModel transportDataModel;\r\n            while (true) {\r\n                transportDataModel= (TransportDataModel) in.readObject();\r\n                    if (transportDataModel.id() == -1) {\r\n                        break;\r\n                    }\r\n                    if(transportDataModel.data().length != 0)\r\n                    {\r\n                        //System.out.println(transportDataModel.id());\r\n                        outputStream.write(transportDataModel.data());\r\n                    }\r\n\r\n\r\n            }\r\n            outputStream.flush();\r\n            outputStream.close();\r\n            System.out.println(&quot;Closing connection&quot;);\r\n\r\n            // close connection\r\n            socket.close();\r\n            in.close();\r\n            ZipFile zipFile = new ZipFile(&quot;out.zip&quot;);\r\n            zipFile.extractAll(&quot;/home/xenu/IdeaProjects/BBT-BasicBackupTool&quot;);\r\n        }\r\n        catch(IOException i)\r\n        {\r\n            i.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```","title":"Using Zip4J ZipOutputStream to send data to server socket","body":"<p>So I have this thing that I'm making and the problem is that I think that some bytes are lost while the file is compressed and send to server as well as saved locally. I was able to send data while not using <code>ByteArrayOutputStream</code> but I have to use it and can't just use socket's <code>OutputStream</code> directly as I need each sent file to have somwhat unique ID. Also sizes of out.zip and out2.zip are different by around 10kB (out2.zip is smaller)\nhere is Log dump: <a href=\"https://pastebin.com/UyTqnRYc\" rel=\"nofollow noreferrer\">https://pastebin.com/UyTqnRYc</a></p>\n<p>Function that sends data in chunks</p>\n<pre><code>        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ZipOutputStream zos = new ZipOutputStream(baos);\n        ZipParameters zipParameters = buildZipParameters(compressionMethod);\n        ObjectOutputStream objOS = new ObjectOutputStream(outputStream);\n        File f = new File(&quot;out2.zip&quot;);\n        FileOutputStream fos = new FileOutputStream(f);\n        for (File directory:pathsToDirectories) {\n            String relativeRootDirectory = directory.getName();\n            List&lt;File&gt; filesAndDirectories = Arrays.stream(Objects.requireNonNull(directory.listFiles())).toList();\n            for (File somefile:filesAndDirectories) {\n\n                if(somefile.isDirectory()){\n                    addDirectoryToZip(zos,somefile,zipParameters,relativeRootDirectory,rootDirectoryName);\n                }\n                else\n                {\n                    if (zipParameters.getCompressionMethod() == CompressionMethod.STORE) {\n                        zipParameters.setEntrySize(somefile.length());\n                    }\n                    byte[] buff = new byte[4096];\n                    zipParameters.setFileNameInZip(rootDirectoryName+ &quot;/&quot;+somefile.getName()); //YIKES\n                    zos.putNextEntry(zipParameters);\n                    try(InputStream inputStream = new FileInputStream(somefile)) {\n                        int readLen;\n                        while (((readLen = inputStream.read(buff)) != -1)) {\n                            zos.write(buff);\n                            byte[] b = baos.toByteArray();\n                            System.out.println(&quot;written :&quot;+baos.toByteArray().length);\n                            objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\n                            fos.write(baos.toByteArray());\n                            baos.reset();\n                            baos.flush();\n                        }\n                    }\n                    zos.closeEntry();\n                }\n\n            }\n        }\n        objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\n        zos.flush();\n\n\n        System.out.println(&quot;REST OF IT :&quot;+ Arrays.toString(baos.toByteArray()));\n        System.out.println(baos.toByteArray().length);\n        objOS.writeObject(new TransportDataModel((byte) 1,baos.toByteArray()));\n\n        fos.write(baos.toByteArray());\n        baos.reset();\n        System.out.println(&quot;REST OF IT :&quot;+ Arrays.toString(baos.toByteArray()));\n        fos.flush();\n        fos.close();\n        objOS.writeObject(new TransportDataModel((byte) -1,new byte[0]));\n\n        zos.close();\n\n    }\n</code></pre>\n<p>Record used as a packet</p>\n<pre><code>\nimport java.io.Serializable;\n\npublic record TransportDataModel(byte id, byte[] data) implements Serializable {\n}\n\n</code></pre>\n<p>Server code:</p>\n<pre><code>public Server(int port)\n    {\n        // starts server and waits for a connection\n        try\n        {\n            server = new ServerSocket(port);\n            System.out.println(&quot;Server started&quot;);\n\n            System.out.println(&quot;Waiting for a client ...&quot;);\n\n            socket = server.accept();\n            System.out.println(&quot;Client accepted&quot;);\n\n            \n            in = new ObjectInputStream(socket.getInputStream());\n            File f = new File(&quot;out.zip&quot;);\n            FileOutputStream outputStream = new FileOutputStream(f);\n            \n\n            TransportDataModel transportDataModel;\n            while (true) {\n                transportDataModel= (TransportDataModel) in.readObject();\n                    if (transportDataModel.id() == -1) {\n                        break;\n                    }\n                    if(transportDataModel.data().length != 0)\n                    {\n                        //System.out.println(transportDataModel.id());\n                        outputStream.write(transportDataModel.data());\n                    }\n\n\n            }\n            outputStream.flush();\n            outputStream.close();\n            System.out.println(&quot;Closing connection&quot;);\n\n            // close connection\n            socket.close();\n            in.close();\n            ZipFile zipFile = new ZipFile(&quot;out.zip&quot;);\n            zipFile.extractAll(&quot;/home/xenu/IdeaProjects/BBT-BasicBackupTool&quot;);\n        }\n        catch(IOException i)\n        {\n            i.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","react-native","google-play-console","prelaunch"],"comments":[{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":1,"creation_date":1646424208,"post_id":70870543,"comment_id":126128059,"body_markdown":"Did you learn anything else about this? I got the same error on the exact same test device. It looks like it crashed while in a `WebView`. The bot clicked a button that adjusted the website layout and this led to the crash: https://streamable.com/7k8irj","body":"Did you learn anything else about this? I got the same error on the exact same test device. It looks like it crashed while in a <code>WebView</code>. The bot clicked a button that adjusted the website layout and this led to the crash: <a href=\"https://streamable.com/7k8irj\" rel=\"nofollow noreferrer\">streamable.com/7k8irj</a>"},{"owner":{"account_id":1429043,"reputation":2724,"user_id":1351873,"accept_rate":66,"display_name":"Sergio Viudes"},"score":0,"creation_date":1666029725,"post_id":70870543,"comment_id":130833919,"body_markdown":"Same issue here. Did you find the problem?","body":"Same issue here. Did you find the problem?"}],"owner":{"account_id":24065285,"reputation":31,"user_id":18041948,"display_name":"noorboeing777"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1643233976,"creation_date":1643232834,"question_id":70870543,"body_markdown":"I&#39;m getting this error in pre-lauch report and have looked everywhere on the internet but haven&#39;t found a solution. I&#39;m not sure how to correct this error. Our application is written in react-native. Please I would really appreciate any help\r\n\r\n**Error in Pre-launch report:**\r\n\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: com.nuba.mobile.android, PID: 18007\r\njava.lang.IllegalStateException: Cannot perform this action on a sealed instance.\r\n\tat android.view.accessibility.AccessibilityNodeInfo.enforceNotSealed(AccessibilityNodeInfo.java:2992)\r\n\tat android.view.accessibility.AccessibilityNodeInfo.setSource(AccessibilityNodeInfo.java:818)\r\n\tat android.view.accessibility.AccessibilityNodeInfo.setSource(AccessibilityNodeInfo.java:795)\r\n\tat android.view.accessibility.AccessibilityNodeInfo.obtain(AccessibilityNodeInfo.java:3008)\r\n\tat android.view.View.createAccessibilityNodeInfoInternal(View.java:7897)\r\n\tat android.view.View.createAccessibilityNodeInfo(View.java:7883)\r\n\tat android.view.AccessibilityInteractionController$AccessibilityNodePrefetcher.prefetchDescendantsOfRealNode(AccessibilityInteractionController.java:1051)\r\n\tat android.view.AccessibilityInteractionController$AccessibilityNodePrefetcher.prefetchAccessibilityNodeInfos(AccessibilityInteractionController.java:876)\r\n\tat android.view.AccessibilityInteractionController.findAccessibilityNodeInfoByAccessibilityIdUiThread(AccessibilityInteractionController.java:199)\r\n\tat android.view.AccessibilityInteractionController.-wrap1(Unknown Source:0)\r\n\tat android.view.AccessibilityInteractionController$PrivateHandler.handleMessage(AccessibilityInteractionController.java:1225)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:105)\r\n\tat android.os.Looper.loop(Looper.java:164)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6938)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n```\r\n\r\n**They tested it on this device for example.**\r\n[enter image description here][1]\r\n\r\n**I have attached the logcat**\r\nhttps://codeshare.io/78O6Z1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dCq1N.png","title":"How to solve: java.lang.IllegalStateException: Cannot perform this action on a sealed instance","body":"<p>I'm getting this error in pre-lauch report and have looked everywhere on the internet but haven't found a solution. I'm not sure how to correct this error. Our application is written in react-native. Please I would really appreciate any help</p>\n<p><strong>Error in Pre-launch report:</strong></p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.nuba.mobile.android, PID: 18007\njava.lang.IllegalStateException: Cannot perform this action on a sealed instance.\n    at android.view.accessibility.AccessibilityNodeInfo.enforceNotSealed(AccessibilityNodeInfo.java:2992)\n    at android.view.accessibility.AccessibilityNodeInfo.setSource(AccessibilityNodeInfo.java:818)\n    at android.view.accessibility.AccessibilityNodeInfo.setSource(AccessibilityNodeInfo.java:795)\n    at android.view.accessibility.AccessibilityNodeInfo.obtain(AccessibilityNodeInfo.java:3008)\n    at android.view.View.createAccessibilityNodeInfoInternal(View.java:7897)\n    at android.view.View.createAccessibilityNodeInfo(View.java:7883)\n    at android.view.AccessibilityInteractionController$AccessibilityNodePrefetcher.prefetchDescendantsOfRealNode(AccessibilityInteractionController.java:1051)\n    at android.view.AccessibilityInteractionController$AccessibilityNodePrefetcher.prefetchAccessibilityNodeInfos(AccessibilityInteractionController.java:876)\n    at android.view.AccessibilityInteractionController.findAccessibilityNodeInfoByAccessibilityIdUiThread(AccessibilityInteractionController.java:199)\n    at android.view.AccessibilityInteractionController.-wrap1(Unknown Source:0)\n    at android.view.AccessibilityInteractionController$PrivateHandler.handleMessage(AccessibilityInteractionController.java:1225)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6938)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n</code></pre>\n<p><strong>They tested it on this device for example.</strong>\n<a href=\"https://i.stack.imgur.com/dCq1N.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>I have attached the logcat</strong>\n<a href=\"https://codeshare.io/78O6Z1\" rel=\"nofollow noreferrer\">https://codeshare.io/78O6Z1</a></p>\n"},{"tags":["java","google-chrome","encryption"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1643270750,"post_id":70870252,"comment_id":125296223,"body_markdown":"_... I am aware that credentials **prior to** the chrome v80 (chromium equivalent) can no longer simply be &quot;decrypted&quot; through the cryptunprodecteddata method..._: The new method (AES/GCM) is not used prior to, but **from incl.** v80. In v79 and before the old method (DPAPI) was used.","body":"<i>... I am aware that credentials <b>prior to</b> the chrome v80 (chromium equivalent) can no longer simply be &quot;decrypted&quot; through the cryptunprodecteddata method...</i>: The new method (AES/GCM) is not used prior to, but <b>from incl.</b> v80. In v79 and before the old method (DPAPI) was used."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1643270995,"post_id":70870252,"comment_id":125296300,"body_markdown":"_...all my old credentials when attempting to decrypt them through the old process (**despite having the v10 prefix**)..._: Why are you trying to decrypt credentials with the v10 prefix using DPAPI (old method)? v10 refers to credentials encrypted with AES/GCM (new method).","body":"<i>...all my old credentials when attempting to decrypt them through the old process (<b>despite having the v10 prefix</b>)...</i>: Why are you trying to decrypt credentials with the v10 prefix using DPAPI (old method)? v10 refers to credentials encrypted with AES/GCM (new method)."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1643271093,"post_id":70870252,"comment_id":125296338,"body_markdown":"I&#39;m not sure if I&#39;m just misunderstanding the question or if you&#39;re confusing something, I recommend that you read: http://xenarmor.com/how-to-recover-saved-passwords-google-chrome/","body":"I&#39;m not sure if I&#39;m just misunderstanding the question or if you&#39;re confusing something, I recommend that you read: <a href=\"http://xenarmor.com/how-to-recover-saved-passwords-google-chrome/\" rel=\"nofollow noreferrer\">xenarmor.com/how-to-recover-saved-passwords-google-chrome</a>"},{"owner":{"account_id":24065062,"reputation":17,"user_id":18041750,"display_name":"Xefer"},"score":0,"creation_date":1643303563,"post_id":70870252,"comment_id":125309770,"body_markdown":"The crypt32util thing is the DPAPI, i just forgot what it was called, but pretty much I am checking whether it has the v10 prefix, and if it does it means it is v80+ meaning that I try the AES/GCM method, however my old passwords still have the v10 prefix, but when i try to decrypt through aes/gcm i get the AEADBadTagException\n\nAlso, thanks for this resource [ http://xenarmor.com/how-to-recover-saved-passwords-google-chrome/ ]  but this is also one of the ones I have used but it still only works sometimes","body":"The crypt32util thing is the DPAPI, i just forgot what it was called, but pretty much I am checking whether it has the v10 prefix, and if it does it means it is v80+ meaning that I try the AES/GCM method, however my old passwords still have the v10 prefix, but when i try to decrypt through aes/gcm i get the AEADBadTagException  Also, thanks for this resource [ <a href=\"http://xenarmor.com/how-to-recover-saved-passwords-google-chrome/\" rel=\"nofollow noreferrer\">xenarmor.com/how-to-recover-saved-passwords-google-chrome</a> ]  but this is also one of the ones I have used but it still only works sometimes"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1643355197,"post_id":70870252,"comment_id":125322168,"body_markdown":"Passwords with v10 prefix are generated with the new method (the old method does not prepend a v10). Since decryption seems to work for some passwords with v10 prefix, the implementation itself seems to work. And since the processing of ciphertext, nonce and tag has not changed since v80 to my knowledge, I would guess a problem with the master key. Perhaps the master key for the passwords that can&#39;t be decrypted is different than the current master key.","body":"Passwords with v10 prefix are generated with the new method (the old method does not prepend a v10). Since decryption seems to work for some passwords with v10 prefix, the implementation itself seems to work. And since the processing of ciphertext, nonce and tag has not changed since v80 to my knowledge, I would guess a problem with the master key. Perhaps the master key for the passwords that can&#39;t be decrypted is different than the current master key."}],"owner":{"account_id":24065062,"reputation":17,"user_id":18041750,"display_name":"Xefer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643233506,"creation_date":1643231208,"question_id":70870252,"body_markdown":"[The following thread is posted under the same tags as a similar thread to which I will make a reference: https://stackoverflow.com/questions/65939796/java-how-do-i-decrypt-chrome-cookies ]\r\n\r\nHello everyone, as you have read in the title, I am getting a AEADBadTagException whilst attempting to decrypt my credentials, I am aware that credentials prior to the chrome v80 (chromium equivalent) can no longer simply be &quot;decrypted&quot; through the cryptunprodecteddata method. I have done some reading into the new ways chrome deals with and figured out they were encrypted with aes-256. And i figured out how to decrypt that too.\r\nHowever, this only works for recently saved credentials, all my old credentials when attempting to decrypt them through the old process (despite having the v10 prefix) throw the AEADBadTagException\r\n\r\nhttps://stackoverflow.com/questions/65939796/java-how-do-i-decrypt-chrome-cookies\r\nThis is where i sourced the base for my code ( I am aware it is pretty much a copy paste but i do credit the author within my code )\r\n```\r\nHashMap&lt;String, String&gt; dataMap = new HashMap&lt;&gt;();\r\nif (new String(encryptedCred).contains(&quot;v10&quot;)) {\r\n    try {\r\n        byte[] nonce = Arrays.copyOfRange(encryptedCred, 3, 3 + 12);\r\n        byte[] ciphertextTag = Arrays.copyOfRange(encryptedCred, 3 + 12, encryptedCred.length);\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, nonce);\r\n        assert masterKey != null;\r\n        SecretKeySpec keySpec = new SecretKeySpec(masterKey, &quot;AES&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmParameterSpec);\r\n        byte[] decryptedCred = cipher.doFinal(ciphertextTag);\r\n        dataMap.put(&quot;origin_url&quot;, resultSet.getString(&quot;origin_url&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;));\r\n        dataMap.put(&quot;username_value&quot;, resultSet.getString(&quot;username_value&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;));\r\n        dataMap.put(&quot;password_value&quot;, new String(decryptedCred).replace(&quot;\\\\/&quot;, &quot;/&quot;));\r\n    } catch (AEADBadTagException e){\r\n        e.printStackTrace();\r\n        bad_counter++;\r\n    }\r\nelse {\r\n    Crypt32Util.blablabla()\r\n}\r\n```\r\n\r\nWhat else have I tried:\r\nAES/GCM/PKCS5Padding\r\nAES/GCM/NoPadding\r\n\r\nAttempt to decrypt the result with cryptutilunprtectedtata\r\nAttempt to decrypt with cryptutilunprtectedtata and then aes-256\r\n\r\nSo now I am starting to wonder whether or not it is possible to decrypt previously stored credentials that are still past chrome v80","title":"AEADBadTagException whilst decrypting my chrome credentials","body":"<p>[The following thread is posted under the same tags as a similar thread to which I will make a reference: https://stackoverflow.com/questions/65939796/java-how-do-i-decrypt-chrome-cookies ]</p>\n<p>Hello everyone, as you have read in the title, I am getting a AEADBadTagException whilst attempting to decrypt my credentials, I am aware that credentials prior to the chrome v80 (chromium equivalent) can no longer simply be &quot;decrypted&quot; through the cryptunprodecteddata method. I have done some reading into the new ways chrome deals with and figured out they were encrypted with aes-256. And i figured out how to decrypt that too.\nHowever, this only works for recently saved credentials, all my old credentials when attempting to decrypt them through the old process (despite having the v10 prefix) throw the AEADBadTagException</p>\n<p><a href=\"https://stackoverflow.com/questions/65939796/java-how-do-i-decrypt-chrome-cookies\">Java - How do I decrypt Chrome cookies?</a>\nThis is where i sourced the base for my code ( I am aware it is pretty much a copy paste but i do credit the author within my code )</p>\n<pre><code>HashMap&lt;String, String&gt; dataMap = new HashMap&lt;&gt;();\nif (new String(encryptedCred).contains(&quot;v10&quot;)) {\n    try {\n        byte[] nonce = Arrays.copyOfRange(encryptedCred, 3, 3 + 12);\n        byte[] ciphertextTag = Arrays.copyOfRange(encryptedCred, 3 + 12, encryptedCred.length);\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, nonce);\n        assert masterKey != null;\n        SecretKeySpec keySpec = new SecretKeySpec(masterKey, &quot;AES&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmParameterSpec);\n        byte[] decryptedCred = cipher.doFinal(ciphertextTag);\n        dataMap.put(&quot;origin_url&quot;, resultSet.getString(&quot;origin_url&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;));\n        dataMap.put(&quot;username_value&quot;, resultSet.getString(&quot;username_value&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;));\n        dataMap.put(&quot;password_value&quot;, new String(decryptedCred).replace(&quot;\\\\/&quot;, &quot;/&quot;));\n    } catch (AEADBadTagException e){\n        e.printStackTrace();\n        bad_counter++;\n    }\nelse {\n    Crypt32Util.blablabla()\n}\n</code></pre>\n<p>What else have I tried:\nAES/GCM/PKCS5Padding\nAES/GCM/NoPadding</p>\n<p>Attempt to decrypt the result with cryptutilunprtectedtata\nAttempt to decrypt with cryptutilunprtectedtata and then aes-256</p>\n<p>So now I am starting to wonder whether or not it is possible to decrypt previously stored credentials that are still past chrome v80</p>\n"},{"tags":["java","sonarqube"],"answers":[{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615707953,"creation_date":1615707953,"answer_id":66622193,"question_id":66622142,"body_markdown":"Try this.\r\n\r\n    if (splitStrings.length == 2\r\n        &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)\r\n            || Integer.parseInt(splitStrings[1]) &gt; 100\r\n            || Integer.parseInt(splitStrings[1]) &lt; 1)) {\r\n        throw new IllegalArgumentException(&quot;Invalid Input&quot;);\r\n    }\r\n","title":"Merge this if statement with the enclosing one","body":"<p>Try this.</p>\n<pre><code>if (splitStrings.length == 2\n    &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)\n        || Integer.parseInt(splitStrings[1]) &gt; 100\n        || Integer.parseInt(splitStrings[1]) &lt; 1)) {\n    throw new IllegalArgumentException(&quot;Invalid Input&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19075915,"reputation":803,"user_id":13929206,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615708008,"creation_date":1615708008,"answer_id":66622198,"question_id":66622142,"body_markdown":"You should merge them by &amp;&amp; between them and wrap the second with brackets, like:\r\n```\r\nif(splitStrings.length == 2 &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;) || Integer.parseInt(splitStrings[1]) &gt; 100 || Integer.parseInt(splitStrings[1]) &lt; 1)){\r\n    //code here\r\n}\r\n```","title":"Merge this if statement with the enclosing one","body":"<p>You should merge them by &amp;&amp; between them and wrap the second with brackets, like:</p>\n<pre><code>if(splitStrings.length == 2 &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;) || Integer.parseInt(splitStrings[1]) &gt; 100 || Integer.parseInt(splitStrings[1]) &lt; 1)){\n    //code here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615709285,"creation_date":1615709285,"answer_id":66622320,"question_id":66622142,"body_markdown":"You could do three things:\r\n 1. Either you need to chain the conditions as below:\r\n```java\r\nif (splitStrings.length == 2\r\n    &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)\r\n        || Integer.parseInt(splitStrings[1]) &gt; 100\r\n        || Integer.parseInt(splitStrings[1]) &lt; 1)) {\r\n    throw new IllegalArgumentException(&quot;Invalid Input&quot;);\r\n}\r\n```\r\n\r\n 2. You could declare local variable for `Integer.parseInt(splitStrings[1])` inside the first `if` after adding the matches condition in it.\r\n```java\r\nif (splitStrings.length == 2 &amp;&amp; splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)) {\r\n    int val = Integer.parseInt(splitStrings[1]);\r\n    if (val &gt; 100 || val &lt; 1)) {\r\n        throw new IllegalArgumentException(&quot;Invalid Input&quot;);\r\n    }\r\n}\r\n```\r\n\r\n3. Even though i won&#39;t recommend it, you could also suppress the warning using `//NOSONAR` in the line in which warning is displayed or add `@SuppressWarnings(&quot;squid:S1066&quot;)` at the method level.","title":"Merge this if statement with the enclosing one","body":"<p>You could do three things:</p>\n<ol>\n<li>Either you need to chain the conditions as below:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>if (splitStrings.length == 2\n    &amp;&amp; (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)\n        || Integer.parseInt(splitStrings[1]) &gt; 100\n        || Integer.parseInt(splitStrings[1]) &lt; 1)) {\n    throw new IllegalArgumentException(&quot;Invalid Input&quot;);\n}\n</code></pre>\n<ol start=\"2\">\n<li>You could declare local variable for <code>Integer.parseInt(splitStrings[1])</code> inside the first <code>if</code> after adding the matches condition in it.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>if (splitStrings.length == 2 &amp;&amp; splitStrings[1].matches(&quot;\\\\d{1,3}&quot;)) {\n    int val = Integer.parseInt(splitStrings[1]);\n    if (val &gt; 100 || val &lt; 1)) {\n        throw new IllegalArgumentException(&quot;Invalid Input&quot;);\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Even though i won't recommend it, you could also suppress the warning using <code>//NOSONAR</code> in the line in which warning is displayed or add <code>@SuppressWarnings(&quot;squid:S1066&quot;)</code> at the method level.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615716991,"creation_date":1615716991,"answer_id":66623274,"question_id":66622142,"body_markdown":"`Integer.parseInt` may be skipped altogether if a better regexp is provided to check for the digits in the range [1..100], thus the conditions could be simplified:\r\n```java\r\nif (splitStrings.length == 2 &amp;&amp; !splitStrings[1].matches(&quot;(?!0)\\\\d{1,2}|100&quot;)) {\r\n    throw new IllegalArgumentException(&quot;Invalid Input&quot;);\r\n}\r\n```\r\n\r\n[Online demo](https://www.regexplanet.com/share/index.html?share=yyyydqxyjar) of the regexp: `(?!0)\\d{1,2}|100` validating _positive_ cases `0 &lt; x &lt;= 100`\r\n* `(?!0)\\d{1,2}` - 1 or 2 digit numbers except `0` excluded with negative lookahead `(?!0)`: 1 - 99\r\n* `|100` - OR `100`","title":"Merge this if statement with the enclosing one","body":"<p><code>Integer.parseInt</code> may be skipped altogether if a better regexp is provided to check for the digits in the range [1..100], thus the conditions could be simplified:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (splitStrings.length == 2 &amp;&amp; !splitStrings[1].matches(&quot;(?!0)\\\\d{1,2}|100&quot;)) {\n    throw new IllegalArgumentException(&quot;Invalid Input&quot;);\n}\n</code></pre>\n<p><a href=\"https://www.regexplanet.com/share/index.html?share=yyyydqxyjar\" rel=\"nofollow noreferrer\">Online demo</a> of the regexp: <code>(?!0)\\d{1,2}|100</code> validating <em>positive</em> cases <code>0 &lt; x &lt;= 100</code></p>\n<ul>\n<li><code>(?!0)\\d{1,2}</code> - 1 or 2 digit numbers except <code>0</code> excluded with negative lookahead <code>(?!0)</code>: 1 - 99</li>\n<li><code>|100</code> - OR <code>100</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17433686,"reputation":5225,"user_id":12637193,"display_name":"T N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643233409,"creation_date":1643233409,"answer_id":70870643,"question_id":66622142,"body_markdown":"In my opinion the assertion that combining if statements makes code more readable is flawed. Often it makes sense to ask a series of questions in sequence, especially when each part is asking an essentially independent question.\r\n\r\nThis can (in direct opposition of the SonarQube assertion) make each part more readable. It also allows for correct placement of useful comments in cases where the meaning is not stupidly obvious.\r\n\r\nAnother valid reason for nested if statements would be to follow certain easily recognized coding patterns. An example would be in ASP.Net applications where Page_Load methods may often have an if (!PostBack) block, which can then contain additional logic that may include additional nested conditions. If there is only one nested condition and it is combined, later changes may need to undo that merge. (There may be a case at that point for refactoring the logic into a separate method at that point, but that is a different subject.)\r\n\r\nThe question of whether or not to combine nested if statements should be left to the discretion and good judgement of the author (and code reviewer) based on which form is more readable and/or maintainable.\r\n\r\nIn your particular case, your logic is asking two questions: (1) &quot;Does the input have two parts?&quot; and (2) &quot;Is the second part valid&quot;?\r\n\r\nSo yes, your nested if statements can be combined into a single (but logically more complex) statement, but this is not necessarily better.","title":"Merge this if statement with the enclosing one","body":"<p>In my opinion the assertion that combining if statements makes code more readable is flawed. Often it makes sense to ask a series of questions in sequence, especially when each part is asking an essentially independent question.</p>\n<p>This can (in direct opposition of the SonarQube assertion) make each part more readable. It also allows for correct placement of useful comments in cases where the meaning is not stupidly obvious.</p>\n<p>Another valid reason for nested if statements would be to follow certain easily recognized coding patterns. An example would be in ASP.Net applications where Page_Load methods may often have an if (!PostBack) block, which can then contain additional logic that may include additional nested conditions. If there is only one nested condition and it is combined, later changes may need to undo that merge. (There may be a case at that point for refactoring the logic into a separate method at that point, but that is a different subject.)</p>\n<p>The question of whether or not to combine nested if statements should be left to the discretion and good judgement of the author (and code reviewer) based on which form is more readable and/or maintainable.</p>\n<p>In your particular case, your logic is asking two questions: (1) &quot;Does the input have two parts?&quot; and (2) &quot;Is the second part valid&quot;?</p>\n<p>So yes, your nested if statements can be combined into a single (but logically more complex) statement, but this is not necessarily better.</p>\n"}],"owner":{"account_id":13848005,"reputation":57,"user_id":15003265,"display_name":"user572490"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2151,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":5,"score":-2,"last_activity_date":1643233409,"creation_date":1615707522,"question_id":66622142,"body_markdown":"I&#39;m running my code on sonarqube, but it shows there&#39;s an issue with my code, saying&quot;Merge this if statement with the enclosing one.&quot; I tried it, but still have no idea how to solve it.\r\n```\r\nif (splitStrings.length == 2) {\r\n    if (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;) \r\n        || Integer.parseInt(splitStrings[1]) &gt; 100 \r\n        || Integer.parseInt(splitStrings[1]) &lt; 1) {\r\n            throw new IllegalArgumentException(&quot;Invalid Input&quot;);\r\n    }\r\n}\r\n```","title":"Merge this if statement with the enclosing one","body":"<p>I'm running my code on sonarqube, but it shows there's an issue with my code, saying&quot;Merge this if statement with the enclosing one.&quot; I tried it, but still have no idea how to solve it.</p>\n<pre><code>if (splitStrings.length == 2) {\n    if (!splitStrings[1].matches(&quot;\\\\d{1,3}&quot;) \n        || Integer.parseInt(splitStrings[1]) &gt; 100 \n        || Integer.parseInt(splitStrings[1]) &lt; 1) {\n            throw new IllegalArgumentException(&quot;Invalid Input&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643222778,"creation_date":1643222778,"answer_id":70868734,"question_id":70865875,"body_markdown":"Order matters. The first ant pattern that matches decides the access. So in your case:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    http\r\n        .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n        .authorizeRequests()\r\n            .antMatchers(&quot;/sa/abc/**&quot;).hasAnyAuthority(&quot;ABC&quot;)\r\n            .antMatchers(&quot;/sa/practices/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;)\r\n            .antMatchers(&quot;/sa/**&quot;).authenticated()\r\n\r\nNote that the least specific path is last.","title":"AntMatchers are not working in Spring Security","body":"<p>Order matters. The first ant pattern that matches decides the access. So in your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n    .authorizeRequests()\n        .antMatchers(&quot;/sa/abc/**&quot;).hasAnyAuthority(&quot;ABC&quot;)\n        .antMatchers(&quot;/sa/practices/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;)\n        .antMatchers(&quot;/sa/**&quot;).authenticated()\n</code></pre>\n<p>Note that the least specific path is last.</p>\n"}],"owner":{"account_id":887484,"reputation":784,"user_id":926572,"accept_rate":50,"display_name":"sonic boom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2835,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643620883,"answer_count":1,"score":0,"last_activity_date":1643233162,"creation_date":1643210558,"question_id":70865875,"body_markdown":"I&#39;ve two URLs in my application:\r\n\r\n- `/sa/abc` (which should be accessible to role - ABC)\r\n- `/sa/practice` (which should be accessible to role - ADMIN)\r\n\r\n\r\nFor this I&#39;ve configured:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n        .authorizeRequests()\r\n            .antMatchers(&quot;/sa/**&quot;).authenticated()\r\n            .antMatchers(&quot;/sa/abc/**&quot;).hasAnyAuthority(&quot;ABC&quot;)\r\n            .antMatchers(&quot;/sa/practices/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;)\r\n\r\n\r\nI was expecting user with role `ABC` will not be able to access `/sa/practices/link1`, but he is able to.\r\n\r\nAlso I want to know what will happen to the links which are not mentioned in `antMatchers`. My guess is they can be accessed without any issue regardless of the role.\r\n\r\nAm I correct?\r\n","title":"AntMatchers are not working in Spring Security","body":"<p>I've two URLs in my application:</p>\n<ul>\n<li><code>/sa/abc</code> (which should be accessible to role - ABC)</li>\n<li><code>/sa/practice</code> (which should be accessible to role - ADMIN)</li>\n</ul>\n<p>For this I've configured:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n    .authorizeRequests()\n        .antMatchers(&quot;/sa/**&quot;).authenticated()\n        .antMatchers(&quot;/sa/abc/**&quot;).hasAnyAuthority(&quot;ABC&quot;)\n        .antMatchers(&quot;/sa/practices/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;)\n</code></pre>\n<p>I was expecting user with role <code>ABC</code> will not be able to access <code>/sa/practices/link1</code>, but he is able to.</p>\n<p>Also I want to know what will happen to the links which are not mentioned in <code>antMatchers</code>. My guess is they can be accessed without any issue regardless of the role.</p>\n<p>Am I correct?</p>\n"},{"tags":["java","security","encryption"],"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1323161443,"post_id":8397047,"comment_id":10368110,"body_markdown":"Actually I&#39;m getting this exception when trying to use jasypt library. I posted a problem to their forum already: http://forum.jasypt.org/PBEWithMD5AndDES-SecretKeyFactory-not-available-td5051447.html","body":"Actually I&#39;m getting this exception when trying to use jasypt library. I posted a problem to their forum already: <a href=\"http://forum.jasypt.org/PBEWithMD5AndDES-SecretKeyFactory-not-available-td5051447.html\" rel=\"nofollow noreferrer\">forum.jasypt.org/&hellip;</a>"},{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":0,"creation_date":1323163409,"post_id":8397047,"comment_id":10368529,"body_markdown":"Have you installed the policy files as stated on this page? http://www.jasypt.org/dependencies.html","body":"Have you installed the policy files as stated on this page? <a href=\"http://www.jasypt.org/dependencies.html\" rel=\"nofollow noreferrer\">jasypt.org/dependencies.html</a>"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1323163727,"post_id":8397047,"comment_id":10368601,"body_markdown":"No, I didn&#39;t. Do you know how to add them to Maven project?","body":"No, I didn&#39;t. Do you know how to add them to Maven project?"},{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":0,"creation_date":1323163786,"post_id":8397047,"comment_id":10368615,"body_markdown":"You need to add them to the jdk itself","body":"You need to add them to the jdk itself"},{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":0,"creation_date":1323163879,"post_id":8397047,"comment_id":10368634,"body_markdown":"Actually when reading: http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html#SunJCEProvider it sais that SunJCEProvider is optional. You need PBEWithMD5AndDES and this is the provider responsible.","body":"Actually when reading: <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html#SunJCEProvider\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/technotes/guides/security/&hellip;</a> it sais that SunJCEProvider is optional. You need PBEWithMD5AndDES and this is the provider responsible."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1323164465,"post_id":8397047,"comment_id":10368764,"body_markdown":"`PBEWithMD5AndDES SecretKeyFactory not available`","body":"<code>PBEWithMD5AndDES SecretKeyFactory not available</code>"},{"owner":{"account_id":226759,"reputation":6029,"user_id":487980,"accept_rate":76,"display_name":"Flethuseo"},"score":0,"creation_date":1520867352,"post_id":8397047,"comment_id":85480354,"body_markdown":"For Java 1.8, I was getting the same error until I found a workaround mentioned in JDK-8185292. I added the following property in code and that fixed the problem:\nSystem.setProperty(&quot;jdk.crypto.KeyAgreement.legacyKDF&quot;,&quot;true&quot;);","body":"For Java 1.8, I was getting the same error until I found a workaround mentioned in JDK-8185292. I added the following property in code and that fixed the problem: System.setProperty(&quot;jdk.crypto.KeyAgreement.legacyKDF&quot;,&quot;true&zwnj;&#8203;&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643233032,"creation_date":1323160123,"answer_id":8397072,"question_id":8397047,"body_markdown":"This is a verified java bug. See https://bugs.openjdk.java.net/browse/JDK-7022467\r\n\r\nEDIT: Different java versions support different algorithms, you can also extend it with custom providers and so on. Oracle has a list for java 6 here http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html . For KeyFactory this is DSA.","title":"What &quot;SecretKeyFactory not available&quot; does mean?","body":"<p>This is a verified java bug. See <a href=\"https://bugs.openjdk.java.net/browse/JDK-7022467\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-7022467</a></p>\n<p>EDIT: Different java versions support different algorithms, you can also extend it with custom providers and so on. Oracle has a list for java 6 here <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/technotes/guides/security/SunProviders.html</a> . For KeyFactory this is DSA.</p>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1323165247,"creation_date":1323165247,"answer_id":8397993,"question_id":8397047,"body_markdown":"You don&#39;t really need to use `SecretKeyFactory`. You can create an AES key with the following;\r\n\r\n    byte[] keyData = ........ \r\n    SecretKeySpec key = new SecretKeySpec(keyData, &quot;AES&quot;);\r\n\r\nIf you want to do password based encryption (PBE) then simply choose a secure hashing algorithm that gives you a hash the same size as the required key. For example, if you want a 256 bit key for AES, here is a method to build the key;\r\n\r\n    private Key buildKey(String password) throws NoSuchAlgorithmException, UnsupportedEncodingException {\r\n      MessageDigest digester = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n      digester.update(password.getBytes(&quot;UTF-8&quot;));\r\n      byte[] key = digester.digest();\r\n      SecretKeySpec spec = new SecretKeySpec(key, &quot;AES&quot;);\r\n      return spec;\r\n    }\r\n\r\n**Edit:**  \r\nI would recommend against using MD5 and DES unless this is a play project, both have weaknesses and are considered obsolete.","title":"What &quot;SecretKeyFactory not available&quot; does mean?","body":"<p>You don't really need to use <code>SecretKeyFactory</code>. You can create an AES key with the following;</p>\n\n<pre><code>byte[] keyData = ........ \nSecretKeySpec key = new SecretKeySpec(keyData, \"AES\");\n</code></pre>\n\n<p>If you want to do password based encryption (PBE) then simply choose a secure hashing algorithm that gives you a hash the same size as the required key. For example, if you want a 256 bit key for AES, here is a method to build the key;</p>\n\n<pre><code>private Key buildKey(String password) throws NoSuchAlgorithmException, UnsupportedEncodingException {\n  MessageDigest digester = MessageDigest.getInstance(\"SHA-256\");\n  digester.update(password.getBytes(\"UTF-8\"));\n  byte[] key = digester.digest();\n  SecretKeySpec spec = new SecretKeySpec(key, \"AES\");\n  return spec;\n}\n</code></pre>\n\n<p><strong>Edit:</strong><br>\nI would recommend against using MD5 and DES unless this is a play project, both have weaknesses and are considered obsolete.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363466730,"creation_date":1363466730,"answer_id":15454536,"question_id":8397047,"body_markdown":"Not all versions of Java provide a `SecretKeyFactory` for &quot;AES&quot; in their default providers.\r\n\r\nIf you want to generate a new key, choose the desired number of bits (128, 192, or 256) from a `SecureRandom` instance, and use that random number to initialize a `SecretKeySpec` instance.\r\n\r\nIf you are using password-based encryption, create a `SecretKeyFactory` for the &quot;PBKDF2WithHmacSHA1&quot; algorithm, and use it to initialize a `SecretKeySpec` instance as [illustrated here.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/992413/3474","title":"What &quot;SecretKeyFactory not available&quot; does mean?","body":"<p>Not all versions of Java provide a <code>SecretKeyFactory</code> for \"AES\" in their default providers.</p>\n\n<p>If you want to generate a new key, choose the desired number of bits (128, 192, or 256) from a <code>SecureRandom</code> instance, and use that random number to initialize a <code>SecretKeySpec</code> instance.</p>\n\n<p>If you are using password-based encryption, create a <code>SecretKeyFactory</code> for the \"PBKDF2WithHmacSHA1\" algorithm, and use it to initialize a <code>SecretKeySpec</code> instance as <a href=\"https://stackoverflow.com/a/992413/3474\">illustrated here.</a></p>\n"},{"tags":[],"owner":{"account_id":993401,"reputation":679,"user_id":1009994,"accept_rate":70,"display_name":"Aerox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642004784,"creation_date":1642004784,"answer_id":70685024,"question_id":8397047,"body_markdown":"If you try to print all your providers, you probably missed the one that you need.\r\nTry to call this method and see what it prints out.\r\n\r\n    for (Object obj : java.security.Security.getProviders()) {\r\n        System.out.println(obj);\r\n    }\r\n\r\nIn case for example you need a specific provider (like the Bouncy Castle one), add the dependency to your App and add it on Security Providers as follows:\r\n\r\n    java.security.Security.addProvider(new BouncyCastleProvider());\r\n\r\nand then see again your provider list.\r\n\r\nGive a try with all of your algorithm and see which one are supported. An example can be done with jasypt encryption\r\n\r\n    import org.jasypt.encryption.pbe.StandardPBEStringEncryptor;\r\n    import org.jasypt.encryption.pbe.config.SimpleStringPBEConfig;\r\n    import org.jasypt.exceptions.EncryptionOperationNotPossibleException;\r\n    import org.jasypt.registry.AlgorithmRegistry;\r\n\r\nwith the following code:\r\n\r\n    Set&lt;String&gt; supported = new TreeSet&lt;&gt;();\r\n\tSet&lt;String&gt; unsupported = new TreeSet&lt;&gt;();\r\n\tfor (Object oAlgorithm : AlgorithmRegistry.getAllPBEAlgorithms()) {\r\n\t\tString algorithm = (String) oAlgorithm;\r\n\t\ttry {\r\n\t\t\tSimpleStringPBEConfig pbeConfig = new SimpleStringPBEConfig();\r\n\t\t\tpbeConfig.setAlgorithm(algorithm);\r\n\t\t\tpbeConfig.setPassword(&quot;changeme&quot;);\r\n\t\t\tStandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();\r\n\t\t\tencryptor.setConfig(pbeConfig);\r\n\t\t\tString encrypted = encryptor.encrypt(&quot;foo&quot;);\r\n\t\t\tString decrypted = encryptor.decrypt(encrypted);\r\n\t\t\tsupported.add(algorithm);\r\n\t\t} catch (EncryptionOperationNotPossibleException e) {\r\n\t\t\tunsupported.add(algorithm);\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(&quot;Supported&quot;);\r\n\tsupported.forEach((String alg) -&gt; System.out.println(&quot;   &quot; + alg));\r\n\tSystem.out.println(&quot;Unsupported&quot;);\r\n\tunsupported.forEach((String alg) -&gt; System.out.println(&quot;   &quot; + alg));","title":"What &quot;SecretKeyFactory not available&quot; does mean?","body":"<p>If you try to print all your providers, you probably missed the one that you need.\nTry to call this method and see what it prints out.</p>\n<pre><code>for (Object obj : java.security.Security.getProviders()) {\n    System.out.println(obj);\n}\n</code></pre>\n<p>In case for example you need a specific provider (like the Bouncy Castle one), add the dependency to your App and add it on Security Providers as follows:</p>\n<pre><code>java.security.Security.addProvider(new BouncyCastleProvider());\n</code></pre>\n<p>and then see again your provider list.</p>\n<p>Give a try with all of your algorithm and see which one are supported. An example can be done with jasypt encryption</p>\n<pre><code>import org.jasypt.encryption.pbe.StandardPBEStringEncryptor;\nimport org.jasypt.encryption.pbe.config.SimpleStringPBEConfig;\nimport org.jasypt.exceptions.EncryptionOperationNotPossibleException;\nimport org.jasypt.registry.AlgorithmRegistry;\n</code></pre>\n<p>with the following code:</p>\n<pre><code>Set&lt;String&gt; supported = new TreeSet&lt;&gt;();\nSet&lt;String&gt; unsupported = new TreeSet&lt;&gt;();\nfor (Object oAlgorithm : AlgorithmRegistry.getAllPBEAlgorithms()) {\n    String algorithm = (String) oAlgorithm;\n    try {\n        SimpleStringPBEConfig pbeConfig = new SimpleStringPBEConfig();\n        pbeConfig.setAlgorithm(algorithm);\n        pbeConfig.setPassword(&quot;changeme&quot;);\n        StandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();\n        encryptor.setConfig(pbeConfig);\n        String encrypted = encryptor.encrypt(&quot;foo&quot;);\n        String decrypted = encryptor.decrypt(encrypted);\n        supported.add(algorithm);\n    } catch (EncryptionOperationNotPossibleException e) {\n        unsupported.add(algorithm);\n    }\n}\nSystem.out.println(&quot;Supported&quot;);\nsupported.forEach((String alg) -&gt; System.out.println(&quot;   &quot; + alg));\nSystem.out.println(&quot;Unsupported&quot;);\nunsupported.forEach((String alg) -&gt; System.out.println(&quot;   &quot; + alg));\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55586,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1643233032,"creation_date":1323159958,"question_id":8397047,"body_markdown":"What&#39;s wrong with this?\r\n\r\n    for (Object obj : java.security.Security.getAlgorithms(&quot;Cipher&quot;)) {\r\n      System.out.println(obj);\r\n    }\r\n    javax.crypto.SecretKeyFactory.getInstance(&quot;AES&quot;);\r\n\r\nThis is the output (JDK 1.6 on Mac OS 10.6):\r\n\r\n\tBLOWFISH\r\n\tARCFOUR\r\n\tPBEWITHMD5ANDDES\r\n\tRC2\r\n\tRSA\r\n\tPBEWITHMD5ANDTRIPLEDES\r\n\tPBEWITHSHA1ANDDESEDE\r\n\tDESEDE\r\n\tAESWRAP\r\n\tAES\r\n\tDES\r\n\tDESEDEWRAP\r\n\tPBEWITHSHA1ANDRC2_40\r\n\r\n\tjava.security.NoSuchAlgorithmException: AES SecretKeyFactory not available\r\n\t at javax.crypto.SecretKeyFactory.&lt;init&gt;(DashoA13*..)\r\n\t at javax.crypto.SecretKeyFactory.getInstance(DashoA13*..)\r\n     ...\r\n","title":"What &quot;SecretKeyFactory not available&quot; does mean?","body":"<p>What's wrong with this?</p>\n\n<pre><code>for (Object obj : java.security.Security.getAlgorithms(\"Cipher\")) {\n  System.out.println(obj);\n}\njavax.crypto.SecretKeyFactory.getInstance(\"AES\");\n</code></pre>\n\n<p>This is the output (JDK 1.6 on Mac OS 10.6):</p>\n\n<pre><code>BLOWFISH\nARCFOUR\nPBEWITHMD5ANDDES\nRC2\nRSA\nPBEWITHMD5ANDTRIPLEDES\nPBEWITHSHA1ANDDESEDE\nDESEDE\nAESWRAP\nAES\nDES\nDESEDEWRAP\nPBEWITHSHA1ANDRC2_40\n\njava.security.NoSuchAlgorithmException: AES SecretKeyFactory not available\n at javax.crypto.SecretKeyFactory.&lt;init&gt;(DashoA13*..)\n at javax.crypto.SecretKeyFactory.getInstance(DashoA13*..)\n ...\n</code></pre>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1643229646,"post_id":70869930,"comment_id":125287446,"body_markdown":"Look at the pattern you&#39;re passing into `DateTimeFormatter.ofPattern`. It looks *nothing* like the value you&#39;re asking it to parse.","body":"Look at the pattern you&#39;re passing into <code>DateTimeFormatter.ofPattern</code>. It looks <i>nothing</i> like the value you&#39;re asking it to parse."},{"owner":{"account_id":24064794,"reputation":1,"user_id":18041525,"display_name":"RedSteele"},"score":0,"creation_date":1643229766,"post_id":70869930,"comment_id":125287497,"body_markdown":"Apologies if I have it backwards, but I thought that was the output format I wanted to receive?","body":"Apologies if I have it backwards, but I thought that was the output format I wanted to receive?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1643229850,"post_id":70869930,"comment_id":125287524,"body_markdown":"No. You&#39;re trying to parse to a `LocalDateTime`. That&#39;s just a value - it doesn&#39;t *have* a format. (If you want to convert it to a string other than in the default format, you need to specify the format at that point.) You&#39;re asking the `DateTimeFormatter` to be used to *parse* the incoming value, which means its pattern has to match the incoming value.","body":"No. You&#39;re trying to parse to a <code>LocalDateTime</code>. That&#39;s just a value - it doesn&#39;t <i>have</i> a format. (If you want to convert it to a string other than in the default format, you need to specify the format at that point.) You&#39;re asking the <code>DateTimeFormatter</code> to be used to <i>parse</i> the incoming value, which means its pattern has to match the incoming value."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1643229894,"post_id":70869930,"comment_id":125287544,"body_markdown":"(If you can affect the format that is stored in MongoDB, I would do so - that&#39;s a horrible date/time format. But that&#39;s a different matter.)","body":"(If you can affect the format that is stored in MongoDB, I would do so - that&#39;s a horrible date/time format. But that&#39;s a different matter.)"},{"owner":{"account_id":24064794,"reputation":1,"user_id":18041525,"display_name":"RedSteele"},"score":0,"creation_date":1643230139,"post_id":70869930,"comment_id":125287636,"body_markdown":"Hmmm gotcha! I&#39;ll look into useing RFC_1123_DATE_TIME as the formatter instead. Looks like I had it all backwards in my mind.","body":"Hmmm gotcha! I&#39;ll look into useing RFC_1123_DATE_TIME as the formatter instead. Looks like I had it all backwards in my mind."},{"owner":{"account_id":24064794,"reputation":1,"user_id":18041525,"display_name":"RedSteele"},"score":0,"creation_date":1643230189,"post_id":70869930,"comment_id":125287657,"body_markdown":"And trust me, already making that push! All future updates to that DB will be in ISO_DATE_TIME format hopefully. Much thanks for the input!","body":"And trust me, already making that push! All future updates to that DB will be in ISO_DATE_TIME format hopefully. Much thanks for the input!"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643234744,"post_id":70869930,"comment_id":125289095,"body_markdown":"Yes, use [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats for exchanging date-time values as text. That is why the standard was invented.","body":"Yes, use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for exchanging date-time values as text. That is why the standard was invented."}],"answers":[{"tags":[],"owner":{"account_id":11241181,"reputation":143,"user_id":9670502,"display_name":"Ihor Horovyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643233009,"creation_date":1643233009,"answer_id":70870573,"question_id":70869930,"body_markdown":"You have the wrong date format pattern to parse your date string.\r\n\r\n    String parsePattern = &quot;EEE MMM dd yyyy HH:mm:ss O (zzzz)&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(parsePattern);\r\n\r\n\r\n    String dateString = &quot;Wed Jan 26 2022 22:33:07 GMT+1 (Central European Standard Time)&quot;;\r\n    LocalDateTime dateTime = LocalDateTime.parse(dateString, formatter);\r\n    System.out.println(dateTime); // result 2022-01-26T22:33:07","title":"How to parse Javascript Date to Java LocalDateTime with day of the week","body":"<p>You have the wrong date format pattern to parse your date string.</p>\n<pre><code>String parsePattern = &quot;EEE MMM dd yyyy HH:mm:ss O (zzzz)&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(parsePattern);\n\n\nString dateString = &quot;Wed Jan 26 2022 22:33:07 GMT+1 (Central European Standard Time)&quot;;\nLocalDateTime dateTime = LocalDateTime.parse(dateString, formatter);\nSystem.out.println(dateTime); // result 2022-01-26T22:33:07\n</code></pre>\n"}],"owner":{"account_id":24064794,"reputation":1,"user_id":18041525,"display_name":"RedSteele"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643233009,"creation_date":1643229333,"question_id":70869930,"body_markdown":"I am trying to convert a Javascript Date that is stored in a mongoDb to a Java LocalDateTime ISO_DATE_TIME and I keep hitting a ParseException and I can not figure out why my code is slipping up. First off, the code:\r\n\r\nParser: \r\n```\r\npublic static final class StringToLocalDateTimeConverter implements Converter&lt;String, LocalDateTime&gt; {\r\n\r\n        public static final StringToLocalDateTimeConverter INSTANCE = new StringToLocalDateTimeConverter();\r\n\r\n        private StringToLocalDateTimeConverter() {}\r\n\r\n        @Override\r\n        public LocalDateTime convert(String source) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;);\r\n            return StringUtil.isNullOrEmpty(source) ? null : LocalDateTime.parse(source, formatter);\r\n        }\r\n    }\r\n```\r\n\r\nThe date that is being passed in is in the format of &#39;Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)&#39;\r\n\r\n\r\nThe error I am receiving is:\r\n\r\n *Exception in getUserById() with cause = &#39;java.time.format.DateTimeParseException: Text &#39;Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)&#39; could not be parsed at index 0&#39; and exception = &#39;Failed to convert from type [java.lang.String] to type [java.time.LocalDateTime] for value &#39;Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)&#39;; nested exception is java.time.format.DateTimeParseException: Text &#39;Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)&#39; could not be parsed at index 0&#39;*\r\n\r\nIt seems that the parser does not know what to do with the leading day of the week. Any advice would be appreciated!","title":"How to parse Javascript Date to Java LocalDateTime with day of the week","body":"<p>I am trying to convert a Javascript Date that is stored in a mongoDb to a Java LocalDateTime ISO_DATE_TIME and I keep hitting a ParseException and I can not figure out why my code is slipping up. First off, the code:</p>\n<p>Parser:</p>\n<pre><code>public static final class StringToLocalDateTimeConverter implements Converter&lt;String, LocalDateTime&gt; {\n\n        public static final StringToLocalDateTimeConverter INSTANCE = new StringToLocalDateTimeConverter();\n\n        private StringToLocalDateTimeConverter() {}\n\n        @Override\n        public LocalDateTime convert(String source) {\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;);\n            return StringUtil.isNullOrEmpty(source) ? null : LocalDateTime.parse(source, formatter);\n        }\n    }\n</code></pre>\n<p>The date that is being passed in is in the format of 'Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)'</p>\n<p>The error I am receiving is:</p>\n<p><em>Exception in getUserById() with cause = 'java.time.format.DateTimeParseException: Text 'Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)' could not be parsed at index 0' and exception = 'Failed to convert from type [java.lang.String] to type [java.time.LocalDateTime] for value 'Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)'; nested exception is java.time.format.DateTimeParseException: Text 'Thu Oct 07 2021 21:29:36 GMT+0000 (Coordinated Universal Time)' could not be parsed at index 0'</em></p>\n<p>It seems that the parser does not know what to do with the leading day of the week. Any advice would be appreciated!</p>\n"},{"tags":["java","spring-boot","azure","spring-cloud"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1642877797,"post_id":70787483,"comment_id":125191758,"body_markdown":"How about `spring-cloud-config-client` &amp; `spring.cloud.config.enabled=true`?\nhttps://learn.microsoft.com/en-us/azure/spring-cloud/how-to-prepare-app-deployment?pivots=programming-language-java","body":"How about <code>spring-cloud-config-client</code> &amp; <code>spring.cloud.config.enabled=true</code>? <a href=\"https://learn.microsoft.com/en-us/azure/spring-cloud/how-to-prepare-app-deployment?pivots=programming-language-java\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/spring-cloud/&hellip;</a>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1642965471,"post_id":70787483,"comment_id":125208519,"body_markdown":"@MartinZeitler This is about Azure Spring Cloud, which is a resource where you can deploy your Spring Boot applications to and that already hosts a Spring Cloud Config Server. Unfortunately, we are not using that. We are using [Azure App Service](https://learn.microsoft.com/en-us/azure/app-service/overview) for our Spring Boot deployments. And now we are trying to use [Azure App Configuration](https://learn.microsoft.com/en-us/azure/azure-app-configuration/overview) as an external config provider (which is a bit like a Spring Cloud Config server).","body":"@MartinZeitler This is about Azure Spring Cloud, which is a resource where you can deploy your Spring Boot applications to and that already hosts a Spring Cloud Config Server. Unfortunately, we are not using that. We are using <a href=\"https://learn.microsoft.com/en-us/azure/app-service/overview\" rel=\"nofollow noreferrer\">Azure App Service</a> for our Spring Boot deployments. And now we are trying to use <a href=\"https://learn.microsoft.com/en-us/azure/azure-app-configuration/overview\" rel=\"nofollow noreferrer\">Azure App Configuration</a> as an external config provider (which is a bit like a Spring Cloud Config server)."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1642984827,"post_id":70787483,"comment_id":125212495,"body_markdown":"As I understand it, the one is configuration on deployment, and the other a config service. I&#39;ve just thought, because the namespace is quite similar; it might still be worth an attempt.","body":"As I understand it, the one is configuration on deployment, and the other a config service. I&#39;ve just thought, because the namespace is quite similar; it might still be worth an attempt."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1643012966,"post_id":70787483,"comment_id":125217623,"body_markdown":"@MartinZeitler I will try that out ... Actually, it seems as if the mentioned library (`azure-spring-cloud-appconfiguration-config`) itself depends on some Spring cloud dependencies.","body":"@MartinZeitler I will try that out ... Actually, it seems as if the mentioned library (<code>azure-spring-cloud-appconfiguration-config</code>) itself depends on some Spring cloud dependencies."}],"answers":[{"tags":[],"owner":{"account_id":9205935,"reputation":1683,"user_id":6841224,"display_name":"Mr Patience"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643232902,"creation_date":1643232902,"answer_id":70870555,"question_id":70787483,"body_markdown":"The whole point of using Azure App Configuration is to store your config in one place and easily manage it without redeploying / restarting the app. Therefore I don&#39;t think this is should be even possible.   \r\n  \r\nI would recommend to use labels to load specific version of your `prop` based on labels data. Few cases:\r\n 1. If you need this property only locally, don&#39;t specify it in App Configuration. \r\n 2. If you need multiple versions of it, then just create same property with multiple labels and use your `spring.profile` (or other conf-property) to distinguish the version. \r\n 3. If you need to load multiple versions of it, load multiple labels:  \r\n As described here: https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-starter-appconfiguration-config-readme?view=azure-java-stable#load-from-multiple-labels\r\n\r\n\r\nYou can use this sample to see how it works:\r\nhttps://github.com/Azure/azure-sdk-for-java/tree/azure-spring-boot_3.6.0/sdk/appconfiguration/spring-cloud-starter-azure-appconfiguration-config   ","title":"Override properties from Azure App Configuration Store","body":"<p>The whole point of using Azure App Configuration is to store your config in one place and easily manage it without redeploying / restarting the app. Therefore I don't think this is should be even possible.</p>\n<p>I would recommend to use labels to load specific version of your <code>prop</code> based on labels data. Few cases:</p>\n<ol>\n<li>If you need this property only locally, don't specify it in App Configuration.</li>\n<li>If you need multiple versions of it, then just create same property with multiple labels and use your <code>spring.profile</code> (or other conf-property) to distinguish the version.</li>\n<li>If you need to load multiple versions of it, load multiple labels:<br />\nAs described here: <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-starter-appconfiguration-config-readme?view=azure-java-stable#load-from-multiple-labels\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/api/overview/azure/spring-cloud-starter-appconfiguration-config-readme?view=azure-java-stable#load-from-multiple-labels</a></li>\n</ol>\n<p>You can use this sample to see how it works:\n<a href=\"https://github.com/Azure/azure-sdk-for-java/tree/azure-spring-boot_3.6.0/sdk/appconfiguration/spring-cloud-starter-azure-appconfiguration-config\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-java/tree/azure-spring-boot_3.6.0/sdk/appconfiguration/spring-cloud-starter-azure-appconfiguration-config</a></p>\n"}],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70870555,"answer_count":1,"score":1,"last_activity_date":1643232902,"creation_date":1642686926,"question_id":70787483,"body_markdown":"**TL;DR**\r\n\r\nHow to have system properties on CLI or environment variables override properties that are provided by an Azure App Configuration Store? Or is this maybe not possible at all?\r\n\r\n**Longer story**\r\n\r\nLet us assume a property named `app.prop`. Let us further assume the following entry in `application.yml` or in `application-&lt;profile&gt;.yml`:\r\n\r\n    app:\r\n        prop: Default\r\n\r\nUsually, you are able to start the Spring Boot application and provide a system property (e.g. `-Dapp.prop=SYS`) or an environment variable (e.g. `export APP_PROP=ENV`) with the effect that the latter overrides the value of the YML config files. If you - for example - provided the environment variable, your application has the value `ENV` for the property `app.prop`.\r\n\r\nWhen reading the same property from an Azure App Configuration Store, you can provide a system property or an environment variable as you like. But the value is not overridden anymore; it is the value that is stored in the Azure App Configuration Store.\r\n\r\nSome code\r\n\r\nI am using Spring Boot version 2.5.7:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.7&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nFurther, I am using the following library for accessing the Azure App Configuration Store:\r\n\r\n    &lt;properties&gt;\r\n        &lt;azure-spring-cloud.version&gt;2.7.0&lt;/azure-spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${azure-spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nAdditionally, for starting the application, I am providing the following property:\r\n\r\n    spring.cloud.azure.appconfiguration.stores[0].connection-string = ...\r\n\r\nThis all works very well. In the Azure App Configuration Store, I have the following property:\r\n\r\n    app.prop = Azure\r\n\r\nIf now starting the application with the following environment variable `APP_PROP = ENV`, the value of the property `app.prop` is still `Azure`, and not `ENV`.\r\n\r\nIs there any setting missing, so that I can have the same behavior that I had without the above mentioned library?\r\n\r\nActually, I searched a lot, but did not find anything except for some statements regarding [overriding values of remote properties in the Spring Cloud documentation][1], which is not really my case (I am using Azure App Configuration Store).\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-static/spring-cloud.html#overriding-bootstrap-properties","title":"Override properties from Azure App Configuration Store","body":"<p><strong>TL;DR</strong></p>\n<p>How to have system properties on CLI or environment variables override properties that are provided by an Azure App Configuration Store? Or is this maybe not possible at all?</p>\n<p><strong>Longer story</strong></p>\n<p>Let us assume a property named <code>app.prop</code>. Let us further assume the following entry in <code>application.yml</code> or in <code>application-&lt;profile&gt;.yml</code>:</p>\n<pre><code>app:\n    prop: Default\n</code></pre>\n<p>Usually, you are able to start the Spring Boot application and provide a system property (e.g. <code>-Dapp.prop=SYS</code>) or an environment variable (e.g. <code>export APP_PROP=ENV</code>) with the effect that the latter overrides the value of the YML config files. If you - for example - provided the environment variable, your application has the value <code>ENV</code> for the property <code>app.prop</code>.</p>\n<p>When reading the same property from an Azure App Configuration Store, you can provide a system property or an environment variable as you like. But the value is not overridden anymore; it is the value that is stored in the Azure App Configuration Store.</p>\n<p>Some code</p>\n<p>I am using Spring Boot version 2.5.7:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.7&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Further, I am using the following library for accessing the Azure App Configuration Store:</p>\n<pre><code>&lt;properties&gt;\n    &lt;azure-spring-cloud.version&gt;2.7.0&lt;/azure-spring-cloud.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${azure-spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Additionally, for starting the application, I am providing the following property:</p>\n<pre><code>spring.cloud.azure.appconfiguration.stores[0].connection-string = ...\n</code></pre>\n<p>This all works very well. In the Azure App Configuration Store, I have the following property:</p>\n<pre><code>app.prop = Azure\n</code></pre>\n<p>If now starting the application with the following environment variable <code>APP_PROP = ENV</code>, the value of the property <code>app.prop</code> is still <code>Azure</code>, and not <code>ENV</code>.</p>\n<p>Is there any setting missing, so that I can have the same behavior that I had without the above mentioned library?</p>\n<p>Actually, I searched a lot, but did not find anything except for some statements regarding <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud.html#overriding-bootstrap-properties\" rel=\"nofollow noreferrer\">overriding values of remote properties in the Spring Cloud documentation</a>, which is not really my case (I am using Azure App Configuration Store).</p>\n"},{"tags":["java","session","jsch"],"comments":[{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1641761201,"post_id":70645164,"comment_id":124884943,"body_markdown":"See [JSch to add private key from a string](https://stackoverflow.com/q/33637481/850848).","body":"See <a href=\"https://stackoverflow.com/q/33637481/850848\">JSch to add private key from a string</a>."}],"answers":[{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643232422,"creation_date":1643232422,"answer_id":70870465,"question_id":70645164,"body_markdown":"&gt; Now I want to store the content of this pem key into a String privateKey...\r\n\r\nYou do not have to, as [`addIdentity(privateKey)`][1] takes as string parameter &quot;*the file name of the private key file*&quot;. That is the reason you get the following error: `java.io.FileNotFoundException: -----BEGIN RSA PRIVATE KEY--`. You are passing the contents of the file instead of the file name/path, and `JSch` attempts to read a file using the string that you gave (i.e., *&quot;-----BEGIN RSA PRIVATE KEY--...&quot;*), but such a file cannot be found. So, instead, you need to pass the path/name of your private key file. For instance, &quot;/path-to-the-file/myKey.pem&quot;, or if the key is in the project&#39;s root dir, just use &quot;myKey.pem&quot;. If the file is encrypted with a passphrase then use `addIdentity(&quot;myKey.pem&quot;, &quot;passphrase&quot;)`.\r\n\r\nI see that you already have a private key in the format that JSch supports. If, however, you happen to generate the key in new OpenSSH that starts with *&quot;-----BEGIN OPENSSH PRIVATE KEY-----&quot;*, or if, for any reason, you get the following error: `invalid privatekey: [B@59c40796`, then use [ssh-keygen][2] to convert the key to PEM format, as decribed [here][3].\r\n\r\n    ssh-keygen -p -f &lt;filename&gt; -m pem\r\n\r\nIf you are creating new keys with ssh-keygen, just add &quot;-m pem&quot; to generate the keys.\r\n\r\n    ssh-keygen -m pem\r\n\r\nThe following has been tested (using Rebex SFTP Server) and works as expected:\r\n\r\n    import com.jcraft.jsch.*;\r\n    \r\n    public class JScheExample {\r\n    \r\n    \tpublic void go() throws JSchException, SftpException {\r\n    \t\tChannelSftp channelSftp = setupJsch(&quot;tester&quot;, &quot;password&quot;, &quot;id_rsa&quot;, &quot;127.0.0.1&quot;, 2222);\r\n    \t\t//ChannelSftp channelSftp = setupJsch(&quot;username&quot;, &quot;password&quot;, &quot;myKey.pem&quot;, &quot;127.0.0.1&quot;, 22);\r\n    \t\tchannelSftp.connect();\r\n    \r\n    \t\t// transfer file from local to remote server\r\n    \t\tchannelSftp.put(&quot;clientTestFile.txt&quot;, &quot;clientTestFile.txt&quot;);\r\n    \r\n    \t\t// download file from remote server to local\r\n    \t\tchannelSftp.get(&quot;testfile.txt&quot;, &quot;testfile.txt&quot;);\r\n    \t}\r\n    \r\n    \tprivate ChannelSftp setupJsch(String username, String password, String pvKeyPath, String hostname, int port) throws JSchException {\r\n    \t\tJSch jsch = new JSch();\r\n    \t\tif (!pvKeyPath.equals(&quot;&quot;) &amp;&amp; pvKeyPath != null)\r\n    \t\t\tjsch.addIdentity(pvKeyPath);\r\n    \r\n    \t\tSession jschSession = jsch.getSession(username, hostname, port);\r\n    \t\tif (!password.equals(&quot;&quot;) &amp;&amp; password != null)\r\n    \t\t\tjschSession.setPassword(password);\r\n\r\n    \t\tjschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    \t\tjschSession.connect();\r\n    \t\treturn (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)  throws JSchException, SftpException{\r\n    \t\tnew JScheExample().go();\r\n    \t}\r\n    }\r\n\r\n  [1]: https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#addIdentity-java.lang.String-\r\n  [2]: https://git-scm.com/book/en/v2/Git-on-the-Server-Generating-Your-SSH-Public-Key\r\n  [3]: https://stackoverflow.com/questions/53134212/invalid-privatekey-when-using-jsch\r\n","title":"Connection with server using private key Jsch","body":"<blockquote>\n<p>Now I want to store the content of this pem key into a String privateKey...</p>\n</blockquote>\n<p>You do not have to, as <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#addIdentity-java.lang.String-\" rel=\"nofollow noreferrer\"><code>addIdentity(privateKey)</code></a> takes as string parameter &quot;<em>the file name of the private key file</em>&quot;. That is the reason you get the following error: <code>java.io.FileNotFoundException: -----BEGIN RSA PRIVATE KEY--</code>. You are passing the contents of the file instead of the file name/path, and <code>JSch</code> attempts to read a file using the string that you gave (i.e., <em>&quot;-----BEGIN RSA PRIVATE KEY--...&quot;</em>), but such a file cannot be found. So, instead, you need to pass the path/name of your private key file. For instance, &quot;/path-to-the-file/myKey.pem&quot;, or if the key is in the project's root dir, just use &quot;myKey.pem&quot;. If the file is encrypted with a passphrase then use <code>addIdentity(&quot;myKey.pem&quot;, &quot;passphrase&quot;)</code>.</p>\n<p>I see that you already have a private key in the format that JSch supports. If, however, you happen to generate the key in new OpenSSH that starts with <em>&quot;-----BEGIN OPENSSH PRIVATE KEY-----&quot;</em>, or if, for any reason, you get the following error: <code>invalid privatekey: [B@59c40796</code>, then use <a href=\"https://git-scm.com/book/en/v2/Git-on-the-Server-Generating-Your-SSH-Public-Key\" rel=\"nofollow noreferrer\">ssh-keygen</a> to convert the key to PEM format, as decribed <a href=\"https://stackoverflow.com/questions/53134212/invalid-privatekey-when-using-jsch\">here</a>.</p>\n<pre><code>ssh-keygen -p -f &lt;filename&gt; -m pem\n</code></pre>\n<p>If you are creating new keys with ssh-keygen, just add &quot;-m pem&quot; to generate the keys.</p>\n<pre><code>ssh-keygen -m pem\n</code></pre>\n<p>The following has been tested (using Rebex SFTP Server) and works as expected:</p>\n<pre><code>import com.jcraft.jsch.*;\n\npublic class JScheExample {\n\n    public void go() throws JSchException, SftpException {\n        ChannelSftp channelSftp = setupJsch(&quot;tester&quot;, &quot;password&quot;, &quot;id_rsa&quot;, &quot;127.0.0.1&quot;, 2222);\n        //ChannelSftp channelSftp = setupJsch(&quot;username&quot;, &quot;password&quot;, &quot;myKey.pem&quot;, &quot;127.0.0.1&quot;, 22);\n        channelSftp.connect();\n\n        // transfer file from local to remote server\n        channelSftp.put(&quot;clientTestFile.txt&quot;, &quot;clientTestFile.txt&quot;);\n\n        // download file from remote server to local\n        channelSftp.get(&quot;testfile.txt&quot;, &quot;testfile.txt&quot;);\n    }\n\n    private ChannelSftp setupJsch(String username, String password, String pvKeyPath, String hostname, int port) throws JSchException {\n        JSch jsch = new JSch();\n        if (!pvKeyPath.equals(&quot;&quot;) &amp;&amp; pvKeyPath != null)\n            jsch.addIdentity(pvKeyPath);\n\n        Session jschSession = jsch.getSession(username, hostname, port);\n        if (!password.equals(&quot;&quot;) &amp;&amp; password != null)\n            jschSession.setPassword(password);\n\n        jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        jschSession.connect();\n        return (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\n    }\n\n    public static void main(String[] args)  throws JSchException, SftpException{\n        new JScheExample().go();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10921080,"reputation":627,"user_id":8027346,"display_name":"Lily"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643232422,"creation_date":1641759525,"question_id":70645164,"body_markdown":"I am able to connect with a remote server using the `myKey.pem` . Now I want to store the content of this **pem** key into a `String privateKey` and then connect using Jsch.\r\n\r\n````\r\n        JSch jsch = new JSch();\r\n        Session session;\r\n        session = jsch.getSession(username, host, 22);\r\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        if (StringUtils.hasText(password)) {\r\n            session.setPassword(password);\r\n        } else {\r\n            jsch.addIdentity(privateKey);\r\n        }\r\n        session.connect();\r\n        return session;\r\n````\r\n\r\nwhereas the `myKey.pem` have the data like following \r\n\r\n`````\r\n-----BEGIN RSA PRIVATE KEY-----\r\nMIIEpQIBAAKCAQEA3Tz2mr7SZiAMfQyuvBjM9Oi..Z1BjP5CE/Wm/Rr500P\r\nRK+Lh9x5eJPo5CAZ3/ANBE0sTK0ZsDGMak2m1g7..3VHqIxFTz0Ta1d+NAj\r\nwnLe4nOb7/eEJbDPkk05ShhBrJGBKKxb8n104o/..PdzbFMIyNjJzBM2o5y\r\n5A13wiLitEO7nco2WfyYkQzaxCw0AwzlkVHiIyC..71pSzkv6sv+4IDMbT/\r\nXpCo8L6wTarzrywnQsh+etLD6FtTjYbbrvZ8RQM..Hg2qxraAV++HNBYmNW\r\ns0duEdjUbJK+ZarypXI9TtnS4o1Ckj7POfljiQI..IBAFyidxtqRQyv5KrD\r\nkbJ+q+rsJxQlaipn2M4lGuQJEfIxELFDyd3XpxP..Un/82NZNXlPmRIopXs\r\n2T91jiLZEUKQw+n73j26adTbteuEaPGSrTZxBLR..yssO0wWomUyILqVeti\r\n6AkL0NJAuKcucHGqWVgUIa4g1haE0ilcm6dWUDo..fd+PpzdCJf1s4NdUWK\r\nYV2GJcutGQb+jqT5DTUqAgST7N8M28rwjK6nVMI..BUpP0xpPnuYDyPOw6x\r\n4hBt8DZQYyduzIXBXRBKNiNdv8fum68/5klHxp6..4HRkMUL958UVeljUsT\r\nBFQlO9UCgYEA/VqzXVzlz8K36VSTMPEhB5zBATV..PRiXtYK1YpYV4/jSUj\r\nvvT4hP8uoYNC+BlEMi98LtnxZIh0V4rqHDsScAq..VyeSLH0loKMZgpwFEm\r\nbEIDnEOD0nKrfT/9K9sPYgvB43wsLEtUujaYw3W..Liy0WKmB8CgYEA34xn\r\n1QlOOhHBn9Z8qYjoDYhvcj+a89tD9eMPhesfQFw..rsfGcXIonFmWdVygbe\r\n6Doihc+GIYIq/QP4jgMksE1ADvczJSke92ZfE2i..fitBpQERNJO0BlabfP\r\nALs5NssKNmLkWS2U2BHCbv4DzDXwiQB37KPOL1c..kBHfF2/htIs20d1UVL\r\n+PK+aXKwguI6bxLGZ3of0UH+mGsSl0mkp7kYZCm..OTQtfeRqP8rDSC7DgA\r\nkHc5ajYqh04AzNFaxjRo+M3IGICUaOdKnXd0Fda..QwfoaX4QlRTgLqb7AN\r\nZTzM9WbmnYoXrx17kZlT3lsCgYEAm757XI3WJVj..WoLj1+v48WyoxZpcai\r\nuv9bT4Cj+lXRS+gdKHK+SH7J3x2CRHVS+WH/SVC..DxuybvebDoT0TkKiCj\r\nBWQaGzCaJqZa+POHK0klvS+9ln0/6k539p95tfX..X4TCzbVG6+gJiX0ysz\r\nYfehn5MCgYEAkMiKuWHCsVyCab3RUf6XA9gd3qY..fCTIGtS1tR5PgFIV+G\r\nengiVoWc/hkj8SBHZz1n1xLN7KDf8ySU06MDggB..hJ+gXJKy+gf3mF5Kmj\r\nDtkpjGHQzPF6vOe907y5NQLvVFGXUq/FIJZxB8k..fJdHEm2M4=\r\n-----END RSA PRIVATE KEY-----\r\n`````\r\n\r\n\r\nBut I am facing the excpetion `java.io.FileNotFoundException: -----BEGIN RSA PRIVATE KEY--`\r\n\r\nAnyone please guide how I can do that? ","title":"Connection with server using private key Jsch","body":"<p>I am able to connect with a remote server using the <code>myKey.pem</code> . Now I want to store the content of this <strong>pem</strong> key into a <code>String privateKey</code> and then connect using Jsch.</p>\n<pre><code>        JSch jsch = new JSch();\n        Session session;\n        session = jsch.getSession(username, host, 22);\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        if (StringUtils.hasText(password)) {\n            session.setPassword(password);\n        } else {\n            jsch.addIdentity(privateKey);\n        }\n        session.connect();\n        return session;\n</code></pre>\n<p>whereas the <code>myKey.pem</code> have the data like following</p>\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nMIIEpQIBAAKCAQEA3Tz2mr7SZiAMfQyuvBjM9Oi..Z1BjP5CE/Wm/Rr500P\nRK+Lh9x5eJPo5CAZ3/ANBE0sTK0ZsDGMak2m1g7..3VHqIxFTz0Ta1d+NAj\nwnLe4nOb7/eEJbDPkk05ShhBrJGBKKxb8n104o/..PdzbFMIyNjJzBM2o5y\n5A13wiLitEO7nco2WfyYkQzaxCw0AwzlkVHiIyC..71pSzkv6sv+4IDMbT/\nXpCo8L6wTarzrywnQsh+etLD6FtTjYbbrvZ8RQM..Hg2qxraAV++HNBYmNW\ns0duEdjUbJK+ZarypXI9TtnS4o1Ckj7POfljiQI..IBAFyidxtqRQyv5KrD\nkbJ+q+rsJxQlaipn2M4lGuQJEfIxELFDyd3XpxP..Un/82NZNXlPmRIopXs\n2T91jiLZEUKQw+n73j26adTbteuEaPGSrTZxBLR..yssO0wWomUyILqVeti\n6AkL0NJAuKcucHGqWVgUIa4g1haE0ilcm6dWUDo..fd+PpzdCJf1s4NdUWK\nYV2GJcutGQb+jqT5DTUqAgST7N8M28rwjK6nVMI..BUpP0xpPnuYDyPOw6x\n4hBt8DZQYyduzIXBXRBKNiNdv8fum68/5klHxp6..4HRkMUL958UVeljUsT\nBFQlO9UCgYEA/VqzXVzlz8K36VSTMPEhB5zBATV..PRiXtYK1YpYV4/jSUj\nvvT4hP8uoYNC+BlEMi98LtnxZIh0V4rqHDsScAq..VyeSLH0loKMZgpwFEm\nbEIDnEOD0nKrfT/9K9sPYgvB43wsLEtUujaYw3W..Liy0WKmB8CgYEA34xn\n1QlOOhHBn9Z8qYjoDYhvcj+a89tD9eMPhesfQFw..rsfGcXIonFmWdVygbe\n6Doihc+GIYIq/QP4jgMksE1ADvczJSke92ZfE2i..fitBpQERNJO0BlabfP\nALs5NssKNmLkWS2U2BHCbv4DzDXwiQB37KPOL1c..kBHfF2/htIs20d1UVL\n+PK+aXKwguI6bxLGZ3of0UH+mGsSl0mkp7kYZCm..OTQtfeRqP8rDSC7DgA\nkHc5ajYqh04AzNFaxjRo+M3IGICUaOdKnXd0Fda..QwfoaX4QlRTgLqb7AN\nZTzM9WbmnYoXrx17kZlT3lsCgYEAm757XI3WJVj..WoLj1+v48WyoxZpcai\nuv9bT4Cj+lXRS+gdKHK+SH7J3x2CRHVS+WH/SVC..DxuybvebDoT0TkKiCj\nBWQaGzCaJqZa+POHK0klvS+9ln0/6k539p95tfX..X4TCzbVG6+gJiX0ysz\nYfehn5MCgYEAkMiKuWHCsVyCab3RUf6XA9gd3qY..fCTIGtS1tR5PgFIV+G\nengiVoWc/hkj8SBHZz1n1xLN7KDf8ySU06MDggB..hJ+gXJKy+gf3mF5Kmj\nDtkpjGHQzPF6vOe907y5NQLvVFGXUq/FIJZxB8k..fJdHEm2M4=\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>But I am facing the excpetion <code>java.io.FileNotFoundException: -----BEGIN RSA PRIVATE KEY--</code></p>\n<p>Anyone please guide how I can do that?</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":4,"up_vote_count":42,"is_accepted":false,"score":38,"last_activity_date":1263497943,"creation_date":1263497943,"answer_id":2067016,"question_id":2066946,"body_markdown":"Rewrite your method signature so that it accepts `HttpServletResponse` as a parameter, so that you can call `setStatus(int)` on it.\r\n\r\nhttp://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-arguments","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Rewrite your method signature so that it accepts <code>HttpServletResponse</code> as a parameter, so that you can call <code>setStatus(int)</code> on it.</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-arguments\" rel=\"noreferrer\">http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-arguments</a></p>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":1,"up_vote_count":349,"is_accepted":true,"score":348,"last_activity_date":1291833336,"creation_date":1263498186,"answer_id":2067043,"question_id":2066946,"body_markdown":"Since Spring 3.0 you also can throw an Exception declared with [`@ResponseStatus`][1] annotation:\r\n\r\n    @ResponseStatus(value = HttpStatus.NOT_FOUND)\r\n    public class ResourceNotFoundException extends RuntimeException {\r\n        ...\r\n    }\r\n\r\n    @Controller\r\n    public class SomeController {\r\n        @RequestMapping.....\r\n        public void handleCall() {\r\n            if (isFound()) {\r\n                // whatever\r\n            }\r\n            else {\r\n                throw new ResourceNotFoundException(); \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Since Spring 3.0 you also can throw an Exception declared with <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html\" rel=\"noreferrer\"><code>@ResponseStatus</code></a> annotation:</p>\n\n<pre><code>@ResponseStatus(value = HttpStatus.NOT_FOUND)\npublic class ResourceNotFoundException extends RuntimeException {\n    ...\n}\n\n@Controller\npublic class SomeController {\n    @RequestMapping.....\n    public void handleCall() {\n        if (isFound()) {\n            // whatever\n        }\n        else {\n            throw new ResourceNotFoundException(); \n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114552,"reputation":12230,"user_id":301153,"accept_rate":88,"display_name":"michal.kreuzman"},"down_vote_count":6,"up_vote_count":31,"is_accepted":false,"score":25,"last_activity_date":1338849129,"creation_date":1338849129,"answer_id":10889332,"question_id":2066946,"body_markdown":"I would like to mention that there&#39;s exception (not only) for 404 by default provided by Spring. See [Spring documentation][1] for details. So if you do not need your own exception you can simply do this:\r\n\r\n     @RequestMapping(value = &quot;/**&quot;, method = RequestMethod.GET)\r\n\t public ModelAndView show() throws NoSuchRequestHandlingMethodException {\r\n        if(something == null)\r\n\t\t     throw new NoSuchRequestHandlingMethodException(&quot;show&quot;, YourClass.class);\r\n\r\n        ...\r\n\r\n\t  }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-exceptionhandlers","title":"Trigger 404 in Spring-MVC controller?","body":"<p>I would like to mention that there's exception (not only) for 404 by default provided by Spring. See <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-exceptionhandlers\">Spring documentation</a> for details. So if you do not need your own exception you can simply do this:</p>\n\n<pre><code> @RequestMapping(value = \"/**\", method = RequestMethod.GET)\n public ModelAndView show() throws NoSuchRequestHandlingMethodException {\n    if(something == null)\n         throw new NoSuchRequestHandlingMethodException(\"show\", YourClass.class);\n\n    ...\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1611856,"reputation":713,"user_id":1490555,"accept_rate":40,"display_name":"Rajith Delantha"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1352213909,"creation_date":1352213909,"answer_id":13253650,"question_id":2066946,"body_markdown":"Simply you can use web.xml to add error code and 404 error page. But make sure 404 error page must not locate under WEB-INF.\r\n\r\n    &lt;error-page&gt;\r\n        &lt;error-code&gt;404&lt;/error-code&gt;\r\n        &lt;location&gt;/404.html&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\nThis is the simplest way to do it but this have some limitation. Suppose if you want to add the same style for this page that you added other pages. In this way you can&#39;t to that. You have to use the `@ResponseStatus(value = HttpStatus.NOT_FOUND)`","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Simply you can use web.xml to add error code and 404 error page. But make sure 404 error page must not locate under WEB-INF.</p>\n\n<pre><code>&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/404.html&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n\n<p>This is the simplest way to do it but this have some limitation. Suppose if you want to add the same style for this page that you added other pages. In this way you can't to that. You have to use the <code>@ResponseStatus(value = HttpStatus.NOT_FOUND)</code></p>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1363796272,"creation_date":1363796272,"answer_id":15529052,"question_id":2066946,"body_markdown":"If your controller method is for something like file handling then `ResponseEntity` is very handy:\r\n\r\n    @Controller\r\n    public class SomeController {\r\n        @RequestMapping.....\r\n        public ResponseEntity handleCall() {\r\n            if (isFound()) {\r\n                return new ResponseEntity(...);\r\n            }\r\n            else {\r\n                return new ResponseEntity(404);\r\n            }\r\n        }\r\n    }","title":"Trigger 404 in Spring-MVC controller?","body":"<p>If your controller method is for something like file handling then <code>ResponseEntity</code> is very handy:</p>\n\n<pre><code>@Controller\npublic class SomeController {\n    @RequestMapping.....\n    public ResponseEntity handleCall() {\n        if (isFound()) {\n            return new ResponseEntity(...);\n        }\n        else {\n            return new ResponseEntity(404);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":910727,"reputation":670,"user_id":944663,"accept_rate":50,"display_name":"Atish Narlawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398720650,"creation_date":1398720650,"answer_id":23351522,"question_id":2066946,"body_markdown":"Configure web.xml with setting\r\n\r\n\r\n    &lt;error-page&gt;\r\n        &lt;error-code&gt;500&lt;/error-code&gt;\r\n        &lt;location&gt;/error/500&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\n    &lt;error-page&gt;\r\n        &lt;error-code&gt;404&lt;/error-code&gt;\r\n        &lt;location&gt;/error/404&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\n\r\nCreate new controller \r\n\r\n \r\n\r\n       /**\r\n         * Error Controller. handles the calls for 404, 500 and 401 HTTP Status codes.\r\n         */\r\n        @Controller\r\n        @RequestMapping(value = ErrorController.ERROR_URL, produces = MediaType.APPLICATION_XHTML_XML_VALUE)\r\n        public class ErrorController {\r\n        \r\n        \r\n            /**\r\n             * The constant ERROR_URL.\r\n             */\r\n            public static final String ERROR_URL = &quot;/error&quot;;\r\n        \r\n        \r\n            /**\r\n             * The constant TILE_ERROR.\r\n             */\r\n            public static final String TILE_ERROR = &quot;error.page&quot;;\r\n        \r\n        \r\n            /**\r\n             * Page Not Found.\r\n             *\r\n             * @return Home Page\r\n             */\r\n            @RequestMapping(value = &quot;/404&quot;, produces = MediaType.APPLICATION_XHTML_XML_VALUE)\r\n            public ModelAndView notFound() {\r\n        \r\n                ModelAndView model = new ModelAndView(TILE_ERROR);\r\n                model.addObject(&quot;message&quot;, &quot;The page you requested could not be found. This location may not be current.&quot;);\r\n        \r\n                return model;\r\n            }\r\n        \r\n            /**\r\n             * Error page.\r\n             *\r\n             * @return the model and view\r\n             */\r\n            @RequestMapping(value = &quot;/500&quot;, produces = MediaType.APPLICATION_XHTML_XML_VALUE)\r\n            public ModelAndView errorPage() {\r\n                ModelAndView model = new ModelAndView(TILE_ERROR);\r\n                model.addObject(&quot;message&quot;, &quot;The page you requested could not be found. This location may not be current, due to the recent site redesign.&quot;);\r\n        \r\n                return model;\r\n            }\r\n    }\r\n\r\n","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Configure web.xml with setting</p>\n\n<pre><code>&lt;error-page&gt;\n    &lt;error-code&gt;500&lt;/error-code&gt;\n    &lt;location&gt;/error/500&lt;/location&gt;\n&lt;/error-page&gt;\n\n&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/error/404&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n\n<p>Create new controller </p>\n\n<pre><code>   /**\n     * Error Controller. handles the calls for 404, 500 and 401 HTTP Status codes.\n     */\n    @Controller\n    @RequestMapping(value = ErrorController.ERROR_URL, produces = MediaType.APPLICATION_XHTML_XML_VALUE)\n    public class ErrorController {\n\n\n        /**\n         * The constant ERROR_URL.\n         */\n        public static final String ERROR_URL = \"/error\";\n\n\n        /**\n         * The constant TILE_ERROR.\n         */\n        public static final String TILE_ERROR = \"error.page\";\n\n\n        /**\n         * Page Not Found.\n         *\n         * @return Home Page\n         */\n        @RequestMapping(value = \"/404\", produces = MediaType.APPLICATION_XHTML_XML_VALUE)\n        public ModelAndView notFound() {\n\n            ModelAndView model = new ModelAndView(TILE_ERROR);\n            model.addObject(\"message\", \"The page you requested could not be found. This location may not be current.\");\n\n            return model;\n        }\n\n        /**\n         * Error page.\n         *\n         * @return the model and view\n         */\n        @RequestMapping(value = \"/500\", produces = MediaType.APPLICATION_XHTML_XML_VALUE)\n        public ModelAndView errorPage() {\n            ModelAndView model = new ModelAndView(TILE_ERROR);\n            model.addObject(\"message\", \"The page you requested could not be found. This location may not be current, due to the recent site redesign.\");\n\n            return model;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user957654"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1412505686,"creation_date":1412505686,"answer_id":26201824,"question_id":2066946,"body_markdown":"you can use the [@ControllerAdvice][1] to handle your Exceptions ,\r\nThe default behavior the @ControllerAdvice annotated class will assist all known Controllers.\r\n\r\nso it will be called when any Controller you have throws 404 error .\r\n\r\n like the following : \r\n\r\n    @ControllerAdvice\r\n    class GlobalControllerExceptionHandler {\r\n        @ResponseStatus(HttpStatus.NOT_FOUND)  // 404\r\n        @ExceptionHandler(Exception.class)\r\n        public void handleNoTFound() {\r\n            // Nothing to do\r\n        }\r\n    }\r\n\r\nand map this 404 response error in your web.xml , like the following : \r\n\r\n\r\n    &lt;error-page&gt;\r\n            &lt;error-code&gt;404&lt;/error-code&gt;\r\n            &lt;location&gt;/Error404.html&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\nHope that Helps . \r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html","title":"Trigger 404 in Spring-MVC controller?","body":"<p>you can use the <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\">@ControllerAdvice</a> to handle your Exceptions ,\nThe default behavior the @ControllerAdvice annotated class will assist all known Controllers.</p>\n\n<p>so it will be called when any Controller you have throws 404 error .</p>\n\n<p>like the following : </p>\n\n<pre><code>@ControllerAdvice\nclass GlobalControllerExceptionHandler {\n    @ResponseStatus(HttpStatus.NOT_FOUND)  // 404\n    @ExceptionHandler(Exception.class)\n    public void handleNoTFound() {\n        // Nothing to do\n    }\n}\n</code></pre>\n\n<p>and map this 404 response error in your web.xml , like the following : </p>\n\n<pre><code>&lt;error-page&gt;\n        &lt;error-code&gt;404&lt;/error-code&gt;\n        &lt;location&gt;/Error404.html&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n\n<p>Hope that Helps . </p>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1438342746,"creation_date":1438342746,"answer_id":31745276,"question_id":2066946,"body_markdown":"Since Spring 3.0.2 you can return [ResponseEntity&amp;lt;T&amp;gt;][1] as a result of the controller&#39;s method:\r\n\r\n    @RequestMapping.....\r\n    public ResponseEntity&lt;Object&gt; handleCall() {\r\n        if (isFound()) {\r\n            // do what you want\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        }\r\n        else {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n(ResponseEntity&amp;lt;T&amp;gt; is a more flexible than @ResponseBody annotation - see [another question][2])\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html &quot;ResponseEntity&amp;lt;T&amp;gt;&quot;\r\n  [2]: https://stackoverflow.com/questions/22725143/what-is-the-difference-between-responseentityt-and-responsebody","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Since Spring 3.0.2 you can return <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"noreferrer\" title=\"ResponseEntity&lt;T&gt;\">ResponseEntity&lt;T&gt;</a> as a result of the controller's method:</p>\n\n<pre><code>@RequestMapping.....\npublic ResponseEntity&lt;Object&gt; handleCall() {\n    if (isFound()) {\n        // do what you want\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n    else {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n\n<p>(ResponseEntity&lt;T&gt; is a more flexible than @ResponseBody annotation - see <a href=\"https://stackoverflow.com/questions/22725143/what-is-the-difference-between-responseentityt-and-responsebody\">another question</a>)</p>\n"},{"tags":[],"owner":{"account_id":1218209,"reputation":539,"user_id":1185390,"display_name":"mmatczuk"},"down_vote_count":7,"up_vote_count":13,"is_accepted":false,"score":6,"last_activity_date":1450256465,"creation_date":1450256465,"answer_id":34307704,"question_id":2066946,"body_markdown":"I&#39;d recommend throwing **HttpClientErrorException**, like this\r\n\r\n    @RequestMapping(value = &quot;/sample/&quot;)\r\n\tpublic void sample() {\r\n        if (somethingIsWrong()) {\r\n            throw new HttpClientErrorException(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\nYou must remember that this can be done only before anything is written to servlet output stream.","title":"Trigger 404 in Spring-MVC controller?","body":"<p>I'd recommend throwing <strong>HttpClientErrorException</strong>, like this</p>\n\n<pre><code>@RequestMapping(value = \"/sample/\")\npublic void sample() {\n    if (somethingIsWrong()) {\n        throw new HttpClientErrorException(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n\n<p>You must remember that this can be done only before anything is written to servlet output stream.</p>\n"},{"tags":[],"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1643232346,"creation_date":1490169775,"answer_id":42945860,"question_id":2066946,"body_markdown":"While the marked answer is correct there is a way of achieving this without exceptions. The service is returning `Optional&lt;T&gt;` of the searched object and this is mapped to `HttpStatus.OK` if found and to  404 if empty. \r\n\r\n    @Controller\r\n    public class SomeController {\r\n\r\n        @RequestMapping.....\r\n        public ResponseEntity&lt;Object&gt; handleCall(@PathVariable String param) {\r\n            return  service.find(param)\r\n                    .map(result -&gt; new ResponseEntity&lt;&gt;(result, HttpStatus.OK))\r\n                    .orElse(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND));\r\n        }\r\n    }\r\n\r\n    @Service\r\n    public class Service{\r\n      \r\n        public Optional&lt;Object&gt; find(String param){\r\n            if(!found()){\r\n                return Optional.empty();\r\n            }\r\n            ...\r\n            return Optional.of(data); \r\n        }\r\n        \r\n    }\r\n\r\n","title":"Trigger 404 in Spring-MVC controller?","body":"<p>While the marked answer is correct there is a way of achieving this without exceptions. The service is returning <code>Optional&lt;T&gt;</code> of the searched object and this is mapped to <code>HttpStatus.OK</code> if found and to  404 if empty.</p>\n<pre><code>@Controller\npublic class SomeController {\n\n    @RequestMapping.....\n    public ResponseEntity&lt;Object&gt; handleCall(@PathVariable String param) {\n        return  service.find(param)\n                .map(result -&gt; new ResponseEntity&lt;&gt;(result, HttpStatus.OK))\n                .orElse(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND));\n    }\n}\n\n@Service\npublic class Service{\n  \n    public Optional&lt;Object&gt; find(String param){\n        if(!found()){\n            return Optional.empty();\n        }\n        ...\n        return Optional.of(data); \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9352757,"reputation":483,"user_id":6941879,"display_name":"AbdusSalam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637334021,"creation_date":1504492663,"answer_id":46029597,"question_id":2066946,"body_markdown":"Also if you want to return 404 status from your controller all you need is to do this\r\n\r\n    @RequestMapping(value = &quot;/something&quot;, method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public HttpStatus doSomething(@RequestBody String employeeId) {\r\n        try {\r\n            return HttpStatus.OK;\r\n        } \r\n        catch (Exception ex) { \r\n             return HttpStatus.NOT_FOUND;\r\n        }\r\n    }\r\n\r\nBy doing this you will receive a 404 error in case when you want to return a 404 from your controller.","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Also if you want to return 404 status from your controller all you need is to do this</p>\n<pre><code>@RequestMapping(value = &quot;/something&quot;, method = RequestMethod.POST)\n@ResponseBody\npublic HttpStatus doSomething(@RequestBody String employeeId) {\n    try {\n        return HttpStatus.OK;\n    } \n    catch (Exception ex) { \n         return HttpStatus.NOT_FOUND;\n    }\n}\n</code></pre>\n<p>By doing this you will receive a 404 error in case when you want to return a 404 from your controller.</p>\n"},{"tags":[],"owner":{"account_id":2530531,"reputation":866,"user_id":2198922,"display_name":"pilot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523886486,"creation_date":1523886486,"answer_id":49858906,"question_id":2066946,"body_markdown":"This is a bit late, but if you are using [Spring Data REST][1] then there is already `org.springframework.data.rest.webmvc.ResourceNotFoundException`\r\nIt also uses `@ResponseStatus` annotation. There is no need to create a custom runtime exception anymore.\r\n\r\n\r\n  [1]: https://projects.spring.io/spring-data-rest/","title":"Trigger 404 in Spring-MVC controller?","body":"<p>This is a bit late, but if you are using <a href=\"https://projects.spring.io/spring-data-rest/\" rel=\"nofollow noreferrer\">Spring Data REST</a> then there is already <code>org.springframework.data.rest.webmvc.ResourceNotFoundException</code>\nIt also uses <code>@ResponseStatus</code> annotation. There is no need to create a custom runtime exception anymore.</p>\n"},{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":1,"up_vote_count":135,"is_accepted":false,"score":134,"last_activity_date":1559422748,"creation_date":1555291454,"answer_id":55681551,"question_id":2066946,"body_markdown":"Starting from Spring 5.0, you don&#39;t necessarily need to create additional exceptions:\r\n\r\n```java\r\nthrow new ResponseStatusException(NOT_FOUND, &quot;Unable to find resource&quot;);\r\n```\r\n\r\nAlso, you can cover multiple scenarios with one, built-in exception and you have more control.\r\n\r\nSee more:\r\n\r\n - [ResponseStatusException (javadoc)][1]\r\n - https://www.baeldung.com/spring-response-status-exception\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Starting from Spring 5.0, you don't necessarily need to create additional exceptions:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>throw new ResponseStatusException(NOT_FOUND, \"Unable to find resource\");\n</code></pre>\n\n<p>Also, you can cover multiple scenarios with one, built-in exception and you have more control.</p>\n\n<p>See more:</p>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html\" rel=\"noreferrer\">ResponseStatusException (javadoc)</a></li>\n<li><a href=\"https://www.baeldung.com/spring-response-status-exception\" rel=\"noreferrer\">https://www.baeldung.com/spring-response-status-exception</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1603284,"reputation":499,"user_id":1483911,"display_name":"Jason DeMorrow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562872521,"creation_date":1562872521,"answer_id":56995938,"question_id":2066946,"body_markdown":"Because it&#39;s always good to have at least ten ways of doing the same thing:\r\n\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class Something {\r\n        @RequestMapping(&quot;/path&quot;)\r\n        public ModelAndView somethingPath() {\r\n            return new ModelAndView(&quot;/&quot;, HttpStatus.NOT_FOUND);\r\n        }\r\n    }","title":"Trigger 404 in Spring-MVC controller?","body":"<p>Because it's always good to have at least ten ways of doing the same thing:</p>\n\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class Something {\n    @RequestMapping(\"/path\")\n    public ModelAndView somethingPath() {\n        return new ModelAndView(\"/\", HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":50117,"reputation":6491,"user_id":149374,"accept_rate":72,"display_name":"NA."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193539,"favorite_count":0,"down_vote_count":0,"up_vote_count":232,"accepted_answer_id":2067043,"answer_count":14,"score":232,"last_activity_date":1643232346,"creation_date":1263497413,"question_id":2066946,"body_markdown":"How do I get a [Spring][1] 3.0 controller to trigger a 404?\r\n\r\nI have a controller with `@RequestMapping(value = &quot;/**&quot;, method = RequestMethod.GET)` and for some [URLs][2] accessing the controller, I want the container to come up with a 404.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Spring_Framework\r\n  [2]: http://en.wikipedia.org/wiki/Uniform_Resource_Locator\r\n","title":"Trigger 404 in Spring-MVC controller?","body":"<p>How do I get a <a href=\"http://en.wikipedia.org/wiki/Spring_Framework\" rel=\"noreferrer\">Spring</a> 3.0 controller to trigger a 404?</p>\n\n<p>I have a controller with <code>@RequestMapping(value = \"/**\", method = RequestMethod.GET)</code> and for some <a href=\"http://en.wikipedia.org/wiki/Uniform_Resource_Locator\" rel=\"noreferrer\">URLs</a> accessing the controller, I want the container to come up with a 404.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643232167,"creation_date":1643232167,"answer_id":70870415,"question_id":70869508,"body_markdown":"Sounds like a use case for qualifiers, which enable you to have different implementation beans, and to choose at the injection point which type of bean you prefer:\r\nhttps://jakarta.ee/specifications/cdi/2.0/cdi-spec-2.0.html#qualifiers\r\n\r\nAs an alternative, you may also decide to instantiate your service on your own, not using cdi in any way.","title":"&quot;Bypassing&quot; a mock in Quarkus unit testing","body":"<p>Sounds like a use case for qualifiers, which enable you to have different implementation beans, and to choose at the injection point which type of bean you prefer:\n<a href=\"https://jakarta.ee/specifications/cdi/2.0/cdi-spec-2.0.html#qualifiers\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/cdi/2.0/cdi-spec-2.0.html#qualifiers</a></p>\n<p>As an alternative, you may also decide to instantiate your service on your own, not using cdi in any way.</p>\n"}],"owner":{"account_id":14046066,"reputation":117,"user_id":10146295,"display_name":"Saddex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70870415,"answer_count":1,"score":1,"last_activity_date":1643232167,"creation_date":1643227131,"question_id":70869508,"body_markdown":"I have a Quarkus project where I have most of the business logic placed in services, aka injectable beans using @ApplicationScoped annotations, where all of the CRUD operations take place. In the JAX-RS resource files themselves, the bulk of the logic is just validation, often using whole validation beans. This has meant that we needed to mock our injected services when we tested the resources, to prevent the unit tests from becoming essentially integration tests. We do this having a structure like this (example project);\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe file MockGreetingService.java in turn looks like this:\r\n\r\n````\r\nimport io.quarkus.test.Mock;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\n\r\n@Mock\r\n@ApplicationScoped\r\npublic class MockGreetingService extends GreetingService {\r\n\r\n    @Override\r\n    public String sayHello(String name) {\r\n        return String.format(&quot;Hello %s, your id is %s&quot;, name, &quot;1234&quot;);\r\n    }\r\n}\r\n````\r\n\r\nOur actual project is a bit more sophisticated than this in the way that the mocks always return our DTO classes regardless of input, but the principle is the same as above. They work flawlessly for our JAX-RS resource tests. However, trying to test the actual service beans themselves means problems with this setup. I built a service test, which uses the same annotations and flow as the code below:\r\n\r\n````\r\nimport io.quarkus.test.junit.QuarkusTest;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport javax.inject.Inject;\r\n\r\n@QuarkusTest\r\npublic class GreetingServiceTest {\r\n\r\n    @Inject\r\n    GreetingService greetingService;\r\n\r\n    @Test\r\n    void checkReturnsHello () {\r\n\r\n        String result = greetingService.sayHello();\r\n        System.out.println(result);\r\n        Assertions.assertEquals(&quot;hello Martin! Your country is Italy&quot;, result);\r\n    }\r\n}\r\n````\r\n\r\nWith the dependency injection in the class above, which we don&#39;t do in our resource tests, I expected Quarkus to understand that we want to use the original service in this test. How foolish of me. A simple log has shown that the mock service methods indeed still run in the latter test above.\r\n\r\nNow I wonder - is it a way to disable the mock for this latter test? Preferably without having to modify or remove the mock classes, although I realize that might not be possible in the way I imagine it to be. Thanks in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/qAdLK.png","title":"&quot;Bypassing&quot; a mock in Quarkus unit testing","body":"<p>I have a Quarkus project where I have most of the business logic placed in services, aka injectable beans using @ApplicationScoped annotations, where all of the CRUD operations take place. In the JAX-RS resource files themselves, the bulk of the logic is just validation, often using whole validation beans. This has meant that we needed to mock our injected services when we tested the resources, to prevent the unit tests from becoming essentially integration tests. We do this having a structure like this (example project);</p>\n<p><a href=\"https://i.stack.imgur.com/qAdLK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qAdLK.png\" alt=\"enter image description here\" /></a></p>\n<p>The file MockGreetingService.java in turn looks like this:</p>\n<pre><code>import io.quarkus.test.Mock;\n\nimport javax.enterprise.context.ApplicationScoped;\n\n@Mock\n@ApplicationScoped\npublic class MockGreetingService extends GreetingService {\n\n    @Override\n    public String sayHello(String name) {\n        return String.format(&quot;Hello %s, your id is %s&quot;, name, &quot;1234&quot;);\n    }\n}\n</code></pre>\n<p>Our actual project is a bit more sophisticated than this in the way that the mocks always return our DTO classes regardless of input, but the principle is the same as above. They work flawlessly for our JAX-RS resource tests. However, trying to test the actual service beans themselves means problems with this setup. I built a service test, which uses the same annotations and flow as the code below:</p>\n<pre><code>import io.quarkus.test.junit.QuarkusTest;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport javax.inject.Inject;\n\n@QuarkusTest\npublic class GreetingServiceTest {\n\n    @Inject\n    GreetingService greetingService;\n\n    @Test\n    void checkReturnsHello () {\n\n        String result = greetingService.sayHello();\n        System.out.println(result);\n        Assertions.assertEquals(&quot;hello Martin! Your country is Italy&quot;, result);\n    }\n}\n</code></pre>\n<p>With the dependency injection in the class above, which we don't do in our resource tests, I expected Quarkus to understand that we want to use the original service in this test. How foolish of me. A simple log has shown that the mock service methods indeed still run in the latter test above.</p>\n<p>Now I wonder - is it a way to disable the mock for this latter test? Preferably without having to modify or remove the mock classes, although I realize that might not be possible in the way I imagine it to be. Thanks in advance!</p>\n"},{"tags":["java","elasticsearch","resthighlevelclient"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1643179208,"post_id":70856083,"comment_id":125267977,"body_markdown":"It would help to see the error you get in the ES server logs","body":"It would help to see the error you get in the ES server logs"},{"owner":{"account_id":4050821,"reputation":1003,"user_id":3577482,"accept_rate":70,"display_name":"Ridhwaan Shakeel"},"score":0,"creation_date":1643232170,"post_id":70856083,"comment_id":125288296,"body_markdown":"good point. added new information","body":"good point. added new information"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1643257508,"post_id":70856083,"comment_id":125293413,"body_markdown":"There you go: `No mapping found for [A_JAVA_BOOLEAN_FIELD_NAME] in order to sort on`. You need to add this field to your mapping in order to be able to sort on","body":"There you go: <code>No mapping found for [A_JAVA_BOOLEAN_FIELD_NAME] in order to sort on</code>. You need to add this field to your mapping in order to be able to sort on"}],"owner":{"account_id":4050821,"reputation":1003,"user_id":3577482,"accept_rate":70,"display_name":"Ridhwaan Shakeel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643232139,"creation_date":1643147195,"question_id":70856083,"body_markdown":"Used the Java RestHighLevelClient 7.4.2 to make an `org.elasticsearch.action.search.SearchRequest` in conjunction with `org.elasticsearch.search.sort.FieldSortBuilder`.\r\nIt returned the following  \r\n\r\n```\r\nElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]]\r\n\tat org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:177)\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1727)\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1704)\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1467)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1424)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1394)\r\n\tat org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:930)\r\n\tat models.mainModel.searchDocuments(service.java:50)\r\n    at tests.models.mainModelTest(serviceTest.java:75)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:675)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:125)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:132)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:124)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:74)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:104)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:62)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:43)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:35)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:202)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:198)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:102)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:82)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:78)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:132)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n```\r\nimport org.elasticsearch.search.SearchHit;\r\n// other imports\r\n// import org.elasticsearch.*;\r\n\r\nclass mainModel {\r\n...\r\nFieldSortBuilder instantSort = new FieldSortBuilder(Constants.A_JAVA_INSTANT_FIELD_NAME).order(SortOrder.DESC);\r\nFieldSortBuilder booleanSort = new FieldSortBuilder(Constants.A_JAVA_BOOLEAN_FIELD_NAME).order(SortOrder.DESC);\r\n\r\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n\r\nsearchSourceBuilder\r\n      .query(buildBoolQuery(esSearchQuery))\r\n      .from(from)\r\n      .size(size)\r\n      .sort(booleanSort)\r\n      .sort(instantSort);\r\n\r\nSearchRequest searchRequest = new SearchRequest(getAliases());\r\nsearchRequest.source(searchSourceBuilder);\r\n\r\nSearchHit[] hits = searchDocuments(searchRequest);\r\n\r\nList&lt;DocumentType&gt; documents = new ArrayList&lt;&gt;();\r\nfor (SearchHit hit : hits) {\r\n   documents.add(esDocumentMapper(hit));\r\n}\r\n\r\nreturn documents;\r\n}\r\n\r\n\r\nprivate SearchHit[] searchDocuments(SearchRequest searchRequest) throws IOException {\r\n    // FAILS AT THE LINE BELOW\r\n    final var response = client.search(searchRequest, RequestOptions.DEFAULT).getHits();\r\n\r\n    return response.getHits();\r\n}\r\n \r\n```\r\n\r\nWhen testing requests with GraphQL locally, the expected result set is returned as a GraphQL response \r\nBut the JavaRestHighLevelClient unit test is where it is failing and the above exception is thrown.  \r\n\r\nMost of the ES documents are a particular type extend from an abstract Document class and contain the two fields for sort as seen above. \r\n\r\nNote that the unit test fails when making the searchRequest to sort by both boolean and instant field, but does not fail if sorting by just the instant field.\r\n\r\nFor null results, does FieldSortBuilder not have a default of nulls last, or `.missing(&quot;_last&quot;)`?\r\nDo I need to provide cluster information or more code?\r\n\r\n**EDIT 1**\r\nLooks like a java client implementation is needed to create the missing mapping.  \r\n```\r\n&quot;stacktrace&quot;: [&quot;org.elasticsearch.transport.RemoteTransportException: [1f52672686e3][172.18.0.2:9300][indices:data/read/search[phase/query]]&quot;,\r\n &quot;Caused by: org.elasticsearch.index.query.QueryShardException: No mapping found for [A_JAVA_BOOLEAN_FIELD_NAME] in order to sort on&quot;,\r\n&quot;at org.elasticsearch.search.sort.FieldSortBuilder.build(FieldSortBuilder.java:387) ~[elasticsearch-7.4.2.jar:7.4.2]&quot;,\r\n```\r\nrelated:   \r\nhttps://stackoverflow.com/questions/60916405/elasticsearch-sorts-only-by-a-few-fields-and-throws-an-error-for-others","title":"Getting search_phase_execution_exception when making a SearchRequest with sort options","body":"<p>Used the Java RestHighLevelClient 7.4.2 to make an <code>org.elasticsearch.action.search.SearchRequest</code> in conjunction with <code>org.elasticsearch.search.sort.FieldSortBuilder</code>.\nIt returned the following</p>\n<pre><code>ElasticsearchStatusException[Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]]\n    at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:177)\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1727)\n    at org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1704)\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1467)\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1424)\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1394)\n    at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:930)\n    at models.mainModel.searchDocuments(service.java:50)\n    at tests.models.mainModelTest(serviceTest.java:75)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:675)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:125)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:132)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:124)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:74)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:104)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:62)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:43)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:35)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:202)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:198)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:102)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:82)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:78)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:132)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<pre><code>import org.elasticsearch.search.SearchHit;\n// other imports\n// import org.elasticsearch.*;\n\nclass mainModel {\n...\nFieldSortBuilder instantSort = new FieldSortBuilder(Constants.A_JAVA_INSTANT_FIELD_NAME).order(SortOrder.DESC);\nFieldSortBuilder booleanSort = new FieldSortBuilder(Constants.A_JAVA_BOOLEAN_FIELD_NAME).order(SortOrder.DESC);\n\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n\nsearchSourceBuilder\n      .query(buildBoolQuery(esSearchQuery))\n      .from(from)\n      .size(size)\n      .sort(booleanSort)\n      .sort(instantSort);\n\nSearchRequest searchRequest = new SearchRequest(getAliases());\nsearchRequest.source(searchSourceBuilder);\n\nSearchHit[] hits = searchDocuments(searchRequest);\n\nList&lt;DocumentType&gt; documents = new ArrayList&lt;&gt;();\nfor (SearchHit hit : hits) {\n   documents.add(esDocumentMapper(hit));\n}\n\nreturn documents;\n}\n\n\nprivate SearchHit[] searchDocuments(SearchRequest searchRequest) throws IOException {\n    // FAILS AT THE LINE BELOW\n    final var response = client.search(searchRequest, RequestOptions.DEFAULT).getHits();\n\n    return response.getHits();\n}\n \n</code></pre>\n<p>When testing requests with GraphQL locally, the expected result set is returned as a GraphQL response\nBut the JavaRestHighLevelClient unit test is where it is failing and the above exception is thrown.</p>\n<p>Most of the ES documents are a particular type extend from an abstract Document class and contain the two fields for sort as seen above.</p>\n<p>Note that the unit test fails when making the searchRequest to sort by both boolean and instant field, but does not fail if sorting by just the instant field.</p>\n<p>For null results, does FieldSortBuilder not have a default of nulls last, or <code>.missing(&quot;_last&quot;)</code>?\nDo I need to provide cluster information or more code?</p>\n<p><strong>EDIT 1</strong>\nLooks like a java client implementation is needed to create the missing mapping.</p>\n<pre><code>&quot;stacktrace&quot;: [&quot;org.elasticsearch.transport.RemoteTransportException: [1f52672686e3][172.18.0.2:9300][indices:data/read/search[phase/query]]&quot;,\n &quot;Caused by: org.elasticsearch.index.query.QueryShardException: No mapping found for [A_JAVA_BOOLEAN_FIELD_NAME] in order to sort on&quot;,\n&quot;at org.elasticsearch.search.sort.FieldSortBuilder.build(FieldSortBuilder.java:387) ~[elasticsearch-7.4.2.jar:7.4.2]&quot;,\n</code></pre>\n<p>related:<br />\n<a href=\"https://stackoverflow.com/questions/60916405/elasticsearch-sorts-only-by-a-few-fields-and-throws-an-error-for-others\">elasticsearch sorts only by a few fields, and throws an error for others</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8765257,"reputation":1,"user_id":9661526,"display_name":"Leonardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586278855,"creation_date":1586278855,"answer_id":61085374,"question_id":61085056,"body_markdown":"You can use a [Map][1]! Try something like this:\r\n```\r\npublic Map&lt;Integer, Integer&gt; numberOfOrdersOnHold(List&lt;Orders&gt; orders) {\r\n    final Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for (Orders o : orders) {\r\n        int currentNumber = o.getCustomerNumber();\r\n\r\n        // if map doesn&#39;t contain the key to the corresponding customer, were gonna add it\r\n        if (!map.containsKey(currentNumber)) {\r\n            map.put(currentNumber, 0);\r\n        }\r\n\r\n        // if the status is &quot;On hold&quot;, increment the counter to the current customer\r\n        if (&quot;On hold&quot;.equals(o.getStatus())) {\r\n            map.put(currentNumber, map.get(currentNumber) + 1);\r\n        }\r\n    }\r\n    return map;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Map.html","title":"ArrayList occurance of object type","body":"<p>You can use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a>! Try something like this:</p>\n\n<pre><code>public Map&lt;Integer, Integer&gt; numberOfOrdersOnHold(List&lt;Orders&gt; orders) {\n    final Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n    for (Orders o : orders) {\n        int currentNumber = o.getCustomerNumber();\n\n        // if map doesn't contain the key to the corresponding customer, were gonna add it\n        if (!map.containsKey(currentNumber)) {\n            map.put(currentNumber, 0);\n        }\n\n        // if the status is \"On hold\", increment the counter to the current customer\n        if (\"On hold\".equals(o.getStatus())) {\n            map.put(currentNumber, map.get(currentNumber) + 1);\n        }\n    }\n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643231910,"creation_date":1586280241,"answer_id":61085783,"question_id":61085056,"body_markdown":"Do it as follows:\r\n\r\n    import java.util.List;\r\n    \r\n    enum OrderStatus {\r\n    \tONHOLD(&quot;On Hold&quot;), APPROVED(&quot;Approved&quot;), DELIVERED(&quot;Delivered&quot;);\r\n    \r\n    \tprivate final String statusCode;\r\n    \r\n    \tprivate OrderStatus(String statusCode) {\r\n    \t\tthis.statusCode = statusCode;\r\n    \t}\r\n    }\r\n    \r\n    class Order {\r\n    \tprivate OrderStatus status = null;\r\n    \tprivate int customerNumber = 0;\r\n    \r\n    \tpublic Order(OrderStatus status, int customerNumber) {\r\n    \t\tthis.status = status;\r\n    \t\tthis.customerNumber = customerNumber;\r\n    \t}\r\n    \r\n    \tpublic OrderStatus getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \r\n    \tpublic void setStatus(OrderStatus status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tpublic int getCustomerNumber() {\r\n    \t\treturn customerNumber;\r\n    \t}\r\n    \r\n    \tpublic void setCustomerNumber(int customerNumber) {\r\n    \t\tthis.customerNumber = customerNumber;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Order [status=&quot; + status + &quot;, customerNumber=&quot; + customerNumber + &quot;]&quot;;\r\n    \t}\r\n    }\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Order&gt; orders = List.of(new Order(OrderStatus.ONHOLD, 1234), new Order(OrderStatus.APPROVED, 1234),\r\n    \t\t\t\tnew Order(OrderStatus.ONHOLD, 2345), new Order(OrderStatus.APPROVED, 1234),\r\n    \t\t\t\tnew Order(OrderStatus.ONHOLD, 1234), new Order(OrderStatus.ONHOLD, 2345));\r\n    \t\tSystem.out.println(&quot;Customer#1234 has &quot; + numberOfOrdersOnHold(orders, 1234) + &quot; order(s) on hold&quot;);\r\n    \t}\r\n    \r\n    \tstatic int numberOfOrdersOnHold(List&lt;Order&gt; orders, int customerNumber) {\r\n    \t\tint count = 0;\r\n    \t\tfor (Order order : orders) {\r\n    \t\t\tif (order.getCustomerNumber() == customerNumber &amp;&amp; order.getStatus() == OrderStatus.ONHOLD) {\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn count;\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Customer#1234 has 2 order(s) on hold\r\n\r\n**Notes:**\r\n\r\n 1. Use `enum` for status values as it makes easy for you to write and maintain the code. Check [this][1] to learn more about Java `enum`.\r\n 2. Follow [Java naming conventions][2] e.g. `NumberOfOrdersOnHold` should be named as `numberOfOrdersOnHold`.\r\n 3. The function, `numberOfOrdersOnHold` also requires the customer number whose order status has to be found.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [2]: https://www.oracle.com/technetwork/java/codeconventions-135099.html","title":"ArrayList occurance of object type","body":"<p>Do it as follows:</p>\n<pre><code>import java.util.List;\n\nenum OrderStatus {\n    ONHOLD(&quot;On Hold&quot;), APPROVED(&quot;Approved&quot;), DELIVERED(&quot;Delivered&quot;);\n\n    private final String statusCode;\n\n    private OrderStatus(String statusCode) {\n        this.statusCode = statusCode;\n    }\n}\n\nclass Order {\n    private OrderStatus status = null;\n    private int customerNumber = 0;\n\n    public Order(OrderStatus status, int customerNumber) {\n        this.status = status;\n        this.customerNumber = customerNumber;\n    }\n\n    public OrderStatus getStatus() {\n        return status;\n    }\n\n    public void setStatus(OrderStatus status) {\n        this.status = status;\n    }\n\n    public int getCustomerNumber() {\n        return customerNumber;\n    }\n\n    public void setCustomerNumber(int customerNumber) {\n        this.customerNumber = customerNumber;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Order [status=&quot; + status + &quot;, customerNumber=&quot; + customerNumber + &quot;]&quot;;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Order&gt; orders = List.of(new Order(OrderStatus.ONHOLD, 1234), new Order(OrderStatus.APPROVED, 1234),\n                new Order(OrderStatus.ONHOLD, 2345), new Order(OrderStatus.APPROVED, 1234),\n                new Order(OrderStatus.ONHOLD, 1234), new Order(OrderStatus.ONHOLD, 2345));\n        System.out.println(&quot;Customer#1234 has &quot; + numberOfOrdersOnHold(orders, 1234) + &quot; order(s) on hold&quot;);\n    }\n\n    static int numberOfOrdersOnHold(List&lt;Order&gt; orders, int customerNumber) {\n        int count = 0;\n        for (Order order : orders) {\n            if (order.getCustomerNumber() == customerNumber &amp;&amp; order.getStatus() == OrderStatus.ONHOLD) {\n                count++;\n            }\n        }\n        return count;\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Customer#1234 has 2 order(s) on hold\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ol>\n<li>Use <code>enum</code> for status values as it makes easy for you to write and maintain the code. Check <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">this</a> to learn more about Java <code>enum</code>.</li>\n<li>Follow <a href=\"https://www.oracle.com/technetwork/java/codeconventions-135099.html\" rel=\"nofollow noreferrer\">Java naming conventions</a> e.g. <code>NumberOfOrdersOnHold</code> should be named as <code>numberOfOrdersOnHold</code>.</li>\n<li>The function, <code>numberOfOrdersOnHold</code> also requires the customer number whose order status has to be found.</li>\n</ol>\n"}],"owner":{"account_id":18208020,"reputation":29,"user_id":13251082,"display_name":"gumecf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61085783,"answer_count":2,"score":2,"last_activity_date":1643231910,"creation_date":1586277860,"question_id":61085056,"body_markdown":"I have a class of orders and I want to see how many times a unique customerNumber will get mapped to a status reading &quot;On Hold&quot;\r\n\r\n  \r\n\r\n   \r\n\r\n    public class Orders {\r\n\tprivate String status = null;\r\n\tprivate int customerNumber = 0;\r\n\r\n\tpublic Orders(String status, int customerNumber) {\r\n\t\tsuper();\r\n\t\tthis.status = status;\r\n\t\tthis.customerNumber = customerNumber;\r\n\t}\r\n    }\r\n    \r\n\r\n\r\n\r\n    public int NumberOfOrdersOnHold(List&lt;Orders&gt; orders) {\r\n\t\tint sum = 0;\r\n\t\tfor (Orders o : orders) {\r\n\t\t\tif(o.getStatus().contentEquals(&quot;On Hold&quot;));\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nI was thinking a counter method would work but it wouldnt. how will i achieve this method.I need numbers of orders in hold for each customerNumber not the total number.  ","title":"ArrayList occurance of object type","body":"<p>I have a class of orders and I want to see how many times a unique customerNumber will get mapped to a status reading \"On Hold\"</p>\n\n<pre><code>public class Orders {\nprivate String status = null;\nprivate int customerNumber = 0;\n\npublic Orders(String status, int customerNumber) {\n    super();\n    this.status = status;\n    this.customerNumber = customerNumber;\n}\n}\n\n\n\n\npublic int NumberOfOrdersOnHold(List&lt;Orders&gt; orders) {\n    int sum = 0;\n    for (Orders o : orders) {\n        if(o.getStatus().contentEquals(\"On Hold\"));\n    }\n\n}\n</code></pre>\n\n<p>I was thinking a counter method would work but it wouldnt. how will i achieve this method.I need numbers of orders in hold for each customerNumber not the total number.  </p>\n"},{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"score":0,"creation_date":1586346919,"post_id":61100016,"comment_id":108093709,"body_markdown":"Three else-ifs with the same condition (N%2)==0? That&#39;s not working.","body":"Three else-ifs with the same condition (N%2)==0? That&#39;s not working."}],"answers":[{"tags":[],"owner":{"account_id":16962122,"reputation":168,"user_id":13204864,"display_name":"Dejke"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1586347271,"creation_date":1586347071,"answer_id":61100129,"question_id":61100016,"body_markdown":"Since you&#39;re printing ans in every possible case, it can be outside of the if statements.\r\n```java\r\n\r\nif ((N % 2) == 1) {\r\n    ans += &quot;Weird&quot;;\r\n}\r\nelse { //We know N is not odd, so it must be even\r\n    if (N &lt;= 5) {\r\n        ans += &quot;Not Weird&quot;;\r\n    }\r\n    else if (N &lt;= 20) { //We know N&lt;=5 is false, so N&gt;5 must be true\r\n        ans += &quot;Weird&quot;;\r\n    }\r\n    else{ //we know N&lt;=20 is false, so N &gt;20 must be true\r\n        ans += &quot;Not Weird&quot;;\r\n    }\r\n}\r\nSystem.out.println(ans);\r\n```","title":"using if else statement to scan and print odd and even numbers","body":"<p>Since you're printing ans in every possible case, it can be outside of the if statements.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\nif ((N % 2) == 1) {\n    ans += \"Weird\";\n}\nelse { //We know N is not odd, so it must be even\n    if (N &lt;= 5) {\n        ans += \"Not Weird\";\n    }\n    else if (N &lt;= 20) { //We know N&lt;=5 is false, so N&gt;5 must be true\n        ans += \"Weird\";\n    }\n    else{ //we know N&lt;=20 is false, so N &gt;20 must be true\n        ans += \"Not Weird\";\n    }\n}\nSystem.out.println(ans);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18216256,"reputation":35,"user_id":13257889,"display_name":"Rahul Nishad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586347861,"creation_date":1586347861,"answer_id":61100369,"question_id":61100016,"body_markdown":"Try this code.\r\n\r\n    import java.util.*;\r\n    \r\n    public class Solution {\r\n        public static final Scanner scanner = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            int N = scanner.nextInt();\r\n            scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n    \r\n            scanner.close();\r\n    \r\n            String ans = &quot;&quot;;\r\n    \r\n            if ((N % 2) == 1) {\r\n                ans += &quot;Weird&quot;;\r\n            } else {\r\n                if (N &lt;= 5) {\r\n                    ans += &quot;Not Weird&quot;;\r\n                } else if (N &lt;= 20) {\r\n                    ans += &quot;Weird&quot;;\r\n                } else {\r\n                    ans += &quot;Not Weird&quot;;\r\n                }\r\n            }\r\n            System.out.println(ans);\r\n        }\r\n    }","title":"using if else statement to scan and print odd and even numbers","body":"<p>Try this code.</p>\n\n<pre><code>import java.util.*;\n\npublic class Solution {\n    public static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int N = scanner.nextInt();\n        scanner.skip(\"(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?\");\n\n        scanner.close();\n\n        String ans = \"\";\n\n        if ((N % 2) == 1) {\n            ans += \"Weird\";\n        } else {\n            if (N &lt;= 5) {\n                ans += \"Not Weird\";\n            } else if (N &lt;= 20) {\n                ans += \"Weird\";\n            } else {\n                ans += \"Not Weird\";\n            }\n        }\n        System.out.println(ans);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643231884,"creation_date":1586348794,"answer_id":61100642,"question_id":61100016,"body_markdown":"Using ternary operators, you can fulfil the criteria in just one line of code:\r\n\r\n    n % 2 != 0 ? &quot;Weird&quot;\r\n    \t\t\t\t: (n &gt;= 2 &amp;&amp; n &lt;= 5 ? &quot;Not Weird&quot; : (n &gt;= 6 &amp;&amp; n &lt;= 20 ? &quot;Weird&quot; : (n &gt; 20 ? &quot;Not Weird&quot; : &quot;&quot;)))\r\n\r\n**Demo:**\r\n\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Create a list of test integers from 1 to 25\r\n    \t\tList&lt;Integer&gt; testNumbers = IntStream.rangeClosed(1, 25).boxed().collect(Collectors.toList());\r\n    \t\tfor (int n : testNumbers) {\r\n    \t\t\tSystem.out.println(n + &quot; -&gt; &quot; + whatIsIt(n));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic String whatIsIt(int n) {\r\n    \t\treturn n % 2 != 0 ? &quot;Weird&quot;\r\n    \t\t\t\t: (n &gt;= 2 &amp;&amp; n &lt;= 5 ? &quot;Not Weird&quot; : (n &gt;= 6 &amp;&amp; n &lt;= 20 ? &quot;Weird&quot; : (n &gt; 20 ? &quot;Not Weird&quot; : &quot;&quot;)));\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    1 -&gt; Weird\r\n    2 -&gt; Not Weird\r\n    3 -&gt; Weird\r\n    4 -&gt; Not Weird\r\n    5 -&gt; Weird\r\n    6 -&gt; Weird\r\n    7 -&gt; Weird\r\n    8 -&gt; Weird\r\n    9 -&gt; Weird\r\n    10 -&gt; Weird\r\n    11 -&gt; Weird\r\n    12 -&gt; Weird\r\n    13 -&gt; Weird\r\n    14 -&gt; Weird\r\n    15 -&gt; Weird\r\n    16 -&gt; Weird\r\n    17 -&gt; Weird\r\n    18 -&gt; Weird\r\n    19 -&gt; Weird\r\n    20 -&gt; Weird\r\n    21 -&gt; Weird\r\n    22 -&gt; Not Weird\r\n    23 -&gt; Weird\r\n    24 -&gt; Not Weird\r\n    25 -&gt; Weird\r\n","title":"using if else statement to scan and print odd and even numbers","body":"<p>Using ternary operators, you can fulfil the criteria in just one line of code:</p>\n<pre><code>n % 2 != 0 ? &quot;Weird&quot;\n                : (n &gt;= 2 &amp;&amp; n &lt;= 5 ? &quot;Not Weird&quot; : (n &gt;= 6 &amp;&amp; n &lt;= 20 ? &quot;Weird&quot; : (n &gt; 20 ? &quot;Not Weird&quot; : &quot;&quot;)))\n</code></pre>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Create a list of test integers from 1 to 25\n        List&lt;Integer&gt; testNumbers = IntStream.rangeClosed(1, 25).boxed().collect(Collectors.toList());\n        for (int n : testNumbers) {\n            System.out.println(n + &quot; -&gt; &quot; + whatIsIt(n));\n        }\n    }\n\n    static String whatIsIt(int n) {\n        return n % 2 != 0 ? &quot;Weird&quot;\n                : (n &gt;= 2 &amp;&amp; n &lt;= 5 ? &quot;Not Weird&quot; : (n &gt;= 6 &amp;&amp; n &lt;= 20 ? &quot;Weird&quot; : (n &gt; 20 ? &quot;Not Weird&quot; : &quot;&quot;)));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>1 -&gt; Weird\n2 -&gt; Not Weird\n3 -&gt; Weird\n4 -&gt; Not Weird\n5 -&gt; Weird\n6 -&gt; Weird\n7 -&gt; Weird\n8 -&gt; Weird\n9 -&gt; Weird\n10 -&gt; Weird\n11 -&gt; Weird\n12 -&gt; Weird\n13 -&gt; Weird\n14 -&gt; Weird\n15 -&gt; Weird\n16 -&gt; Weird\n17 -&gt; Weird\n18 -&gt; Weird\n19 -&gt; Weird\n20 -&gt; Weird\n21 -&gt; Weird\n22 -&gt; Not Weird\n23 -&gt; Weird\n24 -&gt; Not Weird\n25 -&gt; Weird\n</code></pre>\n"}],"owner":{"account_id":13537232,"reputation":127,"user_id":9766032,"display_name":"Jay Dee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61100642,"answer_count":3,"score":1,"last_activity_date":1643231884,"creation_date":1586346727,"question_id":61100016,"body_markdown":"I am having a problem with this if else statement. The requirement is:\r\n\r\n - If n is odd, print Weird \r\n - If n is even and in the inclusive range of 2    to 5, print Not Weird\r\n - If n is even and in the inclusive range of 6 to    20, print Weird\r\n - If n is even and greater than 20, print Not Weird.\r\n\r\nWhen the input number is **18** the output is expected to be **Weird.** Same for the input number **20**.\r\n\r\n        import java.util.*;\r\n    \r\n    public class Solution {\r\n        public static final Scanner scanner = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            int N = scanner.nextInt();\r\n            scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n    \r\n            scanner.close();\r\n    \r\n            String ans = &quot;&quot;;\r\n    \r\n            if ((N % 2) == 1) {\r\n                ans += &quot;Weird&quot;;\r\n                System.out.println(ans);\r\n            } \r\n            else if ((N % 2) == 0) {\r\n                if (N &gt;= 2 || N &lt;= 5) {\r\n                    ans += &quot;Not Weird&quot;;\r\n                    System.out.println(ans);\r\n                }\r\n            } \r\n            else if ((N % 2) == 0) {\r\n                if (N &gt;= 6 || N &lt;= 20) {\r\n                    ans += &quot;Weird&quot;;\r\n                    System.out.println(ans);\r\n                }\r\n            } \r\n            else if ((N % 2) == 0) {\r\n                if (N &gt; 20) {\r\n                    ans += &quot;Not Weird&quot;;\r\n                    System.out.println(ans);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nEdit: But when I input the number 18 instead of Weird the output comes as **Not Weird.**, same for number 20.","title":"using if else statement to scan and print odd and even numbers","body":"<p>I am having a problem with this if else statement. The requirement is:</p>\n\n<ul>\n<li>If n is odd, print Weird </li>\n<li>If n is even and in the inclusive range of 2    to 5, print Not Weird</li>\n<li>If n is even and in the inclusive range of 6 to    20, print Weird</li>\n<li>If n is even and greater than 20, print Not Weird.</li>\n</ul>\n\n<p>When the input number is <strong>18</strong> the output is expected to be <strong>Weird.</strong> Same for the input number <strong>20</strong>.</p>\n\n<pre><code>    import java.util.*;\n\npublic class Solution {\n    public static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int N = scanner.nextInt();\n        scanner.skip(\"(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?\");\n\n        scanner.close();\n\n        String ans = \"\";\n\n        if ((N % 2) == 1) {\n            ans += \"Weird\";\n            System.out.println(ans);\n        } \n        else if ((N % 2) == 0) {\n            if (N &gt;= 2 || N &lt;= 5) {\n                ans += \"Not Weird\";\n                System.out.println(ans);\n            }\n        } \n        else if ((N % 2) == 0) {\n            if (N &gt;= 6 || N &lt;= 20) {\n                ans += \"Weird\";\n                System.out.println(ans);\n            }\n        } \n        else if ((N % 2) == 0) {\n            if (N &gt; 20) {\n                ans += \"Not Weird\";\n                System.out.println(ans);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Edit: But when I input the number 18 instead of Weird the output comes as <strong>Not Weird.</strong>, same for number 20.</p>\n"},{"tags":["java","macos","freeze","macos-catalina","filedialog"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1607905830,"post_id":65281530,"comment_id":115411964,"body_markdown":"Try setting the frame visiable first `frame.setVisible(true);`","body":"Try setting the frame visiable first <code>frame.setVisible(true);</code>"},{"owner":{"account_id":12352731,"reputation":41,"user_id":9010491,"display_name":"Lana Del Slay"},"score":0,"creation_date":1607907020,"post_id":65281530,"comment_id":115412206,"body_markdown":"I actually had tried that before, but just tried it again for good measure, but still no dice!","body":"I actually had tried that before, but just tried it again for good measure, but still no dice!"}],"answers":[{"tags":[],"owner":{"account_id":12352731,"reputation":41,"user_id":9010491,"display_name":"Lana Del Slay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607916258,"creation_date":1607916258,"answer_id":65283187,"question_id":65281530,"body_markdown":"OMG. It only took me all day, but I only needed to make the FileDialog run on it&#39;s own thread. Hopefully this&#39;ll save some other noob&#39;s time lol. My new code looks like this: \r\n```\r\npublic class threadTest extends Thread {\r\n\tpublic void run(){  \r\n\t    JFrame frame = new JFrame();\r\n        System.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\r\n        FileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\r\n        fd.setVisible(true);\r\n\t\tString filename = fd.getFile();\r\n\t  }    \r\n}\r\n``` \r\nand I called it like this \r\n```\r\n threadTest test=new threadTest();   \r\n test.start(); \r\n```","title":"FileDialog hanging on Mac OS in JFX Application","body":"<p>OMG. It only took me all day, but I only needed to make the FileDialog run on it's own thread. Hopefully this'll save some other noob's time lol. My new code looks like this:</p>\n<pre><code>public class threadTest extends Thread {\n    public void run(){  \n        JFrame frame = new JFrame();\n        System.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\n        FileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\n        fd.setVisible(true);\n        String filename = fd.getFile();\n      }    \n}\n</code></pre>\n<p>and I called it like this</p>\n<pre><code> threadTest test=new threadTest();   \n test.start(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24065114,"reputation":1,"user_id":18041799,"display_name":"Julie Megan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643231618,"creation_date":1643231618,"answer_id":70870330,"question_id":65281530,"body_markdown":"Execute `dispose()` on the JFrame and FileDialog when finished. e.g.\r\n\r\n    JFrame frame = new JFrame();\r\n    System.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\r\n    FileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\r\n    fd.setVisible(true);\r\n    String filename = fd.getFile();           \r\n    frame.dispose();\r\n    fd.dispose();\r\n\r\nAlternatively, you can try `System.exit()`. e.g.\r\n\r\n    JFrame frame = new JFrame();\r\n    System.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\r\n    FileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\r\n    fd.setVisible(true);\r\n    String filename = fd.getFile();           \r\n    System.exit();\r\n\r\n\r\nThere is some debate as to which approach is better [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13360430/jframe-dispose-vs-system-exit","title":"FileDialog hanging on Mac OS in JFX Application","body":"<p>Execute <code>dispose()</code> on the JFrame and FileDialog when finished. e.g.</p>\n<pre><code>JFrame frame = new JFrame();\nSystem.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\nFileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\nfd.setVisible(true);\nString filename = fd.getFile();           \nframe.dispose();\nfd.dispose();\n</code></pre>\n<p>Alternatively, you can try <code>System.exit()</code>. e.g.</p>\n<pre><code>JFrame frame = new JFrame();\nSystem.setProperty(&quot;com.apple.macos.use-file-dialog-packages&quot;, &quot;true&quot;);\nFileDialog fd = new FileDialog(frame, &quot;choose_file&quot;, FileDialog.LOAD);\nfd.setVisible(true);\nString filename = fd.getFile();           \nSystem.exit();\n</code></pre>\n<p>There is some debate as to which approach is better <a href=\"https://stackoverflow.com/questions/13360430/jframe-dispose-vs-system-exit\">here</a>.</p>\n"}],"owner":{"account_id":12352731,"reputation":41,"user_id":9010491,"display_name":"Lana Del Slay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643231618,"creation_date":1607899922,"question_id":65281530,"body_markdown":"So far, I&#39;ve tried to run this on a fresh Mojave, and my main Catalina installation with the same hanging results. The code snippet to open FileDialog runs fine independently in a separate project, but if I create another class in the same package and call it like that, it&#39;s the same deal - still hanging. It&#39;s being called within the controller if that makes a difference (I&#39;ve tried JFileChooser which also hangs, and seems to have a history of hanging on OS X. To reiterate I also tried extracting the code to open the dialog to a different class aswell.) It hangs when it reaches `fd.setVisible(true);`. I&#39;ve tried disabling iCloud as I&#39;ve heard that can cause issues, I&#39;ve also disabled SIPS as a test. I&#39;m not even sure how I can debug this further now. Any help would be super appreciated!\r\n\r\n```\r\n        \tJFrame frame = new JFrame();\r\n            System.setProperty(&quot;apple.awt.fileDialogForDirectories&quot;, &quot;true&quot;);\r\n    \t\tFileDialog fd = new FileDialog(frame, &quot;Choose a file&quot;, FileDialog.LOAD);\r\n    \t\tfd.setVisible(true);\r\n    \t\tString filename = fd.getFile();\r\n    \t\tSystem.out.println(filename);\r\n\r\n```\r\n","title":"FileDialog hanging on Mac OS in JFX Application","body":"<p>So far, I've tried to run this on a fresh Mojave, and my main Catalina installation with the same hanging results. The code snippet to open FileDialog runs fine independently in a separate project, but if I create another class in the same package and call it like that, it's the same deal - still hanging. It's being called within the controller if that makes a difference (I've tried JFileChooser which also hangs, and seems to have a history of hanging on OS X. To reiterate I also tried extracting the code to open the dialog to a different class aswell.) It hangs when it reaches <code>fd.setVisible(true);</code>. I've tried disabling iCloud as I've heard that can cause issues, I've also disabled SIPS as a test. I'm not even sure how I can debug this further now. Any help would be super appreciated!</p>\n<pre><code>            JFrame frame = new JFrame();\n            System.setProperty(&quot;apple.awt.fileDialogForDirectories&quot;, &quot;true&quot;);\n            FileDialog fd = new FileDialog(frame, &quot;Choose a file&quot;, FileDialog.LOAD);\n            fd.setVisible(true);\n            String filename = fd.getFile();\n            System.out.println(filename);\n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"display_name":"user5398447"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362579627,"creation_date":1362579315,"answer_id":15249625,"question_id":15249578,"body_markdown":"Why is name an integer? `int name;`\r\n\r\nI suspect you are using alpha characters to input your name...and are getting the exception at this line: `name = in.nextInt();`\r\n\r\n`name` **should not** be an integer. It **should** be a string.\r\n\r\nTherefore, `string name;` and `name = in.nextLine();`\r\n\r\n","title":"Exception in thread main java.util.InputMismatchException error","body":"<p>Why is name an integer? <code>int name;</code></p>\n\n<p>I suspect you are using alpha characters to input your name...and are getting the exception at this line: <code>name = in.nextInt();</code></p>\n\n<p><code>name</code> <strong>should not</strong> be an integer. It <strong>should</strong> be a string.</p>\n\n<p>Therefore, <code>string name;</code> and <code>name = in.nextLine();</code></p>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1362579655,"creation_date":1362579352,"answer_id":15249638,"question_id":15249578,"body_markdown":"**Issues**\r\n\r\n     int name; //Name should be of type String\r\n     ...\r\n     System.out.println(&quot;Enter in your name&quot;);\r\n     name = in.nextInt(); //It doesn&#39;t handle the string since your using `nextInt`\r\n\r\n**Solution**\r\n\r\n     String name;\r\n     ...\r\n     System.out.println(&quot;Enter in your name&quot;);\r\n     name = in.nextLine();\r\n\r\n","title":"Exception in thread main java.util.InputMismatchException error","body":"<p><strong>Issues</strong></p>\n\n<pre><code> int name; //Name should be of type String\n ...\n System.out.println(\"Enter in your name\");\n name = in.nextInt(); //It doesn't handle the string since your using `nextInt`\n</code></pre>\n\n<p><strong>Solution</strong></p>\n\n<pre><code> String name;\n ...\n System.out.println(\"Enter in your name\");\n name = in.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362580055,"creation_date":1362579379,"answer_id":15249647,"question_id":15249578,"body_markdown":"It means that your program has tried to read a value that as an integer that is not an integer. \r\n\r\n   when using `name = in.nextInt();`\r\n\r\nit should be string.not int","title":"Exception in thread main java.util.InputMismatchException error","body":"<p>It means that your program has tried to read a value that as an integer that is not an integer. </p>\n\n<p>when using <code>name = in.nextInt();</code></p>\n\n<p>it should be string.not int</p>\n"},{"tags":[],"owner":{"account_id":18382490,"reputation":1,"user_id":13390293,"display_name":"user13390293"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1587670911,"creation_date":1587642556,"answer_id":61386534,"question_id":15249578,"body_markdown":"    import java.util.*;\r\n    class Employe\r\n    {\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tEmploye(int id,String name)\r\n    \t{\r\n    \t\tthis.id=id;\r\n    \t\tthis.name=name;\r\n    \t}\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n    public class Quarantine {\r\n    public static void main(String[] args) {\r\n    \tEmploye empList[]=new Employe[2];\r\n    \tScanner sc=new Scanner(System.in);\r\n    \tfor(int index=0;index&lt;empList.length;index++) {\r\n    \tint id=sc.nextInt();\r\n    \tString name=sc.nextLine(); \r\n    \tempList[index]=new Employe(id,name);\r\n    \t}\r\n    \tfor(int index=0;index&lt;empList.length;index++) {\r\n    \t\tSystem.out.println(empList[index].getId()+&quot; &quot;+empList[index].getName());\r\n    \t\t}}\r\n    }\r\n    \r\n    \r\nif I give input as 1, a\r\n\r\nit will show error because both are taken as character\r\n\r\nI need to give input as 124, a run","title":"Exception in thread main java.util.InputMismatchException error","body":"<pre><code>import java.util.*;\nclass Employe\n{\n    private int id;\n    private String name;\n    Employe(int id,String name)\n    {\n        this.id=id;\n        this.name=name;\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\npublic class Quarantine {\npublic static void main(String[] args) {\n    Employe empList[]=new Employe[2];\n    Scanner sc=new Scanner(System.in);\n    for(int index=0;index&lt;empList.length;index++) {\n    int id=sc.nextInt();\n    String name=sc.nextLine(); \n    empList[index]=new Employe(id,name);\n    }\n    for(int index=0;index&lt;empList.length;index++) {\n        System.out.println(empList[index].getId()+\" \"+empList[index].getName());\n        }}\n}\n</code></pre>\n\n<p>if I give input as 1, a</p>\n\n<p>it will show error because both are taken as character</p>\n\n<p>I need to give input as 124, a run</p>\n"},{"tags":[],"owner":{"account_id":15562223,"reputation":1,"user_id":11227062,"display_name":"Sridhar Reddy Alapati"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597830564,"creation_date":1597830564,"answer_id":63484323,"question_id":15249578,"body_markdown":"*name = in.nextInt();*\r\nas you required user name so obviously it will be String type so use either\r\n**name=in.next()** or **name=in.nextLine()**.\r\n i hope it will work now.","title":"Exception in thread main java.util.InputMismatchException error","body":"<p><em>name = in.nextInt();</em>\nas you required user name so obviously it will be String type so use either\n<strong>name=in.next()</strong> or <strong>name=in.nextLine()</strong>.\ni hope it will work now.</p>\n"},{"tags":[],"owner":{"account_id":21124725,"reputation":1,"user_id":15530183,"display_name":"Aman kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635355900,"creation_date":1635355900,"answer_id":69743122,"question_id":15249578,"body_markdown":"Exception in thread &quot;main&quot; java.util.InputMismatchException\r\nat java.util.Scanner.throwFor(Unknown Source)\r\n\r\nLet me explain why you have encountered this type of error\r\nYou defined **name** variable as **int** but in the console you would be giving  **string** as input. So compiler will throw error as InputMismatchException.\r\nBetter to make name variable as string :)\r\n","title":"Exception in thread main java.util.InputMismatchException error","body":"<p>Exception in thread &quot;main&quot; java.util.InputMismatchException\nat java.util.Scanner.throwFor(Unknown Source)</p>\n<p>Let me explain why you have encountered this type of error\nYou defined <strong>name</strong> variable as <strong>int</strong> but in the console you would be giving  <strong>string</strong> as input. So compiler will throw error as InputMismatchException.\nBetter to make name variable as string :)</p>\n"},{"tags":[],"owner":{"account_id":12964319,"reputation":69,"user_id":9372460,"display_name":"vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635496391,"creation_date":1635490704,"answer_id":69764805,"question_id":15249578,"body_markdown":"Corrected Code:\r\n    \r\n    import java.util.*;  \r\n    import java.io.*; \r\n    \r\n    public class Person  { \r\n        public static void main(String[]args)  {\r\n            int age;\r\n            String name;\r\n    \r\n            Scanner scan = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter in your age.&quot;);\r\n            age = scan.nextInt();//for Number input \r\n            System.out.println(&quot;Enter in your name&quot;);\r\n            name = scan.next();//for String Input \r\n\r\n            if (age &lt; 18) \r\n            {\r\n                 System.out.println(&quot;So you&#39;re a kid, huh? That&#39;s fine.&quot;);\r\n            } \r\n    \r\n            else if (age &gt;= 18)\r\n            {\r\n                System.out.println(&quot;Ah, and adult! Good.&quot;);\r\n            }\r\n    \r\n            System.out.println(&quot;So you&#39;re &quot; + age + &quot; years old and your name is &quot; + name);\r\n    \r\n        } \r\n    }","title":"Exception in thread main java.util.InputMismatchException error","body":"<p>Corrected Code:</p>\n<pre><code>import java.util.*;  \nimport java.io.*; \n\npublic class Person  { \n    public static void main(String[]args)  {\n        int age;\n        String name;\n\n        Scanner scan = new Scanner(System.in);\n\n        System.out.println(&quot;Enter in your age.&quot;);\n        age = scan.nextInt();//for Number input \n        System.out.println(&quot;Enter in your name&quot;);\n        name = scan.next();//for String Input \n\n        if (age &lt; 18) \n        {\n             System.out.println(&quot;So you're a kid, huh? That's fine.&quot;);\n        } \n\n        else if (age &gt;= 18)\n        {\n            System.out.println(&quot;Ah, and adult! Good.&quot;);\n        }\n\n        System.out.println(&quot;So you're &quot; + age + &quot; years old and your name is &quot; + name);\n\n    } \n}\n</code></pre>\n"}],"owner":{"account_id":2444392,"reputation":355,"user_id":2132120,"accept_rate":88,"display_name":"Xiam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67696,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15249638,"answer_count":7,"score":0,"last_activity_date":1643231519,"creation_date":1362579201,"question_id":15249578,"body_markdown":"I have a question on what&#39;s going on, whenever I try to compile it it keeps giving me an error like this:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n    at java.util.Scanner.throwFor(Unknown Source)\r\n    at java.util.Scanner.next(Unknown Source)\r\n    at java.util.Scanner.nextInt(Unknown Source)\r\n    at java.util.Scanner.nextInt(Unknown Source)\r\n    at Person.main(Person.java:38)\r\n\r\nAll I want is for the user to be able to input their age and name and have it stored in the &quot;age&quot; and &quot;name&quot; variables, then have it print it out in the bottom string. And if someone would like to help me clean up my code as well, it wouldn&#39;t hurt..\r\n\r\n\r\n    import java.util.*; \r\n    import java.io.*; \r\n    import java.util.Scanner;\r\n\r\n    public class Person \r\n\r\n    {\r\n\t\r\n\tpublic static void main(String[]args) \r\n\t\t\r\n\t\t{\r\n\r\n\t\tint age;\r\n\t\tint name;\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter in your age.&quot;);\r\n\t\tage = scan.nextInt();\r\n\t\t\r\n\t\t if (age &lt; 18) \r\n\t\t\r\n\t\t {\r\n\t\t\t System.out.println(&quot;So you&#39;re a kid, huh? That&#39;s fine.&quot;);\r\n\t     } \r\n\t\t \r\n\t\t else if (age &gt;= 18)\r\n\t\t \r\n\t\t {\r\n\t        System.out.println(&quot;Ah, and adult! Good.&quot;);\r\n\t     }\r\n\t\t \r\n\t\t @SuppressWarnings(&quot;resource&quot;)\r\n\t\t Scanner in = new Scanner(System.in);\r\n\t\t \r\n\t\t System.out.println(&quot;Enter in your name&quot;);\r\n\t\t name = in.nextInt();\r\n\t\t \r\n\t\t System.out.println(&quot;So you&#39;re &quot; + age + &quot; years old and your name is &quot; + name);\r\n\t\t \r\n\t\t  \r\n\t}\r\n    }","title":"Exception in thread main java.util.InputMismatchException error","body":"<p>I have a question on what's going on, whenever I try to compile it it keeps giving me an error like this:</p>\n\n<pre><code>Exception in thread \"main\" java.util.InputMismatchException\nat java.util.Scanner.throwFor(Unknown Source)\nat java.util.Scanner.next(Unknown Source)\nat java.util.Scanner.nextInt(Unknown Source)\nat java.util.Scanner.nextInt(Unknown Source)\nat Person.main(Person.java:38)\n</code></pre>\n\n<p>All I want is for the user to be able to input their age and name and have it stored in the \"age\" and \"name\" variables, then have it print it out in the bottom string. And if someone would like to help me clean up my code as well, it wouldn't hurt..</p>\n\n<pre><code>import java.util.*; \nimport java.io.*; \nimport java.util.Scanner;\n\npublic class Person \n\n{\n\npublic static void main(String[]args) \n\n    {\n\n    int age;\n    int name;\n\n    Scanner scan = new Scanner(System.in);\n\n    System.out.println(\"Enter in your age.\");\n    age = scan.nextInt();\n\n     if (age &lt; 18) \n\n     {\n         System.out.println(\"So you're a kid, huh? That's fine.\");\n     } \n\n     else if (age &gt;= 18)\n\n     {\n        System.out.println(\"Ah, and adult! Good.\");\n     }\n\n     @SuppressWarnings(\"resource\")\n     Scanner in = new Scanner(System.in);\n\n     System.out.println(\"Enter in your name\");\n     name = in.nextInt();\n\n     System.out.println(\"So you're \" + age + \" years old and your name is \" + name);\n\n\n}\n}\n</code></pre>\n"},{"tags":["java","javascript","servlets"],"comments":[{"owner":{"account_id":2200636,"reputation":8366,"user_id":1945127,"accept_rate":57,"display_name":"newuser"},"score":0,"creation_date":1370511336,"post_id":16958556,"comment_id":24490022,"body_markdown":"Try this http://www.java2s.com/Code/Java/Servlets/GetCookiefromRequest.htm","body":"Try this <a href=\"http://www.java2s.com/Code/Java/Servlets/GetCookiefromRequest.htm\" rel=\"nofollow noreferrer\">java2s.com/Code/Java/Servlets/GetCookiefromRequest.htm</a>"}],"answers":[{"tags":[],"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370511269,"creation_date":1370511269,"answer_id":16958598,"question_id":16958556,"body_markdown":"try this\r\n\r\n\r\n    Cookie[] cookies = request.getCookies();\r\n\r\n\r\n    for (int i = 0; i &lt; cookies.length; i++) {\r\n        Cookie c = cookies[i];\r\n         c.getName()  //cookie name\r\n        c.getValue()   //cookie value\r\n          \r\n      }\r\n\r\n","title":"How to call a javascript cookie in servlet?","body":"<p>try this</p>\n\n<pre><code>Cookie[] cookies = request.getCookies();\n\n\nfor (int i = 0; i &lt; cookies.length; i++) {\n    Cookie c = cookies[i];\n     c.getName()  //cookie name\n    c.getValue()   //cookie value\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":226474,"reputation":3182,"user_id":487545,"accept_rate":82,"display_name":"mauretto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370511774,"creation_date":1370511774,"answer_id":16958779,"question_id":16958556,"body_markdown":"    for (Cookie c : request.getCookies()) {\r\n       if(&quot;myCookieName&quot;.equals(c.getName()) {\r\n         System.out.println(c.getValue());\r\n       }\r\n    }","title":"How to call a javascript cookie in servlet?","body":"<pre><code>for (Cookie c : request.getCookies()) {\n   if(\"myCookieName\".equals(c.getName()) {\n     System.out.println(c.getValue());\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":471955,"reputation":2398,"user_id":880094,"accept_rate":44,"display_name":"NamingException"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370514169,"creation_date":1370514169,"answer_id":16959642,"question_id":16958556,"body_markdown":"Try this\r\n\r\n\tCookie[] cookie = request.getCookies();\r\n\tif(cookie != null &amp;&amp; cookie.length &gt; 0) {\r\n\t    System.out.println(&quot;CkInfo&quot;);\r\n\t    for(int i = 0;i &lt; cookie.length; ++i) {\r\n\t\tSystem.out.println(&quot;[&quot;+i+&quot;] info&quot;);\r\n\t\tSystem.out.println(&quot;Name: &quot;+cookie[i].getName());\r\n\t\tSystem.out.println(&quot;Comment: &quot;+cookie[i].getComment());\r\n\t\tSystem.out.println(&quot;Domain: &quot;+cookie[i].getDomain());\r\n\t\tSystem.out.println(&quot;MaxAge: &quot;+cookie[i].getMaxAge());\r\n\t\tSystem.out.println(&quot;Path: &quot;+cookie[i].getPath());\r\n\t\tSystem.out.println(&quot;Value: &quot;+cookie[i].getValue());\r\n\t    }\r\n\t}","title":"How to call a javascript cookie in servlet?","body":"<p>Try this</p>\n\n<pre><code>Cookie[] cookie = request.getCookies();\nif(cookie != null &amp;&amp; cookie.length &gt; 0) {\n    System.out.println(\"CkInfo\");\n    for(int i = 0;i &lt; cookie.length; ++i) {\n    System.out.println(\"[\"+i+\"] info\");\n    System.out.println(\"Name: \"+cookie[i].getName());\n    System.out.println(\"Comment: \"+cookie[i].getComment());\n    System.out.println(\"Domain: \"+cookie[i].getDomain());\n    System.out.println(\"MaxAge: \"+cookie[i].getMaxAge());\n    System.out.println(\"Path: \"+cookie[i].getPath());\n    System.out.println(\"Value: \"+cookie[i].getValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2864343,"reputation":459,"user_id":2458946,"accept_rate":42,"display_name":"swetha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1526,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1643231211,"creation_date":1370511170,"question_id":16958556,"body_markdown":"I have tried getting cookie from javascript to servlet using \r\n\r\n&gt; request.getcookie()\r\n\r\n method. But I found the value as null. \r\n\r\nIs there any way to get a cookie from javascript to servlet?","title":"How to call a javascript cookie in servlet?","body":"<p>I have tried getting cookie from javascript to servlet using </p>\n\n<blockquote>\n  <p>request.getcookie()</p>\n</blockquote>\n\n<p>method. But I found the value as null. </p>\n\n<p>Is there any way to get a cookie from javascript to servlet?</p>\n"},{"tags":["java","rest","spring-mvc","restful-url"],"comments":[{"owner":{"account_id":10944391,"reputation":249,"user_id":8043039,"accept_rate":100,"display_name":"trim24"},"score":0,"creation_date":1579960359,"post_id":59909658,"comment_id":105944949,"body_markdown":"If both queries are on the same database, you can use &#39;UNION&#39; to join the queries,","body":"If both queries are on the same database, you can use &#39;UNION&#39; to join the queries,"}],"answers":[{"tags":[],"owner":{"account_id":14787189,"reputation":342,"user_id":10679074,"display_name":"H4x9r"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643231129,"creation_date":1579961442,"answer_id":59910008,"question_id":59909658,"body_markdown":"You should try to prevent clients from assembling the URIs with string operations, because for that the clients would have to have intimate knowledge about server internals.\r\n\r\nNevertheless, elegant URI schemes are often a sign of a reasonable resource structure. When URIs are well designed, it makes life easier for a developer who wants to use a [REST][1] API; clients will appreciate URIs that are easy to remember. The ability to edit URIs manually (e.g., by truncating some of them after the &quot;/&quot;) is a definite advantage.\r\n\r\nAs you&#39;ve already seen: URIs identify resources. Resources are &quot;things&quot;, *nouns*, not actions or verbs! If you have done a corrosive resource design, matching names usually come up by themselves. However, I would like to give an example here that might be an indication of a problem because of its structure or name.\r\n\r\nhttp://example.com/customers/create?name=XYZ\r\n\r\nThere&#39;s been a bit of a mix-up here:\r\nThe verb &quot;create&quot; has no place in the URI, and the structure suggests that the action is identified by the URI, not by the HTTP verb.\r\n\r\nYour URIs should contain nouns. For URIs that identify resources as they are intended, you can also easily imagine how the different HTTP methods work: A [PUT][2] updates a [DELETE][2] deletes, and a [GET][2] fetches information. Here is an example of how the above URI would look better:\r\n\r\nPOST http://example.com/customers/\r\n\r\nAn obvious rule for a transparent and comprehensible URI design is the mapping of hierarchical relationships to the path element structure of the URI.\r\n\r\nExample:\r\nhttp://example.com/organization/it/support/networks\r\n\r\nSo if you are the developer of the server and therefore the designer of the URI, you should make sure that a GET on http://example.com/organization/it/support also returns a useful result. In your client you should not make such an assumption in any case!\r\nThis contributes fundamentally to the stability of a distributed system and is also known as the [robustness principle][3] or Postel&#39;s law.\r\n\r\nFor the design of URIs for Filter they have different possibilities. The most obvious is to use query parameters. For a list of customers under */customers* that you want to filter for all customers from Germany, an example URI might look like this:\r\n\r\nhttp://example.com/customers?country=Germany\r\nSeveral query components can be linked with an &quot;&amp;&quot;:\r\n\r\nhttp://example.com/customers?country=Germany&amp;year=2020\r\n\r\nHere, too, they meet the expectations of the users with such a URI design. If the query string is omitted (*?country=Germany&amp;year=2020*), the users are taken to the unfiltered list of all customers.\r\n\r\nIt is important to have stable URIs, and the cool URIs does not change ([Tim Berners-Lee][4]).\r\n\r\nTo answer your question:\r\n\r\nThe design should not be overrated; it should be useful, but not perfect (which is impossible to achieve anyway).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Representational_state_transfer\r\n  [2]: https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods\r\n  [3]: https://en.wikipedia.org/wiki/Robustness_principle\r\n  [4]: https://en.wikipedia.org/wiki/Tim_Berners-Lee\r\n\r\n\r\n\r\n","title":"FInd by ID and Username in RESTful Web Services","body":"<p>You should try to prevent clients from assembling the URIs with string operations, because for that the clients would have to have intimate knowledge about server internals.</p>\n<p>Nevertheless, elegant URI schemes are often a sign of a reasonable resource structure. When URIs are well designed, it makes life easier for a developer who wants to use a <a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow noreferrer\">REST</a> API; clients will appreciate URIs that are easy to remember. The ability to edit URIs manually (e.g., by truncating some of them after the &quot;/&quot;) is a definite advantage.</p>\n<p>As you've already seen: URIs identify resources. Resources are &quot;things&quot;, <em>nouns</em>, not actions or verbs! If you have done a corrosive resource design, matching names usually come up by themselves. However, I would like to give an example here that might be an indication of a problem because of its structure or name.</p>\n<p><a href=\"http://example.com/customers/create?name=XYZ\" rel=\"nofollow noreferrer\">http://example.com/customers/create?name=XYZ</a></p>\n<p>There's been a bit of a mix-up here:\nThe verb &quot;create&quot; has no place in the URI, and the structure suggests that the action is identified by the URI, not by the HTTP verb.</p>\n<p>Your URIs should contain nouns. For URIs that identify resources as they are intended, you can also easily imagine how the different HTTP methods work: A <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods\" rel=\"nofollow noreferrer\">PUT</a> updates a <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods\" rel=\"nofollow noreferrer\">DELETE</a> deletes, and a <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods\" rel=\"nofollow noreferrer\">GET</a> fetches information. Here is an example of how the above URI would look better:</p>\n<p>POST <a href=\"http://example.com/customers/\" rel=\"nofollow noreferrer\">http://example.com/customers/</a></p>\n<p>An obvious rule for a transparent and comprehensible URI design is the mapping of hierarchical relationships to the path element structure of the URI.</p>\n<p>Example:\n<a href=\"http://example.com/organization/it/support/networks\" rel=\"nofollow noreferrer\">http://example.com/organization/it/support/networks</a></p>\n<p>So if you are the developer of the server and therefore the designer of the URI, you should make sure that a GET on <a href=\"http://example.com/organization/it/support\" rel=\"nofollow noreferrer\">http://example.com/organization/it/support</a> also returns a useful result. In your client you should not make such an assumption in any case!\nThis contributes fundamentally to the stability of a distributed system and is also known as the <a href=\"https://en.wikipedia.org/wiki/Robustness_principle\" rel=\"nofollow noreferrer\">robustness principle</a> or Postel's law.</p>\n<p>For the design of URIs for Filter they have different possibilities. The most obvious is to use query parameters. For a list of customers under <em>/customers</em> that you want to filter for all customers from Germany, an example URI might look like this:</p>\n<p><a href=\"http://example.com/customers?country=Germany\" rel=\"nofollow noreferrer\">http://example.com/customers?country=Germany</a>\nSeveral query components can be linked with an &quot;&amp;&quot;:</p>\n<p><a href=\"http://example.com/customers?country=Germany&amp;year=2020\" rel=\"nofollow noreferrer\">http://example.com/customers?country=Germany&amp;year=2020</a></p>\n<p>Here, too, they meet the expectations of the users with such a URI design. If the query string is omitted (<em>?country=Germany&amp;year=2020</em>), the users are taken to the unfiltered list of all customers.</p>\n<p>It is important to have stable URIs, and the cool URIs does not change (<a href=\"https://en.wikipedia.org/wiki/Tim_Berners-Lee\" rel=\"nofollow noreferrer\">Tim Berners-Lee</a>).</p>\n<p>To answer your question:</p>\n<p>The design should not be overrated; it should be useful, but not perfect (which is impossible to achieve anyway).</p>\n"},{"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1580140007,"creation_date":1579964507,"answer_id":59910443,"question_id":59909658,"body_markdown":"Basically, you have two options:\r\n\r\n - You either have two separate endpoints, for example, `/users/byId/{id}` and `/users/byName/{username}` each mapped to a different controller method\r\n```java\r\nclass UserController {\r\n    @GetMapping(&quot;/byId/{id}&quot;)\r\n    Optional&lt;User&gt; findById(@PathVariable(&quot;id&quot;) String id){\r\n       ...\r\n    }\r\n\r\n    @GetMapping(&quot;/byName/{username}&quot;)\r\n    Optional&lt;User&gt; findByUsername(@PathVariable(&quot;username&quot;) String username){\r\n       ...\r\n    }\r\n}\r\n```\r\n - Or one endpoint `/users/{id-or-name}` and you make the union query, so: `findAllByIdOrName()`\r\n\r\nI tend to say that it&#39;s cleaner and more efficient to do it in separate endpoints.\r\n\r\n\r\n----------\r\n**Edit**\r\n\r\nThe RESTful convention would mean that you have 2 endpoints:\r\n```java\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    Optional&lt;User&gt; findById(@PathVariable(&quot;id&quot;) String id){\r\n       ...\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    List&lt;User&gt; findUsers(@RequestParam(&quot;username&quot;) String username){\r\n       // if username is not empty, filter users\r\n       // we could also filter with other user properties according to specs\r\n       ...\r\n    }\r\n```\r\nAnything other than such would be already deviating from the conventions.","title":"FInd by ID and Username in RESTful Web Services","body":"<p>Basically, you have two options:</p>\n\n<ul>\n<li>You either have two separate endpoints, for example, <code>/users/byId/{id}</code> and <code>/users/byName/{username}</code> each mapped to a different controller method</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>class UserController {\n    @GetMapping(\"/byId/{id}\")\n    Optional&lt;User&gt; findById(@PathVariable(\"id\") String id){\n       ...\n    }\n\n    @GetMapping(\"/byName/{username}\")\n    Optional&lt;User&gt; findByUsername(@PathVariable(\"username\") String username){\n       ...\n    }\n}\n</code></pre>\n\n<ul>\n<li>Or one endpoint <code>/users/{id-or-name}</code> and you make the union query, so: <code>findAllByIdOrName()</code></li>\n</ul>\n\n<p>I tend to say that it's cleaner and more efficient to do it in separate endpoints.</p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>The RESTful convention would mean that you have 2 endpoints:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(\"/{id}\")\n    Optional&lt;User&gt; findById(@PathVariable(\"id\") String id){\n       ...\n    }\n\n    @GetMapping(\"/\")\n    List&lt;User&gt; findUsers(@RequestParam(\"username\") String username){\n       // if username is not empty, filter users\n       // we could also filter with other user properties according to specs\n       ...\n    }\n</code></pre>\n\n<p>Anything other than such would be already deviating from the conventions.</p>\n"},{"tags":[],"owner":{"account_id":10131694,"reputation":1907,"user_id":7484853,"display_name":"Hasee Amarathunga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643230377,"creation_date":1579965174,"answer_id":59910544,"question_id":59909658,"body_markdown":"You cannot use the same endpoint name for one particular mapping. In here you use the same endpoint name for both @GetMapping&#39;s. If you want to do this thing, you should use the parameters for that.\r\n\r\n    class UserController {\r\n       @GetMapping(&quot;/users&quot;)\r\n       Optional&lt;User&gt; findById(@RequestParam(required = false) String id, @RequestParam(required = false) String username){\r\n          if (!username.equals(&quot;&quot;)) {\r\n             // Response using a username\r\n          }\r\n          if (!id.equals(&quot;&quot;)) {\r\n             // Response using an id\r\n          }\r\n       }\r\n    }\r\n\r\n","title":"FInd by ID and Username in RESTful Web Services","body":"<p>You cannot use the same endpoint name for one particular mapping. In here you use the same endpoint name for both @GetMapping's. If you want to do this thing, you should use the parameters for that.</p>\n<pre><code>class UserController {\n   @GetMapping(&quot;/users&quot;)\n   Optional&lt;User&gt; findById(@RequestParam(required = false) String id, @RequestParam(required = false) String username){\n      if (!username.equals(&quot;&quot;)) {\n         // Response using a username\n      }\n      if (!id.equals(&quot;&quot;)) {\n         // Response using an id\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20879683,"reputation":391,"user_id":15337736,"display_name":"Belaid BOUAOUALTEN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643230064,"creation_date":1616060055,"answer_id":66688292,"question_id":59909658,"body_markdown":"I met the same problem. The two endpoints were in conflict, so event */user/{id}* did not want to work, so that is why I did give *findbyusername* a different endpoint, like:\r\n\r\n    @GetMapping(&quot;/user/username/{username}&quot;) \r\n\r\n\r\n\r\n","title":"FInd by ID and Username in RESTful Web Services","body":"<p>I met the same problem. The two endpoints were in conflict, so event <em>/user/{id}</em> did not want to work, so that is why I did give <em>findbyusername</em> a different endpoint, like:</p>\n<pre><code>@GetMapping(&quot;/user/username/{username}&quot;) \n</code></pre>\n"}],"owner":{"account_id":2738518,"reputation":1030,"user_id":7738040,"accept_rate":79,"display_name":"Julez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7009,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59910443,"answer_count":4,"score":3,"last_activity_date":1643231129,"creation_date":1579958824,"question_id":59909658,"body_markdown":"I&#39;m confused as what is the best preference for singleton resource. I want to have endpoint which has user id as:\r\n\r\n`/users/{id}`\r\n\r\nBut I also want `username` as parameter:\r\n\r\n`/users/{username}`\r\n\r\nI&#39;m using Spring MVC (via Spring Boot) and it says the 2 endpoints are in conflict. So I decided to the first for retrieving singleton resource for users. But in order for the client to still use username as parameter, I added username as query parameter for the collection resource of users:\r\n\r\n`/users?username=&lt;username&gt;`\r\n\r\nIn my `repository` and `service` layers, the return is `Optional&lt;User&gt;`, i.e. it&#39;s either `empty` or `one user` result. But in the `controller`, I wrap this in a `list`, either empty or one, to make it consistent with the return of `/users` as list.\r\n\r\nIs this reasonable design? or is there any better design? Thanks.","title":"FInd by ID and Username in RESTful Web Services","body":"<p>I'm confused as what is the best preference for singleton resource. I want to have endpoint which has user id as:</p>\n\n<p><code>/users/{id}</code></p>\n\n<p>But I also want <code>username</code> as parameter:</p>\n\n<p><code>/users/{username}</code></p>\n\n<p>I'm using Spring MVC (via Spring Boot) and it says the 2 endpoints are in conflict. So I decided to the first for retrieving singleton resource for users. But in order for the client to still use username as parameter, I added username as query parameter for the collection resource of users:</p>\n\n<p><code>/users?username=&lt;username&gt;</code></p>\n\n<p>In my <code>repository</code> and <code>service</code> layers, the return is <code>Optional&lt;User&gt;</code>, i.e. it's either <code>empty</code> or <code>one user</code> result. But in the <code>controller</code>, I wrap this in a <code>list</code>, either empty or one, to make it consistent with the return of <code>/users</code> as list.</p>\n\n<p>Is this reasonable design? or is there any better design? Thanks.</p>\n"},{"tags":["java","gradle","netbeans"],"answers":[{"tags":[],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642744459,"creation_date":1642744459,"answer_id":70796970,"question_id":70793348,"body_markdown":"&gt; Unsupported class file major version 61\r\n\r\nIt says that JDK 17 is unsupported. Your Gradle is running on JDK 17. Two solutions for your problem:\r\n\r\n#### 1. Use JDK 16 or lower\r\nGo to your gradle.properties file, and change (or add, if it doesn&#39;t exist) `org.gradle.java.home` to point towards JDK 16 like this:\r\n```\r\norg.gradle.java.home = path/to/JDK/16\r\n```\r\nDon&#39;t add quotation marks to the path\r\n\r\n#### 2. Use Gradle 7.3.3\r\nGradle 7.3.3 has support for JDK 17. Go to your gradle\\wrapper\\gradle-wrapper.properties file and change `distributionUrl` to \r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\r\n```","title":"Netbeans 12.5 imported older project cannot be loaded - Unsupported class fle major version 61","body":"<blockquote>\n<p>Unsupported class file major version 61</p>\n</blockquote>\n<p>It says that JDK 17 is unsupported. Your Gradle is running on JDK 17. Two solutions for your problem:</p>\n<h4>1. Use JDK 16 or lower</h4>\n<p>Go to your gradle.properties file, and change (or add, if it doesn't exist) <code>org.gradle.java.home</code> to point towards JDK 16 like this:</p>\n<pre><code>org.gradle.java.home = path/to/JDK/16\n</code></pre>\n<p>Don't add quotation marks to the path</p>\n<h4>2. Use Gradle 7.3.3</h4>\n<p>Gradle 7.3.3 has support for JDK 17. Go to your gradle\\wrapper\\gradle-wrapper.properties file and change <code>distributionUrl</code> to</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\n</code></pre>\n"}],"owner":{"account_id":87547,"reputation":2032,"user_id":242721,"accept_rate":63,"display_name":"Para"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643230665,"creation_date":1642712508,"question_id":70793348,"body_markdown":"Netbeans 12.5 - It worked in Netbeans 11  \r\nWhen I open the project I get this error\r\n  \r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I tell Netbeans that I want to resolve it it doesn&#39;t work and I get this warning.  \r\n[![enter image description here][2]][2]\r\n\r\n+ Could not run build action using connection to Gradle installation\r\n&#39;C:\\Users\\ff\\.gradle wrap per\\dists\\gradle-7.0-bin\\2p9eb qfab irfozi6 760gco7n\\gradle~\r\n\r\n+ Could not open cp_int generic class cache for intialzation script\r\n&quot;c:\\Program\r\nFiles\\NetBeans-12.5\\netbeans\\extide\\modules\\gradle\\nb-toolng.gradie’\r\n(C:\\Users\\ffi.gradie\\caches\\7.0\\scripts\\dtnvzzibbagvwi42m3qn4ji).\r\n\r\n+ Could not open cp_int generic class cache for intialzation script\r\n‘c:\\Program\r\nFiles\\NetBeans-12.5\\netbeans\\extide\\modules\\gradle\\nb-tooing.gradie’\r\n(C:\\Users\\ffi.gradle\\caches\\7.0\\scripts\\dtnvzzibbagvwi42m3qn4ji).\r\n\r\n+ BUG! exception in phase &#39;semantic analysis&#39;in source unit‘ BuidScript_&#39;\r\nUnsupported class fle major version 61\r\n\r\n+ Unsupported class fie major version 61\r\n\r\nI tried changing the gradle version in Tools-&gt;Options-&gt;Java-&gt;Gradle to 6 doesn&#39;t seem to change anything because the warning still mentions gradle 7. I tried changing the java version but that doesn&#39;t seem to work either.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI tried deleting the cache both in the project and in the gradle folder `C:\\Users\\&lt;user&gt;\\.gradle`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e9O7N.png\r\n  [2]: https://i.stack.imgur.com/lqar0.png\r\n  [3]: https://i.stack.imgur.com/OGmRr.png","title":"Netbeans 12.5 imported older project cannot be loaded - Unsupported class fle major version 61","body":"<p>Netbeans 12.5 - It worked in Netbeans 11<br />\nWhen I open the project I get this error</p>\n<p><a href=\"https://i.stack.imgur.com/e9O7N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e9O7N.png\" alt=\"enter image description here\" /></a></p>\n<p>When I tell Netbeans that I want to resolve it it doesn't work and I get this warning.<br />\n<a href=\"https://i.stack.imgur.com/lqar0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqar0.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>Could not run build action using connection to Gradle installation\n'C:\\Users\\ff.gradle wrap per\\dists\\gradle-7.0-bin\\2p9eb qfab irfozi6 760gco7n\\gradle~</p>\n</li>\n<li><p>Could not open cp_int generic class cache for intialzation script\n&quot;c:\\Program\nFiles\\NetBeans-12.5\\netbeans\\extide\\modules\\gradle\\nb-toolng.gradie’\n(C:\\Users\\ffi.gradie\\caches\\7.0\\scripts\\dtnvzzibbagvwi42m3qn4ji).</p>\n</li>\n<li><p>Could not open cp_int generic class cache for intialzation script\n‘c:\\Program\nFiles\\NetBeans-12.5\\netbeans\\extide\\modules\\gradle\\nb-tooing.gradie’\n(C:\\Users\\ffi.gradle\\caches\\7.0\\scripts\\dtnvzzibbagvwi42m3qn4ji).</p>\n</li>\n<li><p>BUG! exception in phase 'semantic analysis'in source unit‘ BuidScript_'\nUnsupported class fle major version 61</p>\n</li>\n<li><p>Unsupported class fie major version 61</p>\n</li>\n</ul>\n<p>I tried changing the gradle version in Tools-&gt;Options-&gt;Java-&gt;Gradle to 6 doesn't seem to change anything because the warning still mentions gradle 7. I tried changing the java version but that doesn't seem to work either.</p>\n<p><a href=\"https://i.stack.imgur.com/OGmRr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OGmRr.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried deleting the cache both in the project and in the gradle folder <code>C:\\Users\\&lt;user&gt;\\.gradle</code></p>\n"},{"tags":["java","sql","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":4,"creation_date":1534844516,"post_id":51945791,"comment_id":90841000,"body_markdown":"You can not set the order by as parameter in prepared statement","body":"You can not set the order by as parameter in prepared statement"}],"answers":[{"tags":[],"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1534979646,"creation_date":1534889040,"answer_id":51957325,"question_id":51945791,"body_markdown":"## Dynamic sorting in Spring Data JPA\r\n\r\nIf you used a JPA query you could use [Sort][1] as an argument of your query method to define the sorting order:\r\n\r\n    @Query(&quot;select m from Model m&quot;)\r\n    List&lt;Model&gt; getSortedList(Sort sort);\r\n\r\nand then, for example:\r\n    \r\n    List&lt;Model&gt; models = getSortedList(Sort.by(Sort.Direction.DESC, &quot;name&quot;));\r\n    \r\nBut Spring Data JPA [can&#39;t use][2] `Sort` with native queries:\r\n\r\n&gt; Spring Data JPA does not currently support dynamic sorting for native queries, because it would have to manipulate the actual query declared, which it cannot do reliably for native SQL.\r\n\r\nHowever you can use [Pageable][3] and its implementation [PageRequest][4] instead:\r\n\r\n    @Query(value = &quot;select m.name as name from models m&quot;, nativeQuery = true)\r\n    List&lt;ModelProjection&gt; getSortedList(Pageable p);\r\n\r\nand then:\r\n\r\n    List&lt;ModelProjection&gt; modelNames = getSortedList(PageRequest.of(0, 1000, Sort.Direction.DESC, &quot;name&quot;));\r\n\r\nP.S. Instead of array of `Object`s as returned parameters, it&#39;s better to use [projections][5], for example:\r\n\r\n    public interface ModelProjection {\r\n        String getName();\r\n    }\r\n\r\nNote that in this case the good practice is to use aliases in queries (ie `m.name as name`). They must match with correspondent getters in the projection.\r\n\r\nWorking [demo][6] and [test][7].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.sorting\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_native_queries\r\n  [3]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Pageable.html\r\n  [4]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html\r\n  [5]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\r\n  [6]: https://github.com/Cepr0/native-query-sorting-demo\r\n  [7]: https://github.com/Cepr0/native-query-sorting-demo/blob/master/src/test/java/io/github/cepr0/demo/ModelRepoTest.java","title":"Spring data JPA nativeQuery order by is invalid","body":"<h2>Dynamic sorting in Spring Data JPA</h2>\n\n<p>If you used a JPA query you could use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.sorting\" rel=\"noreferrer\">Sort</a> as an argument of your query method to define the sorting order:</p>\n\n<pre><code>@Query(\"select m from Model m\")\nList&lt;Model&gt; getSortedList(Sort sort);\n</code></pre>\n\n<p>and then, for example:</p>\n\n<pre><code>List&lt;Model&gt; models = getSortedList(Sort.by(Sort.Direction.DESC, \"name\"));\n</code></pre>\n\n<p>But Spring Data JPA <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_native_queries\" rel=\"noreferrer\">can't use</a> <code>Sort</code> with native queries:</p>\n\n<blockquote>\n  <p>Spring Data JPA does not currently support dynamic sorting for native queries, because it would have to manipulate the actual query declared, which it cannot do reliably for native SQL.</p>\n</blockquote>\n\n<p>However you can use <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Pageable.html\" rel=\"noreferrer\">Pageable</a> and its implementation <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html\" rel=\"noreferrer\">PageRequest</a> instead:</p>\n\n<pre><code>@Query(value = \"select m.name as name from models m\", nativeQuery = true)\nList&lt;ModelProjection&gt; getSortedList(Pageable p);\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>List&lt;ModelProjection&gt; modelNames = getSortedList(PageRequest.of(0, 1000, Sort.Direction.DESC, \"name\"));\n</code></pre>\n\n<p>P.S. Instead of array of <code>Object</code>s as returned parameters, it's better to use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"noreferrer\">projections</a>, for example:</p>\n\n<pre><code>public interface ModelProjection {\n    String getName();\n}\n</code></pre>\n\n<p>Note that in this case the good practice is to use aliases in queries (ie <code>m.name as name</code>). They must match with correspondent getters in the projection.</p>\n\n<p>Working <a href=\"https://github.com/Cepr0/native-query-sorting-demo\" rel=\"noreferrer\">demo</a> and <a href=\"https://github.com/Cepr0/native-query-sorting-demo/blob/master/src/test/java/io/github/cepr0/demo/ModelRepoTest.java\" rel=\"noreferrer\">test</a>.</p>\n"},{"tags":[],"owner":{"account_id":13922821,"reputation":169,"user_id":10052848,"display_name":"桃桃桃子"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638803529,"creation_date":1534934365,"answer_id":51965013,"question_id":51945791,"body_markdown":"Thanks everyone!\r\nMy problem has been solved.\r\n\r\nIf you want to use Spring data jpa `nativeQuery` &amp; Sort, you should do like this:\r\n\r\n```\r\n @Query(\r\n          value =&quot;select pb.id,pp.max_borrow_amt from product_loan_basic pb left join product_loan_price pp on pb.code=pp.product_code ORDER BY ?#{#pageable}  &quot;,\r\n          countQuery = &quot;select count(*) from product_loan_basic&quot;,\r\n          nativeQuery = true\r\n  )\r\n  Page&lt;Object[]&gt; findAllProductsAndOrderByAndSort(Pageable pageable);\r\n```\r\n`?#{#pageable}` is required and `countQuery` is required. \r\n\r\n    Pageable pageable = new PageRequest(0,1000,Sort.Direction.DESC,&quot;id&quot;);\r\n\r\nthen the result is sorted.\r\n\r\nSee [Spring Data and Native Query with pagination](https://stackoverflow.com/questions/38349930/spring-data-and-native-query-with-pagination).","title":"Spring data JPA nativeQuery order by is invalid","body":"<p>Thanks everyone!\nMy problem has been solved.</p>\n<p>If you want to use Spring data jpa <code>nativeQuery</code> &amp; Sort, you should do like this:</p>\n<pre><code> @Query(\n          value =&quot;select pb.id,pp.max_borrow_amt from product_loan_basic pb left join product_loan_price pp on pb.code=pp.product_code ORDER BY ?#{#pageable}  &quot;,\n          countQuery = &quot;select count(*) from product_loan_basic&quot;,\n          nativeQuery = true\n  )\n  Page&lt;Object[]&gt; findAllProductsAndOrderByAndSort(Pageable pageable);\n</code></pre>\n<p><code>?#{#pageable}</code> is required and <code>countQuery</code> is required.</p>\n<pre><code>Pageable pageable = new PageRequest(0,1000,Sort.Direction.DESC,&quot;id&quot;);\n</code></pre>\n<p>then the result is sorted.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/38349930/spring-data-and-native-query-with-pagination\">Spring Data and Native Query with pagination</a>.</p>\n"}],"owner":{"account_id":13922821,"reputation":169,"user_id":10052848,"display_name":"桃桃桃子"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14318,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1643230644,"creation_date":1534844315,"question_id":51945791,"body_markdown":"The Spring Data Jpa Method like this:\r\n  \r\n\r\n    @Query(&quot;select pb.id,pp.max_borrow_amt,pp.min_borrow_amt\r\n    from product_loan_basic pb left join product_loan_price pp on pb.code=pp.product_code \r\n     where pb.code IN(?1) and pb.status=&#39;publish&#39; order by  ?2 &quot;,\r\n    nativeQuery = true)  \r\n    List&lt;Object[]&gt; findByCodesIn(List&lt;String&gt; codes,String orderby);\r\n    \r\nthen order by is &quot; max_borrow_amt desc &quot;, but this is invalid.  \r\nthe List&lt;Object[]&gt; is disordered.\r\n\r\n","title":"Spring data JPA nativeQuery order by is invalid","body":"<p>The Spring Data Jpa Method like this:</p>\n\n<pre><code>@Query(\"select pb.id,pp.max_borrow_amt,pp.min_borrow_amt\nfrom product_loan_basic pb left join product_loan_price pp on pb.code=pp.product_code \n where pb.code IN(?1) and pb.status='publish' order by  ?2 \",\nnativeQuery = true)  \nList&lt;Object[]&gt; findByCodesIn(List&lt;String&gt; codes,String orderby);\n</code></pre>\n\n<p>then order by is \" max_borrow_amt desc \", but this is invalid.<br>\nthe List is disordered.</p>\n"},{"tags":["java","hashmap","java-stream"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643210001,"post_id":70865673,"comment_id":125279366,"body_markdown":"So you want to convert a `Map&lt;Long,List&lt;Student&gt;&gt;` to a `Map&lt;Long,List&lt;StudentInfo&gt;&gt;`? Are the keys the same?","body":"So you want to convert a <code>Map&lt;Long,List&lt;Student&gt;&gt;</code> to a <code>Map&lt;Long,List&lt;StudentInfo&gt;&gt;</code>? Are the keys the same?"},{"owner":{"account_id":19467864,"reputation":215,"user_id":14240830,"display_name":"tom"},"score":0,"creation_date":1643210248,"post_id":70865673,"comment_id":125279465,"body_markdown":"Yes.Keys are same","body":"Yes.Keys are same"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1643210525,"post_id":70865673,"comment_id":125279591,"body_markdown":"Why are you doing this? This is totally unnecessary in my opinion. `Student` and `StudentInfo` are basically the same class. This is DEFINITELY a huge code smell.","body":"Why are you doing this? This is totally unnecessary in my opinion. <code>Student</code> and <code>StudentInfo</code> are basically the same class. This is DEFINITELY a huge code smell."},{"owner":{"account_id":19467864,"reputation":215,"user_id":14240830,"display_name":"tom"},"score":0,"creation_date":1643210563,"post_id":70865673,"comment_id":125279609,"body_markdown":"Sorry.I updated my question","body":"Sorry.I updated my question"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643210643,"post_id":70865673,"comment_id":125279648,"body_markdown":"@tom No... even with the update, the contents of both classes are virtually the same. One of those classes  is not needed in the first place. So, there is no need to &quot;convert&quot; one instance for another. Since `StudentInfo` is a subset of `Student`, I would eliminate `StudentInfo`.","body":"@tom No... even with the update, the contents of both classes are virtually the same. One of those classes  is not needed in the first place. So, there is no need to &quot;convert&quot; one instance for another. Since <code>StudentInfo</code> is a subset of <code>Student</code>, I would eliminate <code>StudentInfo</code>."},{"owner":{"account_id":19467864,"reputation":215,"user_id":14240830,"display_name":"tom"},"score":0,"creation_date":1643210796,"post_id":70865673,"comment_id":125279710,"body_markdown":"I want to group addressNo,code fields and to create a new map because it is new object.Tax is summing field","body":"I want to group addressNo,code fields and to create a new map because it is new object.Tax is summing field"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643210970,"post_id":70865673,"comment_id":125279798,"body_markdown":"You can collect `Student` objects that meet that criteria. You don&#39;t need two virtually identical classes to do this.","body":"You can collect <code>Student</code> objects that meet that criteria. You don&#39;t need two virtually identical classes to do this."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643211439,"post_id":70865673,"comment_id":125279983,"body_markdown":"You need to be somewhat more specific on what you actually want to group - ideally provide an example. Do you basically want to get a sum of tax values for each unique combination of `addressNo` and `code`?","body":"You need to be somewhat more specific on what you actually want to group - ideally provide an example. Do you basically want to get a sum of tax values for each unique combination of <code>addressNo</code> and <code>code</code>?"},{"owner":{"account_id":19467864,"reputation":215,"user_id":14240830,"display_name":"tom"},"score":0,"creation_date":1643211632,"post_id":70865673,"comment_id":125280083,"body_markdown":"Yeah.I want to group addressNo and code fields to get a sum of tax values but I  want my key will not be changed","body":"Yeah.I want to group addressNo and code fields to get a sum of tax values but I  want my key will not be changed"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643214912,"creation_date":1643210462,"answer_id":70865843,"question_id":70865673,"body_markdown":"__Converting `Map&lt;K, List&lt;A&gt;&gt;` to `Map&lt;K, List&lt;B&gt;&gt;`__\r\nIf you want to convert a `Map&lt;Long,List&lt;Student&gt;&gt;` to a `Map&lt;Long,List&lt;StudentInfo&gt;&gt;` with the keys being the same, try the following:\r\n\r\n    Map&lt;Long,List&lt;StudentInfo&gt;&gt; convertedMap = \r\n      studentInfoMap.entrySet() //get the entry set to access keys and values\r\n        .stream() \r\n        .collect(Collectors.toMap( //collect the entries into another map\r\n            entry -&gt; entry.getKey(), //use the keys as they are\r\n            entry -&gt; entry.getValue() //get the value list\r\n                          .stream() /\r\n                          .map(student -&gt; new StudentInfo(/*pass in the student parameters you need*/) //create a StudentInfo out of a Student - and entry.getKey() if needed\r\n                          .toList() //collect the StudentInfo elements into a list\r\n         ));\r\n\r\n__Reducing `List&lt;A&gt;` to `List&lt;B&gt;` by grouping A&#39;s based on key values__\r\n\r\n___Create a key class___\r\n\r\nIf you want to collapse/reduce a `List&lt;Student&gt;` into a `List&lt;StudentInfo&gt;` by combining the taxes for each unique combination of `addressNo` and `code`, you&#39;d ideally first define a class that combines those 2 attributes into a key, e.g. \r\n\r\n    class StudentAddressKey {\r\n      private long addressNo;\r\n      private String code;\r\n \r\n      //getters, setters, equals() and hashCode()\r\n    }\r\n\r\nYou could then think about using this in `Student` instead of the individual keys but that&#39;s another topic.\r\n\r\n___Traditional loop___\r\n\r\nThen it comes down to summing tax values by this key. Using a traditional for-loop it could look like this:\r\n\r\n    Map&lt;StudentAddressKey, BigDecimal&gt; taxByKey = new HashMap&lt;&gt;();\r\n\r\n    for( Student student : studentList) {\r\n      taxByKey.merge(student.getAddressKey(), //or build a new one from the individual attributes\r\n                     student.getTax(), //the value to merge into the map\r\n                     BigDecimal::add ); //called if there&#39;s already a value in the map, could also be (e,n) -&gt; e.add(n)\r\n    }\r\n\r\nIf you want a `Map&lt;StudentAddressKey, StudentInfo&gt;` instead, you have 3 options:\r\n\r\n- Create one for each `Student` you want to add, pass it to `merge()` and if there&#39;s already one combine the new and the existing one\r\n- Use `get()` to get an `StudentInfo` already in the map if there is one. If you get `null` put a new one, otherwise just change the tax by adding the student&#39;s value\r\n- Create the `Map&lt;StudentAddressKey, BigDecimal&gt;` and turn it into a `Map&lt;StudentAddressKey, StudentInfo&gt;` in the end, basically using the process I described above.\r\n\r\nTo get a `List&lt;StudentInfo&gt;` (which might not be necessary if you already have a `Map&lt;StudentAddressKey, BigDecimal&gt;`) you again have a couple of options:\r\n- If you have a `Map&lt;StudentAddressKey, BigDecimal&gt;` then stream the entry set, map each entry to a `StudentInfo` and collect to a List.\r\n- If you have a Map&lt;StudentAddressKey, StudentInfo&gt;` just create a new list and pass the map&#39;s `values()` to the list constructor\r\n\r\n___Stream___\r\n\r\nUsing the info above, you can also use a stream to convert `List&lt;Student&gt;` to `List&lt;StudentInfo&gt;`:\r\n\r\n    Map&lt;StudentAddressKey, BigDecimal&gt; taxesMap = studentList.stream()\r\n      .collect( \r\n         Collectors.groupingBy( student -&gt; new StudentAddressKey(student), //create the key to group by\r\n            Collectors.mapping( student -&gt; student.getTax()), //map the student to its tax value\r\n              Collectors.reducing( BigDecimal.ZERO, BigDecimal::add) //reduce the mapped tax values by adding them, starting with 0 (otherwise you&#39;d get an Optional&lt;BigDecimal&gt;\r\n            )\r\n          )\r\n        );\r\n\r\nNote: you could also directly map `Student` to `StudentInfo` but merging them would be more complex and since all you need is a single `BigDecimal` I&#39;d go for the simpler option.\r\n\r\nNow use the approaches above to convert `taxesMap` into a `List&lt;StudentInfo&gt;`:\r\n\r\n    List&lt;StudentInto&gt; taxesList = taxesMap.entrySet().stream()\r\n                    .map( entry -&gt; new StudentInfo(entry.getKey(), entry.getValue)) //map the entry to StudentInfo, provide the necessary constructor or adapt as needed\r\n                    .toList();\r\n","title":"Convert map value to another map object","body":"<p><strong>Converting <code>Map&lt;K, List&lt;A&gt;&gt;</code> to <code>Map&lt;K, List&lt;B&gt;&gt;</code></strong>\nIf you want to convert a <code>Map&lt;Long,List&lt;Student&gt;&gt;</code> to a <code>Map&lt;Long,List&lt;StudentInfo&gt;&gt;</code> with the keys being the same, try the following:</p>\n<pre><code>Map&lt;Long,List&lt;StudentInfo&gt;&gt; convertedMap = \n  studentInfoMap.entrySet() //get the entry set to access keys and values\n    .stream() \n    .collect(Collectors.toMap( //collect the entries into another map\n        entry -&gt; entry.getKey(), //use the keys as they are\n        entry -&gt; entry.getValue() //get the value list\n                      .stream() /\n                      .map(student -&gt; new StudentInfo(/*pass in the student parameters you need*/) //create a StudentInfo out of a Student - and entry.getKey() if needed\n                      .toList() //collect the StudentInfo elements into a list\n     ));\n</code></pre>\n<p><strong>Reducing <code>List&lt;A&gt;</code> to <code>List&lt;B&gt;</code> by grouping A's based on key values</strong></p>\n<p><em><strong>Create a key class</strong></em></p>\n<p>If you want to collapse/reduce a <code>List&lt;Student&gt;</code> into a <code>List&lt;StudentInfo&gt;</code> by combining the taxes for each unique combination of <code>addressNo</code> and <code>code</code>, you'd ideally first define a class that combines those 2 attributes into a key, e.g.</p>\n<pre><code>class StudentAddressKey {\n  private long addressNo;\n  private String code;\n\n  //getters, setters, equals() and hashCode()\n}\n</code></pre>\n<p>You could then think about using this in <code>Student</code> instead of the individual keys but that's another topic.</p>\n<p><em><strong>Traditional loop</strong></em></p>\n<p>Then it comes down to summing tax values by this key. Using a traditional for-loop it could look like this:</p>\n<pre><code>Map&lt;StudentAddressKey, BigDecimal&gt; taxByKey = new HashMap&lt;&gt;();\n\nfor( Student student : studentList) {\n  taxByKey.merge(student.getAddressKey(), //or build a new one from the individual attributes\n                 student.getTax(), //the value to merge into the map\n                 BigDecimal::add ); //called if there's already a value in the map, could also be (e,n) -&gt; e.add(n)\n}\n</code></pre>\n<p>If you want a <code>Map&lt;StudentAddressKey, StudentInfo&gt;</code> instead, you have 3 options:</p>\n<ul>\n<li>Create one for each <code>Student</code> you want to add, pass it to <code>merge()</code> and if there's already one combine the new and the existing one</li>\n<li>Use <code>get()</code> to get an <code>StudentInfo</code> already in the map if there is one. If you get <code>null</code> put a new one, otherwise just change the tax by adding the student's value</li>\n<li>Create the <code>Map&lt;StudentAddressKey, BigDecimal&gt;</code> and turn it into a <code>Map&lt;StudentAddressKey, StudentInfo&gt;</code> in the end, basically using the process I described above.</li>\n</ul>\n<p>To get a <code>List&lt;StudentInfo&gt;</code> (which might not be necessary if you already have a <code>Map&lt;StudentAddressKey, BigDecimal&gt;</code>) you again have a couple of options:</p>\n<ul>\n<li>If you have a <code>Map&lt;StudentAddressKey, BigDecimal&gt;</code> then stream the entry set, map each entry to a <code>StudentInfo</code> and collect to a List.</li>\n<li>If you have a Map&lt;StudentAddressKey, StudentInfo&gt;<code>just create a new list and pass the map's</code>values()` to the list constructor</li>\n</ul>\n<p><em><strong>Stream</strong></em></p>\n<p>Using the info above, you can also use a stream to convert <code>List&lt;Student&gt;</code> to <code>List&lt;StudentInfo&gt;</code>:</p>\n<pre><code>Map&lt;StudentAddressKey, BigDecimal&gt; taxesMap = studentList.stream()\n  .collect( \n     Collectors.groupingBy( student -&gt; new StudentAddressKey(student), //create the key to group by\n        Collectors.mapping( student -&gt; student.getTax()), //map the student to its tax value\n          Collectors.reducing( BigDecimal.ZERO, BigDecimal::add) //reduce the mapped tax values by adding them, starting with 0 (otherwise you'd get an Optional&lt;BigDecimal&gt;\n        )\n      )\n    );\n</code></pre>\n<p>Note: you could also directly map <code>Student</code> to <code>StudentInfo</code> but merging them would be more complex and since all you need is a single <code>BigDecimal</code> I'd go for the simpler option.</p>\n<p>Now use the approaches above to convert <code>taxesMap</code> into a <code>List&lt;StudentInfo&gt;</code>:</p>\n<pre><code>List&lt;StudentInto&gt; taxesList = taxesMap.entrySet().stream()\n                .map( entry -&gt; new StudentInfo(entry.getKey(), entry.getValue)) //map the entry to StudentInfo, provide the necessary constructor or adapt as needed\n                .toList();\n</code></pre>\n"}],"owner":{"account_id":19467864,"reputation":215,"user_id":14240830,"display_name":"tom"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2592,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643230420,"creation_date":1643209785,"question_id":70865673,"body_markdown":"I have a map like this. `Map&lt;long,List&lt;Student&gt;&gt; studentMap`\r\n\r\nKey is a number 1,2,3,4...\r\nStudent object is :\r\n\r\n    public class Student {\r\n     private long addressNo;\r\n     private String code;\r\n     private BigDecimal tax;\r\n     private String name;\r\n     private String city;\r\n\r\n     // getter and setters` \r\n    }\r\n    \r\nWhat i want to do is to convert it `Map&lt;long,List&lt;StudentInfo&gt;&gt; studentInfoMap` object and group id, addressNo and code fields.\r\n\r\nI can group the map by using these codes but summingDouble is not working for BigDecimal.Also I cannot convert my studentMap to studentInfoMap.:(\r\n\r\n    \r\n     studentInfoMap.values().stream()\r\n\t\t\t\t.collect(\r\n                         Collectors.groupingBy(StudentInfo::getCode, \r\n\t\t\t\t\t\t Collectors.groupingBy(StudentInfo::getAddressNo, \r\n                         Collectors.summingDouble(StudentInfo::getTax))));\r\n\r\nMy studentInfo object is :\r\n\r\n    public class StudentInfo {\r\n      private long addressNo;\r\n      private String code;\r\n      private BigDecimal tax;\r\n\r\n      // getter and setters` \r\n    }","title":"Convert map value to another map object","body":"<p>I have a map like this. <code>Map&lt;long,List&lt;Student&gt;&gt; studentMap</code></p>\n<p>Key is a number 1,2,3,4...\nStudent object is :</p>\n<pre><code>public class Student {\n private long addressNo;\n private String code;\n private BigDecimal tax;\n private String name;\n private String city;\n\n // getter and setters` \n}\n</code></pre>\n<p>What i want to do is to convert it <code>Map&lt;long,List&lt;StudentInfo&gt;&gt; studentInfoMap</code> object and group id, addressNo and code fields.</p>\n<p>I can group the map by using these codes but summingDouble is not working for BigDecimal.Also I cannot convert my studentMap to studentInfoMap.:(</p>\n<pre><code> studentInfoMap.values().stream()\n            .collect(\n                     Collectors.groupingBy(StudentInfo::getCode, \n                     Collectors.groupingBy(StudentInfo::getAddressNo, \n                     Collectors.summingDouble(StudentInfo::getTax))));\n</code></pre>\n<p>My studentInfo object is :</p>\n<pre><code>public class StudentInfo {\n  private long addressNo;\n  private String code;\n  private BigDecimal tax;\n\n  // getter and setters` \n}\n</code></pre>\n"},{"tags":["java","processbuilder"],"answers":[{"tags":[],"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477157423,"creation_date":1477153580,"answer_id":40194411,"question_id":40194017,"body_markdown":"`java.io.IOException: Stream closed` That is probably because you&#39;re calling `temp.readLine()` after `p.destroy()`.\r\n\r\nThe problem seems to be that the process doesn&#39;t add a new line termination after the part that you want to retrieve. To fix that, you can read the output from the program in small chunks instead of line by line.\r\n\r\nHere is an example:\r\n\r\n    try(InputStream is = p.getInputStream()){\r\n        byte[] buffer = new byte[10];\r\n        String content = &quot;&quot;;\r\n        for(int r = 0; (r = is.read(buffer))!=-1;){\r\n            content+=new String(buffer, 0, r);\r\n            if(content.equals(&quot;all content&quot;)){// check if all the necessary data was retrieved.\r\n                p.destroy();\r\n                break;\r\n            }\r\n        }\r\n    }catch(Exception e){\r\n        e.printStackTrace();\r\n    }\r\n\r\nIf you know the exact format of the program&#39;s output, a better solution will be to use a scanner.\r\n     \r\n    try(Scanner sc = new Scanner(p.getInputStream())){\r\n        while(sc.hasNext()){\r\n            String word = sc.next();\r\n        }\r\n    }catch(Exception e){\r\n        e.printStackTrace();\r\n    }\r\n\r\nThe example above will read the program&#39;s output one word at a time.\r\n\r\n\r\nFrom your comments it seems that the problem is that the process never terminates by itself and your program never exits the `while` loop.\r\n\r\nTo fix that, you can use a timer to destroy the process after a period of time, here is an example:\r\n\r\n    \r\n    Timer t = new Timer();\r\n    t.schedule(new TimerTask() {\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tp.destroy();\r\n\t\t\tt.cancel();\r\n\t\t\tt.purge();\r\n\t\t}\r\n\t}, 7000);\r\n\r\n    try(BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));){\r\n        while ((inputRead=stdInput.readLine()) != null){\r\n            ...\r\n        }\r\n    }catch(Exception e){\r\n        e.printStackTrace();\r\n    }\r\n    \r\nKeep in mind that this approach will always cause `stdInput.readLine()` to throw an exception.\r\n","title":"Get the output result of a process with java","body":"<p><code>java.io.IOException: Stream closed</code> That is probably because you're calling <code>temp.readLine()</code> after <code>p.destroy()</code>.</p>\n\n<p>The problem seems to be that the process doesn't add a new line termination after the part that you want to retrieve. To fix that, you can read the output from the program in small chunks instead of line by line.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>try(InputStream is = p.getInputStream()){\n    byte[] buffer = new byte[10];\n    String content = \"\";\n    for(int r = 0; (r = is.read(buffer))!=-1;){\n        content+=new String(buffer, 0, r);\n        if(content.equals(\"all content\")){// check if all the necessary data was retrieved.\n            p.destroy();\n            break;\n        }\n    }\n}catch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>If you know the exact format of the program's output, a better solution will be to use a scanner.</p>\n\n<pre><code>try(Scanner sc = new Scanner(p.getInputStream())){\n    while(sc.hasNext()){\n        String word = sc.next();\n    }\n}catch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>The example above will read the program's output one word at a time.</p>\n\n<p>From your comments it seems that the problem is that the process never terminates by itself and your program never exits the <code>while</code> loop.</p>\n\n<p>To fix that, you can use a timer to destroy the process after a period of time, here is an example:</p>\n\n<pre><code>Timer t = new Timer();\nt.schedule(new TimerTask() {\n    @Override\n    public void run() {\n        p.destroy();\n        t.cancel();\n        t.purge();\n    }\n}, 7000);\n\ntry(BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));){\n    while ((inputRead=stdInput.readLine()) != null){\n        ...\n    }\n}catch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Keep in mind that this approach will always cause <code>stdInput.readLine()</code> to throw an exception.</p>\n"},{"tags":[],"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643230221,"creation_date":1477155087,"answer_id":40194648,"question_id":40194017,"body_markdown":"You don&#39;t want that call to `waitFor()` since it waits until the process is destroyed. You also don&#39;t want to read for as long as the `InputStream` is open, since such a read would terminate only when the process is killed.\r\n\r\nInstead, you can simply start the process, and then wait for 7 seconds. Once 7 seconds have passed, read the available data in the buffer without waiting for the stream to close:\r\n\r\n\tBufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\tThread.sleep(7000); //Sleep for 7 seconds\r\n\twhile (stdInput.ready()) { //While there&#39;s something in the buffer\r\n         //read &amp; print - replace with a buffered read (into an array) if the output doesn&#39;t contain CR/LF\r\n\t\tSystem.out.println(stdInput.readLine()); \r\n\t}\r\n    p.destroy(); //The buffer is now empty, kill the process.\r\n\r\nIf the process keeps printing, so `stdInput.ready()` always returns true you can try something like this:\r\n\r\n\tBufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\tchar[] buffer = new char[16 * 1024]; // 16 KiB buffer, change size if needed\r\n\tlong startedReadingAt = System.currentTimeMillis(); //When did we start reading?\r\n\twhile (System.currentTimeMillis() - startedReadingAt &lt; 7000) { //While we&#39;re waiting\r\n\t\tif (stdInput.ready()){\r\n\t\t\tint charsRead = stdInput.read(buffer); //read into the buffer - don&#39;t use readLine() so we don&#39;t wait for a CR/LF\r\n\t\t\tSystem.out.println(new String(buffer, 0, charsRead));  //print the content we&#39;ve read\r\n\t\t} else {\r\n\t\t\tThread.sleep(100); // Wait for a while before we try again\r\n\t\t}\r\n\t}\r\n\tp.destroy(); //Kill the process\r\n\r\nIn this solution, instead of sleeping, the thread spends the next 7 seconds reading from the `InputStream`, then it closes the process.","title":"Get the output result of a process with java","body":"<p>You don't want that call to <code>waitFor()</code> since it waits until the process is destroyed. You also don't want to read for as long as the <code>InputStream</code> is open, since such a read would terminate only when the process is killed.</p>\n<p>Instead, you can simply start the process, and then wait for 7 seconds. Once 7 seconds have passed, read the available data in the buffer without waiting for the stream to close:</p>\n<pre><code>BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\nThread.sleep(7000); //Sleep for 7 seconds\nwhile (stdInput.ready()) { //While there's something in the buffer\n     //read &amp; print - replace with a buffered read (into an array) if the output doesn't contain CR/LF\n    System.out.println(stdInput.readLine()); \n}\np.destroy(); //The buffer is now empty, kill the process.\n</code></pre>\n<p>If the process keeps printing, so <code>stdInput.ready()</code> always returns true you can try something like this:</p>\n<pre><code>BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\nchar[] buffer = new char[16 * 1024]; // 16 KiB buffer, change size if needed\nlong startedReadingAt = System.currentTimeMillis(); //When did we start reading?\nwhile (System.currentTimeMillis() - startedReadingAt &lt; 7000) { //While we're waiting\n    if (stdInput.ready()){\n        int charsRead = stdInput.read(buffer); //read into the buffer - don't use readLine() so we don't wait for a CR/LF\n        System.out.println(new String(buffer, 0, charsRead));  //print the content we've read\n    } else {\n        Thread.sleep(100); // Wait for a while before we try again\n    }\n}\np.destroy(); //Kill the process\n</code></pre>\n<p>In this solution, instead of sleeping, the thread spends the next 7 seconds reading from the <code>InputStream</code>, then it closes the process.</p>\n"}],"owner":{"account_id":9315196,"reputation":67,"user_id":6915749,"display_name":"sonia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2727,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":40194648,"answer_count":2,"score":4,"last_activity_date":1643230221,"creation_date":1477151220,"question_id":40194017,"body_markdown":"I want to execute a process for some time and then get the output and destroy the process. This is my code\r\n\r\n    BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\tBufferedReader temp;\r\n    p.waitFor(7, TimeUnit.SECONDS);\r\n    temp=stdInput;\r\n    p.destroy(); \r\n    System.out.println(temp.readLine());\r\n\r\nbut I get as result \r\n\r\n    java.io.IOException: Stream closed\r\nHow can I copy the result after executing the process 7 seconds? If I use this code \r\n\r\n    p.waitFor(7, TimeUnit.SECONDS);\r\n    while ((inputRead=stdInput.readLine()) != null){\r\n        Helper.log(inputRead);\r\n    }\r\n\r\nthe while loop will never terminate because the process is still alive after the `waitFor`, so I have to destroy it. And If I destroy the process I am not able to get the content of `stdInput` anymore. \r\n\r\n","title":"Get the output result of a process with java","body":"<p>I want to execute a process for some time and then get the output and destroy the process. This is my code</p>\n\n<pre><code>BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\nBufferedReader temp;\np.waitFor(7, TimeUnit.SECONDS);\ntemp=stdInput;\np.destroy(); \nSystem.out.println(temp.readLine());\n</code></pre>\n\n<p>but I get as result </p>\n\n<pre><code>java.io.IOException: Stream closed\n</code></pre>\n\n<p>How can I copy the result after executing the process 7 seconds? If I use this code </p>\n\n<pre><code>p.waitFor(7, TimeUnit.SECONDS);\nwhile ((inputRead=stdInput.readLine()) != null){\n    Helper.log(inputRead);\n}\n</code></pre>\n\n<p>the while loop will never terminate because the process is still alive after the <code>waitFor</code>, so I have to destroy it. And If I destroy the process I am not able to get the content of <code>stdInput</code> anymore. </p>\n"},{"tags":["java","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":24050525,"reputation":486,"user_id":18029062,"display_name":"KafKafOwn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643229531,"creation_date":1643229531,"answer_id":70869967,"question_id":70852503,"body_markdown":"It will map enum to string and vice versa by default without the annotation.","title":"Mapping an enum to String in R2DBC","body":"<p>It will map enum to string and vice versa by default without the annotation.</p>\n"}],"owner":{"account_id":4368701,"reputation":397,"user_id":3563655,"accept_rate":62,"display_name":"Rick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70869967,"answer_count":1,"score":1,"last_activity_date":1643229531,"creation_date":1643129219,"question_id":70852503,"body_markdown":"Using JPA, I can have a member within my entity that maps an `enum` and persists it as a String:\r\n\r\n```\r\n    @Enumerated(EnumType.STRING)\r\n    private MyEnum myEnum;\r\n```\r\n\r\nAs JPA doesn&#39;t work with R2DBC, I can&#39;t use that nice shorthand. Is there a clean way of effecting this mapping when using R2DBC?","title":"Mapping an enum to String in R2DBC","body":"<p>Using JPA, I can have a member within my entity that maps an <code>enum</code> and persists it as a String:</p>\n<pre><code>    @Enumerated(EnumType.STRING)\n    private MyEnum myEnum;\n</code></pre>\n<p>As JPA doesn't work with R2DBC, I can't use that nice shorthand. Is there a clean way of effecting this mapping when using R2DBC?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1643229276,"post_id":70869890,"comment_id":125287299,"body_markdown":"Do you force debugger options in the build files? Do you run or debug your application? See if running directly instead of using Gradle helps: https://i.imgur.com/HpeUaUE.png.","body":"Do you force debugger options in the build files? Do you run or debug your application? See if running directly instead of using Gradle helps: <a href=\"https://i.imgur.com/HpeUaUE.png\" rel=\"nofollow noreferrer\">i.imgur.com/HpeUaUE.png</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644084289,"post_id":70869890,"comment_id":125513695,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":23495321,"reputation":1,"user_id":17545842,"display_name":"venkatesh voruganti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643229084,"creation_date":1643229084,"question_id":70869890,"body_markdown":"Here is the Error:\r\n\r\n\r\n&gt; Task :checkout:bootRun FAILED                                \r\nERROR: transport error 202: bind failed: Address already in use\r\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\r\nJDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [debugInit.c:750]\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:checkout:bootRun&#39;.\r\n&gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk1.8.0_311\\bin\\java.exe&#39;&#39; finished with non-zero exit value 2\r\n\r\n","title":"Getting this error when running the application","body":"<p>Here is the Error:</p>\n<blockquote>\n<p>Task :checkout:bootRun FAILED<br />\nERROR: transport error 202: bind failed: Address already in use\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\nJDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [debugInit.c:750]</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':checkout:bootRun'.</li>\n</ul>\n<blockquote>\n<p>Process 'command 'C:\\Program Files\\Java\\jdk1.8.0_311\\bin\\java.exe'' finished with non-zero exit value 2</p>\n</blockquote>\n"},{"tags":["java","spring-boot","recursion"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1643227373,"post_id":70869538,"comment_id":125286609,"body_markdown":"What does &quot;break; the recursive call in the loop&quot; mean?","body":"What does &quot;break; the recursive call in the loop&quot; mean?"},{"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"score":0,"creation_date":1643227490,"post_id":70869538,"comment_id":125286647,"body_markdown":"leaving the loop and the recursive method &quot;findFile&quot;.","body":"leaving the loop and the recursive method &quot;findFile&quot;."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1643227584,"post_id":70869538,"comment_id":125286681,"body_markdown":"you can just do a `return` there . . . BTW the return value of the recursive call is not being used at all, probably not intended","body":"you can just do a <code>return</code> there . . . BTW the return value of the recursive call is not being used at all, probably not intended"},{"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"score":0,"creation_date":1643228392,"post_id":70869538,"comment_id":125286964,"body_markdown":"@user16320675 return is not worked if the recursive method findFile has been called several time before finding the matched file.","body":"@user16320675 return is not worked if the recursive method findFile has been called several time before finding the matched file."},{"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"score":0,"creation_date":1643228793,"post_id":70869538,"comment_id":125287116,"body_markdown":"For example the return will not work if the matched file was found in a subdirectory in the validators directory . It would work if the matched file is placed inside the validators directory directly.","body":"For example the return will not work if the matched file was found in a subdirectory in the validators directory . It would work if the matched file is placed inside the validators directory directly."}],"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643229006,"creation_date":1643227280,"question_id":70869538,"body_markdown":"I have a service to get the validator content as a string after passing the validator id (name). The validator&#39;s XSL files are placed in the src/main/resources. I am scanning the validator directory in the src/main/resources/de/validators to check if the file is a vailable. I am converting its input to a string and returning it as result fot the service.\r\n\r\nIn the findFile() method I want to leave the recursive call and the loop after finding the match. Is that possiable in my case? \r\nCurrently I am assigning the match to the fileName class attribute which works for me. A better approach would be to break the recursive call if it is possiable in my case.\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URISyntaxException;\r\n    import java.net.URL;\r\n    import java.nio.file.Paths;\r\n    import java.util.logging.Logger;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import de.validate.exception.ApiRequestException;\r\n    \r\n    @RequestMapping(&quot;/api/v1/validators&quot;)\r\n    @RestController\r\n    public class ValidateService {\r\n    \r\n    \tprivate String fileName = &quot;&quot;;\r\n    \r\n    \tstatic private Logger LOGGER = Logger.getLogger(ValidateService.class.getName());\r\n    \tfinal static private String VALIDATOR_CONFIGURATION_DIRECTORY = &quot;de&quot; +  File.separator + &quot;validator&quot; + File.separator;\r\n    \tfinal static private String VALIDATOR_TYPE = &quot;.xsl&quot;;\r\n    \tfinal static private String VALIDATOR = &quot;validator&quot;;\r\n    \r\n    \t@GetMapping(path = &quot;{id}&quot;, produces = MediaType.APPLICATION_XML_VALUE)\r\n    \tpublic String getValidator(@PathVariable String id) throws Exception {\r\n    \r\n    \t\tURL resource = this.getClass().getClassLoader().getResource(VALIDATOR_CONFIGURATION_DIRECTORY);\r\n    \t\tFile validatorDirectory = Paths.get(resource.toURI()).toFile();\r\n    \t\tString foundId = this.findFile(id + VALIDATOR_TYPE, validatorDirectory);\r\n    \r\n    \t\tString fileNameTemp = VALIDATOR_CONFIGURATION_DIRECTORY + foundId;\r\n    \r\n    \t\tInputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(fileNameTemp);\r\n    \t\tif (inputStream == null) {\r\n    \t\t\tthrow new ApiRequestException(&quot;Validator id is not availabe!&quot;);\r\n    \t\t}\r\n    \r\n    \t\tString result = new BufferedReader(new InputStreamReader(inputStream)).lines()\r\n    \t\t\t\t.collect(Collectors.joining(&quot;\\n&quot;));\r\n    \t\tLOGGER.info(&quot;---&gt; result: &quot; + result);\r\n    \t\treturn result;\r\n    \r\n    \t}\r\n    \r\n    \r\n    \tpublic String findFile(String name, File file) {\r\n    \r\n    \t\tFile[] list = file.listFiles();\r\n    \t\tif (list != null)\r\n    \t\t\tfor (File fileTemp : list) {\r\n    \t\t\t\tif (fileTemp.isDirectory()) {\r\n    \t\t\t\t\tthis.findFile(name, fileTemp);\r\n    \t\t\t\t} else if (name.equalsIgnoreCase(fileTemp.getName())) {\r\n                        //Is it possible to break the loop here and the recursive invoke?\r\n    \t\t\t\t\tif (fileTemp.getParentFile().getName().equals(VALIDATOR)) {\r\n    \t\t\t\t\t\tfileName = name;\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tfileName = fileTemp.getParentFile().getName() + File.separator + name;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\treturn fileName;\r\n    \t}\r\n    }\r\n\r\n","title":"Java: leaving the recursive method call and the loop","body":"<p>I have a service to get the validator content as a string after passing the validator id (name). The validator's XSL files are placed in the src/main/resources. I am scanning the validator directory in the src/main/resources/de/validators to check if the file is a vailable. I am converting its input to a string and returning it as result fot the service.</p>\n<p>In the findFile() method I want to leave the recursive call and the loop after finding the match. Is that possiable in my case?\nCurrently I am assigning the match to the fileName class attribute which works for me. A better approach would be to break the recursive call if it is possiable in my case.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.nio.file.Paths;\nimport java.util.logging.Logger;\nimport java.util.stream.Collectors;\n\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport de.validate.exception.ApiRequestException;\n\n@RequestMapping(&quot;/api/v1/validators&quot;)\n@RestController\npublic class ValidateService {\n\n    private String fileName = &quot;&quot;;\n\n    static private Logger LOGGER = Logger.getLogger(ValidateService.class.getName());\n    final static private String VALIDATOR_CONFIGURATION_DIRECTORY = &quot;de&quot; +  File.separator + &quot;validator&quot; + File.separator;\n    final static private String VALIDATOR_TYPE = &quot;.xsl&quot;;\n    final static private String VALIDATOR = &quot;validator&quot;;\n\n    @GetMapping(path = &quot;{id}&quot;, produces = MediaType.APPLICATION_XML_VALUE)\n    public String getValidator(@PathVariable String id) throws Exception {\n\n        URL resource = this.getClass().getClassLoader().getResource(VALIDATOR_CONFIGURATION_DIRECTORY);\n        File validatorDirectory = Paths.get(resource.toURI()).toFile();\n        String foundId = this.findFile(id + VALIDATOR_TYPE, validatorDirectory);\n\n        String fileNameTemp = VALIDATOR_CONFIGURATION_DIRECTORY + foundId;\n\n        InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(fileNameTemp);\n        if (inputStream == null) {\n            throw new ApiRequestException(&quot;Validator id is not availabe!&quot;);\n        }\n\n        String result = new BufferedReader(new InputStreamReader(inputStream)).lines()\n                .collect(Collectors.joining(&quot;\\n&quot;));\n        LOGGER.info(&quot;---&gt; result: &quot; + result);\n        return result;\n\n    }\n\n\n    public String findFile(String name, File file) {\n\n        File[] list = file.listFiles();\n        if (list != null)\n            for (File fileTemp : list) {\n                if (fileTemp.isDirectory()) {\n                    this.findFile(name, fileTemp);\n                } else if (name.equalsIgnoreCase(fileTemp.getName())) {\n                    //Is it possible to break the loop here and the recursive invoke?\n                    if (fileTemp.getParentFile().getName().equals(VALIDATOR)) {\n                        fileName = name;\n                    } else {\n                        fileName = fileTemp.getParentFile().getName() + File.separator + name;\n                    }\n                }\n            }\n\n        return fileName;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","jdbc"],"comments":[{"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"score":0,"creation_date":1643220877,"post_id":70867032,"comment_id":125284246,"body_markdown":"can you show your `BookDao` code?","body":"can you show your <code>BookDao</code> code?"},{"owner":{"account_id":19916091,"reputation":11,"user_id":14593044,"display_name":"onanmco"},"score":0,"creation_date":1643223898,"post_id":70867032,"comment_id":125285434,"body_markdown":"@fladdimir I&#39;ve added that to the question.","body":"@fladdimir I&#39;ve added that to the question."},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1643224614,"post_id":70867032,"comment_id":125285689,"body_markdown":"Should you not have the BookDao transactional in order for things to roll back?","body":"Should you not have the BookDao transactional in order for things to roll back?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644001795,"post_id":70867032,"comment_id":125498096,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643228509,"creation_date":1643227844,"answer_id":70869651,"question_id":70867032,"body_markdown":"The `connection` which is obtained from the `datasource` inside your DAO code [does _not_ participate in the spring-managed transaction](https://rizzodev.blogspot.com/2015/11/database-leak-getconnection-within.html), which was opened before by the `@DataJpaTest`.\r\n\r\nAnd since the new DAO transaction is _finally_ closed, it is [probably committed](https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#close--) (depending on your application code that you did not show..).\r\n\r\n---\r\n\r\nTo fix this, you could make your DAO code participate in the spring-managed transaction by annotating it with `@Transactional`, so that it uses any already opened transaction when being called. This way your code will run within the transaction which is rollbacked by the test.  \r\nhttps://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s05.html\r\n","title":"How to create a transactional context on spring boot test classes using JDBC?","body":"<p>The <code>connection</code> which is obtained from the <code>datasource</code> inside your DAO code <a href=\"https://rizzodev.blogspot.com/2015/11/database-leak-getconnection-within.html\" rel=\"nofollow noreferrer\">does <em>not</em> participate in the spring-managed transaction</a>, which was opened before by the <code>@DataJpaTest</code>.</p>\n<p>And since the new DAO transaction is <em>finally</em> closed, it is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#close--\" rel=\"nofollow noreferrer\">probably committed</a> (depending on your application code that you did not show..).</p>\n<hr />\n<p>To fix this, you could make your DAO code participate in the spring-managed transaction by annotating it with <code>@Transactional</code>, so that it uses any already opened transaction when being called. This way your code will run within the transaction which is rollbacked by the test.<br />\n<a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s05.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch11s05.html</a></p>\n"}],"owner":{"account_id":19916091,"reputation":11,"user_id":14593044,"display_name":"onanmco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643228509,"creation_date":1643215143,"question_id":70867032,"body_markdown":"When I was using hibernate, once I&#39;d made a test, all the changes made were being rolled back once those tests are completed.\r\n\r\nBut when I use JDBC with my DAO implementations instead JpaRepositories, mutations made during tests are not being rolled back.\r\n\r\nHow can I get all the changes are being rolled back?\r\n\r\nHere you can see how one of my test classes looks like:\r\n\r\n    package com.cemonan.bookdb2;\r\n    \r\n    import com.cemonan.bookdb2.dao.BookDao;\r\n    import com.cemonan.bookdb2.domain.Book;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    import java.util.List;\r\n    \r\n    import static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n    \r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @ComponentScan(basePackages = {&quot;com.cemonan.bookdb2.dao&quot;})\r\n    public class BookDaoIntegrationTest {\r\n    \r\n        @Autowired\r\n        BookDao bookDao;\r\n    \r\n        @Test\r\n        void testCreateBook() {\r\n            List&lt;Book&gt; books = bookDao.findAll();\r\n            int countBefore = books.size();\r\n    \r\n            Book book = new Book();\r\n            book.setTitle(&quot;A book&quot;);\r\n            book.setIsbn(&quot;123&quot;);\r\n            book.setPublisher(&quot;Someone&quot;);\r\n    \r\n            Book savedBook = bookDao.save(book);\r\n    \r\n            books = bookDao.findAll();\r\n            int countAfter = books.size();\r\n    \r\n            assertThat(savedBook).isNotNull();\r\n            assertThat(countAfter).isGreaterThan(countBefore);\r\n        }\r\n    }\r\n\r\n\r\n    package com.cemonan.bookdb2.dao;\r\n    \r\n    import com.cemonan.bookdb2.domain.Book;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.sql.*;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import static com.cemonan.bookdb2.dao.utils.Utils.closeAll;\r\n    \r\n    @Component\r\n    public class BookDaoImpl implements BookDao {\r\n    \r\n        @Autowired\r\n        DataSource source;\r\n    \r\n        Book mapRsToBook(ResultSet rs) throws SQLException {\r\n            Book book = new Book();\r\n            book.setId(rs.getLong(&quot;id&quot;));\r\n            book.setTitle(rs.getString(&quot;title&quot;));\r\n            book.setIsbn(rs.getString(&quot;isbn&quot;));\r\n            book.setPublisher(rs.getString(&quot;publisher&quot;));\r\n            return book;\r\n        }\r\n    \r\n        @Override\r\n        public Book findById(Long id) {\r\n            Connection connection = null;\r\n            PreparedStatement ps = null;\r\n            ResultSet rs = null;\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                ps = connection.prepareStatement(&quot;SELECT * FROM book WHERE id = ?&quot;);\r\n                ps.setLong(1, id);\r\n                rs = ps.executeQuery();\r\n    \r\n                if (rs.next()) {\r\n                    return mapRsToBook(rs);\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, ps, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Book save(Book book) {\r\n            Connection connection = null;\r\n            PreparedStatement ps = null;\r\n            ResultSet rs = null;\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                ps = connection.prepareStatement(&quot;INSERT INTO book (title, isbn, publisher) VALUES (?, ?, ?)&quot;);\r\n                ps.setString(1, book.getTitle());\r\n                ps.setString(2, book.getIsbn());\r\n                ps.setString(3, book.getPublisher());\r\n                ps.execute();\r\n    \r\n                Statement stmt = connection.createStatement();\r\n                rs = stmt.executeQuery(&quot;SELECT LAST_INSERT_ID()&quot;);\r\n    \r\n                if (rs.next()) {\r\n                    return this.findById(rs.getLong(1));\r\n                }\r\n    \r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, ps, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Book update(Book book) {\r\n            Connection connection = null;\r\n            PreparedStatement ps = null;\r\n            ResultSet rs = null;\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                ps = connection.prepareStatement(&quot;UPDATE book SET title = ?, isbn = ?, publisher = ? WHERE id = ?&quot;);\r\n                ps.setString(1, book.getTitle());\r\n                ps.setString(2, book.getIsbn());\r\n                ps.setString(3, book.getPublisher());\r\n                ps.setLong(4, book.getId());\r\n                ps.execute();\r\n    \r\n                if (rs.next()) {\r\n                    return this.findById(book.getId());\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, ps, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void delete(Book book) {\r\n            Connection connection = null;\r\n            PreparedStatement ps = null;\r\n            ResultSet rs = null;\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                ps = connection.prepareStatement(&quot;DELETE FROM book WHERE id = ?&quot;);\r\n                ps.setLong(1, book.getId());\r\n                ps.execute();\r\n    \r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, ps, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Book findByTitle(String title) {\r\n            Connection connection = null;\r\n            PreparedStatement ps = null;\r\n            ResultSet rs = null;\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                ps = connection.prepareStatement(&quot;SELECT * FROM book WHERE title = ?&quot;);\r\n                ps.setString(1, title);\r\n                rs = ps.executeQuery();\r\n    \r\n                if (rs.next()) {\r\n                    return this.mapRsToBook(rs);\r\n                }\r\n            } catch(SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, ps, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Book&gt; findAll() {\r\n            Connection connection = null;\r\n            Statement stmt = null;\r\n            ResultSet rs = null;\r\n            List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n    \r\n            try {\r\n                connection = this.source.getConnection();\r\n                stmt = connection.createStatement();\r\n                rs = stmt.executeQuery(&quot;SELECT * FROM book&quot;);\r\n    \r\n                while(rs.next()) {\r\n                    Book book = this.mapRsToBook(rs);\r\n                    books.add(book);\r\n                }\r\n            } catch(SQLException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    closeAll(rs, stmt, connection);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return books;\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to create a transactional context on spring boot test classes using JDBC?","body":"<p>When I was using hibernate, once I'd made a test, all the changes made were being rolled back once those tests are completed.</p>\n<p>But when I use JDBC with my DAO implementations instead JpaRepositories, mutations made during tests are not being rolled back.</p>\n<p>How can I get all the changes are being rolled back?</p>\n<p>Here you can see how one of my test classes looks like:</p>\n<pre><code>package com.cemonan.bookdb2;\n\nimport com.cemonan.bookdb2.dao.BookDao;\nimport com.cemonan.bookdb2.domain.Book;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.context.annotation.ComponentScan;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\n\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@ComponentScan(basePackages = {&quot;com.cemonan.bookdb2.dao&quot;})\npublic class BookDaoIntegrationTest {\n\n    @Autowired\n    BookDao bookDao;\n\n    @Test\n    void testCreateBook() {\n        List&lt;Book&gt; books = bookDao.findAll();\n        int countBefore = books.size();\n\n        Book book = new Book();\n        book.setTitle(&quot;A book&quot;);\n        book.setIsbn(&quot;123&quot;);\n        book.setPublisher(&quot;Someone&quot;);\n\n        Book savedBook = bookDao.save(book);\n\n        books = bookDao.findAll();\n        int countAfter = books.size();\n\n        assertThat(savedBook).isNotNull();\n        assertThat(countAfter).isGreaterThan(countBefore);\n    }\n}\n\n\npackage com.cemonan.bookdb2.dao;\n\nimport com.cemonan.bookdb2.domain.Book;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport javax.sql.DataSource;\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static com.cemonan.bookdb2.dao.utils.Utils.closeAll;\n\n@Component\npublic class BookDaoImpl implements BookDao {\n\n    @Autowired\n    DataSource source;\n\n    Book mapRsToBook(ResultSet rs) throws SQLException {\n        Book book = new Book();\n        book.setId(rs.getLong(&quot;id&quot;));\n        book.setTitle(rs.getString(&quot;title&quot;));\n        book.setIsbn(rs.getString(&quot;isbn&quot;));\n        book.setPublisher(rs.getString(&quot;publisher&quot;));\n        return book;\n    }\n\n    @Override\n    public Book findById(Long id) {\n        Connection connection = null;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n\n        try {\n            connection = this.source.getConnection();\n            ps = connection.prepareStatement(&quot;SELECT * FROM book WHERE id = ?&quot;);\n            ps.setLong(1, id);\n            rs = ps.executeQuery();\n\n            if (rs.next()) {\n                return mapRsToBook(rs);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, ps, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    @Override\n    public Book save(Book book) {\n        Connection connection = null;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n\n        try {\n            connection = this.source.getConnection();\n            ps = connection.prepareStatement(&quot;INSERT INTO book (title, isbn, publisher) VALUES (?, ?, ?)&quot;);\n            ps.setString(1, book.getTitle());\n            ps.setString(2, book.getIsbn());\n            ps.setString(3, book.getPublisher());\n            ps.execute();\n\n            Statement stmt = connection.createStatement();\n            rs = stmt.executeQuery(&quot;SELECT LAST_INSERT_ID()&quot;);\n\n            if (rs.next()) {\n                return this.findById(rs.getLong(1));\n            }\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, ps, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    @Override\n    public Book update(Book book) {\n        Connection connection = null;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n\n        try {\n            connection = this.source.getConnection();\n            ps = connection.prepareStatement(&quot;UPDATE book SET title = ?, isbn = ?, publisher = ? WHERE id = ?&quot;);\n            ps.setString(1, book.getTitle());\n            ps.setString(2, book.getIsbn());\n            ps.setString(3, book.getPublisher());\n            ps.setLong(4, book.getId());\n            ps.execute();\n\n            if (rs.next()) {\n                return this.findById(book.getId());\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, ps, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    @Override\n    public void delete(Book book) {\n        Connection connection = null;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n\n        try {\n            connection = this.source.getConnection();\n            ps = connection.prepareStatement(&quot;DELETE FROM book WHERE id = ?&quot;);\n            ps.setLong(1, book.getId());\n            ps.execute();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, ps, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    public Book findByTitle(String title) {\n        Connection connection = null;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n\n        try {\n            connection = this.source.getConnection();\n            ps = connection.prepareStatement(&quot;SELECT * FROM book WHERE title = ?&quot;);\n            ps.setString(1, title);\n            rs = ps.executeQuery();\n\n            if (rs.next()) {\n                return this.mapRsToBook(rs);\n            }\n        } catch(SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, ps, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    @Override\n    public List&lt;Book&gt; findAll() {\n        Connection connection = null;\n        Statement stmt = null;\n        ResultSet rs = null;\n        List&lt;Book&gt; books = new ArrayList&lt;&gt;();\n\n        try {\n            connection = this.source.getConnection();\n            stmt = connection.createStatement();\n            rs = stmt.executeQuery(&quot;SELECT * FROM book&quot;);\n\n            while(rs.next()) {\n                Book book = this.mapRsToBook(rs);\n                books.add(book);\n            }\n        } catch(SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                closeAll(rs, stmt, connection);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return books;\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1643205736,"post_id":70864293,"comment_id":125277355,"body_markdown":"I can&#39;t replicate this using JavaFX 17.0.1 on Windows.  Non-editable text areas with overflowing text scroll vertically fine for me.  You may want to provide a [mcve] if you want debugging help.","body":"I can&#39;t replicate this using JavaFX 17.0.1 on Windows.  Non-editable text areas with overflowing text scroll vertically fine for me.  You may want to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you want debugging help."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643228503,"creation_date":1643228503,"answer_id":70869789,"question_id":70864293,"body_markdown":"Setting the `promptText` attribute when `editable=&quot;false&quot;` seems odd, and the `promptText` by itself doesn&#39;t enable scrolling. As an alternative, for a similar effect, set the `text` attribute and specify a gray text-fill paint:\r\n\r\n```\r\n&lt;TextArea … editable=&quot;false&quot; style=&quot;-fx-text-fill: gray&quot;\r\n    text=&quot;Deze textarea bevat de vraag en de vier antwoorden.&quot;/&gt;\r\n```\r\n[![image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cLTa6.png","title":"How to make scrollbar in JavaFX TextArea work?","body":"<p>Setting the <code>promptText</code> attribute when <code>editable=&quot;false&quot;</code> seems odd, and the <code>promptText</code> by itself doesn't enable scrolling. As an alternative, for a similar effect, set the <code>text</code> attribute and specify a gray text-fill paint:</p>\n<pre><code>&lt;TextArea … editable=&quot;false&quot; style=&quot;-fx-text-fill: gray&quot;\n    text=&quot;Deze textarea bevat de vraag en de vier antwoorden.&quot;/&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cLTa6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cLTa6.png\" alt=\"image\" /></a></p>\n"}],"owner":{"account_id":12092932,"reputation":55,"user_id":8838185,"display_name":"Stijn Klijn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1643245365,"answer_count":1,"score":-1,"last_activity_date":1643228503,"creation_date":1643204218,"question_id":70864293,"body_markdown":"I declare the following `TextArea` in my FXML code, as direct child of an `AnchorPane`.\r\n\r\n```\r\n&lt;TextArea fx:id=&quot;questionArea&quot; layoutX=&quot;14.0&quot; layoutY=&quot;49.0&quot; prefHeight=&quot;300.0&quot; prefWidth=&quot;600.0&quot; promptText=&quot;Deze textarea bevat de vraag en de vier antwoorden.&quot; text=&quot;&quot; wrapText=&quot;true&quot; editable=&quot;false&quot;/&gt;\r\n```\r\n\r\nIn my controller I add text to this (non editable) `TextArea`, which sometimes exceeds its height. In those cases a scrollbar shows up as expected, but it isn&#39;t working!\r\n\r\nDoes anyone know how to make the scrollbar work appropriately?\r\n","title":"How to make scrollbar in JavaFX TextArea work?","body":"<p>I declare the following <code>TextArea</code> in my FXML code, as direct child of an <code>AnchorPane</code>.</p>\n<pre><code>&lt;TextArea fx:id=&quot;questionArea&quot; layoutX=&quot;14.0&quot; layoutY=&quot;49.0&quot; prefHeight=&quot;300.0&quot; prefWidth=&quot;600.0&quot; promptText=&quot;Deze textarea bevat de vraag en de vier antwoorden.&quot; text=&quot;&quot; wrapText=&quot;true&quot; editable=&quot;false&quot;/&gt;\n</code></pre>\n<p>In my controller I add text to this (non editable) <code>TextArea</code>, which sometimes exceeds its height. In those cases a scrollbar shows up as expected, but it isn't working!</p>\n<p>Does anyone know how to make the scrollbar work appropriately?</p>\n"},{"tags":["java","gradle","google-drive-api"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1643226651,"post_id":70868806,"comment_id":125286348,"body_markdown":"How do you expect Java 8 to be able to use Java 11 code and produce Java 11 class files? Java 11 didn&#39;t exist when Java 8 was developed. Either install Java 11, or change your `sourceCompatibility` and `targetCompatibility` to 8.","body":"How do you expect Java 8 to be able to use Java 11 code and produce Java 11 class files? Java 11 didn&#39;t exist when Java 8 was developed. Either install Java 11, or change your <code>sourceCompatibility</code> and <code>targetCompatibility</code> to 8."},{"owner":{"account_id":19885240,"reputation":21,"user_id":14568335,"display_name":"Đo&#224;n Thế Ph&#250;c"},"score":0,"creation_date":1643227568,"post_id":70868806,"comment_id":125286677,"body_markdown":"it worked, i almost forgot it, thanks very much","body":"it worked, i almost forgot it, thanks very much"},{"owner":{"account_id":21108153,"reputation":1525,"user_id":15516699,"display_name":"Century Tuna"},"score":0,"creation_date":1643227606,"post_id":70868806,"comment_id":125286690,"body_markdown":"Would it be alright if you can post your comment as an answer so that the author and I can upvote it?  @Robert","body":"Would it be alright if you can post your comment as an answer so that the author and I can upvote it?  @Robert"}],"answers":[{"tags":[],"owner":{"account_id":19885240,"reputation":21,"user_id":14568335,"display_name":"Đo&#224;n Thế Ph&#250;c"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643228331,"creation_date":1643228331,"answer_id":70869753,"question_id":70868806,"body_markdown":"i change \r\n```\r\nsourceCompatibility = 11\r\ntargetCompatibility = 11\r\n```\r\nto\r\n```\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\n```\r\nand it worked, so it depends on your jdk version","title":"Build Gradle Failed","body":"<p>i change</p>\n<pre><code>sourceCompatibility = 11\ntargetCompatibility = 11\n</code></pre>\n<p>to</p>\n<pre><code>sourceCompatibility = 1.8\ntargetCompatibility = 1.8\n</code></pre>\n<p>and it worked, so it depends on your jdk version</p>\n"}],"owner":{"account_id":19885240,"reputation":21,"user_id":14568335,"display_name":"Đo&#224;n Thế Ph&#250;c"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643228331,"creation_date":1643223264,"question_id":70868806,"body_markdown":"I&#39;m following Google Drive API instruction to upload file to google drive with java, when i try to &quot;gradle run&quot; in cmd, it announces that &quot;BUILD FAILED&quot; with &quot;Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;&quot;\r\nI&#39;m using java jre 1.8 and gradle 5.4.1 on Eclipse\r\n\r\nHere is my build.gradle\r\n```\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;application&#39;\r\n\r\nmainClassName = &#39;DriveQuickstart&#39;\r\nsourceCompatibility = 11\r\ntargetCompatibility = 11\r\nversion = &#39;1.0&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.google.api-client:google-api-client:1.33.0&#39;\r\n    implementation &#39;com.google.oauth-client:google-oauth-client-jetty:1.32.1&#39;\r\n    implementation &#39;com.google.apis:google-api-services-drive:v3-rev20211107-1.32.1&#39;\r\n}\r\n```","title":"Build Gradle Failed","body":"<p>I'm following Google Drive API instruction to upload file to google drive with java, when i try to &quot;gradle run&quot; in cmd, it announces that &quot;BUILD FAILED&quot; with &quot;Could not target platform: 'Java SE 11' using tool chain: 'JDK 8 (1.8)'&quot;\nI'm using java jre 1.8 and gradle 5.4.1 on Eclipse</p>\n<p>Here is my build.gradle</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\nmainClassName = 'DriveQuickstart'\nsourceCompatibility = 11\ntargetCompatibility = 11\nversion = '1.0'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.google.api-client:google-api-client:1.33.0'\n    implementation 'com.google.oauth-client:google-oauth-client-jetty:1.32.1'\n    implementation 'com.google.apis:google-api-services-drive:v3-rev20211107-1.32.1'\n}\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":3,"creation_date":1643227792,"post_id":70869611,"comment_id":125286752,"body_markdown":"yes, that&#39;s exactly what happens. `s.split()` returns an array, and `.length` dereferences the returned array. `.split()` _has_ to be evaluated first, because otherwise `.length` would have nothing to dereference. (chained methods will generally evaluate from left to right on each others&#39; returned values - in other words, `s.split(&quot; &quot;).length` is the same as `(s.split(&quot; &quot;)).length`)","body":"yes, that&#39;s exactly what happens. <code>s.split()</code> returns an array, and <code>.length</code> dereferences the returned array. <code>.split()</code> <i>has</i> to be evaluated first, because otherwise <code>.length</code> would have nothing to dereference. (chained methods will generally evaluate from left to right on each others&#39; returned values - in other words, <code>s.split(&quot; &quot;).length</code> is the same as <code>(s.split(&quot; &quot;)).length</code>)"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1643227885,"post_id":70869611,"comment_id":125286775,"body_markdown":"I don&#39;t think there&#39;s an &quot;inner function&quot; however.  It&#39;s just order of operations.  It executes left to right.  First `split` is called, then `length` is called.","body":"I don&#39;t think there&#39;s an &quot;inner function&quot; however.  It&#39;s just order of operations.  It executes left to right.  First <code>split</code> is called, then <code>length</code> is called."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1643228137,"post_id":70869611,"comment_id":125286868,"body_markdown":"The array returned by split() is then LOST after the execution of the line. I&#39;d venture to say that most of the time you&#39;d want to use that array somehow in your code. It&#39;s probably a better idea to write it out in separate lines as demonstrated in the post by Mad Physicist.","body":"The array returned by split() is then LOST after the execution of the line. I&#39;d venture to say that most of the time you&#39;d want to use that array somehow in your code. It&#39;s probably a better idea to write it out in separate lines as demonstrated in the post by Mad Physicist."}],"answers":[{"tags":[],"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643228079,"creation_date":1643228079,"answer_id":70869697,"question_id":70869611,"body_markdown":"Dot notation chains left-to-right. Writing out the steps with temporary variables helps you see the intermediate types:\r\n\r\n    String s = &quot;a b c&quot;;\r\n    String[] parts = s.split(&quot; &quot;);\r\n    int n = parts.length;","title":"One function performing two methods","body":"<p>Dot notation chains left-to-right. Writing out the steps with temporary variables helps you see the intermediate types:</p>\n<pre><code>String s = &quot;a b c&quot;;\nString[] parts = s.split(&quot; &quot;);\nint n = parts.length;\n</code></pre>\n"}],"owner":{"account_id":23228613,"reputation":11,"user_id":17319742,"display_name":"NewBieOnTheBlock"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643228079,"creation_date":1643227663,"question_id":70869611,"body_markdown":"I am trying to understand what happens in this java method `s.split(&quot; &quot;).length`. In the sense that it does two things. \r\n\r\nThe split method returns an array, does the length get called on that? If so would the inner function always execute first ?","title":"One function performing two methods","body":"<p>I am trying to understand what happens in this java method <code>s.split(&quot; &quot;).length</code>. In the sense that it does two things.</p>\n<p>The split method returns an array, does the length get called on that? If so would the inner function always execute first ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8345,"page":1647,"page_size":100}
