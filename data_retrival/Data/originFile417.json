{"items":[{"tags":["java","algorithm","memory","data-structures","hashmap"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1684817538,"post_id":76311356,"comment_id":134568235,"body_markdown":"First, note [the `HashMap` documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashMap.html) states: &quot;_This implementation provides constant-time performance for the basic operations (get and put), **assuming the hash function disperses the elements properly among the buckets**_&quot;. And this is exactly why. The linked list you&#39;re seeing in the code is how `HashMap` handles two keys that hash to the same bucket. Figuring out which bucket to look at is still constant time, however. And you&#39;re _likely_ still not iterating the entire key set.","body":"First, note <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">the <code>HashMap</code> documentation</a> states: &quot;<i>This implementation provides constant-time performance for the basic operations (get and put), <b>assuming the hash function disperses the elements properly among the buckets</b></i>&quot;. And this is exactly why. The linked list you&#39;re seeing in the code is how <code>HashMap</code> handles two keys that hash to the same bucket. Figuring out which bucket to look at is still constant time, however. And you&#39;re <i>likely</i> still not iterating the entire key set."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1684817725,"post_id":76311356,"comment_id":134568255,"body_markdown":"This is [well known](https://stackoverflow.com/q/4553624/555045) but also note that eventually a [tree is used instead of a linked list](https://stackoverflow.com/q/31373648/555045) (this is also visible in the code you quoted, but it doesn&#39;t show the conditions under which the tree is created)","body":"This is <a href=\"https://stackoverflow.com/q/4553624/555045\">well known</a> but also note that eventually a <a href=\"https://stackoverflow.com/q/31373648/555045\">tree is used instead of a linked list</a> (this is also visible in the code you quoted, but it doesn&#39;t show the conditions under which the tree is created)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684817794,"post_id":76311356,"comment_id":134568260,"body_markdown":"So, yes, if somehow every key was hashed to the same bucket, then the performance degrades to O(n). Though if enough keys are hashed to the same bucket, then `HashMap` switches from a linked list to a balanced tree which, if I&#39;m not mistaken, keeps the performance to O(log(n)).","body":"So, yes, if somehow every key was hashed to the same bucket, then the performance degrades to O(n). Though if enough keys are hashed to the same bucket, then <code>HashMap</code> switches from a linked list to a balanced tree which, if I&#39;m not mistaken, keeps the performance to O(log(n))."}],"owner":{"account_id":26945933,"reputation":7,"user_id":20515929,"display_name":"Brendan B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684817157,"creation_date":1684817157,"question_id":76311356,"body_markdown":"This is the documentation for HashMap.containsKey(). As you can see, it uses getNode(). I could be wrong, but it looks like the the hash map is still being iterated through, which would be linear time.\r\n\r\n```\r\n/**\r\n * Implements Map.get and related methods.\r\n *\r\n * @param key the key\r\n * @return the node, or null if none\r\n */\r\nfinal Node&lt;K,V&gt; getNode(Object key) {\r\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n, hash; K k;\r\n    if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;\r\n        (first = tab[(n - 1) &amp; (hash = hash(key))]) != null) {\r\n        if (first.hash == hash &amp;&amp; // always check first node\r\n            ((k = first.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n            return first;\r\n        if ((e = first.next) != null) {\r\n            if (first instanceof TreeNode)\r\n                return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);\r\n            do {\r\n                if (e.hash == hash &amp;&amp;\r\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n                    return e;\r\n            } while ((e = e.next) != null);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Returns {@code true} if this map contains a mapping for the\r\n * specified key.\r\n *\r\n * @param   key   The key whose presence in this map is to be tested\r\n * @return {@code true} if this map contains a mapping for the specified\r\n * key.\r\n */\r\npublic boolean containsKey(Object key) {\r\n    return getNode(key) != null;\r\n}\r\n```","title":"How is HashMap.containsKey() in Java able to run in constant time?","body":"<p>This is the documentation for HashMap.containsKey(). As you can see, it uses getNode(). I could be wrong, but it looks like the the hash map is still being iterated through, which would be linear time.</p>\n<pre><code>/**\n * Implements Map.get and related methods.\n *\n * @param key the key\n * @return the node, or null if none\n */\nfinal Node&lt;K,V&gt; getNode(Object key) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n, hash; K k;\n    if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;\n        (first = tab[(n - 1) &amp; (hash = hash(key))]) != null) {\n        if (first.hash == hash &amp;&amp; // always check first node\n            ((k = first.key) == key || (key != null &amp;&amp; key.equals(k))))\n            return first;\n        if ((e = first.next) != null) {\n            if (first instanceof TreeNode)\n                return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);\n            do {\n                if (e.hash == hash &amp;&amp;\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\n                    return e;\n            } while ((e = e.next) != null);\n        }\n    }\n    return null;\n}\n\n/**\n * Returns {@code true} if this map contains a mapping for the\n * specified key.\n *\n * @param   key   The key whose presence in this map is to be tested\n * @return {@code true} if this map contains a mapping for the specified\n * key.\n */\npublic boolean containsKey(Object key) {\n    return getNode(key) != null;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1684683798,"post_id":76300685,"comment_id":134549474,"body_markdown":"Don&#39;t like to your code, include it in your question. Check the formatting help for how (basically, put three backticks (The &#39;`&#39; character) on a line, paste your code, another line with 3 backticks.","body":"Don&#39;t like to your code, include it in your question. Check the formatting help for how (basically, put three backticks (The &#39;`&#39; character) on a line, paste your code, another line with 3 backticks."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1684684199,"post_id":76300685,"comment_id":134549527,"body_markdown":"Yes, this isn&#39;t a &quot;please check the code in the link&quot; help site, and in fact isn&#39;t even a help site per se, but rather a question and answer site, where we hope to have high quality questions and answers that are helpful to all -- to the original poster as well as to future visitors who come to the site for solutions to similar problems. Mainly for this reason, it is best to have all code and all important resources readily visible in your question as text (for code, as code-formatted text). Please check out the [ask] and [tour] link for the details as well as the [help] link.","body":"Yes, this isn&#39;t a &quot;please check the code in the link&quot; help site, and in fact isn&#39;t even a help site per se, but rather a question and answer site, where we hope to have high quality questions and answers that are helpful to all -- to the original poster as well as to future visitors who come to the site for solutions to similar problems. Mainly for this reason, it is best to have all code and all important resources readily visible in your question as text (for code, as code-formatted text). Please check out the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/tour\">tour</a> link for the details as well as the <a href=\"https://stackoverflow.com/help\">help center</a> link."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":3,"creation_date":1684686500,"post_id":76300685,"comment_id":134549810,"body_markdown":"split does not include the delimiter in the resulting array so there will never be a newline in it.","body":"split does not include the delimiter in the resulting array so there will never be a newline in it."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1684733075,"post_id":76300685,"comment_id":134554217,"body_markdown":"I think you should post a [mcve]. Are you saying that you are not getting your expected result?","body":"I think you should post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Are you saying that you are not getting your expected result?"},{"owner":{"account_id":28648346,"reputation":3,"user_id":21935848,"display_name":"Bayron Viamonte Almonte"},"score":0,"creation_date":1684740222,"post_id":76300685,"comment_id":134555274,"body_markdown":"Edited giving a minimal reproducible example. Yes, the result of the test is not the expected.","body":"Edited giving a minimal reproducible example. Yes, the result of the test is not the expected."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684816993,"creation_date":1684743610,"answer_id":76304258,"question_id":76300685,"body_markdown":"The `Scanner` class (Java 17 at least) uses the following regex to match a line separator:\r\n\r\n    \\r\\n|[\\n\\r\\u2028\\u2029\\u0085]\r\n\r\nAs you can see, this will match a CR, an LF or a CR followed by a LF&lt;sup&gt;1&lt;/sup&gt;. After matching,  line separator at the end of the line is then removed, as per the javadoc.  That means that `readLine()` will NEVER return a line that ends with an LF (i.e. `&#39;\\n&#39;`) or a CR (i.e. `&#39;\\r&#39;`).  \r\n\r\n\r\n&gt; Is there a way to read the text by lines without removing the delimiters?\r\n\r\nNot using `Scanner.nextLine()` or `BufferedReader.readLine()`.  If you really need to preserve the line separator, the simplest way is to use a `for` loop to read a characters from `BufferedReader`, recognize line separators, and assemble lines yourself.  You can then include the line separators in the line strings, or put them into a different variable.\r\n\r\nHOWEVER ... it is not obvious to me why you need to preserve the line separators if you are simply reading a CSV file.  If I was doing this, I would use `BufferedReader.readLine` to read each line, and then use a `Scanner` or `String.split` or something more sophisticated to deal with the commas and quotes.\r\n\r\nOr ... find and use a 3rd party CSV parser library and save the effort of implementing the code yourself.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - ... and some other obscure codes that you&#39;ve probably never heard of.&lt;/sup&gt;\r\n","title":"Why my linebreak checker is not giving the expected result?","body":"<p>The <code>Scanner</code> class (Java 17 at least) uses the following regex to match a line separator:</p>\n<pre><code>\\r\\n|[\\n\\r\\u2028\\u2029\\u0085]\n</code></pre>\n<p>As you can see, this will match a CR, an LF or a CR followed by a LF<sup>1</sup>. After matching,  line separator at the end of the line is then removed, as per the javadoc.  That means that <code>readLine()</code> will NEVER return a line that ends with an LF (i.e. <code>'\\n'</code>) or a CR (i.e. <code>'\\r'</code>).</p>\n<blockquote>\n<p>Is there a way to read the text by lines without removing the delimiters?</p>\n</blockquote>\n<p>Not using <code>Scanner.nextLine()</code> or <code>BufferedReader.readLine()</code>.  If you really need to preserve the line separator, the simplest way is to use a <code>for</code> loop to read a characters from <code>BufferedReader</code>, recognize line separators, and assemble lines yourself.  You can then include the line separators in the line strings, or put them into a different variable.</p>\n<p>HOWEVER ... it is not obvious to me why you need to preserve the line separators if you are simply reading a CSV file.  If I was doing this, I would use <code>BufferedReader.readLine</code> to read each line, and then use a <code>Scanner</code> or <code>String.split</code> or something more sophisticated to deal with the commas and quotes.</p>\n<p>Or ... find and use a 3rd party CSV parser library and save the effort of implementing the code yourself.</p>\n<hr />\n<p><sup>1 - ... and some other obscure codes that you've probably never heard of.</sup></p>\n"}],"owner":{"account_id":28648346,"reputation":3,"user_id":21935848,"display_name":"Bayron Viamonte Almonte"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76304258,"answer_count":1,"score":-2,"last_activity_date":1684816993,"creation_date":1684683624,"question_id":76300685,"body_markdown":"I have created a project using Java to simulate a Library, I have a method named &quot;Arrumbadas&quot; that return those publishings which have never been lend separated by a linefeed and a test that only checks if each line of this result (&quot;Arrumbadas&quot; method) has a linefeed at the end.\r\n\r\nI have implemented &quot;Arrumbadas&quot; method as follow:\r\n\r\n   \r\n\r\n    (Omitted code)\r\n         result = new StringBuilder();\r\n          for(omitted code){\r\n           if(omitted code){\r\n             result.append(publishing).append(\\n)\r\n            }\r\n           }\r\n          return result.toString()\r\n\r\nI have implemented the test as follow:\r\n\r\n      \r\n      public static boolean hasLineFeed(String t){\r\n            Scanner text = new Scanner(t);\r\n            while(text.hasNextLine()){\r\n                String line = text.nextLine();\r\n                System.out.println(line);\r\n                if(!line.endsWith(&quot;\\n&quot;) &amp;&amp; !line.isEmpty()){\r\n                    return false;\r\n                }\r\n            }\r\n    \r\n            return true;\r\n        }\r\n\r\nGiven this certain text:\r\n\r\n    &quot;9780547928227&quot;,&quot;The Hobbit&quot;,&quot;J.R.R. Tolkien&quot;,&quot;2&quot;,&quot;0&quot;,&quot;High fantasy&quot;\r\n    &quot;9780316769174&quot;,&quot;The Catcher in the Rye&quot;,&quot;J.R.R. Tolkien&quot;,&quot;3&quot;,&quot;0&quot;,&quot;Coming-of-age fiction&quot;\r\n    &quot;9780143124672&quot;,&quot;Moby-Dick&quot;,&quot;J.R.R. Tolkien&quot;,&quot;1&quot;,&quot;0&quot;,&quot;Adventure fiction&quot;\r\n\r\nThe output of the test is:\r\n\r\n    &quot;9780547928227&quot;,&quot;The Hobbit&quot;,&quot;J.R.R. Tolkien&quot;,&quot;2&quot;,&quot;0&quot;,&quot;High fantasy&quot;\r\n    Has linefeed: false\r\n\r\nFigure out that .hasNextLine() doesnt include the delimiter, neither does .split() that I had used it before. Is there a way to read the text by lines without removing the delimiters?\r\n\r\n","title":"Why my linebreak checker is not giving the expected result?","body":"<p>I have created a project using Java to simulate a Library, I have a method named &quot;Arrumbadas&quot; that return those publishings which have never been lend separated by a linefeed and a test that only checks if each line of this result (&quot;Arrumbadas&quot; method) has a linefeed at the end.</p>\n<p>I have implemented &quot;Arrumbadas&quot; method as follow:</p>\n<pre><code>(Omitted code)\n     result = new StringBuilder();\n      for(omitted code){\n       if(omitted code){\n         result.append(publishing).append(\\n)\n        }\n       }\n      return result.toString()\n</code></pre>\n<p>I have implemented the test as follow:</p>\n<pre><code>  public static boolean hasLineFeed(String t){\n        Scanner text = new Scanner(t);\n        while(text.hasNextLine()){\n            String line = text.nextLine();\n            System.out.println(line);\n            if(!line.endsWith(&quot;\\n&quot;) &amp;&amp; !line.isEmpty()){\n                return false;\n            }\n        }\n\n        return true;\n    }\n</code></pre>\n<p>Given this certain text:</p>\n<pre><code>&quot;9780547928227&quot;,&quot;The Hobbit&quot;,&quot;J.R.R. Tolkien&quot;,&quot;2&quot;,&quot;0&quot;,&quot;High fantasy&quot;\n&quot;9780316769174&quot;,&quot;The Catcher in the Rye&quot;,&quot;J.R.R. Tolkien&quot;,&quot;3&quot;,&quot;0&quot;,&quot;Coming-of-age fiction&quot;\n&quot;9780143124672&quot;,&quot;Moby-Dick&quot;,&quot;J.R.R. Tolkien&quot;,&quot;1&quot;,&quot;0&quot;,&quot;Adventure fiction&quot;\n</code></pre>\n<p>The output of the test is:</p>\n<pre><code>&quot;9780547928227&quot;,&quot;The Hobbit&quot;,&quot;J.R.R. Tolkien&quot;,&quot;2&quot;,&quot;0&quot;,&quot;High fantasy&quot;\nHas linefeed: false\n</code></pre>\n<p>Figure out that .hasNextLine() doesnt include the delimiter, neither does .split() that I had used it before. Is there a way to read the text by lines without removing the delimiters?</p>\n"},{"tags":["java","spring","eclipse","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634746315,"creation_date":1634746315,"answer_id":69649564,"question_id":69649041,"body_markdown":"You need to override the properties in the parent pom.xml .\r\n\r\n```\r\n&lt;properties&gt;\r\n......\r\n    &lt;tomcat.version&gt;10.0.11&lt;/tomcat.version&gt;\r\n......\r\n&lt;properties&gt;\r\n```\r\n\r\n[This link](https://www.springboottutorial.com/spring-boot-starter-parent) can be helpful in your case .\r\n\r\n","title":"Spring Tool Suite 4 how to change deployment server","body":"<p>You need to override the properties in the parent pom.xml .</p>\n<pre><code>&lt;properties&gt;\n......\n    &lt;tomcat.version&gt;10.0.11&lt;/tomcat.version&gt;\n......\n&lt;properties&gt;\n</code></pre>\n<p><a href=\"https://www.springboottutorial.com/spring-boot-starter-parent\" rel=\"nofollow noreferrer\">This link</a> can be helpful in your case .</p>\n"}],"owner":{"account_id":1518790,"reputation":958,"user_id":1419099,"accept_rate":64,"display_name":"Henrique C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684816272,"creation_date":1634744304,"question_id":69649041,"body_markdown":"How to change deployment server for project in spring tool suite 4 eclipse to another A.S. like another tomcat outside embembed tomcat?\r\n\r\nSo I have dowloaded Spring Tool Suite package pre installed in eclipse from [here][1] and followed a basic tutorial to start building a maven REST webservice app.\r\nEverything works very well, I have well builded project structure, connects to Postgres DB... etc.\r\n\r\nLater I noticed that this app runs on an internal tomcat server in this development &quot;pack&quot;, meaning there are no servers displayed.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI tried to add to eclipse the latest tomcat server ( 10 at the time ) but my project doesn&#180;t show up to add.\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![Spring Tool Suite 4][5]][5]\r\n\r\n\r\n  [1]: https://spring.io/tools\r\n  [2]: https://i.stack.imgur.com/Nf72D.png\r\n  [3]: https://i.stack.imgur.com/Dh96E.png\r\n  [4]: https://i.stack.imgur.com/AJmxC.png\r\n  [5]: https://i.stack.imgur.com/53h6J.png","title":"Spring Tool Suite 4 how to change deployment server","body":"<p>How to change deployment server for project in spring tool suite 4 eclipse to another A.S. like another tomcat outside embembed tomcat?</p>\n<p>So I have dowloaded Spring Tool Suite package pre installed in eclipse from <a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">here</a> and followed a basic tutorial to start building a maven REST webservice app.\nEverything works very well, I have well builded project structure, connects to Postgres DB... etc.</p>\n<p>Later I noticed that this app runs on an internal tomcat server in this development &quot;pack&quot;, meaning there are no servers displayed.</p>\n<p><a href=\"https://i.stack.imgur.com/Nf72D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nf72D.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to add to eclipse the latest tomcat server ( 10 at the time ) but my project doesn´t show up to add.</p>\n<p><a href=\"https://i.stack.imgur.com/Dh96E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dh96E.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/AJmxC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AJmxC.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/53h6J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53h6J.png\" alt=\"Spring Tool Suite 4\" /></a></p>\n"},{"tags":["java","pdf","pdfbox","preflight","pdfa"],"comments":[{"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"score":0,"creation_date":1684817627,"post_id":76308725,"comment_id":134568243,"body_markdown":"@KJ, I need to check pdf/a-2b compliance using pdfbox or any other java library. Is there any way to check that?","body":"@KJ, I need to check pdf/a-2b compliance using pdfbox or any other java library. Is there any way to check that?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1684827758,"post_id":76308725,"comment_id":134569932,"body_markdown":"Try VeraPDF, this is a EU funded checker","body":"Try VeraPDF, this is a EU funded checker"}],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8884,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684813691,"creation_date":1684813691,"answer_id":76311183,"question_id":76308725,"body_markdown":"The file is tolerated by some PDF applications, as many will fix such discrepancies but pdf box is detecting many oddities, I did not try to spend much time but the comments seemed potentially valid thus the file is potentially non conformant.\r\n```\r\nThe file Doc1-withHelvetica-pdfa1b.pdf is not a valid PDF/A-1b file, error(s) :\r\n1.2.2 : Body Syntax error, Expected &#39;EOL&#39; before the endstream keyword at offset 32264 but found &#39;101&#39;\r\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Length}:COSInt{8702};COSName{Subtype}:COSName{XML};COSName{Type}:COSName{Metadata};}; defined length=8702; actual length=8702, starting offset=23561\r\n1.2.2 : Body Syntax error, Expected &#39;EOL&#39; before the endstream keyword at offset 35134 but found &#39;101&#39;\r\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{2574};COSName{N}:COSInt{3};COSName{Range}:COSArray{COSFloat{0.0};COSFloat{1.0};0;1065353216;0;1065353216;};}; defined length=2574; actual length=2574, starting offset=32559\r\n1.2.2 : Body Syntax error, Expected &#39;EOL&#39; before the endstream keyword at offset 1562 but found &#39;101&#39;\r\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{202};}; defined length=202; actual length=202, starting offset=1359\r\n1.2.2 : Body Syntax error, Expected &#39;EOL&#39; before the endstream keyword at offset 4486 but found &#39;101&#39;\r\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Alternate}:COSName{DeviceRGB};COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{2612};COSName{N}:COSInt{3};}; defined length=2612; actual length=2612, starting offset=1873\r\n1.2.2 : Body Syntax error, Expected &#39;EOL&#39; before the endstream keyword at offset 4640 but found &#39;101&#39;\r\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{17};}; defined length=17; actual length=17, starting offset=4622\r\n1.2.2 : Body Syntax error, Expected &#39;EOL&#39; before the endstream keyword at offset 15067 but found &#39;101&#39;\r\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{10342};COSName{Length1}:COSInt{27968};}; defined length=10342; actual length=10342, starting offset=4724\r\n1.2.2 : Body Syntax error, Expected &#39;EOL&#39; before the endstream keyword at offset 16081 but found &#39;101&#39;\r\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{407};}; defined length=407; actual length=407, starting offset=15673\r\n1.2.2 : Body Syntax error, Expected &#39;EOL&#39; before the endstream keyword at offset 22792 but found &#39;101&#39;\r\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{6627};COSName{Length1}:COSInt{15080};}; defined length=6627; actual length=6627, starting offset=16164\r\n1.2.2 : Body Syntax error, Expected &#39;EOL&#39; before the endstream keyword at offset 23435 but found &#39;101&#39;\r\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{355};}; defined length=355; actual length=355, starting offset=23079\r\n1.2.2 : Body Syntax error, Expected &#39;EOL&#39; before the endstream keyword at offset 822 but found &#39;101&#39;\r\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{I}:COSInt{93};COSName{Length}:COSInt{85};COSName{S}:COSInt{39};}; defined length=85; actual length=85, starting offset=736\r\n```\r\n\r\nSo on the face of it I simply rebuilt the file using &quot;clean&quot; in MuPDF and reran for validation in PDF box.\r\n\r\n\r\n`C:\\Apps\\PDF\\inspectors\\Apache\\preflight-app-3.0.0-alpha3.jar Doc1-withHelvetica-pdfa1ba.pdf`  \r\n&gt; The file Doc1-withHelvetica-pdfa1ba.pdf is a valid PDF/A-1b file\r\n\r\nHOWEVER catch 22, now it fails others validations as it reports  \r\n&gt; The PDF structure was damaged but has been repaired. Depending on the extent of the damage, some data may theoretically have been lost (although typically this is unlikely).\r\n\r\nSo recycle by remove PDF/A compatibility and see what&#39;s wrong by regenerate as PDF/A and now the report is there is at least 1 bad font definition for Calibri (not surprising as it was previously a word document printout.) What is not obvious is there is a rogue Calibri space character at the end of the line that contains Helvetica Bold and on removal, then that reports other problems so another run through the Editors and finally with all the dross removed, both agree no more problems.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UTHpe.png","title":"PDFBox Preflight parser is not able to detect PDF/A-1b file","body":"<p>The file is tolerated by some PDF applications, as many will fix such discrepancies but pdf box is detecting many oddities, I did not try to spend much time but the comments seemed potentially valid thus the file is potentially non conformant.</p>\n<pre><code>The file Doc1-withHelvetica-pdfa1b.pdf is not a valid PDF/A-1b file, error(s) :\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 32264 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Length}:COSInt{8702};COSName{Subtype}:COSName{XML};COSName{Type}:COSName{Metadata};}; defined length=8702; actual length=8702, starting offset=23561\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 35134 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{2574};COSName{N}:COSInt{3};COSName{Range}:COSArray{COSFloat{0.0};COSFloat{1.0};0;1065353216;0;1065353216;};}; defined length=2574; actual length=2574, starting offset=32559\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 1562 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{202};}; defined length=202; actual length=202, starting offset=1359\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 4486 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Alternate}:COSName{DeviceRGB};COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{2612};COSName{N}:COSInt{3};}; defined length=2612; actual length=2612, starting offset=1873\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 4640 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{17};}; defined length=17; actual length=17, starting offset=4622\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 15067 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{10342};COSName{Length1}:COSInt{27968};}; defined length=10342; actual length=10342, starting offset=4724\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 16081 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{407};}; defined length=407; actual length=407, starting offset=15673\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 22792 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{6627};COSName{Length1}:COSInt{15080};}; defined length=6627; actual length=6627, starting offset=16164\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 23435 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{355};}; defined length=355; actual length=355, starting offset=23079\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 822 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{I}:COSInt{93};COSName{Length}:COSInt{85};COSName{S}:COSInt{39};}; defined length=85; actual length=85, starting offset=736\n</code></pre>\n<p>So on the face of it I simply rebuilt the file using &quot;clean&quot; in MuPDF and reran for validation in PDF box.</p>\n<p><code>C:\\Apps\\PDF\\inspectors\\Apache\\preflight-app-3.0.0-alpha3.jar Doc1-withHelvetica-pdfa1ba.pdf</code></p>\n<blockquote>\n<p>The file Doc1-withHelvetica-pdfa1ba.pdf is a valid PDF/A-1b file</p>\n</blockquote>\n<p>HOWEVER catch 22, now it fails others validations as it reports</p>\n<blockquote>\n<p>The PDF structure was damaged but has been repaired. Depending on the extent of the damage, some data may theoretically have been lost (although typically this is unlikely).</p>\n</blockquote>\n<p>So recycle by remove PDF/A compatibility and see what's wrong by regenerate as PDF/A and now the report is there is at least 1 bad font definition for Calibri (not surprising as it was previously a word document printout.) What is not obvious is there is a rogue Calibri space character at the end of the line that contains Helvetica Bold and on removal, then that reports other problems so another run through the Editors and finally with all the dross removed, both agree no more problems.</p>\n<p><a href=\"https://i.stack.imgur.com/UTHpe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UTHpe.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684813691,"creation_date":1684777472,"question_id":76308725,"body_markdown":"I am using following code to detect whether a file is PDF/A-1b file or not?\r\n\r\n    public boolean isPDF_A1BFile(File file) throws IOException {\r\n            PreflightParser parser = new PreflightParser(file);\r\n            parser.parse(Format.PDF_A1B);\r\n            PreflightDocument preflightDocument = parser.getPreflightDocument();\r\n            preflightDocument.validate();\r\n    \r\n            ValidationResult validationResult = preflightDocument.getResult();\r\n            \r\n            return validationResult.isValid(); //Return false in every case\r\n        }\r\n\r\nBut it is always returning false irrespective of file is PDF/A-1b or not. I am using this [pdf/a-1b file][1]. I have validated using preflight tool in acrobat and it is saying that the file is PDF/A-1b compliance. Sharing the screenshot for the same[![enter image description here][2]][2]\r\nCan anyone please tell me whats wrong in my code or am I missing something?\r\n\r\nAlso, is there any way where I can check that the file is PDF/A-**2B** compliance or not?\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1kCd1vcRuqTKPR8DTRnunWr7CEZLyYmyN/view?usp=sharing\r\n  [2]: https://i.stack.imgur.com/AgWBl.png","title":"PDFBox Preflight parser is not able to detect PDF/A-1b file","body":"<p>I am using following code to detect whether a file is PDF/A-1b file or not?</p>\n<pre><code>public boolean isPDF_A1BFile(File file) throws IOException {\n        PreflightParser parser = new PreflightParser(file);\n        parser.parse(Format.PDF_A1B);\n        PreflightDocument preflightDocument = parser.getPreflightDocument();\n        preflightDocument.validate();\n\n        ValidationResult validationResult = preflightDocument.getResult();\n        \n        return validationResult.isValid(); //Return false in every case\n    }\n</code></pre>\n<p>But it is always returning false irrespective of file is PDF/A-1b or not. I am using this <a href=\"https://drive.google.com/file/d/1kCd1vcRuqTKPR8DTRnunWr7CEZLyYmyN/view?usp=sharing\" rel=\"nofollow noreferrer\">pdf/a-1b file</a>. I have validated using preflight tool in acrobat and it is saying that the file is PDF/A-1b compliance. Sharing the screenshot for the same<a href=\"https://i.stack.imgur.com/AgWBl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AgWBl.png\" alt=\"enter image description here\" /></a>\nCan anyone please tell me whats wrong in my code or am I missing something?</p>\n<p>Also, is there any way where I can check that the file is PDF/A-<strong>2B</strong> compliance or not?</p>\n"},{"tags":["java","spring","spring-data","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":7988880,"reputation":1070,"user_id":9528658,"display_name":"Vladimir.V.Bvn"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1644565367,"creation_date":1644565367,"answer_id":71076622,"question_id":71076358,"body_markdown":"    long size = jdbcTemplate.queryForObject(query, Long.class);","title":"Spring jdbcTemplate retrieve numeric values from query","body":"<pre><code>long size = jdbcTemplate.queryForObject(query, Long.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644565635,"creation_date":1644565635,"answer_id":71076663,"question_id":71076358,"body_markdown":"If you look at the [`query`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html#query-java.lang.String-java.lang.Object:A-org.springframework.jdbc.core.RowMapper-) javadocs in `JdbcOperations` it states:\r\n\r\n&gt; **Deprecated.** as of 5.3, in favor of [query(String, RowMapper, Object...)](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html#query-java.lang.String-org.springframework.jdbc.core.RowMapper-java.lang.Object...-)\r\n\r\nSo you can use it like this:\r\n\r\n```java\r\nList&lt;Long&gt; sizeResults = jdbcTemplate.query(query, (rs, rowNum) -&gt;\r\n        rs.getLong(&quot;size&quot;), id, type);\r\nif (sizeResults.isEmpty()){\r\n    System.out.println(&quot;Result not found!&quot;);\r\n} else {\r\n    System.out.println(&quot;Result found!&quot;);\r\n}\r\n```\r\n\r\n***Note:** [`queryForObject`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html#queryForObject-java.lang.String-org.springframework.jdbc.core.RowMapper-) throws `EmptyResultDataAccessException` for empty results. Often it is not desired behavior.*","title":"Spring jdbcTemplate retrieve numeric values from query","body":"<p>If you look at the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html#query-java.lang.String-java.lang.Object:A-org.springframework.jdbc.core.RowMapper-\" rel=\"nofollow noreferrer\"><code>query</code></a> javadocs in <code>JdbcOperations</code> it states:</p>\n<blockquote>\n<p><strong>Deprecated.</strong> as of 5.3, in favor of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html#query-java.lang.String-org.springframework.jdbc.core.RowMapper-java.lang.Object...-\" rel=\"nofollow noreferrer\">query(String, RowMapper, Object...)</a></p>\n</blockquote>\n<p>So you can use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; sizeResults = jdbcTemplate.query(query, (rs, rowNum) -&gt;\n        rs.getLong(&quot;size&quot;), id, type);\nif (sizeResults.isEmpty()){\n    System.out.println(&quot;Result not found!&quot;);\n} else {\n    System.out.println(&quot;Result found!&quot;);\n}\n</code></pre>\n<p><em><strong>Note:</strong> <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html#queryForObject-java.lang.String-org.springframework.jdbc.core.RowMapper-\" rel=\"nofollow noreferrer\"><code>queryForObject</code></a> throws <code>EmptyResultDataAccessException</code> for empty results. Often it is not desired behavior.</em></p>\n"}],"owner":{"account_id":22757501,"reputation":35,"user_id":16916796,"display_name":"Giner28"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2750,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71076622,"answer_count":2,"score":1,"last_activity_date":1684812159,"creation_date":1644563706,"question_id":71076358,"body_markdown":"I have this query for my jdbcTemplate and I wanna get just the long value from the database, what should be fixed here? \r\n\r\n\r\n    String query = &quot;SELECT size from users where name = ? AND type = ?&quot;;\r\n    long size = jdbcTemplate.query(query, new Object[]{id, type}, (rs, rowNum) -&gt; \r\n    rs.getLong(&quot;size&quot;));\r\n\r\n","title":"Spring jdbcTemplate retrieve numeric values from query","body":"<p>I have this query for my jdbcTemplate and I wanna get just the long value from the database, what should be fixed here?</p>\n<pre><code>String query = &quot;SELECT size from users where name = ? AND type = ?&quot;;\nlong size = jdbcTemplate.query(query, new Object[]{id, type}, (rs, rowNum) -&gt; \nrs.getLong(&quot;size&quot;));\n</code></pre>\n"},{"tags":["java","inner-classes","anonymous-class"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684811862,"creation_date":1684811862,"answer_id":76311087,"question_id":76311067,"body_markdown":"You&#39;ll need an instance of `B`, to instantiate `C`\r\n\r\n```java\r\nA.B b = new A.B();\r\nA.C c = new A.C(b);\r\nassert c.foo() == 42;\r\n```\r\n\r\nOr, simplified.\r\n\r\n```java\r\nassert new A.C(new A.B()).foo() == 42;\r\n```\r\n\r\nIf a class contains no constructor, an empty constructor is inferred.","title":"Java inner/anon classes","body":"<p>You'll need an instance of <code>B</code>, to instantiate <code>C</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>A.B b = new A.B();\nA.C c = new A.C(b);\nassert c.foo() == 42;\n</code></pre>\n<p>Or, simplified.</p>\n<pre class=\"lang-java prettyprint-override\"><code>assert new A.C(new A.B()).foo() == 42;\n</code></pre>\n<p>If a class contains no constructor, an empty constructor is inferred.</p>\n"}],"owner":{"account_id":26235747,"reputation":47,"user_id":19910923,"display_name":"acidic231"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684811862,"creation_date":1684811508,"question_id":76311067,"body_markdown":"I&#39;m stuck on this question where we need to instantiate the C class through A\r\n```//The answer must have balanced parentheses\r\nclass A{\r\n  static class B{}\r\n  static class C{ B b;\r\n    C(B b){this.b=b;}\r\n    int foo(){return 42;}\r\n  }\r\n}\r\npublic class Exercise{\r\n\r\n  public static void main(String [] arg){\r\n    assert ([???].foo()==42);\r\n  }\r\n}     \r\n```\r\nObviously we need to instantiate the C class within the A class, however I tried doing\r\nsomething like ```A.C(new B b)``` and a few other variations, but I can&#39;t seem to figure it out, does anyone have any suggestions?\r\n","title":"Java inner/anon classes","body":"<p>I'm stuck on this question where we need to instantiate the C class through A</p>\n<pre><code>class A{\n  static class B{}\n  static class C{ B b;\n    C(B b){this.b=b;}\n    int foo(){return 42;}\n  }\n}\npublic class Exercise{\n\n  public static void main(String [] arg){\n    assert ([???].foo()==42);\n  }\n}     \n</code></pre>\n<p>Obviously we need to instantiate the C class within the A class, however I tried doing\nsomething like <code>A.C(new B b)</code> and a few other variations, but I can't seem to figure it out, does anyone have any suggestions?</p>\n"},{"tags":["java","spring-boot","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1685334910,"post_id":76311064,"comment_id":134642047,"body_markdown":"The error says `BIGINT` is specified in a wrong place (e.g. `javaType`, `resultType`, etc.). If you still need help, you should improve your question. You should use text instead of images. And check &#39;preview&#39; before submit.  Including the entire `RoleMapper.xml` might help.","body":"The error says <code>BIGINT</code> is specified in a wrong place (e.g. <code>javaType</code>, <code>resultType</code>, etc.). If you still need help, you should improve your question. You should use text instead of images. And check &#39;preview&#39; before submit.  Including the entire <code>RoleMapper.xml</code> might help."}],"owner":{"account_id":28659103,"reputation":1,"user_id":21944391,"display_name":"zhouyanhuang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684811472,"creation_date":1684811472,"question_id":76311064,"body_markdown":"```\r\n\r\n      mybatis always doesn&#39;t map to my xml file. The BIGINT error is not found, but the mybatis plug-in recognizes it and locates it. Have checked all corresponding class names are OK, looking forward to your answer.Have a nice day.\r\n```\r\n[enter image description here](https://i.stack.imgur.com/ytSux.png)\r\n This is the error reported\r\n     [enter image description here](https://i.stack.imgur.com/rw9dZ.png)\r\n     This is the compiled file directory\r\n      [enter image description here](https://i.stack.imgur.com/3dS3s.png)\r\n       Caused by: java.lang.ClassNotFoundException: Cannot find class: BIGINT\r\n","title":"Why is mybatis not mapping to my xml file in spring-boot java?","body":"<pre><code>\n      mybatis always doesn't map to my xml file. The BIGINT error is not found, but the mybatis plug-in recognizes it and locates it. Have checked all corresponding class names are OK, looking forward to your answer.Have a nice day.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ytSux.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThis is the error reported\n<a href=\"https://i.stack.imgur.com/rw9dZ.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThis is the compiled file directory\n<a href=\"https://i.stack.imgur.com/3dS3s.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nCaused by: java.lang.ClassNotFoundException: Cannot find class: BIGINT</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1684254026,"post_id":76265197,"comment_id":134490095,"body_markdown":"https://stackoverflow.com/questions/1200621/how-do-i-declare-and-initialize-an-array-in-java","body":"<a href=\"https://stackoverflow.com/questions/1200621/how-do-i-declare-and-initialize-an-array-in-java\" title=\"how do i declare and initialize an array in java\">stackoverflow.com/questions/1200621/&hellip;</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1684254862,"post_id":76265197,"comment_id":134490272,"body_markdown":"If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/76265197/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1684254980,"post_id":76265197,"comment_id":134490299,"body_markdown":"Your title says int array but your example uses a char array.  And what are all the dimensions for x,y,and z?","body":"Your title says int array but your example uses a char array.  And what are all the dimensions for x,y,and z?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684255496,"post_id":76265197,"comment_id":134490427,"body_markdown":"`int x = size[2]; int y = size[0]; int z = size[1]; char[][][] map = new char[y][z][x];`","body":"<code>int x = size[2]; int y = size[0]; int z = size[1]; char[][][] map = new char[y][z][x];</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684369668,"post_id":76265197,"comment_id":134510145,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684806248,"creation_date":1684444303,"answer_id":76284528,"question_id":76265197,"body_markdown":"If I understand the question correctly, you&#39;re looking to initialize the array with a set of values.  \r\nAs opposed to initializing an array with a fixed length, and then adding the values one at a time.\r\n\r\nYour code is correct, just remove the `new` keyword.\r\n\r\n```java\r\nint[] size = { y, z, x };\r\n```","title":"How do i create a 3d array using a int array with a length of 3 to define the size of said 3d array?","body":"<p>If I understand the question correctly, you're looking to initialize the array with a set of values.<br />\nAs opposed to initializing an array with a fixed length, and then adding the values one at a time.</p>\n<p>Your code is correct, just remove the <code>new</code> keyword.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] size = { y, z, x };\n</code></pre>\n"}],"owner":{"account_id":28613892,"reputation":19,"user_id":21908330,"display_name":"Oscar Lockard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"answer_count":1,"score":-3,"last_activity_date":1684811169,"creation_date":1684253843,"question_id":76265197,"body_markdown":"how do i do:\r\n`char[][][] map = new char[y][z][x];`\r\nbut define the size with:\r\n&gt; int[] size = new {y,z,x};\r\n\r\nI tried looking it up but i couldn&#39;t find anything helpful.\r\n","title":"How do i create a 3d array using a int array with a length of 3 to define the size of said 3d array?","body":"<p>how do i do:\n<code>char[][][] map = new char[y][z][x];</code>\nbut define the size with:</p>\n<blockquote>\n<p>int[] size = new {y,z,x};</p>\n</blockquote>\n<p>I tried looking it up but i couldn't find anything helpful.</p>\n"},{"tags":["java","android","alarmmanager","android-12"],"comments":[{"owner":{"account_id":7704866,"reputation":69,"user_id":5836108,"display_name":"Андрей Воробьев"},"score":0,"creation_date":1683810515,"post_id":72646917,"comment_id":134425689,"body_markdown":"It is so until you set Unrestricted battery mode in Android settings for your app. And this all is bad for user. Did you manage to do something?","body":"It is so until you set Unrestricted battery mode in Android settings for your app. And this all is bad for user. Did you manage to do something?"}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655407499,"creation_date":1655388114,"answer_id":72647174,"question_id":72646917,"body_markdown":"It will return `isGranted = true` when the permission is being requested the `AndroidManifest.xml`.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\r\n\r\nAnd actually, the intent is `Settings.ACTION_REQUEST_SCHEDULE_EXACT_ALARM`:\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; startActivityForResult = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(), (ActivityResult result) -&gt; {\r\n                if (result.getResultCode() == RESULT_OK) {}\r\n            });\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.S_V2)\r\n    void hasPermission(@NonNull Context context) {\r\n        AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S_V2) {\r\n\r\n            // it depends on the manifest permission, just alike the toggle does.\r\n            if (! alarmManager.canScheduleExactAlarms()) {\r\n\r\n            }\r\n\r\n            // one can only disable the permission, when the manifest requested it.\r\n            startActivityForResult.launch(new Intent(\r\n                    Settings.ACTION_REQUEST_SCHEDULE_EXACT_ALARM,\r\n                    Uri.parse(&quot;package:&quot; + getPackageName())\r\n            ));\r\n        }\r\n    }\r\n\r\nListen for broadcast action [`AlarmManager.ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED`](https://developer.android.com/reference/android/app/AlarmManager#ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED).\r\n\r\nAnd there&#39;s also permission [`USE_EXACT_ALARM`](https://developer.android.com/reference/android/Manifest.permission#USE_EXACT_ALARM), when targeting API `33` onwards.\r\n\r\nSee behavioral changes: [exact alarm permission](https://developer.android.com/about/versions/12/behavior-changes-12#exact-alarm-permission).","title":"Can&#39;t toggle alarms and reminders permission","body":"<p>It will return <code>isGranted = true</code> when the permission is being requested the <code>AndroidManifest.xml</code>.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\n</code></pre>\n<p>And actually, the intent is <code>Settings.ACTION_REQUEST_SCHEDULE_EXACT_ALARM</code>:</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; startActivityForResult = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(), (ActivityResult result) -&gt; {\n            if (result.getResultCode() == RESULT_OK) {}\n        });\n\n@RequiresApi(api = Build.VERSION_CODES.S_V2)\nvoid hasPermission(@NonNull Context context) {\n    AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S_V2) {\n\n        // it depends on the manifest permission, just alike the toggle does.\n        if (! alarmManager.canScheduleExactAlarms()) {\n\n        }\n\n        // one can only disable the permission, when the manifest requested it.\n        startActivityForResult.launch(new Intent(\n                Settings.ACTION_REQUEST_SCHEDULE_EXACT_ALARM,\n                Uri.parse(&quot;package:&quot; + getPackageName())\n        ));\n    }\n}\n</code></pre>\n<p>Listen for broadcast action <a href=\"https://developer.android.com/reference/android/app/AlarmManager#ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED\" rel=\"nofollow noreferrer\"><code>AlarmManager.ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED</code></a>.</p>\n<p>And there's also permission <a href=\"https://developer.android.com/reference/android/Manifest.permission#USE_EXACT_ALARM\" rel=\"nofollow noreferrer\"><code>USE_EXACT_ALARM</code></a>, when targeting API <code>33</code> onwards.</p>\n<p>See behavioral changes: <a href=\"https://developer.android.com/about/versions/12/behavior-changes-12#exact-alarm-permission\" rel=\"nofollow noreferrer\">exact alarm permission</a>.</p>\n"}],"owner":{"account_id":17952829,"reputation":87,"user_id":13045597,"display_name":"Tomasz Stępnik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684809685,"creation_date":1655387078,"question_id":72646917,"body_markdown":"I have app which set alarms. I use this code to ask user for permission:\r\n\r\n    Intent intent = new Intent(\r\n    &quot;android.settings.REQUEST_SCHEDULE_EXACT_ALARM&quot;,\r\n     Uri.parse(&quot;package:&quot;+ getPackageName())\r\n    );\r\n     someActivityResultLauncher.launch(intent);\r\n\r\nIn manifest I added permission:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\r\n\r\nWhen I click the button which launch the intent I can see:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xb7Qh.png\r\n\r\nBut I can&#39;t toggle button with permission and I don&#39;t know why.","title":"Can&#39;t toggle alarms and reminders permission","body":"<p>I have app which set alarms. I use this code to ask user for permission:</p>\n<pre><code>Intent intent = new Intent(\n&quot;android.settings.REQUEST_SCHEDULE_EXACT_ALARM&quot;,\n Uri.parse(&quot;package:&quot;+ getPackageName())\n);\n someActivityResultLauncher.launch(intent);\n</code></pre>\n<p>In manifest I added permission:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\n</code></pre>\n<p>When I click the button which launch the intent I can see:</p>\n<p><a href=\"https://i.stack.imgur.com/xb7Qh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xb7Qh.png\" alt=\"enter image description here\" /></a></p>\n<p>But I can't toggle button with permission and I don't know why.</p>\n"},{"tags":["java","methods","return-value"],"answers":[{"tags":[],"owner":{"account_id":9664937,"reputation":69,"user_id":7171710,"display_name":"Abned"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684776385,"creation_date":1684776385,"answer_id":76308613,"question_id":76308524,"body_markdown":"You can&#39;t do a return like you do in java. You should change a return type of **play** to array if you want call this method to return two values.\r\n\r\nMy suggestion is to change **play** and call it from constructor.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class UI {\r\n    Scanner input = new Scanner(System.in);\r\n    int Store, Week;\r\n    \r\n    public UI() {\r\n        play();\r\n    }\r\n\r\n    public void play() {\r\n        System.out.print(&quot; Please enter the store #(1-6)&quot;);\r\n        Store = input.nextInt();`\r\n\r\n        System.out.print(&quot;please enter the operation (1-7)&quot;);\r\n        Week = input.nextInt();\r\n    }\r\n}\r\n```\r\n","title":"return the Scanner inputs by calling the methods and return it to the public class value","body":"<p>You can't do a return like you do in java. You should change a return type of <strong>play</strong> to array if you want call this method to return two values.</p>\n<p>My suggestion is to change <strong>play</strong> and call it from constructor.</p>\n<pre><code>import java.util.Scanner;\n\npublic class UI {\n    Scanner input = new Scanner(System.in);\n    int Store, Week;\n    \n    public UI() {\n        play();\n    }\n\n    public void play() {\n        System.out.print(&quot; Please enter the store #(1-6)&quot;);\n        Store = input.nextInt();`\n\n        System.out.print(&quot;please enter the operation (1-7)&quot;);\n        Week = input.nextInt();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684809123,"creation_date":1684809123,"answer_id":76310961,"question_id":76308524,"body_markdown":"The `play` method doesn&#39;t need to return a value.\r\n\r\nIf the values are fields, you can simply assign them from within the method.\r\n\r\n```java\r\npublic class UI {\r\n    Scanner input = new Scanner(System.in);\r\n    int store, week;\r\n\r\n    void play() {\r\n        System.out.print(&quot; Please enter the store #(1-6)&quot;);\r\n        store = input.nextInt();\r\n        System.out.print(&quot;please enter the operation (1-7)&quot;);\r\n        week = input.nextInt();\r\n    }\r\n}\r\n```","title":"return the Scanner inputs by calling the methods and return it to the public class value","body":"<p>The <code>play</code> method doesn't need to return a value.</p>\n<p>If the values are fields, you can simply assign them from within the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UI {\n    Scanner input = new Scanner(System.in);\n    int store, week;\n\n    void play() {\n        System.out.print(&quot; Please enter the store #(1-6)&quot;);\n        store = input.nextInt();\n        System.out.print(&quot;please enter the operation (1-7)&quot;);\n        week = input.nextInt();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28596526,"reputation":11,"user_id":21894510,"display_name":"coding beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684809123,"creation_date":1684775670,"question_id":76308524,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class UI {\r\nScanner input = new Scanner(System.in);\r\n\r\n    int Store ,Week = play();\r\n\r\n    public int play() {\r\n\r\n           System.out.print(&quot; Please enter the store #(1-6)&quot;);\r\n           Store = input.nextInt();`\r\n\r\n           System.out.print(&quot;please enter the operation (1-7)&quot;);\r\n           Week = input.nextInt();\r\n\r\nreturn Store,Week;\r\n}\r\n\r\n}\r\n```\r\n\r\nhow can I possibly return Store and Week value into ui class. So I can use these values for further coding.","title":"return the Scanner inputs by calling the methods and return it to the public class value","body":"<pre><code>import java.util.Scanner;\n\npublic class UI {\nScanner input = new Scanner(System.in);\n\n    int Store ,Week = play();\n\n    public int play() {\n\n           System.out.print(&quot; Please enter the store #(1-6)&quot;);\n           Store = input.nextInt();`\n\n           System.out.print(&quot;please enter the operation (1-7)&quot;);\n           Week = input.nextInt();\n\nreturn Store,Week;\n}\n\n}\n</code></pre>\n<p>how can I possibly return Store and Week value into ui class. So I can use these values for further coding.</p>\n"},{"tags":["java","regex","logstash","logstash-configuration","logstash-file"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684781193,"post_id":76308969,"comment_id":134564085,"body_markdown":"To clarify your question, what part of the provided text would you like extracted?  The `testt`, `**`, and `xls` values?","body":"To clarify your question, what part of the provided text would you like extracted?  The <code>testt</code>, <code>**</code>, and <code>xls</code> values?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684808590,"creation_date":1684782699,"answer_id":76309258,"question_id":76308969,"body_markdown":"To reiterate, you&#39;re saying that within the log-file there are sections which start and end with the example text you provided.\r\n\r\nTo capture these sections, you can use the following regular expression pattern.\r\n\r\n```regex\r\n(?s)(\\d{4}-\\d\\d-\\d\\d .+?rspDesc.+?$)\r\n```\r\n\r\n- Use the `s` flag to enable single-line mode, causing a `.` to additionally match new-line characters.  \r\n- The beginning of the pattern will match the time-stamp.  \r\n- Then, match all characters up to &quot;rspDesc&quot;.  \r\n- Finally, continue until the end of the line is reached.","title":"What is the best way to extract request and response data from a log file using Logstash and regex?","body":"<p>To reiterate, you're saying that within the log-file there are sections which start and end with the example text you provided.</p>\n<p>To capture these sections, you can use the following regular expression pattern.</p>\n<pre><code>(?s)(\\d{4}-\\d\\d-\\d\\d .+?rspDesc.+?$)\n</code></pre>\n<ul>\n<li>Use the <code>s</code> flag to enable single-line mode, causing a <code>.</code> to additionally match new-line characters.</li>\n<li>The beginning of the pattern will match the time-stamp.</li>\n<li>Then, match all characters up to &quot;rspDesc&quot;.</li>\n<li>Finally, continue until the end of the line is reached.</li>\n</ul>\n"}],"owner":{"account_id":18339487,"reputation":37,"user_id":13356110,"display_name":"Hamzeh Abu Ajamieh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684808590,"creation_date":1684779979,"question_id":76308969,"body_markdown":"I have application log file which contains the application requests and responses, the complete request and response looks like the below, I tried different patterns using RegEx but unfortunately without any luck, can some one suggest what should I change :\r\n\r\npattern =&gt; \r\n```\r\n&quot;\r\n(?m)\\b\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2},\\d{3}\\b.?\\bRequest given by the user\\b.?\\brspDesc is\\b(?!.\\n)..?(?=\\R|$)\r\n&quot;\r\n```\r\n\r\n    2023-05-11 00:20:26,103 [http-apr-7777-exec-46] INFO com.welcome.ws.AccountWebServiceImpl. - Request given by the user\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;ns2:GetCustomerBalanceReq xmlns=&quot;url&quot; xmlns:ns2=&quot;url&quot;&gt;\r\n    \r\n    testt\r\n    **\r\n    xls\r\n    \r\n    ns2:ID/EID/5000000004/123456****1234&lt;/ns2:ID&gt;\r\n    &lt;/ns2:GetCustomerBalanceReq&gt;\r\n    \r\n    2023-05-11 00:20:26,144 [http-apr-7777-exec-46] INFO com.welcome.svc.AccountService. - rspCode is:1001 and rspDesc is:Account or Media does not Exist\r\n\r\nI was trying this regex but it wasn&#39;t matching anything \r\n\r\n    &quot;(?m)\\b\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2},\\d{3}\\b.?\\bRequest given by the user\\b.?\\brspDesc is\\b(?!.\\n)..?(?=\\R|$) \r\n\r\n","title":"What is the best way to extract request and response data from a log file using Logstash and regex?","body":"<p>I have application log file which contains the application requests and responses, the complete request and response looks like the below, I tried different patterns using RegEx but unfortunately without any luck, can some one suggest what should I change :</p>\n<p>pattern =&gt;</p>\n<pre><code>&quot;\n(?m)\\b\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2},\\d{3}\\b.?\\bRequest given by the user\\b.?\\brspDesc is\\b(?!.\\n)..?(?=\\R|$)\n&quot;\n</code></pre>\n<pre><code>2023-05-11 00:20:26,103 [http-apr-7777-exec-46] INFO com.welcome.ws.AccountWebServiceImpl. - Request given by the user\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns2:GetCustomerBalanceReq xmlns=&quot;url&quot; xmlns:ns2=&quot;url&quot;&gt;\n\ntestt\n**\nxls\n\nns2:ID/EID/5000000004/123456****1234&lt;/ns2:ID&gt;\n&lt;/ns2:GetCustomerBalanceReq&gt;\n\n2023-05-11 00:20:26,144 [http-apr-7777-exec-46] INFO com.welcome.svc.AccountService. - rspCode is:1001 and rspDesc is:Account or Media does not Exist\n</code></pre>\n<p>I was trying this regex but it wasn't matching anything</p>\n<pre><code>&quot;(?m)\\b\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2},\\d{3}\\b.?\\bRequest given by the user\\b.?\\brspDesc is\\b(?!.\\n)..?(?=\\R|$) \n</code></pre>\n"},{"tags":["java","arrays","swing","graphics"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1684808235,"post_id":76310894,"comment_id":134567419,"body_markdown":"Check out: https://stackoverflow.com/a/54028681/131872 for an example to get you started. It uses a Swing Timer to animate multiple objects. You will be able to simplify the logic. Note that your Polygon object should be created relative to offset (0, 0). Then in the painting method you would use the g.translate(...) method to move the object to its new location. Maybe you would even want to paint the projectile to a BufferedImage, then you can simply paint the image at its new location each time the Timer fires. This will be more efficient.","body":"Check out: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for an example to get you started. It uses a Swing Timer to animate multiple objects. You will be able to simplify the logic. Note that your Polygon object should be created relative to offset (0, 0). Then in the painting method you would use the g.translate(...) method to move the object to its new location. Maybe you would even want to paint the projectile to a BufferedImage, then you can simply paint the image at its new location each time the Timer fires. This will be more efficient."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684810981,"post_id":76310894,"comment_id":134567644,"body_markdown":"For [example](https://stackoverflow.com/questions/41785697/graphics-stuttering-in-java-space-invaders/41787291#41787291); [example](https://stackoverflow.com/questions/72411743/how-to-move-paint-graphics-along-slope/72412859#72412859); [example](https://stackoverflow.com/questions/35003520/program-not-painting-screen-properly/35004777#35004777);","body":"For <a href=\"https://stackoverflow.com/questions/41785697/graphics-stuttering-in-java-space-invaders/41787291#41787291\">example</a>; <a href=\"https://stackoverflow.com/questions/72411743/how-to-move-paint-graphics-along-slope/72412859#72412859\">example</a>; <a href=\"https://stackoverflow.com/questions/35003520/program-not-painting-screen-properly/35004777#35004777\">example</a>;"}],"owner":{"account_id":26134584,"reputation":21,"user_id":19824755,"display_name":"shge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684808563,"creation_date":1684807821,"question_id":76310894,"body_markdown":"I have a Java final, and I would like to make a bullet hell type game, but what I&#39;m stumped on is how to make the projectiles move. My first idea would be to constantly update the projectile; I just don&#39;t know how to do that. Any ideas?\r\n\r\n```\r\n//outer polygon\r\ng.setColor(Color.ORANGE);\r\nPolygon projectile = new Polygon();\r\nprojectile.addPoint(220,100);\r\nprojectile.addPoint(224,106);\r\nprojectile.addPoint(227,110);\r\nprojectile.addPoint(227,128);\r\nprojectile.addPoint(222,140);\r\nprojectile.addPoint(216,140);\r\nprojectile.addPoint(208,128);\r\nprojectile.addPoint(208,110);\r\nprojectile.addPoint(213,104);\r\nprojectile.addPoint(215,100);\r\ng.fillPolygon(projectile);\r\n\r\n//inner polygon, like a highlight\r\ng.setColor(Color.CYAN);\r\nPolygon innerColor = new Polygon();\r\nint scaleFactor = 80; \r\ndouble scale = scaleFactor / 100.0;\r\nfor (int i = 0; i &lt; projectile.npoints; i++) {\r\n    int smallX = (int) ((projectile.xpoints[i] - 220) * scale);\r\n    int smallY = (int) ((projectile.ypoints[i] - 120) * scale);\r\n    int x = 220 + smallX;\r\n    int y = 120 + smallY;\r\n    innerColor.addPoint(x, y);\r\n}\r\ng.fillPolygon(innerColor);\r\n```\r\n","title":"How would I make a projectile move using java.swing by constantly updating its points?","body":"<p>I have a Java final, and I would like to make a bullet hell type game, but what I'm stumped on is how to make the projectiles move. My first idea would be to constantly update the projectile; I just don't know how to do that. Any ideas?</p>\n<pre><code>//outer polygon\ng.setColor(Color.ORANGE);\nPolygon projectile = new Polygon();\nprojectile.addPoint(220,100);\nprojectile.addPoint(224,106);\nprojectile.addPoint(227,110);\nprojectile.addPoint(227,128);\nprojectile.addPoint(222,140);\nprojectile.addPoint(216,140);\nprojectile.addPoint(208,128);\nprojectile.addPoint(208,110);\nprojectile.addPoint(213,104);\nprojectile.addPoint(215,100);\ng.fillPolygon(projectile);\n\n//inner polygon, like a highlight\ng.setColor(Color.CYAN);\nPolygon innerColor = new Polygon();\nint scaleFactor = 80; \ndouble scale = scaleFactor / 100.0;\nfor (int i = 0; i &lt; projectile.npoints; i++) {\n    int smallX = (int) ((projectile.xpoints[i] - 220) * scale);\n    int smallY = (int) ((projectile.ypoints[i] - 120) * scale);\n    int x = 220 + smallX;\n    int y = 120 + smallY;\n    innerColor.addPoint(x, y);\n}\ng.fillPolygon(innerColor);\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1684803493,"post_id":76310692,"comment_id":134567055,"body_markdown":"`NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/BearerTokenResolver` looks like a missing runtime dependency","body":"<code>NoClassDefFoundError: org&#47;springframework&#47;security&#47;oauth2&#47;server&#47;resource&#47;web&#47;Bear&zwnj;&#8203;erTokenResolver</code> looks like a missing runtime dependency"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1684803626,"post_id":76310692,"comment_id":134567071,"body_markdown":"Also check out [this SO question](https://stackoverflow.com/a/75829647/18157), which I found by searching for the NoClassDefFoundError message text.","body":"Also check out <a href=\"https://stackoverflow.com/a/75829647/18157\">this SO question</a>, which I found by searching for the NoClassDefFoundError message text."}],"answers":[{"tags":[],"owner":{"account_id":26294109,"reputation":242,"user_id":19960660,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684808245,"creation_date":1684808245,"answer_id":76310923,"question_id":76310692,"body_markdown":"Clean and Build your application through your preferred build tool manager (ex. Gradle), then check back again, if the issue still persists it might miss a dependency in the pom.xml (if maven) or build.gradle (if gradle) file.","title":"NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/BearerTokenResolver","body":"<p>Clean and Build your application through your preferred build tool manager (ex. Gradle), then check back again, if the issue still persists it might miss a dependency in the pom.xml (if maven) or build.gradle (if gradle) file.</p>\n"}],"owner":{"account_id":8100499,"reputation":485,"user_id":6103665,"accept_rate":40,"display_name":"Gerald Mathabela"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684808245,"creation_date":1684803331,"question_id":76310692,"body_markdown":"Authenticating Azure AD token to authorize some endpoints/controllers\r\n\r\nSecurity configuration\r\n\r\nCompilation Error\r\n```\r\nError creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/BearerTokenResolver\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\r\n\r\n    @Autowired\r\n    private TokenFilter tokenFilter;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(\r\n                        &quot;/api/authenticate/username&quot;)\r\n                .permitAll().anyRequest().authenticated().and()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler)\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(new AADJwtBearerTokenAuthenticationConverter());\r\n    }\r\n\r\n}\r\n```","title":"NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/BearerTokenResolver","body":"<p>Authenticating Azure AD token to authorize some endpoints/controllers</p>\n<p>Security configuration</p>\n<p>Compilation Error</p>\n<pre><code>Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/BearerTokenResolver\n</code></pre>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\n\n    @Autowired\n    private TokenFilter tokenFilter;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .authorizeRequests()\n                .antMatchers(\n                        &quot;/api/authenticate/username&quot;)\n                .permitAll().anyRequest().authenticated().and()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler)\n                .and()\n                .oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(new AADJwtBearerTokenAuthenticationConverter());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android-studio","firebase-realtime-database","get","retrofit2"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1684802546,"post_id":76310396,"comment_id":134566974,"body_markdown":"From the structure of your code it looks like `enqueue` queues a callback object, which will then be executed asynchronously. In other words, your code continues onward in your thread while the callback is run on another thread.  If you expect the return to wait for completion of the request you will need to synchronize.  That will depend on the implementation of `TokensService`.","body":"From the structure of your code it looks like <code>enqueue</code> queues a callback object, which will then be executed asynchronously. In other words, your code continues onward in your thread while the callback is run on another thread.  If you expect the return to wait for completion of the request you will need to synchronize.  That will depend on the implementation of <code>TokensService</code>."},{"owner":{"account_id":28600107,"reputation":1,"user_id":21897270,"display_name":"DFDev3"},"score":0,"creation_date":1684807699,"post_id":76310396,"comment_id":134567378,"body_markdown":"I just updated the question with TokensService interface. How should I modify it in order to make execute() a suitable option for the request?","body":"I just updated the question with TokensService interface. How should I modify it in order to make execute() a suitable option for the request?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684821295,"post_id":76310396,"comment_id":134568679,"body_markdown":"There is no way you can return the `listTokens` as a result of a method, even if you&#39;re using Retrofit. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"There is no way you can return the <code>listTokens</code> as a result of a method, even if you&#39;re using Retrofit. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a>."}],"owner":{"account_id":28600107,"reputation":1,"user_id":21897270,"display_name":"DFDev3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684821317,"answer_count":0,"score":0,"last_activity_date":1684807827,"creation_date":1684797205,"question_id":76310396,"body_markdown":"I am currently trying to get tokens from a Realtime Database (Firebase) using Retrofit2 and Gson, in Android Studio. My API class and TokensService is correctly defined, and I&#39;m using the .enqueue() method in order to perform the GET command. \r\n\r\n\r\nTokensService\r\n```\r\npublic interface TokensService {\r\n\r\n    @GET(&quot;Tokens.json&quot;)\r\n    Call&lt;Object&gt; getAllTokens();\r\n\r\n    @POST(&quot;Tokens.json&quot;)\r\n    Call&lt;Object&gt; postToken(@Body Tokens miToken);\r\n\r\n}\r\n```\r\n\r\nHelperTokens\r\n\r\n```\r\npublic ArrayList&lt;Tokens&gt; getTokens() {\r\n        Arraylist&lt;Tokens&gt; listTokens=new ArrayList&lt;&gt;();\r\n        Retrofit myRetro = APIService.getInstancia();\r\n        TokensService myTokensService = myRetro.create(TokensService.class);\r\n\r\n            myTokensService.getAllTokens().enqueue(new Callback&lt;Object&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;Object&gt; call, Response&lt;Object&gt; response) {\r\n\r\n                    //Here, I verified that the info is being received in the response.body()\r\n\r\n                    Map&lt;String,Map&gt; datos = (Map&lt;String, Map&gt;) response.body();\r\n\r\n                    for (Map.Entry&lt;String, Map&gt; item : datos.entrySet()){\r\n                        Log.d(&quot;Entered the for loop&quot;,&quot;iterations&quot;);\r\n                        Tokens eachToken = new Tokens();\r\n                        eachToken.setTheToken((String) item.getValue().get(&quot;theToken&quot;));\r\n                        eachToken.setfCreacion((String) item.getValue().get(&quot;fCreacion&quot;));\r\n                        eachToken.setLimited((double) item.getValue().get(&quot;isLimited&quot;));\r\n                        eachToken.setfVencimiento((String) item.getValue().get(&quot;fVencimiento&quot;));\r\n\r\n                        //Here, I assign each attribute to a new instance of &quot;Tokens&quot; and add it\r\n                        //to the Arraylist that will be returned from getTokens()\r\n\r\n                        listTokens.add(eachToken);\r\n                    }\r\n                    Log.d(&quot;Finishing onResponse, this is the Arraylist&quot;,listTokens.toString());\r\n                }\r\n                @Override\r\n                public void onFailure(Call&lt;Object&gt; call, Throwable t) {\r\n                    Log.d(&quot;Fallo&quot;,t.getMessage());\r\n\r\n                }\r\n            });\r\n\r\n        Log.d(&quot;Arraylist about to be returned&quot;,listTokens.toString());\r\n\r\n        return listTokens;\r\n\r\n    }\r\n```\r\n\r\n\r\nHowever, I&#39;m having trouble with getting this right. There is no error, but the execution order looks a bit weird. As soon as I call the method getTokens() on my java.class, it goes through each line, creates the Arraylist, gets the Retrofit instance (singleton), creates the TokensService class, and finally arrives at the getAllTokens().enqueue().\r\n\r\nBut it returns listTokens before entering the onResponse/onFailure. It returns an empty array, and just then goes into the onResponse and performs all it&#39;s tasks switfly. But there&#39;s nothing I can do with the empty Arraylist it returns. Is almost like onResponse executes with a delay\r\n\r\nCheck the Logs and compare them to the following Logcat, so you can get what I&#39;m talking about.\r\n\r\nANNOTATIONS:\r\n\r\nThe class for a singular instance is called Tokens, in plural. &quot;Token&quot; would be hard to work with, since is a word used in a lot of methods and commands, and etc. So keep it in mind.\r\n\r\nI just have one single Tokens up in the Realtime Database, so in the &quot;filled&quot; listTokens, you can only observe 1 Tokens being added. It&#39;s not because the for is only iterating once. I&#39;ve tested it, and iterates as many times as there are Tokens in the database.\r\n\r\nSince I first thought it may be a online-type issue, like a little delay in the connection, I tried to Thread.sleep() the program, so that the connection would have time more than enough to perform it&#39;s duties. But no matter how much time it sleeps, the return command keeps executing before the onResponse","title":"enqueue.onResponse() executing after return statemente in a GET request","body":"<p>I am currently trying to get tokens from a Realtime Database (Firebase) using Retrofit2 and Gson, in Android Studio. My API class and TokensService is correctly defined, and I'm using the .enqueue() method in order to perform the GET command.</p>\n<p>TokensService</p>\n<pre><code>public interface TokensService {\n\n    @GET(&quot;Tokens.json&quot;)\n    Call&lt;Object&gt; getAllTokens();\n\n    @POST(&quot;Tokens.json&quot;)\n    Call&lt;Object&gt; postToken(@Body Tokens miToken);\n\n}\n</code></pre>\n<p>HelperTokens</p>\n<pre><code>public ArrayList&lt;Tokens&gt; getTokens() {\n        Arraylist&lt;Tokens&gt; listTokens=new ArrayList&lt;&gt;();\n        Retrofit myRetro = APIService.getInstancia();\n        TokensService myTokensService = myRetro.create(TokensService.class);\n\n            myTokensService.getAllTokens().enqueue(new Callback&lt;Object&gt;() {\n                @Override\n                public void onResponse(Call&lt;Object&gt; call, Response&lt;Object&gt; response) {\n\n                    //Here, I verified that the info is being received in the response.body()\n\n                    Map&lt;String,Map&gt; datos = (Map&lt;String, Map&gt;) response.body();\n\n                    for (Map.Entry&lt;String, Map&gt; item : datos.entrySet()){\n                        Log.d(&quot;Entered the for loop&quot;,&quot;iterations&quot;);\n                        Tokens eachToken = new Tokens();\n                        eachToken.setTheToken((String) item.getValue().get(&quot;theToken&quot;));\n                        eachToken.setfCreacion((String) item.getValue().get(&quot;fCreacion&quot;));\n                        eachToken.setLimited((double) item.getValue().get(&quot;isLimited&quot;));\n                        eachToken.setfVencimiento((String) item.getValue().get(&quot;fVencimiento&quot;));\n\n                        //Here, I assign each attribute to a new instance of &quot;Tokens&quot; and add it\n                        //to the Arraylist that will be returned from getTokens()\n\n                        listTokens.add(eachToken);\n                    }\n                    Log.d(&quot;Finishing onResponse, this is the Arraylist&quot;,listTokens.toString());\n                }\n                @Override\n                public void onFailure(Call&lt;Object&gt; call, Throwable t) {\n                    Log.d(&quot;Fallo&quot;,t.getMessage());\n\n                }\n            });\n\n        Log.d(&quot;Arraylist about to be returned&quot;,listTokens.toString());\n\n        return listTokens;\n\n    }\n</code></pre>\n<p>However, I'm having trouble with getting this right. There is no error, but the execution order looks a bit weird. As soon as I call the method getTokens() on my java.class, it goes through each line, creates the Arraylist, gets the Retrofit instance (singleton), creates the TokensService class, and finally arrives at the getAllTokens().enqueue().</p>\n<p>But it returns listTokens before entering the onResponse/onFailure. It returns an empty array, and just then goes into the onResponse and performs all it's tasks switfly. But there's nothing I can do with the empty Arraylist it returns. Is almost like onResponse executes with a delay</p>\n<p>Check the Logs and compare them to the following Logcat, so you can get what I'm talking about.</p>\n<p>ANNOTATIONS:</p>\n<p>The class for a singular instance is called Tokens, in plural. &quot;Token&quot; would be hard to work with, since is a word used in a lot of methods and commands, and etc. So keep it in mind.</p>\n<p>I just have one single Tokens up in the Realtime Database, so in the &quot;filled&quot; listTokens, you can only observe 1 Tokens being added. It's not because the for is only iterating once. I've tested it, and iterates as many times as there are Tokens in the database.</p>\n<p>Since I first thought it may be a online-type issue, like a little delay in the connection, I tried to Thread.sleep() the program, so that the connection would have time more than enough to perform it's duties. But no matter how much time it sleeps, the return command keeps executing before the onResponse</p>\n"},{"tags":["java","react-native"],"owner":{"account_id":28658743,"reputation":1,"user_id":21944097,"display_name":"Diego Rosselot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684805671,"creation_date":1684805671,"question_id":76310795,"body_markdown":"I&#180;m working on a react native app, and started recently to implement some native modules. I&#180;m trying to handle an ArrayList in java but I am having trouble understanding how react implements ReadableArrays. I don&#180;t really know much about java, I usually work with js.\r\n\r\nI have the following function in java:\r\n\r\n```\r\n@ReactMethod\r\n    private void serveCoffee(ReadableArray steps) {\r\n        ArrayList&lt;Object&gt; recipe = steps.toArrayList();\r\n        String listString = TextUtils.join(&quot;, &quot;, recipe);\r\n        Log.d(&quot;MachineDriverModule&quot;, listString);\r\n    }\r\n```\r\n\r\nI then use it in React defined like this:\r\n\r\n```\r\ntype step = {\r\n    canister: number,\r\n    water_volume: number,\r\n    powder_volume: number,\r\n    stirring_speed: number,\r\n    water_temperature: string,\r\n}\r\n\r\nserveCoffee(steps: Array&lt;step&gt;): void;\r\n```\r\n\r\nI have no problem with that code, but I have no idea how to get any value inside java. The function prints as expected (two identical steps inside the array): `{canister: 1, water_volume: 1, powder_volume: 1, stirring_speed: 1, water_temperature: string}, {canister: 1, water_volume: 1, powder_volume: 1, stirring_speed: 1, water_temperature: string} `\r\n\r\nNow, how would I get the value of canister or water_temperature of any of these?","title":"How do I handle a ReadableArray received in a React Native native module","body":"<p>I´m working on a react native app, and started recently to implement some native modules. I´m trying to handle an ArrayList in java but I am having trouble understanding how react implements ReadableArrays. I don´t really know much about java, I usually work with js.</p>\n<p>I have the following function in java:</p>\n<pre><code>@ReactMethod\n    private void serveCoffee(ReadableArray steps) {\n        ArrayList&lt;Object&gt; recipe = steps.toArrayList();\n        String listString = TextUtils.join(&quot;, &quot;, recipe);\n        Log.d(&quot;MachineDriverModule&quot;, listString);\n    }\n</code></pre>\n<p>I then use it in React defined like this:</p>\n<pre><code>type step = {\n    canister: number,\n    water_volume: number,\n    powder_volume: number,\n    stirring_speed: number,\n    water_temperature: string,\n}\n\nserveCoffee(steps: Array&lt;step&gt;): void;\n</code></pre>\n<p>I have no problem with that code, but I have no idea how to get any value inside java. The function prints as expected (two identical steps inside the array): <code>{canister: 1, water_volume: 1, powder_volume: 1, stirring_speed: 1, water_temperature: string}, {canister: 1, water_volume: 1, powder_volume: 1, stirring_speed: 1, water_temperature: string} </code></p>\n<p>Now, how would I get the value of canister or water_temperature of any of these?</p>\n"},{"tags":["java","arrays","string","object","while-loop"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1678702082,"post_id":75720392,"comment_id":133578121,"body_markdown":"Have you tried anything yet? Using `substring` with a few length checks should to the trick. Nobody here will just do your homework for you if you don&#39;t show what you&#39;ve tried.","body":"Have you tried anything yet? Using <code>substring</code> with a few length checks should to the trick. Nobody here will just do your homework for you if you don&#39;t show what you&#39;ve tried."},{"owner":{"account_id":20508639,"reputation":9,"user_id":15050866,"display_name":"Vaibhav"},"score":1,"creation_date":1678706412,"post_id":75720392,"comment_id":133579403,"body_markdown":"I figured out a way :)","body":"I figured out a way :)"}],"answers":[{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678959303,"creation_date":1678959303,"answer_id":75754323,"question_id":75720392,"body_markdown":"A similar issue was resolved here [Generate all rotations of a number][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/generate-all-rotations-of-a-number/\r\n\r\n\r\n    public class Pattern28 {\r\n    \r\n    \r\n            // Function to return the count of digits of n\r\n            static int numberOfDigits(int n)\r\n            {\r\n                int cnt = 0;\r\n                while (n &gt; 0)\r\n                {\r\n                    cnt++;\r\n                    n /= 10;\r\n                }\r\n                return cnt;\r\n            }\r\n    \r\n            // Function to print the left shift numbers\r\n            static void cal(int num)\r\n            {\r\n                int digits = numberOfDigits(num);\r\n                int powTen = (int) Math.pow(10, digits - 1);\r\n    \r\n                for (int i = 0; i &lt; digits - 1; i++)\r\n                {\r\n                    int firstDigit = num / powTen;\r\n    \r\n                    // Formula to calculate left shift\r\n                    // from previous number\r\n                    int left = ((num * 10) + firstDigit) -\r\n                            (firstDigit * powTen * 10);\r\n    \r\n                    System.out.println(left + &quot; &quot;);\r\n    \r\n                    // Update the original number\r\n                    num = left;\r\n                }\r\n            }\r\n    \r\n            // Driver Code\r\n            public static void main(String[] args)\r\n            {\r\n                int num = 1445;\r\n                Scanner sc = new Scanner(System.in);\r\n                System.out.println(&quot;Please enter your number ?&quot;);\r\n                int n = sc.nextInt();\r\n                cal(n);\r\n            }\r\n        }","title":"In java how to print chars of a string from any particular index and after reaching end of string again start from index 0 if printed not equal length","body":"<p>A similar issue was resolved here <a href=\"https://www.geeksforgeeks.org/generate-all-rotations-of-a-number/\" rel=\"nofollow noreferrer\">Generate all rotations of a number</a></p>\n<pre><code>public class Pattern28 {\n\n\n        // Function to return the count of digits of n\n        static int numberOfDigits(int n)\n        {\n            int cnt = 0;\n            while (n &gt; 0)\n            {\n                cnt++;\n                n /= 10;\n            }\n            return cnt;\n        }\n\n        // Function to print the left shift numbers\n        static void cal(int num)\n        {\n            int digits = numberOfDigits(num);\n            int powTen = (int) Math.pow(10, digits - 1);\n\n            for (int i = 0; i &lt; digits - 1; i++)\n            {\n                int firstDigit = num / powTen;\n\n                // Formula to calculate left shift\n                // from previous number\n                int left = ((num * 10) + firstDigit) -\n                        (firstDigit * powTen * 10);\n\n                System.out.println(left + &quot; &quot;);\n\n                // Update the original number\n                num = left;\n            }\n        }\n\n        // Driver Code\n        public static void main(String[] args)\n        {\n            int num = 1445;\n            Scanner sc = new Scanner(System.in);\n            System.out.println(&quot;Please enter your number ?&quot;);\n            int n = sc.nextInt();\n            cal(n);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684804746,"creation_date":1684648148,"answer_id":76298475,"question_id":75720392,"body_markdown":"Append the first character of the string to the end, and `substring` the string at index `1`.\r\n\r\n```java\r\nString rotate(String string) {\r\n    return string.substring(1) + string.substring(0, 1);\r\n}\r\n```\r\n\r\n```java\r\nString string = &quot;13579&quot;;\r\ndo {\r\n    System.out.println(string);\r\n    string = rotate(string);\r\n} while (!string.equals(&quot;13579&quot;));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n13579\r\n35791\r\n57913\r\n79135\r\n91357\r\n```\r\n\r\nIf you need all these values in a `String` array, you can use the following.\r\n\r\n```java\r\nString string = &quot;13579&quot;;\r\nString[] strings = new String[string.length()];\r\nfor (int index = 0; index &lt; strings.length; index++) {\r\n    strings[index] = string;\r\n    string = rotate(string);\r\n}\r\n```\r\n\r\nOutput of `strings`\r\n\r\n```none\r\n[13579, 35791, 57913, 79135, 91357]\r\n```","title":"In java how to print chars of a string from any particular index and after reaching end of string again start from index 0 if printed not equal length","body":"<p>Append the first character of the string to the end, and <code>substring</code> the string at index <code>1</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String rotate(String string) {\n    return string.substring(1) + string.substring(0, 1);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;13579&quot;;\ndo {\n    System.out.println(string);\n    string = rotate(string);\n} while (!string.equals(&quot;13579&quot;));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>13579\n35791\n57913\n79135\n91357\n</code></pre>\n<p>If you need all these values in a <code>String</code> array, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;13579&quot;;\nString[] strings = new String[string.length()];\nfor (int index = 0; index &lt; strings.length; index++) {\n    strings[index] = string;\n    string = rotate(string);\n}\n</code></pre>\n<p>Output of <code>strings</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>[13579, 35791, 57913, 79135, 91357]\n</code></pre>\n"}],"owner":{"account_id":20508639,"reputation":9,"user_id":15050866,"display_name":"Vaibhav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1684804746,"creation_date":1678701872,"question_id":75720392,"body_markdown":"Basically I have a string of numbers and that string will be dynamic in nature both content wise and length wise ex. &quot;13579&quot;, &quot;12345789&quot; etc.\r\nIf the length of string is n then I want to create n strings from it.\r\nSuppose string is &quot;13579&quot; then I have to create 5 Strings from it starting from different index like below:\r\n```none\r\n13579\r\n35791\r\n57913\r\n79135\r\n91357\r\n```\r\nHow can I do this using a generic loop which works for all the string lengths?\r\n\r\nCan someone help?\r\n\r\nThank!!!\r\n\r\nEDIT:\r\n---\r\nHere is what I have tried\r\n\r\n    public class Pattern28 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tScanner sc= new Scanner(System.in);\r\n\t\tint n= sc.nextInt();\r\n\t\tint i=1;\r\n\t\tint odd=1;\r\n\t\tString sNum=&quot;&quot;;\r\n\t\twhile(i&lt;=n) {\r\n\t\t\tint j=1;\r\n\t\t\tif(i==1) {\r\n\t\t\twhile(j&lt;=n) {\r\n\t\t\t   System.out.print(odd);\r\n\t\t\t if(i==1 &amp;&amp; j&lt;=n) sNum=sNum.concat(Integer.toString(odd)); //to get first row numbers in string\r\n\t\t\t\todd+=2;\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//System.out.println(&quot;im &quot;+sNum);\r\n\t\tj=i-1;\r\n\t\tif(i!=1) {\r\n\t\t\t//\tint k=i-1;\r\n\t\t\twhile(j&lt;=n) {\r\n\t\t\t\tSystem.out.print(sNum.charAt(j));\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\ti++;\r\n\t}\r\n\t}\r\n    }\r\n\r\nStuck at last while loop. Every time I do something there I end up with &quot;java.lang.StringIndexOutOfBoundsException&quot; as index either reaches string length+ or goes in negative.","title":"In java how to print chars of a string from any particular index and after reaching end of string again start from index 0 if printed not equal length","body":"<p>Basically I have a string of numbers and that string will be dynamic in nature both content wise and length wise ex. &quot;13579&quot;, &quot;12345789&quot; etc.\nIf the length of string is n then I want to create n strings from it.\nSuppose string is &quot;13579&quot; then I have to create 5 Strings from it starting from different index like below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>13579\n35791\n57913\n79135\n91357\n</code></pre>\n<p>How can I do this using a generic loop which works for all the string lengths?</p>\n<p>Can someone help?</p>\n<p>Thank!!!</p>\n<h2>EDIT:</h2>\n<p>Here is what I have tried</p>\n<pre><code>public class Pattern28 {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    Scanner sc= new Scanner(System.in);\n    int n= sc.nextInt();\n    int i=1;\n    int odd=1;\n    String sNum=&quot;&quot;;\n    while(i&lt;=n) {\n        int j=1;\n        if(i==1) {\n        while(j&lt;=n) {\n           System.out.print(odd);\n         if(i==1 &amp;&amp; j&lt;=n) sNum=sNum.concat(Integer.toString(odd)); //to get first row numbers in string\n            odd+=2;\n            j++;\n        }\n    }\n    //System.out.println(&quot;im &quot;+sNum);\n    j=i-1;\n    if(i!=1) {\n        //  int k=i-1;\n        while(j&lt;=n) {\n            System.out.print(sNum.charAt(j));\n            j++;\n        }\n    }\n    System.out.println();\n    i++;\n}\n}\n}\n</code></pre>\n<p>Stuck at last while loop. Every time I do something there I end up with &quot;java.lang.StringIndexOutOfBoundsException&quot; as index either reaches string length+ or goes in negative.</p>\n"},{"tags":["java","arrays","parent-child"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":6,"creation_date":1684764167,"post_id":76306973,"comment_id":134560298,"body_markdown":"Because the array is declared as an `Animal[]`, in other words: according to the type of the variable, the type of the elements in the array is `Animal` and not some specific subtype of `Animal`. This doesn&#39;t have anything to do with arrays; it&#39;s exactly the same as with &#39;normal&#39; (non-array) variables.","body":"Because the array is declared as an <code>Animal[]</code>, in other words: according to the type of the variable, the type of the elements in the array is <code>Animal</code> and not some specific subtype of <code>Animal</code>. This doesn&#39;t have anything to do with arrays; it&#39;s exactly the same as with &#39;normal&#39; (non-array) variables."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1684764438,"post_id":76306973,"comment_id":134560369,"body_markdown":"You can check the runtime type of the array contents (e.g. with the instanceof operator) and cast to the resulting type. But this is usually a bad idea.","body":"You can check the runtime type of the array contents (e.g. with the instanceof operator) and cast to the resulting type. But this is usually a bad idea."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1684765297,"post_id":76306973,"comment_id":134560591,"body_markdown":"Because that&#39;s not how polymorphism works.","body":"Because that&#39;s not how polymorphism works."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1684765865,"post_id":76306973,"comment_id":134560765,"body_markdown":"An `Animal` is not a `Dog`. A list of animals can include any animal, not just dogs. Calling `setBreedOfDog` only makes sense for a dog. *(Tangential: `setBreed` is sufficient--you already know it&#39;s a `Dog`, and `setBreed` is a general-purpose method that might belong on `Animal`)*.","body":"An <code>Animal</code> is not a <code>Dog</code>. A list of animals can include any animal, not just dogs. Calling <code>setBreedOfDog</code> only makes sense for a dog. <i>(Tangential: <code>setBreed</code> is sufficient--you already know it&#39;s a <code>Dog</code>, and <code>setBreed</code> is a general-purpose method that might belong on <code>Animal</code>)</i>."},{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":2,"creation_date":1684765897,"post_id":76306973,"comment_id":134560774,"body_markdown":"You could abstract a method such as &quot;setBreed&quot; to Animal class, then you could call  Animal object&#39;s &quot;setBreed&quot; and actually invoke subclass&#39;s &quot;Dog&quot; method. This is polymorphism in Java.","body":"You could abstract a method such as &quot;setBreed&quot; to Animal class, then you could call  Animal object&#39;s &quot;setBreed&quot; and actually invoke subclass&#39;s &quot;Dog&quot; method. This is polymorphism in Java."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1684766763,"post_id":76306973,"comment_id":134560975,"body_markdown":"Why are you putting an Animal in the dog instance? I assume a Dog is a subclass of Animal. Or are you not using inheritance?","body":"Why are you putting an Animal in the dog instance? I assume a Dog is a subclass of Animal. Or are you not using inheritance?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684804534,"creation_date":1684804534,"answer_id":76310741,"question_id":76306973,"body_markdown":"You&#39;ll need to cast your array item to the representing class, `Dog`.\r\n\r\n```java\r\nAnimal[] c = new Animal[6];\r\nc[0] = new Dog();\r\n((Dog) c[0]).setBreedOfDog(&quot;Pug&quot;);\r\n```","title":"Can I create an array of a parent class that contains its subclasses and then apply subclass methods to the array?","body":"<p>You'll need to cast your array item to the representing class, <code>Dog</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Animal[] c = new Animal[6];\nc[0] = new Dog();\n((Dog) c[0]).setBreedOfDog(&quot;Pug&quot;);\n</code></pre>\n"}],"owner":{"account_id":28654856,"reputation":33,"user_id":21941130,"display_name":"Smile D"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1684804534,"creation_date":1684763954,"question_id":76306973,"body_markdown":"In java, can I create an array of a parent class that contains its subclasses. Then after that, can I apply the methods found in the subclass to the object in the array.\r\n\r\n\r\nFor example, \r\n\r\n    Animal[] c =new Animal[6]; \r\n    \r\n    c[0] = new Dog(new Animal()); \r\n     \r\n    c[0].setBreedOfDog(&quot;Pug&quot;)\r\n\r\nIn this, I create an parent array using Animal, and then put in the subclass Dog into it. But when I try to use a setter in the Dog class, I get an error. **Can&#39;t I do this with pointers?** Can anyone tell me why this is. Thank you.\r\n","title":"Can I create an array of a parent class that contains its subclasses and then apply subclass methods to the array?","body":"<p>In java, can I create an array of a parent class that contains its subclasses. Then after that, can I apply the methods found in the subclass to the object in the array.</p>\n<p>For example,</p>\n<pre><code>Animal[] c =new Animal[6]; \n\nc[0] = new Dog(new Animal()); \n \nc[0].setBreedOfDog(&quot;Pug&quot;)\n</code></pre>\n<p>In this, I create an parent array using Animal, and then put in the subclass Dog into it. But when I try to use a setter in the Dog class, I get an error. <strong>Can't I do this with pointers?</strong> Can anyone tell me why this is. Thank you.</p>\n"},{"tags":["java","android","android-studio","webview","android-webview"],"answers":[{"tags":[],"owner":{"account_id":7162415,"reputation":121,"user_id":5472740,"display_name":"Youssef Wagih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684804458,"creation_date":1684804458,"answer_id":76310736,"question_id":76306575,"body_markdown":"Add the below code statement\r\n\r\n        webView?.getSettings().setDomStorageEnabled(true);\r\n\r\nAlso add **www.** in the beginning of URL\r\n    \r\n\r\n    webView.loadUrl(&quot;https://www.softcommerceltd.com/&quot;)\r\n\r\nfor reference:\r\nhttps://stackoverflow.com/questions/16207094/android-webview-not-loading-url","title":"google.com is working in my webview app but when i run the app my website link is not appearing","body":"<p>Add the below code statement</p>\n<pre><code>    webView?.getSettings().setDomStorageEnabled(true);\n</code></pre>\n<p>Also add <strong>www.</strong> in the beginning of URL</p>\n<pre><code>webView.loadUrl(&quot;https://www.softcommerceltd.com/&quot;)\n</code></pre>\n<p>for reference:\n<a href=\"https://stackoverflow.com/questions/16207094/android-webview-not-loading-url\">Android WebView not loading URL</a></p>\n"}],"owner":{"account_id":12870885,"reputation":21,"user_id":9309388,"display_name":"Asikur Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684804458,"creation_date":1684761224,"question_id":76306575,"body_markdown":"when i replace webView.loadUrl(&quot;https://softcommerceltd.com/&quot;); to webView.loadUrl(&quot;https://google.com/&quot;); then the app works fine , i can brows google and do everything. but when i put my website url then when i run the app the app shows blank activity. my internet is fine. how i can solve that issue? is that fault of my website? that website working fine in my browser.\r\n\r\nMainactivity.java: \r\n```\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private WebView webView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        CustomWebViewClient client = new CustomWebViewClient(this);\r\n\r\n        webView = findViewById(R.id.webView);\r\n        webView.setWebViewClient(client);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.loadUrl(&quot;https://softcommerceltd.com/&quot;);\r\n    }\r\n\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event){\r\n        if(keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; this.webView.canGoBack()){\r\n            this.webView.goBack();\r\n            return true;\r\n        }\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n}\r\n\r\nclass CustomWebViewClient extends WebViewClient{\r\n    private Activity activity;\r\n    public CustomWebViewClient(Activity activity){\r\n        this.activity = activity;\r\n    }\r\n\r\n    @Override\r\n    public boolean shouldOverrideUrlLoading(WebView webView, String url){\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean shouldOverrideUrlLoading(WebView webView, WebResourceRequest request){\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nactivity_main.xml : \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/webView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nAndroidManifest.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.tochy.webapp&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Tochy&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"google.com is working in my webview app but when i run the app my website link is not appearing","body":"<p>when i replace webView.loadUrl(&quot;https://softcommerceltd.com/&quot;); to webView.loadUrl(&quot;https://google.com/&quot;); then the app works fine , i can brows google and do everything. but when i put my website url then when i run the app the app shows blank activity. my internet is fine. how i can solve that issue? is that fault of my website? that website working fine in my browser.</p>\n<p>Mainactivity.java:</p>\n<pre><code>\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        CustomWebViewClient client = new CustomWebViewClient(this);\n\n        webView = findViewById(R.id.webView);\n        webView.setWebViewClient(client);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.loadUrl(&quot;https://softcommerceltd.com/&quot;);\n    }\n\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event){\n        if(keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; this.webView.canGoBack()){\n            this.webView.goBack();\n            return true;\n        }\n        return super.onKeyDown(keyCode, event);\n    }\n}\n\nclass CustomWebViewClient extends WebViewClient{\n    private Activity activity;\n    public CustomWebViewClient(Activity activity){\n        this.activity = activity;\n    }\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView webView, String url){\n        return false;\n    }\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView webView, WebResourceRequest request){\n        return false;\n    }\n}\n</code></pre>\n<p>activity_main.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>AndroidManifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.tochy.webapp&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Tochy&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","sockets","network-programming","nio","file-transfer"],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1316609694,"creation_date":1316609694,"answer_id":7500102,"question_id":7500059,"body_markdown":"At 2.8MB/s, it is unlikely that the slowness has anything to do with your code. It is almost certainly due to the wireless network not being able to achieve the theoretical throughput (possibly due to environmental conditions).\r\n\r\nIt&#39;s easy to test whether this is the case: simply time a large `ftp` or `scp` file transfer between the same two computers and see what kind of throughput you&#39;re seeing.","title":"Making file transfer more efficient Java","body":"<p>At 2.8MB/s, it is unlikely that the slowness has anything to do with your code. It is almost certainly due to the wireless network not being able to achieve the theoretical throughput (possibly due to environmental conditions).</p>\n\n<p>It's easy to test whether this is the case: simply time a large <code>ftp</code> or <code>scp</code> file transfer between the same two computers and see what kind of throughput you're seeing.</p>\n"},{"tags":[],"owner":{"account_id":13245,"reputation":5748,"user_id":26483,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316611563,"creation_date":1316610519,"answer_id":7500285,"question_id":7500059,"body_markdown":"Your timer is wrong ! you should start it after you accept the connection not when you start the host\r\n\r\nDid you try increasing your buffer size ?\r\n\r\n","title":"Making file transfer more efficient Java","body":"<p>Your timer is wrong ! you should start it after you accept the connection not when you start the host</p>\n\n<p>Did you try increasing your buffer size ?</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1319635332,"creation_date":1316611001,"answer_id":7500397,"question_id":7500059,"body_markdown":"I suggest you try the following code which prints\r\n\r\n    Wed Oct 26 14:21:03 BST 2011: Accepted a connection\r\n    Wed Oct 26 14:21:13 BST 2011: Transfer rate was 3212.5 MB/s\r\n\r\non the server and on the client prints\r\n\r\n    Wed Oct 26 14:21:03 BST 2011 Sending for 10.0 seconds.\r\n    Wed Oct 26 14:21:13 BST 2011 ... sent.\r\n    Wed Oct 26 14:21:13 BST 2011 ... received 33691287552\r\n    Send and received 3212.8 MB/s\r\n\r\nNote: the total amount transferred is double this as everything sent client to server is sent server to client.\r\n\r\n---\r\n\r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.ServerSocketChannel;\r\n    import java.nio.channels.SocketChannel;\r\n    import java.util.Date;\r\n    \r\n    public class EchoServerMain {\r\n      public static void main(String... args) throws IOException {\r\n        int port = args.length &lt; 1 ? 55555 : Integer.parseInt(args[0]);\r\n        ServerSocketChannel ss = ServerSocketChannel.open();\r\n        ss.socket().bind(new InetSocketAddress(port));\r\n        while (!ss.socket().isClosed()) {\r\n          SocketChannel s = ss.accept();\r\n          System.out.println(new Date() + &quot;: Accepted a connection&quot;);\r\n          long start = System.nanoTime();\r\n          ByteBuffer bytes = ByteBuffer.allocateDirect(32*1024);\r\n          int len;\r\n          long total = 0;\r\n          // Thank you @EJP, for a more elegant single loop.\r\n          while ((len = s.read(bytes)) &gt;= 0 || bytes.position() &gt; 0) { \r\n            bytes.flip(); \r\n            s.write(bytes); \r\n            bytes.compact(); \r\n            total += len;\r\n          }\r\n          long time = System.nanoTime() - start;\r\n          System.out.printf(new Date() + &quot;: Transfer rate was %.1f MB/s%n&quot;, total * 1e9 / 1024 / 1024 / time);\r\n        }\r\n        ss.close();\r\n      }\r\n    }\r\n\r\nand\r\n\r\n    import java.io.EOFException;\r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.SocketChannel;\r\n    import java.util.Date;\r\n    \r\n    public class EchoClientMain {\r\n      public static void main(String ... args) throws IOException {\r\n        String hostname = args.length &lt; 1 ? &quot;localhost&quot; : args[0];\r\n        int port = args.length &lt; 2 ? 55555 : Integer.parseInt(args[1]);\r\n        double seconds = args.length &lt; 3 ? 10 : Double.parseDouble(args[2]);\r\n    \r\n        SocketChannel s = SocketChannel.open(new InetSocketAddress(hostname, port));\r\n        s.configureBlocking(false);\r\n        ByteBuffer bytes = ByteBuffer.allocateDirect(32*1024);\r\n    \r\n        System.out.printf(new Date()+ &quot; Sending for %.1f seconds.%n&quot;, seconds);\r\n        long start = System.nanoTime();\r\n        long dataSent = 0, dataReceived = 0;\r\n        // run for 10 seconds.\r\n        while(start + seconds*1e9 &gt; System.nanoTime()) {\r\n          bytes.clear();\r\n          int wlen = s.write(bytes);\r\n          if (wlen &lt; 0) throw new IOException();\r\n          dataSent += wlen;\r\n    \r\n          bytes.clear();\r\n          int rlen = s.read(bytes);\r\n          if (rlen &lt; 0) throw new EOFException();\r\n          dataReceived += rlen;\r\n        }\r\n        System.out.println(new Date()+ &quot; ... sent.&quot;);\r\n    \r\n        while(dataReceived &lt; dataSent) {\r\n          bytes.clear();\r\n          int rlen = s.read(bytes);\r\n          if (rlen &lt; 0) throw new EOFException();\r\n          dataReceived += rlen;\r\n        }\r\n        s.close();\r\n        long time = System.nanoTime() - start;\r\n        System.out.println(new Date()+ &quot; ... received &quot;+dataReceived);\r\n        System.out.printf(&quot;Send and received %.1f MB/s%n&quot;, dataReceived * 1e9/1024/1024/time);\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Making file transfer more efficient Java","body":"<p>I suggest you try the following code which prints</p>\n\n<pre><code>Wed Oct 26 14:21:03 BST 2011: Accepted a connection\nWed Oct 26 14:21:13 BST 2011: Transfer rate was 3212.5 MB/s\n</code></pre>\n\n<p>on the server and on the client prints</p>\n\n<pre><code>Wed Oct 26 14:21:03 BST 2011 Sending for 10.0 seconds.\nWed Oct 26 14:21:13 BST 2011 ... sent.\nWed Oct 26 14:21:13 BST 2011 ... received 33691287552\nSend and received 3212.8 MB/s\n</code></pre>\n\n<p>Note: the total amount transferred is double this as everything sent client to server is sent server to client.</p>\n\n<hr>\n\n<pre><code>import java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.ServerSocketChannel;\nimport java.nio.channels.SocketChannel;\nimport java.util.Date;\n\npublic class EchoServerMain {\n  public static void main(String... args) throws IOException {\n    int port = args.length &lt; 1 ? 55555 : Integer.parseInt(args[0]);\n    ServerSocketChannel ss = ServerSocketChannel.open();\n    ss.socket().bind(new InetSocketAddress(port));\n    while (!ss.socket().isClosed()) {\n      SocketChannel s = ss.accept();\n      System.out.println(new Date() + \": Accepted a connection\");\n      long start = System.nanoTime();\n      ByteBuffer bytes = ByteBuffer.allocateDirect(32*1024);\n      int len;\n      long total = 0;\n      // Thank you @EJP, for a more elegant single loop.\n      while ((len = s.read(bytes)) &gt;= 0 || bytes.position() &gt; 0) { \n        bytes.flip(); \n        s.write(bytes); \n        bytes.compact(); \n        total += len;\n      }\n      long time = System.nanoTime() - start;\n      System.out.printf(new Date() + \": Transfer rate was %.1f MB/s%n\", total * 1e9 / 1024 / 1024 / time);\n    }\n    ss.close();\n  }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>import java.io.EOFException;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.SocketChannel;\nimport java.util.Date;\n\npublic class EchoClientMain {\n  public static void main(String ... args) throws IOException {\n    String hostname = args.length &lt; 1 ? \"localhost\" : args[0];\n    int port = args.length &lt; 2 ? 55555 : Integer.parseInt(args[1]);\n    double seconds = args.length &lt; 3 ? 10 : Double.parseDouble(args[2]);\n\n    SocketChannel s = SocketChannel.open(new InetSocketAddress(hostname, port));\n    s.configureBlocking(false);\n    ByteBuffer bytes = ByteBuffer.allocateDirect(32*1024);\n\n    System.out.printf(new Date()+ \" Sending for %.1f seconds.%n\", seconds);\n    long start = System.nanoTime();\n    long dataSent = 0, dataReceived = 0;\n    // run for 10 seconds.\n    while(start + seconds*1e9 &gt; System.nanoTime()) {\n      bytes.clear();\n      int wlen = s.write(bytes);\n      if (wlen &lt; 0) throw new IOException();\n      dataSent += wlen;\n\n      bytes.clear();\n      int rlen = s.read(bytes);\n      if (rlen &lt; 0) throw new EOFException();\n      dataReceived += rlen;\n    }\n    System.out.println(new Date()+ \" ... sent.\");\n\n    while(dataReceived &lt; dataSent) {\n      bytes.clear();\n      int rlen = s.read(bytes);\n      if (rlen &lt; 0) throw new EOFException();\n      dataReceived += rlen;\n    }\n    s.close();\n    long time = System.nanoTime() - start;\n    System.out.println(new Date()+ \" ... received \"+dataReceived);\n    System.out.printf(\"Send and received %.1f MB/s%n\", dataReceived * 1e9/1024/1024/time);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10448,"reputation":91684,"user_id":19746,"accept_rate":91,"display_name":"Piskvor left the building"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316612250,"creation_date":1316612250,"answer_id":7500696,"question_id":7500059,"body_markdown":"Test the same program using a wired, Fast Ethernet (100Mbit/s) link between the computers (and then possibly using a 1Gbit link). That way, you&#39;ll see whether the transfer rate is actually limited by your program or by the link.","title":"Making file transfer more efficient Java","body":"<p>Test the same program using a wired, Fast Ethernet (100Mbit/s) link between the computers (and then possibly using a 1Gbit link). That way, you'll see whether the transfer rate is actually limited by your program or by the link.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684803640,"creation_date":1316696753,"answer_id":7515203,"question_id":7500059,"body_markdown":"Just set a very large socket send buffer, and if possible set a very large socket receive buffer at the receiver. Code &#39;optimizations&#39; contribute basically nothing to these scenarios.\r\n\r\nSet a very large socket receive buffer at the receiver, 256K or more. Use a `BufferedOutputStream` around the `FileOutputStream` so that you are always writing to block boundaries. NB your test `if (bytesRead &gt; 0)` can never be false. The only way `InputStream.read()` can return zero is if you supply a zero length buffer or a zero length parameter, and you aren&#39;t. I would get rid of the `println()` calls inside the loops.","title":"Making file transfer more efficient Java","body":"<p>Just set a very large socket send buffer, and if possible set a very large socket receive buffer at the receiver. Code 'optimizations' contribute basically nothing to these scenarios.</p>\n<p>Set a very large socket receive buffer at the receiver, 256K or more. Use a <code>BufferedOutputStream</code> around the <code>FileOutputStream</code> so that you are always writing to block boundaries. NB your test <code>if (bytesRead &gt; 0)</code> can never be false. The only way <code>InputStream.read()</code> can return zero is if you supply a zero length buffer or a zero length parameter, and you aren't. I would get rid of the <code>println()</code> calls inside the loops.</p>\n"}],"owner":{"account_id":331959,"reputation":15742,"user_id":656963,"accept_rate":90,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11506,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":7500102,"answer_count":5,"score":6,"last_activity_date":1684803692,"creation_date":1316609514,"question_id":7500059,"body_markdown":"I have two wireless computers connected to an N wireless router. Each of these PCs are connected at between 108-150Mbps. \r\n\r\nTheoretically, I should be able to transfer at 13.5MB/s to 18.75MB/s, under the absolute best of conditions.\r\n\r\nThe first computer (that is sending), uses a very fast SSD, which is around 100MB/s if I remember correctly. CPU usage also stays below 20%.\r\n\r\nIt sent 1960273535 bytes (1.8GB) in 656367ms. That&#39;s 2.8MB/s (22 out of 108 Megabits).\r\nWhen I open up task manager, I see that only 25-27% of the network connection is being used.\r\n\r\nI am looking for any ideas, suggestions, or improvements that can make the transfer faster (over a network). I was thinking of buffering the file from the disk on a thread and sending the buffered data from another thread but I&#39;m not sure if it&#39;s a good idea.\r\nHere is the SSCCE:\r\n\r\nHost:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    \r\n    public class Host {\r\n    \r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\t\r\n    \t\tServerSocket servsock = new ServerSocket(15064);\r\n    \t\tSocket sock = servsock.accept();\r\n                long time = System.currentTimeMillis();\r\n\r\n    \t\tOutputStream out = sock.getOutputStream();\r\n    \t\tFileInputStream fileInputStream = new FileInputStream(&quot;C:\\\\complete.rar&quot;);\r\n    \r\n    \t\tbyte [] buffer = new byte[64*1024]; \r\n    \t\tint bytesRead = 0;\r\n    \t\tlong totalSent = 0;\r\n    \t\t\r\n    \t\twhile ( (bytesRead = fileInputStream.read(buffer)) != -1)\r\n    \t\t{\r\n    \t\t\tif (bytesRead &gt; 0)\r\n    \t\t\t{\t\r\n    \t\t\t\tout.write(buffer, 0, bytesRead);\r\n    \t\t\t\ttotalSent += bytesRead;\r\n    \t\t\t\tSystem.out.println(&quot;sent &quot; + totalSent);\r\n    \t\t\t}\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tsock.close();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Sent &quot; + totalSent + &quot; bytes in &quot;\r\n    \t\t\t\t+ (System.currentTimeMillis() - time) + &quot;ms.&quot;);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\nClient:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    public class Client {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSocket sock = new Socket(&quot;127.0.0.1&quot;, 15064);\r\n    \t\tInputStream in = sock.getInputStream();\r\n    \t\tFileOutputStream fileOutputStream = new FileOutputStream(&quot;output.rar&quot;);\r\n    \r\n    \t\tbyte [] buffer = new byte[64*1024]; \r\n    \t\tint bytesRead = 0;\r\n    \r\n    \t\twhile ( (bytesRead = in.read(buffer)) != -1)\r\n    \t\t\tfileOutputStream.write(buffer, 0, bytesRead);\r\n    \t\tsock.close();\r\n    \t\tfileOutputStream.close();\r\n    \t}\r\n    }\r\n\r\nEdit: I tried mapping a network drive and sending the file over that, and windows did even worse - 2.35MB/s. According to [this article][1] mapping a network drive is faster than FTP, and I also don&#39;t have the time to stay playing around and setting up the FTP server.\r\n\r\nEdit2: After changing the timer, turns out it was transferring at 3MB/s over WiFi. I hate the &quot;theoretical&quot; throughput. When I buy something, I want to know it&#39;s REAL performance.\r\nIt turns out the code is indeed limited by WiFi speeds. I am still open to suggestions though.\r\n\r\nEdit 3: After running the program on 100Mbps LAN, it managed to transfer the file at 11.8MB/s. That&#39;s pretty good considering that the maximum transfer rate is 12.5MB/s.\r\n\r\n\r\n  [1]: http://webcache.googleusercontent.com/search?q=cache:gWffoluxtm4J:www.seabreezecomputers.com/tips/filexfer.htm%20Fastest%20wireless%20Lan%20file%20transfer&amp;cd=1&amp;hl=en&amp;ct=clnk","title":"Making file transfer more efficient Java","body":"<p>I have two wireless computers connected to an N wireless router. Each of these PCs are connected at between 108-150Mbps.</p>\n<p>Theoretically, I should be able to transfer at 13.5MB/s to 18.75MB/s, under the absolute best of conditions.</p>\n<p>The first computer (that is sending), uses a very fast SSD, which is around 100MB/s if I remember correctly. CPU usage also stays below 20%.</p>\n<p>It sent 1960273535 bytes (1.8GB) in 656367ms. That's 2.8MB/s (22 out of 108 Megabits).\nWhen I open up task manager, I see that only 25-27% of the network connection is being used.</p>\n<p>I am looking for any ideas, suggestions, or improvements that can make the transfer faster (over a network). I was thinking of buffering the file from the disk on a thread and sending the buffered data from another thread but I'm not sure if it's a good idea.\nHere is the SSCCE:</p>\n<p>Host:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\n\npublic class Host {\n\n\n    public static void main(String[] args) throws IOException {\n        \n        \n        ServerSocket servsock = new ServerSocket(15064);\n        Socket sock = servsock.accept();\n            long time = System.currentTimeMillis();\n\n        OutputStream out = sock.getOutputStream();\n        FileInputStream fileInputStream = new FileInputStream(&quot;C:\\\\complete.rar&quot;);\n\n        byte [] buffer = new byte[64*1024]; \n        int bytesRead = 0;\n        long totalSent = 0;\n        \n        while ( (bytesRead = fileInputStream.read(buffer)) != -1)\n        {\n            if (bytesRead &gt; 0)\n            {   \n                out.write(buffer, 0, bytesRead);\n                totalSent += bytesRead;\n                System.out.println(&quot;sent &quot; + totalSent);\n            }   \n        }\n        \n        sock.close();\n        \n        System.out.println(&quot;Sent &quot; + totalSent + &quot; bytes in &quot;\n                + (System.currentTimeMillis() - time) + &quot;ms.&quot;);\n        \n    }\n}\n</code></pre>\n<p>Client:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class Client {\n\n    public static void main(String[] args) throws Exception {\n        Socket sock = new Socket(&quot;127.0.0.1&quot;, 15064);\n        InputStream in = sock.getInputStream();\n        FileOutputStream fileOutputStream = new FileOutputStream(&quot;output.rar&quot;);\n\n        byte [] buffer = new byte[64*1024]; \n        int bytesRead = 0;\n\n        while ( (bytesRead = in.read(buffer)) != -1)\n            fileOutputStream.write(buffer, 0, bytesRead);\n        sock.close();\n        fileOutputStream.close();\n    }\n}\n</code></pre>\n<p>Edit: I tried mapping a network drive and sending the file over that, and windows did even worse - 2.35MB/s. According to <a href=\"http://webcache.googleusercontent.com/search?q=cache:gWffoluxtm4J:www.seabreezecomputers.com/tips/filexfer.htm%20Fastest%20wireless%20Lan%20file%20transfer&amp;cd=1&amp;hl=en&amp;ct=clnk\" rel=\"nofollow noreferrer\">this article</a> mapping a network drive is faster than FTP, and I also don't have the time to stay playing around and setting up the FTP server.</p>\n<p>Edit2: After changing the timer, turns out it was transferring at 3MB/s over WiFi. I hate the &quot;theoretical&quot; throughput. When I buy something, I want to know it's REAL performance.\nIt turns out the code is indeed limited by WiFi speeds. I am still open to suggestions though.</p>\n<p>Edit 3: After running the program on 100Mbps LAN, it managed to transfer the file at 11.8MB/s. That's pretty good considering that the maximum transfer rate is 12.5MB/s.</p>\n"},{"tags":["java","html","string","listview","string-formatting"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1486142503,"post_id":42029603,"comment_id":71233756,"body_markdown":"Apache commons has a function that escapes html aka converts characters to HTML entities. See function escapeHtml: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html","body":"Apache commons has a function that escapes html aka converts characters to HTML entities. See function escapeHtml: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":4785346,"reputation":787,"user_id":3960650,"display_name":"DejaVuSansMono"},"score":0,"creation_date":1486142639,"post_id":42029603,"comment_id":71233843,"body_markdown":"You could run this through an HTML reader. Though it isn&#39;t a complete document. https://docs.oracle.com/javase/7/docs/api/javax/swing/text/html/HTMLDocument.HTMLReader.html","body":"You could run this through an HTML reader. Though it isn&#39;t a complete document. <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/text/html/HTMLDocument.HTMLReader.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/swing/text/html/&hellip;</a>"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1486143213,"post_id":42029603,"comment_id":71234155,"body_markdown":"Btw. Are you talking about an android ListView? in that case this might help: http://stackoverflow.com/questions/6502759/how-to-strip-or-escape-html-tags-in-android","body":"Btw. Are you talking about an android ListView? in that case this might help: <a href=\"http://stackoverflow.com/questions/6502759/how-to-strip-or-escape-html-tags-in-android\" title=\"how to strip or escape html tags in android\">stackoverflow.com/questions/6502759/&hellip;</a>"},{"owner":{"account_id":10170785,"reputation":41,"user_id":7511152,"display_name":"Giovanni Scieri"},"score":0,"creation_date":1486143563,"post_id":42029603,"comment_id":71234342,"body_markdown":"@DejaVuSansMono Sorry but I don&#39;t know how to do it. Can you explain better how to use it please?","body":"@DejaVuSansMono Sorry but I don&#39;t know how to do it. Can you explain better how to use it please?"}],"answers":[{"tags":[],"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520669212,"creation_date":1520669212,"answer_id":49206797,"question_id":42029603,"body_markdown":"If you heal the html, it will be rendered fine by many Swing components, without assistance:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class Se0124 extends JFrame\r\n    {\r\n        String myString = &quot;&lt;html&gt;&quot; +\r\n                       &quot;The accuracy of a potentiometer (pH meter) is&quot; +\r\n                       &quot;&amp;#177;0.1 mV. A solution contains 1x10&lt;SUP&gt;-4&lt;/SUP&gt; mol/L Cl&quot; +\r\n                       &quot;&lt;SUP&gt;-&lt;/SUP&gt; and 1x10&lt;SUP&gt;-3&lt;/SUP&gt; mol/L Ca&lt;SUP&gt;2+&lt;/SUP&gt;.&quot; +\r\n                       &quot;What is the error in concentration to be expected when measuring&quot; +\r\n                       &quot;these ions with a chloride or a calcium ion selective electrode?&quot; +\r\n                       &quot;&lt;/html&gt;&quot;;\r\n    \r\n    \tpublic Se0124 ()\r\n    \t{\r\n    \t\tsuper (&quot;Se0124&quot;);\r\n    \t\tJPanel mainpanel = new JPanel ();\r\n    \t\tmainpanel.setLayout (new BorderLayout ());\r\n    \t\tthis.getContentPane ().add (mainpanel);\r\n    \r\n    \t\tJLabel jl = new JLabel (myString);\r\n    \t\tmainpanel.add (jl, BorderLayout.CENTER);\r\n    \t\tsetSize (400, 400);\r\n    \t\tsetLocation (100, 100);\r\n    \t\tsetDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetVisible (true);\r\n    \t}\r\n    \r\n    \tpublic static void main (String args[])\r\n    \t{\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new Se0124 ();\r\n                }\r\n            });\r\n    \t}\r\n    }\r\n\r\nAs you can see, I have removed the trailing &lt;TABLE&gt;, which looks empty. Then I capsulated it in &lt;html&gt;&lt;/html&gt; tags. And I removed the backslashes from the slashes.\r\n\r\nThis can be done by regular expressions. Now SUP and SUB are rendered fine.\r\n\r\n","title":"Format html tag to a string java","body":"<p>If you heal the html, it will be rendered fine by many Swing components, without assistance:</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Se0124 extends JFrame\n{\n    String myString = \"&lt;html&gt;\" +\n                   \"The accuracy of a potentiometer (pH meter) is\" +\n                   \"&amp;#177;0.1 mV. A solution contains 1x10&lt;SUP&gt;-4&lt;/SUP&gt; mol/L Cl\" +\n                   \"&lt;SUP&gt;-&lt;/SUP&gt; and 1x10&lt;SUP&gt;-3&lt;/SUP&gt; mol/L Ca&lt;SUP&gt;2+&lt;/SUP&gt;.\" +\n                   \"What is the error in concentration to be expected when measuring\" +\n                   \"these ions with a chloride or a calcium ion selective electrode?\" +\n                   \"&lt;/html&gt;\";\n\n    public Se0124 ()\n    {\n        super (\"Se0124\");\n        JPanel mainpanel = new JPanel ();\n        mainpanel.setLayout (new BorderLayout ());\n        this.getContentPane ().add (mainpanel);\n\n        JLabel jl = new JLabel (myString);\n        mainpanel.add (jl, BorderLayout.CENTER);\n        setSize (400, 400);\n        setLocation (100, 100);\n        setDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);\n        setVisible (true);\n    }\n\n    public static void main (String args[])\n    {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new Se0124 ();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>As you can see, I have removed the trailing , which looks empty. Then I capsulated it in  tags. And I removed the backslashes from the slashes.</p>\n\n<p>This can be done by regular expressions. Now SUP and SUB are rendered fine.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684803165,"creation_date":1684802274,"answer_id":76310638,"question_id":42029603,"body_markdown":"You can use the `String.replaceAll` method to replace all occurrences of a specified regular expression.\r\n\r\nExample\r\n\r\n```java\r\nmyString = myString.replaceAll(&quot;&lt;\\\\s*.+?&gt;&quot;, &quot;&quot;);\r\n```\r\n\r\nOutput (I&#39;ve added new lines, to provide readablity)\r\n```none\r\nThe accuracy of a potentiometer (pH meter) is\r\n&amp;#177;0.1 mV. A solution contains 1x10-4 mol/L Cl\r\n- and 1x10-3 mol/L Ca2+.\r\nWhat is the error in concentration to be expected when measuring\r\nthese ions with a chloride or a calcium ion selective electrode?\r\n     &amp;nbsp;\r\n```\r\n\r\nIn regard to the entity value, `&amp;#177;`, this is a trivial task.\r\n\r\nYou _could_ create a method to capture the value, and parse it to it&#39;s Unicode equivalent, although not all entities use the Unicode value, sometimes it&#39;s a literal, such as &quot;amp&quot;, or &quot;lt&quot;.\r\n\r\nMany people choose to use the Apache Commons Text library, to decode entities.\r\n\r\n[StringEscapeUtils (Apache Commons Text 1.10.0 API)](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringEscapeUtils.html#unescapeHtml4-java.lang.String-)","title":"Format html tag to a string java","body":"<p>You can use the <code>String.replaceAll</code> method to replace all occurrences of a specified regular expression.</p>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>myString = myString.replaceAll(&quot;&lt;\\\\s*.+?&gt;&quot;, &quot;&quot;);\n</code></pre>\n<p>Output (I've added new lines, to provide readablity)</p>\n<pre class=\"lang-none prettyprint-override\"><code>The accuracy of a potentiometer (pH meter) is\n&amp;#177;0.1 mV. A solution contains 1x10-4 mol/L Cl\n- and 1x10-3 mol/L Ca2+.\nWhat is the error in concentration to be expected when measuring\nthese ions with a chloride or a calcium ion selective electrode?\n     &amp;nbsp;\n</code></pre>\n<p>In regard to the entity value, <code>&amp;#177;</code>, this is a trivial task.</p>\n<p>You <em>could</em> create a method to capture the value, and parse it to it's Unicode equivalent, although not all entities use the Unicode value, sometimes it's a literal, such as &quot;amp&quot;, or &quot;lt&quot;.</p>\n<p>Many people choose to use the Apache Commons Text library, to decode entities.</p>\n<p><a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringEscapeUtils.html#unescapeHtml4-java.lang.String-\" rel=\"nofollow noreferrer\">StringEscapeUtils (Apache Commons Text 1.10.0 API)</a></p>\n"}],"owner":{"account_id":10170785,"reputation":41,"user_id":7511152,"display_name":"Giovanni Scieri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2328,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1684803165,"creation_date":1486142214,"question_id":42029603,"body_markdown":"I need help\r\nI have a string like this \r\n\r\n    String myString = &quot;The accuracy of a potentiometer (pH meter) is\r\n                       &amp;#177;0.1 mV. A solution contains 1x10&lt;SUP&gt;-4&lt;\\/SUP&gt; mol\\/L Cl\r\n                       &lt;SUP&gt;-&lt;\\/SUP&gt; and 1x10&lt;SUP&gt;-3&lt;\\/SUP&gt; mol\\/L Ca&lt;SUP&gt;2+&lt;\\/SUP&gt;. \r\n                       What is the error in concentration to be expected when measuring\r\n                       these ions with a chloride or a calcium ion selective electrode? \r\n                       &lt;TABLE BORDER=0 ALIGN=CENTER&gt; &lt;TR&gt;&lt;TD&gt;    &lt;\\/TD&gt;&lt;TD&gt;&amp;nbsp;&lt;\\/TD&gt;&lt;TD&gt;\r\n                       &lt;\\/TD&gt;&lt;\\/TR&gt;&lt;\\/TABLE&gt;&quot;;\r\n\r\nI have to show this string in a listView but obviously when I print it there are these html tags. \r\n\r\nI already tried to get rid of the tags but if so I lost informations (like -4 as superscipt). \r\nI&#39;d like to know if it is possible to format the string in a proper way.\r\n\r\nThanks\r\n\r\n**UPDATE:**\r\n\r\nI have partially solved by using Html.fromHtml(String)\r\n\r\n    public String processString(String html) {\r\n        Spanned spanned;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.N) {\r\n            spanned = Html.fromHtml(html, Html.FROM_HTML_MODE_LEGACY);\r\n        } else {\r\n            spanned = Html.fromHtml(html);\r\n        }\r\n        return spanned.toString();\r\n    }\r\nNow the problem is that the &lt;IMG&gt; tag is displayed like an obj icon\r\n[![image][1]][1] \r\nand i don&#39;t know how to visualize them.\r\n\r\nIs it possible?\r\n\r\n  [1]: https://i.stack.imgur.com/itvF1.png","title":"Format html tag to a string java","body":"<p>I need help\nI have a string like this </p>\n\n<pre><code>String myString = \"The accuracy of a potentiometer (pH meter) is\n                   &amp;#177;0.1 mV. A solution contains 1x10&lt;SUP&gt;-4&lt;\\/SUP&gt; mol\\/L Cl\n                   &lt;SUP&gt;-&lt;\\/SUP&gt; and 1x10&lt;SUP&gt;-3&lt;\\/SUP&gt; mol\\/L Ca&lt;SUP&gt;2+&lt;\\/SUP&gt;. \n                   What is the error in concentration to be expected when measuring\n                   these ions with a chloride or a calcium ion selective electrode? \n                   &lt;TABLE BORDER=0 ALIGN=CENTER&gt; &lt;TR&gt;&lt;TD&gt;    &lt;\\/TD&gt;&lt;TD&gt;&amp;nbsp;&lt;\\/TD&gt;&lt;TD&gt;\n                   &lt;\\/TD&gt;&lt;\\/TR&gt;&lt;\\/TABLE&gt;\";\n</code></pre>\n\n<p>I have to show this string in a listView but obviously when I print it there are these html tags. </p>\n\n<p>I already tried to get rid of the tags but if so I lost informations (like -4 as superscipt). \nI'd like to know if it is possible to format the string in a proper way.</p>\n\n<p>Thanks</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have partially solved by using Html.fromHtml(String)</p>\n\n<pre><code>public String processString(String html) {\n    Spanned spanned;\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.N) {\n        spanned = Html.fromHtml(html, Html.FROM_HTML_MODE_LEGACY);\n    } else {\n        spanned = Html.fromHtml(html);\n    }\n    return spanned.toString();\n}\n</code></pre>\n\n<p>Now the problem is that the  tag is displayed like an obj icon\n<a href=\"https://i.stack.imgur.com/itvF1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/itvF1.png\" alt=\"image\"></a> \nand i don't know how to visualize them.</p>\n\n<p>Is it possible?</p>\n"},{"tags":["java","spring-webflux","spring-data-r2dbc","r2dbc-mysql"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672533848,"post_id":74972672,"comment_id":132303997,"body_markdown":"Put a breakpoint where the cast is attempted and see if you can figure out what is happening by looking at values up the stack.","body":"Put a breakpoint where the cast is attempted and see if you can figure out what is happening by looking at values up the stack."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1677736067,"post_id":74972672,"comment_id":133397623,"body_markdown":"Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened.","body":"Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened."}],"answers":[{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684802787,"creation_date":1672639438,"answer_id":74979387,"question_id":74972672,"body_markdown":"If you are using https://github.com/mirromutth/r2dbc-mysql 0.8.x RELEASE and the latest Spring Boot 2.7 or Spring Boot 3.0.x, I think there is a compatibility issue between the R2dbc MySQL driver you are using and R2dbc SPI managed by Spring Boot.\r\n\r\nIn the latest Spring Boot 3.0, R2dbc SPI was updated to 1.0, which introduced several incompatible APIs since 0.8(r2dbc-mysql 0.8.x RELEASE is aligned with R2dbc SPI 0.8). **I have encountered similar exceptions when upgrading to R2dbc 0.9 and 1.0 but used driver version is incompatible**.\r\n\r\n* Try to use the latest [MariaDB R2dbc Driver](https://github.com/mariadb-corporation/mariadb-connector-r2dbc) to connect your MySQL\r\n* Consider other database, eg. PostgreSQL or switch to MariaDB directly.\r\n\r\n\r\n**Update(2023-5-23)**: In the latest Spring Boot 3.x, it includes [jasycn r2dbc mysql](https://github.com/jasync-sql/jasync-sql/tree/master/r2dbc-mysql) instead of the original [r2dbc mysql driver](https://github.com/mirromutth/r2dbc-mysql) which is not active and stick on the old R2dbc SPI 0.8.","title":"java.lang.Integer cannot be cast to class java.lang.Long in R2DBC mysql model classes","body":"<p>If you are using <a href=\"https://github.com/mirromutth/r2dbc-mysql\" rel=\"nofollow noreferrer\">https://github.com/mirromutth/r2dbc-mysql</a> 0.8.x RELEASE and the latest Spring Boot 2.7 or Spring Boot 3.0.x, I think there is a compatibility issue between the R2dbc MySQL driver you are using and R2dbc SPI managed by Spring Boot.</p>\n<p>In the latest Spring Boot 3.0, R2dbc SPI was updated to 1.0, which introduced several incompatible APIs since 0.8(r2dbc-mysql 0.8.x RELEASE is aligned with R2dbc SPI 0.8). <strong>I have encountered similar exceptions when upgrading to R2dbc 0.9 and 1.0 but used driver version is incompatible</strong>.</p>\n<ul>\n<li>Try to use the latest <a href=\"https://github.com/mariadb-corporation/mariadb-connector-r2dbc\" rel=\"nofollow noreferrer\">MariaDB R2dbc Driver</a> to connect your MySQL</li>\n<li>Consider other database, eg. PostgreSQL or switch to MariaDB directly.</li>\n</ul>\n<p><strong>Update(2023-5-23)</strong>: In the latest Spring Boot 3.x, it includes <a href=\"https://github.com/jasync-sql/jasync-sql/tree/master/r2dbc-mysql\" rel=\"nofollow noreferrer\">jasycn r2dbc mysql</a> instead of the original <a href=\"https://github.com/mirromutth/r2dbc-mysql\" rel=\"nofollow noreferrer\">r2dbc mysql driver</a> which is not active and stick on the old R2dbc SPI 0.8.</p>\n"},{"tags":[],"owner":{"account_id":4285658,"reputation":1,"user_id":3503558,"display_name":"AlekseiG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675929194,"creation_date":1675929194,"answer_id":75395646,"question_id":74972672,"body_markdown":"Helped for me change dependency from \r\n\r\n    implementation(&quot;org.postgresql:r2dbc-postgresql:1.0.0.RELEASE&quot;)\r\n\r\nto\r\n\r\n    \r\n    implementation(&quot;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE&quot;)\r\n\r\nfor springboot 2.7.6\r\n\r\nThanks to Hantsy.","title":"java.lang.Integer cannot be cast to class java.lang.Long in R2DBC mysql model classes","body":"<p>Helped for me change dependency from</p>\n<pre><code>implementation(&quot;org.postgresql:r2dbc-postgresql:1.0.0.RELEASE&quot;)\n</code></pre>\n<p>to</p>\n<pre><code>implementation(&quot;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE&quot;)\n</code></pre>\n<p>for springboot 2.7.6</p>\n<p>Thanks to Hantsy.</p>\n"},{"tags":[],"owner":{"account_id":25264024,"reputation":11,"user_id":19094502,"display_name":"Anton Kotov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678987535,"creation_date":1678987535,"answer_id":75759656,"question_id":74972672,"body_markdown":"I had the same issue on delete operations with latest kotlin: 1.8.10, spring-boot: 3.0.4, r2dbc-spi: 1.0.0.RELEASE, r2dbc-postgresql: 1.0.1.RELEASE and jooq: 3.17.8.\r\n\r\nIt is interesting to note that the same code worked in coroutine style, when I converted jooq r2dbc publishers to suspend function with awaitSingle() method. But it failed in reactor mode.\r\n\r\nNevertheless the issue was resolved by updating jooq version to 3.18.0.","title":"java.lang.Integer cannot be cast to class java.lang.Long in R2DBC mysql model classes","body":"<p>I had the same issue on delete operations with latest kotlin: 1.8.10, spring-boot: 3.0.4, r2dbc-spi: 1.0.0.RELEASE, r2dbc-postgresql: 1.0.1.RELEASE and jooq: 3.17.8.</p>\n<p>It is interesting to note that the same code worked in coroutine style, when I converted jooq r2dbc publishers to suspend function with awaitSingle() method. But it failed in reactor mode.</p>\n<p>Nevertheless the issue was resolved by updating jooq version to 3.18.0.</p>\n"},{"tags":[],"owner":{"account_id":26348420,"reputation":11,"user_id":20006426,"display_name":"jchrys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681245089,"creation_date":1681108447,"answer_id":75974790,"question_id":74972672,"body_markdown":"I assume you&#39;re using a recent version of Spring Boot and Spring Framework.\r\n\r\nThe issue&#39;s root cause is using r2dbc-spi:1.0.0, which requires `getRowsUpdated()` to return a Long, but you&#39;re using dev.miku:r2dbc-mysql:0.8.2, which returns an Integer.\r\n\r\nI suggest switching to [`io.asyncer:r2dbc-mysql:1.0.0`][1] which is official successor to `dev.miku:r2dbc-mysql`. for more information see the [Deprecation NEWS][2]\r\n\r\n\r\n  [1]: https://github.com/asyncer-io/r2dbc-mysql\r\n  [2]: https://github.com/mirromutth/r2dbc-mysql/issues/251","title":"java.lang.Integer cannot be cast to class java.lang.Long in R2DBC mysql model classes","body":"<p>I assume you're using a recent version of Spring Boot and Spring Framework.</p>\n<p>The issue's root cause is using r2dbc-spi:1.0.0, which requires <code>getRowsUpdated()</code> to return a Long, but you're using dev.miku:r2dbc-mysql:0.8.2, which returns an Integer.</p>\n<p>I suggest switching to <a href=\"https://github.com/asyncer-io/r2dbc-mysql\" rel=\"nofollow noreferrer\"><code>io.asyncer:r2dbc-mysql:1.0.0</code></a> which is official successor to <code>dev.miku:r2dbc-mysql</code>. for more information see the <a href=\"https://github.com/mirromutth/r2dbc-mysql/issues/251\" rel=\"nofollow noreferrer\">Deprecation NEWS</a></p>\n"},{"tags":[],"owner":{"account_id":6146647,"reputation":121,"user_id":4792411,"display_name":"naav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684235906,"creation_date":1684235906,"answer_id":76262411,"question_id":74972672,"body_markdown":"The compatibility now seems to be documented and can be found here https://github.com/asyncer-io/r2dbc-mysql#spring-framework-and-r2dbc-spi-compatibility","title":"java.lang.Integer cannot be cast to class java.lang.Long in R2DBC mysql model classes","body":"<p>The compatibility now seems to be documented and can be found here <a href=\"https://github.com/asyncer-io/r2dbc-mysql#spring-framework-and-r2dbc-spi-compatibility\" rel=\"nofollow noreferrer\">https://github.com/asyncer-io/r2dbc-mysql#spring-framework-and-r2dbc-spi-compatibility</a></p>\n"}],"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1905,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":74979387,"answer_count":5,"score":2,"last_activity_date":1684802787,"creation_date":1672533484,"question_id":74972672,"body_markdown":"I use R2DBC MySQL driver in my Spring Webflux reactive web. And I try to execute table schema SQL script. But the script continuously cause errors. \r\n\r\nFirst, I make 3 model classes.\r\n\r\n**User.java**\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder \r\n    @Table(&quot;blog_user&quot;) \r\n    public class User {\r\n     \t \r\n     \t@Id\r\n     \t@Column(&quot;user_id&quot;)\r\n     \tprivate Long id;\r\n     \t\r\n     \t@Column\r\n     \tprivate String username;\r\n     \r\n     \t@Column\r\n     \t@JsonIgnore\r\n     \tprivate String password;\r\n     \t \r\n     \t@Column\r\n     \tprivate String fullname;\r\n     \t\r\n     \t@Column\r\n    \tprivate Integer role;\r\n    }\r\n\r\n**Post.java**\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Table\r\n    public class Post {\r\n     \r\n     \t@Id\r\n     \t@Column(&quot;post_id&quot;)\r\n     \tprivate Long id;\r\n     \t\r\n     \t@Column\r\n     \tprivate String title;\r\n      \r\n     \t@Column\r\n    \tprivate String body;\r\n    \t\t\r\n     \t@Column(&quot;created_date&quot;)\r\n     \tprivate LocalDateTime createdDate;\r\n     \t\r\n     \t@Column(&quot;user_id&quot;)\r\n     \tprivate User user;\r\n     \t\r\n     \t@Column(&quot;posts&quot;)\r\n     \tprivate Collection&lt;Tag&gt; tags;\r\n    }\r\n\r\n\r\n**Tag.java**\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Table\r\n    public class Tag {\r\n      \r\n     \t@Id\r\n     \t@Column(&quot;tag_id&quot;)\r\n     \tprivate Long id;\r\n     \t\r\n     \t@Column\r\n     \tprivate String body;\r\n     \t\r\n     \t@Column(&quot;created_date&quot;)\r\n     \tprivate LocalDateTime createdDate;\r\n     \t\r\n     \t@Column(&quot;post_id&quot;)\r\n     \tprivate Post post;\r\n     \t\t\r\n     \t@Column(&quot;user_id&quot;)\r\n     \tprivate User user;\r\n    }\r\n\r\n**schema.sql**\r\n\r\n    -- TABLE intialized.\r\n    DROP TABLE IF EXISTS tag;\r\n    DROP TABLE IF EXISTS post;\r\n    DROP TABLE IF EXISTS blog_user;\r\n    \r\n    \r\n    -- TABLE created.\r\n    CREATE TABLE IF NOT EXISTS blog_user (\r\n    \tuser_id BIGINT NOT NULL,\r\n    \tusername VARCHAR(30) NOT NULL,\r\n    \tpassword VARCHAR(255) NOT NULL,\r\n    \temail VARCHAR(255),\r\n    \tfullname VARCHAR(255),\r\n    \trole SMALLINT CHECK (role IN (0, 1)),\r\n    \r\n    \tPRIMARY KEY (user_id),\r\n    \tUNIQUE (username)\r\n    );\r\n    \r\n    CREATE TABLE IF NOT EXISTS post (\r\n    \tpost_id BIGINT NOT NULL,\r\n    \ttitle VARCHAR(30) NOT NULL,\r\n    \tbody TEXT,\r\n    \tcreated_date DATETIME(6) NOT NULL,\r\n    \tuser_id BIGINT NOT NULL,\r\n    \r\n    \tPRIMARY KEY (post_id),\r\n    \tFOREIGN KEY (user_id) REFERENCES blog_user (user_id)\r\n    );\r\n    \r\n    CREATE TABLE IF NOT EXISTS tag(\r\n    \ttag_id BIGINT NOT NULL,\r\n    \tbody VARCHAR(255),\r\n    \tcreated_date DATETIME(6) NOT NULL,\r\n    \tpost_id BIGINT NOT NULL,\r\n    \tuser_id BIGINT NOT NULL,\r\n    \r\n    \tPRIMARY KEY (tag_id),\r\n    \tFOREIGN KEY (post_id) REFERENCES post (post_id),\r\n    \tFOREIGN KEY (user_id) REFERENCES blog_user (user_id)\r\n    );\r\n\r\nBelow configuration method executes schema.sql.\r\n\r\n**reactive web initializer method** \r\n\r\n    @Bean\r\n    ConnectionFactoryInitializer initializer(ConnectionFactory connectionFactory) {\r\n    \r\n            ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\r\n            initializer.setConnectionFactory(connectionFactory);\r\n            \r\n            ResourceDatabasePopulator databasePopulator = new ResourceDatabasePopulator();\r\n            databasePopulator.addScripts(new ClassPathResource(schema.sql));\r\n            initializer.setDatabasePopulator(databasePopulator);\r\n    \r\n    \r\n            return initializer;\r\n    }\r\n\r\nHowever, initially executed schema.sql throws errors,\r\n\r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    [2m2023-01-01T09:06:30.943+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that&#39;s unknown, trying to use system default timezone\r\n    [2m2023-01-01T09:06:30.945+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that&#39;s unknown, trying to use system default timezone\r\n    [2m2023-01-01T09:06:30.947+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that&#39;s unknown, trying to use system default timezone\r\n    [2m2023-01-01T09:06:30.948+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that&#39;s unknown, trying to use system default timezone\r\n    [2m2023-01-01T09:06:30.951+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that&#39;s unknown, trying to use system default timezone\r\n    [2m2023-01-01T09:06:30.953+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that&#39;s unknown, trying to use system default timezone\r\n    [2m2023-01-01T09:06:30.955+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that&#39;s unknown, trying to use system default timezone\r\n    [2m2023-01-01T09:06:30.974+09:00[0;39m [31mERROR[0;39m [35m10464[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;initializer&#39; defined in class path resource [com/aaa/blog/wf/config/BlogWebFluxConfig.class]: Failed to execute SQL script statement #1 of class path resource [sql/spring-boot-mysql-schema.sql]: DROP TABLE IF EXISTS tag\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\r\n    \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \tat com.aaa.blog.wf.SpringBlogWebFluxMySqlApplication.main(SpringBlogWebFluxMySqlApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.1.jar:3.0.1]\r\n    Caused by: org.springframework.r2dbc.connection.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [sql/spring-boot-mysql-schema.sql]: DROP TABLE IF EXISTS tag\r\n    \tat org.springframework.r2dbc.connection.init.ScriptUtils.lambda$runStatement$9(ScriptUtils.java:571) ~[spring-r2dbc-6.0.3.jar:6.0.3]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.MonoStreamCollector$StreamCollectorSubscriber.onError(MonoStreamCollector.java:149) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.MonoStreamCollector$StreamCollectorSubscriber.onNext(MonoStreamCollector.java:126) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxFlatMap$FlatMapMain.tryEmit(FluxFlatMap.java:543) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxFlatMap$FlatMapInner.onNext(FluxFlatMap.java:984) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.NextProcessor.tryEmitValue(NextProcessor.java:358) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.NextProcessor.onNext(NextProcessor.java:298) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat dev.miku.r2dbc.mysql.MySqlResult.lambda$null$3(MySqlResult.java:114) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \tat reactor.core.publisher.LambdaSubscriber.onNext(LambdaSubscriber.java:160) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxWindowPredicate$WindowFlux.drainRegular(FluxWindowPredicate.java:670) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxWindowPredicate$WindowFlux.drain(FluxWindowPredicate.java:748) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxWindowPredicate$WindowFlux.onNext(FluxWindowPredicate.java:790) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.onNext(FluxWindowPredicate.java:241) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:193) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat dev.miku.r2dbc.mysql.util.DiscardOnCancelSubscriber.onNext(DiscardOnCancelSubscriber.java:70) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:128) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.core.publisher.EmitterProcessor.onNext(EmitterProcessor.java:309) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat dev.miku.r2dbc.mysql.client.ReactorNettyClient$ResponseSink.next(ReactorNettyClient.java:340) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \tat dev.miku.r2dbc.mysql.client.ReactorNettyClient.lambda$new$0(ReactorNettyClient.java:103) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:185) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:292) ~[reactor-netty-core-1.1.1.jar:1.1.1]\r\n    \tat reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:401) ~[reactor-netty-core-1.1.1.jar:1.1.1]\r\n    \tat reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411) ~[reactor-netty-core-1.1.1.jar:1.1.1]\r\n    \tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.1.1.jar:1.1.1]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat dev.miku.r2dbc.mysql.client.MessageDuplexCodec.handleDecoded(MessageDuplexCodec.java:187) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \tat dev.miku.r2dbc.mysql.client.MessageDuplexCodec.channelRead(MessageDuplexCodec.java:95) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1373) ~[netty-handler-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236) ~[netty-handler-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    \tSuppressed: java.lang.Exception: #block terminated with an error\r\n    \t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t\tat org.springframework.r2dbc.connection.init.ConnectionFactoryInitializer.execute(ConnectionFactoryInitializer.java:112) ~[spring-r2dbc-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.r2dbc.connection.init.ConnectionFactoryInitializer.afterPropertiesSet(ConnectionFactoryInitializer.java:97) ~[spring-r2dbc-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\r\n    \t\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]\r\n    \t\tat com.aaa.blog.wf.SpringBlogWebFluxMySqlApplication.main(SpringBlogWebFluxMySqlApplication.java:10) ~[classes/:na]\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \t\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.1.jar:3.0.1]\r\n    Caused by: java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Long (java.lang.Integer and java.lang.Long are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat java.base/java.util.stream.Collectors.lambda$summingLong$23(Collectors.java:699) ~[na:na]\r\n    \tat reactor.core.publisher.MonoStreamCollector$StreamCollectorSubscriber.onNext(MonoStreamCollector.java:117) ~[reactor-core-3.5.1.jar:3.5.1]\r\n    \t... 67 common frames omitted\r\n\r\nI think my reactive R2DBC model classes contains some errors. ClassCastException. But I have no idea what element has wrong class type. The printed error message show no code line number. I changed the id type of model class(User, Post, Tag) into Integer type, but the same errors are thrown.\r\n","title":"java.lang.Integer cannot be cast to class java.lang.Long in R2DBC mysql model classes","body":"<p>I use R2DBC MySQL driver in my Spring Webflux reactive web. And I try to execute table schema SQL script. But the script continuously cause errors.</p>\n<p>First, I make 3 model classes.</p>\n<p><strong>User.java</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder \n@Table(&quot;blog_user&quot;) \npublic class User {\n     \n    @Id\n    @Column(&quot;user_id&quot;)\n    private Long id;\n    \n    @Column\n    private String username;\n \n    @Column\n    @JsonIgnore\n    private String password;\n     \n    @Column\n    private String fullname;\n    \n    @Column\n    private Integer role;\n}\n</code></pre>\n<p><strong>Post.java</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Table\npublic class Post {\n \n    @Id\n    @Column(&quot;post_id&quot;)\n    private Long id;\n    \n    @Column\n    private String title;\n  \n    @Column\n    private String body;\n        \n    @Column(&quot;created_date&quot;)\n    private LocalDateTime createdDate;\n    \n    @Column(&quot;user_id&quot;)\n    private User user;\n    \n    @Column(&quot;posts&quot;)\n    private Collection&lt;Tag&gt; tags;\n}\n</code></pre>\n<p><strong>Tag.java</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Table\npublic class Tag {\n  \n    @Id\n    @Column(&quot;tag_id&quot;)\n    private Long id;\n    \n    @Column\n    private String body;\n    \n    @Column(&quot;created_date&quot;)\n    private LocalDateTime createdDate;\n    \n    @Column(&quot;post_id&quot;)\n    private Post post;\n        \n    @Column(&quot;user_id&quot;)\n    private User user;\n}\n</code></pre>\n<p><strong>schema.sql</strong></p>\n<pre><code>-- TABLE intialized.\nDROP TABLE IF EXISTS tag;\nDROP TABLE IF EXISTS post;\nDROP TABLE IF EXISTS blog_user;\n\n\n-- TABLE created.\nCREATE TABLE IF NOT EXISTS blog_user (\n    user_id BIGINT NOT NULL,\n    username VARCHAR(30) NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    email VARCHAR(255),\n    fullname VARCHAR(255),\n    role SMALLINT CHECK (role IN (0, 1)),\n\n    PRIMARY KEY (user_id),\n    UNIQUE (username)\n);\n\nCREATE TABLE IF NOT EXISTS post (\n    post_id BIGINT NOT NULL,\n    title VARCHAR(30) NOT NULL,\n    body TEXT,\n    created_date DATETIME(6) NOT NULL,\n    user_id BIGINT NOT NULL,\n\n    PRIMARY KEY (post_id),\n    FOREIGN KEY (user_id) REFERENCES blog_user (user_id)\n);\n\nCREATE TABLE IF NOT EXISTS tag(\n    tag_id BIGINT NOT NULL,\n    body VARCHAR(255),\n    created_date DATETIME(6) NOT NULL,\n    post_id BIGINT NOT NULL,\n    user_id BIGINT NOT NULL,\n\n    PRIMARY KEY (tag_id),\n    FOREIGN KEY (post_id) REFERENCES post (post_id),\n    FOREIGN KEY (user_id) REFERENCES blog_user (user_id)\n);\n</code></pre>\n<p>Below configuration method executes schema.sql.</p>\n<p><strong>reactive web initializer method</strong></p>\n<pre><code>@Bean\nConnectionFactoryInitializer initializer(ConnectionFactory connectionFactory) {\n\n        ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\n        initializer.setConnectionFactory(connectionFactory);\n        \n        ResourceDatabasePopulator databasePopulator = new ResourceDatabasePopulator();\n        databasePopulator.addScripts(new ClassPathResource(schema.sql));\n        initializer.setDatabasePopulator(databasePopulator);\n\n\n        return initializer;\n}\n</code></pre>\n<p>However, initially executed schema.sql throws errors,</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n[2m2023-01-01T09:06:30.943+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.945+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.947+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.948+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.951+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.953+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.955+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.974+09:00[0;39m [31mERROR[0;39m [35m10464[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'initializer' defined in class path resource [com/aaa/blog/wf/config/BlogWebFluxConfig.class]: Failed to execute SQL script statement #1 of class path resource [sql/spring-boot-mysql-schema.sql]: DROP TABLE IF EXISTS tag\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]\n    at com.aaa.blog.wf.SpringBlogWebFluxMySqlApplication.main(SpringBlogWebFluxMySqlApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.1.jar:3.0.1]\nCaused by: org.springframework.r2dbc.connection.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [sql/spring-boot-mysql-schema.sql]: DROP TABLE IF EXISTS tag\n    at org.springframework.r2dbc.connection.init.ScriptUtils.lambda$runStatement$9(ScriptUtils.java:571) ~[spring-r2dbc-6.0.3.jar:6.0.3]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.MonoStreamCollector$StreamCollectorSubscriber.onError(MonoStreamCollector.java:149) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.MonoStreamCollector$StreamCollectorSubscriber.onNext(MonoStreamCollector.java:126) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.tryEmit(FluxFlatMap.java:543) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxFlatMap$FlatMapInner.onNext(FluxFlatMap.java:984) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.NextProcessor.tryEmitValue(NextProcessor.java:358) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.NextProcessor.onNext(NextProcessor.java:298) ~[reactor-core-3.5.1.jar:3.5.1]\n    at dev.miku.r2dbc.mysql.MySqlResult.lambda$null$3(MySqlResult.java:114) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.core.publisher.LambdaSubscriber.onNext(LambdaSubscriber.java:160) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxWindowPredicate$WindowFlux.drainRegular(FluxWindowPredicate.java:670) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxWindowPredicate$WindowFlux.drain(FluxWindowPredicate.java:748) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxWindowPredicate$WindowFlux.onNext(FluxWindowPredicate.java:790) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.onNext(FluxWindowPredicate.java:241) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:193) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.5.1.jar:3.5.1]\n    at dev.miku.r2dbc.mysql.util.DiscardOnCancelSubscriber.onNext(DiscardOnCancelSubscriber.java:70) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:128) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.EmitterProcessor.onNext(EmitterProcessor.java:309) ~[reactor-core-3.5.1.jar:3.5.1]\n    at dev.miku.r2dbc.mysql.client.ReactorNettyClient$ResponseSink.next(ReactorNettyClient.java:340) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at dev.miku.r2dbc.mysql.client.ReactorNettyClient.lambda$new$0(ReactorNettyClient.java:103) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:185) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:292) ~[reactor-netty-core-1.1.1.jar:1.1.1]\n    at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:401) ~[reactor-netty-core-1.1.1.jar:1.1.1]\n    at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411) ~[reactor-netty-core-1.1.1.jar:1.1.1]\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.1.1.jar:1.1.1]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.handleDecoded(MessageDuplexCodec.java:187) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.channelRead(MessageDuplexCodec.java:95) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1373) ~[netty-handler-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236) ~[netty-handler-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.1.jar:3.5.1]\n        at org.springframework.r2dbc.connection.init.ConnectionFactoryInitializer.execute(ConnectionFactoryInitializer.java:112) ~[spring-r2dbc-6.0.3.jar:6.0.3]\n        at org.springframework.r2dbc.connection.init.ConnectionFactoryInitializer.afterPropertiesSet(ConnectionFactoryInitializer.java:97) ~[spring-r2dbc-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\n        at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.1.jar:3.0.1]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar:3.0.1]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar:3.0.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar:3.0.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]\n        at com.aaa.blog.wf.SpringBlogWebFluxMySqlApplication.main(SpringBlogWebFluxMySqlApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.1.jar:3.0.1]\nCaused by: java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Long (java.lang.Integer and java.lang.Long are in module java.base of loader 'bootstrap')\n    at java.base/java.util.stream.Collectors.lambda$summingLong$23(Collectors.java:699) ~[na:na]\n    at reactor.core.publisher.MonoStreamCollector$StreamCollectorSubscriber.onNext(MonoStreamCollector.java:117) ~[reactor-core-3.5.1.jar:3.5.1]\n    ... 67 common frames omitted\n</code></pre>\n<p>I think my reactive R2DBC model classes contains some errors. ClassCastException. But I have no idea what element has wrong class type. The printed error message show no code line number. I changed the id type of model class(User, Post, Tag) into Integer type, but the same errors are thrown.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":1686851,"reputation":7640,"user_id":1549950,"accept_rate":69,"display_name":"Michael Lihs"},"score":1,"creation_date":1538768303,"post_id":52672230,"comment_id":92274350,"body_markdown":"Maybe you are missing a `:` in the jdbc string - try `jdbc:mysql://localhost:3306/java`","body":"Maybe you are missing a <code>:</code> in the jdbc string - try <code>jdbc:mysql:&#47;&#47;localhost:3306&#47;java</code>"},{"owner":{"display_name":"user10036786"},"score":0,"creation_date":1538768519,"post_id":52672230,"comment_id":92274452,"body_markdown":"OMG you&#39;re right! Thanks a lot man","body":"OMG you&#39;re right! Thanks a lot man"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1538768800,"creation_date":1538768800,"answer_id":52672396,"question_id":52672230,"body_markdown":"Your JDBC URL should follow `jdbc:mysql://localhost/test` format as per [\r\n7.1 Connecting to MySQL Using the JDBC DriverManager Interface][1] docs.\r\n\r\nYou are missing a semicolon after `mysql` part, it should be\r\n\r\n    private static final String CONN_STRING = &quot;jdbc:mysql://localhost:3306/java&quot;;\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-connect-drivermanager.html","title":"java.sql.SQLException: No suitable driver found for jdbc:mysql//127.0.0.1:3306/java Error - JDK 1.8, mysql-connector 8.0.12","body":"<p>Your JDBC URL should follow <code>jdbc:mysql://localhost/test</code> format as per <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-connect-drivermanager.html\" rel=\"nofollow noreferrer\">\n7.1 Connecting to MySQL Using the JDBC DriverManager Interface</a> docs.</p>\n\n<p>You are missing a semicolon after <code>mysql</code> part, it should be</p>\n\n<pre><code>private static final String CONN_STRING = \"jdbc:mysql://localhost:3306/java\";\n</code></pre>\n"}],"owner":{"display_name":"user10036786"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683817226,"accepted_answer_id":52672396,"answer_count":1,"score":0,"last_activity_date":1684802764,"creation_date":1538767975,"question_id":52672230,"body_markdown":"I tried searching for a solution but the questions on this website just weren&#39;t the answer I&#39;m looking for.\r\n\r\nI tried running:\r\n\r\n    private static final String USERNAME= &quot;root&quot;;\r\n    private static final String PASSWORD= &quot;root&quot;;\r\n    private static final String CONN_STRING= &quot;jdbc:mysql//localhost:3306/java&quot;;\r\n\r\n    conn Connection = null;\r\n    \r\n    try{\r\n        conn = DriverManager.getConnection(CONN_STRING, USERNAME, PASSWORD);\r\n        System.out.println(&quot;Connected&quot;);\r\n    } catch (SQLException e){\r\n        System.err.println(e);\r\n    }\r\n\r\nI&#39;ve got the 8.0.12 version of both server and connector.","title":"java.sql.SQLException: No suitable driver found for jdbc:mysql//127.0.0.1:3306/java Error - JDK 1.8, mysql-connector 8.0.12","body":"<p>I tried searching for a solution but the questions on this website just weren't the answer I'm looking for.</p>\n<p>I tried running:</p>\n<pre><code>private static final String USERNAME= &quot;root&quot;;\nprivate static final String PASSWORD= &quot;root&quot;;\nprivate static final String CONN_STRING= &quot;jdbc:mysql//localhost:3306/java&quot;;\n\nconn Connection = null;\n\ntry{\n    conn = DriverManager.getConnection(CONN_STRING, USERNAME, PASSWORD);\n    System.out.println(&quot;Connected&quot;);\n} catch (SQLException e){\n    System.err.println(e);\n}\n</code></pre>\n<p>I've got the 8.0.12 version of both server and connector.</p>\n"},{"tags":["java","list","linked-list"],"comments":[{"owner":{"account_id":5368387,"reputation":442,"user_id":4277582,"accept_rate":38,"display_name":"Ayoub Abid"},"score":0,"creation_date":1548573830,"post_id":54385888,"comment_id":95584224,"body_markdown":"It &#39;s not clear what you are trying to compare. What ist &quot;front&quot; ?","body":"It &#39;s not clear what you are trying to compare. What ist &quot;front&quot; ?"},{"owner":{"account_id":14235514,"reputation":21,"user_id":10283421,"display_name":"Zhong Zhiwei"},"score":0,"creation_date":1548575062,"post_id":54385888,"comment_id":95584425,"body_markdown":"&quot;front&quot; is a head name which lead my LinkedList, and I need to compare the int value in two LinkedList","body":"&quot;front&quot; is a head name which lead my LinkedList, and I need to compare the int value in two LinkedList"},{"owner":{"account_id":2045726,"reputation":1580,"user_id":1825844,"display_name":"gvmani"},"score":0,"creation_date":1548575388,"post_id":54385888,"comment_id":95584476,"body_markdown":"`while(prev.next.next != null &amp;&amp; current.next.next != null)` will throw exception if either of `prev.next` or `current.next` is null.","body":"<code>while(prev.next.next != null &amp;&amp; current.next.next != null)</code> will throw exception if either of <code>prev.next</code> or <code>current.next</code> is null."},{"owner":{"account_id":14235514,"reputation":21,"user_id":10283421,"display_name":"Zhong Zhiwei"},"score":0,"creation_date":1548575740,"post_id":54385888,"comment_id":95584547,"body_markdown":"Thanks for mentioning this, and I changed this. But the solution is still not working, I think there must be some problems in my solution.","body":"Thanks for mentioning this, and I changed this. But the solution is still not working, I think there must be some problems in my solution."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1548576647,"post_id":54385888,"comment_id":95584735,"body_markdown":"The question is about &quot;lists of integers&quot;, not linked list, isn&#39;t it ?","body":"The question is about &quot;lists of integers&quot;, not linked list, isn&#39;t it ?"},{"owner":{"account_id":4062291,"reputation":2366,"user_id":3338483,"display_name":"Toris"},"score":0,"creation_date":1548576757,"post_id":54385888,"comment_id":95584765,"body_markdown":"It seems that next is a reference, so `front.next = other.front.next;` (at this point `temp` also be set `other.front.next`) and other lines seems to try to point same objects like that.","body":"It seems that next is a reference, so <code>front.next = other.front.next;</code> (at this point <code>temp</code> also be set <code>other.front.next</code>) and other lines seems to try to point same objects like that."},{"owner":{"account_id":2045726,"reputation":1580,"user_id":1825844,"display_name":"gvmani"},"score":0,"creation_date":1548577215,"post_id":54385888,"comment_id":95584831,"body_markdown":"instead of `temp = temp.next;\n                current.next.next =prev.next.next;\n                prev.next.next = temp;`  do `curr = prev.next; prev = temp;`","body":"instead of <code>temp = temp.next;                 current.next.next =prev.next.next;                 prev.next.next = temp;</code>  do <code>curr = prev.next; prev = temp;</code>"},{"owner":{"account_id":14235514,"reputation":21,"user_id":10283421,"display_name":"Zhong Zhiwei"},"score":0,"creation_date":1548577463,"post_id":54385888,"comment_id":95584875,"body_markdown":"ummm I tried to edit my code as you told, but it&#39;s still not working","body":"ummm I tried to edit my code as you told, but it&#39;s still not working"}],"answers":[{"tags":[],"owner":{"account_id":25155312,"reputation":19,"user_id":21552621,"display_name":"Elena"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684802572,"creation_date":1684802572,"answer_id":76310654,"question_id":54385888,"body_markdown":"If i understood correct, heres an idea:\r\n\r\n\r\nThere are a few issues in your code that need to be addressed:\r\n\r\n 1. Comparison of values: The condition if(front.data &gt; other.front.data) compares the values of the nodes in the first list with the values of the nodes in the second list. However, your task states that you need to ensure the first list has smaller values in corresponding positions. In other words, you should compare values at the same positions in both lists. To fix this, you need to modify the comparison logic.\r\n\r\n 2. Swapping nodes: In the code segment front = other.front; and other.front = prev;, you are swapping the entire nodes instead of just their values. This can lead to incorrect results and a broken linked list structure. Instead, you should swap the values of the nodes.\r\n\r\n 3. Loop conditions: The conditions prev.next.next != null and current.next.next != null in the while loop check for the next two nodes, which can cause issues if one of the lists is shorter than the other. You should change the conditions to prev.next != null and current.next != null to ensure the loop terminates correctly.\r\n\r\n 4. Incorrect node connections: In the inner loop, you are incorrectly reconnecting the nodes after swapping their values. The lines temp = temp.next;, current.next.next = prev.next.next;, and prev.next.next = temp; are unnecessary and can lead to incorrect connections.\r\n\r\n   Try to use this:\r\n\r\n    enter code here\r\n    public void takeSmallerFrom(LinkedIntList other) {\r\n    if (front != null &amp;&amp; other.front != null) {\r\n        ListNode prev = null;\r\n        ListNode current = other.front;\r\n\r\n        while (front != null &amp;&amp; current != null) {\r\n            if (front.data &gt; current.data) {\r\n                int temp = front.data;\r\n                front.data = current.data;\r\n                current.data = temp;\r\n            }\r\n\r\n            prev = front;\r\n            front = front.next;\r\n            current = current.next;\r\n        }\r\n\r\n        if (current != null) {\r\n            prev.next = current;\r\n        }\r\n    }\r\n}\r\n\r\nIn this code, we iterate through both lists simultaneously, comparing values and swapping them when necessary. After the loop, if the second list is longer, we append the remaining nodes of the second list to the end of the first list.\r\n\r\n\r\n","title":"Something about LinkedList","body":"<p>If i understood correct, heres an idea:</p>\n<p>There are a few issues in your code that need to be addressed:</p>\n<ol>\n<li><p>Comparison of values: The condition if(front.data &gt; other.front.data) compares the values of the nodes in the first list with the values of the nodes in the second list. However, your task states that you need to ensure the first list has smaller values in corresponding positions. In other words, you should compare values at the same positions in both lists. To fix this, you need to modify the comparison logic.</p>\n</li>\n<li><p>Swapping nodes: In the code segment front = other.front; and other.front = prev;, you are swapping the entire nodes instead of just their values. This can lead to incorrect results and a broken linked list structure. Instead, you should swap the values of the nodes.</p>\n</li>\n<li><p>Loop conditions: The conditions prev.next.next != null and current.next.next != null in the while loop check for the next two nodes, which can cause issues if one of the lists is shorter than the other. You should change the conditions to prev.next != null and current.next != null to ensure the loop terminates correctly.</p>\n</li>\n<li><p>Incorrect node connections: In the inner loop, you are incorrectly reconnecting the nodes after swapping their values. The lines temp = temp.next;, current.next.next = prev.next.next;, and prev.next.next = temp; are unnecessary and can lead to incorrect connections.</p>\n</li>\n</ol>\n<p>Try to use this:</p>\n<pre><code>enter code here\npublic void takeSmallerFrom(LinkedIntList other) {\nif (front != null &amp;&amp; other.front != null) {\n    ListNode prev = null;\n    ListNode current = other.front;\n\n    while (front != null &amp;&amp; current != null) {\n        if (front.data &gt; current.data) {\n            int temp = front.data;\n            front.data = current.data;\n            current.data = temp;\n        }\n\n        prev = front;\n        front = front.next;\n        current = current.next;\n    }\n\n    if (current != null) {\n        prev.next = current;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>In this code, we iterate through both lists simultaneously, comparing values and swapping them when necessary. After the loop, if the second list is longer, we append the remaining nodes of the second list to the end of the first list.</p>\n"}],"owner":{"account_id":14235514,"reputation":21,"user_id":10283421,"display_name":"Zhong Zhiwei"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684802572,"creation_date":1548573181,"question_id":54385888,"body_markdown":"I am very new in Java and met some trouble when learning LinkedList.\n\nI am stuck at this problem: \nWrite a method takeSmallerFrom that compares two lists of integers, making sure that the first list has smaller values in corresponding positions. Either one of lists can be longer than another.\n\nAnd my attempting solution is below:\n\n    public void takeSmallerFrom(LinkedIntList other) {\n    if(front != null &amp;&amp; other.front != null) {\n        ListNode temp = front.next;\n        ListNode prev = front;\n        if(front.next != null &amp;&amp; other.front != null) {\n            if(front.data &gt; other.front.data) {\n                front.next = other.front.next;\n                other.front.next = temp;\n                front = other.front;\n                other.front = prev;\n            }\n            ListNode current = other.front;\n            while(prev.next.next != null &amp;&amp; current.next.next != null) {\n                if(prev.next.data &gt; current.next.data) {\n                    temp = prev.next;\n                    prev.next = current.next;\n                    current.next = temp;\n                    temp = temp.next;\n                    current.next.next =prev.next.next;\n                    prev.next.next = temp; \n                } \n                prev = prev.next;\n                current = current.next;\n            }\n        }\n    }\nThe result shows that my solution failed after the first ListNode, but I can&#39;t find the reason why the rest of them failed. I am really stuck at this, if anyone here can help me, thank you!\n\n## Sorry I didn&#39;t clarify: &quot;front&quot; means the head which leads my LinkedList\nThe whole solution is for a special LinkedList which only stores int, so I need to compare the each int value in these LinkedLists respectively","title":"Something about LinkedList","body":"<p>I am very new in Java and met some trouble when learning LinkedList.</p>\n<p>I am stuck at this problem:\nWrite a method takeSmallerFrom that compares two lists of integers, making sure that the first list has smaller values in corresponding positions. Either one of lists can be longer than another.</p>\n<p>And my attempting solution is below:</p>\n<pre><code>public void takeSmallerFrom(LinkedIntList other) {\nif(front != null &amp;&amp; other.front != null) {\n    ListNode temp = front.next;\n    ListNode prev = front;\n    if(front.next != null &amp;&amp; other.front != null) {\n        if(front.data &gt; other.front.data) {\n            front.next = other.front.next;\n            other.front.next = temp;\n            front = other.front;\n            other.front = prev;\n        }\n        ListNode current = other.front;\n        while(prev.next.next != null &amp;&amp; current.next.next != null) {\n            if(prev.next.data &gt; current.next.data) {\n                temp = prev.next;\n                prev.next = current.next;\n                current.next = temp;\n                temp = temp.next;\n                current.next.next =prev.next.next;\n                prev.next.next = temp; \n            } \n            prev = prev.next;\n            current = current.next;\n        }\n    }\n}\n</code></pre>\n<p>The result shows that my solution failed after the first ListNode, but I can't find the reason why the rest of them failed. I am really stuck at this, if anyone here can help me, thank you!</p>\n<h2>Sorry I didn't clarify: &quot;front&quot; means the head which leads my LinkedList</h2>\n<p>The whole solution is for a special LinkedList which only stores int, so I need to compare the each int value in these LinkedLists respectively</p>\n"},{"tags":["java","arrays","generics","kotlin","reification"],"answers":[{"tags":[],"owner":{"account_id":4633949,"reputation":8005,"user_id":3755692,"accept_rate":62,"display_name":"msrd0"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1668866485,"creation_date":1508647108,"answer_id":46870546,"question_id":46869353,"body_markdown":"Looking at the declaration of `emptyArray()` in the kotlin stdlib (jvm), we notice the `reified` type parameter:\r\n\r\n    public inline fun &lt;reified @PureReifiable T&gt; emptyArray(): Array&lt;T&gt;\r\n\r\nThe `reified` type parameter means that you have access to the class of `T` at compile-time and can access it like `T::class`. You can read more about `reified` type parameters in the [Kotlin reference](https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters). Since `Array&lt;T&gt;` compiles to java `T[]`, we need to know the type at compile-time, hence the `reified` parameter. If you try writing an emptyArray() function without the `reified` keyword, you&#39;ll get a compiler error:\r\n\r\n    fun &lt;T&gt; emptyArray() : Array&lt;T&gt; = Array(0, { throw Exception() })\r\n\r\n&gt; Cannot use T as a reified type parameter. Use a class instead.\r\n\r\n&lt;hr/&gt;\r\n\r\nNow, let&#39;s take a look at the implementation of `emptyList()`:\r\n\r\n    public fun &lt;T&gt; emptyList(): List&lt;T&gt; = EmptyList\r\n\r\nThis implementation doesn&#39;t need the parameter `T` at all. It just returns the internal object `EmptyList`, which itself inherits from `List&lt;Nothing&gt;`. The kotlin type `Nothing` is the return-type of the `throw` keyword and is _a value that never exists_ ([reference](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-nothing.html)). If a method returns `Nothing`, is is equivalent to throwing an exception at that place. So we can safely use `Nothing` here because everytime we would call `EmptyList.get()` the compiler knows that this will return an exception.\r\n\r\n&lt;hr/&gt;\r\n\r\n**Bonus question:**\r\n\r\nComing from Java and C++, I am used to `ArrayList` or `std::vector` to be far easier to use that arrays. I use kotlin now for a few month and I usually don&#39;t see a big difference between arrays and lists when writing source code. Both have tons of useful extension functions which behave in a similar way. However, the Kotlin compiler handles arrays and lists very different, as Java interoperability is very important for the Kotlin team. I usually prefer using lists, and that&#39;s what I&#39;d recommend in your case too.","title":"Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not","body":"<p>Looking at the declaration of <code>emptyArray()</code> in the kotlin stdlib (jvm), we notice the <code>reified</code> type parameter:</p>\n<pre><code>public inline fun &lt;reified @PureReifiable T&gt; emptyArray(): Array&lt;T&gt;\n</code></pre>\n<p>The <code>reified</code> type parameter means that you have access to the class of <code>T</code> at compile-time and can access it like <code>T::class</code>. You can read more about <code>reified</code> type parameters in the <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"noreferrer\">Kotlin reference</a>. Since <code>Array&lt;T&gt;</code> compiles to java <code>T[]</code>, we need to know the type at compile-time, hence the <code>reified</code> parameter. If you try writing an emptyArray() function without the <code>reified</code> keyword, you'll get a compiler error:</p>\n<pre><code>fun &lt;T&gt; emptyArray() : Array&lt;T&gt; = Array(0, { throw Exception() })\n</code></pre>\n<blockquote>\n<p>Cannot use T as a reified type parameter. Use a class instead.</p>\n</blockquote>\n<hr/>\n<p>Now, let's take a look at the implementation of <code>emptyList()</code>:</p>\n<pre><code>public fun &lt;T&gt; emptyList(): List&lt;T&gt; = EmptyList\n</code></pre>\n<p>This implementation doesn't need the parameter <code>T</code> at all. It just returns the internal object <code>EmptyList</code>, which itself inherits from <code>List&lt;Nothing&gt;</code>. The kotlin type <code>Nothing</code> is the return-type of the <code>throw</code> keyword and is <em>a value that never exists</em> (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-nothing.html\" rel=\"noreferrer\">reference</a>). If a method returns <code>Nothing</code>, is is equivalent to throwing an exception at that place. So we can safely use <code>Nothing</code> here because everytime we would call <code>EmptyList.get()</code> the compiler knows that this will return an exception.</p>\n<hr/>\n<p><strong>Bonus question:</strong></p>\n<p>Coming from Java and C++, I am used to <code>ArrayList</code> or <code>std::vector</code> to be far easier to use that arrays. I use kotlin now for a few month and I usually don't see a big difference between arrays and lists when writing source code. Both have tons of useful extension functions which behave in a similar way. However, the Kotlin compiler handles arrays and lists very different, as Java interoperability is very important for the Kotlin team. I usually prefer using lists, and that's what I'd recommend in your case too.</p>\n"},{"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1588343355,"creation_date":1508677156,"answer_id":46874354,"question_id":46869353,"body_markdown":"The problem is that the generic type of an `Array` must be known at *compile time*, which is indicated by the `reified` type parameter here, as seen in the declaration:\r\n\r\n    public inline fun &lt;reified @PureReifiable T&gt; emptyArray(): Array&lt;T&gt;\r\n\r\nIt&#39;s only possible to create concrete arrays like `Array&lt;String&gt;` or `Array&lt;Int&gt;` but not of type `Array&lt;T&gt;`.\r\n\r\nIn this [answer][1], you can find several workarounds.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41946516/8073652","title":"Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not","body":"<p>The problem is that the generic type of an <code>Array</code> must be known at <em>compile time</em>, which is indicated by the <code>reified</code> type parameter here, as seen in the declaration:</p>\n\n<pre><code>public inline fun &lt;reified @PureReifiable T&gt; emptyArray(): Array&lt;T&gt;\n</code></pre>\n\n<p>It's only possible to create concrete arrays like <code>Array&lt;String&gt;</code> or <code>Array&lt;Int&gt;</code> but not of type <code>Array&lt;T&gt;</code>.</p>\n\n<p>In this <a href=\"https://stackoverflow.com/a/41946516/8073652\">answer</a>, you can find several workarounds.</p>\n"},{"tags":[],"owner":{"account_id":361497,"reputation":2155,"user_id":704132,"accept_rate":81,"display_name":"Riki137"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1526114434,"creation_date":1526114434,"answer_id":50304366,"question_id":46869353,"body_markdown":"The workaround that worked best for me was:\r\n\r\n    @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n    var pool: Array&lt;T?&gt; = arrayOfNulls&lt;Any?&gt;(initialCapacity) as Array&lt;T?&gt;\r\n\r\n","title":"Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not","body":"<p>The workaround that worked best for me was:</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nvar pool: Array&lt;T?&gt; = arrayOfNulls&lt;Any?&gt;(initialCapacity) as Array&lt;T?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1598975584,"creation_date":1585239318,"answer_id":60871541,"question_id":46869353,"body_markdown":"I got `Type parameter T cannot be called as function` when tried to return T.\r\n\r\n    private fun &lt;T&gt; getData(): T {\r\n        return T()\r\n    }\r\n\r\nSee https://stackoverflow.com/questions/26992039/what-is-the-proper-way-to-create-new-instance-of-generic-class-in-kotlin:\r\n\r\n    private fun &lt;T&gt; create(\r\n        method: (Int) -&gt; T,\r\n        value: Int\r\n    ): T {\r\n        return method(value) // Creates T(value).\r\n    }\r\n\r\n    // Usage:\r\n\r\n    create(::ClassName, 1)\r\n\r\nwhere `ClassName` extends `T`.\r\n\r\nAlso maybe this will help:\r\n\r\n    private inline fun &lt;reified T&gt; getData(): T {\r\n        return T::class.java.newInstance()\r\n    }\r\n\r\nBut in my case I had to return `T(parameter)`, not `T()`, so, didn&#39;t try. See also https://stackoverflow.com/questions/52446900/how-to-get-class-of-generic-type-parameter-in-kotlin.","title":"Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not","body":"<p>I got <code>Type parameter T cannot be called as function</code> when tried to return T.</p>\n<pre><code>private fun &lt;T&gt; getData(): T {\n    return T()\n}\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/26992039/what-is-the-proper-way-to-create-new-instance-of-generic-class-in-kotlin\">What is the proper way to create new instance of generic class in kotlin?</a>:</p>\n<pre><code>private fun &lt;T&gt; create(\n    method: (Int) -&gt; T,\n    value: Int\n): T {\n    return method(value) // Creates T(value).\n}\n\n// Usage:\n\ncreate(::ClassName, 1)\n</code></pre>\n<p>where <code>ClassName</code> extends <code>T</code>.</p>\n<p>Also maybe this will help:</p>\n<pre><code>private inline fun &lt;reified T&gt; getData(): T {\n    return T::class.java.newInstance()\n}\n</code></pre>\n<p>But in my case I had to return <code>T(parameter)</code>, not <code>T()</code>, so, didn't try. See also <a href=\"https://stackoverflow.com/questions/52446900/how-to-get-class-of-generic-type-parameter-in-kotlin\">How to get class of generic type parameter in Kotlin</a>.</p>\n"},{"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1634842257,"creation_date":1634841922,"answer_id":69667249,"question_id":46869353,"body_markdown":"I had some trouble in the solution above. Here is what I came up with using [`typeOf`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/type-of.html) from [kotlin-reflect](https://kotlinlang.org/docs/reflection.html):\r\n\r\n```kotlin\r\n@Suppress(&quot;UNCHECKED_CAST&quot;)\r\nprivate inline fun &lt;reified T&gt; createArrayOfGeneric(): Array&lt;T&gt; {\r\n    return java.lang.reflect.Array.newInstance(typeOf&lt;T&gt;().javaType as Class&lt;*&gt;, 10) as Array&lt;T&gt;\r\n}\r\n```\r\n\r\nThe `newInstance` method takes the java type as class of the generic that you get from `typeOf`, and the second parameter is the length of the array. ","title":"Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not","body":"<p>I had some trouble in the solution above. Here is what I came up with using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/type-of.html\" rel=\"nofollow noreferrer\"><code>typeOf</code></a> from <a href=\"https://kotlinlang.org/docs/reflection.html\" rel=\"nofollow noreferrer\">kotlin-reflect</a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Suppress(&quot;UNCHECKED_CAST&quot;)\nprivate inline fun &lt;reified T&gt; createArrayOfGeneric(): Array&lt;T&gt; {\n    return java.lang.reflect.Array.newInstance(typeOf&lt;T&gt;().javaType as Class&lt;*&gt;, 10) as Array&lt;T&gt;\n}\n</code></pre>\n<p>The <code>newInstance</code> method takes the java type as class of the generic that you get from <code>typeOf</code>, and the second parameter is the length of the array.</p>\n"},{"tags":[],"owner":{"account_id":302395,"reputation":1357,"user_id":1146712,"display_name":"Sherwin Zadeh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684801613,"creation_date":1684801613,"answer_id":76310617,"question_id":46869353,"body_markdown":"I changed it from `Array&lt;T&gt;` to `ArrayList&lt;T&gt;` and it worked.","title":"Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not","body":"<p>I changed it from <code>Array&lt;T&gt;</code> to <code>ArrayList&lt;T&gt;</code> and it worked.</p>\n"}],"owner":{"account_id":5372553,"reputation":3631,"user_id":4280615,"accept_rate":73,"display_name":"Nate Vaughan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55999,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"accepted_answer_id":46870546,"answer_count":6,"score":68,"last_activity_date":1684801613,"creation_date":1508631619,"question_id":46869353,"body_markdown":"I have an interface that contains an array (or list) of T and some metadata.\r\n\r\n    interface DataWithMetadata&lt;T&gt; {\r\n        val someMetadata: Int\r\n        fun getData(): Array&lt;T&gt;\r\n    }\r\n\r\nIf I write the simplest implementation of the interface, I get a compile error on the `emptyArray()`: &quot;Cannot use T as a reified type parameter. Use a class instead.&quot;\r\n\r\n    class ArrayWithMetadata&lt;T&gt;(override val someMetadata: Int): DataWithMetadata&lt;T&gt; {\r\n        private var myData: Array&lt;T&gt; = emptyArray()\r\n        \r\n        override fun getData(): Array&lt;T&gt; {\r\n            return myData\r\n        }\r\n        \r\n        fun addData(moreData: Array&lt;T&gt;) {\r\n            this.myData += moreData\r\n        }\r\n    }\r\n\r\nHowever, if I change both the interface and the implementation to a list, I have no compile-time issues:\r\n\r\n    interface DataWithMetadata&lt;T&gt; {\r\n        val someMetadata: Int\r\n        fun getData(): List&lt;T&gt;\r\n    }\r\n    \r\n    class ListWithMetadata&lt;T&gt;(override val someMetadata: Int): DataWithMetadata&lt;T&gt; {\r\n        private var myData: List&lt;T&gt; = emptyList()\r\n    \r\n        override fun getData(): List&lt;T&gt; {\r\n            return myData\r\n        }\r\n    \r\n        fun addData(moreData: Array&lt;T&gt;) {\r\n            this.myData += moreData\r\n        }\r\n    }\r\n\r\nI suspect there is some interesting lesson in Kotlin generics inside my issue. Can anyone tell me what the compiler is doing under the hood and why Array&lt;T&gt; fails but List&lt;T&gt; does not? Is there an idiomatic way to make the Array&lt;T&gt; implementation compile in this context?\r\n\r\nBonus question: The only reason I reached for Array&lt;T&gt; over List&lt;T&gt; is that I often see Kotlin developers favor Arrays. Is this the case, and if so, why?","title":"Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not","body":"<p>I have an interface that contains an array (or list) of T and some metadata.</p>\n\n<pre><code>interface DataWithMetadata&lt;T&gt; {\n    val someMetadata: Int\n    fun getData(): Array&lt;T&gt;\n}\n</code></pre>\n\n<p>If I write the simplest implementation of the interface, I get a compile error on the <code>emptyArray()</code>: \"Cannot use T as a reified type parameter. Use a class instead.\"</p>\n\n<pre><code>class ArrayWithMetadata&lt;T&gt;(override val someMetadata: Int): DataWithMetadata&lt;T&gt; {\n    private var myData: Array&lt;T&gt; = emptyArray()\n\n    override fun getData(): Array&lt;T&gt; {\n        return myData\n    }\n\n    fun addData(moreData: Array&lt;T&gt;) {\n        this.myData += moreData\n    }\n}\n</code></pre>\n\n<p>However, if I change both the interface and the implementation to a list, I have no compile-time issues:</p>\n\n<pre><code>interface DataWithMetadata&lt;T&gt; {\n    val someMetadata: Int\n    fun getData(): List&lt;T&gt;\n}\n\nclass ListWithMetadata&lt;T&gt;(override val someMetadata: Int): DataWithMetadata&lt;T&gt; {\n    private var myData: List&lt;T&gt; = emptyList()\n\n    override fun getData(): List&lt;T&gt; {\n        return myData\n    }\n\n    fun addData(moreData: Array&lt;T&gt;) {\n        this.myData += moreData\n    }\n}\n</code></pre>\n\n<p>I suspect there is some interesting lesson in Kotlin generics inside my issue. Can anyone tell me what the compiler is doing under the hood and why Array fails but List does not? Is there an idiomatic way to make the Array implementation compile in this context?</p>\n\n<p>Bonus question: The only reason I reached for Array over List is that I often see Kotlin developers favor Arrays. Is this the case, and if so, why?</p>\n"},{"tags":["java","arrays","string","parsing","jtree"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684801420,"creation_date":1684801420,"answer_id":76310606,"question_id":50209160,"body_markdown":"You can use a for-loop to iterate each collection, and add each value to a new list of values.\r\n\r\n```java\r\n@SafeVarargs\r\nList&lt;List&lt;String&gt;&gt; parse(Collection&lt;String&gt;... collections) {\r\n    List&lt;List&lt;String&gt;&gt; strings = new ArrayList&lt;&gt;();\r\n    for (Collection&lt;String&gt; collection : collections)\r\n        strings.add(new ArrayList&lt;&gt;(collection));\r\n    return strings;\r\n}\r\n```\r\n\r\nExample\r\n\r\n```java\r\nSet&lt;String&gt; hash1 = new HashSet&lt;&gt;(Set.of(&quot;abc&quot;, &quot;def&quot;));\r\nSet&lt;String&gt; hash2 = new HashSet&lt;&gt;(Set.of(&quot;ghi&quot;, &quot;jkl&quot;, &quot;mno&quot;));\r\nList&lt;String&gt; list1 = new ArrayList&lt;&gt;(List.of(&quot;pqr&quot;));\r\nSystem.out.println(parse(hash1, hash2, list1));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[[abc, def], [ghi, jkl, mno], [pqr]]\r\n```","title":"JTree to String with hashs and arrays","body":"<p>You can use a for-loop to iterate each collection, and add each value to a new list of values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SafeVarargs\nList&lt;List&lt;String&gt;&gt; parse(Collection&lt;String&gt;... collections) {\n    List&lt;List&lt;String&gt;&gt; strings = new ArrayList&lt;&gt;();\n    for (Collection&lt;String&gt; collection : collections)\n        strings.add(new ArrayList&lt;&gt;(collection));\n    return strings;\n}\n</code></pre>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; hash1 = new HashSet&lt;&gt;(Set.of(&quot;abc&quot;, &quot;def&quot;));\nSet&lt;String&gt; hash2 = new HashSet&lt;&gt;(Set.of(&quot;ghi&quot;, &quot;jkl&quot;, &quot;mno&quot;));\nList&lt;String&gt; list1 = new ArrayList&lt;&gt;(List.of(&quot;pqr&quot;));\nSystem.out.println(parse(hash1, hash2, list1));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[[abc, def], [ghi, jkl, mno], [pqr]]\n</code></pre>\n"}],"owner":{"account_id":13375569,"reputation":51,"user_id":9652533,"display_name":"Luis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1684801420,"creation_date":1525678345,"question_id":50209160,"body_markdown":"I have a Jtree from a Hash&lt;String, Object&gt; where the object can be another hash or an array.\r\nNow i need to take this JTree and convert it to String but i cant difference an array from a hash, how can I difference it?\r\nExists something like a tag in DefaultTreeNode with i could difference the nodes when i insert them on the JTree?\r\n\r\nFor example: \r\n\r\nMy Jtree is\r\n\r\n    &gt;     Array\r\n    &gt;         Hash1\r\n    &gt;             String1\r\n    &gt;             String2\r\n    &gt;         Hash2\r\n    &gt;             String1\r\n    &gt;             String2\r\n    &gt;             String3\r\n    &gt;         Array1\r\n    &gt;              String1\r\n\r\nAnd the finally string must be \r\n\r\n&gt; [{String1, String2}, {String1, String2, String3}, [String1]]\r\n\r\nThank you.","title":"JTree to String with hashs and arrays","body":"<p>I have a Jtree from a Hash where the object can be another hash or an array.\nNow i need to take this JTree and convert it to String but i cant difference an array from a hash, how can I difference it?\nExists something like a tag in DefaultTreeNode with i could difference the nodes when i insert them on the JTree?</p>\n\n<p>For example: </p>\n\n<p>My Jtree is</p>\n\n<pre><code>&gt;     Array\n&gt;         Hash1\n&gt;             String1\n&gt;             String2\n&gt;         Hash2\n&gt;             String1\n&gt;             String2\n&gt;             String3\n&gt;         Array1\n&gt;              String1\n</code></pre>\n\n<p>And the finally string must be </p>\n\n<blockquote>\n  <p>[{String1, String2}, {String1, String2, String3}, [String1]]</p>\n</blockquote>\n\n<p>Thank you.</p>\n"},{"tags":["java","android","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684702047,"creation_date":1684702047,"answer_id":76301866,"question_id":76300620,"body_markdown":"Try `SELECT b.position,b.name,b.capacity,b.currentAmount, it.name AS ingredientName FROM ....`\r\n\r\n- where `....` is the rest of the query. i.e. the important part is aliasing the **name** column to be **ingredientName** using **`AS`**.\r\n\r\ni.e. you are supplying the value that can/will be associated with the ingredientName member variable. \r\n\r\nThis is assuming that you want the value of the **name** column from the ingredient_types table to be the **ingredientName**.","title":"Room&#39;s DAOimpl not generating correctly","body":"<p>Try <code>SELECT b.position,b.name,b.capacity,b.currentAmount, it.name AS ingredientName FROM ....</code></p>\n<ul>\n<li>where <code>....</code> is the rest of the query. i.e. the important part is aliasing the <strong>name</strong> column to be <strong>ingredientName</strong> using <strong><code>AS</code></strong>.</li>\n</ul>\n<p>i.e. you are supplying the value that can/will be associated with the ingredientName member variable.</p>\n<p>This is assuming that you want the value of the <strong>name</strong> column from the ingredient_types table to be the <strong>ingredientName</strong>.</p>\n"}],"owner":{"account_id":25676685,"reputation":91,"user_id":19440016,"display_name":"Dioswison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76301866,"answer_count":1,"score":0,"last_activity_date":1684798167,"creation_date":1684682568,"question_id":76300620,"body_markdown":"I am trying to use Room library to access a DB, but DAO implementation is not generating well.\r\nIn my DAO interface i have:\r\n```java\r\n @Query(&quot;SELECT b.position,b.name,b.capacity,b.currentAmount, it.name FROM bottles AS b &quot; +\r\n            &quot;INNER JOIN bottle_ingredient AS bi ON bi.bottlePos=b.position &quot; +\r\n            &quot;INNER JOIN ingredient_types AS it ON it.id=bi.ingredientId&quot; +\r\n            &quot; WHERE position = :position&quot;)\r\n    Bottle getBottleWithIngredientFromPosition(int position);\r\n```\r\nAnd my bottle class is the following:\r\n```java\r\npublic class Bottle {\r\n    public int position;\r\n    public String name;\r\n    public int capacity;\r\n    public int currentAmount;\r\n    public String ingredientName;\r\n\r\n    //Constructor, getters and setters\r\n}\r\n```\r\nBut when i create a new Bottle object with the DAO it gets created with &quot;ingredientName&quot; as null. I checked the implementation Room generates and is the following:\r\n```java\r\n@Override\r\n  public Bottle getBottleWithIngredientFromPosition(final int position) {\r\n    final String _sql = &quot;SELECT b.position,b.name,b.capacity,b.currentAmount, it.name FROM bottles AS b INNER JOIN bottle_ingredient AS bi ON bi.bottlePos=b.position INNER JOIN ingredient_types AS it ON it.id=bi.ingredientId WHERE position = ?&quot;;\r\n    final RoomSQLiteQuery _statement = RoomSQLiteQuery.acquire(_sql, 1);\r\n    int _argIndex = 1;\r\n    _statement.bindLong(_argIndex, position);\r\n    __db.assertNotSuspendingTransaction();\r\n    final Cursor _cursor = DBUtil.query(__db, _statement, false, null);\r\n    try {\r\n      final int _cursorIndexOfPosition = 0;\r\n      final int _cursorIndexOfName = 1;\r\n      final int _cursorIndexOfCapacity = 2;\r\n      final int _cursorIndexOfCurrentAmount = 3;\r\n      final Bottle _result;\r\n      if(_cursor.moveToFirst()) {\r\n        final int _tmpPosition;\r\n        _tmpPosition = _cursor.getInt(_cursorIndexOfPosition);\r\n        final String _tmpName;\r\n        if (_cursor.isNull(_cursorIndexOfName)) {\r\n          _tmpName = null;\r\n        } else {\r\n          _tmpName = _cursor.getString(_cursorIndexOfName);\r\n        }\r\n        final int _tmpCapacity;\r\n        _tmpCapacity = _cursor.getInt(_cursorIndexOfCapacity);\r\n        final int _tmpCurrentAmount;\r\n        _tmpCurrentAmount = _cursor.getInt(_cursorIndexOfCurrentAmount);\r\n        _result = new Bottle(_tmpPosition,_tmpName,_tmpCapacity,_tmpCurrentAmount,null);\r\n      } else {\r\n        _result = null;\r\n      }\r\n      return _result;\r\n    } finally {\r\n      _cursor.close();\r\n      _statement.release();\r\n    }\r\n  }\r\n```\r\nAs we can see it calls the constructor with last parameter as null and never tries to get it from the DB. \r\nI downloaded SQLite DB and run the query manually and it works as espected","title":"Room&#39;s DAOimpl not generating correctly","body":"<p>I am trying to use Room library to access a DB, but DAO implementation is not generating well.\nIn my DAO interface i have:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Query(&quot;SELECT b.position,b.name,b.capacity,b.currentAmount, it.name FROM bottles AS b &quot; +\n            &quot;INNER JOIN bottle_ingredient AS bi ON bi.bottlePos=b.position &quot; +\n            &quot;INNER JOIN ingredient_types AS it ON it.id=bi.ingredientId&quot; +\n            &quot; WHERE position = :position&quot;)\n    Bottle getBottleWithIngredientFromPosition(int position);\n</code></pre>\n<p>And my bottle class is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Bottle {\n    public int position;\n    public String name;\n    public int capacity;\n    public int currentAmount;\n    public String ingredientName;\n\n    //Constructor, getters and setters\n}\n</code></pre>\n<p>But when i create a new Bottle object with the DAO it gets created with &quot;ingredientName&quot; as null. I checked the implementation Room generates and is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n  public Bottle getBottleWithIngredientFromPosition(final int position) {\n    final String _sql = &quot;SELECT b.position,b.name,b.capacity,b.currentAmount, it.name FROM bottles AS b INNER JOIN bottle_ingredient AS bi ON bi.bottlePos=b.position INNER JOIN ingredient_types AS it ON it.id=bi.ingredientId WHERE position = ?&quot;;\n    final RoomSQLiteQuery _statement = RoomSQLiteQuery.acquire(_sql, 1);\n    int _argIndex = 1;\n    _statement.bindLong(_argIndex, position);\n    __db.assertNotSuspendingTransaction();\n    final Cursor _cursor = DBUtil.query(__db, _statement, false, null);\n    try {\n      final int _cursorIndexOfPosition = 0;\n      final int _cursorIndexOfName = 1;\n      final int _cursorIndexOfCapacity = 2;\n      final int _cursorIndexOfCurrentAmount = 3;\n      final Bottle _result;\n      if(_cursor.moveToFirst()) {\n        final int _tmpPosition;\n        _tmpPosition = _cursor.getInt(_cursorIndexOfPosition);\n        final String _tmpName;\n        if (_cursor.isNull(_cursorIndexOfName)) {\n          _tmpName = null;\n        } else {\n          _tmpName = _cursor.getString(_cursorIndexOfName);\n        }\n        final int _tmpCapacity;\n        _tmpCapacity = _cursor.getInt(_cursorIndexOfCapacity);\n        final int _tmpCurrentAmount;\n        _tmpCurrentAmount = _cursor.getInt(_cursorIndexOfCurrentAmount);\n        _result = new Bottle(_tmpPosition,_tmpName,_tmpCapacity,_tmpCurrentAmount,null);\n      } else {\n        _result = null;\n      }\n      return _result;\n    } finally {\n      _cursor.close();\n      _statement.release();\n    }\n  }\n</code></pre>\n<p>As we can see it calls the constructor with last parameter as null and never tries to get it from the DB.\nI downloaded SQLite DB and run the query manually and it works as espected</p>\n"},{"tags":["java","android","google-play-services","ocr","google-mlkit"],"answers":[{"tags":[],"owner":{"account_id":7176905,"reputation":67,"user_id":5482475,"display_name":"Pramod Nikule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682315795,"creation_date":1682315795,"answer_id":76088922,"question_id":76041749,"body_markdown":"I tried after updating the Google Play services to latest (23.13.12) and it worked!\r\n\r\nI don&#39;t see any documentation of minimum version of Google Play Services required for MLKit.","title":"MLKit unable to detect text on Android-8","body":"<p>I tried after updating the Google Play services to latest (23.13.12) and it worked!</p>\n<p>I don't see any documentation of minimum version of Google Play Services required for MLKit.</p>\n"},{"tags":[],"owner":{"account_id":26359810,"reputation":39,"user_id":20016188,"display_name":"stunningdimension22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684797555,"creation_date":1684797555,"answer_id":76310418,"question_id":76041749,"body_markdown":"Glad to see you got it working. If you had any logs of the issue to share, it would be helpful to figure out why.\r\n\r\nThx!","title":"MLKit unable to detect text on Android-8","body":"<p>Glad to see you got it working. If you had any logs of the issue to share, it would be helpful to figure out why.</p>\n<p>Thx!</p>\n"}],"owner":{"account_id":7176905,"reputation":67,"user_id":5482475,"display_name":"Pramod Nikule"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684797555,"creation_date":1681801969,"question_id":76041749,"body_markdown":"I am trying `com.google.android.gms:play-services-mlkit-text-recognition` library for OCR which is working absolutely fine on all Android versions except Android-8.\r\n\r\nThe library `play-services-mlkit-text-recognition` is able to recognise text on all Android versions but it fails to recognise text on Android-8 and returning empty array.\r\n\r\nI followed all the steps given in https://developers.google.com/ml-kit/vision/text-recognition/android.\r\n\r\nThe library I am using is `com.google.android.gms:play-services-mlkit-text-recognition:18.0.2` with Google Play Services (`com.google.android.gms`) version `22.50.14 (version code: 225014021)`.\r\n\r\nDoes anyone have any idea whats going wrong here?","title":"MLKit unable to detect text on Android-8","body":"<p>I am trying <code>com.google.android.gms:play-services-mlkit-text-recognition</code> library for OCR which is working absolutely fine on all Android versions except Android-8.</p>\n<p>The library <code>play-services-mlkit-text-recognition</code> is able to recognise text on all Android versions but it fails to recognise text on Android-8 and returning empty array.</p>\n<p>I followed all the steps given in <a href=\"https://developers.google.com/ml-kit/vision/text-recognition/android\" rel=\"nofollow noreferrer\">https://developers.google.com/ml-kit/vision/text-recognition/android</a>.</p>\n<p>The library I am using is <code>com.google.android.gms:play-services-mlkit-text-recognition:18.0.2</code> with Google Play Services (<code>com.google.android.gms</code>) version <code>22.50.14 (version code: 225014021)</code>.</p>\n<p>Does anyone have any idea whats going wrong here?</p>\n"},{"tags":["java","string","if-statement","constructor","hex"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1541177482,"post_id":53122661,"comment_id":93140128,"body_markdown":"The &quot;x&quot; would imply you are passing an hex string to `convertBToD`. Go through and check all the calls to `convertBToD` to see where you are passing a hex string. Hint: look at `convertHToB`.","body":"The &quot;x&quot; would imply you are passing an hex string to <code>convertBToD</code>. Go through and check all the calls to <code>convertBToD</code> to see where you are passing a hex string. Hint: look at <code>convertHToB</code>."},{"owner":{"account_id":14673222,"reputation":51,"user_id":10597152,"display_name":"Spirlia"},"score":0,"creation_date":1541177841,"post_id":53122661,"comment_id":93140352,"body_markdown":"I don&#39;t know how I didn&#39;t notice that the return statement was wrong until now, thank you so much.","body":"I don&#39;t know how I didn&#39;t notice that the return statement was wrong until now, thank you so much."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684797447,"creation_date":1684797447,"answer_id":76310410,"question_id":53122661,"body_markdown":"In Java, to convert a hexadecimal value to an integer you use the `Integer.parseInt` method, with a second argument of `16`, the radix.\r\n\r\nIt will not recognize a value starting with `0x` as a hexadecimal.\r\n\r\nFurthermore, you&#39;re calling `convertBToD` under the following conditional-block.  \r\nI believe you mean `convertHToD`.\r\n\r\n```java\r\nif (stringNumber.startsWith(&quot;0x&quot;)){\r\n    theNumberAsHexadecimal = stringNumber;\r\n    theNumberAsBinary = convertHToB(theNumberAsHexadecimal);\r\n    theNumberAsDecimal = convertBToD(theNumberAsBinary);\r\n}\r\n```\r\n\r\nExample\r\n\r\n```java\r\nint convertHToD(String hexadecimal) {\r\n    return Integer.parseInt(hexadecimal.substring(2), 16);\r\n}\r\n```","title":"If statement in my constructor is not functioning properly","body":"<p>In Java, to convert a hexadecimal value to an integer you use the <code>Integer.parseInt</code> method, with a second argument of <code>16</code>, the radix.</p>\n<p>It will not recognize a value starting with <code>0x</code> as a hexadecimal.</p>\n<p>Furthermore, you're calling <code>convertBToD</code> under the following conditional-block.<br />\nI believe you mean <code>convertHToD</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (stringNumber.startsWith(&quot;0x&quot;)){\n    theNumberAsHexadecimal = stringNumber;\n    theNumberAsBinary = convertHToB(theNumberAsHexadecimal);\n    theNumberAsDecimal = convertBToD(theNumberAsBinary);\n}\n</code></pre>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>int convertHToD(String hexadecimal) {\n    return Integer.parseInt(hexadecimal.substring(2), 16);\n}\n</code></pre>\n"}],"owner":{"account_id":14673222,"reputation":51,"user_id":10597152,"display_name":"Spirlia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1684797447,"creation_date":1541177012,"question_id":53122661,"body_markdown":"In my program, I have to put a decimal integer, a binary string, or a hexadecimal string into my class. It then converts the variable into the others.\r\n\r\nMy issue is that, since binary and hexadecimal are both strings, I have the constructor determine whether the argument is a binary or hexadecimal and proceed from there. However, based on my error, the program isn&#39;t figuring out a hexadecimal number is what it is.\r\n\r\n    import java.util.*;\r\n    class Tester{\r\n       public static void main(String[] args){\r\n          String hex1 = &quot;0x34&quot;;\r\n          BDHNumber test = new BDHNumber(hex1);\r\n      \r\n          System.out.println(test.getDec());\r\n          System.out.println(test.getBin());\r\n          System.out.println(test.getHex());\r\n       }\r\n    }\r\n    \r\n---\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    \r\n    public class BDHNumber{\r\n       private int theNumberAsDecimal;\r\n       private String theNumberAsBinary;\r\n       private String theNumberAsHexadecimal;\r\n       private static String[] hexadecimalArray = {&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, \r\n                                                   &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;A&quot;, &quot;B&quot;, \r\n                                                   &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;};\r\n       private static String[] binaryArray = {&quot;0000&quot;, &quot;0001&quot;, &quot;0010&quot;, &quot;0011&quot;, \r\n                                              &quot;0100&quot;, &quot;0101&quot;, &quot;0110&quot;, &quot;0111&quot;, \r\n                                              &quot;1000&quot;, &quot;1001&quot;, &quot;1010&quot;, &quot;1011&quot;,\r\n                                              &quot;1100&quot;, &quot;1101&quot;, &quot;1110&quot;, &quot;1111&quot;}; \r\n    \r\n    //Default empty constructor.\r\n    public BDHNumber(){\r\n    }\r\n    \r\n    //Decimal constructor.\r\n    public BDHNumber(int decimal){\r\n       theNumberAsDecimal = decimal;\r\n       theNumberAsBinary = convertDToB(decimal);\r\n       theNumberAsHexadecimal = convertBToH(theNumberAsBinary);\r\n    }\r\n    \r\n    //Constructs binary or hexadecimal.\r\n    public BDHNumber(String stringNumber){ \r\n       if (stringNumber.startsWith(&quot;0x&quot;)){\r\n           theNumberAsHexadecimal = stringNumber;\r\n           theNumberAsBinary = convertHToB(theNumberAsHexadecimal);\r\n           theNumberAsDecimal = convertBToD(theNumberAsBinary);\r\n       }\r\n       else{\r\n           theNumberAsBinary = stringNumber;\r\n           \r\n           //Pads the binary to be multiples of 4\r\n           while(theNumberAsBinary.length()%4 != 0){\r\n            theNumberAsBinary = &quot;0&quot; + theNumberAsBinary;\r\n           }\r\n         \r\n          theNumberAsDecimal = convertBToD(theNumberAsBinary);\r\n          theNumberAsHexadecimal = convertBToH(theNumberAsBinary);\r\n       }\r\n    }\r\n    \r\n    //Converts Binary to Decimal.\r\n    private static int convertBToD(String binary){\r\n       String binary1 = binary;\r\n       int decimal = 0;\r\n       int index = 0;\r\n       \r\n       //Pads the binary to be multiples of 4\r\n       while(binary1.length()%4 != 0){\r\n             binary1 = &quot;0&quot; + binary1;\r\n          }\r\n          \r\n       int length = binary1.length();\r\n         \r\n       for(int i = length; i &gt; 0; i--){\r\n          decimal = decimal + (int)(Integer.parseInt(binary1.substring(index,\r\n                                    index+1)) * Math.pow(2, (i-1)));\r\n          index++;\r\n       }\r\n       return decimal;\r\n    }\r\n    \r\n    //Converts Binary to Hexadecimal.\r\n    private static String convertBToH(String binary){\r\n       String binary1 = binary;\r\n       String hex = &quot;&quot;;\r\n       int index = 0;\r\n       int binaryAsDecimal = 0; \r\n       \r\n       //Pads the binary to be multiples of 4\r\n       while(binary1.length()%4 != 0){ \r\n             binary1 = &quot;0&quot; + binary1;\r\n          }\r\n       \r\n       int length = binary1.length();\r\n     \r\n       while(length != 0){\r\n          binaryAsDecimal = convertBToD(binary1.substring(length-4, length));\r\n          \r\n          for(int i = 0; i&lt;hexadecimalArray.length; i++){\r\n             if(i == binaryAsDecimal){\r\n                hex = hexadecimalArray[i] + hex;\r\n             }\r\n          }\r\n          length = length - 4;\r\n       }\r\n       return hex;\r\n    }\r\n    \r\n    //Converts Decimal to Binary\r\n    private static String convertDToB(int decimal){\r\n       int decimal1 = decimal;\r\n       int remainder;\r\n       String binary = &quot;&quot;;\r\n       \r\n       while (decimal != 0){\r\n          remainder = decimal % 2; \r\n    \r\n          if (remainder == 1){\r\n             binary = &quot;1&quot; + binary;\r\n          }\r\n          else if (remainder == 0){\r\n             binary = &quot;0&quot; + binary;\r\n          }\r\n          decimal = decimal / 2;\r\n       }\r\n       return binary;\r\n    }\r\n    \r\n    //Converts Hexadecimal to Binary.\r\n    private static String convertHToB(String hexadecimal){\r\n       String hex = hexadecimal;\r\n       String binary = &quot;&quot;;\r\n       int index = 0;\r\n       int length = hex.length();\r\n       \r\n       for(int i = hex.length(); i &gt; 0; i--){\r\n          if(hexadecimalArray[index] == hex.substring(length-1, length)){\r\n             binary = convertDToB(index) + binary;\r\n          }\r\n          index++;\r\n          length--;\r\n       }\r\n       return hex;\r\n    }\r\n     \r\n    //Getters.\r\n    public String getBin(){\r\n       return theNumberAsBinary;\r\n    }\r\n     \r\n    public String getHex(){\r\n       return theNumberAsHexadecimal;\r\n    }\r\n    \r\n    public int getDec(){\r\n       return theNumberAsDecimal;\r\n    }\r\n    } \r\n\r\nHere is the error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input \r\n&gt; string: &quot;x&quot;\r\n&gt;  at \r\n&gt; java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n&gt; \r\n&gt; at java.lang.Integer.parseInt(Integer.java:580)\r\n&gt; \r\n&gt; at java.lang.Integer.parseInt(Integer.java:615)\r\n&gt; \r\n&gt; at BDHNumber.convertBToD(BDHNumber.java:63)\r\n\r\nThe error is in the convertBToD method, and specifically where it converts one bit of the binary number to an integer. For some reason my code is taking the hexadecimal number as a binary in the constructor, instead of following the if statement. It can&#39;t convert &quot;x&quot; into an integer, so it has an error. I just can&#39;t figure out why. Any extra eyes would be a great help.","title":"If statement in my constructor is not functioning properly","body":"<p>In my program, I have to put a decimal integer, a binary string, or a hexadecimal string into my class. It then converts the variable into the others.</p>\n\n<p>My issue is that, since binary and hexadecimal are both strings, I have the constructor determine whether the argument is a binary or hexadecimal and proceed from there. However, based on my error, the program isn't figuring out a hexadecimal number is what it is.</p>\n\n<pre><code>import java.util.*;\nclass Tester{\n   public static void main(String[] args){\n      String hex1 = \"0x34\";\n      BDHNumber test = new BDHNumber(hex1);\n\n      System.out.println(test.getDec());\n      System.out.println(test.getBin());\n      System.out.println(test.getHex());\n   }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\n\npublic class BDHNumber{\n   private int theNumberAsDecimal;\n   private String theNumberAsBinary;\n   private String theNumberAsHexadecimal;\n   private static String[] hexadecimalArray = {\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \n                                               \"6\", \"7\", \"8\", \"9\", \"A\", \"B\", \n                                               \"C\", \"D\", \"E\", \"F\"};\n   private static String[] binaryArray = {\"0000\", \"0001\", \"0010\", \"0011\", \n                                          \"0100\", \"0101\", \"0110\", \"0111\", \n                                          \"1000\", \"1001\", \"1010\", \"1011\",\n                                          \"1100\", \"1101\", \"1110\", \"1111\"}; \n\n//Default empty constructor.\npublic BDHNumber(){\n}\n\n//Decimal constructor.\npublic BDHNumber(int decimal){\n   theNumberAsDecimal = decimal;\n   theNumberAsBinary = convertDToB(decimal);\n   theNumberAsHexadecimal = convertBToH(theNumberAsBinary);\n}\n\n//Constructs binary or hexadecimal.\npublic BDHNumber(String stringNumber){ \n   if (stringNumber.startsWith(\"0x\")){\n       theNumberAsHexadecimal = stringNumber;\n       theNumberAsBinary = convertHToB(theNumberAsHexadecimal);\n       theNumberAsDecimal = convertBToD(theNumberAsBinary);\n   }\n   else{\n       theNumberAsBinary = stringNumber;\n\n       //Pads the binary to be multiples of 4\n       while(theNumberAsBinary.length()%4 != 0){\n        theNumberAsBinary = \"0\" + theNumberAsBinary;\n       }\n\n      theNumberAsDecimal = convertBToD(theNumberAsBinary);\n      theNumberAsHexadecimal = convertBToH(theNumberAsBinary);\n   }\n}\n\n//Converts Binary to Decimal.\nprivate static int convertBToD(String binary){\n   String binary1 = binary;\n   int decimal = 0;\n   int index = 0;\n\n   //Pads the binary to be multiples of 4\n   while(binary1.length()%4 != 0){\n         binary1 = \"0\" + binary1;\n      }\n\n   int length = binary1.length();\n\n   for(int i = length; i &gt; 0; i--){\n      decimal = decimal + (int)(Integer.parseInt(binary1.substring(index,\n                                index+1)) * Math.pow(2, (i-1)));\n      index++;\n   }\n   return decimal;\n}\n\n//Converts Binary to Hexadecimal.\nprivate static String convertBToH(String binary){\n   String binary1 = binary;\n   String hex = \"\";\n   int index = 0;\n   int binaryAsDecimal = 0; \n\n   //Pads the binary to be multiples of 4\n   while(binary1.length()%4 != 0){ \n         binary1 = \"0\" + binary1;\n      }\n\n   int length = binary1.length();\n\n   while(length != 0){\n      binaryAsDecimal = convertBToD(binary1.substring(length-4, length));\n\n      for(int i = 0; i&lt;hexadecimalArray.length; i++){\n         if(i == binaryAsDecimal){\n            hex = hexadecimalArray[i] + hex;\n         }\n      }\n      length = length - 4;\n   }\n   return hex;\n}\n\n//Converts Decimal to Binary\nprivate static String convertDToB(int decimal){\n   int decimal1 = decimal;\n   int remainder;\n   String binary = \"\";\n\n   while (decimal != 0){\n      remainder = decimal % 2; \n\n      if (remainder == 1){\n         binary = \"1\" + binary;\n      }\n      else if (remainder == 0){\n         binary = \"0\" + binary;\n      }\n      decimal = decimal / 2;\n   }\n   return binary;\n}\n\n//Converts Hexadecimal to Binary.\nprivate static String convertHToB(String hexadecimal){\n   String hex = hexadecimal;\n   String binary = \"\";\n   int index = 0;\n   int length = hex.length();\n\n   for(int i = hex.length(); i &gt; 0; i--){\n      if(hexadecimalArray[index] == hex.substring(length-1, length)){\n         binary = convertDToB(index) + binary;\n      }\n      index++;\n      length--;\n   }\n   return hex;\n}\n\n//Getters.\npublic String getBin(){\n   return theNumberAsBinary;\n}\n\npublic String getHex(){\n   return theNumberAsHexadecimal;\n}\n\npublic int getDec(){\n   return theNumberAsDecimal;\n}\n} \n</code></pre>\n\n<p>Here is the error:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NumberFormatException: For input \n  string: \"x\"\n   at \n  java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)</p>\n  \n  <p>at java.lang.Integer.parseInt(Integer.java:580)</p>\n  \n  <p>at java.lang.Integer.parseInt(Integer.java:615)</p>\n  \n  <p>at BDHNumber.convertBToD(BDHNumber.java:63)</p>\n</blockquote>\n\n<p>The error is in the convertBToD method, and specifically where it converts one bit of the binary number to an integer. For some reason my code is taking the hexadecimal number as a binary in the constructor, instead of following the if statement. It can't convert \"x\" into an integer, so it has an error. I just can't figure out why. Any extra eyes would be a great help.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-boot-actuator"],"comments":[{"owner":{"account_id":10501332,"reputation":510,"user_id":7749384,"accept_rate":73,"display_name":"Araf"},"score":0,"creation_date":1506755543,"post_id":46490343,"comment_id":79955160,"body_markdown":"you must add authentication header along with curl command.","body":"you must add authentication header along with curl command."},{"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"score":0,"creation_date":1506930278,"post_id":46490343,"comment_id":79996547,"body_markdown":"With curl is OK, but my question is with a browser (chrome)","body":"With curl is OK, but my question is with a browser (chrome)"},{"owner":{"account_id":4646120,"reputation":1037,"user_id":3764361,"accept_rate":100,"display_name":"P_W999"},"score":0,"creation_date":1506931609,"post_id":46490343,"comment_id":79997177,"body_markdown":"Not sure, but I wouln&#39;t combine the &quot;basic:secret&quot; in the URL with the authentication header. Either use one of two, not both at the same time.","body":"Not sure, but I wouln&#39;t combine the &quot;basic:secret&quot; in the URL with the authentication header. Either use one of two, not both at the same time."}],"answers":[{"tags":[],"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506752216,"creation_date":1506751901,"answer_id":46500091,"question_id":46490343,"body_markdown":"In an URL:\r\n\r\n    http://admin:secret@127.0.0.1:8088/metrics\r\n\r\nAs a header:\r\n\r\n    Authorization: Basic YWRtaW46c2VjcmV0","title":"error 401 - Spring boot actuator login/password in browser","body":"<p>In an URL:</p>\n\n<pre><code>http://admin:secret@127.0.0.1:8088/metrics\n</code></pre>\n\n<p>As a header:</p>\n\n<pre><code>Authorization: Basic YWRtaW46c2VjcmV0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14182890,"reputation":1,"user_id":10245853,"display_name":"pankaj kaalyan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1534680675,"creation_date":1534679517,"answer_id":51917376,"question_id":46490343,"body_markdown":"Please update:\r\n\r\n    management.security.enabled=true\r\n\r\nto:\r\n\r\n    management.security.enabled=false","title":"error 401 - Spring boot actuator login/password in browser","body":"<p>Please update:</p>\n\n<pre><code>management.security.enabled=true\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>management.security.enabled=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548874869,"creation_date":1548874869,"answer_id":54447759,"question_id":46490343,"body_markdown":"Use the CustomAuthenticationEntryPoint with @Component Annotation\r\n\r\n\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class AdminEntryPointsSecurityConfig {\r\n    \t\r\n        @Bean\r\n        public PasswordEncoder encoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Configuration\r\n        @Order(1)\r\n        public static class App1ConfigurationAdapter extends WebSecurityConfigurerAdapter {\r\n    \r\n        \t@Autowired\r\n            private CustomAuthenticationEntryPoint authenticationEntryPoint;\r\n        \t\r\n            @Override\r\n            protected void configure(HttpSecurity http) throws Exception {\r\n                http.antMatcher(&quot;/actuator/**&quot;)\r\n                    .authorizeRequests().anyRequest().hasRole(&quot;ADMIN&quot;)\r\n                    .and().httpBasic().authenticationEntryPoint(authenticationEntryPoint)    \r\n                    .and().exceptionHandling().accessDeniedPage(&quot;/403&quot;);\r\n            }\t\r\n            \r\n    \r\n            \r\n    \r\n        \t@Override\r\n            protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n                PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();        \r\n                auth.inMemoryAuthentication()\r\n                    .passwordEncoder(encoder)\r\n                    .withUser(&quot;act&quot;)\r\n                    .password(encoder.encode(&quot;act&quot;))            \r\n                    .roles(&quot;ADMIN&quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThen do the Basic Authentication.\r\n\r\n\r\n\r\n    @Component\r\n    public class CustomAuthenticationEntryPoint extends BasicAuthenticationEntryPoint {\r\n    \r\n        @Override\r\n        public void commence(final HttpServletRequest request, final HttpServletResponse response, final AuthenticationException authException) throws IOException, ServletException {\r\n            response.addHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;&quot; + getRealmName() + &quot;\\&quot;&quot;);\r\n            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n            final PrintWriter writer = response.getWriter();\r\n            writer.println(&quot;HTTP Status &quot; + HttpServletResponse.SC_UNAUTHORIZED + &quot; - &quot; + authException.getMessage());\r\n        }\r\n    \r\n        @Override\r\n        public void afterPropertiesSet() throws Exception {\r\n            setRealmName(&quot;ADMIN&quot;);\r\n            super.afterPropertiesSet();\r\n        }\r\n    \r\n    }\r\n","title":"error 401 - Spring boot actuator login/password in browser","body":"<p>Use the CustomAuthenticationEntryPoint with @Component Annotation</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class AdminEntryPointsSecurityConfig {\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Configuration\n    @Order(1)\n    public static class App1ConfigurationAdapter extends WebSecurityConfigurerAdapter {\n\n        @Autowired\n        private CustomAuthenticationEntryPoint authenticationEntryPoint;\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.antMatcher(\"/actuator/**\")\n                .authorizeRequests().anyRequest().hasRole(\"ADMIN\")\n                .and().httpBasic().authenticationEntryPoint(authenticationEntryPoint)    \n                .and().exceptionHandling().accessDeniedPage(\"/403\");\n        }   \n\n\n\n\n        @Override\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n            PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();        \n            auth.inMemoryAuthentication()\n                .passwordEncoder(encoder)\n                .withUser(\"act\")\n                .password(encoder.encode(\"act\"))            \n                .roles(\"ADMIN\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>Then do the Basic Authentication.</p>\n\n<pre><code>@Component\npublic class CustomAuthenticationEntryPoint extends BasicAuthenticationEntryPoint {\n\n    @Override\n    public void commence(final HttpServletRequest request, final HttpServletResponse response, final AuthenticationException authException) throws IOException, ServletException {\n        response.addHeader(\"WWW-Authenticate\", \"Basic realm=\\\"\" + getRealmName() + \"\\\"\");\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        final PrintWriter writer = response.getWriter();\n        writer.println(\"HTTP Status \" + HttpServletResponse.SC_UNAUTHORIZED + \" - \" + authException.getMessage());\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        setRealmName(\"ADMIN\");\n        super.afterPropertiesSet();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7075,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1684796875,"creation_date":1506693316,"question_id":46490343,"body_markdown":"I use spring boot with actuator and I add security configuration:\r\n\r\n    management.port=8088\r\n    management.address=127.0.0.1\r\n    management.security.enabled=true\r\n    security.user.name=admin\r\n    security.user.password=secret\r\n    management.security.role=SUPERUSER\r\n\r\n`curl -u admin:secret http://127.0.0.1:8088/metrics` is OK but with Chrome (http://127.0.0.1:8088/metrics): `{&quot;timestamp&quot;:1506692938036,&quot;status&quot;:401,&quot;error&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;Full authentication is required to access this resource.&quot;,&quot;path&quot;:&quot;/metrics&quot;}`\r\n\r\nHow to use login/password in url or headers?\r\n\r\n\r\n**EDIT 1**\r\n\r\nI try @Lachezar Balev solution (Authorization: Basic YWRtaW46c2VjcmV0 + admin:secret@ in url) but is KO\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kIDLy.png","title":"error 401 - Spring boot actuator login/password in browser","body":"<p>I use spring boot with actuator and I add security configuration:</p>\n\n<pre><code>management.port=8088\nmanagement.address=127.0.0.1\nmanagement.security.enabled=true\nsecurity.user.name=admin\nsecurity.user.password=secret\nmanagement.security.role=SUPERUSER\n</code></pre>\n\n<p><code>curl -u admin:secret http://127.0.0.1:8088/metrics</code> is OK but with Chrome (<a href=\"http://127.0.0.1:8088/metrics\" rel=\"nofollow noreferrer\">http://127.0.0.1:8088/metrics</a>): <code>{\"timestamp\":1506692938036,\"status\":401,\"error\":\"Unauthorized\",\"message\":\"Full authentication is required to access this resource.\",\"path\":\"/metrics\"}</code></p>\n\n<p>How to use login/password in url or headers?</p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>I try @Lachezar Balev solution (Authorization: Basic YWRtaW46c2VjcmV0 + admin:secret@ in url) but is KO</p>\n\n<p><a href=\"https://i.stack.imgur.com/kIDLy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kIDLy.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot","spring-boot-actuator","health-check"],"answers":[{"tags":[],"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645097178,"creation_date":1645097178,"answer_id":71157256,"question_id":71156905,"body_markdown":"I found [here][1] that `HealthEndpoint` was what I was looking for.\r\n\r\n```java\r\n@RestController\r\npublic class AppStatusRestController {\r\n    private final HealthEndpoint healthEndpoint;\r\n\r\n    public AppStatusRestController(HealthEndpoint healthEndpoint) {\r\n        this.healthEndpoint = healthEndpoint;\r\n    }\r\n\r\n    @GetMapping(&quot;/status&quot;)\r\n    public String status() {\r\n        return &quot;status: &quot; + healthEndpoint.health().getStatus();\r\n    }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/63510958/10950272","title":"How to get healthcheck status without calling actuator endpoint?","body":"<p>I found <a href=\"https://stackoverflow.com/a/63510958/10950272\">here</a> that <code>HealthEndpoint</code> was what I was looking for.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class AppStatusRestController {\n    private final HealthEndpoint healthEndpoint;\n\n    public AppStatusRestController(HealthEndpoint healthEndpoint) {\n        this.healthEndpoint = healthEndpoint;\n    }\n\n    @GetMapping(&quot;/status&quot;)\n    public String status() {\n        return &quot;status: &quot; + healthEndpoint.health().getStatus();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2833,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71157256,"answer_count":1,"score":1,"last_activity_date":1684796830,"creation_date":1645095710,"question_id":71156905,"body_markdown":"In a springboot application I want to produce `/version` endpoint which combines some of `/actuator/health` and `/actuator/info` data. \r\nFrom health endpoint I need overall status `UP`/`DOWN`.\r\n\r\nHow can I retrieve **application status** inside java code?\r\n\r\nBased on [this answer][1] I tried to retrieve all `HealthIndicator` beans:\r\n```java\r\n@RestController\r\npublic class AppStatusRestController {\r\n    private final List&lt;HealthIndicator&gt; healthIndicators;\r\n\r\n    public AppStatusRestController(List&lt;HealthIndicator&gt; healthIndicators) {\r\n        this.healthIndicators = healthIndicators;\r\n    }\r\n\r\n    @GetMapping(&quot;/status&quot;)\r\n    public String status() {\r\n        return &quot;status: &quot; + getStatus();\r\n    }\r\n    private String getStatus() {\r\n        return isUp() ? Status.UP.getCode() : Status.DOWN.getCode();\r\n\r\n    }\r\n\r\n    private boolean isUp() {\r\n        return this.healthIndicators.stream().allMatch(healthIndicator -&gt; healthIndicator.getHealth(false).getStatus() == Status.UP);\r\n    }\r\n\r\n}\r\n```\r\nbut it doesn&#39;t work for some components, e.g. RabbitMQ\r\n```json\r\n{\r\n  status: &quot;DOWN&quot;, // how can I get application status \r\n  components: {\r\n    db: {\r\n      status: &quot;UP&quot;,\r\n...\r\n    },\r\n    diskSpace: {\r\n      status: &quot;UP&quot;,\r\n...\r\n      }\r\n    },\r\n    ping: {\r\n      status: &quot;UP&quot;\r\n    },\r\n    rabbit: {\r\n      status: &quot;DOWN&quot;,\r\n      details: {\r\n        error: &quot;org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect&quot;\r\n      }\r\n    },\r\n    myCustomHealthIndicator: {\r\n      status: &quot;UP&quot;,\r\n...\r\n    }\r\n  }\r\n}\r\n```\r\nNote that I don&#39;t need component status at all. I just want to retrieve overall status of my app.\r\n\r\n  [1]: https://stackoverflow.com/a/69365535/10950272","title":"How to get healthcheck status without calling actuator endpoint?","body":"<p>In a springboot application I want to produce <code>/version</code> endpoint which combines some of <code>/actuator/health</code> and <code>/actuator/info</code> data.\nFrom health endpoint I need overall status <code>UP</code>/<code>DOWN</code>.</p>\n<p>How can I retrieve <strong>application status</strong> inside java code?</p>\n<p>Based on <a href=\"https://stackoverflow.com/a/69365535/10950272\">this answer</a> I tried to retrieve all <code>HealthIndicator</code> beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class AppStatusRestController {\n    private final List&lt;HealthIndicator&gt; healthIndicators;\n\n    public AppStatusRestController(List&lt;HealthIndicator&gt; healthIndicators) {\n        this.healthIndicators = healthIndicators;\n    }\n\n    @GetMapping(&quot;/status&quot;)\n    public String status() {\n        return &quot;status: &quot; + getStatus();\n    }\n    private String getStatus() {\n        return isUp() ? Status.UP.getCode() : Status.DOWN.getCode();\n\n    }\n\n    private boolean isUp() {\n        return this.healthIndicators.stream().allMatch(healthIndicator -&gt; healthIndicator.getHealth(false).getStatus() == Status.UP);\n    }\n\n}\n</code></pre>\n<p>but it doesn't work for some components, e.g. RabbitMQ</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  status: &quot;DOWN&quot;, // how can I get application status \n  components: {\n    db: {\n      status: &quot;UP&quot;,\n...\n    },\n    diskSpace: {\n      status: &quot;UP&quot;,\n...\n      }\n    },\n    ping: {\n      status: &quot;UP&quot;\n    },\n    rabbit: {\n      status: &quot;DOWN&quot;,\n      details: {\n        error: &quot;org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect&quot;\n      }\n    },\n    myCustomHealthIndicator: {\n      status: &quot;UP&quot;,\n...\n    }\n  }\n}\n</code></pre>\n<p>Note that I don't need component status at all. I just want to retrieve overall status of my app.</p>\n"},{"tags":["java","gradle","javafx"],"comments":[{"owner":{"account_id":9261705,"reputation":388,"user_id":6878558,"accept_rate":75,"display_name":"Maximiliano Sosa"},"score":0,"creation_date":1684769315,"post_id":76302699,"comment_id":134561566,"body_markdown":"Linux fedora 6.2.15-200.fc37.x86_64","body":"Linux fedora 6.2.15-200.fc37.x86_64"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1684782793,"post_id":76302699,"comment_id":134564400,"body_markdown":"Is there a `.so` file in the location it is looking for one?","body":"Is there a <code>.so</code> file in the location it is looking for one?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1684782804,"post_id":76302699,"comment_id":134564404,"body_markdown":"I don&#39;t know much gradle, so probably can&#39;t help much.   I don&#39;t even understand why it is looking for a `.so` file.  Gradle uses maven repositories and the javafx jars in maven central stored as os architecture classified artifacts are modules that include the native code, so there wouldn&#39;t seem a need for a gradle build to look for a JavaFX `.so` file, especially in a really weird location like that.","body":"I don&#39;t know much gradle, so probably can&#39;t help much.   I don&#39;t even understand why it is looking for a <code>.so</code> file.  Gradle uses maven repositories and the javafx jars in maven central stored as os architecture classified artifacts are modules that include the native code, so there wouldn&#39;t seem a need for a gradle build to look for a JavaFX <code>.so</code> file, especially in a really weird location like that."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1684782844,"post_id":76302699,"comment_id":134564413,"body_markdown":"For help, you probably need to provide a [mcve].","body":"For help, you probably need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":9261705,"reputation":388,"user_id":6878558,"accept_rate":75,"display_name":"Maximiliano Sosa"},"score":0,"creation_date":1684794223,"post_id":76302699,"comment_id":134566168,"body_markdown":"The error can be a misconfigured vscode gradle extension?","body":"The error can be a misconfigured vscode gradle extension?"},{"owner":{"account_id":9261705,"reputation":388,"user_id":6878558,"accept_rate":75,"display_name":"Maximiliano Sosa"},"score":0,"creation_date":1684794469,"post_id":76302699,"comment_id":134566193,"body_markdown":"The only file inside that folder is javafx-graphics-20-linux.jar","body":"The only file inside that folder is javafx-graphics-20-linux.jar"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1684796995,"post_id":76302699,"comment_id":134566431,"body_markdown":"I don’t know about vscode, I don’t use it.  But you could run gradle from the command line to verify that it works independently of vscode.  My guess is that the `so` is inside the jar and that is confusing your particular runtime setup, though I could not tell you why nor how to fix it.  If you suspect the IDE config and are stuck, you could switch IDEs, e.g. to Idea community (run the new JavaFX project wizard in Idea to generate a new working debuggable JavaFX Gradle project then copy your code in, if you want to try that).","body":"I don’t know about vscode, I don’t use it.  But you could run gradle from the command line to verify that it works independently of vscode.  My guess is that the <code>so</code> is inside the jar and that is confusing your particular runtime setup, though I could not tell you why nor how to fix it.  If you suspect the IDE config and are stuck, you could switch IDEs, e.g. to Idea community (run the new JavaFX project wizard in Idea to generate a new working debuggable JavaFX Gradle project then copy your code in, if you want to try that)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684895700,"post_id":76302699,"comment_id":134583061,"body_markdown":"What happens if you run `./gradlew run --debug-jvm` (and connect a debugger) manually?","body":"What happens if you run <code>.&#47;gradlew run --debug-jvm</code> (and connect a debugger) manually?"},{"owner":{"account_id":9261705,"reputation":388,"user_id":6878558,"accept_rate":75,"display_name":"Maximiliano Sosa"},"score":0,"creation_date":1685115740,"post_id":76302699,"comment_id":134621312,"body_markdown":"That works... Anyway created another project in eclipse without gradle... So many errors with blank project, following oficial docs...","body":"That works... Anyway created another project in eclipse without gradle... So many errors with blank project, following oficial docs..."}],"owner":{"account_id":9261705,"reputation":388,"user_id":6878558,"accept_rate":75,"display_name":"Maximiliano Sosa"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684796181,"creation_date":1684721948,"question_id":76302699,"body_markdown":"I have a Lenovo with Intel. When run `JavaFX` with gradle works great. But when debug does not execute, get error at first. The error is:\r\n&gt;```none\r\n&gt;Exception has occurred: java.lang.UnsatisfiedLinkError\r\n&gt;&quot;java.lang.UnsatisfiedLinkError: Can&#39;t load library:\r\n&gt;/home/---/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-graphics/---/---/libprism_es2.so&quot;\r\n\r\nI am using gradle `plugin id &#39;org.openjfx.javafxplugin&#39;` version `&#39;0.0.14&#39;`, `javafx version 20`, and `openjdk 17.0.6`.\r\n\r\nMy OS is Linux fedora 6.2.15-200.fc37.x86_64","title":"Error debugging with Gradle and JavaFX (NOT M1 CHIP)","body":"<p>I have a Lenovo with Intel. When run <code>JavaFX</code> with gradle works great. But when debug does not execute, get error at first. The error is:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Exception has occurred: java.lang.UnsatisfiedLinkError\n&quot;java.lang.UnsatisfiedLinkError: Can't load library:\n/home/---/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-graphics/---/---/libprism_es2.so&quot;\n</code></pre>\n</blockquote>\n<p>I am using gradle <code>plugin id 'org.openjfx.javafxplugin'</code> version <code>'0.0.14'</code>, <code>javafx version 20</code>, and <code>openjdk 17.0.6</code>.</p>\n<p>My OS is Linux fedora 6.2.15-200.fc37.x86_64</p>\n"},{"tags":["java","spring-boot","couchbase","testcontainers","couchbase-java-api"],"comments":[{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":1,"creation_date":1684660232,"post_id":76299023,"comment_id":134546797,"body_markdown":"You might need to commit before fetching all rows. `ctx.commit();` please let me know if it works","body":"You might need to commit before fetching all rows. <code>ctx.commit();</code> please let me know if it works"},{"owner":{"account_id":24377961,"reputation":56,"user_id":18310003,"display_name":"RosarioB"},"score":0,"creation_date":1684682841,"post_id":76299023,"comment_id":134549351,"body_markdown":"thank you @mahfujasif, unfortunately there is no ctx.commit() , it seems taht the transactions is autommitted.  \nAnyway I have found that I can use ctx.insert  and I have used it but still I got the issue...","body":"thank you @mahfujasif, unfortunately there is no ctx.commit() , it seems taht the transactions is autommitted.   Anyway I have found that I can use ctx.insert  and I have used it but still I got the issue..."}],"answers":[{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1684687745,"creation_date":1684687324,"answer_id":76300933,"question_id":76299023,"body_markdown":"You are missing @Transactional annotation in your service class,&lt;br&gt;\r\nand you are breaking single responsibility principle in your repository classes.&lt;br&gt;\r\nFor a data transformation, create mapper class (@Component) and use them in your service class.&lt;br&gt;\r\nAnd if really needed any extra configuration,&lt;br&gt;\r\nyou can do so injecting appropriate one by using a @Bean annotation in your &#39;@Configuration&#39; class(es).&lt;br&gt;\r\nAnd be aware, that &quot;@Transactional&quot; annotation at class level applies only to a public methods.&lt;br&gt;\r\nAnother issue is unnecessary implementation of &quot;GenericRepository&quot; of yours, you should extend JpaRepository.&lt;br&gt;\r\nAnd if really needed generic one, annotate it using @NoRepositoryBean.\r\n\r\nAccording to JDBC transactions be aware of differences between\r\nSpring Data save and saveAndFlush methods.\r\nhttps://www.baeldung.com/spring-data-jpa-save-saveandflush\r\n\r\nThere are many examples how to properly implement a project using Spring Rest and Spring Data.\r\nMaybe one of many:\r\nhttps://github.com/thevarga04/ucimsa","title":"Random errors when retrieving data after having inserted them","body":"<p>You are missing @Transactional annotation in your service class,<br>\nand you are breaking single responsibility principle in your repository classes.<br>\nFor a data transformation, create mapper class (@Component) and use them in your service class.<br>\nAnd if really needed any extra configuration,<br>\nyou can do so injecting appropriate one by using a @Bean annotation in your '@Configuration' class(es).<br>\nAnd be aware, that &quot;@Transactional&quot; annotation at class level applies only to a public methods.<br>\nAnother issue is unnecessary implementation of &quot;GenericRepository&quot; of yours, you should extend JpaRepository.<br>\nAnd if really needed generic one, annotate it using @NoRepositoryBean.</p>\n<p>According to JDBC transactions be aware of differences between\nSpring Data save and saveAndFlush methods.\n<a href=\"https://www.baeldung.com/spring-data-jpa-save-saveandflush\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-save-saveandflush</a></p>\n<p>There are many examples how to properly implement a project using Spring Rest and Spring Data.\nMaybe one of many:\n<a href=\"https://github.com/thevarga04/ucimsa\" rel=\"nofollow noreferrer\">https://github.com/thevarga04/ucimsa</a></p>\n"},{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684795157,"creation_date":1684776459,"answer_id":76308622,"question_id":76299023,"body_markdown":"The query needs to use the query option QueryScanConsistency.REQUEST_PLUS.  The issue is that while a kv.get() would immediately/instantaneously find a document inserted with a kv.insert(), the query engine can only find documents that have been indexed - which is not instantaneous.  REQUEST_PLUS will cause the query to wait until all documents that needed to be indexed at the time the query request was issued are indexed, and then it will execute.  It works in debug because there is enough time for the documents to become indexed.\r\n\r\n&quot; List&lt;JsonObject&gt; jsonObjects = couchbaseTemplate.getCouchbaseClientFactory().getScope()\r\n                .query(String.format(&quot;SELECT * FROM %1$s &quot;, keySpace)).rowsAsObject();&quot;\r\n\r\nWhy not \r\n\r\nmyRepository.withScope(scope).withCollection(collection).findAll()\r\n\r\nYou don&#39;t have to write any code. (There are also @Scope and @Collection annotations). For the QueryScanConsistency, you could add the method signature (no body required) to the repository and use the WithConistency annotation. see  \r\n- https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.collections \r\n- https://github.com/couchbaselabs/try-cb-spring\r\n- https://www.youtube.com/watch?v=MrplTeEFItk\r\n\r\n\r\nJust to be clear, &quot;couchbaseTemplate.getCouchbaseClientFactory().getCluster()&quot; is the only thing in your code that uses spring-data-couchbase.  After that everything bypasses spring data couchbase, it uses the Couchbase Java SDK.  Using @Transaction is not going to have any effect.\r\n\r\nSpring Data templates and repositories provide their own mapper.  It&#39;s not necessary to provide any.\r\n\r\nregarding https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/blob/basic_crud/crud.couchbase/src/main/java/com/rosariob/crud/couchbase/repository/CustomerRepository.java - please see the try-cb-spring or other sample application, or the spring-data-couchbase tests for defining and using repositories -  https://github.com/spring-projects/spring-data-couchbase/tree/main/src/test/java/org/springframework/data/couchbase/domain\r\n\r\n","title":"Random errors when retrieving data after having inserted them","body":"<p>The query needs to use the query option QueryScanConsistency.REQUEST_PLUS.  The issue is that while a kv.get() would immediately/instantaneously find a document inserted with a kv.insert(), the query engine can only find documents that have been indexed - which is not instantaneous.  REQUEST_PLUS will cause the query to wait until all documents that needed to be indexed at the time the query request was issued are indexed, and then it will execute.  It works in debug because there is enough time for the documents to become indexed.</p>\n<p>&quot; List jsonObjects = couchbaseTemplate.getCouchbaseClientFactory().getScope()\n.query(String.format(&quot;SELECT * FROM %1$s &quot;, keySpace)).rowsAsObject();&quot;</p>\n<p>Why not</p>\n<p>myRepository.withScope(scope).withCollection(collection).findAll()</p>\n<p>You don't have to write any code. (There are also @Scope and @Collection annotations). For the QueryScanConsistency, you could add the method signature (no body required) to the repository and use the WithConistency annotation. see</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.collections\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.collections</a></li>\n<li><a href=\"https://github.com/couchbaselabs/try-cb-spring\" rel=\"nofollow noreferrer\">https://github.com/couchbaselabs/try-cb-spring</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=MrplTeEFItk\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=MrplTeEFItk</a></li>\n</ul>\n<p>Just to be clear, &quot;couchbaseTemplate.getCouchbaseClientFactory().getCluster()&quot; is the only thing in your code that uses spring-data-couchbase.  After that everything bypasses spring data couchbase, it uses the Couchbase Java SDK.  Using @Transaction is not going to have any effect.</p>\n<p>Spring Data templates and repositories provide their own mapper.  It's not necessary to provide any.</p>\n<p>regarding <a href=\"https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/blob/basic_crud/crud.couchbase/src/main/java/com/rosariob/crud/couchbase/repository/CustomerRepository.java\" rel=\"nofollow noreferrer\">https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/blob/basic_crud/crud.couchbase/src/main/java/com/rosariob/crud/couchbase/repository/CustomerRepository.java</a> - please see the try-cb-spring or other sample application, or the spring-data-couchbase tests for defining and using repositories -  <a href=\"https://github.com/spring-projects/spring-data-couchbase/tree/main/src/test/java/org/springframework/data/couchbase/domain\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-couchbase/tree/main/src/test/java/org/springframework/data/couchbase/domain</a></p>\n"}],"owner":{"account_id":24377961,"reputation":56,"user_id":18310003,"display_name":"RosarioB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684795157,"creation_date":1684658906,"question_id":76299023,"body_markdown":"I have tried to build a set of CRUD REST APIs using Spring Boot. I have created the project via Spring Initializr with the dependency spring-boot-starter-data-couchbase.\r\n\r\nI have uploaded the project here [https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/tree/basic_crud][1] The test class is called CustomerRepositoryTest.\r\n\r\nI have implemented some Repository methods using the CouchbaseTemplate. For example:\r\n\r\n```\r\n@Override\r\n    public List&lt;Customer&gt; findAll() {\r\n        List&lt;JsonObject&gt; jsonObjects = couchbaseTemplate.getCouchbaseClientFactory().getScope()\r\n                .query(String.format(&quot;SELECT * FROM %1$s &quot;, keySpace)).rowsAsObject();\r\n        return jsonObjects.stream().map(this::mapJsonToCustomer).collect(Collectors.toList());\r\n     }\r\n```\r\nAnd i have also implemented a test for the above method (with Testcontainers) :\r\n\r\n```\r\n@Test\r\n    public void testFindAll() {\r\n        Customer alex = new Customer(&quot;customer1&quot;, &quot;Alex&quot;, &quot;Stone&quot;);\r\n        Customer jack = new Customer(&quot;customer2&quot;, &quot;Jack&quot;, &quot;Sparrow&quot;);\r\n        List&lt;Customer&gt; customerList = List.of(alex, jack);\r\n        Transactions transactions = couchbaseTemplate.getCouchbaseClientFactory().getCluster().transactions();\r\n        customerList.forEach(customer -&gt;\r\n                transactions.run(ctx -&gt; ctx.insert(collection, customer.getId(), customer)\r\n                )\r\n        );\r\n        List&lt;Customer&gt; customers = customerRepository.findAll();\r\n        Assertions.assertEquals(customerList, customers);\r\n    }\r\n```\r\nMy problem is that even if I perform an insert with 2 items in the database with collection.insert, when I try to recover the items with customerRepository.findAll some times the test fails because it finds just one item of the two. \r\n\r\nIf I run the test in debug it works. I thought there were some synchronization issue and I&#39;ve tried to synchronize the methods but I have not solved the problem.\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\n  [1]: https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/tree/basic_crud","title":"Random errors when retrieving data after having inserted them","body":"<p>I have tried to build a set of CRUD REST APIs using Spring Boot. I have created the project via Spring Initializr with the dependency spring-boot-starter-data-couchbase.</p>\n<p>I have uploaded the project here <a href=\"https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/tree/basic_crud\" rel=\"nofollow noreferrer\">https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/tree/basic_crud</a> The test class is called CustomerRepositoryTest.</p>\n<p>I have implemented some Repository methods using the CouchbaseTemplate. For example:</p>\n<pre><code>@Override\n    public List&lt;Customer&gt; findAll() {\n        List&lt;JsonObject&gt; jsonObjects = couchbaseTemplate.getCouchbaseClientFactory().getScope()\n                .query(String.format(&quot;SELECT * FROM %1$s &quot;, keySpace)).rowsAsObject();\n        return jsonObjects.stream().map(this::mapJsonToCustomer).collect(Collectors.toList());\n     }\n</code></pre>\n<p>And i have also implemented a test for the above method (with Testcontainers) :</p>\n<pre><code>@Test\n    public void testFindAll() {\n        Customer alex = new Customer(&quot;customer1&quot;, &quot;Alex&quot;, &quot;Stone&quot;);\n        Customer jack = new Customer(&quot;customer2&quot;, &quot;Jack&quot;, &quot;Sparrow&quot;);\n        List&lt;Customer&gt; customerList = List.of(alex, jack);\n        Transactions transactions = couchbaseTemplate.getCouchbaseClientFactory().getCluster().transactions();\n        customerList.forEach(customer -&gt;\n                transactions.run(ctx -&gt; ctx.insert(collection, customer.getId(), customer)\n                )\n        );\n        List&lt;Customer&gt; customers = customerRepository.findAll();\n        Assertions.assertEquals(customerList, customers);\n    }\n</code></pre>\n<p>My problem is that even if I perform an insert with 2 items in the database with collection.insert, when I try to recover the items with customerRepository.findAll some times the test fails because it finds just one item of the two.</p>\n<p>If I run the test in debug it works. I thought there were some synchronization issue and I've tried to synchronize the methods but I have not solved the problem.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring-boot","metrics","spring-boot-actuator","application.properties"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648229707,"creation_date":1648229707,"answer_id":71621022,"question_id":71620221,"body_markdown":"Those properties are for configuring per-meter maximums and you haven&#39;t include a meter name. For example, to configure a maximum of `10s` for meter names starting with `example.meter`, you would configure `management.metrics.distribution.maximum-expected-value.example.meter=10s`.\r\n\r\nThe reference documentation contains [a section](https://docs.spring.io/spring-boot/docs/2.5.x/reference/htmlsingle/#actuator.metrics.customizing.per-meter-properties) on per-meter properties.","title":"Spring boot management.metrics.distribution exception","body":"<p>Those properties are for configuring per-meter maximums and you haven't include a meter name. For example, to configure a maximum of <code>10s</code> for meter names starting with <code>example.meter</code>, you would configure <code>management.metrics.distribution.maximum-expected-value.example.meter=10s</code>.</p>\n<p>The reference documentation contains <a href=\"https://docs.spring.io/spring-boot/docs/2.5.x/reference/htmlsingle/#actuator.metrics.customizing.per-meter-properties\" rel=\"nofollow noreferrer\">a section</a> on per-meter properties.</p>\n"}],"owner":{"account_id":10531082,"reputation":451,"user_id":7760390,"display_name":"Rabin Mallilck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71621022,"answer_count":1,"score":0,"last_activity_date":1684795132,"creation_date":1648225718,"question_id":71620221,"body_markdown":"I&#39;m trying to set the values of these two properties in my spring boot `application.properties` file -\r\n```\r\nmanagement.metrics.distribution.maximum-expected-value=1\r\nmanagement.metrics.distribution.maximum-expected-value=10\r\n```\r\nor \r\n```\r\nmanagement.metrics.distribution.maximum-expected-value=1s\r\nmanagement.metrics.distribution.maximum-expected-value=10s\r\n```\r\n\r\nEvery-time I try to run my application with these two fields set, I get below exception - \r\n\r\n```APPLICATION FAILED TO START\\n***************************\\n\\nDescription:\\n\\nFailed to bind properties under &#39;management.metrics.distribution.maximum-expected-value&#39; to java.util.Map&lt;java.lang.String, java.lang.String&gt;:\\n\\n    Reason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [java.util.Map&lt;java.lang.String, java.lang.String&gt;]\\n\\nAction:\\n\\nUpdate your application&#39;s configuration\\n&quot;}```\r\n\r\nI&#39;m going through the doc, but they don&#39;t have shown any example how to set those values properly - https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1.0-RC1-Configuration-Changelog#:~:text=management.metrics.distribution,minimum%2Dexpected%2Dvalue\r\n\r\nCan anyone please tell me what I&#39;m doing wrong here?","title":"Spring boot management.metrics.distribution exception","body":"<p>I'm trying to set the values of these two properties in my spring boot <code>application.properties</code> file -</p>\n<pre><code>management.metrics.distribution.maximum-expected-value=1\nmanagement.metrics.distribution.maximum-expected-value=10\n</code></pre>\n<p>or</p>\n<pre><code>management.metrics.distribution.maximum-expected-value=1s\nmanagement.metrics.distribution.maximum-expected-value=10s\n</code></pre>\n<p>Every-time I try to run my application with these two fields set, I get below exception -</p>\n<p><code>APPLICATION FAILED TO START\\n***************************\\n\\nDescription:\\n\\nFailed to bind properties under 'management.metrics.distribution.maximum-expected-value' to java.util.Map&lt;java.lang.String, java.lang.String&gt;:\\n\\n    Reason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [java.util.Map&lt;java.lang.String, java.lang.String&gt;]\\n\\nAction:\\n\\nUpdate your application's configuration\\n&quot;}</code></p>\n<p>I'm going through the doc, but they don't have shown any example how to set those values properly - <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1.0-RC1-Configuration-Changelog#:%7E:text=management.metrics.distribution,minimum%2Dexpected%2Dvalue\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1.0-RC1-Configuration-Changelog#:~:text=management.metrics.distribution,minimum%2Dexpected%2Dvalue</a></p>\n<p>Can anyone please tell me what I'm doing wrong here?</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662374536,"post_id":73607405,"comment_id":129983907,"body_markdown":"Dependencies won&#39;t set the value for that property. `-Dmanagement.endpoints.web.exposure.include=loggers,health,info,prometheus,metrics` isn&#39;t a command line attribute but a system property, which when placed in the wrong place (after the `-jar &lt;your jar&gt;`) doesn&#39;t do anything. `--management.endpoints.web.exposure.include=loggers,health,info,prometheus,metrics` is a command line argument.","body":"Dependencies won&#39;t set the value for that property. <code>-Dmanagement.endpoints.web.exposure.include=loggers,health,i&zwnj;&#8203;nfo,prometheus,metri&zwnj;&#8203;cs</code> isn&#39;t a command line attribute but a system property, which when placed in the wrong place (after the <code>-jar &lt;your jar&gt;</code>) doesn&#39;t do anything. <code>--management.endpoints.web.exposure.include=loggers,health,i&zwnj;&#8203;nfo,prometheus,metri&zwnj;&#8203;cs</code> is a command line argument."},{"owner":{"account_id":5863550,"reputation":90,"user_id":4618369,"display_name":"Nixivious"},"score":0,"creation_date":1662375415,"post_id":73607405,"comment_id":129984189,"body_markdown":"@deinum tried your approach but get an error on startup instead. \nUnrecognized option: —management.endpoints.web.exposure.include=loggers,health,info,prometheus,metrics\nError: Could not create the Java Virtual Machine.","body":"@deinum tried your approach but get an error on startup instead.  Unrecognized option: —management.endpoints.web.exposure.include=loggers,health,in&zwnj;&#8203;fo,prometheus,metric&zwnj;&#8203;s Error: Could not create the Java Virtual Machine."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662376811,"post_id":73607405,"comment_id":129984664,"body_markdown":"I stated (i thought clearly) that when it is **after** the `-jar` in your commandline/script it is wrong. If it is before that (basically following the `java` command) it is in the correct position.","body":"I stated (i thought clearly) that when it is <b>after</b> the <code>-jar</code> in your commandline/script it is wrong. If it is before that (basically following the <code>java</code> command) it is in the correct position."},{"owner":{"account_id":5863550,"reputation":90,"user_id":4618369,"display_name":"Nixivious"},"score":0,"creation_date":1662377607,"post_id":73607405,"comment_id":129984966,"body_markdown":"Made sure that was the case (all options in front, jar at the end), but it still errored out.","body":"Made sure that was the case (all options in front, jar at the end), but it still errored out."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662377944,"post_id":73607405,"comment_id":129985078,"body_markdown":"I must be unclear... When it is `-D` it needs to go **before** the `-jar`... When it is `--management.endpoints.web.exposure.include=loggers,health,info,prometheus,metrics` it needs to go **after** `-jar &lt;your-jar&gt;`...","body":"I must be unclear... When it is <code>-D</code> it needs to go <b>before</b> the <code>-jar</code>... When it is <code>--management.endpoints.web.exposure.include=loggers,health,i&zwnj;&#8203;nfo,prometheus,metri&zwnj;&#8203;cs</code> it needs to go <b>after</b> <code>-jar &lt;your-jar&gt;</code>..."},{"owner":{"account_id":5863550,"reputation":90,"user_id":4618369,"display_name":"Nixivious"},"score":0,"creation_date":1662383999,"post_id":73607405,"comment_id":129987386,"body_markdown":"@deinum, apologies mis read, but attempted putting the —management… **after** the -jar as well with no effect","body":"@deinum, apologies mis read, but attempted putting the —management… <b>after</b> the -jar as well with no effect"}],"answers":[{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662374461,"creation_date":1662374461,"answer_id":73608081,"question_id":73607405,"body_markdown":"Your question lacks some background, like your pom.xml or build.gradle files and full application.yml config. \r\n\r\nI will go through the basic steps, which you may have missed.\r\n\r\nFirstly, please make sure that you&#39;ve included the Prometheus dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n  &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n  &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlso, don&#39;t forget that some metrics require the AOP dependency (like custome timers, for example):\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nTo enable the Prometheus metrics exposure, you should specify such configuration in your application.yml file (it seems like you did it correctly, but let&#39;s list it here for the full picture):\r\n```javascript\r\nmanagement:\r\n  endpoints:\r\n    web.exposure.include: health, info, prometheus\r\n```\r\n\r\nTo verify that the Prometheus endpoints were exposed, please use the GET request to this URL: `http://localhost:8080/actuator/prometheus`\r\n\r\nIf those steps don&#39;t help you resolve your issue, please add more details to your question.","title":"Spring Boot Actuators only exposing limited endpoints","body":"<p>Your question lacks some background, like your pom.xml or build.gradle files and full application.yml config.</p>\n<p>I will go through the basic steps, which you may have missed.</p>\n<p>Firstly, please make sure that you've included the Prometheus dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n  &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, don't forget that some metrics require the AOP dependency (like custome timers, for example):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To enable the Prometheus metrics exposure, you should specify such configuration in your application.yml file (it seems like you did it correctly, but let's list it here for the full picture):</p>\n<pre class=\"lang-js prettyprint-override\"><code>management:\n  endpoints:\n    web.exposure.include: health, info, prometheus\n</code></pre>\n<p>To verify that the Prometheus endpoints were exposed, please use the GET request to this URL: <code>http://localhost:8080/actuator/prometheus</code></p>\n<p>If those steps don't help you resolve your issue, please add more details to your question.</p>\n"}],"owner":{"account_id":5863550,"reputation":90,"user_id":4618369,"display_name":"Nixivious"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684795097,"creation_date":1662370953,"question_id":73607405,"body_markdown":"I am trying to expose additional actuator endpoints in my Spring Boot 2.3 service. Attempting to add endpoints such as the prometheus and metrics for monitoring. But for some reason, the exposed endpoints are locked to the default loggers,health,info. \r\n\r\nFor some background, within the org, there is a parent Spring dependency which automatically brings all of the Spring essentials, as well as some generic code useful within the org. I use this dependency in many of my other projects and was able to expose these additional actuator endpoints successfully. However, in this project with multiple artifacts, I am unable to edit the default exposed actuator endpoints. \r\n\r\nPrinting the `configurableEnvironment` post init always shows the exposure property as follows\r\n\r\n```\r\nmanagement.endpoints.web.exposure.include = loggers,health,info\r\n```\r\nThis is after trying to override this property to an expanded list (loggers,health,info,Prometheus,metrics) using below methods:\r\n\r\n - Enabling specific endpoint via `management.endpoint.metrics.enabled: true`\r\n - Specifying these values in application.yaml\r\n - Passing this as a Command line arguement `Dmanagement.endpoints.web.exposure.include=loggers,health,info,prometheus,metrics`\r\n - Using `mvn dependency:tree` To exclude any transitive actuator dependencies \r\n\r\nI don’t believe its due to the org’s parent pom, likely due to another dependency we are using. But due to the size of this project, it is quite hard to remove dependencies to test. Is there any way to track down where these properties are set. Or perhaps additional ways to force exposure of the additional endpoints I want?\r\n\r\n——\r\n\r\nActuator config\r\n\r\n```\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: metrics,prometheus,info,health,logging\r\n  endpoint:\r\n    env:\r\n      enabled: true\r\n    metrics:\r\n      enabled: true\r\n    info:\r\n      enabled: true\r\n    health:\r\n      enabled: true\r\n      show-details: always\r\n    beans:\r\n      enabled: true\r\n    caches:\r\n      enabled: true\r\n    threaddump:\r\n      enabled: true\r\n    prometheus:\r\n      enabled: true\r\n```\r\n\r\nActuator info \r\n```\r\n{&quot;_links&quot;:{&quot;self&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator&quot;,&quot;templated&quot;:false},&quot;health&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/health&quot;,&quot;templated&quot;:false},&quot;health-path&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/health/{*path}&quot;,&quot;templated&quot;:true},&quot;info&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/info&quot;,&quot;templated&quot;:false},&quot;loggers&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/loggers&quot;,&quot;templated&quot;:false},&quot;loggers-name&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/loggers/{name}&quot;,&quot;templated&quot;:true}}}\r\n\r\n```","title":"Spring Boot Actuators only exposing limited endpoints","body":"<p>I am trying to expose additional actuator endpoints in my Spring Boot 2.3 service. Attempting to add endpoints such as the prometheus and metrics for monitoring. But for some reason, the exposed endpoints are locked to the default loggers,health,info.</p>\n<p>For some background, within the org, there is a parent Spring dependency which automatically brings all of the Spring essentials, as well as some generic code useful within the org. I use this dependency in many of my other projects and was able to expose these additional actuator endpoints successfully. However, in this project with multiple artifacts, I am unable to edit the default exposed actuator endpoints.</p>\n<p>Printing the <code>configurableEnvironment</code> post init always shows the exposure property as follows</p>\n<pre><code>management.endpoints.web.exposure.include = loggers,health,info\n</code></pre>\n<p>This is after trying to override this property to an expanded list (loggers,health,info,Prometheus,metrics) using below methods:</p>\n<ul>\n<li>Enabling specific endpoint via <code>management.endpoint.metrics.enabled: true</code></li>\n<li>Specifying these values in application.yaml</li>\n<li>Passing this as a Command line arguement <code>Dmanagement.endpoints.web.exposure.include=loggers,health,info,prometheus,metrics</code></li>\n<li>Using <code>mvn dependency:tree</code> To exclude any transitive actuator dependencies</li>\n</ul>\n<p>I don’t believe its due to the org’s parent pom, likely due to another dependency we are using. But due to the size of this project, it is quite hard to remove dependencies to test. Is there any way to track down where these properties are set. Or perhaps additional ways to force exposure of the additional endpoints I want?</p>\n<p>——</p>\n<p>Actuator config</p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include: metrics,prometheus,info,health,logging\n  endpoint:\n    env:\n      enabled: true\n    metrics:\n      enabled: true\n    info:\n      enabled: true\n    health:\n      enabled: true\n      show-details: always\n    beans:\n      enabled: true\n    caches:\n      enabled: true\n    threaddump:\n      enabled: true\n    prometheus:\n      enabled: true\n</code></pre>\n<p>Actuator info</p>\n<pre><code>{&quot;_links&quot;:{&quot;self&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator&quot;,&quot;templated&quot;:false},&quot;health&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/health&quot;,&quot;templated&quot;:false},&quot;health-path&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/health/{*path}&quot;,&quot;templated&quot;:true},&quot;info&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/info&quot;,&quot;templated&quot;:false},&quot;loggers&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/loggers&quot;,&quot;templated&quot;:false},&quot;loggers-name&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/loggers/{name}&quot;,&quot;templated&quot;:true}}}\n\n</code></pre>\n"},{"tags":["java","spring","prometheus","spring-boot-actuator"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662729389,"post_id":73659704,"comment_id":130079760,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":13772759,"reputation":21,"user_id":9939786,"display_name":"Shubham Jindal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684795072,"creation_date":1662714014,"question_id":73659704,"body_markdown":"Like I have an API /v1/api/location and **country** as params so I need metric based on params /v1/api/location?country=IN , /v1/api/location?country=US \r\n\r\nI need Metric based on country param","title":"How can I get Metric based on request Params in Actuator Spring Boot","body":"<p>Like I have an API /v1/api/location and <strong>country</strong> as params so I need metric based on params /v1/api/location?country=IN , /v1/api/location?country=US</p>\n<p>I need Metric based on country param</p>\n"},{"tags":["java","spring-boot","nullpointerexception","swagger","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664806499,"creation_date":1664806499,"answer_id":73936762,"question_id":73930751,"body_markdown":"Swaggerfox is not compatible with the newer Spring Boot versions.\r\n\r\nTry Springdoc instead https://springdoc.org/:\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;1.6.11&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nYou can access the Swagger UI: http://localhost:8080/swagger-ui/index.html","title":"Spring Boot Rest API failed to run if actuator dependency is added to pom.xml","body":"<p>Swaggerfox is not compatible with the newer Spring Boot versions.</p>\n<p>Try Springdoc instead <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">https://springdoc.org/</a>:</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.6.11&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>You can access the Swagger UI: http://localhost:8080/swagger-ui/index.html</p>\n"}],"owner":{"account_id":9990575,"reputation":77,"user_id":7390017,"display_name":"Syed Noman Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73936762,"answer_count":1,"score":1,"last_activity_date":1684795063,"creation_date":1664766270,"question_id":73930751,"body_markdown":"I have a simple spring boot application with just one GET endpoint for testing purpose. The endpoint works fine as far as I don&#39;t add the actuator dependency to my project. However, as soon as I add the actuator dependency, it stops running and throws the following error which is surprisingly for swagger I believe.\r\n\r\nSo I am not understanding why this error is appearing if I have swagger already enabled and working.\r\n\r\n**Error:**\r\n```\r\n2022-10-02 22:48:26.558  WARN 14872 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException\r\n2022-10-02 22:48:26.739  INFO 14872 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-10-02 22:48:26.754  INFO 14872 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-10-02 22:48:26.769 ERROR 14872 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat com.example.playground.PlaygroundApplication.main(PlaygroundApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.NullPointerException: null\r\n\tat springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:112) ~[springfox-spi-2.9.2.jar:null]\r\n\tat springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:109) ~[springfox-spi-2.9.2.jar:null]\r\n\tat com.google.common.collect.ComparatorOrdering.compare(ComparatorOrdering.java:37) ~[guava-20.0.jar:na]\r\n\tat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355) ~[na:na]\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:220) ~[na:na]\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1441) ~[na:na]\r\n\tat com.google.common.collect.Ordering.sortedCopy(Ordering.java:855) ~[guava-20.0.jar:na]\r\n\tat springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat com.google.common.collect.Iterators$7.transform(Iterators.java:750) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.FluentIterable.toList(FluentIterable.java:614) ~[guava-20.0.jar:na]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\r\n\t... 14 common frames omitted\r\n```\r\n\r\nHere is this sample project in the github that you can clone and run to replicate this error: https://github.com/syednoman84/playground/\r\n\r\nFew points about this sample project:\r\n\r\n 1. It is using actuator, lombok, swagger2, swagger-ui and\r\n    swagger-bean-validators\r\n 2. I have this\r\n    ```spring.mvc.pathmatch.matching-strategy=ANT_PATH_MATCHER``` in my ```application.properties```\r\n 3. I have a SwaggerConfig defined in SwaggerConfig.java\r\n 4. I have a DocketApiBean defined as DocketApiBean.java   \r\n\r\nJust to reiterate, as soon as I remove the actuator dependency from my pom.xml, everything works fine. However, if I add the actuator dependency and then run the app, it fails to start.\r\n\r\nThanks for the help in advance.\r\n \r\n","title":"Spring Boot Rest API failed to run if actuator dependency is added to pom.xml","body":"<p>I have a simple spring boot application with just one GET endpoint for testing purpose. The endpoint works fine as far as I don't add the actuator dependency to my project. However, as soon as I add the actuator dependency, it stops running and throws the following error which is surprisingly for swagger I believe.</p>\n<p>So I am not understanding why this error is appearing if I have swagger already enabled and working.</p>\n<p><strong>Error:</strong></p>\n<pre><code>2022-10-02 22:48:26.558  WARN 14872 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException\n2022-10-02 22:48:26.739  INFO 14872 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-10-02 22:48:26.754  INFO 14872 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-10-02 22:48:26.769 ERROR 14872 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.23.jar:5.3.23]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\n    at com.example.playground.PlaygroundApplication.main(PlaygroundApplication.java:10) ~[classes/:na]\nCaused by: java.lang.NullPointerException: null\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:112) ~[springfox-spi-2.9.2.jar:null]\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:109) ~[springfox-spi-2.9.2.jar:null]\n    at com.google.common.collect.ComparatorOrdering.compare(ComparatorOrdering.java:37) ~[guava-20.0.jar:na]\n    at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355) ~[na:na]\n    at java.base/java.util.TimSort.sort(TimSort.java:220) ~[na:na]\n    at java.base/java.util.Arrays.sort(Arrays.java:1441) ~[na:na]\n    at com.google.common.collect.Ordering.sortedCopy(Ordering.java:855) ~[guava-20.0.jar:na]\n    at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135) ~[springfox-spring-web-2.9.2.jar:null]\n    at com.google.common.collect.Iterators$7.transform(Iterators.java:750) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209) ~[guava-20.0.jar:na]\n    at com.google.common.collect.FluentIterable.toList(FluentIterable.java:614) ~[guava-20.0.jar:na]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167) ~[springfox-spring-web-2.9.2.jar:null]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\n    ... 14 common frames omitted\n</code></pre>\n<p>Here is this sample project in the github that you can clone and run to replicate this error: <a href=\"https://github.com/syednoman84/playground/\" rel=\"nofollow noreferrer\">https://github.com/syednoman84/playground/</a></p>\n<p>Few points about this sample project:</p>\n<ol>\n<li>It is using actuator, lombok, swagger2, swagger-ui and\nswagger-bean-validators</li>\n<li>I have this\n<code>spring.mvc.pathmatch.matching-strategy=ANT_PATH_MATCHER</code> in my <code>application.properties</code></li>\n<li>I have a SwaggerConfig defined in SwaggerConfig.java</li>\n<li>I have a DocketApiBean defined as DocketApiBean.java</li>\n</ol>\n<p>Just to reiterate, as soon as I remove the actuator dependency from my pom.xml, everything works fine. However, if I add the actuator dependency and then run the app, it fails to start.</p>\n<p>Thanks for the help in advance.</p>\n"},{"tags":["java","maven","maven-plugin","maven-antrun-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1684826212,"post_id":76310253,"comment_id":134569593,"body_markdown":"Please explain why the usage of a property in the id is necessary?","body":"Please explain why the usage of a property in the id is necessary?"}],"owner":{"account_id":28657706,"reputation":1,"user_id":21943355,"display_name":"mankubus01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684794307,"creation_date":1684794307,"question_id":76310253,"body_markdown":"I need to initialize a parameter via antrun/gmaven in the parent project and use its value in the configuration of the plugin in the child module. For clarity, in the example the plugin id is configured, in the real case I need to configure the phase.Is it possible to do this &quot;directly&quot;? Full code of simple project is here - https://github.com/chemist22888/example.\r\n\r\nParent antrun plugin:\r\n```\r\n\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\r\n                            &lt;target&gt;\r\n                                &lt;property name=&quot;test.id&quot; value=&quot;testId&quot;/&gt;\r\n                                &lt;property name=&quot;test.phase&quot; value=&quot;generate-sources&quot;/&gt;\r\n\r\n                                &lt;echo message=&quot;parent phase ${test.id}&quot;/&gt;\r\n                            &lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nChild antrun plugin:\r\n```\r\n   &lt;plugin&gt;\r\n\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;${test.phase}&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;target&gt;\r\n                                &lt;echo message=&quot;child ${test.phase}&quot;/&gt;\r\n                            &lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nAfter execution the correct value of parameter is displayed at console, but id of plugin is ${test.phase} instead of generate-sources. Is there any possibility to fix this?\r\n\r\nAlso tried using gmaven plugin, but had the same issue","title":"Maven - Using initialized at antrun parameter at plugin configuration","body":"<p>I need to initialize a parameter via antrun/gmaven in the parent project and use its value in the configuration of the plugin in the child module. For clarity, in the example the plugin id is configured, in the real case I need to configure the phase.Is it possible to do this &quot;directly&quot;? Full code of simple project is here - <a href=\"https://github.com/chemist22888/example\" rel=\"nofollow noreferrer\">https://github.com/chemist22888/example</a>.</p>\n<p>Parent antrun plugin:</p>\n<pre><code>\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\n                            &lt;target&gt;\n                                &lt;property name=&quot;test.id&quot; value=&quot;testId&quot;/&gt;\n                                &lt;property name=&quot;test.phase&quot; value=&quot;generate-sources&quot;/&gt;\n\n                                &lt;echo message=&quot;parent phase ${test.id}&quot;/&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Child antrun plugin:</p>\n<pre><code>   &lt;plugin&gt;\n\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;${test.phase}&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;target&gt;\n                                &lt;echo message=&quot;child ${test.phase}&quot;/&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>After execution the correct value of parameter is displayed at console, but id of plugin is ${test.phase} instead of generate-sources. Is there any possibility to fix this?</p>\n<p>Also tried using gmaven plugin, but had the same issue</p>\n"},{"tags":["java","string","sorting","bigdecimal"],"comments":[{"owner":{"account_id":2114766,"reputation":1130,"user_id":1879313,"accept_rate":57,"display_name":"Christopher Helck"},"score":0,"creation_date":1594393065,"post_id":62834745,"comment_id":111119772,"body_markdown":"What is the question? What is the problem? Do you want the array s to be an array of BigDecimals?","body":"What is the question? What is the problem? Do you want the array s to be an array of BigDecimals?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1594415062,"post_id":62834745,"comment_id":111129359,"body_markdown":"BigDecimal implements Comparable, so this handy static method should work: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#sort(java.lang.Object%5B%5D)","body":"BigDecimal implements Comparable, so this handy static method should work: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":19046804,"reputation":11,"user_id":13905816,"display_name":"BALRAM SINGH RAJPUT"},"score":0,"creation_date":1594749795,"post_id":62834745,"comment_id":111233814,"body_markdown":"here is the link of the problem.      https://www.hackerrank.com/challenges/java-bigdecimal/problem","body":"here is the link of the problem.      <a href=\"https://www.hackerrank.com/challenges/java-bigdecimal/problem\" rel=\"nofollow noreferrer\">hackerrank.com/challenges/java-bigdecimal/problem</a>"}],"answers":[{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594386566,"creation_date":1594386189,"answer_id":62834919,"question_id":62834745,"body_markdown":"You can change your inner loop body to this:\r\n\r\n    String si = s[i], sj = s[j];\r\n    if (new BigDecimal(si).compareTo(new BigDecimal(sj)) &lt; 0) {\r\n        s[i] = sj;\r\n        s[j] = si;\r\n    }\r\n\r\nYou don&#39;t need to store the result from converted big decimals back into the array, but use them only for comparison.\r\n\r\nFor the input:\r\n\r\n    9, -100, 50, 0, 56.6, 90, 0.12, .12, 02.34, 000.000\r\n\r\nI get back:\r\n\r\n    90, 56.6, 50, 9, 02.34, .12, 0.12, 0, 000.000, -100\r\n\r\n# [DEMO](https://ideone.com/x5jvZb)\r\n\r\nAnd if you don&#39;t work with massive big numbers, normal `double`s should suffice:\r\n\r\n    if(Double.parseDouble(si) &lt; Double.parseDouble(sj))","title":"Convert String value into BigDecimal and sort them in descending order and then print them","body":"<p>You can change your inner loop body to this:</p>\n<pre><code>String si = s[i], sj = s[j];\nif (new BigDecimal(si).compareTo(new BigDecimal(sj)) &lt; 0) {\n    s[i] = sj;\n    s[j] = si;\n}\n</code></pre>\n<p>You don't need to store the result from converted big decimals back into the array, but use them only for comparison.</p>\n<p>For the input:</p>\n<pre><code>9, -100, 50, 0, 56.6, 90, 0.12, .12, 02.34, 000.000\n</code></pre>\n<p>I get back:</p>\n<pre><code>90, 56.6, 50, 9, 02.34, .12, 0.12, 0, 000.000, -100\n</code></pre>\n<h1><a href=\"https://ideone.com/x5jvZb\" rel=\"nofollow noreferrer\">DEMO</a></h1>\n<p>And if you don't work with massive big numbers, normal <code>double</code>s should suffice:</p>\n<pre><code>if(Double.parseDouble(si) &lt; Double.parseDouble(sj))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594387551,"creation_date":1594387551,"answer_id":62835299,"question_id":62834745,"body_markdown":"Try something like this (untested):\r\n\r\n            List&lt;String&gt; sortedNumberStrings = Arrays.stream(numberStrings)\r\n                    .map(NumberString::new)\r\n                    .sorted(Comparator.reverseOrder())\r\n                    .map(NumberString::getStringValue)\r\n                    .collect(Collectors.toList());\r\n\r\n            System.out.println(sortedNumberStrings);\r\n\r\n   \r\n\r\n    private static class NumberString implements Comparable&lt;NumberString&gt; {\r\n    \r\n            private final String stringValue;\r\n            private final BigDecimal bigDecimalValue;\r\n    \r\n            NumberString(String stringValue) {\r\n    \r\n                this.stringValue = stringValue;\r\n                this.bigDecimalValue = new BigDecimal(stringValue);\r\n            }\r\n    \r\n            public String getStringValue() {\r\n                return stringValue;\r\n            }\r\n    \r\n            public BigDecimal getBigDecimalValue() {\r\n                return bigDecimalValue;\r\n            }\r\n    \r\n            private static final Comparator&lt;NumberString&gt; NATURAL_ORDER_COMPARATOR =\r\n                    Comparator.comparing(NumberString::getBigDecimalValue) // sort by value\r\n                            .thenComparing(NumberString::getStringValue); // sort lexically\r\n    \r\n            @Override\r\n            public int compareTo(NumberString other) {\r\n                return NATURAL_ORDER_COMPARATOR.compare(this, other);\r\n            }\r\n    \r\n            @Override\r\n            public int hashCode() {\r\n                return Objects.hash(stringValue, bigDecimalValue);\r\n            }\r\n    \r\n            @Override\r\n            public boolean equals(Object o) {\r\n                if (this == o) {\r\n                    return true;\r\n                }\r\n                if (!(o instanceof NumberString)) {\r\n                    return false;\r\n                }\r\n                NumberString that = (NumberString) o;\r\n                return Objects.equals(stringValue, that.stringValue) &amp;&amp;\r\n                        Objects.equals(bigDecimalValue, that.bigDecimalValue);\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return stringValue;\r\n            }\r\n        }","title":"Convert String value into BigDecimal and sort them in descending order and then print them","body":"<p>Try something like this (untested):</p>\n<pre><code>        List&lt;String&gt; sortedNumberStrings = Arrays.stream(numberStrings)\n                .map(NumberString::new)\n                .sorted(Comparator.reverseOrder())\n                .map(NumberString::getStringValue)\n                .collect(Collectors.toList());\n\n        System.out.println(sortedNumberStrings);\n\n\n\nprivate static class NumberString implements Comparable&lt;NumberString&gt; {\n\n        private final String stringValue;\n        private final BigDecimal bigDecimalValue;\n\n        NumberString(String stringValue) {\n\n            this.stringValue = stringValue;\n            this.bigDecimalValue = new BigDecimal(stringValue);\n        }\n\n        public String getStringValue() {\n            return stringValue;\n        }\n\n        public BigDecimal getBigDecimalValue() {\n            return bigDecimalValue;\n        }\n\n        private static final Comparator&lt;NumberString&gt; NATURAL_ORDER_COMPARATOR =\n                Comparator.comparing(NumberString::getBigDecimalValue) // sort by value\n                        .thenComparing(NumberString::getStringValue); // sort lexically\n\n        @Override\n        public int compareTo(NumberString other) {\n            return NATURAL_ORDER_COMPARATOR.compare(this, other);\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(stringValue, bigDecimalValue);\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) {\n                return true;\n            }\n            if (!(o instanceof NumberString)) {\n                return false;\n            }\n            NumberString that = (NumberString) o;\n            return Objects.equals(stringValue, that.stringValue) &amp;&amp;\n                    Objects.equals(bigDecimalValue, that.bigDecimalValue);\n        }\n\n        @Override\n        public String toString() {\n            return stringValue;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":442404,"reputation":4693,"user_id":833007,"accept_rate":61,"display_name":"AnujAroshA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667519431,"creation_date":1667519431,"answer_id":74310725,"question_id":62834745,"body_markdown":"What the author may seek is following as the solution.\r\n\r\n    for (int i = 1; i &lt; n; i++) {\r\n        for (int j = 0; j &lt; n - 1; j++) {\r\n            if (new BigDecimal(s[j]).compareTo(new BigDecimal(s[j + 1])) &lt; 0) {\r\n                String temp = s[j];\r\n                s[j] = s[j + 1];\r\n                s[j + 1] = temp;\r\n            }\r\n        }\r\n    }\r\n\r\nWhat this change from the @Lino&#39;s answer is the order of `0.12` and `.12`\r\n\r\nThis gives following output and this should be the output according to the [problem link][1] that the author has shared.\r\n\r\n`90  56.6    50  02.34   0.12    .12     0   000.000 -100`\r\n\r\n\r\n  [1]: https://www.hackerrank.com/challenges/java-bigdecimal/problem","title":"Convert String value into BigDecimal and sort them in descending order and then print them","body":"<p>What the author may seek is following as the solution.</p>\n<pre><code>for (int i = 1; i &lt; n; i++) {\n    for (int j = 0; j &lt; n - 1; j++) {\n        if (new BigDecimal(s[j]).compareTo(new BigDecimal(s[j + 1])) &lt; 0) {\n            String temp = s[j];\n            s[j] = s[j + 1];\n            s[j + 1] = temp;\n        }\n    }\n}\n</code></pre>\n<p>What this change from the @Lino's answer is the order of <code>0.12</code> and <code>.12</code></p>\n<p>This gives following output and this should be the output according to the <a href=\"https://www.hackerrank.com/challenges/java-bigdecimal/problem\" rel=\"nofollow noreferrer\">problem link</a> that the author has shared.</p>\n<p><code>90  56.6    50  02.34   0.12    .12     0   000.000 -100</code></p>\n"},{"tags":[],"owner":{"account_id":28484031,"reputation":11,"user_id":21797603,"display_name":"hari862"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684558512,"creation_date":1684515787,"answer_id":76291138,"question_id":62834745,"body_markdown":"First thing to understand is that we need to maintain the input string data to printed in same format in output e.g. 0.12 and .12 are to be printed in same format as in the input. If we just do BigDecimal based comparison then input data format will be lost and .12 becomes 0.12. Hence to have this format, we could have the data stored in a Pair like format where one data is used to BigDecimal comparison while other data is used for keeping the original format.\r\n\r\nUsing Java 8, I came up with below solution:\r\n\r\n    public static void main(String []args){\r\n        //Input\r\n        Scanner sc= new Scanner(System.in);\r\n        int n=sc.nextInt();\r\n        String [][] s=new String[n][2];\r\n        for(int i=0;i&lt;n;i++){\r\n            s[i][0]=sc.next(); // to be used for BigDecimal comparison\r\n            s[i][1]=s[i][0];   // to be used for printing in original format\r\n        }\r\n        sc.close();\r\n\r\n        Arrays.stream(s)\r\n                .sorted((o1, o2) -&gt; new BigDecimal(o2[0]).compareTo(new BigDecimal(o1[0])))\r\n                .forEach(o -&gt; System.out.println(o[1]));","title":"Convert String value into BigDecimal and sort them in descending order and then print them","body":"<p>First thing to understand is that we need to maintain the input string data to printed in same format in output e.g. 0.12 and .12 are to be printed in same format as in the input. If we just do BigDecimal based comparison then input data format will be lost and .12 becomes 0.12. Hence to have this format, we could have the data stored in a Pair like format where one data is used to BigDecimal comparison while other data is used for keeping the original format.</p>\n<p>Using Java 8, I came up with below solution:</p>\n<pre><code>public static void main(String []args){\n    //Input\n    Scanner sc= new Scanner(System.in);\n    int n=sc.nextInt();\n    String [][] s=new String[n][2];\n    for(int i=0;i&lt;n;i++){\n        s[i][0]=sc.next(); // to be used for BigDecimal comparison\n        s[i][1]=s[i][0];   // to be used for printing in original format\n    }\n    sc.close();\n\n    Arrays.stream(s)\n            .sorted((o1, o2) -&gt; new BigDecimal(o2[0]).compareTo(new BigDecimal(o1[0])))\n            .forEach(o -&gt; System.out.println(o[1]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684794210,"creation_date":1684741063,"answer_id":76303934,"question_id":62834745,"body_markdown":"To get an ascending list of values you can use a `List` and the `List.sort` method.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    String[] strings = scanner.nextLine().split(&quot; &quot;);\r\n    List&lt;BigDecimal&gt; values = new ArrayList&lt;&gt;();\r\n    for (String string : strings)\r\n        values.add(new BigDecimal(string));\r\n    values.sort(Comparator.reverseOrder());\r\n    System.out.println(values);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[-100, 0, 0.000, 0.12, 0.12, 2.34, 50, 56.6, 90]\r\n```","title":"Convert String value into BigDecimal and sort them in descending order and then print them","body":"<p>To get an ascending list of values you can use a <code>List</code> and the <code>List.sort</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    String[] strings = scanner.nextLine().split(&quot; &quot;);\n    List&lt;BigDecimal&gt; values = new ArrayList&lt;&gt;();\n    for (String string : strings)\n        values.add(new BigDecimal(string));\n    values.sort(Comparator.reverseOrder());\n    System.out.println(values);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[-100, 0, 0.000, 0.12, 0.12, 2.34, 50, 56.6, 90]\n</code></pre>\n"}],"owner":{"account_id":19046804,"reputation":11,"user_id":13905816,"display_name":"BALRAM SINGH RAJPUT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1684794210,"creation_date":1594385556,"question_id":62834745,"body_markdown":"**here is my code but it is not taking a string as it is in BigDecimal variable** \r\n\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class BigDesimal {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tint n = in.nextInt();\r\n    \t\tString[] s = new String[n];\r\n    \t\tfor(int i=0; i&lt;n; ++i) {\r\n    \t\t\ts[i] = in.next();\r\n    \t\t}\r\n    \t\tin.close();\r\n    \r\n    \t\tBigDecimal max, min;\r\n    \t\tfor(int i=0; i&lt;n-1; i++) {\r\n    \t\t\tfor(int j=i+1; j&lt;n; j++) {\r\n    \t\t\t\tmax = (new BigDecimal(s[i])).max(new BigDecimal(s[j]));\r\n                    min = (new BigDecimal(s[i])).min(new BigDecimal(s[j]));\r\n                    s[i] = max.toString();\r\n                    s[j] = min.toString();\r\n                     \r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t \r\n    \r\n    \t\tSystem.out.println(Arrays.toString(s));\r\n    \r\n    \t}\r\n    \r\n    }\r\n \r\nI run this program for the following input: \r\n*9\r\n\r\n-100, \r\n50, \r\n0, \r\n56.6, \r\n90, \r\n0.12, \r\n.12, \r\n02.34, \r\n000.000*\r\n\r\nAnd the output is:\r\n*[90, 56.6, 50, 2.34, 0.12, 0.12, 0, 0, -100]*\r\n\r\n","title":"Convert String value into BigDecimal and sort them in descending order and then print them","body":"<p><strong>here is my code but it is not taking a string as it is in BigDecimal variable</strong></p>\n<pre><code>import java.math.BigDecimal;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class BigDesimal {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        String[] s = new String[n];\n        for(int i=0; i&lt;n; ++i) {\n            s[i] = in.next();\n        }\n        in.close();\n\n        BigDecimal max, min;\n        for(int i=0; i&lt;n-1; i++) {\n            for(int j=i+1; j&lt;n; j++) {\n                max = (new BigDecimal(s[i])).max(new BigDecimal(s[j]));\n                min = (new BigDecimal(s[i])).min(new BigDecimal(s[j]));\n                s[i] = max.toString();\n                s[j] = min.toString();\n                 \n                \n            }\n        }\n         \n\n        System.out.println(Arrays.toString(s));\n\n    }\n\n}\n</code></pre>\n<p>I run this program for the following input:\n*9</p>\n<p>-100,\n50,\n0,\n56.6,\n90,\n0.12,\n.12,\n02.34,\n000.000*</p>\n<p>And the output is:\n<em>[90, 56.6, 50, 2.34, 0.12, 0.12, 0, 0, -100]</em></p>\n"},{"tags":["java","string","loops","java.util.scanner"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1669238788,"post_id":74553168,"comment_id":131602128,"body_markdown":"Define _last given word_.","body":"Define <i>last given word</i>."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1669238960,"post_id":74553168,"comment_id":131602181,"body_markdown":"Well, your loop condition is &quot;cannot read another word&quot;, so the loop keeps looping until you end the input. As long as you type words, it will not stop. _When_ _do_ you _want_ your program to stop?","body":"Well, your loop condition is &quot;cannot read another word&quot;, so the loop keeps looping until you end the input. As long as you type words, it will not stop. <i>When</i> <i>do</i> you <i>want</i> your program to stop?"},{"owner":{"account_id":20809444,"reputation":11,"user_id":16546709,"display_name":"B612"},"score":0,"creation_date":1669239320,"post_id":74553168,"comment_id":131602270,"body_markdown":"I expect a single line containing words, and I want the program to stop after printing the last word on the line","body":"I expect a single line containing words, and I want the program to stop after printing the last word on the line"},{"owner":{"account_id":12863154,"reputation":402,"user_id":9304291,"display_name":"Marek Borecki"},"score":0,"creation_date":1669240063,"post_id":74553168,"comment_id":131602451,"body_markdown":"use .readLine()","body":"use .readLine()"},{"owner":{"account_id":23590494,"reputation":26,"user_id":17628350,"display_name":"Velho Kielen"},"score":1,"creation_date":1669241019,"post_id":74553168,"comment_id":131602670,"body_markdown":"Check here https://stackoverflow.com/questions/15183761/how-to-check-the-end-of-line-using-scanner","body":"Check here <a href=\"https://stackoverflow.com/questions/15183761/how-to-check-the-end-of-line-using-scanner\" title=\"how to check the end of line using scanner\">stackoverflow.com/questions/15183761/&hellip;</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1670165379,"post_id":74553168,"comment_id":131806752,"body_markdown":"Press `ctrl-d` after you entered the last word, it will close the input. Java cannot know if a second line will be entered if you don&#39;t close the input","body":"Press <code>ctrl-d</code> after you entered the last word, it will close the input. Java cannot know if a second line will be entered if you don&#39;t close the input"}],"answers":[{"tags":[],"owner":{"account_id":12863154,"reputation":402,"user_id":9304291,"display_name":"Marek Borecki"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1669240090,"creation_date":1669239328,"answer_id":74553243,"question_id":74553168,"body_markdown":"You continuously reading the scanner.\r\nYou have to read by scanner out of loop. For example 3 times invoking s.next().\r\nOr create some loop end condition, for example text, &quot;END&quot;. \r\n\r\n\r\nIf you pass all words in one line use .readLine()","title":"How to use the hasNext() and next() methods","body":"<p>You continuously reading the scanner.\nYou have to read by scanner out of loop. For example 3 times invoking s.next().\nOr create some loop end condition, for example text, &quot;END&quot;.</p>\n<p>If you pass all words in one line use .readLine()</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684793934,"creation_date":1684743312,"answer_id":76304219,"question_id":74553168,"body_markdown":"A call to the `Scanner.hasNext` will block if it is waiting for user input.\r\n\r\nIt&#39;s useful for when you want a continuous input from the user.\r\n\r\nHere is how to accomplish your task.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Scanner s = new Scanner(System.in);\r\n    String[] strings = s.nextLine().split(&quot; +&quot;);\r\n    for (String string : strings)\r\n        System.out.println(string);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nsun\r\nmoon\r\ncloud\r\n```\r\n\r\nThe names `hasNext` and `next` are somewhat convoluted in the Java context.\r\n\r\nAn iterator also uses this terminology, as a way to gather data from a source.\r\n\r\nThe difference here is that `Scanner` works dynamically, whereas, something like an iterator works in a static context, and already has the values.","title":"How to use the hasNext() and next() methods","body":"<p>A call to the <code>Scanner.hasNext</code> will block if it is waiting for user input.</p>\n<p>It's useful for when you want a continuous input from the user.</p>\n<p>Here is how to accomplish your task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner s = new Scanner(System.in);\n    String[] strings = s.nextLine().split(&quot; +&quot;);\n    for (String string : strings)\n        System.out.println(string);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>sun\nmoon\ncloud\n</code></pre>\n<p>The names <code>hasNext</code> and <code>next</code> are somewhat convoluted in the Java context.</p>\n<p>An iterator also uses this terminology, as a way to gather data from a source.</p>\n<p>The difference here is that <code>Scanner</code> works dynamically, whereas, something like an iterator works in a static context, and already has the values.</p>\n"}],"owner":{"account_id":20809444,"reputation":11,"user_id":16546709,"display_name":"B612"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684793934,"creation_date":1669238757,"question_id":74553168,"body_markdown":"My goal is to read and print the words separately from standard input, without having to store them in an array or list.\r\n\r\nI want this:\r\n\r\ninput: sun moon cloud\r\n\r\noutput:\r\nsun moon cloud (each word in a different line)\r\n\r\nThe following program keep waiting after printing &quot;cloud&quot;. I don&#39;t know what the problem is\r\n\r\n`\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass RandomWord{\r\n\tpublic static void main(String[] args){\r\n\t\tString palavra;\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\twhile(s.hasNext()){\r\n\t\t\tpalavra = s.next();\r\n\t\t\tSystem.out.println(palavra);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n`","title":"How to use the hasNext() and next() methods","body":"<p>My goal is to read and print the words separately from standard input, without having to store them in an array or list.</p>\n<p>I want this:</p>\n<p>input: sun moon cloud</p>\n<p>output:\nsun moon cloud (each word in a different line)</p>\n<p>The following program keep waiting after printing &quot;cloud&quot;. I don't know what the problem is</p>\n<p>`</p>\n<pre><code>import java.util.Scanner;\n\nclass RandomWord{\n    public static void main(String[] args){\n        String palavra;\n        Scanner s = new Scanner(System.in);\n        while(s.hasNext()){\n            palavra = s.next();\n            System.out.println(palavra);\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring-boot","spring-security","keycloak","spring-boot-actuator"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1642517057,"post_id":70756991,"comment_id":125087919,"body_markdown":"Did you try debugging the `FilterChainProxy#doFilterInternal` to see which filter chain is being called? Also, I recommend adding `logging.level.org.springframework.security=TRACE` to your `application.properties` file and know exactly who is denying you access","body":"Did you try debugging the <code>FilterChainProxy#doFilterInternal</code> to see which filter chain is being called? Also, I recommend adding <code>logging.level.org.springframework.security=TRACE</code> to your <code>application.properties</code> file and know exactly who is denying you access"},{"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"score":0,"creation_date":1642517919,"post_id":70756991,"comment_id":125088298,"body_markdown":"@MarcusHertdaCoregio yes the KeycloakAuthenticationProcessingFilter is not passing with \n Authorization header not found,  see WWW-Authenticate header","body":"@MarcusHertdaCoregio yes the KeycloakAuthenticationProcessingFilter is not passing with   Authorization header not found,  see WWW-Authenticate header"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1642520379,"post_id":70756991,"comment_id":125089450,"body_markdown":"here you can read the answer i have provided how to exclude a path completly from spring security https://stackoverflow.com/questions/70717704/how-to-disable-security-just-for-actuator-health/70719136#70719136 you could try that out","body":"here you can read the answer i have provided how to exclude a path completly from spring security <a href=\"https://stackoverflow.com/questions/70717704/how-to-disable-security-just-for-actuator-health/70719136#70719136\" title=\"how to disable security just for actuator health\">stackoverflow.com/questions/70717704/&hellip;</a> you could try that out"},{"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"score":0,"creation_date":1642521759,"post_id":70756991,"comment_id":125090065,"body_markdown":"@Toerktumlare ths but is not working KeycloakAuthenticationProcessingFilter is called regardless of which filter chain is mapped to the request which is strange","body":"@Toerktumlare ths but is not working KeycloakAuthenticationProcessingFilter is called regardless of which filter chain is mapped to the request which is strange"},{"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"score":0,"creation_date":1642522701,"post_id":70756991,"comment_id":125090510,"body_markdown":"@MarcusHertdaCoregio even If I have two different filter chains the fist one does not have KeycloakAuthenticationProcessingFilter in chain but is caller regardless of that ... looks that it is registered in internal filter list that is applied via VirtualFilterChain ... any way to avoid this?","body":"@MarcusHertdaCoregio even If I have two different filter chains the fist one does not have KeycloakAuthenticationProcessingFilter in chain but is caller regardless of that ... looks that it is registered in internal filter list that is applied via VirtualFilterChain ... any way to avoid this?"}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642527346,"creation_date":1642527346,"answer_id":70759984,"question_id":70756991,"body_markdown":"When you extend `KeycloakWebSecurityConfigurerAdapter`, the adapter register a Bean of type `KeycloakAuthenticationProcessingFilter`. This filter is registered in the Spring Security&#39;s `SecurityFilterChain`, and because it&#39;s a Bean, it is also automatically registered by Spring Boot in the original chain, therefore even if Spring Security doesn&#39;t apply it, it will be applied later on in original the filter chain.\r\n\r\nTry disabling this filter from being registered by Spring Boot, like so:\r\n```java\r\n@Bean\r\npublic FilterRegistrationBean registration(KeycloakAuthenticationProcessingFilter filter) {\r\n    FilterRegistrationBean registration = new FilterRegistrationBean(filter);\r\n    registration.setEnabled(false);\r\n    return registration;\r\n}\r\n```\r\n\r\nIn addition, if you are using OAuth 2, you may consider using `spring-security-oauth2-resource-server` and simplifying your Resource Server&#39;s configuration. Take a look at the [documentation][1]. This way you don&#39;t need to extend the custom adapter, just rely on the out-of-the-box configuration from Spring Security.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html","title":"spring boot actuator endpoints with Keycloak security","body":"<p>When you extend <code>KeycloakWebSecurityConfigurerAdapter</code>, the adapter register a Bean of type <code>KeycloakAuthenticationProcessingFilter</code>. This filter is registered in the Spring Security's <code>SecurityFilterChain</code>, and because it's a Bean, it is also automatically registered by Spring Boot in the original chain, therefore even if Spring Security doesn't apply it, it will be applied later on in original the filter chain.</p>\n<p>Try disabling this filter from being registered by Spring Boot, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic FilterRegistrationBean registration(KeycloakAuthenticationProcessingFilter filter) {\n    FilterRegistrationBean registration = new FilterRegistrationBean(filter);\n    registration.setEnabled(false);\n    return registration;\n}\n</code></pre>\n<p>In addition, if you are using OAuth 2, you may consider using <code>spring-security-oauth2-resource-server</code> and simplifying your Resource Server's configuration. Take a look at the <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">documentation</a>. This way you don't need to extend the custom adapter, just rely on the out-of-the-box configuration from Spring Security.</p>\n"}],"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70759984,"answer_count":1,"score":0,"last_activity_date":1684792571,"creation_date":1642515192,"question_id":70756991,"body_markdown":"we have a spring boot project (2.3.0.RELEASE) with actuator endpoints and we are introducing keycloak to the project with KeycloakWebSecurityConfigurerAdapter how can I prevent actuator endpoints being secured by the keycloak filter chain.\r\n\r\nWe would like to have the &quot;/actuator/**&quot; endpoints secured by basic auth. \r\n\r\nCurrently we have a custom WebSecurityConfigurerAdapter with @Order(1) where we apply the basic auth to  &quot;/actuator/**&quot; and then we have with @Order(2) antotated the KeycloakWebSecurityConfigurerAdapter \r\n\r\nso 2 filter chains gets registered and when I call the actuator endpoints the second filter chain fails as unauthorised 401 \r\n\r\nis it possible to prevent handling the &quot;/actuator/**&quot; resorce path on the second filter chain? \r\n\r\nFirst actuator security configuration.\r\n\r\n    @Configuration\r\n    @Order(1)\r\n    public class ActuatorWebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final String username;\r\n        private final String password;\r\n        private final PasswordEncoder encoder;\r\n    \r\n        public ActuatorWebSecurityConfig(\r\n                @Value(&quot;${spring.security.user.name}&quot;) String username,\r\n                @Value(&quot;${spring.security.user.password}&quot;) String password,\r\n                Optional&lt;PasswordEncoder&gt; encoder) {\r\n            this.username = username;\r\n            this.password = password;\r\n            this.encoder = encoder.orElseGet(PasswordEncoderFactories::createDelegatingPasswordEncoder);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication()\r\n                    .withUser(username)\r\n                    .password(encoder.encode(password))\r\n                    .roles(&quot;USER&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .antMatcher(&quot;/actuator/**&quot;)\r\n                    .authorizeRequests(authorize -&gt; authorize.anyRequest().authenticated())\r\n                    .httpBasic(Customizer.withDefaults());\r\n        }\r\n    }\r\n\r\n\r\nsecond keycloak securoty configuration\r\n\r\n    @Order(2)\r\n    @KeycloakConfiguration\r\n    public class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n    \r\n        private final String swaggerUrl;\r\n        private final CorsFilter corsFilter;\r\n        private final CustomSecurityConfig customSecurityConfig;\r\n    \r\n        @Autowired\r\n        public SecurityConfig(\r\n                @Value(&quot;${springdoc.swagger-ui.url:#{null}}&quot;) String swaggerUrl,\r\n                CorsFilter corsFilter,\r\n                CustomSecurityConfig customSecurityConfig) {\r\n            this.swaggerUrl = swaggerUrl;\r\n            this.corsFilter = corsFilter;\r\n            this.customSecurityConfig = customSecurityConfig;\r\n        }\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            KeycloakAuthenticationProvider keycloakProvider = keycloakAuthenticationProvider();\r\n            keycloakProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\r\n            auth.authenticationProvider(keycloakProvider);\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n            return new NullAuthenticatedSessionStrategy();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            super.configure(http);\r\n            http.csrf().disable()\r\n                .requestMatcher(new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/actuator/**&quot;)));\r\n                .headers().frameOptions().disable()\r\n            .and()\r\n               .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .authorizeRequests()\r\n               .antMatchers(&quot;/public/**&quot;, &quot;/resources/**&quot;, &quot;/resources/public/**&quot;).permitAll()\r\n               .antMatchers(OPTIONS, &quot;/**&quot;).permitAll();\r\n            .authorizeRequests()\r\n               .antMatchers(&quot;/**&quot;)\r\n               .authenticated();\r\n        }\r\n    }\r\n\r\nI have tried with on keycloak config\r\n\r\n    .antMatchers(&quot;/actuator/**&quot;).permitAll();\r\n\r\nand with \r\n\r\n    http.requestMatcher(new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/actuator/**&quot;)));\r\n\r\nbut nothing works I receive unauthorised 401 for actuator\r\n\r\nthe registered filter chains : \r\n\r\n    2022-01-18 17:38:44,688 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern=&#39;/actuator/**&#39;], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25c6a9de, org.springframework.security.web.context.SecurityContextPersistenceFilter@56f3f9da, org.springframework.security.web.header.HeaderWriterFilter@33dcbdc2, org.springframework.security.web.csrf.CsrfFilter@522fdf0c, org.springframework.security.web.authentication.logout.LogoutFilter@365ad794, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23df16cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@227cba85, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b38dc7d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@142422a4, org.springframework.security.web.session.SessionManagementFilter@2f0b7b6d, org.springframework.security.web.access.ExceptionTranslationFilter@74bca236, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30587737]\r\n    2022-01-18 17:38:44,691 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: NegatedRequestMatcher [requestMatcher=Ant [pattern=&#39;/actuator/**&#39;]], [com.betex.auth.filters.CorsFilter@20a9f5fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10e28d97, org.springframework.security.web.context.SecurityContextPersistenceFilter@c6b08a5, org.springframework.security.web.header.HeaderWriterFilter@5f05cd7e, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@2a54c92e, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@55b62db8, org.springframework.security.web.authentication.logout.LogoutFilter@274f51ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54980154, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25874884, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@8cb7185, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@4dac40b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37d43b9b, org.springframework.security.web.session.SessionManagementFilter@11e8e183, org.springframework.security.web.access.ExceptionTranslationFilter@56f1db5f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78543f0d]","title":"spring boot actuator endpoints with Keycloak security","body":"<p>we have a spring boot project (2.3.0.RELEASE) with actuator endpoints and we are introducing keycloak to the project with KeycloakWebSecurityConfigurerAdapter how can I prevent actuator endpoints being secured by the keycloak filter chain.</p>\n<p>We would like to have the &quot;/actuator/**&quot; endpoints secured by basic auth.</p>\n<p>Currently we have a custom WebSecurityConfigurerAdapter with @Order(1) where we apply the basic auth to  &quot;/actuator/**&quot; and then we have with @Order(2) antotated the KeycloakWebSecurityConfigurerAdapter</p>\n<p>so 2 filter chains gets registered and when I call the actuator endpoints the second filter chain fails as unauthorised 401</p>\n<p>is it possible to prevent handling the &quot;/actuator/**&quot; resorce path on the second filter chain?</p>\n<p>First actuator security configuration.</p>\n<pre><code>@Configuration\n@Order(1)\npublic class ActuatorWebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final String username;\n    private final String password;\n    private final PasswordEncoder encoder;\n\n    public ActuatorWebSecurityConfig(\n            @Value(&quot;${spring.security.user.name}&quot;) String username,\n            @Value(&quot;${spring.security.user.password}&quot;) String password,\n            Optional&lt;PasswordEncoder&gt; encoder) {\n        this.username = username;\n        this.password = password;\n        this.encoder = encoder.orElseGet(PasswordEncoderFactories::createDelegatingPasswordEncoder);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .withUser(username)\n                .password(encoder.encode(password))\n                .roles(&quot;USER&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .antMatcher(&quot;/actuator/**&quot;)\n                .authorizeRequests(authorize -&gt; authorize.anyRequest().authenticated())\n                .httpBasic(Customizer.withDefaults());\n    }\n}\n</code></pre>\n<p>second keycloak securoty configuration</p>\n<pre><code>@Order(2)\n@KeycloakConfiguration\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n    private final String swaggerUrl;\n    private final CorsFilter corsFilter;\n    private final CustomSecurityConfig customSecurityConfig;\n\n    @Autowired\n    public SecurityConfig(\n            @Value(&quot;${springdoc.swagger-ui.url:#{null}}&quot;) String swaggerUrl,\n            CorsFilter corsFilter,\n            CustomSecurityConfig customSecurityConfig) {\n        this.swaggerUrl = swaggerUrl;\n        this.corsFilter = corsFilter;\n        this.customSecurityConfig = customSecurityConfig;\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        KeycloakAuthenticationProvider keycloakProvider = keycloakAuthenticationProvider();\n        keycloakProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n        auth.authenticationProvider(keycloakProvider);\n    }\n\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new NullAuthenticatedSessionStrategy();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.csrf().disable()\n            .requestMatcher(new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/actuator/**&quot;)));\n            .headers().frameOptions().disable()\n        .and()\n           .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authorizeRequests()\n           .antMatchers(&quot;/public/**&quot;, &quot;/resources/**&quot;, &quot;/resources/public/**&quot;).permitAll()\n           .antMatchers(OPTIONS, &quot;/**&quot;).permitAll();\n        .authorizeRequests()\n           .antMatchers(&quot;/**&quot;)\n           .authenticated();\n    }\n}\n</code></pre>\n<p>I have tried with on keycloak config</p>\n<pre><code>.antMatchers(&quot;/actuator/**&quot;).permitAll();\n</code></pre>\n<p>and with</p>\n<pre><code>http.requestMatcher(new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/actuator/**&quot;)));\n</code></pre>\n<p>but nothing works I receive unauthorised 401 for actuator</p>\n<p>the registered filter chains :</p>\n<pre><code>2022-01-18 17:38:44,688 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/actuator/**'], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25c6a9de, org.springframework.security.web.context.SecurityContextPersistenceFilter@56f3f9da, org.springframework.security.web.header.HeaderWriterFilter@33dcbdc2, org.springframework.security.web.csrf.CsrfFilter@522fdf0c, org.springframework.security.web.authentication.logout.LogoutFilter@365ad794, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23df16cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@227cba85, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b38dc7d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@142422a4, org.springframework.security.web.session.SessionManagementFilter@2f0b7b6d, org.springframework.security.web.access.ExceptionTranslationFilter@74bca236, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30587737]\n2022-01-18 17:38:44,691 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: NegatedRequestMatcher [requestMatcher=Ant [pattern='/actuator/**']], [com.betex.auth.filters.CorsFilter@20a9f5fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10e28d97, org.springframework.security.web.context.SecurityContextPersistenceFilter@c6b08a5, org.springframework.security.web.header.HeaderWriterFilter@5f05cd7e, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@2a54c92e, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@55b62db8, org.springframework.security.web.authentication.logout.LogoutFilter@274f51ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54980154, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25874884, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@8cb7185, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@4dac40b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37d43b9b, org.springframework.security.web.session.SessionManagementFilter@11e8e183, org.springframework.security.web.access.ExceptionTranslationFilter@56f1db5f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78543f0d]\n</code></pre>\n"},{"tags":["java","spring-boot","maven","properties","spring-boot-actuator"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643300308,"post_id":70880939,"comment_id":125308282,"body_markdown":"Which version of spring boot do you use? Have you generated the build information in your configuration ? The endpoint might not only be `/info` ? Check the spring boot docs...","body":"Which version of spring boot do you use? Have you generated the build information in your configuration ? The endpoint might not only be <code>&#47;info</code> ? Check the spring boot docs..."},{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1643311454,"post_id":70880939,"comment_id":125312767,"body_markdown":"Both ```s_app.properties``` and ```sDBpools.properties``` can be found in the .jar? Are they in the same folder? Are you sure the content of the ```info.app.jwt.secret``` property can be found in any of the property files?","body":"Both <code>s_app.properties</code> and <code>sDBpools.properties</code> can be found in the .jar? Are they in the same folder? Are you sure the content of the <code>info.app.jwt.secret</code> property can be found in any of the property files?"},{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1643311824,"post_id":70880939,"comment_id":125312892,"body_markdown":"Maybe try to set the files in a single annotation e.g.: ```@PropertySource(value = [&quot;classpath:s_app.properties&quot;, &quot;classpath:sDBpools.properties&quot;])```","body":"Maybe try to set the files in a single annotation e.g.: <code>@PropertySource(value = [&quot;classpath:s_app.properties&quot;, &quot;classpath:sDBpools.properties&quot;])</code>"},{"owner":{"account_id":7145989,"reputation":370,"user_id":5467926,"accept_rate":38,"display_name":"Erdel"},"score":0,"creation_date":1643316494,"post_id":70880939,"comment_id":125314427,"body_markdown":"Property are available when I call them from differenct class. Bu when I call it from JwtToken class it returns null. I thought, class hierarchy or component scanning causes this and acted accordingly, but nothing changed. That class does not see the property. @Rashin","body":"Property are available when I call them from differenct class. Bu when I call it from JwtToken class it returns null. I thought, class hierarchy or component scanning causes this and acted accordingly, but nothing changed. That class does not see the property. @Rashin"},{"owner":{"account_id":7145989,"reputation":370,"user_id":5467926,"accept_rate":38,"display_name":"Erdel"},"score":1,"creation_date":1643316581,"post_id":70880939,"comment_id":125314462,"body_markdown":"@khmarbaise I handled the actuator problem. It was because of  exposing the info endpoint rule has changed with new spring boot version.","body":"@khmarbaise I handled the actuator problem. It was because of  exposing the info endpoint rule has changed with new spring boot version."}],"answers":[{"tags":[],"owner":{"account_id":7145989,"reputation":370,"user_id":5467926,"accept_rate":38,"display_name":"Erdel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643371910,"creation_date":1643371910,"answer_id":70893586,"question_id":70880939,"body_markdown":"Problem solved with the approved answer at below question.\r\nI had manually instantiated JwtTokenUtil class instead of autowiring it in the caller class. Probably I was not reaching proxy object at all.\r\n\r\nhttps://stackoverflow.com/questions/68012444/unable-to-read-properties-using-value-in-springboot-application","title":"Contents of property source files are not recognized in some classes","body":"<p>Problem solved with the approved answer at below question.\nI had manually instantiated JwtTokenUtil class instead of autowiring it in the caller class. Probably I was not reaching proxy object at all.</p>\n<p><a href=\"https://stackoverflow.com/questions/68012444/unable-to-read-properties-using-value-in-springboot-application\">Unable to read properties using @Value in SpringBoot application</a></p>\n"}],"owner":{"account_id":7145989,"reputation":370,"user_id":5467926,"accept_rate":38,"display_name":"Erdel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70893586,"answer_count":1,"score":0,"last_activity_date":1684792549,"creation_date":1643296212,"question_id":70880939,"body_markdown":"@Value anotation does not get the property from properties file when called from a specific class. \r\n\r\nPropertiesConfig:\r\n\r\n    @Configuration\r\n    @PropertySource(value = &quot;classpath:s_app.properties&quot;)\r\n    @PropertySource(value = &quot;classpath:sDBpools.properties&quot;)\r\n    public class PropertiesConfig {\r\n    }\r\n\r\n\r\nWhen I call property from ProjectInfoServiceImpl class it returns but not works from JwtTokenUtil class.\r\n\r\n**secret** returns null here:\r\n\r\n    @Component\r\n    @Log4j2\r\n    public class JwtTokenUtil implements Serializable {\r\n    \r\n        private static final long serialVersionUID = -1L;\r\n    \r\n        private static final int EXPIRATION_MILLISECONDS = 60 * 60 * 1000;\r\n    \r\n        @Value(&quot;${info.app.jwt.secret}&quot;)\r\n        private String secret;\r\n    \r\n        public  String generateToken(User user){\r\n            Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n            claims.put(&quot;authorities&quot;, user.getAuthorities());\r\n    \r\n            return generateToken(user.getUsername(), claims);\r\n        }\r\n    \r\n        public  String generateToken(UserDetails userDetails){\r\n            Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n            claims.put(&quot;authorities&quot;, userDetails.getAuthorities());\r\n    \r\n            return generateToken(userDetails.getUsername(), claims);\r\n        }\r\n    \r\n        public  String generateToken(String username, Map&lt;String, Object&gt; claims) {\r\n    \r\n            return Jwts.builder()\r\n                    .setSubject(username)\r\n                    .setClaims(claims)\r\n                    .setExpiration(new Date((System.currentTimeMillis() + EXPIRATION_MILLISECONDS)))\r\n                    .setIssuedAt(new Date())\r\n                    .signWith(SignatureAlgorithm.HS256, secret)\r\n                    .compact();\r\n        }\r\n    \r\n        public  boolean validateToken(String username, String token){\r\n            return (username.equals(getUsernameFromToken(token)) &amp;&amp; !isExpired(token));\r\n        }\r\n    \r\n        public  String getUsernameFromToken(String token) {\r\n            return getClaimFromToken(token, Claims::getSubject);\r\n        }\r\n    \r\n        public  Date getExpirationdateFromToken(String token){\r\n            return getClaimFromToken(token, Claims::getExpiration);\r\n        }\r\n    \r\n        public  boolean isExpired(String token){\r\n            return !(new Date().before(getExpirationdateFromToken(token)));\r\n        }\r\n    \r\n        public  &lt;T&gt; T getClaimFromToken(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n            final Claims claims = getAllClaimsFromToken(token);\r\n            return claimsResolver.apply(claims);\r\n        }\r\n    \r\n        private  Claims getAllClaimsFromToken(String token) {\r\n            return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nBut in here it returns as expected:\r\n\r\n    @Service\r\n    @Log4j2\r\n    public class ProjectInfoServiceImpl implements ProjectInfoService {\r\n    \r\n        @Value(&quot;${info.app.jwt.secret}&quot;)\r\n        private String secret;\r\n\r\n        @Value(&quot;${s.version}&quot;)\r\n        private String version;\r\n    \r\n        @Value(&quot;${s.deployment.profile}&quot;)\r\n        private String deploymentProfile;\r\n    \r\n        @Value(&quot;${s.deployment.environment}&quot;)\r\n        private String deploymentEnvironment;\r\n    \r\n        @Override\r\n        public ProjectInfoDTO getProjectInfo() {\r\n            ProjectInfoDTO projectInfoDTO = new ProjectInfoDTO();\r\n            projectInfoDTO.setVersion(version);\r\n            projectInfoDTO.setDeploymentProfile(deploymentProfile);\r\n            projectInfoDTO.setDeploymentEnvironment(deploymentEnvironment);\r\n            return projectInfoDTO;\r\n        }\r\n    }\r\n\r\n\r\nHere is folder structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4IRJG.png\r\n\r\n\r\nBesides actuator does not get info from info.app.version property of s_properties file. /info endpoint returns no information since it cant find the property.\r\n\r\n","title":"Contents of property source files are not recognized in some classes","body":"<p>@Value anotation does not get the property from properties file when called from a specific class.</p>\n<p>PropertiesConfig:</p>\n<pre><code>@Configuration\n@PropertySource(value = &quot;classpath:s_app.properties&quot;)\n@PropertySource(value = &quot;classpath:sDBpools.properties&quot;)\npublic class PropertiesConfig {\n}\n</code></pre>\n<p>When I call property from ProjectInfoServiceImpl class it returns but not works from JwtTokenUtil class.</p>\n<p><strong>secret</strong> returns null here:</p>\n<pre><code>@Component\n@Log4j2\npublic class JwtTokenUtil implements Serializable {\n\n    private static final long serialVersionUID = -1L;\n\n    private static final int EXPIRATION_MILLISECONDS = 60 * 60 * 1000;\n\n    @Value(&quot;${info.app.jwt.secret}&quot;)\n    private String secret;\n\n    public  String generateToken(User user){\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        claims.put(&quot;authorities&quot;, user.getAuthorities());\n\n        return generateToken(user.getUsername(), claims);\n    }\n\n    public  String generateToken(UserDetails userDetails){\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        claims.put(&quot;authorities&quot;, userDetails.getAuthorities());\n\n        return generateToken(userDetails.getUsername(), claims);\n    }\n\n    public  String generateToken(String username, Map&lt;String, Object&gt; claims) {\n\n        return Jwts.builder()\n                .setSubject(username)\n                .setClaims(claims)\n                .setExpiration(new Date((System.currentTimeMillis() + EXPIRATION_MILLISECONDS)))\n                .setIssuedAt(new Date())\n                .signWith(SignatureAlgorithm.HS256, secret)\n                .compact();\n    }\n\n    public  boolean validateToken(String username, String token){\n        return (username.equals(getUsernameFromToken(token)) &amp;&amp; !isExpired(token));\n    }\n\n    public  String getUsernameFromToken(String token) {\n        return getClaimFromToken(token, Claims::getSubject);\n    }\n\n    public  Date getExpirationdateFromToken(String token){\n        return getClaimFromToken(token, Claims::getExpiration);\n    }\n\n    public  boolean isExpired(String token){\n        return !(new Date().before(getExpirationdateFromToken(token)));\n    }\n\n    public  &lt;T&gt; T getClaimFromToken(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = getAllClaimsFromToken(token);\n        return claimsResolver.apply(claims);\n    }\n\n    private  Claims getAllClaimsFromToken(String token) {\n        return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\n    }\n\n}\n</code></pre>\n<p>But in here it returns as expected:</p>\n<pre><code>@Service\n@Log4j2\npublic class ProjectInfoServiceImpl implements ProjectInfoService {\n\n    @Value(&quot;${info.app.jwt.secret}&quot;)\n    private String secret;\n\n    @Value(&quot;${s.version}&quot;)\n    private String version;\n\n    @Value(&quot;${s.deployment.profile}&quot;)\n    private String deploymentProfile;\n\n    @Value(&quot;${s.deployment.environment}&quot;)\n    private String deploymentEnvironment;\n\n    @Override\n    public ProjectInfoDTO getProjectInfo() {\n        ProjectInfoDTO projectInfoDTO = new ProjectInfoDTO();\n        projectInfoDTO.setVersion(version);\n        projectInfoDTO.setDeploymentProfile(deploymentProfile);\n        projectInfoDTO.setDeploymentEnvironment(deploymentEnvironment);\n        return projectInfoDTO;\n    }\n}\n</code></pre>\n<p>Here is folder structure:</p>\n<p><a href=\"https://i.stack.imgur.com/4IRJG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4IRJG.png\" alt=\"enter image description here\" /></a></p>\n<p>Besides actuator does not get info from info.app.version property of s_properties file. /info endpoint returns no information since it cant find the property.</p>\n"},{"tags":["java","spring-boot","authentication","spring-boot-actuator"],"comments":[{"owner":{"account_id":12810239,"reputation":1,"user_id":9268732,"display_name":"asifbutt"},"score":0,"creation_date":1656289911,"post_id":72766007,"comment_id":128528151,"body_markdown":"A note on hitting the url&#39;s from the cluster using curl returns success:\nhealthUrl: &quot;http://localhost:1234/health&quot; metricsUrl: &quot;http://localhost:1234/prometheus&quot;\ncurl -u user_name http://localhost:1324/health succeeds from command line.","body":"A note on hitting the url&#39;s from the cluster using curl returns success: healthUrl: &quot;<a href=\"http://localhost:1234/health\" rel=\"nofollow noreferrer\">localhost:1234/health</a>&quot; metricsUrl: &quot;<a href=\"http://localhost:1234/prometheus\" rel=\"nofollow noreferrer\">localhost:1234/prometheus</a>&quot; curl -u user_name <a href=\"http://localhost:1324/health\" rel=\"nofollow noreferrer\">localhost:1324/health</a> succeeds from command line."},{"owner":{"account_id":12810239,"reputation":1,"user_id":9268732,"display_name":"asifbutt"},"score":0,"creation_date":1656291518,"post_id":72766007,"comment_id":128528327,"body_markdown":"The 401 error is actually intermittent, the other error I may get is error connection refused. After stoping the back-end application restarting the error is now different. The login is still successful, but the calls to the metric and health url&#39;s are now returning:\nGET http://localhost:1234/health net::ERR_CONNECTION_REFUSED.\nGET http://localhost:1234/prometheus net::ERR_CONNECTION_REFUSED\nThis is happening for both the pre-flight requests as well as the actual requests.","body":"The 401 error is actually intermittent, the other error I may get is error connection refused. After stoping the back-end application restarting the error is now different. The login is still successful, but the calls to the metric and health url&#39;s are now returning: GET <a href=\"http://localhost:1234/health\" rel=\"nofollow noreferrer\">localhost:1234/health</a> net::ERR_CONNECTION_REFUSED. GET <a href=\"http://localhost:1234/prometheus\" rel=\"nofollow noreferrer\">localhost:1234/prometheus</a> net::ERR_CONNECTION_REFUSED This is happening for both the pre-flight requests as well as the actual requests."}],"answers":[{"tags":[],"owner":{"account_id":24537002,"reputation":26,"user_id":18447954,"display_name":"Lucas C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656291465,"creation_date":1656291465,"answer_id":72766111,"question_id":72766007,"body_markdown":"Please provide the entire class with the security configuration, including all annotations, so we can understand it better.","title":"Spring Boot Back-End with Angular Front-End getting status and metrics from prometheus and health endpoint but 401","body":"<p>Please provide the entire class with the security configuration, including all annotations, so we can understand it better.</p>\n"},{"tags":[],"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656307031,"creation_date":1656307031,"answer_id":72767262,"question_id":72766007,"body_markdown":"Below are couple of suggestions to dive deep into this\r\n\r\n 1. assuming your prometheus itself is being served over HTTPS, can you\r\n    post your tls config? I am suspecting there is some issue with that,\r\n    also can you recheck your spring-actuator config in prometheus file.\r\n 2. Can you check the metric, health, info path in prometheus file.","title":"Spring Boot Back-End with Angular Front-End getting status and metrics from prometheus and health endpoint but 401","body":"<p>Below are couple of suggestions to dive deep into this</p>\n<ol>\n<li>assuming your prometheus itself is being served over HTTPS, can you\npost your tls config? I am suspecting there is some issue with that,\nalso can you recheck your spring-actuator config in prometheus file.</li>\n<li>Can you check the metric, health, info path in prometheus file.</li>\n</ol>\n"}],"owner":{"account_id":12810239,"reputation":1,"user_id":9268732,"display_name":"asifbutt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684792505,"creation_date":1656289822,"question_id":72766007,"body_markdown":"Running in to an issue with 401 error when deployed on cluster. Note the issue not occurring during local development. Issue occurs only once deployed on testing cluster. Currently the project is in only development/testing phase.\r\n\r\nBack-End config(Spring properties file):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    server.port=8085\r\n    management.health.defaults.enabled=false\r\n    management.endpoint.health.show-details=&quot;ALWAYS&quot;\r\n    management.server.port=${management.port:1234}\r\n    management.endpoints.enabled-by-default=true\r\n    management.endpoints.web.base-path=/\r\n    management.endpoints.web.exposure.include=health, prometheus\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAngular:\r\nlogin is successful(using relative url&#39;s to port 8085 once deployed on the cluster) but after login my dashboard page makes calls to acutator health and prometheus end-points:\r\n\r\nthese are the URLs:\r\nhealthUrl: &quot;http://localhost:1234/health&quot;\r\nmetricsUrl: &quot;http://localhost:1234/prometheus&quot;\r\n\r\nSpring Security:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class ActuatorWebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .cors().configurationSource(corsConfigurationSource())\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .requestMatchers(EndpointRequest.to(HealthEndpoint.class, InfoEndpoint.class)).permitAll()\r\n                    .antMatchers(&quot;/**&quot;).authenticated()\r\n                    .and().httpBasic()\r\n                    .and()\r\n                    .addFilterBefore(new ForwardedHeaderFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n\r\n        @Bean\r\n        CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowCredentials(true);\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;,&quot;OPTIONS&quot;));\r\n            configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n            return source;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring Boot Back-End with Angular Front-End getting status and metrics from prometheus and health endpoint but 401","body":"<p>Running in to an issue with 401 error when deployed on cluster. Note the issue not occurring during local development. Issue occurs only once deployed on testing cluster. Currently the project is in only development/testing phase.</p>\n<p>Back-End config(Spring properties file):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>server.port=8085\nmanagement.health.defaults.enabled=false\nmanagement.endpoint.health.show-details=\"ALWAYS\"\nmanagement.server.port=${management.port:1234}\nmanagement.endpoints.enabled-by-default=true\nmanagement.endpoints.web.base-path=/\nmanagement.endpoints.web.exposure.include=health, prometheus</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Angular:\nlogin is successful(using relative url's to port 8085 once deployed on the cluster) but after login my dashboard page makes calls to acutator health and prometheus end-points:</p>\n<p>these are the URLs:\nhealthUrl: &quot;http://localhost:1234/health&quot;\nmetricsUrl: &quot;http://localhost:1234/prometheus&quot;</p>\n<p>Spring Security:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class ActuatorWebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .cors().configurationSource(corsConfigurationSource())\n                .and()\n                .authorizeRequests()\n                .requestMatchers(EndpointRequest.to(HealthEndpoint.class, InfoEndpoint.class)).permitAll()\n                .antMatchers(\"/**\").authenticated()\n                .and().httpBasic()\n                .and()\n                .addFilterBefore(new ForwardedHeaderFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(\"*\"));\n        configuration.setAllowCredentials(true);\n        configuration.setAllowedMethods(Arrays.asList(\"GET\",\"POST\",\"OPTIONS\"));\n        configuration.setAllowedHeaders(Collections.singletonList(\"*\"));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(\"/**\", configuration);\n        return source;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring-boot","eclipse","spring-boot-actuator","spring-tool-suite"],"comments":[{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":0,"creation_date":1666627019,"post_id":74142537,"comment_id":130976582,"body_markdown":"Are you able to reproduce this with a vanilla STS 4.16.0 installation and a fresh workspace? If so, please file an issue at https://github.com/spring-projects/sts4/issues and attach a few steps how to reproduce this. That would be awesome help to investigate this in depth.","body":"Are you able to reproduce this with a vanilla STS 4.16.0 installation and a fresh workspace? If so, please file an issue at <a href=\"https://github.com/spring-projects/sts4/issues\" rel=\"nofollow noreferrer\">github.com/spring-projects/sts4/issues</a> and attach a few steps how to reproduce this. That would be awesome help to investigate this in depth."}],"answers":[{"tags":[],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666280156,"creation_date":1666280156,"answer_id":74142604,"question_id":74142537,"body_markdown":"You can examine this issue, Same problem appears.\r\n\r\nhttps://github.com/spring-attic/spring-ide/issues/182","title":"Eclipse IDE error - Ready State Poller has encontered a problem","body":"<p>You can examine this issue, Same problem appears.</p>\n<p><a href=\"https://github.com/spring-attic/spring-ide/issues/182\" rel=\"nofollow noreferrer\">https://github.com/spring-attic/spring-ide/issues/182</a></p>\n"}],"owner":{"account_id":16506868,"reputation":1,"user_id":12232566,"display_name":"alicia_tux"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684792449,"creation_date":1666279842,"question_id":74142537,"body_markdown":"I&#39;m getting this error with every project with actuator dependency &quot;Ready State Poller has encontered a problem: An internal error occurred during: &quot;Ready state poller&quot;.\r\nATTR_PROCESS_ID&quot;\r\n\r\n[Ready State Poller has encontered a problem: An internal error occurred during: &quot;Ready state poller&quot;.\r\nATTR_PROCESS_ID][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zM4qr.png\r\n\r\nNo stacktrace, project starts normally, just the eclipse IDE error message. How can I prevent this to happen?\r\n\r\nMy pom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;demo.bootcamp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;pruebasClientes&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;pruebasClientes&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nThis is a demo project for a bootcamp class, it has only 3 or 4 classes, I think my problem is in the config or in the pom.\r\nThanks. ","title":"Eclipse IDE error - Ready State Poller has encontered a problem","body":"<p>I'm getting this error with every project with actuator dependency &quot;Ready State Poller has encontered a problem: An internal error occurred during: &quot;Ready state poller&quot;.\nATTR_PROCESS_ID&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/zM4qr.png\" rel=\"nofollow noreferrer\">Ready State Poller has encontered a problem: An internal error occurred during: &quot;Ready state poller&quot;.\nATTR_PROCESS_ID</a></p>\n<p>No stacktrace, project starts normally, just the eclipse IDE error message. How can I prevent this to happen?</p>\n<p>My pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;demo.bootcamp&lt;/groupId&gt;\n&lt;artifactId&gt;pruebasClientes&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;pruebasClientes&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>This is a demo project for a bootcamp class, it has only 3 or 4 classes, I think my problem is in the config or in the pom.\nThanks.</p>\n"},{"tags":["java","spring-boot","gradle","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":12439293,"reputation":159,"user_id":9058307,"display_name":"abetobing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675876328,"creation_date":1675876328,"answer_id":75389349,"question_id":75388023,"body_markdown":"Have you tried to enable it via yaml/properties?\r\n\r\n```properties\r\nmanagement.defaults.metrics.export.enabled=true\r\n```\r\n\r\n```yaml\r\nmanagement:\r\n  defaults:\r\n    metrics:\r\n      export:\r\n        enabled: true\r\n```\r\n\r\nReference: \r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics","title":"How I can add endpoint actuator/metrics to my Java project?","body":"<p>Have you tried to enable it via yaml/properties?</p>\n<pre><code>management.defaults.metrics.export.enabled=true\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>management:\n  defaults:\n    metrics:\n      export:\n        enabled: true\n</code></pre>\n<p>Reference:\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics</a></p>\n"}],"owner":{"account_id":25042032,"reputation":21,"user_id":21092608,"display_name":"Настя"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684792220,"creation_date":1675870065,"question_id":75388023,"body_markdown":"I implemented the:       \r\n``` implementation(&quot;org.springframework.boot:spring-boot-starter-actuator:3.0.1&quot;) ```\r\n\r\ndependency, \r\nand added: \r\n``management:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &quot;*&quot; ``\r\n    \r\nto `application.yml`,\r\nwhen I send requests to `POSTMAN`:\r\n\r\nhttp://localhost:8080/actuator/... \r\n\r\nall required endpoints are available except metrics\r\n\r\nHow I can add this?\r\n\r\nI tried to add:\r\n```\r\n@Autowired\r\n    private MeterRegistry meterRegistry;\r\n    @Bean\r\n    public CacheMetricsRegistrar cacheMetricsRegistrar() {\r\n        return new CacheMetricsRegistrar(meterRegistry, Lists.newArrayList(new CaffeineCacheMeterBinderProvider()));\r\n    } \r\n```\r\nbut I got an error &gt; Process `&#39;command &#39;C:/Program Files/Java/jdk-17/bin/java.exe&#39;&#39;` finished with non-zero exit value 1\r\n","title":"How I can add endpoint actuator/metrics to my Java project?","body":"<p>I implemented the:<br />\n<code>implementation(&quot;org.springframework.boot:spring-boot-starter-actuator:3.0.1&quot;)</code></p>\n<p>dependency,\nand added:\n<code>management: endpoints: web: exposure: include: &quot;*&quot; </code></p>\n<p>to <code>application.yml</code>,\nwhen I send requests to <code>POSTMAN</code>:</p>\n<p>http://localhost:8080/actuator/...</p>\n<p>all required endpoints are available except metrics</p>\n<p>How I can add this?</p>\n<p>I tried to add:</p>\n<pre><code>@Autowired\n    private MeterRegistry meterRegistry;\n    @Bean\n    public CacheMetricsRegistrar cacheMetricsRegistrar() {\n        return new CacheMetricsRegistrar(meterRegistry, Lists.newArrayList(new CaffeineCacheMeterBinderProvider()));\n    } \n</code></pre>\n<p>but I got an error &gt; Process <code>'command 'C:/Program Files/Java/jdk-17/bin/java.exe''</code> finished with non-zero exit value 1</p>\n"},{"tags":["java","token","openid-connect","openid"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1537107182,"post_id":52354738,"comment_id":91654521,"body_markdown":"This is going to be framework-specific.","body":"This is going to be framework-specific."},{"owner":{"account_id":9928788,"reputation":67,"user_id":7349475,"display_name":"George Thomas"},"score":0,"creation_date":1537192727,"post_id":52354738,"comment_id":91683337,"body_markdown":"Assuming its a native Java implementation, what is the ideal solution?","body":"Assuming its a native Java implementation, what is the ideal solution?"}],"answers":[{"tags":[],"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1539415314,"creation_date":1539415314,"answer_id":52790527,"question_id":52354738,"body_markdown":"Storing it in a `HashMap` is a solution that does not scale, as internal memory is not shared accross server nodes.\r\n\r\nYou&#39;ll have to store it in some form of persistent store\r\n\r\n - a SQL database\r\n - a NoSQL database\r\n - a key value database\r\n\r\nNote that you&#39;ll not only need to be able to determine the user, for which it was made, but also the client, as clients don&#39;t need to authenticate themselves to get a code. Also know that you&#39;ll need to be able to determine which scopes are covered by a given code, and to detect double usage of a code, and in case of double usage, to revoke associated access tokens.\r\n\r\nOn the other hand, you need to be able to easily forget the codes again. They&#39;re short term use, and it&#39;s no use keeping them around after their ttl.\r\n\r\nYou&#39;ll have similar requirements for storing the access tokens, refresh and id tokens you produce, so it&#39;ll make sense to build something which can also be used for those.","title":"How to detect the user in OpenID Connect provider token endpoint","body":"<p>Storing it in a <code>HashMap</code> is a solution that does not scale, as internal memory is not shared accross server nodes.</p>\n\n<p>You'll have to store it in some form of persistent store</p>\n\n<ul>\n<li>a SQL database</li>\n<li>a NoSQL database</li>\n<li>a key value database</li>\n</ul>\n\n<p>Note that you'll not only need to be able to determine the user, for which it was made, but also the client, as clients don't need to authenticate themselves to get a code. Also know that you'll need to be able to determine which scopes are covered by a given code, and to detect double usage of a code, and in case of double usage, to revoke associated access tokens.</p>\n\n<p>On the other hand, you need to be able to easily forget the codes again. They're short term use, and it's no use keeping them around after their ttl.</p>\n\n<p>You'll have similar requirements for storing the access tokens, refresh and id tokens you produce, so it'll make sense to build something which can also be used for those.</p>\n"}],"owner":{"account_id":9928788,"reputation":67,"user_id":7349475,"display_name":"George Thomas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52790527,"answer_count":1,"score":0,"last_activity_date":1684792140,"creation_date":1537105320,"question_id":52354738,"body_markdown":"I&#39;m talking about the authorization_code grant type. In the authorization end point of the OpenID Connect provider we gave an authorization code to the relying party and then they make a back channel request (no browser involved) to the token end point with this code.\r\nSo the question is, how do I distinguish this user at the token end point? I guess no session exists for this call since it&#39;s a back channel request.\r\nWhat methods can be used to identify the user? Could a stored HashMap in memory with key as authorization_code be the ideal solution?","title":"How to detect the user in OpenID Connect provider token endpoint","body":"<p>I'm talking about the authorization_code grant type. In the authorization end point of the OpenID Connect provider we gave an authorization code to the relying party and then they make a back channel request (no browser involved) to the token end point with this code.\nSo the question is, how do I distinguish this user at the token end point? I guess no session exists for this call since it's a back channel request.\nWhat methods can be used to identify the user? Could a stored HashMap in memory with key as authorization_code be the ideal solution?</p>\n"},{"tags":["java","performance","artificial-intelligence","minmax"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1547642325,"post_id":54216946,"comment_id":95260077,"body_markdown":"Really. This question is so unclear. Who did the upvotes?","body":"Really. This question is so unclear. Who did the upvotes?"},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1547642708,"post_id":54216946,"comment_id":95260264,"body_markdown":"Describe your problem clearly (we shouldn&#39;t have to know any game rules), make sure all relevant code is included and learn how to indent your code.","body":"Describe your problem clearly (we shouldn&#39;t have to know any game rules), make sure all relevant code is included and learn how to indent your code."},{"owner":{"account_id":9042085,"reputation":8178,"user_id":6735980,"accept_rate":100,"display_name":"Dennis Soemers"},"score":0,"creation_date":1547658507,"post_id":54216946,"comment_id":95269840,"body_markdown":"A search depth of 6 is not nearly enough to completely solve the game of Connect 4 from the initial game state. With a search depth of 6, you will find many lines of play that still end in a non-terminal game state. You don&#39;t seem to have a heuristic function (you simply always return `0` when the maximum search depth is reached), so pretty much any move is as good as any other move (as long as the AI can still guarantee not to lose within 6 moves, which it likely can even when playing in the first column and playing more smartly after that).","body":"A search depth of 6 is not nearly enough to completely solve the game of Connect 4 from the initial game state. With a search depth of 6, you will find many lines of play that still end in a non-terminal game state. You don&#39;t seem to have a heuristic function (you simply always return <code>0</code> when the maximum search depth is reached), so pretty much any move is as good as any other move (as long as the AI can still guarantee not to lose within 6 moves, which it likely can even when playing in the first column and playing more smartly after that)."},{"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"score":0,"creation_date":1547677152,"post_id":54216946,"comment_id":95278451,"body_markdown":"Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  [Minimal, complete, verifiable example](http://stackoverflow.com/help/mcve) applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem.  \nWe should be able to paste your posted code into a text file and reproduce the problem you described.\nStackOverflow is not a coding, review, or tutorial resource.  &quot;Not working&quot; and &quot;find the mistakes&quot; are not problem specifications.","body":"Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem.   We should be able to paste your posted code into a text file and reproduce the problem you described. StackOverflow is not a coding, review, or tutorial resource.  &quot;Not working&quot; and &quot;find the mistakes&quot; are not problem specifications."},{"owner":{"account_id":15135646,"reputation":19,"user_id":10922235,"display_name":"Naomi"},"score":0,"creation_date":1547731245,"post_id":54216946,"comment_id":95298171,"body_markdown":"@JoakimDanielson well, I&#39;m trying to find a way to find the &quot;best&quot; move for the AI, which means the AI will be able to block a win/ win  within a depth of 6 for now. Sadly It doesn&#39;t and I can&#39;t find the problem. Maybe with the recursion, as I said I&#39;m not sure. Thanks!","body":"@JoakimDanielson well, I&#39;m trying to find a way to find the &quot;best&quot; move for the AI, which means the AI will be able to block a win/ win  within a depth of 6 for now. Sadly It doesn&#39;t and I can&#39;t find the problem. Maybe with the recursion, as I said I&#39;m not sure. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":59521,"reputation":18723,"user_id":178082,"accept_rate":87,"display_name":"Nick Larsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1547778441,"creation_date":1547778441,"answer_id":54246977,"question_id":54216946,"body_markdown":"Connect 4 is a solved game (spoiler, player 1 wins when played perfectly).  You can read all about how the solution was accomplished in [A Knowledge-based Approach of Connect-Four](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.38.2778&amp;rep=rep1&amp;type=pdf).  It&#39;s quite a fascinating read because they did it at a time when computation resources were significantly harder to come by.\r\n\r\nThe general idea is to build a huge database of known value positions, then min-max with alpha-beta pruning until you reach one of the positions in the database.  Building this database was difficult due to computational and storage resources at the time this happened but you could probably achieve something similar today with less effort.\r\n\r\nWhile this doesn&#39;t directly answer your question, hopefully the reference will be a good place to start your research because it includes analysis of a lot of common situations in connect 4 which you can use to help you improve your evaluation function.","title":"Connect 4 code with min max find unique problem","body":"<p>Connect 4 is a solved game (spoiler, player 1 wins when played perfectly).  You can read all about how the solution was accomplished in <a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.38.2778&amp;rep=rep1&amp;type=pdf\" rel=\"nofollow noreferrer\">A Knowledge-based Approach of Connect-Four</a>.  It's quite a fascinating read because they did it at a time when computation resources were significantly harder to come by.</p>\n\n<p>The general idea is to build a huge database of known value positions, then min-max with alpha-beta pruning until you reach one of the positions in the database.  Building this database was difficult due to computational and storage resources at the time this happened but you could probably achieve something similar today with less effort.</p>\n\n<p>While this doesn't directly answer your question, hopefully the reference will be a good place to start your research because it includes analysis of a lot of common situations in connect 4 which you can use to help you improve your evaluation function.</p>\n"}],"owner":{"account_id":15135646,"reputation":19,"user_id":10922235,"display_name":"Naomi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":54246977,"answer_count":1,"score":0,"last_activity_date":1684791655,"creation_date":1547641124,"question_id":54216946,"body_markdown":"I&#39;m looking for a way to solve Connect 4.  I&#39;m trying now with min max with a depth of 6.  It&#39;s not working and it keeps resulting in the same column (the first one).\r\n\r\nI&#39;m pretty desperate so I&#39;ll be very happy if you could find the mistakes.\r\n\r\n    public int findBestMove() {\r\n\r\n    \t\tArrayList&lt;ArrayList&lt;Integer&gt;&gt; myMoves = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n\r\n    \t\tfor (int i = 0; i &lt; mWidth; i++) {\r\n    \t\t\tif (isColumnAvailable(i)) {\r\n    \t\t\tArrayList&lt;Integer&gt; t = new ArrayList&lt;&gt;();\r\n    \t\t\tt.add(i);\r\n    \t\t\tt.add(MinMax(6, mBoard, false));\r\n    \t\t\tmyMoves.add(t);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t}\r\n\r\n    \t\tint maxMoveScore = -10000;\r\n    \t\tint bestMove = 0;\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; myMoves.size(); i++) {\r\n    \t\t\tint score = myMoves.get(i).get(1);\r\n    \t\t\tif (score &gt; maxMoveScore) {\r\n    \t\t\t\tmaxMoveScore = tryit;\r\n    \t\t\t\tbestMove = myMoves.get(i).get(0);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn bestMove;\r\n    \t}\r\n\r\n    \tprivate int MinMax(int depth,int[][] board, boolean maximizingPlayer) {\r\n    \t\tif (depth &lt;= 0)\r\n    \t\t\treturn 0;\r\n\r\n    \t\tint winner =checkForWin() ;\r\n    \t\tif (winner == 2)\r\n    \t\t\treturn depth;\r\n    \t\tif (winner == 1)\r\n    \t\t\treturn -depth;\r\n    \t\tif (isBoardFull()) {\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n\r\n    \t\tint bestValue;\r\n    \t\t\r\n    \t\tif (maximizingPlayer)\r\n    \t\t\tbestValue = -1;\r\n    \t\telse\r\n    \t\t\tbestValue = 1;\r\n    \t\tfor (int i = 0; i &lt; mWidth; i++) {\r\n    \t\t\tif (!isColumnAvailable(i))\r\n    \t\t\t\tcontinue;\r\n    \t\t\tint v = MinMax(depth - 1, board, !maximizingPlayer);\r\n    \t\t\tbestValue = maximizingPlayer ? Math.max(bestValue, v) : Math.min(bestValue, v);\r\n    \t\t\t\r\n    \t\t}\r\n\r\n    \t\treturn bestValue;\r\n\r\n    \t}\r\n\r\n2- is the number of the AI  \r\n1- is the human player  \r\n0- is empty\r\n","title":"Connect 4 code with min max find unique problem","body":"<p>I'm looking for a way to solve Connect 4.  I'm trying now with min max with a depth of 6.  It's not working and it keeps resulting in the same column (the first one).</p>\n<p>I'm pretty desperate so I'll be very happy if you could find the mistakes.</p>\n<pre><code>public int findBestMove() {\n\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; myMoves = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n\n        for (int i = 0; i &lt; mWidth; i++) {\n            if (isColumnAvailable(i)) {\n            ArrayList&lt;Integer&gt; t = new ArrayList&lt;&gt;();\n            t.add(i);\n            t.add(MinMax(6, mBoard, false));\n            myMoves.add(t);\n            \n        }\n        }\n\n        int maxMoveScore = -10000;\n        int bestMove = 0;\n        \n        for (int i = 0; i &lt; myMoves.size(); i++) {\n            int score = myMoves.get(i).get(1);\n            if (score &gt; maxMoveScore) {\n                maxMoveScore = tryit;\n                bestMove = myMoves.get(i).get(0);\n                \n            }\n        \n        }\n        \n        return bestMove;\n    }\n\n    private int MinMax(int depth,int[][] board, boolean maximizingPlayer) {\n        if (depth &lt;= 0)\n            return 0;\n\n        int winner =checkForWin() ;\n        if (winner == 2)\n            return depth;\n        if (winner == 1)\n            return -depth;\n        if (isBoardFull()) {\n            return 0;\n        }\n\n        int bestValue;\n        \n        if (maximizingPlayer)\n            bestValue = -1;\n        else\n            bestValue = 1;\n        for (int i = 0; i &lt; mWidth; i++) {\n            if (!isColumnAvailable(i))\n                continue;\n            int v = MinMax(depth - 1, board, !maximizingPlayer);\n            bestValue = maximizingPlayer ? Math.max(bestValue, v) : Math.min(bestValue, v);\n            \n        }\n\n        return bestValue;\n\n    }\n</code></pre>\n<p>2- is the number of the AI<br />\n1- is the human player<br />\n0- is empty</p>\n"},{"tags":["java","xml","tomcat","genexus"],"answers":[{"tags":[],"owner":{"account_id":5292736,"reputation":25,"user_id":4224786,"display_name":"Sebasti&#225;n Baioni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466537989,"creation_date":1466513424,"answer_id":37944957,"question_id":37925795,"body_markdown":"Check in your form the Uploadify property &quot;Size Limit&quot;.\r\n\r\nIn web.config check `maxRequestLength` in `&lt;system.web&gt;` and the `requestLimits maxAllowedContentLength` in `&lt;security&gt;`.\r\n\r\nExample:\r\n\r\n    &lt;system.web&gt;\r\n     &lt;httpRuntime requestValidationMode=&quot;2.0&quot; executionTimeout=&quot;600&quot; maxRequestLength=&quot;50000&quot;/&gt;\r\n    &lt;/system.web&gt;\r\n\r\n    &lt;system.webServer&gt;\r\n     &lt;security&gt;\r\n      &lt;requestFiltering&gt;\r\n       &lt;hiddenSegments&gt;\r\n        &lt;add segment=&quot;PrivateTempStorage&quot; /&gt;\r\n        &lt;add segment=&quot;private&quot; /&gt;\r\n       &lt;/hiddenSegments&gt;\r\n       &lt;requestLimits maxAllowedContentLength=&quot;50000000&quot;/&gt;\r\n      &lt;/requestFiltering&gt;\r\n     &lt;/security&gt;\r\n    &lt;/system.webServer&gt;","title":"Genexus Uploadify not working with large files","body":"<p>Check in your form the Uploadify property \"Size Limit\".</p>\n\n<p>In web.config check <code>maxRequestLength</code> in <code>&lt;system.web&gt;</code> and the <code>requestLimits maxAllowedContentLength</code> in <code>&lt;security&gt;</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;system.web&gt;\n &lt;httpRuntime requestValidationMode=\"2.0\" executionTimeout=\"600\" maxRequestLength=\"50000\"/&gt;\n&lt;/system.web&gt;\n\n&lt;system.webServer&gt;\n &lt;security&gt;\n  &lt;requestFiltering&gt;\n   &lt;hiddenSegments&gt;\n    &lt;add segment=\"PrivateTempStorage\" /&gt;\n    &lt;add segment=\"private\" /&gt;\n   &lt;/hiddenSegments&gt;\n   &lt;requestLimits maxAllowedContentLength=\"50000000\"/&gt;\n  &lt;/requestFiltering&gt;\n &lt;/security&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n"}],"owner":{"account_id":2855565,"reputation":7,"user_id":2451912,"display_name":"Cyberwarrior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684791155,"creation_date":1466434986,"question_id":37925795,"body_markdown":"I have a website made in Genexus with a transaction which includes a Uploadify control in it, running on a local Tomcat server, and it works fine with small files but when I try to upload a bigger one (&gt; 50 MB) it appears to upload the file but then returns to the transaction screen.\r\n\r\nI ran a test using Developer Tools included in Google Chrome, and I noticed that, when I try to upload large files, a &quot;500 - Internal Server Error&quot; occurs. Clicking on the corresponding line in the &quot;Network&quot; tab gives this:\r\n\r\n    HTTP Status 500 -\r\n\r\n    type Exception report\r\n\r\n    message\r\n\r\n    description The server encountered an internal error () that prevented it from fulfilling this request.\r\n\r\n    exception\r\n\r\n    javax.servlet.ServletException: java.lang.NoSuchMethodError: org.apache.commons.fileupload.DefaultFileItem.cleanup()V\r\n\tat com.genexus.webpanels.HttpContextWeb.cleanup(Unknown Source)\r\n\tat com.genexus.webpanels.GXWebObjectBase.doExecute(Unknown Source)\r\n\tat br.com.procempa.spm.cauge.texpedientessoliceventosalter.doExecute(texpedientessoliceventosalter.java:21)\r\n\tat com.genexus.webpanels.GXWebObjectStub.callExecute(Unknown Source)\r\n\tat com.genexus.webpanels.GXWebObjectStub.doPost(Unknown Source)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n\tat org.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:420)\r\n\tat org.apache.catalina.servlets.InvokerServlet.doPost(InvokerServlet.java:170)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)\r\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:873)\r\n\tat org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)\r\n\tat org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)\r\n\tat org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)\r\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n\tcom.genexus.webpanels.GXWebObjectStub.callExecute(Unknown Source)\r\n\tcom.genexus.webpanels.GXWebObjectStub.doPost(Unknown Source)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n\torg.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:420)\r\n\torg.apache.catalina.servlets.InvokerServlet.doPost(InvokerServlet.java:170)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    note The full stack trace of the root cause is available in the Apache Tomcat/5.5.28 logs.\r\n\r\n    Apache Tomcat/5.5.28\r\n\r\nSearching on some websites, I found suggestions to edit the application&#39;s web.xml adding the following tag inside the &amp;lt;servlet&amp;gt; tag in tomcat-directory/application-directory/WEB-INF/web.xml:\r\n\r\n    &lt;multipart-config&gt;\r\n        &lt;max-file-size&gt;1073741824&lt;/max-file-size&gt;\r\n\t\t&lt;max-request-size&gt;1073741824&lt;/max-request-size&gt;\r\n\t\t&lt;file-size-threshold&gt;0&lt;/file-size-threshold&gt;\r\n    &lt;/multipart-config&gt;\r\n\r\nAnd then edited tomcat-directory/conf/server.xml to make the Connector tag for port 8080 look like this:\r\n\r\n    &lt;Connector port=&quot;8080&quot; maxHttpHeaderSize=&quot;4096&quot; maxPostSize=&quot;1073741824&quot;\r\n               maxThreads=&quot;150&quot; minSpareThreads=&quot;25&quot; maxSpareThreads=&quot;75&quot;\r\n               enableLookups=&quot;false&quot; redirectPort=&quot;8443&quot; acceptCount=&quot;100&quot;\r\n               connectionTimeout=&quot;600000&quot; disableUploadTimeout=&quot;true&quot; /&gt;\r\n\r\nAnd then restarted Tomcat, but yet it gives me the same error. Am I missing anything else?\r\n\r\nThanks in advance!\r\n\r\n**EDIT:** Actually, my application is a Java one, and the control used is not a true &quot;Uploadify&quot;, it has class &quot;Image&quot; and is linked to a BLOB field in the database. Isn&#39;t it the case to change the field type in the transaction form?","title":"Genexus Uploadify not working with large files","body":"<p>I have a website made in Genexus with a transaction which includes a Uploadify control in it, running on a local Tomcat server, and it works fine with small files but when I try to upload a bigger one (> 50 MB) it appears to upload the file but then returns to the transaction screen.</p>\n\n<p>I ran a test using Developer Tools included in Google Chrome, and I noticed that, when I try to upload large files, a \"500 - Internal Server Error\" occurs. Clicking on the corresponding line in the \"Network\" tab gives this:</p>\n\n<pre><code>HTTP Status 500 -\n\ntype Exception report\n\nmessage\n\ndescription The server encountered an internal error () that prevented it from fulfilling this request.\n\nexception\n\njavax.servlet.ServletException: java.lang.NoSuchMethodError: org.apache.commons.fileupload.DefaultFileItem.cleanup()V\nat com.genexus.webpanels.HttpContextWeb.cleanup(Unknown Source)\nat com.genexus.webpanels.GXWebObjectBase.doExecute(Unknown Source)\nat br.com.procempa.spm.cauge.texpedientessoliceventosalter.doExecute(texpedientessoliceventosalter.java:21)\nat com.genexus.webpanels.GXWebObjectStub.callExecute(Unknown Source)\nat com.genexus.webpanels.GXWebObjectStub.doPost(Unknown Source)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\nat org.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:420)\nat org.apache.catalina.servlets.InvokerServlet.doPost(InvokerServlet.java:170)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)\nat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:873)\nat org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)\nat org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)\nat org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)\nat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\nat java.lang.Thread.run(Unknown Source)\n\ncom.genexus.webpanels.GXWebObjectStub.callExecute(Unknown Source)\ncom.genexus.webpanels.GXWebObjectStub.doPost(Unknown Source)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:647)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\norg.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:420)\norg.apache.catalina.servlets.InvokerServlet.doPost(InvokerServlet.java:170)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:647)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\nnote The full stack trace of the root cause is available in the Apache Tomcat/5.5.28 logs.\n\nApache Tomcat/5.5.28\n</code></pre>\n\n<p>Searching on some websites, I found suggestions to edit the application's web.xml adding the following tag inside the &lt;servlet&gt; tag in tomcat-directory/application-directory/WEB-INF/web.xml:</p>\n\n<pre><code>&lt;multipart-config&gt;\n    &lt;max-file-size&gt;1073741824&lt;/max-file-size&gt;\n    &lt;max-request-size&gt;1073741824&lt;/max-request-size&gt;\n    &lt;file-size-threshold&gt;0&lt;/file-size-threshold&gt;\n&lt;/multipart-config&gt;\n</code></pre>\n\n<p>And then edited tomcat-directory/conf/server.xml to make the Connector tag for port 8080 look like this:</p>\n\n<pre><code>&lt;Connector port=\"8080\" maxHttpHeaderSize=\"4096\" maxPostSize=\"1073741824\"\n           maxThreads=\"150\" minSpareThreads=\"25\" maxSpareThreads=\"75\"\n           enableLookups=\"false\" redirectPort=\"8443\" acceptCount=\"100\"\n           connectionTimeout=\"600000\" disableUploadTimeout=\"true\" /&gt;\n</code></pre>\n\n<p>And then restarted Tomcat, but yet it gives me the same error. Am I missing anything else?</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>EDIT:</strong> Actually, my application is a Java one, and the control used is not a true \"Uploadify\", it has class \"Image\" and is linked to a BLOB field in the database. Isn't it the case to change the field type in the transaction form?</p>\n"},{"tags":["java","spring","spring-ws","wss4j"],"owner":{"account_id":2308123,"reputation":67,"user_id":2026932,"display_name":"WebScript"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684790913,"creation_date":1684790913,"question_id":76310018,"body_markdown":"I am struggling with an old project which was upgraded to `Spring 5.3.23` , `Spring WS 3.1.6` and `WSS4J 2.4.1` . It is running in `WildFly 26.1.2` with `SAAJ 1.5.3` builtin\r\n\r\nThe project contains some REST Spring Controllers and one SOAP server endpoint with Wss4jSecurityInterceptor. After upgrade the SOAP endpoint returns error\r\n\r\n    WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.\r\n\r\nWhen I remove the security interceptor it returns the response without issue. Due to separate logging issues I cannot get to the stacktrace. Does anybody have any clue? I tried various versions mixed but it is always the same. Thanks","title":"Spring WS exception during security header generation","body":"<p>I am struggling with an old project which was upgraded to <code>Spring 5.3.23</code> , <code>Spring WS 3.1.6</code> and <code>WSS4J 2.4.1</code> . It is running in <code>WildFly 26.1.2</code> with <code>SAAJ 1.5.3</code> builtin</p>\n<p>The project contains some REST Spring Controllers and one SOAP server endpoint with Wss4jSecurityInterceptor. After upgrade the SOAP endpoint returns error</p>\n<pre><code>WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.\n</code></pre>\n<p>When I remove the security interceptor it returns the response without issue. Due to separate logging issues I cannot get to the stacktrace. Does anybody have any clue? I tried various versions mixed but it is always the same. Thanks</p>\n"},{"tags":["java","varhandle"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684791393,"post_id":76310008,"comment_id":134565886,"body_markdown":"I believe spec wise the cAS call can continue to fail as the `getOpaque()` call returns the &#39;wrong&#39; value for millions of loops, in theory. I would go with trying this operation just once, and if it fails, do the loop you pasted, but with `getVolatile` instead of `getOpaque`.","body":"I believe spec wise the cAS call can continue to fail as the <code>getOpaque()</code> call returns the &#39;wrong&#39; value for millions of loops, in theory. I would go with trying this operation just once, and if it fails, do the loop you pasted, but with <code>getVolatile</code> instead of <code>getOpaque</code>."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1684801473,"post_id":76310008,"comment_id":134566867,"body_markdown":"This belongs on https://codereview.stackexchange.com/","body":"This belongs on <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695906508,"post_id":76310008,"comment_id":136088287,"body_markdown":"Opaque mode is enough if you only care about the counter. If you want to establish *happens-before* relationships between incrementing the counter and things done between the increments, you need a stronger mode.","body":"Opaque mode is enough if you only care about the counter. If you want to establish <i>happens-before</i> relationships between incrementing the counter and things done between the increments, you need a stronger mode."}],"owner":{"account_id":43232,"reputation":13925,"user_id":126280,"accept_rate":60,"display_name":"Cheetah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684790732,"creation_date":1684790732,"question_id":76310008,"body_markdown":"My code:\r\n\r\n    static final VarHandle COUNTER_VAR_HANDLE = //;\r\n    static final int MAX = 10;\r\n\r\n    int counter = -1;\r\n    \r\n    int getNext() {\r\n      var next = 0;\r\n      var prev = 0;\r\n    \r\n      do {\r\n        prev = (int) COUNTER_VAR_HANDLE.getOpaque(this);\r\n        next = (prev + 1) % MAX;\r\n      } while (!COUNTER_VAR_HANDLE.compareAndSet(this, prev, next));\r\n    \r\n      return next;\r\n    }\r\n\r\nTrying to understand VarHandles and their different uses. Given a recent architecture (e.g. x86), is this the correct implementation of a getNext() method?\r\n\r\nIf my reading serves me correctly there is no benefit to using `weakCompareAndSet` on a modern achitecture but I wasn&#39;t sure whether I needed `getVolatile()` instead of `getOpaque()` in this circumstance. Am I going to run into issues with multiple threads calling `getNext()`?","title":"Have I implemented an atomic circular counter correctly using VarHandles","body":"<p>My code:</p>\n<pre><code>static final VarHandle COUNTER_VAR_HANDLE = //;\nstatic final int MAX = 10;\n\nint counter = -1;\n\nint getNext() {\n  var next = 0;\n  var prev = 0;\n\n  do {\n    prev = (int) COUNTER_VAR_HANDLE.getOpaque(this);\n    next = (prev + 1) % MAX;\n  } while (!COUNTER_VAR_HANDLE.compareAndSet(this, prev, next));\n\n  return next;\n}\n</code></pre>\n<p>Trying to understand VarHandles and their different uses. Given a recent architecture (e.g. x86), is this the correct implementation of a getNext() method?</p>\n<p>If my reading serves me correctly there is no benefit to using <code>weakCompareAndSet</code> on a modern achitecture but I wasn't sure whether I needed <code>getVolatile()</code> instead of <code>getOpaque()</code> in this circumstance. Am I going to run into issues with multiple threads calling <code>getNext()</code>?</p>\n"},{"tags":["java","kotlin","gradle","nexus","maven-publish"],"owner":{"account_id":19581210,"reputation":23,"user_id":14330235,"display_name":"morohon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684790443,"creation_date":1684790443,"question_id":76309989,"body_markdown":"I&#39;m trying to publish an artifact to a corporate repository. I set up the maven-publish plugin as follows (I use build.gradle.kts):\r\n\r\n```kotlin\r\nplugins {\r\n\t`java-library`\r\n\t`maven-publish`\r\n}\r\n\r\nval nexusUsername: String by project\r\nval nexusPassword: String by project\r\nval nexusSnapshotRepositoryUrl: String by project\r\nval nexusRepositoryUrl: String by project\r\n\r\npublishing {\r\n\tpublications {\r\n\t\tregister(&quot;mavenJava&quot;, MavenPublication::class) {\r\n\t\t\tfrom(components[&quot;java&quot;])\r\n\t\t}\r\n\t}\r\n\trepositories {\r\n\t\tmaven {\r\n\t\t\tcredentials {\r\n\t\t\t\tusername = nexusUsername\r\n\t\t\t\tpassword = nexusPassword\r\n\t\t\t}\r\n\t\t\turl = uri(nexusRepositoryUrl)\r\n\t\t\tmavenContent {\r\n\t\t\t\treleasesOnly()\r\n\t\t\t}\r\n\t\t}\r\n\t\tmaven {\r\n\t\t\tcredentials {\r\n\t\t\t\tusername = nexusUsername\r\n\t\t\t\tpassword = nexusPassword\r\n\t\t\t}\r\n\t\t\turl = uri(nexusSnapshotRepositoryUrl)\r\n\t\t\tmavenContent {\r\n\t\t\t\tsnapshotsOnly()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\ngradle.properties:\r\n```\r\nversion=0.0.1\r\nnexusRepositoryUrl=https://nexus.custom/repository/release/\r\nnexusSnapshotRepositoryUrl=https://nexus.custom/repository/snapshot/\r\nnexusUsername=\r\nnexusPassword=\r\n```\r\n\r\nFor some reason, when the publish task is called, mavenContent is ignored for me - the publication always tries to execute to the last maven repository, which is specified ignoring the version (i.e., the application version is 0.0.1, while the publication is carried out in the snapshot repository, if the repositories are swapped, the publication will be in the release repository).\r\nI&#39;m expecting a behavior in which when I run the publish task, I will have the correct repository determined based on the version, is this not how it should work?\r\n\r\nWhen I start the task, I get information in the log about an attempt to publish to the repository snapshots: \r\n`./gradlew publish`\r\n&gt; Execution failed for task &#39;:publishMavenJavaPublicationToMaven2Repository&#39;.\r\n&gt; Failed to publish publication &#39;mavenJava&#39; to repository &#39;maven2&#39;\r\n   &gt; Could not PUT &#39;https://nexus.custom/repository/snapshot/ru/example/0.0.1/some-example-app-0.0.1.jar&#39;. Received status code 400 from server: Bad Request","title":"Filter mavenContent not working in maven-publish","body":"<p>I'm trying to publish an artifact to a corporate repository. I set up the maven-publish plugin as follows (I use build.gradle.kts):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    `java-library`\n    `maven-publish`\n}\n\nval nexusUsername: String by project\nval nexusPassword: String by project\nval nexusSnapshotRepositoryUrl: String by project\nval nexusRepositoryUrl: String by project\n\npublishing {\n    publications {\n        register(&quot;mavenJava&quot;, MavenPublication::class) {\n            from(components[&quot;java&quot;])\n        }\n    }\n    repositories {\n        maven {\n            credentials {\n                username = nexusUsername\n                password = nexusPassword\n            }\n            url = uri(nexusRepositoryUrl)\n            mavenContent {\n                releasesOnly()\n            }\n        }\n        maven {\n            credentials {\n                username = nexusUsername\n                password = nexusPassword\n            }\n            url = uri(nexusSnapshotRepositoryUrl)\n            mavenContent {\n                snapshotsOnly()\n            }\n        }\n    }\n}\n</code></pre>\n<p>gradle.properties:</p>\n<pre><code>version=0.0.1\nnexusRepositoryUrl=https://nexus.custom/repository/release/\nnexusSnapshotRepositoryUrl=https://nexus.custom/repository/snapshot/\nnexusUsername=\nnexusPassword=\n</code></pre>\n<p>For some reason, when the publish task is called, mavenContent is ignored for me - the publication always tries to execute to the last maven repository, which is specified ignoring the version (i.e., the application version is 0.0.1, while the publication is carried out in the snapshot repository, if the repositories are swapped, the publication will be in the release repository).\nI'm expecting a behavior in which when I run the publish task, I will have the correct repository determined based on the version, is this not how it should work?</p>\n<p>When I start the task, I get information in the log about an attempt to publish to the repository snapshots:\n<code>./gradlew publish</code></p>\n<blockquote>\n<p>Execution failed for task ':publishMavenJavaPublicationToMaven2Repository'.\nFailed to publish publication 'mavenJava' to repository 'maven2'\nCould not PUT 'https://nexus.custom/repository/snapshot/ru/example/0.0.1/some-example-app-0.0.1.jar'. Received status code 400 from server: Bad Request</p>\n</blockquote>\n"},{"tags":["java","mongodb","list","kotlin","bson"],"comments":[{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1684418870,"post_id":76281550,"comment_id":134517137,"body_markdown":"i didn&#39;t found a direct solution so i was applying specific converters for my queries\nList&lt;Document&gt; results = dao.find(CollectionNames.PESSOA_JURIDICA, filter(search), ascending(sortBy), limit, offset);\n        return results.stream().map(d -&gt; converter.read(PessoaJuridicaDocument.class, d)).collect(Collectors.toList());\n\nsee org.springframework.data.mongodb.core.convert.MappingMongoConverter for details","body":"i didn&#39;t found a direct solution so i was applying specific converters for my queries List&lt;Document&gt; results = dao.find(CollectionNames.PESSOA_JURIDICA, filter(search), ascending(sortBy), limit, offset);         return results.stream().map(d -&gt; converter.read(PessoaJuridicaDocument.class, d)).collect(Collectors.toList());  see org.springframework.data.mongodb.core.convert.MappingMongoCo&zwnj;&#8203;nverter for details"},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1684762539,"post_id":76281550,"comment_id":134559921,"body_markdown":"What is the converter class here? Can you add an answer so that I can accept it, thanks","body":"What is the converter class here? Can you add an answer so that I can accept it, thanks"}],"answers":[{"tags":[],"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684790335,"creation_date":1684790335,"answer_id":76309981,"question_id":76281550,"body_markdown":"The converter class can help you on that:\r\n\r\n    package simple.sample.mongo.dao;\r\n    \r\n    import com.mongodb.client.model.Filters;\r\n    import com.mongodb.client.model.Sorts;\r\n    import org.springframework.data.mongodb.core.convert.MappingMongoConverter;\r\n    import org.springframework.stereotype.Component;\r\n    import simple.sample.mongo.dao.base.BaseDAO;\r\n    import simple.sample.mongo.models.TodoDocument;\r\n\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n\r\n    @Component\r\n    public class TodoDAO {\r\n\r\n        private final MappingMongoConverter converter;\r\n        private final BaseDAO dao;\r\n\r\n        public TodoDAO(MappingMongoConverter converter, BaseDAO dao) {\r\n            this.converter = converter;\r\n            this.dao = dao;\r\n        }\r\n\r\n        // see for more converters https://github.com/spring-projects/spring-data-examples/tree/main/mongodb/example/src/main/java/example/springdata/mongodb/converters\r\n        public List&lt;TodoDocument&gt; find(String description) {\r\n            return dao.find(&quot;todos&quot;,\r\n                            Filters.regex(&quot;description&quot;, description),\r\n                            Sorts.ascending(&quot;description&quot;), 100, 0)\r\n                    .stream().map(doc -&gt; converter.read(TodoDocument.class, doc))\r\n                    .collect(Collectors.toList());\r\n        }\r\n\r\n    }\r\n\r\nWhere `TodoDocument` is a mongo collection mapped to java class.\r\n\r\nYou can either use `TodoRepository` to query the document store or get connection from `MongoTemplate` in order to get access to more flexible queries.\r\n\r\nThe more complete sourcecode can be found [in this link][1]\r\n\r\n\r\n  [1]: https://github.com/sombriks/simple-sample-mongo","title":"MongoDB Document - how to convert into model class?","body":"<p>The converter class can help you on that:</p>\n<pre><code>package simple.sample.mongo.dao;\n\nimport com.mongodb.client.model.Filters;\nimport com.mongodb.client.model.Sorts;\nimport org.springframework.data.mongodb.core.convert.MappingMongoConverter;\nimport org.springframework.stereotype.Component;\nimport simple.sample.mongo.dao.base.BaseDAO;\nimport simple.sample.mongo.models.TodoDocument;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Component\npublic class TodoDAO {\n\n    private final MappingMongoConverter converter;\n    private final BaseDAO dao;\n\n    public TodoDAO(MappingMongoConverter converter, BaseDAO dao) {\n        this.converter = converter;\n        this.dao = dao;\n    }\n\n    // see for more converters https://github.com/spring-projects/spring-data-examples/tree/main/mongodb/example/src/main/java/example/springdata/mongodb/converters\n    public List&lt;TodoDocument&gt; find(String description) {\n        return dao.find(&quot;todos&quot;,\n                        Filters.regex(&quot;description&quot;, description),\n                        Sorts.ascending(&quot;description&quot;), 100, 0)\n                .stream().map(doc -&gt; converter.read(TodoDocument.class, doc))\n                .collect(Collectors.toList());\n    }\n\n}\n</code></pre>\n<p>Where <code>TodoDocument</code> is a mongo collection mapped to java class.</p>\n<p>You can either use <code>TodoRepository</code> to query the document store or get connection from <code>MongoTemplate</code> in order to get access to more flexible queries.</p>\n<p>The more complete sourcecode can be found <a href=\"https://github.com/sombriks/simple-sample-mongo\" rel=\"nofollow noreferrer\">in this link</a></p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76309981,"answer_count":1,"score":1,"last_activity_date":1684790335,"creation_date":1684418362,"question_id":76281550,"body_markdown":"I have the following java code that I am using to paginated a response from mongodb, that works as expected:\r\n\r\n    List&lt;Document&gt; documents = collection.find()\r\n            .skip(offset)\r\n            .limit(limit)\r\n            .into(new ArrayList&lt;&gt;());\r\n\r\nInstead of a generic `org.bson.Document` what I want to return is a list of my specific `model` kotlin class Person.\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    class Person {\r\n    \r\n        @JsonProperty(&quot;id&quot;)\r\n        var id: Long? = null\r\n    \r\n        @JsonProperty(&quot;name&quot;)\r\n        var name: String? = null\r\n    \t\r\n    }\r\n\r\nWhen I try the following:\r\n\r\n        List&lt;Person&gt; documents = collection.find()\r\n                .skip(offset)\r\n                .limit(limit)\r\n                .into(new ArrayList&lt;Person&gt;());\r\n\r\nI get compile error:\r\n\r\n    Inferred type &#39;A&#39; for type parameter &#39;A&#39; is not within its bound; should implement &#39;java.util.Collection&lt;? super org.bson.Document&gt;&#39;\r\n\r\nHow can I resolve this?\r\n\r\nThe library used here is: `org.mongodb:bson:3.12.1`\r\n\r\n\r\n","title":"MongoDB Document - how to convert into model class?","body":"<p>I have the following java code that I am using to paginated a response from mongodb, that works as expected:</p>\n<pre><code>List&lt;Document&gt; documents = collection.find()\n        .skip(offset)\n        .limit(limit)\n        .into(new ArrayList&lt;&gt;());\n</code></pre>\n<p>Instead of a generic <code>org.bson.Document</code> what I want to return is a list of my specific <code>model</code> kotlin class Person.</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\nclass Person {\n\n    @JsonProperty(&quot;id&quot;)\n    var id: Long? = null\n\n    @JsonProperty(&quot;name&quot;)\n    var name: String? = null\n    \n}\n</code></pre>\n<p>When I try the following:</p>\n<pre><code>    List&lt;Person&gt; documents = collection.find()\n            .skip(offset)\n            .limit(limit)\n            .into(new ArrayList&lt;Person&gt;());\n</code></pre>\n<p>I get compile error:</p>\n<pre><code>Inferred type 'A' for type parameter 'A' is not within its bound; should implement 'java.util.Collection&lt;? super org.bson.Document&gt;'\n</code></pre>\n<p>How can I resolve this?</p>\n<p>The library used here is: <code>org.mongodb:bson:3.12.1</code></p>\n"},{"tags":["java","android-studio","android-support-library"],"owner":{"account_id":28657835,"reputation":1,"user_id":21943406,"display_name":"Narcisa Costache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684790112,"creation_date":1684790112,"question_id":76309965,"body_markdown":"I am trying to create an android application that includes find places on map, for that i might need to have the support tools downloaded, but i cannot find the support tools through the SDK tools. I am using Android Studio Flamingo.\r\n\r\nI noticed when i tried to put this in the XML&quot;        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n&quot;","title":"Missing support tools for Android Studio Flamingo: how can I include find places on map feature in my app?","body":"<p>I am trying to create an android application that includes find places on map, for that i might need to have the support tools downloaded, but i cannot find the support tools through the SDK tools. I am using Android Studio Flamingo.</p>\n<p>I noticed when i tried to put this in the XML&quot;        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n&quot;</p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684820834,"post_id":76309639,"comment_id":134568608,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) will help. Here is the corresponding [repo](https://github.com/alexmamo/CloudStorageJetpackCompose).","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/CloudStorageJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684788139,"creation_date":1684788139,"answer_id":76309762,"question_id":76309639,"body_markdown":"The error message is telling you that Firebase Storage can&#39;t find a file using the Reference you used to get a download URL.  That&#39;s because you are not using the correct Reference with `getDownloadUrl`.\r\n\r\nHere is what you&#39;re using to upload the file:\r\n\r\n```\r\nref.child(postId+&quot;-&quot;+fmNumber).putFile(result)\r\n```\r\n\r\nHere is what you&#39;re using to get the download URL:\r\n\r\n```\r\nref.getDownloadUrl()\r\n```\r\n\r\nThese are not using the same Reference.  You should probably build a new reference variable and use it in both places to ensure they are always the same.\r\n\r\n```\r\nStorageReference fileRef = ref.child(postId+&quot;-&quot;+fmNumber);\r\n\r\n// Then...\r\n\r\nfileRef.putFile(result)...\r\n\r\n// Then...\r\n\r\nfileRef.getDownloadUrl()...\r\n```\r\n","title":"StorageException has occurred. Object does not exist at location. Code: -13010 HttpResult: 404 in firestore","body":"<p>The error message is telling you that Firebase Storage can't find a file using the Reference you used to get a download URL.  That's because you are not using the correct Reference with <code>getDownloadUrl</code>.</p>\n<p>Here is what you're using to upload the file:</p>\n<pre><code>ref.child(postId+&quot;-&quot;+fmNumber).putFile(result)\n</code></pre>\n<p>Here is what you're using to get the download URL:</p>\n<pre><code>ref.getDownloadUrl()\n</code></pre>\n<p>These are not using the same Reference.  You should probably build a new reference variable and use it in both places to ensure they are always the same.</p>\n<pre><code>StorageReference fileRef = ref.child(postId+&quot;-&quot;+fmNumber);\n\n// Then...\n\nfileRef.putFile(result)...\n\n// Then...\n\nfileRef.getDownloadUrl()...\n</code></pre>\n"}],"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76309762,"answer_count":1,"score":0,"last_activity_date":1684788153,"creation_date":1684786894,"question_id":76309639,"body_markdown":"I am trying to upload the image on firestore. The photo is uploading successfully but I can&#39;t download the image url. I don&#39;t understand where is the problem.\r\n\r\nMy code is:\r\n```\r\n  ActivityResultLauncher&lt;String&gt; imageSelect;\r\n        ref = FirebaseStorage.getInstance().getReference(&quot;photo&quot;);\r\n\r\n        //img pick\r\n        imageSelect = registerForActivityResult(new ActivityResultContracts.GetContent(), new ActivityResultCallback&lt;Uri&gt;() {\r\n            @Override\r\n            public void onActivityResult(Uri result) {\r\n                if (result != null){\r\n                    imgPicker.setImageURI(result);\r\n                    emptyImg = false;\r\n                    Random random = new Random();\r\n                    int post = random.nextInt(999999);\r\n                    String postId = String.valueOf(post);\r\n                    ref.child(postId+&quot;-&quot;+fmNumber).putFile(result)\r\n                            .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                                @Override\r\n                                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                    ref.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                                        @Override\r\n                                        public void onSuccess(Uri uri) {\r\n                                            image = uri.toString();\r\n                                            System.out.println(image);\r\n                                            Toast.makeText(FromActivity.this, &quot;Image Upload Successful&quot;, Toast.LENGTH_SHORT).show();\r\n                                            uploadComplete = true;\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                }else {\r\n                    Toast.makeText(FromActivity.this, &quot;You don&#39;t select any image&quot;, Toast.LENGTH_SHORT).show();\r\n                    imgPicker.setImageResource(R.drawable.profile);\r\n                    uploadComplete = false;\r\n                }\r\n\r\n            }\r\n        });\r\n```\r\n\r\nIt shows this error.\r\n```\r\n{  &quot;error&quot;: {    &quot;code&quot;: 404,    &quot;message&quot;: &quot;Not Found.&quot;  }}\r\njava.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 404,    &quot;message&quot;: &quot;Not Found.&quot;  }}\r\nat com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\r\nat com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\r\nat com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\r\nat com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\r\nat com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\r\nat com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\r\nat com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\r\nat com.google.firebase.storage.GetDownloadUrlTask.run(GetDownloadUrlTask.java:77)\r\n```","title":"StorageException has occurred. Object does not exist at location. Code: -13010 HttpResult: 404 in firestore","body":"<p>I am trying to upload the image on firestore. The photo is uploading successfully but I can't download the image url. I don't understand where is the problem.</p>\n<p>My code is:</p>\n<pre><code>  ActivityResultLauncher&lt;String&gt; imageSelect;\n        ref = FirebaseStorage.getInstance().getReference(&quot;photo&quot;);\n\n        //img pick\n        imageSelect = registerForActivityResult(new ActivityResultContracts.GetContent(), new ActivityResultCallback&lt;Uri&gt;() {\n            @Override\n            public void onActivityResult(Uri result) {\n                if (result != null){\n                    imgPicker.setImageURI(result);\n                    emptyImg = false;\n                    Random random = new Random();\n                    int post = random.nextInt(999999);\n                    String postId = String.valueOf(post);\n                    ref.child(postId+&quot;-&quot;+fmNumber).putFile(result)\n                            .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                                @Override\n                                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                                    ref.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                                        @Override\n                                        public void onSuccess(Uri uri) {\n                                            image = uri.toString();\n                                            System.out.println(image);\n                                            Toast.makeText(FromActivity.this, &quot;Image Upload Successful&quot;, Toast.LENGTH_SHORT).show();\n                                            uploadComplete = true;\n                                        }\n                                    });\n                                }\n                            });\n                }else {\n                    Toast.makeText(FromActivity.this, &quot;You don't select any image&quot;, Toast.LENGTH_SHORT).show();\n                    imgPicker.setImageResource(R.drawable.profile);\n                    uploadComplete = false;\n                }\n\n            }\n        });\n</code></pre>\n<p>It shows this error.</p>\n<pre><code>{  &quot;error&quot;: {    &quot;code&quot;: 404,    &quot;message&quot;: &quot;Not Found.&quot;  }}\njava.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 404,    &quot;message&quot;: &quot;Not Found.&quot;  }}\nat com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\nat com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\nat com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\nat com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\nat com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\nat com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\nat com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\nat com.google.firebase.storage.GetDownloadUrlTask.run(GetDownloadUrlTask.java:77)\n</code></pre>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1684776873,"post_id":76307574,"comment_id":134563193,"body_markdown":"Not really sure what that code is attempting to do. I see no reason to pass layout managers as a parameter or to have panels extend one another. It is an overly complicated design. Also, you should not be using &quot;FlowLayout.LEFT&quot; as a parameter to the add(...) method. A FlowLayout does not support any constraints. I suggest you just create a panel and add 3 buttons to it. The components should be created in the class where you actually add the components to the panel., not in the super class.","body":"Not really sure what that code is attempting to do. I see no reason to pass layout managers as a parameter or to have panels extend one another. It is an overly complicated design. Also, you should not be using &quot;FlowLayout.LEFT&quot; as a parameter to the add(...) method. A FlowLayout does not support any constraints. I suggest you just create a panel and add 3 buttons to it. The components should be created in the class where you actually add the components to the panel., not in the super class."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1684846380,"post_id":76307574,"comment_id":134574330,"body_markdown":"__do not__ extend concrete containers/components - they are designed for usage - so configures them as needed","body":"<b>do not</b> extend concrete containers/components - they are designed for usage - so configures them as needed"}],"answers":[{"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684788075,"creation_date":1684788075,"answer_id":76309752,"question_id":76307574,"body_markdown":"The problem is `Arrays.fill(tab, new JButton());`.\r\n\r\nIt creates only **one** instance of JButton which is assigned to each position of the array.\r\n\r\nThis should fix it:\r\n\r\n    class MyButtonPanel extends JPanel{\r\n        JButton[] tab;\r\n        public MyButtonPanel(int numOfButtons, LayoutManager layout) {\r\n            this.tab = new JButton[numOfButtons];\r\n            for (int i = 0; i &lt; numOfButtons; i++) {\r\n                tab[i] = new JButton();\r\n            }\r\n            this.setLayout(layout);\r\n        }\r\n    }\r\n\r\n","title":"Custom JPanel with JButtons displays them one on top of another in JFrame","body":"<p>The problem is <code>Arrays.fill(tab, new JButton());</code>.</p>\n<p>It creates only <strong>one</strong> instance of JButton which is assigned to each position of the array.</p>\n<p>This should fix it:</p>\n<pre><code>class MyButtonPanel extends JPanel{\n    JButton[] tab;\n    public MyButtonPanel(int numOfButtons, LayoutManager layout) {\n        this.tab = new JButton[numOfButtons];\n        for (int i = 0; i &lt; numOfButtons; i++) {\n            tab[i] = new JButton();\n        }\n        this.setLayout(layout);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19550590,"reputation":329,"user_id":14306309,"display_name":"adamDud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76309752,"answer_count":1,"score":0,"last_activity_date":1684788075,"creation_date":1684768176,"question_id":76307574,"body_markdown":"Basically, when i run the following code, instead of a panel containing three buttons next to each other i get a tiny panel that (i&#39;m assuming) has all the buttons on top of each other. What&#39;s weird is that when i put all the code inside ```Main()``` it seems to work just fine, i can even add more buttons to ```myTopLeftPanel``` from main and they are displayed correctly, but when i split it into classes it starts acting weird. What&#39;s the cause of this? How can i fix it?\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.Arrays;\r\n\r\npublic class Main extends JFrame {\r\n    int height = 500;\r\n    int width = (int)Math.round(height*1.61803);\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new Main());\r\n    }\r\n    public Main() {\r\n        this.setLayout(new BorderLayout());\r\n        MyTopLeftPanel myTopLeftPanel = new MyTopLeftPanel();\r\n        JPanel top = addPanel(new BorderLayout());\r\n        top.add(myTopLeftPanel, BorderLayout.WEST);\r\n        this.add(top, BorderLayout.NORTH);\r\n        setup();\r\n    }\r\n    void setup(){\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setSize(width, height);\r\n        this.setVisible(true);\r\n    }\r\n    JPanel addPanel(LayoutManager layout){\r\n        JPanel temp = new JPanel();\r\n        temp.setLayout(layout);\r\n        return temp;\r\n    }\r\n}\r\n```\r\n```\r\nclass MyButtonPanel extends JPanel{\r\n    JButton[] tab;\r\n    public MyButtonPanel(int numOfButtons, LayoutManager layout) {\r\n        this.tab = new JButton[numOfButtons];\r\n        Arrays.fill(tab, new JButton());\r\n        this.setLayout(layout);\r\n    }\r\n}\r\n```\r\n```\r\nclass MyTopLeftPanel extends MyButtonPanel{\r\n    public MyTopLeftPanel(){\r\n        super(3, new FlowLayout());\r\n        tab[0].setBackground(Color.RED);\r\n        tab[0].setText(&quot;R&quot;);\r\n        tab[1].setBackground(Color.GREEN);\r\n        tab[1].setText(&quot;G&quot;);\r\n        tab[2].setBackground(Color.BLUE);\r\n        tab[2].setText(&quot;B&quot;);\r\n        this.setLayout(new FlowLayout());\r\n        this.add(tab[0], FlowLayout.LEFT);\r\n        this.add(tab[1], FlowLayout.LEFT);\r\n        this.add(tab[2], FlowLayout.LEFT);\r\n    }\r\n}\r\n```","title":"Custom JPanel with JButtons displays them one on top of another in JFrame","body":"<p>Basically, when i run the following code, instead of a panel containing three buttons next to each other i get a tiny panel that (i'm assuming) has all the buttons on top of each other. What's weird is that when i put all the code inside <code>Main()</code> it seems to work just fine, i can even add more buttons to <code>myTopLeftPanel</code> from main and they are displayed correctly, but when i split it into classes it starts acting weird. What's the cause of this? How can i fix it?</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Arrays;\n\npublic class Main extends JFrame {\n    int height = 500;\n    int width = (int)Math.round(height*1.61803);\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new Main());\n    }\n    public Main() {\n        this.setLayout(new BorderLayout());\n        MyTopLeftPanel myTopLeftPanel = new MyTopLeftPanel();\n        JPanel top = addPanel(new BorderLayout());\n        top.add(myTopLeftPanel, BorderLayout.WEST);\n        this.add(top, BorderLayout.NORTH);\n        setup();\n    }\n    void setup(){\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setSize(width, height);\n        this.setVisible(true);\n    }\n    JPanel addPanel(LayoutManager layout){\n        JPanel temp = new JPanel();\n        temp.setLayout(layout);\n        return temp;\n    }\n}\n</code></pre>\n<pre><code>class MyButtonPanel extends JPanel{\n    JButton[] tab;\n    public MyButtonPanel(int numOfButtons, LayoutManager layout) {\n        this.tab = new JButton[numOfButtons];\n        Arrays.fill(tab, new JButton());\n        this.setLayout(layout);\n    }\n}\n</code></pre>\n<pre><code>class MyTopLeftPanel extends MyButtonPanel{\n    public MyTopLeftPanel(){\n        super(3, new FlowLayout());\n        tab[0].setBackground(Color.RED);\n        tab[0].setText(&quot;R&quot;);\n        tab[1].setBackground(Color.GREEN);\n        tab[1].setText(&quot;G&quot;);\n        tab[2].setBackground(Color.BLUE);\n        tab[2].setText(&quot;B&quot;);\n        this.setLayout(new FlowLayout());\n        this.add(tab[0], FlowLayout.LEFT);\n        this.add(tab[1], FlowLayout.LEFT);\n        this.add(tab[2], FlowLayout.LEFT);\n    }\n}\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1684754989,"post_id":76305392,"comment_id":134558275,"body_markdown":"If you really wish the json could be provided like `&quot;list&quot;: []` instead of `&quot;List&quot;: null`, then rather than polute your application with null handling kung fu, you could just tweak the json string to replace all list fields that should not be null with empty lists via regex.","body":"If you really wish the json could be provided like <code>&quot;list&quot;: []</code> instead of <code>&quot;List&quot;: null</code>, then rather than polute your application with null handling kung fu, you could just tweak the json string to replace all list fields that should not be null with empty lists via regex."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684753962,"creation_date":1684753962,"answer_id":76305573,"question_id":76305392,"body_markdown":"Your JSON string is explicitly saying that this list is null, so I&#39;m not sure why you expected it to be empty in the first place. For an empty string, the JSON string should be `[]`.\r\n\r\nNevertheless, if you still want to convert null lists to empty lists in your custom deserializer, the answer is simple. Your custom deserializer is not working because it&#39;s testing the the json element being null or empty. It&#39;s neither of those: it&#39;s a value that represents a null element. Use [JsonElement.isJsonNull](https://www.javadoc.io/static/com.google.code.gson/gson/2.10.1/com.google.gson/com/google/gson/JsonElement.html#isJsonNull()): \r\n\r\n    class CollectionDeserializer implements JsonDeserializer&lt;Collection&lt;?&gt;&gt; {\r\n        public Collection&lt;?&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n            return json.isJsonNull() ? Collections.emptyList() : ...;\r\n        }\r\n    }","title":"How can I make Gson.fromJson() return an empty list instead of null for a field with a null value?","body":"<p>Your JSON string is explicitly saying that this list is null, so I'm not sure why you expected it to be empty in the first place. For an empty string, the JSON string should be <code>[]</code>.</p>\n<p>Nevertheless, if you still want to convert null lists to empty lists in your custom deserializer, the answer is simple. Your custom deserializer is not working because it's testing the the json element being null or empty. It's neither of those: it's a value that represents a null element. Use <a href=\"https://www.javadoc.io/static/com.google.code.gson/gson/2.10.1/com.google.gson/com/google/gson/JsonElement.html#isJsonNull()\" rel=\"nofollow noreferrer\">JsonElement.isJsonNull</a>:</p>\n<pre><code>class CollectionDeserializer implements JsonDeserializer&lt;Collection&lt;?&gt;&gt; {\n    public Collection&lt;?&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        return json.isJsonNull() ? Collections.emptyList() : ...;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2469660,"reputation":154,"user_id":2151879,"display_name":"Liran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684754882,"creation_date":1684754882,"answer_id":76305690,"question_id":76305392,"body_markdown":"It can be done with Jackson, and without explicitly set the field to null:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class TestApplication{\r\n    @Data\r\n    @NoArgsConstructor\r\n    public static class User{\r\n\r\n        private String userName;\r\n        @JsonProperty(&quot;eMailAddress&quot;)\r\n        private String email;\r\n        private final List&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        String x = &quot;{\\n&quot; + &quot;\\&quot;userName\\&quot;: \\&quot;test\\&quot;&quot;\r\n                + &quot;,\\n&quot; + &quot;\\&quot;eMailAddress\\&quot;: \\&quot;dan@gmail.com\\&quot;&quot;\r\n                + &quot;}&quot;;\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        User from = mapper.readValue(x, User.class);\r\n\r\n        System.out.println(from);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis prints:\r\n```\r\nTestApplication.User(userName=test, email=dan@gmail.com, list=[])\r\n```\r\n","title":"How can I make Gson.fromJson() return an empty list instead of null for a field with a null value?","body":"<p>It can be done with Jackson, and without explicitly set the field to null:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TestApplication{\n    @Data\n    @NoArgsConstructor\n    public static class User{\n\n        private String userName;\n        @JsonProperty(&quot;eMailAddress&quot;)\n        private String email;\n        private final List&lt;Object&gt; list = new ArrayList&lt;&gt;();\n\n    }\n\n    public static void main(String[] args) throws JsonProcessingException {\n        String x = &quot;{\\n&quot; + &quot;\\&quot;userName\\&quot;: \\&quot;test\\&quot;&quot;\n                + &quot;,\\n&quot; + &quot;\\&quot;eMailAddress\\&quot;: \\&quot;dan@gmail.com\\&quot;&quot;\n                + &quot;}&quot;;\n\n        ObjectMapper mapper = new ObjectMapper();\n        User from = mapper.readValue(x, User.class);\n\n        System.out.println(from);\n    }\n\n}\n</code></pre>\n<p>This prints:</p>\n<pre><code>TestApplication.User(userName=test, email=dan@gmail.com, list=[])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2469660,"reputation":154,"user_id":2151879,"display_name":"Liran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684756008,"creation_date":1684756008,"answer_id":76305844,"question_id":76305392,"body_markdown":"It can be done with Gson with explicitly set the field to empty list:\r\nReplace:\r\n```\r\n+ &quot;,\\n&quot; + &quot;\\&quot;list\\&quot;: null\\n&quot;\r\n```\r\nWith:\r\n```\r\n+ &quot;,\\n&quot; + &quot;\\&quot;list\\&quot;: []\\n&quot;\r\n```\r\n\r\nThis prints:\r\n```\r\nTestApplication.User(userName=test, email=null, list=[])\r\n```","title":"How can I make Gson.fromJson() return an empty list instead of null for a field with a null value?","body":"<p>It can be done with Gson with explicitly set the field to empty list:\nReplace:</p>\n<pre><code>+ &quot;,\\n&quot; + &quot;\\&quot;list\\&quot;: null\\n&quot;\n</code></pre>\n<p>With:</p>\n<pre><code>+ &quot;,\\n&quot; + &quot;\\&quot;list\\&quot;: []\\n&quot;\n</code></pre>\n<p>This prints:</p>\n<pre><code>TestApplication.User(userName=test, email=null, list=[])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684762774,"creation_date":1684762774,"answer_id":76306795,"question_id":76305392,"body_markdown":"A null list is not the same as an empty list.\r\n\r\nYou can only use a custom adapter if you want all null arrays to become empty arrays. It&#39;s a lot of work. You need the following:\r\n\r\nNew variant of [ArrayTypeAdapter][1], [CollectionTypeAdapterFactory][2] and other setup classes.\r\n\r\nChange the following lines of ArrayTypeAdapter\r\n\r\n    if (in.peek() == JsonToken.NULL) {\r\n      in.nextNull();\r\n      return null;\r\n    }\r\n\r\nto\r\n\r\n    if (in.peek() == JsonToken.NULL) {\r\n      in.nextNull();\r\n      return Array.newInstance(componentType, 0);\r\n    }\r\n\r\nInstead of doing this, I recommend that you add an input validator `@NotNull` or programmatically change the `null` to `[]` for specific values after deserialisation \r\n\r\n  [1]: https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/internal/bind/ArrayTypeAdapter.java.\r\n  [2]: https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/internal/bind/CollectionTypeAdapterFactory.java\r\n","title":"How can I make Gson.fromJson() return an empty list instead of null for a field with a null value?","body":"<p>A null list is not the same as an empty list.</p>\n<p>You can only use a custom adapter if you want all null arrays to become empty arrays. It's a lot of work. You need the following:</p>\n<p>New variant of <a href=\"https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/internal/bind/ArrayTypeAdapter.java.\" rel=\"nofollow noreferrer\">ArrayTypeAdapter</a>, <a href=\"https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/internal/bind/CollectionTypeAdapterFactory.java\" rel=\"nofollow noreferrer\">CollectionTypeAdapterFactory</a> and other setup classes.</p>\n<p>Change the following lines of ArrayTypeAdapter</p>\n<pre><code>if (in.peek() == JsonToken.NULL) {\n  in.nextNull();\n  return null;\n}\n</code></pre>\n<p>to</p>\n<pre><code>if (in.peek() == JsonToken.NULL) {\n  in.nextNull();\n  return Array.newInstance(componentType, 0);\n}\n</code></pre>\n<p>Instead of doing this, I recommend that you add an input validator <code>@NotNull</code> or programmatically change the <code>null</code> to <code>[]</code> for specific values after deserialisation</p>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684788056,"creation_date":1684785289,"answer_id":76309479,"question_id":76305392,"body_markdown":"This can be solved with a custom [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html):\r\n\r\n```java\r\nclass NullListToEmptyFactory implements TypeAdapterFactory {\r\n    public static final NullListToEmptyFactory INSTANCE = new NullListToEmptyFactory();\r\n\r\n    private NullListToEmptyFactory() {\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n        Class&lt;?&gt; rawType = type.getRawType();\r\n\r\n        // Only handle List and ArrayList; let other factories handle different types\r\n        if (rawType != List.class &amp;&amp; rawType != ArrayList.class) {\r\n            return null;\r\n        }\r\n\r\n        // Delegate which handles deserialization of non-null values, and serialization\r\n        TypeAdapter&lt;T&gt; delegate = gson.getDelegateAdapter(this, type);\r\n        return new TypeAdapter&lt;T&gt;() {\r\n            @Override\r\n            public void write(JsonWriter out, T value) throws IOException {\r\n                delegate.write(out, value);\r\n            }\r\n\r\n            @Override\r\n            public T read(JsonReader in) throws IOException {\r\n                if (in.peek() == JsonToken.NULL) {\r\n                    in.nextNull();\r\n\r\n                    // Safe due to check at beginning of `create` method\r\n                    @SuppressWarnings(&quot;unchecked&quot;)\r\n                    T t = (T) new ArrayList&lt;&gt;();\r\n                    return t;\r\n                } else {\r\n                    return delegate.read(in);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nYou can then register this factory on a `GsonBuilder` like this:\r\n```java\r\nGson gson = new GsonBuilder()\r\n    .registerTypeAdapterFactory(NullListToEmptyFactory.INSTANCE)\r\n    .create();\r\n```\r\n\r\nThe usage of `TypeAdapterFactory` has the following advantages:\r\n- It uses `TypeAdapter` which normally performs better than `JsonDeserializer` because it directly operates on the JSON stream and does not have to convert it to a `JsonElement` first\r\n- It allows delegating to the default adapter:\r\n  - There is no need to create a second `Gson` instance; deserialization will use your existing `Gson` instance and all of its configuration you made\r\n  - It supports custom element types, for example `List&lt;MyClass&gt;` because the delegate does all the type resolution work\r\n\r\n**Important:** With any solution you choose for this problem, none of them will handle the case where the field is missing in the JSON data. Gson does not support that very well at the moment, see [this feature request](https://github.com/google/gson/issues/1005). You currently have to explicitly initialize the field with a non-`null` `List` (and make sure your class has a no-args constructor; [more information](https://github.com/google/gson/blob/master/Troubleshooting.md#default-field-values-missing)), otherwise the field will be `null` if it is missing in the JSON data.\r\n","title":"How can I make Gson.fromJson() return an empty list instead of null for a field with a null value?","body":"<p>This can be solved with a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class NullListToEmptyFactory implements TypeAdapterFactory {\n    public static final NullListToEmptyFactory INSTANCE = new NullListToEmptyFactory();\n\n    private NullListToEmptyFactory() {\n    }\n\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        Class&lt;?&gt; rawType = type.getRawType();\n\n        // Only handle List and ArrayList; let other factories handle different types\n        if (rawType != List.class &amp;&amp; rawType != ArrayList.class) {\n            return null;\n        }\n\n        // Delegate which handles deserialization of non-null values, and serialization\n        TypeAdapter&lt;T&gt; delegate = gson.getDelegateAdapter(this, type);\n        return new TypeAdapter&lt;T&gt;() {\n            @Override\n            public void write(JsonWriter out, T value) throws IOException {\n                delegate.write(out, value);\n            }\n\n            @Override\n            public T read(JsonReader in) throws IOException {\n                if (in.peek() == JsonToken.NULL) {\n                    in.nextNull();\n\n                    // Safe due to check at beginning of `create` method\n                    @SuppressWarnings(&quot;unchecked&quot;)\n                    T t = (T) new ArrayList&lt;&gt;();\n                    return t;\n                } else {\n                    return delegate.read(in);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>You can then register this factory on a <code>GsonBuilder</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new GsonBuilder()\n    .registerTypeAdapterFactory(NullListToEmptyFactory.INSTANCE)\n    .create();\n</code></pre>\n<p>The usage of <code>TypeAdapterFactory</code> has the following advantages:</p>\n<ul>\n<li>It uses <code>TypeAdapter</code> which normally performs better than <code>JsonDeserializer</code> because it directly operates on the JSON stream and does not have to convert it to a <code>JsonElement</code> first</li>\n<li>It allows delegating to the default adapter:\n<ul>\n<li>There is no need to create a second <code>Gson</code> instance; deserialization will use your existing <code>Gson</code> instance and all of its configuration you made</li>\n<li>It supports custom element types, for example <code>List&lt;MyClass&gt;</code> because the delegate does all the type resolution work</li>\n</ul>\n</li>\n</ul>\n<p><strong>Important:</strong> With any solution you choose for this problem, none of them will handle the case where the field is missing in the JSON data. Gson does not support that very well at the moment, see <a href=\"https://github.com/google/gson/issues/1005\" rel=\"nofollow noreferrer\">this feature request</a>. You currently have to explicitly initialize the field with a non-<code>null</code> <code>List</code> (and make sure your class has a no-args constructor; <a href=\"https://github.com/google/gson/blob/master/Troubleshooting.md#default-field-values-missing\" rel=\"nofollow noreferrer\">more information</a>), otherwise the field will be <code>null</code> if it is missing in the JSON data.</p>\n"}],"owner":{"account_id":20973246,"reputation":91,"user_id":15409910,"display_name":"Bogdan Maceasa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76309479,"answer_count":5,"score":1,"last_activity_date":1684788056,"creation_date":1684752393,"question_id":76305392,"body_markdown":"I am using Gson to deserialize a bunch of objects, some of which are more complex and some &quot;lightweight&quot;.\r\n\r\nI am in a bit of a cunundrum over here, as I have been expecting another behaviour from GSON.fromJson() when reading a field with `null` value. More precisely, looking at this example\r\n\r\n```\r\npublic class TestApplication{\r\n\t@Data\r\n\t@NoArgsConstructor\r\n\tpublic class User{\r\n\r\n\t\tprivate String userName;\r\n\t\t@SerializedName(value = &quot;eMailAddress&quot;)\r\n\t\tprivate String email;\r\n\t\tprivate final List&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString x = &quot;{\\n&quot; + &quot;\\&quot;userName\\&quot;: \\&quot;test\\&quot;&quot;\r\n\t\t\t+ &quot;,\\n&quot; + &quot;\\&quot;eMailAddress\\&quot;: \\&quot;dan@gmail.com\\&quot;&quot;\r\n\t\t\t+ &quot;,\\n&quot; + &quot;\\&quot;list\\&quot;: null\\n&quot;\r\n\t\t\t+ &quot;}&quot;;\r\n\r\n\t\tUser from = new Gson().fromJson(x, User.class);\r\n\t\tSystem.out.println(from);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThis prints: \r\n\r\n```\r\nTestApplication.User(userName=test, email=dan@gmail.com, list=null)\r\n```\r\n\r\nI was expecting the output list to be empty (`list=[]`) and not null.\r\n\r\nCan I do anything to achieve the behaviour I need? My application uses lists of objects and it is not feasable to register a typeAdapter for each of them. \r\n\r\nHow would I go about writing a custom deserializer? This next example would be simple enough if it were to work:\r\n\r\n\r\n```\r\n\tclass CollectionDeserializer implements JsonDeserializer&lt;Collection&lt;?&gt;&gt; {\r\n\r\n\t\tpublic Collection&lt;?&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n\r\n\t\t\treturn ObjectUtils.isEmpty(json) ? new ArrayList&lt;&gt;() : new Gson().fromJson(json, Collection.class);\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\n\r\n\r\nWhat I have tried: \r\n- implementing a customer deserializer ( above ) with no success.\r\n- @JsonSetter(nulls= Nulls.SKIP) annotation with no effect on the Gson parsing.","title":"How can I make Gson.fromJson() return an empty list instead of null for a field with a null value?","body":"<p>I am using Gson to deserialize a bunch of objects, some of which are more complex and some &quot;lightweight&quot;.</p>\n<p>I am in a bit of a cunundrum over here, as I have been expecting another behaviour from GSON.fromJson() when reading a field with <code>null</code> value. More precisely, looking at this example</p>\n<pre><code>public class TestApplication{\n    @Data\n    @NoArgsConstructor\n    public class User{\n\n        private String userName;\n        @SerializedName(value = &quot;eMailAddress&quot;)\n        private String email;\n        private final List&lt;Object&gt; list = new ArrayList&lt;&gt;();\n\n    }\n\n    public static void main(String[] args) {\n        String x = &quot;{\\n&quot; + &quot;\\&quot;userName\\&quot;: \\&quot;test\\&quot;&quot;\n            + &quot;,\\n&quot; + &quot;\\&quot;eMailAddress\\&quot;: \\&quot;dan@gmail.com\\&quot;&quot;\n            + &quot;,\\n&quot; + &quot;\\&quot;list\\&quot;: null\\n&quot;\n            + &quot;}&quot;;\n\n        User from = new Gson().fromJson(x, User.class);\n        System.out.println(from);\n    }\n\n}\n</code></pre>\n<p>This prints:</p>\n<pre><code>TestApplication.User(userName=test, email=dan@gmail.com, list=null)\n</code></pre>\n<p>I was expecting the output list to be empty (<code>list=[]</code>) and not null.</p>\n<p>Can I do anything to achieve the behaviour I need? My application uses lists of objects and it is not feasable to register a typeAdapter for each of them.</p>\n<p>How would I go about writing a custom deserializer? This next example would be simple enough if it were to work:</p>\n<pre><code>    class CollectionDeserializer implements JsonDeserializer&lt;Collection&lt;?&gt;&gt; {\n\n        public Collection&lt;?&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n\n            return ObjectUtils.isEmpty(json) ? new ArrayList&lt;&gt;() : new Gson().fromJson(json, Collection.class);\n        }\n\n    }\n</code></pre>\n<p>What I have tried:</p>\n<ul>\n<li>implementing a customer deserializer ( above ) with no success.</li>\n<li>@JsonSetter(nulls= Nulls.SKIP) annotation with no effect on the Gson parsing.</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","kotlin"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684787738,"creation_date":1684787738,"answer_id":76309721,"question_id":76309502,"body_markdown":"First,it&#39;s hard to figure out why you are using `RestTemplate` instead of `MockMvc` or `WebTestClient` (would need your complete test class for that). Is it an end-to-end test?\r\n\r\nIf writing an end-to-end test, you should be fetching the JWT from the authorization server: if you build it yourself, it will probably not pass validation (JWTs are signed with a private key on the authorization server and \r\nJWT decoder checks this signature using the public key). In that case, nothing in the Authorization will be mocked, the identity is just the one served by the authorization server.\r\n\r\nIf writing unit (`@WebMvcTest`) or integration (`@SpringBootTest`) tests, then you should be using `MockMvc` or `WebTestClient` instead of `RestTemplate`. In that case, use an annotation, `MockMvc` request post processor or `WebTestClient` mutator, building the right type of `Authentication`\r\n\r\nSecond, `@WithMockUser` is putting a `UsernamePasswordAuthenticationToken` instance in test security context, when you probably want a `JwtAuthenticationToken` (would need your complete security configuration to be sure). You should be using `@WithMockJwtAuth` from [those libs I created][1] to build `JwtAuthentication token` (test tooling provided by spring-security-test for JWTs is limited to MockMvc and WebTestClient). \r\n\r\nI suggest you take the time to read [this Baeldung article I wrote][2].\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons\r\n  [2]: https://www.baeldung.com/spring-oauth-testing-access-control","title":"Kotlin Spring Boot TestRestTemplate and OAuth2 Test","body":"<p>First,it's hard to figure out why you are using <code>RestTemplate</code> instead of <code>MockMvc</code> or <code>WebTestClient</code> (would need your complete test class for that). Is it an end-to-end test?</p>\n<p>If writing an end-to-end test, you should be fetching the JWT from the authorization server: if you build it yourself, it will probably not pass validation (JWTs are signed with a private key on the authorization server and\nJWT decoder checks this signature using the public key). In that case, nothing in the Authorization will be mocked, the identity is just the one served by the authorization server.</p>\n<p>If writing unit (<code>@WebMvcTest</code>) or integration (<code>@SpringBootTest</code>) tests, then you should be using <code>MockMvc</code> or <code>WebTestClient</code> instead of <code>RestTemplate</code>. In that case, use an annotation, <code>MockMvc</code> request post processor or <code>WebTestClient</code> mutator, building the right type of <code>Authentication</code></p>\n<p>Second, <code>@WithMockUser</code> is putting a <code>UsernamePasswordAuthenticationToken</code> instance in test security context, when you probably want a <code>JwtAuthenticationToken</code> (would need your complete security configuration to be sure). You should be using <code>@WithMockJwtAuth</code> from <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">those libs I created</a> to build <code>JwtAuthentication token</code> (test tooling provided by spring-security-test for JWTs is limited to MockMvc and WebTestClient).</p>\n<p>I suggest you take the time to read <a href=\"https://www.baeldung.com/spring-oauth-testing-access-control\" rel=\"nofollow noreferrer\">this Baeldung article I wrote</a>.</p>\n"}],"owner":{"account_id":5311704,"reputation":301,"user_id":6253157,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76309721,"answer_count":1,"score":0,"last_activity_date":1684787738,"creation_date":1684785442,"question_id":76309502,"body_markdown":"I&#39;ve been trying to write a Kotling Spring Boot test utilizing `TestRestTemplate` to call an endpoint on my application that has a `PreAuthorize` annotation on it, but I am unable to propogate the `SecurityContext` with an authorized OAuth2 user. I keep getting the following exception:\r\n\r\n&gt; An Authentication object was not found in the SecurityContext\r\n\r\nI&#39;ve tried a couple different things. Below, I&#39;ll depict the original setup, and what I&#39;ve tried:\r\n\r\n**Controller**\r\n\r\n```\r\n@RestController\r\n@RequestMappting(/api/v1)\r\n@PreAuthorize(&quot;@authorizationService.canDoThat()&quot;) // Some logic to compare request to backend DB. Test does not hit this method\r\nclass SomeController() {\r\n   ...\r\n   ...\r\n\r\n   @PutMapping(/update)\r\n   fun update(@RequestBody request) {\r\n     // Some logic to update something (test doesn&#39;t hit this part)\r\n   }\r\n}\r\n```\r\n\r\n**Test**\r\n```\r\n@Test\r\nfun `update`() {\r\n   val url = &quot;http://localhost:${port}${basePath}/update&quot;\r\n\r\n   val headers = HttpHeaders()\r\n   val body = HttpEntity(\r\n      UpdateRequest(\r\n         // The request object\r\n      ), headers\r\n   )\r\n\r\n   val response = restTemplate.exchange(\r\n        url,\r\n        HttpMethod.PUT,\r\n        body,\r\n        typeReference&lt;SomeResponseType&gt;()\r\n    )\r\n}\r\n```\r\n\r\n**Test using WithMockUser**\r\n```\r\n@Test\r\n@WithMockUser(username = &quot;username&quot;, password = &quot;password&quot;, authorities = [&quot;SCOPE_write&quot;])\r\nfun `update`() {\r\n   val url = &quot;http://localhost:${port}${basePath}/update&quot;\r\n\r\n   val headers = HttpHeaders()\r\n   val body = HttpEntity(\r\n      UpdateRequest(\r\n         // The request object\r\n      ), headers\r\n   )\r\n\r\n   val response = restTemplate.exchange(\r\n        url,\r\n        HttpMethod.PUT,\r\n        body,\r\n        typeReference&lt;SomeResponseType&gt;()\r\n    )\r\n}\r\n```\r\n\r\n**Test manually setting context**\r\n```\r\n@Test\r\nfun `update`() {\r\n   val url = &quot;http://localhost:${port}${basePath}/update&quot;\r\n\r\n   val jwt = Jwt(\r\n         &quot;token-value&quot;,\r\n         Instant.now(),\r\n         Instant.now().plusSeconds(60),\r\n         mapOf(&quot;Authorization&quot; to &quot;Bearer token-value&quot;),\r\n         mapOf(&quot;someClaim&quot; to someClaimValue)\r\n   )\r\n   val authorities = setOf(GrantedAuthority { &quot;SCOPE_write&quot; })\r\n   val oauthAuthentication = JwtAuthenticationToken(jwt, authorities)\r\n\r\n   // Set security context\r\n   val context: SecurityContext = SecurityContextHolder.createEmptyContext()\r\n   context.authentication = oauthAuthentication\r\n   SecurityContextHolder.setContext(context)\r\n\r\n   val headers = HttpHeaders()\r\n   val body = HttpEntity(\r\n      UpdateRequest(\r\n         // The request object\r\n      ), headers\r\n   )\r\n\r\n   val response = restTemplate.exchange(\r\n        url,\r\n        HttpMethod.PUT,\r\n        body,\r\n        typeReference&lt;SomeResponseType&gt;()\r\n    )\r\n}\r\n```\r\n","title":"Kotlin Spring Boot TestRestTemplate and OAuth2 Test","body":"<p>I've been trying to write a Kotling Spring Boot test utilizing <code>TestRestTemplate</code> to call an endpoint on my application that has a <code>PreAuthorize</code> annotation on it, but I am unable to propogate the <code>SecurityContext</code> with an authorized OAuth2 user. I keep getting the following exception:</p>\n<blockquote>\n<p>An Authentication object was not found in the SecurityContext</p>\n</blockquote>\n<p>I've tried a couple different things. Below, I'll depict the original setup, and what I've tried:</p>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n@RequestMappting(/api/v1)\n@PreAuthorize(&quot;@authorizationService.canDoThat()&quot;) // Some logic to compare request to backend DB. Test does not hit this method\nclass SomeController() {\n   ...\n   ...\n\n   @PutMapping(/update)\n   fun update(@RequestBody request) {\n     // Some logic to update something (test doesn't hit this part)\n   }\n}\n</code></pre>\n<p><strong>Test</strong></p>\n<pre><code>@Test\nfun `update`() {\n   val url = &quot;http://localhost:${port}${basePath}/update&quot;\n\n   val headers = HttpHeaders()\n   val body = HttpEntity(\n      UpdateRequest(\n         // The request object\n      ), headers\n   )\n\n   val response = restTemplate.exchange(\n        url,\n        HttpMethod.PUT,\n        body,\n        typeReference&lt;SomeResponseType&gt;()\n    )\n}\n</code></pre>\n<p><strong>Test using WithMockUser</strong></p>\n<pre><code>@Test\n@WithMockUser(username = &quot;username&quot;, password = &quot;password&quot;, authorities = [&quot;SCOPE_write&quot;])\nfun `update`() {\n   val url = &quot;http://localhost:${port}${basePath}/update&quot;\n\n   val headers = HttpHeaders()\n   val body = HttpEntity(\n      UpdateRequest(\n         // The request object\n      ), headers\n   )\n\n   val response = restTemplate.exchange(\n        url,\n        HttpMethod.PUT,\n        body,\n        typeReference&lt;SomeResponseType&gt;()\n    )\n}\n</code></pre>\n<p><strong>Test manually setting context</strong></p>\n<pre><code>@Test\nfun `update`() {\n   val url = &quot;http://localhost:${port}${basePath}/update&quot;\n\n   val jwt = Jwt(\n         &quot;token-value&quot;,\n         Instant.now(),\n         Instant.now().plusSeconds(60),\n         mapOf(&quot;Authorization&quot; to &quot;Bearer token-value&quot;),\n         mapOf(&quot;someClaim&quot; to someClaimValue)\n   )\n   val authorities = setOf(GrantedAuthority { &quot;SCOPE_write&quot; })\n   val oauthAuthentication = JwtAuthenticationToken(jwt, authorities)\n\n   // Set security context\n   val context: SecurityContext = SecurityContextHolder.createEmptyContext()\n   context.authentication = oauthAuthentication\n   SecurityContextHolder.setContext(context)\n\n   val headers = HttpHeaders()\n   val body = HttpEntity(\n      UpdateRequest(\n         // The request object\n      ), headers\n   )\n\n   val response = restTemplate.exchange(\n        url,\n        HttpMethod.PUT,\n        body,\n        typeReference&lt;SomeResponseType&gt;()\n    )\n}\n</code></pre>\n"},{"tags":["java","memory-model"],"comments":[{"owner":{"account_id":450779,"reputation":508,"user_id":846284,"accept_rate":100,"display_name":"treaz"},"score":0,"creation_date":1367054173,"post_id":11970428,"comment_id":23250338,"body_markdown":"I need a clarification on the example... If for both threads the assignment is before the read, there is at least one value changed before they reach the reading. How can both threads see 0?","body":"I need a clarification on the example... If for both threads the assignment is before the read, there is at least one value changed before they reach the reading. How can both threads see 0?"},{"owner":{"account_id":1425756,"reputation":485,"user_id":1349325,"display_name":"Tim"},"score":0,"creation_date":1558680951,"post_id":11970428,"comment_id":99187409,"body_markdown":"seriously, what does left number mean?","body":"seriously, what does left number mean?"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1575434767,"creation_date":1345038921,"answer_id":11970581,"question_id":11970428,"body_markdown":"Each thread can be on a different core with its own private registers which Java can use to hold values of variables, unless you force access to coherent shared memory.  This means that one thread can write to a value storing in a register, and this value is not visible to another thread for some time, like the duration of a loop or whole function. (milli-seconds is not uncommon)\r\n\r\nA more extreme example is that the reading thread&#39;s code is optimised with the assumption that since it never changes the value, it doesn&#39;t need to read it from memory.  In this case the optimised code never sees the change performed by another thread.\r\n\r\nIn both cases, the use of `volatile` ensures that reads and write occur in a consistent order and both threads see the same value.  This is sometimes described as always reading from main memory, though it doesn&#39;t have to be the case because the caches can talk to each other directly. (So the performance hit is much smaller than you might expect).\r\n\r\nOn normal CPUs, caches are &quot;coherent&quot; (can&#39;t hold stale / conflicting values) and transparent, not managed manually. Making data visible between threads just means doing an actual load or store instruction in asm to access memory (through the data caches), and optionally waiting for the store buffer to drain to give ordering wrt. other later operations.","title":"How to understand happens-before consistent","body":"<p>Each thread can be on a different core with its own private registers which Java can use to hold values of variables, unless you force access to coherent shared memory.  This means that one thread can write to a value storing in a register, and this value is not visible to another thread for some time, like the duration of a loop or whole function. (milli-seconds is not uncommon)</p>\n\n<p>A more extreme example is that the reading thread's code is optimised with the assumption that since it never changes the value, it doesn't need to read it from memory.  In this case the optimised code never sees the change performed by another thread.</p>\n\n<p>In both cases, the use of <code>volatile</code> ensures that reads and write occur in a consistent order and both threads see the same value.  This is sometimes described as always reading from main memory, though it doesn't have to be the case because the caches can talk to each other directly. (So the performance hit is much smaller than you might expect).</p>\n\n<p>On normal CPUs, caches are \"coherent\" (can't hold stale / conflicting values) and transparent, not managed manually. Making data visible between threads just means doing an actual load or store instruction in asm to access memory (through the data caches), and optionally waiting for the store buffer to drain to give ordering wrt. other later operations.</p>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53263,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1345041382,"creation_date":1345039518,"answer_id":11970749,"question_id":11970428,"body_markdown":"The Java Memory Model defines a *partial ordering* of all your actions of your program which is called *happens-before*.  \r\nTo guarantee that a thread `Y` is able to see the side-effects of action `X` (irrelevant if `X` occurred in different thread or not) a *happens-before* relationship is defined between `X` and `Y`.   \r\nIf such a relationship is not present the JVM may re-order the operations of the program.  \r\nNow, if a variable is shared and accessed by many threads, and written by (at least) one thread if the reads and writes are not ordered by the *happens before* relationship, then you have a data race.   \r\nIn a correct program there are no data races.  \r\nExample is 2 threads `A` and `B` synchronized on lock `X`.  \r\n`Thread A` acquires lock (now `Thread B` is blocked) and does the write operations and then releases lock `X`. Now `Thread B` acquires lock `X` and since all the actions of `Thread A` were done *before releasing* the lock `X`, they are *ordered before* the actions of `Thread B` which acquired the lock `X` *after* thread `A` (and also visible to `Thread B`).   \r\nNote that this occurs on actions synchronized *on the same lock*. There is *no* happens before relationship among threads synchronized *on different locks*","title":"How to understand happens-before consistent","body":"<p>The Java Memory Model defines a <em>partial ordering</em> of all your actions of your program which is called <em>happens-before</em>.<br>\nTo guarantee that a thread <code>Y</code> is able to see the side-effects of action <code>X</code> (irrelevant if <code>X</code> occurred in different thread or not) a <em>happens-before</em> relationship is defined between <code>X</code> and <code>Y</code>.<br>\nIf such a relationship is not present the JVM may re-order the operations of the program.<br>\nNow, if a variable is shared and accessed by many threads, and written by (at least) one thread if the reads and writes are not ordered by the <em>happens before</em> relationship, then you have a data race.<br>\nIn a correct program there are no data races.<br>\nExample is 2 threads <code>A</code> and <code>B</code> synchronized on lock <code>X</code>.<br>\n<code>Thread A</code> acquires lock (now <code>Thread B</code> is blocked) and does the write operations and then releases lock <code>X</code>. Now <code>Thread B</code> acquires lock <code>X</code> and since all the actions of <code>Thread A</code> were done <em>before releasing</em> the lock <code>X</code>, they are <em>ordered before</em> the actions of <code>Thread B</code> which acquired the lock <code>X</code> <em>after</em> thread <code>A</code> (and also visible to <code>Thread B</code>).<br>\nNote that this occurs on actions synchronized <em>on the same lock</em>. There is <em>no</em> happens before relationship among threads synchronized <em>on different locks</em></p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345041233,"creation_date":1345041233,"answer_id":11971262,"question_id":11970428,"body_markdown":"In substance that is correct. The main thing to take out of this is: unless you use some form of synchronization, there is no guarantee that a read that comes after a write in your program order sees the effect of that write, as the statements might have been reodered.\r\n\r\n&gt; does it exist this situation (reads see writes that occur later) in real world? If it does, could you give me a real example?\r\n\r\nFrom a wall clock&#39;s perspective, obviously, a read can&#39;t see the effect of a write that has not happened yet.\r\n\r\nFrom a program order&#39;s perspective, because statements can be reordered if there isn&#39;t a proper synchronization (happens before relationship), a read that comes before a write in your program, could see the effect of that write during execution because it has been executed after the write by the JVM.","title":"How to understand happens-before consistent","body":"<p>In substance that is correct. The main thing to take out of this is: unless you use some form of synchronization, there is no guarantee that a read that comes after a write in your program order sees the effect of that write, as the statements might have been reodered.</p>\n\n<blockquote>\n  <p>does it exist this situation (reads see writes that occur later) in real world? If it does, could you give me a real example?</p>\n</blockquote>\n\n<p>From a wall clock's perspective, obviously, a read can't see the effect of a write that has not happened yet.</p>\n\n<p>From a program order's perspective, because statements can be reordered if there isn't a proper synchronization (happens before relationship), a read that comes before a write in your program, could see the effect of that write during execution because it has been executed after the write by the JVM.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1637677432,"creation_date":1577378519,"answer_id":59491099,"question_id":11970428,"body_markdown":"**happens-before**\r\n\r\nLet&#39;s take a look at definitions in **concurrency** theory:\r\n\r\n**Atomicity** - is a property of operation that can be executed completely as a single transaction and can not be executed partially. For example `Atomic operations`[&lt;sup&gt;\\[Example\\]&lt;/sup&gt;][1]\r\n\r\n**Visibility** - if one thread made changes they are visible for other threads. `volatile` before Java 5 with `happens-before`\r\n\r\n**Ordering** - compiler is able to change an ordering of operations/instructions of source code to make some optimisations. \r\n\r\nFor example `happens-before` which is a kind of `memory barrier` which helps to solve `Visibility` and `Ordering` issue. Good examples of happens-before are `volatile`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][2], `synchronized` monitor[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][3]\r\n\r\n\r\nA good example of `atomicity` is `Compare and swap`(`CAS`) realization of `check then act`(`CTA`) pattern which should be atomic and allows to change a variable in multithreading envirompment. You can write your own implementation if `CTA`:\r\n\r\n - `volatile + synchronized` \r\n - `java.util.concurrent.atomic` with `sun.misc.Unsafe`(memory allocation, instantiating without constructor call...) from `Java 5` which uses `JNI` and CPU advantages.\r\n\r\n`CAS` algoritm has thee parameters(A(address), O(old value), N(new value)). \r\n```\r\nIf value by A(address) == O(old value) then put N(new value) into A(address), \r\nelse O(old value) = value from A(address) and repeat this actions again\r\n```\r\n\r\n\r\nHappens-before\r\n--------------\r\n\r\n[Official doc][4]\r\n&gt;Two actions can be **ordered** by a happens-before relationship. If one action happens-before another, then the first is **visible** to and **ordered** before the second.\r\n\r\n[![enter image description here][5]][5]\r\n\r\nvolatile[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][2] as an example\r\n--------\r\n\r\n&gt;A **write** to a **volatile** field **happens-before** every subsequent **read** of that field.\r\n\r\n\r\nLet&#39;s take a look at the example:\r\n\r\n    // Definitions\r\n    int a = 1;\r\n    int b = 2;\r\n    volatile boolean myVolatile = false;\r\n\r\n    // Thread A. Program order\r\n    {\r\n        a = 5;\r\n        b = 6;\r\n        myVolatile = true; // &lt;-- write\r\n    }\r\n\r\n    //Thread B. Program order\r\n    {\r\n        //Thread.sleep(1000); //just to show that writing into `myVolatile`(Thread A) was executed before\r\n\r\n        System.out.println(myVolatile); // &lt;-- read\r\n        System.out.println(a);  //prints 5, not 1\r\n        System.out.println(b);  //prints 6, not 2\r\n    }\r\n\r\n**Visibility** - When `Thread A` **changes/writes** a **volatile** variable it also pushes all previous changes into **RAM - Main Memory** as a result all **not volatile** variable will be up to date and visible for another threads\r\n\r\n**Ordering**:\r\n\r\n - All operations **before writing into volatile variable in `Thread A`** will be called before. JVM is able to reorder them but guarantees that no one operation **before writing into volatile variable in `Thread A`** will be called after it.\r\n\r\n - All operations **after reading the volatile variable in `Thread B`** will be called after. JVM is able to reorder them but guarantees that no one operation **after reading a volatile variable in `Thread B`** will be called before it.\r\n\r\n\r\n[\\[Concurrency vs Parallelism\\]][6]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65382071/4770877\r\n  [2]: https://stackoverflow.com/a/59498520/4770877\r\n  [3]: https://stackoverflow.com/a/59500618/4770877\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.5\r\n  [5]: https://i.stack.imgur.com/ymS7O.png\r\n  [6]: https://stackoverflow.com/a/63744581/4770877","title":"How to understand happens-before consistent","body":"<p><strong>happens-before</strong></p>\n<p>Let's take a look at definitions in <strong>concurrency</strong> theory:</p>\n<p><strong>Atomicity</strong> - is a property of operation that can be executed completely as a single transaction and can not be executed partially. For example <code>Atomic operations</code><a href=\"https://stackoverflow.com/a/65382071/4770877\"><sup>[Example]</sup></a></p>\n<p><strong>Visibility</strong> - if one thread made changes they are visible for other threads. <code>volatile</code> before Java 5 with <code>happens-before</code></p>\n<p><strong>Ordering</strong> - compiler is able to change an ordering of operations/instructions of source code to make some optimisations.</p>\n<p>For example <code>happens-before</code> which is a kind of <code>memory barrier</code> which helps to solve <code>Visibility</code> and <code>Ordering</code> issue. Good examples of happens-before are <code>volatile</code><a href=\"https://stackoverflow.com/a/59498520/4770877\"><sup>[About]</sup></a>, <code>synchronized</code> monitor<a href=\"https://stackoverflow.com/a/59500618/4770877\"><sup>[About]</sup></a></p>\n<p>A good example of <code>atomicity</code> is <code>Compare and swap</code>(<code>CAS</code>) realization of <code>check then act</code>(<code>CTA</code>) pattern which should be atomic and allows to change a variable in multithreading envirompment. You can write your own implementation if <code>CTA</code>:</p>\n<ul>\n<li><code>volatile + synchronized</code></li>\n<li><code>java.util.concurrent.atomic</code> with <code>sun.misc.Unsafe</code>(memory allocation, instantiating without constructor call...) from <code>Java 5</code> which uses <code>JNI</code> and CPU advantages.</li>\n</ul>\n<p><code>CAS</code> algoritm has thee parameters(A(address), O(old value), N(new value)).</p>\n<pre><code>If value by A(address) == O(old value) then put N(new value) into A(address), \nelse O(old value) = value from A(address) and repeat this actions again\n</code></pre>\n<h2>Happens-before</h2>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.5\" rel=\"noreferrer\">Official doc</a></p>\n<blockquote>\n<p>Two actions can be <strong>ordered</strong> by a happens-before relationship. If one action happens-before another, then the first is <strong>visible</strong> to and <strong>ordered</strong> before the second.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/ymS7O.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ymS7O.png\" alt=\"enter image description here\" /></a></p>\n<h2>volatile<a href=\"https://stackoverflow.com/a/59498520/4770877\"><sup>[About]</sup></a> as an example</h2>\n<blockquote>\n<p>A <strong>write</strong> to a <strong>volatile</strong> field <strong>happens-before</strong> every subsequent <strong>read</strong> of that field.</p>\n</blockquote>\n<p>Let's take a look at the example:</p>\n<pre><code>// Definitions\nint a = 1;\nint b = 2;\nvolatile boolean myVolatile = false;\n\n// Thread A. Program order\n{\n    a = 5;\n    b = 6;\n    myVolatile = true; // &lt;-- write\n}\n\n//Thread B. Program order\n{\n    //Thread.sleep(1000); //just to show that writing into `myVolatile`(Thread A) was executed before\n\n    System.out.println(myVolatile); // &lt;-- read\n    System.out.println(a);  //prints 5, not 1\n    System.out.println(b);  //prints 6, not 2\n}\n</code></pre>\n<p><strong>Visibility</strong> - When <code>Thread A</code> <strong>changes/writes</strong> a <strong>volatile</strong> variable it also pushes all previous changes into <strong>RAM - Main Memory</strong> as a result all <strong>not volatile</strong> variable will be up to date and visible for another threads</p>\n<p><strong>Ordering</strong>:</p>\n<ul>\n<li><p>All operations <strong>before writing into volatile variable in <code>Thread A</code></strong> will be called before. JVM is able to reorder them but guarantees that no one operation <strong>before writing into volatile variable in <code>Thread A</code></strong> will be called after it.</p>\n</li>\n<li><p>All operations <strong>after reading the volatile variable in <code>Thread B</code></strong> will be called after. JVM is able to reorder them but guarantees that no one operation <strong>after reading a volatile variable in <code>Thread B</code></strong> will be called before it.</p>\n</li>\n</ul>\n<p><a href=\"https://stackoverflow.com/a/63744581/4770877\">[Concurrency vs Parallelism]</a></p>\n"},{"tags":[],"owner":{"account_id":544312,"reputation":507,"user_id":913717,"accept_rate":80,"display_name":"Bruce Zu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618177955,"creation_date":1618175168,"answer_id":67050182,"question_id":11970428,"body_markdown":" Q1: is my understanding right?\r\n\r\n A: Yes\r\n\r\n Q2: what does &quot;w.v = r.v&quot; mean?\r\n\r\n A: The value of w.v is same as that of r.v\r\n\r\n Q3: What does left number mean?\r\n\r\n A: I think it is statement ID like shown in &quot;Table 17.4-A. Surprising results caused by statement reordering - original code&quot;. But you can ignore it because it does not apply to the conent of &quot;Another execution order that is happens-before consistent is: &quot; So the left number is shit completely. Do not stick to it.\r\n\r\n Q4: In my understanding, the reason of both r2 and r1 can see initial write of 0 is both A and B are not volatile field. So my fourth quesiton is: whether my understanding is right?\r\n\r\n A: That is one reason. re-order can also make it. &quot;A program must be correctly synchronized to avoid the kinds of counterintuitive behaviors that can be observed when code is reordered.&quot;\r\n\r\nQ5&amp;6: In second execution order ... So my fifth and sixth questions are: does it exist this situation (reads see writes that occur later) in real world? If it does, could you give me a real example?\r\n\r\nA: Yes. no synchronization in code, each thread read can see either the write of the initial value or the write by the other thread. \r\n\r\ntime 1: Thread 2: A=2\r\n\r\ntime 2: Thread 1: B=1 // Without synchronization, B=1 of Thread 1 can be interleaved here\r\n\r\ntime 3: Thread 2: r1=B // r1 value is 1\r\n\r\ntime 4: Thread 1: r2=A // r2 value is 2\r\n\r\nNote &quot;An execution is happens-before consistent if its set of actions is happens-before consistent&quot;\r\n ","title":"How to understand happens-before consistent","body":"<p>Q1: is my understanding right?</p>\n<p>A: Yes</p>\n<p>Q2: what does &quot;w.v = r.v&quot; mean?</p>\n<p>A: The value of w.v is same as that of r.v</p>\n<p>Q3: What does left number mean?</p>\n<p>A: I think it is statement ID like shown in &quot;Table 17.4-A. Surprising results caused by statement reordering - original code&quot;. But you can ignore it because it does not apply to the conent of &quot;Another execution order that is happens-before consistent is: &quot; So the left number is shit completely. Do not stick to it.</p>\n<p>Q4: In my understanding, the reason of both r2 and r1 can see initial write of 0 is both A and B are not volatile field. So my fourth quesiton is: whether my understanding is right?</p>\n<p>A: That is one reason. re-order can also make it. &quot;A program must be correctly synchronized to avoid the kinds of counterintuitive behaviors that can be observed when code is reordered.&quot;</p>\n<p>Q5&amp;6: In second execution order ... So my fifth and sixth questions are: does it exist this situation (reads see writes that occur later) in real world? If it does, could you give me a real example?</p>\n<p>A: Yes. no synchronization in code, each thread read can see either the write of the initial value or the write by the other thread.</p>\n<p>time 1: Thread 2: A=2</p>\n<p>time 2: Thread 1: B=1 // Without synchronization, B=1 of Thread 1 can be interleaved here</p>\n<p>time 3: Thread 2: r1=B // r1 value is 1</p>\n<p>time 4: Thread 1: r2=A // r2 value is 2</p>\n<p>Note &quot;An execution is happens-before consistent if its set of actions is happens-before consistent&quot;</p>\n"}],"owner":{"account_id":1525399,"reputation":499,"user_id":1423978,"accept_rate":67,"display_name":"newman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7978,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":11970581,"answer_count":5,"score":15,"last_activity_date":1684787354,"creation_date":1345038332,"question_id":11970428,"body_markdown":"In [chapter 17 of JLS][1], it introduce a concept: happens-before consistent.\r\n\r\n&gt;A set of actions A is happens-before consistent if for all reads r in A, where W(r) is the write action seen by r, it is not the case that either hb(r, W(r)) or that there exists a write w in A such that w.v = r.v and hb(W(r), w) and hb(w, r)&quot;\r\n\r\nIn my understanding, it equals to following words:\r\n..., it is the case that neither ... nor ...\r\n\r\nSo my first two questions are:\r\n\r\n- is my understanding right?\r\n- what does &quot;w.v = r.v&quot; mean?\r\n\r\nIt also gives an Example: 17.4.5-1\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Thread 1 Thread 2\r\n     \r\n    B = 1; A = 2; \r\n    \r\n    r2 = A; r1 = B; \r\n    \r\nIn first execution order:\r\n\r\n&lt;!-- language: lang-none --&gt;    \r\n\r\n    1: B = 1;\r\n    \r\n    3: A = 2;\r\n    \r\n    2: r2 = A;  // sees initial write of 0\r\n    \r\n    4: r1 = B;  // sees initial write of 0\r\n\r\nThe order itself has already told us that two threads are executed alternately, so my third question is: what does left number mean?\r\n\r\nIn my understanding, the reason of both r2 and r1 can see initial write of 0 is both A and B are not volatile field. So my fourth quesiton is: whether my understanding is right?\r\n\r\nIn second execution order:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    \r\n    1: r2 = A;  // sees write of A = 2\r\n    \r\n    3: r1 = B;  // sees write of B = 1\r\n    \r\n    2: B = 1;\r\n    \r\n    4: A = 2;\r\n\r\nAccording to definition of happens-before consistency, it is not difficult to understand this execution order is happens-before consistent(if my first understanding is correct).\r\nSo my fifth and sixth questions are: does it exist this situation (reads see writes that occur later) in real world? If it does, could you give me a real example?\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.5","title":"How to understand happens-before consistent","body":"<p>In <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.5\" rel=\"noreferrer\">chapter 17 of JLS</a>, it introduce a concept: happens-before consistent.</p>\n\n<blockquote>\n  <p>A set of actions A is happens-before consistent if for all reads r in A, where W(r) is the write action seen by r, it is not the case that either hb(r, W(r)) or that there exists a write w in A such that w.v = r.v and hb(W(r), w) and hb(w, r)\"</p>\n</blockquote>\n\n<p>In my understanding, it equals to following words:\n..., it is the case that neither ... nor ...</p>\n\n<p>So my first two questions are:</p>\n\n<ul>\n<li>is my understanding right?</li>\n<li>what does \"w.v = r.v\" mean?</li>\n</ul>\n\n<p>It also gives an Example: 17.4.5-1</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Thread 1 Thread 2\n\nB = 1; A = 2; \n\nr2 = A; r1 = B; \n</code></pre>\n\n<p>In first execution order:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1: B = 1;\n\n3: A = 2;\n\n2: r2 = A;  // sees initial write of 0\n\n4: r1 = B;  // sees initial write of 0\n</code></pre>\n\n<p>The order itself has already told us that two threads are executed alternately, so my third question is: what does left number mean?</p>\n\n<p>In my understanding, the reason of both r2 and r1 can see initial write of 0 is both A and B are not volatile field. So my fourth quesiton is: whether my understanding is right?</p>\n\n<p>In second execution order:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1: r2 = A;  // sees write of A = 2\n\n3: r1 = B;  // sees write of B = 1\n\n2: B = 1;\n\n4: A = 2;\n</code></pre>\n\n<p>According to definition of happens-before consistency, it is not difficult to understand this execution order is happens-before consistent(if my first understanding is correct).\nSo my fifth and sixth questions are: does it exist this situation (reads see writes that occur later) in real world? If it does, could you give me a real example?</p>\n"},{"tags":["java","gradle","version","project","java-14"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1684763304,"post_id":76306558,"comment_id":134560085,"body_markdown":"&quot;errors appeared&quot;. Um, yes.","body":"&quot;errors appeared&quot;. Um, yes."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684766597,"post_id":76306558,"comment_id":134560942,"body_markdown":"What errors appeared?  And ... how come you need to download some random (archived) project from github to complete your assignment?","body":"What errors appeared?  And ... how come you need to download some random (archived) project from github to complete your assignment?"},{"owner":{"account_id":28654411,"reputation":1,"user_id":21940755,"display_name":"Луцяк Артём Александрович"},"score":0,"creation_date":1684777798,"post_id":76306558,"comment_id":134563384,"body_markdown":"https://docs.google.com/document/d/1PAoBMxiXy77cMjkulIplKhuw0YXxsO48LMv94oW-jHw/edit","body":"<a href=\"https://docs.google.com/document/d/1PAoBMxiXy77cMjkulIplKhuw0YXxsO48LMv94oW-jHw/edit\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"},{"owner":{"account_id":28654411,"reputation":1,"user_id":21940755,"display_name":"Луцяк Артём Александрович"},"score":0,"creation_date":1684780035,"post_id":76306558,"comment_id":134563835,"body_markdown":"I expected to see them, but such a huge number is frightening","body":"I expected to see them, but such a huge number is frightening"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1684786398,"post_id":76306558,"comment_id":134565045,"body_markdown":"Please [edit] the question in order to add new information.","body":"Please <a href=\"https://stackoverflow.com/posts/76306558/edit\">edit</a> the question in order to add new information."},{"owner":{"account_id":28654411,"reputation":1,"user_id":21940755,"display_name":"Луцяк Артём Александрович"},"score":0,"creation_date":1684787147,"post_id":76306558,"comment_id":134565194,"body_markdown":"what exactly should I add to the question?","body":"what exactly should I add to the question?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1684792964,"post_id":76306558,"comment_id":134566044,"body_markdown":"A [mcve] would be helpful, without external links. Links can break, or linked content can change, making the question useless for others with similar problems. See also [ask].","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful, without external links. Links can break, or linked content can change, making the question useless for others with similar problems. See also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":28654411,"reputation":1,"user_id":21940755,"display_name":"Луцяк Артём Александрович"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684786966,"creation_date":1684761059,"question_id":76306558,"body_markdown":"I downloaded the project from the git hub to java, he has a gradle build version 6.3, and it needs to be run with the sdk version 14, but for my assignment at the university I need to run the project on version 17, how to raise the gradle version to 7.3 and not break the project\r\nhttps://github.com/slamach/prog-labs/tree/master/prog-lab6 - link to the git from which I downloaded the project\r\n\r\nI tried to change the version in gradle wrapper, but errors appeared during assembly, apparently the problem is in the dependencies, but I do not know what to do with them\r\nhttps://docs.google.com/document/d/1PAoBMxiXy77cMjkulIplKhuw0YXxsO48LMv94oW-jHw/edit - file with exception\r\n","title":"How to update Gradle version to 7.3 in a Java project downloaded from GitHub with JDK 17 and avoid dependency issues?","body":"<p>I downloaded the project from the git hub to java, he has a gradle build version 6.3, and it needs to be run with the sdk version 14, but for my assignment at the university I need to run the project on version 17, how to raise the gradle version to 7.3 and not break the project\n<a href=\"https://github.com/slamach/prog-labs/tree/master/prog-lab6\" rel=\"nofollow noreferrer\">https://github.com/slamach/prog-labs/tree/master/prog-lab6</a> - link to the git from which I downloaded the project</p>\n<p>I tried to change the version in gradle wrapper, but errors appeared during assembly, apparently the problem is in the dependencies, but I do not know what to do with them\n<a href=\"https://docs.google.com/document/d/1PAoBMxiXy77cMjkulIplKhuw0YXxsO48LMv94oW-jHw/edit\" rel=\"nofollow noreferrer\">https://docs.google.com/document/d/1PAoBMxiXy77cMjkulIplKhuw0YXxsO48LMv94oW-jHw/edit</a> - file with exception</p>\n"},{"tags":["java","android","android-studio","kotlin","ide"],"comments":[{"owner":{"account_id":14102121,"reputation":625,"user_id":10187218,"display_name":"Yasin Ege"},"score":0,"creation_date":1684785667,"post_id":76309378,"comment_id":134564920,"body_markdown":"You can change the compileSdkVersion on build.gradle file","body":"You can change the compileSdkVersion on build.gradle file"}],"answers":[{"tags":[],"owner":{"account_id":27267586,"reputation":59,"user_id":20789350,"display_name":"carter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684786663,"creation_date":1684784600,"answer_id":76309422,"question_id":76309378,"body_markdown":"You can go to file -&gt; project structure -&gt; you click your modules and change the &quot;Compile Sdk Version&quot; property to be 33. \r\n","title":"How to update API level in android studio?","body":"<p>You can go to file -&gt; project structure -&gt; you click your modules and change the &quot;Compile Sdk Version&quot; property to be 33.</p>\n"}],"owner":{"account_id":27648043,"reputation":11,"user_id":21103521,"display_name":"Pranjali Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":719,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684786663,"creation_date":1684784229,"question_id":76309378,"body_markdown":"Currently while executing the program it shows &quot;current API level is 32 please update the API level to 33&quot;. How should I resolve this???\r\n\r\n[enter image description here](https://i.stack.imgur.com/k6fa2.png)\r\nI tried executing my code in android studio, but it says to update the API level. How to fix it?","title":"How to update API level in android studio?","body":"<p>Currently while executing the program it shows &quot;current API level is 32 please update the API level to 33&quot;. How should I resolve this???</p>\n<p><a href=\"https://i.stack.imgur.com/k6fa2.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI tried executing my code in android studio, but it says to update the API level. How to fix it?</p>\n"},{"tags":["java","rust","java-native-interface"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684773234,"post_id":76307885,"comment_id":134562457,"body_markdown":"probably you must pass an array of `java/lang/String` instances... but I am a Java developer with very limited Rust knowledge","body":"probably you must pass an array of <code>java&#47;lang&#47;String</code> instances... but I am a Java developer with very limited Rust knowledge"},{"owner":{"account_id":198222,"reputation":19310,"user_id":442760,"display_name":"cafce25"},"score":1,"creation_date":1684778288,"post_id":76307885,"comment_id":134563474,"body_markdown":"&quot;it doesn&#39;t work&quot; is about the least useful description of an error ever, can you be more specific, best would be a [mre] of exactly what didn&#39;t work.","body":"&quot;it doesn&#39;t work&quot; is about the least useful description of an error ever, can you be more specific, best would be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of exactly what didn&#39;t work."},{"owner":{"account_id":198222,"reputation":19310,"user_id":442760,"display_name":"cafce25"},"score":0,"creation_date":1684778426,"post_id":76307885,"comment_id":134563506,"body_markdown":"In your &#39;string array&#39; you have &#39;proper&#39; quotes (`“` and `”`) instead of plain `&quot;` the former while technically correct for text quotation usually doesn&#39;t work to delimit stirngs in programming languages.","body":"In your &#39;string array&#39; you have &#39;proper&#39; quotes (<code>“</code> and <code>”</code>) instead of plain <code>&quot;</code> the former while technically correct for text quotation usually doesn&#39;t work to delimit stirngs in programming languages."}],"answers":[{"tags":[],"owner":{"account_id":27727288,"reputation":61,"user_id":21166555,"display_name":"Maxim Fineskin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684786272,"creation_date":1684786272,"answer_id":76309571,"question_id":76307885,"body_markdown":"Finally. I solved the problem by spending a lot of time studying the documentation. Since I could not find information on the web (that&#39;s why I created the question), I&#39;ll leave the solution here.\r\nTo pass arguments to a method call, you need to do something like this:\r\n```rust\r\n// create Java array of objects (in our case, type string)\r\n// 1 - one element of array\r\n// stringClass - Java string class signature (&quot;java/lang/String&quot;)\r\n// env.new_string(&quot;&quot;) - initial element of array\r\nlet arguments: JObjectArray = env.new_object_array(1, stringClass, env.new_string(&quot;&quot;).unwrap()).unwrap();\r\n\r\n// Set element at index 0\r\n// &amp;arguments - reference to our Java objects array\r\n// 0 - element index (place at)\r\n// env.new_string(&quot;--username&quot;) - the value we set at 0 index (create new java string)\r\nenv.set_object_array_element(&amp;arguments, 0, env.new_string(&quot;--username&quot;).unwrap()).unwrap();\r\n\r\n// JValue - This type is used for parameters passed to Java method calls.\r\n// A reference JValueGen\r\n// docs:  \r\n// https://docs.rs/jni/latest/jni/objects/enum.JValueGen.html#\r\n// https://docs.rs/jni/latest/jni/objects/type.JValue.html\r\n//\r\n// &amp;JObject::from(arguments) - create Java object instance from our arguments object array\r\n// \r\nenv.call_static_method(class,main_method_name, main_signature, &amp;[JValue::Object(&amp;JObject::from(arguments))])\r\n```","title":"JNI Rust how to pass arguments to call_static_method?","body":"<p>Finally. I solved the problem by spending a lot of time studying the documentation. Since I could not find information on the web (that's why I created the question), I'll leave the solution here.\nTo pass arguments to a method call, you need to do something like this:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>// create Java array of objects (in our case, type string)\n// 1 - one element of array\n// stringClass - Java string class signature (&quot;java/lang/String&quot;)\n// env.new_string(&quot;&quot;) - initial element of array\nlet arguments: JObjectArray = env.new_object_array(1, stringClass, env.new_string(&quot;&quot;).unwrap()).unwrap();\n\n// Set element at index 0\n// &amp;arguments - reference to our Java objects array\n// 0 - element index (place at)\n// env.new_string(&quot;--username&quot;) - the value we set at 0 index (create new java string)\nenv.set_object_array_element(&amp;arguments, 0, env.new_string(&quot;--username&quot;).unwrap()).unwrap();\n\n// JValue - This type is used for parameters passed to Java method calls.\n// A reference JValueGen\n// docs:  \n// https://docs.rs/jni/latest/jni/objects/enum.JValueGen.html#\n// https://docs.rs/jni/latest/jni/objects/type.JValue.html\n//\n// &amp;JObject::from(arguments) - create Java object instance from our arguments object array\n// \nenv.call_static_method(class,main_method_name, main_signature, &amp;[JValue::Object(&amp;JObject::from(arguments))])\n</code></pre>\n"}],"owner":{"account_id":27727288,"reputation":61,"user_id":21166555,"display_name":"Maxim Fineskin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76309571,"answer_count":1,"score":2,"last_activity_date":1684786272,"creation_date":1684770375,"question_id":76307885,"body_markdown":"This is my first project using jni.\r\n\r\nI am trying to invoke a Java method from Rust.\r\n\r\nJava method signature looks like this:\r\n```java\r\npublic static void main(String[] args) {...}\r\n```\r\nOn the Rust side, I create a JavaVM, find the class and try to call static method, but I don&#39;t know how to pass the arguments\r\n```rust\r\nenv.call_static_method(class, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;, HowPassArgumentsThere?)\r\n.expect(&quot;Failed to invoke main method&quot;);\r\n```\r\nArguments are an array of strings as I understand it. And I have to put something like this:\r\n\r\n```\r\n[\r\n“—username”, “Test”,\r\n“—version”, “1.7.10”,\r\n“—uuid”, “4f19c3577b774731bcc663e536ebd108”, \r\n“—accessToken”, “12412412412”,\r\n“—userProperties”, “{}”\r\n]\r\n```\r\n\r\nFull code available there: https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=03c197068218a00b3e0a2d8f170dda16\r\n\r\ni tried to create an object array according to how it&#39;s done in cpp\r\n```c++\r\njobjectArray str_array = Env-&gt;NewObjectArray(Env, 4, Env-&gt;FindClass(Env, &#39;java/lang/String&#39;), Env-&gt;NewString(Env, NULL, 0));\r\nArguments[0] = &#39;--username&#39;;\r\nArguments[1] = &#39;Player&#39;;\r\nArguments[2] = &#39;--accessToken&#39;;\r\nArguments[3] = &#39;12345&#39;;\r\nEnv-&gt;SetObjectArrayElement(Env, JavaObjectArray, 0, Env-&gt;NewString(Env, &amp;Arguments[0]), strlen(Arguments[0]));\r\nEnv-&gt;SetObjectArrayElement(Env, JavaObjectArray, 1, Env-&gt;NewString(Env, &amp;Arguments[1]), strlen(Arguments[1]));\r\nEnv-&gt;SetObjectArrayElement(Env, JavaObjectArray, 2, Env-&gt;NewString(Env, &amp;Arguments[2]), strlen(Arguments[2]));\r\nEnv-&gt;SetObjectArrayElement(Env, JavaObjectArray, 3, Env-&gt;NewString(Env, &amp;Arguments[3]), strlen(Arguments[3]));\r\n\r\nenv-&gt;CallStaticVoidMethod(class_Launch, env-&gt;GetStaticMethodID(class_Launch, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;), str_array);\r\njvm-&gt;DestroyJavaVM();\r\n```\r\nBut in Rust it doesn&#39;t work. Any ideas?","title":"JNI Rust how to pass arguments to call_static_method?","body":"<p>This is my first project using jni.</p>\n<p>I am trying to invoke a Java method from Rust.</p>\n<p>Java method signature looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {...}\n</code></pre>\n<p>On the Rust side, I create a JavaVM, find the class and try to call static method, but I don't know how to pass the arguments</p>\n<pre class=\"lang-rust prettyprint-override\"><code>env.call_static_method(class, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;, HowPassArgumentsThere?)\n.expect(&quot;Failed to invoke main method&quot;);\n</code></pre>\n<p>Arguments are an array of strings as I understand it. And I have to put something like this:</p>\n<pre><code>[\n“—username”, “Test”,\n“—version”, “1.7.10”,\n“—uuid”, “4f19c3577b774731bcc663e536ebd108”, \n“—accessToken”, “12412412412”,\n“—userProperties”, “{}”\n]\n</code></pre>\n<p>Full code available there: <a href=\"https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=03c197068218a00b3e0a2d8f170dda16\" rel=\"nofollow noreferrer\">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=03c197068218a00b3e0a2d8f170dda16</a></p>\n<p>i tried to create an object array according to how it's done in cpp</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>jobjectArray str_array = Env-&gt;NewObjectArray(Env, 4, Env-&gt;FindClass(Env, 'java/lang/String'), Env-&gt;NewString(Env, NULL, 0));\nArguments[0] = '--username';\nArguments[1] = 'Player';\nArguments[2] = '--accessToken';\nArguments[3] = '12345';\nEnv-&gt;SetObjectArrayElement(Env, JavaObjectArray, 0, Env-&gt;NewString(Env, &amp;Arguments[0]), strlen(Arguments[0]));\nEnv-&gt;SetObjectArrayElement(Env, JavaObjectArray, 1, Env-&gt;NewString(Env, &amp;Arguments[1]), strlen(Arguments[1]));\nEnv-&gt;SetObjectArrayElement(Env, JavaObjectArray, 2, Env-&gt;NewString(Env, &amp;Arguments[2]), strlen(Arguments[2]));\nEnv-&gt;SetObjectArrayElement(Env, JavaObjectArray, 3, Env-&gt;NewString(Env, &amp;Arguments[3]), strlen(Arguments[3]));\n\nenv-&gt;CallStaticVoidMethod(class_Launch, env-&gt;GetStaticMethodID(class_Launch, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;), str_array);\njvm-&gt;DestroyJavaVM();\n</code></pre>\n<p>But in Rust it doesn't work. Any ideas?</p>\n"},{"tags":["java","google-app-engine","namespaces","google-cloud-datastore","multi-tenant"],"comments":[{"owner":{"account_id":1078814,"reputation":11,"user_id":1076384,"display_name":"user1076384"},"score":0,"creation_date":1366751728,"post_id":16178359,"comment_id":23127720,"body_markdown":"Also this is how I do the makePersistentAll (after the saxParser.parse line ... pm.makePersistentAll(layouts);","body":"Also this is how I do the makePersistentAll (after the saxParser.parse line ... pm.makePersistentAll(layouts);"}],"answers":[{"tags":[],"owner":{"account_id":1078814,"reputation":11,"user_id":1076384,"display_name":"user1076384"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684785856,"creation_date":1366833305,"answer_id":16200980,"question_id":16178359,"body_markdown":"I resolved this issue by \r\n\r\n1) removing the jdo 1.5 libs which were being cached in my application libraries (I had switched to v2, but they were still there.\r\nThe way I removed them was to start a new project and copy my code over.\r\n\r\nThis revealed some issues locally, e.g. now an exception was thrown in my localhost which instructed me to enable xg transactions...\r\n\r\n2) adding the following to the jdoconfig.xml ...\r\n\r\n&lt;property name=&quot;datanucleus.appengine.datastoreEnableXGTransactions&quot; value=&quot;true&quot;/&gt;\r\n\r\n3) I am using transactions.\r\n\r\nI don&#39;t entirely understand the solution, because the transaction is simply persisting a collection of objects of type Layout. I&#39;m happy it works.\r\n\r\nNow the data is being persisted on the production (remote) copy as well as my localhost, according to the namespaces.  \r\n\r\n\r\n\r\n","title":"GAE application works locally, not on appengine (remote copy)","body":"<p>I resolved this issue by</p>\n<ol>\n<li>removing the jdo 1.5 libs which were being cached in my application libraries (I had switched to v2, but they were still there.\nThe way I removed them was to start a new project and copy my code over.</li>\n</ol>\n<p>This revealed some issues locally, e.g. now an exception was thrown in my localhost which instructed me to enable xg transactions...</p>\n<ol start=\"2\">\n<li>adding the following to the jdoconfig.xml ...</li>\n</ol>\n\n<ol start=\"3\">\n<li>I am using transactions.</li>\n</ol>\n<p>I don't entirely understand the solution, because the transaction is simply persisting a collection of objects of type Layout. I'm happy it works.</p>\n<p>Now the data is being persisted on the production (remote) copy as well as my localhost, according to the namespaces.</p>\n"}],"owner":{"account_id":1078814,"reputation":11,"user_id":1076384,"display_name":"user1076384"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684785856,"creation_date":1366748139,"question_id":16178359,"body_markdown":"I wrote a web application with servlets and using the datastore and namespace apis.\r\n\r\nThis works great on my localhost, but never stores data on the deployed copy.\r\n\r\nI followed the multi-tenancy with java documentation, along with another reference so that I could read xml and store it in the BigTable.\r\n\r\nMake the class persistable:\r\n\r\n    `@PersistenceCapable(identityType = IdentityType.APPLICATION)\r\n    public class Layout {\r\n    \t\r\n    \t@PrimaryKey\r\n        @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\r\n        private Key key;\r\n    \t\r\n        private String id;&#39;\r\n\r\nStore the data:\r\n\r\n    `customerKey = KeyFactory.createKey(Layout.class.getSimpleName(), layout.getId());\r\n    \t\t\tlayout.setKey(customerKey);`\r\n\r\nNow make it persistent ...\r\n\r\n    `pm = XMLImportPersistenceManagerFactory.get().getPersistenceManager();\r\n    \t\t\tSAXParser saxParser = factory.newSAXParser();\r\n    \t\t\tsaxParser.parse(new InputSource(_URL_STRINGS), this);`\r\n\r\nThen close it ...\r\n\r\n    pm.close()\r\n\r\nThe code works beautifully in my localhost. It does not work that I can see on appengine. The servlet runs, but no data is ever stored.\r\n\r\nIf you hit the url, it will say Layouts Created, and I will see a 200 in the logs, but no data. That tells me the servlet is running.\r\nHere is my app: http://layoutimporter.appspot.com/CreateLayout?namespace=boston\r\n\r\nSome closing details. I wrote a Namespace filter to set the namespace based on the parameter in the querystring.  \r\n\r\nI am running a warmup servlet to intialize the PersistenceManagerFactory to avoid loading requests = 1.\r\n\r\nAny ideas on this one. I have exhausted my resources and am spooling among all the same threads that are related to &quot;oops, I can&#39;t find your kinds ...&quot; etc.\r\n\r\nI tried deleting the deployed copy and starting a new deployed copy. I tried reversioning the deployed copy. No joy. I can out.print the namespaces and data after persisting it when I do so on the local copy, but not ever on the remote copy.  This is a real stumper!\r\n\r\nThanks!\r\n\r\n..\\Wendy\r\n\t\t\t","title":"GAE application works locally, not on appengine (remote copy)","body":"<p>I wrote a web application with servlets and using the datastore and namespace apis.</p>\n\n<p>This works great on my localhost, but never stores data on the deployed copy.</p>\n\n<p>I followed the multi-tenancy with java documentation, along with another reference so that I could read xml and store it in the BigTable.</p>\n\n<p>Make the class persistable:</p>\n\n<pre><code>`@PersistenceCapable(identityType = IdentityType.APPLICATION)\npublic class Layout {\n\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    private Key key;\n\n    private String id;'\n</code></pre>\n\n<p>Store the data:</p>\n\n<pre><code>`customerKey = KeyFactory.createKey(Layout.class.getSimpleName(), layout.getId());\n            layout.setKey(customerKey);`\n</code></pre>\n\n<p>Now make it persistent ...</p>\n\n<pre><code>`pm = XMLImportPersistenceManagerFactory.get().getPersistenceManager();\n            SAXParser saxParser = factory.newSAXParser();\n            saxParser.parse(new InputSource(_URL_STRINGS), this);`\n</code></pre>\n\n<p>Then close it ...</p>\n\n<pre><code>pm.close()\n</code></pre>\n\n<p>The code works beautifully in my localhost. It does not work that I can see on appengine. The servlet runs, but no data is ever stored.</p>\n\n<p>If you hit the url, it will say Layouts Created, and I will see a 200 in the logs, but no data. That tells me the servlet is running.\nHere is my app: <a href=\"http://layoutimporter.appspot.com/CreateLayout?namespace=boston\" rel=\"nofollow\">http://layoutimporter.appspot.com/CreateLayout?namespace=boston</a></p>\n\n<p>Some closing details. I wrote a Namespace filter to set the namespace based on the parameter in the querystring.  </p>\n\n<p>I am running a warmup servlet to intialize the PersistenceManagerFactory to avoid loading requests = 1.</p>\n\n<p>Any ideas on this one. I have exhausted my resources and am spooling among all the same threads that are related to \"oops, I can't find your kinds ...\" etc.</p>\n\n<p>I tried deleting the deployed copy and starting a new deployed copy. I tried reversioning the deployed copy. No joy. I can out.print the namespaces and data after persisting it when I do so on the local copy, but not ever on the remote copy.  This is a real stumper!</p>\n\n<p>Thanks!</p>\n\n<p>..\\Wendy</p>\n"},{"tags":["java","spring","spring-boot","spring-native"],"answers":[{"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684785547,"creation_date":1684785547,"answer_id":76309514,"question_id":76287163,"body_markdown":"The `classpath:keystore.p12` syntax will work with applications that have been AOT processed and compiled to a native executable. You do, however, need to make sure that the certificate files are included in the native executable. \r\n\r\nThis happens by default for types of resources that Spring Boot knows about such as static web content, web templates, database schema and data files, database migration scripts, and others. \r\n\r\nSpring Boot doesn&#39;t automatically know where your certificates are or that they will be required at runtime. To enable this, you&#39;ll need to register these files with the AOT engine as [described in the documentation][1]. \r\n\r\nIn your case, that might look like this: \r\n\r\n```\r\n@ImportRuntimeHints(CertificateRuntimeHints.CertificateResourcesRegistrar.class)\r\n@Configuration\r\npublic class CertificateRuntimeHints {\r\n\r\n\tstatic class CertificateResourcesRegistrar implements RuntimeHintsRegistrar {\r\n\r\n\t\t@Override\r\n\t\tpublic void registerHints(RuntimeHints hints, ClassLoader classLoader) {\r\n\t\t\thints.resources().registerPattern(&quot;*.p12&quot;);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.custom-hints","title":"How to specify the location of a keystore file with Spring Aot Processing","body":"<p>The <code>classpath:keystore.p12</code> syntax will work with applications that have been AOT processed and compiled to a native executable. You do, however, need to make sure that the certificate files are included in the native executable.</p>\n<p>This happens by default for types of resources that Spring Boot knows about such as static web content, web templates, database schema and data files, database migration scripts, and others.</p>\n<p>Spring Boot doesn't automatically know where your certificates are or that they will be required at runtime. To enable this, you'll need to register these files with the AOT engine as <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.custom-hints\" rel=\"nofollow noreferrer\">described in the documentation</a>.</p>\n<p>In your case, that might look like this:</p>\n<pre><code>@ImportRuntimeHints(CertificateRuntimeHints.CertificateResourcesRegistrar.class)\n@Configuration\npublic class CertificateRuntimeHints {\n\n    static class CertificateResourcesRegistrar implements RuntimeHintsRegistrar {\n\n        @Override\n        public void registerHints(RuntimeHints hints, ClassLoader classLoader) {\n            hints.resources().registerPattern(&quot;*.p12&quot;);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4166144,"reputation":2144,"user_id":3415077,"accept_rate":68,"display_name":"Juergen Zimmermann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76309514,"answer_count":1,"score":0,"last_activity_date":1684785547,"creation_date":1684483425,"question_id":76287163,"body_markdown":"I&#39;m using _Spring Boot 3.1.0_ and _Spring Framework 6.0.9_. A keystore file is specified for JVM as follows for a JVM deployment so that the file is placed in src\\main\\resources\\application.properties:\r\n```\r\nserver.ssl.bundle: microservice\r\nspring.ssl.bundle.jks.microservice.keystore.location: classpath:keystore.p12\r\n```\r\n\r\nBut how do I specify the location for Spring Aot Processing when I don&#39;t have a classpath? Do I have to edit application.properties? Or can I use an argument when invoking the .exe file to override the property from application.properties? ","title":"How to specify the location of a keystore file with Spring Aot Processing","body":"<p>I'm using <em>Spring Boot 3.1.0</em> and <em>Spring Framework 6.0.9</em>. A keystore file is specified for JVM as follows for a JVM deployment so that the file is placed in src\\main\\resources\\application.properties:</p>\n<pre><code>server.ssl.bundle: microservice\nspring.ssl.bundle.jks.microservice.keystore.location: classpath:keystore.p12\n</code></pre>\n<p>But how do I specify the location for Spring Aot Processing when I don't have a classpath? Do I have to edit application.properties? Or can I use an argument when invoking the .exe file to override the property from application.properties?</p>\n"},{"tags":["java","spring","kotlin","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":5894385,"reputation":313,"user_id":4639947,"accept_rate":100,"display_name":"fbailey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672299391,"creation_date":1672299391,"answer_id":74948412,"question_id":74757650,"body_markdown":"As it turns out, Springboot has a configuration that allows you to expose the actuator endpoints on a different port. Using Spring boot version `2.7.X` I was able to do the following:\r\n\r\n```\r\nmanagement.endpoints.web.exposure.include=health,prometheus\r\nmanagement.server.port=9090\r\n```\r\nChanging this port does not affect the normal server port that http requests are served from.","title":"How can I hide internal APIs on a SpringBoot service standing behind a TCP load balancer","body":"<p>As it turns out, Springboot has a configuration that allows you to expose the actuator endpoints on a different port. Using Spring boot version <code>2.7.X</code> I was able to do the following:</p>\n<pre><code>management.endpoints.web.exposure.include=health,prometheus\nmanagement.server.port=9090\n</code></pre>\n<p>Changing this port does not affect the normal server port that http requests are served from.</p>\n"}],"owner":{"account_id":5894385,"reputation":313,"user_id":4639947,"accept_rate":100,"display_name":"fbailey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74948412,"answer_count":1,"score":0,"last_activity_date":1684785217,"creation_date":1670720251,"question_id":74757650,"body_markdown":"I’m wondering what the best practice is for only exposing certain APIs on a SpringBoot service. For context I have a service that will be sitting behind a TCP load balancer which has some apis that will be called from a web page. However, I’d like to limit which APIs are exposed, like a metrics scraping endpoint for Prometheus and some other actuator type endpoints. \r\n\r\nI was thinking of standing up an NGINX instance on each service host and proxying requests to the instance on the same host. In that way, I think I could limit which APIs are available publicly. But I’d like to know what other options are recommended or available.","title":"How can I hide internal APIs on a SpringBoot service standing behind a TCP load balancer","body":"<p>I’m wondering what the best practice is for only exposing certain APIs on a SpringBoot service. For context I have a service that will be sitting behind a TCP load balancer which has some apis that will be called from a web page. However, I’d like to limit which APIs are exposed, like a metrics scraping endpoint for Prometheus and some other actuator type endpoints.</p>\n<p>I was thinking of standing up an NGINX instance on each service host and proxying requests to the instance on the same host. In that way, I think I could limit which APIs are available publicly. But I’d like to know what other options are recommended or available.</p>\n"},{"tags":["java","kubernetes","spring-boot-actuator"],"owner":{"account_id":13207333,"reputation":1053,"user_id":9538647,"display_name":"김태우"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684785203,"creation_date":1672123751,"question_id":74926415,"body_markdown":"I want to know the JVM CPU usage rate.\r\nSo we used the Java actuator&#39;s process.cpu.usage.\r\n\r\nHowever, this value was different from the CPU utilization of the container.\r\nSo I wonder if &quot;process.cpu.usage&quot; is the usage rate.\r\n\r\nAnd if it is, what is the limit value based on when calculating the utilization rate?\r\n\r\nI can&#39;t find the official document or source code related to it.","title":"java actuator cpu utilization","body":"<p>I want to know the JVM CPU usage rate.\nSo we used the Java actuator's process.cpu.usage.</p>\n<p>However, this value was different from the CPU utilization of the container.\nSo I wonder if &quot;process.cpu.usage&quot; is the usage rate.</p>\n<p>And if it is, what is the limit value based on when calculating the utilization rate?</p>\n<p>I can't find the official document or source code related to it.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7456401,"reputation":21,"user_id":5669541,"display_name":"Rodrigo Ferreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684785135,"creation_date":1684785135,"answer_id":76309468,"question_id":76308657,"body_markdown":"Try calling adapter.notifyDataSetChanged(); after refreshing the Grid! It ","title":"Refresh data in GridView after every Change in Data","body":"<p>Try calling adapter.notifyDataSetChanged(); after refreshing the Grid! It</p>\n"}],"owner":{"account_id":5352889,"reputation":29,"user_id":21360841,"display_name":"Amorphous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684785135,"creation_date":1684776771,"question_id":76308657,"body_markdown":"I am receiving data from an API call. I am able to send that data to my GridView in MainActivity.java and update the gridview once after I have received the first version of the data but when I click on the grid, the data changes and I need the gridview to refresh and show the updated data, which is not happening. I am calling the same callback again, which I am doing at the start which gives me the first version of the data. \r\n\r\nMy APIManager.java class : \r\n\r\n\r\n    public class APIManager {\r\n    \r\n        DeviceCallback deviceCallback;\r\n        private static final String TAG = &quot;APIManager&quot;;\r\n        private static final String API_URL = &quot;https://base-url&quot;\r\n        private static final String AUTH_TOKEN = SplashScreen.getTOKEN();\r\n        private static List&lt;Device&gt; deviceArray = null;\r\n        public void setDeviceCallback(DeviceCallback deviceCallback) {\r\n            this.deviceCallback = deviceCallback;\r\n        }\r\n    \r\n        void toggleDeviceState(Context context, String deviceID) {\r\n            String URL = &quot;https://baseurl/&quot; + deviceID;\r\n            RequestQueue requestQueue = Volley.newRequestQueue(context);\r\n            JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.POST, URL, null,\r\n                    new Response.Listener&lt;JSONObject&gt;() {\r\n                        @Override\r\n                        public void onResponse(JSONObject response) {\r\n                            // Process the JSON response\r\n                            try {\r\n    \r\n                                parseToggleStateResponse(response);\r\n    \r\n                            } catch (JSONException e) {\r\n                                Log.e(TAG, &quot;JSON parsing error: &quot; + e.getMessage());\r\n                            }\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n                            // Handle API call error\r\n                            Log.e(TAG, &quot;API error: &quot; + error.getMessage());\r\n                        }\r\n                    }) {\r\n                @Override\r\n                public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                    headers.put(&quot;Authorization&quot;, &quot;jwt &quot; + AUTH_TOKEN);\r\n                    return headers;\r\n                }\r\n            };\r\n    \r\n            requestQueue.add(jsonObjectRequest);\r\n    \r\n        }\r\n    \r\n        void fetchInitialData(Context context) {\r\n            RequestQueue requestQueue = Volley.newRequestQueue(context);\r\n            JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, API_URL, null,\r\n                    new Response.Listener&lt;JSONObject&gt;() {\r\n                        @Override\r\n                        public void onResponse(JSONObject response) {\r\n                            // Process the JSON response\r\n                            try {\r\n    //\r\n                                parseResponseData(response);\r\n                                JSONArray ownDevices = response.getJSONArray(&quot;owndevices&quot;);\r\n    \r\n    \r\n                            } catch (JSONException e) {\r\n                                Log.e(TAG, &quot;JSON parsing error: &quot; + e.getMessage());\r\n                            }\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n                            // Handle API call error\r\n                            Log.e(TAG, &quot;API error: &quot; + error.getMessage());\r\n                        }\r\n                    }) {\r\n                @Override\r\n                public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                    headers.put(&quot;Authorization&quot;, &quot;Jwt &quot; + AUTH_TOKEN);\r\n                    return headers;\r\n                }\r\n            };\r\n    \r\n            requestQueue.add(jsonObjectRequest);\r\n        }\r\n    \r\n        ToggleResponse parseToggleStateResponse(JSONObject response) throws JSONException {\r\n    \r\n    \r\n            Gson gson = new Gson();\r\n    \r\n            JSONObject device = response.getJSONObject(&quot;data&quot;);\r\n    \r\n    \r\n            Device deviceData = gson.fromJson(device.toString(), Device.class);\r\n            Log.w(&quot;API-MANAGER&quot;, &quot;125 : Response = &quot; + deviceData.getId());\r\n            for (int i = 0; i &lt; deviceArray.toArray().length; i++)\r\n            {\r\n                String deviceID = deviceArray.get(i).getId();\r\n    \r\n                if (deviceID == deviceData.getId()) {\r\n                    Log.w(&quot;API-MANAGER&quot;, &quot;DEVICE FOUND : &quot; + deviceArray.get(i).getGivenName());\r\n                    deviceArray.get(i).setState(deviceData.isState());\r\n                    deviceCallback.deviceCallbackFunction(deviceArray);\r\n                }\r\n            }\r\n    \r\n            ToggleResponse responseData = new ToggleResponse(deviceData, message);\r\n    \r\n    \r\n            return responseData;\r\n        }\r\n    \r\n    \r\n    \r\n        DeviceResponse parseResponseData(JSONObject response) throws JSONException {\r\n    \r\n    \r\n            Gson gson = new Gson();\r\n    \r\n            JSONArray ownDevicesArray = response.getJSONArray(&quot;owndevices&quot;);\r\n    \r\n            Device ownDevices[] = gson.fromJson(String.valueOf(ownDevicesArray), Device[].class);\r\n    ;\r\n            DeviceResponse responseData = new DeviceResponse(ownDevices);\r\n            List&lt;Device&gt; ownDevice = new ArrayList&lt;&gt;();;\r\n            List&lt;Device&gt; delDevice = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n            // Parse ownDevices\r\n            for (int i = 0; i &lt; ownDevicesArray.length(); i++)\r\n            {\r\n                JSONObject deviceObject = ownDevicesArray.getJSONObject(i);\r\n                Device device = new Device();\r\n                Log.w(&quot;API-MANAGER&quot;, &quot;153&quot; + deviceObject.getString(&quot;_id&quot;));\r\n                device.set_id(deviceObject.getString(&quot;_id&quot;));\r\n                device.setName(deviceObject.getString(&quot;name&quot;));\r\n                device.setGivenName(deviceObject.getString(&quot;givenName&quot;));\r\n                device.setState(deviceObject.getBoolean(&quot;state&quot;));\r\n                device.setAdmin(deviceObject.getString(&quot;admin&quot;));\r\n    device.setDelegate(getStringListFromJSONArray(deviceObject.getJSONArray(&quot;delegate&quot;)));\r\n                device.setSchedulerFlag(deviceObject.getBoolean(&quot;schedulerFlag&quot;));\r\n                device.setTopic(deviceObject.getString(&quot;topic&quot;));\r\n    \r\n                device.setMultiState(deviceObject.optString(&quot;multiState&quot;));\r\n    \r\n    \r\n                ownDevice.add(device);\r\n            }\r\n            deviceArray = ownDevice;\r\n    \r\n    \r\n            deviceCallback.deviceCallbackFunction(ownDevice);\r\n         \r\n    \r\n            responseData.setOwndevices(ownDevice);\r\n       \r\n    \r\n         \r\n            return responseData;\r\n        }\r\n    \r\n        private List&lt;String&gt; getStringListFromJSONArray(JSONArray jsonArray) throws JSONException {\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                list.add(jsonArray.getString(i));\r\n            }\r\n            return list;\r\n        }\r\n    \r\n    \r\n    \r\n        public interface DeviceCallback {\r\n            void deviceCallbackFunction(List&lt;Device&gt; deviceData);\r\n        }\r\n    }\r\n\r\nGridAdaptr.java : \r\n\r\n\r\n\r\n    public class GridAdapter extends BaseAdapter{\r\n    \r\n        Context context;\r\n        private final List&lt;Device&gt; deviceData;\r\n    //    private final int [] images;\r\n        LayoutInflater layoutInflater;\r\n        APIManager apiManager = new APIManager();\r\n        public GridAdapter(Context context, List&lt;Device&gt; deviceData) {\r\n            this.context = context;\r\n            this.deviceData = deviceData;\r\n    //        this.images = images;\r\n        }\r\n    \r\n        @Override\r\n        public int getCount() {\r\n            return deviceData.toArray().length;\r\n        }\r\n    \r\n        @Override\r\n        public Object getItem(int position) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public long getItemId(int position) {\r\n            return 0;\r\n        }\r\n    \r\n        @Override\r\n        public View getView(final int position, View convertView, ViewGroup parent) {\r\n    \r\n            layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    \r\n    \r\n            Holder holder = new Holder();\r\n            View rowView;\r\n    \r\n            rowView = layoutInflater.inflate(R.layout.grid_item_layout, null);\r\n            holder.GivenName = (TextView) rowView.findViewById(R.id.GivenName);\r\n            holder.image= (ImageView) rowView.findViewById(R.id.image);\r\n            holder.image.setImageResource(deviceData.get(position).isState()? R.drawable.switch_on : R.drawable.switch_off);\r\n    \r\n            holder.GivenName.setText(deviceData.get(position).getGivenName());\r\n    \r\n    \r\n    \r\n    \r\n            rowView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    apiManager.toggleDeviceState(context.getApplicationContext(), deviceData.get(position).getId());\r\n    \r\n                    Toast.makeText(context, &quot;You Clicked &quot;+deviceData.get(position).getId(), Toast.LENGTH_LONG).show();\r\n    \r\n                    notifyDataSetChanged();\r\n    \r\n                }\r\n            });\r\n    \r\n            return rowView;\r\n        }\r\n    \r\n    \r\n    \r\n        public class Holder\r\n        {\r\n            TextView Name;\r\n            TextView GivenName;\r\n            TextView State;\r\n            TextView MultiState;\r\n            TextView ConnectFlag;\r\n            ImageView image;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nMy MainActivity.java :\r\n\r\n\r\n    import io.socket.client.Socket;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements APIManager.DeviceCallback {\r\n    \r\n    \r\n        public static GridView gridView;\r\n        private Boolean hasConnection = false;\r\n        String token = &quot;&quot;;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            SharedPreferences sharedPreferences = getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\r\n            token = sharedPreferences.getString(&quot;token&quot;, null);\r\n    \r\n            APIManager apiManager = new APIManager();\r\n            SocketClass socketClass = new SocketClass();\r\n            apiManager.setDeviceCallback(this);\r\n            apiManager.fetchData(getApplicationContext());\r\n            getSupportActionBar().setTitle(&quot;Home&quot;);\r\n            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n            getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n             gridView = (GridView) findViewById(R.id.gridview);\r\n\r\n    \r\n          \r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            MenuInflater inflater = getMenuInflater();\r\n            inflater.inflate(R.menu.main_menu, menu);\r\n    \r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n            Log.w(&quot;API-MANAGER&quot;, &quot;Item : &quot; + item.toString());\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        @Override\r\n        public void deviceCallbackFunction(List&lt;Device&gt; deviceData) {\r\n    \r\n    \r\n            GridAdapter gridAdapter = new GridAdapter(this, deviceData);\r\n            Log.w(&quot;API-MANAGER&quot;, &quot;49&quot; + deviceData.get(0).getGivenName());\r\n    \r\n            gridView.setAdapter(gridAdapter);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Refresh data in GridView after every Change in Data","body":"<p>I am receiving data from an API call. I am able to send that data to my GridView in MainActivity.java and update the gridview once after I have received the first version of the data but when I click on the grid, the data changes and I need the gridview to refresh and show the updated data, which is not happening. I am calling the same callback again, which I am doing at the start which gives me the first version of the data.</p>\n<p>My APIManager.java class :</p>\n<pre><code>public class APIManager {\n\n    DeviceCallback deviceCallback;\n    private static final String TAG = &quot;APIManager&quot;;\n    private static final String API_URL = &quot;https://base-url&quot;\n    private static final String AUTH_TOKEN = SplashScreen.getTOKEN();\n    private static List&lt;Device&gt; deviceArray = null;\n    public void setDeviceCallback(DeviceCallback deviceCallback) {\n        this.deviceCallback = deviceCallback;\n    }\n\n    void toggleDeviceState(Context context, String deviceID) {\n        String URL = &quot;https://baseurl/&quot; + deviceID;\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.POST, URL, null,\n                new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        // Process the JSON response\n                        try {\n\n                            parseToggleStateResponse(response);\n\n                        } catch (JSONException e) {\n                            Log.e(TAG, &quot;JSON parsing error: &quot; + e.getMessage());\n                        }\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        // Handle API call error\n                        Log.e(TAG, &quot;API error: &quot; + error.getMessage());\n                    }\n                }) {\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n                headers.put(&quot;Authorization&quot;, &quot;jwt &quot; + AUTH_TOKEN);\n                return headers;\n            }\n        };\n\n        requestQueue.add(jsonObjectRequest);\n\n    }\n\n    void fetchInitialData(Context context) {\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, API_URL, null,\n                new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        // Process the JSON response\n                        try {\n//\n                            parseResponseData(response);\n                            JSONArray ownDevices = response.getJSONArray(&quot;owndevices&quot;);\n\n\n                        } catch (JSONException e) {\n                            Log.e(TAG, &quot;JSON parsing error: &quot; + e.getMessage());\n                        }\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        // Handle API call error\n                        Log.e(TAG, &quot;API error: &quot; + error.getMessage());\n                    }\n                }) {\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n                headers.put(&quot;Authorization&quot;, &quot;Jwt &quot; + AUTH_TOKEN);\n                return headers;\n            }\n        };\n\n        requestQueue.add(jsonObjectRequest);\n    }\n\n    ToggleResponse parseToggleStateResponse(JSONObject response) throws JSONException {\n\n\n        Gson gson = new Gson();\n\n        JSONObject device = response.getJSONObject(&quot;data&quot;);\n\n\n        Device deviceData = gson.fromJson(device.toString(), Device.class);\n        Log.w(&quot;API-MANAGER&quot;, &quot;125 : Response = &quot; + deviceData.getId());\n        for (int i = 0; i &lt; deviceArray.toArray().length; i++)\n        {\n            String deviceID = deviceArray.get(i).getId();\n\n            if (deviceID == deviceData.getId()) {\n                Log.w(&quot;API-MANAGER&quot;, &quot;DEVICE FOUND : &quot; + deviceArray.get(i).getGivenName());\n                deviceArray.get(i).setState(deviceData.isState());\n                deviceCallback.deviceCallbackFunction(deviceArray);\n            }\n        }\n\n        ToggleResponse responseData = new ToggleResponse(deviceData, message);\n\n\n        return responseData;\n    }\n\n\n\n    DeviceResponse parseResponseData(JSONObject response) throws JSONException {\n\n\n        Gson gson = new Gson();\n\n        JSONArray ownDevicesArray = response.getJSONArray(&quot;owndevices&quot;);\n\n        Device ownDevices[] = gson.fromJson(String.valueOf(ownDevicesArray), Device[].class);\n;\n        DeviceResponse responseData = new DeviceResponse(ownDevices);\n        List&lt;Device&gt; ownDevice = new ArrayList&lt;&gt;();;\n        List&lt;Device&gt; delDevice = new ArrayList&lt;&gt;();\n\n\n        // Parse ownDevices\n        for (int i = 0; i &lt; ownDevicesArray.length(); i++)\n        {\n            JSONObject deviceObject = ownDevicesArray.getJSONObject(i);\n            Device device = new Device();\n            Log.w(&quot;API-MANAGER&quot;, &quot;153&quot; + deviceObject.getString(&quot;_id&quot;));\n            device.set_id(deviceObject.getString(&quot;_id&quot;));\n            device.setName(deviceObject.getString(&quot;name&quot;));\n            device.setGivenName(deviceObject.getString(&quot;givenName&quot;));\n            device.setState(deviceObject.getBoolean(&quot;state&quot;));\n            device.setAdmin(deviceObject.getString(&quot;admin&quot;));\ndevice.setDelegate(getStringListFromJSONArray(deviceObject.getJSONArray(&quot;delegate&quot;)));\n            device.setSchedulerFlag(deviceObject.getBoolean(&quot;schedulerFlag&quot;));\n            device.setTopic(deviceObject.getString(&quot;topic&quot;));\n\n            device.setMultiState(deviceObject.optString(&quot;multiState&quot;));\n\n\n            ownDevice.add(device);\n        }\n        deviceArray = ownDevice;\n\n\n        deviceCallback.deviceCallbackFunction(ownDevice);\n     \n\n        responseData.setOwndevices(ownDevice);\n   \n\n     \n        return responseData;\n    }\n\n    private List&lt;String&gt; getStringListFromJSONArray(JSONArray jsonArray) throws JSONException {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\n            list.add(jsonArray.getString(i));\n        }\n        return list;\n    }\n\n\n\n    public interface DeviceCallback {\n        void deviceCallbackFunction(List&lt;Device&gt; deviceData);\n    }\n}\n</code></pre>\n<p>GridAdaptr.java :</p>\n<pre><code>public class GridAdapter extends BaseAdapter{\n\n    Context context;\n    private final List&lt;Device&gt; deviceData;\n//    private final int [] images;\n    LayoutInflater layoutInflater;\n    APIManager apiManager = new APIManager();\n    public GridAdapter(Context context, List&lt;Device&gt; deviceData) {\n        this.context = context;\n        this.deviceData = deviceData;\n//        this.images = images;\n    }\n\n    @Override\n    public int getCount() {\n        return deviceData.toArray().length;\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return null;\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return 0;\n    }\n\n    @Override\n    public View getView(final int position, View convertView, ViewGroup parent) {\n\n        layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n\n        Holder holder = new Holder();\n        View rowView;\n\n        rowView = layoutInflater.inflate(R.layout.grid_item_layout, null);\n        holder.GivenName = (TextView) rowView.findViewById(R.id.GivenName);\n        holder.image= (ImageView) rowView.findViewById(R.id.image);\n        holder.image.setImageResource(deviceData.get(position).isState()? R.drawable.switch_on : R.drawable.switch_off);\n\n        holder.GivenName.setText(deviceData.get(position).getGivenName());\n\n\n\n\n        rowView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                apiManager.toggleDeviceState(context.getApplicationContext(), deviceData.get(position).getId());\n\n                Toast.makeText(context, &quot;You Clicked &quot;+deviceData.get(position).getId(), Toast.LENGTH_LONG).show();\n\n                notifyDataSetChanged();\n\n            }\n        });\n\n        return rowView;\n    }\n\n\n\n    public class Holder\n    {\n        TextView Name;\n        TextView GivenName;\n        TextView State;\n        TextView MultiState;\n        TextView ConnectFlag;\n        ImageView image;\n\n    }\n\n}\n</code></pre>\n<p>My MainActivity.java :</p>\n<pre><code>import io.socket.client.Socket;\n\npublic class MainActivity extends AppCompatActivity implements APIManager.DeviceCallback {\n\n\n    public static GridView gridView;\n    private Boolean hasConnection = false;\n    String token = &quot;&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\n        token = sharedPreferences.getString(&quot;token&quot;, null);\n\n        APIManager apiManager = new APIManager();\n        SocketClass socketClass = new SocketClass();\n        apiManager.setDeviceCallback(this);\n        apiManager.fetchData(getApplicationContext());\n        getSupportActionBar().setTitle(&quot;Home&quot;);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\n         gridView = (GridView) findViewById(R.id.gridview);\n\n\n      \n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.main_menu, menu);\n\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        Log.w(&quot;API-MANAGER&quot;, &quot;Item : &quot; + item.toString());\n        return super.onOptionsItemSelected(item);\n    }\n\n    @Override\n    public void deviceCallbackFunction(List&lt;Device&gt; deviceData) {\n\n\n        GridAdapter gridAdapter = new GridAdapter(this, deviceData);\n        Log.w(&quot;API-MANAGER&quot;, &quot;49&quot; + deviceData.get(0).getGivenName());\n\n        gridView.setAdapter(gridAdapter);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hazelcast","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":7226902,"reputation":5025,"user_id":5515155,"display_name":"Rafał Leszko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597309457,"creation_date":1597309457,"answer_id":63391706,"question_id":63377975,"body_markdown":"[HazelcastHealthIndicator][1] is automatically configured as described in [Spring Boot Actuator: Production-ready Features][2]. However, from what I see, it only checks if Hazelcast exists and has UUID.\r\n\r\nIf you want some more Hazelcast specific readiness health check (like checking `hazelcast/health/ready` endpoint or `hazelcast/health/cluster-safe`), then I guess that you need to write a [custom Spring Actuator Health Check Indicator][3].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/v2.3.2.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/hazelcast/HazelcastHealthIndicator.java\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#writing-custom-healthindicators","title":"How to configure hazelcast IMDG for readiness probe","body":"<p><a href=\"https://github.com/spring-projects/spring-boot/blob/v2.3.2.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/hazelcast/HazelcastHealthIndicator.java\" rel=\"nofollow noreferrer\">HazelcastHealthIndicator</a> is automatically configured as described in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html\" rel=\"nofollow noreferrer\">Spring Boot Actuator: Production-ready Features</a>. However, from what I see, it only checks if Hazelcast exists and has UUID.</p>\n<p>If you want some more Hazelcast specific readiness health check (like checking <code>hazelcast/health/ready</code> endpoint or <code>hazelcast/health/cluster-safe</code>), then I guess that you need to write a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#writing-custom-healthindicators\" rel=\"nofollow noreferrer\">custom Spring Actuator Health Check Indicator</a>.</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684785131,"creation_date":1597240211,"question_id":63377975,"body_markdown":"I am trying implement readiness probe using actuator in springboot. I already have database health check using readiness probe in my helm:\r\n```\r\n-  name: management.endpoint.health.group.readiness.include\r\n   value: &#39;readinessState,db&#39;\r\n```\r\nI am guessing that I just need to moditfy value portion to add Hazelcast IMDG, but I am not sure if this is the case. I couldn&#39;t find good website that explains how to configure it. How do I achieve this?","title":"How to configure hazelcast IMDG for readiness probe","body":"<p>I am trying implement readiness probe using actuator in springboot. I already have database health check using readiness probe in my helm:</p>\n<pre><code>-  name: management.endpoint.health.group.readiness.include\n   value: 'readinessState,db'\n</code></pre>\n<p>I am guessing that I just need to moditfy value portion to add Hazelcast IMDG, but I am not sure if this is the case. I couldn't find good website that explains how to configure it. How do I achieve this?</p>\n"},{"tags":["java","spring","spring-boot-actuator"],"comments":[{"owner":{"account_id":1413644,"reputation":432,"user_id":1339755,"display_name":"Barry"},"score":0,"creation_date":1532033348,"post_id":48710894,"comment_id":89833890,"body_markdown":"This has been hanging around for a bit, you might have moved on.  I&#39;ve only ever changed the path in the config file, so in application.yaml I have:\nmanagement:\n  context-path: /actuator\nYou might also consider using switching to actuator 2.x.x, as the default was changed to have the endpoints exposed at /actuator.","body":"This has been hanging around for a bit, you might have moved on.  I&#39;ve only ever changed the path in the config file, so in application.yaml I have: management:   context-path: /actuator You might also consider using switching to actuator 2.x.x, as the default was changed to have the endpoints exposed at /actuator."}],"owner":{"account_id":2610789,"reputation":972,"user_id":2260924,"accept_rate":46,"display_name":"frankieta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1684785107,"creation_date":1518196382,"question_id":48710894,"body_markdown":"We develop a Spring (4.1.1) based web application and I&#39;m trying to integrate Actuator to have some nice info out of it.\r\n\r\nOur stack:\r\nSpring 4.1.1\r\n\r\nIts a non Boot application so after reading a lot of questions and articles I put togheter the following code:\r\n\r\npom.xml\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.1.12.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nActuatorConfig.java\r\n\r\n\r\n    @Configuration\r\n    @Import(EndpointAutoConfiguration.class)\r\n    public class ActuatorConfig {\r\n    \r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \tpublic ManagementServerProperties myManagementServerProperties() {\r\n    \t\tManagementServerProperties manag = new ManagementServerProperties();\r\n    \t\tmanag.setContextPath(&quot;/actuator&quot;);\r\n    \r\n    \t\treturn manag;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \t@Autowired\r\n    \t// Define the HandlerMapping similar to RequestHandlerMapping to expose the\r\n    \t@DependsOn(&quot;myManagementServerProperties&quot;)\r\n    \tpublic EndpointHandlerMapping endpointHandlerMapping(Collection&lt;? extends MvcEndpoint&gt; endpoints) {\r\n    \t\treturn new EndpointHandlerMapping(endpoints);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \t// define the HealthPoint endpoint\r\n    \t@DependsOn(&quot;myManagementServerProperties&quot;)\r\n    \tpublic HealthMvcEndpoint healthMvcEndpoint(HealthEndpoint delegate) {\r\n    \t\treturn new HealthMvcEndpoint(delegate);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \t// define the Info endpoint\r\n    \t@DependsOn(&quot;myManagementServerProperties&quot;)\r\n    \tpublic EndpointMvcAdapter infoMvcEndPoint(InfoEndpoint delegate) {\r\n    \t\treturn new EndpointMvcAdapter(delegate);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \t// define the beans endpoint\r\n    \t@DependsOn(&quot;myManagementServerProperties&quot;)\r\n    \tpublic EndpointMvcAdapter beansEndPoint(BeansEndpoint delegate) {\r\n    \t\treturn new EndpointMvcAdapter(delegate);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \t// define the mappings endpoint\r\n    \t@DependsOn(&quot;myManagementServerProperties&quot;)\r\n    \tpublic EndpointMvcAdapter requestMappingEndPoint(RequestMappingEndpoint delegate) {\r\n    \t\treturn new EndpointMvcAdapter(delegate);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \t// define the HealthPoint endpoint\r\n    \t@DependsOn(&quot;myManagementServerProperties&quot;)\r\n    \tpublic EndpointMvcAdapter dumpMvcEndpoint(DumpEndpoint delegate) {\r\n    \t\treturn new EndpointMvcAdapter(delegate);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \t// define the MetricsEndpoint endpoint\r\n    \t@DependsOn(&quot;myManagementServerProperties&quot;)\r\n    \tpublic MetricsMvcEndpoint metricsMvcEndpoint(MetricsEndpoint delegate) {\r\n    \t\treturn new MetricsMvcEndpoint(delegate);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \t@DependsOn(&quot;myManagementServerProperties&quot;)\r\n    \tpublic EnvironmentMvcEndpoint environmentMvcEndpoint(EnvironmentEndpoint delegate) {\r\n    \t\treturn new EnvironmentMvcEndpoint(delegate);\r\n    \t}\r\n\r\nWith this configuration I can actually call those endpoints I declared:\r\n\r\n    2018-02-09 12:33:47,083 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped &quot;{[/dump],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n    2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped &quot;{[/metrics/{name:.*}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)\r\n    2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped &quot;{[/metrics],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n    2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped &quot;{[/beans],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n    2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped &quot;{[/health],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke()\r\n    2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped &quot;{[/info],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n    2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped &quot;{[/mappings],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n    2018-02-09 12:33:47,085 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped &quot;{[/env/{name:.*}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)\r\n    2018-02-09 12:33:47,085 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped &quot;{[/env],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n\r\nWhat I want to achieve is to change the basepath of all those endpoints to something like **\\actuator** so I can call:\r\n\r\n    https://mydomain:8443/myapp/api/actuator/dump\r\n    https://mydomain:8443/myapp/api/actuator/metrics\r\n\r\n\r\nWhat I tried after looking online, given that its a non boot application, is adding this configuration ad my ActuatorConfig class:\r\n\r\n    @Bean\r\n        \t@Autowired\r\n        \tpublic ManagementServerProperties myManagementServerProperties() {\r\n        \t\tManagementServerProperties manag = new ManagementServerProperties();\r\n        \t\tmanag.setContextPath(&quot;/actuator&quot;);\r\n        \r\n        \t\treturn manag;\r\n        \t}\r\n\r\nI tried to use `@DependsOn` annotation to make sure the myManagementServerProperties was instantiated before the Actuator endpoints but nothing changed.\r\n\r\nWhat am I doing wrong?","title":"Spring Boot Actuator on non Boot application - change endpoints basepath","body":"<p>We develop a Spring (4.1.1) based web application and I'm trying to integrate Actuator to have some nice info out of it.</p>\n\n<p>Our stack:\nSpring 4.1.1</p>\n\n<p>Its a non Boot application so after reading a lot of questions and articles I put togheter the following code:</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\n    &lt;version&gt;1.1.12.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>ActuatorConfig.java</p>\n\n<pre><code>@Configuration\n@Import(EndpointAutoConfiguration.class)\npublic class ActuatorConfig {\n\n\n    @Bean\n    @Autowired\n    public ManagementServerProperties myManagementServerProperties() {\n        ManagementServerProperties manag = new ManagementServerProperties();\n        manag.setContextPath(\"/actuator\");\n\n        return manag;\n    }\n\n    @Bean\n    @Autowired\n    // Define the HandlerMapping similar to RequestHandlerMapping to expose the\n    @DependsOn(\"myManagementServerProperties\")\n    public EndpointHandlerMapping endpointHandlerMapping(Collection&lt;? extends MvcEndpoint&gt; endpoints) {\n        return new EndpointHandlerMapping(endpoints);\n    }\n\n    @Bean\n    @Autowired\n    // define the HealthPoint endpoint\n    @DependsOn(\"myManagementServerProperties\")\n    public HealthMvcEndpoint healthMvcEndpoint(HealthEndpoint delegate) {\n        return new HealthMvcEndpoint(delegate);\n    }\n\n    @Bean\n    @Autowired\n    // define the Info endpoint\n    @DependsOn(\"myManagementServerProperties\")\n    public EndpointMvcAdapter infoMvcEndPoint(InfoEndpoint delegate) {\n        return new EndpointMvcAdapter(delegate);\n    }\n\n    @Bean\n    @Autowired\n    // define the beans endpoint\n    @DependsOn(\"myManagementServerProperties\")\n    public EndpointMvcAdapter beansEndPoint(BeansEndpoint delegate) {\n        return new EndpointMvcAdapter(delegate);\n    }\n\n    @Bean\n    @Autowired\n    // define the mappings endpoint\n    @DependsOn(\"myManagementServerProperties\")\n    public EndpointMvcAdapter requestMappingEndPoint(RequestMappingEndpoint delegate) {\n        return new EndpointMvcAdapter(delegate);\n    }\n\n    @Bean\n    @Autowired\n    // define the HealthPoint endpoint\n    @DependsOn(\"myManagementServerProperties\")\n    public EndpointMvcAdapter dumpMvcEndpoint(DumpEndpoint delegate) {\n        return new EndpointMvcAdapter(delegate);\n    }\n\n    @Bean\n    @Autowired\n    // define the MetricsEndpoint endpoint\n    @DependsOn(\"myManagementServerProperties\")\n    public MetricsMvcEndpoint metricsMvcEndpoint(MetricsEndpoint delegate) {\n        return new MetricsMvcEndpoint(delegate);\n    }\n\n    @Bean\n    @Autowired\n    @DependsOn(\"myManagementServerProperties\")\n    public EnvironmentMvcEndpoint environmentMvcEndpoint(EnvironmentEndpoint delegate) {\n        return new EnvironmentMvcEndpoint(delegate);\n    }\n</code></pre>\n\n<p>With this configuration I can actually call those endpoints I declared:</p>\n\n<pre><code>2018-02-09 12:33:47,083 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped \"{[/dump],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\n2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped \"{[/metrics/{name:.*}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)\n2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped \"{[/metrics],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\n2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped \"{[/beans],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\n2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped \"{[/health],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke()\n2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped \"{[/info],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\n2018-02-09 12:33:47,084 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped \"{[/mappings],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\n2018-02-09 12:33:47,085 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped \"{[/env/{name:.*}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)\n2018-02-09 12:33:47,085 [localhost-startStop-1] INFO  org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping - Mapped \"{[/env],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\n</code></pre>\n\n<p>What I want to achieve is to change the basepath of all those endpoints to something like <strong>\\actuator</strong> so I can call:</p>\n\n<pre><code>https://mydomain:8443/myapp/api/actuator/dump\nhttps://mydomain:8443/myapp/api/actuator/metrics\n</code></pre>\n\n<p>What I tried after looking online, given that its a non boot application, is adding this configuration ad my ActuatorConfig class:</p>\n\n<pre><code>@Bean\n        @Autowired\n        public ManagementServerProperties myManagementServerProperties() {\n            ManagementServerProperties manag = new ManagementServerProperties();\n            manag.setContextPath(\"/actuator\");\n\n            return manag;\n        }\n</code></pre>\n\n<p>I tried to use <code>@DependsOn</code> annotation to make sure the myManagementServerProperties was instantiated before the Actuator endpoints but nothing changed.</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","algorithm","knapsack-problem"],"comments":[{"owner":{"account_id":349130,"reputation":58059,"user_id":684229,"accept_rate":64,"display_name":"Tomas"},"score":0,"creation_date":1318667348,"post_id":7774769,"comment_id":9469798,"body_markdown":"how else would you solve the NP problem than by recursion?","body":"how else would you solve the NP problem than by recursion?"},{"owner":{"account_id":1016338,"reputation":3267,"user_id":1027842,"accept_rate":75,"display_name":"Benjamin"},"score":3,"creation_date":1372200586,"post_id":7774769,"comment_id":25102807,"body_markdown":"Dynamic Programming for example. No recursion needed. You may always try to change NP-complete program into pseudo-polynomial, knapsack is one of those problems.","body":"Dynamic Programming for example. No recursion needed. You may always try to change NP-complete program into pseudo-polynomial, knapsack is one of those problems."},{"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"score":2,"creation_date":1546534829,"post_id":7774769,"comment_id":94889624,"body_markdown":"I like to listen experienced-**wise** people before going deeper into a subject. To be skillful on DP, one needs to be skillful on _Recursion, Memoized approach and\nBottom-up(Tabulation) approach_. That&#39;s why the guy highly likely ponders its recursive way like me.","body":"I like to listen experienced-<b>wise</b> people before going deeper into a subject. To be skillful on DP, one needs to be skillful on <i>Recursion, Memoized approach and Bottom-up(Tabulation) approach</i>. That&#39;s why the guy highly likely ponders its recursive way like me."},{"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"score":0,"creation_date":1546535132,"post_id":7774769,"comment_id":94889801,"body_markdown":"So, @Benjamin&#39;s saying is genuinely minute right. No recursion is needed, yet recursion formula is inevitable sine qua non for DP.","body":"So, @Benjamin&#39;s saying is genuinely minute right. No recursion is needed, yet recursion formula is inevitable sine qua non for DP."}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318638737,"creation_date":1318638397,"answer_id":7774886,"question_id":7774769,"body_markdown":"Here&#39;s a simple recursive implementation (not very efficient, but easy to follow). It&#39;s in Python, OP is asking for a Java implementation, but porting it to Java shouldn&#39;t be too difficult, it&#39;s like looking at pseudo-code.\r\n\r\nThe main function declares three parameters: V is an array of values, W is an array of weights and C the capacity of the knapsack.\r\n\r\n\r\n\tdef knapsack(V, W, C):\r\n\t    return knapsack_aux(V, W, len(V)-1, C)\r\n\t\r\n\tdef knapsack_aux(V, W, i, aW):\r\n\t    if i == -1 or aW == 0:\r\n\t        return 0\r\n\t    elif W[i] &gt; aW:\r\n\t        return knapsack_aux(V, W, i-1, aW)\r\n\t    else:\r\n\t        return max(knapsack_aux(V, W, i-1, aW),\r\n\t                   V[i] + knapsack_aux(V, W, i-1, aW-W[i]))\r\n\r\nThe algorithm maximizes the value of the items added to the knapsack, returning the maximum value attainable with the given weights","title":"How do I solve the &#39;classic&#39; knapsack algorithm recursively?","body":"<p>Here's a simple recursive implementation (not very efficient, but easy to follow). It's in Python, OP is asking for a Java implementation, but porting it to Java shouldn't be too difficult, it's like looking at pseudo-code.</p>\n\n<p>The main function declares three parameters: V is an array of values, W is an array of weights and C the capacity of the knapsack.</p>\n\n<pre><code>def knapsack(V, W, C):\n    return knapsack_aux(V, W, len(V)-1, C)\n\ndef knapsack_aux(V, W, i, aW):\n    if i == -1 or aW == 0:\n        return 0\n    elif W[i] &gt; aW:\n        return knapsack_aux(V, W, i-1, aW)\n    else:\n        return max(knapsack_aux(V, W, i-1, aW),\n                   V[i] + knapsack_aux(V, W, i-1, aW-W[i]))\n</code></pre>\n\n<p>The algorithm maximizes the value of the items added to the knapsack, returning the maximum value attainable with the given weights</p>\n"},{"tags":[],"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1318643696,"creation_date":1318643178,"answer_id":7775224,"question_id":7774769,"body_markdown":"What did you try?  \r\n\r\nThe idea, given the problem you stated (which specifies we must use recursion) is simple: for each item that you can take, see if it&#39;s better to take it or not.  So there are only two possible path:\r\n\r\n1. you take the item\r\n2. you don&#39;t take it\r\n\r\nWhen you take the item, you remove it from your list and you decrease the capacity by the weight of the item.\r\n\r\nWhen you don&#39;t take the item, you remove if from you list but you do not decrease the capacity.\r\n\r\nSometimes it helps to print what the recursive calls may look like.  In this case, it could look like this:\r\n\r\n    Calling 11 8 7 6 5  with cap: 20\r\n     +Calling 8 7 6 5  with cap: 20\r\n     |  Calling 7 6 5  with cap: 20\r\n     |    Calling 6 5  with cap: 20\r\n     |      Calling 5  with cap: 20\r\n     |      Result: 5\r\n     |      Calling 5  with cap: 14\r\n     |      Result: 5\r\n     |    Result: 11\r\n     |    Calling 6 5  with cap: 13\r\n     |      Calling 5  with cap: 13\r\n     |      Result: 5\r\n     |      Calling 5  with cap: 7\r\n     |      Result: 5\r\n     |    Result: 11\r\n     |  Result: 18\r\n     |  Calling 7 6 5  with cap: 12\r\n     |    Calling 6 5  with cap: 12\r\n     |      Calling 5  with cap: 12\r\n     |      Result: 5\r\n     |      Calling 5  with cap: 6\r\n     |      Result: 5\r\n     |    Result: 11\r\n     |    Calling 6 5  with cap: 5\r\n     |      Calling 5  with cap: 5\r\n     |      Result: 5\r\n     |    Result: 5\r\n     |  Result: 12\r\n     +Result: 20\r\n      Calling 8 7 6 5  with cap: 9\r\n        Calling 7 6 5  with cap: 9\r\n          Calling 6 5  with cap: 9\r\n            Calling 5  with cap: 9\r\n            Result: 5\r\n            Calling 5  with cap: 3\r\n            Result: 0\r\n          Result: 6\r\n          Calling 6 5  with cap: 2\r\n            Calling 5  with cap: 2\r\n            Result: 0\r\n          Result: 0\r\n        Result: 7\r\n        Calling 7 6 5  with cap: 1\r\n          Calling 6 5  with cap: 1\r\n            Calling 5  with cap: 1\r\n            Result: 0\r\n          Result: 0\r\n        Result: 0\r\n      Result: 8\r\n    Result: 20\r\n\r\nI did on purpose show the call to [8 7 6 5] with a capacity of 20, which gives a result of 20 (8 + 7 + 5).\r\n\r\nNote that [8 7 6 5] is called twice: once with a capacity of 20 (because we didn&#39;t take 11) and once with a capacity of 9 (because with did take 11).\r\n\r\nSo the path to the solution:\r\n\r\n11 not taken, calling [8 7 6 5] with a capacity of 20\r\n\r\n8 taken, calling [7 6 5] with a capacity of 12 (20 - 8)\r\n\r\n7 taken, calling [6 5] with a capacity of 5  (12 - 7)\r\n\r\n6 not taken, calling [5] with a capacity of 5\r\n\r\n5 taken, we&#39;re at zero.\r\n\r\nThe actual method in Java can fit in very few lines of code.\r\n\r\nSince this is obviously homework, I&#39;ll just help you with a skeleton:\r\n\r\n    private int ukp( final int[] ar, final int cap ) {\r\n        if ( ar.length == 1 ) {\r\n            return ar[0] &lt;= cap ? ar[0] : 0;\r\n        } else {\r\n            final int[] nar = new int[ar.length-1];\r\n            System.arraycopy(ar, 1, nar, 0, nar.length);\r\n            fint int item = ar[0];\r\n            if ( item &lt; cap ) {\r\n                final int left = ...  // fill me: we&#39;re not taking the item\r\n                final int took = ...  // fill me: we&#39;re taking the item\r\n                return Math.max(took,left);\r\n            } else {\r\n                return ... // fill me: we&#39;re not taking the item\r\n            }\r\n        }\r\n    }\r\n\r\nI did copy the array to a new array, which is less efficient (but anyway recursion is not the way to go here if you seek performance), but more &quot;functional&quot;.\r\n\r\n","title":"How do I solve the &#39;classic&#39; knapsack algorithm recursively?","body":"<p>What did you try?  </p>\n\n<p>The idea, given the problem you stated (which specifies we must use recursion) is simple: for each item that you can take, see if it's better to take it or not.  So there are only two possible path:</p>\n\n<ol>\n<li>you take the item</li>\n<li>you don't take it</li>\n</ol>\n\n<p>When you take the item, you remove it from your list and you decrease the capacity by the weight of the item.</p>\n\n<p>When you don't take the item, you remove if from you list but you do not decrease the capacity.</p>\n\n<p>Sometimes it helps to print what the recursive calls may look like.  In this case, it could look like this:</p>\n\n<pre><code>Calling 11 8 7 6 5  with cap: 20\n +Calling 8 7 6 5  with cap: 20\n |  Calling 7 6 5  with cap: 20\n |    Calling 6 5  with cap: 20\n |      Calling 5  with cap: 20\n |      Result: 5\n |      Calling 5  with cap: 14\n |      Result: 5\n |    Result: 11\n |    Calling 6 5  with cap: 13\n |      Calling 5  with cap: 13\n |      Result: 5\n |      Calling 5  with cap: 7\n |      Result: 5\n |    Result: 11\n |  Result: 18\n |  Calling 7 6 5  with cap: 12\n |    Calling 6 5  with cap: 12\n |      Calling 5  with cap: 12\n |      Result: 5\n |      Calling 5  with cap: 6\n |      Result: 5\n |    Result: 11\n |    Calling 6 5  with cap: 5\n |      Calling 5  with cap: 5\n |      Result: 5\n |    Result: 5\n |  Result: 12\n +Result: 20\n  Calling 8 7 6 5  with cap: 9\n    Calling 7 6 5  with cap: 9\n      Calling 6 5  with cap: 9\n        Calling 5  with cap: 9\n        Result: 5\n        Calling 5  with cap: 3\n        Result: 0\n      Result: 6\n      Calling 6 5  with cap: 2\n        Calling 5  with cap: 2\n        Result: 0\n      Result: 0\n    Result: 7\n    Calling 7 6 5  with cap: 1\n      Calling 6 5  with cap: 1\n        Calling 5  with cap: 1\n        Result: 0\n      Result: 0\n    Result: 0\n  Result: 8\nResult: 20\n</code></pre>\n\n<p>I did on purpose show the call to [8 7 6 5] with a capacity of 20, which gives a result of 20 (8 + 7 + 5).</p>\n\n<p>Note that [8 7 6 5] is called twice: once with a capacity of 20 (because we didn't take 11) and once with a capacity of 9 (because with did take 11).</p>\n\n<p>So the path to the solution:</p>\n\n<p>11 not taken, calling [8 7 6 5] with a capacity of 20</p>\n\n<p>8 taken, calling [7 6 5] with a capacity of 12 (20 - 8)</p>\n\n<p>7 taken, calling [6 5] with a capacity of 5  (12 - 7)</p>\n\n<p>6 not taken, calling [5] with a capacity of 5</p>\n\n<p>5 taken, we're at zero.</p>\n\n<p>The actual method in Java can fit in very few lines of code.</p>\n\n<p>Since this is obviously homework, I'll just help you with a skeleton:</p>\n\n<pre><code>private int ukp( final int[] ar, final int cap ) {\n    if ( ar.length == 1 ) {\n        return ar[0] &lt;= cap ? ar[0] : 0;\n    } else {\n        final int[] nar = new int[ar.length-1];\n        System.arraycopy(ar, 1, nar, 0, nar.length);\n        fint int item = ar[0];\n        if ( item &lt; cap ) {\n            final int left = ...  // fill me: we're not taking the item\n            final int took = ...  // fill me: we're taking the item\n            return Math.max(took,left);\n        } else {\n            return ... // fill me: we're not taking the item\n        }\n    }\n}\n</code></pre>\n\n<p>I did copy the array to a new array, which is less efficient (but anyway recursion is not the way to go here if you seek performance), but more \"functional\".</p>\n"},{"tags":[],"owner":{"account_id":131702,"reputation":504,"user_id":331888,"display_name":"Cem"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1330125136,"creation_date":1330125136,"answer_id":9439380,"question_id":7774769,"body_markdown":"Here is a Java solution\r\n\r\n    static int knapsack(int[] values, int[] weights, int W, int[] tab, int i) {\r\n\t\tif(i&gt;=values.length) return 0;\r\n\t\tif(tab[W] != 0) \r\n\t\t\treturn tab[W];\t\t\r\n\t\t\r\n\t\tint value1 = knapsack(values, weights, W, tab, i+1);\t\t\r\n\t\tint value2 = 0;\r\n\t\tif(W &gt;= weights[i]) value2 = knapsack(values, weights, W-weights[i], tab, i+1) + values[i];\r\n\t\t\r\n\t\treturn tab[W] = (value1&gt;value2) ? value1 : value2;\r\n\t}\r\n\r\nTest it by using\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] values = new int[] {894, 260, 392, 281, 27};\r\n\t\tint[] weights = new int[] {8, 6, 4, 0, 21};\r\n\t\tint W = 30;\r\n\t\tint[] tab = new int[W+1];\r\n\t\tSystem.out.println(knapsack(values, weights, W, tab, 0));\r\n    }\r\n","title":"How do I solve the &#39;classic&#39; knapsack algorithm recursively?","body":"<p>Here is a Java solution</p>\n\n<pre><code>static int knapsack(int[] values, int[] weights, int W, int[] tab, int i) {\n    if(i&gt;=values.length) return 0;\n    if(tab[W] != 0) \n        return tab[W];      \n\n    int value1 = knapsack(values, weights, W, tab, i+1);        \n    int value2 = 0;\n    if(W &gt;= weights[i]) value2 = knapsack(values, weights, W-weights[i], tab, i+1) + values[i];\n\n    return tab[W] = (value1&gt;value2) ? value1 : value2;\n}\n</code></pre>\n\n<p>Test it by using</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] values = new int[] {894, 260, 392, 281, 27};\n    int[] weights = new int[] {8, 6, 4, 0, 21};\n    int W = 30;\n    int[] tab = new int[W+1];\n    System.out.println(knapsack(values, weights, W, tab, 0));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1541691,"reputation":88,"user_id":1436188,"display_name":"ali"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1339478984,"creation_date":1339478984,"answer_id":10990970,"question_id":7774769,"body_markdown":"Here is a simple recursive solution in Java but you should avoid using recursion if possible. \r\n\r\n\tpublic class Knapsack {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint[] arr = new int[]{11, 8, 7, 6, 5};\r\n\t\t\tfind(arr,20);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static boolean find( int[] arr,int total){\r\n\t\t\treturn find(arr,0,total);\r\n\t\t}\r\n\t\t\r\n\t\tprivate static boolean find( int[] arr,int start,  int total){\r\n\t\t\tif (start == arr.length){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tint curr = arr[start];\r\n\t\t\tif (curr == total){\r\n\t\t\t\tSystem.out.println(curr);\r\n\t\t\t\treturn true;\r\n\t\t\t}else if (curr &gt; total || !find(arr,start+1,total-curr)){\r\n\t\t\t\treturn find(arr,start+1,total);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(curr);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}","title":"How do I solve the &#39;classic&#39; knapsack algorithm recursively?","body":"<p>Here is a simple recursive solution in Java but you should avoid using recursion if possible. </p>\n\n<pre><code>public class Knapsack {\n\n    public static void main(String[] args) {\n        int[] arr = new int[]{11, 8, 7, 6, 5};\n        find(arr,20);\n    }\n\n    public static boolean find( int[] arr,int total){\n        return find(arr,0,total);\n    }\n\n    private static boolean find( int[] arr,int start,  int total){\n        if (start == arr.length){\n            return false;\n        }\n        int curr = arr[start];\n        if (curr == total){\n            System.out.println(curr);\n            return true;\n        }else if (curr &gt; total || !find(arr,start+1,total-curr)){\n            return find(arr,start+1,total);\n        }\n        System.out.println(curr);\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":89992,"reputation":641,"user_id":247927,"accept_rate":83,"display_name":"Boris Rusev"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1357505552,"creation_date":1357505552,"answer_id":14186622,"question_id":7774769,"body_markdown":"I had to do this for my homework so I tested all of the above codes (except for the Python one), but none of them work for every corner case.\r\n\r\nThis is my code, it works for every corner case.\r\n\r\n    static int[] values = new int[] {894, 260, 392, 281, 27};\r\n    static int[] weights = new int[] {8, 6, 4, 0, 21};\r\n    static int W = 30;\r\n\r\n\tprivate static int knapsack(int i, int W) {\r\n\t\tif (i &lt; 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (weights[i] &gt; W) {\r\n\t\t\treturn knapsack(i-1, W);\r\n\t\t} else {\r\n\t\t\treturn Math.max(knapsack(i-1, W), knapsack(i-1, W - weights[i]) + values[i]);\r\n\t\t}\r\n\t}\r\n\r\n    public static void main(String[] args) {\r\n    System.out.println(knapsack(values.length - 1, W));}\r\n\r\nIt is not optimized, the recursion will kill you, but you can use simple memoization to fix that. Why is my code short, correct and simple to understand? I just checked out the mathematical definition of the 0-1 Knapsack problem http://en.wikipedia.org/wiki/Knapsack_problem#Dynamic_programming","title":"How do I solve the &#39;classic&#39; knapsack algorithm recursively?","body":"<p>I had to do this for my homework so I tested all of the above codes (except for the Python one), but none of them work for every corner case.</p>\n\n<p>This is my code, it works for every corner case.</p>\n\n<pre><code>static int[] values = new int[] {894, 260, 392, 281, 27};\nstatic int[] weights = new int[] {8, 6, 4, 0, 21};\nstatic int W = 30;\n\nprivate static int knapsack(int i, int W) {\n    if (i &lt; 0) {\n        return 0;\n    }\n    if (weights[i] &gt; W) {\n        return knapsack(i-1, W);\n    } else {\n        return Math.max(knapsack(i-1, W), knapsack(i-1, W - weights[i]) + values[i]);\n    }\n}\n\npublic static void main(String[] args) {\nSystem.out.println(knapsack(values.length - 1, W));}\n</code></pre>\n\n<p>It is not optimized, the recursion will kill you, but you can use simple memoization to fix that. Why is my code short, correct and simple to understand? I just checked out the mathematical definition of the 0-1 Knapsack problem <a href=\"http://en.wikipedia.org/wiki/Knapsack_problem#Dynamic_programming\">http://en.wikipedia.org/wiki/Knapsack_problem#Dynamic_programming</a></p>\n"},{"tags":[],"owner":{"account_id":3128830,"reputation":21,"user_id":2647157,"display_name":"sivarajak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375472228,"creation_date":1375472228,"answer_id":18024900,"question_id":7774769,"body_markdown":"\r\n\r\n    public class Knapsack {\r\n    \tpublic int[] arr = {11,8,7,6,5};\r\n    \tpublic int[] retArr = new int[5];\r\n    \tint i = 0;\r\n    \tpublic boolean problem(int sum, int pick) {\r\n    \t\tif(pick == arr.length) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tif(arr[pick] &lt; sum) {\t\r\n    \t\t\tboolean r = problem(sum - arr[pick], pick+1);\t\t\t\r\n    \t\t\tif(!r) {\r\n    \t\t\t\treturn problem(sum, pick+1);\r\n    \t\t\t} else {\r\n    \t\t\t\tretArr[i++] = arr[pick];\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\t\t\t\t\t\r\n    \t\t} else if (arr[pick] &gt; sum) {\r\n    \t\t\treturn problem(sum, pick+1);\r\n    \t\t} else {\r\n    \t\t\tretArr[i++] = arr[pick];\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tKnapsack rk = new Knapsack`enter code here`();\r\n    \t\tif(rk.problem(20, 0)) {\r\n    \t\t\tSystem.out.println(&quot;Success &quot; );\r\n    \t\t\tfor(int i=0; i &lt; rk.retArr.length; i++)\r\n    \t\t\t\tSystem.out.println(rk.retArr[i]);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How do I solve the &#39;classic&#39; knapsack algorithm recursively?","body":"<pre><code>public class Knapsack {\n    public int[] arr = {11,8,7,6,5};\n    public int[] retArr = new int[5];\n    int i = 0;\n    public boolean problem(int sum, int pick) {\n        if(pick == arr.length) {\n            return false;\n        }\n        if(arr[pick] &lt; sum) {   \n            boolean r = problem(sum - arr[pick], pick+1);           \n            if(!r) {\n                return problem(sum, pick+1);\n            } else {\n                retArr[i++] = arr[pick];\n                return true;\n            }                   \n        } else if (arr[pick] &gt; sum) {\n            return problem(sum, pick+1);\n        } else {\n            retArr[i++] = arr[pick];\n            return true;\n        }\n    }\n\n    public static void main(String[] args) {\n        Knapsack rk = new Knapsack`enter code here`();\n        if(rk.problem(20, 0)) {\n            System.out.println(\"Success \" );\n            for(int i=0; i &lt; rk.retArr.length; i++)\n                System.out.println(rk.retArr[i]);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2645936,"reputation":2489,"user_id":2288628,"accept_rate":75,"display_name":"PoweredByRice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398652044,"creation_date":1398652044,"answer_id":23331586,"question_id":7774769,"body_markdown":"Yet another dynamic programming implementation in Java. \r\nI always feel top-down DP using memoization is much easier to understand than bottom up DP.\r\n\r\nComplete, self-explanatory, runnable code, using data from [this example from Wikipedia][1]:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class Knapsack {\r\n    \r\n    \tprivate static final List&lt;Item&gt; ITEMS = new ArrayList&lt;&gt;();\r\n    \tprivate static final Map&lt;Integer, Bag&gt; CACHE = new HashMap&lt;&gt;();\r\n    \tprivate static final boolean FINITE_ITEMS = true; //whether an item can be added more than once\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tITEMS.add(new Item(4, 12, &quot;GREEN&quot;));\r\n    \t\tITEMS.add(new Item(2, 2, &quot;CYAN&quot;));\r\n    \t\tITEMS.add(new Item(2, 1, &quot;GREY&quot;));\r\n    \t\tITEMS.add(new Item(1, 1, &quot;ORANGE&quot;));\r\n    \t\tITEMS.add(new Item(10, 4, &quot;YELLOW&quot;));\r\n    \t\tBag best = bestBagForCapa(15);\r\n    \t\tSystem.out.println(best.toString());\r\n    \t}\r\n    \r\n    \tpublic static Bag bestBagForCapa(int capa) {\r\n    \t\tif (CACHE.containsKey(capa)) return CACHE.get(capa);\r\n    \t\tif (capa &lt; 0) return null;\r\n    \t\tif (capa == 0) return new Bag(0, 0);\r\n    \r\n    \t\tint currentWeight = -1;\r\n    \t\tint currentValue = -1;\r\n    \t\tString newItem = null;\r\n    \t\tList&lt;String&gt; previousItems = null;\r\n    \t\tfor (Item p : ITEMS) {\r\n    \t\t\tBag previous = bestBagForCapa(capa - p.weight);\r\n    \t\t\tif (previous == null) continue;\r\n    \r\n    \t\t\tint weightSoFar = previous.weight;\r\n    \t\t\tint valueSoFar = previous.value;\r\n    \t\t\tint nextBestValue = 0;\r\n    \t\t\tItem candidateItem = null;\r\n    \t\t\tfor (Item candidate : ITEMS) {\r\n    \t\t\t\tif (FINITE_ITEMS &amp;&amp; previous.alreadyHas(candidate)) continue;\r\n    \t\t\t\tif (weightSoFar + candidate.weight &lt;= capa &amp;&amp; nextBestValue &lt; valueSoFar + candidate.value) {\r\n    \t\t\t\t\tcandidateItem = candidate;\r\n    \t\t\t\t\tnextBestValue = valueSoFar + candidate.value;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (candidateItem != null &amp;&amp; nextBestValue &gt; currentValue) {\r\n    \t\t\t\tcurrentValue = nextBestValue;\r\n    \t\t\t\tcurrentWeight = weightSoFar + candidateItem.weight;\r\n    \t\t\t\tnewItem = candidateItem.name;\r\n    \t\t\t\tpreviousItems = previous.contents;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (currentWeight &lt;= 0 || currentValue &lt;= 0) throw new RuntimeException(&quot;cannot be 0 here&quot;);\r\n    \t\tBag bestBag = new Bag(currentWeight, currentValue);\r\n    \t\tbestBag.add(previousItems);\r\n    \t\tbestBag.add(Collections.singletonList(newItem));\r\n    \t\tCACHE.put(capa, bestBag);\r\n    \t\treturn bestBag;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Item {\r\n    \r\n    \tint value;\r\n    \tint weight;\r\n    \tString name;\r\n    \r\n    \tItem(int value, int weight, String name) {\r\n    \t\tthis.value = value;\r\n    \t\tthis.weight = weight;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Bag {\r\n    \r\n    \tList&lt;String&gt; contents = new ArrayList&lt;&gt;();\r\n    \tint weight;\r\n    \tint value;\r\n    \r\n    \tboolean alreadyHas(Item item) {\r\n    \t\treturn contents.contains(item.name);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;weight &quot; + weight + &quot; , value &quot; + value + &quot;\\n&quot; + contents.toString(); \r\n    \t}\r\n    \r\n    \tvoid add(List&lt;String&gt; name) {\r\n    \t\tcontents.addAll(name);\r\n    \t}\r\n    \r\n    \tBag(int weight, int value) {\r\n    \t\tthis.weight = weight;\r\n    \t\tthis.value = value;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/File:Knapsack.svg","title":"How do I solve the &#39;classic&#39; knapsack algorithm recursively?","body":"<p>Yet another dynamic programming implementation in Java. \nI always feel top-down DP using memoization is much easier to understand than bottom up DP.</p>\n\n<p>Complete, self-explanatory, runnable code, using data from <a href=\"http://en.wikipedia.org/wiki/File%3aKnapsack.svg\" rel=\"nofollow\">this example from Wikipedia</a>:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class Knapsack {\n\n    private static final List&lt;Item&gt; ITEMS = new ArrayList&lt;&gt;();\n    private static final Map&lt;Integer, Bag&gt; CACHE = new HashMap&lt;&gt;();\n    private static final boolean FINITE_ITEMS = true; //whether an item can be added more than once\n\n    public static void main(String[] args) {\n        ITEMS.add(new Item(4, 12, \"GREEN\"));\n        ITEMS.add(new Item(2, 2, \"CYAN\"));\n        ITEMS.add(new Item(2, 1, \"GREY\"));\n        ITEMS.add(new Item(1, 1, \"ORANGE\"));\n        ITEMS.add(new Item(10, 4, \"YELLOW\"));\n        Bag best = bestBagForCapa(15);\n        System.out.println(best.toString());\n    }\n\n    public static Bag bestBagForCapa(int capa) {\n        if (CACHE.containsKey(capa)) return CACHE.get(capa);\n        if (capa &lt; 0) return null;\n        if (capa == 0) return new Bag(0, 0);\n\n        int currentWeight = -1;\n        int currentValue = -1;\n        String newItem = null;\n        List&lt;String&gt; previousItems = null;\n        for (Item p : ITEMS) {\n            Bag previous = bestBagForCapa(capa - p.weight);\n            if (previous == null) continue;\n\n            int weightSoFar = previous.weight;\n            int valueSoFar = previous.value;\n            int nextBestValue = 0;\n            Item candidateItem = null;\n            for (Item candidate : ITEMS) {\n                if (FINITE_ITEMS &amp;&amp; previous.alreadyHas(candidate)) continue;\n                if (weightSoFar + candidate.weight &lt;= capa &amp;&amp; nextBestValue &lt; valueSoFar + candidate.value) {\n                    candidateItem = candidate;\n                    nextBestValue = valueSoFar + candidate.value;\n                }\n            }\n\n            if (candidateItem != null &amp;&amp; nextBestValue &gt; currentValue) {\n                currentValue = nextBestValue;\n                currentWeight = weightSoFar + candidateItem.weight;\n                newItem = candidateItem.name;\n                previousItems = previous.contents;\n            }\n        }\n\n        if (currentWeight &lt;= 0 || currentValue &lt;= 0) throw new RuntimeException(\"cannot be 0 here\");\n        Bag bestBag = new Bag(currentWeight, currentValue);\n        bestBag.add(previousItems);\n        bestBag.add(Collections.singletonList(newItem));\n        CACHE.put(capa, bestBag);\n        return bestBag;\n    }\n\n}\n\nclass Item {\n\n    int value;\n    int weight;\n    String name;\n\n    Item(int value, int weight, String name) {\n        this.value = value;\n        this.weight = weight;\n        this.name = name;\n    }\n\n}\n\nclass Bag {\n\n    List&lt;String&gt; contents = new ArrayList&lt;&gt;();\n    int weight;\n    int value;\n\n    boolean alreadyHas(Item item) {\n        return contents.contains(item.name);\n    }\n\n    @Override\n    public String toString() {\n        return \"weight \" + weight + \" , value \" + value + \"\\n\" + contents.toString(); \n    }\n\n    void add(List&lt;String&gt; name) {\n        contents.addAll(name);\n    }\n\n    Bag(int weight, int value) {\n        this.weight = weight;\n        this.value = value;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":976746,"reputation":3401,"user_id":997661,"accept_rate":40,"display_name":"NNP"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1406169949,"creation_date":1405994216,"answer_id":24877732,"question_id":7774769,"body_markdown":"The problem is basically modified version of classic knapsack problem for simplicity (there **are no values/benefits** corresponding to weights) (for actual: http://en.wikipedia.org/wiki/Knapsack_problem, https://stackoverflow.com/questions/17073768/0-1-knapsack-a-few-clarification-on-wikis-pseudocode/24906286#24906286, https://stackoverflow.com/questions/3907545/how-to-understand-the-knapsack-problem-is-np-complete, https://stackoverflow.com/questions/4538581/why-is-the-knapsack-problem-pseudo-polynomial?lq=1, http://www.geeksforgeeks.org/dynamic-programming-set-10-0-1-knapsack-problem/).\r\n\r\nHere are five versions of solving this in c#:\r\n\r\n**version1**: Using dynamic programming (tabulated - by eagerly finding solutions for all sum problems to get to final one) - O(n * W)\r\n\r\n**version 2**: Using DP but memoization version (lazy - just finding solutions for whatever is needed)\r\n\r\n**version 3** Using recursion to demonstrate overlapped sub problems and optimal sub structure\r\n\r\n**version 4** Recursive (brute force) - basically accepted answer \r\n\r\n**version 5** Using stack of #4 (demonstrating removing tail recursion)\r\n\r\n**version1**: Using dynamic programming (tabulated - by eagerly finding solutions for all sum problems to get to final one) - O(n * W)\r\n\r\n \r\n\r\n    public bool KnapsackSimplified_DP_Tabulated_Eager(int[] weights, int W)\r\n            {\r\n                this.Validate(weights, W);\r\n                bool[][] DP_Memoization_Cache = new bool[weights.Length + 1][];\r\n                for (int i = 0; i &lt;= weights.Length; i++)\r\n                {\r\n                    DP_Memoization_Cache[i] = new bool[W + 1];\r\n                }\r\n                for (int i = 1; i &lt;= weights.Length; i++)\r\n                {\r\n                    for (int w = 0; w &lt;= W; w++)\r\n                    {\r\n                        /// f(i, w) determines if weight &#39;w&#39; can be accumulated using given &#39;i&#39; number of weights\r\n                        /// f(i, w) = False if i &lt;= 0\r\n                        ///           OR True if weights[i-1] == w\r\n                        ///           OR f(i-1, w) if weights[i-1] &gt; w\r\n                        ///           OR f(i-1, w) || f(i-1, w-weights[i-1])\r\n                        if(weights[i-1] == w)\r\n                        {\r\n                            DP_Memoization_Cache[i][w] = true;\r\n                        }\r\n                        else\r\n                        {\r\n                            DP_Memoization_Cache[i][w] = DP_Memoization_Cache[i - 1][w];\r\n                            if(!DP_Memoization_Cache[i][w])\r\n                            {\r\n                                if (w &gt; weights[i - 1])\r\n                                {\r\n                                    DP_Memoization_Cache[i][w] = DP_Memoization_Cache[i - 1][w - weights[i - 1]];\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return DP_Memoization_Cache[weights.Length][W];\r\n            }\r\n\r\n**version 2**: Using DP but memorization version (lazy - just finding solutions for whatever is needed)\r\n\r\n    /// &lt;summary&gt;\r\n            /// f(i, w) determines if weight &#39;w&#39; can be accumulated using given &#39;i&#39; number of weights\r\n            /// f(i, w) = False if i &lt; 0\r\n            ///           OR True if weights[i] == w\r\n            ///           OR f(i-1, w) if weights[i] &gt; w\r\n            ///           OR f(i-1, w) || f(i-1, w-weights[i])\r\n            /// &lt;/summary&gt;\r\n            /// &lt;param name=&quot;rowIndexOfCache&quot;&gt;\r\n            /// Note, its index of row in the cache\r\n            /// index of given weifhts is indexOfCahce -1 (as it starts from 0)\r\n            /// &lt;/param&gt;\r\n            bool KnapsackSimplified_DP_Memoization_Lazy(int[] weights, int w, int i_rowIndexOfCache, bool?[][] DP_Memoization_Cache)\r\n            {\r\n                if(i_rowIndexOfCache &lt; 0)\r\n                {\r\n                    return false;\r\n                }\r\n                if(DP_Memoization_Cache[i_rowIndexOfCache][w].HasValue)\r\n                {\r\n                    return DP_Memoization_Cache[i_rowIndexOfCache][w].Value;\r\n                }\r\n                int i_weights_index = i_rowIndexOfCache - 1;\r\n                if (weights[i_weights_index] == w)\r\n                {\r\n                    //we can just use current weight, so no need to call other recursive methods\r\n                    //just return true\r\n                    DP_Memoization_Cache[i_rowIndexOfCache][w] = true;\r\n                    return true;\r\n                }\r\n                //see if W, can be achieved without using weights[i]\r\n                bool flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights,\r\n                    w, i_rowIndexOfCache - 1);\r\n                DP_Memoization_Cache[i_rowIndexOfCache][w] = flag;\r\n                if (flag)\r\n                {\r\n                    return true;\r\n                }\r\n                if (w &gt; weights[i_weights_index])\r\n                {\r\n                    //see if W-weight[i] can be achieved with rest of the weights\r\n                    flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights,\r\n                        w - weights[i_weights_index], i_rowIndexOfCache - 1);\r\n                    DP_Memoization_Cache[i_rowIndexOfCache][w] = flag;\r\n                }\r\n                return flag;\r\n            }\r\n\r\n**where**\r\n\r\n    public bool KnapsackSimplified_DP_Memoization_Lazy(int[] weights, int W)\r\n            {\r\n                this.Validate(weights, W);\r\n                //note &#39;row&#39; index represents the number of weights been used\r\n                //note &#39;colum&#39; index represents the weight that can be achived using given \r\n                //number of weights &#39;row&#39;\r\n                bool?[][] DP_Memoization_Cache = new bool?[weights.Length+1][];\r\n                for(int i = 0; i&lt;=weights.Length; i++)\r\n                {\r\n                    DP_Memoization_Cache[i] = new bool?[W + 1];\r\n                    for(int w=0; w&lt;=W; w++)\r\n                    {\r\n                        if(i != 0)\r\n                        {\r\n                            DP_Memoization_Cache[i][w] = null;\r\n                        }\r\n                        else\r\n                        {\r\n                            //can&#39;t get to weight &#39;w&#39; using none of the given weights\r\n                            DP_Memoization_Cache[0][w] = false;\r\n                        }\r\n                    }\r\n                    DP_Memoization_Cache[i][0] = false;\r\n                }\r\n                bool f = this.KnapsackSimplified_DP_Memoization_Lazy(\r\n                    weights, w: W, i_rowIndexOfCache: weights.Length, DP_Memoization_Cache: DP_Memoization_Cache);\r\n                Assert.IsTrue(f == DP_Memoization_Cache[weights.Length][W]);\r\n                return f;\r\n            }\r\n\r\n**version 3** Identifying overlapped sub problems and optimal sub structure\r\n\r\n    /// &lt;summary&gt;\r\n            /// f(i, w) = False if i &lt; 0\r\n            ///           OR True if weights[i] == w\r\n            ///           OR f(i-1, w) if weights[i] &gt; w\r\n            ///           OR f(i-1, w) || f(i-1, w-weights[i])\r\n            /// &lt;/summary&gt;\r\n            public bool KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(int[] weights, int W, int i)\r\n            {\r\n                if(i&lt;0)\r\n                {\r\n                    //no more weights to traverse\r\n                    return false;\r\n                }\r\n                if(weights[i] == W)\r\n                {\r\n                    //we can just use current weight, so no need to call other recursive methods\r\n                    //just return true\r\n                    return true;\r\n                }\r\n                //see if W, can be achieved without using weights[i]\r\n                bool flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights,\r\n                    W, i - 1);\r\n                if(flag)\r\n                {\r\n                    return true;\r\n                }\r\n                if(W &gt; weights[i])\r\n                {\r\n                    //see if W-weight[i] can be achieved with rest of the weights\r\n                    return this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, W - weights[i], i - 1);\r\n                }\r\n                return false;\r\n            }\r\n\r\n**where** \r\n\r\n    public bool KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(int[] weights, int W)\r\n            {\r\n                this.Validate(weights, W);\r\n                bool f = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, W,\r\n                    i: weights.Length - 1);\r\n                return f;\r\n            }\r\n    \r\n**version 4** Brute force\r\n\r\n    private bool KnapsackSimplifiedProblemRecursive(int[] weights, int sum, int currentSum, int index, List&lt;int&gt; itemsInTheKnapsack)\r\n            {\r\n                if (currentSum == sum)\r\n                {\r\n                    return true;\r\n                }\r\n                if (currentSum &gt; sum)\r\n                {\r\n                    return false;\r\n                }\r\n                if (index &gt;= weights.Length)\r\n                {\r\n                    return false;\r\n                }\r\n                itemsInTheKnapsack.Add(weights[index]);\r\n                bool flag = KnapsackSimplifiedProblemRecursive(weights, sum, currentSum: currentSum + weights[index],\r\n                    index: index + 1, itemsInTheKnapsack: itemsInTheKnapsack);\r\n                if (!flag)\r\n                {\r\n                    itemsInTheKnapsack.Remove(weights[index]);\r\n                    flag = KnapsackSimplifiedProblemRecursive(weights, sum, currentSum, index + 1, itemsInTheKnapsack);\r\n                }\r\n                return flag;\r\n            }\r\n            public bool KnapsackRecursive(int[] weights, int sum, out List&lt;int&gt; knapsack)\r\n            {\r\n                if(sum &lt;= 0)\r\n                {\r\n                    throw new ArgumentException(&quot;sum should be +ve non zero integer&quot;);\r\n                }\r\n                knapsack = new List&lt;int&gt;();\r\n                bool fits = KnapsackSimplifiedProblemRecursive(weights, sum, currentSum: 0, index: 0, \r\n                    itemsInTheKnapsack: knapsack);\r\n                return fits;\r\n            }\r\n\r\n**version 5: Iterative version using stack (note - same complexity - using stack - removing tail recursion)**\r\n\r\n    public bool KnapsackIterativeUsingStack(int[] weights, int sum, out List&lt;int&gt; knapsack)\r\n            {\r\n                sum.Throw(&quot;sum&quot;, s =&gt; s &lt;= 0);\r\n                weights.ThrowIfNull(&quot;weights&quot;);\r\n                weights.Throw(&quot;weights&quot;, w =&gt; (w.Length == 0)\r\n                                      || w.Any(wi =&gt; wi &lt; 0));\r\n                var knapsackIndices = new List&lt;int&gt;();\r\n                knapsack = new List&lt;int&gt;();\r\n                Stack&lt;KnapsackStackNode&gt; stack = new Stack&lt;KnapsackStackNode&gt;();\r\n                stack.Push(new KnapsackStackNode() { sumOfWeightsInTheKnapsack = 0, nextItemIndex = 1 });\r\n                stack.Push(new KnapsackStackNode() { sumOfWeightsInTheKnapsack = weights[0], nextItemIndex = 1, includesItemAtCurrentIndex = true });\r\n                knapsackIndices.Add(0);\r\n    \r\n                while(stack.Count &gt; 0)\r\n                {\r\n                    var top = stack.Peek();\r\n                    if(top.sumOfWeightsInTheKnapsack == sum)\r\n                    {\r\n                        int count = 0;\r\n                        foreach(var index in knapsackIndices)\r\n                        {\r\n                            var w = weights[index];\r\n                            knapsack.Add(w);\r\n                            count += w;\r\n                        }\r\n                        Debug.Assert(count == sum);\r\n                        return true;\r\n                    }\r\n                    //basically either of the below three cases, we dont need to traverse/explore adjuscent\r\n                    // nodes further\r\n                    if((top.nextItemIndex == weights.Length) //we reached end, no need to traverse\r\n                        || (top.sumOfWeightsInTheKnapsack &gt; sum) // last added node should not be there\r\n                        || (top.alreadyExploredAdjuscentItems)) //already visted\r\n                    {\r\n                        if (top.includesItemAtCurrentIndex)\r\n                        {\r\n                            Debug.Assert(knapsackIndices.Contains(top.nextItemIndex - 1));\r\n                            knapsackIndices.Remove(top.nextItemIndex - 1);\r\n                        }\r\n                        stack.Pop();\r\n                        continue;\r\n                    }\r\n    \r\n                    var node1 = new KnapsackStackNode();\r\n                    node1.sumOfWeightsInTheKnapsack = top.sumOfWeightsInTheKnapsack;\r\n                    node1.nextItemIndex = top.nextItemIndex + 1;\r\n                    stack.Push(node1);\r\n                    \r\n                    var node2 = new KnapsackStackNode();\r\n                    knapsackIndices.Add(top.nextItemIndex);\r\n                    node2.sumOfWeightsInTheKnapsack = top.sumOfWeightsInTheKnapsack + weights[top.nextItemIndex];\r\n                    node2.nextItemIndex = top.nextItemIndex + 1;\r\n                    node2.includesItemAtCurrentIndex = true;\r\n                    stack.Push(node2);\r\n    \r\n                    top.alreadyExploredAdjuscentItems = true;\r\n                }\r\n                return false;\r\n            }\r\n\r\n\r\n**where** \r\n\r\n    class KnapsackStackNode\r\n            {\r\n                public int sumOfWeightsInTheKnapsack;\r\n                public int nextItemIndex;\r\n                public bool alreadyExploredAdjuscentItems;\r\n                public bool includesItemAtCurrentIndex;\r\n            }\r\n\r\n\r\n**And unit tests**\r\n\r\n \r\n\r\n   \r\n\r\n    [TestMethod]\r\n            public void KnapsackSimpliedProblemTests()\r\n            {\r\n                int[] weights = new int[] { 7, 5, 4, 4, 1 };\r\n                List&lt;int&gt; bag = null;\r\n                bool flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 10, knapsack: out bag);\r\n                Assert.IsTrue(flag);\r\n                Assert.IsTrue(bag.Contains(5));\r\n                Assert.IsTrue(bag.Contains(4));\r\n                Assert.IsTrue(bag.Contains(1));\r\n                Assert.IsTrue(bag.Count == 3);\r\n                flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 3, knapsack: out bag);\r\n                Assert.IsFalse(flag);\r\n                flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 7, knapsack: out bag);\r\n                Assert.IsTrue(flag);\r\n                Assert.IsTrue(bag.Contains(7));\r\n                Assert.IsTrue(bag.Count == 1);\r\n                flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 1, knapsack: out bag);\r\n                Assert.IsTrue(flag);\r\n                Assert.IsTrue(bag.Contains(1));\r\n                Assert.IsTrue(bag.Count == 1);\r\n    \r\n                flag = this.KnapsackSimplified_DP_Tabulated_Eager(weights, 10);\r\n                Assert.IsTrue(flag);\r\n                flag = this.KnapsackSimplified_DP_Tabulated_Eager(weights, 3);\r\n                Assert.IsFalse(flag);\r\n                flag = this.KnapsackSimplified_DP_Tabulated_Eager(weights, 7);\r\n                Assert.IsTrue(flag);\r\n                flag = this.KnapsackSimplified_DP_Tabulated_Eager(weights, 1);\r\n                Assert.IsTrue(flag);\r\n    \r\n                flag = this.KnapsackSimplified_DP_Memoization_Lazy(weights, 10);\r\n                Assert.IsTrue(flag);\r\n                flag = this.KnapsackSimplified_DP_Memoization_Lazy(weights, 3);\r\n                Assert.IsFalse(flag);\r\n                flag = this.KnapsackSimplified_DP_Memoization_Lazy(weights, 7);\r\n                Assert.IsTrue(flag);\r\n                flag = this.KnapsackSimplified_DP_Memoization_Lazy(weights, 1);\r\n                Assert.IsTrue(flag);\r\n    \r\n                flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, 10);\r\n                Assert.IsTrue(flag);\r\n                flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, 3);\r\n                Assert.IsFalse(flag);\r\n                flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, 7);\r\n                Assert.IsTrue(flag);\r\n                flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, 1);\r\n                Assert.IsTrue(flag);\r\n                \r\n    \r\n                flag = this.KnapsackRecursive(weights, 10, knapsack: out bag);\r\n                Assert.IsTrue(flag);\r\n                Assert.IsTrue(bag.Contains(5));\r\n                Assert.IsTrue(bag.Contains(4));\r\n                Assert.IsTrue(bag.Contains(1));\r\n                Assert.IsTrue(bag.Count == 3);\r\n                flag = this.KnapsackRecursive(weights, 3, knapsack: out bag);\r\n                Assert.IsFalse(flag);\r\n                flag = this.KnapsackRecursive(weights, 7, knapsack: out bag);\r\n                Assert.IsTrue(flag);\r\n                Assert.IsTrue(bag.Contains(7));\r\n                Assert.IsTrue(bag.Count == 1);\r\n                flag = this.KnapsackRecursive(weights, 1, knapsack: out bag);\r\n                Assert.IsTrue(flag);\r\n                Assert.IsTrue(bag.Contains(1));\r\n                Assert.IsTrue(bag.Count == 1);\r\n    \r\n                weights = new int[] { 11, 8, 7, 6, 5 };\r\n                flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 20, knapsack: out bag);\r\n                Assert.IsTrue(bag.Contains(8));\r\n                Assert.IsTrue(bag.Contains(7));\r\n                Assert.IsTrue(bag.Contains(5));\r\n                Assert.IsTrue(bag.Count == 3);\r\n                flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 27, knapsack: out bag);\r\n                Assert.IsFalse(flag);\r\n                flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 11, knapsack: out bag);\r\n                Assert.IsTrue(flag);\r\n                Assert.IsTrue(bag.Contains(11));\r\n                Assert.IsTrue(bag.Count == 1);\r\n                flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 5, knapsack: out bag);\r\n                Assert.IsTrue(flag);\r\n                Assert.IsTrue(bag.Contains(5));\r\n                Assert.IsTrue(bag.Count == 1);\r\n    \r\n                flag = this.KnapsackRecursive(weights, 20, knapsack: out bag);\r\n                Assert.IsTrue(bag.Contains(8));\r\n                Assert.IsTrue(bag.Contains(7));\r\n                Assert.IsTrue(bag.Contains(5));\r\n                Assert.IsTrue(bag.Count == 3);\r\n                flag = this.KnapsackRecursive(weights, 27, knapsack: out bag);\r\n                Assert.IsFalse(flag);\r\n                flag = this.KnapsackRecursive(weights, 11, knapsack: out bag);\r\n                Assert.IsTrue(flag);\r\n                Assert.IsTrue(bag.Contains(11));\r\n                Assert.IsTrue(bag.Count == 1);\r\n                flag = this.KnapsackRecursive(weights, 5, knapsack: out bag);\r\n                Assert.IsTrue(flag);\r\n                Assert.IsTrue(bag.Contains(5));\r\n                Assert.IsTrue(bag.Count == 1);\r\n            }","title":"How do I solve the &#39;classic&#39; knapsack algorithm recursively?","body":"<p>The problem is basically modified version of classic knapsack problem for simplicity (there <strong>are no values/benefits</strong> corresponding to weights) (for actual: <a href=\"http://en.wikipedia.org/wiki/Knapsack_problem\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Knapsack_problem</a>, <a href=\"https://stackoverflow.com/questions/17073768/0-1-knapsack-a-few-clarification-on-wikis-pseudocode/24906286#24906286\">0/1 Knapsack - A few clarification on Wiki&#39;s pseudocode</a>, <a href=\"https://stackoverflow.com/questions/3907545/how-to-understand-the-knapsack-problem-is-np-complete\">How to understand the knapsack problem is NP-complete?</a>, <a href=\"https://stackoverflow.com/questions/4538581/why-is-the-knapsack-problem-pseudo-polynomial?lq=1\">Why is the knapsack problem pseudo-polynomial?</a>, <a href=\"http://www.geeksforgeeks.org/dynamic-programming-set-10-0-1-knapsack-problem/\" rel=\"nofollow noreferrer\">http://www.geeksforgeeks.org/dynamic-programming-set-10-0-1-knapsack-problem/</a>).</p>\n\n<p>Here are five versions of solving this in c#:</p>\n\n<p><strong>version1</strong>: Using dynamic programming (tabulated - by eagerly finding solutions for all sum problems to get to final one) - O(n * W)</p>\n\n<p><strong>version 2</strong>: Using DP but memoization version (lazy - just finding solutions for whatever is needed)</p>\n\n<p><strong>version 3</strong> Using recursion to demonstrate overlapped sub problems and optimal sub structure</p>\n\n<p><strong>version 4</strong> Recursive (brute force) - basically accepted answer </p>\n\n<p><strong>version 5</strong> Using stack of #4 (demonstrating removing tail recursion)</p>\n\n<p><strong>version1</strong>: Using dynamic programming (tabulated - by eagerly finding solutions for all sum problems to get to final one) - O(n * W)</p>\n\n<pre><code>public bool KnapsackSimplified_DP_Tabulated_Eager(int[] weights, int W)\n        {\n            this.Validate(weights, W);\n            bool[][] DP_Memoization_Cache = new bool[weights.Length + 1][];\n            for (int i = 0; i &lt;= weights.Length; i++)\n            {\n                DP_Memoization_Cache[i] = new bool[W + 1];\n            }\n            for (int i = 1; i &lt;= weights.Length; i++)\n            {\n                for (int w = 0; w &lt;= W; w++)\n                {\n                    /// f(i, w) determines if weight 'w' can be accumulated using given 'i' number of weights\n                    /// f(i, w) = False if i &lt;= 0\n                    ///           OR True if weights[i-1] == w\n                    ///           OR f(i-1, w) if weights[i-1] &gt; w\n                    ///           OR f(i-1, w) || f(i-1, w-weights[i-1])\n                    if(weights[i-1] == w)\n                    {\n                        DP_Memoization_Cache[i][w] = true;\n                    }\n                    else\n                    {\n                        DP_Memoization_Cache[i][w] = DP_Memoization_Cache[i - 1][w];\n                        if(!DP_Memoization_Cache[i][w])\n                        {\n                            if (w &gt; weights[i - 1])\n                            {\n                                DP_Memoization_Cache[i][w] = DP_Memoization_Cache[i - 1][w - weights[i - 1]];\n                            }\n                        }\n                    }\n                }\n            }\n            return DP_Memoization_Cache[weights.Length][W];\n        }\n</code></pre>\n\n<p><strong>version 2</strong>: Using DP but memorization version (lazy - just finding solutions for whatever is needed)</p>\n\n<pre><code>/// &lt;summary&gt;\n        /// f(i, w) determines if weight 'w' can be accumulated using given 'i' number of weights\n        /// f(i, w) = False if i &lt; 0\n        ///           OR True if weights[i] == w\n        ///           OR f(i-1, w) if weights[i] &gt; w\n        ///           OR f(i-1, w) || f(i-1, w-weights[i])\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"rowIndexOfCache\"&gt;\n        /// Note, its index of row in the cache\n        /// index of given weifhts is indexOfCahce -1 (as it starts from 0)\n        /// &lt;/param&gt;\n        bool KnapsackSimplified_DP_Memoization_Lazy(int[] weights, int w, int i_rowIndexOfCache, bool?[][] DP_Memoization_Cache)\n        {\n            if(i_rowIndexOfCache &lt; 0)\n            {\n                return false;\n            }\n            if(DP_Memoization_Cache[i_rowIndexOfCache][w].HasValue)\n            {\n                return DP_Memoization_Cache[i_rowIndexOfCache][w].Value;\n            }\n            int i_weights_index = i_rowIndexOfCache - 1;\n            if (weights[i_weights_index] == w)\n            {\n                //we can just use current weight, so no need to call other recursive methods\n                //just return true\n                DP_Memoization_Cache[i_rowIndexOfCache][w] = true;\n                return true;\n            }\n            //see if W, can be achieved without using weights[i]\n            bool flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights,\n                w, i_rowIndexOfCache - 1);\n            DP_Memoization_Cache[i_rowIndexOfCache][w] = flag;\n            if (flag)\n            {\n                return true;\n            }\n            if (w &gt; weights[i_weights_index])\n            {\n                //see if W-weight[i] can be achieved with rest of the weights\n                flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights,\n                    w - weights[i_weights_index], i_rowIndexOfCache - 1);\n                DP_Memoization_Cache[i_rowIndexOfCache][w] = flag;\n            }\n            return flag;\n        }\n</code></pre>\n\n<p><strong>where</strong></p>\n\n<pre><code>public bool KnapsackSimplified_DP_Memoization_Lazy(int[] weights, int W)\n        {\n            this.Validate(weights, W);\n            //note 'row' index represents the number of weights been used\n            //note 'colum' index represents the weight that can be achived using given \n            //number of weights 'row'\n            bool?[][] DP_Memoization_Cache = new bool?[weights.Length+1][];\n            for(int i = 0; i&lt;=weights.Length; i++)\n            {\n                DP_Memoization_Cache[i] = new bool?[W + 1];\n                for(int w=0; w&lt;=W; w++)\n                {\n                    if(i != 0)\n                    {\n                        DP_Memoization_Cache[i][w] = null;\n                    }\n                    else\n                    {\n                        //can't get to weight 'w' using none of the given weights\n                        DP_Memoization_Cache[0][w] = false;\n                    }\n                }\n                DP_Memoization_Cache[i][0] = false;\n            }\n            bool f = this.KnapsackSimplified_DP_Memoization_Lazy(\n                weights, w: W, i_rowIndexOfCache: weights.Length, DP_Memoization_Cache: DP_Memoization_Cache);\n            Assert.IsTrue(f == DP_Memoization_Cache[weights.Length][W]);\n            return f;\n        }\n</code></pre>\n\n<p><strong>version 3</strong> Identifying overlapped sub problems and optimal sub structure</p>\n\n<pre><code>/// &lt;summary&gt;\n        /// f(i, w) = False if i &lt; 0\n        ///           OR True if weights[i] == w\n        ///           OR f(i-1, w) if weights[i] &gt; w\n        ///           OR f(i-1, w) || f(i-1, w-weights[i])\n        /// &lt;/summary&gt;\n        public bool KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(int[] weights, int W, int i)\n        {\n            if(i&lt;0)\n            {\n                //no more weights to traverse\n                return false;\n            }\n            if(weights[i] == W)\n            {\n                //we can just use current weight, so no need to call other recursive methods\n                //just return true\n                return true;\n            }\n            //see if W, can be achieved without using weights[i]\n            bool flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights,\n                W, i - 1);\n            if(flag)\n            {\n                return true;\n            }\n            if(W &gt; weights[i])\n            {\n                //see if W-weight[i] can be achieved with rest of the weights\n                return this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, W - weights[i], i - 1);\n            }\n            return false;\n        }\n</code></pre>\n\n<p><strong>where</strong> </p>\n\n<pre><code>public bool KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(int[] weights, int W)\n        {\n            this.Validate(weights, W);\n            bool f = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, W,\n                i: weights.Length - 1);\n            return f;\n        }\n</code></pre>\n\n<p><strong>version 4</strong> Brute force</p>\n\n<pre><code>private bool KnapsackSimplifiedProblemRecursive(int[] weights, int sum, int currentSum, int index, List&lt;int&gt; itemsInTheKnapsack)\n        {\n            if (currentSum == sum)\n            {\n                return true;\n            }\n            if (currentSum &gt; sum)\n            {\n                return false;\n            }\n            if (index &gt;= weights.Length)\n            {\n                return false;\n            }\n            itemsInTheKnapsack.Add(weights[index]);\n            bool flag = KnapsackSimplifiedProblemRecursive(weights, sum, currentSum: currentSum + weights[index],\n                index: index + 1, itemsInTheKnapsack: itemsInTheKnapsack);\n            if (!flag)\n            {\n                itemsInTheKnapsack.Remove(weights[index]);\n                flag = KnapsackSimplifiedProblemRecursive(weights, sum, currentSum, index + 1, itemsInTheKnapsack);\n            }\n            return flag;\n        }\n        public bool KnapsackRecursive(int[] weights, int sum, out List&lt;int&gt; knapsack)\n        {\n            if(sum &lt;= 0)\n            {\n                throw new ArgumentException(\"sum should be +ve non zero integer\");\n            }\n            knapsack = new List&lt;int&gt;();\n            bool fits = KnapsackSimplifiedProblemRecursive(weights, sum, currentSum: 0, index: 0, \n                itemsInTheKnapsack: knapsack);\n            return fits;\n        }\n</code></pre>\n\n<p><strong>version 5: Iterative version using stack (note - same complexity - using stack - removing tail recursion)</strong></p>\n\n<pre><code>public bool KnapsackIterativeUsingStack(int[] weights, int sum, out List&lt;int&gt; knapsack)\n        {\n            sum.Throw(\"sum\", s =&gt; s &lt;= 0);\n            weights.ThrowIfNull(\"weights\");\n            weights.Throw(\"weights\", w =&gt; (w.Length == 0)\n                                  || w.Any(wi =&gt; wi &lt; 0));\n            var knapsackIndices = new List&lt;int&gt;();\n            knapsack = new List&lt;int&gt;();\n            Stack&lt;KnapsackStackNode&gt; stack = new Stack&lt;KnapsackStackNode&gt;();\n            stack.Push(new KnapsackStackNode() { sumOfWeightsInTheKnapsack = 0, nextItemIndex = 1 });\n            stack.Push(new KnapsackStackNode() { sumOfWeightsInTheKnapsack = weights[0], nextItemIndex = 1, includesItemAtCurrentIndex = true });\n            knapsackIndices.Add(0);\n\n            while(stack.Count &gt; 0)\n            {\n                var top = stack.Peek();\n                if(top.sumOfWeightsInTheKnapsack == sum)\n                {\n                    int count = 0;\n                    foreach(var index in knapsackIndices)\n                    {\n                        var w = weights[index];\n                        knapsack.Add(w);\n                        count += w;\n                    }\n                    Debug.Assert(count == sum);\n                    return true;\n                }\n                //basically either of the below three cases, we dont need to traverse/explore adjuscent\n                // nodes further\n                if((top.nextItemIndex == weights.Length) //we reached end, no need to traverse\n                    || (top.sumOfWeightsInTheKnapsack &gt; sum) // last added node should not be there\n                    || (top.alreadyExploredAdjuscentItems)) //already visted\n                {\n                    if (top.includesItemAtCurrentIndex)\n                    {\n                        Debug.Assert(knapsackIndices.Contains(top.nextItemIndex - 1));\n                        knapsackIndices.Remove(top.nextItemIndex - 1);\n                    }\n                    stack.Pop();\n                    continue;\n                }\n\n                var node1 = new KnapsackStackNode();\n                node1.sumOfWeightsInTheKnapsack = top.sumOfWeightsInTheKnapsack;\n                node1.nextItemIndex = top.nextItemIndex + 1;\n                stack.Push(node1);\n\n                var node2 = new KnapsackStackNode();\n                knapsackIndices.Add(top.nextItemIndex);\n                node2.sumOfWeightsInTheKnapsack = top.sumOfWeightsInTheKnapsack + weights[top.nextItemIndex];\n                node2.nextItemIndex = top.nextItemIndex + 1;\n                node2.includesItemAtCurrentIndex = true;\n                stack.Push(node2);\n\n                top.alreadyExploredAdjuscentItems = true;\n            }\n            return false;\n        }\n</code></pre>\n\n<p><strong>where</strong> </p>\n\n<pre><code>class KnapsackStackNode\n        {\n            public int sumOfWeightsInTheKnapsack;\n            public int nextItemIndex;\n            public bool alreadyExploredAdjuscentItems;\n            public bool includesItemAtCurrentIndex;\n        }\n</code></pre>\n\n<p><strong>And unit tests</strong></p>\n\n<pre><code>[TestMethod]\n        public void KnapsackSimpliedProblemTests()\n        {\n            int[] weights = new int[] { 7, 5, 4, 4, 1 };\n            List&lt;int&gt; bag = null;\n            bool flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 10, knapsack: out bag);\n            Assert.IsTrue(flag);\n            Assert.IsTrue(bag.Contains(5));\n            Assert.IsTrue(bag.Contains(4));\n            Assert.IsTrue(bag.Contains(1));\n            Assert.IsTrue(bag.Count == 3);\n            flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 3, knapsack: out bag);\n            Assert.IsFalse(flag);\n            flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 7, knapsack: out bag);\n            Assert.IsTrue(flag);\n            Assert.IsTrue(bag.Contains(7));\n            Assert.IsTrue(bag.Count == 1);\n            flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 1, knapsack: out bag);\n            Assert.IsTrue(flag);\n            Assert.IsTrue(bag.Contains(1));\n            Assert.IsTrue(bag.Count == 1);\n\n            flag = this.KnapsackSimplified_DP_Tabulated_Eager(weights, 10);\n            Assert.IsTrue(flag);\n            flag = this.KnapsackSimplified_DP_Tabulated_Eager(weights, 3);\n            Assert.IsFalse(flag);\n            flag = this.KnapsackSimplified_DP_Tabulated_Eager(weights, 7);\n            Assert.IsTrue(flag);\n            flag = this.KnapsackSimplified_DP_Tabulated_Eager(weights, 1);\n            Assert.IsTrue(flag);\n\n            flag = this.KnapsackSimplified_DP_Memoization_Lazy(weights, 10);\n            Assert.IsTrue(flag);\n            flag = this.KnapsackSimplified_DP_Memoization_Lazy(weights, 3);\n            Assert.IsFalse(flag);\n            flag = this.KnapsackSimplified_DP_Memoization_Lazy(weights, 7);\n            Assert.IsTrue(flag);\n            flag = this.KnapsackSimplified_DP_Memoization_Lazy(weights, 1);\n            Assert.IsTrue(flag);\n\n            flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, 10);\n            Assert.IsTrue(flag);\n            flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, 3);\n            Assert.IsFalse(flag);\n            flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, 7);\n            Assert.IsTrue(flag);\n            flag = this.KnapsackSimplified_OverlappedSubPromblems_OptimalSubstructure(weights, 1);\n            Assert.IsTrue(flag);\n\n\n            flag = this.KnapsackRecursive(weights, 10, knapsack: out bag);\n            Assert.IsTrue(flag);\n            Assert.IsTrue(bag.Contains(5));\n            Assert.IsTrue(bag.Contains(4));\n            Assert.IsTrue(bag.Contains(1));\n            Assert.IsTrue(bag.Count == 3);\n            flag = this.KnapsackRecursive(weights, 3, knapsack: out bag);\n            Assert.IsFalse(flag);\n            flag = this.KnapsackRecursive(weights, 7, knapsack: out bag);\n            Assert.IsTrue(flag);\n            Assert.IsTrue(bag.Contains(7));\n            Assert.IsTrue(bag.Count == 1);\n            flag = this.KnapsackRecursive(weights, 1, knapsack: out bag);\n            Assert.IsTrue(flag);\n            Assert.IsTrue(bag.Contains(1));\n            Assert.IsTrue(bag.Count == 1);\n\n            weights = new int[] { 11, 8, 7, 6, 5 };\n            flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 20, knapsack: out bag);\n            Assert.IsTrue(bag.Contains(8));\n            Assert.IsTrue(bag.Contains(7));\n            Assert.IsTrue(bag.Contains(5));\n            Assert.IsTrue(bag.Count == 3);\n            flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 27, knapsack: out bag);\n            Assert.IsFalse(flag);\n            flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 11, knapsack: out bag);\n            Assert.IsTrue(flag);\n            Assert.IsTrue(bag.Contains(11));\n            Assert.IsTrue(bag.Count == 1);\n            flag = this.KnapsackSimplifiedProblemIterativeUsingStack(weights, 5, knapsack: out bag);\n            Assert.IsTrue(flag);\n            Assert.IsTrue(bag.Contains(5));\n            Assert.IsTrue(bag.Count == 1);\n\n            flag = this.KnapsackRecursive(weights, 20, knapsack: out bag);\n            Assert.IsTrue(bag.Contains(8));\n            Assert.IsTrue(bag.Contains(7));\n            Assert.IsTrue(bag.Contains(5));\n            Assert.IsTrue(bag.Count == 3);\n            flag = this.KnapsackRecursive(weights, 27, knapsack: out bag);\n            Assert.IsFalse(flag);\n            flag = this.KnapsackRecursive(weights, 11, knapsack: out bag);\n            Assert.IsTrue(flag);\n            Assert.IsTrue(bag.Contains(11));\n            Assert.IsTrue(bag.Count == 1);\n            flag = this.KnapsackRecursive(weights, 5, knapsack: out bag);\n            Assert.IsTrue(flag);\n            Assert.IsTrue(bag.Contains(5));\n            Assert.IsTrue(bag.Count == 1);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11997721,"reputation":79,"user_id":9555757,"display_name":"ZAFIR AHMAD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578894164,"creation_date":1578894164,"answer_id":59711107,"question_id":7774769,"body_markdown":"    def knpsack(weight , value , k , index=0 , currweight=0):\r\n        if(index&gt;=len(weight)):\r\n            return 0\r\n    take = 0\r\n    dontake = 0\r\n    if(currweight+weight[index] &lt;= k):\r\n        take = value[index]  + \r\n             knpsack(weight,value,k,index+1,currweight+weight[index])\r\n    dontake = knpsack(weight,value,k,index+1,currweight)\r\n    return max(take,dontake)\r\n\r\n","title":"How do I solve the &#39;classic&#39; knapsack algorithm recursively?","body":"<pre><code>def knpsack(weight , value , k , index=0 , currweight=0):\n    if(index&gt;=len(weight)):\n        return 0\ntake = 0\ndontake = 0\nif(currweight+weight[index] &lt;= k):\n    take = value[index]  + \n         knpsack(weight,value,k,index+1,currweight+weight[index])\ndontake = knpsack(weight,value,k,index+1,currweight)\nreturn max(take,dontake)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684785076,"creation_date":1684785076,"answer_id":76309462,"question_id":7774769,"body_markdown":"Here is another one\r\n\r\n        static int[] values = new int[] {1,3,5,6};\r\n    static int[] weights = new int[] {2,3,4,5};\r\n    static int W = 8;\r\n\r\n    private static int calculate(int i, int W, int cur) {\r\n        // this second check on wts is required so that if there is no space if we try this weight, dont proceed\r\n        if (i == values.length || W - weights[i] &lt;= 0) return cur;\r\n        return Math.max(calculate(i+1, W, cur), calculate(i+1, W - weights[i], cur + values[i]));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(calculate(0, W, 0));\r\n    }","title":"How do I solve the &#39;classic&#39; knapsack algorithm recursively?","body":"<p>Here is another one</p>\n<pre><code>    static int[] values = new int[] {1,3,5,6};\nstatic int[] weights = new int[] {2,3,4,5};\nstatic int W = 8;\n\nprivate static int calculate(int i, int W, int cur) {\n    // this second check on wts is required so that if there is no space if we try this weight, dont proceed\n    if (i == values.length || W - weights[i] &lt;= 0) return cur;\n    return Math.max(calculate(i+1, W, cur), calculate(i+1, W - weights[i], cur + values[i]));\n}\n\npublic static void main(String[] args) {\n    System.out.println(calculate(0, W, 0));\n}\n</code></pre>\n"}],"owner":{"account_id":95430,"reputation":4371,"user_id":259912,"accept_rate":66,"display_name":"lampShade"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68477,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":7775224,"answer_count":10,"score":18,"last_activity_date":1684785076,"creation_date":1318636888,"question_id":7774769,"body_markdown":"This is my task\r\n\r\n&gt; The Knapsack Problem is a classic in computer science. In its simplest\r\n&gt; form it involves trying to fit items of different weights into a\r\n&gt; knapsack so that the knapsack ends up with a specified total weight.\r\n&gt; You don&#39;t need to fit in all the items. For example, suppose you want\r\n&gt; your knapsack to weigh exactly 20 pounds, and you have five items,\r\n&gt; with weights of 11, 8, 7, 6, and 5 pounds. For small numbers of items,\r\n&gt; humans are pretty good at solving this problem by inspection. So you\r\n&gt; can probably figure out that only the 8, 7, and 5 combination of items\r\n&gt; adds up to 20.\r\n\r\nI really don&#39;t know where to begin writing this algorithm. I understand recursion when applied to factorials and triangle numbers. However I&#39;m lost right now.\r\n","title":"How do I solve the &#39;classic&#39; knapsack algorithm recursively?","body":"<p>This is my task</p>\n\n<blockquote>\n  <p>The Knapsack Problem is a classic in computer science. In its simplest\n  form it involves trying to fit items of different weights into a\n  knapsack so that the knapsack ends up with a specified total weight.\n  You don't need to fit in all the items. For example, suppose you want\n  your knapsack to weigh exactly 20 pounds, and you have five items,\n  with weights of 11, 8, 7, 6, and 5 pounds. For small numbers of items,\n  humans are pretty good at solving this problem by inspection. So you\n  can probably figure out that only the 8, 7, and 5 combination of items\n  adds up to 20.</p>\n</blockquote>\n\n<p>I really don't know where to begin writing this algorithm. I understand recursion when applied to factorials and triangle numbers. However I'm lost right now.</p>\n"},{"tags":["java","spring","spring-boot","web-applications","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":458224,"reputation":37507,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1453908195,"creation_date":1453908195,"answer_id":35041288,"question_id":35040912,"body_markdown":"Answering my own question to help others in the future.  I&#39;m a chump... The `/actuator` URL lists all available commands, and all of them work based on a `GET` request.\r\n\r\nThe `/shutdown` URL actually requires a `HTTP POST` to be sent to it in order to activate it though.  I didn&#39;t see this noted anywhere in the docs.\r\n\r\n**Sample CURL Command:**\r\n\r\n    &gt; curl -X POST http://hostname:8003/shutdown\r\n\r\n**Output Of Shutdown Command:**\r\n\r\n    &lt;SingletonMap&gt;&lt;message&gt;Shutting down, bye...&lt;/message&gt;&lt;/SingletonMap&gt;","title":"Spring Boot Actuator - &quot;/shutdown&quot; Fails With 500 Error","body":"<p>Answering my own question to help others in the future.  I'm a chump... The <code>/actuator</code> URL lists all available commands, and all of them work based on a <code>GET</code> request.</p>\n\n<p>The <code>/shutdown</code> URL actually requires a <code>HTTP POST</code> to be sent to it in order to activate it though.  I didn't see this noted anywhere in the docs.</p>\n\n<p><strong>Sample CURL Command:</strong></p>\n\n<pre><code>&gt; curl -X POST http://hostname:8003/shutdown\n</code></pre>\n\n<p><strong>Output Of Shutdown Command:</strong></p>\n\n<pre><code>&lt;SingletonMap&gt;&lt;message&gt;Shutting down, bye...&lt;/message&gt;&lt;/SingletonMap&gt;\n</code></pre>\n"}],"owner":{"account_id":458224,"reputation":37507,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3045,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35041288,"answer_count":1,"score":0,"last_activity_date":1684784999,"creation_date":1453907198,"question_id":35040912,"body_markdown":"**Background Information**\r\n\r\nI have a Spring Boot web application using Actuator for the production utilities.\r\n\r\nThe application works fine, and the management port works great.  I can browse statistics, check health etc.  I also enabled the remote shut-down endpoint, and it properly shows up in the localhost:{mgmt_port}/actuator list of endpoints.\r\n\r\n**My Problem**\r\n\r\nWhen I go to localhost:{mgmt_port}/shutdown though, I see:\r\n\r\n    &lt;Map&gt;\r\n        &lt;timestamp&gt;1453905900007&lt;/timestamp&gt;\r\n        &lt;status&gt;500&lt;/status&gt;\r\n        &lt;error&gt;Internal Server Error&lt;/error&gt;\r\n        &lt;exception&gt;org.springframework.web.HttpRequestMethodNotSupportedException&lt;/exception&gt;\r\n        &lt;message&gt;Request method &#39;GET&#39; not supported&lt;/message&gt;\r\n        &lt;path&gt;/shutdown&lt;/path&gt;\r\n    &lt;/Map&gt;\r\n\r\n\r\n**Useful Information**\r\n\r\n - The whole application still seems to be running after hitting the shut-down link.  I can still pull data from my custom application endpoints.\r\n\r\n - The management URL provided by Spring actuator also seems to still be running fine after hitting shut down. \r\n\r\n**Console Output Before Issue**\r\n\r\n&gt; 10:01:42.496 [main] INFO  o.s.b.c.e.t.TomcatEmbeddedServletContainer -\r\n&gt; Tomcat started on port(s): 8002 (http) 10:01:42.499 [main] INFO \r\n&gt; com.xyz.api.Main - Started Main in 5.956 seconds (JVM\r\n&gt; running for 6.381)\r\n\r\n**Console Output After Issue**\r\n&gt; 10:03:29.090 [http-nio-8003-exec-1] INFO \r\n&gt; o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring\r\n&gt; FrameworkServlet &#39;dispatcherServlet&#39; 10:03:29.090\r\n&gt; [http-nio-8003-exec-1] INFO  o.s.web.servlet.DispatcherServlet -\r\n&gt; FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n&gt; 10:03:29.126 [http-nio-8003-exec-1] INFO \r\n&gt; o.s.web.servlet.DispatcherServlet - FrameworkServlet\r\n&gt; &#39;dispatcherServlet&#39;: initialization completed in 36 ms 10:03:29.151\r\n&gt; [http-nio-8003-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] -\r\n&gt; Servlet.service() for servlet [dispatcherServlet] in context with path\r\n&gt; [] threw exception [Request method &#39;GET&#39; not supported] with root\r\n&gt; cause org.springframework.web.HttpRequestMethodNotSupportedException:\r\n&gt; Request method &#39;GET&#39; not supported\r\n&gt;         at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:204)\r\n&gt; ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\r\n&gt;         at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:382)\r\n&gt; ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\r\n&gt;         at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:322)\r\n&gt; ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\r\n&gt;         at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:60)\r\n&gt; ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\r\n&gt;         at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:351)\r\n&gt; ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\r\n&gt;         at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcChildContextConfiguration$CompositeHandlerMapping.getHandler(EndpointWebMvcChildContextConfiguration.java:212)\r\n&gt; ~[spring-boot-actuator-1.3.2.RELEASE.jar!/:1.3.2.RELEASE]\r\n&gt;         at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1120)\r\n&gt; ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\r\n&gt;         at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:932)\r\n&gt; ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\r\n&gt;         at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n&gt; ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\r\n&gt;         at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969)\r\n&gt; ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\r\n&gt;         at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:860)\r\n&gt; ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\r\n&gt;         at javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n&gt; ~[tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845)\r\n&gt; ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\r\n&gt;         at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n&gt; ~[tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\r\n&gt; ~[tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n&gt; ~[tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\n&gt; ~[tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n&gt; [tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n&gt; [tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\n&gt; [tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n&gt; [tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n&gt; [tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:521)\r\n&gt; [tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1096)\r\n&gt; [tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:674)\r\n&gt; [tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)\r\n&gt; [tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)\r\n&gt; [tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_51]\r\n&gt;         at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_51]\r\n&gt;         at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n&gt; [tomcat-embed-core-8.0.30.jar!/:8.0.30]\r\n&gt;         at java.lang.Thread.run(Unknown Source) [na:1.8.0_51]","title":"Spring Boot Actuator - &quot;/shutdown&quot; Fails With 500 Error","body":"<p><strong>Background Information</strong></p>\n\n<p>I have a Spring Boot web application using Actuator for the production utilities.</p>\n\n<p>The application works fine, and the management port works great.  I can browse statistics, check health etc.  I also enabled the remote shut-down endpoint, and it properly shows up in the localhost:{mgmt_port}/actuator list of endpoints.</p>\n\n<p><strong>My Problem</strong></p>\n\n<p>When I go to localhost:{mgmt_port}/shutdown though, I see:</p>\n\n<pre><code>&lt;Map&gt;\n    &lt;timestamp&gt;1453905900007&lt;/timestamp&gt;\n    &lt;status&gt;500&lt;/status&gt;\n    &lt;error&gt;Internal Server Error&lt;/error&gt;\n    &lt;exception&gt;org.springframework.web.HttpRequestMethodNotSupportedException&lt;/exception&gt;\n    &lt;message&gt;Request method 'GET' not supported&lt;/message&gt;\n    &lt;path&gt;/shutdown&lt;/path&gt;\n&lt;/Map&gt;\n</code></pre>\n\n<p><strong>Useful Information</strong></p>\n\n<ul>\n<li><p>The whole application still seems to be running after hitting the shut-down link.  I can still pull data from my custom application endpoints.</p></li>\n<li><p>The management URL provided by Spring actuator also seems to still be running fine after hitting shut down. </p></li>\n</ul>\n\n<p><strong>Console Output Before Issue</strong></p>\n\n<blockquote>\n  <p>10:01:42.496 [main] INFO  o.s.b.c.e.t.TomcatEmbeddedServletContainer -\n  Tomcat started on port(s): 8002 (http) 10:01:42.499 [main] INFO \n  com.xyz.api.Main - Started Main in 5.956 seconds (JVM\n  running for 6.381)</p>\n</blockquote>\n\n<p><strong>Console Output After Issue</strong></p>\n\n<blockquote>\n  <p>10:03:29.090 [http-nio-8003-exec-1] INFO \n  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring\n  FrameworkServlet 'dispatcherServlet' 10:03:29.090\n  [http-nio-8003-exec-1] INFO  o.s.web.servlet.DispatcherServlet -\n  FrameworkServlet 'dispatcherServlet': initialization started\n  10:03:29.126 [http-nio-8003-exec-1] INFO \n  o.s.web.servlet.DispatcherServlet - FrameworkServlet\n  'dispatcherServlet': initialization completed in 36 ms 10:03:29.151\n  [http-nio-8003-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] -\n  Servlet.service() for servlet [dispatcherServlet] in context with path\n  [] threw exception [Request method 'GET' not supported] with root\n  cause org.springframework.web.HttpRequestMethodNotSupportedException:\n  Request method 'GET' not supported\n          at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:204)\n  ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\n          at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:382)\n  ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\n          at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:322)\n  ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\n          at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:60)\n  ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\n          at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:351)\n  ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\n          at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcChildContextConfiguration$CompositeHandlerMapping.getHandler(EndpointWebMvcChildContextConfiguration.java:212)\n  ~[spring-boot-actuator-1.3.2.RELEASE.jar!/:1.3.2.RELEASE]\n          at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1120)\n  ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\n          at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:932)\n  ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\n          at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n  ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\n          at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969)\n  ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\n          at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:860)\n  ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\n          at javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n  ~[tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845)\n  ~[spring-webmvc-4.2.4.RELEASE.jar!/:4.2.4.RELEASE]\n          at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n  ~[tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\n  ~[tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n  ~[tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\n  ~[tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n  [tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n  [tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\n  [tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n  [tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n  [tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:521)\n  [tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1096)\n  [tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:674)\n  [tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)\n  [tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)\n  [tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_51]\n          at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_51]\n          at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n  [tomcat-embed-core-8.0.30.jar!/:8.0.30]\n          at java.lang.Thread.run(Unknown Source) [na:1.8.0_51]</p>\n</blockquote>\n"},{"tags":["java","android","push-notification","onesignal","android-13"],"owner":{"account_id":15860883,"reputation":53,"user_id":11444029,"display_name":"alabiboo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684784459,"creation_date":1684784459,"question_id":76309403,"body_markdown":"java android application does not receive a notification on android 12 and 13 when I use the package ```&#39;com.onesignal:OneSignal:3.12.2&#39;```  now after upgrading the package to ```com.onesignal:OneSignal:[4.0.0, 4.99.99]```  I still do not receive a notification. Can anyone help me find a solution to my problem?","title":"Android 12 and 13 not get onesignal push notification even after upgrade onesignal package to 4","body":"<p>java android application does not receive a notification on android 12 and 13 when I use the package <code>'com.onesignal:OneSignal:3.12.2'</code>  now after upgrading the package to <code>com.onesignal:OneSignal:[4.0.0, 4.99.99]</code>  I still do not receive a notification. Can anyone help me find a solution to my problem?</p>\n"},{"tags":["java","maven","maven-3","java-module"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676724024,"post_id":75493155,"comment_id":133197080,"body_markdown":"What exactly do you mean with `extending java.lang` and why do you want tp do that? Have you tried splitting `&lt;arg&gt;--patch-module java.base=src&lt;/arg&gt;` into `&lt;arg&gt;--patch-module&lt;/arg&gt;&lt;arg&gt;java.base=src&lt;/arg&gt;`?","body":"What exactly do you mean with <code>extending java.lang</code> and why do you want tp do that? Have you tried splitting <code>&lt;arg&gt;--patch-module java.base=src&lt;&#47;arg&gt;</code> into <code>&lt;arg&gt;--patch-module&lt;&#47;arg&gt;&lt;arg&gt;java.base=src&lt;&#47;arg&gt;</code>?"},{"owner":{"account_id":1435933,"reputation":396,"user_id":1357315,"accept_rate":44,"display_name":"NemanjaSRB"},"score":0,"creation_date":1676725269,"post_id":75493155,"comment_id":133197269,"body_markdown":"Because one of my classes is using the `package private` constructor of the String.class to avoid copying the char[] array. It&#39;s something I&#39;m looking to remove as the process of migration from JDK 1.8 to JDK 19.\n\nUntil then to get back to `--patch-module` - yes I tried splitting it up and it doesn&#39;t work. As I said `--patch-module` option is not in a BASIC group of Options for JavacTool argument options.","body":"Because one of my classes is using the <code>package private</code> constructor of the String.class to avoid copying the char[] array. It&#39;s something I&#39;m looking to remove as the process of migration from JDK 1.8 to JDK 19.  Until then to get back to <code>--patch-module</code> - yes I tried splitting it up and it doesn&#39;t work. As I said <code>--patch-module</code> option is not in a BASIC group of Options for JavacTool argument options."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1676727967,"post_id":75493155,"comment_id":133197701,"body_markdown":"Why do you need to the package private constructor instead of just using a reference to the original string? Modifying the `java.base` module for things like that is...a very bad idea","body":"Why do you need to the package private constructor instead of just using a reference to the original string? Modifying the <code>java.base</code> module for things like that is...a very bad idea"},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1676733168,"post_id":75493155,"comment_id":133198540,"body_markdown":"Try with `fork` options of m-compiler-p https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#fork","body":"Try with <code>fork</code> options of m-compiler-p <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#fork\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/&hellip;</a>"},{"owner":{"account_id":1435933,"reputation":396,"user_id":1357315,"accept_rate":44,"display_name":"NemanjaSRB"},"score":0,"creation_date":1676744677,"post_id":75493155,"comment_id":133200687,"body_markdown":"@SlawomirJaranowski did that - it still uses JavacTool just as a separate process from the main one.","body":"@SlawomirJaranowski did that - it still uses JavacTool just as a separate process from the main one."},{"owner":{"account_id":1435933,"reputation":396,"user_id":1357315,"accept_rate":44,"display_name":"NemanjaSRB"},"score":0,"creation_date":1676744780,"post_id":75493155,"comment_id":133200706,"body_markdown":"@dan1st &#39;cause I want to avoid double allocation of the humongous objects on the heap when converting `char[]` to `String` - and I can&#39;t find a `String` constructor that allows me to pass `char[]` and reuse it - all of them underneath do the `copy` to a newly allocated array.","body":"@dan1st &#39;cause I want to avoid double allocation of the humongous objects on the heap when converting <code>char[]</code> to <code>String</code> - and I can&#39;t find a <code>String</code> constructor that allows me to pass <code>char[]</code> and reuse it - all of them underneath do the <code>copy</code> to a newly allocated array."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1676745421,"post_id":75493155,"comment_id":133200809,"body_markdown":"Then you should probably think about implementing another way (e.g. using `StringBuilder`) instead of relying on unsupported and inaccessible features that require patching the java.base module. Aside from that, the [package private constructor using a `char[]`](https://github.com/openjdk/jdk/blob/d6716d2e5471ee794df8833430dd3171b565f78e/src/java.base/share/classes/java/lang/String.java#L4503) **still copies all the data** /allocates a new object with it because `String` uses a `byte[]`.","body":"Then you should probably think about implementing another way (e.g. using <code>StringBuilder</code>) instead of relying on unsupported and inaccessible features that require patching the java.base module. Aside from that, the <a href=\"https://github.com/openjdk/jdk/blob/d6716d2e5471ee794df8833430dd3171b565f78e/src/java.base/share/classes/java/lang/String.java#L4503\" rel=\"nofollow noreferrer\">package private constructor using a <code>char[]</code></a> <b>still copies all the data</b> /allocates a new object with it because <code>String</code> uses a <code>byte[]</code>."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676745566,"post_id":75493155,"comment_id":133200832,"body_markdown":"Also, creating strings with custom arrays compromises JDK safeguards/guarantees resulting in bugs that are very hard to debug.","body":"Also, creating strings with custom arrays compromises JDK safeguards/guarantees resulting in bugs that are very hard to debug."},{"owner":{"account_id":1435933,"reputation":396,"user_id":1357315,"accept_rate":44,"display_name":"NemanjaSRB"},"score":0,"creation_date":1676746396,"post_id":75493155,"comment_id":133200965,"body_markdown":"It is true since JDK 9 - prior to it Java used char[] (can&#39;t copy source code in the comment it clutters the response). With regards to the &quot;cleverness&quot; of the idea - I agree but it&#39;s another topic - StringBuilder creates a copy of a String thus duplicating amount of heap usage.","body":"It is true since JDK 9 - prior to it Java used char[] (can&#39;t copy source code in the comment it clutters the response). With regards to the &quot;cleverness&quot; of the idea - I agree but it&#39;s another topic - StringBuilder creates a copy of a String thus duplicating amount of heap usage."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1676762232,"post_id":75493155,"comment_id":133203515,"body_markdown":"You don&#39;t want to copy the array, therefore you use a method that is much more expensive. Doesn&#39;t sound like a great idea to me.","body":"You don&#39;t want to copy the array, therefore you use a method that is much more expensive. Doesn&#39;t sound like a great idea to me."},{"owner":{"account_id":1435933,"reputation":396,"user_id":1357315,"accept_rate":44,"display_name":"NemanjaSRB"},"score":0,"creation_date":1676766951,"post_id":75493155,"comment_id":133203948,"body_markdown":"Want to thank @dan1st for challenging the idea - made me dig down into `String` changes since JDK 1.7 and actually ended up refactoring the piece requiring that private constructor. Since they moved to `byte[]` I managed to refactor dependent methods to provide byte[] in the first place and remove that `char[]` altogether from the middle.","body":"Want to thank @dan1st for challenging the idea - made me dig down into <code>String</code> changes since JDK 1.7 and actually ended up refactoring the piece requiring that private constructor. Since they moved to <code>byte[]</code> I managed to refactor dependent methods to provide byte[] in the first place and remove that <code>char[]</code> altogether from the middle."},{"owner":{"account_id":1435933,"reputation":396,"user_id":1357315,"accept_rate":44,"display_name":"NemanjaSRB"},"score":0,"creation_date":1676767038,"post_id":75493155,"comment_id":133203954,"body_markdown":"Not sure if the question should remain open - `Javac API` still does not allow for `--patch-module` compiler option to be used through Maven 3?","body":"Not sure if the question should remain open - <code>Javac API</code> still does not allow for <code>--patch-module</code> compiler option to be used through Maven 3?"},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1676800433,"post_id":75493155,"comment_id":133207034,"body_markdown":"Next options to try: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#forceJavacCompilerUse","body":"Next options to try: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#forceJavacCompilerUse\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676805237,"post_id":75493155,"comment_id":133207715,"body_markdown":"You should set `&lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;` while building with JDK19 also remove `package private constructor of the String.class to avoid copying the char[] array.`... there is a reason why a constructor of a class is package private... means do not use it... If everything build ... lift the version to 19...","body":"You should set <code>&lt;maven.compiler.release&gt;8&lt;&#47;maven.compiler.release&gt;</code> while building with JDK19 also remove <code>package private constructor of the String.class to avoid copying the char[] array.</code>... there is a reason why a constructor of a class is package private... means do not use it... If everything build ... lift the version to 19..."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1676814003,"post_id":75493155,"comment_id":133208917,"body_markdown":"I hope you refactored it in a way that doesn&#39;t require calling private or package-private members. Because you should _really_ not do that unless you want your program to completely break beyond all repair.","body":"I hope you refactored it in a way that doesn&#39;t require calling private or package-private members. Because you should <i>really</i> not do that unless you want your program to completely break beyond all repair."},{"owner":{"account_id":1435933,"reputation":396,"user_id":1357315,"accept_rate":44,"display_name":"NemanjaSRB"},"score":0,"creation_date":1676815728,"post_id":75493155,"comment_id":133209208,"body_markdown":"Code served its purpose for the past 8 years in production ... time to move on. Basically that code converted `byte[]` to `char[]` and it avoided making another copy of a `char[]` by using normal constructor. That&#39;s why it used `package private String(char[], boolean)`. Now since String support `byte[]` constructor I just let the `String(byte[], int, int, Charset)` constructor makes it&#39;s own `char[]` - memory footprint remains the same, no `package private` and thus moved the entire library into normal JAR packaging.","body":"Code served its purpose for the past 8 years in production ... time to move on. Basically that code converted <code>byte[]</code> to <code>char[]</code> and it avoided making another copy of a <code>char[]</code> by using normal constructor. That&#39;s why it used <code>package private String(char[], boolean)</code>. Now since String support <code>byte[]</code> constructor I just let the <code>String(byte[], int, int, Charset)</code> constructor makes it&#39;s own <code>char[]</code> - memory footprint remains the same, no <code>package private</code> and thus moved the entire library into normal JAR packaging."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677515781,"post_id":75493155,"comment_id":133348710,"body_markdown":"Where does the `byte[]` array come from? In case of an external source, note that when you read a file into a `String` via [`Files.readString(path［,charset］)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path,java.nio.charset.Charset)) there might be even less copying. In either case, it’s a good idea to use the builtin charset conversion, as it is highly optimized (for the commonly used charsets) and may use tricks, ordinary application code can’t do, but without compatibility issues.","body":"Where does the <code>byte[]</code> array come from? In case of an external source, note that when you read a file into a <code>String</code> via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>Files.readString(path［,charset］)</code></a> there might be even less copying. In either case, it’s a good idea to use the builtin charset conversion, as it is highly optimized (for the commonly used charsets) and may use tricks, ordinary application code can’t do, but without compatibility issues."}],"answers":[{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684784171,"creation_date":1684784171,"answer_id":76309372,"question_id":75493155,"body_markdown":"Maven parses the argument as one long argument with embedded whitespace.\r\n\r\nThis is what it is supposed to look like:\r\n\r\n```\r\n&lt;compilerArgs&gt;\r\n    &lt;arg&gt;--patch-module&lt;/arg&gt;\r\n    &lt;arg&gt;java.base=src&lt;/arg&gt;\r\n&lt;/compilerArgs&gt;\r\n```\r\n\r\nSee the [Maven documentation](https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs) for example.\r\n","title":"Extending java.base in a project built with Maven","body":"<p>Maven parses the argument as one long argument with embedded whitespace.</p>\n<p>This is what it is supposed to look like:</p>\n<pre><code>&lt;compilerArgs&gt;\n    &lt;arg&gt;--patch-module&lt;/arg&gt;\n    &lt;arg&gt;java.base=src&lt;/arg&gt;\n&lt;/compilerArgs&gt;\n</code></pre>\n<p>See the <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs\" rel=\"nofollow noreferrer\">Maven documentation</a> for example.</p>\n"}],"owner":{"account_id":1435933,"reputation":396,"user_id":1357315,"accept_rate":44,"display_name":"NemanjaSRB"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684784171,"creation_date":1676721246,"question_id":75493155,"body_markdown":"Maven 3.9.0 invalid flag `--patch-module` is what I get when I run `mvn clean compile` on my project that extends `java.lang` package. When I run `javac --patch-module java.base=src &lt;path-to-source&gt;` all is good.\r\n\r\nThe reason is - Maven uses `com.sun.tools.javac.api.JavacTool` which when parsing `&lt;compilerArgs&gt;` is using only the `BASIC` Option group and `--patch-module` is in the `FILEMANAGER` group. This raises an `illegal flag` exception during `mvn clean compile`.\r\n\r\nDoes anyone know how I can get it to work with Maven? I&#39;d prefer not to make my CI pipeline using `javac` command line tool.\r\n\r\nProject structure is like:\r\nsrc -&gt; main -&gt; java -&gt; java.lang -&gt; &lt;classes&gt;\r\n\r\n`pom.xml` looks like:\r\n\r\n```\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.source.sdk}&lt;/source&gt;\r\n                    &lt;target&gt;${java.source.sdk}&lt;/target&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--patch-module java.base=src&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n```\r\n\r\nMaven version:\r\n```Apache Maven 3.9.0 (9b58d2bad23a66be161c4664ef21ce219c2c8584)\r\nMaven home: /opt/homebrew/Cellar/maven/3.9.0/libexec\r\nJava version: 18, vendor: Oracle Corporation, runtime: /Users/&lt;username&gt;/Library/Java/JavaVirtualMachines/openjdk-18/Contents/Home\r\nDefault locale: en_RS, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;12.6.2&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\nUsed JDK 19 -&gt; same result. Used Maven 3.10.1 -&gt; same result.\r\n\r\nFull error is:\r\n\r\n```[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project commons-bootstrap: Fatal error compiling: error: invalid flag: --patch-module java.base=src -&gt; [Help 1]```\r\n\r\nException stacktrace:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: error: invalid flag: --patch-module java.base=src\r\n    at com.sun.tools.javac.main.Arguments.reportDiag (Arguments.java:889)\r\n    at com.sun.tools.javac.main.Arguments.doProcessArgs (Arguments.java:395)\r\n    at com.sun.tools.javac.main.Arguments.processArgs (Arguments.java:347)\r\n    at com.sun.tools.javac.main.Arguments.init (Arguments.java:246)\r\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:191)\r\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:119)\r\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:68)\r\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:135)\r\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\r\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\r\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n    at java.lang.reflect.Method.invoke (Method.java:577)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n```","title":"Extending java.base in a project built with Maven","body":"<p>Maven 3.9.0 invalid flag <code>--patch-module</code> is what I get when I run <code>mvn clean compile</code> on my project that extends <code>java.lang</code> package. When I run <code>javac --patch-module java.base=src &lt;path-to-source&gt;</code> all is good.</p>\n<p>The reason is - Maven uses <code>com.sun.tools.javac.api.JavacTool</code> which when parsing <code>&lt;compilerArgs&gt;</code> is using only the <code>BASIC</code> Option group and <code>--patch-module</code> is in the <code>FILEMANAGER</code> group. This raises an <code>illegal flag</code> exception during <code>mvn clean compile</code>.</p>\n<p>Does anyone know how I can get it to work with Maven? I'd prefer not to make my CI pipeline using <code>javac</code> command line tool.</p>\n<p>Project structure is like:\nsrc -&gt; main -&gt; java -&gt; java.lang -&gt; </p>\n<p><code>pom.xml</code> looks like:</p>\n<pre><code>        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.source.sdk}&lt;/source&gt;\n                    &lt;target&gt;${java.source.sdk}&lt;/target&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--patch-module java.base=src&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n</code></pre>\n<p>Maven version:</p>\n<pre><code>Maven home: /opt/homebrew/Cellar/maven/3.9.0/libexec\nJava version: 18, vendor: Oracle Corporation, runtime: /Users/&lt;username&gt;/Library/Java/JavaVirtualMachines/openjdk-18/Contents/Home\nDefault locale: en_RS, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;12.6.2&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>Used JDK 19 -&gt; same result. Used Maven 3.10.1 -&gt; same result.</p>\n<p>Full error is:</p>\n<p><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project commons-bootstrap: Fatal error compiling: error: invalid flag: --patch-module java.base=src -&gt; [Help 1]</code></p>\n<p>Exception stacktrace:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: error: invalid flag: --patch-module java.base=src\n    at com.sun.tools.javac.main.Arguments.reportDiag (Arguments.java:889)\n    at com.sun.tools.javac.main.Arguments.doProcessArgs (Arguments.java:395)\n    at com.sun.tools.javac.main.Arguments.processArgs (Arguments.java:347)\n    at com.sun.tools.javac.main.Arguments.init (Arguments.java:246)\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:191)\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:119)\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:68)\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:135)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\n    at java.lang.reflect.Method.invoke (Method.java:577)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n"},{"tags":["java","spring","many-to-many"],"answers":[{"tags":[],"owner":{"account_id":19173576,"reputation":26,"user_id":14006751,"display_name":"frxdude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650876670,"creation_date":1650876670,"answer_id":71996799,"question_id":71996608,"body_markdown":"If you use ManyToMany relationship, It calls the Parent and the Child entity recursively when you try to get List of it. There must be ignorance in child entity like:\r\n\r\nIn Parent entity you could call @JsonManagedReference\r\n\r\nIn Child entity you could call @JsonBackReference\r\n\r\nDocumentation is here:\r\n[Bidirectional Relationships][1]\r\n\r\n    public class User {\r\n        public int id;\r\n        public String name;\r\n\r\n        @JsonManagedReference\r\n        public List&lt;Item&gt; userItems;\r\n    }\r\n\r\n    public class Item {\r\n        public int id;\r\n        public String itemName;\r\n\r\n        @JsonBackReference\r\n        public User owner;\r\n    }\r\n\r\nOr you can use @JsonIgnore on top of the Parent declaration in Child entity. Some of the case it gets worst when you use JsonIgnore.\r\n\r\nDocumentation is here:\r\n[Jackson Ignore Properties][2]\r\n\r\n    public class MyDto {\r\n\r\n        private String stringValue;\r\n        @JsonIgnore\r\n        private int intValue;\r\n        private boolean booleanValue;\r\n\r\n        public MyDto() {\r\n            super();\r\n        }\r\n    }\r\nOr use @JsonIgnoreProperties when you need to ignore many fields\r\n\r\n    @JsonIgnoreProperties(value = { &quot;intValue&quot; })\r\n    public class MyDto {\r\n\r\n        private String stringValue;\r\n        private int intValue;\r\n        private boolean booleanValue;\r\n\r\n        public MyDto() {\r\n            super();\r\n        }\r\n    }\r\n!Enjoy\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion#managed-back-reference\r\n\r\n  [2]: https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion#managed-back-reference","title":"Spring- Postman too many information with ManyToMany","body":"<p>If you use ManyToMany relationship, It calls the Parent and the Child entity recursively when you try to get List of it. There must be ignorance in child entity like:</p>\n<p>In Parent entity you could call @JsonManagedReference</p>\n<p>In Child entity you could call @JsonBackReference</p>\n<p>Documentation is here:\n<a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion#managed-back-reference\" rel=\"nofollow noreferrer\">Bidirectional Relationships</a></p>\n<pre><code>public class User {\n    public int id;\n    public String name;\n\n    @JsonManagedReference\n    public List&lt;Item&gt; userItems;\n}\n\npublic class Item {\n    public int id;\n    public String itemName;\n\n    @JsonBackReference\n    public User owner;\n}\n</code></pre>\n<p>Or you can use @JsonIgnore on top of the Parent declaration in Child entity. Some of the case it gets worst when you use JsonIgnore.</p>\n<p>Documentation is here:\n<a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion#managed-back-reference\" rel=\"nofollow noreferrer\">Jackson Ignore Properties</a></p>\n<pre><code>public class MyDto {\n\n    private String stringValue;\n    @JsonIgnore\n    private int intValue;\n    private boolean booleanValue;\n\n    public MyDto() {\n        super();\n    }\n}\n</code></pre>\n<p>Or use @JsonIgnoreProperties when you need to ignore many fields</p>\n<pre><code>@JsonIgnoreProperties(value = { &quot;intValue&quot; })\npublic class MyDto {\n\n    private String stringValue;\n    private int intValue;\n    private boolean booleanValue;\n\n    public MyDto() {\n        super();\n    }\n}\n</code></pre>\n<p>!Enjoy</p>\n"}],"owner":{"account_id":17995095,"reputation":11,"user_id":13078345,"display_name":"seroo11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684783385,"creation_date":1650875503,"question_id":71996608,"body_markdown":"I have a problem with my Spring application- am practicing ManyToMany Relationship.\r\nI made two Entity- student, and groups for them- everything is good but when am trying to display them in postman i have spaghetti result like : \r\n\r\n{&quot;id&quot;:4,&quot;lastName&quot;:&quot;guzik&quot;,&quot;groups&quot;:[{&quot;id&quot;:1,&quot;groupName&quot;:&quot;grupka&quot;,&quot;students&quot;:\r\n....(shorter version, its about 1000 lines)\r\n[{&quot;id&quot;:1,&quot;lastName&quot;:&quot;smith&quot;,&quot;groups&quot;:[{}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}{&quot;timestamp&quot;:&quot;2022-04-25T08:25:31.387+00:00&quot;,&quot;status&quot;:200,&quot;error&quot;:&quot;OK&quot;,&quot;path&quot;:&quot;/api/student/4&quot;}\r\n\r\nWhat am doing wrong ?\r\n\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class MainController{\r\n        @Autowired\r\n        GroupRepo groupRepo;\r\n        @Autowired\r\n        StudentRepo studentRepo;\r\n    \r\n        @GetMapping(&quot;/student/{id}&quot;)\r\n        ResponseEntity&lt;?&gt; getStudent(@PathVariable long id){\r\n            Optional&lt;Students&gt; student=studentRepo.findById(id);\r\n            return ResponseEntity.ok().body(student);\r\n        }\r\n        @GetMapping(&quot;/group/{id}&quot;)\r\n        ResponseEntity&lt;?&gt; getGroup(@PathVariable long id){\r\n            Optional&lt;Groupssss&gt; group=groupRepo.findById(id);\r\n            return ResponseEntity.ok().body(group);\r\n        }\r\n        @GetMapping(&quot;/student/{id}/groups&quot;)\r\n        ResponseEntity&lt;?&gt; studentGroups(@PathVariable long id){\r\n            Students student=studentRepo.findById(id).orElseThrow(()-&gt; new UsernameNotFoundException(&quot;student not found&quot;));\r\n            return ResponseEntity.ok().body(student.getGroups());\r\n        }\r\n        @PostMapping(&quot;/add&quot;)\r\n        @Transactional\r\n        ResponseEntity&lt;?&gt; addStudentToGroup(@RequestHeader long id) throws Exception{\r\n            Students student=studentRepo.findById(id)\r\n                    .orElseThrow(()-&gt; new UsernameNotFoundException(&quot;student not found&quot;));\r\n    \r\n            Groupssss group=groupRepo.findByGroupName(&quot;grupka&quot;).orElseThrow(Exception::new);\r\n    \r\n            student.addGroup(group);\r\n            studentRepo.save(student);\r\n    \r\n            return ResponseEntity.ok().build();\r\n        }\r\n\r\n    @Entity\r\n    public class Groupssss {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        private String groupName;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY,\r\n                cascade = {\r\n                        CascadeType.PERSIST,\r\n                        CascadeType.MERGE\r\n                },\r\n                mappedBy = &quot;groups&quot;)\r\n        private Set&lt;Students&gt; students=new HashSet&lt;&gt;();\r\n    \r\n        public void setGroupName(String groupName) {\r\n            this.groupName = groupName;\r\n        }\r\n    \r\n        public void setStudents(Set&lt;Students&gt; students) {\r\n            this.students = students;\r\n        }\r\n    \r\n        public Set&lt;Students&gt; getStudents() {\r\n            return students;\r\n        }\r\n    \r\n        public String getGroupName() {\r\n            return groupName;\r\n        }\r\n        public long getId() {\r\n            return id;\r\n        }\r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;students&quot;)\r\n    public class Students {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        long id;\r\n    \r\n        String firstName;\r\n        String lastName;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY,\r\n                cascade = {\r\n                        CascadeType.PERSIST,\r\n                        CascadeType.MERGE\r\n                })\r\n        @JoinTable(name=&quot;student_group&quot;,\r\n                joinColumns = @JoinColumn(name=&quot;student_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name=&quot;group_id&quot;))\r\n        Set&lt;Groupssss&gt; groups=new HashSet&lt;&gt;();\r\n    \r\n        public Students(){}\r\n    \r\n        public Students(String firstName, String lastName){\r\n            this.firstName=firstName;\r\n            this.lastName=lastName;\r\n        }\r\n    \r\n        public void addGroup(Groupssss group){\r\n            this.groups.add(group);\r\n            group.getStudents().add(this);\r\n        }\r\n    \r\n        public Set&lt;Groupssss&gt; getGroups() {\r\n            return groups;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public String getName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setGroups(Set&lt;Groupssss&gt; groups) {\r\n            this.groups = groups;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public void setName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n        public long getId() {\r\n            return id;\r\n        }\r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    }","title":"Spring- Postman too many information with ManyToMany","body":"<p>I have a problem with my Spring application- am practicing ManyToMany Relationship.\nI made two Entity- student, and groups for them- everything is good but when am trying to display them in postman i have spaghetti result like :</p>\n<p>{&quot;id&quot;:4,&quot;lastName&quot;:&quot;guzik&quot;,&quot;groups&quot;:[{&quot;id&quot;:1,&quot;groupName&quot;:&quot;grupka&quot;,&quot;students&quot;:\n....(shorter version, its about 1000 lines)\n[{&quot;id&quot;:1,&quot;lastName&quot;:&quot;smith&quot;,&quot;groups&quot;:[{}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}{&quot;timestamp&quot;:&quot;2022-04-25T08:25:31.387+00:00&quot;,&quot;status&quot;:200,&quot;error&quot;:&quot;OK&quot;,&quot;path&quot;:&quot;/api/student/4&quot;}</p>\n<p>What am doing wrong ?</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MainController{\n    @Autowired\n    GroupRepo groupRepo;\n    @Autowired\n    StudentRepo studentRepo;\n\n    @GetMapping(&quot;/student/{id}&quot;)\n    ResponseEntity&lt;?&gt; getStudent(@PathVariable long id){\n        Optional&lt;Students&gt; student=studentRepo.findById(id);\n        return ResponseEntity.ok().body(student);\n    }\n    @GetMapping(&quot;/group/{id}&quot;)\n    ResponseEntity&lt;?&gt; getGroup(@PathVariable long id){\n        Optional&lt;Groupssss&gt; group=groupRepo.findById(id);\n        return ResponseEntity.ok().body(group);\n    }\n    @GetMapping(&quot;/student/{id}/groups&quot;)\n    ResponseEntity&lt;?&gt; studentGroups(@PathVariable long id){\n        Students student=studentRepo.findById(id).orElseThrow(()-&gt; new UsernameNotFoundException(&quot;student not found&quot;));\n        return ResponseEntity.ok().body(student.getGroups());\n    }\n    @PostMapping(&quot;/add&quot;)\n    @Transactional\n    ResponseEntity&lt;?&gt; addStudentToGroup(@RequestHeader long id) throws Exception{\n        Students student=studentRepo.findById(id)\n                .orElseThrow(()-&gt; new UsernameNotFoundException(&quot;student not found&quot;));\n\n        Groupssss group=groupRepo.findByGroupName(&quot;grupka&quot;).orElseThrow(Exception::new);\n\n        student.addGroup(group);\n        studentRepo.save(student);\n\n        return ResponseEntity.ok().build();\n    }\n\n@Entity\npublic class Groupssss {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String groupName;\n\n    @ManyToMany(fetch = FetchType.LAZY,\n            cascade = {\n                    CascadeType.PERSIST,\n                    CascadeType.MERGE\n            },\n            mappedBy = &quot;groups&quot;)\n    private Set&lt;Students&gt; students=new HashSet&lt;&gt;();\n\n    public void setGroupName(String groupName) {\n        this.groupName = groupName;\n    }\n\n    public void setStudents(Set&lt;Students&gt; students) {\n        this.students = students;\n    }\n\n    public Set&lt;Students&gt; getStudents() {\n        return students;\n    }\n\n    public String getGroupName() {\n        return groupName;\n    }\n    public long getId() {\n        return id;\n    }\n    public void setId(long id) {\n        this.id = id;\n    }\n\n\n}\n\n@Entity\n@Table(name=&quot;students&quot;)\npublic class Students {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    long id;\n\n    String firstName;\n    String lastName;\n\n    @ManyToMany(fetch = FetchType.LAZY,\n            cascade = {\n                    CascadeType.PERSIST,\n                    CascadeType.MERGE\n            })\n    @JoinTable(name=&quot;student_group&quot;,\n            joinColumns = @JoinColumn(name=&quot;student_id&quot;),\n            inverseJoinColumns = @JoinColumn(name=&quot;group_id&quot;))\n    Set&lt;Groupssss&gt; groups=new HashSet&lt;&gt;();\n\n    public Students(){}\n\n    public Students(String firstName, String lastName){\n        this.firstName=firstName;\n        this.lastName=lastName;\n    }\n\n    public void addGroup(Groupssss group){\n        this.groups.add(group);\n        group.getStudents().add(this);\n    }\n\n    public Set&lt;Groupssss&gt; getGroups() {\n        return groups;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public String getName() {\n        return firstName;\n    }\n\n    public void setGroups(Set&lt;Groupssss&gt; groups) {\n        this.groups = groups;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public void setName(String firstName) {\n        this.firstName = firstName;\n    }\n    public long getId() {\n        return id;\n    }\n    public void setId(long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n"},{"tags":["java","recursion","stack-overflow","postfix-operator","prefix-operator"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1684594145,"post_id":76295775,"comment_id":134541450,"body_markdown":"Lets say num is 5. `doubt(num--)` is same as calling `doubt(5)`, whereas both of `doubt(num-1)` and `doubt(--num)` are the same as calling `doubt(4)` and num inside the nested call is now 4... and so on","body":"Lets say num is 5. <code>doubt(num--)</code> is same as calling <code>doubt(5)</code>, whereas both of <code>doubt(num-1)</code> and <code>doubt(--num)</code> are the same as calling <code>doubt(4)</code> and num inside the nested call is now 4... and so on"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684594036,"creation_date":1684594036,"answer_id":76295803,"question_id":76295775,"body_markdown":"        doubt1(num--);\r\n\r\nis internally implemented as\r\n\r\n        int tmp = num;\r\n        num = num - 1;\r\n        doubt1(tmp);\r\n\r\nThat is, it recursively calls the `doubt1` method with the original value and therefore the condition `num == 0` is never reached.","title":"StackOverFlow in Postfix Decrement in JAVA","body":"<pre><code>    doubt1(num--);\n</code></pre>\n<p>is internally implemented as</p>\n<pre><code>    int tmp = num;\n    num = num - 1;\n    doubt1(tmp);\n</code></pre>\n<p>That is, it recursively calls the <code>doubt1</code> method with the original value and therefore the condition <code>num == 0</code> is never reached.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684594536,"creation_date":1684594536,"answer_id":76295839,"question_id":76295775,"body_markdown":"When you invoke a method, the arguments are evaluated, and the resulting values are assigned as the initial values of the method&#39;s parameters.  The expressions `num--` and `--num` have the same side effect on `num`, but that is immaterial to the method invocation.  The two evaluate to different values: the former to the value of num *before* it is decremented, and the latter to the value of `num` *after* it is decremented.  The order of the operator relative to the operand is mnemonic for that.\r\n\r\nThus, with\r\n```\r\nint n = 1;\r\nsome_method(n--);\r\n```\r\nthe value passed to `some_method()` is 1, but with\r\n```\r\nint n = 1;\r\nsome_method(--n);\r\n```\r\nthe value passed to `some_method()` is 0.\r\n\r\nIn both cases, however, the value 0 is stored in `n` before execution of the body of `some_method()` commences.","title":"StackOverFlow in Postfix Decrement in JAVA","body":"<p>When you invoke a method, the arguments are evaluated, and the resulting values are assigned as the initial values of the method's parameters.  The expressions <code>num--</code> and <code>--num</code> have the same side effect on <code>num</code>, but that is immaterial to the method invocation.  The two evaluate to different values: the former to the value of num <em>before</em> it is decremented, and the latter to the value of <code>num</code> <em>after</em> it is decremented.  The order of the operator relative to the operand is mnemonic for that.</p>\n<p>Thus, with</p>\n<pre><code>int n = 1;\nsome_method(n--);\n</code></pre>\n<p>the value passed to <code>some_method()</code> is 1, but with</p>\n<pre><code>int n = 1;\nsome_method(--n);\n</code></pre>\n<p>the value passed to <code>some_method()</code> is 0.</p>\n<p>In both cases, however, the value 0 is stored in <code>n</code> before execution of the body of <code>some_method()</code> commences.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684607143,"creation_date":1684595102,"answer_id":76295885,"question_id":76295775,"body_markdown":"First, with the unary decrement operator, the operation is occurring after, or before, the _statement_.  \r\nAs opposed to after, or before, the _expression_.\r\n\r\nSo, in this situation, there will be a difference between `num--` and `--num`.\r\n\r\n - `doubt(num--)` is decrementing after the call statement, and not after the parameter expression.\r\n\r\n - `double(--num)`, the opposite is happening, the decrement is happening before the parameter expression.\r\n\r\nEssentially, from a compiler&#39;s stand-point, for the `doubt(--num)` statement, you have the following.\r\n  1. Get `num`\r\n  2. Decrement `num`\r\n  3. Apply `num` as `doubt` parameter\r\n  4. Execute `doubt` with parameter value\r\n\r\nAlternately, with `doubt(num--)` you have the following.\r\n  1. Get `num`\r\n  2. Apply `num` as `doubt` parameter\r\n  3. Decrement `num` (which has no effect, since the parameter value was already set)\r\n  4. Execute `doubt` with parameter value\r\n\r\nEssentially, for the `doubt(num--)` statement, after the compiler has `num`, and is ready to call `doubt`, it will then decrement `num`.  \r\nAs opposed to having `num`, then decrementing, and then calling `doubt`.","title":"StackOverFlow in Postfix Decrement in JAVA","body":"<p>First, with the unary decrement operator, the operation is occurring after, or before, the <em>statement</em>.<br />\nAs opposed to after, or before, the <em>expression</em>.</p>\n<p>So, in this situation, there will be a difference between <code>num--</code> and <code>--num</code>.</p>\n<ul>\n<li><p><code>doubt(num--)</code> is decrementing after the call statement, and not after the parameter expression.</p>\n</li>\n<li><p><code>double(--num)</code>, the opposite is happening, the decrement is happening before the parameter expression.</p>\n</li>\n</ul>\n<p>Essentially, from a compiler's stand-point, for the <code>doubt(--num)</code> statement, you have the following.</p>\n<ol>\n<li>Get <code>num</code></li>\n<li>Decrement <code>num</code></li>\n<li>Apply <code>num</code> as <code>doubt</code> parameter</li>\n<li>Execute <code>doubt</code> with parameter value</li>\n</ol>\n<p>Alternately, with <code>doubt(num--)</code> you have the following.</p>\n<ol>\n<li>Get <code>num</code></li>\n<li>Apply <code>num</code> as <code>doubt</code> parameter</li>\n<li>Decrement <code>num</code> (which has no effect, since the parameter value was already set)</li>\n<li>Execute <code>doubt</code> with parameter value</li>\n</ol>\n<p>Essentially, for the <code>doubt(num--)</code> statement, after the compiler has <code>num</code>, and is ready to call <code>doubt</code>, it will then decrement <code>num</code>.<br />\nAs opposed to having <code>num</code>, then decrementing, and then calling <code>doubt</code>.</p>\n"}],"owner":{"account_id":28504051,"reputation":31,"user_id":21814936,"display_name":"Tholkappiar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684783170,"creation_date":1684593735,"question_id":76295775,"body_markdown":"This works fine because we are using the prefix decrement operator in the recursive call !\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    doubt1(5);\r\n}\r\n```\r\n\r\nPrefix Decrement:\r\n```java\r\nstatic void doubt(int num)\r\n{\r\n    if(num==0)\r\n        return;\r\n    System.out.println(num);\r\n    doubt(--num);\r\n}\r\n```\r\nPostfix Decrement:\r\n\r\n```java\r\nstatic void doubt1(int num)\r\n{\r\n    if(num==0)\r\n        return;\r\n    System.out.println(num);\r\n    doubt1(num--);\r\n}\r\n```\r\n\r\nBut when we use the postfix decrement it can lead to stack over flow error , I understand why it&#39;s causing the error , but I want to know , if we use `num-1` in the recursive call it doesn&#39;t give the overflow error , my question is -&gt; why it&#39;s not giving the error coz it calculating the `num-1` and passing the value to the recursive call but not calculating the `num--` in the call ?\r\n\r\nWant the explanation why it calculating the `num-1` not `num--` in the recursive call ? Not why it&#39;s happening !","title":"StackOverFlow in Postfix Decrement in JAVA","body":"<p>This works fine because we are using the prefix decrement operator in the recursive call !</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    doubt1(5);\n}\n</code></pre>\n<p>Prefix Decrement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void doubt(int num)\n{\n    if(num==0)\n        return;\n    System.out.println(num);\n    doubt(--num);\n}\n</code></pre>\n<p>Postfix Decrement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void doubt1(int num)\n{\n    if(num==0)\n        return;\n    System.out.println(num);\n    doubt1(num--);\n}\n</code></pre>\n<p>But when we use the postfix decrement it can lead to stack over flow error , I understand why it's causing the error , but I want to know , if we use <code>num-1</code> in the recursive call it doesn't give the overflow error , my question is -&gt; why it's not giving the error coz it calculating the <code>num-1</code> and passing the value to the recursive call but not calculating the <code>num--</code> in the call ?</p>\n<p>Want the explanation why it calculating the <code>num-1</code> not <code>num--</code> in the recursive call ? Not why it's happening !</p>\n"},{"tags":["java","ssl"],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684782934,"creation_date":1559305652,"answer_id":56395151,"question_id":56395019,"body_markdown":"You should verify root certificates inside the `cacerts` keystore. The file is stored in `JAVA_HOME/jre/lib/security/cacerts` (or `JAVA_HOME/lib/security/cacerts` in newer Java versions). As per [OpenJDK 10 Now Includes Root CA Certificates][1] post you can use `keytool` command to count them:\r\n\r\n```none\r\n&gt;jdk-10\\bin\\keytool -cacerts -list | find &quot;Certificate&quot; /c\r\nEnter keystore password:  changeit\r\n80\r\n```\r\n\r\nMost likely your Java installation is corrupted and you should reinstall. Do note that OpenJDK is provided by multiple vendors and it could be that you are using an installer which doesn&#39;t install the root certificates. \r\n\r\n\r\n  [1]: https://dzone.com/articles/openjdk-10-now-includes-root-ca-certificates","title":"OpenJDK 10 rejects all SSL certificates","body":"<p>You should verify root certificates inside the <code>cacerts</code> keystore. The file is stored in <code>JAVA_HOME/jre/lib/security/cacerts</code> (or <code>JAVA_HOME/lib/security/cacerts</code> in newer Java versions). As per <a href=\"https://dzone.com/articles/openjdk-10-now-includes-root-ca-certificates\" rel=\"nofollow noreferrer\">OpenJDK 10 Now Includes Root CA Certificates</a> post you can use <code>keytool</code> command to count them:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt;jdk-10\\bin\\keytool -cacerts -list | find &quot;Certificate&quot; /c\nEnter keystore password:  changeit\n80\n</code></pre>\n<p>Most likely your Java installation is corrupted and you should reinstall. Do note that OpenJDK is provided by multiple vendors and it could be that you are using an installer which doesn't install the root certificates.</p>\n"},{"tags":[],"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1559309491,"creation_date":1559309491,"answer_id":56396080,"question_id":56395019,"body_markdown":"Ended up installing oracle jdk 10 (also 10.0.2) and that works \r\n\r\n```\r\nC:\\Users\\Alexander\\Downloads&gt;java &quot;SSLPoke&quot; google.de 443\r\nSuccessfully connected\r\n``` ","title":"OpenJDK 10 rejects all SSL certificates","body":"<p>Ended up installing oracle jdk 10 (also 10.0.2) and that works </p>\n\n<pre><code>C:\\Users\\Alexander\\Downloads&gt;java \"SSLPoke\" google.de 443\nSuccessfully connected\n</code></pre>\n"}],"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2007,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1684782934,"creation_date":1559305154,"question_id":56395019,"body_markdown":"I installed OpenJDK 10. What I did was just unpack it, set the PATH variable and the JAVA_HOME variable.\r\n\r\nJava even rejects the certificate of google.de (and all others I tried). I tested this by some dummy class that tries to connect. Outcome is:\r\n```\r\nC:\\Users\\Alexander\\Downloads&gt;java SSLPoke google.de 443\r\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\r\n        at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:290)\r\n        at java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n        at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:343)\r\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:226)\r\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:133)\r\n        at java.base/sun.security.ssl.ClientHandshaker.checkServerCerts(ClientHandshaker.java:1947)\r\n        at java.base/sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1777)\r\n        at java.base/sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:264)\r\n        at java.base/sun.security.ssl.Handshaker.processLoop(Handshaker.java:1098)\r\n        at java.base/sun.security.ssl.Handshaker.processRecord(Handshaker.java:1026)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.processInputRecord(SSLSocketImpl.java:1137)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1074)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1402)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:733)\r\n        at java.base/sun.security.ssl.AppOutputStream.write(AppOutputStream.java:67)\r\n        at java.base/sun.security.ssl.AppOutputStream.write(AppOutputStream.java:81)\r\n        at SSLPoke.main(SSLPoke.java:31)\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n        at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\r\n        ... 18 more\r\n```\r\n\r\n\r\nFound a lot on the net how to add special certs to java but i think in my java installation something is wrong in general.\r\n\r\nSo my question is what could cause such a thing???","title":"OpenJDK 10 rejects all SSL certificates","body":"<p>I installed OpenJDK 10. What I did was just unpack it, set the PATH variable and the JAVA_HOME variable.</p>\n\n<p>Java even rejects the certificate of google.de (and all others I tried). I tested this by some dummy class that tries to connect. Outcome is:</p>\n\n<pre><code>C:\\Users\\Alexander\\Downloads&gt;java SSLPoke google.de 443\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\n        at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:290)\n        at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n        at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:343)\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:226)\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:133)\n        at java.base/sun.security.ssl.ClientHandshaker.checkServerCerts(ClientHandshaker.java:1947)\n        at java.base/sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1777)\n        at java.base/sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:264)\n        at java.base/sun.security.ssl.Handshaker.processLoop(Handshaker.java:1098)\n        at java.base/sun.security.ssl.Handshaker.processRecord(Handshaker.java:1026)\n        at java.base/sun.security.ssl.SSLSocketImpl.processInputRecord(SSLSocketImpl.java:1137)\n        at java.base/sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1074)\n        at java.base/sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\n        at java.base/sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1402)\n        at java.base/sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:733)\n        at java.base/sun.security.ssl.AppOutputStream.write(AppOutputStream.java:67)\n        at java.base/sun.security.ssl.AppOutputStream.write(AppOutputStream.java:81)\n        at SSLPoke.main(SSLPoke.java:31)\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n        at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\n        ... 18 more\n</code></pre>\n\n<p>Found a lot on the net how to add special certs to java but i think in my java installation something is wrong in general.</p>\n\n<p>So my question is what could cause such a thing???</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684782763,"post_id":76308088,"comment_id":134564394,"body_markdown":"Why you can not run the application with some package in debug? At most the log collector will ignore those. Why do you need to do this?","body":"Why you can not run the application with some package in debug? At most the log collector will ignore those. Why do you need to do this?"}],"owner":{"account_id":5018460,"reputation":514,"user_id":4032638,"accept_rate":38,"display_name":"suppandi g"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684782402,"creation_date":1684771865,"question_id":76308088,"body_markdown":"I have a library in my app that is logging everything at debug level. I cannot run my application with log level to set to debug for all or a subset of classes. This is  because the tool we use to collect logs from the machines ignores any messages logged below the INFO level. Is there a way to configure log4j2 to intercept the debug level messages and log them at info?","title":"Raise the log level of a library message in log4j2","body":"<p>I have a library in my app that is logging everything at debug level. I cannot run my application with log level to set to debug for all or a subset of classes. This is  because the tool we use to collect logs from the machines ignores any messages logged below the INFO level. Is there a way to configure log4j2 to intercept the debug level messages and log them at info?</p>\n"},{"tags":["java","opc","dcom"],"owner":{"account_id":23232103,"reputation":21,"user_id":17322659,"display_name":"Murthy Manchala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684782374,"creation_date":1635975051,"question_id":69831969,"body_markdown":"Recent Microsoft patch has broken our Java client connectivity to OPC server. Microsoft raised Authentication level to Packet Integrity. we are using Utgard java OPC library to connect to OPC server which internally uses Jinterop java based COM library. with the patch Our client is not able to add subscription groups to listen to the data changes on the OPC server. We couldn&#39;t find where in the library the authentication level is configured. if we can configure it ti DEFAULT the issue will be resolved.\r\n\r\nPlease let me know if you have any pointers on this.\r\n\r\n``` \r\nJISession session = JISession.createSession(ipAddress,userName,pasword);\r\nJIComServer  comServer = new JIComServer(JIClassId.valueOf(classId), address, session);\r\nIJIComObject instance = comServer.createInstance();\r\nIJIComObject opcServer = new OPCServer(instance);\r\n//after we will create access base groups and add them to the server, during attaching handler it is failing.\r\n```\r\n\r\nERROR\r\n*JIException: The RPC server is unavailable. Please check if the COM server is up and running and that route to the COM Server is accessible (A simple &quot;Ping&quot; to the Server machine would do). Also please confirm if the Windows Firewall is not blocking DCOM access. [0x800706BA]\r\n\t```at org.jinterop.dcom.core.JIComServer.call(JIComServer.java:1004)\r\n\tat org.jinterop.dcom.core.JIComServer.call(JIComServer.java:951)\r\n\tat org.jinterop.dcom.core.JIComObjectImpl.call(JIComObjectImpl.java:293)\r\n\tat org.jinterop.dcom.core.JIComObjectImpl.call(JIComObjectImpl.java:159)\r\n\tat org.jinterop.dcom.core.JIFrameworkHelper.attachEventHandler(JIFrameworkHelper.java:285)\r\n\tat org.openscada.opc.dcom.da.impl.OPCGroupStateMgt.attach(OPCGroupStateMgt.java:179)```\r\n*","title":"Java client connectivity issue - OPC DA","body":"<p>Recent Microsoft patch has broken our Java client connectivity to OPC server. Microsoft raised Authentication level to Packet Integrity. we are using Utgard java OPC library to connect to OPC server which internally uses Jinterop java based COM library. with the patch Our client is not able to add subscription groups to listen to the data changes on the OPC server. We couldn't find where in the library the authentication level is configured. if we can configure it ti DEFAULT the issue will be resolved.</p>\n<p>Please let me know if you have any pointers on this.</p>\n<pre><code>JISession session = JISession.createSession(ipAddress,userName,pasword);\nJIComServer  comServer = new JIComServer(JIClassId.valueOf(classId), address, session);\nIJIComObject instance = comServer.createInstance();\nIJIComObject opcServer = new OPCServer(instance);\n//after we will create access base groups and add them to the server, during attaching handler it is failing.\n</code></pre>\n<p>ERROR\n*JIException: The RPC server is unavailable. Please check if the COM server is up and running and that route to the COM Server is accessible (A simple &quot;Ping&quot; to the Server machine would do). Also please confirm if the Windows Firewall is not blocking DCOM access. [0x800706BA]\n<code>at org.jinterop.dcom.core.JIComServer.call(JIComServer.java:1004) at org.jinterop.dcom.core.JIComServer.call(JIComServer.java:951) at org.jinterop.dcom.core.JIComObjectImpl.call(JIComObjectImpl.java:293) at org.jinterop.dcom.core.JIComObjectImpl.call(JIComObjectImpl.java:159) at org.jinterop.dcom.core.JIFrameworkHelper.attachEventHandler(JIFrameworkHelper.java:285) at org.openscada.opc.dcom.da.impl.OPCGroupStateMgt.attach(OPCGroupStateMgt.java:179)</code>\n*</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":1883267,"reputation":7504,"user_id":1702990,"display_name":"Sinkingpoint"},"score":0,"creation_date":1408094253,"post_id":25323916,"comment_id":39476051,"body_markdown":"Java enums are not equivalent to enums in other languages. They are not meant to have a particular &quot;order&quot; and thus no concept of the &quot;next&quot; one.","body":"Java enums are not equivalent to enums in other languages. They are not meant to have a particular &quot;order&quot; and thus no concept of the &quot;next&quot; one."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":1,"creation_date":1408094527,"post_id":25323916,"comment_id":39476165,"body_markdown":"@Quirliom  http://stackoverflow.com/questions/3820149/enum-values-is-an-order-of-returned-enums-deterministic","body":"@Quirliom  <a href=\"http://stackoverflow.com/questions/3820149/enum-values-is-an-order-of-returned-enums-deterministic\" title=\"enum values is an order of returned enums deterministic\">stackoverflow.com/questions/3820149/&hellip;</a>"},{"owner":{"account_id":1883267,"reputation":7504,"user_id":1702990,"display_name":"Sinkingpoint"},"score":0,"creation_date":1408094935,"post_id":25323916,"comment_id":39476306,"body_markdown":"@Zhuiden yes the .values method exists but also uses Reflection and thus I wouldn&#39;t consider it a good way to do thing.","body":"@Zhuiden yes the .values method exists but also uses Reflection and thus I wouldn&#39;t consider it a good way to do thing."}],"answers":[{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408094542,"creation_date":1408094542,"answer_id":25324080,"question_id":25323916,"body_markdown":"That&#39;s not the right way to use an enum. You should not have a `boolean isCurrent` on each enum constant.\r\n\r\nInstead, have a `Planet currentPlanet` variable in one place (not on the enum):\r\n\r\n\tPlanet currentPlanet = Planet.MERCURY;\r\n\r\nWhen you want to get the next one do:\r\n\r\n\tcurrentPlanet = currentPlanet.getNext();\r\n","title":"How to get next in static enum","body":"<p>That's not the right way to use an enum. You should not have a <code>boolean isCurrent</code> on each enum constant.</p>\n\n<p>Instead, have a <code>Planet currentPlanet</code> variable in one place (not on the enum):</p>\n\n<pre><code>Planet currentPlanet = Planet.MERCURY;\n</code></pre>\n\n<p>When you want to get the next one do:</p>\n\n<pre><code>currentPlanet = currentPlanet.getNext();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1408102309,"creation_date":1408094743,"answer_id":25324114,"question_id":25323916,"body_markdown":"I hope you do realize that you could just have something like the following:\r\n\r\n    public enum Planet { \r\n        MERCURY, VENUS, EARTH, MARS, JUPITER, SATURN, URANUS, NEPTUNE; \r\n\r\n        public Planet getNext() {\r\n            return this.ordinal() &lt; Planet.values().length - 1\r\n                ? Planet.values()[this.ordinal() + 1]\r\n                : null;\r\n        }\r\n    }\r\n\r\n    private Planet planet;\r\n\r\n    public void someFunction()\r\n    {\r\n        planet = Planet.MARS;\r\n        planet = planet.getNext();\r\n        if(planet != null)\r\n        {\r\n            doStuff();\r\n        }\r\n    }\r\n    \r\n\r\nAnd of course, you can just use a switch-case statement with the enum based on whichever is selected in the field variable: https://stackoverflow.com/questions/8108980/java-using-enum-with-switch-statement\r\n\r\nA boolean variable to determine which one is &quot;currently selected&quot; isn&#39;t necessary at all.\r\n\r\nEDIT: Based on your comment, you want a singleton instance of Planet. Luckily enough, you can use the enum itself for that:\r\n\r\n    public enum Planet { \r\n        MERCURY, VENUS, EARTH, MARS, JUPITER, SATURN, URANUS, NEPTUNE; \r\n\r\n        private static Planet currentPlanet = MERCURY;\r\n\r\n        public static Planet getCurrentPlanet()\r\n        {\r\n            return currentPlanet;\r\n        }\r\n\r\n        public static boolean setToNext() {\r\n            boolean retVal = this.ordinal() &lt; Planet.values().length - 1;\r\n            currentPlanet = this.ordinal() &lt; Planet.values().length - 1\r\n                    ? Planet.values()[this.ordinal() + 1]\r\n                    : Planet.values()[0];\r\n            return retVal; //returns false when it was the last element of the enum\r\n        }\r\n    }\r\n\r\n\r\n    public void doSomething()\r\n    {\r\n        Planet planet;\r\n        do\r\n        {\r\n            planet = Planet.getCurrentPlanet();\r\n            //do things with planet, like write out their names\r\n            System.out.println(planet.name());\r\n        }\r\n        while(Planet.setToNext());\r\n    }","title":"How to get next in static enum","body":"<p>I hope you do realize that you could just have something like the following:</p>\n\n<pre><code>public enum Planet { \n    MERCURY, VENUS, EARTH, MARS, JUPITER, SATURN, URANUS, NEPTUNE; \n\n    public Planet getNext() {\n        return this.ordinal() &lt; Planet.values().length - 1\n            ? Planet.values()[this.ordinal() + 1]\n            : null;\n    }\n}\n\nprivate Planet planet;\n\npublic void someFunction()\n{\n    planet = Planet.MARS;\n    planet = planet.getNext();\n    if(planet != null)\n    {\n        doStuff();\n    }\n}\n</code></pre>\n\n<p>And of course, you can just use a switch-case statement with the enum based on whichever is selected in the field variable: <a href=\"https://stackoverflow.com/questions/8108980/java-using-enum-with-switch-statement\">Java using enum with switch statement</a></p>\n\n<p>A boolean variable to determine which one is \"currently selected\" isn't necessary at all.</p>\n\n<p>EDIT: Based on your comment, you want a singleton instance of Planet. Luckily enough, you can use the enum itself for that:</p>\n\n<pre><code>public enum Planet { \n    MERCURY, VENUS, EARTH, MARS, JUPITER, SATURN, URANUS, NEPTUNE; \n\n    private static Planet currentPlanet = MERCURY;\n\n    public static Planet getCurrentPlanet()\n    {\n        return currentPlanet;\n    }\n\n    public static boolean setToNext() {\n        boolean retVal = this.ordinal() &lt; Planet.values().length - 1;\n        currentPlanet = this.ordinal() &lt; Planet.values().length - 1\n                ? Planet.values()[this.ordinal() + 1]\n                : Planet.values()[0];\n        return retVal; //returns false when it was the last element of the enum\n    }\n}\n\n\npublic void doSomething()\n{\n    Planet planet;\n    do\n    {\n        planet = Planet.getCurrentPlanet();\n        //do things with planet, like write out their names\n        System.out.println(planet.name());\n    }\n    while(Planet.setToNext());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4826607,"reputation":604,"user_id":3895941,"accept_rate":72,"display_name":"Dmitrii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408222906,"creation_date":1408105095,"answer_id":25326265,"question_id":25323916,"body_markdown":"        public enum Planet {\r\n        \tEARTH,\r\n        \tMARS;\r\n        \r\n        \tpublic static Planet current = EARTH;\r\n        \r\n        \tPlanet() {\r\n        \t}\r\n        \r\n        \tpublic Planet getNext() {\r\n        \t\treturn values()[(ordinal() + 1) % values().length];\r\n        \t}\r\n        \r\n        \tpublic static void setNext(){\r\n        \t\tcurrent = current.getNext();\r\n        \t}\r\n        \r\n        \tpublic static Planet getCurrent(){\r\n        \t\treturn current;\r\n        \t}\r\n        \r\n        \r\n        }\r\n        \r\n    import static com.test.Planet.*;\r\n    \r\n        public class Main {\r\n        \tpublic static void main(String[] args){\r\n        \t\tgetCurrent();\r\n        \t\tsetNext();\r\n        \t}\r\n        }","title":"How to get next in static enum","body":"<pre><code>    public enum Planet {\n        EARTH,\n        MARS;\n\n        public static Planet current = EARTH;\n\n        Planet() {\n        }\n\n        public Planet getNext() {\n            return values()[(ordinal() + 1) % values().length];\n        }\n\n        public static void setNext(){\n            current = current.getNext();\n        }\n\n        public static Planet getCurrent(){\n            return current;\n        }\n\n\n    }\n\nimport static com.test.Planet.*;\n\n    public class Main {\n        public static void main(String[] args){\n            getCurrent();\n            setNext();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4826607,"reputation":604,"user_id":3895941,"accept_rate":72,"display_name":"Dmitrii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25324114,"answer_count":3,"score":1,"last_activity_date":1684781778,"creation_date":1408093751,"question_id":25323916,"body_markdown":"\tpublic enum Planet { \r\n\t\tMERCURY(false),\r\n        VENUS(false),\r\n        EARTH(false),\r\n        MARS(false),\r\n        JUPITER(false),\r\n        SATURN(false),\r\n        URANUS(false),\r\n        NEPTUNE(false); \r\n\t}\r\n        \r\n        public boolean isCurrent;\r\n\t\t\r\n        Planet(boolean isCurrent){\r\n           this.isCurrent = isCurrent;\r\n        }\r\n        \r\n        public static void next(){\r\n        if(planet == VENUS){\r\n            VENUS.isCurrent = false;\r\n            EARTH.isCurrent = true;\r\n            MARS.isCurrent = false;\r\n            JUPITER.isCurrent = false;\r\n            SATURN.isCurrent = false;\r\n            URANUS.isCurrent = false;\r\n            NEPTUNE.isCurrent = false;\r\n        }\r\n        if(planet == EARTH){\r\n            VENUS.isCurrent = false;\r\n            EARTH.isCurrent = false;\r\n            MARS.isCurrent = true;\r\n            JUPITER.isCurrent = false;\r\n            SATURN.isCurrent = false;\r\n            URANUS.isCurrent = false;\r\n            NEPTUNE.isCurrent = false;\r\n        }\r\n    ...  \r\n    }\r\n\r\ni found this solution,\r\n\r\n    private enum Planet { MERCURY, VENUS, EARTH, MARS, JUPITER, SATURN, URANUS, NEPTUNE;\r\n        public Planet getNext() {\r\n            return this.ordinal() &lt; Planet.values().length - 1\r\n                ? Planet.values()[this.ordinal() + 1]\r\n                : null;\r\n        }\r\n    }\r\n\r\nbut i&#39;m unable to use **this** cuz this enumeration is imported as static in other classes;\r\n\r\nFor now i use follow construction:\r\n\r\n     public static Planet setNewCurrent(){\r\n        for(Planet planet : Planet.values()){\r\n            if(planet == VENUS){\r\n                VENUS.isCurrent = false;\r\n                EARTH.isCurrent = true;\r\n                MARS.isCurrent = false;\r\n                JUPITER.isCurrent = false;\r\n                SATURN.isCurrent = false;\r\n                URANUS.isCurrent = false;\r\n                NEPTUNE.isCurrent = false;\r\n            }\r\n            if(planet == EARTH){\r\n                VENUS.isCurrent = false;\r\n                EARTH.isCurrent = false;\r\n                MARS.isCurrent = true;\r\n                JUPITER.isCurrent = false;\r\n                SATURN.isCurrent = false;\r\n                URANUS.isCurrent = false;\r\n                NEPTUNE.isCurrent = false;\r\n            }\r\n    ...\r\n        }\r\n\t}   \r\n\r\n\r\n\r\nDoes anyone know some convenient way to getNextPlanet() like this \r\n\r\n    planet.getNext().isCurrent = true;","title":"How to get next in static enum","body":"<pre><code>public enum Planet { \n    MERCURY(false),\n    VENUS(false),\n    EARTH(false),\n    MARS(false),\n    JUPITER(false),\n    SATURN(false),\n    URANUS(false),\n    NEPTUNE(false); \n}\n\n    public boolean isCurrent;\n\n    Planet(boolean isCurrent){\n       this.isCurrent = isCurrent;\n    }\n\n    public static void next(){\n    if(planet == VENUS){\n        VENUS.isCurrent = false;\n        EARTH.isCurrent = true;\n        MARS.isCurrent = false;\n        JUPITER.isCurrent = false;\n        SATURN.isCurrent = false;\n        URANUS.isCurrent = false;\n        NEPTUNE.isCurrent = false;\n    }\n    if(planet == EARTH){\n        VENUS.isCurrent = false;\n        EARTH.isCurrent = false;\n        MARS.isCurrent = true;\n        JUPITER.isCurrent = false;\n        SATURN.isCurrent = false;\n        URANUS.isCurrent = false;\n        NEPTUNE.isCurrent = false;\n    }\n...  \n}\n</code></pre>\n\n<p>i found this solution,</p>\n\n<pre><code>private enum Planet { MERCURY, VENUS, EARTH, MARS, JUPITER, SATURN, URANUS, NEPTUNE;\n    public Planet getNext() {\n        return this.ordinal() &lt; Planet.values().length - 1\n            ? Planet.values()[this.ordinal() + 1]\n            : null;\n    }\n}\n</code></pre>\n\n<p>but i'm unable to use <strong>this</strong> cuz this enumeration is imported as static in other classes;</p>\n\n<p>For now i use follow construction:</p>\n\n<pre><code> public static Planet setNewCurrent(){\n    for(Planet planet : Planet.values()){\n        if(planet == VENUS){\n            VENUS.isCurrent = false;\n            EARTH.isCurrent = true;\n            MARS.isCurrent = false;\n            JUPITER.isCurrent = false;\n            SATURN.isCurrent = false;\n            URANUS.isCurrent = false;\n            NEPTUNE.isCurrent = false;\n        }\n        if(planet == EARTH){\n            VENUS.isCurrent = false;\n            EARTH.isCurrent = false;\n            MARS.isCurrent = true;\n            JUPITER.isCurrent = false;\n            SATURN.isCurrent = false;\n            URANUS.isCurrent = false;\n            NEPTUNE.isCurrent = false;\n        }\n...\n    }\n}   \n</code></pre>\n\n<p>Does anyone know some convenient way to getNextPlanet() like this </p>\n\n<pre><code>planet.getNext().isCurrent = true;\n</code></pre>\n"},{"tags":["java","android","android-fragments","master-detail"],"answers":[{"tags":[],"owner":{"account_id":4370350,"reputation":11132,"user_id":3756408,"accept_rate":83,"display_name":"Darish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1502086590,"creation_date":1502082410,"answer_id":45539740,"question_id":45539547,"body_markdown":"This is the code snippet used to forward to the `detail page`.\r\n\r\n     if (mTwoPane) {\r\n                        Bundle arguments = new Bundle();\r\n                        arguments.putString(ItemDetailFragment.ARG_ITEM_ID, holder.mItem.id);\r\n                        ItemDetailFragment fragment = new ItemDetailFragment();\r\n                        fragment.setArguments(arguments);\r\n                        getSupportFragmentManager().beginTransaction()\r\n                                .replace(R.id.item_detail_container, fragment)\r\n                                .commit();\r\n                    } else {\r\n                        Context context = v.getContext();\r\n                        Intent intent = new Intent(context, ItemDetailActivity.class);\r\n                        intent.putExtra(ItemDetailFragment.ARG_ITEM_ID, holder.mItem.id);\r\n\r\n                        context.startActivity(intent);\r\n                    }\r\n\r\n\r\nYou can forward to any page by changing the value of  `arguments.putString(ItemDetailFragment.ARG_ITEM_ID, holder.mItem.id);`\r\n\r\nUse the above snippets in the `onClick` events of `next` and `prev` buttons. cheers :)","title":"How to programmatically Next and Prev buttons for Master / Detail flow","body":"<p>This is the code snippet used to forward to the <code>detail page</code>.</p>\n\n<pre><code> if (mTwoPane) {\n                    Bundle arguments = new Bundle();\n                    arguments.putString(ItemDetailFragment.ARG_ITEM_ID, holder.mItem.id);\n                    ItemDetailFragment fragment = new ItemDetailFragment();\n                    fragment.setArguments(arguments);\n                    getSupportFragmentManager().beginTransaction()\n                            .replace(R.id.item_detail_container, fragment)\n                            .commit();\n                } else {\n                    Context context = v.getContext();\n                    Intent intent = new Intent(context, ItemDetailActivity.class);\n                    intent.putExtra(ItemDetailFragment.ARG_ITEM_ID, holder.mItem.id);\n\n                    context.startActivity(intent);\n                }\n</code></pre>\n\n<p>You can forward to any page by changing the value of  <code>arguments.putString(ItemDetailFragment.ARG_ITEM_ID, holder.mItem.id);</code></p>\n\n<p>Use the above snippets in the <code>onClick</code> events of <code>next</code> and <code>prev</code> buttons. cheers :)</p>\n"}],"owner":{"account_id":8083358,"reputation":67,"user_id":6091678,"accept_rate":100,"display_name":"xxmilcutexx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45539740,"answer_count":1,"score":0,"last_activity_date":1684781693,"creation_date":1502080922,"question_id":45539547,"body_markdown":"I have created a sample app using the &quot;*Master / Detail flow*&quot; activity. I have added two buttons, **Next** and **Prev** to the detail activity. How to I set programmatically the buttons actions instead having to go back and forth between the **List**  and **detail**?\r\n\r\n[![app&#39;s screenshot][1]][1]\r\n\r\n**item_detail.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                  android:layout_width=&quot;match_parent&quot;\r\n                  android:layout_height=&quot;match_parent&quot;\r\n                  xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                  android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingStart=&quot;30dp&quot;\r\n            android:paddingEnd=&quot;30dp&quot;\r\n            android:weightSum=&quot;4&quot;\r\n            android:gravity=&quot;end&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/button_prev&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Prev&quot;/&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/button_next&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Next&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                  xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n                  android:id=&quot;@+id/item_detail&quot;\r\n                  style=&quot;?android:attr/textAppearanceLarge&quot;\r\n                  android:layout_width=&quot;match_parent&quot;\r\n                  android:layout_height=&quot;match_parent&quot;\r\n                  android:padding=&quot;16dp&quot;\r\n                  android:textIsSelectable=&quot;true&quot;\r\n                  tools:context=&quot;co.test.app.sample.itemapplication.ItemDetailFragment&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n**activity_item_detail.xml**\r\n\r\n    &lt;android.support.design.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                                                     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                                                     xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n                                                     android:layout_width=&quot;match_parent&quot;\r\n                                                     android:layout_height=&quot;match_parent&quot;\r\n                                                     android:fitsSystemWindows=&quot;true&quot;\r\n                                                     tools:context=&quot;co.test.app.sample.itemapplication.ItemDetailActivity&quot;\r\n                                                     tools:ignore=&quot;MergeRootFrame&quot;&gt;\r\n    \r\n        &lt;android.support.design.widget.AppBarLayout\r\n            android:id=&quot;@+id/app_bar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;@dimen/app_bar_height&quot;\r\n            android:fitsSystemWindows=&quot;true&quot;\r\n            android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&gt;\r\n    \r\n            &lt;android.support.design.widget.CollapsingToolbarLayout\r\n                android:id=&quot;@+id/toolbar_layout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:fitsSystemWindows=&quot;true&quot;\r\n                app:contentScrim=&quot;?attr/colorPrimary&quot;\r\n                app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;\r\n                app:toolbarId=&quot;@+id/toolbar&quot;&gt;\r\n    \r\n                &lt;android.support.v7.widget.Toolbar\r\n                    android:id=&quot;@+id/detail_toolbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                    app:layout_collapseMode=&quot;pin&quot;\r\n                    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;/&gt;\r\n            &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\r\n    \r\n        &lt;/android.support.design.widget.AppBarLayout&gt;\r\n    \r\n        &lt;android.support.v4.widget.NestedScrollView\r\n            android:id=&quot;@+id/item_detail_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n    \r\n        &lt;/android.support.v4.widget.NestedScrollView&gt;\r\n    \r\n    &lt;/android.support.design.widget.CoordinatorLayout&gt;\r\n\r\n**DummyContent.java**\r\n\r\n    package co.test.app.sample.itemapplication.dummy;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    /**\r\n     * Helper class for providing sample content for user interfaces created by\r\n     * Android template wizards.\r\n     * &lt;p&gt;\r\n     * TODO: Replace all uses of this class before publishing your app.\r\n     */\r\n    public class DummyContent {\r\n    \r\n    \t/**\r\n    \t * An array of sample (dummy) items.\r\n    \t */\r\n    \tpublic static final List&lt;DummyItem&gt; ITEMS = new ArrayList&lt;DummyItem&gt;();\r\n    \r\n    \t/**\r\n    \t * A map of sample (dummy) items, by ID.\r\n    \t */\r\n    \tpublic static final Map&lt;String, DummyItem&gt; ITEM_MAP = new HashMap&lt;String, DummyItem&gt;();\r\n    \r\n    \tprivate static final int COUNT = 25;\r\n    \r\n    \tstatic {\r\n    \t\t// Add some sample items.\r\n    \t\tfor (int i = 1; i &lt;= COUNT; i++) {\r\n    \t\t\taddItem(createDummyItem(i));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void addItem(DummyItem item) {\r\n    \t\tITEMS.add(item);\r\n    \t\tITEM_MAP.put(item.id, item);\r\n    \t}\r\n    \r\n    \tprivate static DummyItem createDummyItem(int position) {\r\n    \t\treturn new DummyItem(String.valueOf(position), &quot;Item &quot; + position, makeDetails(position));\r\n    \t}\r\n    \r\n    \tprivate static String makeDetails(int position) {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(&quot;Details about Item: &quot;).append(position);\r\n    \t\tfor (int i = 0; i &lt; position; i++) {\r\n    \t\t\tbuilder.append(&quot;\\nMore details information here.&quot;);\r\n    \t\t}\r\n    \t\treturn builder.toString();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * A dummy item representing a piece of content.\r\n    \t */\r\n    \tpublic static class DummyItem {\r\n    \t\tpublic final String id;\r\n    \t\tpublic final String content;\r\n    \t\tpublic final String details;\r\n    \r\n    \t\tpublic DummyItem(String id, String content, String details) {\r\n    \t\t\tthis.id = id;\r\n    \t\t\tthis.content = content;\r\n    \t\t\tthis.details = details;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn content;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**ItemDetailActivity.java**\r\n\r\n    package co.test.app.sample.itemapplication;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.support.design.widget.FloatingActionButton;\r\n    import android.support.design.widget.Snackbar;\r\n    import android.support.v7.widget.Toolbar;\r\n    import android.view.View;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.app.ActionBar;\r\n    import android.view.MenuItem;\r\n    \r\n    /**\r\n     * An activity representing a single Item detail screen. This\r\n     * activity is only used narrow width devices. On tablet-size devices,\r\n     * item details are presented side-by-side with a list of items\r\n     * in a {@link ItemListActivity}.\r\n     */\r\n    public class ItemDetailActivity extends AppCompatActivity {\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_item_detail);\r\n    \t\tToolbar toolbar = (Toolbar) findViewById(R.id.detail_toolbar);\r\n    \t\tsetSupportActionBar(toolbar);\r\n    \r\n    \t\t// Show the Up button in the action bar.\r\n    \t\tActionBar actionBar = getSupportActionBar();\r\n    \t\tif (actionBar != null) {\r\n    \t\t\tactionBar.setDisplayHomeAsUpEnabled(true);\r\n    \t\t}\r\n    \r\n    \t\t// savedInstanceState is non-null when there is fragment state\r\n    \t\t// saved from previous configurations of this activity\r\n    \t\t// (e.g. when rotating the screen from portrait to landscape).\r\n    \t\t// In this case, the fragment will automatically be re-added\r\n    \t\t// to its container so we don&#39;t need to manually add it.\r\n    \t\t// For more information, see the Fragments API guide at:\r\n    \t\t//\r\n    \t\t// http://developer.android.com/guide/components/fragments.html\r\n    \t\t//\r\n    \t\tif (savedInstanceState == null) {\r\n    \t\t\t// Create the detail fragment and add it to the activity\r\n    \t\t\t// using a fragment transaction.\r\n    \t\t\tBundle arguments = new Bundle();\r\n    \t\t\targuments.putString(ItemDetailFragment.ARG_ITEM_ID,\r\n    \t\t\t\t\tgetIntent().getStringExtra(ItemDetailFragment.ARG_ITEM_ID));\r\n    \t\t\tItemDetailFragment fragment = new ItemDetailFragment();\r\n    \t\t\tfragment.setArguments(arguments);\r\n    \t\t\tgetSupportFragmentManager().beginTransaction()\r\n    \t\t\t\t\t.add(R.id.item_detail_container, fragment)\r\n    \t\t\t\t\t.commit();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean onOptionsItemSelected(MenuItem item) {\r\n    \t\tint id = item.getItemId();\r\n    \t\tif (id == android.R.id.home) {\r\n    \t\t\t// This ID represents the Home or Up button. In the case of this\r\n    \t\t\t// activity, the Up button is shown. For\r\n    \t\t\t// more details, see the Navigation pattern on Android Design:\r\n    \t\t\t//\r\n    \t\t\t// http://developer.android.com/design/patterns/navigation.html#up-vs-back\r\n    \t\t\t//\r\n    \t\t\tnavigateUpTo(new Intent(this, ItemListActivity.class));\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn super.onOptionsItemSelected(item);\r\n    \t}\r\n    }\r\n\r\n**ItemListActivity.java**\r\n\r\n    package co.test.app.sample.itemapplication;\r\n    \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.support.annotation.NonNull;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.support.v7.widget.Toolbar;\r\n    import android.support.design.widget.FloatingActionButton;\r\n    import android.support.design.widget.Snackbar;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    \r\n    \r\n    import co.test.app.sample.itemapplication.dummy.DummyContent;\r\n    \r\n    import java.util.List;\r\n    \r\n    /**\r\n     * An activity representing a list of Items. This activity\r\n     * has different presentations for handset and tablet-size devices. On\r\n     * handsets, the activity presents a list of items, which when touched,\r\n     * lead to a {@link ItemDetailActivity} representing\r\n     * item details. On tablets, the activity presents the list of items and\r\n     * item details side-by-side using two vertical panes.\r\n     */\r\n    public class ItemListActivity extends AppCompatActivity {\r\n    \r\n    \t/**\r\n    \t * Whether or not the activity is in two-pane mode, i.e. running on a tablet\r\n    \t * device.\r\n    \t */\r\n    \tprivate boolean mTwoPane;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_item_list);\r\n    \r\n    \t\tToolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n    \t\tsetSupportActionBar(toolbar);\r\n    \t\ttoolbar.setTitle(getTitle());\r\n    \r\n    \t\tFloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\r\n    \t\tfab.setOnClickListener(new View.OnClickListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View view) {\r\n    \t\t\t\tSnackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n    \t\t\t\t\t\t.setAction(&quot;Action&quot;, null).show();\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tView recyclerView = findViewById(R.id.item_list);\r\n    \t\tassert recyclerView != null;\r\n    \t\tsetupRecyclerView((RecyclerView) recyclerView);\r\n    \r\n    \t\tif (findViewById(R.id.item_detail_container) != null) {\r\n    \t\t\t// The detail container view will be present only in the\r\n    \t\t\t// large-screen layouts (res/values-w900dp).\r\n    \t\t\t// If this view is present, then the\r\n    \t\t\t// activity should be in two-pane mode.\r\n    \t\t\tmTwoPane = true;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void setupRecyclerView(@NonNull RecyclerView recyclerView) {\r\n    \t\trecyclerView.setAdapter(new SimpleItemRecyclerViewAdapter(DummyContent.ITEMS));\r\n    \t}\r\n    \r\n    \tpublic class SimpleItemRecyclerViewAdapter\r\n    \t\t\textends RecyclerView.Adapter&lt;SimpleItemRecyclerViewAdapter.ViewHolder&gt; {\r\n    \r\n    \t\tprivate final List&lt;DummyContent.DummyItem&gt; mValues;\r\n    \r\n    \t\tpublic SimpleItemRecyclerViewAdapter(List&lt;DummyContent.DummyItem&gt; items) {\r\n    \t\t\tmValues = items;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n    \t\t\tView view = LayoutInflater.from(parent.getContext())\r\n    \t\t\t\t\t.inflate(R.layout.item_list_content, parent, false);\r\n    \t\t\treturn new ViewHolder(view);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onBindViewHolder(final ViewHolder holder, int position) {\r\n    \t\t\tholder.mItem = mValues.get(position);\r\n    \t\t\tholder.mIdView.setText(mValues.get(position).id);\r\n    \t\t\tholder.mContentView.setText(mValues.get(position).content);\r\n    \r\n    \t\t\tholder.mView.setOnClickListener(new View.OnClickListener() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t\tif (mTwoPane) {\r\n    \t\t\t\t\t\tBundle arguments = new Bundle();\r\n    \t\t\t\t\t\targuments.putString(ItemDetailFragment.ARG_ITEM_ID, holder.mItem.id);\r\n    \t\t\t\t\t\tItemDetailFragment fragment = new ItemDetailFragment();\r\n    \t\t\t\t\t\tfragment.setArguments(arguments);\r\n    \t\t\t\t\t\tgetSupportFragmentManager().beginTransaction()\r\n    \t\t\t\t\t\t\t\t.replace(R.id.item_detail_container, fragment)\r\n    \t\t\t\t\t\t\t\t.commit();\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tContext context = v.getContext();\r\n    \t\t\t\t\t\tIntent intent = new Intent(context, ItemDetailActivity.class);\r\n    \t\t\t\t\t\tintent.putExtra(ItemDetailFragment.ARG_ITEM_ID, holder.mItem.id);\r\n    \r\n    \t\t\t\t\t\tcontext.startActivity(intent);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int getItemCount() {\r\n    \t\t\treturn mValues.size();\r\n    \t\t}\r\n    \r\n    \t\tpublic class ViewHolder extends RecyclerView.ViewHolder {\r\n    \t\t\tpublic final View mView;\r\n    \t\t\tpublic final TextView mIdView;\r\n    \t\t\tpublic final TextView mContentView;\r\n    \t\t\tpublic DummyContent.DummyItem mItem;\r\n    \r\n    \t\t\tpublic ViewHolder(View view) {\r\n    \t\t\t\tsuper(view);\r\n    \t\t\t\tmView = view;\r\n    \t\t\t\tmIdView = (TextView) view.findViewById(R.id.id);\r\n    \t\t\t\tmContentView = (TextView) view.findViewById(R.id.content);\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic String toString() {\r\n    \t\t\t\treturn super.toString() + &quot; &#39;&quot; + mContentView.getText() + &quot;&#39;&quot;;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rswzu.png","title":"How to programmatically Next and Prev buttons for Master / Detail flow","body":"<p>I have created a sample app using the \"<em>Master / Detail flow</em>\" activity. I have added two buttons, <strong>Next</strong> and <strong>Prev</strong> to the detail activity. How to I set programmatically the buttons actions instead having to go back and forth between the <strong>List</strong>  and <strong>detail</strong>?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Rswzu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rswzu.png\" alt=\"app&#39;s screenshot\"></a></p>\n\n<p><strong>item_detail.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"\n              xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n              android:orientation=\"vertical\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:paddingStart=\"30dp\"\n        android:paddingEnd=\"30dp\"\n        android:weightSum=\"4\"\n        android:gravity=\"end\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;Button\n            android:id=\"@+id/button_prev\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:text=\"Prev\"/&gt;\n\n        &lt;Button\n            android:id=\"@+id/button_next\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:text=\"Next\"/&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              xmlns:tools=\"http://schemas.android.com/tools\"\n              android:id=\"@+id/item_detail\"\n              style=\"?android:attr/textAppearanceLarge\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"\n              android:padding=\"16dp\"\n              android:textIsSelectable=\"true\"\n              tools:context=\"co.test.app.sample.itemapplication.ItemDetailFragment\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>activity_item_detail.xml</strong></p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                                 xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                                                 xmlns:tools=\"http://schemas.android.com/tools\"\n                                                 android:layout_width=\"match_parent\"\n                                                 android:layout_height=\"match_parent\"\n                                                 android:fitsSystemWindows=\"true\"\n                                                 tools:context=\"co.test.app.sample.itemapplication.ItemDetailActivity\"\n                                                 tools:ignore=\"MergeRootFrame\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:id=\"@+id/app_bar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"@dimen/app_bar_height\"\n        android:fitsSystemWindows=\"true\"\n        android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\n\n        &lt;android.support.design.widget.CollapsingToolbarLayout\n            android:id=\"@+id/toolbar_layout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:fitsSystemWindows=\"true\"\n            app:contentScrim=\"?attr/colorPrimary\"\n            app:layout_scrollFlags=\"scroll|exitUntilCollapsed\"\n            app:toolbarId=\"@+id/toolbar\"&gt;\n\n            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/detail_toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                app:layout_collapseMode=\"pin\"\n                app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"/&gt;\n        &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:id=\"@+id/item_detail_container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p><strong>DummyContent.java</strong></p>\n\n<pre><code>package co.test.app.sample.itemapplication.dummy;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * Helper class for providing sample content for user interfaces created by\n * Android template wizards.\n * &lt;p&gt;\n * TODO: Replace all uses of this class before publishing your app.\n */\npublic class DummyContent {\n\n    /**\n     * An array of sample (dummy) items.\n     */\n    public static final List&lt;DummyItem&gt; ITEMS = new ArrayList&lt;DummyItem&gt;();\n\n    /**\n     * A map of sample (dummy) items, by ID.\n     */\n    public static final Map&lt;String, DummyItem&gt; ITEM_MAP = new HashMap&lt;String, DummyItem&gt;();\n\n    private static final int COUNT = 25;\n\n    static {\n        // Add some sample items.\n        for (int i = 1; i &lt;= COUNT; i++) {\n            addItem(createDummyItem(i));\n        }\n    }\n\n    private static void addItem(DummyItem item) {\n        ITEMS.add(item);\n        ITEM_MAP.put(item.id, item);\n    }\n\n    private static DummyItem createDummyItem(int position) {\n        return new DummyItem(String.valueOf(position), \"Item \" + position, makeDetails(position));\n    }\n\n    private static String makeDetails(int position) {\n        StringBuilder builder = new StringBuilder();\n        builder.append(\"Details about Item: \").append(position);\n        for (int i = 0; i &lt; position; i++) {\n            builder.append(\"\\nMore details information here.\");\n        }\n        return builder.toString();\n    }\n\n    /**\n     * A dummy item representing a piece of content.\n     */\n    public static class DummyItem {\n        public final String id;\n        public final String content;\n        public final String details;\n\n        public DummyItem(String id, String content, String details) {\n            this.id = id;\n            this.content = content;\n            this.details = details;\n        }\n\n        @Override\n        public String toString() {\n            return content;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>ItemDetailActivity.java</strong></p>\n\n<pre><code>package co.test.app.sample.itemapplication;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.design.widget.Snackbar;\nimport android.support.v7.widget.Toolbar;\nimport android.view.View;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.app.ActionBar;\nimport android.view.MenuItem;\n\n/**\n * An activity representing a single Item detail screen. This\n * activity is only used narrow width devices. On tablet-size devices,\n * item details are presented side-by-side with a list of items\n * in a {@link ItemListActivity}.\n */\npublic class ItemDetailActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_item_detail);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.detail_toolbar);\n        setSupportActionBar(toolbar);\n\n        // Show the Up button in the action bar.\n        ActionBar actionBar = getSupportActionBar();\n        if (actionBar != null) {\n            actionBar.setDisplayHomeAsUpEnabled(true);\n        }\n\n        // savedInstanceState is non-null when there is fragment state\n        // saved from previous configurations of this activity\n        // (e.g. when rotating the screen from portrait to landscape).\n        // In this case, the fragment will automatically be re-added\n        // to its container so we don't need to manually add it.\n        // For more information, see the Fragments API guide at:\n        //\n        // http://developer.android.com/guide/components/fragments.html\n        //\n        if (savedInstanceState == null) {\n            // Create the detail fragment and add it to the activity\n            // using a fragment transaction.\n            Bundle arguments = new Bundle();\n            arguments.putString(ItemDetailFragment.ARG_ITEM_ID,\n                    getIntent().getStringExtra(ItemDetailFragment.ARG_ITEM_ID));\n            ItemDetailFragment fragment = new ItemDetailFragment();\n            fragment.setArguments(arguments);\n            getSupportFragmentManager().beginTransaction()\n                    .add(R.id.item_detail_container, fragment)\n                    .commit();\n        }\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == android.R.id.home) {\n            // This ID represents the Home or Up button. In the case of this\n            // activity, the Up button is shown. For\n            // more details, see the Navigation pattern on Android Design:\n            //\n            // http://developer.android.com/design/patterns/navigation.html#up-vs-back\n            //\n            navigateUpTo(new Intent(this, ItemListActivity.class));\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n\n<p><strong>ItemListActivity.java</strong></p>\n\n<pre><code>package co.test.app.sample.itemapplication;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.support.annotation.NonNull;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.RecyclerView;\nimport android.support.v7.widget.Toolbar;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.design.widget.Snackbar;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\n\nimport co.test.app.sample.itemapplication.dummy.DummyContent;\n\nimport java.util.List;\n\n/**\n * An activity representing a list of Items. This activity\n * has different presentations for handset and tablet-size devices. On\n * handsets, the activity presents a list of items, which when touched,\n * lead to a {@link ItemDetailActivity} representing\n * item details. On tablets, the activity presents the list of items and\n * item details side-by-side using two vertical panes.\n */\npublic class ItemListActivity extends AppCompatActivity {\n\n    /**\n     * Whether or not the activity is in two-pane mode, i.e. running on a tablet\n     * device.\n     */\n    private boolean mTwoPane;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_item_list);\n\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        toolbar.setTitle(getTitle());\n\n        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                        .setAction(\"Action\", null).show();\n            }\n        });\n\n        View recyclerView = findViewById(R.id.item_list);\n        assert recyclerView != null;\n        setupRecyclerView((RecyclerView) recyclerView);\n\n        if (findViewById(R.id.item_detail_container) != null) {\n            // The detail container view will be present only in the\n            // large-screen layouts (res/values-w900dp).\n            // If this view is present, then the\n            // activity should be in two-pane mode.\n            mTwoPane = true;\n        }\n    }\n\n    private void setupRecyclerView(@NonNull RecyclerView recyclerView) {\n        recyclerView.setAdapter(new SimpleItemRecyclerViewAdapter(DummyContent.ITEMS));\n    }\n\n    public class SimpleItemRecyclerViewAdapter\n            extends RecyclerView.Adapter&lt;SimpleItemRecyclerViewAdapter.ViewHolder&gt; {\n\n        private final List&lt;DummyContent.DummyItem&gt; mValues;\n\n        public SimpleItemRecyclerViewAdapter(List&lt;DummyContent.DummyItem&gt; items) {\n            mValues = items;\n        }\n\n        @Override\n        public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.item_list_content, parent, false);\n            return new ViewHolder(view);\n        }\n\n        @Override\n        public void onBindViewHolder(final ViewHolder holder, int position) {\n            holder.mItem = mValues.get(position);\n            holder.mIdView.setText(mValues.get(position).id);\n            holder.mContentView.setText(mValues.get(position).content);\n\n            holder.mView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    if (mTwoPane) {\n                        Bundle arguments = new Bundle();\n                        arguments.putString(ItemDetailFragment.ARG_ITEM_ID, holder.mItem.id);\n                        ItemDetailFragment fragment = new ItemDetailFragment();\n                        fragment.setArguments(arguments);\n                        getSupportFragmentManager().beginTransaction()\n                                .replace(R.id.item_detail_container, fragment)\n                                .commit();\n                    } else {\n                        Context context = v.getContext();\n                        Intent intent = new Intent(context, ItemDetailActivity.class);\n                        intent.putExtra(ItemDetailFragment.ARG_ITEM_ID, holder.mItem.id);\n\n                        context.startActivity(intent);\n                    }\n                }\n            });\n        }\n\n        @Override\n        public int getItemCount() {\n            return mValues.size();\n        }\n\n        public class ViewHolder extends RecyclerView.ViewHolder {\n            public final View mView;\n            public final TextView mIdView;\n            public final TextView mContentView;\n            public DummyContent.DummyItem mItem;\n\n            public ViewHolder(View view) {\n                super(view);\n                mView = view;\n                mIdView = (TextView) view.findViewById(R.id.id);\n                mContentView = (TextView) view.findViewById(R.id.content);\n            }\n\n            @Override\n            public String toString() {\n                return super.toString() + \" '\" + mContentView.getText() + \"'\";\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","iterator","java.util.scanner","do-while","boolean-logic"],"answers":[{"tags":[],"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513297397,"creation_date":1513297023,"answer_id":47824079,"question_id":47823962,"body_markdown":"Just check the value of guess and if it doesn&#39;t satisfy the requirements ask again like this\r\n\r\n        int guess = input.nextInt(); //user&#39;s guess / HiLo\r\n\r\n        //invalid user entry\r\n        while(guess != 1 &amp;&amp; guess != 2) \r\n        {\r\n            System.out.println(&quot;Invalid entry&quot;); // print incorrect guess entry input\r\n            System.out.println(&quot;To guess higher enter [1], or to guess lower, enter [2].&quot;);\r\n            guess = input.nextInt(); //reset scanner &quot;input&quot;\r\n        }\r\n\r\nSomething like this will work for anything entered by the user where we grab the entire line and see if it matches a digit, if it does then we parse the input into an integer and report if the value was not a 1 or 2 and continue to ask for input until the user enters the desired value of a 1 or 2\r\n\r\n          int guess = 0;\r\n\t\t  while(guess != 1 &amp;&amp; guess != 2)\r\n\t\t  {\r\n\t\t\t  String inputFromUser = input.nextLine();\r\n\t\t\t  if(inputFromUser.matches(&quot;\\\\d+&quot;))\r\n\t\t\t  {\r\n\t\t\t\t  guess = Integer.parseInt(inputFromUser);\r\n\t\t\t\t  if(guess != 1 &amp;&amp; guess != 2)\r\n\t\t\t\t\t  System.out.println(&quot;Value must be either a 1 or 2&quot;);\r\n\t\t\t  }\r\n\t\t\t  else\r\n\t\t\t\t  System.out.println(&quot;Invalid entry&quot;);\r\n\t\t  }","title":"User Input Validation - hasnext() while","body":"<p>Just check the value of guess and if it doesn't satisfy the requirements ask again like this</p>\n\n<pre><code>    int guess = input.nextInt(); //user's guess / HiLo\n\n    //invalid user entry\n    while(guess != 1 &amp;&amp; guess != 2) \n    {\n        System.out.println(\"Invalid entry\"); // print incorrect guess entry input\n        System.out.println(\"To guess higher enter [1], or to guess lower, enter [2].\");\n        guess = input.nextInt(); //reset scanner \"input\"\n    }\n</code></pre>\n\n<p>Something like this will work for anything entered by the user where we grab the entire line and see if it matches a digit, if it does then we parse the input into an integer and report if the value was not a 1 or 2 and continue to ask for input until the user enters the desired value of a 1 or 2</p>\n\n<pre><code>      int guess = 0;\n      while(guess != 1 &amp;&amp; guess != 2)\n      {\n          String inputFromUser = input.nextLine();\n          if(inputFromUser.matches(\"\\\\d+\"))\n          {\n              guess = Integer.parseInt(inputFromUser);\n              if(guess != 1 &amp;&amp; guess != 2)\n                  System.out.println(\"Value must be either a 1 or 2\");\n          }\n          else\n              System.out.println(\"Invalid entry\");\n      }\n</code></pre>\n"}],"owner":{"display_name":"user9100002"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684781625,"creation_date":1513296131,"question_id":47823962,"body_markdown":"I have created a game that prints a random roll number between 1 &amp; 10. The system then asks the user if they want to guess higher [1] or lower [2] for a second roll number. Based on their guess the system will print either &quot;Draw!&quot;, &quot;You guessed incorrectly.&quot; or &quot;You guessed correctly.&quot;. The program then prompts the user as to whether they would like to restart the program (yes [y]) using a while loop.\r\n\r\nHowever, now I am trying to validate the integer &#39;Guess&#39; user input so that only [1]/[2] can be entered respectively. I am having difficulty setting these conditions using the hasNext() method using while loop. My program now doesn&#39;t continue after inserting the while loop upon correct or incorrect user entry.\r\n\r\nSee &quot;//invalid user entry&quot; block\r\n\r\nCode:\r\n\r\n    public static void main(String args[]) {\r\n        String replay = &quot;y&quot;;\r\n        Scanner input = new Scanner (System.in);\r\n        while(replay.equals(&quot;y&quot;))\r\n        {\r\n\r\n            //roll one\r\n            int rNum1 = (int)(Math.random() * 11); //declare random roll one,  gives result between 1 and 10\r\n\r\n            //print roll one\r\n            System.out.println(&quot;You roll the 10-sided die.&quot;); \r\n            System.out.println(&quot;It lands on &quot; + rNum1 + &quot;.&quot;);\r\n            System.out.println(); //space\r\n\r\n            //User guess\r\n            System.out.println(&quot;Will a second die roll higher or lower?&quot;);\r\n            System.out.println(&quot;To guess higher enter [1], or to guess lower, enter [2].&quot;);\r\n\r\n            //roll two\r\n            int rNum2 = (int)(Math.random() * 11); //declare random roll two\r\n            int guess = input.nextInt(); //user&#39;s guess / HiLo\r\n\r\n            //invalid user entry\r\n            while(!input.hasNextInt() || (guess != 1 &amp;&amp; guess != 2)) \r\n            {\r\n                System.out.println(&quot;Invalid entry&quot;); // print incorrect guess entry input\r\n                System.out.println(&quot;To guess higher enter [1], or to guess lower, enter [2].&quot;);\r\n                input.next(); //reset scanner &quot;input&quot;\r\n            }\r\n            \r\n            //print roll two\r\n            System.out.println(); //space\r\n            System.out.println(&quot;You roll the die again.&quot;); \r\n            System.out.println(&quot;It lands on &quot; + rNum2 + &quot;.&quot;);\r\n            System.out.println(); //space\r\n\r\n            \r\n            if (guess == 1) //guessed higher\r\n            {\r\n                if (rNum1 == rNum2)\r\n                {\r\n                    System.out.println(&quot;Draw!&quot;);\r\n                }\r\n                else if (rNum1 &gt; rNum2)\r\n                {\r\n                    System.out.println(&quot;You guessed wrongly.&quot;);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;You guessed correctly!&quot;);\r\n                }\r\n            }\r\n\r\n            if (guess == 2) //guessed lower\r\n            {\r\n                if (rNum1 == rNum2)\r\n                {\r\n                    System.out.println(&quot;Draw!&quot;);\r\n                }\r\n                else if (rNum1 &gt; rNum2)\r\n                {\r\n                    System.out.println(&quot;You guessed correctly!&quot;);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;You guessed wrongly.&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;Would you like to play again? Enter [y] for yes.&quot;);\r\n            replay = input.nextLine();\r\n        }\r\n    }\r","title":"User Input Validation - hasnext() while","body":"<p>I have created a game that prints a random roll number between 1 &amp; 10. The system then asks the user if they want to guess higher [1] or lower [2] for a second roll number. Based on their guess the system will print either \"Draw!\", \"You guessed incorrectly.\" or \"You guessed correctly.\". The program then prompts the user as to whether they would like to restart the program (yes [y]) using a while loop.</p>\n\n<p>However, now I am trying to validate the integer 'Guess' user input so that only [1]/[2] can be entered respectively. I am having difficulty setting these conditions using the hasNext() method using while loop. My program now doesn't continue after inserting the while loop upon correct or incorrect user entry.</p>\n\n<p>See \"//invalid user entry\" block</p>\n\n<p>Code:</p>\n\n<pre><code>public static void main(String args[]) {\n    String replay = \"y\";\n    Scanner input = new Scanner (System.in);\n    while(replay.equals(\"y\"))\n    {\n\n        //roll one\n        int rNum1 = (int)(Math.random() * 11); //declare random roll one,  gives result between 1 and 10\n\n        //print roll one\n        System.out.println(\"You roll the 10-sided die.\"); \n        System.out.println(\"It lands on \" + rNum1 + \".\");\n        System.out.println(); //space\n\n        //User guess\n        System.out.println(\"Will a second die roll higher or lower?\");\n        System.out.println(\"To guess higher enter [1], or to guess lower, enter [2].\");\n\n        //roll two\n        int rNum2 = (int)(Math.random() * 11); //declare random roll two\n        int guess = input.nextInt(); //user's guess / HiLo\n\n        //invalid user entry\n        while(!input.hasNextInt() || (guess != 1 &amp;&amp; guess != 2)) \n        {\n            System.out.println(\"Invalid entry\"); // print incorrect guess entry input\n            System.out.println(\"To guess higher enter [1], or to guess lower, enter [2].\");\n            input.next(); //reset scanner \"input\"\n        }\n\n        //print roll two\n        System.out.println(); //space\n        System.out.println(\"You roll the die again.\"); \n        System.out.println(\"It lands on \" + rNum2 + \".\");\n        System.out.println(); //space\n\n\n        if (guess == 1) //guessed higher\n        {\n            if (rNum1 == rNum2)\n            {\n                System.out.println(\"Draw!\");\n            }\n            else if (rNum1 &gt; rNum2)\n            {\n                System.out.println(\"You guessed wrongly.\");\n            }\n            else\n            {\n                System.out.println(\"You guessed correctly!\");\n            }\n        }\n\n        if (guess == 2) //guessed lower\n        {\n            if (rNum1 == rNum2)\n            {\n                System.out.println(\"Draw!\");\n            }\n            else if (rNum1 &gt; rNum2)\n            {\n                System.out.println(\"You guessed correctly!\");\n            }\n            else\n            {\n                System.out.println(\"You guessed wrongly.\");\n            }\n        }\n        System.out.println(\"Would you like to play again? Enter [y] for yes.\");\n        replay = input.nextLine();\n    }\n}\n</code></pre>\n"},{"tags":["java","datetime","java-time","zoneddatetime","datetime-conversion"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1684406459,"post_id":76279794,"comment_id":134514541,"body_markdown":"In Java `ZoneInfo` has this code `aliases.put(&quot;MST&quot;, &quot;America/Denver&quot;);`, instead of MST try to use the city instead","body":"In Java <code>ZoneInfo</code> has this code <code>aliases.put(&quot;MST&quot;, &quot;America&#47;Denver&quot;);</code>, instead of MST try to use the city instead"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684408428,"post_id":76279794,"comment_id":134514866,"body_markdown":"java&#39;s output is correct: the purpose of different names for the same TZ (MDT/MST in your case) is just to provide extra information to a **human** whether date/time specified is affected by DST or not.","body":"java&#39;s output is correct: the purpose of different names for the same TZ (MDT/MST in your case) is just to provide extra information to a <b>human</b> whether date/time specified is affected by DST or not."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1684422973,"post_id":76279794,"comment_id":134518135,"body_markdown":"This is happening because ZonedDateTime.parse uses ZonedDateTime.from, whose [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html#from(java.time.temporal.TemporalAccessor)) states: “The conversion will first obtain a ZoneId from the temporal object, falling back to a ZoneOffset if necessary.”  So &quot;MST&quot; is converted to a ZoneId, which always has DST rules in effect.","body":"This is happening because ZonedDateTime.parse uses ZonedDateTime.from, whose <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html#from(java.time.temporal.TemporalAccessor)\" rel=\"nofollow noreferrer\">documentation</a> states: “The conversion will first obtain a ZoneId from the temporal object, falling back to a ZoneOffset if necessary.”  So &quot;MST&quot; is converted to a ZoneId, which always has DST rules in effect."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1684438203,"post_id":76279794,"comment_id":134521484,"body_markdown":"Can&#39;t you fix that using [`DateTimeFormatterBuilder.appendZoneText(TextStyle, Set)`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendZoneText-java.time.format.TextStyle-java.util.Set-) giving America/Phoenix or another time zone not using summer time (DST)? I believe so and would recommend it.","body":"Can&#39;t you fix that using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendZoneText-java.time.format.TextStyle-java.util.Set-\" rel=\"nofollow noreferrer\"><code>DateTimeFormatterBuilder.appendZoneText(TextStyle, Set)</code></a> giving America/Phoenix or another time zone not using summer time (DST)? I believe so and would recommend it."},{"owner":{"account_id":11945914,"reputation":47,"user_id":8741133,"display_name":"Dima Garbar"},"score":0,"creation_date":1684656727,"post_id":76279794,"comment_id":134546499,"body_markdown":"Good proposal. Unfortunately this method adds `new ZoneTextPrinterParser` and not replace the existed class that has `preferredZone=null` which is trying to parse invalid index","body":"Good proposal. Unfortunately this method adds <code>new ZoneTextPrinterParser</code> and not replace the existed class that has <code>preferredZone=null</code> which is trying to parse invalid index"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1684775897,"post_id":76279794,"comment_id":134562997,"body_markdown":"I don’t think java.time is able to parse a summer time aware time zone name or abbreviation and give us the information whether it indicated summer time (DST) or not, which is probably a flaw in the design. But if we only need to make sure MST is parsed as MST without summer time, we can specify to prefer a zone that uses MST all year, for example America/Dawson_Creek or America/Fort_Nelson. You probably know already which time zone is appropriate for your situation.","body":"I don’t think java.time is able to parse a summer time aware time zone name or abbreviation and give us the information whether it indicated summer time (DST) or not, which is probably a flaw in the design. But if we only need to make sure MST is parsed as MST without summer time, we can specify to prefer a zone that uses MST all year, for example America/Dawson_Creek or America/Fort_Nelson. You probably know already which time zone is appropriate for your situation."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1684775948,"post_id":76279794,"comment_id":134563008,"body_markdown":"While I don’t know how it’s implemented, [here is how to parse your texts using `DateTimeFormatterBuilder.appendZoneText(TextStyle, Set&lt;ZoneId&gt;)`](https://rextester.com/EDGDAL31804) and getting MST every time (offset -7) and never MDT (-6). We should of course leave out `zzz` form the format pattern string when specifying the zone in the other way. As you can see, the code works.","body":"While I don’t know how it’s implemented, <a href=\"https://rextester.com/EDGDAL31804\" rel=\"nofollow noreferrer\">here is how to parse your texts using <code>DateTimeFormatterBuilder.appendZoneText(TextStyle, Set&lt;ZoneId&gt;)</code></a> and getting MST every time (offset -7) and never MDT (-6). We should of course leave out <code>zzz</code> form the format pattern string when specifying the zone in the other way. As you can see, the code works."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1684776091,"post_id":76279794,"comment_id":134563032,"body_markdown":"In my code I don’t use `LocalDateTime` for the UTC time, and I recommend that you don’t either. Use either an `Instant` or (richer) an `OffsetDateTime` in UTC. My code shows both options.","body":"In my code I don’t use <code>LocalDateTime</code> for the UTC time, and I recommend that you don’t either. Use either an <code>Instant</code> or (richer) an <code>OffsetDateTime</code> in UTC. My code shows both options."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1684800699,"post_id":76279794,"comment_id":134566779,"body_markdown":"Stepping a step back you should not try to parse three letter time zone abbreviations. While I know of no other interpretation of MST than North American Mountain Standard Time (for example America/Edmonton), most of the most used abbreviations are ambiguous meaning that you cannot determine the conversion to UTC.","body":"Stepping a step back you should not try to parse three letter time zone abbreviations. While I know of no other interpretation of MST than North American Mountain Standard Time (for example America/Edmonton), most of the most used abbreviations are ambiguous meaning that you cannot determine the conversion to UTC."}],"answers":[{"tags":[],"owner":{"account_id":15959737,"reputation":21,"user_id":12056322,"display_name":"Stephen Olujare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684437709,"creation_date":1684407267,"answer_id":76280095,"question_id":76279794,"body_markdown":"First and foremost, let&#39;s define the error in the provided snippet.\r\n\r\nI realize that the snippet above treats the MST timezone as MDT and does not take daylight saving into account. I hope you understand that.\r\n\r\nNow, let&#39;s fix the issue, you can use the ZoneId class to specify the time zone with daylight saving. Use this updated version of the timestampConverter method and that should work for both MST and MDT:\r\n\r\n\r\n```\r\nstatic LocalDateTime timestampConverter(String timestamp) {\r\nZonedDateTime zonedDateTime = ZonedDateTime.parse(timestamp,EVENT_TIMESTAMP_FORMATTER);\r\n    if(zonedDateTime.getZone().getRules().isDaylightSavings(zonedDateTime.toInstant())){\r\n    zonedDateTime.toInstant().atZone(ZoneOffset.UTC).toLocalDateTime();\r\n    }else{\r\n        return zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\r\n    }\r\n}\r\n```\r\n\r\n This should fix the challenge you are currently going through! And if you need more clarification... Don&#39;t hesitate. Happy Coding!\r\n","title":"Java ZonedDateTime MST to UTC conversion uses daylight savings","body":"<p>First and foremost, let's define the error in the provided snippet.</p>\n<p>I realize that the snippet above treats the MST timezone as MDT and does not take daylight saving into account. I hope you understand that.</p>\n<p>Now, let's fix the issue, you can use the ZoneId class to specify the time zone with daylight saving. Use this updated version of the timestampConverter method and that should work for both MST and MDT:</p>\n<pre><code>static LocalDateTime timestampConverter(String timestamp) {\nZonedDateTime zonedDateTime = ZonedDateTime.parse(timestamp,EVENT_TIMESTAMP_FORMATTER);\n    if(zonedDateTime.getZone().getRules().isDaylightSavings(zonedDateTime.toInstant())){\n    zonedDateTime.toInstant().atZone(ZoneOffset.UTC).toLocalDateTime();\n    }else{\n        return zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\n    }\n}\n</code></pre>\n<p>This should fix the challenge you are currently going through! And if you need more clarification... Don't hesitate. Happy Coding!</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684427982,"creation_date":1684427982,"answer_id":76282818,"question_id":76279794,"body_markdown":"This is happening because ZonedDateTime.parse uses ZonedDateTime.from, whose [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html#from(java.time.temporal.TemporalAccessor)) states:\r\n\r\n&gt;The conversion will first obtain a ZoneId from the temporal object, falling back to a ZoneOffset if necessary.\r\n\r\nSo `MST` is converted to a ZoneId, which always has DST rules in effect.\r\n\r\nI had hoped that [the version of DateTimeFormatterBuilder.appendZoneText](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendZoneText(java.time.format.TextStyle,java.util.Set)) which accepts preferred zone overrides might help, but it doesn’t.  The preferred zones are only consulted for zone IDs which are considered ambiguous, and apparently MST is not considered ambiguous.\r\n\r\nI couldn’t find any way for a single DateTimeFormatter to do what you want, but you can at least provide zone overrides when looking up a zone explicitly, using [the two-argument ZoneId.of method](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneId.html#of(java.lang.String,java.util.Map)):\r\n\r\n    static DateTimeFormatter EVENT_TIMESTAMP_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n    private static final Map&lt;String, String&gt; nonDSTOverrides = Map.of(\r\n            &quot;PST&quot;, &quot;UTC-08:00&quot;,\r\n            &quot;MST&quot;, &quot;UTC-07:00&quot;,\r\n            &quot;CST&quot;, &quot;UTC-06:00&quot;,\r\n            &quot;EST&quot;, &quot;UTC-05:00&quot;);\r\n\r\n    static LocalDateTime timestampConverter(String timestamp) {\r\n        int lastSpace = timestamp.lastIndexOf(&#39; &#39;);\r\n        if (lastSpace &lt; 0) {\r\n            throw new DateTimeParseException(\r\n                &quot;Text must contain a space before the timezone.&quot;, timestamp, 0);\r\n        }\r\n\r\n        String localPart = timestamp.substring(0, lastSpace);\r\n        String zonePart = timestamp.substring(lastSpace + 1);\r\n\r\n        return ZonedDateTime.of(\r\n                LocalDateTime.parse(localPart, EVENT_TIMESTAMP_FORMATTER),\r\n                ZoneId.of(zonePart, nonDSTOverrides))\r\n            .withZoneSameInstant(ZoneOffset.UTC)\r\n            .toLocalDateTime();\r\n    }\r\n","title":"Java ZonedDateTime MST to UTC conversion uses daylight savings","body":"<p>This is happening because ZonedDateTime.parse uses ZonedDateTime.from, whose <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html#from(java.time.temporal.TemporalAccessor)\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n<blockquote>\n<p>The conversion will first obtain a ZoneId from the temporal object, falling back to a ZoneOffset if necessary.</p>\n</blockquote>\n<p>So <code>MST</code> is converted to a ZoneId, which always has DST rules in effect.</p>\n<p>I had hoped that <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendZoneText(java.time.format.TextStyle,java.util.Set)\" rel=\"nofollow noreferrer\">the version of DateTimeFormatterBuilder.appendZoneText</a> which accepts preferred zone overrides might help, but it doesn’t.  The preferred zones are only consulted for zone IDs which are considered ambiguous, and apparently MST is not considered ambiguous.</p>\n<p>I couldn’t find any way for a single DateTimeFormatter to do what you want, but you can at least provide zone overrides when looking up a zone explicitly, using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneId.html#of(java.lang.String,java.util.Map)\" rel=\"nofollow noreferrer\">the two-argument ZoneId.of method</a>:</p>\n<pre><code>static DateTimeFormatter EVENT_TIMESTAMP_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\nprivate static final Map&lt;String, String&gt; nonDSTOverrides = Map.of(\n        &quot;PST&quot;, &quot;UTC-08:00&quot;,\n        &quot;MST&quot;, &quot;UTC-07:00&quot;,\n        &quot;CST&quot;, &quot;UTC-06:00&quot;,\n        &quot;EST&quot;, &quot;UTC-05:00&quot;);\n\nstatic LocalDateTime timestampConverter(String timestamp) {\n    int lastSpace = timestamp.lastIndexOf(' ');\n    if (lastSpace &lt; 0) {\n        throw new DateTimeParseException(\n            &quot;Text must contain a space before the timezone.&quot;, timestamp, 0);\n    }\n\n    String localPart = timestamp.substring(0, lastSpace);\n    String zonePart = timestamp.substring(lastSpace + 1);\n\n    return ZonedDateTime.of(\n            LocalDateTime.parse(localPart, EVENT_TIMESTAMP_FORMATTER),\n            ZoneId.of(zonePart, nonDSTOverrides))\n        .withZoneSameInstant(ZoneOffset.UTC)\n        .toLocalDateTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11945914,"reputation":47,"user_id":8741133,"display_name":"Dima Garbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684430884,"creation_date":1684430884,"answer_id":76283139,"question_id":76279794,"body_markdown":"I used this code to achieve the -07:00 conversion all the time.\r\n\r\n\r\n``` \r\n    LocalDateTime timestampConverter(String timestamp) {\r\n        return ZonedDateTime.parse(timestamp, EVENT_TIMESTAMP_FORMATTER)\r\n                // Java conversion treats MST as MDT which observe daylight saving\r\n                .withZoneSameLocal(ZoneId.of(ZONE_OFFSET))\r\n                .withZoneSameInstant(ZoneOffset.UTC)\r\n                .toLocalDateTime();\r\n    }\r\n```","title":"Java ZonedDateTime MST to UTC conversion uses daylight savings","body":"<p>I used this code to achieve the -07:00 conversion all the time.</p>\n<pre><code>    LocalDateTime timestampConverter(String timestamp) {\n        return ZonedDateTime.parse(timestamp, EVENT_TIMESTAMP_FORMATTER)\n                // Java conversion treats MST as MDT which observe daylight saving\n                .withZoneSameLocal(ZoneId.of(ZONE_OFFSET))\n                .withZoneSameInstant(ZoneOffset.UTC)\n                .toLocalDateTime();\n    }\n</code></pre>\n"}],"owner":{"account_id":11945914,"reputation":47,"user_id":8741133,"display_name":"Dima Garbar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684781275,"creation_date":1684404946,"question_id":76279794,"body_markdown":"I need to convert the timestamp to UTC. \r\nTimestamp has the MST timezone, which is specified in the timestamp\r\n\r\nExamples of observed conversions: \r\n* 2023-03-20 08:53:19 MST -&gt; 2023-03-20T14:53:19     (-6)\r\n* 2023-01-20 08:53:19 MST -&gt; 2023-01-20T15:53:19     (-7)\r\n\r\n```\r\nstatic DateTimeFormatter EVENT_TIMESTAMP_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss zzz&quot;);\r\n\r\nstatic LocalDateTime timestampConverter(String timestamp) {\r\n    return ZonedDateTime.parse(timestamp, EVENT_TIMESTAMP_FORMATTER)\r\n            .withZoneSameInstant(ZoneOffset.UTC)\r\n            .toLocalDateTime();\r\n}\r\n```\r\n\r\nMDT offset from UTC is -6:00 hours\r\n\r\nMST offset from UTC is -7:00 hours\r\n\r\nProblem:\r\nJava conversion treats MST as MDT which observe daylight saving\r\n\r\nFor example JS library doesn&#39;t have this problem: \r\n\r\n```\r\nconsole.log(new Date(&quot;2023-03-20 08:53:19 MST&quot;).toUTCString()); // Mon, 20 Mar 2023 15:53:19 GMT\r\n```\r\n\r\nQuestion: \r\nWhy logic is different from the standard behavior ? ","title":"Java ZonedDateTime MST to UTC conversion uses daylight savings","body":"<p>I need to convert the timestamp to UTC.\nTimestamp has the MST timezone, which is specified in the timestamp</p>\n<p>Examples of observed conversions:</p>\n<ul>\n<li>2023-03-20 08:53:19 MST -&gt; 2023-03-20T14:53:19     (-6)</li>\n<li>2023-01-20 08:53:19 MST -&gt; 2023-01-20T15:53:19     (-7)</li>\n</ul>\n<pre><code>static DateTimeFormatter EVENT_TIMESTAMP_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss zzz&quot;);\n\nstatic LocalDateTime timestampConverter(String timestamp) {\n    return ZonedDateTime.parse(timestamp, EVENT_TIMESTAMP_FORMATTER)\n            .withZoneSameInstant(ZoneOffset.UTC)\n            .toLocalDateTime();\n}\n</code></pre>\n<p>MDT offset from UTC is -6:00 hours</p>\n<p>MST offset from UTC is -7:00 hours</p>\n<p>Problem:\nJava conversion treats MST as MDT which observe daylight saving</p>\n<p>For example JS library doesn't have this problem:</p>\n<pre><code>console.log(new Date(&quot;2023-03-20 08:53:19 MST&quot;).toUTCString()); // Mon, 20 Mar 2023 15:53:19 GMT\n</code></pre>\n<p>Question:\nWhy logic is different from the standard behavior ?</p>\n"},{"tags":["java","java-11","simpledateformat","date-format","datetimeformatter"],"comments":[{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":4,"creation_date":1684501744,"post_id":76289312,"comment_id":134530588,"body_markdown":"Have you considered constructing a DateTimeFormatter for each format and then trying each one in turn?","body":"Have you considered constructing a DateTimeFormatter for each format and then trying each one in turn?"},{"owner":{"account_id":14232409,"reputation":270,"user_id":10281244,"display_name":"Diksha Goyal"},"score":0,"creation_date":1684503449,"post_id":76289312,"comment_id":134530926,"body_markdown":"I was actually looking for a solution in java the way we have in JS. just with d = new Date() &amp; then d.getDate(), d.getMonth() .. so on","body":"I was actually looking for a solution in java the way we have in JS. just with d = new Date() &amp; then d.getDate(), d.getMonth() .. so on"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1684503499,"post_id":76289312,"comment_id":134530938,"body_markdown":"Even in JS, the input format of what you parse matters. `new Date()` is just the current date, it&#39;s not parsing anything there.","body":"Even in JS, the input format of what you parse matters. <code>new Date()</code> is just the current date, it&#39;s not parsing anything there."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1684503621,"post_id":76289312,"comment_id":134530972,"body_markdown":"The example `08-05-2023` is quite dangerous because one cannot reliably derive if it is `MM-dd-uuuu` or `dd-MM-uuuu`. Those would both be parseable by a `DateTimeFormatter`, but the results will be significantly different.","body":"The example <code>08-05-2023</code> is quite dangerous because one cannot reliably derive if it is <code>MM-dd-uuuu</code> or <code>dd-MM-uuuu</code>. Those would both be parseable by a <code>DateTimeFormatter</code>, but the results will be significantly different."},{"owner":{"account_id":14232409,"reputation":270,"user_id":10281244,"display_name":"Diksha Goyal"},"score":0,"creation_date":1684503627,"post_id":76289312,"comment_id":134530975,"body_markdown":"But within new Date() constructor you can pass any date format &amp; it will give you a generic date object which have those methods","body":"But within new Date() constructor you can pass any date format &amp; it will give you a generic date object which have those methods"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":3,"creation_date":1684503653,"post_id":76289312,"comment_id":134530985,"body_markdown":"Do not use the `java.util` package for dates. Use the `java.time` package that was introduced in Java 8. See my response below.","body":"Do not use the <code>java.util</code> package for dates. Use the <code>java.time</code> package that was introduced in Java 8. See my response below."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1684522965,"post_id":76289312,"comment_id":134534900,"body_markdown":"@DikshaGoyal *But within new Date() constructor you can pass any date format &amp; it will give you a generic date object which have those methods* -- This is incorrect. Look at your example above. Try passing in 08-05-2023, like you showed, and see what JavaScript gives you. It will not work.","body":"@DikshaGoyal <i>But within new Date() constructor you can pass any date format &amp; it will give you a generic date object which have those methods</i> -- This is incorrect. Look at your example above. Try passing in 08-05-2023, like you showed, and see what JavaScript gives you. It will not work."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1684523246,"post_id":76289312,"comment_id":134534941,"body_markdown":"You tagged your question simpledateformat, but you should unconditionally avoid using `SimpleDateFormat` and `Date`. Those clauses were troublesome and are long outdated. Do use java.time and its `DateTimeFormatter` and other classes.","body":"You tagged your question simpledateformat, but you should unconditionally avoid using <code>SimpleDateFormat</code> and <code>Date</code>. Those clauses were troublesome and are long outdated. Do use java.time and its <code>DateTimeFormatter</code> and other classes."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1684523491,"post_id":76289312,"comment_id":134534993,"body_markdown":"Your first format unlike the others includes an offset from UTC. In which time zone do you want the date in that case? And in the other cases, do you want to use the same time zone that was understood in the original string?","body":"Your first format unlike the others includes an offset from UTC. In which time zone do you want the date in that case? And in the other cases, do you want to use the same time zone that was understood in the original string?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1684608266,"post_id":76289312,"comment_id":134543166,"body_markdown":"This Question was closed for the wrong reason. This is not an opinion-based question. It is however a duplicate of other Questions on how to parse date-time inputs with various formats. Voting to re-open.","body":"This Question was closed for the wrong reason. This is not an opinion-based question. It is however a duplicate of other Questions on how to parse date-time inputs with various formats. Voting to re-open."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1684608392,"post_id":76289312,"comment_id":134543185,"body_markdown":"Duplicate of [this](https://stackoverflow.com/q/51587242/642706), [this](https://stackoverflow.com/q/19137007/642706), [this](https://stackoverflow.com/q/4024544/642706), and more.","body":"Duplicate of <a href=\"https://stackoverflow.com/q/51587242/642706\">this</a>, <a href=\"https://stackoverflow.com/q/19137007/642706\">this</a>, <a href=\"https://stackoverflow.com/q/4024544/642706\">this</a>, and more."}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684507617,"creation_date":1684503195,"answer_id":76289597,"question_id":76289312,"body_markdown":"You can iterate over known formats and skip ones that throw a `DateTimeParseException`.\r\n\r\n**Note:** If you are parsing just a date string into a `LocalDateTime`, you will need to build the formatter and specify that the time portion is optional.\r\n\r\n```java\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.*;\r\nimport java.time.temporal.ChronoField;\r\nimport java.util.*;\r\n\r\npublic class DateParser {\r\n    public static void main(String[] args) {\r\n        System.out.println(normalizeDate(&quot;2023-05-09T05:55:07Z&quot;)); // 2023-05-09\r\n        System.out.println(normalizeDate(&quot;2023-04-30&quot;)); // 2023-04-30\r\n        System.out.println(normalizeDate(&quot;08-05-2023&quot;)); // 2023-08-05\r\n        System.out.println(normalizeDate(&quot;2023-05-09 00:00:00&quot;)); // 2023-05-09\r\n        System.out.println(normalizeDate(&quot;31-Dec-2021&quot;)); // 2021-12-31\r\n        System.out.println(normalizeDate(&quot;&quot;)); // null\r\n    }\r\n\r\n    public static String normalizeDate(String rawDateTimeString) {\r\n        return Optional.ofNullable(parseDateString(rawDateTimeString))\r\n                .map(displayFormat::format)\r\n                .orElse(null);\r\n    }\r\n\r\n    private static LocalDateTime parseDateString(String dateString) {\r\n        for (DateTimeFormatter formatter : knownFormats) {\r\n            try {\r\n                return LocalDateTime.parse(dateString, formatter);\r\n            } catch (DateTimeParseException e) {\r\n                continue;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private static final List&lt;DateTimeFormatter&gt; knownFormats = Arrays.asList(\r\n            DateTimeFormatter.ISO_DATE_TIME,\r\n            dateOnlyFormatter(&quot;yyyy-MM-dd&quot;),\r\n            dateOnlyFormatter(&quot;MM-dd-yyyy&quot;),\r\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;),\r\n            dateOnlyFormatter(&quot;dd-MMM-yyyy&quot;).withLocale(Locale.ENGLISH));\r\n\r\n    private static DateTimeFormatter dateOnlyFormatter(String datePattern) {\r\n        // Credit: https://stackoverflow.com/a/40175568/1762224\r\n        return new DateTimeFormatterBuilder()\r\n                .appendPattern(datePattern)\r\n                .optionalStart()\r\n                .appendPattern(&quot; HH:mm&quot;)\r\n                .optionalEnd()\r\n                .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n                .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n                .toFormatter();\r\n    }\r\n\r\n    private static final DateTimeFormatter displayFormat = DateTimeFormatter.ISO_DATE;\r\n}\r\n```\r\n\r\nHere is a modified version that is simpler as Devin suggested. It ignores the concept of time entirely, and only focuses on date when parsing. It removes the need for the `dateOnlyFormatter` method (as seen above).\r\n\r\n```java\r\nimport java.time.LocalDate;\r\nimport java.time.format.*;\r\nimport java.util.*;\r\n\r\npublic class DateParser {\r\n    public static void main(String[] args) {\r\n        System.out.println(normalizeDate(&quot;2023-05-09T05:55:07Z&quot;)); // 2023-05-09\r\n        System.out.println(normalizeDate(&quot;2023-04-30&quot;)); // 2023-04-30\r\n        System.out.println(normalizeDate(&quot;08-05-2023&quot;)); // 2023-08-05\r\n        System.out.println(normalizeDate(&quot;2023-05-09 00:00:00&quot;)); // 2023-05-09\r\n        System.out.println(normalizeDate(&quot;31-Dec-2021&quot;)); // 2021-12-31\r\n        System.out.println(normalizeDate(&quot;&quot;)); // null\r\n    }\r\n\r\n    public static String normalizeDate(String rawDateTimeString) {\r\n        return Optional.ofNullable(parseDateString(rawDateTimeString))\r\n                .map(displayFormat::format)\r\n                .orElse(null);\r\n    }\r\n\r\n    private static LocalDate parseDateString(String dateString) {\r\n        for (DateTimeFormatter formatter : knownFormats) {\r\n            try {\r\n                return LocalDate.parse(dateString, formatter);\r\n            } catch (DateTimeParseException e) {\r\n                continue;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private static final List&lt;DateTimeFormatter&gt; knownFormats = Arrays.asList(\r\n            DateTimeFormatter.ISO_DATE_TIME,\r\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;),\r\n            DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy&quot;),\r\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;),\r\n            DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;).withLocale(Locale.ENGLISH));\r\n\r\n    private static final DateTimeFormatter displayFormat = DateTimeFormatter.ISO_DATE;\r\n}\r\n```","title":"How to convert different date formats in JDK11 to dd-mm-yyyy format?","body":"<p>You can iterate over known formats and skip ones that throw a <code>DateTimeParseException</code>.</p>\n<p><strong>Note:</strong> If you are parsing just a date string into a <code>LocalDateTime</code>, you will need to build the formatter and specify that the time portion is optional.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport java.time.format.*;\nimport java.time.temporal.ChronoField;\nimport java.util.*;\n\npublic class DateParser {\n    public static void main(String[] args) {\n        System.out.println(normalizeDate(&quot;2023-05-09T05:55:07Z&quot;)); // 2023-05-09\n        System.out.println(normalizeDate(&quot;2023-04-30&quot;)); // 2023-04-30\n        System.out.println(normalizeDate(&quot;08-05-2023&quot;)); // 2023-08-05\n        System.out.println(normalizeDate(&quot;2023-05-09 00:00:00&quot;)); // 2023-05-09\n        System.out.println(normalizeDate(&quot;31-Dec-2021&quot;)); // 2021-12-31\n        System.out.println(normalizeDate(&quot;&quot;)); // null\n    }\n\n    public static String normalizeDate(String rawDateTimeString) {\n        return Optional.ofNullable(parseDateString(rawDateTimeString))\n                .map(displayFormat::format)\n                .orElse(null);\n    }\n\n    private static LocalDateTime parseDateString(String dateString) {\n        for (DateTimeFormatter formatter : knownFormats) {\n            try {\n                return LocalDateTime.parse(dateString, formatter);\n            } catch (DateTimeParseException e) {\n                continue;\n            }\n        }\n        return null;\n    }\n\n    private static final List&lt;DateTimeFormatter&gt; knownFormats = Arrays.asList(\n            DateTimeFormatter.ISO_DATE_TIME,\n            dateOnlyFormatter(&quot;yyyy-MM-dd&quot;),\n            dateOnlyFormatter(&quot;MM-dd-yyyy&quot;),\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;),\n            dateOnlyFormatter(&quot;dd-MMM-yyyy&quot;).withLocale(Locale.ENGLISH));\n\n    private static DateTimeFormatter dateOnlyFormatter(String datePattern) {\n        // Credit: https://stackoverflow.com/a/40175568/1762224\n        return new DateTimeFormatterBuilder()\n                .appendPattern(datePattern)\n                .optionalStart()\n                .appendPattern(&quot; HH:mm&quot;)\n                .optionalEnd()\n                .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n                .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n                .toFormatter();\n    }\n\n    private static final DateTimeFormatter displayFormat = DateTimeFormatter.ISO_DATE;\n}\n</code></pre>\n<p>Here is a modified version that is simpler as Devin suggested. It ignores the concept of time entirely, and only focuses on date when parsing. It removes the need for the <code>dateOnlyFormatter</code> method (as seen above).</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDate;\nimport java.time.format.*;\nimport java.util.*;\n\npublic class DateParser {\n    public static void main(String[] args) {\n        System.out.println(normalizeDate(&quot;2023-05-09T05:55:07Z&quot;)); // 2023-05-09\n        System.out.println(normalizeDate(&quot;2023-04-30&quot;)); // 2023-04-30\n        System.out.println(normalizeDate(&quot;08-05-2023&quot;)); // 2023-08-05\n        System.out.println(normalizeDate(&quot;2023-05-09 00:00:00&quot;)); // 2023-05-09\n        System.out.println(normalizeDate(&quot;31-Dec-2021&quot;)); // 2021-12-31\n        System.out.println(normalizeDate(&quot;&quot;)); // null\n    }\n\n    public static String normalizeDate(String rawDateTimeString) {\n        return Optional.ofNullable(parseDateString(rawDateTimeString))\n                .map(displayFormat::format)\n                .orElse(null);\n    }\n\n    private static LocalDate parseDateString(String dateString) {\n        for (DateTimeFormatter formatter : knownFormats) {\n            try {\n                return LocalDate.parse(dateString, formatter);\n            } catch (DateTimeParseException e) {\n                continue;\n            }\n        }\n        return null;\n    }\n\n    private static final List&lt;DateTimeFormatter&gt; knownFormats = Arrays.asList(\n            DateTimeFormatter.ISO_DATE_TIME,\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;),\n            DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy&quot;),\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;),\n            DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;).withLocale(Locale.ENGLISH));\n\n    private static final DateTimeFormatter displayFormat = DateTimeFormatter.ISO_DATE;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28025464,"reputation":1,"user_id":21405551,"display_name":"DevinJM3"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684510875,"creation_date":1684504123,"answer_id":76289726,"question_id":76289312,"body_markdown":"This method is simple and easy to decipher. Here is all that the parseDateTime function does:\r\n\r\n1. Sets the output format\r\n2. Sets all possible input formats\r\n3. Iterates over each input format until the correct one is found\r\n4. Returns the date/time in the specified output format\r\n\r\n&gt; **Note** If the String passed into the function is not in one of the 5 specified input formats, then it will return null. This should make it easy to see if it was successful or not!\r\n\r\nIf you need more information to help add more formats, here is the DateTimeFormatter Documentation: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE\r\n\r\n\r\n```java\r\nimport java.time.*;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\npublic class Main {\r\n     public static void main(String[] args) {\r\n        String[] inputDates = {\r\n                &quot;2023-04-30T05:55:07Z&quot;,\r\n                &quot;2023-04-30&quot;,\r\n                &quot;30-04-2023&quot;,\r\n                &quot;2023-04-30 00:00:00&quot;,\r\n                &quot;30-Apr-2023&quot;\r\n        };\r\n\r\n        for(String date : inputDates)\r\n            System.out.println(date + &quot;\\t-&gt;\\t&quot; + parseDateTime(date));\r\n    }\r\n\r\n\r\n    private static String parseDateTime(String currentDate){\r\n        //Desired Output Pattern\r\n        DateTimeFormatter outputFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n\r\n        //All Possible Input Patterns\r\n        DateTimeFormatter[] formatters = {\r\n            DateTimeFormatter.ISO_LOCAL_DATE,\r\n            DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;),\r\n            DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;),\r\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;),\r\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n        };\r\n\r\n        //Iterate over each pattern until it finds the correct one\r\n        for(DateTimeFormatter currFormatter : formatters){\r\n            try{\r\n                return LocalDate.parse(currentDate, currFormatter).format(outputFormat);\r\n            } catch(Exception ignored){\r\n                //Current formatter did not work, so lets try the next one\r\n            }\r\n        }\r\n        return null; // String was not one of those 5 formats\r\n    }\r\n}```","title":"How to convert different date formats in JDK11 to dd-mm-yyyy format?","body":"<p>This method is simple and easy to decipher. Here is all that the parseDateTime function does:</p>\n<ol>\n<li>Sets the output format</li>\n<li>Sets all possible input formats</li>\n<li>Iterates over each input format until the correct one is found</li>\n<li>Returns the date/time in the specified output format</li>\n</ol>\n<blockquote>\n<p><strong>Note</strong> If the String passed into the function is not in one of the 5 specified input formats, then it will return null. This should make it easy to see if it was successful or not!</p>\n</blockquote>\n<p>If you need more information to help add more formats, here is the DateTimeFormatter Documentation: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.*;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n     public static void main(String[] args) {\n        String[] inputDates = {\n                &quot;2023-04-30T05:55:07Z&quot;,\n                &quot;2023-04-30&quot;,\n                &quot;30-04-2023&quot;,\n                &quot;2023-04-30 00:00:00&quot;,\n                &quot;30-Apr-2023&quot;\n        };\n\n        for(String date : inputDates)\n            System.out.println(date + &quot;\\t-&gt;\\t&quot; + parseDateTime(date));\n    }\n\n\n    private static String parseDateTime(String currentDate){\n        //Desired Output Pattern\n        DateTimeFormatter outputFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n\n        //All Possible Input Patterns\n        DateTimeFormatter[] formatters = {\n            DateTimeFormatter.ISO_LOCAL_DATE,\n            DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;),\n            DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;),\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;),\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\n        };\n\n        //Iterate over each pattern until it finds the correct one\n        for(DateTimeFormatter currFormatter : formatters){\n            try{\n                return LocalDate.parse(currentDate, currFormatter).format(outputFormat);\n            } catch(Exception ignored){\n                //Current formatter did not work, so lets try the next one\n            }\n        }\n        return null; // String was not one of those 5 formats\n    }\n}```\n</code></pre>\n"}],"owner":{"account_id":14232409,"reputation":270,"user_id":10281244,"display_name":"Diksha Goyal"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1684683613,"accepted_answer_id":76289597,"answer_count":2,"score":-3,"last_activity_date":1684781097,"creation_date":1684501169,"question_id":76289312,"body_markdown":"I have a use case where I have date in the following formats,\r\n1. 2023-05-09T05:55:07Z\r\n2. 2023-04-30\r\n3. 08-05-2023\r\n4. 2023-05-09 00:00:00\r\n5. 31-Dec-2021\r\n\r\nIrrespective of the input format I have a requirement to convert it to `dd-mm-yyyy` format. How can I convert it in JDK11? I tried different libraries but got no luck.","title":"How to convert different date formats in JDK11 to dd-mm-yyyy format?","body":"<p>I have a use case where I have date in the following formats,</p>\n<ol>\n<li>2023-05-09T05:55:07Z</li>\n<li>2023-04-30</li>\n<li>08-05-2023</li>\n<li>2023-05-09 00:00:00</li>\n<li>31-Dec-2021</li>\n</ol>\n<p>Irrespective of the input format I have a requirement to convert it to <code>dd-mm-yyyy</code> format. How can I convert it in JDK11? I tried different libraries but got no luck.</p>\n"},{"tags":["java","quarkus","debezium"],"comments":[{"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1684757940,"post_id":76288087,"comment_id":134558926,"body_markdown":"OK, I&#39;ve managed to fix the problem. It was a misconfiguration of the connectionpool in Quarkus. But now I&#39;m facing another problem, which I didn&#39;t have before I had setup a connectionpool: debezium tries to execute &quot;IDENTIFY_SYSTEM&quot; query, and this doesn&#39;t work and it&#39;s not recognized as a valid statement. The only way I could make this query work manually is by running &quot;psql &quot;replication=database&quot; -c &quot;IDENTIFY_SYSTEM;&quot;, but how do you configure this in debezium then ?","body":"OK, I&#39;ve managed to fix the problem. It was a misconfiguration of the connectionpool in Quarkus. But now I&#39;m facing another problem, which I didn&#39;t have before I had setup a connectionpool: debezium tries to execute &quot;IDENTIFY_SYSTEM&quot; query, and this doesn&#39;t work and it&#39;s not recognized as a valid statement. The only way I could make this query work manually is by running &quot;psql &quot;replication=database&quot; -c &quot;IDENTIFY_SYSTEM;&quot;, but how do you configure this in debezium then ?"},{"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1684758006,"post_id":76288087,"comment_id":134558945,"body_markdown":"Another thing I&#39;ve noticed is that my connectionpool class, is created/initialized many times. I was expecting to be initialized only once.","body":"Another thing I&#39;ve noticed is that my connectionpool class, is created/initialized many times. I was expecting to be initialized only once."}],"answers":[{"tags":[],"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684780831,"creation_date":1684780831,"answer_id":76309062,"question_id":76288087,"body_markdown":"I&#39;ve finally configured a connection pool in the hope that this would solve the connection/restart problems we have with Debezium. But alas, we still have the same issue that Debezium occassionaly after a long run, cannot connect to the database anymore with throwing:\r\n\r\n```\r\nProducer failure: org.postgresql.util.PSQLException: Database connection failed when reading from copy\r\n```\r\n\r\nAnyways, for anyone who is interested in the solution, here it is.\r\n\r\nNote that Debezium runs different queries to gather information, and 1 of these queries require additional jdbc properties to work. That&#39;s why you see a split in the code.\r\n\r\n```java\r\npublic class DebeziumConnectionPoolConfig implements JdbcConnection.ConnectionFactory {\r\n\r\n    @Override\r\n    public Connection connect(JdbcConfiguration config) {       \r\n        Log.infof(&quot;Debezium connectionPool initializing...&quot;);\r\n\r\n        try {\r\n            var replication = config.getString(&quot;replication&quot;);\r\n            if (isNullOrEmpty(replication)) {\r\n                Log.debugf(&quot;Returning Connection from Agroal ConnectionPool&quot;);\r\n\r\n                return CDI.current().select(AgroalDataSource.class).get().getConnection().unwrap(BaseConnection.class);\r\n            } else {\r\n                // If replication is in the config, then Debezium uses this to perform the following query: IDENTIFY_SYSTEM.\r\n                // To perform this query, a lot of other config properties need to be provided. And these properties are\r\n                // only needed for running this query. If these properties are used as default, then normal queries cannot be performed.\r\n                // That&#39;s why agroal is used as the default connectionpool and only during startup when Debezium needs to run IDENTIFY_SYSTEM,\r\n                // a single manual connection is returned.\r\n                Log.debugf(&quot;Returning connection from DriverManager&quot;);\r\n\r\n                var url = &quot;quarkus.datasource.jdbc.url&quot;;\r\n                return DriverManager.getConnection(ConfigProvider.getConfig().getValue(url, String.class), config.asProperties());\r\n            }\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd my application.properties:\r\n\r\n```properties\r\n# AGROAL CONFIG\r\nquarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5435/postgres\r\nquarkus.datasource.username=postgres\r\nquarkus.datasource.password=postgres\r\n\r\n# DEBEZIUM CONFIG\r\nconnector.class=io.debezium.connector.postgresql.PostgresConnector\r\ndatabase.connection.factory.class=org.acme.dbz.config.DebeziumConnectionPoolConfig\r\ndatabase.dbname=postgres\r\ndatabase.hostname=localhost\r\ndatabase.user=postgres\r\ndatabase.password=postgres\r\ndatabase.port=5435\r\n```","title":"Debezium connectionpool config","body":"<p>I've finally configured a connection pool in the hope that this would solve the connection/restart problems we have with Debezium. But alas, we still have the same issue that Debezium occassionaly after a long run, cannot connect to the database anymore with throwing:</p>\n<pre><code>Producer failure: org.postgresql.util.PSQLException: Database connection failed when reading from copy\n</code></pre>\n<p>Anyways, for anyone who is interested in the solution, here it is.</p>\n<p>Note that Debezium runs different queries to gather information, and 1 of these queries require additional jdbc properties to work. That's why you see a split in the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DebeziumConnectionPoolConfig implements JdbcConnection.ConnectionFactory {\n\n    @Override\n    public Connection connect(JdbcConfiguration config) {       \n        Log.infof(&quot;Debezium connectionPool initializing...&quot;);\n\n        try {\n            var replication = config.getString(&quot;replication&quot;);\n            if (isNullOrEmpty(replication)) {\n                Log.debugf(&quot;Returning Connection from Agroal ConnectionPool&quot;);\n\n                return CDI.current().select(AgroalDataSource.class).get().getConnection().unwrap(BaseConnection.class);\n            } else {\n                // If replication is in the config, then Debezium uses this to perform the following query: IDENTIFY_SYSTEM.\n                // To perform this query, a lot of other config properties need to be provided. And these properties are\n                // only needed for running this query. If these properties are used as default, then normal queries cannot be performed.\n                // That's why agroal is used as the default connectionpool and only during startup when Debezium needs to run IDENTIFY_SYSTEM,\n                // a single manual connection is returned.\n                Log.debugf(&quot;Returning connection from DriverManager&quot;);\n\n                var url = &quot;quarkus.datasource.jdbc.url&quot;;\n                return DriverManager.getConnection(ConfigProvider.getConfig().getValue(url, String.class), config.asProperties());\n            }\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>And my application.properties:</p>\n<pre><code># AGROAL CONFIG\nquarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5435/postgres\nquarkus.datasource.username=postgres\nquarkus.datasource.password=postgres\n\n# DEBEZIUM CONFIG\nconnector.class=io.debezium.connector.postgresql.PostgresConnector\ndatabase.connection.factory.class=org.acme.dbz.config.DebeziumConnectionPoolConfig\ndatabase.dbname=postgres\ndatabase.hostname=localhost\ndatabase.user=postgres\ndatabase.password=postgres\ndatabase.port=5435\n</code></pre>\n"}],"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76309062,"answer_count":1,"score":0,"last_activity_date":1684780831,"creation_date":1684491081,"question_id":76288087,"body_markdown":"I want to configure a connectionpool, because I&#39;m getting a lot of connection retry errors from Debezium after a while:\r\n\r\n```\r\nProducer failure: org.postgresql.util.PSQLException: Database connection failed when reading from copy\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.readFromCopy(QueryExecutorImpl.java:1166)\r\n\tat org.postgresql.core.v3.CopyDualImpl.readFromCopy(CopyDualImpl.java:44)\r\n\tat org.postgresql.core.v3.replication.V3PGReplicationStream.receiveNextData(V3PGReplicationStream.java:160)\r\n```\r\n\r\nSo I digged in the source code and I found out that it provides some configuration for a connectionpool, but I can&#39;t get it working properly.\r\n\r\nThis is what I have currently, and btw Im using Quarkus 2.16.7, Debezium 2.2.1.Final and Posgres 14:\r\n\r\n```java\r\n@Startup\r\npublic class DebeziumConnectionPoolConfig implements JdbcConnection.ConnectionFactory {\r\n\r\n    @Inject\r\n    AgroalDataSource datasource;\r\n\r\n    @Override\r\n    public Connection connect(JdbcConfiguration jdbcConfiguration) throws SQLException {    \r\n        return this.datasource.getConnection();       \r\n    }\r\n}\r\n```\r\n\r\nAnd I have the folling configuration in my application.properties:\r\n\r\n```\r\nquarkus.datasource.db-kind=postgresql\r\nquarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5435/postgres\r\nquarkus.datasource.username=postgres\r\nquarkus.datasource.password=postgres\r\n\r\n# DEBEZIUM\r\nname=my-cdc\r\ndatabase.connection.factory.class=org.acme.dbz.config.DebeziumConnectionPoolConfig\r\nconnector.class=io.debezium.connector.postgresql.PostgresConnector\r\ndatabase.dbname=postgres\r\ndatabase.hostname=localhost\r\ndatabase.user=postgres\r\ndatabase.password=postgres\r\ndatabase.port=5435\r\n```\r\n\r\nAnd I&#39;m getting connection validation errors during startup:\r\n\r\n```\r\n ERROR [io.deb.con.pos.PostgresConnector] (executor-thread-0) Failed testing connection for jdbc:postgresql://localhost:5435/postgres with user &#39;postgres&#39;: org.p\r\nostgresql.util.PSQLException: Connection to localhost:5435 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)\r\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\r\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253)\r\n        at org.postgresql.Driver.makeConnection(Driver.java:434)\r\n        at org.postgresql.Driver.connect(Driver.java:291)\r\n        at io.debezium.jdbc.JdbcConnection.lambda$patternBasedFactory$1(JdbcConnection.java:241)\r\n        at io.debezium.jdbc.JdbcConnection$ConnectionFactoryDecorator.connect(JdbcConnection.java:127)\r\n        at io.debezium.jdbc.JdbcConnection.connection(JdbcConnection.java:873)\r\n        at io.debezium.connector.postgresql.PostgresConnector.validateConnection(PostgresConnector.java:90)\r\n```","title":"Debezium connectionpool config","body":"<p>I want to configure a connectionpool, because I'm getting a lot of connection retry errors from Debezium after a while:</p>\n<pre><code>Producer failure: org.postgresql.util.PSQLException: Database connection failed when reading from copy\n    at org.postgresql.core.v3.QueryExecutorImpl.readFromCopy(QueryExecutorImpl.java:1166)\n    at org.postgresql.core.v3.CopyDualImpl.readFromCopy(CopyDualImpl.java:44)\n    at org.postgresql.core.v3.replication.V3PGReplicationStream.receiveNextData(V3PGReplicationStream.java:160)\n</code></pre>\n<p>So I digged in the source code and I found out that it provides some configuration for a connectionpool, but I can't get it working properly.</p>\n<p>This is what I have currently, and btw Im using Quarkus 2.16.7, Debezium 2.2.1.Final and Posgres 14:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Startup\npublic class DebeziumConnectionPoolConfig implements JdbcConnection.ConnectionFactory {\n\n    @Inject\n    AgroalDataSource datasource;\n\n    @Override\n    public Connection connect(JdbcConfiguration jdbcConfiguration) throws SQLException {    \n        return this.datasource.getConnection();       \n    }\n}\n</code></pre>\n<p>And I have the folling configuration in my application.properties:</p>\n<pre><code>quarkus.datasource.db-kind=postgresql\nquarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5435/postgres\nquarkus.datasource.username=postgres\nquarkus.datasource.password=postgres\n\n# DEBEZIUM\nname=my-cdc\ndatabase.connection.factory.class=org.acme.dbz.config.DebeziumConnectionPoolConfig\nconnector.class=io.debezium.connector.postgresql.PostgresConnector\ndatabase.dbname=postgres\ndatabase.hostname=localhost\ndatabase.user=postgres\ndatabase.password=postgres\ndatabase.port=5435\n</code></pre>\n<p>And I'm getting connection validation errors during startup:</p>\n<pre><code> ERROR [io.deb.con.pos.PostgresConnector] (executor-thread-0) Failed testing connection for jdbc:postgresql://localhost:5435/postgres with user 'postgres': org.p\nostgresql.util.PSQLException: Connection to localhost:5435 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253)\n        at org.postgresql.Driver.makeConnection(Driver.java:434)\n        at org.postgresql.Driver.connect(Driver.java:291)\n        at io.debezium.jdbc.JdbcConnection.lambda$patternBasedFactory$1(JdbcConnection.java:241)\n        at io.debezium.jdbc.JdbcConnection$ConnectionFactoryDecorator.connect(JdbcConnection.java:127)\n        at io.debezium.jdbc.JdbcConnection.connection(JdbcConnection.java:873)\n        at io.debezium.connector.postgresql.PostgresConnector.validateConnection(PostgresConnector.java:90)\n</code></pre>\n"},{"tags":["java","random","iterator"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1452679151,"post_id":34763387,"comment_id":57272159,"body_markdown":"Did you read the documentation for the method you&#39;re calling? The comment in your own code says that the upper bound is exclusive (&quot;excl&quot;)... how would you expect to get an answer of 11 if `nextInt(10)` can only return a value up to 9, and you&#39;re adding 1 to that?","body":"Did you read the documentation for the method you&#39;re calling? The comment in your own code says that the upper bound is exclusive (&quot;excl&quot;)... how would you expect to get an answer of 11 if <code>nextInt(10)</code> can only return a value up to 9, and you&#39;re adding 1 to that?"},{"owner":{"account_id":7600742,"reputation":79,"user_id":5765454,"display_name":"Sean M"},"score":0,"creation_date":1452679228,"post_id":34763387,"comment_id":57272206,"body_markdown":"Yeah i realize now i made a stupid mistake. I did read it, but it didn&#39;t sink in for some reason. Sorry for the bad post.","body":"Yeah i realize now i made a stupid mistake. I did read it, but it didn&#39;t sink in for some reason. Sorry for the bad post."},{"owner":{"account_id":7038402,"reputation":572,"user_id":5391607,"accept_rate":75,"display_name":"amit prasad"},"score":0,"creation_date":1452679273,"post_id":34763387,"comment_id":57272229,"body_markdown":"you  follow this post it is already discuss http://stackoverflow.com/questions/363681/generating-random-integers-in-a-range-with-java                                                                                                                            http://stackoverflow.com/questions/20389890/generating-a-random-number-between-1-and-10-java","body":"you  follow this post it is already discuss <a href=\"http://stackoverflow.com/questions/363681/generating-random-integers-in-a-range-with-java\" title=\"generating random integers in a range with java\">stackoverflow.com/questions/363681/&hellip;</a>                                                                                                                            <a href=\"http://stackoverflow.com/questions/20389890/generating-a-random-number-between-1-and-10-java\" title=\"generating a random number between 1 and 10 java\">stackoverflow.com/questions/20389890/&hellip;</a>"},{"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"score":0,"creation_date":1452680010,"post_id":34763387,"comment_id":57272751,"body_markdown":"@SeanM - if you consider it a bad post, you can always delete it using the link under the question. Welcome to StackOverflow!","body":"@SeanM - if you consider it a bad post, you can always delete it using the link under the question. Welcome to StackOverflow!"},{"owner":{"account_id":7600742,"reputation":79,"user_id":5765454,"display_name":"Sean M"},"score":0,"creation_date":1452680648,"post_id":34763387,"comment_id":57273196,"body_markdown":"Thank you for the warm welcome ahaha. I have a lot to learn! Unfortunately I can&#39;t delete it any more.","body":"Thank you for the warm welcome ahaha. I have a lot to learn! Unfortunately I can&#39;t delete it any more."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1452678811,"creation_date":1452678811,"answer_id":34763409,"question_id":34763387,"body_markdown":"Read the Javadoc. `rn.nextInt(10)` generates numbers from 0 to 9. Adding 1 gives you a range from 1 to 10.\r\n\r\n&gt;Returns a pseudorandom, uniformly distributed int value between 0 (inclusive) and the specified value **(exclusive)**","title":"Why does int answer = generator.nextInt(10) + 1; only produce numbers between 1 and 10?","body":"<p>Read the Javadoc. <code>rn.nextInt(10)</code> generates numbers from 0 to 9. Adding 1 gives you a range from 1 to 10.</p>\n\n<blockquote>\n  <p>Returns a pseudorandom, uniformly distributed int value between 0 (inclusive) and the specified value <strong>(exclusive)</strong></p>\n</blockquote>\n"}],"owner":{"account_id":7600742,"reputation":79,"user_id":5765454,"display_name":"Sean M"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4163,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":34763409,"answer_count":1,"score":-1,"last_activity_date":1684780771,"creation_date":1452678767,"question_id":34763387,"body_markdown":"I don&#39;t understand why it wouldn&#39;t generate upwards of 11.\r\n\r\nHere is my tester code:\r\n\r\n    import java.util.Random;\r\n\r\n    public class randomNumberTest\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n             Random rn = new Random();\r\n             //tests random number generator (between 1(inc) and 10(excl))\r\n             for(int i =0; i &lt; 100; i++)\r\n             {\r\n                 int answer = rn.nextInt(10) + 1;\r\n                 System.out.println(answer);\r\n             }\r\n        }\r\n    }","title":"Why does int answer = generator.nextInt(10) + 1; only produce numbers between 1 and 10?","body":"<p>I don't understand why it wouldn't generate upwards of 11.</p>\n\n<p>Here is my tester code:</p>\n\n<pre><code>import java.util.Random;\n\npublic class randomNumberTest\n{\n    public static void main(String[] args)\n    {\n         Random rn = new Random();\n         //tests random number generator (between 1(inc) and 10(excl))\n         for(int i =0; i &lt; 100; i++)\n         {\n             int answer = rn.nextInt(10) + 1;\n             System.out.println(answer);\n         }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-flink","flink-streaming","flink-sql"],"comments":[{"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"score":1,"creation_date":1684619271,"post_id":76293739,"comment_id":134544319,"body_markdown":"So....what is going wrong?","body":"So....what is going wrong?"},{"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"score":1,"creation_date":1684669632,"post_id":76293739,"comment_id":134547815,"body_markdown":"Check this out about JSONDeserializationSchema &amp; Flink: &lt;br&gt;\nhttps://stackoverflow.com/a/62072265/17530250","body":"Check this out about JSONDeserializationSchema &amp; Flink: &lt;br&gt; <a href=\"https://stackoverflow.com/a/62072265/17530250\">stackoverflow.com/a/62072265/17530250</a>"}],"answers":[{"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684780740,"creation_date":1684780740,"answer_id":76309047,"question_id":76293739,"body_markdown":"You&#39;re on the right track. One way you can resolve this is being calling:\r\n\r\n`.setValueOnlyDeserializer(new TradeEventDeserializationSchema())`\r\n\r\nYour `TradeEventDeserializationSchema` would be a custom deserializer, which would use something like Jackson&#39;s `ObjectMapper` to deserialize each incoming event, e.g.:\r\n\r\n```\r\npublic class TradeEventDeserializationSchema extends AbstractDeserializationSchema&lt;Event&gt; {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private transient ObjectMapper objectMapper;\r\n\r\n    /**\r\n     * For performance reasons it&#39;s better to create on ObjectMapper in this open method rather than\r\n     * creating a new ObjectMapper for every record.\r\n     */\r\n    @Override\r\n    public void open(InitializationContext context) {\r\n        // JavaTimeModule is needed for Java 8 data time (Instant) support\r\n        objectMapper = JsonMapper.builder().build().registerModule(new JavaTimeModule());\r\n    }\r\n\r\n    /**\r\n     * If our deserialize method needed access to the information in the Kafka headers of a\r\n     * KafkaConsumerRecord, we would have implemented a KafkaRecordDeserializationSchema instead of\r\n     * extending AbstractDeserializationSchema.\r\n     */\r\n    @Override\r\n    public Event deserialize(byte[] message) throws IOException {\r\n        return objectMapper.readValue(message, Event.class);\r\n    }\r\n}\r\n```\r\n\r\nEvent is this case would be your event POJO.\r\n\r\nYou can find more details and an example at https://docs.immerok.cloud/docs/how-to-guides/development/deserializing-json-from-kafka-to-apache-flink-pojo/","title":"Consuming a json from kafka on flink","body":"<p>You're on the right track. One way you can resolve this is being calling:</p>\n<p><code>.setValueOnlyDeserializer(new TradeEventDeserializationSchema())</code></p>\n<p>Your <code>TradeEventDeserializationSchema</code> would be a custom deserializer, which would use something like Jackson's <code>ObjectMapper</code> to deserialize each incoming event, e.g.:</p>\n<pre><code>public class TradeEventDeserializationSchema extends AbstractDeserializationSchema&lt;Event&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    private transient ObjectMapper objectMapper;\n\n    /**\n     * For performance reasons it's better to create on ObjectMapper in this open method rather than\n     * creating a new ObjectMapper for every record.\n     */\n    @Override\n    public void open(InitializationContext context) {\n        // JavaTimeModule is needed for Java 8 data time (Instant) support\n        objectMapper = JsonMapper.builder().build().registerModule(new JavaTimeModule());\n    }\n\n    /**\n     * If our deserialize method needed access to the information in the Kafka headers of a\n     * KafkaConsumerRecord, we would have implemented a KafkaRecordDeserializationSchema instead of\n     * extending AbstractDeserializationSchema.\n     */\n    @Override\n    public Event deserialize(byte[] message) throws IOException {\n        return objectMapper.readValue(message, Event.class);\n    }\n}\n</code></pre>\n<p>Event is this case would be your event POJO.</p>\n<p>You can find more details and an example at <a href=\"https://docs.immerok.cloud/docs/how-to-guides/development/deserializing-json-from-kafka-to-apache-flink-pojo/\" rel=\"nofollow noreferrer\">https://docs.immerok.cloud/docs/how-to-guides/development/deserializing-json-from-kafka-to-apache-flink-pojo/</a></p>\n"}],"owner":{"account_id":28640506,"reputation":3,"user_id":21929728,"display_name":"edu90s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76309047,"answer_count":1,"score":0,"last_activity_date":1684780740,"creation_date":1684562538,"question_id":76293739,"body_markdown":"```\r\npackage org.example;\r\n\r\n    import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\n    import org.apache.flink.connector.kafka.source.KafkaSource;\r\n    import org.apache.flink.connector.kafka.source.enumerator.initializer.OffsetsInitializer;\r\n    import org.apache.flink.formats.json.JsonDeserializationSchema;\r\n    \r\n    \r\n    import org.apache.flink.api.common.eventtime.WatermarkStrategy;\r\n    \r\n    import static org.apache.flink.streaming.api.functions.sink.filesystem.rollingpolicies.OnCheckpointRollingPolicy.build;\r\n    \r\n    \r\n    public class DataStreamJob {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n    \r\n    \t\tKafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\r\n    \t\t\t\t.setBootstrapServers(&quot;localhost:19092&quot;)\r\n    \t\t\t\t.setTopics(&quot;1000pepeusdt&quot;,&quot;1000pepeusdtt&quot;)\r\n    \t\t\t\t.setStartingOffsets(OffsetsInitializer.earliest())\r\n    **\\\\the error is on this line**.setValueOnlyDeserializer(new JsonDeserializationSchema&lt;&gt;(TradeEvent.class))\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tenv.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;)\r\n    \t\t\t\t.print();\r\n    \r\n    \t\t// Execute the job\r\n    \t\tenv.execute(&quot;Kafka Consumer Example&quot;);\r\n    \t}\r\n    }\r\n```\r\nThis is what I&#39;m trying to \r\n\r\n    consume: {\r\n    &quot;e&quot;:&quot;aggTrade&quot;\r\n    &quot;E&quot;:1684547379069\r\n    &quot;a&quot;:30161410\r\n    &quot;s&quot;:&quot;1000PEPEUSDT&quot;\r\n    &quot;p&quot;:&quot;0.0015036&quot;\r\n    &quot;q&quot;:&quot;665070&quot;\r\n    &quot;f&quot;:70012793\r\n    &quot;l&quot;:70012793\r\n    &quot;T&quot;:1684547378913\r\n    &quot;m&quot;:true\r\n    }\r\n\r\n","title":"Consuming a json from kafka on flink","body":"<pre><code>package org.example;\n\n    import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\n    import org.apache.flink.connector.kafka.source.KafkaSource;\n    import org.apache.flink.connector.kafka.source.enumerator.initializer.OffsetsInitializer;\n    import org.apache.flink.formats.json.JsonDeserializationSchema;\n    \n    \n    import org.apache.flink.api.common.eventtime.WatermarkStrategy;\n    \n    import static org.apache.flink.streaming.api.functions.sink.filesystem.rollingpolicies.OnCheckpointRollingPolicy.build;\n    \n    \n    public class DataStreamJob {\n        public static void main(String[] args) throws Exception {\n            final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n    \n            KafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\n                    .setBootstrapServers(&quot;localhost:19092&quot;)\n                    .setTopics(&quot;1000pepeusdt&quot;,&quot;1000pepeusdtt&quot;)\n                    .setStartingOffsets(OffsetsInitializer.earliest())\n    **\\\\the error is on this line**.setValueOnlyDeserializer(new JsonDeserializationSchema&lt;&gt;(TradeEvent.class))\n                    .build();\n    \n            env.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;)\n                    .print();\n    \n            // Execute the job\n            env.execute(&quot;Kafka Consumer Example&quot;);\n        }\n    }\n</code></pre>\n<p>This is what I'm trying to</p>\n<pre><code>consume: {\n&quot;e&quot;:&quot;aggTrade&quot;\n&quot;E&quot;:1684547379069\n&quot;a&quot;:30161410\n&quot;s&quot;:&quot;1000PEPEUSDT&quot;\n&quot;p&quot;:&quot;0.0015036&quot;\n&quot;q&quot;:&quot;665070&quot;\n&quot;f&quot;:70012793\n&quot;l&quot;:70012793\n&quot;T&quot;:1684547378913\n&quot;m&quot;:true\n}\n</code></pre>\n"},{"tags":["java","sql","hibernate","jpa","jpql"],"comments":[{"owner":{"account_id":1014607,"reputation":4573,"user_id":1026453,"accept_rate":83,"display_name":"DuncanKinnear"},"score":0,"creation_date":1433368044,"post_id":30630642,"comment_id":49328239,"body_markdown":"Can you give more specific details about how these Entities are associated to each other? Are you using the `@JoinColumn` or `mappedBy` method of linking, or perhaps this is a `@PrimaryKeyJoinColumn`?","body":"Can you give more specific details about how these Entities are associated to each other? Are you using the <code>@JoinColumn</code> or <code>mappedBy</code> method of linking, or perhaps this is a <code>@PrimaryKeyJoinColumn</code>?"},{"owner":{"account_id":171586,"reputation":4477,"user_id":399113,"accept_rate":51,"display_name":"John John Pichler"},"score":0,"creation_date":1433503424,"post_id":30630642,"comment_id":49392459,"body_markdown":"I added it on the code.","body":"I added it on the code."}],"answers":[{"tags":[],"owner":{"account_id":450498,"reputation":1652,"user_id":845849,"display_name":"Suken Shah"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1572455646,"creation_date":1433379299,"answer_id":30633255,"question_id":30630642,"body_markdown":"Yes it can be done without performing join and using JPA query. Check out the following code snippet:\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Entity\r\n    class Entity1 {\r\n       ...\r\n       @OneToOne(...)\r\n       @JoinColumn(name=&quot;entity2ID&quot;)\r\n       private Entity2 entity2;\r\n       @Column(name=&quot;entity2ID&quot;, nullable=true, insertable=true, updatable=true)\r\n       private Long entity2ID;\r\n       ...\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSimply map the joining column in entity as insertable/updatable as FALSE. The Make sure that you absolutely not provide setter method for xyz or joining column. Once this is done you can use following query:\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    SELECT e FROM Entity1 e WHERE e.entity2ID IS NULL\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis won&#39;t perform any joins as you are querying for joining column directly.","title":"How to query a nullable @OneToOne relationship with JPA","body":"<p>Yes it can be done without performing join and using JPA query. Check out the following code snippet:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass Entity1 {\n   ...\n   @OneToOne(...)\n   @JoinColumn(name=\"entity2ID\")\n   private Entity2 entity2;\n   @Column(name=\"entity2ID\", nullable=true, insertable=true, updatable=true)\n   private Long entity2ID;\n   ...\n}\n</code></pre>\n\n<p>Simply map the joining column in entity as insertable/updatable as FALSE. The Make sure that you absolutely not provide setter method for xyz or joining column. Once this is done you can use following query:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT e FROM Entity1 e WHERE e.entity2ID IS NULL\n</code></pre>\n\n<p>This won't perform any joins as you are querying for joining column directly.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1433398957,"creation_date":1433398957,"answer_id":30636390,"question_id":30630642,"body_markdown":"You can simply run this JPQL query:\r\n\r\n    SELECT e1 \r\n    FROM Entity1 e1 \r\n    LEFT JOIN e1.entity2 e2\r\n    WHERE e2 IS NULL\r\n\r\nThe `LEFT JOIN` is what you were looking for.","title":"How to query a nullable @OneToOne relationship with JPA","body":"<p>You can simply run this JPQL query:</p>\n\n<pre><code>SELECT e1 \nFROM Entity1 e1 \nLEFT JOIN e1.entity2 e2\nWHERE e2 IS NULL\n</code></pre>\n\n<p>The <code>LEFT JOIN</code> is what you were looking for.</p>\n"}],"owner":{"account_id":171586,"reputation":4477,"user_id":399113,"accept_rate":51,"display_name":"John John Pichler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12863,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":30636390,"answer_count":2,"score":12,"last_activity_date":1684780245,"creation_date":1433365310,"question_id":30630642,"body_markdown":"I have `Entity1` and `Entity2`. They have a OneToOne nullable relationship.\r\n\r\n    @Entity\r\n    class Entity1 {\r\n\r\n       @Id\r\n       @Column(name = &quot;id&quot;)\r\n       private Long id;\r\n   \r\n       @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;entity2&quot;)\r\n       @JoinColumn(nullable = true)    \r\n       private Entity2 entity2;\r\n       ...\r\n    }\r\n\r\n**How can I query all `Entity1` objects that has a null `entity2`?**\r\n\r\nBecause if I do:\r\n\r\n    SELECT e FROM Entity1 e WHERE e.entity2 IS NULL\r\n\r\nJPA engine do a JOIN between the two tables and put a useless WHERE clausule (`WHERE entity_id = NULL`). Resuming, it executes an useless native SQL.\r\nHow can \r\n\r\n\r\n**Current solution:**\r\n\r\nReading the OpenJPA documentation, I found that Native Queries should be used to workaround JPA limitations. I can get it very easy using native query and I&#39;m currently doing it, but I would like to avoid to use it.\r\n\r\n","title":"How to query a nullable @OneToOne relationship with JPA","body":"<p>I have <code>Entity1</code> and <code>Entity2</code>. They have a OneToOne nullable relationship.</p>\n\n<pre><code>@Entity\nclass Entity1 {\n\n   @Id\n   @Column(name = \"id\")\n   private Long id;\n\n   @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = \"entity2\")\n   @JoinColumn(nullable = true)    \n   private Entity2 entity2;\n   ...\n}\n</code></pre>\n\n<p><strong>How can I query all <code>Entity1</code> objects that has a null <code>entity2</code>?</strong></p>\n\n<p>Because if I do:</p>\n\n<pre><code>SELECT e FROM Entity1 e WHERE e.entity2 IS NULL\n</code></pre>\n\n<p>JPA engine do a JOIN between the two tables and put a useless WHERE clausule (<code>WHERE entity_id = NULL</code>). Resuming, it executes an useless native SQL.\nHow can </p>\n\n<p><strong>Current solution:</strong></p>\n\n<p>Reading the OpenJPA documentation, I found that Native Queries should be used to workaround JPA limitations. I can get it very easy using native query and I'm currently doing it, but I would like to avoid to use it.</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1684780729,"post_id":76308978,"comment_id":134563983,"body_markdown":"Pass your own UriTemplateHandler to setUriTemplateHandler() ?","body":"Pass your own UriTemplateHandler to setUriTemplateHandler() ?"},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1684781865,"post_id":76308978,"comment_id":134564205,"body_markdown":"Any of examples of how that can be done? Not finding much.","body":"Any of examples of how that can be done? Not finding much."},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1684798337,"post_id":76308978,"comment_id":134566538,"body_markdown":"Have you tried the UriComponentBuilder for building the URL? maybe something like this:\n`UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;https://&lt;URL&gt;/api/v1/query&quot;).queryParam(&quot;query&quot;, &quot;count by(__name__) ({__name__=~&#39;.+&#39;})&quot;);` then you can pass the URL to your `exchange` or `getForObject` calls like this `builder.build().encode().toUri()`","body":"Have you tried the UriComponentBuilder for building the URL? maybe something like this: <code>UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;https:&#47;&#47;&lt;URL&gt;&#47;api&#47;v1&#47;query&zwnj;&#8203;&quot;).queryParam(&quot;query&zwnj;&#8203;&quot;, &quot;count by(__name__) ({__name__=~&#39;.+&#39;})&quot;);</code> then you can pass the URL to your <code>exchange</code> or <code>getForObject</code> calls like this <code>builder.build().encode().toUri()</code>"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684780031,"creation_date":1684780031,"question_id":76308978,"body_markdown":"I have a Spring Boot Java application that needs to make a REST GET call to a service to retrieve some information. I keep running into problems and I suspect it is because the call has embedded curly braces (`{` and `}`). For example, here is the REST call:\r\n\r\n```\r\nGET https://&lt;URL&gt;/api/v1/query?query=count by(__name__) ({__name__=~&#39;.+&#39;})\r\n```\r\n\r\nNote: The query value is Prometheus query language (PromQL). It is valid and works fine (as long as it&#39;s URL encoded) in Postman.\r\n\r\nAt first I was URL encoding the query parameter value in my app as well and that was causing other strange errors. We wondered whether there was double encoding going on, so I turned off the encoding part and passed it as-is. Now I get the following error:\r\n\r\n```\r\n[ERROR] 2023-05-22 13:14:12.663 [http-nio-8080-exec-1] org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:175) - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Not enough variable values available to expand &#39;__name__=~&#39;.+&#39;&#39;] with root cause\r\njava.lang.IllegalArgumentException: Not enough variable values available to expand &#39;__name__=~&#39;.+&#39;&#39;\r\n```\r\n\r\nIf I understand correctly, the curly braces signify a query parameter that&#39;s provided when the GET call is made. However, in this case, the curly braces are **not** intended as a parameter placeholder for the REST call, but rather needs to be passed on as-is so that Prometheus can process the query.\r\n\r\nThe code making the call does not attempt to pass any parameters.\r\n\r\nIs there a way to have `RestTemplate` not try to interpret the curly braces as parameter placeholders?\r\n\r\n\r\n","title":"Spring RestTemplate - How to not interpret parameter placeholders","body":"<p>I have a Spring Boot Java application that needs to make a REST GET call to a service to retrieve some information. I keep running into problems and I suspect it is because the call has embedded curly braces (<code>{</code> and <code>}</code>). For example, here is the REST call:</p>\n<pre><code>GET https://&lt;URL&gt;/api/v1/query?query=count by(__name__) ({__name__=~'.+'})\n</code></pre>\n<p>Note: The query value is Prometheus query language (PromQL). It is valid and works fine (as long as it's URL encoded) in Postman.</p>\n<p>At first I was URL encoding the query parameter value in my app as well and that was causing other strange errors. We wondered whether there was double encoding going on, so I turned off the encoding part and passed it as-is. Now I get the following error:</p>\n<pre><code>[ERROR] 2023-05-22 13:14:12.663 [http-nio-8080-exec-1] org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:175) - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Not enough variable values available to expand '__name__=~'.+''] with root cause\njava.lang.IllegalArgumentException: Not enough variable values available to expand '__name__=~'.+''\n</code></pre>\n<p>If I understand correctly, the curly braces signify a query parameter that's provided when the GET call is made. However, in this case, the curly braces are <strong>not</strong> intended as a parameter placeholder for the REST call, but rather needs to be passed on as-is so that Prometheus can process the query.</p>\n<p>The code making the call does not attempt to pass any parameters.</p>\n<p>Is there a way to have <code>RestTemplate</code> not try to interpret the curly braces as parameter placeholders?</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"score":1,"creation_date":1684770161,"post_id":76307807,"comment_id":134561747,"body_markdown":"Your `BaseServiceTest` is missing the `@SpringBootTest` annotation. Without it, spring features do not work.","body":"Your <code>BaseServiceTest</code> is missing the <code>@SpringBootTest</code> annotation. Without it, spring features do not work."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1684771560,"post_id":76307807,"comment_id":134562063,"body_markdown":"@YevheniiSemenov I revised it but nothing changed. I still got the error `java.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;responseEntity&quot; is null`","body":"@YevheniiSemenov I revised it but nothing changed. I still got the error <code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;responseEntity&quot; is null</code>"},{"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"score":0,"creation_date":1684771893,"post_id":76307807,"comment_id":134562158,"body_markdown":"You should also make your constants not static, define getters for them and inject `Constants` bean to your tests through `@Autowire` instead of using it directly.","body":"You should also make your constants not static, define getters for them and inject <code>Constants</code> bean to your tests through <code>@Autowire</code> instead of using it directly."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1684772948,"post_id":76307807,"comment_id":134562401,"body_markdown":"@YevheniiSemenov I got the right url and api key from there as last. Thank you for your response.","body":"@YevheniiSemenov I got the right url and api key from there as last. Thank you for your response."}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684773024,"creation_date":1684773024,"answer_id":76308227,"question_id":76307807,"body_markdown":"After I added @SpingBootTest annotation in BaseServiceTest and clicked &quot;Invalid Cache&quot; , the issue was disappeared.\r\n\r\nHere is BaseServiceTest shown below\r\n\r\n    @SpringBootTest\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ActiveProfiles(value = &quot;test&quot;)\r\n    public abstract class BaseServiceTest {\r\n    \r\n    }","title":"Spring Boot Junit Test - Cannot get some values from application-test.yml (returns null)","body":"<p>After I added @SpingBootTest annotation in BaseServiceTest and clicked &quot;Invalid Cache&quot; , the issue was disappeared.</p>\n<p>Here is BaseServiceTest shown below</p>\n<pre><code>@SpringBootTest\n@ExtendWith(MockitoExtension.class)\n@ActiveProfiles(value = &quot;test&quot;)\npublic abstract class BaseServiceTest {\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76308227,"answer_count":1,"score":0,"last_activity_date":1684778860,"creation_date":1684769748,"question_id":76307807,"body_markdown":"I have a problem to write the JUnit Test with the usage of resttemplate.\r\n\r\nWhen I run the testCalculateRate, I got this error message shown below\r\n\r\n```java\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;responseEntity&quot; is null\r\n``` \r\n\r\nNext, I debug the code\r\n\r\n`getExchangeUrl` returns this null2023-05-22?symbols=USD%2CGBP&amp;base=EUR as `EXCHANGE_API_BASE_URL` returns null. `EXCHANGE_API_API_KEY` also returns null.\r\n\r\n\r\nHere is the Constants shown below\r\n\r\n```java\r\n@Component\r\npublic class Constants {\r\n\r\n    public static String EXCHANGE_API_BASE_URL;\r\n    public static String EXCHANGE_API_API_KEY;\r\n\r\n    public static String EXCHANGE_CACHE_NAME;\r\n    public static Integer EXCHANGE_API_CALL_LIMIT;\r\n\r\n    @Value(&quot;${exchange-api.api-url}&quot;)\r\n    public void setExchangeApiBaseUrl(String apiUrl) {\r\n        EXCHANGE_API_BASE_URL = apiUrl;\r\n    }\r\n\r\n    @Value(&quot;${exchange-api.api-key}&quot;)\r\n    public void setExchangeApiKey(String apiKey) {\r\n        EXCHANGE_API_API_KEY = apiKey;\r\n    }\r\n\r\n    @Value(&quot;${exchange-api.cache-name}&quot;)\r\n    public void setExchangeCacheName(String cacheName) {\r\n        EXCHANGE_CACHE_NAME = cacheName;\r\n    }\r\n\r\n    @Value(&quot;${exchange-api.api-call-limit}&quot;)\r\n    public void setExchangeApiCallLimit(Integer apiCallLimit) {\r\n        EXCHANGE_API_CALL_LIMIT = apiCallLimit;\r\n    }\r\n\r\n}\r\n```\r\n    \r\nHere is the relevant part of application-test.yml\r\n\r\n```yaml\r\nexchange-api:\r\n  api-url: https://api.apilayer.com/exchangerates_data/\r\n  api-key: ${EXCHANGE_API_API_KEY:default-key}\r\n  api-call-limit: 60\r\n  cache-name: exchanges\r\n  cache-ttl: 10000\r\n```\r\n\r\n\r\nHere RateServiceTest shown below\r\n\r\n```java\r\n    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_API_KEY;\r\n    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_BASE_URL;\r\n    \r\n    class RateServiceTest extends BaseServiceTest {\r\n    \r\n        @Mock\r\n        private RateRepository rateRepository;\r\n    \r\n        @Mock\r\n        private RestTemplate restTemplate;\r\n    \r\n        @InjectMocks\r\n        private RateService rateService;\r\n    \r\n        @Test\r\n        void testCalculateRate() {\r\n    \r\n            // Initialize mocks\r\n            MockitoAnnotations.openMocks(this);\r\n    \r\n            // Mocked data\r\n            EnumCurrency base = EnumCurrency.EUR;\r\n            List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\r\n            LocalDate date = LocalDate.of(2023, 5, 22);\r\n    \r\n            // Mocked rate entity\r\n            RateEntity mockedRateEntity = new RateEntity();\r\n            mockedRateEntity.setBase(base);\r\n            mockedRateEntity.setDate(date);\r\n            Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\r\n            rates.put(EnumCurrency.USD, 1.2);\r\n            rates.put(EnumCurrency.GBP, 0.9);\r\n            mockedRateEntity.setRates(rates);\r\n    \r\n            // Mock repository behavior\r\n            when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\r\n    \r\n            // Mock API response\r\n            RateResponse mockedRateResponse = RateResponse.builder()\r\n                    .base(base)\r\n                    .rates(rates)\r\n                    .date(date)\r\n                    .build();\r\n    \r\n            // Create a HttpHeaders object and set the &quot;apikey&quot; header\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\r\n    \r\n            // Create a mock response entity with the expected headers and body\r\n            ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\r\n                    .headers(headers)\r\n                    .body(mockedRateResponse);\r\n    \r\n            // Mock RestTemplate behavior\r\n            when(restTemplate.exchange(\r\n                    anyString(),\r\n                    eq(HttpMethod.GET),\r\n                    any(HttpEntity.class),\r\n                    eq(RateResponse.class)\r\n            )).thenReturn(mockedResponseEntity);\r\n    \r\n            // Call the method\r\n            RateDto result = rateService.calculateRate(base, targets, date);\r\n    \r\n            // Verify repository method was called\r\n            verify(rateRepository, times(1)).findOneByDate(date);\r\n    \r\n            // Verify API call was made\r\n            String expectedUrl = getExchangeUrl(date, base, targets);\r\n            HttpHeaders expectedHeaders = new HttpHeaders();\r\n            expectedHeaders.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\r\n            HttpEntity&lt;String&gt; expectedHttpEntity = new HttpEntity&lt;&gt;(expectedHeaders);\r\n            verify(restTemplate, times(1)).exchange(\r\n                    eq(expectedUrl),\r\n                    eq(HttpMethod.GET),\r\n                    eq(expectedHttpEntity),\r\n                    eq(RateResponse.class)\r\n            );\r\n    \r\n            // Verify the result\r\n            assertThat(result.getBase()).isEqualTo(base);\r\n            assertThat(result.getDate()).isEqualTo(date);\r\n            assertThat(result.getRates()).hasSize(2);\r\n            assertThat(result.getRates()).containsExactlyInAnyOrder(\r\n                    new RateInfoDto(EnumCurrency.USD, 1.2),\r\n                    new RateInfoDto(EnumCurrency.GBP, 0.9)\r\n            );\r\n        }\r\n    \r\n        private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\r\n    \r\n            String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\r\n            return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\r\n        }\r\n    }\r\n```\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/currencyexchange","title":"Spring Boot Junit Test - Cannot get some values from application-test.yml (returns null)","body":"<p>I have a problem to write the JUnit Test with the usage of resttemplate.</p>\n<p>When I run the testCalculateRate, I got this error message shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;responseEntity&quot; is null\n</code></pre>\n<p>Next, I debug the code</p>\n<p><code>getExchangeUrl</code> returns this null2023-05-22?symbols=USD%2CGBP&amp;base=EUR as <code>EXCHANGE_API_BASE_URL</code> returns null. <code>EXCHANGE_API_API_KEY</code> also returns null.</p>\n<p>Here is the Constants shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Constants {\n\n    public static String EXCHANGE_API_BASE_URL;\n    public static String EXCHANGE_API_API_KEY;\n\n    public static String EXCHANGE_CACHE_NAME;\n    public static Integer EXCHANGE_API_CALL_LIMIT;\n\n    @Value(&quot;${exchange-api.api-url}&quot;)\n    public void setExchangeApiBaseUrl(String apiUrl) {\n        EXCHANGE_API_BASE_URL = apiUrl;\n    }\n\n    @Value(&quot;${exchange-api.api-key}&quot;)\n    public void setExchangeApiKey(String apiKey) {\n        EXCHANGE_API_API_KEY = apiKey;\n    }\n\n    @Value(&quot;${exchange-api.cache-name}&quot;)\n    public void setExchangeCacheName(String cacheName) {\n        EXCHANGE_CACHE_NAME = cacheName;\n    }\n\n    @Value(&quot;${exchange-api.api-call-limit}&quot;)\n    public void setExchangeApiCallLimit(Integer apiCallLimit) {\n        EXCHANGE_API_CALL_LIMIT = apiCallLimit;\n    }\n\n}\n</code></pre>\n<p>Here is the relevant part of application-test.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>exchange-api:\n  api-url: https://api.apilayer.com/exchangerates_data/\n  api-key: ${EXCHANGE_API_API_KEY:default-key}\n  api-call-limit: 60\n  cache-name: exchanges\n  cache-ttl: 10000\n</code></pre>\n<p>Here RateServiceTest shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_API_KEY;\n    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_BASE_URL;\n    \n    class RateServiceTest extends BaseServiceTest {\n    \n        @Mock\n        private RateRepository rateRepository;\n    \n        @Mock\n        private RestTemplate restTemplate;\n    \n        @InjectMocks\n        private RateService rateService;\n    \n        @Test\n        void testCalculateRate() {\n    \n            // Initialize mocks\n            MockitoAnnotations.openMocks(this);\n    \n            // Mocked data\n            EnumCurrency base = EnumCurrency.EUR;\n            List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\n            LocalDate date = LocalDate.of(2023, 5, 22);\n    \n            // Mocked rate entity\n            RateEntity mockedRateEntity = new RateEntity();\n            mockedRateEntity.setBase(base);\n            mockedRateEntity.setDate(date);\n            Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\n            rates.put(EnumCurrency.USD, 1.2);\n            rates.put(EnumCurrency.GBP, 0.9);\n            mockedRateEntity.setRates(rates);\n    \n            // Mock repository behavior\n            when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\n    \n            // Mock API response\n            RateResponse mockedRateResponse = RateResponse.builder()\n                    .base(base)\n                    .rates(rates)\n                    .date(date)\n                    .build();\n    \n            // Create a HttpHeaders object and set the &quot;apikey&quot; header\n            HttpHeaders headers = new HttpHeaders();\n            headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n    \n            // Create a mock response entity with the expected headers and body\n            ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\n                    .headers(headers)\n                    .body(mockedRateResponse);\n    \n            // Mock RestTemplate behavior\n            when(restTemplate.exchange(\n                    anyString(),\n                    eq(HttpMethod.GET),\n                    any(HttpEntity.class),\n                    eq(RateResponse.class)\n            )).thenReturn(mockedResponseEntity);\n    \n            // Call the method\n            RateDto result = rateService.calculateRate(base, targets, date);\n    \n            // Verify repository method was called\n            verify(rateRepository, times(1)).findOneByDate(date);\n    \n            // Verify API call was made\n            String expectedUrl = getExchangeUrl(date, base, targets);\n            HttpHeaders expectedHeaders = new HttpHeaders();\n            expectedHeaders.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n            HttpEntity&lt;String&gt; expectedHttpEntity = new HttpEntity&lt;&gt;(expectedHeaders);\n            verify(restTemplate, times(1)).exchange(\n                    eq(expectedUrl),\n                    eq(HttpMethod.GET),\n                    eq(expectedHttpEntity),\n                    eq(RateResponse.class)\n            );\n    \n            // Verify the result\n            assertThat(result.getBase()).isEqualTo(base);\n            assertThat(result.getDate()).isEqualTo(date);\n            assertThat(result.getRates()).hasSize(2);\n            assertThat(result.getRates()).containsExactlyInAnyOrder(\n                    new RateInfoDto(EnumCurrency.USD, 1.2),\n                    new RateInfoDto(EnumCurrency.GBP, 0.9)\n            );\n        }\n    \n        private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n    \n            String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\n            return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\n        }\n    }\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/currencyexchange\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring-boot","lombok","constructor-injection"],"comments":[{"owner":{"account_id":19012323,"reputation":3256,"user_id":13878023,"display_name":"Sujitmohanty30"},"score":0,"creation_date":1597250803,"post_id":63380477,"comment_id":112074147,"body_markdown":"Does this help ? https://stackoverflow.com/questions/37671467/lombok-requiredargsconstructor-not-working and if you want to inject already available beans withing spring context e.g. any repository just making them final will inject them. `private final SomeRepository repository`","body":"Does this help ? <a href=\"https://stackoverflow.com/questions/37671467/lombok-requiredargsconstructor-not-working\" title=\"lombok requiredargsconstructor not working\">stackoverflow.com/questions/37671467/&hellip;</a> and if you want to inject already available beans withing spring context e.g. any repository just making them final will inject them. <code>private final SomeRepository repository</code>"},{"owner":{"account_id":14429141,"reputation":101,"user_id":10422980,"display_name":"Techno"},"score":0,"creation_date":1597250943,"post_id":63380477,"comment_id":112074214,"body_markdown":"In this case its not compiling. In my case it gives error as: Parameter 0 of constructor in com.abc.Test required a bean of type &#39;java.lang.String&#39; that could not be found","body":"In this case its not compiling. In my case it gives error as: Parameter 0 of constructor in com.abc.Test required a bean of type &#39;java.lang.String&#39; that could not be found"},{"owner":{"account_id":19012323,"reputation":3256,"user_id":13878023,"display_name":"Sujitmohanty30"},"score":0,"creation_date":1597251012,"post_id":63380477,"comment_id":112074252,"body_markdown":"did you annotate the String variable as @NonNull ?","body":"did you annotate the String variable as @NonNull ?"},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1597251774,"post_id":63380477,"comment_id":112074600,"body_markdown":"Don&#39;t add Lombok for this. It&#39;s expecting a String bean, not a value to be injected from properties. Use `@Value(&quot;${xyz&quot;})` on the constructor paramter. \n\nYou _can_ use lombok, but it gets really messy to apply annotations to the consturctor. See `onConstructor` documentation,","body":"Don&#39;t add Lombok for this. It&#39;s expecting a String bean, not a value to be injected from properties. Use <code>@Value(&quot;${xyz&quot;})</code> on the constructor paramter.   You <i>can</i> use lombok, but it gets really messy to apply annotations to the consturctor. See <code>onConstructor</code> documentation,"},{"owner":{"account_id":15928516,"reputation":357,"user_id":14187109,"display_name":"Sergey Zh."},"score":0,"creation_date":1641941654,"post_id":63380477,"comment_id":124939023,"body_markdown":"As of Spring 4.3 https://stackoverflow.com/questions/68538851/lombok-and-autowired/70653475#70653475","body":"As of Spring 4.3 <a href=\"https://stackoverflow.com/questions/68538851/lombok-and-autowired/70653475#70653475\" title=\"lombok and autowired\">stackoverflow.com/questions/68538851/lombok-and-autowired/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19323872,"reputation":353,"user_id":14168816,"display_name":"Lennonry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598562869,"creation_date":1598562869,"answer_id":63624251,"question_id":63380477,"body_markdown":"The `@Service` annotation needs to be removed and the bean must be created in a `@Configuration` class with a `@Bean` annotated method returning that class type.\r\n\r\n```java\r\n//Test.java\r\npackage com.abc;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@RequiredArgsConstructor\r\n@ToString\r\npublic class Test {\r\n\r\nprivate final String str;\r\nprivate String str5;\r\n\r\n}\r\n```\r\n\r\n```java\r\n//DemoApplication.java\r\npackage com.abc;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tTest buildTest(@Value(&quot;${xyz}&quot;) String value) {\r\n\t\treturn new Test(value);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nnote: `@SpringBootApplication` implies `@Configuration`\r\n\r\n\r\n```java\r\n//DemoApplicationTests.java\r\npackage com.abc;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n\r\n\t@Autowired\r\n\tcom.abc.Test test;\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t\tSystem.out.println(test);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```properties\r\n#application.properties\r\nxyz=print me\r\n```\r\n\r\n**Result:**\r\n```\r\nTest(str=print me, str5=null)\r\n```\r\n\r\n\r\n","title":"lombok @RequiredArgsConstructor how to inject value to the constructor spring boot","body":"<p>The <code>@Service</code> annotation needs to be removed and the bean must be created in a <code>@Configuration</code> class with a <code>@Bean</code> annotated method returning that class type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Test.java\npackage com.abc;\n\nimport lombok.RequiredArgsConstructor;\nimport lombok.ToString;\n\n@RequiredArgsConstructor\n@ToString\npublic class Test {\n\nprivate final String str;\nprivate String str5;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//DemoApplication.java\npackage com.abc;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean\n    Test buildTest(@Value(&quot;${xyz}&quot;) String value) {\n        return new Test(value);\n    }\n\n}\n\n</code></pre>\n<p>note: <code>@SpringBootApplication</code> implies <code>@Configuration</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>//DemoApplicationTests.java\npackage com.abc;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass DemoApplicationTests {\n\n    @Autowired\n    com.abc.Test test;\n\n    @Test\n    void contextLoads() {\n        System.out.println(test);\n    }\n\n}\n</code></pre>\n<pre><code>#application.properties\nxyz=print me\n</code></pre>\n<p><strong>Result:</strong></p>\n<pre><code>Test(str=print me, str5=null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8546725,"reputation":697,"user_id":8152918,"display_name":"Fede Garcia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603980689,"creation_date":1603980188,"answer_id":64592703,"question_id":63380477,"body_markdown":"In this case I think you are better off either annotating the field :\r\n\r\n    @Service\r\n    public class Test{\r\n\r\n        @Value(&quot;${xyz}&quot;)\r\n        private String str;\r\n\r\n        private String str5;\r\n    \r\n        // more code\r\n    }\r\n\r\nor defining explicitly the constructor with an annotated parameter:\r\n\r\n    @Service\r\n    public class Test{\r\n\r\n        private final String str;\r\n\r\n        private String str5;\r\n    \r\n        public Test(@Value(&quot;${xyz}&quot;) String str) {\r\n            this.str = str;\r\n        }\r\n        // more code\r\n    }\r\n\r\nAnd if you have other *final* fields you can combine lombok constructor generation with field annotation like this as noted in https://stackoverflow.com/questions/52321988 \r\n\r\n    @RequiredArgsConstructor\r\n    @Service\r\n    public class Test{\r\n\r\n        @Value(&quot;${xyz}&quot;)\r\n        private String str;\r\n\r\n        private final String str5;\r\n    \r\n        // more code\r\n    }\r\n","title":"lombok @RequiredArgsConstructor how to inject value to the constructor spring boot","body":"<p>In this case I think you are better off either annotating the field :</p>\n<pre><code>@Service\npublic class Test{\n\n    @Value(&quot;${xyz}&quot;)\n    private String str;\n\n    private String str5;\n\n    // more code\n}\n</code></pre>\n<p>or defining explicitly the constructor with an annotated parameter:</p>\n<pre><code>@Service\npublic class Test{\n\n    private final String str;\n\n    private String str5;\n\n    public Test(@Value(&quot;${xyz}&quot;) String str) {\n        this.str = str;\n    }\n    // more code\n}\n</code></pre>\n<p>And if you have other <em>final</em> fields you can combine lombok constructor generation with field annotation like this as noted in <a href=\"https://stackoverflow.com/questions/52321988\">Best practice for @Value fields, Lombok, and Constructor Injection?</a></p>\n<pre><code>@RequiredArgsConstructor\n@Service\npublic class Test{\n\n    @Value(&quot;${xyz}&quot;)\n    private String str;\n\n    private final String str5;\n\n    // more code\n}\n</code></pre>\n"}],"owner":{"account_id":14429141,"reputation":101,"user_id":10422980,"display_name":"Techno"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17845,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1684778790,"creation_date":1597248319,"question_id":63380477,"body_markdown":"I have a class with lombok @RequiredArgsConstructor:\r\n\r\n    @RequiredArgsConstructor\r\n    @Service\r\n    public class Test{\r\n    \r\n    private final String str;\r\n    private String str5;\r\n    \r\n    // more code\r\n    \r\n    }\r\n\r\nIn non-spring boot we provide in xml as:\r\n\r\n    &lt;bean id=&quot;Test&quot; class=&quot;com.abc.Test&quot;&gt;\r\n    \t\t&lt;constructor-arg index=&quot;0&quot; value=&quot;${xyz}&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n\r\n\r\nhow to achieve same from spring boot may be via application.properties but how to inject\r\n","title":"lombok @RequiredArgsConstructor how to inject value to the constructor spring boot","body":"<p>I have a class with lombok @RequiredArgsConstructor:</p>\n<pre><code>@RequiredArgsConstructor\n@Service\npublic class Test{\n\nprivate final String str;\nprivate String str5;\n\n// more code\n\n}\n</code></pre>\n<p>In non-spring boot we provide in xml as:</p>\n<pre><code>&lt;bean id=&quot;Test&quot; class=&quot;com.abc.Test&quot;&gt;\n        &lt;constructor-arg index=&quot;0&quot; value=&quot;${xyz}&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>how to achieve same from spring boot may be via application.properties but how to inject</p>\n"},{"tags":["java","jframe","jpanel"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684778545,"post_id":76308774,"comment_id":134563528,"body_markdown":"It only creates white space when its aspect ratio is too tall to remain square otherwise. It looks to me it does a rather good job. The only other thing you could do is to constrain to always square by using a resize listener","body":"It only creates white space when its aspect ratio is too tall to remain square otherwise. It looks to me it does a rather good job. The only other thing you could do is to constrain to always square by using a resize listener"}],"owner":{"account_id":27711107,"reputation":1,"user_id":21153774,"display_name":"Emre Tekmen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684777875,"creation_date":1684777875,"question_id":76308774,"body_markdown":"Resizing application window creates black space and tears. I am a beginner programmer trying to create a simple chessboard that scales appropriately when you drag the borders of the window to resize. I was able to achieve this for the most part, however dragging the window creates a lot of artifacts and black space, and sometimes when releasing the mouse the frame does not properly fit the panel. \r\n\r\n[Try it Yourself](https://drive.google.com/drive/folders/17xHYEM6Q79uhsJABeZL3ssnrH9dyIgOK?usp=sharing)\r\n\r\nSource Code\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\nimport java.awt.event.ComponentListener;\r\n\r\npublic class Hello\r\n{ \r\n    public static void main(String[] args) \r\n    {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            Board bd = new Board();\r\n        });\r\n        \r\n    }\r\n}\r\n\r\nclass ChessBoardPanel extends JPanel {\r\n    private boolean white = false;\r\n    public int cellSize;\r\n\r\n    ChessBoardPanel(int chessBoardSize) {\r\n        cellSize = chessBoardSize / 8;\r\n    }\r\n//draw the ChessBoard\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            for (int j = 0; j &lt; 8; j++) {\r\n                if (white)\r\n                    g.setColor(new Color(232, 191, 174));\r\n                else\r\n                    g.setColor(new Color(92, 52, 36));\r\n                g.fillRect(i * cellSize, j * cellSize, cellSize, cellSize);\r\n                white = !white;\r\n            }\r\n            white = !white;\r\n        }\r\n    }\r\n}\r\n\r\nclass Board {\r\n    int chessBoardSize = 512;\r\n    JFrame frame = new JFrame(&quot;Chess Board&quot;);\r\n    ChessBoardPanel panel = new ChessBoardPanel(chessBoardSize);\r\n    //listens for when the application is resized\r\n    ComponentAdapter ca = new ComponentAdapter() {\r\n        @Override\r\n        public void componentResized(ComponentEvent e) {\r\n            //resize panel by repainting\r\n            Insets insets = frame.getInsets();\r\n            chessBoardSize = frame.getSize().width - insets.left - insets.right;\r\n            panel.cellSize = chessBoardSize / 8;\r\n            panel.repaint();\r\n            //fit frame to panel\r\n            Dimension prefDimension = new Dimension(panel.cellSize * 8, panel.cellSize * 8);\r\n            panel.setPreferredSize(prefDimension);\r\n            frame.pack();\r\n        };\r\n    };\r\n    \r\n    Board() {\r\n        frame.addComponentListener(ca);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        Dimension prefDimension = new Dimension(panel.cellSize * 8, panel.cellSize * 8);\r\n        panel.setPreferredSize(prefDimension);\r\n        frame.getContentPane().add(panel);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        frame.setLocationRelativeTo(null);\r\n        panel.repaint(); // Call repaint to trigger paintComponent\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nMy suspicion is that the problem lies within the Component Adapter where I set the preferred Dimensions to the dimensions of the chessboard and then re-pack the frame to fit the panel. I liked this idea because originally you could drag the width or height of the frame and it would create additional white space that I didn&#39;t want to see. If you see any egregious coding practices here feel free to educate me.","title":"Resizing application window with JFrame and JPanel creates black space and tears, sometimes does not fit frame to panel properly","body":"<p>Resizing application window creates black space and tears. I am a beginner programmer trying to create a simple chessboard that scales appropriately when you drag the borders of the window to resize. I was able to achieve this for the most part, however dragging the window creates a lot of artifacts and black space, and sometimes when releasing the mouse the frame does not properly fit the panel.</p>\n<p><a href=\"https://drive.google.com/drive/folders/17xHYEM6Q79uhsJABeZL3ssnrH9dyIgOK?usp=sharing\" rel=\"nofollow noreferrer\">Try it Yourself</a></p>\n<p>Source Code</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.ComponentListener;\n\npublic class Hello\n{ \n    public static void main(String[] args) \n    {\n        SwingUtilities.invokeLater(() -&gt; {\n            Board bd = new Board();\n        });\n        \n    }\n}\n\nclass ChessBoardPanel extends JPanel {\n    private boolean white = false;\n    public int cellSize;\n\n    ChessBoardPanel(int chessBoardSize) {\n        cellSize = chessBoardSize / 8;\n    }\n//draw the ChessBoard\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        for (int i = 0; i &lt; 8; i++) {\n            for (int j = 0; j &lt; 8; j++) {\n                if (white)\n                    g.setColor(new Color(232, 191, 174));\n                else\n                    g.setColor(new Color(92, 52, 36));\n                g.fillRect(i * cellSize, j * cellSize, cellSize, cellSize);\n                white = !white;\n            }\n            white = !white;\n        }\n    }\n}\n\nclass Board {\n    int chessBoardSize = 512;\n    JFrame frame = new JFrame(&quot;Chess Board&quot;);\n    ChessBoardPanel panel = new ChessBoardPanel(chessBoardSize);\n    //listens for when the application is resized\n    ComponentAdapter ca = new ComponentAdapter() {\n        @Override\n        public void componentResized(ComponentEvent e) {\n            //resize panel by repainting\n            Insets insets = frame.getInsets();\n            chessBoardSize = frame.getSize().width - insets.left - insets.right;\n            panel.cellSize = chessBoardSize / 8;\n            panel.repaint();\n            //fit frame to panel\n            Dimension prefDimension = new Dimension(panel.cellSize * 8, panel.cellSize * 8);\n            panel.setPreferredSize(prefDimension);\n            frame.pack();\n        };\n    };\n    \n    Board() {\n        frame.addComponentListener(ca);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Dimension prefDimension = new Dimension(panel.cellSize * 8, panel.cellSize * 8);\n        panel.setPreferredSize(prefDimension);\n        frame.getContentPane().add(panel);\n        frame.pack();\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n        panel.repaint(); // Call repaint to trigger paintComponent\n    }\n}\n\n\n</code></pre>\n<p>My suspicion is that the problem lies within the Component Adapter where I set the preferred Dimensions to the dimensions of the chessboard and then re-pack the frame to fit the panel. I liked this idea because originally you could drag the width or height of the frame and it would create additional white space that I didn't want to see. If you see any egregious coding practices here feel free to educate me.</p>\n"},{"tags":["java","mysql","gradle","dependencies","build.gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684778816,"post_id":76308769,"comment_id":134563597,"body_markdown":"That is not an exception, it is a path to a Java source file. What are the actual code, the actual exception and error message, and the actual gradle configuration?","body":"That is not an exception, it is a path to a Java source file. What are the actual code, the actual exception and error message, and the actual gradle configuration?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684815988,"post_id":76308769,"comment_id":134568063,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28656496,"reputation":1,"user_id":21942415,"display_name":"Samuel Kuta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684777821,"creation_date":1684777821,"question_id":76308769,"body_markdown":"I&#39;m pretty new to Gradle so excuse my confusion.\r\n\r\nI&#39;ve put the MySQL Java Connector from Maven Repos to my Gradle dependencies inside build.gradle,\r\nbut when I try this : Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); I get this exception: /home/charming/Porkramming/javaApps/chatApplication/app/src/main/java/charming/actualCode/App.java\r\n\r\nI can run ./gradlew build succesfully, and there&#39;s even mysql-connector-8.0.32.jar file in gradle build/lib directory.\r\n\r\n\r\n\r\nI&#39;ve tried following a lot of tutorials, but most of them resort to manual download and editing classPath through the IDE, which I both don&#39;t want to do, and I don&#39;t really know how to do since I&#39;m using VSCode as my IDE and i&#39;m not sure where I could configure the java class build path.","title":"JBDC driver not working as gradle dependency","body":"<p>I'm pretty new to Gradle so excuse my confusion.</p>\n<p>I've put the MySQL Java Connector from Maven Repos to my Gradle dependencies inside build.gradle,\nbut when I try this : Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); I get this exception: /home/charming/Porkramming/javaApps/chatApplication/app/src/main/java/charming/actualCode/App.java</p>\n<p>I can run ./gradlew build succesfully, and there's even mysql-connector-8.0.32.jar file in gradle build/lib directory.</p>\n<p>I've tried following a lot of tutorials, but most of them resort to manual download and editing classPath through the IDE, which I both don't want to do, and I don't really know how to do since I'm using VSCode as my IDE and i'm not sure where I could configure the java class build path.</p>\n"},{"tags":["java","android","sockets"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1684784619,"post_id":76308749,"comment_id":134564729,"body_markdown":"`if (runThreads)\n                        input = new DataInputStream(socket.getInputStream());` Remove that statement. You already opened it just before the while loop.","body":"<code>if (runThreads)                         input = new DataInputStream(socket.getInputStream());</code> Remove that statement. You already opened it just before the while loop."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1684784680,"post_id":76308749,"comment_id":134564742,"body_markdown":"You cannot use a Toast() there where you read or write to sockets.","body":"You cannot use a Toast() there where you read or write to sockets."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1684784745,"post_id":76308749,"comment_id":134564754,"body_markdown":"`then receive it back from the server through another socket ` ? What do you mean with &#39;another socket&#39;? Where do you have it?","body":"<code>then receive it back from the server through another socket </code> ? What do you mean with &#39;another socket&#39;? Where do you have it?"},{"owner":{"account_id":18940147,"reputation":3,"user_id":13820392,"display_name":"MaelTheMeal"},"score":0,"creation_date":1684790179,"post_id":76308749,"comment_id":134565691,"body_markdown":"@blackapps I&#39;m going to be honest, I don&#39;t even know why the `if (runThreads)` line was there, but  I removed it and it didn&#39;t fix it. Regarding the Toast(), removing it also didn&#39;t fix the issue. I&#39;ve realised that the first time that the fragment is loaded, it works perfectly, but the issue arises for every other time which the fragment is opened apart from the first time","body":"@blackapps I&#39;m going to be honest, I don&#39;t even know why the <code>if (runThreads)</code> line was there, but  I removed it and it didn&#39;t fix it. Regarding the Toast(), removing it also didn&#39;t fix the issue. I&#39;ve realised that the first time that the fragment is loaded, it works perfectly, but the issue arises for every other time which the fragment is opened apart from the first time"}],"owner":{"account_id":18940147,"reputation":3,"user_id":13820392,"display_name":"MaelTheMeal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684777720,"creation_date":1684777720,"question_id":76308749,"body_markdown":"I am trying to request information through a socket on an Android client and then receive it back from the server through another socket but I am not receiving the information sent from server on the client side.\r\n\r\nThis is the code for my client on Android:\r\n\r\n```\r\npublic View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState)\r\n    {\r\n        binding = FragmentBinding.inflate(inflater, container, false);\r\n\r\n        runThreads = true;\r\n        new ResponseListener().start();\r\n        queryAllOrders();\r\n\r\n        return binding.getRoot();\r\n    }\r\n\r\n    private void queryAllOrders()\r\n    {\r\n        try\r\n        {\r\n            if (socket != null)\r\n            {\r\n                DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n                output.writeUTF(&quot;&#167;&#167;Q0&quot;);\r\n                output.flush();\r\n                Toast.makeText(getContext(), &quot;Orders queried successfully&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else\r\n                Toast.makeText(getContext(), &quot;Error querying orders&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            e.printStackTrace();\r\n            Toast.makeText(getContext(), &quot;Error querying orders&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    private static class ResponseListener extends Thread\r\n    {\r\n        @Override\r\n        public void run()\r\n        {\r\n            try\r\n            {\r\n                DataInputStream input = new DataInputStream(socket.getInputStream());;\r\n                while (runThreads)\r\n                {\r\n                    String mes = input.readUTF();\r\n                    if (mes.startsWith(&quot;&#167;&#167;R0&quot;))\r\n                    {\r\n                        ContextCompat.getMainExecutor(MainApplication.getAppContext()).execute(() -&gt;\r\n                                Toast.makeText(MainApplication.getAppContext(), &quot;Response received successfully&quot;, Toast.LENGTH_SHORT).show());\r\n                        System.out.println(&quot;Response received successfully | Message: &quot; + mes);\r\n                    }\r\n                    if (runThreads)\r\n                        input = new DataInputStream(socket.getInputStream());\r\n                }\r\n                input.close();\r\n            } catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView()\r\n    {\r\n        super.onDestroyView();\r\n        binding = null;\r\n        runThreads = false;\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the thread on my server which detects an input:\r\n\r\n```\r\n    private static class ClientInput extends Thread\r\n    {\r\n        private final int clientId;\r\n        private final Socket socket;\r\n\r\n        DataInputStream input;\r\n        DataOutputStream output;\r\n\r\n        public ClientInput(int clientId, Socket socket) throws IOException\r\n        {\r\n            this.clientId = clientId;\r\n            this.socket = socket;\r\n\r\n            input = new DataInputStream(socket.getInputStream());\r\n            output = new DataOutputStream(socket.getOutputStream());\r\n        }\r\n\r\n        @Override\r\n        public void run()\r\n        {\r\n            try\r\n            {\r\n                while (runThreads)\r\n                {\r\n                    String mes = input.readUTF();\r\n\r\n                    if (mes.startsWith(&quot;&#167;&#167;Q&quot;))\r\n                    {\r\n                        if (mes.charAt(3) == &#39;0&#39;)\r\n                        {\r\n                            StringBuilder response = new StringBuilder(&quot;&#167;&#167;R0%&quot;);\r\n                            for (Order order : orders)\r\n                            {\r\n                                response.append(order.toString());\r\n                                response.append(&quot;%&quot;);\r\n                            }\r\n                            response.deleteCharAt(response.length() - 1);\r\n                            serverWrite(&quot;\\nSent all orders to client with ID: &quot; + clientId + &quot; | Host : &quot; +  socket.getInetAddress().getCanonicalHostName());\r\n                            serverWrite(&quot;Orders: &quot; + response);\r\n                            output.writeUTF(response.toString());\r\n                            output.flush();\r\n                        }\r\n                    }\r\n                }\r\n            } catch (IOException e)\r\n            {\r\n                if (e.getMessage() == null)\r\n                    serverWrite(&quot;\\nConnection with a client lost&quot;);\r\n                else\r\n                {\r\n                    if (e.getMessage().equals(&quot;Connection reset&quot;))\r\n                        serverWrite(&quot;\\nConnection with a client lost&quot;);\r\n                    else\r\n                        e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nWhen I open the fragment on the client, it sends the request to the server and on the server-side, I see that a response is sent back to the client. However, I don&#39;t receive that response on the client and the code stays on the `input.readUTF()`.","title":"Android client app not getting server response despite server successfully sending socket","body":"<p>I am trying to request information through a socket on an Android client and then receive it back from the server through another socket but I am not receiving the information sent from server on the client side.</p>\n<p>This is the code for my client on Android:</p>\n<pre><code>public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState)\n    {\n        binding = FragmentBinding.inflate(inflater, container, false);\n\n        runThreads = true;\n        new ResponseListener().start();\n        queryAllOrders();\n\n        return binding.getRoot();\n    }\n\n    private void queryAllOrders()\n    {\n        try\n        {\n            if (socket != null)\n            {\n                DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n                output.writeUTF(&quot;§§Q0&quot;);\n                output.flush();\n                Toast.makeText(getContext(), &quot;Orders queried successfully&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else\n                Toast.makeText(getContext(), &quot;Error querying orders&quot;, Toast.LENGTH_SHORT).show();\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n            Toast.makeText(getContext(), &quot;Error querying orders&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    private static class ResponseListener extends Thread\n    {\n        @Override\n        public void run()\n        {\n            try\n            {\n                DataInputStream input = new DataInputStream(socket.getInputStream());;\n                while (runThreads)\n                {\n                    String mes = input.readUTF();\n                    if (mes.startsWith(&quot;§§R0&quot;))\n                    {\n                        ContextCompat.getMainExecutor(MainApplication.getAppContext()).execute(() -&gt;\n                                Toast.makeText(MainApplication.getAppContext(), &quot;Response received successfully&quot;, Toast.LENGTH_SHORT).show());\n                        System.out.println(&quot;Response received successfully | Message: &quot; + mes);\n                    }\n                    if (runThreads)\n                        input = new DataInputStream(socket.getInputStream());\n                }\n                input.close();\n            } catch (Exception e)\n            {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    public void onDestroyView()\n    {\n        super.onDestroyView();\n        binding = null;\n        runThreads = false;\n    }\n}\n</code></pre>\n<p>And this is the thread on my server which detects an input:</p>\n<pre><code>    private static class ClientInput extends Thread\n    {\n        private final int clientId;\n        private final Socket socket;\n\n        DataInputStream input;\n        DataOutputStream output;\n\n        public ClientInput(int clientId, Socket socket) throws IOException\n        {\n            this.clientId = clientId;\n            this.socket = socket;\n\n            input = new DataInputStream(socket.getInputStream());\n            output = new DataOutputStream(socket.getOutputStream());\n        }\n\n        @Override\n        public void run()\n        {\n            try\n            {\n                while (runThreads)\n                {\n                    String mes = input.readUTF();\n\n                    if (mes.startsWith(&quot;§§Q&quot;))\n                    {\n                        if (mes.charAt(3) == '0')\n                        {\n                            StringBuilder response = new StringBuilder(&quot;§§R0%&quot;);\n                            for (Order order : orders)\n                            {\n                                response.append(order.toString());\n                                response.append(&quot;%&quot;);\n                            }\n                            response.deleteCharAt(response.length() - 1);\n                            serverWrite(&quot;\\nSent all orders to client with ID: &quot; + clientId + &quot; | Host : &quot; +  socket.getInetAddress().getCanonicalHostName());\n                            serverWrite(&quot;Orders: &quot; + response);\n                            output.writeUTF(response.toString());\n                            output.flush();\n                        }\n                    }\n                }\n            } catch (IOException e)\n            {\n                if (e.getMessage() == null)\n                    serverWrite(&quot;\\nConnection with a client lost&quot;);\n                else\n                {\n                    if (e.getMessage().equals(&quot;Connection reset&quot;))\n                        serverWrite(&quot;\\nConnection with a client lost&quot;);\n                    else\n                        e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>When I open the fragment on the client, it sends the request to the server and on the server-side, I see that a response is sent back to the client. However, I don't receive that response on the client and the code stays on the <code>input.readUTF()</code>.</p>\n"},{"tags":["java","list","concurrency","thread-safety"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1684537114,"post_id":76292701,"comment_id":134536856,"body_markdown":"I don&#39;t think you need synchronization. If you&#39;re not mutating, the only issue is safe publication, which you can address by making it `volatile`.","body":"I don&#39;t think you need synchronization. If you&#39;re not mutating, the only issue is safe publication, which you can address by making it <code>volatile</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684564628,"post_id":76292701,"comment_id":134538393,"body_markdown":"Can we assume that `list` is actually `private` and that this class contains no other methods that access or mutate the `list` variable or the `List` that it refers to?","body":"Can we assume that <code>list</code> is actually <code>private</code> and that this class contains no other methods that access or mutate the <code>list</code> variable or the <code>List</code> that it refers to?"}],"answers":[{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684597875,"creation_date":1684535901,"answer_id":76292800,"question_id":76292701,"body_markdown":"Yes, what you have will work.\r\n\r\nIf you don&#39;t need to coordinate the list&#39;s refresh with any other state, you could also use a `final AtomicReference&lt;List&lt;Foo&gt;&gt;`, or even use a `volatile List&lt;Foo&gt;`. In either of those cases, you would not need to mark your methods as `synchronized`: both [`AtomicReference`][1] and `volatile` have cross-reference memory guarantees, as long as the object being assigned/set to the field isn&#39;t mutated after that assignment.\r\n\r\nFor that to work, it&#39;s crucial that the `List` isn&#39;t mutated, _and_ that none of its `Foo`s are (unless they&#39;re thread-safe). If it were me, I would wrap the List in a [`Collections.unmodifiableList`][2] or some other unmodifiable list such as [`List.copyOf`][3], and add a comment to the effect of &quot;this needs to be unmodifiable for thread-safety&quot;, so that someone else doesn&#39;t later change that without realizing what they&#39;re breaking. (It&#39;ll be hard to write a unit test that detects that error — more likely, you&#39;ll just hit in prod, unpredictably.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)","title":"Thread safe read and instantiate a list","body":"<p>Yes, what you have will work.</p>\n<p>If you don't need to coordinate the list's refresh with any other state, you could also use a <code>final AtomicReference&lt;List&lt;Foo&gt;&gt;</code>, or even use a <code>volatile List&lt;Foo&gt;</code>. In either of those cases, you would not need to mark your methods as <code>synchronized</code>: both <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a> and <code>volatile</code> have cross-reference memory guarantees, as long as the object being assigned/set to the field isn't mutated after that assignment.</p>\n<p>For that to work, it's crucial that the <code>List</code> isn't mutated, <em>and</em> that none of its <code>Foo</code>s are (unless they're thread-safe). If it were me, I would wrap the List in a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableList</code></a> or some other unmodifiable list such as <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>List.copyOf</code></a>, and add a comment to the effect of &quot;this needs to be unmodifiable for thread-safety&quot;, so that someone else doesn't later change that without realizing what they're breaking. (It'll be hard to write a unit test that detects that error — more likely, you'll just hit in prod, unpredictably.)</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684745088,"creation_date":1684567001,"answer_id":76293985,"question_id":76292701,"body_markdown":"People have suggested using `volatile` or an `AtomicReference` as an alternative to `synchronized` or a `Lock`.\r\n\r\nIf you do this, the correctness / thread-safety will depend on *how* the `getFoo` method &quot;loops&quot; the list.  For example:\r\n\r\n        private volatile List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        public Foo getFoo(Condition x) {\r\n            for (Foo foo: list) {\r\n               ...\r\n            }\r\n        }\r\n\r\nwill be OK because the `list` variable is read exactly once, but\r\n\r\n        public Foo getFoo(Condition x) {\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n               Foo f = list.get(i);\r\n               ...\r\n            }\r\n        }\r\n\r\nwill not be OK.  This can be addressed by assigning `list` to a local variable and iterating *that*.\r\n\r\nCorrectness / thread-safety will also depend on whether or not `getFoo` is specified to return a `Foo` that is (still) in the list when `getFoo` returns.  Consider what happens if `refresh()` is called while a `getFoo` is in progress.  If we use `synchronized` (as per the original code) then the `getFoo` returns a `Foo` that is still in the list at the point of return.  If we don&#39;t, then `getFoo` may return a list that has already been removed from the list.  Indeed, you could imagine a scenario with 3 threads like this:\r\n\r\n        Thread 1 calls getFoo(c)\r\n        Thread 2 calls refresh which empties the list\r\n        Thread 2 refresh completes\r\n        Thread 3 calls getFoo(c)\r\n        Thread 3 quickly returns null because no Foo matches in the new list\r\n        ...\r\n        time passes\r\n        ...\r\n        Thread 1 returns a non-null matching Foo from the old list\r\n\r\nThere is also the issue of whether `list` or the `List` that it refers to can be accessed via other routes; e.g. since the example shows `list` as not declared as `private`, it could be accessed and even mutated from another class.  (This can be addressed too.)\r\n\r\n------------------------\r\n\r\nThread-safety is a surprisingly rubbery concept.  The normal definition is that code that is correct when there is only one thread is also correct in all situations where two or more threads.  In this case, &quot;correct&quot; means that it (provably) satisfies the formal requirements for the code.\r\n  \r\nBut here we don&#39;t have either a clear statement of the formal requirements or complete versions of the code.   So therefore we cannot say **with 100% certainty** that *any* of the versions is thread-safe.\r\n","title":"Thread safe read and instantiate a list","body":"<p>People have suggested using <code>volatile</code> or an <code>AtomicReference</code> as an alternative to <code>synchronized</code> or a <code>Lock</code>.</p>\n<p>If you do this, the correctness / thread-safety will depend on <em>how</em> the <code>getFoo</code> method &quot;loops&quot; the list.  For example:</p>\n<pre><code>    private volatile List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\n\n    public Foo getFoo(Condition x) {\n        for (Foo foo: list) {\n           ...\n        }\n    }\n</code></pre>\n<p>will be OK because the <code>list</code> variable is read exactly once, but</p>\n<pre><code>    public Foo getFoo(Condition x) {\n        for (int i = 0; i &lt; list.size(); i++) {\n           Foo f = list.get(i);\n           ...\n        }\n    }\n</code></pre>\n<p>will not be OK.  This can be addressed by assigning <code>list</code> to a local variable and iterating <em>that</em>.</p>\n<p>Correctness / thread-safety will also depend on whether or not <code>getFoo</code> is specified to return a <code>Foo</code> that is (still) in the list when <code>getFoo</code> returns.  Consider what happens if <code>refresh()</code> is called while a <code>getFoo</code> is in progress.  If we use <code>synchronized</code> (as per the original code) then the <code>getFoo</code> returns a <code>Foo</code> that is still in the list at the point of return.  If we don't, then <code>getFoo</code> may return a list that has already been removed from the list.  Indeed, you could imagine a scenario with 3 threads like this:</p>\n<pre><code>    Thread 1 calls getFoo(c)\n    Thread 2 calls refresh which empties the list\n    Thread 2 refresh completes\n    Thread 3 calls getFoo(c)\n    Thread 3 quickly returns null because no Foo matches in the new list\n    ...\n    time passes\n    ...\n    Thread 1 returns a non-null matching Foo from the old list\n</code></pre>\n<p>There is also the issue of whether <code>list</code> or the <code>List</code> that it refers to can be accessed via other routes; e.g. since the example shows <code>list</code> as not declared as <code>private</code>, it could be accessed and even mutated from another class.  (This can be addressed too.)</p>\n<hr />\n<p>Thread-safety is a surprisingly rubbery concept.  The normal definition is that code that is correct when there is only one thread is also correct in all situations where two or more threads.  In this case, &quot;correct&quot; means that it (provably) satisfies the formal requirements for the code.</p>\n<p>But here we don't have either a clear statement of the formal requirements or complete versions of the code.   So therefore we cannot say <strong>with 100% certainty</strong> that <em>any</em> of the versions is thread-safe.</p>\n"}],"owner":{"account_id":5195570,"reputation":416,"user_id":4157010,"accept_rate":50,"display_name":"eriee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1684776979,"creation_date":1684534556,"question_id":76292701,"body_markdown":"I need to implement a list as the following:\r\n```\r\nprivate List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\r\n\r\npublic synchronized Foo getFoo(Condition condition) {\r\n    // loop the list and get a foo that meets the condition\r\n    for (Foo foo: list) {\r\n        if(condition.check(foo)) {\r\n            return foo;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\npublic synchronized void refresh() {\r\n    list = new ArrayList&lt;&gt;(fetchFromDB());\r\n}\r\n```\r\nIs there better way to avoid synchronized method to make the read and instantiate thread safe? I think CopyOnWriteArrayList won&#39;t help here because there are no mutative operations on the same list and every time we just create a new list. Am I right?\r\n\r\n-----\r\nUPDATED: to clarify, the list will only be fully set by the refresh() method, there is no other mutation to the list.\r\n","title":"Thread safe read and instantiate a list","body":"<p>I need to implement a list as the following:</p>\n<pre><code>private List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\n\npublic synchronized Foo getFoo(Condition condition) {\n    // loop the list and get a foo that meets the condition\n    for (Foo foo: list) {\n        if(condition.check(foo)) {\n            return foo;\n        }\n    }\n    return null;\n}\n\npublic synchronized void refresh() {\n    list = new ArrayList&lt;&gt;(fetchFromDB());\n}\n</code></pre>\n<p>Is there better way to avoid synchronized method to make the read and instantiate thread safe? I think CopyOnWriteArrayList won't help here because there are no mutative operations on the same list and every time we just create a new list. Am I right?</p>\n<hr />\n<p>UPDATED: to clarify, the list will only be fully set by the refresh() method, there is no other mutation to the list.</p>\n"},{"tags":["java","spring-boot","amazon-ses"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682015863,"post_id":76066726,"comment_id":134153490,"body_markdown":"Can you add your main class for this project? It seems to be coming from some configuration in there somewhere.","body":"Can you add your main class for this project? It seems to be coming from some configuration in there somewhere."},{"owner":{"account_id":14364542,"reputation":101,"user_id":10375999,"display_name":"Abe"},"score":0,"creation_date":1682016298,"post_id":76066726,"comment_id":134153571,"body_markdown":"@grekier I have added the main class, but I have not modified that file at all so not sure it will help","body":"@grekier I have added the main class, but I have not modified that file at all so not sure it will help"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682016840,"post_id":76066726,"comment_id":134153676,"body_markdown":"I see... that&#39;s definitively not the issue... Do you have any other classes annotated with `@Configuration` or `@Import` maybe? BTW, class name should start with an uppercase in Java","body":"I see... that&#39;s definitively not the issue... Do you have any other classes annotated with <code>@Configuration</code> or <code>@Import</code> maybe? BTW, class name should start with an uppercase in Java"},{"owner":{"account_id":14364542,"reputation":101,"user_id":10375999,"display_name":"Abe"},"score":0,"creation_date":1682020303,"post_id":76066726,"comment_id":134154312,"body_markdown":"Oh  thats not the actual class name, I just put that there for confidentiality purposes.  and yes I do have another config file, but its for my dynamoDB configuration. and that works fine","body":"Oh  thats not the actual class name, I just put that there for confidentiality purposes.  and yes I do have another config file, but its for my dynamoDB configuration. and that works fine"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682108741,"post_id":76066726,"comment_id":134169476,"body_markdown":"So I&#39;m not sure where it is coming from but, in any cases, the error is caused because something somewhere is annotated with something that needs AmazonRdsInstanceConfiguration and it isn&#39;t there. Obviously you could add `spring-cloud-aws-jdbc` as a dependency but, if it is not in use, it would be better to figure out why it&#39;s expected","body":"So I&#39;m not sure where it is coming from but, in any cases, the error is caused because something somewhere is annotated with something that needs AmazonRdsInstanceConfiguration and it isn&#39;t there. Obviously you could add <code>spring-cloud-aws-jdbc</code> as a dependency but, if it is not in use, it would be better to figure out why it&#39;s expected"},{"owner":{"account_id":14364542,"reputation":101,"user_id":10375999,"display_name":"Abe"},"score":0,"creation_date":1682268603,"post_id":76066726,"comment_id":134184936,"body_markdown":"Yea that was what I found when looking into it, but it seems that adding that dependency requires you to use things that I don&#39;t need, and thus throws even more errors at me","body":"Yea that was what I found when looking into it, but it seems that adding that dependency requires you to use things that I don&#39;t need, and thus throws even more errors at me"}],"answers":[{"tags":[],"owner":{"account_id":17773412,"reputation":1,"user_id":21267185,"display_name":"Sebastian James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684775891,"creation_date":1684775891,"answer_id":76308558,"question_id":76066726,"body_markdown":"*I don&#39;t have enough reputations to provide as a comment, so forced to give what worked for me as an answer.*\r\n\r\nI got the same error while working on a project. I updated my application-local.yml like below which resolved it. \r\n```\r\ncloud:\r\n  aws:\r\n    rds:\r\n      enabled: false\r\n```\r\nI feel this is just a fix to the problem but not actually figuring out the root cause behind the issue. I&#39;ll update when I get more info on the issue. ","title":"Getting &quot;java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration&quot; when working with Amazon SES","body":"<p><em>I don't have enough reputations to provide as a comment, so forced to give what worked for me as an answer.</em></p>\n<p>I got the same error while working on a project. I updated my application-local.yml like below which resolved it.</p>\n<pre><code>cloud:\n  aws:\n    rds:\n      enabled: false\n</code></pre>\n<p>I feel this is just a fix to the problem but not actually figuring out the root cause behind the issue. I'll update when I get more info on the issue.</p>\n"}],"owner":{"account_id":14364542,"reputation":101,"user_id":10375999,"display_name":"Abe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684775891,"creation_date":1682011215,"question_id":76066726,"body_markdown":"I am trying to get my spring application to run with Amazon SES but keep getting an exception during the build process saying &quot;java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration&quot; I was following an example online at https://stackabuse.com/guide-to-simple-email-service-aws-ses-with-spring-boot-and-spring-cloud/\r\n\r\nHere is my Config file\r\n\r\n```\r\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\r\nimport com.amazonaws.auth.BasicAWSCredentials;\r\nimport com.amazonaws.services.simpleemail.AmazonSimpleEmailService;\r\nimport com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClientBuilder;\r\nimport io.awspring.cloud.ses.SimpleEmailServiceMailSender;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.mail.MailSender;\r\n\r\n@Configuration\r\npublic class AmazonSESConfig {\r\n\r\n    @Value(&quot;${amazon.aws.accessKey}&quot;)\r\n    private String accessKey;\r\n    @Value(&quot;${amazon.aws.secretKey}&quot;)\r\n    private String secretKey;\r\n\r\n    @Value(&quot;${amazon.aws.region}&quot;)\r\n    private String region;\r\n\r\n    @Bean\r\n    public AmazonSimpleEmailService amazonSimpleEmailService() {\r\n        BasicAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\r\n        return AmazonSimpleEmailServiceClientBuilder\r\n                .standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                .withRegion(region)\r\n                .build();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public MailSender mailSender(AmazonSimpleEmailService amazonSimpleEmailService) {\r\n        return new SimpleEmailServiceMailSender(amazonSimpleEmailService);\r\n    }\r\n}\r\n```\r\n\r\nHere is my properties file\r\n\r\n```\r\namazon.aws.accessKey=ACCESS_KEY\r\namazon.aws.secretKey=SECRET_KEY\r\namazon.aws.region=ca-central-1\r\n```\r\n\r\nHere is my service file\r\n\r\n```\r\n@Service\r\npublic class CorrespondenceService {\r\n\r\n    @Autowired\r\n    private MailSender mailSender;\r\n\r\n    public void sendMail(){\r\n    \r\n        SimpleMailMessage simpleMailMessage = new SimpleMailMessage();\r\n        simpleMailMessage.setFrom(&quot;testFromEmail@test.com&quot;);\r\n        simpleMailMessage.setTo(&quot;testToEmail@test.com&quot;);\r\n        simpleMailMessage.setSubject(&quot;Test&quot;);\r\n        simpleMailMessage.setText(&quot;This email is a test&quot;);\r\n\r\n        mailSender.send(simpleMailMessage);\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nFinally here is the error from the console.\r\n\r\n```\r\njava.lang.IllegalArgumentException: Could not find class [io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration]\r\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:334) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:446) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:369) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:284) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:285) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:103) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:82) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.registerBeanDefinitionForImportedConfigurationClass(ConfigurationClassBeanDefinitionReader.java:169) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:150) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.19.jar:5.3.19]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\r\n        at *MY APPLICATION PATH*(MyApplication.java:10) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\r\nCaused by: java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n        at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n        at java.base/java.lang.Class.forName(Class.java:495) ~[na:na]\r\n        at java.base/java.lang.Class.forName(Class.java:474) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n        at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n        at java.base/java.lang.Class.forName(Class.java:495) ~[na:na]\r\n        at java.base/java.lang.Class.forName(Class.java:474) ~[na:na]\r\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.19.jar:5.3.19]\r\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324) ~[spring-core-5.3.19.jar:5.3.19]\r\n        ... 28 common frames omitted\r\n\r\n```\r\nHere is the main class\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class EmailApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EmailApplication.class, args);\r\n\t}\r\n\r\n}\r\n```","title":"Getting &quot;java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration&quot; when working with Amazon SES","body":"<p>I am trying to get my spring application to run with Amazon SES but keep getting an exception during the build process saying &quot;java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration&quot; I was following an example online at <a href=\"https://stackabuse.com/guide-to-simple-email-service-aws-ses-with-spring-boot-and-spring-cloud/\" rel=\"nofollow noreferrer\">https://stackabuse.com/guide-to-simple-email-service-aws-ses-with-spring-boot-and-spring-cloud/</a></p>\n<p>Here is my Config file</p>\n<pre><code>import com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.services.simpleemail.AmazonSimpleEmailService;\nimport com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClientBuilder;\nimport io.awspring.cloud.ses.SimpleEmailServiceMailSender;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.mail.MailSender;\n\n@Configuration\npublic class AmazonSESConfig {\n\n    @Value(&quot;${amazon.aws.accessKey}&quot;)\n    private String accessKey;\n    @Value(&quot;${amazon.aws.secretKey}&quot;)\n    private String secretKey;\n\n    @Value(&quot;${amazon.aws.region}&quot;)\n    private String region;\n\n    @Bean\n    public AmazonSimpleEmailService amazonSimpleEmailService() {\n        BasicAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\n        return AmazonSimpleEmailServiceClientBuilder\n                .standard()\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\n                .withRegion(region)\n                .build();\n\n    }\n\n    @Bean\n    public MailSender mailSender(AmazonSimpleEmailService amazonSimpleEmailService) {\n        return new SimpleEmailServiceMailSender(amazonSimpleEmailService);\n    }\n}\n</code></pre>\n<p>Here is my properties file</p>\n<pre><code>amazon.aws.accessKey=ACCESS_KEY\namazon.aws.secretKey=SECRET_KEY\namazon.aws.region=ca-central-1\n</code></pre>\n<p>Here is my service file</p>\n<pre><code>@Service\npublic class CorrespondenceService {\n\n    @Autowired\n    private MailSender mailSender;\n\n    public void sendMail(){\n    \n        SimpleMailMessage simpleMailMessage = new SimpleMailMessage();\n        simpleMailMessage.setFrom(&quot;testFromEmail@test.com&quot;);\n        simpleMailMessage.setTo(&quot;testToEmail@test.com&quot;);\n        simpleMailMessage.setSubject(&quot;Test&quot;);\n        simpleMailMessage.setText(&quot;This email is a test&quot;);\n\n        mailSender.send(simpleMailMessage);\n\n\n    }\n\n}\n</code></pre>\n<p>Finally here is the error from the console.</p>\n<pre><code>java.lang.IllegalArgumentException: Could not find class [io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration]\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:334) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:446) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:369) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:284) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:285) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:103) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:82) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.registerBeanDefinitionForImportedConfigurationClass(ConfigurationClassBeanDefinitionReader.java:169) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:150) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.19.jar:5.3.19]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.7.jar:2.6.7]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.7.jar:2.6.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.7.jar:2.6.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\n        at *MY APPLICATION PATH*(MyApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\nCaused by: java.lang.ClassNotFoundException: io.awspring.cloud.jdbc.config.annotation.AmazonRdsInstanceConfiguration\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n        at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n        at java.base/java.lang.Class.forName(Class.java:495) ~[na:na]\n        at java.base/java.lang.Class.forName(Class.java:474) ~[na:na]\n        at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n        at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n        at java.base/java.lang.Class.forName(Class.java:495) ~[na:na]\n        at java.base/java.lang.Class.forName(Class.java:474) ~[na:na]\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.19.jar:5.3.19]\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:324) ~[spring-core-5.3.19.jar:5.3.19]\n        ... 28 common frames omitted\n\n</code></pre>\n<p>Here is the main class</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class EmailApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EmailApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","teamcenter"],"answers":[{"tags":[],"owner":{"account_id":431710,"reputation":3063,"user_id":815961,"accept_rate":51,"display_name":"Pavan Dittakavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684775332,"creation_date":1684775332,"answer_id":76308494,"question_id":76226457,"body_markdown":"I tried the same code in a dummy project and see that it alteast compiles without any issue. Of course, I did not run this.\r\n\r\n[![Eclipse build - Simple Project][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/le4Fc.png\r\n\r\nHope this helps you!.","title":"Accessing profile data from teamcenter 13 3 user in Java","body":"<p>I tried the same code in a dummy project and see that it alteast compiles without any issue. Of course, I did not run this.</p>\n<p><a href=\"https://i.stack.imgur.com/le4Fc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/le4Fc.png\" alt=\"Eclipse build - Simple Project\" /></a></p>\n<p>Hope this helps you!.</p>\n"}],"owner":{"account_id":19526279,"reputation":43,"user_id":14287068,"display_name":"Yanosik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684775332,"creation_date":1683799699,"question_id":76226457,"body_markdown":"I&#39;m trying to return profile data from the the currently logged in user in teamcenter 13 3 using java 11.0.17 and Eclipse 2013 3. I&#39;ve tried the method submitted a while ago (https://stackoverflow.com/a/21730281/14287068) but I&#39;ve got problems with imports because either *com.teamcenter.rac.aif.AIFUtilit* and *com.teamcenter.rac.aif.AbstractAIFSessio* does not exist and I cannot use them. \r\n\r\nDoes anyone have any idea how to do this or provide some documentation because Siemens is not really helping.","title":"Accessing profile data from teamcenter 13 3 user in Java","body":"<p>I'm trying to return profile data from the the currently logged in user in teamcenter 13 3 using java 11.0.17 and Eclipse 2013 3. I've tried the method submitted a while ago (<a href=\"https://stackoverflow.com/a/21730281/14287068\">https://stackoverflow.com/a/21730281/14287068</a>) but I've got problems with imports because either <em>com.teamcenter.rac.aif.AIFUtilit</em> and <em>com.teamcenter.rac.aif.AbstractAIFSessio</em> does not exist and I cannot use them.</p>\n<p>Does anyone have any idea how to do this or provide some documentation because Siemens is not really helping.</p>\n"},{"tags":["java","spring-boot","apache-kafka-streams"],"owner":{"account_id":1698938,"reputation":1091,"user_id":1559603,"display_name":"Fatih Arslan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684775167,"creation_date":1684775167,"question_id":76308480,"body_markdown":"Is it possible to mark kafka stream processor classes as spring bean like @Component and inject some managed business logic ?\r\n\r\n```\r\n@Component\r\n@Scope(&quot;prototype&quot;) // is this necessary?\r\npublic class TestProcessor implements Processor&lt;Long, String, Long, Integer&gt; {\r\n    @Autowired\r\n    private AnotherSpringComponentBean bean2;\r\n\r\n    public TestProcessor(SpringBeanObject bean) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void init(ProcessorContext&lt;Long, Integer&gt; context) {\r\n        Processor.super.init(context);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void process(Record&lt;Long, String&gt; record) {\r\n        //forward code\r\n        bean2.doLogic();\r\n        bean.doJob();\r\n    }\r\n}\r\n```\r\n\r\n\r\nIn case of a topic with 20 partitions, I configure the num.stream.thread value to 20.\r\nWell, what i dont understand is how stream threads work with those processors managed by mean. Are they creating new processor object instances for their task executor? or every stream thread is constructed using TestTopology class?\r\n\r\nIm not sure if I explained my question though\r\n\r\n\r\ntopology\r\n\r\n```\r\n@Component\r\npublic class TestTopology {\r\n    @Autowired\r\n    private ApplicationContext ctx;\r\n\r\n    @Autowired\r\n    void start(StreamsBuilder streamsBuilder, SpringBeanObject bean) {\r\n        Topology t = streamsBuilder.build();\r\n        t.addSource(&quot;inTopic&quot;).addProcessor(&quot;processor1&quot;, () -&gt; new TestProcessor(bean)).addSink(&quot;outTopic&quot;, &quot;processor1&quot;);\r\n    }\r\n}\r\n```","title":"Is it possible to use Kafka Stream Processor API as Spring Beans","body":"<p>Is it possible to mark kafka stream processor classes as spring bean like @Component and inject some managed business logic ?</p>\n<pre><code>@Component\n@Scope(&quot;prototype&quot;) // is this necessary?\npublic class TestProcessor implements Processor&lt;Long, String, Long, Integer&gt; {\n    @Autowired\n    private AnotherSpringComponentBean bean2;\n\n    public TestProcessor(SpringBeanObject bean) {\n\n    }\n\n    @Override\n    public void init(ProcessorContext&lt;Long, Integer&gt; context) {\n        Processor.super.init(context);\n\n    }\n\n    @Override\n    public void process(Record&lt;Long, String&gt; record) {\n        //forward code\n        bean2.doLogic();\n        bean.doJob();\n    }\n}\n</code></pre>\n<p>In case of a topic with 20 partitions, I configure the num.stream.thread value to 20.\nWell, what i dont understand is how stream threads work with those processors managed by mean. Are they creating new processor object instances for their task executor? or every stream thread is constructed using TestTopology class?</p>\n<p>Im not sure if I explained my question though</p>\n<p>topology</p>\n<pre><code>@Component\npublic class TestTopology {\n    @Autowired\n    private ApplicationContext ctx;\n\n    @Autowired\n    void start(StreamsBuilder streamsBuilder, SpringBeanObject bean) {\n        Topology t = streamsBuilder.build();\n        t.addSource(&quot;inTopic&quot;).addProcessor(&quot;processor1&quot;, () -&gt; new TestProcessor(bean)).addSink(&quot;outTopic&quot;, &quot;processor1&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","quarkus","smallrye-reactive-messaging","kogito"],"comments":[{"owner":{"account_id":22672227,"reputation":121,"user_id":16843807,"display_name":"Francisco Javier Tirado Sarti"},"score":1,"creation_date":1685634720,"post_id":76244325,"comment_id":134691165,"body_markdown":"There was a configuration problem. See my answer [here](https://stackoverflow.com/a/76383369/16843807)","body":"There was a configuration problem. See my answer <a href=\"https://stackoverflow.com/a/76383369/16843807\">here</a>"}],"owner":{"account_id":20260580,"reputation":135,"user_id":14859042,"display_name":"codeforHarman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684774942,"creation_date":1684002711,"question_id":76244325,"body_markdown":"I have tried integrating Quarkus start and end with message using Smallrye Kafka.\r\nBut i am getting following error when i create kafka connections\r\n\r\n```\r\n Failed to start quarkus: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.kie.kogito.event.EventEmitter and qualifiers [@Default]\r\n        - java member: com.example.MyendMessageProducer_1#emitter\r\n        - declared on CLASS bean [types=[org.kie.kogito.services.event.impl.AbstractMessageProducer&lt;io.example.models.Location&gt;, java.lang.Object, com.example.MyendMessageProducer_1], qualifiers=[@Default, @Any], target=com.example.MyendMessageProducer_1]\r\n        The following beans match by type, but none have matching qualifiers:\r\n                - Bean [class=org.kie.kogito.app.SampleeventsEventEmitter, qualifiers=[@SampleeventsQualifier, @Any]]\r\n        at io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\r\n        at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\r\n        at io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\r\n        at io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:1589)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n```\r\n\r\nI have added the addons pom dependency for messaging\r\n```\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;org.kie.kogito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kogito-addons-quarkus-messaging&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nThe below are my properties for Kafka topics\r\n\r\n```\r\nmp.messaging.incoming.kogito_incoming_stream.connector=smallrye-kafka\r\nmp.messaging.incoming.kogito_incoming_stream.topic=sample-events\r\nmp.messaging.incoming.kogito_incoming_stream.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nmp.messaging.incoming.kogito_incoming_stream.auto.offset.reset=earliest\r\n\r\nmp.messaging.incoming.kogito_incoming_event.connector=smallrye-kafka\r\nmp.messaging.incoming.kogito_incoming_event.topic=new-event\r\nmp.messaging.incoming.kogito_incoming_event.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nmp.messaging.incoming.kogito_incoming_event.auto.offset.reset=earliest\r\n\r\nmp.messaging.outgoing.sample-events.connector=smallrye-kafka\r\nmp.messaging.outgoing.sample-events.topic=sample-events\r\nmp.messaging.outgoing.sample-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\n\r\nmp.messaging.outgoing.sample_new_event.connector=smallrye-kafka\r\nmp.messaging.outgoing.sample_new_event.topic=new-event\r\nmp.messaging.outgoing.sample_new_event.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\n\r\nquarkus.reactive-messaging.auto-connector-attachment=true\r\n```\r\n\r\nThe below are my versions of various dependencies\r\n```\r\n &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;2.10.2.Final&lt;/quarkus.platform.version&gt;\r\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n    &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\r\n```\r\n\r\nAny idea on this?","title":"Quarkus Message Addons with Smallrye Kafka Throws error","body":"<p>I have tried integrating Quarkus start and end with message using Smallrye Kafka.\nBut i am getting following error when i create kafka connections</p>\n<pre><code> Failed to start quarkus: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.kie.kogito.event.EventEmitter and qualifiers [@Default]\n        - java member: com.example.MyendMessageProducer_1#emitter\n        - declared on CLASS bean [types=[org.kie.kogito.services.event.impl.AbstractMessageProducer&lt;io.example.models.Location&gt;, java.lang.Object, com.example.MyendMessageProducer_1], qualifiers=[@Default, @Any], target=com.example.MyendMessageProducer_1]\n        The following beans match by type, but none have matching qualifiers:\n                - Bean [class=org.kie.kogito.app.SampleeventsEventEmitter, qualifiers=[@SampleeventsQualifier, @Any]]\n        at io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1209)\n        at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:275)\n        at io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\n        at io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:494)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:1589)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n<p>I have added the addons pom dependency for messaging</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.kie.kogito&lt;/groupId&gt;\n      &lt;artifactId&gt;kogito-addons-quarkus-messaging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The below are my properties for Kafka topics</p>\n<pre><code>mp.messaging.incoming.kogito_incoming_stream.connector=smallrye-kafka\nmp.messaging.incoming.kogito_incoming_stream.topic=sample-events\nmp.messaging.incoming.kogito_incoming_stream.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nmp.messaging.incoming.kogito_incoming_stream.auto.offset.reset=earliest\n\nmp.messaging.incoming.kogito_incoming_event.connector=smallrye-kafka\nmp.messaging.incoming.kogito_incoming_event.topic=new-event\nmp.messaging.incoming.kogito_incoming_event.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nmp.messaging.incoming.kogito_incoming_event.auto.offset.reset=earliest\n\nmp.messaging.outgoing.sample-events.connector=smallrye-kafka\nmp.messaging.outgoing.sample-events.topic=sample-events\nmp.messaging.outgoing.sample-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer\n\nmp.messaging.outgoing.sample_new_event.connector=smallrye-kafka\nmp.messaging.outgoing.sample_new_event.topic=new-event\nmp.messaging.outgoing.sample_new_event.value.serializer=org.apache.kafka.common.serialization.StringSerializer\n\nquarkus.reactive-messaging.auto-connector-attachment=true\n</code></pre>\n<p>The below are my versions of various dependencies</p>\n<pre><code> &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.10.2.Final&lt;/quarkus.platform.version&gt;\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\n    &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\n</code></pre>\n<p>Any idea on this?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":1,"creation_date":1684747681,"post_id":76304418,"comment_id":134556844,"body_markdown":"The problem is probably because you have it in a `@Transactional` method. It will not update from DB as long as your are in the same transaction. You would need to fetch this after transaction is completed.","body":"The problem is probably because you have it in a <code>@Transactional</code> method. It will not update from DB as long as your are in the same transaction. You would need to fetch this after transaction is completed."},{"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"score":0,"creation_date":1684747900,"post_id":76304418,"comment_id":134556881,"body_markdown":"@grekier Even though I delete `@Transactional` it still doesn&#39;t update while method is executing but it&#39;s updated after","body":"@grekier Even though I delete <code>@Transactional</code> it still doesn&#39;t update while method is executing but it&#39;s updated after"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684749305,"post_id":76304418,"comment_id":134557229,"body_markdown":"WHy should it? You aren&#39;t reloading `B` so why should it magically have `A` added to that representation?","body":"WHy should it? You aren&#39;t reloading <code>B</code> so why should it magically have <code>A</code> added to that representation?"},{"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"score":0,"creation_date":1684749931,"post_id":76304418,"comment_id":134557351,"body_markdown":"@M.Deinum Reloading `B` with flush() method doesnt work","body":"@M.Deinum Reloading <code>B</code> with flush() method doesnt work"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684752720,"post_id":76304418,"comment_id":134557876,"body_markdown":"`flush` isn&#39;t a reload. You need to either call `refresh` with the entity or `flush` and `clear` the entitymanager and then reload `B`. Your edit isn&#39;t reloading either as it will take it from the first level cache. Part of your problem is that you aren&#39;t really managing the bi-directional relation ship, you are setting only 1 half and not the other.","body":"<code>flush</code> isn&#39;t a reload. You need to either call <code>refresh</code> with the entity or <code>flush</code> and <code>clear</code> the entitymanager and then reload <code>B</code>. Your edit isn&#39;t reloading either as it will take it from the first level cache. Part of your problem is that you aren&#39;t really managing the bi-directional relation ship, you are setting only 1 half and not the other."},{"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"score":0,"creation_date":1684774974,"post_id":76304418,"comment_id":134562810,"body_markdown":"Thank you @M.Deinum `entityManager.refresh(a)` works fine. Is there any other way to make it work? For example calling second findEntityByUsername(username) without entity manager and without `@Transaction`? Since it&#39;s not annotated with `@Transaction` then Hibernate is not commiting the SQL statement under one commit, am I right?","body":"Thank you @M.Deinum <code>entityManager.refresh(a)</code> works fine. Is there any other way to make it work? For example calling second findEntityByUsername(username) without entity manager and without <code>@Transaction</code>? Since it&#39;s not annotated with <code>@Transaction</code> then Hibernate is not commiting the SQL statement under one commit, am I right?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1684820763,"post_id":76304418,"comment_id":134568595,"body_markdown":"It has nothing to do with `@Transactional` but your lack of understanding how hibernate works. Either manage both sides of the relation (when adding it to the colleciton, set the reference on the other side as well and/or vice-versa) or refresh the entity.","body":"It has nothing to do with <code>@Transactional</code> but your lack of understanding how hibernate works. Either manage both sides of the relation (when adding it to the colleciton, set the reference on the other side as well and/or vice-versa) or refresh the entity."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684753077,"creation_date":1684749236,"answer_id":76304965,"question_id":76304418,"body_markdown":"Try wrapping the repo save() calls in @Transactional methods in a new service class. They need to be a a separate service to support transactional proxy.  \r\n\r\n","title":"Spring JPA/Hibernate problem with updating entity","body":"<p>Try wrapping the repo save() calls in @Transactional methods in a new service class. They need to be a a separate service to support transactional proxy.</p>\n"}],"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684774679,"creation_date":1684745062,"question_id":76304418,"body_markdown":"Method in service is responsible for saving A Entity. A entity has @ManyToOne relation with B Entity. &lt;br&gt;\r\nA Entity\r\n```\r\n@Entity\r\npublic class A {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    private B b;\r\n```\r\nB Entity\r\n```\r\n@Entity\r\npublic class B {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;A&quot;, cascade = CascadeType.REMOVE)\r\n    private List&lt;A&gt; A;\r\n\r\n```\r\nA Service method\r\n```\r\n    @Transactional\r\n    @Override\r\n    public ADTO createA (String username) {\r\n        B b = findEntityByUsername(username);\r\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\r\n        A a = AMapper.buildA(b);\r\n        ARepository.save(a);\r\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\r\n        return AMapper.buildADTO(a);\r\n    }\r\n```\r\nWhile executing createA method, I&#39;m calling ARepository.save to save entity, then im checking it in log if size of list changed, but it didn&#39;t. When I call createA method once again then it shows that the size of list changed and entity was saved. I want to have it in real time not after method was executed.\r\n&lt;br&gt;&lt;br&gt;\r\nEDIT\r\n&lt;br&gt;\r\nEntity manager refresh method `entityManager.refresh(b);` helped me to refresh A entity to get updated size List of A entity. But to make it work I need `@Transaction` annotation on `createA()` method. &lt;br&gt;\r\nWrapping repo save() method in separate class to support transactional proxy didnt work.\r\n```\r\n@Service\r\n@Transactional\r\n@RequiredArgsConstructor\r\npublic class ASaveService {\r\n\r\n    private final ARepository aRepository;\r\n\r\n    public void saveA(A a) {\r\n        aRepository.save(a);\r\n    }\r\n}\r\n```\r\nThis is what works now\r\n```\r\n    @Transactional\r\n    @Override\r\n    public ADTO createA (String username) {\r\n        B b = findEntityByUsername(username);\r\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\r\n        A a = AMapper.buildA(b);\r\n        ARepository.save(a);\r\n        entityManager.refresh(a);\r\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\r\n        return AMapper.buildADTO(a);\r\n    }\r\n```\r\nIs there any other way to make it work? For example calling second `findEntityByUsername(username)` without entity manager?\r\n","title":"Spring JPA/Hibernate problem with updating entity","body":"<p>Method in service is responsible for saving A Entity. A entity has @ManyToOne relation with B Entity. <br>\nA Entity</p>\n<pre><code>@Entity\npublic class A {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    private B b;\n</code></pre>\n<p>B Entity</p>\n<pre><code>@Entity\npublic class B {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;A&quot;, cascade = CascadeType.REMOVE)\n    private List&lt;A&gt; A;\n\n</code></pre>\n<p>A Service method</p>\n<pre><code>    @Transactional\n    @Override\n    public ADTO createA (String username) {\n        B b = findEntityByUsername(username);\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\n        A a = AMapper.buildA(b);\n        ARepository.save(a);\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\n        return AMapper.buildADTO(a);\n    }\n</code></pre>\n<p>While executing createA method, I'm calling ARepository.save to save entity, then im checking it in log if size of list changed, but it didn't. When I call createA method once again then it shows that the size of list changed and entity was saved. I want to have it in real time not after method was executed.\n<br><br>\nEDIT\n<br>\nEntity manager refresh method <code>entityManager.refresh(b);</code> helped me to refresh A entity to get updated size List of A entity. But to make it work I need <code>@Transaction</code> annotation on <code>createA()</code> method. <br>\nWrapping repo save() method in separate class to support transactional proxy didnt work.</p>\n<pre><code>@Service\n@Transactional\n@RequiredArgsConstructor\npublic class ASaveService {\n\n    private final ARepository aRepository;\n\n    public void saveA(A a) {\n        aRepository.save(a);\n    }\n}\n</code></pre>\n<p>This is what works now</p>\n<pre><code>    @Transactional\n    @Override\n    public ADTO createA (String username) {\n        B b = findEntityByUsername(username);\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\n        A a = AMapper.buildA(b);\n        ARepository.save(a);\n        entityManager.refresh(a);\n        log.info(&quot;ACTUAL NUMBER OF A = {}&quot;, b.getA().size());\n        return AMapper.buildADTO(a);\n    }\n</code></pre>\n<p>Is there any other way to make it work? For example calling second <code>findEntityByUsername(username)</code> without entity manager?</p>\n"},{"tags":["javascript","java","flask","frontend","cytoscape.js"],"owner":{"account_id":21695217,"reputation":1,"user_id":16009254,"display_name":"user16009254"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684774413,"creation_date":1684687928,"question_id":76300982,"body_markdown":"i am trying to visualize DAG graph data through java Sockets (Server-Client) i used Flask to create a web Application . The Client Should is sending the DAG graph data to the server and the server send these data to flask and flask it gonna visualize them using Cytoscape.js. it seems that everythings is running well the server the client the flask and everything it printed to console , but no graph is beeing displayed  i mean it shows no DAG graph on the page when i run the server then the Flask and then the client , also on web Console no error is given , and still not showing and displaying the graph , why is that ? and how i can lets the graph to be displayed ? \r\n\r\n\r\n```\r\nserver : import java.io.*;\r\nimport java.net.*;\r\n\r\npublic class Server {\r\n    private String message;\r\n\r\n    public void run() {\r\n        try (ServerSocket serverSocket = new ServerSocket(12345)) { // The Server class sets up a server socket on port\r\n                                                                    // 12345 using ServerSocket.\r\n            System.out.println(&quot;Server is running and waiting for client to connect...&quot;);\r\n            while (true) {\r\n                Socket socket = serverSocket.accept(); // waits for a client to connect\r\n                System.out.println(&quot;Client is connected&quot;);\r\n\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream())); // reader to\r\n                                                                                                        // read incoming\r\n                                                                                                        // messages from\r\n                                                                                                        // Cleint\r\n\r\n                message = in.readLine(); // read the message from client and store it in the message variable.\r\n\r\n                System.out.println(&quot;Received message from client: &quot; + message);\r\n\r\n                // Send the message to the Flask app using a GET request. It opens a connection\r\n                // to the URL, sends the request, and disconnects.\r\n                URL url = new URL(&quot;http://localhost:5000/send_message?message=&quot; + message);\r\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                con.setRequestMethod(&quot;GET&quot;);\r\n                con.getResponseCode();\r\n                con.disconnect();\r\n\r\n                // Send the message back to the client as a response\r\n                PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n                out.println(message);\r\n\r\n                socket.close(); // close the socket\r\n                System.out.println(&quot;Server is running and waiting for client to next message...&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    // New method to return the message\r\n    public String getMessageResponse() {\r\n        return &quot;Message from client: &quot; + message;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Server server = new Server();\r\n        server.run();\r\n    }\r\n}\r\n2- Client : \r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class Client {\r\n    public static void main(String[] args) {\r\n        try (Socket socket = new Socket(&quot;localhost&quot;, 12345)) {\r\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n            out.println(&quot;node:1,node:2,relation:1-&gt;2&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n3-app.py : import json\r\nfrom flask import Flask, render_template, request\r\nimport urllib.parse\r\n\r\napp = Flask(__name__)\r\n\r\nnodes = {}\r\nedges = []\r\n\r\n\r\n@app.route(&quot;/&quot;)\r\ndef index():\r\n    print(&quot;nodes:&quot;, nodes)\r\n    print(&quot;edges:&quot;, edges)\r\n    return render_template(\r\n        &quot;index.html&quot;, nodes=json.dumps(nodes), edges=json.dumps(edges)\r\n    )\r\n\r\n\r\n@app.route(&quot;/receive_message&quot;)\r\ndef receive_message():\r\n    message = request.args.get(&quot;message&quot;)\r\n    print(&quot;Received message:&quot;, message)\r\n    return message\r\n\r\n\r\n@app.route(&quot;/send_message&quot;)\r\ndef send_message():\r\n    global nodes, edges\r\n\r\n    message = urllib.parse.unquote(request.args.get(&quot;message&quot;))\r\n    message_type, message_data = message.split(&quot;:&quot;, 1)\r\n\r\n    if message_type == &quot;node&quot;:\r\n        node_id = message_data\r\n        if node_id not in nodes:\r\n            nodes[node_id] = {&quot;id&quot;: node_id, &quot;label&quot;: node_id}\r\n    elif message_type == &quot;relation&quot;:\r\n        source_id, target_id = message_data.split(&quot;-&gt;&quot;)\r\n        if source_id not in nodes:\r\n            nodes[source_id] = {&quot;id&quot;: source_id, &quot;label&quot;: source_id}\r\n        if target_id not in nodes:\r\n            nodes[target_id] = {&quot;id&quot;: target_id, &quot;label&quot;: target_id}\r\n        edges.append(\r\n            {\r\n                &quot;id&quot;: f&quot;{source_id}-{target_id}&quot;,\r\n                &quot;source&quot;: source_id,\r\n                &quot;target&quot;: target_id,\r\n            }\r\n        )\r\n\r\n    return &quot;Message received and processed successfully.&quot;\r\n\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    app.run(debug=True)\r\n4-index.html : &lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;title&gt;DAG Graph Visualization&lt;/title&gt;\r\n    &lt;script src=&quot;https://unpkg.com/cytoscape/dist/cytoscape.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://unpkg.com/dagre/dist/dagre.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://unpkg.com/cytoscape-dagre/cytoscape-dagre.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;style&gt;\r\n        #cy {\r\n            height: 600px;\r\n            width: 800px;\r\n            display: block;\r\n        }\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;div id=&quot;cy&quot;&gt;&lt;/div&gt;\r\n\r\n    &lt;script&gt;\r\n        // Retrieve the nodes and edges data passed from the Flask app\r\n        var nodes = JSON.parse(&#39;{{ nodes | safe }}&#39;);\r\n        var edges = JSON.parse(&#39;{{ edges | safe }}&#39;);\r\n\r\n        // Create a new Cytoscape instance\r\n        var cy = cytoscape({\r\n            container: document.getElementById(&#39;cy&#39;),\r\n            elements: {\r\n                nodes: nodes,\r\n                edges: edges\r\n            },\r\n            layout: {\r\n                name: &#39;dagre&#39;\r\n            },\r\n            style: [\r\n                // Define your graph styling here\r\n                {\r\n                    selector: &#39;node&#39;,\r\n                    style: {\r\n                        &#39;background-color&#39;: &#39;blue&#39;,\r\n                        &#39;label&#39;: &#39;data(label)&#39;\r\n                    }\r\n                },\r\n                {\r\n                    selector: &#39;edge&#39;,\r\n                    style: {\r\n                        &#39;width&#39;: 2,\r\n                        &#39;line-color&#39;: &#39;black&#39;\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n\r\n        console.log(&#39;nodes:&#39;, nodes);\r\n        console.log(&#39;edges:&#39;, edges);\r\n\r\n        // Use the dagre layout\r\n        cy.layout({\r\n            name: &#39;dagre&#39;\r\n        }).run();\r\n    &lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;","title":"Data Visualiztion Using Java Sockets and Flask Python and Cytoscape.js dagre","body":"<p>i am trying to visualize DAG graph data through java Sockets (Server-Client) i used Flask to create a web Application . The Client Should is sending the DAG graph data to the server and the server send these data to flask and flask it gonna visualize them using Cytoscape.js. it seems that everythings is running well the server the client the flask and everything it printed to console , but no graph is beeing displayed  i mean it shows no DAG graph on the page when i run the server then the Flask and then the client , also on web Console no error is given , and still not showing and displaying the graph , why is that ? and how i can lets the graph to be displayed ?</p>\n<pre><code>server : import java.io.*;\nimport java.net.*;\n\npublic class Server {\n    private String message;\n\n    public void run() {\n        try (ServerSocket serverSocket = new ServerSocket(12345)) { // The Server class sets up a server socket on port\n                                                                    // 12345 using ServerSocket.\n            System.out.println(&quot;Server is running and waiting for client to connect...&quot;);\n            while (true) {\n                Socket socket = serverSocket.accept(); // waits for a client to connect\n                System.out.println(&quot;Client is connected&quot;);\n\n                BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream())); // reader to\n                                                                                                        // read incoming\n                                                                                                        // messages from\n                                                                                                        // Cleint\n\n                message = in.readLine(); // read the message from client and store it in the message variable.\n\n                System.out.println(&quot;Received message from client: &quot; + message);\n\n                // Send the message to the Flask app using a GET request. It opens a connection\n                // to the URL, sends the request, and disconnects.\n                URL url = new URL(&quot;http://localhost:5000/send_message?message=&quot; + message);\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\n                con.setRequestMethod(&quot;GET&quot;);\n                con.getResponseCode();\n                con.disconnect();\n\n                // Send the message back to the client as a response\n                PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n                out.println(message);\n\n                socket.close(); // close the socket\n                System.out.println(&quot;Server is running and waiting for client to next message...&quot;);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    // New method to return the message\n    public String getMessageResponse() {\n        return &quot;Message from client: &quot; + message;\n    }\n\n    public static void main(String[] args) {\n        Server server = new Server();\n        server.run();\n    }\n}\n2- Client : \nimport java.io.*;\nimport java.net.*;\n\npublic class Client {\n    public static void main(String[] args) {\n        try (Socket socket = new Socket(&quot;localhost&quot;, 12345)) {\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n            out.println(&quot;node:1,node:2,relation:1-&gt;2&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n3-app.py : import json\nfrom flask import Flask, render_template, request\nimport urllib.parse\n\napp = Flask(__name__)\n\nnodes = {}\nedges = []\n\n\n@app.route(&quot;/&quot;)\ndef index():\n    print(&quot;nodes:&quot;, nodes)\n    print(&quot;edges:&quot;, edges)\n    return render_template(\n        &quot;index.html&quot;, nodes=json.dumps(nodes), edges=json.dumps(edges)\n    )\n\n\n@app.route(&quot;/receive_message&quot;)\ndef receive_message():\n    message = request.args.get(&quot;message&quot;)\n    print(&quot;Received message:&quot;, message)\n    return message\n\n\n@app.route(&quot;/send_message&quot;)\ndef send_message():\n    global nodes, edges\n\n    message = urllib.parse.unquote(request.args.get(&quot;message&quot;))\n    message_type, message_data = message.split(&quot;:&quot;, 1)\n\n    if message_type == &quot;node&quot;:\n        node_id = message_data\n        if node_id not in nodes:\n            nodes[node_id] = {&quot;id&quot;: node_id, &quot;label&quot;: node_id}\n    elif message_type == &quot;relation&quot;:\n        source_id, target_id = message_data.split(&quot;-&gt;&quot;)\n        if source_id not in nodes:\n            nodes[source_id] = {&quot;id&quot;: source_id, &quot;label&quot;: source_id}\n        if target_id not in nodes:\n            nodes[target_id] = {&quot;id&quot;: target_id, &quot;label&quot;: target_id}\n        edges.append(\n            {\n                &quot;id&quot;: f&quot;{source_id}-{target_id}&quot;,\n                &quot;source&quot;: source_id,\n                &quot;target&quot;: target_id,\n            }\n        )\n\n    return &quot;Message received and processed successfully.&quot;\n\n\nif __name__ == &quot;__main__&quot;:\n    app.run(debug=True)\n4-index.html : &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;DAG Graph Visualization&lt;/title&gt;\n    &lt;script src=&quot;https://unpkg.com/cytoscape/dist/cytoscape.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://unpkg.com/dagre/dist/dagre.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://unpkg.com/cytoscape-dagre/cytoscape-dagre.js&quot;&gt;&lt;/script&gt;\n\n    &lt;style&gt;\n        #cy {\n            height: 600px;\n            width: 800px;\n            display: block;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div id=&quot;cy&quot;&gt;&lt;/div&gt;\n\n    &lt;script&gt;\n        // Retrieve the nodes and edges data passed from the Flask app\n        var nodes = JSON.parse('{{ nodes | safe }}');\n        var edges = JSON.parse('{{ edges | safe }}');\n\n        // Create a new Cytoscape instance\n        var cy = cytoscape({\n            container: document.getElementById('cy'),\n            elements: {\n                nodes: nodes,\n                edges: edges\n            },\n            layout: {\n                name: 'dagre'\n            },\n            style: [\n                // Define your graph styling here\n                {\n                    selector: 'node',\n                    style: {\n                        'background-color': 'blue',\n                        'label': 'data(label)'\n                    }\n                },\n                {\n                    selector: 'edge',\n                    style: {\n                        'width': 2,\n                        'line-color': 'black'\n                    }\n                }\n            ]\n        });\n\n        console.log('nodes:', nodes);\n        console.log('edges:', edges);\n\n        // Use the dagre layout\n        cy.layout({\n            name: 'dagre'\n        }).run();\n    &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","string","xml-parsing"],"comments":[{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1682548760,"post_id":76115373,"comment_id":134235577,"body_markdown":"Please print out the value of &quot;fileLines.get(i)&quot;. I am afraid the value of &quot;fileLines.get(i)&quot;  is not the one you mentioned.","body":"Please print out the value of &quot;fileLines.get(i)&quot;. I am afraid the value of &quot;fileLines.get(i)&quot;  is not the one you mentioned."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1682602793,"post_id":76115373,"comment_id":134244321,"body_markdown":"You should really use an XML parser.","body":"You should really use an XML parser."},{"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"score":0,"creation_date":1682627327,"post_id":76115373,"comment_id":134249983,"body_markdown":"Okay, sure but can you tell me why I&#39;m having the error so I have something to work with Mark? This is the second program that i&#39;m using XML tags in, so I cant understand why &lt;/Price&gt;&lt;Product&gt; in my xml tag is giving me a error?","body":"Okay, sure but can you tell me why I&#39;m having the error so I have something to work with Mark? This is the second program that i&#39;m using XML tags in, so I cant understand why &lt;/Price&gt;&lt;Product&gt; in my xml tag is giving me a error?"},{"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"score":0,"creation_date":1682627510,"post_id":76115373,"comment_id":134250011,"body_markdown":"Stone, the fileLines.get(i) is returning a string representation of product. Specifically:  it returns &lt;Index&gt;1&lt;/Index&gt;&lt;Price&gt;$18.38&lt;/Price&gt;&lt;Product&gt;Takis Fuego, 1 Ounce (46 Pack)&lt;/Product&gt;&lt;SoldBy&gt; Sam&#39;s Club&lt;/SoldBy&gt;&lt;href&gt;https://www.google.com/shopping/product/14559077146163012667?hl=en&amp;sxsrf=ALiCzsb1Gfl32-pXt32h0QkkE-T57FtdxA:1670964406762&amp;psb=1&amp;q=takis&amp;prds=eto:15330784880350744537_0,pid:15387764403936018691,rsk:PC_15179594788466925291&amp;sa=X&amp;ved=0ahUKEwjPgJuOvsj-AhUJGlkFHSQsBpcQ8gIIpgooAA&lt;/href&gt; when i = 0. The index tag starts at one.","body":"Stone, the fileLines.get(i) is returning a string representation of product. Specifically:  it returns &lt;Index&gt;1&lt;/Index&gt;&lt;Price&gt;$18.38&lt;/Price&gt;&lt;Product&gt;Takis Fuego, 1 Ounce (46 Pack)&lt;/Product&gt;&lt;SoldBy&gt; Sam&#39;s Club&lt;/SoldBy&gt;&lt;href&gt;<a href=\"https://www.google.com/shopping/product/14559077146163012667?hl=en&amp;sxsrf=ALiCzsb1Gfl32-pXt32h0QkkE-T57FtdxA:1670964406762&amp;psb=1&amp;q=takis&amp;prds=eto:15330784880350744537_0,pid:15387764403936018691,rsk:PC_15179594788466925291&amp;sa=X&amp;ved=0ahUKEwjPgJuOvsj-AhUJGlkFHSQsBpcQ8gIIpgooAA&lt;/href\" rel=\"nofollow noreferrer\">google.com/shopping/product/&hellip;</a>&gt; when i = 0. The index tag starts at one."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682628071,"post_id":76115373,"comment_id":134250113,"body_markdown":"You are doing `fileLines.get(i)` to get one line and then `fileLines.indexOf(&quot;&lt;/Price&gt;&quot;)` which searches all the lines, which seems wrong - what is `fileLines`, exactly?","body":"You are doing <code>fileLines.get(i)</code> to get one line and then <code>fileLines.indexOf(&quot;&lt;&#47;Price&gt;&quot;)</code> which searches all the lines, which seems wrong - what is <code>fileLines</code>, exactly?"},{"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"score":0,"creation_date":1682628702,"post_id":76115373,"comment_id":134250226,"body_markdown":"Sorry, so what I&#39;m trying to do is make my program read a .txt file containing a list of products. Each product is one line in the file with xml tags used to separate each part of the product.  After each line is read, its put into a list of strings I&#39;m calling fileLines. So specifically: I&#39;m retrieving 1 product as a string, breaking down the line using `substring();` with  `filelines.indexOf();` to refer to the start and end of the substring containing the price.","body":"Sorry, so what I&#39;m trying to do is make my program read a .txt file containing a list of products. Each product is one line in the file with xml tags used to separate each part of the product.  After each line is read, its put into a list of strings I&#39;m calling fileLines. So specifically: I&#39;m retrieving 1 product as a string, breaking down the line using <code>substring();</code> with  <code>filelines.indexOf();</code> to refer to the start and end of the substring containing the price."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682631969,"post_id":76115373,"comment_id":134250747,"body_markdown":"Well, do you see the problem? `fileLines` is a _list of multiple strings_. You get the _string_ at index i. Then you try to find &quot;&lt;/Price&gt;&quot; in the _list_ instead of within the _string_ itself.","body":"Well, do you see the problem? <code>fileLines</code> is a <i>list of multiple strings</i>. You get the <i>string</i> at index i. Then you try to find &quot;&lt;/Price&gt;&quot; in the <i>list</i> instead of within the <i>string</i> itself."},{"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"score":0,"creation_date":1682632092,"post_id":76115373,"comment_id":134250766,"body_markdown":"Then why is my starting index `&lt;Price&gt;` fine, its in the same substring?","body":"Then why is my starting index <code>&lt;Price&gt;</code> fine, its in the same substring?"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682632229,"post_id":76115373,"comment_id":134250788,"body_markdown":"It&#39;s not. `fileLines.indexOf(&quot;&lt;Price&gt;&quot;.trim()) + &quot;&lt;Price&gt;&quot;.trim().length()` -&gt; indexOf give you -1 again + the length of the string (7) gives you 6 (as shown in your error) but it should be 16 based on your actual string.","body":"It&#39;s not. <code>fileLines.indexOf(&quot;&lt;Price&gt;&quot;.trim()) + &quot;&lt;Price&gt;&quot;.trim().length()</code> -&gt; indexOf give you -1 again + the length of the string (7) gives you 6 (as shown in your error) but it should be 16 based on your actual string."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1682679507,"post_id":76115373,"comment_id":134257281,"body_markdown":"Why not using an XM parser again?","body":"Why not using an XM parser again?"}],"answers":[{"tags":[],"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684245040,"creation_date":1684085946,"answer_id":76248871,"question_id":76115373,"body_markdown":"Turns out the answer was annoyingly simple: Each time the loop executes the program looks at a string in the list `fileLines` to parse the data. \r\n\r\nThe problem occurs when I set the start and end lengths of the index, I needed to include `get(i)` to the command to make sure it was looking at a specific line:\r\n~~~\r\nint psi = fileLines.get(i).indexOf(&quot;&lt;Price&gt;&quot;);\r\nint pei = fileLines.get(i).indexOf(&quot;&lt;/Price&gt;&quot;);\r\nprice = fileLines.get(i).substring(psi + &quot;&lt;Price&gt;&quot;.length(), pei);\r\nSystem.out.println(price);\r\n~~~\r\n\r\nSorry if I did not explain myself well.","title":"Why is the end xml tag not parsing properly?","body":"<p>Turns out the answer was annoyingly simple: Each time the loop executes the program looks at a string in the list <code>fileLines</code> to parse the data.</p>\n<p>The problem occurs when I set the start and end lengths of the index, I needed to include <code>get(i)</code> to the command to make sure it was looking at a specific line:</p>\n<pre><code>int psi = fileLines.get(i).indexOf(&quot;&lt;Price&gt;&quot;);\nint pei = fileLines.get(i).indexOf(&quot;&lt;/Price&gt;&quot;);\nprice = fileLines.get(i).substring(psi + &quot;&lt;Price&gt;&quot;.length(), pei);\nSystem.out.println(price);\n</code></pre>\n<p>Sorry if I did not explain myself well.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684774370,"creation_date":1684629919,"answer_id":76297862,"question_id":76115373,"body_markdown":"I&#39;ve created a method to parse the value within the `Price` element.  \r\nI&#39;m using `+ 7` here, because the length of the text, `&lt;Price&gt;`, is 7 characters.  \r\n\r\n```java\r\nString price(String xml) {\r\n    return xml.substring(xml.indexOf(&quot;&lt;Price&gt;&quot;) + 7, xml.indexOf(&quot;&lt;/Price&gt;&quot;));\r\n}\r\n```\r\n\r\nYou can then utilize the method from within your `buildGUIFile`, as follows.\r\n\r\n```java\r\nprivate static void buildGUIFile() throws IOException {\r\n    List&lt;String&gt; fileLines = Files.readAllLines(fileName);\r\n    for (int i = 0; i &lt; (fileLines.size()); i++) {\r\n        resNum = i + 1;\r\n        price = price(fileLines.get(i).trim());\r\n    }\r\n}\r\n```\r\n\r\nFurthermore, if you wanted the `price` method to return a `float` or `double` value, you could use the following.\r\n\r\n```java\r\nfloat price(String xml) {\r\n    String string = xml.substring(xml.indexOf(&quot;&lt;Price&gt;&quot;) + 8, xml.indexOf(&quot;&lt;/Price&gt;&quot;));\r\n    return Float.parseFloat(string);\r\n}\r\n```","title":"Why is the end xml tag not parsing properly?","body":"<p>I've created a method to parse the value within the <code>Price</code> element.<br />\nI'm using <code>+ 7</code> here, because the length of the text, <code>&lt;Price&gt;</code>, is 7 characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String price(String xml) {\n    return xml.substring(xml.indexOf(&quot;&lt;Price&gt;&quot;) + 7, xml.indexOf(&quot;&lt;/Price&gt;&quot;));\n}\n</code></pre>\n<p>You can then utilize the method from within your <code>buildGUIFile</code>, as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void buildGUIFile() throws IOException {\n    List&lt;String&gt; fileLines = Files.readAllLines(fileName);\n    for (int i = 0; i &lt; (fileLines.size()); i++) {\n        resNum = i + 1;\n        price = price(fileLines.get(i).trim());\n    }\n}\n</code></pre>\n<p>Furthermore, if you wanted the <code>price</code> method to return a <code>float</code> or <code>double</code> value, you could use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>float price(String xml) {\n    String string = xml.substring(xml.indexOf(&quot;&lt;Price&gt;&quot;) + 8, xml.indexOf(&quot;&lt;/Price&gt;&quot;));\n    return Float.parseFloat(string);\n}\n</code></pre>\n"}],"owner":{"account_id":28427755,"reputation":9,"user_id":21748860,"display_name":"joseph michaels"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1684774370,"creation_date":1682545948,"question_id":76115373,"body_markdown":"I&#39;m having issues parsing this line of XML text:\r\n~~~\r\n&lt;Index&gt;1&lt;/Index&gt;&lt;Price&gt;$18.38&lt;/Price&gt;&lt;Product&gt;Takis Fuego, 1 Ounce (46 Pack)&lt;/Product&gt;&lt;SoldBy&gt; Sam&#39;s Club&lt;/SoldBy&gt;&lt;href&gt;https://www.google.com/shopping/product/14559077146163012667?hl=en&amp;sxsrf=ALiCzsb1Gfl32-pXt32h0QkkE-T57FtdxA:1670964406762&amp;psb=1&amp;q=takis&amp;prds=eto:15330784880350744537_0,pid:15387764403936018691,rsk:PC_15179594788466925291&amp;sa=X&amp;ved=0ahUKEwjPgJuOvsj-AhUJGlkFHSQsBpcQ8gIIpgooAA&lt;/href&gt;\r\n~~~\r\nThis is the code responsible for parsing the text:\r\n~~~\r\n`private static void buildGUIFile() throws IOException {\r\n\t\t\r\n\t\tList&lt;String&gt; fileLines = Files.readAllLines(fileName);\r\n\t\tfor (int i = 0; i &lt; (fileLines.size()); i++) {\r\n\t\t\tresNum = i + 1;\r\n\t\t\tint beginIndex = fileLines.indexOf(&quot;&lt;Price&gt;&quot;);\r\n\t\t\tint endIndex = fileLines.indexOf(&quot;&lt;/Price&gt;&quot;);\r\n\t\t\ttry {\r\n\r\nprice = fileLines.get(i).trim().substring(fileLines.indexOf(&lt;Price&gt;&quot;.trim()) + &quot;&lt;Price&gt;&quot;.trim().length(), fileLines.indexOf(&quot;&lt;/Price&gt;&quot;.trim()));\r\n\r\n\t\t\t} catch (StringIndexOutOfBoundsException e) {\r\n\t\t\t\tSystem.out.println(&quot;endIndex&quot; + endIndex);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}`\r\nThis is the code that formats each product in fileName:\r\n`public String xmlString() {\r\n\t\tString str = &quot;&lt;Index&gt;&quot; + resultNum + &quot;&lt;/Index&gt;&quot; + &quot;&lt;Price&gt;&quot; + Price + &quot;&lt;/Price&gt;&quot; + &quot;&lt;Product&gt;&quot; + Product\r\n\t\t\t\t+ &quot;&lt;/Product&gt;&quot; + &quot;&lt;SoldBy&gt; &quot; + Company + &quot;&lt;/SoldBy&gt;&quot; + &quot;&lt;href&gt;&quot; + link + &quot;&lt;/href&gt;&quot;;\r\n\t\treturn str;\r\n~~~\r\nThis is the stack trace when I run the program, calling the fileName:\r\n~~~\r\njava.lang.StringIndexOutOfBoundsException: begin 6, end -1, length 355\r\n\tat java.base/java.lang.String.checkBoundsBeginEnd(String.java:4601)\r\n\tat java.base/java.lang.String.substring(String.java:2704)\r\n\tat SeerWebCrawler.buildGUIFile(SeerWebCrawler.java:133)\r\n\tat SeerWebCrawler.main(SeerWebCrawler.java:58)\r\n~~~\r\nNow specifically the endindex of the substring appears to be what&#39;s causing the problem, I just don&#39;t understand what I am doing wrong here. Any help would be appreciated.","title":"Why is the end xml tag not parsing properly?","body":"<p>I'm having issues parsing this line of XML text:</p>\n<pre><code>&lt;Index&gt;1&lt;/Index&gt;&lt;Price&gt;$18.38&lt;/Price&gt;&lt;Product&gt;Takis Fuego, 1 Ounce (46 Pack)&lt;/Product&gt;&lt;SoldBy&gt; Sam's Club&lt;/SoldBy&gt;&lt;href&gt;https://www.google.com/shopping/product/14559077146163012667?hl=en&amp;sxsrf=ALiCzsb1Gfl32-pXt32h0QkkE-T57FtdxA:1670964406762&amp;psb=1&amp;q=takis&amp;prds=eto:15330784880350744537_0,pid:15387764403936018691,rsk:PC_15179594788466925291&amp;sa=X&amp;ved=0ahUKEwjPgJuOvsj-AhUJGlkFHSQsBpcQ8gIIpgooAA&lt;/href&gt;\n</code></pre>\n<p>This is the code responsible for parsing the text:</p>\n<pre><code>`private static void buildGUIFile() throws IOException {\n        \n        List&lt;String&gt; fileLines = Files.readAllLines(fileName);\n        for (int i = 0; i &lt; (fileLines.size()); i++) {\n            resNum = i + 1;\n            int beginIndex = fileLines.indexOf(&quot;&lt;Price&gt;&quot;);\n            int endIndex = fileLines.indexOf(&quot;&lt;/Price&gt;&quot;);\n            try {\n\nprice = fileLines.get(i).trim().substring(fileLines.indexOf(&lt;Price&gt;&quot;.trim()) + &quot;&lt;Price&gt;&quot;.trim().length(), fileLines.indexOf(&quot;&lt;/Price&gt;&quot;.trim()));\n\n            } catch (StringIndexOutOfBoundsException e) {\n                System.out.println(&quot;endIndex&quot; + endIndex);\n                e.printStackTrace();\n            }`\nThis is the code that formats each product in fileName:\n`public String xmlString() {\n        String str = &quot;&lt;Index&gt;&quot; + resultNum + &quot;&lt;/Index&gt;&quot; + &quot;&lt;Price&gt;&quot; + Price + &quot;&lt;/Price&gt;&quot; + &quot;&lt;Product&gt;&quot; + Product\n                + &quot;&lt;/Product&gt;&quot; + &quot;&lt;SoldBy&gt; &quot; + Company + &quot;&lt;/SoldBy&gt;&quot; + &quot;&lt;href&gt;&quot; + link + &quot;&lt;/href&gt;&quot;;\n        return str;\n</code></pre>\n<p>This is the stack trace when I run the program, calling the fileName:</p>\n<pre><code>java.lang.StringIndexOutOfBoundsException: begin 6, end -1, length 355\n    at java.base/java.lang.String.checkBoundsBeginEnd(String.java:4601)\n    at java.base/java.lang.String.substring(String.java:2704)\n    at SeerWebCrawler.buildGUIFile(SeerWebCrawler.java:133)\n    at SeerWebCrawler.main(SeerWebCrawler.java:58)\n</code></pre>\n<p>Now specifically the endindex of the substring appears to be what's causing the problem, I just don't understand what I am doing wrong here. Any help would be appreciated.</p>\n"},{"tags":["java","teamcenter","teamcenter-rac"],"answers":[{"tags":[],"owner":{"account_id":431710,"reputation":3063,"user_id":815961,"accept_rate":51,"display_name":"Pavan Dittakavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684774266,"creation_date":1684774266,"answer_id":76308368,"question_id":74876403,"body_markdown":"You are looking at the wrong SOA API for a revise usecase. The SOA API `reviseObject` from `DataManagement` is what you should be using instead. You would specify the base item revision on which you are deriving a new revision and the API would hand you over the created revision in the output container - `reviseOutputMap` to be more precise.\r\n\r\n    DEBUG: 18:43:46,297 - CommunicationMonitorView.callMade:-1\r\n    [Call]  XXXXXXXXX.62715.03.600019154.00093 Internal-Core-2008-06-DataManagement:reviseObject (549 bytes)\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;ReviseObjectInput xmlns=&quot;http://teamcenter.com/Schemas/Internal/Core/2008-06/DataManagement&quot; deepCopyRequired=&quot;1&quot;&gt;        \r\n        &lt;info clientId=&quot;Ro8ASD1fL_4pcBAAAAAAAAAAAAA&quot; description=&quot;&quot; name=&quot;Test OOTB&quot; newRevId=&quot;B&quot; xmlns=&quot;http://teamcenter.com/Schemas/Core/2008-06/DataManagement&quot;&gt;    &lt;baseItemRevision uid=&quot;Ro8ASD1fL_4pcB&quot;/&gt;                \r\n            &lt;newItemRevisionMasterProperties&gt;                        \r\n                &lt;form uid=&quot;AAAAAAAAAAAAAA&quot;/&gt;                    \r\n            &lt;/newItemRevisionMasterProperties&gt;            \r\n        &lt;/info&gt;\r\n    &lt;/ReviseObjectInput&gt;\r\n\r\nThe sample response:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;ns1:ReviseResponse2 xmlns:ns1=&quot;http://teamcenter.com/Schemas/Core/2008-06/DataManagement&quot; xmlns:ns0=&quot;http://teamcenter.com/Schemas/Soa/2006-03/Base&quot;&gt;\r\n        &lt;ns1:reviseOutputMap key=&quot;RoKASD1fL_4pcBAAAAAAAAAAAAA&quot;&gt;\r\n            &lt;ns1:value&gt;\r\n                &lt;ns1:newItemRev uid=&quot;wnBASD3ML_4pcB&quot; className=&quot;ItemRevision&quot; type=&quot;ItemRevision&quot;/&gt;\r\n                &lt;ns1:relatedObjects action=&quot;0&quot; isSecondary=&quot;0&quot;&gt;\r\n                    &lt;ns1:relatedObject uid=&quot;wLLASD3ML_4pcB&quot; className=&quot;Form&quot; type=&quot;ItemRevision Master&quot;/&gt;\r\n                &lt;/ns1:relatedObjects&gt;\r\n            &lt;/ns1:value&gt;\r\n        &lt;/ns1:reviseOutputMap&gt;\r\n        &lt;ns0:ServiceData&gt;\r\n    .\r\n    .\r\n    .","title":"Create ItemRevision for existing Item in TC","body":"<p>You are looking at the wrong SOA API for a revise usecase. The SOA API <code>reviseObject</code> from <code>DataManagement</code> is what you should be using instead. You would specify the base item revision on which you are deriving a new revision and the API would hand you over the created revision in the output container - <code>reviseOutputMap</code> to be more precise.</p>\n<pre><code>DEBUG: 18:43:46,297 - CommunicationMonitorView.callMade:-1\n[Call]  XXXXXXXXX.62715.03.600019154.00093 Internal-Core-2008-06-DataManagement:reviseObject (549 bytes)\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ReviseObjectInput xmlns=&quot;http://teamcenter.com/Schemas/Internal/Core/2008-06/DataManagement&quot; deepCopyRequired=&quot;1&quot;&gt;        \n    &lt;info clientId=&quot;Ro8ASD1fL_4pcBAAAAAAAAAAAAA&quot; description=&quot;&quot; name=&quot;Test OOTB&quot; newRevId=&quot;B&quot; xmlns=&quot;http://teamcenter.com/Schemas/Core/2008-06/DataManagement&quot;&gt;    &lt;baseItemRevision uid=&quot;Ro8ASD1fL_4pcB&quot;/&gt;                \n        &lt;newItemRevisionMasterProperties&gt;                        \n            &lt;form uid=&quot;AAAAAAAAAAAAAA&quot;/&gt;                    \n        &lt;/newItemRevisionMasterProperties&gt;            \n    &lt;/info&gt;\n&lt;/ReviseObjectInput&gt;\n</code></pre>\n<p>The sample response:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ns1:ReviseResponse2 xmlns:ns1=&quot;http://teamcenter.com/Schemas/Core/2008-06/DataManagement&quot; xmlns:ns0=&quot;http://teamcenter.com/Schemas/Soa/2006-03/Base&quot;&gt;\n    &lt;ns1:reviseOutputMap key=&quot;RoKASD1fL_4pcBAAAAAAAAAAAAA&quot;&gt;\n        &lt;ns1:value&gt;\n            &lt;ns1:newItemRev uid=&quot;wnBASD3ML_4pcB&quot; className=&quot;ItemRevision&quot; type=&quot;ItemRevision&quot;/&gt;\n            &lt;ns1:relatedObjects action=&quot;0&quot; isSecondary=&quot;0&quot;&gt;\n                &lt;ns1:relatedObject uid=&quot;wLLASD3ML_4pcB&quot; className=&quot;Form&quot; type=&quot;ItemRevision Master&quot;/&gt;\n            &lt;/ns1:relatedObjects&gt;\n        &lt;/ns1:value&gt;\n    &lt;/ns1:reviseOutputMap&gt;\n    &lt;ns0:ServiceData&gt;\n.\n.\n.\n</code></pre>\n"}],"owner":{"account_id":10544866,"reputation":11,"user_id":7769491,"display_name":"Vladjkaaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684774266,"creation_date":1671627469,"question_id":74876403,"body_markdown":"How to create next ItemRevision for exists Item?\r\n\r\nI&#39;m looks docs and see that I cant use CreateItems function, I must use CreateObject.\r\n\r\n```\r\nTCSession session = (TCSession) AIFUtility.getDefaultSession();\r\nDataManagementService dmservice = DataManagementService.getService(session);\r\n\r\nCreateInput irev = new CreateInput();\r\nirev.boName = &quot;ItemRevision&quot;;\r\nirev.stringProps.put( &quot;object_desc&quot;, &quot;object_desc&quot; );\r\nirev.stringProps.put( &quot;object_name&quot;, &quot;object_name_test&quot; );\r\nirev.stringProps.put( &quot;item_revision_id&quot;, &quot;01&quot; );\r\n\r\nCreateIn[] ci = new CreateIn[1];\r\nci[0] = new CreateIn();\r\nci[0].data = irev;\r\nci[0].clientId = Integer.valueOf(1).toString();\r\n\r\nCreateResponse cr = dmservice.createObjects(ci);\r\n```\r\n\r\nBut the error dissappers:\r\n&quot;Wrong symbol NULL object (in object) - required object not exists&quot;\r\n\r\nIt means that I must set some attribute to revision which must be link to existing Item.\r\n\r\nHow can I do it? Thanks\r\n\r\nTrying to create ItemRevision without creating Item","title":"Create ItemRevision for existing Item in TC","body":"<p>How to create next ItemRevision for exists Item?</p>\n<p>I'm looks docs and see that I cant use CreateItems function, I must use CreateObject.</p>\n<pre><code>TCSession session = (TCSession) AIFUtility.getDefaultSession();\nDataManagementService dmservice = DataManagementService.getService(session);\n\nCreateInput irev = new CreateInput();\nirev.boName = &quot;ItemRevision&quot;;\nirev.stringProps.put( &quot;object_desc&quot;, &quot;object_desc&quot; );\nirev.stringProps.put( &quot;object_name&quot;, &quot;object_name_test&quot; );\nirev.stringProps.put( &quot;item_revision_id&quot;, &quot;01&quot; );\n\nCreateIn[] ci = new CreateIn[1];\nci[0] = new CreateIn();\nci[0].data = irev;\nci[0].clientId = Integer.valueOf(1).toString();\n\nCreateResponse cr = dmservice.createObjects(ci);\n</code></pre>\n<p>But the error dissappers:\n&quot;Wrong symbol NULL object (in object) - required object not exists&quot;</p>\n<p>It means that I must set some attribute to revision which must be link to existing Item.</p>\n<p>How can I do it? Thanks</p>\n<p>Trying to create ItemRevision without creating Item</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9575,"page":417,"page_size":100}
