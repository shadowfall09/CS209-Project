{"items":[{"tags":["java","sql","spring","apache-commons-dbutils"],"answers":[{"tags":[],"owner":{"account_id":1721698,"reputation":3579,"user_id":1577363,"display_name":"erhun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1461743964,"creation_date":1442241982,"answer_id":32567733,"question_id":30156127,"body_markdown":"I didn&#39;t find any official solution from [DBUtils API][1] so i just return generated ID and then query it after insert the record with this id at Service layer. This way method return Object at service layer, but i do one extra query.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-dbutils/","title":"QueryRunner Insert method Return Type","body":"<p>I didn't find any official solution from <a href=\"https://commons.apache.org/proper/commons-dbutils/\" rel=\"nofollow\">DBUtils API</a> so i just return generated ID and then query it after insert the record with this id at Service layer. This way method return Object at service layer, but i do one extra query.</p>\n"},{"tags":[],"owner":{"account_id":7974658,"reputation":87,"user_id":6018232,"display_name":"Zhenhua Sheng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691223385,"creation_date":1691223385,"answer_id":76840724,"question_id":30156127,"body_markdown":"the ResultSet of QueryRunner.insert return value only has one param that is the GENERATED_KEY of the record, you can get with rs.getInteger\r\n\r\n    Integer id = qr.insert(sql, rs -&gt; rs.next() ? rs.getInteger(&quot;GENERATED_KEY&quot;) : null, params);\r\n\r\nthen query with this id","title":"QueryRunner Insert method Return Type","body":"<p>the ResultSet of QueryRunner.insert return value only has one param that is the GENERATED_KEY of the record, you can get with rs.getInteger</p>\n<pre><code>Integer id = qr.insert(sql, rs -&gt; rs.next() ? rs.getInteger(&quot;GENERATED_KEY&quot;) : null, params);\n</code></pre>\n<p>then query with this id</p>\n"}],"owner":{"account_id":1721698,"reputation":3579,"user_id":1577363,"display_name":"erhun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32567733,"answer_count":2,"score":0,"last_activity_date":1691232709,"creation_date":1431288429,"question_id":30156127,"body_markdown":" I am using Apache Commons DBUtils according to [QueryRunner#insert][1] method in its documentation, insert return the generic type of ResultSetHandler. I have a BR_Author object for my project. \r\n\r\n***BR_Author.java***\r\n\r\n\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public class BR_Author {\r\n    \tprivate int id;\r\n    \tprivate String authorName;\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getAuthorName() {\r\n    \t\treturn authorName;\r\n    \t}\r\n    \r\n    \tpublic void setAuthorName(String authorName) {\r\n    \t\tthis.authorName = authorName;\r\n    \t}\r\n    }\r\n\r\nI write a simple insert statement at my service class like \r\n\r\n***AuthorService#createAuthor***\r\n\r\n    public BR_Author createAuthor(String authorName) throws ApiException {\r\n    \t\tString sql = &quot;Insert into BR_AUTHOR(authorName) VALUES(?)&quot;;\r\n    \t\tResultSetHandler&lt;BR_Author&gt; rs = new BeanHandler&lt;BR_Author&gt;(\r\n    \t\t\t\tBR_Author.class);\r\n    \t\tQueryRunner qr = new QueryRunner(dataSource);\r\n    \t\tObject[] params = { authorName };\r\n    \t\ttry {\r\n    \t\t\tBR_Author author = qr.insert(sql, rs, params);\r\n    \t\t\tSystem.out.println(&quot;Br_Author:&quot; + author);\r\n    \t\t\treturn author;\r\n    \r\n    \t\t} catch (SQLException e) {\r\n    \t\t\tthrow new ApiException(ErrorCode.ERR20001, e.getMessage());\r\n    \t\t}\r\n    \t}\r\n\r\nI am trying to return the added value at the createAuthor method, but if i configure the id field as auto-increment object return as \r\n\r\n    Br_Author:Br_Author [id=0, authorName=null]\r\n\r\nwhen I check the db I see that it adds the values successfully.\r\n\r\nIf I disable auto-increment and set the id from the code, the author object is null. So I want to learn that am I misunderstood the QueryRunner#insert method or if it has a bug. I already checked the below links.\r\n\r\n - [QueryRunner_insert_add_javadoc.patch][2]\r\n - [Generated key handling for updates][3]\r\n\r\n***BTW:*** Select queries working fine for the BR_Author class so it means there shouldn&#39;t be any mapping issue.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-dbutils/apidocs/org/apache/commons/dbutils/QueryRunner.html#insert(java.lang.String,%20org.apache.commons.dbutils.ResultSetHandler)\r\n  [2]: https://issues.apache.org/jira/secure/attachment/12541287/QueryRunner_insert_add_javadoc.patch\r\n  [3]: https://issues.apache.org/jira/browse/DBUTILS-54","title":"QueryRunner Insert method Return Type","body":"<p>I am using Apache Commons DBUtils according to <a href=\"https://commons.apache.org/proper/commons-dbutils/apidocs/org/apache/commons/dbutils/QueryRunner.html#insert(java.lang.String,%20org.apache.commons.dbutils.ResultSetHandler)\" rel=\"nofollow noreferrer\">QueryRunner#insert</a> method in its documentation, insert return the generic type of ResultSetHandler. I have a BR_Author object for my project.</p>\n<p><em><strong>BR_Author.java</strong></em></p>\n<pre><code>import org.springframework.stereotype.Repository;\n\n@Repository\npublic class BR_Author {\n    private int id;\n    private String authorName;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getAuthorName() {\n        return authorName;\n    }\n\n    public void setAuthorName(String authorName) {\n        this.authorName = authorName;\n    }\n}\n</code></pre>\n<p>I write a simple insert statement at my service class like</p>\n<p><em><strong>AuthorService#createAuthor</strong></em></p>\n<pre><code>public BR_Author createAuthor(String authorName) throws ApiException {\n        String sql = &quot;Insert into BR_AUTHOR(authorName) VALUES(?)&quot;;\n        ResultSetHandler&lt;BR_Author&gt; rs = new BeanHandler&lt;BR_Author&gt;(\n                BR_Author.class);\n        QueryRunner qr = new QueryRunner(dataSource);\n        Object[] params = { authorName };\n        try {\n            BR_Author author = qr.insert(sql, rs, params);\n            System.out.println(&quot;Br_Author:&quot; + author);\n            return author;\n\n        } catch (SQLException e) {\n            throw new ApiException(ErrorCode.ERR20001, e.getMessage());\n        }\n    }\n</code></pre>\n<p>I am trying to return the added value at the createAuthor method, but if i configure the id field as auto-increment object return as</p>\n<pre><code>Br_Author:Br_Author [id=0, authorName=null]\n</code></pre>\n<p>when I check the db I see that it adds the values successfully.</p>\n<p>If I disable auto-increment and set the id from the code, the author object is null. So I want to learn that am I misunderstood the QueryRunner#insert method or if it has a bug. I already checked the below links.</p>\n<ul>\n<li><a href=\"https://issues.apache.org/jira/secure/attachment/12541287/QueryRunner_insert_add_javadoc.patch\" rel=\"nofollow noreferrer\">QueryRunner_insert_add_javadoc.patch</a></li>\n<li><a href=\"https://issues.apache.org/jira/browse/DBUTILS-54\" rel=\"nofollow noreferrer\">Generated key handling for updates</a></li>\n</ul>\n<p><em><strong>BTW:</strong></em> Select queries working fine for the BR_Author class so it means there shouldn't be any mapping issue.</p>\n"},{"tags":["java","unit-testing","junit","junit5","parameterized-tests"],"comments":[{"owner":{"account_id":3455718,"reputation":102,"user_id":2894291,"display_name":"Josef Vesel&#253;"},"score":1,"creation_date":1691061791,"post_id":68419266,"comment_id":135442168,"body_markdown":"that would be useful but I don&#39;t think there is a better solution that the one you came up with","body":"that would be useful but I don&#39;t think there is a better solution that the one you came up with"},{"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1694754242,"post_id":68419266,"comment_id":135935373,"body_markdown":"See https://github.com/junit-team/junit5/issues/1427","body":"See <a href=\"https://github.com/junit-team/junit5/issues/1427\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/1427</a>"}],"answers":[{"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691231942,"creation_date":1691231942,"answer_id":76841237,"question_id":68419266,"body_markdown":"[JUnit Pioneer](https://github.com/junit-pioneer/junit-pioneer) comes with [`@CartesianTest`](https://junit-pioneer.org/docs/cartesian-product/):\r\n\r\n```java\r\nimport org.junitpioneer.jupiter.cartesian.CartesianTest;\r\nimport org.junitpioneer.jupiter.cartesian.CartesianTest.Enum;\r\n\r\nclass FigureAndColorTest {\r\n\r\n\tenum Figure {\r\n\t\tTRIANGE, SQUARE\r\n\t}\r\n\r\n\tenum Color {\r\n\t\tRED, YELLOW\r\n\t}\r\n\r\n\t@CartesianTest\r\n\tvoid test(@Enum Figure figure, @Enum Color color) {\r\n\t\tSystem.out.printf(&quot;%s %s%n&quot;, figure, color);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```text\r\nTRIANGE RED\r\nTRIANGE YELLOW\r\nSQUARE RED\r\nSQUARE YELLOW\r\n```\r\n\r\n**DISCLAIMER:** I&#39;m one of the maintainers of JUnit Pionner.","title":"How to create parameterized test with few enums in JUnit 5?","body":"<p><a href=\"https://github.com/junit-pioneer/junit-pioneer\" rel=\"nofollow noreferrer\">JUnit Pioneer</a> comes with <a href=\"https://junit-pioneer.org/docs/cartesian-product/\" rel=\"nofollow noreferrer\"><code>@CartesianTest</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junitpioneer.jupiter.cartesian.CartesianTest;\nimport org.junitpioneer.jupiter.cartesian.CartesianTest.Enum;\n\nclass FigureAndColorTest {\n\n    enum Figure {\n        TRIANGE, SQUARE\n    }\n\n    enum Color {\n        RED, YELLOW\n    }\n\n    @CartesianTest\n    void test(@Enum Figure figure, @Enum Color color) {\n        System.out.printf(&quot;%s %s%n&quot;, figure, color);\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>TRIANGE RED\nTRIANGE YELLOW\nSQUARE RED\nSQUARE YELLOW\n</code></pre>\n<p><strong>DISCLAIMER:</strong> I'm one of the maintainers of JUnit Pionner.</p>\n"}],"owner":{"account_id":20654871,"reputation":236,"user_id":15164253,"display_name":"Victor Levin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11243,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1691231942,"creation_date":1626514632,"question_id":68419266,"body_markdown":"For example, I have few enums in my project:\r\n  - Figure, with values TRIANGLE and SQUARE\r\n  - Color, with values are RED and YELLOW\r\n\r\nHow to create a test, using the cartesian product of all of the combinations? The follow code doesn&#39;t work:\r\n\r\n    // this doesn&#39;t work\r\n    @ParameterizedTest\r\n    @EnumSource(value = Figure.class)\r\n    @EnumSource(value = Color.class)\r\n    void test(Figure figure, Color color) {\r\n        System.out.println(String.format(&quot;%s_%s&quot;,figure,color));\r\n    }\r\n\r\nI want to get all of combinations:\r\n\r\n    TRIANGLE RED\r\n    TRIANGLE YELLOW\r\n    SQUARE RED\r\n    SQUARE YELLOW\r\n\r\nMy temporary solution is using annotation @MethodSource\r\n\r\n    // this works\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;generateCartesianProduct&quot;)\r\n    void test(Figure figure, Color color) {\r\n        System.out.println(String.format(&quot;%s_%s&quot;,figure,color));\r\n    }\r\n\r\n\r\n    private static Stream&lt;Arguments&gt; generateCartesianProduct() {\r\n        List&lt;Arguments&gt; argumentsList = new ArrayList&lt;&gt;();\r\n\r\n        for(Figure figure : Figure.values()) {\r\n            for(Color color : Color.values()) {\r\n                argumentsList.add(Arguments.of(figure,color));\r\n            }\r\n        }\r\n\r\n        return argumentsList.stream();\r\n    }\r\n\r\nBut I don&#39;t want to have extra code in my tests. Has JUnit 5 any solution for my problem?","title":"How to create parameterized test with few enums in JUnit 5?","body":"<p>For example, I have few enums in my project:</p>\n<ul>\n<li>Figure, with values TRIANGLE and SQUARE</li>\n<li>Color, with values are RED and YELLOW</li>\n</ul>\n<p>How to create a test, using the cartesian product of all of the combinations? The follow code doesn't work:</p>\n<pre><code>// this doesn't work\n@ParameterizedTest\n@EnumSource(value = Figure.class)\n@EnumSource(value = Color.class)\nvoid test(Figure figure, Color color) {\n    System.out.println(String.format(&quot;%s_%s&quot;,figure,color));\n}\n</code></pre>\n<p>I want to get all of combinations:</p>\n<pre><code>TRIANGLE RED\nTRIANGLE YELLOW\nSQUARE RED\nSQUARE YELLOW\n</code></pre>\n<p>My temporary solution is using annotation @MethodSource</p>\n<pre><code>// this works\n@ParameterizedTest\n@MethodSource(&quot;generateCartesianProduct&quot;)\nvoid test(Figure figure, Color color) {\n    System.out.println(String.format(&quot;%s_%s&quot;,figure,color));\n}\n\n\nprivate static Stream&lt;Arguments&gt; generateCartesianProduct() {\n    List&lt;Arguments&gt; argumentsList = new ArrayList&lt;&gt;();\n\n    for(Figure figure : Figure.values()) {\n        for(Color color : Color.values()) {\n            argumentsList.add(Arguments.of(figure,color));\n        }\n    }\n\n    return argumentsList.stream();\n}\n</code></pre>\n<p>But I don't want to have extra code in my tests. Has JUnit 5 any solution for my problem?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26105575,"reputation":56,"user_id":19800332,"display_name":"butterCup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691231763,"creation_date":1691231763,"answer_id":76841226,"question_id":76840712,"body_markdown":"\r\n    @RestController\r\n    @RequestMapping(&quot;/lookup/{tableName}&quot;)\r\n    public class LookupController {\r\n\r\n    @Autowired\r\n    private GenericRepository repository;\r\n\r\n    @GetMapping\r\n    public List&lt;?&gt; list(@PathVariable String tableName) {\r\n        return repository.findAll(tableName);\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public Object get(@PathVariable String tableName, @PathVariable Long id) {\r\n        return repository.findById(tableName, id);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public void update(@PathVariable String tableName, @PathVariable Long id, @RequestBody Object entity) {\r\n        repository.save(tableName, entity);\r\n    }\r\n\r\n    @GetMapping(&quot;/findBy/{property}/{value}&quot;)\r\n    public List&lt;?&gt; findByProperty(@PathVariable String tableName, @PathVariable String property, @PathVariable String value) {\r\n        return repository.findByProperty(tableName, property, value);\r\n    }\r\n}\r\n\r\n\r\n\r\n    @Repository\r\n    public class GenericRepository {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public List&lt;?&gt; findAll(String tableName) {\r\n        return entityManager.createQuery(&quot;SELECT e FROM &quot; + tableName + &quot; e&quot;).getResultList();\r\n    }\r\n\r\n    public Object findById(String tableName, Long id) {\r\n        return entityManager.find(tableName, id);\r\n    }\r\n\r\n    public void save(String tableName, Object entity) {\r\n        entityManager.merge(entity);\r\n    }\r\n\r\n    public List&lt;?&gt; findByProperty(String tableName, String property, String value) {\r\n        String query = &quot;SELECT e FROM &quot; + tableName + &quot; e WHERE e.&quot; + property + &quot; = :value&quot;;\r\n        TypedQuery&lt;?&gt; typedQuery = entityManager.createQuery(query, Object.class);\r\n        typedQuery.setParameter(&quot;value&quot;, value);\r\n        return typedQuery.getResultList();\r\n    }\r\n\r\nAbove reference is one way or generic entity class that can be used to represent all your lookup tables. And create a generic repository that extends JPA repository and inject it in controller and use it to perform various CRUD operations for lookup entities.\r\n\r\n    public interface GenericRepository &lt;T, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt; {\r\n    \r\n}\r\n","title":"Is there a way to use a single controller and single generic JPARepository to handle multiple entities?","body":"<pre><code>@RestController\n@RequestMapping(&quot;/lookup/{tableName}&quot;)\npublic class LookupController {\n\n@Autowired\nprivate GenericRepository repository;\n\n@GetMapping\npublic List&lt;?&gt; list(@PathVariable String tableName) {\n    return repository.findAll(tableName);\n}\n\n@GetMapping(&quot;/{id}&quot;)\npublic Object get(@PathVariable String tableName, @PathVariable Long id) {\n    return repository.findById(tableName, id);\n}\n\n@PutMapping(&quot;/{id}&quot;)\npublic void update(@PathVariable String tableName, @PathVariable Long id, @RequestBody Object entity) {\n    repository.save(tableName, entity);\n}\n\n@GetMapping(&quot;/findBy/{property}/{value}&quot;)\npublic List&lt;?&gt; findByProperty(@PathVariable String tableName, @PathVariable String property, @PathVariable String value) {\n    return repository.findByProperty(tableName, property, value);\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Repository\npublic class GenericRepository {\n\n@PersistenceContext\nprivate EntityManager entityManager;\n\npublic List&lt;?&gt; findAll(String tableName) {\n    return entityManager.createQuery(&quot;SELECT e FROM &quot; + tableName + &quot; e&quot;).getResultList();\n}\n\npublic Object findById(String tableName, Long id) {\n    return entityManager.find(tableName, id);\n}\n\npublic void save(String tableName, Object entity) {\n    entityManager.merge(entity);\n}\n\npublic List&lt;?&gt; findByProperty(String tableName, String property, String value) {\n    String query = &quot;SELECT e FROM &quot; + tableName + &quot; e WHERE e.&quot; + property + &quot; = :value&quot;;\n    TypedQuery&lt;?&gt; typedQuery = entityManager.createQuery(query, Object.class);\n    typedQuery.setParameter(&quot;value&quot;, value);\n    return typedQuery.getResultList();\n}\n</code></pre>\n<p>Above reference is one way or generic entity class that can be used to represent all your lookup tables. And create a generic repository that extends JPA repository and inject it in controller and use it to perform various CRUD operations for lookup entities.</p>\n<pre><code>public interface GenericRepository &lt;T, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt; {\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":14043131,"reputation":43,"user_id":10144089,"display_name":"Jugs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691231763,"creation_date":1691223170,"question_id":76840712,"body_markdown":"The product I&#39;m working on has more than 80 lookup tables and each with their own CRUD operations.\r\n\r\nI don&#39;t want to create separate controllers and JPARepositories for each of those models but I&#39;d like to use a single controller and a generic JPARepository to handle all the lookup table entities.\r\n\r\nController is a @RestController and it accepts json data and needs to have 4 operations namely LIST, GET, POST and PUT. Since the json data format is the same as there is only one table involved and no relations whatsoever, I think it must be possible achieve this in Sprint Hibernate.\r\n\r\nAppreciate some advice.","title":"Is there a way to use a single controller and single generic JPARepository to handle multiple entities?","body":"<p>The product I'm working on has more than 80 lookup tables and each with their own CRUD operations.</p>\n<p>I don't want to create separate controllers and JPARepositories for each of those models but I'd like to use a single controller and a generic JPARepository to handle all the lookup table entities.</p>\n<p>Controller is a @RestController and it accepts json data and needs to have 4 operations namely LIST, GET, POST and PUT. Since the json data format is the same as there is only one table involved and no relations whatsoever, I think it must be possible achieve this in Sprint Hibernate.</p>\n<p>Appreciate some advice.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":10580983,"reputation":420,"user_id":7794806,"display_name":"Jes&#250;s Barrera"},"score":1,"creation_date":1644553174,"post_id":71075233,"comment_id":125642957,"body_markdown":"I think that DELETE annotation could be the retrofit one, for Room the right annotation is Delete (in lowercase)","body":"I think that DELETE annotation could be the retrofit one, for Room the right annotation is Delete (in lowercase)"}],"answers":[{"tags":[],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644634081,"creation_date":1644634081,"answer_id":71088583,"question_id":71075233,"body_markdown":"@Jes&#250;sBarrera from the comments is correct. check your imports. the annotation should be like this\r\n\r\n    @Delete\r\nandroid studio will probably import this\r\n\r\n    import androidx.room.*\r\nif not already present","title":"An abstract DAO method must be annotated with one and only one of the following annotations: Insert,Delete,Query,Update,RawQuery","body":"<p>@JesúsBarrera from the comments is correct. check your imports. the annotation should be like this</p>\n<pre><code>@Delete\n</code></pre>\n<p>android studio will probably import this</p>\n<pre><code>import androidx.room.*\n</code></pre>\n<p>if not already present</p>\n"},{"tags":[],"owner":{"account_id":14172306,"reputation":1738,"user_id":10238560,"display_name":"Tarif Chakder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644646386,"creation_date":1644646386,"answer_id":71089430,"question_id":71075233,"body_markdown":"You entered wrong annotation\r\n\r\nreplace \r\n\r\n    @DELETE\r\n\r\nto\r\n\r\n    @Delete","title":"An abstract DAO method must be annotated with one and only one of the following annotations: Insert,Delete,Query,Update,RawQuery","body":"<p>You entered wrong annotation</p>\n<p>replace</p>\n<pre><code>@DELETE\n</code></pre>\n<p>to</p>\n<pre><code>@Delete\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15006936,"reputation":2131,"user_id":10832700,"display_name":"ahmnouira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691231402,"creation_date":1691231402,"answer_id":76841202,"question_id":71075233,"body_markdown":"I just forget to annotate the method with @Insert.\r\n\r\n```kotlin\r\nfun insertAll(postDbModels: Array&lt;PostDbModel&gt;)\r\n```\r\n\r\nJust adding @Insert fixed this.\r\n\r\n```kotlin\r\n@Insert\r\nfun insertAll(postDbModels: Array&lt;PostDbModel&gt;)\r\n```\r\n","title":"An abstract DAO method must be annotated with one and only one of the following annotations: Insert,Delete,Query,Update,RawQuery","body":"<p>I just forget to annotate the method with @Insert.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun insertAll(postDbModels: Array&lt;PostDbModel&gt;)\n</code></pre>\n<p>Just adding @Insert fixed this.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Insert\nfun insertAll(postDbModels: Array&lt;PostDbModel&gt;)\n</code></pre>\n"}],"owner":{"account_id":24222233,"reputation":11,"user_id":18177252,"display_name":"Atharv Vishwas Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1691231402,"creation_date":1644552591,"question_id":71075233,"body_markdown":"    @Dao\r\n    interface ArticleDAO {\r\n\r\n        @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n        suspend fun upsert(article: Article) : Long\r\n\r\n        @Query(&quot;SELECT * FROM articles&quot;)\r\n        fun getAllArticles(): LiveData&lt;List&lt;Article&gt;&gt;\r\n\r\n        @DELETE\r\n        suspend fun deleteArticles(article: Article)\r\n    }\r\n\r\nHi! On running this code, I get the following error: \r\nAn abstract DAO method must be annotated with one and only one of the following annotations: Insert,Delete,Query,Update,RawQuery\r\nPlease help me with this","title":"An abstract DAO method must be annotated with one and only one of the following annotations: Insert,Delete,Query,Update,RawQuery","body":"<pre><code>@Dao\ninterface ArticleDAO {\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    suspend fun upsert(article: Article) : Long\n\n    @Query(&quot;SELECT * FROM articles&quot;)\n    fun getAllArticles(): LiveData&lt;List&lt;Article&gt;&gt;\n\n    @DELETE\n    suspend fun deleteArticles(article: Article)\n}\n</code></pre>\n<p>Hi! On running this code, I get the following error:\nAn abstract DAO method must be annotated with one and only one of the following annotations: Insert,Delete,Query,Update,RawQuery\nPlease help me with this</p>\n"},{"tags":["java","android"],"owner":{"account_id":23551545,"reputation":5,"user_id":17594170,"display_name":"Zahid Yameen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691229653,"creation_date":1691229653,"question_id":76841099,"body_markdown":"I am working on audio video calling application using\r\nweb-rtc  dependency \r\n`implementation &#39;com.dafruits:webrtc:113.0.0&#39;`\r\non these line\r\n\r\n```\r\npublic void addLocalStream(MediaStream stream) {\r\n//pc is for peerconnection\r\nif (pc == null) return;\r\nLog.d(&quot;dds_test&quot;, &quot;addLocalStream&quot;);\r\n\r\n          pc.addStream(stream);\r\n    }\r\n\r\n```\r\nI am getting this error\r\nE/rtc: #\r\n\\# Fatal error in: ../../../home/rno/webrtc/src/pc/peer_connection.cc, line 827\r\n\\# last system error: 0\r\n\\# Check failed: !IsUnifiedPlan()\r\n\\# AddStream is not available with Unified Plan SdpSemantics. Please use AddTrack instead.\r\n\r\nI  searched  a lot but could not find any proper solution please help me to solve this problem.","title":"Webrtc android native error #AddStream is not available with Unified Plan SdpSemantics. Please use AddTrack instead","body":"<p>I am working on audio video calling application using\nweb-rtc  dependency\n<code>implementation 'com.dafruits:webrtc:113.0.0'</code>\non these line</p>\n<pre><code>public void addLocalStream(MediaStream stream) {\n//pc is for peerconnection\nif (pc == null) return;\nLog.d(&quot;dds_test&quot;, &quot;addLocalStream&quot;);\n\n          pc.addStream(stream);\n    }\n\n</code></pre>\n<p>I am getting this error\nE/rtc: #\n# Fatal error in: ../../../home/rno/webrtc/src/pc/peer_connection.cc, line 827\n# last system error: 0\n# Check failed: !IsUnifiedPlan()\n# AddStream is not available with Unified Plan SdpSemantics. Please use AddTrack instead.</p>\n<p>I  searched  a lot but could not find any proper solution please help me to solve this problem.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1691273141,"post_id":76839851,"comment_id":135470270,"body_markdown":"From what I know Google restricts usage of the accessibility API. Only apps that use the accessibility API in the way Google had designed it are now allowed: help disabled people. In my understanding automation of button clicks will be rejected, unless you can explain how that helps disabled people.","body":"From what I know Google restricts usage of the accessibility API. Only apps that use the accessibility API in the way Google had designed it are now allowed: help disabled people. In my understanding automation of button clicks will be rejected, unless you can explain how that helps disabled people."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691307986,"post_id":76839851,"comment_id":135472131,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29163421,"reputation":1,"user_id":22341604,"display_name":"Arkaradet postsalee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691229162,"creation_date":1691200390,"question_id":76839851,"body_markdown":"![enter image description here](https://i.stack.imgur.com/6VYu3.png)\r\n\r\nHow to modify the above request for upload application in play store which uses accessibility APIs?\r\nThis application is auto click on screen.\r\n","title":"How to Accessibility api upload to play store","body":"<p><img src=\"https://i.stack.imgur.com/6VYu3.png\" alt=\"enter image description here\" /></p>\n<p>How to modify the above request for upload application in play store which uses accessibility APIs?\nThis application is auto click on screen.</p>\n"},{"tags":["java","ssl","devops","jks","kubernetes-secrets"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1691155544,"post_id":76834659,"comment_id":135457442,"body_markdown":"client *certificates* are not secrets. client private keys are.","body":"client <i>certificates</i> are not secrets. client private keys are."},{"owner":{"account_id":7242187,"reputation":47,"user_id":5525420,"display_name":"Itay Habani"},"score":0,"creation_date":1691166255,"post_id":76834659,"comment_id":135459918,"body_markdown":"@PresidentJamesK.Polk you&#39;re right, i misphrased that. the question still remains though :D","body":"@PresidentJamesK.Polk you&#39;re right, i misphrased that. the question still remains though :D"}],"owner":{"account_id":7242187,"reputation":47,"user_id":5525420,"display_name":"Itay Habani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691228686,"creation_date":1691141570,"question_id":76834659,"body_markdown":"I have a few java applications that use JKS files for storing client private keys for things like DB certificates. Once these certificates get renewed I&#39;d like an easy way to edit jks file, and replace the old key.\r\n\r\nThe problem is storing these JKS files. Obviously they shouldn&#39;t be in the repository, so i want to use some sort of secret management tool like Hashicorp Vault but it doesn&#39;t support JKS files directly so it seems everyone encodes them to base64 and store them that way. Using this method, you have to read the secret, decode it, and then use some tool like keytool or openssl to edit the certificates inside, and I would like a better solution that would be easier for the developers to maintain.\r\n\r\nKeep in mind that in my organization we&#39;re in a private network with our own cloud provider so we dont have access to any Amazon or Google cloud services.\r\n\r\nI looked for some other tools to provide a UI to edit these JKS files and the only decent thing I found was Keystore Explorer which is a desktop app and I&#39;d like to deploy a web app so everyone would be able to easily use it, like Vault is. I also looked for any open issues or requests for this kind of feature but no one mentions it since it seems they&#39;re all ok with encoding the files to base64 and thats it.\r\n\r\nAm I overthinking this? Seems like it would be pretty easy to develop a feature for Vault to edit JKS files inside the UI. I might just do it myself and try to contribute that code or just create another app to specifically do this. Should i move on from using JKS files and just store the certificates as PEM files and maybe dynamically create a JKS file in my Kubernetes cluster on an initContainer script or something?","title":"How do I store and manage jks files in a way that would be easy to edit them","body":"<p>I have a few java applications that use JKS files for storing client private keys for things like DB certificates. Once these certificates get renewed I'd like an easy way to edit jks file, and replace the old key.</p>\n<p>The problem is storing these JKS files. Obviously they shouldn't be in the repository, so i want to use some sort of secret management tool like Hashicorp Vault but it doesn't support JKS files directly so it seems everyone encodes them to base64 and store them that way. Using this method, you have to read the secret, decode it, and then use some tool like keytool or openssl to edit the certificates inside, and I would like a better solution that would be easier for the developers to maintain.</p>\n<p>Keep in mind that in my organization we're in a private network with our own cloud provider so we dont have access to any Amazon or Google cloud services.</p>\n<p>I looked for some other tools to provide a UI to edit these JKS files and the only decent thing I found was Keystore Explorer which is a desktop app and I'd like to deploy a web app so everyone would be able to easily use it, like Vault is. I also looked for any open issues or requests for this kind of feature but no one mentions it since it seems they're all ok with encoding the files to base64 and thats it.</p>\n<p>Am I overthinking this? Seems like it would be pretty easy to develop a feature for Vault to edit JKS files inside the UI. I might just do it myself and try to contribute that code or just create another app to specifically do this. Should i move on from using JKS files and just store the certificates as PEM files and maybe dynamically create a JKS file in my Kubernetes cluster on an initContainer script or something?</p>\n"},{"tags":["java","date","simpledateformat","date-format","date-parsing"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691227648,"post_id":76534703,"comment_id":135465833,"body_markdown":"First, I strongly recommend that you avoid the `java.util.Date` and `SimpleDateFormat` classes. They were always very troublesome and are long outdated. Use `LocalDate` and `DateTimeFormatter` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). Second, I recommend you keep data model and presentation separate. Which day it is belongs in the model and is nicely represented by a `LocalDate`.  For presentation convert the `LocalDate` back to a string to the user’s liking, for example `Apr 1, 2019`.","body":"First, I strongly recommend that you avoid the <code>java.util.Date</code> and <code>SimpleDateFormat</code> classes. They were always very troublesome and are long outdated. Use <code>LocalDate</code> and <code>DateTimeFormatter</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Second, I recommend you keep data model and presentation separate. Which day it is belongs in the model and is nicely represented by a <code>LocalDate</code>.  For presentation convert the <code>LocalDate</code> back to a string to the user’s liking, for example <code>Apr 1, 2019</code>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691191036,"creation_date":1691184760,"answer_id":76839205,"question_id":76534703,"body_markdown":"java.time\r\n--\r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html).\r\n\r\nAlso, quoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.\r\n\r\nYour problem\r\n--\r\nYou are trying to parse the date string into a `java.util.Date` object and print it. A `java.util.Date` object represents only the number of milliseconds since January 1, 1970, 00:00:00 GMT. When you print its object, the string returned by [Date#toString](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toString--), which applies your system&#39;s timezone, is printed. Note that a date-time object holds only date-time information, not a format. A format is represented using a string which you obtain by formatting the date-time object using a date-time formatting class with the desired pattern.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:**\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; list = List.of(&quot;Apr 1, 2019&quot;, &quot;Aug 1, 2020&quot;, &quot;Feb 20, 2018&quot;);\r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMM d, uuuu&quot;, Locale.ENGLISH);\r\n            list.forEach(s -&gt; {\r\n                LocalDate date = LocalDate.parse(s, dtf);\r\n                System.out.printf(&quot;Default format: %s, Custom format: %s%n&quot;, date, date.format(dtf));\r\n            });\r\n        }\r\n    }\r\n    \r\n**Output:**\r\n\r\n    Default format: 2019-04-01, Custom format: Apr 1, 2019\r\n    Default format: 2020-08-01, Custom format: Aug 1, 2020\r\n    Default format: 2018-02-20, Custom format: Feb 20, 2018\r\n\r\n[ONLINE DEMO](https://ideone.com/kvcXye)\r\n\r\n**Note:** Here, you can use `y` instead of `u` but [I prefer `u` to `y`](https://stackoverflow.com/a/65928023/10819573). Also, [never use `DateTimeFormatter` for custom formats without a Locale](https://stackoverflow.com/a/65544056/10819573).\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n","title":"SimpleDateFormat(&quot;MMM d, yyyy&quot;) returns Weekday Month day 00:00:00 EDT year","body":"<h2>java.time</h2>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>.</p>\n<p>Also, quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p>Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.</p>\n</blockquote>\n<h2>Your problem</h2>\n<p>You are trying to parse the date string into a <code>java.util.Date</code> object and print it. A <code>java.util.Date</code> object represents only the number of milliseconds since January 1, 1970, 00:00:00 GMT. When you print its object, the string returned by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toString--\" rel=\"nofollow noreferrer\">Date#toString</a>, which applies your system's timezone, is printed. Note that a date-time object holds only date-time information, not a format. A format is represented using a string which you obtain by formatting the date-time object using a date-time formatting class with the desired pattern.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = List.of(&quot;Apr 1, 2019&quot;, &quot;Aug 1, 2020&quot;, &quot;Feb 20, 2018&quot;);\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMM d, uuuu&quot;, Locale.ENGLISH);\n        list.forEach(s -&gt; {\n            LocalDate date = LocalDate.parse(s, dtf);\n            System.out.printf(&quot;Default format: %s, Custom format: %s%n&quot;, date, date.format(dtf));\n        });\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Default format: 2019-04-01, Custom format: Apr 1, 2019\nDefault format: 2020-08-01, Custom format: Aug 1, 2020\nDefault format: 2018-02-20, Custom format: Feb 20, 2018\n</code></pre>\n<p><a href=\"https://ideone.com/kvcXye\" rel=\"nofollow noreferrer\">ONLINE DEMO</a></p>\n<p><strong>Note:</strong> Here, you can use <code>y</code> instead of <code>u</code> but <a href=\"https://stackoverflow.com/a/65928023/10819573\">I prefer <code>u</code> to <code>y</code></a>. Also, <a href=\"https://stackoverflow.com/a/65544056/10819573\">never use <code>DateTimeFormatter</code> for custom formats without a Locale</a>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":17311738,"reputation":1,"user_id":12539147,"display_name":"Gunel Hasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691228324,"answer_count":1,"score":0,"last_activity_date":1691228488,"creation_date":1687458064,"question_id":76534703,"body_markdown":"I have a String List [Apr 1, 2019, Aug 1, 2020, Feb 20, 2018] which i need to convert to Date format in the same pattern. When Im doing it with SimpleDateFormat(&quot;MMM d, yyyy&quot;) pattern Im getting Thu Aug 01 00:00:00 EDT 2019 format. Tried with Joda DateTimeFormatter and same result.\r\nCan anyone please help to resolve?","title":"SimpleDateFormat(&quot;MMM d, yyyy&quot;) returns Weekday Month day 00:00:00 EDT year","body":"<p>I have a String List [Apr 1, 2019, Aug 1, 2020, Feb 20, 2018] which i need to convert to Date format in the same pattern. When Im doing it with SimpleDateFormat(&quot;MMM d, yyyy&quot;) pattern Im getting Thu Aug 01 00:00:00 EDT 2019 format. Tried with Joda DateTimeFormatter and same result.\nCan anyone please help to resolve?</p>\n"},{"tags":["java","maven-2","encoding","utf-8"],"comments":[{"owner":{"account_id":291800,"reputation":15905,"user_id":594183,"display_name":"esaj"},"score":0,"creation_date":1297704243,"post_id":4995057,"comment_id":5581642,"body_markdown":"Compiles just fine with my Eclipse, but that &#39;&#172;&#39; in the middle looks a bit weird, are you sure the problem is with &#39;&quot;&#39; and not &#39;&#172;&#39;? Have you tried saving the file with some other editor and making sure the encoding is UTF-8?","body":"Compiles just fine with my Eclipse, but that &#39;&#172;&#39; in the middle looks a bit weird, are you sure the problem is with &#39;&quot;&#39; and not &#39;&#172;&#39;? Have you tried saving the file with some other editor and making sure the encoding is UTF-8?"},{"owner":{"account_id":420818,"reputation":9689,"user_id":798719,"accept_rate":57,"display_name":"user798719"},"score":0,"creation_date":1364269042,"post_id":4995057,"comment_id":22172008,"body_markdown":"what I did was to open the file in question (hopefully you can deduce which file it&#39;s complaining about).  Then I just saved the file again (after writing a few random characters to register a change, then erased them).  Then after re-saving, I could compile.  I suppose re-saving saves the file in your OS&#39;s native way.","body":"what I did was to open the file in question (hopefully you can deduce which file it&#39;s complaining about).  Then I just saved the file again (after writing a few random characters to register a change, then erased them).  Then after re-saving, I could compile.  I suppose re-saving saves the file in your OS&#39;s native way."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297704467,"creation_date":1297703948,"answer_id":4995100,"question_id":4995057,"body_markdown":"The following compiles for me:\r\n\r\n    class E{\r\n       String s = &quot;^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~#;:?/@&amp;!\\&quot;&#39;%*=&#188;.,-])(?=[^\\\\s]+$).{8,24}$&quot;;\r\n    }\r\nSee: \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/wBDhW.png","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>The following compiles for me:</p>\n\n<pre><code>class E{\n   String s = \"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~#;:?/@&amp;!\\\"'%*=¼.,-])(?=[^\\\\s]+$).{8,24}$\";\n}\n</code></pre>\n\n<p>See: </p>\n\n<p><img src=\"https://i.stack.imgur.com/wBDhW.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1297704088,"creation_date":1297704088,"answer_id":4995119,"question_id":4995057,"body_markdown":"The Java compiler assumes that your input is UTF-8 encoded, either because you specified it to be or because it&#39;s your platform default encoding.\r\n\r\nHowever, the data in your `.java` files is not actually encoded in UTF-8. The problem is probably the `&#172;` character. Make sure your editor (or IDE) of choice actually safes its file in UTF-8 encoding.","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>The Java compiler assumes that your input is UTF-8 encoded, either because you specified it to be or because it's your platform default encoding.</p>\n\n<p>However, the data in your <code>.java</code> files is not actually encoded in UTF-8. The problem is probably the <code>¬</code> character. Make sure your editor (or IDE) of choice actually safes its file in UTF-8 encoding.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1297704159,"creation_date":1297704159,"answer_id":4995133,"question_id":4995057,"body_markdown":"The compiler is using the UTF-8 character encoding to read your source file. But the file must have been written by an editor using a different encoding. Open your file in an editor set to the UTF-8 encoding, fix the quote mark, and save it again.\r\n\r\nAlternatively, you can find the Unicode point for the character and use a Unicode escape in the source code. For example, the character `A` can be replaced with the Unicode escape `\\u0041`.\r\n\r\nBy the way, you don&#39;t need to use the begin- and end-line anchors `^` and `$` when using the `matches()` method. The entire sequence must be matched by the regular expression when using the `matches()` method. The anchors are only useful with the `find()` method.","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>The compiler is using the UTF-8 character encoding to read your source file. But the file must have been written by an editor using a different encoding. Open your file in an editor set to the UTF-8 encoding, fix the quote mark, and save it again.</p>\n\n<p>Alternatively, you can find the Unicode point for the character and use a Unicode escape in the source code. For example, the character <code>A</code> can be replaced with the Unicode escape <code>\\u0041</code>.</p>\n\n<p>By the way, you don't need to use the begin- and end-line anchors <code>^</code> and <code>$</code> when using the <code>matches()</code> method. The entire sequence must be matched by the regular expression when using the <code>matches()</code> method. The anchors are only useful with the <code>find()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1297713127,"creation_date":1297713127,"answer_id":4996583,"question_id":4995057,"body_markdown":"You have encoding problem with your sourcecode file. It is maybe ISO-8859-1 encoded, but the compiler was set to use UTF-8. This will results in errors when using characters, which will not have the same bytes representation in UTF-8 and ISO-8859-1. This will happen to all characters which are not part of ASCII, for example `&#172;` [NOT SIGN][1].\r\n\r\nYou can simulate this with the following program. It just uses your line of source code and generates a ISO-8859-1 byte array and decode this &quot;wrong&quot; with UTF-8 encoding. You can see at which position the line gets corrupted. I added 2 spaces at your source code to fit position 74 to fit this to `&#172;` [NOT SIGN][1], which is the only character, which will generate different bytes in ISO-8859-1 encoding and UTF-8 encoding. I guess this will match indentation with the real source file.\r\n\r\n\r\n     String reg = &quot;      String reg = \\&quot;^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~#;:?/@&amp;!\\&quot;&#39;%*=&#172;.,-])(?=[^\\\\s]+$).{8,24}$\\&quot;;&quot;;\r\n     String corrupt=new String(reg.getBytes(&quot;ISO-8859-1&quot;),&quot;UTF-8&quot;);\r\n     System.out.println(corrupt+&quot;: &quot;+corrupt.charAt(74));\r\n     System.out.println(reg+&quot;: &quot;+reg.charAt(74));     \r\n\r\n\r\nwhich results in the following output (messed up because of markup):\r\n\r\n&gt;String reg = &quot;^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~#;:?/@&amp;!&quot;&#39;%*=�.,-])(?=[^\\s]+$).{8,24}$&quot;;: �\r\n\r\n \r\n&gt;String reg = &quot;^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~#;:?/@&amp;!&quot;&#39;%*=&#172;.,-])(?=[^\\s]+$).{8,24}$&quot;;: &#172;\r\n\r\nSee &quot;live&quot; at https://ideone.com/ShZnB\r\n\r\n\r\nTo fix this, save the source files with UTF-8 encoding.\r\n\r\n\r\n  [1]: http://www.fileformat.info/info/unicode/char/00ac/index.htm","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>You have encoding problem with your sourcecode file. It is maybe ISO-8859-1 encoded, but the compiler was set to use UTF-8. This will results in errors when using characters, which will not have the same bytes representation in UTF-8 and ISO-8859-1. This will happen to all characters which are not part of ASCII, for example <code>¬</code> <a href=\"http://www.fileformat.info/info/unicode/char/00ac/index.htm\">NOT SIGN</a>.</p>\n\n<p>You can simulate this with the following program. It just uses your line of source code and generates a ISO-8859-1 byte array and decode this \"wrong\" with UTF-8 encoding. You can see at which position the line gets corrupted. I added 2 spaces at your source code to fit position 74 to fit this to <code>¬</code> <a href=\"http://www.fileformat.info/info/unicode/char/00ac/index.htm\">NOT SIGN</a>, which is the only character, which will generate different bytes in ISO-8859-1 encoding and UTF-8 encoding. I guess this will match indentation with the real source file.</p>\n\n<pre><code> String reg = \"      String reg = \\\"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~#;:?/@&amp;!\\\"'%*=¬.,-])(?=[^\\\\s]+$).{8,24}$\\\";\";\n String corrupt=new String(reg.getBytes(\"ISO-8859-1\"),\"UTF-8\");\n System.out.println(corrupt+\": \"+corrupt.charAt(74));\n System.out.println(reg+\": \"+reg.charAt(74));     \n</code></pre>\n\n<p>which results in the following output (messed up because of markup):</p>\n\n<blockquote>\n  <p>String reg = \"^(?=.<em>[0-9])(?=.</em>[a-z])(?=.<em>[A-Z])(?=.</em>[~#;:?/@&amp;!\"'%*=�.,-])(?=[^\\s]+$).{8,24}$\";: �</p>\n  \n  <p>String reg = \"^(?=.<em>[0-9])(?=.</em>[a-z])(?=.<em>[A-Z])(?=.</em>[~#;:?/@&amp;!\"'%*=¬.,-])(?=[^\\s]+$).{8,24}$\";: ¬</p>\n</blockquote>\n\n<p>See \"live\" at <a href=\"https://ideone.com/ShZnB\">https://ideone.com/ShZnB</a></p>\n\n<p>To fix this, save the source files with UTF-8 encoding.</p>\n"},{"tags":[],"owner":{"account_id":2790100,"reputation":11,"user_id":2400496,"display_name":"Ganesh R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369026059,"creation_date":1369026059,"answer_id":16642898,"question_id":4995057,"body_markdown":"&quot;error: unmappable character for encoding UTF-8&quot; means, java has found a character which is not representing in UTF-8. Hence open the file in an editor and set the character encoding to UTF-8. You should be able to find a  character which is not represented in UTF-8.Take off this character and recompile.","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>\"error: unmappable character for encoding UTF-8\" means, java has found a character which is not representing in UTF-8. Hence open the file in an editor and set the character encoding to UTF-8. You should be able to find a  character which is not represented in UTF-8.Take off this character and recompile.</p>\n"},{"tags":[],"owner":{"account_id":939294,"reputation":884,"user_id":967671,"display_name":"Steve Gelman"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1406643734,"creation_date":1406643734,"answer_id":25017732,"question_id":4995057,"body_markdown":"I&#39;m in the process of setting up a CI build server on a Linux box for a legacy system started in 2000.  There is a section that generates a PDF that contains non-UTF8 characters.  We are in the final steps of a release, so I cannot replace the characters giving me grief, yet for Dilbertesque reasons, I cannot wait a week to solve this issue after the release.  Fortunately, the &quot;javac&quot; command in Ant has an &quot;encoding&quot; parameter.\r\n\r\n     &lt;javac destdir=&quot;${classes.dir}&quot; classpathref=&quot;production-classpath&quot; debug=&quot;on&quot;\r\n         includeantruntime=&quot;false&quot; source=&quot;${java.level}&quot; target=&quot;${java.level}&quot;\r\n\r\n         encoding=&quot;iso-8859-1&quot;&gt;\r\n\r\n         &lt;src path=&quot;${production.dir}&quot; /&gt;\r\n     &lt;/javac&gt;\r\n","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>I'm in the process of setting up a CI build server on a Linux box for a legacy system started in 2000.  There is a section that generates a PDF that contains non-UTF8 characters.  We are in the final steps of a release, so I cannot replace the characters giving me grief, yet for Dilbertesque reasons, I cannot wait a week to solve this issue after the release.  Fortunately, the \"javac\" command in Ant has an \"encoding\" parameter.</p>\n\n<pre><code> &lt;javac destdir=\"${classes.dir}\" classpathref=\"production-classpath\" debug=\"on\"\n     includeantruntime=\"false\" source=\"${java.level}\" target=\"${java.level}\"\n\n     encoding=\"iso-8859-1\"&gt;\n\n     &lt;src path=\"${production.dir}\" /&gt;\n &lt;/javac&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5621562,"reputation":51,"user_id":4451224,"display_name":"john"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1568634108,"creation_date":1421188836,"answer_id":27932820,"question_id":4995057,"body_markdown":"In eclipse try to go to file properties (&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt;) and change the `Resource` &amp;rarr; &#39;`Text File encoding`&#39; &amp;rarr; `Other` to `UTF-8`. Reopen the file and check there will be junk character somewhere in the string/file. Remove it. Save the file.\r\n\r\nChange the encoding Resource &amp;rarr; &#39;`Text File encoding`&#39; back to Default.\r\n\r\nCompile and deploy the code.","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>In eclipse try to go to file properties (<kbd>Alt</kbd>+<kbd>Enter</kbd>) and change the <code>Resource</code> &rarr; '<code>Text File encoding</code>' &rarr; <code>Other</code> to <code>UTF-8</code>. Reopen the file and check there will be junk character somewhere in the string/file. Remove it. Save the file.</p>\n\n<p>Change the encoding Resource &rarr; '<code>Text File encoding</code>' back to Default.</p>\n\n<p>Compile and deploy the code.</p>\n"},{"tags":[],"owner":{"account_id":1005397,"reputation":9269,"user_id":1019307,"accept_rate":50,"display_name":"HankCa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434083052,"creation_date":1434083052,"answer_id":30795291,"question_id":4995057,"body_markdown":"Thanks Michael Konietzka (https://stackoverflow.com/a/4996583/1019307) for your answer.\r\n\r\nI did this in Eclipse / STS:\r\n\r\n    Preferences &gt; General &gt; Content Types &gt; Selected &quot;Text&quot; \r\n        (which contains all types such as CSS, Java Source Files, ...)\r\n    Added &quot;UTF-8&quot; to the default encoding box down the bottom and hit &#39;Add&#39;\r\n\r\nBingo, error gone!","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>Thanks Michael Konietzka (<a href=\"https://stackoverflow.com/a/4996583/1019307\">https://stackoverflow.com/a/4996583/1019307</a>) for your answer.</p>\n\n<p>I did this in Eclipse / STS:</p>\n\n<pre><code>Preferences &gt; General &gt; Content Types &gt; Selected \"Text\" \n    (which contains all types such as CSS, Java Source Files, ...)\nAdded \"UTF-8\" to the default encoding box down the bottom and hit 'Add'\n</code></pre>\n\n<p>Bingo, error gone!</p>\n"},{"tags":[],"owner":{"account_id":7311958,"reputation":11,"user_id":5570799,"display_name":"user5570799"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1447745161,"creation_date":1447745161,"answer_id":33751311,"question_id":4995057,"body_markdown":"I observed this issue while using Eclipse. I needed to add encoding in my pom.xml file and it resolved. http://ctrlaltsolve.blogspot.in/2015/11/encoding-properties-in-maven.html","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>I observed this issue while using Eclipse. I needed to add encoding in my pom.xml file and it resolved. <a href=\"http://ctrlaltsolve.blogspot.in/2015/11/encoding-properties-in-maven.html\" rel=\"nofollow\">http://ctrlaltsolve.blogspot.in/2015/11/encoding-properties-in-maven.html</a></p>\n"},{"tags":[],"owner":{"account_id":23695,"reputation":4225,"user_id":59561,"accept_rate":69,"display_name":"cwash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1457468725,"creation_date":1457468725,"answer_id":35877336,"question_id":4995057,"body_markdown":"For IntelliJ users, this is pretty easy once you find out what the original encoding was.  You can select the encoding from the bottom right corner of your Window, you will be prompted with a dialog box saying:\r\n\r\n&gt; The encoding you&#39;ve chosen (&#39;[encoding type]&#39;) may change the contents\r\n&gt; of &#39;[Your file]&#39;. Do you want to reload the file from disk or convert\r\n&gt; the text and save in the new encoding?\r\n\r\nSo if you happen to have a few characters saved in some odd encoding, what you should do is first select &#39;Reload&#39; to load the file all in the encoding of the bad characters.  For me this turned the ? characters into their proper value.\r\n\r\nIntelliJ can tell if you most likely did not pick the right encoding and will warn you.  Revert back and try again.\r\n\r\nOnce you can see the bad characters go away, change the encoding select box in the bottom right corner back to the format you originally intended (if you are Googling this error message, that will likely be UTF-8).  This time select the  &#39;Convert&#39; button on the dialog.\r\n\r\nFor me, I needed to reload as &#39;windows-1252&#39;, then convert back to &#39;UTF-8&#39;.  The offending characters were single quotes (‘ and ’) likely pasted in from a Word doc (or e-mail) with the wrong encoding, and the above actions will convert them to UTF-8.\r\n","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>For IntelliJ users, this is pretty easy once you find out what the original encoding was.  You can select the encoding from the bottom right corner of your Window, you will be prompted with a dialog box saying:</p>\n\n<blockquote>\n  <p>The encoding you've chosen ('[encoding type]') may change the contents\n  of '[Your file]'. Do you want to reload the file from disk or convert\n  the text and save in the new encoding?</p>\n</blockquote>\n\n<p>So if you happen to have a few characters saved in some odd encoding, what you should do is first select 'Reload' to load the file all in the encoding of the bad characters.  For me this turned the ? characters into their proper value.</p>\n\n<p>IntelliJ can tell if you most likely did not pick the right encoding and will warn you.  Revert back and try again.</p>\n\n<p>Once you can see the bad characters go away, change the encoding select box in the bottom right corner back to the format you originally intended (if you are Googling this error message, that will likely be UTF-8).  This time select the  'Convert' button on the dialog.</p>\n\n<p>For me, I needed to reload as 'windows-1252', then convert back to 'UTF-8'.  The offending characters were single quotes (‘ and ’) likely pasted in from a Word doc (or e-mail) with the wrong encoding, and the above actions will convert them to UTF-8.</p>\n"},{"tags":[],"owner":{"account_id":23598472,"reputation":9,"user_id":17635322,"display_name":"SonjaJan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653150031,"creation_date":1653052595,"answer_id":72319583,"question_id":4995057,"body_markdown":"I had the similar issue and I fix with the down corner of my IntelliJ.\r\n\r\nI changed it from `LF` to `CRLF`.\r\n\r\nHere is how it looks the down corner of the IntelliJ:\r\n\r\n![IntelliJ_image](https://i.stack.imgur.com/W2ucx.png)","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>I had the similar issue and I fix with the down corner of my IntelliJ.</p>\n<p>I changed it from <code>LF</code> to <code>CRLF</code>.</p>\n<p>Here is how it looks the down corner of the IntelliJ:</p>\n<p><img src=\"https://i.stack.imgur.com/W2ucx.png\" alt=\"IntelliJ_image\" /></p>\n"},{"tags":[],"owner":{"account_id":1608748,"reputation":1014,"user_id":1488274,"accept_rate":91,"display_name":"MJay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691227439,"creation_date":1691227439,"answer_id":76840963,"question_id":4995057,"body_markdown":"Just search for `“` character and change it to `&quot;`.","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>Just search for <code>“</code> character and change it to <code>&quot;</code>.</p>\n"}],"owner":{"account_id":59477,"reputation":7989,"user_id":177971,"accept_rate":44,"display_name":"Ravi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274409,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"answer_count":12,"score":79,"last_activity_date":1691227439,"creation_date":1297703743,"question_id":4995057,"body_markdown":"I&#39;m getting a compile error at the following method.\r\n\r\n    public static boolean isValidPasswd(String passwd) {\r\n        String reg = &quot;^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~#;:?/@&amp;!\\&quot;&#39;%*=&#172;.,-])(?=[^\\\\s]+$).{8,24}$&quot;;\r\n        return Pattern.matches(reg, passwd);\r\n    }\r\n\r\n&lt;pre&gt;\r\nat Utility.java:[76,74] unmappable character for \r\nenoding UTF-8. 74th character is&#39; &quot; &#39;\r\n&lt;/pre&gt;\r\n\r\nHow can I fix this? Thanks.\r\n","title":"&quot;Unmappable character for encoding UTF-8&quot; error","body":"<p>I'm getting a compile error at the following method.</p>\n\n<pre><code>public static boolean isValidPasswd(String passwd) {\n    String reg = \"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~#;:?/@&amp;!\\\"'%*=¬.,-])(?=[^\\\\s]+$).{8,24}$\";\n    return Pattern.matches(reg, passwd);\n}\n</code></pre>\n\n<pre>\nat Utility.java:[76,74] unmappable character for \nenoding UTF-8. 74th character is' \" '\n</pre>\n\n<p>How can I fix this? Thanks.</p>\n"},{"tags":["java","spring","resttemplate"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1691226041,"post_id":76840755,"comment_id":135465676,"body_markdown":"Probably Google Forms are protected by some mechanism (Recaptcha or similar) to prevent form submission by a &quot;bot&quot; (and here your program acts as a bot).","body":"Probably Google Forms are protected by some mechanism (Recaptcha or similar) to prevent form submission by a &quot;bot&quot; (and here your program acts as a bot)."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1691226997,"post_id":76840755,"comment_id":135465779,"body_markdown":"It looks like you want to send a WhatsApp message with the [VONAGE](https://vonage.com) API via some weird way (Google Form). If you want to do this, you should get a VONAGE account and use their API. But it&#39;s not free, Meta and VONAGE both want money for using WhatsApp (in a business environment, and they are focused on such customers)","body":"It looks like you want to send a WhatsApp message with the <a href=\"https://vonage.com\" rel=\"nofollow noreferrer\">VONAGE</a> API via some weird way (Google Form). If you want to do this, you should get a VONAGE account and use their API. But it&#39;s not free, Meta and VONAGE both want money for using WhatsApp (in a business environment, and they are focused on such customers)"},{"owner":{"account_id":6507730,"reputation":89,"user_id":5036095,"display_name":"umaid ashraf"},"score":0,"creation_date":1691244175,"post_id":76840755,"comment_id":135467358,"body_markdown":"@cyberbrain this form is not for sending WhatsApp message. It&#39;s for user account registration on Vonage platform.","body":"@cyberbrain this form is not for sending WhatsApp message. It&#39;s for user account registration on Vonage platform."},{"owner":{"account_id":6507730,"reputation":89,"user_id":5036095,"display_name":"umaid ashraf"},"score":0,"creation_date":1691244221,"post_id":76840755,"comment_id":135467364,"body_markdown":"@cyberbrain No protection, as it&#39;s working with Postman.","body":"@cyberbrain No protection, as it&#39;s working with Postman."}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691226574,"creation_date":1691226574,"answer_id":76840906,"question_id":76840755,"body_markdown":"The url fired from api and from browser is different.\r\n`Don&#39;t` word made the difference.\r\nIn browser `Don&#39;t` got converted to `Don%27t` removing special characters `&#39;` while mentioned url\r\n\r\n&gt; https://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/formResponse?submit=Submit&amp;entry.294840288=Both%20of%20the%20above&amp;entry.305369145=3326252240&amp;entry.365096862=38f794d8&amp;entry.400495561=tbc&amp;entry.631769330=South%20East%20Asia%20(SEA)&amp;entry.901955710=Umaid%20Ashraf&amp;entry.1208336345=up%20to%2010,000%20Messages%20/%20month&amp;entry.1259584144=umaidashraf0@gmail.com&amp;entry.1489275520=Devestem&amp;entry.1510504567=Pakistan%2092&amp;entry.1595895866=Devestem&amp;entry.1602423798=umaidashraf@gmail.com&amp;entry.1731935104=No&amp;entry.1807529240=Not%20sure&amp;entry.2012164249=Other/%20Don&#39;t%20know&amp;entry.292494179=&amp;entry.565847730=&amp;entry.1792374253=&amp;entry.166684008=121026849979786&amp;entry.1328375169=&amp;entry.1366161341=&amp;entry.1461623644=Hi%20David!%20Your%20Order%20is%20booked%20and%20it%20will%20be%20delivered%20in%20two%20days.%20Thanks%20for%20trusting%20us.&amp;entry.309718730=1000&amp;entry.1279938927=\r\n\r\ngot fired as is from code.\r\n","title":"Submit google form by API call using RestTemplate in Java is not working","body":"<p>The url fired from api and from browser is different.\n<code>Don't</code> word made the difference.\nIn browser <code>Don't</code> got converted to <code>Don%27t</code> removing special characters <code>'</code> while mentioned url</p>\n<blockquote>\n<p><a href=\"https://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/formResponse?submit=Submit&amp;entry.294840288=Both%20of%20the%20above&amp;entry.305369145=3326252240&amp;entry.365096862=38f794d8&amp;entry.400495561=tbc&amp;entry.631769330=South%20East%20Asia%20(SEA)&amp;entry.901955710=Umaid%20Ashraf&amp;entry.1208336345=up%20to%2010,000%20Messages%20/%20month&amp;entry.1259584144=umaidashraf0@gmail.com&amp;entry.1489275520=Devestem&amp;entry.1510504567=Pakistan%2092&amp;entry.1595895866=Devestem&amp;entry.1602423798=umaidashraf@gmail.com&amp;entry.1731935104=No&amp;entry.1807529240=Not%20sure&amp;entry.2012164249=Other/%20Don%27t%20know&amp;entry.292494179=&amp;entry.565847730=&amp;entry.1792374253=&amp;entry.166684008=121026849979786&amp;entry.1328375169=&amp;entry.1366161341=&amp;entry.1461623644=Hi%20David!%20Your%20Order%20is%20booked%20and%20it%20will%20be%20delivered%20in%20two%20days.%20Thanks%20for%20trusting%20us.&amp;entry.309718730=1000&amp;entry.1279938927=\" rel=\"nofollow noreferrer\">https://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/formResponse?submit=Submit&amp;entry.294840288=Both%20of%20the%20above&amp;entry.305369145=3326252240&amp;entry.365096862=38f794d8&amp;entry.400495561=tbc&amp;entry.631769330=South%20East%20Asia%20(SEA)&amp;entry.901955710=Umaid%20Ashraf&amp;entry.1208336345=up%20to%2010,000%20Messages%20/%20month&amp;entry.1259584144=umaidashraf0@gmail.com&amp;entry.1489275520=Devestem&amp;entry.1510504567=Pakistan%2092&amp;entry.1595895866=Devestem&amp;entry.1602423798=umaidashraf@gmail.com&amp;entry.1731935104=No&amp;entry.1807529240=Not%20sure&amp;entry.2012164249=Other/%20Don't%20know&amp;entry.292494179=&amp;entry.565847730=&amp;entry.1792374253=&amp;entry.166684008=121026849979786&amp;entry.1328375169=&amp;entry.1366161341=&amp;entry.1461623644=Hi%20David!%20Your%20Order%20is%20booked%20and%20it%20will%20be%20delivered%20in%20two%20days.%20Thanks%20for%20trusting%20us.&amp;entry.309718730=1000&amp;entry.1279938927=</a></p>\n</blockquote>\n<p>got fired as is from code.</p>\n"}],"owner":{"account_id":6507730,"reputation":89,"user_id":5036095,"display_name":"umaid ashraf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691226574,"creation_date":1691224006,"question_id":76840755,"body_markdown":"I have to submit [this][1] Google form whenever new signup is performed on my application, so I have used `RestTemplate` in Java Spring Boot to send API request and populate all form data as query params. These query params worked for plan text, but for dropdown selection these are not working properly and I get 400 bad request.\r\n\r\nAnd the strange thing is, I debug the code and copy the generated URL from `RestTemplate` API call and paste same URL in browser or Postman, and it&#39;s 100% working.\r\n\r\nCan anyone look into my code and generated URLR and identify what I&#39;m doing wrong in the code?\r\n\r\nHere is my code:\r\n```\r\nprivate static final String GOOGLE_FORM_URL_V2 = &quot;https://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/formResponse&quot;;\r\n\r\n\r\npublic Boolean submitGoogleFormV2(UserDto userDto) {\r\n        String sampleWhatsappMessage = &quot;Hi David! Your Order is booked and it will be delivered in two days. Thanks for trusting us.&quot;;\r\n        String country = new Locale(&quot;en&quot;, PhoneNumberUtil.getInstance().getRegionCodeForCountryCode(userDto.getCountryCode())).getDisplayCountry();\r\n\r\n        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(GOOGLE_FORM_URL_V2)\r\n                .queryParam(&quot;submit&quot;, &quot;Submit&quot;)\r\n                .queryParam(&quot;entry.294840288&quot;, &quot;Both of the above&quot;) // What type of messages will you be sending with WhatsApp?\r\n                .queryParam(&quot;entry.305369145&quot;, userDto.getPhoneNumber()) // phone number\r\n                .queryParam(&quot;entry.365096862&quot;, vonageApiProperties.getMasterKey()) // Vonage API Key\r\n                // TODO: Generate new api key for this whatsapp number\r\n                .queryParam(&quot;entry.400495561&quot;, &quot;tbc&quot;) // Vonage API key for WhatsApp Traffic\r\n                .queryParam(&quot;entry.631769330&quot;, userDto.getRegion().getText()) // Your Region\r\n                .queryParam(&quot;entry.901955710&quot;, userDto.getFirstName() + &quot; &quot; + userDto.getLastName()) // Your Name\r\n                .queryParam(&quot;entry.1208336345&quot;, &quot;up to 10,000 Messages / month&quot;) // Estimated monthly messages volume\r\n                .queryParam(&quot;entry.1259584144&quot;, userDto.getEmail()) // Your Email Address\r\n                .queryParam(&quot;entry.1489275520&quot;, userDto.getBrandName()) // Brand Name\r\n                .queryParam(&quot;entry.1510504567&quot;, country + &quot; &quot; + userDto.getCountryCode().toString()) // Phone number&#39;s country code\r\n                .queryParam(&quot;entry.1595895866&quot;, userDto.getCompanyName()) // Company Name\r\n                .queryParam(&quot;entry.1602423798&quot;, userDto.getEmail()) // Email address(s) to be added to the WhatsApp Manager\r\n                .queryParam(&quot;entry.1731935104&quot;, &quot;No&quot;) // Is your chosen WhatsApp phone number a Vonage long virtual number (LVN)?\r\n                .queryParam(&quot;entry.1807529240&quot;, &quot;Not sure&quot;) // Estimated peak messages per second: indicate daily, weekly, or monthly.\r\n                .queryParam(&quot;entry.2012164249&quot;, &quot;Other/ Don&#39;t know&quot;) // What is your business vertical?\r\n                .queryParam(&quot;entry.292494179&quot;, &quot;&quot;) // Partner Name\r\n                .queryParam(&quot;entry.565847730&quot;, &quot;&quot;) // Other Email Addresses to be CC&#39;d\r\n                .queryParam(&quot;entry.1792374253&quot;, &quot;&quot;) // Vonage Account Manager&#39;s email address\r\n                .queryParam(&quot;entry.166684008&quot;, userDto.getFbBusinessManagerId()) // Company Facebook Business Manager ID\r\n                .queryParam(&quot;entry.1328375169&quot;, &quot;&quot;) // Company Facebook URL\r\n                .queryParam(&quot;entry.1366161341&quot;, &quot;&quot;) // Company website\r\n                .queryParam(&quot;entry.1461623644&quot;, sampleWhatsappMessage) // Please provide example message(s) you would be sending over WhatsApp\r\n                .queryParam(&quot;entry.309718730&quot;, &quot;1000&quot;) // What is your expected monthly spend on this project?\r\n                .queryParam(&quot;entry.1279938927&quot;, &quot;&quot;); // Any Additional Notes\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(&quot;Accept&quot;, &quot;*/*&quot;);\r\n        headers.set(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n        HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n\r\n        try {\r\n            ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(builder.toUriString(), entity, String.class);\r\n            log.info(&quot;Successfully sent google from to Vonage. Response: {}&quot;, response.getBody());\r\n            return true;\r\n\r\n        } catch (Exception e) {\r\n            log.error(&quot;Unable to send google form to vonage. Error: {}&quot;, e.getMessage());\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nHere is the generated URL:\r\n\r\n```\r\nhttps://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/formResponse?submit=Submit&amp;entry.294840288=Both%20of%20the%20above&amp;entry.305369145=3326252240&amp;entry.365096862=38f794d8&amp;entry.400495561=tbc&amp;entry.631769330=South%20East%20Asia%20(SEA)&amp;entry.901955710=Umaid%20Ashraf&amp;entry.1208336345=up%20to%2010,000%20Messages%20/%20month&amp;entry.1259584144=umaidashraf0@gmail.com&amp;entry.1489275520=Devestem&amp;entry.1510504567=Pakistan%2092&amp;entry.1595895866=Devestem&amp;entry.1602423798=umaidashraf@gmail.com&amp;entry.1731935104=No&amp;entry.1807529240=Not%20sure&amp;entry.2012164249=Other/%20Don&#39;t%20know&amp;entry.292494179=&amp;entry.565847730=&amp;entry.1792374253=&amp;entry.166684008=121026849979786&amp;entry.1328375169=&amp;entry.1366161341=&amp;entry.1461623644=Hi%20David!%20Your%20Order%20is%20booked%20and%20it%20will%20be%20delivered%20in%20two%20days.%20Thanks%20for%20trusting%20us.&amp;entry.309718730=1000&amp;entry.1279938927=\r\n```\r\n\r\n\r\n  [1]: https://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/viewform","title":"Submit google form by API call using RestTemplate in Java is not working","body":"<p>I have to submit <a href=\"https://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/viewform\" rel=\"nofollow noreferrer\">this</a> Google form whenever new signup is performed on my application, so I have used <code>RestTemplate</code> in Java Spring Boot to send API request and populate all form data as query params. These query params worked for plan text, but for dropdown selection these are not working properly and I get 400 bad request.</p>\n<p>And the strange thing is, I debug the code and copy the generated URL from <code>RestTemplate</code> API call and paste same URL in browser or Postman, and it's 100% working.</p>\n<p>Can anyone look into my code and generated URLR and identify what I'm doing wrong in the code?</p>\n<p>Here is my code:</p>\n<pre><code>private static final String GOOGLE_FORM_URL_V2 = &quot;https://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/formResponse&quot;;\n\n\npublic Boolean submitGoogleFormV2(UserDto userDto) {\n        String sampleWhatsappMessage = &quot;Hi David! Your Order is booked and it will be delivered in two days. Thanks for trusting us.&quot;;\n        String country = new Locale(&quot;en&quot;, PhoneNumberUtil.getInstance().getRegionCodeForCountryCode(userDto.getCountryCode())).getDisplayCountry();\n\n        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(GOOGLE_FORM_URL_V2)\n                .queryParam(&quot;submit&quot;, &quot;Submit&quot;)\n                .queryParam(&quot;entry.294840288&quot;, &quot;Both of the above&quot;) // What type of messages will you be sending with WhatsApp?\n                .queryParam(&quot;entry.305369145&quot;, userDto.getPhoneNumber()) // phone number\n                .queryParam(&quot;entry.365096862&quot;, vonageApiProperties.getMasterKey()) // Vonage API Key\n                // TODO: Generate new api key for this whatsapp number\n                .queryParam(&quot;entry.400495561&quot;, &quot;tbc&quot;) // Vonage API key for WhatsApp Traffic\n                .queryParam(&quot;entry.631769330&quot;, userDto.getRegion().getText()) // Your Region\n                .queryParam(&quot;entry.901955710&quot;, userDto.getFirstName() + &quot; &quot; + userDto.getLastName()) // Your Name\n                .queryParam(&quot;entry.1208336345&quot;, &quot;up to 10,000 Messages / month&quot;) // Estimated monthly messages volume\n                .queryParam(&quot;entry.1259584144&quot;, userDto.getEmail()) // Your Email Address\n                .queryParam(&quot;entry.1489275520&quot;, userDto.getBrandName()) // Brand Name\n                .queryParam(&quot;entry.1510504567&quot;, country + &quot; &quot; + userDto.getCountryCode().toString()) // Phone number's country code\n                .queryParam(&quot;entry.1595895866&quot;, userDto.getCompanyName()) // Company Name\n                .queryParam(&quot;entry.1602423798&quot;, userDto.getEmail()) // Email address(s) to be added to the WhatsApp Manager\n                .queryParam(&quot;entry.1731935104&quot;, &quot;No&quot;) // Is your chosen WhatsApp phone number a Vonage long virtual number (LVN)?\n                .queryParam(&quot;entry.1807529240&quot;, &quot;Not sure&quot;) // Estimated peak messages per second: indicate daily, weekly, or monthly.\n                .queryParam(&quot;entry.2012164249&quot;, &quot;Other/ Don't know&quot;) // What is your business vertical?\n                .queryParam(&quot;entry.292494179&quot;, &quot;&quot;) // Partner Name\n                .queryParam(&quot;entry.565847730&quot;, &quot;&quot;) // Other Email Addresses to be CC'd\n                .queryParam(&quot;entry.1792374253&quot;, &quot;&quot;) // Vonage Account Manager's email address\n                .queryParam(&quot;entry.166684008&quot;, userDto.getFbBusinessManagerId()) // Company Facebook Business Manager ID\n                .queryParam(&quot;entry.1328375169&quot;, &quot;&quot;) // Company Facebook URL\n                .queryParam(&quot;entry.1366161341&quot;, &quot;&quot;) // Company website\n                .queryParam(&quot;entry.1461623644&quot;, sampleWhatsappMessage) // Please provide example message(s) you would be sending over WhatsApp\n                .queryParam(&quot;entry.309718730&quot;, &quot;1000&quot;) // What is your expected monthly spend on this project?\n                .queryParam(&quot;entry.1279938927&quot;, &quot;&quot;); // Any Additional Notes\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.set(&quot;Accept&quot;, &quot;*/*&quot;);\n        headers.set(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\n        HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\n\n        try {\n            ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(builder.toUriString(), entity, String.class);\n            log.info(&quot;Successfully sent google from to Vonage. Response: {}&quot;, response.getBody());\n            return true;\n\n        } catch (Exception e) {\n            log.error(&quot;Unable to send google form to vonage. Error: {}&quot;, e.getMessage());\n            return false;\n        }\n    }\n</code></pre>\n<p>Here is the generated URL:</p>\n<pre><code>https://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/formResponse?submit=Submit&amp;entry.294840288=Both%20of%20the%20above&amp;entry.305369145=3326252240&amp;entry.365096862=38f794d8&amp;entry.400495561=tbc&amp;entry.631769330=South%20East%20Asia%20(SEA)&amp;entry.901955710=Umaid%20Ashraf&amp;entry.1208336345=up%20to%2010,000%20Messages%20/%20month&amp;entry.1259584144=umaidashraf0@gmail.com&amp;entry.1489275520=Devestem&amp;entry.1510504567=Pakistan%2092&amp;entry.1595895866=Devestem&amp;entry.1602423798=umaidashraf@gmail.com&amp;entry.1731935104=No&amp;entry.1807529240=Not%20sure&amp;entry.2012164249=Other/%20Don't%20know&amp;entry.292494179=&amp;entry.565847730=&amp;entry.1792374253=&amp;entry.166684008=121026849979786&amp;entry.1328375169=&amp;entry.1366161341=&amp;entry.1461623644=Hi%20David!%20Your%20Order%20is%20booked%20and%20it%20will%20be%20delivered%20in%20two%20days.%20Thanks%20for%20trusting%20us.&amp;entry.309718730=1000&amp;entry.1279938927=\n</code></pre>\n"},{"tags":["java","spring-boot","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1691050503,"post_id":76814206,"comment_id":135439759,"body_markdown":"What exactly is your question?","body":"What exactly is your question?"},{"owner":{"account_id":19281493,"reputation":36,"user_id":14093402,"display_name":"Shahrukh Ali"},"score":0,"creation_date":1691176709,"post_id":76814206,"comment_id":135461810,"body_markdown":"My question is as per the configuration of circuit breaker transition from CLOSED state to OPEN state should happen after the minimum number of calls have been reached and the it should evaluate the failure. Is my understanding correct? If not can you please explain how the transition should happen from CLOSED state to OPEN state based on the above configuration.","body":"My question is as per the configuration of circuit breaker transition from CLOSED state to OPEN state should happen after the minimum number of calls have been reached and the it should evaluate the failure. Is my understanding correct? If not can you please explain how the transition should happen from CLOSED state to OPEN state based on the above configuration."}],"answers":[{"tags":[],"owner":{"account_id":26105575,"reputation":56,"user_id":19800332,"display_name":"butterCup"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691226415,"creation_date":1691012511,"answer_id":76823708,"question_id":76814206,"body_markdown":"1. When the circuit breaker in `CLOSED` state, if any call fails the circuit breaker counts the failure and if the failure Threshold exceeds the given threshold, it transitions to `OPEN`. \r\n\r\na)The given failure Threshold in your configuration is 70 (when the external/remote service is considered unavailable)\r\n\r\n- So if 2 out 3 service calls fails, 70 Threshold is reached it changes to `OPEN`. \r\n- And if 7 out of 10 calls fails , the circuit breaker trips and transitions to `OPEN` state.\r\n\r\nIf transition to `OPEN` should be made only if 10 out 10 calls fail, threshold should be 100.\r\n\r\nb)The given slow RATE threshold in your configuration is 75(when the external/ remote service is considered slow)\r\n\r\n -slow call DURATION threshold (10 secs)is the amount of time a service is allowed to take to respond to the request call.\r\n - if 10 out of 3 calls can be slow , the CB will trip for slow RATE threshold 75\r\n - it is also possible that slow call DURATION threshold being reached, even if the slow call RATE threshold is not exceeded ,it can go to OPEN. If the external API is slow to respond it could cause your service to have slow calls and even if the slow RATE threshold is not being exceeded (75),if the slow call DURATION threshold (10 secs in your configuration)is reached it goes to OPEN.\r\n\r\n2. When CB in OPEN state,it prevents calls to the external service, and returns error which goes to fallback method. It stays in `OPEN` state for the configured time (180 seconds in yours) then changes to `HALF OPEN`","title":"Circuit Breaker is going to OPEN state from CLOSED before the minimum number of calls","body":"<ol>\n<li>When the circuit breaker in <code>CLOSED</code> state, if any call fails the circuit breaker counts the failure and if the failure Threshold exceeds the given threshold, it transitions to <code>OPEN</code>.</li>\n</ol>\n<p>a)The given failure Threshold in your configuration is 70 (when the external/remote service is considered unavailable)</p>\n<ul>\n<li>So if 2 out 3 service calls fails, 70 Threshold is reached it changes to <code>OPEN</code>.</li>\n<li>And if 7 out of 10 calls fails , the circuit breaker trips and transitions to <code>OPEN</code> state.</li>\n</ul>\n<p>If transition to <code>OPEN</code> should be made only if 10 out 10 calls fail, threshold should be 100.</p>\n<p>b)The given slow RATE threshold in your configuration is 75(when the external/ remote service is considered slow)</p>\n<p>-slow call DURATION threshold (10 secs)is the amount of time a service is allowed to take to respond to the request call.</p>\n<ul>\n<li>if 10 out of 3 calls can be slow , the CB will trip for slow RATE threshold 75</li>\n<li>it is also possible that slow call DURATION threshold being reached, even if the slow call RATE threshold is not exceeded ,it can go to OPEN. If the external API is slow to respond it could cause your service to have slow calls and even if the slow RATE threshold is not being exceeded (75),if the slow call DURATION threshold (10 secs in your configuration)is reached it goes to OPEN.</li>\n</ul>\n<ol start=\"2\">\n<li>When CB in OPEN state,it prevents calls to the external service, and returns error which goes to fallback method. It stays in <code>OPEN</code> state for the configured time (180 seconds in yours) then changes to <code>HALF OPEN</code></li>\n</ol>\n"}],"owner":{"account_id":19281493,"reputation":36,"user_id":14093402,"display_name":"Shahrukh Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691226415,"creation_date":1690913184,"question_id":76814206,"body_markdown":"I have the following config set for the circuit breaker\r\n```\r\nprivate CircuitBreakerConfig loadCircuitBreakerConfig() {\r\n\r\n    CircuitBreakerConfig config = CircuitBreakerConfig.custom()\r\n    .waitDurationInOpenState(Duration.ofSeconds(180))\r\n    .permittedNumberOfCallsInHalfOpenState(2)\r\n    .failureRateThreshold(70)\r\n    .slowCallRateThreshold(75)\r\n    .slowCallDurationThreshold(Duration.ofMillis(10000))\r\n    .slidingWindowSize(10)\r\n    .slidingWindowType(&quot;COUNT_BASED&quot;)\r\n    .minimumNumberOfCalls(3) // Tried with 10 also\r\n    .build();\r\n    \r\n    return config;\r\n}\r\n```\r\nI am creating the instance of circuit breaker as \r\n```\r\ncircuitBreaker = CircuitBreaker.of(&quot;CircuitBreakerDemo&quot;, loadCircuitBreakerConfig());\r\n```\r\nDependency added \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;resilience4j-circuitbreaker&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nWith the minimum number of calls as 3, circuit is getting `OPEN` from `CLOSED` state after 2 failure only and if the minimum number of calls are 10 then circuit is getting `OPEN` after 5 failure. The next subsequent request are directly going in fallback scenario.\r\nI tried with different configurations but still unable to determine what is going wrong.\r\n\r\n\r\nAs per my understanding circuit breaker will evaluate after 3 or 10 requests have been made.","title":"Circuit Breaker is going to OPEN state from CLOSED before the minimum number of calls","body":"<p>I have the following config set for the circuit breaker</p>\n<pre><code>private CircuitBreakerConfig loadCircuitBreakerConfig() {\n\n    CircuitBreakerConfig config = CircuitBreakerConfig.custom()\n    .waitDurationInOpenState(Duration.ofSeconds(180))\n    .permittedNumberOfCallsInHalfOpenState(2)\n    .failureRateThreshold(70)\n    .slowCallRateThreshold(75)\n    .slowCallDurationThreshold(Duration.ofMillis(10000))\n    .slidingWindowSize(10)\n    .slidingWindowType(&quot;COUNT_BASED&quot;)\n    .minimumNumberOfCalls(3) // Tried with 10 also\n    .build();\n    \n    return config;\n}\n</code></pre>\n<p>I am creating the instance of circuit breaker as</p>\n<pre><code>circuitBreaker = CircuitBreaker.of(&quot;CircuitBreakerDemo&quot;, loadCircuitBreakerConfig());\n</code></pre>\n<p>Dependency added</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n    &lt;artifactId&gt;resilience4j-circuitbreaker&lt;/artifactId&gt;\n    &lt;version&gt;1.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>With the minimum number of calls as 3, circuit is getting <code>OPEN</code> from <code>CLOSED</code> state after 2 failure only and if the minimum number of calls are 10 then circuit is getting <code>OPEN</code> after 5 failure. The next subsequent request are directly going in fallback scenario.\nI tried with different configurations but still unable to determine what is going wrong.</p>\n<p>As per my understanding circuit breaker will evaluate after 3 or 10 requests have been made.</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1690875205,"creation_date":1690875205,"answer_id":76809415,"question_id":76809281,"body_markdown":"Yes, having constructors with multiple parameters is a consequence of DI. It&#39;s a good thing, because you can then create those objects outside of DI (such as in tests) without running into problems such as uninitialized fields.\r\n\r\nHowever, calling those constructors manually *in your production code* is not good. You shouldn&#39;t need that `@Bean` method at all, just annotate the `Syncer` class so that Spring can `@Autowire` it for you where you need it. \r\n\r\nAlso consider that if you need *that many* dependencies, maybe your class is doing too much. See if you can split up its responsibilities into different classes.","title":"Dependency injection - how to improve constructor with many arguments","body":"<p>Yes, having constructors with multiple parameters is a consequence of DI. It's a good thing, because you can then create those objects outside of DI (such as in tests) without running into problems such as uninitialized fields.</p>\n<p>However, calling those constructors manually <em>in your production code</em> is not good. You shouldn't need that <code>@Bean</code> method at all, just annotate the <code>Syncer</code> class so that Spring can <code>@Autowire</code> it for you where you need it.</p>\n<p>Also consider that if you need <em>that many</em> dependencies, maybe your class is doing too much. See if you can split up its responsibilities into different classes.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690879164,"creation_date":1690879164,"answer_id":76809883,"question_id":76809281,"body_markdown":"In addition to the answer by Jorn. You can use `Lombok` annotation `@RequiredArgsConstructor` to reduce boilerplate code. It will generate the constructor with all fields declared as final or annotated with `@NonNull`.\r\n\r\nExample based on your code:\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class Syncer {\r\n\r\n    private final SatBackendApplication.AppParamService appParamService;\r\n    private final CustomerRepository customerRepository;\r\n    private final AddressRepository addressRepository;\r\n// ...\r\n}\r\n```\r\nPlease note: if you need more then one constructor then you must add following attribute:\r\n```\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n```","title":"Dependency injection - how to improve constructor with many arguments","body":"<p>In addition to the answer by Jorn. You can use <code>Lombok</code> annotation <code>@RequiredArgsConstructor</code> to reduce boilerplate code. It will generate the constructor with all fields declared as final or annotated with <code>@NonNull</code>.</p>\n<p>Example based on your code:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class Syncer {\n\n    private final SatBackendApplication.AppParamService appParamService;\n    private final CustomerRepository customerRepository;\n    private final AddressRepository addressRepository;\n// ...\n}\n</code></pre>\n<p>Please note: if you need more then one constructor then you must add following attribute:</p>\n<pre><code>@RequiredArgsConstructor(onConstructor = @__(@Autowired))\n</code></pre>\n"}],"owner":{"account_id":1713076,"reputation":5244,"user_id":1570711,"accept_rate":44,"display_name":"Claudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76809415,"answer_count":2,"score":1,"last_activity_date":1691225176,"creation_date":1690874126,"question_id":76809281,"body_markdown":"I&#39;m new to Spring and recently noticed that using `@Autowired` in class fields is discouraged. Instead, the use of constructors is recommended for dependency injection (DI).\r\n\r\nThe problem is that I have defined a bean that requires access to many repositories. Originally, the bean had several autowired fields holding a reference to these repositories, but now I just removed the `@Autowired` annotation and used the constructor to initialize them. The result is a constructor with many arguments that will probably grow in the future as long as I create more repositories/services:\r\n\r\n```java\r\n@Bean\r\npublic Syncer syncer(SatBackendApplication.AppParamService appParamService,\r\n                     CustomerRepository customerRepository,\r\n                     AddressRepository addressRepository,\r\n                     ContactPersonRepository contactPersonRepository,\r\n                     CustomerContractRepository customerContractRepository,\r\n                     ProductRepository productRepository,\r\n                     OrderRepository orderRepository,\r\n                     OrderRepository.OrderLineRepository orderLineRepository\r\n                     ) {\r\n    return new Syncer(\r\n            appParamService,\r\n            customerRepository,\r\n            addressRepository,\r\n            contactPersonRepository,\r\n            customerContractRepository,\r\n            productRepository,\r\n            orderRepository,\r\n            orderLineRepository);\r\n}\r\n```\r\n\r\nIs this the right way to inject dependencies to a bean? Is there any alternative solution with less code?\r\n\r\n\r\n","title":"Dependency injection - how to improve constructor with many arguments","body":"<p>I'm new to Spring and recently noticed that using <code>@Autowired</code> in class fields is discouraged. Instead, the use of constructors is recommended for dependency injection (DI).</p>\n<p>The problem is that I have defined a bean that requires access to many repositories. Originally, the bean had several autowired fields holding a reference to these repositories, but now I just removed the <code>@Autowired</code> annotation and used the constructor to initialize them. The result is a constructor with many arguments that will probably grow in the future as long as I create more repositories/services:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Syncer syncer(SatBackendApplication.AppParamService appParamService,\n                     CustomerRepository customerRepository,\n                     AddressRepository addressRepository,\n                     ContactPersonRepository contactPersonRepository,\n                     CustomerContractRepository customerContractRepository,\n                     ProductRepository productRepository,\n                     OrderRepository orderRepository,\n                     OrderRepository.OrderLineRepository orderLineRepository\n                     ) {\n    return new Syncer(\n            appParamService,\n            customerRepository,\n            addressRepository,\n            contactPersonRepository,\n            customerContractRepository,\n            productRepository,\n            orderRepository,\n            orderLineRepository);\n}\n</code></pre>\n<p>Is this the right way to inject dependencies to a bean? Is there any alternative solution with less code?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1691222024,"post_id":76837166,"comment_id":135465352,"body_markdown":"How do you pass a locale into the backend? Does the fronted do this, or are you referring to the HTTP header `Accept-Language`","body":"How do you pass a locale into the backend? Does the fronted do this, or are you referring to the HTTP header <code>Accept-Language</code>"},{"owner":{"account_id":12785520,"reputation":178,"user_id":11672197,"display_name":"qarabala"},"score":0,"creation_date":1691224124,"post_id":76837166,"comment_id":135465506,"body_markdown":"I am referring to HTTP header, Spring Boot default way of handling locale.","body":"I am referring to HTTP header, Spring Boot default way of handling locale."}],"answers":[{"tags":[],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691165877,"creation_date":1691165877,"answer_id":76837641,"question_id":76837166,"body_markdown":"You can retrieve the currently stored Locale like this:\r\n\r\n```java\r\nLocale locale = LocaleContextHolder.getLocale();\r\nlocaleResolver.setDefaultLocale(locale);\r\n```\r\n\r\nA good way, if cookies are allowed, would be to implement it like that:\r\n\r\n```java\r\n@Bean\r\npublic LocaleResolver localeResolver() {\r\n\r\n    CookieLocaleResolver localeResolver = new CookieLocaleResolver(&quot;BALLROOM_LANGUAGE&quot;);\r\n\r\n    Locale locale = LocaleContextHolder.getLocale();\r\n    localeResolver.setDefaultLocale(locale);\r\n\r\n    return localeResolver;\r\n}\r\n```\r\n\r\nThere is no need to check whether the automatically requested clients language is in your list, since it would always fallback to your default message implementation (which in your case would be english).\r\n\r\nOne way to let the user change the locale manually (what should always be possible) would be a custom LocaleController:\r\n\r\n```java\r\n@Controller\r\n@RequestMapping(&quot;/locale&quot;)\r\npublic class LocaleController {\r\n\r\n    @PostMapping(path = {&quot;&quot;, &quot;/&quot;}, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n    public String locale(@RequestParam(&quot;locale&quot;) String locale,\r\n                         HttpServletRequest request,\r\n                         HttpServletResponse response) {\r\n\r\n        if (locale != null &amp;&amp; !locale.isBlank()) {\r\n            LocaleResolver localeResolver = RequestContextUtils.getLocaleResolver(request);\r\n            if (localeResolver == null)\r\n                throw new IllegalStateException(&quot;No LocaleResolver found&quot;);\r\n\r\n            try {\r\n                localeResolver.setLocale(request, response, StringUtils.parseLocale(locale));\r\n            } catch (IllegalArgumentException e) {\r\n                logger.debug(&quot;Ignoring invalid locale value [{}]: {}&quot;, locale, e.getMessage());\r\n            }\r\n        }\r\n\r\n        String referer = request.getHeader(&quot;referer&quot;);\r\n        return referer != null &amp;&amp; !referer.isBlank() ? &quot;redirect:&quot; + referer : &quot;redirect:/&quot;;\r\n    }\r\n}\r\n```\r\n\r\nYou would simply send a post request containing the desired locale as String in form of e.g. `en_US`.\r\n","title":"Checking whether client locale is in the list of supported languages","body":"<p>You can retrieve the currently stored Locale like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale locale = LocaleContextHolder.getLocale();\nlocaleResolver.setDefaultLocale(locale);\n</code></pre>\n<p>A good way, if cookies are allowed, would be to implement it like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic LocaleResolver localeResolver() {\n\n    CookieLocaleResolver localeResolver = new CookieLocaleResolver(&quot;BALLROOM_LANGUAGE&quot;);\n\n    Locale locale = LocaleContextHolder.getLocale();\n    localeResolver.setDefaultLocale(locale);\n\n    return localeResolver;\n}\n</code></pre>\n<p>There is no need to check whether the automatically requested clients language is in your list, since it would always fallback to your default message implementation (which in your case would be english).</p>\n<p>One way to let the user change the locale manually (what should always be possible) would be a custom LocaleController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/locale&quot;)\npublic class LocaleController {\n\n    @PostMapping(path = {&quot;&quot;, &quot;/&quot;}, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\n    public String locale(@RequestParam(&quot;locale&quot;) String locale,\n                         HttpServletRequest request,\n                         HttpServletResponse response) {\n\n        if (locale != null &amp;&amp; !locale.isBlank()) {\n            LocaleResolver localeResolver = RequestContextUtils.getLocaleResolver(request);\n            if (localeResolver == null)\n                throw new IllegalStateException(&quot;No LocaleResolver found&quot;);\n\n            try {\n                localeResolver.setLocale(request, response, StringUtils.parseLocale(locale));\n            } catch (IllegalArgumentException e) {\n                logger.debug(&quot;Ignoring invalid locale value [{}]: {}&quot;, locale, e.getMessage());\n            }\n        }\n\n        String referer = request.getHeader(&quot;referer&quot;);\n        return referer != null &amp;&amp; !referer.isBlank() ? &quot;redirect:&quot; + referer : &quot;redirect:/&quot;;\n    }\n}\n</code></pre>\n<p>You would simply send a post request containing the desired locale as String in form of e.g. <code>en_US</code>.</p>\n"},{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691224910,"creation_date":1691224910,"answer_id":76840815,"question_id":76837166,"body_markdown":"If you want to change the locale depending on the HTTP header `Accept-Language` you need to use `AcceptHeaderLocaleResolver`, for example:\r\n\r\n    @Bean\r\n    public LocaleResolver localeResolver() {\r\n        var resolver = new AcceptHeaderLocaleResolver();\r\n        resolver.setDefaultLocale(Locale.ENGLISH);\r\n        resolver.setSupportedLocales(\r\n                List.of(Locale.ENGLISH,\r\n                        Locale.FRENCH,\r\n                        Locale.of(&quot;es&quot;))\r\n        );\r\n\r\n        return resolver;\r\n    }\r\n\r\nIt&#39;s easy to set up and I guess that&#39;s exatly what you want.\r\n\r\nThe next step is to get exatly the locale that is defined using `AcceptHeaderLocaleResolver` and use it, for example, to get a message from the message sources. To do this you can use `LocaleContextHolder` as follows:\r\n\r\n    @Autowired\r\n    private MessageSourceAccessor messageSourceAccessor;\r\n\r\n    @GetMapping(produces = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;String&gt; getGreeting() {\r\n        String msg = messageSourceAccessor.getMessage(&quot;msg&quot;, LocaleContextHolder.getLocale());\r\n        return ResponseEntity.ok(msg);\r\n    }\r\n}\r\n\r\nYou can visit my [github][1] where I created a working example. To test the locale I used the [Locale Switcher Chrome Extension][2].\r\n\r\n\r\n  [1]: https://github.com/elimxim/ex-spring-boot-greeting\r\n  [2]: https://chrome.google.com/webstore/detail/locale-switcher/kngfjpghaokedippaapkfihdlmmlafcc","title":"Checking whether client locale is in the list of supported languages","body":"<p>If you want to change the locale depending on the HTTP header <code>Accept-Language</code> you need to use <code>AcceptHeaderLocaleResolver</code>, for example:</p>\n<pre><code>@Bean\npublic LocaleResolver localeResolver() {\n    var resolver = new AcceptHeaderLocaleResolver();\n    resolver.setDefaultLocale(Locale.ENGLISH);\n    resolver.setSupportedLocales(\n            List.of(Locale.ENGLISH,\n                    Locale.FRENCH,\n                    Locale.of(&quot;es&quot;))\n    );\n\n    return resolver;\n}\n</code></pre>\n<p>It's easy to set up and I guess that's exatly what you want.</p>\n<p>The next step is to get exatly the locale that is defined using <code>AcceptHeaderLocaleResolver</code> and use it, for example, to get a message from the message sources. To do this you can use <code>LocaleContextHolder</code> as follows:</p>\n<pre><code>@Autowired\nprivate MessageSourceAccessor messageSourceAccessor;\n\n@GetMapping(produces = MediaType.TEXT_PLAIN_VALUE)\npublic ResponseEntity&lt;String&gt; getGreeting() {\n    String msg = messageSourceAccessor.getMessage(&quot;msg&quot;, LocaleContextHolder.getLocale());\n    return ResponseEntity.ok(msg);\n}\n</code></pre>\n<p>}</p>\n<p>You can visit my <a href=\"https://github.com/elimxim/ex-spring-boot-greeting\" rel=\"nofollow noreferrer\">github</a> where I created a working example. To test the locale I used the <a href=\"https://chrome.google.com/webstore/detail/locale-switcher/kngfjpghaokedippaapkfihdlmmlafcc\" rel=\"nofollow noreferrer\">Locale Switcher Chrome Extension</a>.</p>\n"}],"owner":{"account_id":12785520,"reputation":178,"user_id":11672197,"display_name":"qarabala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76840815,"answer_count":2,"score":1,"last_activity_date":1691224910,"creation_date":1691161695,"question_id":76837166,"body_markdown":"**I want to present the website to the users in their preferred language in the case that the website supports that language.**\r\n\r\nIn Spring Boot, I use the following bean to set the default language for the client:\r\n```java\r\n@Bean\r\npublic LocaleResolver localeResolver() {\r\n\tSessionLocaleResolver localeResolver = new SessionLocaleResolver();\r\n\tlocaleResolver.setLocaleAttributeName(&quot;user_locale&quot;); // Not strictly needed\r\n\tlocaleResolver.setDefaultLocale(Locale.ENGLISH);\r\n\treturn localeResolver;\r\n}\r\n```\r\n\r\nHow could I modify it to take the client&#39;s language, and check whether it is in the list of supported languages, e.g.\r\n```java\r\nprivate List&lt;Locale&gt; LOCALES = Arrays.asList(new Locale(&quot;en&quot;), new Locale(&quot;de&quot;), new Locale(&quot;fr&quot;), new Locale(&quot;sp&quot;), new Locale(&quot;it&quot;));\r\n```\r\nand then set the locale using something like\r\n```java\r\nreturn locales.contains(locale) ? locale : Locale.ENGLISH;\r\n```\r\n\r\nNotice that this should happen every time a session is initiated.","title":"Checking whether client locale is in the list of supported languages","body":"<p><strong>I want to present the website to the users in their preferred language in the case that the website supports that language.</strong></p>\n<p>In Spring Boot, I use the following bean to set the default language for the client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic LocaleResolver localeResolver() {\n    SessionLocaleResolver localeResolver = new SessionLocaleResolver();\n    localeResolver.setLocaleAttributeName(&quot;user_locale&quot;); // Not strictly needed\n    localeResolver.setDefaultLocale(Locale.ENGLISH);\n    return localeResolver;\n}\n</code></pre>\n<p>How could I modify it to take the client's language, and check whether it is in the list of supported languages, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;Locale&gt; LOCALES = Arrays.asList(new Locale(&quot;en&quot;), new Locale(&quot;de&quot;), new Locale(&quot;fr&quot;), new Locale(&quot;sp&quot;), new Locale(&quot;it&quot;));\n</code></pre>\n<p>and then set the locale using something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>return locales.contains(locale) ? locale : Locale.ENGLISH;\n</code></pre>\n<p>Notice that this should happen every time a session is initiated.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1691306534,"post_id":76840799,"comment_id":135472027,"body_markdown":"Using jwts as session is dangerous and writing custom security filters is bad practice. Whatever blogpost you have followed has no idea how security works. Please read the spring security docs","body":"Using jwts as session is dangerous and writing custom security filters is bad practice. Whatever blogpost you have followed has no idea how security works. Please read the spring security docs"},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1691332262,"post_id":76840799,"comment_id":135474413,"body_markdown":"Please explain to me how writing custom security filters is bad practice. You mean extending a base class such as OncePerRequestFilter is bad practice?","body":"Please explain to me how writing custom security filters is bad practice. You mean extending a base class such as OncePerRequestFilter is bad practice?"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1691344032,"post_id":76840799,"comment_id":135475797,"body_markdown":"No as i wrote, using jwts as sessions is insecure. There is no such filter already in spring security just because using jwts as sessions is very insecure. But you instead wrote a custom filter so that you could use a jwt as a session. Jwts where never meant to used as a session, for that you use cookies. You only need to google why jwts shouldnt be used as sessions to understand why. Stop using jwts the way you are doing and instead use formlogin from spring security and read the documentation instead of poor blogposts","body":"No as i wrote, using jwts as sessions is insecure. There is no such filter already in spring security just because using jwts as sessions is very insecure. But you instead wrote a custom filter so that you could use a jwt as a session. Jwts where never meant to used as a session, for that you use cookies. You only need to google why jwts shouldnt be used as sessions to understand why. Stop using jwts the way you are doing and instead use formlogin from spring security and read the documentation instead of poor blogposts"}],"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691224679,"creation_date":1691224679,"question_id":76840799,"body_markdown":"I declared two protected endpoints `forAdmin()` and `forUser()` for users with User and Admin roles respectively. When an admin user is authenticated, they can access `forAdmin()`. Also, a user with the user role can access `forUser()` when authenticated. But if an admin tries to access `forUser()` resource, the application would return `401 unauthorization` meaning the user has yet to be authenticated, instead of ` 403 access denied`. I would like to know how to fix this please.\r\n\r\n`config files:`\r\n```\r\n@Configuration\r\n//@EnableMethodSecurity(prePostEnabled = true)\r\n@EnableWebSecurity\r\npublic class WebSecurityConfiguration {\r\n\r\n\tprivate JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n\r\n\tprivate JwtRequestFilter jwtRequestFilter;\r\n\t\r\n\tprivate CustomUserDetailsService jwtService;\r\n\t\r\n\tprivate static final String[] ALLOWED_ACCESS = {&quot;/authenticate&quot;, &quot;/registerNewUser&quot;};\r\n\r\n\t@Autowired\r\n\tpublic WebSecurityConfiguration(JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint,\r\n\t\t\tJwtRequestFilter jwtRequestFilter, CustomUserDetailsService jwtService) {\r\n\r\n\t\tthis.jwtAuthenticationEntryPoint = jwtAuthenticationEntryPoint;\r\n\t\tthis.jwtRequestFilter = jwtRequestFilter;\r\n        this.jwtService = jwtService;\r\n\t}\r\n\r\n\t\r\n\t@Bean\r\n\tAuthenticationManager authenticationManagerBean(AuthenticationConfiguration authenticationConfiguration)\r\n\t\t\tthrows Exception {\r\n\r\n\t\treturn authenticationConfiguration.getAuthenticationManager();\r\n\t}\r\n\r\n\t@Bean\r\n\tprotected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n\t\thttp.csrf((csrf) -&gt; csrf.disable()).cors(cors -&gt; {\r\n\t\t}).authorizeHttpRequests((authz) -&gt; {\r\n\t\t\tauthz.requestMatchers(&quot;/forAdmin&quot;).hasRole(&quot;Admin&quot;);\r\n\t\t\tauthz.requestMatchers(&quot;/forUser&quot;).hasRole(&quot;User&quot;);\r\n\t\t\tauthz.requestMatchers(ALLOWED_ACCESS).permitAll();\r\n\t\t\t\r\n\t\t})\r\n\t\t\t\t.authorizeHttpRequests((authz) -&gt; authz.anyRequest().authenticated())\r\n\t\t\t\t.exceptionHandling(\r\n\t\t\t\t\t\t(exceptionHandling) -&gt; {\r\n\t\t\t\t\t\t\texceptionHandling.accessDeniedHandler(new CustomAccessDeniedHandler());\r\n\t\t\t\t\t\t\texceptionHandling.authenticationEntryPoint(jwtAuthenticationEntryPoint);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t.sessionManagement((sessionManagement) -&gt; sessionManagement\r\n\t\t\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n\r\n\t\t\r\n\t\thttp.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\t\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n\t\t authenticationManagerBuilder.userDetailsService(jwtService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\t\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t\t\r\n}\r\n```\r\nAuthentication entry point:\r\n```\r\n@Configuration\r\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n\r\n\t@Override\r\n\tpublic void commence(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\tAuthenticationException authException) throws IOException, ServletException {\r\n\t\t\r\n\t\tresponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\nAccess denied:\r\n```\r\n@Configuration\r\npublic class CustomAccessDeniedHandler implements AccessDeniedHandler {\r\n\r\n\t@Override\r\n\tpublic void handle(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\tAccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n\t\t\r\n\t\tresponse.sendError(HttpServletResponse.SC_FORBIDDEN);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n`\r\nFilter class:\r\n`\r\n\r\n```\r\n@Component\r\npublic class JwtRequestFilter extends OncePerRequestFilter {\r\n\r\n\tprivate JwtUtil jwtUtil;\r\n\r\n\tprivate CustomUserDetailsService jwtService;\r\n\r\n\t@Autowired\r\n\tpublic JwtRequestFilter(JwtUtil jwtUtil, CustomUserDetailsService jwtService) {\r\n\r\n\t\tthis.jwtUtil = jwtUtil;\r\n\t\tthis.jwtService = jwtService;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n\t\t\tthrows ServletException, IOException {\r\n\r\n\t\tfinal String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\r\n\r\n\t\tString username = null;\r\n\t\tString jwtToken = null;\r\n\r\n\t\tif (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\r\n\r\n\t\t\tjwtToken = requestTokenHeader.substring(7);\r\n\t\t\ttry {\r\n\t\t\t\tusername = jwtUtil.getUsernameFromToken(jwtToken);\r\n\r\n\t\t\t} catch (IllegalArgumentException e) {\r\n\t\t\t\tSystem.out.println(&quot;Unable to get JWT Token&quot;);\r\n\t\t\t} catch (ExpiredJwtException e) {\r\n\t\t\t\tSystem.out.println(&quot;JWT Token has expired&quot;);\r\n\t\t\t} catch (SignatureException e) {\r\n\t\t\t\tSystem.out.println(&quot;Invalid token&quot;);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;JWT token does not start with Bearer&quot;);\r\n\t\t}\r\n\r\n\t\tif (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n\r\n\t\t\tUserDetails userDetails = jwtService.loadUserByUsername(username);\r\n\r\n\t\t\tif (jwtUtil.validateToken(jwtToken, userDetails)) {\r\n\r\n\t\t\t\tUsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\r\n\t\t\t\t\t\tuserDetails, null, userDetails.getAuthorities());\r\n\t\t\t\tusernamePasswordAuthenticationToken\r\n\t\t\t\t\t\t.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tfilterChain.doFilter(request, response);\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nProtected resource:\r\n```\r\n\r\n@RestController\r\npublic class UserController {\r\n\t\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\t\r\n\t\r\n\t\r\n\t@GetMapping({&quot;/forAdmin&quot;})\r\n\t//@PreAuthorize(&quot;hasRole(&#39;Admin&#39;)&quot;)\r\n\tpublic String forAdmin() {\r\n\t\t\r\n\t\treturn &quot;You&#39;re an Admin&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping({&quot;/forUser&quot;})\r\n\t//@PreAuthorize(&quot;hasRole(&#39;User&#39;)&quot;)\r\n\tpublic String forUser() {\r\n\t\t\r\n\t\treturn &quot;You&#39;re a user&quot;;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```","title":"Spring security returns 401 unauthorized code for authenticated users trying access protectd resource instead of 403 access denied","body":"<p>I declared two protected endpoints <code>forAdmin()</code> and <code>forUser()</code> for users with User and Admin roles respectively. When an admin user is authenticated, they can access <code>forAdmin()</code>. Also, a user with the user role can access <code>forUser()</code> when authenticated. But if an admin tries to access <code>forUser()</code> resource, the application would return <code>401 unauthorization</code> meaning the user has yet to be authenticated, instead of <code> 403 access denied</code>. I would like to know how to fix this please.</p>\n<p><code>config files:</code></p>\n<pre><code>@Configuration\n//@EnableMethodSecurity(prePostEnabled = true)\n@EnableWebSecurity\npublic class WebSecurityConfiguration {\n\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n    private JwtRequestFilter jwtRequestFilter;\n    \n    private CustomUserDetailsService jwtService;\n    \n    private static final String[] ALLOWED_ACCESS = {&quot;/authenticate&quot;, &quot;/registerNewUser&quot;};\n\n    @Autowired\n    public WebSecurityConfiguration(JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint,\n            JwtRequestFilter jwtRequestFilter, CustomUserDetailsService jwtService) {\n\n        this.jwtAuthenticationEntryPoint = jwtAuthenticationEntryPoint;\n        this.jwtRequestFilter = jwtRequestFilter;\n        this.jwtService = jwtService;\n    }\n\n    \n    @Bean\n    AuthenticationManager authenticationManagerBean(AuthenticationConfiguration authenticationConfiguration)\n            throws Exception {\n\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.csrf((csrf) -&gt; csrf.disable()).cors(cors -&gt; {\n        }).authorizeHttpRequests((authz) -&gt; {\n            authz.requestMatchers(&quot;/forAdmin&quot;).hasRole(&quot;Admin&quot;);\n            authz.requestMatchers(&quot;/forUser&quot;).hasRole(&quot;User&quot;);\n            authz.requestMatchers(ALLOWED_ACCESS).permitAll();\n            \n        })\n                .authorizeHttpRequests((authz) -&gt; authz.anyRequest().authenticated())\n                .exceptionHandling(\n                        (exceptionHandling) -&gt; {\n                            exceptionHandling.accessDeniedHandler(new CustomAccessDeniedHandler());\n                            exceptionHandling.authenticationEntryPoint(jwtAuthenticationEntryPoint);\n                            \n                        })\n                .sessionManagement((sessionManagement) -&gt; sessionManagement\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n\n        \n        http.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n    \n    public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n         authenticationManagerBuilder.userDetailsService(jwtService).passwordEncoder(passwordEncoder());\n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        \n        return new BCryptPasswordEncoder();\n    }\n    \n        \n}\n</code></pre>\n<p>Authentication entry point:</p>\n<pre><code>@Configuration\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n            AuthenticationException authException) throws IOException, ServletException {\n        \n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\n\n    }\n\n}\n\n</code></pre>\n<p>Access denied:</p>\n<pre><code>@Configuration\npublic class CustomAccessDeniedHandler implements AccessDeniedHandler {\n\n    @Override\n    public void handle(HttpServletRequest request, HttpServletResponse response,\n            AccessDeniedException accessDeniedException) throws IOException, ServletException {\n        \n        response.sendError(HttpServletResponse.SC_FORBIDDEN);\n    }\n\n}\n\n</code></pre>\n<p><code>Filter class:</code></p>\n<pre><code>@Component\npublic class JwtRequestFilter extends OncePerRequestFilter {\n\n    private JwtUtil jwtUtil;\n\n    private CustomUserDetailsService jwtService;\n\n    @Autowired\n    public JwtRequestFilter(JwtUtil jwtUtil, CustomUserDetailsService jwtService) {\n\n        this.jwtUtil = jwtUtil;\n        this.jwtService = jwtService;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\n\n        String username = null;\n        String jwtToken = null;\n\n        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\n\n            jwtToken = requestTokenHeader.substring(7);\n            try {\n                username = jwtUtil.getUsernameFromToken(jwtToken);\n\n            } catch (IllegalArgumentException e) {\n                System.out.println(&quot;Unable to get JWT Token&quot;);\n            } catch (ExpiredJwtException e) {\n                System.out.println(&quot;JWT Token has expired&quot;);\n            } catch (SignatureException e) {\n                System.out.println(&quot;Invalid token&quot;);\n            }\n        } else {\n            System.out.println(&quot;JWT token does not start with Bearer&quot;);\n        }\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n\n            UserDetails userDetails = jwtService.loadUserByUsername(username);\n\n            if (jwtUtil.validateToken(jwtToken, userDetails)) {\n\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken\n                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n\n            }\n        }\n        filterChain.doFilter(request, response);\n\n    }\n\n}\n\n</code></pre>\n<p>Protected resource:</p>\n<pre><code>\n@RestController\npublic class UserController {\n    \n    @Autowired\n    private UserService userService;\n    \n    \n    \n    @GetMapping({&quot;/forAdmin&quot;})\n    //@PreAuthorize(&quot;hasRole('Admin')&quot;)\n    public String forAdmin() {\n        \n        return &quot;You're an Admin&quot;;\n    }\n    \n    @GetMapping({&quot;/forUser&quot;})\n    //@PreAuthorize(&quot;hasRole('User')&quot;)\n    public String forUser() {\n        \n        return &quot;You're a user&quot;;\n    }\n    \n    \n\n}\n\n</code></pre>\n"},{"tags":["java","jpa","jdbc"],"comments":[{"owner":{"display_name":"user330315"},"score":3,"creation_date":1344509079,"post_id":11881548,"comment_id":15809842,"body_markdown":"Why not start with the JDBC tutorial: http://docs.oracle.com/javase/tutorial/jdbc/index.html","body":"Why not start with the JDBC tutorial: <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jdbc/index.html</a>"},{"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"score":2,"creation_date":1344517268,"post_id":11881548,"comment_id":15813683,"body_markdown":"JPA can be used without EJB or even Java EE, you can create an EntityManagerFactory directly from Persistence.","body":"JPA can be used without EJB or even Java EE, you can create an EntityManagerFactory directly from Persistence."}],"answers":[{"tags":[],"owner":{"account_id":1218264,"reputation":2414,"user_id":1185432,"accept_rate":91,"display_name":"gkuzmin"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1354460266,"creation_date":1344509166,"answer_id":11881666,"question_id":11881548,"body_markdown":"Main difference between JPA and JDBC is level of abstraction.\r\n\r\nJDBC is a low level standard for interaction with databases. JPA is higher level standard for the same purpose. JPA allows you to use an object model in your application which can make your life much easier. JDBC allows you to do more things with the Database directly, but it requires more attention. Some tasks can not be solved efficiently using JPA, but may be solved more efficiently with JDBC. ","title":"JPA or JDBC, how are they different?","body":"<p>Main difference between JPA and JDBC is level of abstraction.</p>\n\n<p>JDBC is a low level standard for interaction with databases. JPA is higher level standard for the same purpose. JPA allows you to use an object model in your application which can make your life much easier. JDBC allows you to do more things with the Database directly, but it requires more attention. Some tasks can not be solved efficiently using JPA, but may be solved more efficiently with JDBC. </p>\n"},{"tags":[],"owner":{"account_id":159566,"reputation":5418,"user_id":379039,"accept_rate":77,"display_name":"Mark D"},"down_vote_count":0,"up_vote_count":336,"is_accepted":true,"score":336,"last_activity_date":1537956557,"creation_date":1344509366,"answer_id":11881732,"question_id":11881548,"body_markdown":"In layman&#39;s terms:\r\n\r\n - JDBC is a standard for Database Access\r\n - JPA is a standard for ORM\r\n\r\nJDBC is a standard for connecting to a DB directly and running SQL against it - e.g `SELECT * FROM USERS`, etc.  Data sets can be returned which you can handle in your app, and you can do all the usual things like `INSERT`, `DELETE`, run stored procedures, etc.  It is one of the underlying technologies behind most Java database access (including JPA providers).\r\n\r\nOne of the issues with traditional JDBC apps is that you can often have some crappy code where lots of mapping between data sets and objects occur, logic is mixed in with SQL, etc.\r\n\r\nJPA is a standard for Object Relational Mapping. This is a technology which allows you to map between objects in code and database tables.  This can &quot;hide&quot; the SQL from the developer so that all they deal with are Java classes, and the provider allows you to save them and load them magically.  Mostly, XML mapping files or annotations on getters and setters can be used to tell the JPA provider which fields on your object map to which fields in the DB.  The most famous JPA provider is [Hibernate](https://hibernate.org/), so it&#39;s a good place to start for concrete examples.\r\n\r\nOther examples include OpenJPA, toplink, etc.\r\n\r\nUnder the hood, Hibernate and most other providers for JPA write SQL and use JDBC to read and write from and to the DB.\r\n","title":"JPA or JDBC, how are they different?","body":"<p>In layman's terms:</p>\n\n<ul>\n<li>JDBC is a standard for Database Access</li>\n<li>JPA is a standard for ORM</li>\n</ul>\n\n<p>JDBC is a standard for connecting to a DB directly and running SQL against it - e.g <code>SELECT * FROM USERS</code>, etc.  Data sets can be returned which you can handle in your app, and you can do all the usual things like <code>INSERT</code>, <code>DELETE</code>, run stored procedures, etc.  It is one of the underlying technologies behind most Java database access (including JPA providers).</p>\n\n<p>One of the issues with traditional JDBC apps is that you can often have some crappy code where lots of mapping between data sets and objects occur, logic is mixed in with SQL, etc.</p>\n\n<p>JPA is a standard for Object Relational Mapping. This is a technology which allows you to map between objects in code and database tables.  This can \"hide\" the SQL from the developer so that all they deal with are Java classes, and the provider allows you to save them and load them magically.  Mostly, XML mapping files or annotations on getters and setters can be used to tell the JPA provider which fields on your object map to which fields in the DB.  The most famous JPA provider is <a href=\"https://hibernate.org/\" rel=\"noreferrer\">Hibernate</a>, so it's a good place to start for concrete examples.</p>\n\n<p>Other examples include OpenJPA, toplink, etc.</p>\n\n<p>Under the hood, Hibernate and most other providers for JPA write SQL and use JDBC to read and write from and to the DB.</p>\n"},{"tags":[],"owner":{"account_id":1733886,"reputation":1028,"user_id":1586874,"display_name":"Pawel Solarski"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1344725026,"creation_date":1344509402,"answer_id":11881739,"question_id":11881548,"body_markdown":"JDBC is the predecessor of JPA. \r\n\r\nJDBC is a bridge between the Java world and the databases world. In JDBC you need to expose all dirty details needed for CRUD operations, such as table names, column names, while in JPA (which is using JDBC underneath), you also specify those details of database metadata, but with the use of Java annotations. \r\n\r\nSo JPA creates update queries for you and manages the entities that you looked up or created/updated (it does more as well).\r\n\r\nIf you want to do JPA without a Java EE container, then Spring and its libraries may be used with the very same Java annotations.\r\n","title":"JPA or JDBC, how are they different?","body":"<p>JDBC is the predecessor of JPA. </p>\n\n<p>JDBC is a bridge between the Java world and the databases world. In JDBC you need to expose all dirty details needed for CRUD operations, such as table names, column names, while in JPA (which is using JDBC underneath), you also specify those details of database metadata, but with the use of Java annotations. </p>\n\n<p>So JPA creates update queries for you and manages the entities that you looked up or created/updated (it does more as well).</p>\n\n<p>If you want to do JPA without a Java EE container, then Spring and its libraries may be used with the very same Java annotations.</p>\n"},{"tags":[],"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1344509576,"creation_date":1344509576,"answer_id":11881802,"question_id":11881548,"body_markdown":"JDBC is a much lower-level (and older) specification than JPA. In it&#39;s bare essentials, JDBC is an API for interacting with a database using pure SQL - sending queries and retrieving results. It has no notion of objects or hierarchies. When using JDBC, it&#39;s up to you to translate a result set (essentially a row/column matrix of values from one or more database tables, returned by your SQL query) into Java objects.\r\n\r\nNow, to understand and use JDBC it&#39;s essential that you have some understanding and working knowledge of SQL. With that also comes a required insight into what a relational database is, how you work with it and concepts such as tables, columns, keys and relationships. Unless you have at least a basic understanding of databases, SQL and data modelling you will not be able to make much use of JDBC since it&#39;s really only a thin abstraction on top of these things.","title":"JPA or JDBC, how are they different?","body":"<p>JDBC is a much lower-level (and older) specification than JPA. In it's bare essentials, JDBC is an API for interacting with a database using pure SQL - sending queries and retrieving results. It has no notion of objects or hierarchies. When using JDBC, it's up to you to translate a result set (essentially a row/column matrix of values from one or more database tables, returned by your SQL query) into Java objects.</p>\n\n<p>Now, to understand and use JDBC it's essential that you have some understanding and working knowledge of SQL. With that also comes a required insight into what a relational database is, how you work with it and concepts such as tables, columns, keys and relationships. Unless you have at least a basic understanding of databases, SQL and data modelling you will not be able to make much use of JDBC since it's really only a thin abstraction on top of these things.</p>\n"},{"tags":[],"owner":{"account_id":23400777,"reputation":13,"user_id":17463971,"display_name":"Sanket Goti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653295455,"creation_date":1653289382,"answer_id":72344413,"question_id":11881548,"body_markdown":"The difference between JPA and JDBC is often the deciding factor, as the two database technologies take very different approaches to work with persistent data. JDBC, allows developers to construct database-driven Java programs utilizing object-oriented semantics\r\n\r\nJPA is database-agnostic, meaning that the same code can be used in a variety of databases with few modifications. JPA serves as a layer of abstraction that hides the low-level JDBC calls from the developer, making database coding considerably easier\r\n\r\nhibernate is implementation of JPA \r\n[hibernate][1] you can see further details from here about jpa Query\r\n\r\n\r\n  [1]: https://hibernate.org/","title":"JPA or JDBC, how are they different?","body":"<p>The difference between JPA and JDBC is often the deciding factor, as the two database technologies take very different approaches to work with persistent data. JDBC, allows developers to construct database-driven Java programs utilizing object-oriented semantics</p>\n<p>JPA is database-agnostic, meaning that the same code can be used in a variety of databases with few modifications. JPA serves as a layer of abstraction that hides the low-level JDBC calls from the developer, making database coding considerably easier</p>\n<p>hibernate is implementation of JPA\n<a href=\"https://hibernate.org/\" rel=\"nofollow noreferrer\">hibernate</a> you can see further details from here about jpa Query</p>\n"},{"tags":[],"owner":{"account_id":179957,"reputation":1300,"user_id":412965,"display_name":"raiks"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665050418,"creation_date":1665049981,"answer_id":73971850,"question_id":11881548,"body_markdown":"JDBC is a layer of abstraction on top of vendor-specific relational DB drivers. Without JDBC you would have to deal with peculiarities of a specific DB (not much fun). JDBC, however, is too low-level and entails a lot of boilerplate code.\r\n\r\nJPA is a specification of an ORM (just an interface). It&#39;s useless without an implementation.\r\n\r\nORM is a kind of framework concerned with saving and retrieving objects to/from the relational DB. There are many ORMs out there with different levels of abstraction. Some of them require manually-written SQL.\r\n\r\n*Some* of ORMs implement JPA (Hibernate or EclipseLink, for example). *Most* of them are built on top of JDBC. \r\n\r\nSuch ORMs provide the maximum level of abstraction to the point you almost never have to write SQL queries. Some people love JPA-based ORMs (they reduce boilerplate), some hate (abstraction is leaky, specification is overly complex and there are lots of corner cases). \r\n\r\nJava analogy:\r\n\r\n    class ORM extends JDBC implements JPA {\r\n    }","title":"JPA or JDBC, how are they different?","body":"<p>JDBC is a layer of abstraction on top of vendor-specific relational DB drivers. Without JDBC you would have to deal with peculiarities of a specific DB (not much fun). JDBC, however, is too low-level and entails a lot of boilerplate code.</p>\n<p>JPA is a specification of an ORM (just an interface). It's useless without an implementation.</p>\n<p>ORM is a kind of framework concerned with saving and retrieving objects to/from the relational DB. There are many ORMs out there with different levels of abstraction. Some of them require manually-written SQL.</p>\n<p><em>Some</em> of ORMs implement JPA (Hibernate or EclipseLink, for example). <em>Most</em> of them are built on top of JDBC.</p>\n<p>Such ORMs provide the maximum level of abstraction to the point you almost never have to write SQL queries. Some people love JPA-based ORMs (they reduce boilerplate), some hate (abstraction is leaky, specification is overly complex and there are lots of corner cases).</p>\n<p>Java analogy:</p>\n<pre><code>class ORM extends JDBC implements JPA {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15553689,"reputation":149,"user_id":11220723,"display_name":"Tomaž Majerhold"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675356064,"creation_date":1675356064,"answer_id":75326309,"question_id":11881548,"body_markdown":"Persistence layers have protocols versions so abstractions also have versions therefore you need ranges of supported versions. It is version hell","title":"JPA or JDBC, how are they different?","body":"<p>Persistence layers have protocols versions so abstractions also have versions therefore you need ranges of supported versions. It is version hell</p>\n"}],"owner":{"account_id":539830,"reputation":3228,"user_id":907810,"accept_rate":51,"display_name":"user907810"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165125,"favorite_count":0,"down_vote_count":2,"up_vote_count":168,"accepted_answer_id":11881732,"answer_count":7,"score":166,"last_activity_date":1691224120,"creation_date":1344508700,"question_id":11881548,"body_markdown":"I am learning Java EE and I downloaded the eclipse with glassfish for the same. I saw some examples and also read the Oracle docs to know all about Java EE 5. Connecting to a database was very simple. I opened a dynamic web project, created a session EJB ,  I used EntityManager and with the get methods could access the stored data table.\r\n\r\nFor my next project I had create a simple class and then access some DB table. The very first problem I encountered was that the PersistenceUnit attribute would only be recognized by EJB,Servlet etc and not a simple java class. So then I could not use the EntityManager way(or can I?) \r\n\r\nI was asked to go via the &quot;JDBC&quot; way. The very first problem I encountered was to get the connection to the DB. It seems all this must be hardcoded. I had a persistence.xml with which I could easily configure the data base connection. Even setting up a driver for the DB was easy. Also there no get/set methods in the JDBC for accessing table entities.\r\n\r\nHow do I understand JPA and persistence in relation to JDBC? What was JPA thought for? Why is there set/get methods? Can someone throw some light on the essence of these two and what are the pros/cons without &quot;jargons&quot;?? Please also suggest some links. A simple google search for JPA and JDBC differences led me to some sites full of &quot;terminology&quot; I couldn&#39;t follow :(","title":"JPA or JDBC, how are they different?","body":"<p>I am learning Java EE and I downloaded the eclipse with glassfish for the same. I saw some examples and also read the Oracle docs to know all about Java EE 5. Connecting to a database was very simple. I opened a dynamic web project, created a session EJB ,  I used EntityManager and with the get methods could access the stored data table.</p>\n\n<p>For my next project I had create a simple class and then access some DB table. The very first problem I encountered was that the PersistenceUnit attribute would only be recognized by EJB,Servlet etc and not a simple java class. So then I could not use the EntityManager way(or can I?) </p>\n\n<p>I was asked to go via the \"JDBC\" way. The very first problem I encountered was to get the connection to the DB. It seems all this must be hardcoded. I had a persistence.xml with which I could easily configure the data base connection. Even setting up a driver for the DB was easy. Also there no get/set methods in the JDBC for accessing table entities.</p>\n\n<p>How do I understand JPA and persistence in relation to JDBC? What was JPA thought for? Why is there set/get methods? Can someone throw some light on the essence of these two and what are the pros/cons without \"jargons\"?? Please also suggest some links. A simple google search for JPA and JDBC differences led me to some sites full of \"terminology\" I couldn't follow :(</p>\n"},{"tags":["java","date","simpledateformat","java-17"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1690381463,"post_id":76772254,"comment_id":135345845,"body_markdown":"Note that the classes ur using there are all outdated. Prefer using the stuff from `java.time` instead.","body":"Note that the classes ur using there are all outdated. Prefer using the stuff from <code>java.time</code> instead."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1690383210,"post_id":76772254,"comment_id":135346335,"body_markdown":"What input are you using?","body":"What input are you using?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691171192,"post_id":76772254,"comment_id":135460836,"body_markdown":"Which is your default locale? Is it the same in your Java 17 installation as in your Java 8 installation? Also please at least post the full message from the exception.","body":"Which is your default locale? Is it the same in your Java 17 installation as in your Java 8 installation? Also please at least post the full message from the exception."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691171488,"post_id":76772254,"comment_id":135460895,"body_markdown":"Java’s locale data — including the abbreviations for months in different languages — changed a lot from Java 8 to Java 9 and have had further changes since. This is a probable explanation for your error, but without more details and a [mre] we can’t tell whether it is the reason. See more in [this question](https://stackoverflow.com/questions/46244724/jdk-dateformater-parsing-dayofweek-in-german-locale-java8-vs-java9) and [this one](https://stackoverflow.com/questions/66394366/cannot-convert-from-spanish-date-string-to-localdate-in-java).","body":"Java’s locale data — including the abbreviations for months in different languages — changed a lot from Java 8 to Java 9 and have had further changes since. This is a probable explanation for your error, but without more details and a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> we can’t tell whether it is the reason. See more in <a href=\"https://stackoverflow.com/questions/46244724/jdk-dateformater-parsing-dayofweek-in-german-locale-java8-vs-java9\">this question</a> and <a href=\"https://stackoverflow.com/questions/66394366/cannot-convert-from-spanish-date-string-to-localdate-in-java\">this one</a>."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1691223665,"creation_date":1690381777,"answer_id":76772351,"question_id":76772254,"body_markdown":"For j**vm17** do use `java.time.*` instead.\r\n\r\n```java\r\npublic static String convert(String dateStr) {\r\n    LocalDate date = LocalDate.parse(dateStr, DateTimeFormatter.ofPattern(&quot;dd/MMM/yyyy&quot;, Locale.ENGLISH));\r\n    return date.format(DateTimeFormatter.BASIC_ISO_DATE, Locale.ENGLISH);\r\n}\r\n```\r\n\r\nAnd the client&#39;s code will look like this:\r\n```java\r\nString dateStr = &quot;22/Jul/2023&quot;;\r\nSystem.out.println(convert(dateStr));   // 20230722 \r\n```","title":"How to convert date from this format &quot;dd/MMM/yyyy&quot; to any other format with Java 17 version?","body":"<p>For j<strong>vm17</strong> do use <code>java.time.*</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String convert(String dateStr) {\n    LocalDate date = LocalDate.parse(dateStr, DateTimeFormatter.ofPattern(&quot;dd/MMM/yyyy&quot;, Locale.ENGLISH));\n    return date.format(DateTimeFormatter.BASIC_ISO_DATE, Locale.ENGLISH);\n}\n</code></pre>\n<p>And the client's code will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String dateStr = &quot;22/Jul/2023&quot;;\nSystem.out.println(convert(dateStr));   // 20230722 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1690399269,"creation_date":1690385321,"answer_id":76772867,"question_id":76772254,"body_markdown":"Unless it is a backward compatible requirement you should avoid the old Date classes and their supporting classes.  They are buggy and obsolete.\r\n\r\nFrom the `java.time` package.\r\n\r\nWhat you want is the BASIC_ISO_DATE which is predefined.  So all that is required is the `from` format.  Add locales as appropriate for your requirements.\r\n```\r\nString dateString = &quot;10/Jan/2023&quot;;\r\n \r\nDateTimeFormatter from = DateTimeFormatter.ofPattern(&quot;dd/MMM/yyyy&quot;, Locale.ENGLISH);\r\nLocalDate ldt = LocalDate.parse(dateString, from);\r\nString result = ldt.format(DateTimeFormatter.BASIC_ISO_DATE);\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\n20230110\r\n```\r\nCheck out the [java.time](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html) package for a rich set of classes to manipulate various dates and times.\r\n","title":"How to convert date from this format &quot;dd/MMM/yyyy&quot; to any other format with Java 17 version?","body":"<p>Unless it is a backward compatible requirement you should avoid the old Date classes and their supporting classes.  They are buggy and obsolete.</p>\n<p>From the <code>java.time</code> package.</p>\n<p>What you want is the BASIC_ISO_DATE which is predefined.  So all that is required is the <code>from</code> format.  Add locales as appropriate for your requirements.</p>\n<pre><code>String dateString = &quot;10/Jan/2023&quot;;\n \nDateTimeFormatter from = DateTimeFormatter.ofPattern(&quot;dd/MMM/yyyy&quot;, Locale.ENGLISH);\nLocalDate ldt = LocalDate.parse(dateString, from);\nString result = ldt.format(DateTimeFormatter.BASIC_ISO_DATE);\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>20230110\n</code></pre>\n<p>Check out the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package for a rich set of classes to manipulate various dates and times.</p>\n"}],"owner":{"account_id":4431669,"reputation":1,"user_id":3608694,"display_name":"user3608694"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1691223665,"creation_date":1690381138,"question_id":76772254,"body_markdown":"I am  trying to convert date from this format &quot;dd/MMM/yyyy&quot; to &quot;yyyyMMdd&quot;,\r\nfor Java 1.8 version ,the code was working fine, my code is \r\n\r\n```\r\n       SimpleDateFormat inputFormat = new SimpleDateFormat(currentFormat);\r\n       SimpleDateFormat outputFormat = new SimpleDateFormat(newFormat);\r\n       Date date = inputFormat.parse(dateStr);\r\n       return outputFormat.format(date);\r\n```\r\n\r\n\r\nwhen i changed from Java 8 to java 17 , I am getting parse Exception. Please help, thanks","title":"How to convert date from this format &quot;dd/MMM/yyyy&quot; to any other format with Java 17 version?","body":"<p>I am  trying to convert date from this format &quot;dd/MMM/yyyy&quot; to &quot;yyyyMMdd&quot;,\nfor Java 1.8 version ,the code was working fine, my code is</p>\n<pre><code>       SimpleDateFormat inputFormat = new SimpleDateFormat(currentFormat);\n       SimpleDateFormat outputFormat = new SimpleDateFormat(newFormat);\n       Date date = inputFormat.parse(dateStr);\n       return outputFormat.format(date);\n</code></pre>\n<p>when i changed from Java 8 to java 17 , I am getting parse Exception. Please help, thanks</p>\n"},{"tags":["java","macos","swing","awt"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690205730,"creation_date":1690205730,"answer_id":76755045,"question_id":76754167,"body_markdown":"Don&#39;t know if there is a better way but you can get the OS system by using:\r\n\r\n    System.getProperty(...);\r\n\r\nCheck out the `System.getProperties()` method for a list of valid properties to query, including the OS.\r\n\r\nThen once you have the OS you can use:\r\n\r\n    frame.setDefaultCloseOperation(...)\r\n\r\n","title":"How to close/hide/restore a Swing application according to the OS default behaviour","body":"<p>Don't know if there is a better way but you can get the OS system by using:</p>\n<pre><code>System.getProperty(...);\n</code></pre>\n<p>Check out the <code>System.getProperties()</code> method for a list of valid properties to query, including the OS.</p>\n<p>Then once you have the OS you can use:</p>\n<pre><code>frame.setDefaultCloseOperation(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691223492,"creation_date":1691221155,"answer_id":76840605,"question_id":76754167,"body_markdown":" it&#39;s easy, just use the `WindowListener` interface to handle the window closing event and control the behavior based on the operating system, let me explain it with an example, in my example,the `MainFrame` class extends `JFrame` and sets the default close operation to `DO_NOTHING_ON_CLOSE` and the `WindowListener` is added to handle the window closing event!\r\n\r\ncheck this out: \r\n\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class MainFrame extends JFrame {\r\n    \r\n        public MainFrame() {\r\n            setTitle(&quot;YOUR APP&quot;);\r\n            setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n            addWindowListener(new WindowAdapter() {\r\n                @Override\r\n                public void windowClosing(WindowEvent e) {\r\n                    handleWindowClosing();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void handleWindowClosing() {\r\n            String os = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n            if (os.contains(&quot;mac&quot;)) {\r\n                // Minimize the window on Mac\r\n                setExtendedState(JFrame.ICONIFIED);\r\n            } else {\r\n                // Close the window on other platforms\r\n                dispose();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                MainFrame frame = new MainFrame();\r\n                frame.setSize(110, 110);\r\n                frame.setLocationRelativeTo(null);\r\n                frame.setVisible(true);\r\n            });\r\n        }\r\n    }","title":"How to close/hide/restore a Swing application according to the OS default behaviour","body":"<p>it's easy, just use the <code>WindowListener</code> interface to handle the window closing event and control the behavior based on the operating system, let me explain it with an example, in my example,the <code>MainFrame</code> class extends <code>JFrame</code> and sets the default close operation to <code>DO_NOTHING_ON_CLOSE</code> and the <code>WindowListener</code> is added to handle the window closing event!</p>\n<p>check this out:</p>\n<pre><code>import java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.SwingUtilities;\n\npublic class MainFrame extends JFrame {\n\n    public MainFrame() {\n        setTitle(&quot;YOUR APP&quot;);\n        setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n        addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                handleWindowClosing();\n            }\n        });\n    }\n\n    private void handleWindowClosing() {\n        String os = System.getProperty(&quot;os.name&quot;).toLowerCase();\n        if (os.contains(&quot;mac&quot;)) {\n            // Minimize the window on Mac\n            setExtendedState(JFrame.ICONIFIED);\n        } else {\n            // Close the window on other platforms\n            dispose();\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            MainFrame frame = new MainFrame();\n            frame.setSize(110, 110);\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":214241,"reputation":3384,"user_id":468102,"accept_rate":85,"display_name":"tyrondis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76840605,"answer_count":2,"score":1,"last_activity_date":1691223492,"creation_date":1690199196,"question_id":76754167,"body_markdown":"On **Mac**, apps are expected to &quot;hide&quot; into the dock when clicking the &quot;x&quot; button on the window&#39;s title bar, and restore when being clicked on again in the dock.\r\n\r\nOn **Windows** and **Linux**, apps simply terminate upon clicking the &quot;x&quot; button.\r\n\r\nHow do I replicate this behaviour in a Java Swing application, depending on which operating system the user is on?","title":"How to close/hide/restore a Swing application according to the OS default behaviour","body":"<p>On <strong>Mac</strong>, apps are expected to &quot;hide&quot; into the dock when clicking the &quot;x&quot; button on the window's title bar, and restore when being clicked on again in the dock.</p>\n<p>On <strong>Windows</strong> and <strong>Linux</strong>, apps simply terminate upon clicking the &quot;x&quot; button.</p>\n<p>How do I replicate this behaviour in a Java Swing application, depending on which operating system the user is on?</p>\n"},{"tags":["java","messaging","vonage"],"answers":[{"tags":[],"owner":{"account_id":6507730,"reputation":89,"user_id":5036095,"display_name":"umaid ashraf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691222877,"creation_date":1691222877,"answer_id":76840688,"question_id":76809614,"body_markdown":"https://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/viewform\r\n\r\nI have found this form that we have to submit for user registration on Vonage. It&#39;s missing in Vonage documentation or maybe not clearly mentioned.\r\n","title":"Can we register new users in Vonage programmatically using Vonage API or SDK?","body":"<p><a href=\"https://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/viewform\" rel=\"nofollow noreferrer\">https://docs.google.com/forms/d/e/1FAIpQLSeb_QX8rdKD2WOM5-0rZ10C9rzPsMzqlGL-Aduh7_nM0EEutw/viewform</a></p>\n<p>I have found this form that we have to submit for user registration on Vonage. It's missing in Vonage documentation or maybe not clearly mentioned.</p>\n"}],"owner":{"account_id":6507730,"reputation":89,"user_id":5036095,"display_name":"umaid ashraf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691222877,"creation_date":1690876944,"question_id":76809614,"body_markdown":"I&#39;m working on a Messaging Application and for sending message to WhatsApp I&#39;m using Vonage Messaging API. New users can signup to my application, but for these new users I&#39;m not sure how can I register them to Vonage so they can use their own number for sending messages.\r\n\r\nIs there any way to register/create new users on Vonage programmatically? Is there any API or SDK for this?","title":"Can we register new users in Vonage programmatically using Vonage API or SDK?","body":"<p>I'm working on a Messaging Application and for sending message to WhatsApp I'm using Vonage Messaging API. New users can signup to my application, but for these new users I'm not sure how can I register them to Vonage so they can use their own number for sending messages.</p>\n<p>Is there any way to register/create new users on Vonage programmatically? Is there any API or SDK for this?</p>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1651357854,"creation_date":1651351507,"answer_id":72072054,"question_id":72072026,"body_markdown":"I&#39;ve managed to fix my problem. In my `module-info.java` I needed to add the following line of code:\r\n\r\n```\r\nrequires com.fasterxml.jackson.databind;\r\n```\r\n\r\nFound something similar in an answer provided to a question on Stack (https://stackoverflow.com/questions/60567260/how-to-solve-package-is-declared-in-module-but-module-does-not-read-it), although the user who answered said you need to also open the module.\r\nOpening the module, though, would result in some other error, but just mentioning it as a requirement should be enough.","title":"How to fix &#39;Package is declared in module, but module does not read it&#39; error in IntelliJ JavaFX?","body":"<p>I've managed to fix my problem. In my <code>module-info.java</code> I needed to add the following line of code:</p>\n<pre><code>requires com.fasterxml.jackson.databind;\n</code></pre>\n<p>Found something similar in an answer provided to a question on Stack (<a href=\"https://stackoverflow.com/questions/60567260/how-to-solve-package-is-declared-in-module-but-module-does-not-read-it\">How to solve package is declared in module, but module does not read it?</a>), although the user who answered said you need to also open the module.\nOpening the module, though, would result in some other error, but just mentioning it as a requirement should be enough.</p>\n"},{"tags":[],"owner":{"account_id":23383080,"reputation":285,"user_id":17448920,"display_name":"Adammgerber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691221898,"creation_date":1691221898,"answer_id":76840639,"question_id":72072026,"body_markdown":"I had this issue in IntelliJ\r\n\r\nFor anyone still dealing with this issue, I found that it was due to not exporting the controller to java.fx and java.base in the module-info.java\r\n\r\nThis is assuming that you&#39;re using MVC and have a controller package with all controller classes inside\r\n\r\nThis was the fix:\r\n```\r\nexports controller;\r\nopens controller to javafx.fxml;\r\n```\r\n\r\nAlso make sure that you add this for the model package in the same file (module-info.java):\r\n```\r\nopens model to javafx.base;\r\n```","title":"How to fix &#39;Package is declared in module, but module does not read it&#39; error in IntelliJ JavaFX?","body":"<p>I had this issue in IntelliJ</p>\n<p>For anyone still dealing with this issue, I found that it was due to not exporting the controller to java.fx and java.base in the module-info.java</p>\n<p>This is assuming that you're using MVC and have a controller package with all controller classes inside</p>\n<p>This was the fix:</p>\n<pre><code>exports controller;\nopens controller to javafx.fxml;\n</code></pre>\n<p>Also make sure that you add this for the model package in the same file (module-info.java):</p>\n<pre><code>opens model to javafx.base;\n</code></pre>\n"}],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8635,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":72072054,"answer_count":2,"score":11,"last_activity_date":1691221898,"creation_date":1651351229,"question_id":72072026,"body_markdown":"I&#39;ve created a JavaFX project using **IntelliJ**, together with Maven. I&#39;m trying to test some system that adds items into an XML file and then parses it and shows me all the items added to the file.\r\n\r\nI want to use **FasterXML/Jackson** for parsing the files. In my `pom.xml`, I&#39;ve added the following dependency:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.13.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n(...) and I also loaded the Maven changes from the button provided by IntellJ. I also pressed the **Reload all Maven Changes** button. The &quot;Dependencies&quot; folder seems to be all okay. I&#39;ve received no errors or complaints:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHowever, when I&#39;m trying to import some Jackson-related class, such as `ObjectMapper`, like this:\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n```\r\n(...) I receive such an error:\r\n`Package &#39;com.fasterxml.jackson.databind&#39; is declared in module &#39;com.fasterxml.jackson.databind&#39;, but module &#39;com.example.demo1&#39; does not read it`.\r\n\r\nThis is my project structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat could be the problem?\r\n\r\n  [1]: https://i.stack.imgur.com/bH2A1.png\r\n  [2]: https://i.stack.imgur.com/ihOmM.png","title":"How to fix &#39;Package is declared in module, but module does not read it&#39; error in IntelliJ JavaFX?","body":"<p>I've created a JavaFX project using <strong>IntelliJ</strong>, together with Maven. I'm trying to test some system that adds items into an XML file and then parses it and shows me all the items added to the file.</p>\n<p>I want to use <strong>FasterXML/Jackson</strong> for parsing the files. In my <code>pom.xml</code>, I've added the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.13.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>(...) and I also loaded the Maven changes from the button provided by IntellJ. I also pressed the <strong>Reload all Maven Changes</strong> button. The &quot;Dependencies&quot; folder seems to be all okay. I've received no errors or complaints:\n<a href=\"https://i.stack.imgur.com/bH2A1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bH2A1.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I'm trying to import some Jackson-related class, such as <code>ObjectMapper</code>, like this:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n</code></pre>\n<p>(...) I receive such an error:\n<code>Package 'com.fasterxml.jackson.databind' is declared in module 'com.fasterxml.jackson.databind', but module 'com.example.demo1' does not read it</code>.</p>\n<p>This is my project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/ihOmM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ihOmM.png\" alt=\"enter image description here\" /></a></p>\n<p>What could be the problem?</p>\n"},{"tags":["java","aws-lambda","aws-serverless","servletcontextlistener","spring-boot-3"],"comments":[{"owner":{"account_id":279568,"reputation":470,"user_id":574808,"display_name":"Renato"},"score":1,"creation_date":1691624050,"post_id":76840633,"comment_id":135518243,"body_markdown":"Can you provide more information on your issue? Like what did you do to migrate from Spring Boot 2 to Spring Boot 3? Did you modify the rest of your application accordingly? Or can you add more of your pom.xml file to see if your other dependencies are actually compatible with SB 3? You can create an issue on the GitHub repository of the project, for easier interaction: https://github.com/awslabs/aws-serverless-java-container","body":"Can you provide more information on your issue? Like what did you do to migrate from Spring Boot 2 to Spring Boot 3? Did you modify the rest of your application accordingly? Or can you add more of your pom.xml file to see if your other dependencies are actually compatible with SB 3? You can create an issue on the GitHub repository of the project, for easier interaction: <a href=\"https://github.com/awslabs/aws-serverless-java-container\" rel=\"nofollow noreferrer\">github.com/awslabs/aws-serverless-java-container</a>"}],"owner":{"account_id":5862685,"reputation":1,"user_id":4617814,"display_name":"Luffy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691221793,"creation_date":1691221793,"question_id":76840633,"body_markdown":"Below code is working in spring boot 2 using aws-serverless-java-container-springboot2\r\n\r\nI tried using aws-serverless-java-container-springboot3 but in below apps there is no API calls/controller. Simply trying to init the bean so that aws lamba can be triggered.\r\n\r\nDoesn&#39;t have proper sample to convert from aws-serverless-java-container-springboot2 to aws-serverless-java-container-springboot3\r\nhttps://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot3 \r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\r\n   &lt;artifactId&gt;aws-serverless-java-container-springboot3&lt;/artifactId&gt;\r\n   &lt;version&gt;2.0.0-M1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n```\r\nimport javax.servlet.ServletContext;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport org.springframework.web.context.support.WebApplicationContextUtils;\r\n\r\nimport com.amazonaws.serverless.exceptions.ContainerInitializationException;\r\nimport com.amazonaws.serverless.proxy.model.AwsProxyRequest;\r\nimport com.amazonaws.serverless.proxy.model.AwsProxyResponse;\r\nimport com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler;\r\nimport com.amazonaws.services.lambda.runtime.Context;\r\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\r\nimport com.amazonaws.services.lambda.runtime.events.ScheduledEvent;\r\nimport com.service.AKRService;\r\n\r\npublic class SvHandler implements RequestHandler &lt; ScheduledEvent, String &gt; {\r\n  private static final Logger logger = LoggerFactory.getLogger(SvHandler.class);\r\n  \r\n  public String handleRequest(ScheduledEvent input, Context context) {\r\n\t  AKRService akrSvc = null;\r\n    try {\r\n    \takrSvc = init();\r\n    } catch (ContainerInitializationException e) {\r\n      logger.error(&quot;Error Initialiazing Spring Boot Container&quot;);\r\n    }\r\n    logger.info(&quot;Started in handleRequest&quot;);\r\n    logger.info(&quot;Got the managed bean: {}&quot;, akrSvc);\r\n    akrSvc.knock();\r\n    return &quot;Success&quot;;\r\n  }\r\n  protected AKRService init() throws ContainerInitializationException {\r\n    final SpringBootLambdaContainerHandler &lt; AwsProxyRequest, AwsProxyResponse &gt; handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(Application.class);\r\n    final ServletContext servContext = handler.getServletContext();\r\n    final WebApplicationContext ctx = WebApplicationContextUtils.getWebApplicationContext(servContext);\r\n    return ctx.getBean(AKRService.class);\r\n  }\r\n}\r\n```\r\n\r\n\r\nI tried using aws-serverless-java-container-springboot3 to convert existing lamba service from spring boot 2\r\n\r\nDoesn&#39;t have proper sample to convert from aws-serverless-java-container-springboot2 to aws-serverless-java-container-springboot3\r\nhttps://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot3 ","title":"AWS serverless java container spring boot 2 to spring boot 3","body":"<p>Below code is working in spring boot 2 using aws-serverless-java-container-springboot2</p>\n<p>I tried using aws-serverless-java-container-springboot3 but in below apps there is no API calls/controller. Simply trying to init the bean so that aws lamba can be triggered.</p>\n<p>Doesn't have proper sample to convert from aws-serverless-java-container-springboot2 to aws-serverless-java-container-springboot3\n<a href=\"https://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot3\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot3</a></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\n   &lt;artifactId&gt;aws-serverless-java-container-springboot3&lt;/artifactId&gt;\n   &lt;version&gt;2.0.0-M1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>import javax.servlet.ServletContext;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.web.context.support.WebApplicationContextUtils;\n\nimport com.amazonaws.serverless.exceptions.ContainerInitializationException;\nimport com.amazonaws.serverless.proxy.model.AwsProxyRequest;\nimport com.amazonaws.serverless.proxy.model.AwsProxyResponse;\nimport com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler;\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\nimport com.amazonaws.services.lambda.runtime.events.ScheduledEvent;\nimport com.service.AKRService;\n\npublic class SvHandler implements RequestHandler &lt; ScheduledEvent, String &gt; {\n  private static final Logger logger = LoggerFactory.getLogger(SvHandler.class);\n  \n  public String handleRequest(ScheduledEvent input, Context context) {\n      AKRService akrSvc = null;\n    try {\n        akrSvc = init();\n    } catch (ContainerInitializationException e) {\n      logger.error(&quot;Error Initialiazing Spring Boot Container&quot;);\n    }\n    logger.info(&quot;Started in handleRequest&quot;);\n    logger.info(&quot;Got the managed bean: {}&quot;, akrSvc);\n    akrSvc.knock();\n    return &quot;Success&quot;;\n  }\n  protected AKRService init() throws ContainerInitializationException {\n    final SpringBootLambdaContainerHandler &lt; AwsProxyRequest, AwsProxyResponse &gt; handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(Application.class);\n    final ServletContext servContext = handler.getServletContext();\n    final WebApplicationContext ctx = WebApplicationContextUtils.getWebApplicationContext(servContext);\n    return ctx.getBean(AKRService.class);\n  }\n}\n</code></pre>\n<p>I tried using aws-serverless-java-container-springboot3 to convert existing lamba service from spring boot 2</p>\n<p>Doesn't have proper sample to convert from aws-serverless-java-container-springboot2 to aws-serverless-java-container-springboot3\n<a href=\"https://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot3\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot3</a></p>\n"},{"tags":["java","plugins","compilation"],"comments":[{"owner":{"account_id":3590069,"reputation":1,"user_id":2996344,"display_name":"Peter J"},"score":0,"creation_date":1691399529,"post_id":76840528,"comment_id":135481102,"body_markdown":"Updates:\nI must use an old version of JDK 8. The updating of the AST can be done by using TreeTranslator in the &quot;started&quot; method in the ANALYZE phase, but resolving the type of the variable is working only in the &quot;finished&quot; method in the ANALYZE. So it is doable, but finding the called type in the same round is probably not possible.","body":"Updates: I must use an old version of JDK 8. The updating of the AST can be done by using TreeTranslator in the &quot;started&quot; method in the ANALYZE phase, but resolving the type of the variable is working only in the &quot;finished&quot; method in the ANALYZE. So it is doable, but finding the called type in the same round is probably not possible."}],"owner":{"account_id":3590069,"reputation":1,"user_id":2996344,"display_name":"Peter J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691219672,"creation_date":1691219672,"question_id":76840528,"body_markdown":"I created a POC where I want to encrypt String constants in specific method calls at compile time.\r\n\r\nI&#39;m using a compiler plugin, used this page as starting point: [Baeldung - Build a Java compiler plugin](https://www.baeldung.com/java-build-compiler-plugin)\r\nI was able to find the method calls (only in the ANALYZE phase), and I can even update the value of the JCTree.JCLiteral seemingly (printed the new value to console), but at the end the compiled classes are still containing the original values.\r\n\r\nThe core part of my code looks like this:\r\n\r\n```\r\nif (taskEvent.getKind() != TaskEvent.Kind.ANALYZE) {\r\n    return;\r\n}\r\ntaskEvent.getCompilationUnit().accept(new TreeScanner&lt;Void, Void&gt;() {\r\n    @Override\r\n    public Void visitMethodInvocation(MethodInvocationTree invocationTree, Void unused) {\r\n\r\n        if (isMethodToBeUpdated(invocationTree, env)) {\r\n            System.out.println(&quot;Found usage: &quot; + invocationTree);\r\n            JCTree.JCMethodInvocation methodInvocation = (JCTree.JCMethodInvocation) invocationTree;\r\n\r\n            JCTree.JCExpression firstParam = methodInvocation.getArguments().get(0);\r\n            if (firstParam instanceof JCTree.JCLiteral) {\r\n                ((JCTree.JCLiteral) firstParam).value = &quot;...FOO...&quot;;\r\n            }\r\n\r\n            System.out.println(&quot;meth after: &quot; + methodInvocation);\r\n            return null;\r\n        }\r\n\r\n        return null;\r\n    }\r\n}, null);\r\n```\r\nUnfortunately this compiler plugin feature is very under documented. I tried to make the update in the PARSE phase, but there the called method&#39;s class (and its interface) is not available (or at least i couldn&#39;t query it).\r\n\r\nAnybody has any experience how to implement the updating of the value the way it gets persisted into the compiled bytecode?\r\n\r\n\r\nBasically I was expecting that if I update the value in the AST, and it is before the GENERATE phase, the bytecode is being generated using the updates AST. I even sout-ed the updated object, which was updated, but if I check the class file, it still contains the unchanged value.","title":"Can I update JCLiteral in Javac plugin","body":"<p>I created a POC where I want to encrypt String constants in specific method calls at compile time.</p>\n<p>I'm using a compiler plugin, used this page as starting point: <a href=\"https://www.baeldung.com/java-build-compiler-plugin\" rel=\"nofollow noreferrer\">Baeldung - Build a Java compiler plugin</a>\nI was able to find the method calls (only in the ANALYZE phase), and I can even update the value of the JCTree.JCLiteral seemingly (printed the new value to console), but at the end the compiled classes are still containing the original values.</p>\n<p>The core part of my code looks like this:</p>\n<pre><code>if (taskEvent.getKind() != TaskEvent.Kind.ANALYZE) {\n    return;\n}\ntaskEvent.getCompilationUnit().accept(new TreeScanner&lt;Void, Void&gt;() {\n    @Override\n    public Void visitMethodInvocation(MethodInvocationTree invocationTree, Void unused) {\n\n        if (isMethodToBeUpdated(invocationTree, env)) {\n            System.out.println(&quot;Found usage: &quot; + invocationTree);\n            JCTree.JCMethodInvocation methodInvocation = (JCTree.JCMethodInvocation) invocationTree;\n\n            JCTree.JCExpression firstParam = methodInvocation.getArguments().get(0);\n            if (firstParam instanceof JCTree.JCLiteral) {\n                ((JCTree.JCLiteral) firstParam).value = &quot;...FOO...&quot;;\n            }\n\n            System.out.println(&quot;meth after: &quot; + methodInvocation);\n            return null;\n        }\n\n        return null;\n    }\n}, null);\n</code></pre>\n<p>Unfortunately this compiler plugin feature is very under documented. I tried to make the update in the PARSE phase, but there the called method's class (and its interface) is not available (or at least i couldn't query it).</p>\n<p>Anybody has any experience how to implement the updating of the value the way it gets persisted into the compiled bytecode?</p>\n<p>Basically I was expecting that if I update the value in the AST, and it is before the GENERATE phase, the bytecode is being generated using the updates AST. I even sout-ed the updated object, which was updated, but if I check the class file, it still contains the unchanged value.</p>\n"},{"tags":["java","spring","spring-boot","spring-data","spring-session"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691223101,"post_id":76840501,"comment_id":135465428,"body_markdown":"Try not using `JSESSIONID` but a different cookie.","body":"Try not using <code>JSESSIONID</code> but a different cookie."}],"owner":{"account_id":12785520,"reputation":178,"user_id":11672197,"display_name":"qarabala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691219103,"creation_date":1691219103,"question_id":76840501,"body_markdown":"This question has already been asked on SO, yet the answers were primarily using Security. I have the following constellations:\r\n* I do not use Spring Security\r\n* I use Spring Session JDBC\r\n\r\nWhen I restart the website (as a process), the sessions persist. However, when I close and reopen the browser, the session gets closed. I have tried prolonging the cookie life:\r\n\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.session.web.http.CookieSerializer;\r\nimport org.springframework.session.web.http.DefaultCookieSerializer;\r\n\r\n@Configuration\r\npublic class SessionConfig {\r\n\r\n    @Bean\r\n    public CookieSerializer cookieSerializer() {\r\n        DefaultCookieSerializer serializer = new DefaultCookieSerializer();\r\n        // Customize the cookie\r\n        serializer.setCookieName(&quot;JSESSIONID&quot;);\r\n        serializer.setUseSecureCookie(true);\r\n        serializer.setUseHttpOnlyCookie(true);\r\n        serializer.setCookieMaxAge(60 * 60 * 24 * 365); // Set max age to 365 days\r\n        return serializer;\r\n    }\r\n\r\n}\r\n```\r\n\r\nBut that did not help. I have no idea what to do next.","title":"Persist session after browser is closed (Spring Boot edition)","body":"<p>This question has already been asked on SO, yet the answers were primarily using Security. I have the following constellations:</p>\n<ul>\n<li>I do not use Spring Security</li>\n<li>I use Spring Session JDBC</li>\n</ul>\n<p>When I restart the website (as a process), the sessions persist. However, when I close and reopen the browser, the session gets closed. I have tried prolonging the cookie life:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.session.web.http.CookieSerializer;\nimport org.springframework.session.web.http.DefaultCookieSerializer;\n\n@Configuration\npublic class SessionConfig {\n\n    @Bean\n    public CookieSerializer cookieSerializer() {\n        DefaultCookieSerializer serializer = new DefaultCookieSerializer();\n        // Customize the cookie\n        serializer.setCookieName(&quot;JSESSIONID&quot;);\n        serializer.setUseSecureCookie(true);\n        serializer.setUseHttpOnlyCookie(true);\n        serializer.setCookieMaxAge(60 * 60 * 24 * 365); // Set max age to 365 days\n        return serializer;\n    }\n\n}\n</code></pre>\n<p>But that did not help. I have no idea what to do next.</p>\n"},{"tags":["python","java","spring","maven","jsonschema"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1690918012,"post_id":76814351,"comment_id":135419157,"body_markdown":"This looks to be an [XY Problem](https://xyproblem.info/). Your real issue is the first sentence of your question.","body":"This looks to be an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. Your real issue is the first sentence of your question."}],"answers":[{"tags":[],"owner":{"account_id":29138867,"reputation":1,"user_id":22322355,"display_name":"todododo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691218916,"creation_date":1690966428,"answer_id":76818165,"question_id":76814351,"body_markdown":"Solution for pip error was:\r\n\r\n    pip install &quot;cython&lt;3.0.0&quot; wheel &amp;&amp; pip install pyyaml==5.4.1 --no-build-isolation\r\n\r\nand then you can run \r\n\r\n    pip install\r\n\r\n","title":"Is there a way to call a python script to do some steps when i do a maven clean package in java?","body":"<p>Solution for pip error was:</p>\n<pre><code>pip install &quot;cython&lt;3.0.0&quot; wheel &amp;&amp; pip install pyyaml==5.4.1 --no-build-isolation\n</code></pre>\n<p>and then you can run</p>\n<pre><code>pip install\n</code></pre>\n"}],"owner":{"account_id":29138867,"reputation":1,"user_id":22322355,"display_name":"todododo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700188488,"answer_count":1,"score":0,"last_activity_date":1691218916,"creation_date":1690914693,"question_id":76814351,"body_markdown":"I have a Spring Boot project with different yaml&#39;s and i want to create Json Schema for which one of them, but automatically, when i do a Maven clean package.\r\n\r\nI found out about [openapi2jsonschema](https://github.com/instrumenta/openapi2jsonschema) but i don&#39;t know how to use it in my project to do what i want. I tried to install by hand, but when i do a\r\n\r\n`pip install openapi2jsonschema `\r\n\r\ni receive the next error:\r\n\r\n```\r\n\r\n`C:\\\\Users\\\\Administrator\\&gt;pip install openapi2jsonschema`\r\n`Collecting openapi2jsonschema`\r\n`Using cached openapi2jsonschema-0.9.1-py3-none-any.whl (8.2 kB)`\r\n`Collecting click\\&lt;8.0,\\&gt;=7.0 (from openapi2jsonschema)`\r\n`Using cached click-7.1.2-py2.py3-none-any.whl (82 kB)\r\nRequirement already satisfied: colorama\\&lt;0.5.0,\\&gt;=0.4.1 in c:\\\\users\\\\administrator\\\\appdata\\\\local\\\\programs\\\\python\\\\python311\\\\lib\\\\site-packages (from openapi2jsonschema) (0.4.6)\r\nCollecting jsonref\\&lt;0.3.0,\\&gt;=0.2.0 (from openapi2jsonschema)\r\nUsing cached jsonref-0.2-py3-none-any.whl (9.3 kB)\r\nCollecting pyyaml\\&lt;6.0,\\&gt;=5.1 (from openapi2jsonschema)\r\nUsing cached PyYAML-5.4.1.tar.gz (175 kB)\r\nInstalling build dependencies ... done\r\nGetting requirements to build wheel ... error\r\nerror: subprocess-exited-with-error\r\n\r\n&#215; Getting requirements to build wheel did not run successfully.\r\n│ exit code: 1\r\n╰─\\&gt; \\[68 lines of output\\]\r\nC:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Temp\\\\pip-build-env-kwh5il8k\\\\overlay\\\\Lib\\\\site-packages\\\\setuptools\\\\config\\\\setupcfg.py:293: \\_DeprecatedConfig: Deprecated config in `setup.cfg`\r\n!!\r\n\r\n              ********************************************************************************\r\n              The license_file parameter is deprecated, use license_files instead.\r\n    \r\n              By 2023-Oct-30, you need to update your project and remove deprecated calls\r\n              or your builds will no longer be supported.\r\n    \r\n              See https://setuptools.pypa.io/en/latest/userguide/declarative_config.html for details.\r\n              ********************************************************************************\r\n    \r\n      !!\r\n        parsed = self.parsers.get(option_name, lambda x: x)(value)\r\n      running egg_info\r\n      writing lib3\\PyYAML.egg-info\\PKG-INFO\r\n      writing dependency_links to lib3\\PyYAML.egg-info\\dependency_links.txt\r\n      writing top-level names to lib3\\PyYAML.egg-info\\top_level.txt\r\n      Traceback (most recent call last):\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py&quot;, line 353, in &lt;module&gt;\r\n          main()\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py&quot;, line 335, in main\r\n          json_out[&#39;return_val&#39;] = hook(**hook_input[&#39;kwargs&#39;])\r\n                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py&quot;, line 118, in get_requires_for_build_wheel\r\n          return hook(config_settings)\r\n                 ^^^^^^^^^^^^^^^^^^^^^\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py&quot;, line 341, in get_requires_for_build_wheel\r\n          return self._get_build_requires(config_settings, requirements=[&#39;wheel&#39;])\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py&quot;, line 323, in _get_build_requires\r\n          self.run_setup()\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py&quot;, line 338, in run_setup\r\n          exec(code, locals())\r\n        File &quot;&lt;string&gt;&quot;, line 271, in &lt;module&gt;\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\__init__.py&quot;, line 107, in setup\r\n          return distutils.core.setup(**attrs)\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\core.py&quot;, line 185, in setup\r\n          return run_commands(dist)\r\n                 ^^^^^^^^^^^^^^^^^^\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\core.py&quot;, line 201, in run_commands\r\n          dist.run_commands()\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py&quot;, line 969, in run_commands\r\n          self.run_command(cmd)\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\dist.py&quot;, line 1234, in run_command\r\n          super().run_command(command)\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py&quot;, line 988, in run_command\r\n          cmd_obj.run()\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\command\\egg_info.py&quot;, line 314, in run\r\n          self.find_sources()\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\command\\egg_info.py&quot;, line 322, in find_sources\r\n          mm.run()\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\command\\egg_info.py&quot;, line 551, in run\r\n          self.add_defaults()\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\command\\egg_info.py&quot;, line 589, in add_defaults\r\n          sdist.add_defaults(self)\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\command\\sdist.py&quot;, line 104, in add_defaults\r\n          super().add_defaults()\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\command\\sdist.py&quot;, line 251, in add_defaults\r\n          self._add_defaults_ext()\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\command\\sdist.py&quot;, line 336, in _add_defaults_ext\r\n          self.filelist.extend(build_ext.get_source_files())\r\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File &quot;&lt;string&gt;&quot;, line 201, in get_source_files\r\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\cmd.py&quot;, line 107, in __getattr__\r\n          raise AttributeError(attr)\r\n      AttributeError: cython_sources\r\n      [end of output]\r\n\r\n\r\nnote: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: subprocess-exited-with-error\r\n\r\n&#215; Getting requirements to build wheel did not run successfully.\r\n│ exit code: 1\r\n╰─\\&gt; See above for output.\r\n\r\nnote: This error originates from a subprocess, and is likely not a problem with pip.\r\n\r\nC:\\\\Users\\\\Administrator\\&gt;pip --version\r\npip 23.2.1 from C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python311\\\\Lib\\\\site-packages\\\\pip (python 3.11)`\r\n```\r\n\r\nCan i put this whole thing of pip install openSchema in a python script in maven, and then when i do a mvn clean package to work out without any errors...? thanks..\r\n\r\nI watched  out different example to add this thing in a maven pom file, but i don&#39;t know how..","title":"Is there a way to call a python script to do some steps when i do a maven clean package in java?","body":"<p>I have a Spring Boot project with different yaml's and i want to create Json Schema for which one of them, but automatically, when i do a Maven clean package.</p>\n<p>I found out about <a href=\"https://github.com/instrumenta/openapi2jsonschema\" rel=\"nofollow noreferrer\">openapi2jsonschema</a> but i don't know how to use it in my project to do what i want. I tried to install by hand, but when i do a</p>\n<p><code>pip install openapi2jsonschema </code></p>\n<p>i receive the next error:</p>\n<pre><code>\n`C:\\\\Users\\\\Administrator\\&gt;pip install openapi2jsonschema`\n`Collecting openapi2jsonschema`\n`Using cached openapi2jsonschema-0.9.1-py3-none-any.whl (8.2 kB)`\n`Collecting click\\&lt;8.0,\\&gt;=7.0 (from openapi2jsonschema)`\n`Using cached click-7.1.2-py2.py3-none-any.whl (82 kB)\nRequirement already satisfied: colorama\\&lt;0.5.0,\\&gt;=0.4.1 in c:\\\\users\\\\administrator\\\\appdata\\\\local\\\\programs\\\\python\\\\python311\\\\lib\\\\site-packages (from openapi2jsonschema) (0.4.6)\nCollecting jsonref\\&lt;0.3.0,\\&gt;=0.2.0 (from openapi2jsonschema)\nUsing cached jsonref-0.2-py3-none-any.whl (9.3 kB)\nCollecting pyyaml\\&lt;6.0,\\&gt;=5.1 (from openapi2jsonschema)\nUsing cached PyYAML-5.4.1.tar.gz (175 kB)\nInstalling build dependencies ... done\nGetting requirements to build wheel ... error\nerror: subprocess-exited-with-error\n\n× Getting requirements to build wheel did not run successfully.\n│ exit code: 1\n╰─\\&gt; \\[68 lines of output\\]\nC:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Temp\\\\pip-build-env-kwh5il8k\\\\overlay\\\\Lib\\\\site-packages\\\\setuptools\\\\config\\\\setupcfg.py:293: \\_DeprecatedConfig: Deprecated config in `setup.cfg`\n!!\n\n              ********************************************************************************\n              The license_file parameter is deprecated, use license_files instead.\n    \n              By 2023-Oct-30, you need to update your project and remove deprecated calls\n              or your builds will no longer be supported.\n    \n              See https://setuptools.pypa.io/en/latest/userguide/declarative_config.html for details.\n              ********************************************************************************\n    \n      !!\n        parsed = self.parsers.get(option_name, lambda x: x)(value)\n      running egg_info\n      writing lib3\\PyYAML.egg-info\\PKG-INFO\n      writing dependency_links to lib3\\PyYAML.egg-info\\dependency_links.txt\n      writing top-level names to lib3\\PyYAML.egg-info\\top_level.txt\n      Traceback (most recent call last):\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py&quot;, line 353, in &lt;module&gt;\n          main()\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py&quot;, line 335, in main\n          json_out['return_val'] = hook(**hook_input['kwargs'])\n                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py&quot;, line 118, in get_requires_for_build_wheel\n          return hook(config_settings)\n                 ^^^^^^^^^^^^^^^^^^^^^\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py&quot;, line 341, in get_requires_for_build_wheel\n          return self._get_build_requires(config_settings, requirements=['wheel'])\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py&quot;, line 323, in _get_build_requires\n          self.run_setup()\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py&quot;, line 338, in run_setup\n          exec(code, locals())\n        File &quot;&lt;string&gt;&quot;, line 271, in &lt;module&gt;\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\__init__.py&quot;, line 107, in setup\n          return distutils.core.setup(**attrs)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\core.py&quot;, line 185, in setup\n          return run_commands(dist)\n                 ^^^^^^^^^^^^^^^^^^\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\core.py&quot;, line 201, in run_commands\n          dist.run_commands()\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py&quot;, line 969, in run_commands\n          self.run_command(cmd)\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\dist.py&quot;, line 1234, in run_command\n          super().run_command(command)\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py&quot;, line 988, in run_command\n          cmd_obj.run()\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\command\\egg_info.py&quot;, line 314, in run\n          self.find_sources()\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\command\\egg_info.py&quot;, line 322, in find_sources\n          mm.run()\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\command\\egg_info.py&quot;, line 551, in run\n          self.add_defaults()\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\command\\egg_info.py&quot;, line 589, in add_defaults\n          sdist.add_defaults(self)\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\command\\sdist.py&quot;, line 104, in add_defaults\n          super().add_defaults()\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\command\\sdist.py&quot;, line 251, in add_defaults\n          self._add_defaults_ext()\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\command\\sdist.py&quot;, line 336, in _add_defaults_ext\n          self.filelist.extend(build_ext.get_source_files())\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        File &quot;&lt;string&gt;&quot;, line 201, in get_source_files\n        File &quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-kwh5il8k\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\cmd.py&quot;, line 107, in __getattr__\n          raise AttributeError(attr)\n      AttributeError: cython_sources\n      [end of output]\n\n\nnote: This error originates from a subprocess, and is likely not a problem with pip.\nerror: subprocess-exited-with-error\n\n× Getting requirements to build wheel did not run successfully.\n│ exit code: 1\n╰─\\&gt; See above for output.\n\nnote: This error originates from a subprocess, and is likely not a problem with pip.\n\nC:\\\\Users\\\\Administrator\\&gt;pip --version\npip 23.2.1 from C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python311\\\\Lib\\\\site-packages\\\\pip (python 3.11)`\n</code></pre>\n<p>Can i put this whole thing of pip install openSchema in a python script in maven, and then when i do a mvn clean package to work out without any errors...? thanks..</p>\n<p>I watched  out different example to add this thing in a maven pom file, but i don't know how..</p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1691218171,"post_id":76840444,"comment_id":135465047,"body_markdown":"Try defining `cnt` as `final`, and you should see the problem.","body":"Try defining <code>cnt</code> as <code>final</code>, and you should see the problem."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1691218291,"post_id":76840444,"comment_id":135465054,"body_markdown":"As an aside: for this concrete problem, I recommend using [`AtomicInteger` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html) instead of `Integer`. This will eliminate the need to use `synchronized`.","body":"As an aside: for this concrete problem, I recommend using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\"><code>AtomicInteger</code> (<code>docs.oracle.com</code>)</a> instead of <code>Integer</code>. This will eliminate the need to use <code>synchronized</code>."},{"owner":{"account_id":18077324,"reputation":33,"user_id":13140208,"display_name":"madina11906036"},"score":0,"creation_date":1691218443,"post_id":76840444,"comment_id":135465063,"body_markdown":"how can i modify the **cnt** variable if it is declared as final? @Turing85","body":"how can i modify the <b>cnt</b> variable if it is declared as final? @Turing85"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1691218520,"post_id":76840444,"comment_id":135465069,"body_markdown":"There seems to be a misunderstanding. You cannot modify `Integer`-instances; they are immutable.","body":"There seems to be a misunderstanding. You cannot modify <code>Integer</code>-instances; they are immutable."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1691218999,"post_id":76840444,"comment_id":135465105,"body_markdown":"Locks are acquired on objects, not variables. When the value of `cnt` changes, that causes different threads to acquire different locks.","body":"Locks are acquired on objects, not variables. When the value of <code>cnt</code> changes, that causes different threads to acquire different locks."},{"owner":{"account_id":18077324,"reputation":33,"user_id":13140208,"display_name":"madina11906036"},"score":0,"creation_date":1691219061,"post_id":76840444,"comment_id":135465114,"body_markdown":"I replace **Integer cnt = 0** with **MyInt cnt = new MyInt();** adding\nstatic class MyInt {int val = 0;} and then it works","body":"I replace <b>Integer cnt = 0</b> with <b>MyInt cnt = new MyInt();</b> adding static class MyInt {int val = 0;} and then it works"},{"owner":{"account_id":18077324,"reputation":33,"user_id":13140208,"display_name":"madina11906036"},"score":0,"creation_date":1691219278,"post_id":76840444,"comment_id":135465135,"body_markdown":"Understood. Tnx @Turing85","body":"Understood. Tnx @Turing85"}],"owner":{"account_id":18077324,"reputation":33,"user_id":13140208,"display_name":"madina11906036"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691218573,"answer_count":0,"score":0,"last_activity_date":1691217767,"creation_date":1691217767,"question_id":76840444,"body_markdown":"I wrote a **SharedObject** class which has two methods to increment a variable. The expected result is **200000** but it shows much less than that. I thought the synchronized block will acquire lock on the **cnt** variable and thus no two threads can modify or access it but it&#39;s not happening. Why is it so?  \r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        SharedObject sharedObject = new SharedObject();\r\n        Thread producer = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                sharedObject.produce();\r\n            }\r\n        });\r\n        Thread consumer = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                sharedObject.consume();\r\n            }\r\n        });\r\n        producer.start();\r\n        consumer.start();\r\n        producer.join();\r\n        consumer.join();\r\n        System.out.println(sharedObject.cnt);\r\n    }\r\n    static class SharedObject {\r\n        Integer cnt = 0;\r\n        void produce() {\r\n            for(int i=0; i&lt;100000; i++) {\r\n                synchronized (cnt) {\r\n                    cnt++;\r\n                }\r\n            }\r\n        }\r\n        void consume() {\r\n            for(int i=0; i&lt;100000; i++) {\r\n                synchronized (cnt) {\r\n                    cnt++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Why is the lock on synchronized block not working?","body":"<p>I wrote a <strong>SharedObject</strong> class which has two methods to increment a variable. The expected result is <strong>200000</strong> but it shows much less than that. I thought the synchronized block will acquire lock on the <strong>cnt</strong> variable and thus no two threads can modify or access it but it's not happening. Why is it so?</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws InterruptedException {\n        SharedObject sharedObject = new SharedObject();\n        Thread producer = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                sharedObject.produce();\n            }\n        });\n        Thread consumer = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                sharedObject.consume();\n            }\n        });\n        producer.start();\n        consumer.start();\n        producer.join();\n        consumer.join();\n        System.out.println(sharedObject.cnt);\n    }\n    static class SharedObject {\n        Integer cnt = 0;\n        void produce() {\n            for(int i=0; i&lt;100000; i++) {\n                synchronized (cnt) {\n                    cnt++;\n                }\n            }\n        }\n        void consume() {\n            for(int i=0; i&lt;100000; i++) {\n                synchronized (cnt) {\n                    cnt++;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691159840,"creation_date":1691159840,"answer_id":76836915,"question_id":76836230,"body_markdown":"You can use the following transformation\r\n```json\r\n[\r\n  { // form objects from array keys vs. array components\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;GroupMembers&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;$1&quot;: &quot;&amp;3.&amp;2.&amp;1.groupId&quot;, // partition by top level object, array and its indexes\r\n            &quot;@&quot;: &quot;&amp;3.&amp;2.&amp;1.memberId&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  { // collect each key-value pairs under the common array node, namely &quot;GroupMembers&quot;\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;&amp;2[]&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rus2H.jpg","title":"Jolt: Convert string array into individual objects","body":"<p>You can use the following transformation</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  { // form objects from array keys vs. array components\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;GroupMembers&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;$1&quot;: &quot;&amp;3.&amp;2.&amp;1.groupId&quot;, // partition by top level object, array and its indexes\n            &quot;@&quot;: &quot;&amp;3.&amp;2.&amp;1.memberId&quot;\n          }\n        }\n      }\n    }\n  },\n  { // collect each key-value pairs under the common array node, namely &quot;GroupMembers&quot;\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;&amp;2[]&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is :</p>\n<p><a href=\"https://i.stack.imgur.com/rus2H.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rus2H.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691214118,"creation_date":1691214118,"answer_id":76840303,"question_id":76836230,"body_markdown":"You may consider another library _Josson_ to do the JSON transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{\\&quot;GroupMembers\\&quot;:{\\&quot;group1\\&quot;:[\\&quot;member1\\&quot;,\\&quot;member2\\&quot;,\\&quot;member3\\&quot;],\\&quot;group2\\&quot;:[\\&quot;member1\\&quot;,\\&quot;member4\\&quot;,\\&quot;member6\\&quot;,\\&quot;member8\\&quot;],\\&quot;group3\\&quot;:[\\&quot;member2\\&quot;,\\&quot;member6\\&quot;]}}&quot;);\r\n    JsonNode node = josson.getNode(\r\n        &quot;map(GroupMembers.entries().map(groupId:key, memberId:value).unwind(memberId))&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;GroupMembers&quot; : [ {\r\n        &quot;groupId&quot; : &quot;group1&quot;,\r\n        &quot;memberId&quot; : &quot;member1&quot;\r\n      }, {\r\n        &quot;groupId&quot; : &quot;group1&quot;,\r\n        &quot;memberId&quot; : &quot;member2&quot;\r\n      }, {\r\n        &quot;groupId&quot; : &quot;group1&quot;,\r\n        &quot;memberId&quot; : &quot;member3&quot;\r\n      }, {\r\n        &quot;groupId&quot; : &quot;group2&quot;,\r\n        &quot;memberId&quot; : &quot;member1&quot;\r\n      }, {\r\n        &quot;groupId&quot; : &quot;group2&quot;,\r\n        &quot;memberId&quot; : &quot;member4&quot;\r\n      }, {\r\n        &quot;groupId&quot; : &quot;group2&quot;,\r\n        &quot;memberId&quot; : &quot;member6&quot;\r\n      }, {\r\n        &quot;groupId&quot; : &quot;group2&quot;,\r\n        &quot;memberId&quot; : &quot;member8&quot;\r\n      }, {\r\n        &quot;groupId&quot; : &quot;group3&quot;,\r\n        &quot;memberId&quot; : &quot;member2&quot;\r\n      }, {\r\n        &quot;groupId&quot; : &quot;group3&quot;,\r\n        &quot;memberId&quot; : &quot;member6&quot;\r\n      } ]\r\n    }\r\n","title":"Jolt: Convert string array into individual objects","body":"<p>You may consider another library <em>Josson</em> to do the JSON transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{\\&quot;GroupMembers\\&quot;:{\\&quot;group1\\&quot;:[\\&quot;member1\\&quot;,\\&quot;member2\\&quot;,\\&quot;member3\\&quot;],\\&quot;group2\\&quot;:[\\&quot;member1\\&quot;,\\&quot;member4\\&quot;,\\&quot;member6\\&quot;,\\&quot;member8\\&quot;],\\&quot;group3\\&quot;:[\\&quot;member2\\&quot;,\\&quot;member6\\&quot;]}}&quot;);\nJsonNode node = josson.getNode(\n    &quot;map(GroupMembers.entries().map(groupId:key, memberId:value).unwind(memberId))&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;GroupMembers&quot; : [ {\n    &quot;groupId&quot; : &quot;group1&quot;,\n    &quot;memberId&quot; : &quot;member1&quot;\n  }, {\n    &quot;groupId&quot; : &quot;group1&quot;,\n    &quot;memberId&quot; : &quot;member2&quot;\n  }, {\n    &quot;groupId&quot; : &quot;group1&quot;,\n    &quot;memberId&quot; : &quot;member3&quot;\n  }, {\n    &quot;groupId&quot; : &quot;group2&quot;,\n    &quot;memberId&quot; : &quot;member1&quot;\n  }, {\n    &quot;groupId&quot; : &quot;group2&quot;,\n    &quot;memberId&quot; : &quot;member4&quot;\n  }, {\n    &quot;groupId&quot; : &quot;group2&quot;,\n    &quot;memberId&quot; : &quot;member6&quot;\n  }, {\n    &quot;groupId&quot; : &quot;group2&quot;,\n    &quot;memberId&quot; : &quot;member8&quot;\n  }, {\n    &quot;groupId&quot; : &quot;group3&quot;,\n    &quot;memberId&quot; : &quot;member2&quot;\n  }, {\n    &quot;groupId&quot; : &quot;group3&quot;,\n    &quot;memberId&quot; : &quot;member6&quot;\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":6098948,"reputation":295,"user_id":4758691,"display_name":"Praveen Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76836915,"answer_count":2,"score":1,"last_activity_date":1691217514,"creation_date":1691154538,"question_id":76836230,"body_markdown":"I&#39;m trying to convert an array of strings into objects. Which is not workings as I expected. Can someone help me with this?\r\n\r\nI got struck by splitting the array of items into individual objects. Some of the items are forming as an array only.\r\n\r\nInput JSON:\r\n```json\r\n{\r\n  &quot;GroupMembers&quot;: {\r\n    &quot;group1&quot;: [\r\n      &quot;member1&quot;,\r\n      &quot;member2&quot;,\r\n      &quot;member3&quot;\r\n    ],\r\n    &quot;group2&quot;: [\r\n      &quot;member1&quot;,\r\n      &quot;member4&quot;,\r\n      &quot;member6&quot;,\r\n      &quot;member8&quot;\r\n    ],\r\n    &quot;group3&quot;: [\r\n      &quot;member2&quot;,\r\n      &quot;member6&quot;\r\n    ]\r\n  }\r\n}\r\n```\r\nMy Spec File:\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;GroupMembers&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;@(1,[&amp;])&quot;: {\r\n              &quot;*&quot;: {\r\n                &quot;$(3)&quot;: &quot;GroupMembers[#4].groupId&quot;,\r\n                &quot;$&quot;: &quot;GroupMembers[#4].memberId&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nand my expected output is\r\n\r\n```json\r\n{\r\n  &quot;GroupMembers&quot;: [\r\n    {\r\n      &quot;groupId&quot;: &quot;group1&quot;,\r\n      &quot;memberId&quot;: &quot;member1&quot;\r\n    },\r\n    {\r\n      &quot;groupId&quot;: &quot;group1&quot;,\r\n      &quot;memberId&quot;: &quot;member2&quot;\r\n    },\r\n    {\r\n      &quot;groupId&quot;: &quot;group1&quot;,\r\n      &quot;memberId&quot;: &quot;member3&quot;\r\n    },\r\n    {\r\n      &quot;groupId&quot;: &quot;group2&quot;,\r\n      &quot;memberId&quot;: &quot;member1&quot;\r\n    },\r\n       .....\r\n       .....    \r\n    {\r\n      &quot;groupId&quot;: &quot;group3&quot;,\r\n      &quot;memberId&quot;: &quot;member6&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n","title":"Jolt: Convert string array into individual objects","body":"<p>I'm trying to convert an array of strings into objects. Which is not workings as I expected. Can someone help me with this?</p>\n<p>I got struck by splitting the array of items into individual objects. Some of the items are forming as an array only.</p>\n<p>Input JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;GroupMembers&quot;: {\n    &quot;group1&quot;: [\n      &quot;member1&quot;,\n      &quot;member2&quot;,\n      &quot;member3&quot;\n    ],\n    &quot;group2&quot;: [\n      &quot;member1&quot;,\n      &quot;member4&quot;,\n      &quot;member6&quot;,\n      &quot;member8&quot;\n    ],\n    &quot;group3&quot;: [\n      &quot;member2&quot;,\n      &quot;member6&quot;\n    ]\n  }\n}\n</code></pre>\n<p>My Spec File:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;GroupMembers&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;@(1,[&amp;])&quot;: {\n              &quot;*&quot;: {\n                &quot;$(3)&quot;: &quot;GroupMembers[#4].groupId&quot;,\n                &quot;$&quot;: &quot;GroupMembers[#4].memberId&quot;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>and my expected output is</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;GroupMembers&quot;: [\n    {\n      &quot;groupId&quot;: &quot;group1&quot;,\n      &quot;memberId&quot;: &quot;member1&quot;\n    },\n    {\n      &quot;groupId&quot;: &quot;group1&quot;,\n      &quot;memberId&quot;: &quot;member2&quot;\n    },\n    {\n      &quot;groupId&quot;: &quot;group1&quot;,\n      &quot;memberId&quot;: &quot;member3&quot;\n    },\n    {\n      &quot;groupId&quot;: &quot;group2&quot;,\n      &quot;memberId&quot;: &quot;member1&quot;\n    },\n       .....\n       .....    \n    {\n      &quot;groupId&quot;: &quot;group3&quot;,\n      &quot;memberId&quot;: &quot;member6&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","class","oop","inheritance","package"],"comments":[{"owner":{"account_id":24614246,"reputation":567,"user_id":18515436,"display_name":"eng"},"score":2,"creation_date":1691215267,"post_id":76840339,"comment_id":135464809,"body_markdown":"Providing CODE instead of images of it helps to get much faster recommendations from the community.it is one of the reasons that you get Downvote","body":"Providing CODE instead of images of it helps to get much faster recommendations from the community.it is one of the reasons that you get Downvote"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1691215395,"post_id":76840339,"comment_id":135464819,"body_markdown":"Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691216904,"post_id":76840339,"comment_id":135464943,"body_markdown":"You could try (I would be curious to know).....  Put in the same folder a new file in with the correct name and same name class as the new file.java and public, and it should be extended from the class you do not want to change(has main method in it).","body":"You could try (I would be curious to know).....  Put in the same folder a new file in with the correct name and same name class as the new file.java and public, and it should be extended from the class you do not want to change(has main method in it)."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1691217144,"post_id":76840339,"comment_id":135464968,"body_markdown":"One file can contain at most one public, top-level class. So the answer is: put your classes in their own files.","body":"One file can contain at most one public, top-level class. So the answer is: put your classes in their own files."},{"owner":{"account_id":3267988,"reputation":83575,"user_id":2752075,"accept_rate":89,"display_name":"HolyBlackCat"},"score":0,"creation_date":1692765673,"post_id":76840339,"comment_id":135667305,"body_markdown":"Just want to say: don&#39;t get discouraged by the downvotes, this is actually a nice place if you follow all the (un)written rules.","body":"Just want to say: don&#39;t get discouraged by the downvotes, this is actually a nice place if you follow all the (un)written rules."}],"answers":[{"tags":[],"owner":{"display_name":"user2453382"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691217411,"creation_date":1691217411,"answer_id":76840431,"question_id":76840339,"body_markdown":"Answer 1: Importing package has nothing to do with how many `main` methods you have. `main` method under public class will be executed by default.\r\n\r\nAnswer 2: Your java file must have same name as your public class. See [this][1] stackoverflow answer to the question **Can a java file have more than one class?**:\r\n\r\n&gt; Yes, it can. However, there can only be one public top-level class per\r\n&gt; .java file, and public top-level classes must have the same name as\r\n&gt; the source file.\r\n&gt; \r\n&gt; The purpose of including multiple classes in one source file is to\r\n&gt; bundle related support functionality (internal data structures,\r\n&gt; support classes, etc) together with the main public class. Note that\r\n&gt; it is always OK not to do this--the only effect is on the readability\r\n&gt; (or not) of your code.\r\n\r\n\r\nBasically you can declare `public static void main(String[] args)` inside that public class. Which you did in class `OOP3`. \r\n\r\nAnswer 3: If you have different classes in a package you can use them like this:\r\n\r\n```java\r\nimport packagename.ClassA;\r\nimport packagename.ClassB;\r\n\r\npublic class OOP {\r\n    \r\n    public static void main(String[] args) {\r\n        ClassA objA = new ClassA();\r\n        ClassB objB = new ClassB();\r\n        objA.doSomething();\r\n        // etc.\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/968360/2453382\r\n  ","title":"If I want to make a package can I not have a main method in the file?","body":"<p>Answer 1: Importing package has nothing to do with how many <code>main</code> methods you have. <code>main</code> method under public class will be executed by default.</p>\n<p>Answer 2: Your java file must have same name as your public class. See <a href=\"https://stackoverflow.com/a/968360/2453382\">this</a> stackoverflow answer to the question <strong>Can a java file have more than one class?</strong>:</p>\n<blockquote>\n<p>Yes, it can. However, there can only be one public top-level class per\n.java file, and public top-level classes must have the same name as\nthe source file.</p>\n<p>The purpose of including multiple classes in one source file is to\nbundle related support functionality (internal data structures,\nsupport classes, etc) together with the main public class. Note that\nit is always OK not to do this--the only effect is on the readability\n(or not) of your code.</p>\n</blockquote>\n<p>Basically you can declare <code>public static void main(String[] args)</code> inside that public class. Which you did in class <code>OOP3</code>.</p>\n<p>Answer 3: If you have different classes in a package you can use them like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import packagename.ClassA;\nimport packagename.ClassB;\n\npublic class OOP {\n    \n    public static void main(String[] args) {\n        ClassA objA = new ClassA();\n        ClassB objB = new ClassB();\n        objA.doSomething();\n        // etc.\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26714354,"reputation":1,"user_id":20319168,"display_name":"Squash101"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1691232122,"answer_count":1,"score":-3,"last_activity_date":1691217411,"creation_date":1691215124,"question_id":76840339,"body_markdown":"I am just learning about OOP in Java, and I&#39;m kinda running into a bug. I want to import a package onto another file. I want to import everything from the package, but it tells me to declare it public which makes sense but if I declare it public then it wants be to re-name the entire file. is there a way around this? Like if I have a few different classes in one package how would I create the objects on the other file?\r\n\r\n[enter image description here](https://i.stack.imgur.com/hChCV.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/DTUUg.png)\r\n\r\nI tried re-naming the file name and made it the same as the class.","title":"If I want to make a package can I not have a main method in the file?","body":"<p>I am just learning about OOP in Java, and I'm kinda running into a bug. I want to import a package onto another file. I want to import everything from the package, but it tells me to declare it public which makes sense but if I declare it public then it wants be to re-name the entire file. is there a way around this? Like if I have a few different classes in one package how would I create the objects on the other file?</p>\n<p><a href=\"https://i.stack.imgur.com/hChCV.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/DTUUg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried re-naming the file name and made it the same as the class.</p>\n"},{"tags":["java","java-time","localdate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1691034307,"post_id":76824758,"comment_id":135436837,"body_markdown":"Please edit your question to include the code you have written, and explain exactly where you are stuck.","body":"Please edit your question to include the code you have written, and explain exactly where you are stuck."},{"owner":{"account_id":7332473,"reputation":11,"user_id":5584897,"display_name":"venu"},"score":0,"creation_date":1691036086,"post_id":76824758,"comment_id":135436987,"body_markdown":"Need to merge all overlap period and keep remaining non overlap period in resultList","body":"Need to merge all overlap period and keep remaining non overlap period in resultList"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691036204,"post_id":76824758,"comment_id":135436996,"body_markdown":"Please edit your question to include the code you have written, and explain exactly where you are stuck.","body":"Please edit your question to include the code you have written, and explain exactly where you are stuck."},{"owner":{"account_id":7332473,"reputation":11,"user_id":5584897,"display_name":"venu"},"score":0,"creation_date":1691037073,"post_id":76824758,"comment_id":135437079,"body_markdown":"@tgdavies yeah did it","body":"@tgdavies yeah did it"}],"owner":{"account_id":7332473,"reputation":11,"user_id":5584897,"display_name":"venu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691215644,"creation_date":1691033946,"question_id":76824758,"body_markdown":"Consider below example , inputList has overlap date ranges\r\n\r\n```java\r\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 1), LocalDate.of(2023, 7, 10)));\r\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 5), LocalDate.of(2023, 7, 30)));\r\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 10), LocalDate.of(2023, 7, 20)));\r\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 15), LocalDate.of(2023, 7, 20)));\r\n        inputList.add(new DateRange(LocalDate.of(2023, 8, 1), LocalDate.of(2023, 8, 20)));\r\n```\r\n\r\nNeed to merge all overlap period and keep remaining non overlap period in resultList \r\n\r\n```java\r\n        resultList(new DateRange(LocalDate.of(2023, 7, 1), LocalDate.of(2023, 7, 04)));\r\n         resultLis(new DateRange(LocalDate.of(2023, 7, 5), LocalDate.of(2023, 7, 09)));\r\n         resultLis(new DateRange(LocalDate.of(2023, 7, 10), LocalDate.of(2023, 7, 10)));\r\n         resultLis(new DateRange(LocalDate.of(2023, 7, 11), LocalDate.of(2023, 7, 14)));\r\n         resultLis(new DateRange(LocalDate.of(2023, 7, 15), LocalDate.of(2023, 7, 20)));\r\n         resultLis(new DateRange(LocalDate.of(2023, 7, 21), LocalDate.of(2023, 7, 30)));\r\n         resultLis(new DateRange(LocalDate.of(2023, 8, 1), LocalDate.of(2023, 8, 20)));\r\n```\r\n\r\nWith below code after overlap periods not splitting\r\n\r\n```java\r\nclass DateRange {\r\n    LocalDate start;\r\n    LocalDate end;\r\n\r\n    public DateRange(LocalDate start, LocalDate end) {\r\n        this.start = start;\r\n        this.end = end;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;DateRange [start=&quot; + start + &quot;, end=&quot; + end + &quot;]&quot;;\r\n    }\r\n}\r\n\r\npublic class Main1 {\r\n    public static void main(String[] args) {\r\n        List&lt;DateRange&gt; inputList = new ArrayList&lt;&gt;();\r\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 1), LocalDate.of(2023, 7, 10)));\r\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 5), LocalDate.of(2023, 7, 30)));\r\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 10), LocalDate.of(2023, 7, 20)));\r\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 15), LocalDate.of(2023, 7, 20)));\r\n        inputList.add(new DateRange(LocalDate.of(2023, 8, 1), LocalDate.of(2023, 8, 20)));\r\n\r\n        List&lt;DateRange&gt; resultList = processDateRanges(inputList);\r\n        resultList.forEach(System.out::println);\r\n    }\r\n    public static List&lt;DateRange&gt; processDateRanges(List&lt;DateRange&gt; inputList) {\r\n        List&lt;DateRange&gt; result = new ArrayList&lt;&gt;();\r\n        Collections.sort(inputList, Comparator.comparing(r -&gt; r.start));\r\n\r\n        for (int i = 0; i &lt; inputList.size(); i++) {\r\n            DateRange current = inputList.get(i);\r\n            LocalDate start = current.start;\r\n            LocalDate end = current.end;\r\n\r\n            for (int j = i + 1; j &lt; inputList.size(); j++) {\r\n                DateRange next = inputList.get(j);\r\n                if (next.start.isAfter(end.plusDays(1))) break;\r\n\r\n                if (next.start.isAfter(start)) {\r\n                    result.add(new DateRange(start, next.start.minusDays(1)));\r\n                }\r\n                if (next.end.isBefore(end)) {\r\n                    result.add(new DateRange(next.start, next.end));\r\n                    start = next.end.plusDays(1);\r\n                } else {\r\n                    start = next.start;\r\n                    end = next.end;\r\n                }\r\n            }\r\n            result.add(new DateRange(start, end));\r\n            while (i + 1 &lt; inputList.size() &amp;&amp; inputList.get(i + 1).start.isBefore(end.plusDays(1))) {\r\n                i++;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\nGetting output as \r\n\r\n1. 2023-07-01 - 2023-07-04\r\n2. 2023-07-05 - 2023-07-09\r\n3. 2023-07-10 - 2023-07-20\r\n4. 2023-07-15 - 2023-07-20\r\n5. 2023-07-21 - 2023-07-30\r\n6. 2023-08-01 - 2023-08-20\r\n\r\nExpecting as below\r\n\r\n 1. 2023-07-01 - 2023-07-04 - Before overlap period of 1st record\r\n 2. 2023-07-05 - 2023-07-09 - overlap with 1st and 2nd record\r\n 3. 2023-07-10 - 2023-07-10 - overlap with 1st, 2nd and 3rd record\r\n 4. 2023-07-11 - 2023-07-14 - overlap with 2nd and 3rd record\r\n 5. 2023-07-15 - 2023-07-20 - overlap with 2nd , 3rd and 4th record\r\n 6. 2023-07-21 - 2023-07-30 - after overlap period of 2nd record \r\n 7. 2023-08-01 - 2023-08-20 - Non overlap period","title":"List has custom object with overlap date ranges need to break all overlap ranges into new periods and keep non overlap AS IS in java","body":"<p>Consider below example , inputList has overlap date ranges</p>\n<pre class=\"lang-java prettyprint-override\"><code>        inputList.add(new DateRange(LocalDate.of(2023, 7, 1), LocalDate.of(2023, 7, 10)));\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 5), LocalDate.of(2023, 7, 30)));\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 10), LocalDate.of(2023, 7, 20)));\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 15), LocalDate.of(2023, 7, 20)));\n        inputList.add(new DateRange(LocalDate.of(2023, 8, 1), LocalDate.of(2023, 8, 20)));\n</code></pre>\n<p>Need to merge all overlap period and keep remaining non overlap period in resultList</p>\n<pre class=\"lang-java prettyprint-override\"><code>        resultList(new DateRange(LocalDate.of(2023, 7, 1), LocalDate.of(2023, 7, 04)));\n         resultLis(new DateRange(LocalDate.of(2023, 7, 5), LocalDate.of(2023, 7, 09)));\n         resultLis(new DateRange(LocalDate.of(2023, 7, 10), LocalDate.of(2023, 7, 10)));\n         resultLis(new DateRange(LocalDate.of(2023, 7, 11), LocalDate.of(2023, 7, 14)));\n         resultLis(new DateRange(LocalDate.of(2023, 7, 15), LocalDate.of(2023, 7, 20)));\n         resultLis(new DateRange(LocalDate.of(2023, 7, 21), LocalDate.of(2023, 7, 30)));\n         resultLis(new DateRange(LocalDate.of(2023, 8, 1), LocalDate.of(2023, 8, 20)));\n</code></pre>\n<p>With below code after overlap periods not splitting</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DateRange {\n    LocalDate start;\n    LocalDate end;\n\n    public DateRange(LocalDate start, LocalDate end) {\n        this.start = start;\n        this.end = end;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;DateRange [start=&quot; + start + &quot;, end=&quot; + end + &quot;]&quot;;\n    }\n}\n\npublic class Main1 {\n    public static void main(String[] args) {\n        List&lt;DateRange&gt; inputList = new ArrayList&lt;&gt;();\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 1), LocalDate.of(2023, 7, 10)));\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 5), LocalDate.of(2023, 7, 30)));\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 10), LocalDate.of(2023, 7, 20)));\n        inputList.add(new DateRange(LocalDate.of(2023, 7, 15), LocalDate.of(2023, 7, 20)));\n        inputList.add(new DateRange(LocalDate.of(2023, 8, 1), LocalDate.of(2023, 8, 20)));\n\n        List&lt;DateRange&gt; resultList = processDateRanges(inputList);\n        resultList.forEach(System.out::println);\n    }\n    public static List&lt;DateRange&gt; processDateRanges(List&lt;DateRange&gt; inputList) {\n        List&lt;DateRange&gt; result = new ArrayList&lt;&gt;();\n        Collections.sort(inputList, Comparator.comparing(r -&gt; r.start));\n\n        for (int i = 0; i &lt; inputList.size(); i++) {\n            DateRange current = inputList.get(i);\n            LocalDate start = current.start;\n            LocalDate end = current.end;\n\n            for (int j = i + 1; j &lt; inputList.size(); j++) {\n                DateRange next = inputList.get(j);\n                if (next.start.isAfter(end.plusDays(1))) break;\n\n                if (next.start.isAfter(start)) {\n                    result.add(new DateRange(start, next.start.minusDays(1)));\n                }\n                if (next.end.isBefore(end)) {\n                    result.add(new DateRange(next.start, next.end));\n                    start = next.end.plusDays(1);\n                } else {\n                    start = next.start;\n                    end = next.end;\n                }\n            }\n            result.add(new DateRange(start, end));\n            while (i + 1 &lt; inputList.size() &amp;&amp; inputList.get(i + 1).start.isBefore(end.plusDays(1))) {\n                i++;\n            }\n        }\n\n        return result;\n    }\n\n}\n</code></pre>\n<p>Getting output as</p>\n<ol>\n<li>2023-07-01 - 2023-07-04</li>\n<li>2023-07-05 - 2023-07-09</li>\n<li>2023-07-10 - 2023-07-20</li>\n<li>2023-07-15 - 2023-07-20</li>\n<li>2023-07-21 - 2023-07-30</li>\n<li>2023-08-01 - 2023-08-20</li>\n</ol>\n<p>Expecting as below</p>\n<ol>\n<li>2023-07-01 - 2023-07-04 - Before overlap period of 1st record</li>\n<li>2023-07-05 - 2023-07-09 - overlap with 1st and 2nd record</li>\n<li>2023-07-10 - 2023-07-10 - overlap with 1st, 2nd and 3rd record</li>\n<li>2023-07-11 - 2023-07-14 - overlap with 2nd and 3rd record</li>\n<li>2023-07-15 - 2023-07-20 - overlap with 2nd , 3rd and 4th record</li>\n<li>2023-07-21 - 2023-07-30 - after overlap period of 2nd record</li>\n<li>2023-08-01 - 2023-08-20 - Non overlap period</li>\n</ol>\n"},{"tags":["java","gradle","getter-setter"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1691213718,"post_id":76840210,"comment_id":135464707,"body_markdown":"`while (true){` is an infinite loop, it will never complete.  It&#39;s not directly causing your problem, but I don&#39;t understand why you would use it.","body":"<code>while (true){</code> is an infinite loop, it will never complete.  It&#39;s not directly causing your problem, but I don&#39;t understand why you would use it."},{"owner":{"account_id":17981792,"reputation":21,"user_id":20117603,"display_name":"pradeep"},"score":0,"creation_date":1691214015,"post_id":76840210,"comment_id":135464729,"body_markdown":"first , I run my first module then I run the second one . so , I used while loop.","body":"first , I run my first module then I run the second one . so , I used while loop."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691214312,"creation_date":1691213826,"answer_id":76840294,"question_id":76840210,"body_markdown":"Your code is rather strange, I don&#39;t know what you are trying to do.  Maybe a more complete example will clarify the issue.  For an immediate answer, you could use static initialization here.\r\n\r\n    package org.example;\r\n    \r\n    public class Main {\r\n    \r\n        static String c = &quot;hai&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n        }\r\n    \r\n        public String geta(){\r\n            return c;\r\n        }\r\n    }\r\n\r\nTo access a field that is initialized by a method, you must call the method first.  Don&#39;t put infinite loops or bad code in those methods, they won&#39;t finish.\r\n\r\n    package org.p;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            org.example.Main a = new org.example.Main();\r\n            a.main(null);\r\n            System.out.println(a.geta());\r\n        }\r\n    }\r\n\r\nThe new class:\r\n\r\n    package org.example;\r\n    \r\n    public class Main {\r\n    \r\n        private static String c;\r\n    \r\n        public static void main(String[] args) {\r\n           c  = &quot;hai&quot;;\r\n        }\r\n    \r\n        public String geta(){\r\n            return c;\r\n        }\r\n    }\r\n","title":"How to get values from one module to another in gradle java project?","body":"<p>Your code is rather strange, I don't know what you are trying to do.  Maybe a more complete example will clarify the issue.  For an immediate answer, you could use static initialization here.</p>\n<pre><code>package org.example;\n\npublic class Main {\n\n    static String c = &quot;hai&quot;;\n\n    public static void main(String[] args) {\n    }\n\n    public String geta(){\n        return c;\n    }\n}\n</code></pre>\n<p>To access a field that is initialized by a method, you must call the method first.  Don't put infinite loops or bad code in those methods, they won't finish.</p>\n<pre><code>package org.p;\n\npublic class Main {\n    public static void main(String[] args) {\n        org.example.Main a = new org.example.Main();\n        a.main(null);\n        System.out.println(a.geta());\n    }\n}\n</code></pre>\n<p>The new class:</p>\n<pre><code>package org.example;\n\npublic class Main {\n\n    private static String c;\n\n    public static void main(String[] args) {\n       c  = &quot;hai&quot;;\n    }\n\n    public String geta(){\n        return c;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17981792,"reputation":21,"user_id":20117603,"display_name":"pradeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691214312,"creation_date":1691211977,"question_id":76840210,"body_markdown":"I created two modules in my project.\r\n\r\nI want to get value from one module to another module. \r\n\r\n\r\n\r\n\r\n[my project&#39;s github link](https://github.com/Jeevasimba/connection_between_two_modules_in_java)\r\n\r\nIn my first module : \r\n\r\n    package org.example;\r\n\r\n    public class Main {\r\n\r\n        static String c;\r\n        public static void main(String[] args) {\r\n        c = &quot;hai&quot;;\r\n        while (true){\r\n\r\n        }\r\n        }\r\n\r\n        public String geta(){\r\n            return c;\r\n        }\r\n    }\r\n\r\n\r\nIn my second module :\r\n\r\n    package org.p;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            org.example.Main a = new org.example.Main();\r\n            System.out.println(a.geta());\r\n        }\r\n    }\r\n\r\n\r\n**OUTPUT**\r\n\r\n    null\r\n\r\n\r\n[project structure](https://i.stack.imgur.com/oETNg.png)\r\n\r\nHow can I solve this problem ?","title":"How to get values from one module to another in gradle java project?","body":"<p>I created two modules in my project.</p>\n<p>I want to get value from one module to another module.</p>\n<p><a href=\"https://github.com/Jeevasimba/connection_between_two_modules_in_java\" rel=\"nofollow noreferrer\">my project's github link</a></p>\n<p>In my first module :</p>\n<pre><code>package org.example;\n\npublic class Main {\n\n    static String c;\n    public static void main(String[] args) {\n    c = &quot;hai&quot;;\n    while (true){\n\n    }\n    }\n\n    public String geta(){\n        return c;\n    }\n}\n</code></pre>\n<p>In my second module :</p>\n<pre><code>package org.p;\n\npublic class Main {\n    public static void main(String[] args) {\n        org.example.Main a = new org.example.Main();\n        System.out.println(a.geta());\n    }\n}\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<pre><code>null\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/oETNg.png\" rel=\"nofollow noreferrer\">project structure</a></p>\n<p>How can I solve this problem ?</p>\n"},{"tags":["java","spring-mvc","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":2,"creation_date":1360166485,"post_id":14726082,"comment_id":20613779,"body_markdown":"Why couldn&#39;t you use something like Apache w/ mod_rewrite or mod_proxy to do this?  You would basically put a webserver outside your firewall (usually we call this the DMZ), and setup rules in the FW that allows that server to talk to your server behind the firewall.  This is how most companies solve this problem.","body":"Why couldn&#39;t you use something like Apache w/ mod_rewrite or mod_proxy to do this?  You would basically put a webserver outside your firewall (usually we call this the DMZ), and setup rules in the FW that allows that server to talk to your server behind the firewall.  This is how most companies solve this problem."},{"owner":{"account_id":278030,"reputation":10509,"user_id":572380,"accept_rate":78,"display_name":"nilgun"},"score":0,"creation_date":1360743141,"post_id":14726082,"comment_id":20810934,"body_markdown":"thank you, i will try to talk to sys admins if your solution works for our case. Meanwhile i will be using resttemplate and  serialize/deserialize json data to string..","body":"thank you, i will try to talk to sys admins if your solution works for our case. Meanwhile i will be using resttemplate and  serialize/deserialize json data to string.."},{"owner":{"account_id":24299794,"reputation":231,"user_id":18243455,"display_name":"Patel Harsh"},"score":0,"creation_date":1671504502,"post_id":14726082,"comment_id":132108838,"body_markdown":"Can anyone tell me how to do this for any post request ? What changes to be made to do this for a Post request","body":"Can anyone tell me how to do this for any post request ? What changes to be made to do this for a Post request"}],"answers":[{"tags":[],"owner":{"account_id":2354419,"reputation":2234,"user_id":2062572,"display_name":"Chris H."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1388790544,"creation_date":1388790544,"answer_id":20914371,"question_id":14726082,"body_markdown":"If you can get away with using a lower-level solution like mod_proxy that would be the simpler way to go, but if you need more control (e.g. security, translation, business logic) you may want to take a look at Apache Camel: http://camel.apache.org/how-to-use-camel-as-a-http-proxy-between-a-client-and-server.html","title":"spring mvc rest service redirect / forward / proxy","body":"<p>If you can get away with using a lower-level solution like mod_proxy that would be the simpler way to go, but if you need more control (e.g. security, translation, business logic) you may want to take a look at Apache Camel: <a href=\"http://camel.apache.org/how-to-use-camel-as-a-http-proxy-between-a-client-and-server.html\" rel=\"nofollow\">http://camel.apache.org/how-to-use-camel-as-a-http-proxy-between-a-client-and-server.html</a></p>\n"},{"tags":[],"owner":{"account_id":358039,"reputation":5846,"user_id":3248158,"display_name":"derkoe"},"down_vote_count":1,"up_vote_count":87,"is_accepted":false,"score":86,"last_activity_date":1524986037,"creation_date":1400498726,"answer_id":23736527,"question_id":14726082,"body_markdown":"You can mirror/proxy all requests with this:\r\n\r\n    private String server = &quot;localhost&quot;;\r\n    private int port = 8080;\r\n\r\n    @RequestMapping(&quot;/**&quot;)\r\n    @ResponseBody\r\n    public String mirrorRest(@RequestBody String body, HttpMethod method, HttpServletRequest request) throws URISyntaxException\r\n    {\r\n        URI uri = new URI(&quot;http&quot;, null, server, port, request.getRequestURI(), request.getQueryString(), null);\r\n\r\n        ResponseEntity&lt;String&gt; responseEntity =\r\n            restTemplate.exchange(uri, method, new HttpEntity&lt;String&gt;(body), String.class);\r\n\r\n        return responseEntity.getBody();\r\n    }\r\n\r\n\r\nThis will not mirror any headers.","title":"spring mvc rest service redirect / forward / proxy","body":"<p>You can mirror/proxy all requests with this:</p>\n\n<pre><code>private String server = \"localhost\";\nprivate int port = 8080;\n\n@RequestMapping(\"/**\")\n@ResponseBody\npublic String mirrorRest(@RequestBody String body, HttpMethod method, HttpServletRequest request) throws URISyntaxException\n{\n    URI uri = new URI(\"http\", null, server, port, request.getRequestURI(), request.getQueryString(), null);\n\n    ResponseEntity&lt;String&gt; responseEntity =\n        restTemplate.exchange(uri, method, new HttpEntity&lt;String&gt;(body), String.class);\n\n    return responseEntity.getBody();\n}\n</code></pre>\n\n<p>This will not mirror any headers.</p>\n"},{"tags":[],"owner":{"account_id":341924,"reputation":4071,"user_id":672798,"accept_rate":61,"display_name":"Muatik"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1571833035,"creation_date":1489397487,"answer_id":42760284,"question_id":14726082,"body_markdown":"You can use Netflix Zuul to route requests coming to a spring application to another spring application.\r\n\r\nLet&#39;s say you have two application: 1.songs-app, 2.api-gateway\r\n\r\nIn the api-gateway application, first add the zuul dependecy, then you can simply define your routing rule in application.yml as follows:\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\r\n        &lt;version&gt;LATEST&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\napplication.yml\r\n\r\n    server:\r\n      port: 8080\r\n    zuul:\r\n      routes:\r\n        foos:\r\n          path: /api/songs/**\r\n          url: http://localhost:8081/songs/\r\n\r\nand lastly run the api-gateway application like:\r\n\r\n    @EnableZuulProxy\r\n    @SpringBootApplication\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nNow, the gateway will route all the `/api/songs/` requests to `http://localhost:8081/songs/`. \r\n\r\nA working example is here: https://github.com/muatik/spring-playground/tree/master/spring-api-gateway\r\n\r\nAnother resource: http://www.baeldung.com/spring-rest-with-zuul-proxy","title":"spring mvc rest service redirect / forward / proxy","body":"<p>You can use Netflix Zuul to route requests coming to a spring application to another spring application.</p>\n\n<p>Let's say you have two application: 1.songs-app, 2.api-gateway</p>\n\n<p>In the api-gateway application, first add the zuul dependecy, then you can simply define your routing rule in application.yml as follows:</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\n    &lt;version&gt;LATEST&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>application.yml</p>\n\n<pre><code>server:\n  port: 8080\nzuul:\n  routes:\n    foos:\n      path: /api/songs/**\n      url: http://localhost:8081/songs/\n</code></pre>\n\n<p>and lastly run the api-gateway application like:</p>\n\n<pre><code>@EnableZuulProxy\n@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>Now, the gateway will route all the <code>/api/songs/</code> requests to <code>http://localhost:8081/songs/</code>. </p>\n\n<p>A working example is here: <a href=\"https://github.com/muatik/spring-playground/tree/master/spring-api-gateway\" rel=\"noreferrer\">https://github.com/muatik/spring-playground/tree/master/spring-api-gateway</a></p>\n\n<p>Another resource: <a href=\"http://www.baeldung.com/spring-rest-with-zuul-proxy\" rel=\"noreferrer\">http://www.baeldung.com/spring-rest-with-zuul-proxy</a></p>\n"},{"tags":[],"owner":{"account_id":1869831,"reputation":4089,"user_id":1692341,"accept_rate":90,"display_name":"Steffen"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1539873936,"creation_date":1521724409,"answer_id":49429650,"question_id":14726082,"body_markdown":"Here&#39;s my modified version of the original answer, which differs in four points:\r\n\r\n1. It does not make the request body mandatory, and as such does not let GET requests fail.\r\n2. It copies all headers present in the original request. If you are using another proxy/web server, this can cause issues due to content length/gzip compression. Limit the headers to the ones you really need. \r\n3. It does *not* reencode the query params or the path. We expect them to be encoded anyway. Note that other parts of your URL might also be encoded. If that is the case for you, leverage the full potential of `UriComponentsBuilder`.\r\n4. It does return error codes from the server properly. \r\n\r\n&lt;a/&gt;\r\n\r\n\r\n    @RequestMapping(&quot;/**&quot;)\r\n    public ResponseEntity mirrorRest(@RequestBody(required = false) String body, \r\n        HttpMethod method, HttpServletRequest request, HttpServletResponse response) \r\n        throws URISyntaxException {\r\n        String requestUrl = request.getRequestURI();\r\n\r\n        URI uri = new URI(&quot;http&quot;, null, server, port, null, null, null);\r\n        uri = UriComponentsBuilder.fromUri(uri)\r\n                                  .path(requestUrl)\r\n                                  .query(request.getQueryString())\r\n                                  .build(true).toUri();\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        Enumeration&lt;String&gt; headerNames = request.getHeaderNames();\r\n        while (headerNames.hasMoreElements()) {\r\n            String headerName = headerNames.nextElement();\r\n            headers.set(headerName, request.getHeader(headerName));\r\n        }\r\n\r\n        HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(body, headers);\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        try {\r\n            return restTemplate.exchange(uri, method, httpEntity, String.class);\r\n        } catch(HttpStatusCodeException e) {\r\n            return ResponseEntity.status(e.getRawStatusCode())\r\n                                 .headers(e.getResponseHeaders())\r\n                                 .body(e.getResponseBodyAsString());\r\n        }\r\n    }\r\n","title":"spring mvc rest service redirect / forward / proxy","body":"<p>Here's my modified version of the original answer, which differs in four points:</p>\n\n<ol>\n<li>It does not make the request body mandatory, and as such does not let GET requests fail.</li>\n<li>It copies all headers present in the original request. If you are using another proxy/web server, this can cause issues due to content length/gzip compression. Limit the headers to the ones you really need. </li>\n<li>It does <em>not</em> reencode the query params or the path. We expect them to be encoded anyway. Note that other parts of your URL might also be encoded. If that is the case for you, leverage the full potential of <code>UriComponentsBuilder</code>.</li>\n<li>It does return error codes from the server properly. </li>\n</ol>\n\n<p></p>\n\n<pre><code>@RequestMapping(\"/**\")\npublic ResponseEntity mirrorRest(@RequestBody(required = false) String body, \n    HttpMethod method, HttpServletRequest request, HttpServletResponse response) \n    throws URISyntaxException {\n    String requestUrl = request.getRequestURI();\n\n    URI uri = new URI(\"http\", null, server, port, null, null, null);\n    uri = UriComponentsBuilder.fromUri(uri)\n                              .path(requestUrl)\n                              .query(request.getQueryString())\n                              .build(true).toUri();\n\n    HttpHeaders headers = new HttpHeaders();\n    Enumeration&lt;String&gt; headerNames = request.getHeaderNames();\n    while (headerNames.hasMoreElements()) {\n        String headerName = headerNames.nextElement();\n        headers.set(headerName, request.getHeader(headerName));\n    }\n\n    HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(body, headers);\n    RestTemplate restTemplate = new RestTemplate();\n    try {\n        return restTemplate.exchange(uri, method, httpEntity, String.class);\n    } catch(HttpStatusCodeException e) {\n        return ResponseEntity.status(e.getRawStatusCode())\n                             .headers(e.getResponseHeaders())\n                             .body(e.getResponseBodyAsString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545046792,"creation_date":1545046792,"answer_id":53814514,"question_id":14726082,"body_markdown":"You need something like `jetty transparent proxy`, which actually will redirect your call, and you get a chance to overwrite the request if you needed. You may get its detail at http://reanimatter.com/2016/01/25/embedded-jetty-as-http-proxy/","title":"spring mvc rest service redirect / forward / proxy","body":"<p>You need something like <code>jetty transparent proxy</code>, which actually will redirect your call, and you get a chance to overwrite the request if you needed. You may get its detail at <a href=\"http://reanimatter.com/2016/01/25/embedded-jetty-as-http-proxy/\" rel=\"nofollow noreferrer\">http://reanimatter.com/2016/01/25/embedded-jetty-as-http-proxy/</a></p>\n"},{"tags":[],"owner":{"account_id":10343555,"reputation":41,"user_id":7629176,"display_name":"love adu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548141764,"creation_date":1548141764,"answer_id":54303124,"question_id":14726082,"body_markdown":"proxy controller with oauth2\r\n\r\n```\r\n@RequestMapping(&quot;v9&quot;)\r\n@RestController\r\n@EnableConfigurationProperties\r\npublic class ProxyRestController {\r\n    Logger logger = LoggerFactory.getLogger(this.getClass());\r\n\r\n    @Autowired\r\n    OAuth2ProtectedResourceDetails oAuth2ProtectedResourceDetails;\r\n\r\n    @Autowired\r\n    private ClientCredentialsResourceDetails clientCredentialsResourceDetails;\r\n\r\n    @Autowired\r\n    OAuth2RestTemplate oAuth2RestTemplate;\r\n\r\n\r\n    @Value(&quot;${gateway.url:http://gateway/}&quot;)\r\n    String gatewayUrl;\r\n\r\n    @RequestMapping(value = &quot;/proxy/**&quot;)\r\n    public String proxy(@RequestBody(required = false) String body, HttpMethod method, HttpServletRequest request, HttpServletResponse response,\r\n                        @RequestHeader HttpHeaders headers) throws ServletException, IOException, URISyntaxException {\r\n\r\n        body = body == null ? &quot;&quot; : body;\r\n        String path = request.getRequestURI();\r\n        String query = request.getQueryString();\r\n        path = path.replaceAll(&quot;.*/v9/proxy&quot;, &quot;&quot;);\r\n        StringBuffer urlBuilder = new StringBuffer(gatewayUrl);\r\n        if (path != null) {\r\n            urlBuilder.append(path);\r\n        }\r\n        if (query != null) {\r\n            urlBuilder.append(&#39;?&#39;);\r\n            urlBuilder.append(query);\r\n        }\r\n        URI url = new URI(urlBuilder.toString());\r\n        if (logger.isInfoEnabled()) {\r\n            logger.info(&quot;url: {} &quot;, url);\r\n            logger.info(&quot;method: {} &quot;, method);\r\n            logger.info(&quot;body: {} &quot;, body);\r\n            logger.info(&quot;headers: {} &quot;, headers);\r\n        }\r\n        ResponseEntity&lt;String&gt; responseEntity\r\n                = oAuth2RestTemplate.exchange(url, method, new HttpEntity&lt;String&gt;(body, headers), String.class);\r\n        return responseEntity.getBody();\r\n    }\r\n\r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;security.oauth2.client&quot;)\r\n    @ConditionalOnMissingBean(ClientCredentialsResourceDetails.class)\r\n    public ClientCredentialsResourceDetails clientCredentialsResourceDetails() {\r\n        return new ClientCredentialsResourceDetails();\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    public OAuth2RestTemplate oAuth2RestTemplate() {\r\n        return new OAuth2RestTemplate(clientCredentialsResourceDetails);\r\n    }\r\n\r\n\r\n```","title":"spring mvc rest service redirect / forward / proxy","body":"<p>proxy controller with oauth2</p>\n\n<pre><code>@RequestMapping(\"v9\")\n@RestController\n@EnableConfigurationProperties\npublic class ProxyRestController {\n    Logger logger = LoggerFactory.getLogger(this.getClass());\n\n    @Autowired\n    OAuth2ProtectedResourceDetails oAuth2ProtectedResourceDetails;\n\n    @Autowired\n    private ClientCredentialsResourceDetails clientCredentialsResourceDetails;\n\n    @Autowired\n    OAuth2RestTemplate oAuth2RestTemplate;\n\n\n    @Value(\"${gateway.url:http://gateway/}\")\n    String gatewayUrl;\n\n    @RequestMapping(value = \"/proxy/**\")\n    public String proxy(@RequestBody(required = false) String body, HttpMethod method, HttpServletRequest request, HttpServletResponse response,\n                        @RequestHeader HttpHeaders headers) throws ServletException, IOException, URISyntaxException {\n\n        body = body == null ? \"\" : body;\n        String path = request.getRequestURI();\n        String query = request.getQueryString();\n        path = path.replaceAll(\".*/v9/proxy\", \"\");\n        StringBuffer urlBuilder = new StringBuffer(gatewayUrl);\n        if (path != null) {\n            urlBuilder.append(path);\n        }\n        if (query != null) {\n            urlBuilder.append('?');\n            urlBuilder.append(query);\n        }\n        URI url = new URI(urlBuilder.toString());\n        if (logger.isInfoEnabled()) {\n            logger.info(\"url: {} \", url);\n            logger.info(\"method: {} \", method);\n            logger.info(\"body: {} \", body);\n            logger.info(\"headers: {} \", headers);\n        }\n        ResponseEntity&lt;String&gt; responseEntity\n                = oAuth2RestTemplate.exchange(url, method, new HttpEntity&lt;String&gt;(body, headers), String.class);\n        return responseEntity.getBody();\n    }\n\n\n    @Bean\n    @ConfigurationProperties(\"security.oauth2.client\")\n    @ConditionalOnMissingBean(ClientCredentialsResourceDetails.class)\n    public ClientCredentialsResourceDetails clientCredentialsResourceDetails() {\n        return new ClientCredentialsResourceDetails();\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public OAuth2RestTemplate oAuth2RestTemplate() {\n        return new OAuth2RestTemplate(clientCredentialsResourceDetails);\n    }\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1509946,"reputation":1433,"user_id":1412324,"accept_rate":75,"display_name":"Jonas Eicher"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639058198,"creation_date":1618327961,"answer_id":67077978,"question_id":14726082,"body_markdown":"@derkoe has posted a great answer that helped me a lot!\r\n\r\nTrying this in 2021, I was able to improve on it a little:\r\n\r\n 1. You don&#39;t need @ResponseBody if your class is a @RestController\r\n 2. @RequestBody(required = false) allows for requests without a body (e.g. GET)\r\n 3. https and port 443 for those ssl encrypted endpoints (if your server serves https on port 443)\r\n 4. If you return the entire responseEntity instead of only the body, you also get the headers and response code.\r\n 5. Example of added (optional) headers, e.g. `headers.put(&quot;Authorization&quot;, Arrays.asList(String[] { &quot;Bearer 234asdf234&quot;})`\r\n 6. Exception handling (catches and forwards HttpStatuses like 404 instead of throwing a 500 Server Error)\r\n\r\n---\r\n\r\n    private String server = &quot;localhost&quot;;\r\n    private int port = 443;\r\n\r\n\t@Autowired\r\n\tMultiValueMap&lt;String, String&gt; headers;\r\n\r\n\t@Autowired\r\n\tRestTemplate restTemplate;\r\n    \r\n    @RequestMapping(&quot;/**&quot;)\r\n    public ResponseEntity&lt;String&gt; mirrorRest(@RequestBody(required = false) String body, HttpMethod method, HttpServletRequest request) throws URISyntaxException\r\n    {\r\n        URI uri = new URI(&quot;https&quot;, null, server, port, request.getRequestURI(), request.getQueryString(), null);\r\n\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(body, headers);    \r\n        \r\n        try {\r\n\t\t\tResponseEntity&lt;String&gt; responseEntity =\r\n\t\t\t\trestTemplate.exchange(uri, method, entity, String.class);\r\n\t\t\t\treturn responseEntity;\r\n\t\t} catch (HttpClientErrorException ex) {\r\n\t\t\treturn ResponseEntity\r\n\t\t\t\t.status(ex.getStatusCode())\r\n\t\t\t\t.headers(ex.getResponseHeaders())\r\n\t\t\t\t.body(ex.getResponseBodyAsString());\r\n\t\t}\r\n    \r\n        return responseEntity;\r\n    }","title":"spring mvc rest service redirect / forward / proxy","body":"<p>@derkoe has posted a great answer that helped me a lot!</p>\n<p>Trying this in 2021, I was able to improve on it a little:</p>\n<ol>\n<li>You don't need @ResponseBody if your class is a @RestController</li>\n<li>@RequestBody(required = false) allows for requests without a body (e.g. GET)</li>\n<li>https and port 443 for those ssl encrypted endpoints (if your server serves https on port 443)</li>\n<li>If you return the entire responseEntity instead of only the body, you also get the headers and response code.</li>\n<li>Example of added (optional) headers, e.g. <code>headers.put(&quot;Authorization&quot;, Arrays.asList(String[] { &quot;Bearer 234asdf234&quot;})</code></li>\n<li>Exception handling (catches and forwards HttpStatuses like 404 instead of throwing a 500 Server Error)</li>\n</ol>\n<hr />\n<pre><code>private String server = &quot;localhost&quot;;\nprivate int port = 443;\n\n@Autowired\nMultiValueMap&lt;String, String&gt; headers;\n\n@Autowired\nRestTemplate restTemplate;\n\n@RequestMapping(&quot;/**&quot;)\npublic ResponseEntity&lt;String&gt; mirrorRest(@RequestBody(required = false) String body, HttpMethod method, HttpServletRequest request) throws URISyntaxException\n{\n    URI uri = new URI(&quot;https&quot;, null, server, port, request.getRequestURI(), request.getQueryString(), null);\n\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(body, headers);    \n    \n    try {\n        ResponseEntity&lt;String&gt; responseEntity =\n            restTemplate.exchange(uri, method, entity, String.class);\n            return responseEntity;\n    } catch (HttpClientErrorException ex) {\n        return ResponseEntity\n            .status(ex.getStatusCode())\n            .headers(ex.getResponseHeaders())\n            .body(ex.getResponseBodyAsString());\n    }\n\n    return responseEntity;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619529961,"creation_date":1619529961,"answer_id":67283969,"question_id":14726082,"body_markdown":"I got inspired by Veluria&#39;s solution, but I had issues with gzip compression sent from the target resource.\r\n\r\nThe goal was to omit `Accept-Encoding` header:\r\n\r\n```\r\n@RequestMapping(&quot;/**&quot;)\r\npublic ResponseEntity mirrorRest(@RequestBody(required = false) String body, \r\n    HttpMethod method, HttpServletRequest request, HttpServletResponse response) \r\n    throws URISyntaxException {\r\n    String requestUrl = request.getRequestURI();\r\n\r\n    URI uri = new URI(&quot;http&quot;, null, server, port, null, null, null);\r\n    uri = UriComponentsBuilder.fromUri(uri)\r\n                              .path(requestUrl)\r\n                              .query(request.getQueryString())\r\n                              .build(true).toUri();\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    Enumeration&lt;String&gt; headerNames = request.getHeaderNames();\r\n    while (headerNames.hasMoreElements()) {\r\n        String headerName = headerNames.nextElement();\r\n        if (!headerName.equals(&quot;Accept-Encoding&quot;)) {\r\n            headers.set(headerName, request.getHeader(headerName));\r\n        }\r\n    }\r\n\r\n    HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(body, headers);\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    try {\r\n        return restTemplate.exchange(uri, method, httpEntity, String.class);\r\n    } catch(HttpStatusCodeException e) {\r\n        return ResponseEntity.status(e.getRawStatusCode())\r\n                             .headers(e.getResponseHeaders())\r\n                             .body(e.getResponseBodyAsString());\r\n    }\r\n}\r\n```","title":"spring mvc rest service redirect / forward / proxy","body":"<p>I got inspired by Veluria's solution, but I had issues with gzip compression sent from the target resource.</p>\n<p>The goal was to omit <code>Accept-Encoding</code> header:</p>\n<pre><code>@RequestMapping(&quot;/**&quot;)\npublic ResponseEntity mirrorRest(@RequestBody(required = false) String body, \n    HttpMethod method, HttpServletRequest request, HttpServletResponse response) \n    throws URISyntaxException {\n    String requestUrl = request.getRequestURI();\n\n    URI uri = new URI(&quot;http&quot;, null, server, port, null, null, null);\n    uri = UriComponentsBuilder.fromUri(uri)\n                              .path(requestUrl)\n                              .query(request.getQueryString())\n                              .build(true).toUri();\n\n    HttpHeaders headers = new HttpHeaders();\n    Enumeration&lt;String&gt; headerNames = request.getHeaderNames();\n    while (headerNames.hasMoreElements()) {\n        String headerName = headerNames.nextElement();\n        if (!headerName.equals(&quot;Accept-Encoding&quot;)) {\n            headers.set(headerName, request.getHeader(headerName));\n        }\n    }\n\n    HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(body, headers);\n    RestTemplate restTemplate = new RestTemplate();\n    try {\n        return restTemplate.exchange(uri, method, httpEntity, String.class);\n    } catch(HttpStatusCodeException e) {\n        return ResponseEntity.status(e.getRawStatusCode())\n                             .headers(e.getResponseHeaders())\n                             .body(e.getResponseBodyAsString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691213126,"creation_date":1691212390,"answer_id":76840226,"question_id":14726082,"body_markdown":"[`RequestEntity`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/RequestEntity.html), added in Spring Web 4.1, can be used as a controller method parameter to capture all the relevant HTTP state needed to make a REST call, and it can also be used by `RestTemplate` to make a REST call.\r\n\r\nA REST call can be made using a copy of the controller method parameter&#39;s `RequestEntity` with an updated URL.  The data can be retrieved as a `byte[]` and returned from the controller as a [`ResponseEntity&lt;byte[]&gt;`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html).  This is effectively a direct proxy without any in-app data conversion.\r\n\r\n```lang-java\r\n@Controller\r\n@RequestMapping(&quot;/movieProxy&quot;)\r\npublic class MovieProxyController {\r\n    private String address= &quot;http://xxx.xxx.xxx.xxx:xx/MyApp&quot;;\r\n\r\n    @RequestMapping(value = &quot;/**&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; redirect(RequestEntity&lt;byte[]&gt; request) {\r\n        URI uri = UriComponentsBuilder.fromUriString(address)\r\n                .path(request.getUrl().getPath())\r\n                .query(request.getUrl().getRawQuery()).build().toUri();\r\n\r\n        RequestEntity&lt;byte[]&gt; requestCopy = new RequestEntity&lt;&gt;(\r\n                request.getBody(), request.getHeaders(), request.getMethod(),\r\n                uri, request.getType());\r\n        try {\r\n            return restTemplate.exchange(requestCopy, byte[].class);\r\n        } catch (RestClientResponseException e) {\r\n            return new ResponseEntity&lt;&gt;(e.getResponseBodyAsByteArray(),\r\n                    e.getResponseHeaders(), e.getStatusCode());\r\n        }\r\n}\r\n```","title":"spring mvc rest service redirect / forward / proxy","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/RequestEntity.html\" rel=\"nofollow noreferrer\"><code>RequestEntity</code></a>, added in Spring Web 4.1, can be used as a controller method parameter to capture all the relevant HTTP state needed to make a REST call, and it can also be used by <code>RestTemplate</code> to make a REST call.</p>\n<p>A REST call can be made using a copy of the controller method parameter's <code>RequestEntity</code> with an updated URL.  The data can be retrieved as a <code>byte[]</code> and returned from the controller as a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"nofollow noreferrer\"><code>ResponseEntity&lt;byte[]&gt;</code></a>.  This is effectively a direct proxy without any in-app data conversion.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/movieProxy&quot;)\npublic class MovieProxyController {\n    private String address= &quot;http://xxx.xxx.xxx.xxx:xx/MyApp&quot;;\n\n    @RequestMapping(value = &quot;/**&quot;)\n    public ResponseEntity&lt;byte[]&gt; redirect(RequestEntity&lt;byte[]&gt; request) {\n        URI uri = UriComponentsBuilder.fromUriString(address)\n                .path(request.getUrl().getPath())\n                .query(request.getUrl().getRawQuery()).build().toUri();\n\n        RequestEntity&lt;byte[]&gt; requestCopy = new RequestEntity&lt;&gt;(\n                request.getBody(), request.getHeaders(), request.getMethod(),\n                uri, request.getType());\n        try {\n            return restTemplate.exchange(requestCopy, byte[].class);\n        } catch (RestClientResponseException e) {\n            return new ResponseEntity&lt;&gt;(e.getResponseBodyAsByteArray(),\n                    e.getResponseHeaders(), e.getStatusCode());\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":278030,"reputation":10509,"user_id":572380,"accept_rate":78,"display_name":"nilgun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99635,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"answer_count":9,"score":81,"last_activity_date":1691213126,"creation_date":1360144535,"question_id":14726082,"body_markdown":"I have build a web application using spring mvc framework to publish REST services.\r\nFor example:\r\n\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/movie&quot;)\r\n    public class MovieController {\r\n \r\n\t@RequestMapping(value = &quot;/{id}&quot;, method = RequestMethod.GET)\r\n\tpublic @ResponseBody Movie getMovie(@PathVariable String id, @RequestBody user) {\r\n \t\t\r\n\t\treturn dataProvider.getMovieById(user,id);\r\n\t}\r\n\r\nNow I need to deploy my application but I have the following problem:\r\nThe clients do not have direct access to the computer on which the application resides (There is a firewall). Therefore I need a redirection layer on a proxy machine (accessible by the clients) which calls the actual rest service.\r\n\r\nI tried making a new call using RestTemplate:\r\nFor Example:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/movieProxy&quot;)\r\n    public class MovieProxyController {\r\n\r\n        private String address= &quot;http://xxx.xxx.xxx.xxx:xx/MyApp&quot;;\r\n \r\n\t    @RequestMapping(value = &quot;/{id}&quot;, method = RequestMethod.GET)\r\n\t    public @ResponseBody Movie getMovie(@PathVariable String id,@RequestBody user,final HttpServletResponse response,final HttpServletRequest request) {\r\n \t\t\r\n\t\t    HttpHeaders headers = new HttpHeaders();\r\n\t\t    headers.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t    RestTemplate restTemplate = new RestTemplate();\r\n\t\t    return restTemplate.exchange( address+ request.getPathInfo(), request.getMethod(), new HttpEntity&lt;T&gt;(user, headers), Movie.class);\r\n \r\n\t}\r\n\r\n\r\n\r\nThis is ok but I need to rewrite each method in the controller to use the resttemplate. Also, this causes redundant serialization/deserialization on the proxy machine. \r\n\r\n\r\nI tried writing a generic function using restemplate, but it did not work out:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/movieProxy&quot;)\r\n    public class MovieProxyController {\r\n\r\n        private String address= &quot;http://xxx.xxx.xxx.xxx:xx/MyApp&quot;;\r\n \r\n\t    @RequestMapping(value = &quot;/**&quot;)\r\n\t    public ? redirect(final HttpServletResponse response,final HttpServletRequest request) { \t\t\r\n\t\t    HttpHeaders headers = new HttpHeaders();\r\n\t\t    headers.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t    RestTemplate restTemplate = new RestTemplate();\r\n\t\t    return restTemplate.exchange( address+ request.getPathInfo(), request.getMethod(), ? , ?);\r\n \r\n\t}\r\n\r\n\r\nI could not find a method of resttemplate which works with request and response objects.\r\n\r\nI also tried spring redirect and forward. But redirect does not change the request&#39;s client ip address so i think it is useless in this case. I could not forward to another URL either.\r\n\r\nIs there a more appropriate way to achieve this?","title":"spring mvc rest service redirect / forward / proxy","body":"<p>I have build a web application using spring mvc framework to publish REST services.\nFor example:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/movie&quot;)\npublic class MovieController {\n\n@RequestMapping(value = &quot;/{id}&quot;, method = RequestMethod.GET)\npublic @ResponseBody Movie getMovie(@PathVariable String id, @RequestBody user) {\n    \n    return dataProvider.getMovieById(user,id);\n}\n</code></pre>\n<p>Now I need to deploy my application but I have the following problem:\nThe clients do not have direct access to the computer on which the application resides (There is a firewall). Therefore I need a redirection layer on a proxy machine (accessible by the clients) which calls the actual rest service.</p>\n<p>I tried making a new call using RestTemplate:\nFor Example:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/movieProxy&quot;)\npublic class MovieProxyController {\n\n    private String address= &quot;http://xxx.xxx.xxx.xxx:xx/MyApp&quot;;\n\n    @RequestMapping(value = &quot;/{id}&quot;, method = RequestMethod.GET)\n    public @ResponseBody Movie getMovie(@PathVariable String id,@RequestBody user,final HttpServletResponse response,final HttpServletRequest request) {\n    \n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        RestTemplate restTemplate = new RestTemplate();\n        return restTemplate.exchange( address+ request.getPathInfo(), request.getMethod(), new HttpEntity&lt;T&gt;(user, headers), Movie.class);\n\n}\n</code></pre>\n<p>This is ok but I need to rewrite each method in the controller to use the resttemplate. Also, this causes redundant serialization/deserialization on the proxy machine.</p>\n<p>I tried writing a generic function using restemplate, but it did not work out:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/movieProxy&quot;)\npublic class MovieProxyController {\n\n    private String address= &quot;http://xxx.xxx.xxx.xxx:xx/MyApp&quot;;\n\n    @RequestMapping(value = &quot;/**&quot;)\n    public ? redirect(final HttpServletResponse response,final HttpServletRequest request) {        \n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        RestTemplate restTemplate = new RestTemplate();\n        return restTemplate.exchange( address+ request.getPathInfo(), request.getMethod(), ? , ?);\n\n}\n</code></pre>\n<p>I could not find a method of resttemplate which works with request and response objects.</p>\n<p>I also tried spring redirect and forward. But redirect does not change the request's client ip address so i think it is useless in this case. I could not forward to another URL either.</p>\n<p>Is there a more appropriate way to achieve this?</p>\n"},{"tags":["javascript","python","java","html","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691212464,"creation_date":1691212464,"answer_id":76840229,"question_id":76837072,"body_markdown":"Use the ```executeScript``` method provided by the ```JavascriptExecutor``` interface\r\n\r\nUsing the method, allows you to execute a JavaScript snippet that directly modifies the value of the input field\r\n\r\nSee skeleton code using Selenium Java below:\r\n```java\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\n\r\n\r\nWebElement inputElement = driver.findElement(By.cssSelector(&quot;input.field&quot;));  // replace with your selector / value\r\n\r\n// cast the driver to JavascriptExecutor\r\nJavascriptExecutor js = (JavascriptExecutor) driver;\r\n\r\n// remove the &#39;is-readonly&#39; class using JavaScript\r\njs.executeScript(&quot;arguments[0].classList.remove(&#39;is-readonly&#39;)&quot;, inputElement);\r\n\r\n// add a new class if required using JavaScript\r\njs.executeScript(&quot;arguments[0].classList.add(&#39;new-class&#39;)&quot;, inputElement);\r\n\r\n// add a new value/attribute if required using JavaScript\r\njs.executeScript(&quot;arguments[0].value = &#39;Your desired value&#39;;&quot;, inputElement);\r\n\r\n``` \r\n\r\n**Note:**\r\n*If the webpage re-renders or certain JavaScript events are fired, any changes may be removed*","title":"Paste text from selenium with java into readonly input","body":"<p>Use the <code>executeScript</code> method provided by the <code>JavascriptExecutor</code> interface</p>\n<p>Using the method, allows you to execute a JavaScript snippet that directly modifies the value of the input field</p>\n<p>See skeleton code using Selenium Java below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\n\nWebElement inputElement = driver.findElement(By.cssSelector(&quot;input.field&quot;));  // replace with your selector / value\n\n// cast the driver to JavascriptExecutor\nJavascriptExecutor js = (JavascriptExecutor) driver;\n\n// remove the 'is-readonly' class using JavaScript\njs.executeScript(&quot;arguments[0].classList.remove('is-readonly')&quot;, inputElement);\n\n// add a new class if required using JavaScript\njs.executeScript(&quot;arguments[0].classList.add('new-class')&quot;, inputElement);\n\n// add a new value/attribute if required using JavaScript\njs.executeScript(&quot;arguments[0].value = 'Your desired value';&quot;, inputElement);\n\n</code></pre>\n<p><strong>Note:</strong>\n<em>If the webpage re-renders or certain JavaScript events are fired, any changes may be removed</em></p>\n"}],"owner":{"account_id":28682652,"reputation":47,"user_id":21963506,"display_name":"Farhood Naqizadeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691212464,"creation_date":1691161037,"question_id":76837072,"body_markdown":"I have input div that if you click on it some method add some attribute for prevent the user added text with keyboard and use the wheel of select!\r\nIn java selenium I can get element remove readonly attribute but if use sendKeys nothing happen, because Keyboard input is off(maybe by javascript function or by navigator lock),if right click and paste some content work, that good to know if reselect the input the readonly and all class back it from javascript so what can I do to paste text from clipboard without right click or use (clt+V or shift + insert) which is looked.\r\n\r\nThe div looks:\r\n\r\n```\r\n&lt;ui-text-field _ngcontent-ehh-c219=&quot;&quot; label=&quot;تاریخ انقضا&quot; name=&quot;expirationDate&quot; _nghost-ehh-c120=&quot;&quot;&gt;\r\n   &lt;div _ngcontent-ehh-c120=&quot;&quot; class=&quot;text-field is-invalid is-readonly&quot;&gt;\r\n      &lt;form _ngcontent-ehh-c120=&quot;&quot; novalidate=&quot;&quot; class=&quot;ng-pristine ng-invalid ng-touched&quot;&gt;\r\n         &lt;!----&gt;&lt;input _ngcontent-ehh-c120=&quot;&quot; formcontrolname=&quot;field&quot; class=&quot;field ng-pristine ng-invalid ng-star-inserted ng-touched&quot; type=&quot;text&quot;&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;label _ngcontent-ehh-c120=&quot;&quot;&gt;تاریخ انقضا&lt;/label&gt;\r\n      &lt;/form&gt;\r\n      &lt;!----&gt;\r\n   &lt;/div&gt;\r\n&lt;/ui-text-field&gt;\r\n```\r\n\r\n\r\n\r\nStraight and Forward speak is : How can paste text content into div without right click/action preform or keyboard with selenium in java.","title":"Paste text from selenium with java into readonly input","body":"<p>I have input div that if you click on it some method add some attribute for prevent the user added text with keyboard and use the wheel of select!\nIn java selenium I can get element remove readonly attribute but if use sendKeys nothing happen, because Keyboard input is off(maybe by javascript function or by navigator lock),if right click and paste some content work, that good to know if reselect the input the readonly and all class back it from javascript so what can I do to paste text from clipboard without right click or use (clt+V or shift + insert) which is looked.</p>\n<p>The div looks:</p>\n<pre><code>&lt;ui-text-field _ngcontent-ehh-c219=&quot;&quot; label=&quot;تاریخ انقضا&quot; name=&quot;expirationDate&quot; _nghost-ehh-c120=&quot;&quot;&gt;\n   &lt;div _ngcontent-ehh-c120=&quot;&quot; class=&quot;text-field is-invalid is-readonly&quot;&gt;\n      &lt;form _ngcontent-ehh-c120=&quot;&quot; novalidate=&quot;&quot; class=&quot;ng-pristine ng-invalid ng-touched&quot;&gt;\n         &lt;!----&gt;&lt;input _ngcontent-ehh-c120=&quot;&quot; formcontrolname=&quot;field&quot; class=&quot;field ng-pristine ng-invalid ng-star-inserted ng-touched&quot; type=&quot;text&quot;&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;!----&gt;&lt;label _ngcontent-ehh-c120=&quot;&quot;&gt;تاریخ انقضا&lt;/label&gt;\n      &lt;/form&gt;\n      &lt;!----&gt;\n   &lt;/div&gt;\n&lt;/ui-text-field&gt;\n</code></pre>\n<p>Straight and Forward speak is : How can paste text content into div without right click/action preform or keyboard with selenium in java.</p>\n"},{"tags":["python","java","selenium-webdriver","robotframework","geckodriver"],"comments":[{"owner":{"account_id":23535348,"reputation":21357,"user_id":17580381,"display_name":"Codist"},"score":0,"creation_date":1691149603,"post_id":76835458,"comment_id":135456193,"body_markdown":"Did you notice the reference to a Chrome driver in the error message?","body":"Did you notice the reference to a Chrome driver in the error message?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691158754,"creation_date":1691158754,"answer_id":76836778,"question_id":76835458,"body_markdown":"Using  _Python_ for file upload to send a filename through `send_keys()` you need to pass the absolute filepath as follows:\r\n\r\n\tuploadElement.send_keys(&quot;C:\\Users\\Suraj\\Downloads\\automation\\automation\\resources\\PageObject\\testData\\uploadFiles\\fztcdrSupportedFiles\\sample_bmp.bmp&quot;);","title":"I am facing path issue while uploading files in Firefox browser on Windows OS in logs I am able to see / instead of \\","body":"<p>Using  <em>Python</em> for file upload to send a filename through <code>send_keys()</code> you need to pass the absolute filepath as follows:</p>\n<pre><code>uploadElement.send_keys(&quot;C:\\Users\\Suraj\\Downloads\\automation\\automation\\resources\\PageObject\\testData\\uploadFiles\\fztcdrSupportedFiles\\sample_bmp.bmp&quot;);\n</code></pre>\n"}],"owner":{"account_id":24349255,"reputation":1,"user_id":18285323,"display_name":"kahirrao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691158802,"answer_count":1,"score":0,"last_activity_date":1691211943,"creation_date":1691148472,"question_id":76835458,"body_markdown":"[Robot log file][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fM5Wz.png\r\n\r\nI am trying to upload a file using Firefox browser but it giving me path error in windows system and same code is working on MAC system\r\n\r\nIf you see log file the in error instead of &#39;\\\\&#39; forward slash &#39;/&#39;black slash visible and it happing only on windows for Firefox browser.\r\n\r\n    InvalidArgumentException: Message: File not found: C:\\Users\\Suraj\\Downloads\\automation\\automation\\resources\\PageObject\\testData\\uploadFiles\\fztcdrSupportedFiles/sample_bmp.bmp Stacktrace: RemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8 WebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:187:5 InvalidArgumentError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:378:5 interaction.uploadFiles@chrome://remote/content/marionette/interaction.sys.mjs:543:13**strong text**\r\n\r\nInvalidArgumentException: Message: File not found: C:\\Users\\Suraj\\Downloads\\automation\\automation\\resources\\PageObject\\testData\\uploadFiles\\fztcdrSupportedFiles**/sample_bmp.bmp**","title":"I am facing path issue while uploading files in Firefox browser on Windows OS in logs I am able to see / instead of \\","body":"<p><a href=\"https://i.stack.imgur.com/fM5Wz.png\" rel=\"nofollow noreferrer\">Robot log file</a></p>\n<p>I am trying to upload a file using Firefox browser but it giving me path error in windows system and same code is working on MAC system</p>\n<p>If you see log file the in error instead of '\\' forward slash '/'black slash visible and it happing only on windows for Firefox browser.</p>\n<pre><code>InvalidArgumentException: Message: File not found: C:\\Users\\Suraj\\Downloads\\automation\\automation\\resources\\PageObject\\testData\\uploadFiles\\fztcdrSupportedFiles/sample_bmp.bmp Stacktrace: RemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8 WebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:187:5 InvalidArgumentError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:378:5 interaction.uploadFiles@chrome://remote/content/marionette/interaction.sys.mjs:543:13**strong text**\n</code></pre>\n<p>InvalidArgumentException: Message: File not found: C:\\Users\\Suraj\\Downloads\\automation\\automation\\resources\\PageObject\\testData\\uploadFiles\\fztcdrSupportedFiles**/sample_bmp.bmp**</p>\n"},{"tags":["java","xml","spring","spring-boot","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1632828454,"post_id":69360710,"comment_id":122593695,"body_markdown":"Remove `mybatis.config-location` and `mybatis.mapper-locations` from &#39;application.properties&#39;. You don&#39;t need &#39;mybatisConfig.xml&#39; and `@MapperScan` should pick up mappers. Because of the redundant configuration, MyBatis tries to load the same mapper multiple times and throws the error, probably. Read the quick setup section in the [doc](http://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/).","body":"Remove <code>mybatis.config-location</code> and <code>mybatis.mapper-locations</code> from &#39;application.properties&#39;. You don&#39;t need &#39;mybatisConfig.xml&#39; and <code>@MapperScan</code> should pick up mappers. Because of the redundant configuration, MyBatis tries to load the same mapper multiple times and throws the error, probably. Read the quick setup section in the <a href=\"http://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/\" rel=\"nofollow noreferrer\">doc</a>."}],"answers":[{"tags":[],"owner":{"account_id":7382606,"reputation":51,"user_id":5618756,"display_name":"Zouhour Ncib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633004065,"creation_date":1633004065,"answer_id":69392070,"question_id":69360710,"body_markdown":"Your &quot;employeeMapper&quot; is not declared as a spring bean, so when dependency injection, there&#39;s no bean with this type. Try adding a @Component on your class.","title":"Error creating bean with name Unsatisfied dependency expressed through field","body":"<p>Your &quot;employeeMapper&quot; is not declared as a spring bean, so when dependency injection, there's no bean with this type. Try adding a @Component on your class.</p>\n"},{"tags":[],"owner":{"account_id":29163892,"reputation":1,"user_id":22341962,"display_name":"Cap Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691211029,"creation_date":1691211029,"answer_id":76840177,"question_id":69360710,"body_markdown":"add this in Mybatis-config.xml\r\n\r\n    &lt;mapper&gt;\r\n      &lt;package name=&quot;com.xxx.xxx.mapper&quot;&gt;\r\n    &lt;mapper&gt;","title":"Error creating bean with name Unsatisfied dependency expressed through field","body":"<p>add this in Mybatis-config.xml</p>\n<pre><code>&lt;mapper&gt;\n  &lt;package name=&quot;com.xxx.xxx.mapper&quot;&gt;\n&lt;mapper&gt;\n</code></pre>\n"}],"owner":{"account_id":5452968,"reputation":7389,"user_id":4337240,"accept_rate":72,"display_name":"Chaudhry Talha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4039,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691211029,"creation_date":1632827775,"question_id":69360710,"body_markdown":"It&#39;s been 3rd day I&#39;ve been trying to implement a simple CRUD application using Mybatis XML configuration and I&#39;m new to the whole Spring ecosystem. The question is a bit long but I&#39;ve only sharec the essentials.\r\n\r\nI have a class `Employee.java`:\r\n\r\n```\r\nimport lombok.*;\r\n\r\n@Getter @Setter @AllArgsConstructor @NoArgsConstructor @ToString\r\npublic class Employee {\r\n\r\n    private long emp_Id;\r\n    private String emp_name;\r\n    private String emp_dept;\r\n\r\n}\r\n```\r\nThen I wrote a Mapper\r\n```\r\n@Mapper\r\npublic interface EmployeeMapper {\r\n\r\n    public Employee getEmployee(@Param(&quot;emp_Id&quot;) Long emp_Id);\r\n    public List&lt;Employee&gt; getAllEmployee();\r\n\r\n}\r\n```\r\n\r\nThen I wrote a mapper XML named `EmployeeMapper.xml`\r\n\r\n```\r\n...\r\n&lt;mapper namespace=&quot;Employee&quot;&gt;\r\n    &lt;select id=&quot;getAllEmployee&quot; resultType=&quot;com.tmb.mybatiscrudproj.domains.Employee&quot;&gt;\r\n        select * from employee\r\n    &lt;/select&gt;\r\n\r\n    &lt;select id=&quot;getEmployee&quot; resultType=&quot;com.tmb.mybatiscrudproj.domains.Employee&quot;&gt;\r\n        select * from employee where emp_Id = #{emp_Id}\r\n    &lt;/select&gt;\r\n\r\n&lt;/mapper&gt;\r\n```\r\n\r\nThen I have written a service:\r\n\r\n```\r\npublic interface EmployeeService {\r\n\r\n    public Employee getEmployee(Long emp_Id);\r\n    public List&lt;Employee&gt; getAllEmployee();\r\n\r\n}\r\n```\r\n\r\nand here is the service implementation:\r\n\r\n```\r\n@Service\r\npublic class EmployeeServiceImpl implements EmployeeService {\r\n\r\n    @Autowired\r\n    EmployeeMapper employeeMapper;\r\n\r\n    @Override\r\n    public List&lt;Employee&gt; getAllEmployee() {\r\n        List&lt;Employee&gt; list = employeeMapper.getAllEmployee();\r\n        return list;\r\n    }\r\n\r\n    @Override\r\n    public Employee getEmployee(Long emp_Id) {\r\n        return employeeMapper.getEmployee(emp_Id);\r\n    }\r\n}\r\n```\r\n\r\nand finally the controller class\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/employee&quot;)\r\npublic class EmployeeController {\r\n\r\n    @Autowired\r\n    EmployeeService empService;\r\n\r\n    @RequestMapping(value=&quot;/getEmp/{empId}&quot;,method = RequestMethod.GET)\r\n    public Employee getEmployee(@PathVariable Long empId){\r\n        return empService.getEmployee(empId);\r\n    }\r\n\r\n    @GetMapping(value=&quot;/getAllEmp&quot;)\r\n    public List&lt;Employee&gt; getAllEmployee(){\r\n        return empService.getAllEmployee();\r\n    }\r\n\r\n```\r\n\r\nI&#39;m confused about the configurations. As I have a built-in `application.properties` inside the `resources` older and in it I have:\r\n\r\n```\r\nserver.port: 8081\r\n\r\nspring.h2.console.enabled=true\r\nspring.h2.console.path=/h2\r\n\r\nspring.datasource.url=jdbc:h2:~/test\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=org.h2.Driver\r\n\r\nmybatis.config-location=classpath:mapper/mybatisConfig.xml\r\nmybatis.mapper-locations=classpath:mapper/*Mapper.xml\r\nmybatis.type-aliases-package=com.tmb.mybatiscrudproj.domains\r\nmybatis.configuration.map-underscore-to-camel-case=true\r\nmybatis.configuration.default-fetch-size=100\r\nmybatis.configuration.default-statement-timeout=30\r\n```\r\n\r\nFollowing many tutorials and answers, I created a `mybatisConfig.xml` and `EmployeeMapper.xml` file is also inside the `resources folder.\r\n\r\nIn the `mybatisConfig.xml` I&#39;ve done almost the same thing as I did in `.properties` file \r\n\r\n```\r\n...\r\n&lt;configuration&gt;\r\n    &lt;environments default=&quot;development&quot;&gt;\r\n        &lt;environment id=&quot;development&quot;&gt;\r\n            &lt;transactionManager type=&quot;JDBC&quot;/&gt;\r\n            &lt;dataSource type=&quot;POOLED&quot;&gt;\r\n                &lt;property name=&quot;driver&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n                &lt;property name=&quot;url&quot; value=&quot;jdbc:h2:~/test&quot;/&gt;\r\n                &lt;property name=&quot;username&quot; value=&quot;sa&quot;/&gt;\r\n                &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\r\n                &lt;property name=&quot;path&quot; value=&quot;/h2&quot;/&gt;\r\n            &lt;/dataSource&gt;\r\n        &lt;/environment&gt;\r\n    &lt;/environments&gt;\r\n    &lt;mappers&gt;\r\n        &lt;mapper resource=&quot;EmployeeMapper.xml&quot;/&gt;\r\n    &lt;/mappers&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nHere is the screenshot of the project structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nwhen I run the project I get the following errors:\r\n\r\n&gt; Error creating bean with name &#39;employeeController&#39;: Unsatisfied dependency expressed through field &#39;empService&#39;;\r\n\r\n&gt; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;employeeMapper&#39;;\r\n\r\n&gt; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeMapper&#39; defined in file [MY_PATH/mybatiscrudproj/target/classes/com/tmb/mybatiscrudproj/mapper/EmployeeMapper.class]: Unsatisfied dependency expressed through bean property &#39;sqlSessionFactory&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sqlSessionFactory&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method &#39;sqlSessionFactory&#39; threw exception; nested exception is java.lang.IllegalStateException: Property &#39;configuration&#39; and &#39;configLocation&#39; can not specified with together\r\n\r\nNow based on the searches I have done I made sure the in the main class I add:\r\n\r\n```\r\n@MappedTypes({Employee.class})\r\n@MapperScan(&quot;com.tmb.mybatiscrudproj.mapper&quot;)\r\n@SpringBootApplication\r\npublic class MybatiscrudprojApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MybatiscrudprojApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nbut still the same error. **How can I successfully configure the project with the structure I have shared in this question**?\r\n\r\n  [1]: https://i.stack.imgur.com/3cLkl.png","title":"Error creating bean with name Unsatisfied dependency expressed through field","body":"<p>It's been 3rd day I've been trying to implement a simple CRUD application using Mybatis XML configuration and I'm new to the whole Spring ecosystem. The question is a bit long but I've only sharec the essentials.</p>\n<p>I have a class <code>Employee.java</code>:</p>\n<pre><code>import lombok.*;\n\n@Getter @Setter @AllArgsConstructor @NoArgsConstructor @ToString\npublic class Employee {\n\n    private long emp_Id;\n    private String emp_name;\n    private String emp_dept;\n\n}\n</code></pre>\n<p>Then I wrote a Mapper</p>\n<pre><code>@Mapper\npublic interface EmployeeMapper {\n\n    public Employee getEmployee(@Param(&quot;emp_Id&quot;) Long emp_Id);\n    public List&lt;Employee&gt; getAllEmployee();\n\n}\n</code></pre>\n<p>Then I wrote a mapper XML named <code>EmployeeMapper.xml</code></p>\n<pre><code>...\n&lt;mapper namespace=&quot;Employee&quot;&gt;\n    &lt;select id=&quot;getAllEmployee&quot; resultType=&quot;com.tmb.mybatiscrudproj.domains.Employee&quot;&gt;\n        select * from employee\n    &lt;/select&gt;\n\n    &lt;select id=&quot;getEmployee&quot; resultType=&quot;com.tmb.mybatiscrudproj.domains.Employee&quot;&gt;\n        select * from employee where emp_Id = #{emp_Id}\n    &lt;/select&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n<p>Then I have written a service:</p>\n<pre><code>public interface EmployeeService {\n\n    public Employee getEmployee(Long emp_Id);\n    public List&lt;Employee&gt; getAllEmployee();\n\n}\n</code></pre>\n<p>and here is the service implementation:</p>\n<pre><code>@Service\npublic class EmployeeServiceImpl implements EmployeeService {\n\n    @Autowired\n    EmployeeMapper employeeMapper;\n\n    @Override\n    public List&lt;Employee&gt; getAllEmployee() {\n        List&lt;Employee&gt; list = employeeMapper.getAllEmployee();\n        return list;\n    }\n\n    @Override\n    public Employee getEmployee(Long emp_Id) {\n        return employeeMapper.getEmployee(emp_Id);\n    }\n}\n</code></pre>\n<p>and finally the controller class</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/employee&quot;)\npublic class EmployeeController {\n\n    @Autowired\n    EmployeeService empService;\n\n    @RequestMapping(value=&quot;/getEmp/{empId}&quot;,method = RequestMethod.GET)\n    public Employee getEmployee(@PathVariable Long empId){\n        return empService.getEmployee(empId);\n    }\n\n    @GetMapping(value=&quot;/getAllEmp&quot;)\n    public List&lt;Employee&gt; getAllEmployee(){\n        return empService.getAllEmployee();\n    }\n\n</code></pre>\n<p>I'm confused about the configurations. As I have a built-in <code>application.properties</code> inside the <code>resources</code> older and in it I have:</p>\n<pre><code>server.port: 8081\n\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2\n\nspring.datasource.url=jdbc:h2:~/test\nspring.datasource.username=sa\nspring.datasource.password=\nspring.datasource.driver-class-name=org.h2.Driver\n\nmybatis.config-location=classpath:mapper/mybatisConfig.xml\nmybatis.mapper-locations=classpath:mapper/*Mapper.xml\nmybatis.type-aliases-package=com.tmb.mybatiscrudproj.domains\nmybatis.configuration.map-underscore-to-camel-case=true\nmybatis.configuration.default-fetch-size=100\nmybatis.configuration.default-statement-timeout=30\n</code></pre>\n<p>Following many tutorials and answers, I created a <code>mybatisConfig.xml</code> and <code>EmployeeMapper.xml</code> file is also inside the `resources folder.</p>\n<p>In the <code>mybatisConfig.xml</code> I've done almost the same thing as I did in <code>.properties</code> file</p>\n<pre><code>...\n&lt;configuration&gt;\n    &lt;environments default=&quot;development&quot;&gt;\n        &lt;environment id=&quot;development&quot;&gt;\n            &lt;transactionManager type=&quot;JDBC&quot;/&gt;\n            &lt;dataSource type=&quot;POOLED&quot;&gt;\n                &lt;property name=&quot;driver&quot; value=&quot;org.h2.Driver&quot;/&gt;\n                &lt;property name=&quot;url&quot; value=&quot;jdbc:h2:~/test&quot;/&gt;\n                &lt;property name=&quot;username&quot; value=&quot;sa&quot;/&gt;\n                &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\n                &lt;property name=&quot;path&quot; value=&quot;/h2&quot;/&gt;\n            &lt;/dataSource&gt;\n        &lt;/environment&gt;\n    &lt;/environments&gt;\n    &lt;mappers&gt;\n        &lt;mapper resource=&quot;EmployeeMapper.xml&quot;/&gt;\n    &lt;/mappers&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Here is the screenshot of the project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/3cLkl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3cLkl.png\" alt=\"enter image description here\" /></a></p>\n<p>when I run the project I get the following errors:</p>\n<blockquote>\n<p>Error creating bean with name 'employeeController': Unsatisfied dependency expressed through field 'empService';</p>\n</blockquote>\n<blockquote>\n<p>nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeServiceImpl': Unsatisfied dependency expressed through field 'employeeMapper';</p>\n</blockquote>\n<blockquote>\n<p>nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeMapper' defined in file [MY_PATH/mybatiscrudproj/target/classes/com/tmb/mybatiscrudproj/mapper/EmployeeMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.lang.IllegalStateException: Property 'configuration' and 'configLocation' can not specified with together</p>\n</blockquote>\n<p>Now based on the searches I have done I made sure the in the main class I add:</p>\n<pre><code>@MappedTypes({Employee.class})\n@MapperScan(&quot;com.tmb.mybatiscrudproj.mapper&quot;)\n@SpringBootApplication\npublic class MybatiscrudprojApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MybatiscrudprojApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>but still the same error. <strong>How can I successfully configure the project with the structure I have shared in this question</strong>?</p>\n"},{"tags":["python","java","sql","pyspark"],"comments":[{"owner":{"account_id":12515566,"reputation":4742,"user_id":9108912,"display_name":"Vaebhav"},"score":0,"creation_date":1643950336,"post_id":70981458,"comment_id":125480654,"body_markdown":"This will help - https://stackoverflow.com/questions/48260412/environment-variables-pyspark-python-and-pyspark-driver-python","body":"This will help - <a href=\"https://stackoverflow.com/questions/48260412/environment-variables-pyspark-python-and-pyspark-driver-python\" title=\"environment variables pyspark python and pyspark driver python\">stackoverflow.com/questions/48260412/&hellip;</a>"},{"owner":{"account_id":23631466,"reputation":31,"user_id":17663126,"display_name":"Pratik Bawane"},"score":0,"creation_date":1643956611,"post_id":70981458,"comment_id":125481746,"body_markdown":"Ya bro but it works on PyCharm but not in Jupyter why?","body":"Ya bro but it works on PyCharm but not in Jupyter why?"},{"owner":{"account_id":23631466,"reputation":31,"user_id":17663126,"display_name":"Pratik Bawane"},"score":0,"creation_date":1643956652,"post_id":70981458,"comment_id":125481756,"body_markdown":"Can you tell me how to set that in Jupyter?","body":"Can you tell me how to set that in Jupyter?"},{"owner":{"account_id":12515566,"reputation":4742,"user_id":9108912,"display_name":"Vaebhav"},"score":0,"creation_date":1643957722,"post_id":70981458,"comment_id":125481955,"body_markdown":"if you export the env variables according to the answer , that is applicable throughout. Since you are on windows , you can check how to add the environment variables accordingly , and do restart just in case","body":"if you export the env variables according to the answer , that is applicable throughout. Since you are on windows , you can check how to add the environment variables accordingly , and do restart just in case"},{"owner":{"account_id":23631466,"reputation":31,"user_id":17663126,"display_name":"Pratik Bawane"},"score":0,"creation_date":1643960562,"post_id":70981458,"comment_id":125482612,"body_markdown":"So what solution do I found to this is do &quot;pip install pyspark&quot; and &quot;python -m pip install findspark&quot; in anaconda prompt.","body":"So what solution do I found to this is do &quot;pip install pyspark&quot; and &quot;python -m pip install findspark&quot; in anaconda prompt."}],"answers":[{"tags":[],"owner":{"account_id":2679033,"reputation":27742,"user_id":2314737,"accept_rate":82,"display_name":"user2314737"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643964001,"creation_date":1643964001,"answer_id":70983497,"question_id":70981458,"body_markdown":"The key is in this part of the error message:\r\n\r\n`RuntimeError: Python in worker has different version 3.9 than that in driver 3.10, PySpark cannot run with different minor versions. Please check environment variables PYSPARK_PYTHON and PYSPARK_DRIVER_PYTHON are correctly set.`\r\n\r\nYou need to have exactly the same Python versions in driver and worker nodes. \r\n\r\nProbably a quick solution would be to downgrade your Python version to 3.9 (assuming driver is running on the client you&#39;re using).","title":"How to resolve this error: Py4JJavaError: An error occurred while calling o70.showString?","body":"<p>The key is in this part of the error message:</p>\n<p><code>RuntimeError: Python in worker has different version 3.9 than that in driver 3.10, PySpark cannot run with different minor versions. Please check environment variables PYSPARK_PYTHON and PYSPARK_DRIVER_PYTHON are correctly set.</code></p>\n<p>You need to have exactly the same Python versions in driver and worker nodes.</p>\n<p>Probably a quick solution would be to downgrade your Python version to 3.9 (assuming driver is running on the client you're using).</p>\n"},{"tags":[],"owner":{"account_id":9823775,"reputation":543,"user_id":7277557,"display_name":"amaresh hiremani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1672581601,"creation_date":1672581601,"answer_id":74975034,"question_id":70981458,"body_markdown":"before running the above code you can manually set the env variable\r\nlike this\r\n\r\n    import os\r\n    import sys\r\n    \r\n    os.environ[&#39;PYSPARK_PYTHON&#39;] = sys.executable\r\n    os.environ[&#39;PYSPARK_DRIVER_PYTHON&#39;] = sys.executable\r\n\r\nthis worked in jupyter notebook for me.","title":"How to resolve this error: Py4JJavaError: An error occurred while calling o70.showString?","body":"<p>before running the above code you can manually set the env variable\nlike this</p>\n<pre><code>import os\nimport sys\n\nos.environ['PYSPARK_PYTHON'] = sys.executable\nos.environ['PYSPARK_DRIVER_PYTHON'] = sys.executable\n</code></pre>\n<p>this worked in jupyter notebook for me.</p>\n"},{"tags":[],"owner":{"account_id":20393849,"reputation":1,"user_id":14961146,"display_name":"Elliot Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691210981,"creation_date":1691210981,"answer_id":76840173,"question_id":70981458,"body_markdown":"The log error is pretty clear, python for running spark and python running in your code is different, you will need to set PYSPARK_PYTHON same version as your current python running, otherwise it will get default python in system","title":"How to resolve this error: Py4JJavaError: An error occurred while calling o70.showString?","body":"<p>The log error is pretty clear, python for running spark and python running in your code is different, you will need to set PYSPARK_PYTHON same version as your current python running, otherwise it will get default python in system</p>\n"}],"owner":{"account_id":23631466,"reputation":31,"user_id":17663126,"display_name":"Pratik Bawane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39713,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70983497,"answer_count":3,"score":2,"last_activity_date":1691210981,"creation_date":1643949457,"question_id":70981458,"body_markdown":"Currently I&#39;m doing PySpark and working on DataFrame.  \r\nI&#39;ve created a DataFrame:\r\n\r\n    from pyspark.sql import *\r\n    import pandas as pd\r\n    spark = SparkSession.builder.appName(&quot;DataFarme&quot;).getOrCreate()\r\n    df = spark.createDataFrame([(&quot;Java&quot;, &quot;20000&quot;), (&quot;Python&quot;, &quot;100000&quot;), (&quot;Scala&quot;, &quot;3000&quot;)])\r\n    df.printSchema()\r\n\r\n#Output:-\r\n\r\n    root\r\n     |-- _1: string (nullable = true)\r\n     |-- _2: string (nullable = true)\r\n\r\nBut when I do `df.show()` its showing error as:\r\n\r\n    Py4JJavaError                             Traceback (most recent call last)\r\n    C:\\Users\\PRATIK~1\\AppData\\Local\\Temp/ipykernel_20924/3726558592.py in &lt;module&gt;\r\n    ----&gt; 1 df.show()\r\n    \r\n    C:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\pyspark\\sql\\dataframe.py in show(self, n, truncate, vertical)\r\n        492 \r\n        493         if isinstance(truncate, bool) and truncate:\r\n    --&gt; 494             print(self._jdf.showString(n, 20, vertical))\r\n        495         else:\r\n        496             try:\r\n    \r\n    C:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.3-src.zip\\py4j\\java_gateway.py in __call__(self, *args)\r\n       1319 \r\n       1320         answer = self.gateway_client.send_command(command)\r\n    -&gt; 1321         return_value = get_return_value(\r\n       1322             answer, self.gateway_client, self.target_id, self.name)\r\n       1323 \r\n    \r\n    C:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\pyspark\\sql\\utils.py in deco(*a, **kw)\r\n        109     def deco(*a, **kw):\r\n        110         try:\r\n    --&gt; 111             return f(*a, **kw)\r\n        112         except py4j.protocol.Py4JJavaError as e:\r\n        113             converted = convert_exception(e.java_exception)\r\n    \r\n    C:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.3-src.zip\\py4j\\protocol.py in get_return_value(answer, gateway_client, target_id, name)\r\n        324             value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\r\n        325             if answer[1] == REFERENCE_TYPE:\r\n    --&gt; 326                 raise Py4JJavaError(\r\n        327                     &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\r\n        328                     format(target_id, &quot;.&quot;, name), value)\r\n    \r\n    Py4JJavaError: An error occurred while calling o70.showString.\r\n    : org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 1.0 failed 1 times, most recent failure: Lost task 0.0 in stage 1.0 (TID 1) (KPI-PratikTrainee executor driver): org.apache.spark.api.python.PythonException: Traceback (most recent call last):\r\n      File &quot;C:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\lib\\pyspark.zip\\pyspark\\worker.py&quot;, line 481, in main\r\n    RuntimeError: Python in worker has different version 3.9 than that in driver 3.10, PySpark cannot run with different minor versions. Please check environment variables PYSPARK_PYTHON and PYSPARK_DRIVER_PYTHON are correctly set.\r\n    \r\n    \tat org.apache.spark.api.python.BasePythonRunner$ReaderIterator.handlePythonException(PythonRunner.scala:555)\r\n    \tat org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:713)\r\n    \tat org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:695)\r\n    \tat org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:508)\r\n    \tat org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n    \tat scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\r\n    \tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n    \tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n    \tat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n    \tat org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n    \tat org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:349)\r\n    \tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:898)\r\n    \tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:898)\r\n    \tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\r\n    \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    \r\n    Driver stacktrace:\r\n    \tat org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2454)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2403)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2402)\r\n    \tat scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n    \tat scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n    \tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2402)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1160)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1160)\r\n    \tat scala.Option.foreach(Option.scala:407)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1160)\r\n    \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2642)\r\n    \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2584)\r\n    \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2573)\r\n    \tat org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:938)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2214)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2235)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2254)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:476)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:429)\r\n    \tat org.apache.spark.sql.execution.CollectLimitExec.executeCollect(limit.scala:48)\r\n    \tat org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3715)\r\n    \tat org.apache.spark.sql.Dataset.$anonfun$head$1(Dataset.scala:2728)\r\n    \tat org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3706)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n    \tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n    \tat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3704)\r\n    \tat org.apache.spark.sql.Dataset.head(Dataset.scala:2728)\r\n    \tat org.apache.spark.sql.Dataset.take(Dataset.scala:2935)\r\n    \tat org.apache.spark.sql.Dataset.getRows(Dataset.scala:287)\r\n    \tat org.apache.spark.sql.Dataset.showString(Dataset.scala:326)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n    \tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n    \tat py4j.Gateway.invoke(Gateway.java:282)\r\n    \tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n    \tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n    \tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n    \tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.apache.spark.api.python.PythonException: Traceback (most recent call last):\r\n      File &quot;C:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\lib\\pyspark.zip\\pyspark\\worker.py&quot;, line 481, in main\r\n    RuntimeError: Python in worker has different version 3.9 than that in driver 3.10, PySpark cannot run with different minor versions. Please check environment variables PYSPARK_PYTHON and PYSPARK_DRIVER_PYTHON are correctly set.\r\n    \r\n    \tat org.apache.spark.api.python.BasePythonRunner$ReaderIterator.handlePythonException(PythonRunner.scala:555)\r\n    \tat org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:713)\r\n    \tat org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:695)\r\n    \tat org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:508)\r\n    \tat org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n    \tat scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\r\n    \tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n    \tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n    \tat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n    \tat org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n    \tat org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:349)\r\n    \tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:898)\r\n    \tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:898)\r\n    \tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\r\n    \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \t... 1 more\r\n\r\n\r\n\r\nSame thing occured for `df.collect()`.\r\n\r\nBut the same thing works perfectly fine in PyCharm once I set these 2 zip files in Project Structure: `py4j-0.10.9.3-src.zip, pyspark.zip`\r\n\r\n\r\n\r\nCan anybody tell me how to set these 2 files in Jupyter so that I can run df.show() and df.collect() please?","title":"How to resolve this error: Py4JJavaError: An error occurred while calling o70.showString?","body":"<p>Currently I'm doing PySpark and working on DataFrame.<br />\nI've created a DataFrame:</p>\n<pre><code>from pyspark.sql import *\nimport pandas as pd\nspark = SparkSession.builder.appName(&quot;DataFarme&quot;).getOrCreate()\ndf = spark.createDataFrame([(&quot;Java&quot;, &quot;20000&quot;), (&quot;Python&quot;, &quot;100000&quot;), (&quot;Scala&quot;, &quot;3000&quot;)])\ndf.printSchema()\n</code></pre>\n<p>#Output:-</p>\n<pre><code>root\n |-- _1: string (nullable = true)\n |-- _2: string (nullable = true)\n</code></pre>\n<p>But when I do <code>df.show()</code> its showing error as:</p>\n<pre><code>Py4JJavaError                             Traceback (most recent call last)\nC:\\Users\\PRATIK~1\\AppData\\Local\\Temp/ipykernel_20924/3726558592.py in &lt;module&gt;\n----&gt; 1 df.show()\n\nC:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\pyspark\\sql\\dataframe.py in show(self, n, truncate, vertical)\n    492 \n    493         if isinstance(truncate, bool) and truncate:\n--&gt; 494             print(self._jdf.showString(n, 20, vertical))\n    495         else:\n    496             try:\n\nC:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.3-src.zip\\py4j\\java_gateway.py in __call__(self, *args)\n   1319 \n   1320         answer = self.gateway_client.send_command(command)\n-&gt; 1321         return_value = get_return_value(\n   1322             answer, self.gateway_client, self.target_id, self.name)\n   1323 \n\nC:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\pyspark\\sql\\utils.py in deco(*a, **kw)\n    109     def deco(*a, **kw):\n    110         try:\n--&gt; 111             return f(*a, **kw)\n    112         except py4j.protocol.Py4JJavaError as e:\n    113             converted = convert_exception(e.java_exception)\n\nC:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\lib\\py4j-0.10.9.3-src.zip\\py4j\\protocol.py in get_return_value(answer, gateway_client, target_id, name)\n    324             value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\n    325             if answer[1] == REFERENCE_TYPE:\n--&gt; 326                 raise Py4JJavaError(\n    327                     &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\n    328                     format(target_id, &quot;.&quot;, name), value)\n\nPy4JJavaError: An error occurred while calling o70.showString.\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 1.0 failed 1 times, most recent failure: Lost task 0.0 in stage 1.0 (TID 1) (KPI-PratikTrainee executor driver): org.apache.spark.api.python.PythonException: Traceback (most recent call last):\n  File &quot;C:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\lib\\pyspark.zip\\pyspark\\worker.py&quot;, line 481, in main\nRuntimeError: Python in worker has different version 3.9 than that in driver 3.10, PySpark cannot run with different minor versions. Please check environment variables PYSPARK_PYTHON and PYSPARK_DRIVER_PYTHON are correctly set.\n\n    at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.handlePythonException(PythonRunner.scala:555)\n    at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:713)\n    at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:695)\n    at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:508)\n    at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n    at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\n    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\n    at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n    at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:349)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:898)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:898)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:131)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n\nDriver stacktrace:\n    at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2454)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2403)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2402)\n    at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n    at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n    at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2402)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1160)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1160)\n    at scala.Option.foreach(Option.scala:407)\n    at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1160)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2642)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2584)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2573)\n    at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\n    at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:938)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2214)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2235)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2254)\n    at org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:476)\n    at org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:429)\n    at org.apache.spark.sql.execution.CollectLimitExec.executeCollect(limit.scala:48)\n    at org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3715)\n    at org.apache.spark.sql.Dataset.$anonfun$head$1(Dataset.scala:2728)\n    at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3706)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3704)\n    at org.apache.spark.sql.Dataset.head(Dataset.scala:2728)\n    at org.apache.spark.sql.Dataset.take(Dataset.scala:2935)\n    at org.apache.spark.sql.Dataset.getRows(Dataset.scala:287)\n    at org.apache.spark.sql.Dataset.showString(Dataset.scala:326)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.spark.api.python.PythonException: Traceback (most recent call last):\n  File &quot;C:\\Spark\\spark-3.2.1-bin-hadoop3.2\\python\\lib\\pyspark.zip\\pyspark\\worker.py&quot;, line 481, in main\nRuntimeError: Python in worker has different version 3.9 than that in driver 3.10, PySpark cannot run with different minor versions. Please check environment variables PYSPARK_PYTHON and PYSPARK_DRIVER_PYTHON are correctly set.\n\n    at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.handlePythonException(PythonRunner.scala:555)\n    at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:713)\n    at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:695)\n    at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:508)\n    at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n    at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\n    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n    at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\n    at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n    at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:349)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:898)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:898)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:131)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    ... 1 more\n</code></pre>\n<p>Same thing occured for <code>df.collect()</code>.</p>\n<p>But the same thing works perfectly fine in PyCharm once I set these 2 zip files in Project Structure: <code>py4j-0.10.9.3-src.zip, pyspark.zip</code></p>\n<p>Can anybody tell me how to set these 2 files in Jupyter so that I can run df.show() and df.collect() please?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":4,"creation_date":1691168637,"post_id":76837885,"comment_id":135460388,"body_markdown":"The problem is the try-with-resources in `find()`: it closes the `Stream&lt;Path&gt; walk` **before** returning it from the method.","body":"The problem is the try-with-resources in <code>find()</code>: it closes the <code>Stream&lt;Path&gt; walk</code> <b>before</b> returning it from the method."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691210847,"creation_date":1691168741,"answer_id":76837925,"question_id":76837885,"body_markdown":"Don&#39;t close the `Stream&lt;Path&gt;` returned by walk inside the `find` method (as is currently being done by the try-with-resources).\r\n\r\nAccording to the [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,java.nio.file.FileVisitOption...)) (emphasis mine):\r\n\r\n&lt;blockquote&gt;The returned stream contains references to one or more open directories. The directories are closed by closing the stream.\r\n\r\nAPI Note:\r\nThis method must be used within a try-with-resources statement or similar control structure to ensure that the stream&#39;s open directories are closed promptly **after** the stream&#39;s operations have completed.&lt;/blockquote&gt;\r\n\r\n```\r\nstatic Stream&lt;CharSequence&gt; find() throws IOException {\r\n\treturn Files.walk(Path.of(&quot;C:/Temp&quot;)).map(Path::toString);\r\n}\r\n```\r\n\r\nYou can close it in `writeAllTxtSorted` instead.\r\n\r\n```java\r\ntry (var walk = find().sorted()) {\r\n    Files.write(file, walk::iterator, StandardOpenOption.CREATE);\r\n}\r\n```","title":"IllegalStateException occurs, writing a stream","body":"<p>Don't close the <code>Stream&lt;Path&gt;</code> returned by walk inside the <code>find</code> method (as is currently being done by the try-with-resources).</p>\n<p>According to the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,java.nio.file.FileVisitOption...)\" rel=\"nofollow noreferrer\">documentation</a> (emphasis mine):</p>\n<blockquote>The returned stream contains references to one or more open directories. The directories are closed by closing the stream.\n<p>API Note:\nThis method must be used within a try-with-resources statement or similar control structure to ensure that the stream's open directories are closed promptly <strong>after</strong> the stream's operations have completed.</blockquote></p>\n<pre><code>static Stream&lt;CharSequence&gt; find() throws IOException {\n    return Files.walk(Path.of(&quot;C:/Temp&quot;)).map(Path::toString);\n}\n</code></pre>\n<p>You can close it in <code>writeAllTxtSorted</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var walk = find().sorted()) {\n    Files.write(file, walk::iterator, StandardOpenOption.CREATE);\n}\n</code></pre>\n"}],"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76837925,"answer_count":1,"score":-1,"last_activity_date":1691210847,"creation_date":1691168321,"question_id":76837885,"body_markdown":"What am I doing wrong here:\r\n```\r\nprivate static void writeAllTxtSorted(String fileId) {\r\n\ttry {\r\n\t\tPath file = tmp.resolve(&quot;AllTxt&quot; + fileId);\r\n\t\tFiles.deleteIfExists(file);\r\n69-&gt;    Files.write(file, find().sorted()::iterator, StandardOpenOption.CREATE);\r\n\t} catch (Exception e) {\r\n\t\terr(e, &quot;problems&quot;, l);\r\n\t}\r\n}\r\n\r\nstatic Stream&lt;CharSequence&gt; find() throws IOException {\r\n\ttry (Stream&lt;Path&gt; walk = Files.walk(Path.of(&quot;C:/Temp&quot;))) {\r\n\t\treturn walk.map(pth -&gt; pth.toString());\r\n\t}\r\n}\r\n```\r\n```\r\njava.lang.IllegalStateException null\r\n[java.base/java.nio.file.FileTreeIterator.hasNext(FileTreeIterator.java:102)\r\n\tjava.base/java.util.Spliterators$IteratorSpliterator.tryAdvance(Spliterators.java:1855)\r\n\tjava.base/java.util.stream.StreamSpliterators$WrappingSpliterator.lambda$initPartialTraversalState$0(StreamSpliterators.java:292)\r\n\tjava.base/java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.fillBuffer(StreamSpliterators.java:206)\r\n\tjava.base/java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.doAdvance(StreamSpliterators.java:161)\r\n\tjava.base/java.util.stream.StreamSpliterators$WrappingSpliterator.tryAdvance(StreamSpliterators.java:298)\r\n\tjava.base/java.util.Spliterators$1Adapter.hasNext(Spliterators.java:681)\r\n\tjava.base/java.nio.file.Files.write(Files.java:3583)\r\n\tjava.base/java.nio.file.Files.write(Files.java:3633)\r\n\teu.ngong.allTxt/eu.ngong.allTxt.App.writeAllTxtSorted(App.java:69)\r\n\teu.ngong.allTxt/eu.ngong.allTxt.App.main(App.java:50)]\r\n```\r\n`tmp` is `java.io.temp`.&lt;BR/&gt;\r\n`err` is an operation logging the error on the `Logger l`.\r\n\r\nWhat this reduced code should do is, write all paths of files below `C:\\Temp` to a file.&lt;BR/&gt;\r\nInstead it throws the exception `IllegalStateException`.","title":"IllegalStateException occurs, writing a stream","body":"<p>What am I doing wrong here:</p>\n<pre><code>private static void writeAllTxtSorted(String fileId) {\n    try {\n        Path file = tmp.resolve(&quot;AllTxt&quot; + fileId);\n        Files.deleteIfExists(file);\n69-&gt;    Files.write(file, find().sorted()::iterator, StandardOpenOption.CREATE);\n    } catch (Exception e) {\n        err(e, &quot;problems&quot;, l);\n    }\n}\n\nstatic Stream&lt;CharSequence&gt; find() throws IOException {\n    try (Stream&lt;Path&gt; walk = Files.walk(Path.of(&quot;C:/Temp&quot;))) {\n        return walk.map(pth -&gt; pth.toString());\n    }\n}\n</code></pre>\n<pre><code>java.lang.IllegalStateException null\n[java.base/java.nio.file.FileTreeIterator.hasNext(FileTreeIterator.java:102)\n    java.base/java.util.Spliterators$IteratorSpliterator.tryAdvance(Spliterators.java:1855)\n    java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.lambda$initPartialTraversalState$0(StreamSpliterators.java:292)\n    java.base/java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.fillBuffer(StreamSpliterators.java:206)\n    java.base/java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.doAdvance(StreamSpliterators.java:161)\n    java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.tryAdvance(StreamSpliterators.java:298)\n    java.base/java.util.Spliterators$1Adapter.hasNext(Spliterators.java:681)\n    java.base/java.nio.file.Files.write(Files.java:3583)\n    java.base/java.nio.file.Files.write(Files.java:3633)\n    eu.ngong.allTxt/eu.ngong.allTxt.App.writeAllTxtSorted(App.java:69)\n    eu.ngong.allTxt/eu.ngong.allTxt.App.main(App.java:50)]\n</code></pre>\n<p><code>tmp</code> is <code>java.io.temp</code>.<BR/>\n<code>err</code> is an operation logging the error on the <code>Logger l</code>.</p>\n<p>What this reduced code should do is, write all paths of files below <code>C:\\Temp</code> to a file.<BR/>\nInstead it throws the exception <code>IllegalStateException</code>.</p>\n"},{"tags":["java","spring-boot","gradle","dependencies","lombok"],"comments":[{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":0,"creation_date":1690569336,"post_id":76790052,"comment_id":135377196,"body_markdown":"Getters &amp; Setters should be accessible also from different projects. If you&#39;re using IntelliJ - I encountered a lot of caching issues along the years, so make sure you `clean install`  the `EntityModel` project to make sure it&#39;s installed locally. Then, you might need to restart the IntelliJ instance of `Onboarding`","body":"Getters &amp; Setters should be accessible also from different projects. If you&#39;re using IntelliJ - I encountered a lot of caching issues along the years, so make sure you <code>clean install</code>  the <code>EntityModel</code> project to make sure it&#39;s installed locally. Then, you might need to restart the IntelliJ instance of <code>Onboarding</code>"},{"owner":{"account_id":29111734,"reputation":13,"user_id":22301357,"display_name":"edpavanelli"},"score":0,"creation_date":1690572192,"post_id":76790052,"comment_id":135377589,"body_markdown":"@idanz I already tried to open the same project and subprojects in eclipse and the same happens. I usualy use the Ubuntu terminal to run ./gradlew clean build, the error I snippeted in my question above was coppied from my Ubuntu terminal.","body":"@idanz I already tried to open the same project and subprojects in eclipse and the same happens. I usualy use the Ubuntu terminal to run ./gradlew clean build, the error I snippeted in my question above was coppied from my Ubuntu terminal."},{"owner":{"account_id":1714477,"reputation":2068,"user_id":1571871,"display_name":"SamYonnou"},"score":0,"creation_date":1690584921,"post_id":76790052,"comment_id":135379023,"body_markdown":"In your `Onboarding` project, do you have the `io.freefair.lombok` plugin configured in the plugins block? Or are you trying to get lombok working without the plugin?","body":"In your <code>Onboarding</code> project, do you have the <code>io.freefair.lombok</code> plugin configured in the plugins block? Or are you trying to get lombok working without the plugin?"},{"owner":{"account_id":29111734,"reputation":13,"user_id":22301357,"display_name":"edpavanelli"},"score":0,"creation_date":1690921183,"post_id":76790052,"comment_id":135419625,"body_markdown":"Yes, I didn&#39;t have the io.freefair.lombok plugin configured, now that that I configured it&#39;s working, Thanks @SamYonnou","body":"Yes, I didn&#39;t have the io.freefair.lombok plugin configured, now that that I configured it&#39;s working, Thanks @SamYonnou"}],"answers":[{"tags":[],"owner":{"account_id":29111734,"reputation":13,"user_id":22301357,"display_name":"edpavanelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691208310,"creation_date":1690921680,"answer_id":76814965,"question_id":76790052,"body_markdown":"After configure the `io.freefair.lombok` plugin inside the &#39;Onboarding&#39; build.gradle.kts, it works:\r\n\r\n    plugins {\r\n\tjava\r\n\twar\r\n\tid(&quot;org.springframework.boot&quot;) version &quot;3.1.2&quot;\r\n\tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.2&quot;\r\n\tid(&quot;io.freefair.lombok&quot;) version &quot;8.1.0&quot;}","title":"Can I access Lombok getters and setters annotated inside a dependency project?","body":"<p>After configure the <code>io.freefair.lombok</code> plugin inside the 'Onboarding' build.gradle.kts, it works:</p>\n<pre><code>plugins {\njava\nwar\nid(&quot;org.springframework.boot&quot;) version &quot;3.1.2&quot;\nid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.2&quot;\nid(&quot;io.freefair.lombok&quot;) version &quot;8.1.0&quot;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11533281,"reputation":161,"user_id":8451595,"display_name":"Vishwajeet Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691208978,"creation_date":1691208978,"answer_id":76840123,"question_id":76790052,"body_markdown":"Use @Data annotation also inside the EntityModel file.","title":"Can I access Lombok getters and setters annotated inside a dependency project?","body":"<p>Use @Data annotation also inside the EntityModel file.</p>\n"}],"owner":{"account_id":29111734,"reputation":13,"user_id":22301357,"display_name":"edpavanelli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76814965,"answer_count":2,"score":1,"last_activity_date":1691208978,"creation_date":1690566820,"question_id":76790052,"body_markdown":"I have a project &#39;Onboarding&#39; which has another project &#39;EntityModel&#39; as a dependency. Inside &#39;EntityModel&#39; have a lot of entities annotated with Lombok, for example:\r\n\r\n\r\n```\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Entity\r\n@Table(name=&quot;address&quot;)\r\npublic class Address {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;address_generator_sequence&quot;)\r\n    @Column(name = &quot;address_id&quot;)\r\n    private long id;\r\n(...)\r\n```\r\n\r\nbut when I try to access the getters or setters of those entities in a &#39;Onboarding&#39; class:\r\n\r\n\r\n```\r\n@PostMapping(&quot;/createCustomer&quot;)\r\npublic ResponseEntity&lt;Customer&gt; createCustomer(@RequestBody Customer customer) throws URISyntaxException {\r\n\r\n        Address ad = new Address();\r\n\r\n        ad.getId();\r\n\r\n        return ResponseEntity.created(new URI(&quot;/user/&quot;)).build();\r\n    }\r\n```\r\n\r\n\r\nThe IDE doesn&#39;t show up the getters in the options box, and when I run the build, the compller shows me this:\r\n\r\n\r\n```\r\n(...)/Restaurant/onboarding/src/main/java/com/restaurant/onboarding/controller/OnboardingController.java:37: error: cannot find symbol\r\n        ad.getId();\r\n          ^\r\n  symbol:   method getId()\r\n  location: variable ad of type Address\r\n```\r\n\r\n\r\n\r\nwhen I opened the .class and realized the annotations didn&#39;t persist, I searched a little bit and saw that Lombok has the Retention as a Source. But even so, is there any other way, any other configuration that I can make to access Lombok getters and setters from another project?    ","title":"Can I access Lombok getters and setters annotated inside a dependency project?","body":"<p>I have a project 'Onboarding' which has another project 'EntityModel' as a dependency. Inside 'EntityModel' have a lot of entities annotated with Lombok, for example:</p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\n@ToString\n@Entity\n@Table(name=&quot;address&quot;)\npublic class Address {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;address_generator_sequence&quot;)\n    @Column(name = &quot;address_id&quot;)\n    private long id;\n(...)\n</code></pre>\n<p>but when I try to access the getters or setters of those entities in a 'Onboarding' class:</p>\n<pre><code>@PostMapping(&quot;/createCustomer&quot;)\npublic ResponseEntity&lt;Customer&gt; createCustomer(@RequestBody Customer customer) throws URISyntaxException {\n\n        Address ad = new Address();\n\n        ad.getId();\n\n        return ResponseEntity.created(new URI(&quot;/user/&quot;)).build();\n    }\n</code></pre>\n<p>The IDE doesn't show up the getters in the options box, and when I run the build, the compller shows me this:</p>\n<pre><code>(...)/Restaurant/onboarding/src/main/java/com/restaurant/onboarding/controller/OnboardingController.java:37: error: cannot find symbol\n        ad.getId();\n          ^\n  symbol:   method getId()\n  location: variable ad of type Address\n</code></pre>\n<p>when I opened the .class and realized the annotations didn't persist, I searched a little bit and saw that Lombok has the Retention as a Source. But even so, is there any other way, any other configuration that I can make to access Lombok getters and setters from another project?</p>\n"},{"tags":["java","string","logging","formatting","string-formatting"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1456914404,"post_id":35744310,"comment_id":59162315,"body_markdown":"No good ideas, maybe: could it make sense to create a wrapper for your logging calls - one method that takes message and substitution arguments ... and then calls logger.info and otherSystem.info?","body":"No good ideas, maybe: could it make sense to create a wrapper for your logging calls - one method that takes message and substitution arguments ... and then calls logger.info and otherSystem.info?"}],"answers":[{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1691208818,"creation_date":1456914482,"answer_id":35744523,"question_id":35744310,"body_markdown":"If you using `slf4j`, you can use its `MessageFormatter.arrayFormat` which returns a `FormattingTuple`,\r\n\r\n   \r\n    FormattingTuple ft = MessageFormatter.arrayFormat(format, argArray);\r\nAnd then convert it to a string.\r\n\r\n    String msg = ft.getMessage();\r\n\r\nWhich means you can add a utility method for that\r\n\r\n    static String format(String format, String...params) {\r\n        FormattingTuple ft = MessageFormatter.arrayFormat(format, params);\r\n        String message = ft.getMessage();\r\n        return message;\r\n    }\r\n    \r\n    System.out.println(format(&quot;hi {}, you {}&quot;, &quot;there&quot;, &quot;rock&quot;));","title":"Java: how to format string with logging-like pattern?","body":"<p>If you using <code>slf4j</code>, you can use its <code>MessageFormatter.arrayFormat</code> which returns a <code>FormattingTuple</code>,</p>\n<pre><code>FormattingTuple ft = MessageFormatter.arrayFormat(format, argArray);\n</code></pre>\n<p>And then convert it to a string.</p>\n<pre><code>String msg = ft.getMessage();\n</code></pre>\n<p>Which means you can add a utility method for that</p>\n<pre><code>static String format(String format, String...params) {\n    FormattingTuple ft = MessageFormatter.arrayFormat(format, params);\n    String message = ft.getMessage();\n    return message;\n}\n\nSystem.out.println(format(&quot;hi {}, you {}&quot;, &quot;there&quot;, &quot;rock&quot;));\n</code></pre>\n"}],"owner":{"account_id":1064189,"reputation":8562,"user_id":1065145,"accept_rate":28,"display_name":"Denis Kulagin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1846,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35744523,"answer_count":1,"score":4,"last_activity_date":1691208818,"creation_date":1456913944,"question_id":35744310,"body_markdown":"Sometimes it&#39;s required to compose a string using logging-like pattern:\r\n\r\n&gt; Something went wrong, detailA={}, detailB={}\r\n\r\nbut not in order to log it, but for other purposes (e.g. send over network).\r\n\r\nSometimes it&#39;s causing code duplication, like this:\r\n\r\n    logger.info(&quot;Something went wrong, detailA={}, detailB={}&quot;, detailA, detailB));\r\n\r\n    otherSystem.info(String.format(&quot;Something went wrong, detailA=%s, detailB=%s&quot;,\r\n      detailA, detailB);\r\n\r\nWhich is highly inconvenient and error-prone. How to format a string using logging pattern and logging-like API?","title":"Java: how to format string with logging-like pattern?","body":"<p>Sometimes it's required to compose a string using logging-like pattern:</p>\n\n<blockquote>\n  <p>Something went wrong, detailA={}, detailB={}</p>\n</blockquote>\n\n<p>but not in order to log it, but for other purposes (e.g. send over network).</p>\n\n<p>Sometimes it's causing code duplication, like this:</p>\n\n<pre><code>logger.info(\"Something went wrong, detailA={}, detailB={}\", detailA, detailB));\n\notherSystem.info(String.format(\"Something went wrong, detailA=%s, detailB=%s\",\n  detailA, detailB);\n</code></pre>\n\n<p>Which is highly inconvenient and error-prone. How to format a string using logging pattern and logging-like API?</p>\n"},{"tags":["java","arrays","hash","anagram"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1683223817,"post_id":76176169,"comment_id":134337797,"body_markdown":"Your current code returns `true` immediately on a character match. You need to check **all** characters. (But see previous comment.)","body":"Your current code returns <code>true</code> immediately on a character match. You need to check <b>all</b> characters. (But see previous comment.)"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1683225618,"post_id":76176169,"comment_id":134338194,"body_markdown":"Crap, I was thinking palindromes. Ignore original comment. I&#39;m not sure which is worse--that I spaced out, or that it was still in my head 30 minutes later.","body":"Crap, I was thinking palindromes. Ignore original comment. I&#39;m not sure which is worse--that I spaced out, or that it was still in my head 30 minutes later."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683224969,"creation_date":1683224609,"answer_id":76176293,"question_id":76176169,"body_markdown":"After sorting you only have to check if the arrays are equal and return that as the result:\r\n\r\n    class Solution {\r\n        public boolean isAnagram(String s, String t) {\r\n            char[] s_array = s.toCharArray();\r\n            char[] t_array = t.toCharArray();\r\n\r\n            Arrays.sort(s_array);\r\n            Arrays.sort(t_array);\r\n\r\n            return Arrays.equals(s_array,t_array);\r\n        }\r\n    }\r\n\r\nIn your code you should only return false when they don&#39;t match:\r\n\r\n    class Solution {\r\n        public boolean isAnagram(String s, String t) {\r\n            char[] s_array = s.toCharArray();\r\n            char[] t_array = t.toCharArray();\r\n    \r\n            Arrays.sort(s_array);\r\n            Arrays.sort(t_array);\r\n    \r\n            if (s_array.length == t_array.length) {\r\n                for (int i = 0; i &lt;= s_array.length-1; i++) {\r\n                    if (s_array[i] != t_array[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n","title":"Valid Anagram - Could Someone Please Explain why my code doesn&#39;t pass Example Case 2?","body":"<p>After sorting you only have to check if the arrays are equal and return that as the result:</p>\n<pre><code>class Solution {\n    public boolean isAnagram(String s, String t) {\n        char[] s_array = s.toCharArray();\n        char[] t_array = t.toCharArray();\n\n        Arrays.sort(s_array);\n        Arrays.sort(t_array);\n\n        return Arrays.equals(s_array,t_array);\n    }\n}\n</code></pre>\n<p>In your code you should only return false when they don't match:</p>\n<pre><code>class Solution {\n    public boolean isAnagram(String s, String t) {\n        char[] s_array = s.toCharArray();\n        char[] t_array = t.toCharArray();\n\n        Arrays.sort(s_array);\n        Arrays.sort(t_array);\n\n        if (s_array.length == t_array.length) {\n            for (int i = 0; i &lt;= s_array.length-1; i++) {\n                if (s_array[i] != t_array[i]) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683226640,"creation_date":1683226640,"answer_id":76176546,"question_id":76176169,"body_markdown":"The problem is that you are short circuiting your character comparison on a match without checking the other characters and returning `true` prematurely.  You need to short circuit on a mis-match and return `false`, otherwise return `true` after the for loop completes.\r\n\r\nBut no sense reinventing the wheel on comparisons. Just use `Arrays.compare`.\r\n```\r\npublic static boolean isAnagram(String s, String t) {\r\n     char[] s_array = s.toCharArray();\r\n     char[] t_array = t.toCharArray();\r\n\r\n     Arrays.sort(s_array);\r\n     Arrays.sort(t_array);\r\n     return Arrays.compare(s_array,t_array) == 0;\r\n}","title":"Valid Anagram - Could Someone Please Explain why my code doesn&#39;t pass Example Case 2?","body":"<p>The problem is that you are short circuiting your character comparison on a match without checking the other characters and returning <code>true</code> prematurely.  You need to short circuit on a mis-match and return <code>false</code>, otherwise return <code>true</code> after the for loop completes.</p>\n<p>But no sense reinventing the wheel on comparisons. Just use <code>Arrays.compare</code>.</p>\n<pre><code>public static boolean isAnagram(String s, String t) {\n     char[] s_array = s.toCharArray();\n     char[] t_array = t.toCharArray();\n\n     Arrays.sort(s_array);\n     Arrays.sort(t_array);\n     return Arrays.compare(s_array,t_array) == 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27471165,"reputation":1,"user_id":20960046,"display_name":"Zaeem Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691208002,"creation_date":1690899622,"answer_id":76812601,"question_id":76176169,"body_markdown":"Refer to this line of your code:\r\n\r\n    for (int i = 0; i &lt;= s_array.length-1; i++) {\r\n        if (s_array[i] == t_array[i]) {\r\n            return true;\r\n\r\nso when **rat** and **cat** are arranged you get  \r\n **act** and **art** respectively \r\n so after comparison of the first character, i.e. **&#39;a&#39;**, you are returning true and not checking the remaining ones as you can see that on the comparison of second character you get false. This is your error.\r\n\r\nHere is a solution to your problem:\r\n\r\n    public boolean isAnagram(String s, String t) {\r\n        char[] s_array = s.toCharArray();\r\n        char[] t_array = t.toCharArray();\r\n\r\n        Arrays.sort(s_array);\r\n        Arrays.sort(t_array);\r\n\r\n        if (s_array.length == t_array.length) {\r\n            for (int i = 0; i &lt;= s_array.length-1; i++) {\r\n                if (s_array[i] != t_array[i]) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nI hope it helps.\r\n","title":"Valid Anagram - Could Someone Please Explain why my code doesn&#39;t pass Example Case 2?","body":"<p>Refer to this line of your code:</p>\n<pre><code>for (int i = 0; i &lt;= s_array.length-1; i++) {\n    if (s_array[i] == t_array[i]) {\n        return true;\n</code></pre>\n<p>so when <strong>rat</strong> and <strong>cat</strong> are arranged you get<br />\n<strong>act</strong> and <strong>art</strong> respectively\nso after comparison of the first character, i.e. <strong>'a'</strong>, you are returning true and not checking the remaining ones as you can see that on the comparison of second character you get false. This is your error.</p>\n<p>Here is a solution to your problem:</p>\n<pre><code>public boolean isAnagram(String s, String t) {\n    char[] s_array = s.toCharArray();\n    char[] t_array = t.toCharArray();\n\n    Arrays.sort(s_array);\n    Arrays.sort(t_array);\n\n    if (s_array.length == t_array.length) {\n        for (int i = 0; i &lt;= s_array.length-1; i++) {\n            if (s_array[i] != t_array[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>I hope it helps.</p>\n"}],"owner":{"account_id":28508601,"reputation":1,"user_id":21818909,"display_name":"guardianOfTime"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1691208002,"creation_date":1683223478,"question_id":76176169,"body_markdown":"Given two strings s and t, return true if t is an anagram of s, and false otherwise.\r\n\r\nAn Anagram is a word or phrase formed by rearranging the letters of a different word or phrase, typically using all the original letters exactly once.\r\n\r\nExample 1:\r\nInput: s = &quot;anagram&quot;, t = &quot;nagaram&quot;\r\nOutput: true\r\n\r\nExample 2:\r\nInput: s = &quot;rat&quot;, t = &quot;car&quot;\r\nOutput: false\r\n\r\n```java\r\nclass Solution {\r\n    public boolean isAnagram(String s, String t) {\r\n        char[] s_array = s.toCharArray();\r\n        char[] t_array = t.toCharArray();\r\n\r\n        Arrays.sort(s_array);\r\n        Arrays.sort(t_array);\r\n\r\n        if (s_array.length == t_array.length) {\r\n            for (int i = 0; i &lt;= s_array.length-1; i++) {\r\n                if (s_array[i] == t_array[i]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nFor Example 2, I&#39;m getting the output as true when the expected is false.\r\n\r\nI believe that my code should meet the requirements of the problem, but it is not working as expected. My approach involves converting the given string into a char array, sorting it, and then comparing it with another sorted char array. I expect that if the two arrays have the same values for each index, they are anagrams. However, it seems that there is something missing or incorrect in my approach.","title":"Valid Anagram - Could Someone Please Explain why my code doesn&#39;t pass Example Case 2?","body":"<p>Given two strings s and t, return true if t is an anagram of s, and false otherwise.</p>\n<p>An Anagram is a word or phrase formed by rearranging the letters of a different word or phrase, typically using all the original letters exactly once.</p>\n<p>Example 1:\nInput: s = &quot;anagram&quot;, t = &quot;nagaram&quot;\nOutput: true</p>\n<p>Example 2:\nInput: s = &quot;rat&quot;, t = &quot;car&quot;\nOutput: false</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public boolean isAnagram(String s, String t) {\n        char[] s_array = s.toCharArray();\n        char[] t_array = t.toCharArray();\n\n        Arrays.sort(s_array);\n        Arrays.sort(t_array);\n\n        if (s_array.length == t_array.length) {\n            for (int i = 0; i &lt;= s_array.length-1; i++) {\n                if (s_array[i] == t_array[i]) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>For Example 2, I'm getting the output as true when the expected is false.</p>\n<p>I believe that my code should meet the requirements of the problem, but it is not working as expected. My approach involves converting the given string into a char array, sorting it, and then comparing it with another sorted char array. I expect that if the two arrays have the same values for each index, they are anagrams. However, it seems that there is something missing or incorrect in my approach.</p>\n"},{"tags":["java","php","android","post","localhost"],"answers":[{"tags":[],"owner":{"account_id":6354551,"reputation":901,"user_id":4932376,"accept_rate":62,"display_name":"Saumik Bhattacharya"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1547639769,"creation_date":1455812217,"answer_id":35486758,"question_id":35441481,"body_markdown":"I have figured out the reason why it was not working.\r\nThere were two issues -- \r\n\r\n1. The IP Address was not correct. So I changed the IP Address from `10.0.2.2` to the `IPv4` address - which can be obtained on windows by typeing `ipconfig`  in the command prompt and see [link][1] for  linux.\r\n\r\n2. Also the port number 8080 was not correct. I have set my own port number in `httpd.conf` file, like \r\n`##Listen 12.34.56.78:8383Listen 0.0.0.0:8383Listen [::0]:8383##`, under Apache and I used the same.\r\n\r\nAfter changing both and re-starting the WAMP server, it worked like a charm.\r\n\r\n\r\n  [1]: https://opensource.com/article/18/5/how-find-ip-address-linux","title":"Connection to LocalHost/10.0.2.2 from Android Emulator timed out","body":"<p>I have figured out the reason why it was not working.\nThere were two issues -- </p>\n\n<ol>\n<li><p>The IP Address was not correct. So I changed the IP Address from <code>10.0.2.2</code> to the <code>IPv4</code> address - which can be obtained on windows by typeing <code>ipconfig</code>  in the command prompt and see <a href=\"https://opensource.com/article/18/5/how-find-ip-address-linux\" rel=\"noreferrer\">link</a> for  linux.</p></li>\n<li><p>Also the port number 8080 was not correct. I have set my own port number in <code>httpd.conf</code> file, like \n<code>##Listen 12.34.56.78:8383Listen 0.0.0.0:8383Listen [::0]:8383##</code>, under Apache and I used the same.</p></li>\n</ol>\n\n<p>After changing both and re-starting the WAMP server, it worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":3522784,"reputation":200,"user_id":2944644,"display_name":"styssi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1479410430,"creation_date":1479410430,"answer_id":40663284,"question_id":35441481,"body_markdown":"Making a connection from your Android to your Computer is working with 10.0.2.2 only on an Google Android Virtual Device. Android Virtual Devices are listening for 10.0.2.2 and forwarding all the requests to your computer.\r\n\r\nGenymotion Android Virtual Devices are listening on 10.0.2.3 and forwarding those requests to your computer.\r\n\r\n10.0.2.2 is not working with your real Android device. If you want to use it with your real device you have to set the IP of your computer, as it has been suggested by a previous answer.","title":"Connection to LocalHost/10.0.2.2 from Android Emulator timed out","body":"<p>Making a connection from your Android to your Computer is working with 10.0.2.2 only on an Google Android Virtual Device. Android Virtual Devices are listening for 10.0.2.2 and forwarding all the requests to your computer.</p>\n\n<p>Genymotion Android Virtual Devices are listening on 10.0.2.3 and forwarding those requests to your computer.</p>\n\n<p>10.0.2.2 is not working with your real Android device. If you want to use it with your real device you have to set the IP of your computer, as it has been suggested by a previous answer.</p>\n"},{"tags":[],"owner":{"account_id":5367915,"reputation":319,"user_id":4277227,"accept_rate":80,"display_name":"Zafar Imam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535540903,"creation_date":1535540903,"answer_id":52075998,"question_id":35441481,"body_markdown":"Why to go for localhost or any ip address to run on emulator or real device simply go for [ngrok][1] to convert the localhost as a global address with very convenient and simplest way. \r\n\r\n\r\n  [1]: https://dashboard.ngrok.com/get-started","title":"Connection to LocalHost/10.0.2.2 from Android Emulator timed out","body":"<p>Why to go for localhost or any ip address to run on emulator or real device simply go for <a href=\"https://dashboard.ngrok.com/get-started\" rel=\"nofollow noreferrer\">ngrok</a> to convert the localhost as a global address with very convenient and simplest way. </p>\n"},{"tags":[],"owner":{"account_id":4767604,"reputation":251,"user_id":3853332,"display_name":"sklimkovitch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614298426,"creation_date":1614298426,"answer_id":66378345,"question_id":35441481,"body_markdown":"In my situation, I had this code running on my android device:\r\n\r\n    private static final String BACKEND_URL = &quot;http://10.0.2.2:4242/&quot;; // 10.0.2.2 is the Android emulator&#39;s alias to localhost\r\n\r\nBut my server code was running on my PC. So since my PC and my android device are &quot;not the same device&quot;, that&#39;s why &quot;http://10.0.2.2:4242/&quot; didn&#39;t work. Solution was to change &quot;http://10.0.2.2:4242/&quot; to &quot;https://&lt;IP_OF_SERVER&gt;:4242/&quot;","title":"Connection to LocalHost/10.0.2.2 from Android Emulator timed out","body":"<p>In my situation, I had this code running on my android device:</p>\n<pre><code>private static final String BACKEND_URL = &quot;http://10.0.2.2:4242/&quot;; // 10.0.2.2 is the Android emulator's alias to localhost\n</code></pre>\n<p>But my server code was running on my PC. So since my PC and my android device are &quot;not the same device&quot;, that's why &quot;http://10.0.2.2:4242/&quot; didn't work. Solution was to change &quot;http://10.0.2.2:4242/&quot; to &quot;https://&lt;IP_OF_SERVER&gt;:4242/&quot;</p>\n"},{"tags":[],"owner":{"account_id":7342277,"reputation":11,"user_id":5591300,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624704955,"creation_date":1624704955,"answer_id":68141656,"question_id":35441481,"body_markdown":"Accepted answer to this question is really unclear so maybe this will help someone.  \r\nJust got the same problem and resolved it by executing &quot;adb reverse tcp:8080 tcp:8080&quot;, although after I revoked forwarding, the host machine remained visible and all ports were working, so it is unclear how it works.\r\nMake sure that  \r\n - you have no proxy in wifi settings\r\n - if you have, then 10.0.2.2 is added to bypass without mask\r\n - that you didn&#39;t make a typo, sometimes people put 0 instead of 2 like this 10.0.**0**.2:8080","title":"Connection to LocalHost/10.0.2.2 from Android Emulator timed out","body":"<p>Accepted answer to this question is really unclear so maybe this will help someone.<br />\nJust got the same problem and resolved it by executing &quot;adb reverse tcp:8080 tcp:8080&quot;, although after I revoked forwarding, the host machine remained visible and all ports were working, so it is unclear how it works.\nMake sure that</p>\n<ul>\n<li>you have no proxy in wifi settings</li>\n<li>if you have, then 10.0.2.2 is added to bypass without mask</li>\n<li>that you didn't make a typo, sometimes people put 0 instead of 2 like this 10.0.<strong>0</strong>.2:8080</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6193854,"reputation":1602,"user_id":4825796,"display_name":"Hozeis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683510703,"creation_date":1683510703,"answer_id":76197055,"question_id":35441481,"body_markdown":"This may be caused by vulkan. To fix it, you must turn vulkan off on emulator or chrome.\r\n\r\ncheck out this answer.\r\n\r\nhttps://stackoverflow.com/a/70842795/4825796","title":"Connection to LocalHost/10.0.2.2 from Android Emulator timed out","body":"<p>This may be caused by vulkan. To fix it, you must turn vulkan off on emulator or chrome.</p>\n<p>check out this answer.</p>\n<p><a href=\"https://stackoverflow.com/a/70842795/4825796\">https://stackoverflow.com/a/70842795/4825796</a></p>\n"}],"owner":{"account_id":6354551,"reputation":901,"user_id":4932376,"accept_rate":62,"display_name":"Saumik Bhattacharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47497,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":35486758,"answer_count":6,"score":18,"last_activity_date":1691207004,"creation_date":1455651109,"question_id":35441481,"body_markdown":"Although this question has been asked multiple times in StackOverflow and I went through many of them, still I couldn&#39;t resolve my issue or I am not able to find out the root cause of the issue. Hence, posting a new question.\r\n\r\nBelow are the list of links I went through --\r\n\r\n1. https://stackoverflow.com/questions/5806220/how-to-connect-to-my-http-localhost-web-server-from-android-emulator-in-eclipse\r\n\r\n2. https://stackoverflow.com/questions/6760585/accessing-localhostport-from-android-emulator\r\n\r\n3. https://stackoverflow.com/questions/4779963/how-can-i-access-my-localhost-from-my-android-device\r\n\r\n4. https://stackoverflow.com/questions/5528850/how-to-connect-localhost-in-android-emulator\r\n\r\nHere goes my code --\r\n\r\n    protected Void doInBackground(Void... params)\r\n        {\r\n            try\r\n            {\r\n                HttpURLConnection connection = null;\r\n\r\n                URL url = new URL(&quot;http://10.0.2.2:8080/android_connect/user_registration.php&quot;);\r\n                connection = (HttpURLConnection)url.openConnection();\r\n                connection.setDoOutput(true);\r\n                connection.setDoInput(true);\r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setUseCaches(false);\r\n                connection.setConnectTimeout(720000000);\r\n                connection.setReadTimeout(72000000);\r\n                connection.connect();\r\n\r\n                OutputStreamWriter output = new OutputStreamWriter(connection.getOutputStream());\r\n                output.write(emp_details.toString());\r\n                output.flush();\r\n                output.close();\r\n\r\n                HttpResult = connection.getResponseCode();\r\n\r\n                connection.disconnect();\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n\r\nI am trying to connect Android with MySQL database using PHP through WAMP server. The PHP file (user_registration.php) is being saved in the below path --\r\n\r\n    C:\\wamp\\www\\android_connect\r\n\r\nNow after executing the code, I am getting an error like &quot;**java.net.SocketTimeoutException: failed to connect to /10.0.2.2 (port 8080) after 720000000ms: isConnected failed: ETIMEDOUT (Connection timed out)**&quot;.\r\n\r\nI went through the particular link in order to resolve this issue -- \r\n\r\nhttps://stackoverflow.com/questions/21811789/android-connection-to-localhost\r\n\r\nBut could not understand how it has been resolved! :) \r\n\r\nCan you please help me in this case? Please note I am using Android Studio for my build.\r\n\r\nThanks in advance!","title":"Connection to LocalHost/10.0.2.2 from Android Emulator timed out","body":"<p>Although this question has been asked multiple times in StackOverflow and I went through many of them, still I couldn't resolve my issue or I am not able to find out the root cause of the issue. Hence, posting a new question.</p>\n\n<p>Below are the list of links I went through --</p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/5806220/how-to-connect-to-my-http-localhost-web-server-from-android-emulator-in-eclipse\">How to connect to my http://localhost web server from Android Emulator in Eclipse</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/6760585/accessing-localhostport-from-android-emulator\">Accessing localhost:port from Android emulator</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/4779963/how-can-i-access-my-localhost-from-my-android-device\">How can I access my localhost from my Android device?</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/5528850/how-to-connect-localhost-in-android-emulator\">how to connect localhost in android emulator?</a></p></li>\n</ol>\n\n<p>Here goes my code --</p>\n\n<pre><code>protected Void doInBackground(Void... params)\n    {\n        try\n        {\n            HttpURLConnection connection = null;\n\n            URL url = new URL(\"http://10.0.2.2:8080/android_connect/user_registration.php\");\n            connection = (HttpURLConnection)url.openConnection();\n            connection.setDoOutput(true);\n            connection.setDoInput(true);\n            connection.setRequestMethod(\"POST\");\n            connection.setUseCaches(false);\n            connection.setConnectTimeout(720000000);\n            connection.setReadTimeout(72000000);\n            connection.connect();\n\n            OutputStreamWriter output = new OutputStreamWriter(connection.getOutputStream());\n            output.write(emp_details.toString());\n            output.flush();\n            output.close();\n\n            HttpResult = connection.getResponseCode();\n\n            connection.disconnect();\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n\n<p>I am trying to connect Android with MySQL database using PHP through WAMP server. The PHP file (user_registration.php) is being saved in the below path --</p>\n\n<pre><code>C:\\wamp\\www\\android_connect\n</code></pre>\n\n<p>Now after executing the code, I am getting an error like \"<strong>java.net.SocketTimeoutException: failed to connect to /10.0.2.2 (port 8080) after 720000000ms: isConnected failed: ETIMEDOUT (Connection timed out)</strong>\".</p>\n\n<p>I went through the particular link in order to resolve this issue -- </p>\n\n<p><a href=\"https://stackoverflow.com/questions/21811789/android-connection-to-localhost\">Android connection to localhost</a></p>\n\n<p>But could not understand how it has been resolved! :) </p>\n\n<p>Can you please help me in this case? Please note I am using Android Studio for my build.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","sql-server","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":0,"creation_date":1691113559,"post_id":76832462,"comment_id":135451270,"body_markdown":"As per the question guide, please do not post images of code, data, error messages, etc. - copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text.","body":"As per the question guide, please do not post images of code, data, error messages, etc. - copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text."},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1691126443,"post_id":76832462,"comment_id":135452269,"body_markdown":"port be occupied just find out the corssponding  process and then kill or some else fix it ,  Alternatviely   chanage another port , many port for choose ,.\nThe DataBase connection failed issue , checkout  your server which you deply database is enable  firewall , open the port  for your application request or ,just  build a whitelist and  add you application host into it","body":"port be occupied just find out the corssponding  process and then kill or some else fix it ,  Alternatviely   chanage another port , many port for choose ,. The DataBase connection failed issue , checkout  your server which you deply database is enable  firewall , open the port  for your application request or ,just  build a whitelist and  add you application host into it"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1691130180,"post_id":76832462,"comment_id":135452693,"body_markdown":"The error seems pretty self-explanatory, _com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: no further information. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;_ You have SQL Server Express edition installed, using a named instance, so is it actually configured to listen on tcp/1433 and accept client connections there?","body":"The error seems pretty self-explanatory, <i>com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: no further information. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;</i> You have SQL Server Express edition installed, using a named instance, so is it actually configured to listen on tcp/1433 and accept client connections there?"}],"answers":[{"tags":[],"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691205997,"creation_date":1691205997,"answer_id":76840043,"question_id":76832462,"body_markdown":"Make sure your SQLExpress service is started (services.msc) \r\n\r\nMakes sure TCP is enable on port 1433, https://kb.variphy.com/knowledge-base/how-to-set-static-tcp-port-1433-in-microsoft-sql-server-express/ (port 1433 is disabled by default)\r\n\r\nOnce TCP is configured you should be able to connect.\r\n","title":"Unable to connect to SQL Server via Java SpringBoot application","body":"<p>Make sure your SQLExpress service is started (services.msc)</p>\n<p>Makes sure TCP is enable on port 1433, <a href=\"https://kb.variphy.com/knowledge-base/how-to-set-static-tcp-port-1433-in-microsoft-sql-server-express/\" rel=\"nofollow noreferrer\">https://kb.variphy.com/knowledge-base/how-to-set-static-tcp-port-1433-in-microsoft-sql-server-express/</a> (port 1433 is disabled by default)</p>\n<p>Once TCP is configured you should be able to connect.</p>\n"}],"owner":{"account_id":10823271,"reputation":5,"user_id":7960034,"display_name":"asymmonds"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76840043,"answer_count":1,"score":-1,"last_activity_date":1691205997,"creation_date":1691113056,"question_id":76832462,"body_markdown":"I am trying to just get the thing running and part of that involves connecting to SQL. I&#39;m using SQL Server Express and I&#39;ve attached a picture of my connection information below just in case you find something I misspelt. I keep getting a timeout error and I can&#39;t figure out why. I&#39;m sure I&#39;m missing something obvious. Thanks so much for your help!\r\n\r\nI also have an error with port 8080 being occupied so my program can&#39;t launch. I&#39;m not sure what&#39;s going on with that, netstat came back with nothing...\r\n\r\n[SqlExpress][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VBYKd.png\r\n\r\nmy pom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;theBeginning&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;theBeginning&lt;/name&gt;\r\n    \t&lt;description&gt;First SpringBoot Project&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nMy application.properties file:\r\n\r\n```    spring.datasource.url=jdbc:sqlserver://localhost;databaseName=MobileApplication;integratedSecurity=true;\r\n    spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n```\r\n\r\nmy error message:\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.2)\r\n\r\n2023-08-03T20:30:33.981-05:00  INFO 19512 --- [           main] c.e.t.TheBeginningApplication            : Starting TheBeginningApplication using Java 17.0.7 with PID 19512 (C:\\Users\\15407\\eclipse-workspace\\theBeginning\\target\\classes started by 15407 in C:\\Users\\15407\\eclipse-workspace\\theBeginning)\r\n2023-08-03T20:30:33.987-05:00  INFO 19512 --- [           main] c.e.t.TheBeginningApplication            : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-08-03T20:30:34.710-05:00  INFO 19512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-08-03T20:30:34.739-05:00  INFO 19512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 JPA repository interfaces.\r\n2023-08-03T20:30:35.552-05:00  INFO 19512 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-08-03T20:30:35.563-05:00  INFO 19512 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-08-03T20:30:35.563-05:00  INFO 19512 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\r\n2023-08-03T20:30:35.688-05:00  INFO 19512 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-08-03T20:30:35.691-05:00  INFO 19512 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1638 ms\r\n2023-08-03T20:30:36.072-05:00  INFO 19512 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-08-03T20:30:36.133-05:00  INFO 19512 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\r\n2023-08-03T20:30:36.135-05:00  INFO 19512 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-08-03T20:30:36.279-05:00  INFO 19512 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-08-03T20:30:36.401-05:00  INFO 19512 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-08-03T20:30:36.422-05:00  INFO 19512 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-08-03T20:31:07.415-05:00 ERROR 19512 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: no further information. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:237) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:288) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2517) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:778) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3300) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2950) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2790) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1663) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1064) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.example.theBeginning.TheBeginningApplication.main(TheBeginningApplication.java:10) ~[classes/:na]\r\n\r\n2023-08-03T20:31:07.416-05:00  WARN 19512 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: no further information. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:237) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:288) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2517) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:778) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3300) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2950) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2790) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1663) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1064) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.example.theBeginning.TheBeginningApplication.main(TheBeginningApplication.java:10) ~[classes/:na]\r\n\r\n2023-08-03T20:31:07.557-05:00  INFO 19512 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-08-03T20:31:07.908-05:00  INFO 19512 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-08-03T20:31:07.916-05:00  INFO 19512 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-08-03T20:31:07.972-05:00  WARN 19512 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-08-03T20:31:08.597-05:00  WARN 19512 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;\r\n2023-08-03T20:31:08.597-05:00  INFO 19512 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-08-03T20:31:08.597-05:00  INFO 19512 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-08-03T20:31:08.613-05:00  INFO 19512 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-08-03T20:31:08.644-05:00 ERROR 19512 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nWeb server failed to start. Port 8080 was already in use.\r\n\r\nAction:\r\n\r\nIdentify and stop the process that&#39;s listening on port 8080 or configure this application to listen on another port.\r\n```","title":"Unable to connect to SQL Server via Java SpringBoot application","body":"<p>I am trying to just get the thing running and part of that involves connecting to SQL. I'm using SQL Server Express and I've attached a picture of my connection information below just in case you find something I misspelt. I keep getting a timeout error and I can't figure out why. I'm sure I'm missing something obvious. Thanks so much for your help!</p>\n<p>I also have an error with port 8080 being occupied so my program can't launch. I'm not sure what's going on with that, netstat came back with nothing...</p>\n<p><a href=\"https://i.stack.imgur.com/VBYKd.png\" rel=\"nofollow noreferrer\">SqlExpress</a></p>\n<p>my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;theBeginning&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;theBeginning&lt;/name&gt;\n    &lt;description&gt;First SpringBoot Project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My application.properties file:</p>\n<pre><code>    spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\n    spring.jpa.hibernate.ddl-auto=update\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\n</code></pre>\n<p>my error message:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.2)\n\n2023-08-03T20:30:33.981-05:00  INFO 19512 --- [           main] c.e.t.TheBeginningApplication            : Starting TheBeginningApplication using Java 17.0.7 with PID 19512 (C:\\Users\\15407\\eclipse-workspace\\theBeginning\\target\\classes started by 15407 in C:\\Users\\15407\\eclipse-workspace\\theBeginning)\n2023-08-03T20:30:33.987-05:00  INFO 19512 --- [           main] c.e.t.TheBeginningApplication            : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-08-03T20:30:34.710-05:00  INFO 19512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-08-03T20:30:34.739-05:00  INFO 19512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 JPA repository interfaces.\n2023-08-03T20:30:35.552-05:00  INFO 19512 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-08-03T20:30:35.563-05:00  INFO 19512 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-08-03T20:30:35.563-05:00  INFO 19512 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\n2023-08-03T20:30:35.688-05:00  INFO 19512 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-08-03T20:30:35.691-05:00  INFO 19512 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1638 ms\n2023-08-03T20:30:36.072-05:00  INFO 19512 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-08-03T20:30:36.133-05:00  INFO 19512 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\n2023-08-03T20:30:36.135-05:00  INFO 19512 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-08-03T20:30:36.279-05:00  INFO 19512 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-08-03T20:30:36.401-05:00  INFO 19512 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-08-03T20:30:36.422-05:00  INFO 19512 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-08-03T20:31:07.415-05:00 ERROR 19512 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\ncom.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: no further information. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:237) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:288) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2517) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:778) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3300) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2950) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2790) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1663) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1064) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at com.example.theBeginning.TheBeginningApplication.main(TheBeginningApplication.java:10) ~[classes/:na]\n\n2023-08-03T20:31:07.416-05:00  WARN 19512 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\ncom.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: no further information. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:237) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:288) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2517) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:778) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3300) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2950) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2790) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1663) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1064) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at com.example.theBeginning.TheBeginningApplication.main(TheBeginningApplication.java:10) ~[classes/:na]\n\n2023-08-03T20:31:07.557-05:00  INFO 19512 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-08-03T20:31:07.908-05:00  INFO 19512 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-08-03T20:31:07.916-05:00  INFO 19512 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-08-03T20:31:07.972-05:00  WARN 19512 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-08-03T20:31:08.597-05:00  WARN 19512 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'\n2023-08-03T20:31:08.597-05:00  INFO 19512 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-08-03T20:31:08.597-05:00  INFO 19512 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-08-03T20:31:08.613-05:00  INFO 19512 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-08-03T20:31:08.644-05:00 ERROR 19512 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nWeb server failed to start. Port 8080 was already in use.\n\nAction:\n\nIdentify and stop the process that's listening on port 8080 or configure this application to listen on another port.\n</code></pre>\n"},{"tags":["java","spring","oop","proxy","frameworks"],"answers":[{"tags":[],"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691204640,"creation_date":1691204640,"answer_id":76839995,"question_id":76836835,"body_markdown":"If you put a breakpoint in DefaultSingletonBeanRegistry::getSingleton, you will be able to introspect this.beanPostProcessors and see the processors and their order. \r\nTransaction postprocessors are APO, so they will use CGLib to extended you original bean, for transactions you can put a breakpoint in `AbstractBeanFactoryAwareAdvisingPostProcessor::prepareProxyFactory` to see which beans are wrapped for @Trancational. \r\n\r\nAs with most things in Spring `@Ordered` can be use to control the order in which postprocessors are applied, a classical example is how (spring integrations) @Retry and @Transactional are handled, https://stackoverflow.com/questions/49678581/spring-retry-with-transactional.   \r\n","title":"Spring proxy under the hood. Custom BeanPostProcessor proxying","body":"<p>If you put a breakpoint in DefaultSingletonBeanRegistry::getSingleton, you will be able to introspect this.beanPostProcessors and see the processors and their order.\nTransaction postprocessors are APO, so they will use CGLib to extended you original bean, for transactions you can put a breakpoint in <code>AbstractBeanFactoryAwareAdvisingPostProcessor::prepareProxyFactory</code> to see which beans are wrapped for @Trancational.</p>\n<p>As with most things in Spring <code>@Ordered</code> can be use to control the order in which postprocessors are applied, a classical example is how (spring integrations) @Retry and @Transactional are handled, <a href=\"https://stackoverflow.com/questions/49678581/spring-retry-with-transactional\">Spring Retry with Transactional</a>.</p>\n"}],"owner":{"account_id":29160597,"reputation":9,"user_id":22339438,"display_name":"Flo Pec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1691204640,"creation_date":1691159212,"question_id":76836835,"body_markdown":"Trying to write custom BeanPostProcessor i found many tutorials that showing simple way to create proxy object from my bean and throw it back to be handled by another BeanPostProcessors. I wonder, doesn&#39;t this approach break the further BPP chain because next BPP will not see the class metadata? Are there some additional tricks to avoid breaking chain that hasn&#39;t been shown in those tutorials? Also, how does spring itself handle such cases when creating @Transactional, @Async, etc. proxies of same bean?","title":"Spring proxy under the hood. Custom BeanPostProcessor proxying","body":"<p>Trying to write custom BeanPostProcessor i found many tutorials that showing simple way to create proxy object from my bean and throw it back to be handled by another BeanPostProcessors. I wonder, doesn't this approach break the further BPP chain because next BPP will not see the class metadata? Are there some additional tricks to avoid breaking chain that hasn't been shown in those tutorials? Also, how does spring itself handle such cases when creating @Transactional, @Async, etc. proxies of same bean?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1691203362,"post_id":76839938,"comment_id":135464223,"body_markdown":"The `WebMvcConfigurerAdapter` is deprecated, you shouldn&#39;t use it anymore. Just stick with an implementation of `WebMvcConfigurer`.","body":"The <code>WebMvcConfigurerAdapter</code> is deprecated, you shouldn&#39;t use it anymore. Just stick with an implementation of <code>WebMvcConfigurer</code>."},{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1691203770,"post_id":76839938,"comment_id":135464239,"body_markdown":"Great thanks. If you add that as a answer with example I will accept it. So I dont need the class WebConfig at all?","body":"Great thanks. If you add that as a answer with example I will accept it. So I dont need the class WebConfig at all?"},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1691204237,"post_id":76839938,"comment_id":135464259,"body_markdown":"The method inside your main class does nothing, so in that way listed here it&#39;s useless. You&#39;d have to provide it at least as a bean. Just delete it, it shouldn&#39;t be placed here anyway. And keep on with a WebConfig class, example provided below.","body":"The method inside your main class does nothing, so in that way listed here it&#39;s useless. You&#39;d have to provide it at least as a bean. Just delete it, it shouldn&#39;t be placed here anyway. And keep on with a WebConfig class, example provided below."}],"answers":[{"tags":[],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691204116,"creation_date":1691204116,"answer_id":76839976,"question_id":76839938,"body_markdown":"The `WebMvcConfigurerAdapter` is deprecated, you shouldn&#39;t use it anymore. Just stick with an implementation of `WebMvcConfigurer`:\r\n\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHowever, later on you might set CORS configuration inside your SecurityFilterChain anyway, so the WebMvcConfigurer might more likely be used to set up resource handlers and formatters.","title":"Springboot Cors config - MyApplication and WebConfig","body":"<p>The <code>WebMvcConfigurerAdapter</code> is deprecated, you shouldn't use it anymore. Just stick with an implementation of <code>WebMvcConfigurer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;);\n    }\n}\n</code></pre>\n<p>However, later on you might set CORS configuration inside your SecurityFilterChain anyway, so the WebMvcConfigurer might more likely be used to set up resource handlers and formatters.</p>\n"}],"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76839976,"answer_count":1,"score":0,"last_activity_date":1691204116,"creation_date":1691202831,"question_id":76839938,"body_markdown":"My Spring Boot application has ended up with two classes that both have cors configuration in them.\r\n\r\nI presume one of them is unnecessary. Can someone explain why there is both?\r\n\r\nMyApplication:\r\n\r\n    @EntityScan(&quot;com.nz.myapp&quot;)\r\n    @SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\r\n    public class MyApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MyApplication.class, args);\r\n\t}\r\n\r\n\tpublic WebMvcConfigurer corsConfigurer() {\r\n\t\treturn new WebMvcConfigurer() {\r\n\t\t\t@Override\r\n\t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\t\t\tregistry.addMapping(&quot;/**&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n WebConfig \r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n\r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Springboot Cors config - MyApplication and WebConfig","body":"<p>My Spring Boot application has ended up with two classes that both have cors configuration in them.</p>\n<p>I presume one of them is unnecessary. Can someone explain why there is both?</p>\n<p>MyApplication:</p>\n<pre><code>@EntityScan(&quot;com.nz.myapp&quot;)\n@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\npublic class MyApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(MyApplication.class, args);\n}\n\npublic WebMvcConfigurer corsConfigurer() {\n    return new WebMvcConfigurer() {\n        @Override\n        public void addCorsMappings(CorsRegistry registry) {\n            registry.addMapping(&quot;/**&quot;);\n        }\n    };\n}\n</code></pre>\n<p>WebConfig</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1691205249,"post_id":76839935,"comment_id":135464313,"body_markdown":"I think you can download the certificate from `spotify.com` and install it in your JRE.","body":"I think you can download the certificate from <code>spotify.com</code> and install it in your JRE."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691205287,"post_id":76839935,"comment_id":135464318,"body_markdown":"Please provide the entire error message, not just the first piece of it.","body":"Please provide the entire error message, not just the first piece of it."}],"owner":{"account_id":22899855,"reputation":11,"user_id":19417266,"display_name":"user19417266"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691205296,"answer_count":0,"score":0,"last_activity_date":1691202691,"creation_date":1691202691,"question_id":76839935,"body_markdown":"I was facing this issue, as mentioned in title, when I tried to make request to another https spotify api endpoint to request for access token on-demand (right now, I have it hard-coded in my environment file). My spring-boot app runs over plain http protocol, and I am guessing that since my spring-boot app doesn&#39;t enable https, it won&#39;t present any valid SSL certificate to the spotify API endpoint for my request to actually get approved and reach the endpoint. However, I also don&#39;t want to go through the entire painful process of setting up my spring-boot app with https enabled as that would mean getting my own custom domain, getting valid certificate from root CA, and setting it up for my java springboot project just so I can call upon https endpoints. Much suggestions would be appreciated how to resolve this issue.\r\n\r\nHere is my FormController.java file:\r\n\r\n```\r\npackage com.example.play_app_backend.controllers;\r\n\r\nimport okhttp3.*;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport com.example.play_app_backend.FormData;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport com.example.play_app_backend.SpotifyApiClient;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class FormController {\r\n    private SpotifyApiClient spotifyClient;\r\n\r\n    public FormController() {\r\n        spotifyClient = new SpotifyApiClient();\r\n    }\r\n\r\n    // helper to construct the query parameter q&#39;s query string!\r\n    public String constructQueryString(FormData d) {\r\n        String query = String.format(&quot;artist:%s genre:%s&quot;,\r\n                d.getArtist(),\r\n                d.getGenre());\r\n        System.out.printf(&quot;Query String: %s&quot;, query);\r\n        return query;\r\n    }\r\n\r\n    @PostMapping\r\n    public String handleFormSubmission(@RequestBody FormData data) {\r\n        try {\r\n            //String accessToken = spotifyClient.getAccessToken();\r\n            String accessToken = spotifyClient.getAccessToken(); \r\n            System.out.println(&quot;accessToken: &quot; + accessToken); \r\n            // now, with accessToken, we should utilize the data gotten from front-end to\r\n            // look for Spotify tracks\r\n            // that best match user criteria!\r\n\r\n            // base url of api endpoint for /search!\r\n            String apiUrl = &quot;https://api.spotify.com/v1/search&quot;;\r\n            String queryString = constructQueryString(data);\r\n            // full url containing necessary query params!\r\n            String fullUrl = apiUrl + &#39;?&#39; + &quot;q=&quot; + queryString + &quot; &amp;type=track&quot;;\r\n            System.out.println(&quot;full Url: &quot; + fullUrl); \r\n            OkHttpClient httpClient = new OkHttpClient();\r\n            Request req = new Request.Builder().url(fullUrl).addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken).get()\r\n                    .build();\r\n            try (Response resp = httpClient.newCall(req).execute()) {\r\n                if (resp.isSuccessful()) {\r\n                    String responseBody = resp.body().string();\r\n                    return responseBody;\r\n                } else {\r\n                    return &quot;failed to fetch tracks from spotify /search api endpoint!&quot;;\r\n                }\r\n            } catch (Exception e) {\r\n                return &quot;Error: &quot; + e.getMessage();\r\n            }\r\n        } catch (Exception e) {\r\n            String errorMsg = &quot;can&#39;t get access token&quot; + e.getMessage(); \r\n            return errorMsg;\r\n        }\r\n    }\r\n}\r\n```","title":"Facing Error: &quot;PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException&quot; for Calling Spotify &quot;/search&quot; API endpoint","body":"<p>I was facing this issue, as mentioned in title, when I tried to make request to another https spotify api endpoint to request for access token on-demand (right now, I have it hard-coded in my environment file). My spring-boot app runs over plain http protocol, and I am guessing that since my spring-boot app doesn't enable https, it won't present any valid SSL certificate to the spotify API endpoint for my request to actually get approved and reach the endpoint. However, I also don't want to go through the entire painful process of setting up my spring-boot app with https enabled as that would mean getting my own custom domain, getting valid certificate from root CA, and setting it up for my java springboot project just so I can call upon https endpoints. Much suggestions would be appreciated how to resolve this issue.</p>\n<p>Here is my FormController.java file:</p>\n<pre><code>package com.example.play_app_backend.controllers;\n\nimport okhttp3.*;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport com.example.play_app_backend.FormData;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport com.example.play_app_backend.SpotifyApiClient;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class FormController {\n    private SpotifyApiClient spotifyClient;\n\n    public FormController() {\n        spotifyClient = new SpotifyApiClient();\n    }\n\n    // helper to construct the query parameter q's query string!\n    public String constructQueryString(FormData d) {\n        String query = String.format(&quot;artist:%s genre:%s&quot;,\n                d.getArtist(),\n                d.getGenre());\n        System.out.printf(&quot;Query String: %s&quot;, query);\n        return query;\n    }\n\n    @PostMapping\n    public String handleFormSubmission(@RequestBody FormData data) {\n        try {\n            //String accessToken = spotifyClient.getAccessToken();\n            String accessToken = spotifyClient.getAccessToken(); \n            System.out.println(&quot;accessToken: &quot; + accessToken); \n            // now, with accessToken, we should utilize the data gotten from front-end to\n            // look for Spotify tracks\n            // that best match user criteria!\n\n            // base url of api endpoint for /search!\n            String apiUrl = &quot;https://api.spotify.com/v1/search&quot;;\n            String queryString = constructQueryString(data);\n            // full url containing necessary query params!\n            String fullUrl = apiUrl + '?' + &quot;q=&quot; + queryString + &quot; &amp;type=track&quot;;\n            System.out.println(&quot;full Url: &quot; + fullUrl); \n            OkHttpClient httpClient = new OkHttpClient();\n            Request req = new Request.Builder().url(fullUrl).addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken).get()\n                    .build();\n            try (Response resp = httpClient.newCall(req).execute()) {\n                if (resp.isSuccessful()) {\n                    String responseBody = resp.body().string();\n                    return responseBody;\n                } else {\n                    return &quot;failed to fetch tracks from spotify /search api endpoint!&quot;;\n                }\n            } catch (Exception e) {\n                return &quot;Error: &quot; + e.getMessage();\n            }\n        } catch (Exception e) {\n            String errorMsg = &quot;can't get access token&quot; + e.getMessage(); \n            return errorMsg;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-test"],"answers":[{"tags":[],"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691202351,"creation_date":1691202351,"answer_id":76839929,"question_id":76837386,"body_markdown":"My understanding of MockMVC, is that the HTTP layer is completely skipped. If you use Spring Security, the AuthenticationContext is configured in the test, by binding the Authentication to a thread local variable. \r\nWhen I want to test test controllers, and the full http stack, I will do use RestTemplate, and make Http request in my test sending the credentials as a http payload, then I&#39;m able to debug the entire auth-chain.\r\n\r\nWhen doing a Sping test, you have the option to use @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.X) where X is RANDOM_PORT, or DEFINED_PORT or MOCK, depending of what level you woant to test at \r\n","title":"Mock WebServerFactoryCustomizer in WebMvc-/SpringBootTest","body":"<p>My understanding of MockMVC, is that the HTTP layer is completely skipped. If you use Spring Security, the AuthenticationContext is configured in the test, by binding the Authentication to a thread local variable.\nWhen I want to test test controllers, and the full http stack, I will do use RestTemplate, and make Http request in my test sending the credentials as a http payload, then I'm able to debug the entire auth-chain.</p>\n<p>When doing a Sping test, you have the option to use @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.X) where X is RANDOM_PORT, or DEFINED_PORT or MOCK, depending of what level you woant to test at</p>\n"}],"owner":{"account_id":14461800,"reputation":177,"user_id":10446433,"display_name":"SimpleJack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691202351,"creation_date":1691163508,"question_id":76837386,"body_markdown":"Is it possible to mock a [WebServerFactoryCustomizer&lt;AbstractServletWebServerFactory&gt;][1] in a SpringBootTest?\r\n\r\n```java\r\npublic class MyWebServerConfiguration implements WebServerFactoryCustomizer&lt;AbstractServletWebServerFactory&gt; {\r\n    @Override\r\n    public void customize(AbstractServletWebServerFactory factory) {\r\n        // Do your thing...\r\n    }\r\n}\r\n```\r\nWhy do I do this in the first place? Because I need an additional SSL conext to call a database with an encrypted connection. This means I have 2 connections:\r\n1. The frontend to the users browser\r\n2. The backend to the database\r\n\r\nThe database uses a certificate, that I create by myself.\r\n\r\nOne security concern was, that you should be able to do this setup only one time. After that, you&#39;re not allowed to change this configuration again. The problem now is, the `@WebMvcTest` or `@SpringBootTest` does call this, for every test. Therefore, I want to replace the production WebServer configuration with a mock one, that does actually nothing. I don&#39;t even need the 2 connections. For tests the default SpringBoot configuration would be sufficient enough.\r\n\r\nThe main problem here is, that this configuration does happen in a very early stage of the Spring livecycle:\r\n&gt;Beware: calls to this interface are usually made from a WebServerFactoryCustomizerBeanPostProcessor which is a BeanPostProcessor (so called very early in the ApplicationContext lifecycle). It might be safer to lookup dependencies lazily in the enclosing BeanFactory rather than injecting them with @Autowired.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.webserver.configure","title":"Mock WebServerFactoryCustomizer in WebMvc-/SpringBootTest","body":"<p>Is it possible to mock a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.webserver.configure\" rel=\"nofollow noreferrer\">WebServerFactoryCustomizer</a> in a SpringBootTest?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyWebServerConfiguration implements WebServerFactoryCustomizer&lt;AbstractServletWebServerFactory&gt; {\n    @Override\n    public void customize(AbstractServletWebServerFactory factory) {\n        // Do your thing...\n    }\n}\n</code></pre>\n<p>Why do I do this in the first place? Because I need an additional SSL conext to call a database with an encrypted connection. This means I have 2 connections:</p>\n<ol>\n<li>The frontend to the users browser</li>\n<li>The backend to the database</li>\n</ol>\n<p>The database uses a certificate, that I create by myself.</p>\n<p>One security concern was, that you should be able to do this setup only one time. After that, you're not allowed to change this configuration again. The problem now is, the <code>@WebMvcTest</code> or <code>@SpringBootTest</code> does call this, for every test. Therefore, I want to replace the production WebServer configuration with a mock one, that does actually nothing. I don't even need the 2 connections. For tests the default SpringBoot configuration would be sufficient enough.</p>\n<p>The main problem here is, that this configuration does happen in a very early stage of the Spring livecycle:</p>\n<blockquote>\n<p>Beware: calls to this interface are usually made from a WebServerFactoryCustomizerBeanPostProcessor which is a BeanPostProcessor (so called very early in the ApplicationContext lifecycle). It might be safer to lookup dependencies lazily in the enclosing BeanFactory rather than injecting them with @Autowired.</p>\n</blockquote>\n"},{"tags":["java","spring","mapstruct","mapper"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1691178911,"post_id":76838786,"comment_id":135462179,"body_markdown":"Just as an aside: instead of defining instances, we can use `@Mapper(componentModel = MappingConstants.ComponentModel.SPRING)` to register a mapper as bean. This makes the corresponding mapper injectable, and we do not need to create instances manually (and have additional testability due to DI).","body":"Just as an aside: instead of defining instances, we can use <code>@Mapper(componentModel = MappingConstants.ComponentModel.SPRING)</code> to register a mapper as bean. This makes the corresponding mapper injectable, and we do not need to create instances manually (and have additional testability due to DI)."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1691184597,"post_id":76838786,"comment_id":135462953,"body_markdown":"Why do you need a duplicate variable altogether?","body":"Why do you need a duplicate variable altogether?"}],"answers":[{"tags":[],"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691201791,"creation_date":1691201791,"answer_id":76839908,"question_id":76838786,"body_markdown":"There could be, but I doubt it would be measurable unless you are mapping 100K objects, and measuring performance. I my guess is that it does not matter.\r\nBy having a static instance, you could be saving some memory (if there is state), but unless you are converting a lot, I doubt you could measure the difference when the JVM is up and running.","title":"What is the benefit of assigning a variable of a Mapper Instance to be static?","body":"<p>There could be, but I doubt it would be measurable unless you are mapping 100K objects, and measuring performance. I my guess is that it does not matter.\nBy having a static instance, you could be saving some memory (if there is state), but unless you are converting a lot, I doubt you could measure the difference when the JVM is up and running.</p>\n"}],"owner":{"account_id":23580577,"reputation":1,"user_id":17619654,"display_name":"RandomGuy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691201791,"creation_date":1691178460,"question_id":76838786,"body_markdown":"Let&#39;s suppose I have a Mapper Interface as follows:\r\n\r\n```\r\npublic interface SomeMapper {\r\n     SomeMapper INSTANCE = Mappers.getMapper(SomeMapper.class);\r\n\r\n\r\n     //Some Random Method\r\n     public RandomResponse doSomething();\r\n}\r\n```\r\n\r\nAnd then I have an Executor Class which uses the Mapper:\r\n\r\n```\r\npublic class someExecutor {\r\n     private final SomeMapper someMapper = SomeMapper.INSTANCE;\r\n\r\n     public void someFunction() {\r\n     final randomVariable = someMapper.doSomething();\r\n     }\r\n}\r\n```\r\n\r\nI want to understand if there&#39;s any benefit to making the someMapper variable inside someExecutor class as static. So example would be:\r\n\r\n```\r\nprivate static final SomeMapper someMapper = SomeMapper.INSTANCE;\r\n```\r\n\r\nIs there a benefit of assigning it as static vs assigning it as just private final?","title":"What is the benefit of assigning a variable of a Mapper Instance to be static?","body":"<p>Let's suppose I have a Mapper Interface as follows:</p>\n<pre><code>public interface SomeMapper {\n     SomeMapper INSTANCE = Mappers.getMapper(SomeMapper.class);\n\n\n     //Some Random Method\n     public RandomResponse doSomething();\n}\n</code></pre>\n<p>And then I have an Executor Class which uses the Mapper:</p>\n<pre><code>public class someExecutor {\n     private final SomeMapper someMapper = SomeMapper.INSTANCE;\n\n     public void someFunction() {\n     final randomVariable = someMapper.doSomething();\n     }\n}\n</code></pre>\n<p>I want to understand if there's any benefit to making the someMapper variable inside someExecutor class as static. So example would be:</p>\n<pre><code>private static final SomeMapper someMapper = SomeMapper.INSTANCE;\n</code></pre>\n<p>Is there a benefit of assigning it as static vs assigning it as just private final?</p>\n"},{"tags":["java","java-platform-module-system"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1691201914,"post_id":76839896,"comment_id":135464175,"body_markdown":"Perhaps [this](https://stackoverflow.com/q/46502453/5133585) answer your question?","body":"Perhaps <a href=\"https://stackoverflow.com/q/46502453/5133585\">this</a> answer your question?"},{"owner":{"account_id":5218373,"reputation":773,"user_id":4172557,"accept_rate":0,"display_name":"Hicham Moustaid"},"score":1,"creation_date":1691202375,"post_id":76839896,"comment_id":135464193,"body_markdown":"@Sweeper I know the difference between requires and requires transitive but I don&#39;t understand why it makes a difference during module resolution","body":"@Sweeper I know the difference between requires and requires transitive but I don&#39;t understand why it makes a difference during module resolution"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1691202483,"post_id":76839896,"comment_id":135464195,"body_markdown":"How would you have written the spec for module resolution otherwise? What do you think the spec should say?","body":"How would you have written the spec for module resolution otherwise? What do you think the spec should say?"},{"owner":{"account_id":5218373,"reputation":773,"user_id":4172557,"accept_rate":0,"display_name":"Hicham Moustaid"},"score":1,"creation_date":1691202552,"post_id":76839896,"comment_id":135464196,"body_markdown":"@Sweeper I think it should simply say: &quot;Step 1: Recursive enumeration takes a set of module names, looks up each of their module declarations, and for each module declaration, recursively enumerates the module names given by the &#39;requires&#39; directives&quot;","body":"@Sweeper I think it should simply say: &quot;Step 1: Recursive enumeration takes a set of module names, looks up each of their module declarations, and for each module declaration, recursively enumerates the module names given by the &#39;requires&#39; directives&quot;"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691212010,"post_id":76839896,"comment_id":135464596,"body_markdown":"Is this perhaps awkwardly trying to state that transitive requires get priority over non-transitive ones for resolution, though, &#39;the host system&#39; is free to ignore that suggestion?","body":"Is this perhaps awkwardly trying to state that transitive requires get priority over non-transitive ones for resolution, though, &#39;the host system&#39; is free to ignore that suggestion?"},{"owner":{"account_id":5218373,"reputation":773,"user_id":4172557,"accept_rate":0,"display_name":"Hicham Moustaid"},"score":0,"creation_date":1691407456,"post_id":76839896,"comment_id":135482699,"body_markdown":"@rzwitserloot I tried to apply these rules, but I ended up with many unresolved modules...Can you provide an example that illustrates what you have understood?","body":"@rzwitserloot I tried to apply these rules, but I ended up with many unresolved modules...Can you provide an example that illustrates what you have understood?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692638304,"post_id":76839896,"comment_id":135647981,"body_markdown":"Seems to be the same question as [this one](https://stackoverflow.com/q/68927394/2711488) but has no answer yet. I’ll will (re)read into the topic tomorrow.","body":"Seems to be the same question as <a href=\"https://stackoverflow.com/q/68927394/2711488\">this one</a> but has no answer yet. I’ll will (re)read into the topic tomorrow."}],"owner":{"account_id":5218373,"reputation":773,"user_id":4172557,"accept_rate":0,"display_name":"Hicham Moustaid"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691201579,"creation_date":1691201579,"question_id":76839896,"body_markdown":"In the Java Language Specification, paragraph 7.7, it states: \r\n\r\n&gt; A &#39;dependency&#39; is the observable module enumerated by resolution (as described in the **java.lang.module** package specification) for a given &#39;requires&#39; directive.\r\n\r\nThe documentation of java.lang.module states: \r\n&gt; Step 1: \r\n&gt; Recursive enumeration takes a set of module names, looks up each of their module declarations, and for each module declaration, recursively enumerates:\r\n &gt;- the module names given by the &#39;requires&#39; directives with the &#39;transitive&#39; modifier, and\r\n &gt;- at the discretion of the host system, the module names given by the &#39;requires&#39; directives without the &#39;transitive&#39; modifier.\r\n\r\nI don&#39;t understand the purpose of distinguishing between &#39;requires&#39; and &#39;requires transitive&#39; when it comes to resolution. Any ideas?\r\n","title":"Enumeration of modules during resolution","body":"<p>In the Java Language Specification, paragraph 7.7, it states:</p>\n<blockquote>\n<p>A 'dependency' is the observable module enumerated by resolution (as described in the <strong>java.lang.module</strong> package specification) for a given 'requires' directive.</p>\n</blockquote>\n<p>The documentation of java.lang.module states:</p>\n<blockquote>\n<p>Step 1:\nRecursive enumeration takes a set of module names, looks up each of their module declarations, and for each module declaration, recursively enumerates:</p>\n<ul>\n<li>the module names given by the 'requires' directives with the 'transitive' modifier, and</li>\n<li>at the discretion of the host system, the module names given by the 'requires' directives without the 'transitive' modifier.</li>\n</ul>\n</blockquote>\n<p>I don't understand the purpose of distinguishing between 'requires' and 'requires transitive' when it comes to resolution. Any ideas?</p>\n"},{"tags":["java","authentication","sonarqube","http-status-code-401"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1637580123,"post_id":70064883,"comment_id":123855623,"body_markdown":"The link you provided already explains three possible solutions and has sample code for one of them. What problem are you having implementing it?","body":"The link you provided already explains three possible solutions and has sample code for one of them. What problem are you having implementing it?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1637581114,"post_id":70064883,"comment_id":123855971,"body_markdown":"It is telling you to encode.  In the example, it is taking an input variable (String), and encoding it before passing it to the write() method..  `org.owasp.encoder.Encode.forHtml(name);`","body":"It is telling you to encode.  In the example, it is taking an input variable (String), and encoding it before passing it to the write() method..  <code>org.owasp.encoder.Encode.forHtml(name);</code>"},{"owner":{"account_id":23417672,"reputation":13,"user_id":17478374,"display_name":"space99"},"score":0,"creation_date":1637678245,"post_id":70064883,"comment_id":123886896,"body_markdown":"if i am using the method descibed i am getting distorted output when i am expecting a json response","body":"if i am using the method descibed i am getting distorted output when i am expecting a json response"}],"answers":[{"tags":[],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691199526,"creation_date":1691199526,"answer_id":76839817,"question_id":70064883,"body_markdown":"Two solutions below: per SonarQube  https://rules.sonarsource.com/java/RSPEC-5131/\r\n for errors like \r\n\r\n&gt; This use of java/io/PrintWriter.write(Ljava/lang/String;)V could be\r\n&gt; vulnerable to XSS\r\n\r\n\r\n\r\n**Encode for HTML**\r\n\r\n    import org.owasp.encoder.Encode;\r\n\r\n    public void endpoint(HttpServletRequest request, HttpServletResponse response) throws IOException\r\n    {\r\n        String data        = request.getParameter(&quot;input&quot;);\r\n        PrintWriter writer = response.getWriter();\r\n    \r\n        writer.print(Encode.forHtml(data));\r\n    }\r\n\r\n\r\n**Set Content Type**\r\n\r\n    public void endpoint(HttpServletRequest request, HttpServletResponse response) throws IOException\r\n    {\r\n        String data        = request.getParameter(&quot;input&quot;);\r\n        PrintWriter writer = response.getWriter();\r\n    \r\n        response.setContentType(&quot;text/plain&quot;);\r\n        writer.print(data);\r\n    }","title":"sonar qube is throwing vulnerablity issue for xss in authentication entrypoint","body":"<p>Two solutions below: per SonarQube  <a href=\"https://rules.sonarsource.com/java/RSPEC-5131/\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-5131/</a>\nfor errors like</p>\n<blockquote>\n<p>This use of java/io/PrintWriter.write(Ljava/lang/String;)V could be\nvulnerable to XSS</p>\n</blockquote>\n<p><strong>Encode for HTML</strong></p>\n<pre><code>import org.owasp.encoder.Encode;\n\npublic void endpoint(HttpServletRequest request, HttpServletResponse response) throws IOException\n{\n    String data        = request.getParameter(&quot;input&quot;);\n    PrintWriter writer = response.getWriter();\n\n    writer.print(Encode.forHtml(data));\n}\n</code></pre>\n<p><strong>Set Content Type</strong></p>\n<pre><code>public void endpoint(HttpServletRequest request, HttpServletResponse response) throws IOException\n{\n    String data        = request.getParameter(&quot;input&quot;);\n    PrintWriter writer = response.getWriter();\n\n    response.setContentType(&quot;text/plain&quot;);\n    writer.print(data);\n}\n</code></pre>\n"}],"owner":{"account_id":23417672,"reputation":13,"user_id":17478374,"display_name":"space99"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691199526,"creation_date":1637579630,"question_id":70064883,"body_markdown":"I am trying to override the standard error response in case of 401 in springboot using authenticationentrypoint \r\n\r\nin commence method \r\nI am building my custom error object which involves below line\r\n\r\n     String responseMsg = mapper.writeValueAsString(responseObject);\r\n     response.getWriter().write(responseMsg);\r\n\r\nthe above solution works absolutely fine but sonarqube throws vulnerability issue \r\n\r\nis there any alternate to this or how can i overcome the sonarqube [error][1]\r\n\r\nthanks in advance\r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-5131\r\n\r\n\r\n**Update:-** I resolved it by using the solution in the link and then replacing the unwanted chars","title":"sonar qube is throwing vulnerablity issue for xss in authentication entrypoint","body":"<p>I am trying to override the standard error response in case of 401 in springboot using authenticationentrypoint</p>\n<p>in commence method\nI am building my custom error object which involves below line</p>\n<pre><code> String responseMsg = mapper.writeValueAsString(responseObject);\n response.getWriter().write(responseMsg);\n</code></pre>\n<p>the above solution works absolutely fine but sonarqube throws vulnerability issue</p>\n<p>is there any alternate to this or how can i overcome the sonarqube <a href=\"https://rules.sonarsource.com/java/RSPEC-5131\" rel=\"nofollow noreferrer\">error</a></p>\n<p>thanks in advance</p>\n<p><strong>Update:-</strong> I resolved it by using the solution in the link and then replacing the unwanted chars</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":1,"up_vote_count":46,"is_accepted":true,"score":45,"last_activity_date":1429161002,"creation_date":1429124646,"answer_id":29658664,"question_id":29658654,"body_markdown":"You&#39;re almost there. You just need quantifier:\r\n\r\n    str = str.replaceAll(&quot;^0+&quot;, &quot;&quot;);\r\n\r\nIt replaces 1 or more occurrences of 0 (that is what `+` quantifier is for. Similarly, we have `*` quantifier, which means 0 or more), at the beginning of the string (that&#39;s given by caret - `^`), with empty string.","title":"regex to strip leading zeros treated as string","body":"<p>You're almost there. You just need quantifier:</p>\n\n<pre><code>str = str.replaceAll(\"^0+\", \"\");\n</code></pre>\n\n<p>It replaces 1 or more occurrences of 0 (that is what <code>+</code> quantifier is for. Similarly, we have <code>*</code> quantifier, which means 0 or more), at the beginning of the string (that's given by caret - <code>^</code>), with empty string.</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1429125110,"creation_date":1429125110,"answer_id":29658801,"question_id":29658654,"body_markdown":"If you know input strings are all containing digits then you can do:\r\n\r\n\tString s = &quot;00000004334300343&quot;;\r\n\tSystem.out.println(Long.valueOf(s));\r\n    // 4334300343\r\n\r\n[Code Demo][1]\r\n\r\nBy converting to `Long` it will automatically strip off all leading zeroes.\r\n\r\n  [1]: http://ideone.com/KwR3aP","title":"regex to strip leading zeros treated as string","body":"<p>If you know input strings are all containing digits then you can do:</p>\n\n<pre><code>String s = \"00000004334300343\";\nSystem.out.println(Long.valueOf(s));\n// 4334300343\n</code></pre>\n\n<p><a href=\"http://ideone.com/KwR3aP\" rel=\"noreferrer\">Code Demo</a></p>\n\n<p>By converting to <code>Long</code> it will automatically strip off all leading zeroes.</p>\n"},{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429125464,"creation_date":1429125167,"answer_id":29658820,"question_id":29658654,"body_markdown":"Another solution (might be more intuitive to read)\r\n\r\n    str = str.replaceFirst(&quot;^0+&quot;, &quot;&quot;);\r\n\r\n`^` - match the beginning of a line&lt;br&gt;\r\n0+ - match the zero digit character one or more times\r\n\r\nA exhausting list of pattern you can find here [Pattern](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html).","title":"regex to strip leading zeros treated as string","body":"<p>Another solution (might be more intuitive to read)</p>\n\n<pre><code>str = str.replaceFirst(\"^0+\", \"\");\n</code></pre>\n\n<p><code>^</code> - match the beginning of a line<br>\n0+ - match the zero digit character one or more times</p>\n\n<p>A exhausting list of pattern you can find here <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">Pattern</a>.</p>\n"},{"tags":[],"owner":{"account_id":5626060,"reputation":7659,"user_id":4454454,"display_name":"MaxZoom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429130115,"creation_date":1429125615,"answer_id":29658962,"question_id":29658654,"body_markdown":"The correct regex to strip leading zeros is\r\n\r\n    str = str.replaceAll(&quot;^0+&quot;, &quot;&quot;);\r\n\r\nThis regex will match `0` character in quantity of `one and more` at the string beginning.\r\nThere is not reason to worry about `replaceAll` method, as regex has `^` (begin input) special character that assure the replacement will be invoked only once.\r\n\r\n\r\n**Ultimately**  you can use Java build-in feature to do the same:\r\n\r\n    String str = &quot;00000004334300343&quot;;\r\n    long number = Long.parseLong(str);\r\n    // outputs 4334300343\r\n\r\nThe leading zeros will be stripped for you automatically.","title":"regex to strip leading zeros treated as string","body":"<p>The correct regex to strip leading zeros is</p>\n\n<pre><code>str = str.replaceAll(\"^0+\", \"\");\n</code></pre>\n\n<p>This regex will match <code>0</code> character in quantity of <code>one and more</code> at the string beginning.\nThere is not reason to worry about <code>replaceAll</code> method, as regex has <code>^</code> (begin input) special character that assure the replacement will be invoked only once.</p>\n\n<p><strong>Ultimately</strong>  you can use Java build-in feature to do the same:</p>\n\n<pre><code>String str = \"00000004334300343\";\nlong number = Long.parseLong(str);\n// outputs 4334300343\n</code></pre>\n\n<p>The leading zeros will be stripped for you automatically.</p>\n"},{"tags":[],"owner":{"account_id":4831287,"reputation":11388,"user_id":3899431,"display_name":"Luis Colorado"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429269892,"creation_date":1429269892,"answer_id":29697874,"question_id":29658654,"body_markdown":"`\\b0+\\B` will do the work.  See [demo][1]  `\\b` anchors your match to a word boundary, it matches a sequence of one or more zeros `0+`, and finishes not in a word boundary (to not eliminate the last `0` in case you have only `00...000`)\r\n\r\n\r\n  [1]: https://regex101.com/r/oP3iB2/1","title":"regex to strip leading zeros treated as string","body":"<p><code>\\b0+\\B</code> will do the work.  See <a href=\"https://regex101.com/r/oP3iB2/1\" rel=\"nofollow\">demo</a>  <code>\\b</code> anchors your match to a word boundary, it matches a sequence of one or more zeros <code>0+</code>, and finishes not in a word boundary (to not eliminate the last <code>0</code> in case you have only <code>00...000</code>)</p>\n"},{"tags":[],"owner":{"account_id":6990933,"reputation":1282,"user_id":5360247,"display_name":"Artur  Dumchev"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1624895259,"creation_date":1554498039,"answer_id":55543290,"question_id":29658654,"body_markdown":"Accepted solution will fail if you need to get &quot;0&quot; from &quot;00&quot;. This is the right one:\r\n\r\n    str = str.replaceAll(&quot;^0+(?!$)&quot;, &quot;&quot;);\r\n\r\n`^0+(?!$)` means match one or more zeros if it is not followed by end of string.\r\n\r\nThank you to the commenter - I have updated the formula to match the description from the author.","title":"regex to strip leading zeros treated as string","body":"<p>Accepted solution will fail if you need to get &quot;0&quot; from &quot;00&quot;. This is the right one:</p>\n<pre><code>str = str.replaceAll(&quot;^0+(?!$)&quot;, &quot;&quot;);\n</code></pre>\n<p><code>^0+(?!$)</code> means match one or more zeros if it is not followed by end of string.</p>\n<p>Thank you to the commenter - I have updated the formula to match the description from the author.</p>\n"},{"tags":[],"owner":{"account_id":8188537,"reputation":21,"user_id":6585433,"display_name":"Kruglord"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643054656,"creation_date":1643054656,"answer_id":70839819,"question_id":29658654,"body_markdown":"I know this is an old question, but I think the best way to do this is actually \r\n```\r\nstr = str.replaceAll(&quot;(^0+)?(\\d+)&quot;, &quot;$2&quot;)\r\n```\r\nThe reason I suggest this is because it splits the string into two groups. The second group is _at least_ one digit. The first group matches 1 or more zeros at the start of the line. However, the first group is optional, meaning that if there are no leading zeros, you just get all of the digits. And, if `str` is _only_ a zero, you get exactly one zero (because the second group must match at least one digit). \r\n\r\nSo if it&#39;s any number of 0s, you get back exactly one zero. If it starts with any number of 0s followed by any other digit, you get no leading zeros. If it starts with any other digit, you get back exactly what you had in the first place. ","title":"regex to strip leading zeros treated as string","body":"<p>I know this is an old question, but I think the best way to do this is actually</p>\n<pre><code>str = str.replaceAll(&quot;(^0+)?(\\d+)&quot;, &quot;$2&quot;)\n</code></pre>\n<p>The reason I suggest this is because it splits the string into two groups. The second group is <em>at least</em> one digit. The first group matches 1 or more zeros at the start of the line. However, the first group is optional, meaning that if there are no leading zeros, you just get all of the digits. And, if <code>str</code> is <em>only</em> a zero, you get exactly one zero (because the second group must match at least one digit).</p>\n<p>So if it's any number of 0s, you get back exactly one zero. If it starts with any number of 0s followed by any other digit, you get no leading zeros. If it starts with any other digit, you get back exactly what you had in the first place.</p>\n"},{"tags":[],"owner":{"account_id":9778353,"reputation":9,"user_id":7247430,"display_name":"Pravin Chukkala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677277262,"creation_date":1676986395,"answer_id":75521234,"question_id":29658654,"body_markdown":"Here is the simple and proper solution.\r\n\r\n    str = str.replaceAll(/^0+/g, &quot;&quot;);\r\n\r\nGlobal Flag `g` is required when using `replaceAll` with regex.","title":"regex to strip leading zeros treated as string","body":"<p>Here is the simple and proper solution.</p>\n<pre><code>str = str.replaceAll(/^0+/g, &quot;&quot;);\n</code></pre>\n<p>Global Flag <code>g</code> is required when using <code>replaceAll</code> with regex.</p>\n"},{"tags":[],"owner":{"account_id":29099657,"reputation":11,"user_id":22291747,"display_name":"patrick udochukwu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690800790,"creation_date":1690426036,"answer_id":76776193,"question_id":29658654,"body_markdown":"```\r\nString str = &quot;0600974&quot;;\r\nstr = str.replaceAll(&quot;\\\\b0+(\\\\d+)\\\\b&quot;, &quot;$1&quot;);\r\n```\r\nThis is a better match, Code is in java, to use in other languages you can replace double slash with one ```e.g &quot;\\\\b&quot; will be &quot;\\b&quot; and &quot;\\\\d&quot; will be &quot;\\d&quot;```","title":"regex to strip leading zeros treated as string","body":"<pre><code>String str = &quot;0600974&quot;;\nstr = str.replaceAll(&quot;\\\\b0+(\\\\d+)\\\\b&quot;, &quot;$1&quot;);\n</code></pre>\n<p>This is a better match, Code is in java, to use in other languages you can replace double slash with one <code>e.g &quot;\\\\b&quot; will be &quot;\\b&quot; and &quot;\\\\d&quot; will be &quot;\\d&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":6990487,"reputation":9,"user_id":5359938,"display_name":"Dan M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691199181,"creation_date":1691170614,"answer_id":76838095,"question_id":29658654,"body_markdown":"In `Azure Synapse`, the expression would be this:\r\n\r\n    regexReplace(ColumnName, &quot;^0+&quot;, &quot;&quot;)\r\n    \r\n    000000502842 will equal 502842","title":"regex to strip leading zeros treated as string","body":"<p>In <code>Azure Synapse</code>, the expression would be this:</p>\n<pre><code>regexReplace(ColumnName, &quot;^0+&quot;, &quot;&quot;)\n\n000000502842 will equal 502842\n</code></pre>\n"}],"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64323,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":29658664,"answer_count":10,"score":25,"last_activity_date":1691199181,"creation_date":1429124600,"question_id":29658654,"body_markdown":"I have numbers like this that need leading zero&#39;s removed.\r\n\r\nHere is what I need: \r\n\r\n`00000004334300343` -&gt; `4334300343`\r\n\r\n`0003030435243` -&gt; `3030435243`\r\n\r\nI can&#39;t figure this out as I&#39;m new to regular expressions. This does not work:\r\n\r\n    (^0)\r\n\r\n\r\n","title":"regex to strip leading zeros treated as string","body":"<p>I have numbers like this that need leading zero's removed.</p>\n\n<p>Here is what I need: </p>\n\n<p><code>00000004334300343</code> -> <code>4334300343</code></p>\n\n<p><code>0003030435243</code> -> <code>3030435243</code></p>\n\n<p>I can't figure this out as I'm new to regular expressions. This does not work:</p>\n\n<pre><code>(^0)\n</code></pre>\n"},{"tags":["java","apache-spark","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":6928399,"reputation":2408,"user_id":5318711,"display_name":"Joe Widen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466371855,"creation_date":1466371855,"answer_id":37912033,"question_id":37909444,"body_markdown":"When your for loop grows really large, Spark can no longer keep track of the lineage.  Enable checkpointing in your for loop to checkpoint your rdd every 10 iterations or so.  Checkpointing will fix the problem.  Don&#39;t forget to clean up the checkpoint directory after.\r\n\r\nhttp://spark.apache.org/docs/latest/streaming-programming-guide.html#checkpointing","title":"Spark java.lang.StackOverflowError","body":"<p>When your for loop grows really large, Spark can no longer keep track of the lineage.  Enable checkpointing in your for loop to checkpoint your rdd every 10 iterations or so.  Checkpointing will fix the problem.  Don't forget to clean up the checkpoint directory after.</p>\n\n<p><a href=\"http://spark.apache.org/docs/latest/streaming-programming-guide.html#checkpointing\" rel=\"nofollow\">http://spark.apache.org/docs/latest/streaming-programming-guide.html#checkpointing</a></p>\n"},{"tags":[],"owner":{"account_id":6794531,"reputation":153,"user_id":5230384,"display_name":"DILIP KUMAR"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1487989777,"creation_date":1487989777,"answer_id":42451307,"question_id":37909444,"body_markdown":"This problem will occur when your DAG grows big and too many level of transformations happening in your code. The JVM will not be able to hold the operations to perform lazy execution when an action is performed in the end.\n\nCheckpointing is one option. I would suggest to implement spark-sql for this kind of aggregations. If your data is structured, try to load that into dataframes and perform grouping and other mysql functions to achieve this.","title":"Spark java.lang.StackOverflowError","body":"<p>This problem will occur when your DAG grows big and too many level of transformations happening in your code. The JVM will not be able to hold the operations to perform lazy execution when an action is performed in the end.</p>\n\n<p>Checkpointing is one option. I would suggest to implement spark-sql for this kind of aggregations. If your data is structured, try to load that into dataframes and perform grouping and other mysql functions to achieve this.</p>\n"},{"tags":[],"owner":{"account_id":6258141,"reputation":2735,"user_id":5718301,"accept_rate":60,"display_name":"Chitral Verma"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1498130116,"creation_date":1498120317,"answer_id":44694193,"question_id":37909444,"body_markdown":"I have multiple suggestions which will help you to greatly improve the performance of the code in your question.\r\n\r\n 1. **Caching:** Caching should be used on those data sets which you need to refer to again and again for same/ different operations (iterative algorithms.\r\n\r\n&gt; An example is RDD.`count` — to tell you the number of lines in the\r\n&gt; file, the file needs to be read. So if you write RDD.`count`, at\r\n&gt; this point the file will be read, the lines will be counted, and the\r\n&gt; count will be returned. \r\n&gt; \r\n&gt; What if you call RDD.`count` again? The same thing: the file will be\r\n&gt; read and counted again. So what does RDD.`cache` do? Now, if you run\r\n&gt; RDD.`count` the first time, the file will be loaded, cached, and\r\n&gt; counted. If you call RDD.`count` a second time, the operation will use\r\n&gt; the cache. It will just take the data from the cache and count the\r\n&gt; lines, no recomputing.\r\n\r\nRead more about caching [here][1].\r\n\r\nIn your code sample you are not reusing anything that you&#39;ve cached. So you may  remove the `.cache` from there.\r\n\r\n 2. **Parallelization:** In the code sample, you&#39;ve parallelized every  individual element in your RDD which is already a distributed collection. I suggest you to merge the `rddFileData`, `rddMovieData` and `rddPairReviewData` steps so that it happens in one go. \r\n\r\nGet rid of `.collect` since that brings the results back to the driver and maybe the actual reason for your error.\r\n\r\n  [1]: https://stackoverflow.com/questions/28981359/why-do-we-need-to-call-cache-or-persist-on-a-rdd","title":"Spark java.lang.StackOverflowError","body":"<p>I have multiple suggestions which will help you to greatly improve the performance of the code in your question.</p>\n\n<ol>\n<li><strong>Caching:</strong> Caching should be used on those data sets which you need to refer to again and again for same/ different operations (iterative algorithms.</li>\n</ol>\n\n<blockquote>\n  <p>An example is RDD.<code>count</code> — to tell you the number of lines in the\n  file, the file needs to be read. So if you write RDD.<code>count</code>, at\n  this point the file will be read, the lines will be counted, and the\n  count will be returned. </p>\n  \n  <p>What if you call RDD.<code>count</code> again? The same thing: the file will be\n  read and counted again. So what does RDD.<code>cache</code> do? Now, if you run\n  RDD.<code>count</code> the first time, the file will be loaded, cached, and\n  counted. If you call RDD.<code>count</code> a second time, the operation will use\n  the cache. It will just take the data from the cache and count the\n  lines, no recomputing.</p>\n</blockquote>\n\n<p>Read more about caching <a href=\"https://stackoverflow.com/questions/28981359/why-do-we-need-to-call-cache-or-persist-on-a-rdd\">here</a>.</p>\n\n<p>In your code sample you are not reusing anything that you've cached. So you may  remove the <code>.cache</code> from there.</p>\n\n<ol start=\"2\">\n<li><strong>Parallelization:</strong> In the code sample, you've parallelized every  individual element in your RDD which is already a distributed collection. I suggest you to merge the <code>rddFileData</code>, <code>rddMovieData</code> and <code>rddPairReviewData</code> steps so that it happens in one go. </li>\n</ol>\n\n<p>Get rid of <code>.collect</code> since that brings the results back to the driver and maybe the actual reason for your error.</p>\n"},{"tags":[],"owner":{"account_id":54651,"reputation":825,"user_id":163585,"display_name":"spats"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626077376,"creation_date":1626077376,"answer_id":68343986,"question_id":37909444,"body_markdown":"Below things fixed stackoverflow error, as others pointed it&#39;s because of lineage that spark keeps building, specially when you have loop/iteration in code.\r\n\r\nSet checkpoint directory\r\n\r\n    spark.sparkContext.setCheckpointDir(&quot;./checkpoint&quot;)\r\n\r\ncheckpoint dataframe/Rdd you are modifying/operating in iteration\r\n\r\n    modifyingDf.checkpoint()\r\n\r\nCache Dataframe which are reused in each iteration\r\n\r\n    reusedDf.cache()","title":"Spark java.lang.StackOverflowError","body":"<p>Below things fixed stackoverflow error, as others pointed it's because of lineage that spark keeps building, specially when you have loop/iteration in code.</p>\n<p>Set checkpoint directory</p>\n<pre><code>spark.sparkContext.setCheckpointDir(&quot;./checkpoint&quot;)\n</code></pre>\n<p>checkpoint dataframe/Rdd you are modifying/operating in iteration</p>\n<pre><code>modifyingDf.checkpoint()\n</code></pre>\n<p>Cache Dataframe which are reused in each iteration</p>\n<pre><code>reusedDf.cache()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11335873,"reputation":1,"user_id":8311750,"display_name":"Roberto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691198853,"creation_date":1691180062,"answer_id":76838892,"question_id":37909444,"body_markdown":"Add this config:\r\n\r\n    --conf &quot;spark.executor.extraJavaOptions=-Xss512m&quot;\r\n    --conf &quot;spark.driver.extraJavaOptions=-Xss512m&quot;","title":"Spark java.lang.StackOverflowError","body":"<p>Add this config:</p>\n<pre><code>--conf &quot;spark.executor.extraJavaOptions=-Xss512m&quot;\n--conf &quot;spark.driver.extraJavaOptions=-Xss512m&quot;\n</code></pre>\n"}],"owner":{"account_id":8653597,"reputation":131,"user_id":6478546,"display_name":"Khal Mei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35421,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1691198853,"creation_date":1466353933,"question_id":37909444,"body_markdown":"I&#39;m using spark in order to calculate the pagerank of user reviews, but I keep getting Spark `java.lang.StackOverflowError` when I run my code on a big dataset (40k entries). when running the code on a small number of entries it works fine though.\r\n\r\n\r\nEntry Example :\r\n\r\n    product/productId: B00004CK40\treview/userId: A39IIHQF18YGZA\treview/profileName: C. A. M. Salas\treview/helpfulness: 0/0\treview/score: 4.0\treview/time: 1175817600\treview/summary: Reliable comedy\treview/text: Nice script, well acted comedy, and a young Nicolette Sheridan. Cusak is in top form.\r\n\r\n\r\nThe Code:\r\n\r\n    public void calculatePageRank() {\r\n        sc.clearCallSite();\r\n        sc.clearJobGroup();\r\n\r\n        JavaRDD &lt; String &gt; rddFileData = sc.textFile(inputFileName).cache();\r\n        sc.setCheckpointDir(&quot;pagerankCheckpoint/&quot;);\r\n        \r\n        JavaRDD &lt; String &gt; rddMovieData = rddFileData.map(new Function &lt; String, String &gt; () {\r\n\r\n            @Override\r\n            public String call(String arg0) throws Exception {\r\n                String[] data = arg0.split(&quot;\\t&quot;);\r\n                String movieId = data[0].split(&quot;:&quot;)[1].trim();\r\n                String userId = data[1].split(&quot;:&quot;)[1].trim();\r\n                return movieId + &quot;\\t&quot; + userId;\r\n            }\r\n        });\r\n\r\n        JavaPairRDD&lt;String, Iterable&lt;String&gt;&gt; rddPairReviewData = rddMovieData.mapToPair(new PairFunction &lt; String, String, String &gt; () {\r\n\r\n            @Override\r\n            public Tuple2 &lt; String, String &gt; call(String arg0) throws Exception {\r\n                String[] data = arg0.split(&quot;\\t&quot;);\r\n                return new Tuple2 &lt; String, String &gt; (data[0], data[1]);\r\n            }\r\n        }).groupByKey().cache();\r\n        \r\n        \r\n        JavaRDD&lt;Iterable&lt;String&gt;&gt; cartUsers = rddPairReviewData.map(f -&gt; f._2());\r\n    \t  List&lt;Iterable&lt;String&gt;&gt; cartUsersList = cartUsers.collect();\r\n    \t  JavaPairRDD&lt;String,String&gt; finalCartesian = null;\r\n    \t  int iterCounter = 0;\r\n    \t  for(Iterable&lt;String&gt; out : cartUsersList){\r\n    \t\t  JavaRDD&lt;String&gt; currentUsersRDD = sc.parallelize(Lists.newArrayList(out));\r\n    \t\t  if(finalCartesian==null){\r\n    \t\t\t  finalCartesian = currentUsersRDD.cartesian(currentUsersRDD);\r\n    \t\t  }\r\n    \t\t  else{\r\n    \t\t\t  finalCartesian = currentUsersRDD.cartesian(currentUsersRDD).union(finalCartesian);\r\n    \t\t\t  if(iterCounter % 20 == 0) {\r\n    \t\t\t\t  finalCartesian.checkpoint();\r\n    \t\t\t  }\r\n    \t\t  }\r\n    \t  }\r\n    \t  JavaRDD&lt;Tuple2&lt;String,String&gt;&gt; finalCartesianToTuple = finalCartesian.map(m -&gt; new Tuple2&lt;String,String&gt;(m._1(),m._2()));\r\n        \r\n    \t  finalCartesianToTuple = finalCartesianToTuple.filter(x -&gt; x._1().compareTo(x._2())!=0);\r\n    \t  JavaPairRDD&lt;String, String&gt; userIdPairs = finalCartesianToTuple.mapToPair(m -&gt; new Tuple2&lt;String,String&gt;(m._1(),m._2()));\r\n\r\n    \t  JavaRDD&lt;String&gt; userIdPairsString = userIdPairs.map(new Function &lt; Tuple2&lt;String, String&gt;, String &gt; () {\r\n\r\n          \t//Tuple2&lt;Tuple2&lt;MovieId, userId&gt;, Tuple2&lt;movieId, userId&gt;&gt;\r\n              @Override\r\n              public String call (Tuple2&lt;String, String&gt; t) throws Exception {\r\n              \treturn t._1 + &quot; &quot; + t._2;\r\n              }\r\n          });\r\n\r\n        try {\r\n    \r\n    //calculate pagerank using this https://github.com/apache/spark/blob/master/examples/src/main/java/org/apache/spark/examples/JavaPageRank.java\r\n\t\t\tJavaPageRank.calculatePageRank(userIdPairsString, 100);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n        \r\n        sc.close();\r\n        \r\n    }","title":"Spark java.lang.StackOverflowError","body":"<p>I'm using spark in order to calculate the pagerank of user reviews, but I keep getting Spark <code>java.lang.StackOverflowError</code> when I run my code on a big dataset (40k entries). when running the code on a small number of entries it works fine though.</p>\n\n<p>Entry Example :</p>\n\n<pre><code>product/productId: B00004CK40   review/userId: A39IIHQF18YGZA   review/profileName: C. A. M. Salas  review/helpfulness: 0/0 review/score: 4.0   review/time: 1175817600 review/summary: Reliable comedy review/text: Nice script, well acted comedy, and a young Nicolette Sheridan. Cusak is in top form.\n</code></pre>\n\n<p>The Code:</p>\n\n<pre><code>public void calculatePageRank() {\n    sc.clearCallSite();\n    sc.clearJobGroup();\n\n    JavaRDD &lt; String &gt; rddFileData = sc.textFile(inputFileName).cache();\n    sc.setCheckpointDir(\"pagerankCheckpoint/\");\n\n    JavaRDD &lt; String &gt; rddMovieData = rddFileData.map(new Function &lt; String, String &gt; () {\n\n        @Override\n        public String call(String arg0) throws Exception {\n            String[] data = arg0.split(\"\\t\");\n            String movieId = data[0].split(\":\")[1].trim();\n            String userId = data[1].split(\":\")[1].trim();\n            return movieId + \"\\t\" + userId;\n        }\n    });\n\n    JavaPairRDD&lt;String, Iterable&lt;String&gt;&gt; rddPairReviewData = rddMovieData.mapToPair(new PairFunction &lt; String, String, String &gt; () {\n\n        @Override\n        public Tuple2 &lt; String, String &gt; call(String arg0) throws Exception {\n            String[] data = arg0.split(\"\\t\");\n            return new Tuple2 &lt; String, String &gt; (data[0], data[1]);\n        }\n    }).groupByKey().cache();\n\n\n    JavaRDD&lt;Iterable&lt;String&gt;&gt; cartUsers = rddPairReviewData.map(f -&gt; f._2());\n      List&lt;Iterable&lt;String&gt;&gt; cartUsersList = cartUsers.collect();\n      JavaPairRDD&lt;String,String&gt; finalCartesian = null;\n      int iterCounter = 0;\n      for(Iterable&lt;String&gt; out : cartUsersList){\n          JavaRDD&lt;String&gt; currentUsersRDD = sc.parallelize(Lists.newArrayList(out));\n          if(finalCartesian==null){\n              finalCartesian = currentUsersRDD.cartesian(currentUsersRDD);\n          }\n          else{\n              finalCartesian = currentUsersRDD.cartesian(currentUsersRDD).union(finalCartesian);\n              if(iterCounter % 20 == 0) {\n                  finalCartesian.checkpoint();\n              }\n          }\n      }\n      JavaRDD&lt;Tuple2&lt;String,String&gt;&gt; finalCartesianToTuple = finalCartesian.map(m -&gt; new Tuple2&lt;String,String&gt;(m._1(),m._2()));\n\n      finalCartesianToTuple = finalCartesianToTuple.filter(x -&gt; x._1().compareTo(x._2())!=0);\n      JavaPairRDD&lt;String, String&gt; userIdPairs = finalCartesianToTuple.mapToPair(m -&gt; new Tuple2&lt;String,String&gt;(m._1(),m._2()));\n\n      JavaRDD&lt;String&gt; userIdPairsString = userIdPairs.map(new Function &lt; Tuple2&lt;String, String&gt;, String &gt; () {\n\n        //Tuple2&lt;Tuple2&lt;MovieId, userId&gt;, Tuple2&lt;movieId, userId&gt;&gt;\n          @Override\n          public String call (Tuple2&lt;String, String&gt; t) throws Exception {\n            return t._1 + \" \" + t._2;\n          }\n      });\n\n    try {\n\n//calculate pagerank using this https://github.com/apache/spark/blob/master/examples/src/main/java/org/apache/spark/examples/JavaPageRank.java\n        JavaPageRank.calculatePageRank(userIdPairsString, 100);\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    sc.close();\n\n}\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-sqs"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":2,"creation_date":1691193591,"post_id":76839454,"comment_id":135463817,"body_markdown":"long-polling (20s) is used when you want to constantly poll and get results as fast as possible. You could in theory poll with 0 delay every 0.1s but that creates way too many requests. So instead you start a request that waits for at most 20s and if there&#39;s nothing you&#39;ll get nothing after 20s and if there&#39;s something you&#39;ll get a result before the 20s are up. Then you do the next request immediately (infinite loop w/o delay). If you need to check the queue only every hour you wouldn&#39;t need a delay, you can simply check what&#39;s there but that&#39;s only useful if you check &gt; 20s (with @Scheduled)","body":"long-polling (20s) is used when you want to constantly poll and get results as fast as possible. You could in theory poll with 0 delay every 0.1s but that creates way too many requests. So instead you start a request that waits for at most 20s and if there&#39;s nothing you&#39;ll get nothing after 20s and if there&#39;s something you&#39;ll get a result before the 20s are up. Then you do the next request immediately (infinite loop w/o delay). If you need to check the queue only every hour you wouldn&#39;t need a delay, you can simply check what&#39;s there but that&#39;s only useful if you check &gt; 20s (with @Scheduled)"}],"answers":[{"tags":[],"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691194315,"creation_date":1691194315,"answer_id":76839675,"question_id":76839454,"body_markdown":"If your requirement is to check for messages every hour, then `waitTimeSeconds()` is **not relevant for you**.\r\n\r\nIt is normally used in high-volume situations where messages are continuously wanted. For this, a &#39;consumer&#39; is written that keeps polling the queue. To minimise the number of calls, a Wait Time of up to 20 seconds can be specified.\r\n\r\nBy specifying a Wait Time it is saying: _&quot;If there are no messages in the queue, wait 20 seconds before providing a response to this API call. However, please return immediately if a message becomes available.&quot;_\r\n\r\nThe use-case would be for a system that wants to respond very quickly when a message enters the queue.","title":"AWS SQS polling","body":"<p>If your requirement is to check for messages every hour, then <code>waitTimeSeconds()</code> is <strong>not relevant for you</strong>.</p>\n<p>It is normally used in high-volume situations where messages are continuously wanted. For this, a 'consumer' is written that keeps polling the queue. To minimise the number of calls, a Wait Time of up to 20 seconds can be specified.</p>\n<p>By specifying a Wait Time it is saying: <em>&quot;If there are no messages in the queue, wait 20 seconds before providing a response to this API call. However, please return immediately if a message becomes available.&quot;</em></p>\n<p>The use-case would be for a system that wants to respond very quickly when a message enters the queue.</p>\n"},{"tags":[],"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691198121,"creation_date":1691198121,"answer_id":76839783,"question_id":76839454,"body_markdown":"Short polling, is used when &#39;the client&#39; wants to get/process every message as fast as possible (low latency). \r\nLong polling is used when AWS wait for X seconds, before the poll request returns data. This is rarely used, as it required a timeout to occur before the messages are processed. Theoretically, this may yield higher throughput, but only in scenarios where the queue is fully loaded, which is quite rare.   ","title":"AWS SQS polling","body":"<p>Short polling, is used when 'the client' wants to get/process every message as fast as possible (low latency).\nLong polling is used when AWS wait for X seconds, before the poll request returns data. This is rarely used, as it required a timeout to occur before the messages are processed. Theoretically, this may yield higher throughput, but only in scenarios where the queue is fully loaded, which is quite rare.</p>\n"}],"owner":{"account_id":14183682,"reputation":345,"user_id":10246394,"display_name":"Imu Sama"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76839675,"answer_count":2,"score":0,"last_activity_date":1691198121,"creation_date":1691188996,"question_id":76839454,"body_markdown":"I don&#39;t understand the need to configure short and long polling directly on the queue.\r\nSay I create an sqs queue and I want to check the queue for messages once every hour with java.\r\nThen I just need to create a method annotated with @Scheduled(fixedRate = 3600000) and in the method I call sqsClient.receiveMessage and that&#39;s it.\r\nIf I want short polling then I can just reduce the fixedRate to call my method every 5 seconds for example.\r\n\r\nI already read:\r\n\r\n&gt; waitTimeSeconds(): The duration (in seconds) for which the call waits\r\n&gt; for a message to arrive in the queue before returning.\r\n&gt; \r\n&gt; When passing a value for waitTimeSeconds (maximum of 20 seconds), the\r\n&gt; call will block while there are no messages available in the queue.\r\n&gt; However, if there is a message (or a message comes during that time\r\n&gt; period), it will immediately return with messages.\r\n\r\nWhat is it, another polling configuration within my polling configuration with @Scheduled ? I don&#39;t get it. Also the max value is 20 seconds and I really don&#39;t need to check my queue that frequently.\r\nSo do I just set Receive message wait time to 1 so I get the specificities of long polling (check all servers for messages) and ignore its existence because I don&#39;t need it ?\r\nWhat is the usecase of it ?\r\n","title":"AWS SQS polling","body":"<p>I don't understand the need to configure short and long polling directly on the queue.\nSay I create an sqs queue and I want to check the queue for messages once every hour with java.\nThen I just need to create a method annotated with @Scheduled(fixedRate = 3600000) and in the method I call sqsClient.receiveMessage and that's it.\nIf I want short polling then I can just reduce the fixedRate to call my method every 5 seconds for example.</p>\n<p>I already read:</p>\n<blockquote>\n<p>waitTimeSeconds(): The duration (in seconds) for which the call waits\nfor a message to arrive in the queue before returning.</p>\n<p>When passing a value for waitTimeSeconds (maximum of 20 seconds), the\ncall will block while there are no messages available in the queue.\nHowever, if there is a message (or a message comes during that time\nperiod), it will immediately return with messages.</p>\n</blockquote>\n<p>What is it, another polling configuration within my polling configuration with @Scheduled ? I don't get it. Also the max value is 20 seconds and I really don't need to check my queue that frequently.\nSo do I just set Receive message wait time to 1 so I get the specificities of long polling (check all servers for messages) and ignore its existence because I don't need it ?\nWhat is the usecase of it ?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1246269,"reputation":3386,"user_id":1207655,"accept_rate":83,"display_name":"Martin Wilson"},"score":10,"creation_date":1354134639,"post_id":13613754,"comment_id":18666588,"body_markdown":"If you put null then it removes the key: http://www.json.org/javadoc/org/json/JSONObject.html#put(java.lang.String,%20java.lang.Object)","body":"If you put null then it removes the key: <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html#put(java.lang.String,%20java.lang.Object)\" rel=\"nofollow noreferrer\">json.org/javadoc/org/json/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":974068,"reputation":47448,"user_id":995926,"accept_rate":90,"display_name":"rekire"},"down_vote_count":0,"up_vote_count":176,"is_accepted":true,"score":176,"last_activity_date":1354134436,"creation_date":1354134436,"answer_id":13613803,"question_id":13613754,"body_markdown":"Try to set [`JSONObject.NULL`][1] instead of `null`:\n\n&gt; A sentinel value used to explicitly define a name with no value. Unlike null, names with this value:  \n&gt;  \n&gt; *   show up in the names() array  \n&gt; *   show up in the keys() iterator  \n&gt; *   return true for has(String)  \n&gt; *   do not throw on get(String)  \n&gt; *   are included in the encoded JSON string. \n&gt;\n&gt;This value violates the general contract of equals(Object) by returning true when compared to null. Its toString() method returns &quot;null&quot;.\n\n\n  [1]: http://developer.android.com/reference/org/json/JSONObject.html#NULL","title":"How do you set a value to null with org.json.JSONObject in java?","body":"<p>Try to set <a href=\"http://developer.android.com/reference/org/json/JSONObject.html#NULL\" rel=\"noreferrer\"><code>JSONObject.NULL</code></a> instead of <code>null</code>:</p>\n<blockquote>\n<p>A sentinel value used to explicitly define a name with no value. Unlike null, names with this value:</p>\n<ul>\n<li>show up in the names() array</li>\n<li>show up in the keys() iterator</li>\n<li>return true for has(String)</li>\n<li>do not throw on get(String)</li>\n<li>are included in the encoded JSON string.</li>\n</ul>\n<p>This value violates the general contract of equals(Object) by returning true when compared to null. Its toString() method returns &quot;null&quot;.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529600314,"creation_date":1529600314,"answer_id":50973927,"question_id":13613754,"body_markdown":"For me with [net.sf.json.JSONObject][1] I need to create a null `JSON` by\r\n\r\n    new JSONObject(true)\r\n\r\nThis is how I get class into groovy:\r\n\r\n    groovy.grape.Grape.grab(group: &quot;org.kohsuke.stapler&quot;, module: &quot;json-lib&quot;, version: &quot;2.4-jenkins-2&quot;)\r\n\r\n  [1]: http://json-lib.sourceforge.net/apidocs/jdk15/net/sf/json/JSONObject.html","title":"How do you set a value to null with org.json.JSONObject in java?","body":"<p>For me with <a href=\"http://json-lib.sourceforge.net/apidocs/jdk15/net/sf/json/JSONObject.html\" rel=\"nofollow noreferrer\">net.sf.json.JSONObject</a> I need to create a null <code>JSON</code> by</p>\n\n<pre><code>new JSONObject(true)\n</code></pre>\n\n<p>This is how I get class into groovy:</p>\n\n<pre><code>groovy.grape.Grape.grab(group: \"org.kohsuke.stapler\", module: \"json-lib\", version: \"2.4-jenkins-2\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9644412,"reputation":41,"user_id":7157678,"display_name":"Leonardo Lopes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611317047,"creation_date":1611317047,"answer_id":65844838,"question_id":13613754,"body_markdown":"I created this project https://github.com/leonardofel/JSON-java-put-null-fix\r\n\r\nTo change (or fix), just import the library to your pom.xml\r\n\r\nthis is how your code will behave:\r\n```\r\nJSONObject o = new JSONObject();\r\no.put(&quot;key&quot;, null);\r\no.isNull(&quot;key&quot;); // returns true\r\no.has(&quot;key&quot;); // returns true\r\no.isNull(&quot;somethingIHaventSetAtAll&quot;); // returns true\r\no.get(&quot;key&quot;); // returns null\r\n\r\no.remove(&quot;key&quot;);\r\no.isNull(&quot;key&quot;); // returns true\r\no.has(&quot;key&quot;); // returns false\r\no.isNull(&quot;somethingIHaventSetAtAll&quot;); // returns true\r\no.get(&quot;key&quot;); // throws JSONException &quot;key&quot; not found\r\n```","title":"How do you set a value to null with org.json.JSONObject in java?","body":"<p>I created this project <a href=\"https://github.com/leonardofel/JSON-java-put-null-fix\" rel=\"nofollow noreferrer\">https://github.com/leonardofel/JSON-java-put-null-fix</a></p>\n<p>To change (or fix), just import the library to your pom.xml</p>\n<p>this is how your code will behave:</p>\n<pre><code>JSONObject o = new JSONObject();\no.put(&quot;key&quot;, null);\no.isNull(&quot;key&quot;); // returns true\no.has(&quot;key&quot;); // returns true\no.isNull(&quot;somethingIHaventSetAtAll&quot;); // returns true\no.get(&quot;key&quot;); // returns null\n\no.remove(&quot;key&quot;);\no.isNull(&quot;key&quot;); // returns true\no.has(&quot;key&quot;); // returns false\no.isNull(&quot;somethingIHaventSetAtAll&quot;); // returns true\no.get(&quot;key&quot;); // throws JSONException &quot;key&quot; not found\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1448682,"reputation":355,"user_id":1366329,"display_name":"Winter MC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644762894,"creation_date":1644762894,"answer_id":71101639,"question_id":13613754,"body_markdown":"Create a Utility Class or if you already have an existing one just create this utility method in it.\r\n  \r\n\r\n     class JsonObjectUtility{\r\n               public static Object getJSONObjectValue(Object value)  {\r\n\t\t          return value == null ? &quot;null&quot; : value;\r\n\t           }\r\n     }\r\n\r\nthen pass all input through this utility before passing it to the JSONObject put method as below: (i will use the code sample in the question)\r\n\r\n    JSONObject o = new JSONObject();\r\n    o.put(&quot;key&quot;, JsonObjectUtility.getJSONObjectValue(null) );\r\n\r\nThis shall print a json string as below\r\n\r\n&gt; { &quot;key&quot; : null }","title":"How do you set a value to null with org.json.JSONObject in java?","body":"<p>Create a Utility Class or if you already have an existing one just create this utility method in it.</p>\n<pre><code> class JsonObjectUtility{\n           public static Object getJSONObjectValue(Object value)  {\n              return value == null ? &quot;null&quot; : value;\n           }\n }\n</code></pre>\n<p>then pass all input through this utility before passing it to the JSONObject put method as below: (i will use the code sample in the question)</p>\n<pre><code>JSONObject o = new JSONObject();\no.put(&quot;key&quot;, JsonObjectUtility.getJSONObjectValue(null) );\n</code></pre>\n<p>This shall print a json string as below</p>\n<blockquote>\n<p>{ &quot;key&quot; : null }</p>\n</blockquote>\n"}],"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75716,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":13613803,"answer_count":4,"score":80,"last_activity_date":1691197892,"creation_date":1354134277,"question_id":13613754,"body_markdown":"How do you set a value to null with org.json.JSONObject in java? I can certainly read if a value is null by using isNull - but it seems like when I put null, it just ignores me:\r\n\r\n    JSONObject o = new JSONObject();\r\n    o.put(&quot;key&quot;,null);\r\n    o.isNull(&quot;key&quot;); // returns true, buuuut...\r\n    o.has(&quot;key&quot;);    // returns false\r\n    o.isNull(&quot;somethingIHaventSetAtAll&quot;);    // also returns true, unfortunately","title":"How do you set a value to null with org.json.JSONObject in java?","body":"<p>How do you set a value to null with org.json.JSONObject in java? I can certainly read if a value is null by using isNull - but it seems like when I put null, it just ignores me:</p>\n\n<pre><code>JSONObject o = new JSONObject();\no.put(\"key\",null);\no.isNull(\"key\"); // returns true, buuuut...\no.has(\"key\");    // returns false\no.isNull(\"somethingIHaventSetAtAll\");    // also returns true, unfortunately\n</code></pre>\n"},{"tags":["java","audio","header","byte","wav"],"comments":[{"owner":{"account_id":1725436,"reputation":1005,"user_id":1580235,"accept_rate":94,"display_name":"KillaKem"},"score":0,"creation_date":1422212044,"post_id":28137559,"comment_id":44651819,"body_markdown":"You can probably find a few libraries that will handle all the header stuff for you, all you need to do is find them.If you use such libraries all you will have to worry about is how to actually manipulate the audio rather  than just how to encode or decode them.","body":"You can probably find a few libraries that will handle all the header stuff for you, all you need to do is find them.If you use such libraries all you will have to worry about is how to actually manipulate the audio rather  than just how to encode or decode them."},{"owner":{"account_id":15736659,"reputation":442,"user_id":11355399,"display_name":"Huhngut"},"score":0,"creation_date":1640872276,"post_id":28137559,"comment_id":124679943,"body_markdown":"For a java example please refer to my answer here: https://stackoverflow.com/a/70532527/11355399","body":"For a java example please refer to my answer here: <a href=\"https://stackoverflow.com/a/70532527/11355399\">stackoverflow.com/a/70532527/11355399</a>"}],"answers":[{"tags":[],"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1422429248,"creation_date":1422198088,"answer_id":28137825,"question_id":28137559,"body_markdown":"It is against the board rules to just post a link, so here is the table I took from http://www.topherlee.com/software/pcm-tut-wavformat.html\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Positions \tSample Value \t     Description\r\n    1 - 4       &quot;RIFF&quot;               Marks the file as a riff file. Characters are each 1. byte long.\r\n    5 - 8       File size (integer)  Size of the overall file - 8 bytes, in bytes (32-bit integer). Typically, you&#39;d fill this in after creation.\r\n    9 -12       &quot;WAVE&quot; \t             File Type Header. For our purposes, it always equals &quot;WAVE&quot;.\r\n    13-16       &quot;fmt &quot; \t             Format chunk marker. Includes trailing null\r\n    17-20       16 \t                 Length of format data as listed above\r\n    21-22       1 \t                 Type of format (1 is PCM) - 2 byte integer\r\n    23-24       2 \t                 Number of Channels - 2 byte integer\r\n    25-28       44100 \t             Sample Rate - 32 bit integer. Common values are 44100 (CD), 48000 (DAT). Sample Rate = Number of Samples per second, or Hertz.\r\n    29-32       176400 \t             (Sample Rate * BitsPerSample * Channels) / 8.\r\n    33-34       4 \t                 (BitsPerSample * Channels) / 8.1 - 8 bit mono2 - 8 bit stereo/16 bit mono4 - 16 bit stereo\r\n    35-36       16 \t                 Bits per sample\r\n    37-40       &quot;data&quot; \t             &quot;data&quot; chunk header. Marks the beginning of the data section.\r\n    41-44       File size (data) \t Size of the data section, i.e. file size - 44 bytes header.\r\n\r\nSample values are given above for a 16-bit stereo source.\r\n\r\n\r\n**Update/Reminder**\r\n\r\nThe header integers are all in Least significant byte order, \r\nso the two byte channel information 0x01 0x00 are actually 0x00001 e.g. mono.","title":"Can someone explain .wav(WAVE) file headers?","body":"<p>It is against the board rules to just post a link, so here is the table I took from <a href=\"http://www.topherlee.com/software/pcm-tut-wavformat.html\" rel=\"noreferrer\">http://www.topherlee.com/software/pcm-tut-wavformat.html</a></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Positions   Sample Value         Description\n1 - 4       \"RIFF\"               Marks the file as a riff file. Characters are each 1. byte long.\n5 - 8       File size (integer)  Size of the overall file - 8 bytes, in bytes (32-bit integer). Typically, you'd fill this in after creation.\n9 -12       \"WAVE\"               File Type Header. For our purposes, it always equals \"WAVE\".\n13-16       \"fmt \"               Format chunk marker. Includes trailing null\n17-20       16                   Length of format data as listed above\n21-22       1                    Type of format (1 is PCM) - 2 byte integer\n23-24       2                    Number of Channels - 2 byte integer\n25-28       44100                Sample Rate - 32 bit integer. Common values are 44100 (CD), 48000 (DAT). Sample Rate = Number of Samples per second, or Hertz.\n29-32       176400               (Sample Rate * BitsPerSample * Channels) / 8.\n33-34       4                    (BitsPerSample * Channels) / 8.1 - 8 bit mono2 - 8 bit stereo/16 bit mono4 - 16 bit stereo\n35-36       16                   Bits per sample\n37-40       \"data\"               \"data\" chunk header. Marks the beginning of the data section.\n41-44       File size (data)     Size of the data section, i.e. file size - 44 bytes header.\n</code></pre>\n\n<p>Sample values are given above for a 16-bit stereo source.</p>\n\n<p><strong>Update/Reminder</strong></p>\n\n<p>The header integers are all in Least significant byte order, \nso the two byte channel information 0x01 0x00 are actually 0x00001 e.g. mono.</p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1595846581,"creation_date":1595846053,"answer_id":63113503,"question_id":28137559,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI know OP tagged the question as Java, but here&#39;s complete Kotlin code for reading the header that could pass for Java. Reading Little Endian could be tricky, but thankfully we don&#39;t have to do that.\r\n\r\n    class WaveHeader(bytes: ByteArray) {\r\n        init {\r\n            require(bytes.size &gt;= SIZE) { &quot;Input size is must be at least $SIZE bytes&quot; }\r\n        }\r\n    \r\n        private var start = 0\r\n        private val riff = RiffChunk(\r\n            String(bytes.copyOfRange(start, start + 4))\r\n                .also {\r\n                    require(it == &quot;RIFF&quot;) { &quot;$it must be &#39;RIFF&#39;&quot; }\r\n                    start += it.length\r\n                },\r\n            ByteBuffer.wrap(bytes.copyOfRange(start, start + 4)).order(ByteOrder.LITTLE_ENDIAN)\r\n                .also { start += it.capacity() }.int,\r\n            String(bytes.copyOfRange(start, start + 4))\r\n                .also {\r\n                    require(it == &quot;WAVE&quot;) { &quot;$it must be &#39;WAVE&#39;&quot; }\r\n                    start += it.length\r\n                }\r\n        )\r\n        private val format = FormatChunk(\r\n            // null terminated\r\n            String(bytes.copyOfRange(start, start + 3))\r\n                .also {\r\n                    require(it == &quot;fmt&quot;) { &quot;$it must be &#39;fmt&#39;&quot; }\r\n                    start += 4\r\n                },\r\n            ByteBuffer.wrap(bytes.copyOfRange(start, start + 4)).order(ByteOrder.LITTLE_ENDIAN)\r\n                .also { start += it.capacity() }.int,\r\n            ByteBuffer.wrap(bytes.copyOfRange(start, start + 2)).order(ByteOrder.LITTLE_ENDIAN)\r\n                .also { start += it.capacity() }\r\n                .let { if (it.short == 1.toShort()) &quot;PCM&quot; else &quot;OTHER (${it.short})&quot; },\r\n            ByteBuffer.wrap(bytes.copyOfRange(start, start + 2)).order(ByteOrder.LITTLE_ENDIAN)\r\n                .also { start += it.capacity() }.short,\r\n            ByteBuffer.wrap(bytes.copyOfRange(start, start + 4)).order(ByteOrder.LITTLE_ENDIAN)\r\n                .also { start += it.capacity() }.int,\r\n            ByteBuffer.wrap(bytes.copyOfRange(start, start + 4)).order(ByteOrder.LITTLE_ENDIAN)\r\n                .also { start += it.capacity() }.int,\r\n            ByteBuffer.wrap(bytes.copyOfRange(start, start + 2)).order(ByteOrder.LITTLE_ENDIAN)\r\n                .also { start += it.capacity() }.short,\r\n            ByteBuffer.wrap(bytes.copyOfRange(start, start + 2)).order(ByteOrder.LITTLE_ENDIAN)\r\n                .also { start += it.capacity() }.short\r\n        )\r\n        private val `data` = DataChunk(\r\n            String(bytes.copyOfRange(start, start + 4))\r\n                 // remove all null chars\r\n                .replace(&quot;\\u0000&quot;, &quot;&quot;)\r\n                .also { start += it.length },\r\n            ByteBuffer.wrap(bytes.copyOfRange(start, start + 4)).order(ByteOrder.LITTLE_ENDIAN)\r\n                .also { start += it.capacity() }.int\r\n        )\r\n    \r\n        init {\r\n            assert(start == 44) { &quot;Illegal state&quot; }\r\n        }\r\n    \r\n        data class RiffChunk(val id: String, val size: Int, val format: String)\r\n        data class FormatChunk(\r\n            val id: String, val size: Int, val format: String, val numChannels: Short,\r\n            val sampleRate: Int, val byteRate: Int, val blockAlign: Short, val bitsPerSample: Short\r\n        )\r\n    \r\n        data class DataChunk(val id: String, val size: Int)\r\n    \r\n        override fun toString(): String {\r\n            val ls = System.lineSeparator()\r\n            return &quot;WaveHeader($ls\\t$riff}$ls\\t$format$ls\\t$`data`$ls)&quot;\r\n        }\r\n    \r\n        companion object {\r\n            const val SIZE = 44\r\n    \r\n            fun fromPath(path: String): WaveHeader  = fromInputStream(WaveHeader::class.java.getResourceAsStream(path))\r\n    \r\n            fun fromUrl(url: String): WaveHeader  = fromInputStream(URL(url).openStream())\r\n    \r\n            private fun fromInputStream(input: InputStream): WaveHeader {\r\n                val bytes = input.use {\r\n                    it.readNBytes(SIZE)\r\n                }\r\n                return WaveHeader(bytes)\r\n            }\r\n        }\r\n    }\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        if (args.isEmpty()) {\r\n            System.err.println(&quot;Argument is missing&quot;)\r\n        }\r\n        println(WaveHeader.fromUrl(args[0]))\r\n    }\r\n\r\nRunning with [this](https://uweb.engr.arizona.edu/~429rns/audiofiles/blues2.wav) URL produces the output:\r\n\r\n    WaveHeader(\r\n    \tRiffChunk(id=RIFF, size=168050, format=WAVE)}\r\n    \tFormatChunk(id=fmt, size=18, format=PCM, numChannels=1, sampleRate=16000, byteRate=32000, blockAlign=2, bitsPerSample=16)\r\n    \tDataChunk(id=fa, size=1952670054)\r\n    )\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q9xGC.jpg","title":"Can someone explain .wav(WAVE) file headers?","body":"<p><a href=\"https://i.stack.imgur.com/Q9xGC.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Q9xGC.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I know OP tagged the question as Java, but here's complete Kotlin code for reading the header that could pass for Java. Reading Little Endian could be tricky, but thankfully we don't have to do that.</p>\n<pre><code>class WaveHeader(bytes: ByteArray) {\n    init {\n        require(bytes.size &gt;= SIZE) { &quot;Input size is must be at least $SIZE bytes&quot; }\n    }\n\n    private var start = 0\n    private val riff = RiffChunk(\n        String(bytes.copyOfRange(start, start + 4))\n            .also {\n                require(it == &quot;RIFF&quot;) { &quot;$it must be 'RIFF'&quot; }\n                start += it.length\n            },\n        ByteBuffer.wrap(bytes.copyOfRange(start, start + 4)).order(ByteOrder.LITTLE_ENDIAN)\n            .also { start += it.capacity() }.int,\n        String(bytes.copyOfRange(start, start + 4))\n            .also {\n                require(it == &quot;WAVE&quot;) { &quot;$it must be 'WAVE'&quot; }\n                start += it.length\n            }\n    )\n    private val format = FormatChunk(\n        // null terminated\n        String(bytes.copyOfRange(start, start + 3))\n            .also {\n                require(it == &quot;fmt&quot;) { &quot;$it must be 'fmt'&quot; }\n                start += 4\n            },\n        ByteBuffer.wrap(bytes.copyOfRange(start, start + 4)).order(ByteOrder.LITTLE_ENDIAN)\n            .also { start += it.capacity() }.int,\n        ByteBuffer.wrap(bytes.copyOfRange(start, start + 2)).order(ByteOrder.LITTLE_ENDIAN)\n            .also { start += it.capacity() }\n            .let { if (it.short == 1.toShort()) &quot;PCM&quot; else &quot;OTHER (${it.short})&quot; },\n        ByteBuffer.wrap(bytes.copyOfRange(start, start + 2)).order(ByteOrder.LITTLE_ENDIAN)\n            .also { start += it.capacity() }.short,\n        ByteBuffer.wrap(bytes.copyOfRange(start, start + 4)).order(ByteOrder.LITTLE_ENDIAN)\n            .also { start += it.capacity() }.int,\n        ByteBuffer.wrap(bytes.copyOfRange(start, start + 4)).order(ByteOrder.LITTLE_ENDIAN)\n            .also { start += it.capacity() }.int,\n        ByteBuffer.wrap(bytes.copyOfRange(start, start + 2)).order(ByteOrder.LITTLE_ENDIAN)\n            .also { start += it.capacity() }.short,\n        ByteBuffer.wrap(bytes.copyOfRange(start, start + 2)).order(ByteOrder.LITTLE_ENDIAN)\n            .also { start += it.capacity() }.short\n    )\n    private val `data` = DataChunk(\n        String(bytes.copyOfRange(start, start + 4))\n             // remove all null chars\n            .replace(&quot;\\u0000&quot;, &quot;&quot;)\n            .also { start += it.length },\n        ByteBuffer.wrap(bytes.copyOfRange(start, start + 4)).order(ByteOrder.LITTLE_ENDIAN)\n            .also { start += it.capacity() }.int\n    )\n\n    init {\n        assert(start == 44) { &quot;Illegal state&quot; }\n    }\n\n    data class RiffChunk(val id: String, val size: Int, val format: String)\n    data class FormatChunk(\n        val id: String, val size: Int, val format: String, val numChannels: Short,\n        val sampleRate: Int, val byteRate: Int, val blockAlign: Short, val bitsPerSample: Short\n    )\n\n    data class DataChunk(val id: String, val size: Int)\n\n    override fun toString(): String {\n        val ls = System.lineSeparator()\n        return &quot;WaveHeader($ls\\t$riff}$ls\\t$format$ls\\t$`data`$ls)&quot;\n    }\n\n    companion object {\n        const val SIZE = 44\n\n        fun fromPath(path: String): WaveHeader  = fromInputStream(WaveHeader::class.java.getResourceAsStream(path))\n\n        fun fromUrl(url: String): WaveHeader  = fromInputStream(URL(url).openStream())\n\n        private fun fromInputStream(input: InputStream): WaveHeader {\n            val bytes = input.use {\n                it.readNBytes(SIZE)\n            }\n            return WaveHeader(bytes)\n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    if (args.isEmpty()) {\n        System.err.println(&quot;Argument is missing&quot;)\n    }\n    println(WaveHeader.fromUrl(args[0]))\n}\n</code></pre>\n<p>Running with <a href=\"https://uweb.engr.arizona.edu/%7E429rns/audiofiles/blues2.wav\" rel=\"noreferrer\">this</a> URL produces the output:</p>\n<pre><code>WaveHeader(\n    RiffChunk(id=RIFF, size=168050, format=WAVE)}\n    FormatChunk(id=fmt, size=18, format=PCM, numChannels=1, sampleRate=16000, byteRate=32000, blockAlign=2, bitsPerSample=16)\n    DataChunk(id=fa, size=1952670054)\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16603256,"reputation":2611,"user_id":11998382,"display_name":"Tom Huntington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691197882,"creation_date":1691197882,"answer_id":76839776,"question_id":28137559,"body_markdown":"The sizes always mean the remaining size (i.e. not including the ID and size fields).","title":"Can someone explain .wav(WAVE) file headers?","body":"<p>The sizes always mean the remaining size (i.e. not including the ID and size fields).</p>\n"}],"owner":{"account_id":3132275,"reputation":790,"user_id":2649681,"accept_rate":29,"display_name":"user2649681"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21826,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":28137825,"answer_count":3,"score":14,"last_activity_date":1691197882,"creation_date":1422196528,"question_id":28137559,"body_markdown":"OK, so I&#39;m trying to make a program that will manipulate .wav files, and I&#39;ve seen [this question/answers][1], but I&#39;m not entirely sure as to what each piece of data in the header refers to. For example, what does a &quot;chunk&quot; refer to? Is that a specific number of bits/bytes?\r\n\r\nIf somebody could just tell me, at least in the format used in this question, what each datum being written to the .wav, aside from the constant String Literals and the &#39;data&#39; array, refer to? In particular I&#39;d especially like to know what a &quot;chunk&quot; is, and how Sample Rate, Byte Rate, Bytes per Sample, and Bytes per Sample for all Channels relate?(I suspect Byte Rate is Sample Rate * Bytes per Sample, but what about the &#39;for all channels&#39; one?)\r\n\r\nAny help is appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5810164/how-can-i-write-wav-file-from-byte-array-in-java","title":"Can someone explain .wav(WAVE) file headers?","body":"<p>OK, so I'm trying to make a program that will manipulate .wav files, and I've seen <a href=\"https://stackoverflow.com/questions/5810164/how-can-i-write-wav-file-from-byte-array-in-java\">this question/answers</a>, but I'm not entirely sure as to what each piece of data in the header refers to. For example, what does a \"chunk\" refer to? Is that a specific number of bits/bytes?</p>\n\n<p>If somebody could just tell me, at least in the format used in this question, what each datum being written to the .wav, aside from the constant String Literals and the 'data' array, refer to? In particular I'd especially like to know what a \"chunk\" is, and how Sample Rate, Byte Rate, Bytes per Sample, and Bytes per Sample for all Channels relate?(I suspect Byte Rate is Sample Rate * Bytes per Sample, but what about the 'for all channels' one?)</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","h2"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641242344,"creation_date":1641242344,"answer_id":70571190,"question_id":70571047,"body_markdown":"The h2 console can be used to execute SQL queries so that you can view the content of the database.\r\n\r\nYou can execute for example `SELECT * FROM YOUR_TABLE;` and you will see the result of the query in the console.","title":"Spring Boot - Show H2 Database Content","body":"<p>The h2 console can be used to execute SQL queries so that you can view the content of the database.</p>\n<p>You can execute for example <code>SELECT * FROM YOUR_TABLE;</code> and you will see the result of the query in the console.</p>\n"},{"tags":[],"owner":{"account_id":7991001,"reputation":37,"user_id":6028863,"accept_rate":40,"display_name":"Shucoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691197701,"creation_date":1691197701,"answer_id":76839768,"question_id":70571047,"body_markdown":"This is an old question but hopefully this helps noobs.\r\n\r\nLooks like you are:\r\n1. Viewing an endpoint response data in Swagger - so not your H2 database nor it&#39;s data\r\n2. That data is temporary standard (Swagger&#39;s) data and one that lives in Swagger only\r\n3. You have the H2 database but don&#39;t have a database **table** yet\r\n\r\nTo fix you can it in the following ways:\r\n\r\n1. Create a schema and a table model\r\n2. Just create a table model and Hibernate will automatically create the in-memory table for you each time the application is ran\r\n\r\nWe will focus on number 2 for sake of simplicity (in more real world scenerios you need the schema&#39;s first):\r\n1. Create a model under model package - for instance to create a user table called **Users A** do this:\r\n\r\n    import jakarta.persistence.*;\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    \r\n    /**\r\n     *\r\n     * @author Admin\r\n     */\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;usersa&quot;)\r\n    public class UsersA  implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @NotBlank(message = &quot;Username is required&quot;)\r\n        private String username;\r\n    \r\n        private Integer password;\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;UsersA{id=%d, username=&#39;%s&#39;, password=&#39;%s&#39;}&quot;,\r\n                    id, username, password);\r\n        }\r\n    }\r\n\r\n2. That&#39;s it and each time you build and run the app hibernate will pick this up and create it for you and then it will be visible in your browser H2 Console\r\n\r\nThis obviously depends on your project having the correct dependencies like jarkata, hibernate, h2 and configured correctly in the pom.\r\n\r\n\r\n","title":"Spring Boot - Show H2 Database Content","body":"<p>This is an old question but hopefully this helps noobs.</p>\n<p>Looks like you are:</p>\n<ol>\n<li>Viewing an endpoint response data in Swagger - so not your H2 database nor it's data</li>\n<li>That data is temporary standard (Swagger's) data and one that lives in Swagger only</li>\n<li>You have the H2 database but don't have a database <strong>table</strong> yet</li>\n</ol>\n<p>To fix you can it in the following ways:</p>\n<ol>\n<li>Create a schema and a table model</li>\n<li>Just create a table model and Hibernate will automatically create the in-memory table for you each time the application is ran</li>\n</ol>\n<p>We will focus on number 2 for sake of simplicity (in more real world scenerios you need the schema's first):</p>\n<ol>\n<li><p>Create a model under model package - for instance to create a user table called <strong>Users A</strong> do this:</p>\n<p>import jakarta.persistence.*;\nimport jakarta.validation.constraints.NotBlank;\nimport lombok.Getter;\nimport lombok.Setter;</p>\n<p>import java.io.Serializable;</p>\n<p>/**\n*</p>\n<ul>\n<li><p>@author Admin\n*/\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;usersa&quot;)\npublic class UsersA  implements Serializable {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;</p>\n<p>@NotBlank(message = &quot;Username is required&quot;)\nprivate String username;</p>\n<p>private Integer password;</p>\n<p>@Override\npublic String toString() {\nreturn String.format(&quot;UsersA{id=%d, username='%s', password='%s'}&quot;,\nid, username, password);\n}\n}</p>\n</li>\n</ul>\n</li>\n<li><p>That's it and each time you build and run the app hibernate will pick this up and create it for you and then it will be visible in your browser H2 Console</p>\n</li>\n</ol>\n<p>This obviously depends on your project having the correct dependencies like jarkata, hibernate, h2 and configured correctly in the pom.</p>\n"}],"owner":{"account_id":23816133,"reputation":31,"user_id":17824377,"display_name":"Susanne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1201,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70571190,"answer_count":2,"score":0,"last_activity_date":1691197701,"creation_date":1641241447,"question_id":70571047,"body_markdown":"I have a Spring Boot Application with a H2 database. I can add entries and I can see this entries on the swagger-ui website.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when I open the H2 console, I can not see the tables or the columns. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IRkE6.png\r\n  [2]: https://i.stack.imgur.com/U2vva.png\r\n\r\nIs there a way to show me the content of the database? In a readable format?\r\n\r\nMy application.properties file:\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:mooddb;\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=a\r\nspring.datasource.password=a\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.sql.init.platform=h2\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.sql.init.data-locations=classpath:data-h2.sql\r\n\r\nspring.h2.console.enabled=true\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\nspring.h2.console.path=/h2\r\nspring.h2.console.settings.trace=false\r\nspring.h2.console.settings.web-allow-others=false\r\n```\r\n\r\nThank ","title":"Spring Boot - Show H2 Database Content","body":"<p>I have a Spring Boot Application with a H2 database. I can add entries and I can see this entries on the swagger-ui website.</p>\n<p><a href=\"https://i.stack.imgur.com/IRkE6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IRkE6.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I open the H2 console, I can not see the tables or the columns.</p>\n<p><a href=\"https://i.stack.imgur.com/U2vva.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U2vva.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to show me the content of the database? In a readable format?</p>\n<p>My application.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:mooddb;\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=a\nspring.datasource.password=a\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.sql.init.platform=h2\nspring.jpa.hibernate.ddl-auto=create\nspring.sql.init.data-locations=classpath:data-h2.sql\n\nspring.h2.console.enabled=true\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\nspring.jpa.defer-datasource-initialization=true\n\nspring.h2.console.path=/h2\nspring.h2.console.settings.trace=false\nspring.h2.console.settings.web-allow-others=false\n</code></pre>\n<p>Thank</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691197017,"creation_date":1691197017,"answer_id":76839754,"question_id":76604976,"body_markdown":"Kafka Streams is not flexible enough. If it has a single message at hand and processing it takes a long time, it won&#39;t call `poll()`.\r\n\r\nYou might need to fall back to using a `KafkaConsumer` instead so you have more control over it. Or you try to increase `max.poll.timeout.ms` accordingly, but I would actually not recommend it -- 30 minutes would be a really high value and might cause other issues.\r\n\r\nUsing `ScheduledExecutorService` is a very bad idea anyway and might break your application. Kafka Streams does not allow to run your own background threads.","title":"Kafka Streams - Pause and resume","body":"<p>Kafka Streams is not flexible enough. If it has a single message at hand and processing it takes a long time, it won't call <code>poll()</code>.</p>\n<p>You might need to fall back to using a <code>KafkaConsumer</code> instead so you have more control over it. Or you try to increase <code>max.poll.timeout.ms</code> accordingly, but I would actually not recommend it -- 30 minutes would be a really high value and might cause other issues.</p>\n<p>Using <code>ScheduledExecutorService</code> is a very bad idea anyway and might break your application. Kafka Streams does not allow to run your own background threads.</p>\n"}],"owner":{"account_id":1646297,"reputation":440,"user_id":1517790,"accept_rate":44,"display_name":"Phani Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1691197017,"creation_date":1688389191,"question_id":76604976,"body_markdown":"I have a streams application that consumes messages usually fast but sometimes takes a lot of time (up to 30 min). The behavior is in-deterministic and we do not know before processing the message. We deploy our application in Kubernetes where pods going down and scaling up is normal. When all pods are stuck in processing messages for a long time, any new pods scale up or going down kick off rebalancing which takes a lot of time, and sometimes never completes due to the poll thread blocked. \r\n\r\nI am trying to pause and resume Kafka streams which theoretically should not block poll so it should not block rebalancing. What is the ideal programming model to achieve the following? I know this is fairly easy to accomplish when using Kafka consumer model (not streams)\r\n\r\n- Start processing a message\r\n- Spawn a new thread to process message\r\n- Pause kafka streams which unblocks poll and do not consume any new messages\r\n- When finished processing message\r\n  - Forward message to sink (output topic)\r\n  - commit offset and resume streams\r\n\r\nI have tried the following. It has multiple problems:\r\n\r\n- When kafka streams is paused, forward is hanged forever\r\n- If I resume streams and then forward, it is not hanged but no message in output topic\r\n\r\n&#39;&#39;&#39;\r\npublic class Test1 {\r\n\r\n    static KafkaStreams streams;\r\n    public static void main(String[] args) {\r\n        // Set up the configuration properties\r\n        Properties config = new Properties();\r\n        config.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;my-streams-app&quot;);\r\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n\r\n        config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        config.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 1);\r\n        config.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 10000);\r\n        config.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 180000)\r\n\r\n        Topology builder = new Topology();\r\n\r\n        // Add a source processor node\r\n        builder.addSource(&quot;Source&quot;, &quot;input&quot;);\r\n\r\n        // Add a processor node\r\n        builder.addProcessor(&quot;Processor&quot;, MyProcessor::new, &quot;Source&quot;);\r\n\r\n      \r\n        builder.addSink(&quot;sendto&quot;, &quot;output&quot;, Serdes.String().serializer(), Serdes.String().serializer(),&quot;Processor&quot;);\r\n\r\n        // Build the topology\r\n        streams = new KafkaStreams(builder, config);\r\n\r\n        // Start the KafkaStreams instance\r\n        streams.start();\r\n\r\n        // Add shutdown hook to gracefully close the KafkaStreams instance\r\n        Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\r\n    }\r\n\r\n    static class MyProcessor implements Processor&lt;String, String, String, String&gt; {\r\n        private ProcessorContext context;\r\n        private ScheduledExecutorService executorService;\r\n\r\n        @Override\r\n        public void init(ProcessorContext context) {\r\n            this.context = context;\r\n            this.executorService = Executors.newSingleThreadScheduledExecutor();\r\n        }\r\n\r\n\r\n        @Override\r\n        public void process(Record&lt;String, String&gt; record) {\r\n            System.out.println(&quot;In processing&quot;);\r\n\r\n            streams.pause();\r\n            executorService.schedule(() -&gt; {\r\n                System.out.println(&quot;Started processing..sleeping&quot;);\r\n                try {\r\n                    Thread.sleep(10000);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                System.out.println(&quot;OUT processing...&quot;);\r\n\r\n                context.forward(new Record&lt;&gt;(&quot;test1&quot;, &quot;value&quot;,1l), &quot;sendto&quot;);\r\n                context.commit();\r\n                streams.resume();\r\n\r\n            }, 0, TimeUnit.SECONDS);\r\n        }\r\n\r\n&#39;&#39;&#39;\r\n","title":"Kafka Streams - Pause and resume","body":"<p>I have a streams application that consumes messages usually fast but sometimes takes a lot of time (up to 30 min). The behavior is in-deterministic and we do not know before processing the message. We deploy our application in Kubernetes where pods going down and scaling up is normal. When all pods are stuck in processing messages for a long time, any new pods scale up or going down kick off rebalancing which takes a lot of time, and sometimes never completes due to the poll thread blocked.</p>\n<p>I am trying to pause and resume Kafka streams which theoretically should not block poll so it should not block rebalancing. What is the ideal programming model to achieve the following? I know this is fairly easy to accomplish when using Kafka consumer model (not streams)</p>\n<ul>\n<li>Start processing a message</li>\n<li>Spawn a new thread to process message</li>\n<li>Pause kafka streams which unblocks poll and do not consume any new messages</li>\n<li>When finished processing message\n<ul>\n<li>Forward message to sink (output topic)</li>\n<li>commit offset and resume streams</li>\n</ul>\n</li>\n</ul>\n<p>I have tried the following. It has multiple problems:</p>\n<ul>\n<li>When kafka streams is paused, forward is hanged forever</li>\n<li>If I resume streams and then forward, it is not hanged but no message in output topic</li>\n</ul>\n<p>'''\npublic class Test1 {</p>\n<pre><code>static KafkaStreams streams;\npublic static void main(String[] args) {\n    // Set up the configuration properties\n    Properties config = new Properties();\n    config.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;my-streams-app&quot;);\n    config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n    config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n\n    config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n    config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n    config.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 1);\n    config.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 10000);\n    config.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 180000)\n\n    Topology builder = new Topology();\n\n    // Add a source processor node\n    builder.addSource(&quot;Source&quot;, &quot;input&quot;);\n\n    // Add a processor node\n    builder.addProcessor(&quot;Processor&quot;, MyProcessor::new, &quot;Source&quot;);\n\n  \n    builder.addSink(&quot;sendto&quot;, &quot;output&quot;, Serdes.String().serializer(), Serdes.String().serializer(),&quot;Processor&quot;);\n\n    // Build the topology\n    streams = new KafkaStreams(builder, config);\n\n    // Start the KafkaStreams instance\n    streams.start();\n\n    // Add shutdown hook to gracefully close the KafkaStreams instance\n    Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\n}\n\nstatic class MyProcessor implements Processor&lt;String, String, String, String&gt; {\n    private ProcessorContext context;\n    private ScheduledExecutorService executorService;\n\n    @Override\n    public void init(ProcessorContext context) {\n        this.context = context;\n        this.executorService = Executors.newSingleThreadScheduledExecutor();\n    }\n\n\n    @Override\n    public void process(Record&lt;String, String&gt; record) {\n        System.out.println(&quot;In processing&quot;);\n\n        streams.pause();\n        executorService.schedule(() -&gt; {\n            System.out.println(&quot;Started processing..sleeping&quot;);\n            try {\n                Thread.sleep(10000);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            System.out.println(&quot;OUT processing...&quot;);\n\n            context.forward(new Record&lt;&gt;(&quot;test1&quot;, &quot;value&quot;,1l), &quot;sendto&quot;);\n            context.commit();\n            streams.resume();\n\n        }, 0, TimeUnit.SECONDS);\n    }\n</code></pre>\n<p>'''</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":481449,"reputation":1180,"user_id":895295,"accept_rate":50,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488452295,"creation_date":1488452295,"answer_id":42553512,"question_id":38857783,"body_markdown":"None of the static MessageFormat.format() implementations accept a Locale as an argument, especially as a last argument, as it would interfere with the Object... signature; the only way to set a locale is in the constructor, so if you are keen to use a static format() method, you would have to &#39;roll your own&#39; somewhere with code similar to this:\r\n\r\n\r\n    public static String format(Locale loc, String pattern, Object ... arguments) \r\n    {\r\n      MessageFormat temp = new MessageFormat(pattern, loc);\r\n      return temp.format(arguments);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"MessageFormat Formatting without Default Locale","body":"<p>None of the static MessageFormat.format() implementations accept a Locale as an argument, especially as a last argument, as it would interfere with the Object... signature; the only way to set a locale is in the constructor, so if you are keen to use a static format() method, you would have to 'roll your own' somewhere with code similar to this:</p>\n\n<pre><code>public static String format(Locale loc, String pattern, Object ... arguments) \n{\n  MessageFormat temp = new MessageFormat(pattern, loc);\n  return temp.format(arguments);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691196338,"creation_date":1691196338,"answer_id":76839741,"question_id":38857783,"body_markdown":"Define a `MessageManager` with `private final Local` field\r\n--\r\n    var mf = new MessageFormat(pattern, locale);\r\n    return mf.format(args, new StringBuffer(), null).toString();\r\n\r\n\r\nThis is, defacto, java i18n standard\r\n\r\nReference implementation: https://github.com/apache/tomcat/blob/main/java/org/apache/catalina/tribes/util/StringManager.java#L153,L155\r\n\r\n---\r\n**NOTE:** Avoid calling mf.format(argArray).\r\n\r\nThat would inject the entire array to the placeholder #0 ([src][1])\r\n\r\n\r\n  [1]: https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/text/Format.java#L157","title":"MessageFormat Formatting without Default Locale","body":"<h2>Define a <code>MessageManager</code> with <code>private final Local</code> field</h2>\n<pre><code>var mf = new MessageFormat(pattern, locale);\nreturn mf.format(args, new StringBuffer(), null).toString();\n</code></pre>\n<p>This is, defacto, java i18n standard</p>\n<p>Reference implementation: <a href=\"https://github.com/apache/tomcat/blob/main/java/org/apache/catalina/tribes/util/StringManager.java#L153,L155\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/blob/main/java/org/apache/catalina/tribes/util/StringManager.java#L153,L155</a></p>\n<hr />\n<p><strong>NOTE:</strong> Avoid calling mf.format(argArray).</p>\n<p>That would inject the entire array to the placeholder #0 (<a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/text/Format.java#L157\" rel=\"nofollow noreferrer\">src</a>)</p>\n"}],"owner":{"account_id":205049,"reputation":73345,"user_id":453596,"accept_rate":76,"display_name":"kamaci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1691196338,"creation_date":1470766577,"question_id":38857783,"body_markdown":"I&#39;m trying to fix the errors of forbidden apis. I had an error which says:\r\n\r\n    [forbiddenapis] Forbidden method invocation: java.text.MessageFormat#format(java.lang.String,java.lang.Object[]) [Uses default locale]\r\n    [forbiddenapis]   in org.a.b.MyClass (MyClass.java:813)    \r\n\r\nWhich points to that:\r\n\r\n    logger.debug(MessageFormat.format(&quot;Added {0} documents&quot;, new Object[] { new Integer(count) }));\r\n\r\nSo, I&#39;ve changed it to that:\r\n\r\n    logger.debug(MessageFormat.format(&quot;Added {0} documents&quot;, new Object[] { new Integer(count) }, Locale.ROOT));\r\n\r\nHowever, error still exists. How can I fix it?","title":"MessageFormat Formatting without Default Locale","body":"<p>I'm trying to fix the errors of forbidden apis. I had an error which says:</p>\n\n<pre><code>[forbiddenapis] Forbidden method invocation: java.text.MessageFormat#format(java.lang.String,java.lang.Object[]) [Uses default locale]\n[forbiddenapis]   in org.a.b.MyClass (MyClass.java:813)    \n</code></pre>\n\n<p>Which points to that:</p>\n\n<pre><code>logger.debug(MessageFormat.format(\"Added {0} documents\", new Object[] { new Integer(count) }));\n</code></pre>\n\n<p>So, I've changed it to that:</p>\n\n<pre><code>logger.debug(MessageFormat.format(\"Added {0} documents\", new Object[] { new Integer(count) }, Locale.ROOT));\n</code></pre>\n\n<p>However, error still exists. How can I fix it?</p>\n"},{"tags":["java","maven","maven-release-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1578509795,"post_id":59641739,"comment_id":105465729,"body_markdown":"Can you explain the reason for using maven-release-plugin together with ci friendly?","body":"Can you explain the reason for using maven-release-plugin together with ci friendly?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1578511189,"post_id":59641739,"comment_id":105466314,"body_markdown":"What would you recommend instead? We used Maven release plugin up to now to release all our projects. Now we are starting to use multi-module projects and I thought that having the version in one place (as `${revision}`) is better than having the version in each and every module. Of course, one can use `versions:set` to set the versions for all modules, but I thought using `${revision}` is the more modern and nicer way.","body":"What would you recommend instead? We used Maven release plugin up to now to release all our projects. Now we are starting to use multi-module projects and I thought that having the version in one place (as <code>${revision}</code>) is better than having the version in each and every module. Of course, one can use <code>versions:set</code> to set the versions for all modules, but I thought using <code>${revision}</code> is the more modern and nicer way."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1578511493,"post_id":59641739,"comment_id":105466427,"body_markdown":"@khmarbaise On the other hand, of course, we could give up using maven-release-plugin, but this means that we need to craft the necessary steps ourselves.","body":"@khmarbaise On the other hand, of course, we could give up using maven-release-plugin, but this means that we need to craft the necessary steps ourselves."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1578514010,"post_id":59641739,"comment_id":105467468,"body_markdown":"If you like to use `versions:set` does not really make sense in relationship with maven-release-plugin cause this can be configured either automatically (increment last digit) or explicit via parameter. CI friendly is more intended to be used standalone without release plugin like just setting a version from outside (for example via CI tool)...but of course it would make sense to handle the usage in maven-release-plugin as well (currently not the case)...","body":"If you like to use <code>versions:set</code> does not really make sense in relationship with maven-release-plugin cause this can be configured either automatically (increment last digit) or explicit via parameter. CI friendly is more intended to be used standalone without release plugin like just setting a version from outside (for example via CI tool)...but of course it would make sense to handle the usage in maven-release-plugin as well (currently not the case)..."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1578514572,"post_id":59641739,"comment_id":105467700,"body_markdown":"So should I _not_ use the `${revision}` in my version in the multi-module project? At least until the maven release plugin can handle it? For `versions:set`: It did not mean that for the release itself, but when I want to update the version of the project locally. This is easier with `${revision}` because the property is just set in one place.","body":"So should I <i>not</i> use the <code>${revision}</code> in my version in the multi-module project? At least until the maven release plugin can handle it? For <code>versions:set</code>: It did not mean that for the release itself, but when I want to update the version of the project locally. This is easier with <code>${revision}</code> because the property is just set in one place."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1578560753,"post_id":59641739,"comment_id":105480565,"body_markdown":"@khmarbaise Ok, I decided to remove the `${revision}` from my POMs until https://issues.apache.org/jira/browse/MRELEASE-935 is resolved.","body":"@khmarbaise Ok, I decided to remove the <code>${revision}</code> from my POMs until <a href=\"https://issues.apache.org/jira/browse/MRELEASE-935\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MRELEASE-935</a> is resolved."},{"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"score":0,"creation_date":1648136669,"post_id":59641739,"comment_id":126553220,"body_markdown":"The concept of the release plugin is fundamentally at odds with CI-friendly versioning. You&#39;re asking the equivalent of how to make a relational database (ACID) act like a No-SQL (BASE) database. How can I make a gas-powered car work like a bicycle? These are fundamentally different approaches.","body":"The concept of the release plugin is fundamentally at odds with CI-friendly versioning. You&#39;re asking the equivalent of how to make a relational database (ACID) act like a No-SQL (BASE) database. How can I make a gas-powered car work like a bicycle? These are fundamentally different approaches."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1648143283,"post_id":59641739,"comment_id":126555998,"body_markdown":"@ingyhere I understand that the release plugin may be not the best choice to build releases on a modern CI system. Nevertheless, when you choose to use the release plugin, using `${revision}` would be useful to avoid the repetition of the version number in each and every module.","body":"@ingyhere I understand that the release plugin may be not the best choice to build releases on a modern CI system. Nevertheless, when you choose to use the release plugin, using <code>${revision}</code> would be useful to avoid the repetition of the version number in each and every module."},{"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"score":0,"creation_date":1695252181,"post_id":59641739,"comment_id":136001132,"body_markdown":"@JFabianMeier I think you may have been looking for `${project.version}&#39; which is available irrespective of CI Friendly version tooling.","body":"@JFabianMeier I think you may have been looking for `${project.version}&#39; which is available irrespective of CI Friendly version tooling."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1695285726,"post_id":59641739,"comment_id":136004895,"body_markdown":"@ingyhere Thanks, but no.","body":"@ingyhere Thanks, but no."}],"answers":[{"tags":[],"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1691194193,"creation_date":1617916865,"answer_id":67012045,"question_id":59641739,"body_markdown":"The CI Friendly version scheme is intended to replace the [Maven Release Plugin][1], *not* complement it. In today&#39;s development world most teams are relying on CI servers for integration testing, performing automated tests and either releasing with continuous delivery or continuous deployment. *The concept of a `SNAPSHOT` is truly limited when everything is potentially a `SNAPSHOT`.*\r\n\r\n[Notably, the Release Plugin executes 4 to 5 times more processes than a properly implemented CI Friendly configuration.][2] Imagine a 50-minute build using the release plugin becoming a 15-minute build using the CI strategy. [Now that&#39;s modernization!][3] \r\n\r\nThe basic idea is that values used in versions will be collected from the [DVCS][4] (`Git`, `SVN`, etc.) and the [CIS][5] (`Jenkins`, `Travis CI`, `GitLab`, etc.) at build time and used to modify or set the POM/release version. These values are things like the build number, the shortened Git hash or anything else. \r\n\r\n**Procedure to implement CI Friendly Maven builds:** \r\n- Maven [supports only a handful of properties][6] in the `&lt;version&gt;` tag. These are `${revision}`, `${changelist}` and `${sha1}`.\r\n- You can either use a hardcoded value and the acceptable properties or just something like `${revision}`. **NOTE:** I now recommend `${revision}`.\r\n- In the `&lt;properties&gt;`, set values to acceptable defaults -- fake values that become clear they are from non-build machines, like `0` for the build number.\r\n- In the `&lt;properties&gt;`, assemble the value for `&lt;revision&gt;`, e.g. the version, from other properties and hardcoded values. For instance, `&lt;revision&gt;1.0.0b${changelist}-${sha1}&lt;/revision&gt;`.\r\n- At build time, use `-D` flags to set the actual values. For instance, the `${BUILD_NUMBER}` value is injected to every Jenkins build -- `-Dchangelist=${BUILD_NUMBER}`.\r\n- You now have the flexibility to change the version number components.\r\n\r\nIn the CI pipelines you can now detect the commit branch and perform releases from `master` by clearing all or some of these values. For instance, feature branches can calculate and add the Git hash. The semantic version is set above -- Developers now own and control it. They must know their code to make changes, and they have the freedom to increment the semantic version. It&#39;s a lot of valuable flexibility. \r\n\r\nThe sound reasoning here, though, is to speed up things and get rid of a heavyweight process that really adds little to no relevant information that ties code to its precise origin. By using CI Friendly versions you will let deployers, testers and sysadmins see the compile number and code commit hash that allows the problem to be precisely correlated to an actual code release. \r\n\r\nIt should be noted that this requires a bit of philosophical flexibility to accept a paradigm shift. Change is good, and ditching the release plugin will make your release pipelines better. \r\n\r\n\r\n  [1]: https://maven.apache.org/maven-release/maven-release-plugin/\r\n  [2]: https://axelfontaine.com/blog/dead-burried.html\r\n  [3]: https://www.socallinuxexpo.org/sites/default/files/presentations/SCaLE-18x-Maven_Renewed_u2.pdf\r\n  [4]: https://en.wikipedia.org/wiki/Distributed_version_control\r\n  [5]: https://en.wikipedia.org/wiki/Continuous_integration\r\n  [6]: https://maven.apache.org/maven-ci-friendly.html","title":"Maven Release Plugin together with cifriendly versions","body":"<p>The CI Friendly version scheme is intended to replace the <a href=\"https://maven.apache.org/maven-release/maven-release-plugin/\" rel=\"nofollow noreferrer\">Maven Release Plugin</a>, <em>not</em> complement it. In today's development world most teams are relying on CI servers for integration testing, performing automated tests and either releasing with continuous delivery or continuous deployment. <em>The concept of a <code>SNAPSHOT</code> is truly limited when everything is potentially a <code>SNAPSHOT</code>.</em></p>\n<p><a href=\"https://axelfontaine.com/blog/dead-burried.html\" rel=\"nofollow noreferrer\">Notably, the Release Plugin executes 4 to 5 times more processes than a properly implemented CI Friendly configuration.</a> Imagine a 50-minute build using the release plugin becoming a 15-minute build using the CI strategy. <a href=\"https://www.socallinuxexpo.org/sites/default/files/presentations/SCaLE-18x-Maven_Renewed_u2.pdf\" rel=\"nofollow noreferrer\">Now that's modernization!</a></p>\n<p>The basic idea is that values used in versions will be collected from the <a href=\"https://en.wikipedia.org/wiki/Distributed_version_control\" rel=\"nofollow noreferrer\">DVCS</a> (<code>Git</code>, <code>SVN</code>, etc.) and the <a href=\"https://en.wikipedia.org/wiki/Continuous_integration\" rel=\"nofollow noreferrer\">CIS</a> (<code>Jenkins</code>, <code>Travis CI</code>, <code>GitLab</code>, etc.) at build time and used to modify or set the POM/release version. These values are things like the build number, the shortened Git hash or anything else.</p>\n<p><strong>Procedure to implement CI Friendly Maven builds:</strong></p>\n<ul>\n<li>Maven <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">supports only a handful of properties</a> in the <code>&lt;version&gt;</code> tag. These are <code>${revision}</code>, <code>${changelist}</code> and <code>${sha1}</code>.</li>\n<li>You can either use a hardcoded value and the acceptable properties or just something like <code>${revision}</code>. <strong>NOTE:</strong> I now recommend <code>${revision}</code>.</li>\n<li>In the <code>&lt;properties&gt;</code>, set values to acceptable defaults -- fake values that become clear they are from non-build machines, like <code>0</code> for the build number.</li>\n<li>In the <code>&lt;properties&gt;</code>, assemble the value for <code>&lt;revision&gt;</code>, e.g. the version, from other properties and hardcoded values. For instance, <code>&lt;revision&gt;1.0.0b${changelist}-${sha1}&lt;/revision&gt;</code>.</li>\n<li>At build time, use <code>-D</code> flags to set the actual values. For instance, the <code>${BUILD_NUMBER}</code> value is injected to every Jenkins build -- <code>-Dchangelist=${BUILD_NUMBER}</code>.</li>\n<li>You now have the flexibility to change the version number components.</li>\n</ul>\n<p>In the CI pipelines you can now detect the commit branch and perform releases from <code>master</code> by clearing all or some of these values. For instance, feature branches can calculate and add the Git hash. The semantic version is set above -- Developers now own and control it. They must know their code to make changes, and they have the freedom to increment the semantic version. It's a lot of valuable flexibility.</p>\n<p>The sound reasoning here, though, is to speed up things and get rid of a heavyweight process that really adds little to no relevant information that ties code to its precise origin. By using CI Friendly versions you will let deployers, testers and sysadmins see the compile number and code commit hash that allows the problem to be precisely correlated to an actual code release.</p>\n<p>It should be noted that this requires a bit of philosophical flexibility to accept a paradigm shift. Change is good, and ditching the release plugin will make your release pipelines better.</p>\n"}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2425,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1691194193,"creation_date":1578470992,"question_id":59641739,"body_markdown":"I am just setting up a Maven multi-module project with `${revision}` as version as described in https://maven.apache.org/maven-ci-friendly.html\r\n\r\nThe property `${revision}` is set in the parent POM and used as version number throughout all modules. \r\n\r\nThis works fine for SNAPSHOT builds, but when I run the Maven release plugin, the version gets replaced by something like `1.0.0` and then `1.0.1-SNAPSHOT`. So the cifriendly versions are gone after one release.\r\n\r\nIs there a way to configure the Maven release plugin in a way that cifriendly versions are not destroyed?","title":"Maven Release Plugin together with cifriendly versions","body":"<p>I am just setting up a Maven multi-module project with <code>${revision}</code> as version as described in <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"noreferrer\">https://maven.apache.org/maven-ci-friendly.html</a></p>\n\n<p>The property <code>${revision}</code> is set in the parent POM and used as version number throughout all modules. </p>\n\n<p>This works fine for SNAPSHOT builds, but when I run the Maven release plugin, the version gets replaced by something like <code>1.0.0</code> and then <code>1.0.1-SNAPSHOT</code>. So the cifriendly versions are gone after one release.</p>\n\n<p>Is there a way to configure the Maven release plugin in a way that cifriendly versions are not destroyed?</p>\n"},{"tags":["java","string","string-interpolation"],"answers":[{"tags":[],"owner":{"account_id":17084800,"reputation":57,"user_id":12362378,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657082662,"creation_date":1656696240,"answer_id":72832748,"question_id":72778444,"body_markdown":"As far as I know, you cannot pass an object. so far, my best solution has been passing strings formatted to be like a JSON object, then parsing it into a JSON Object.\r\n\r\nExample\r\n\r\n        \r\n    \r\n    class Main {\r\n      private static String EXT_EVENT = &quot;{&quot; +\r\n                &quot;    \\&quot;version\\&quot;: \\&quot;1.0\\&quot;,&quot; +\r\n                &quot;    \\&quot;method\\&quot;: \\&quot;Event\\&quot;,&quot; +\r\n                &quot;    \\&quot;target\\&quot;: \\&quot;ExamppleTarget\\&quot;,&quot; +\r\n                &quot;    \\&quot;name\\&quot;: \\&quot;OnEventReceived\\&quot;,&quot; +\r\n                &quot;    \\&quot;payload\\&quot;: { \\&quot;header\\&quot;: %1$s,&quot; +\r\n                &quot;                   \\&quot;endpoint\\&quot;: %2$s, &quot; +\r\n                &quot;                   \\&quot;payload\\&quot;: %3$s }&quot; +\r\n                &quot;}&quot;;\r\n      public static void main(String[] args) {\r\n        String example = String.format(EXT_EVENT,&quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;);\r\n        System.out.println(example);\r\n      }\r\n    }","title":"String Interpolation a json object with %","body":"<p>As far as I know, you cannot pass an object. so far, my best solution has been passing strings formatted to be like a JSON object, then parsing it into a JSON Object.</p>\n<p>Example</p>\n<pre><code>class Main {\n  private static String EXT_EVENT = &quot;{&quot; +\n            &quot;    \\&quot;version\\&quot;: \\&quot;1.0\\&quot;,&quot; +\n            &quot;    \\&quot;method\\&quot;: \\&quot;Event\\&quot;,&quot; +\n            &quot;    \\&quot;target\\&quot;: \\&quot;ExamppleTarget\\&quot;,&quot; +\n            &quot;    \\&quot;name\\&quot;: \\&quot;OnEventReceived\\&quot;,&quot; +\n            &quot;    \\&quot;payload\\&quot;: { \\&quot;header\\&quot;: %1$s,&quot; +\n            &quot;                   \\&quot;endpoint\\&quot;: %2$s, &quot; +\n            &quot;                   \\&quot;payload\\&quot;: %3$s }&quot; +\n            &quot;}&quot;;\n  public static void main(String[] args) {\n    String example = String.format(EXT_EVENT,&quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;);\n    System.out.println(example);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691194184,"creation_date":1670934502,"answer_id":74784866,"question_id":72778444,"body_markdown":"With [Java 15 text blocks][1], it can be simplified a little bit:\r\n\r\n```java\r\nprivate static String EXT_EVENT = &quot;&quot;&quot;\r\n    {\r\n        &quot;version&quot;: &quot;1.0&quot;,\r\n        &quot;method&quot;:  &quot;Event&quot;,\r\n        &quot;target&quot;:  &quot;ExampleTarget&quot;,\r\n        &quot;name&quot;:    &quot;OnEventReceived&quot;,\r\n        &quot;payload&quot;: {\r\n            &quot;header&quot;:   %1$s,\r\n            &quot;endpoint&quot;: %2$s,\r\n            &quot;payload&quot;:  %3$s\r\n        }\r\n    }\r\n&quot;&quot;&quot;;\r\nString example = String.format(EXT_EVENT, &quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;);\r\n```\r\n\r\nOr even with [Java template strings and string interpolation][2] (to be introduced in Java **21** as a preview feature):\r\n\r\n```java\r\nprivate static String h = &quot;test1&quot;;\r\nprivate static String e = &quot;test2&quot;;\r\nprivate static String p = &quot;test3&quot;;\r\nprivate static String example = STR.&quot;&quot;&quot;\r\n    {\r\n        &quot;version&quot;: &quot;1.0&quot;,\r\n        &quot;method&quot;:  &quot;Event&quot;,\r\n        &quot;target&quot;:  &quot;ExampleTarget&quot;,\r\n        &quot;name&quot;:    &quot;OnEventReceived&quot;,\r\n        &quot;payload&quot;: {\r\n            &quot;header&quot;:   \\{h},\r\n            &quot;endpoint&quot;: \\{e},\r\n            &quot;payload&quot;:  \\{p}\r\n        }\r\n    }\r\n&quot;&quot;&quot;;\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-text-blocks\r\n  [2]: https://openjdk.org/jeps/430","title":"String Interpolation a json object with %","body":"<p>With <a href=\"https://www.baeldung.com/java-text-blocks\" rel=\"nofollow noreferrer\">Java 15 text blocks</a>, it can be simplified a little bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String EXT_EVENT = &quot;&quot;&quot;\n    {\n        &quot;version&quot;: &quot;1.0&quot;,\n        &quot;method&quot;:  &quot;Event&quot;,\n        &quot;target&quot;:  &quot;ExampleTarget&quot;,\n        &quot;name&quot;:    &quot;OnEventReceived&quot;,\n        &quot;payload&quot;: {\n            &quot;header&quot;:   %1$s,\n            &quot;endpoint&quot;: %2$s,\n            &quot;payload&quot;:  %3$s\n        }\n    }\n&quot;&quot;&quot;;\nString example = String.format(EXT_EVENT, &quot;test1&quot;, &quot;test2&quot;, &quot;test3&quot;);\n</code></pre>\n<p>Or even with <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">Java template strings and string interpolation</a> (to be introduced in Java <strong>21</strong> as a preview feature):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String h = &quot;test1&quot;;\nprivate static String e = &quot;test2&quot;;\nprivate static String p = &quot;test3&quot;;\nprivate static String example = STR.&quot;&quot;&quot;\n    {\n        &quot;version&quot;: &quot;1.0&quot;,\n        &quot;method&quot;:  &quot;Event&quot;,\n        &quot;target&quot;:  &quot;ExampleTarget&quot;,\n        &quot;name&quot;:    &quot;OnEventReceived&quot;,\n        &quot;payload&quot;: {\n            &quot;header&quot;:   \\{h},\n            &quot;endpoint&quot;: \\{e},\n            &quot;payload&quot;:  \\{p}\n        }\n    }\n&quot;&quot;&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691187515,"creation_date":1691187515,"answer_id":76839376,"question_id":72778444,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use that outputs a **String**:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.  For example, here is a template processor that returns not strings but, rather, instances of **JSONObject**:\r\n\r\n```java\r\nvar JSON = StringTemplate.Processor.of(\r\n        (StringTemplate st) -&gt; new JSONObject(st.interpolate())\r\n    );\r\n\r\nString name    = &quot;Joan Smith&quot;;\r\nString phone   = &quot;555-123-4567&quot;;\r\nString address = &quot;1 Maple Drive, Anytown&quot;;\r\nJSONObject doc = JSON.&quot;&quot;&quot;\r\n    {\r\n        &quot;name&quot;:    &quot;\\{name}&quot;,\r\n        &quot;phone&quot;:   &quot;\\{phone}&quot;,\r\n        &quot;address&quot;: &quot;\\{address}&quot;\r\n    };\r\n    &quot;&quot;&quot;;\r\n```","title":"String Interpolation a json object with %","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use that outputs a <strong>String</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.  For example, here is a template processor that returns not strings but, rather, instances of <strong>JSONObject</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var JSON = StringTemplate.Processor.of(\n        (StringTemplate st) -&gt; new JSONObject(st.interpolate())\n    );\n\nString name    = &quot;Joan Smith&quot;;\nString phone   = &quot;555-123-4567&quot;;\nString address = &quot;1 Maple Drive, Anytown&quot;;\nJSONObject doc = JSON.&quot;&quot;&quot;\n    {\n        &quot;name&quot;:    &quot;\\{name}&quot;,\n        &quot;phone&quot;:   &quot;\\{phone}&quot;,\n        &quot;address&quot;: &quot;\\{address}&quot;\n    };\n    &quot;&quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":17084800,"reputation":57,"user_id":12362378,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72832748,"answer_count":3,"score":0,"last_activity_date":1691194184,"creation_date":1656365001,"question_id":72778444,"body_markdown":"I am trying to send a custom payload to a String in Java. In this case, a JSON Object.\r\n\r\nOrdinarily, if I wanted to send a decimal to a string I might do something like this\r\n\r\n```java\r\nString myDecimal = &quot;my decimal is %d&quot;;\r\nSystem.out.println(String.format(myDecimal, 20)); // print &quot;my decimal is 20)\r\n```\r\n\r\nHowever, instead of sending a decimal, or a string (%s), I would like to send a JSON object. Is this possible, if so how?\r\n","title":"String Interpolation a json object with %","body":"<p>I am trying to send a custom payload to a String in Java. In this case, a JSON Object.</p>\n<p>Ordinarily, if I wanted to send a decimal to a string I might do something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>String myDecimal = &quot;my decimal is %d&quot;;\nSystem.out.println(String.format(myDecimal, 20)); // print &quot;my decimal is 20)\n</code></pre>\n<p>However, instead of sending a decimal, or a string (%s), I would like to send a JSON object. Is this possible, if so how?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","kafka-topic"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691193027,"creation_date":1691193027,"answer_id":76839635,"question_id":76801676,"body_markdown":"To do a proper join, you would need to modify the key before the join, eg, via `selectKey` or `map` to remove the row number. If you don&#39;t need the row number in the output, it&#39;s simplest to use `selecKey` and just drop it. If you need the row number in the output, you would need to use map, and move it from the key into the value (you can put it back from the value into the key, using another `map` after the join).\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    KStream left = builder.stream(...).selectKey(...);\r\n    KStream right = builder.stream(...).selectKey(...);\r\n    KStream result = left.join(right, ...);","title":"Joining two Java KStreams (Kafka Topics) with &quot;nearly&quot; identical keys","body":"<p>To do a proper join, you would need to modify the key before the join, eg, via <code>selectKey</code> or <code>map</code> to remove the row number. If you don't need the row number in the output, it's simplest to use <code>selecKey</code> and just drop it. If you need the row number in the output, you would need to use map, and move it from the key into the value (you can put it back from the value into the key, using another <code>map</code> after the join).</p>\n<pre class=\"lang-java prettyprint-override\"><code>KStream left = builder.stream(...).selectKey(...);\nKStream right = builder.stream(...).selectKey(...);\nKStream result = left.join(right, ...);\n</code></pre>\n"}],"owner":{"account_id":29126716,"reputation":11,"user_id":22312869,"display_name":"klimzera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691193027,"creation_date":1690790136,"question_id":76801676,"body_markdown":"i have two kafka topics containing different information to a &quot;Warning Event&quot;.\r\nTo know what entries in Topic A and B correspond to one another, i have to compare the serial, date and machine form the Key and then join on the &#39;no&#39;\r\n\r\nIMPORTNANT: The row_number can be different (see example below)\r\n\r\n**Topic A** contains values like this:\r\n\r\nkey: `{&quot;serial&quot;:187,&quot;date&quot;:&quot;11/16/2022&quot;,&quot;row&quot;:0,&quot;machine&quot;:&quot;Blue&quot;}`\r\n\r\nvalue: `{\r\n  &quot;no&quot;: 1,\r\n  &quot;frequency&quot;: 0\r\n}`\r\n\r\n**Topic B** contains value like this:\r\n\r\nkey: `{&quot;serial&quot;:187,&quot;date&quot;:&quot;11/16/2022&quot;,&quot;row&quot;:99,&quot;machine&quot;:&quot;Blue&quot;}`\r\n\r\nvalue: `{\r\n  &quot;warning&quot;: &quot;Emergency&quot;,\r\n  &quot;no&quot;: 1\r\n}\r\n`\r\n\r\nMy desired output **Topic C** combines the two information through the &#39;no&#39;:\r\n\r\nkey: `{&quot;serial&quot;:187,&quot;date&quot;:&quot;11/16/2022&quot;,&quot;row&quot;:0,&quot;machine&quot;:&quot;Blue&quot;}`\r\n\r\nvalue: `{\r\n  &quot;no&quot;: 1,\r\n  &quot;frequency&quot;: 0,\r\n  &quot;warning&quot;: &quot;Emergency!&quot;\r\n}`\r\n\r\nIt should be basically Topic A (with the same key but with the addition of the warning name (clear text) from Topic B.\r\n\r\nI am a complete noob to Kafka so i have been struggling for a long time now on this problem.\r\n\r\nI tried to use KStream.innerJoints but it is difficult to get the join when one part of the key (row_number) does not have to be the same.","title":"Joining two Java KStreams (Kafka Topics) with &quot;nearly&quot; identical keys","body":"<p>i have two kafka topics containing different information to a &quot;Warning Event&quot;.\nTo know what entries in Topic A and B correspond to one another, i have to compare the serial, date and machine form the Key and then join on the 'no'</p>\n<p>IMPORTNANT: The row_number can be different (see example below)</p>\n<p><strong>Topic A</strong> contains values like this:</p>\n<p>key: <code>{&quot;serial&quot;:187,&quot;date&quot;:&quot;11/16/2022&quot;,&quot;row&quot;:0,&quot;machine&quot;:&quot;Blue&quot;}</code></p>\n<p>value: <code>{ &quot;no&quot;: 1, &quot;frequency&quot;: 0 }</code></p>\n<p><strong>Topic B</strong> contains value like this:</p>\n<p>key: <code>{&quot;serial&quot;:187,&quot;date&quot;:&quot;11/16/2022&quot;,&quot;row&quot;:99,&quot;machine&quot;:&quot;Blue&quot;}</code></p>\n<p>value: <code>{ &quot;warning&quot;: &quot;Emergency&quot;, &quot;no&quot;: 1 } </code></p>\n<p>My desired output <strong>Topic C</strong> combines the two information through the 'no':</p>\n<p>key: <code>{&quot;serial&quot;:187,&quot;date&quot;:&quot;11/16/2022&quot;,&quot;row&quot;:0,&quot;machine&quot;:&quot;Blue&quot;}</code></p>\n<p>value: <code>{ &quot;no&quot;: 1, &quot;frequency&quot;: 0, &quot;warning&quot;: &quot;Emergency!&quot; }</code></p>\n<p>It should be basically Topic A (with the same key but with the addition of the warning name (clear text) from Topic B.</p>\n<p>I am a complete noob to Kafka so i have been struggling for a long time now on this problem.</p>\n<p>I tried to use KStream.innerJoints but it is difficult to get the join when one part of the key (row_number) does not have to be the same.</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation"],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1468322143,"creation_date":1468322143,"answer_id":38327317,"question_id":38327049,"body_markdown":"`wait.until(ExpectedConditions)` won&#39;t return null, it will either meet the condition or throw `TimeoutException`.\r\n\r\nYou can check if the element is displayed and enabled\r\n\r\n    WebElement element = driver.findElement(By.xpath);\r\n    if (element.isDisplayed() &amp;&amp; element.isEnabled()) {\r\n        element.click();\r\n    }","title":"Check if element is clickable in Selenium Java","body":"<p><code>wait.until(ExpectedConditions)</code> won't return null, it will either meet the condition or throw <code>TimeoutException</code>.</p>\n\n<p>You can check if the element is displayed and enabled</p>\n\n<pre><code>WebElement element = driver.findElement(By.xpath);\nif (element.isDisplayed() &amp;&amp; element.isEnabled()) {\n    element.click();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3854050,"reputation":23587,"user_id":3193455,"accept_rate":94,"display_name":"Saurabh Gaur"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1468340728,"creation_date":1468322574,"answer_id":38327476,"question_id":38327049,"body_markdown":"[`elementToBeClickable`][1] is used for checking an element is visible and enabled such that you can click it. \r\n\r\n`ExpectedConditions.elementToBeClickable` returns [`WebElement`][2] if expected condition is true otherwise it will throw [`TimeoutException`][3], It never returns `null`.\r\n\r\nSo if your using `ExpectedConditions.elementToBeClickable` to find an element which will **always gives you the clickable element**, so no need to check for `null` condition, you should try as below :-\r\n\r\n    WebDriverWait wait = new WebDriverWait(Scenario1Test.driver, 10); \r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//div[@id=&#39;brandSlider&#39;]/div[1]/div/div/div/img)[50]&quot;)));\r\n    element.click();\r\n\r\nAs you are saying `element.click()` passes both on `link` and `label` that&#39;s doesn&#39;t mean element is not clickable, it means returned element `clicked` but may be there is no event performs on element by click action.\r\n\r\n**Note**:- I&#39;m suggesting you always try first to find elements by `id`, `name`, `className` and other locator. if you faced some difficulty to find then use `cssSelector` and always give last priority to `xpath` locator because it is slower than other locator to locate an element.\r\n\r\nHope it helps you..:)\r\n\r\n\r\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#elementToBeClickable-org.openqa.selenium.By-\r\n  [2]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/WebElement.html\r\n  [3]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/TimeoutException.html","title":"Check if element is clickable in Selenium Java","body":"<p><a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#elementToBeClickable-org.openqa.selenium.By-\" rel=\"noreferrer\"><code>elementToBeClickable</code></a> is used for checking an element is visible and enabled such that you can click it. </p>\n\n<p><code>ExpectedConditions.elementToBeClickable</code> returns <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/WebElement.html\" rel=\"noreferrer\"><code>WebElement</code></a> if expected condition is true otherwise it will throw <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/TimeoutException.html\" rel=\"noreferrer\"><code>TimeoutException</code></a>, It never returns <code>null</code>.</p>\n\n<p>So if your using <code>ExpectedConditions.elementToBeClickable</code> to find an element which will <strong>always gives you the clickable element</strong>, so no need to check for <code>null</code> condition, you should try as below :-</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(Scenario1Test.driver, 10); \nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"(//div[@id='brandSlider']/div[1]/div/div/div/img)[50]\")));\nelement.click();\n</code></pre>\n\n<p>As you are saying <code>element.click()</code> passes both on <code>link</code> and <code>label</code> that's doesn't mean element is not clickable, it means returned element <code>clicked</code> but may be there is no event performs on element by click action.</p>\n\n<p><strong>Note</strong>:- I'm suggesting you always try first to find elements by <code>id</code>, <code>name</code>, <code>className</code> and other locator. if you faced some difficulty to find then use <code>cssSelector</code> and always give last priority to <code>xpath</code> locator because it is slower than other locator to locate an element.</p>\n\n<p>Hope it helps you..:)</p>\n"},{"tags":[],"owner":{"account_id":11161747,"reputation":19,"user_id":8191614,"display_name":"Leo Zhao"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1691192945,"creation_date":1498011605,"answer_id":44665841,"question_id":38327049,"body_markdown":"From the source code you will be able to view that, `ExpectedConditions.elementToBeClickable()`, it will judge the element visible and enabled, so you can use `isEnabled()` together with `isDisplayed()`. Following is the source code.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static ExpectedCondition&lt;WebElement&gt; elementToBeClickable(final WebElement element) {\r\n    \t\treturn new ExpectedCondition() {\r\n    \t\t\tpublic WebElement apply(WebDriver driver) {\r\n    \t\t\t\tWebElement visibleElement = (WebElement) ExpectedConditions.visibilityOf(element).apply(driver);\r\n\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\treturn visibleElement != null &amp;&amp; visibleElement.isEnabled() ? visibleElement : null;\r\n    \t\t\t\t} catch (StaleElementReferenceException arg3) {\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\r\n    \t\t\tpublic String toString() {\r\n    \t\t\t\treturn &quot;element to be clickable: &quot; + element;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"Check if element is clickable in Selenium Java","body":"<p>From the source code you will be able to view that, <code>ExpectedConditions.elementToBeClickable()</code>, it will judge the element visible and enabled, so you can use <code>isEnabled()</code> together with <code>isDisplayed()</code>. Following is the source code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ExpectedCondition&lt;WebElement&gt; elementToBeClickable(final WebElement element) {\n        return new ExpectedCondition() {\n            public WebElement apply(WebDriver driver) {\n                WebElement visibleElement = (WebElement) ExpectedConditions.visibilityOf(element).apply(driver);\n\n                try {\n                    return visibleElement != null &amp;&amp; visibleElement.isEnabled() ? visibleElement : null;\n                } catch (StaleElementReferenceException arg3) {\n                    return null;\n                }\n            }\n\n            public String toString() {\n                return &quot;element to be clickable: &quot; + element;\n            }\n        };\n    }\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":11807254,"reputation":261,"user_id":8639449,"display_name":"user8639449"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1554539156,"creation_date":1505893092,"answer_id":46315984,"question_id":38327049,"body_markdown":"There are instances when `element.isDisplayed() &amp;&amp; element.isEnabled()` will return `true` but still element will **not** be clickable, because it is hidden/overlapped by some other element. \r\n\r\nIn such case, `Exception` caught is: \r\n  \r\n\r\n&gt; org.openqa.selenium.WebDriverException: unknown error: Element is not\r\n&gt; clickable at point (781, 704). Other element would receive the click:\r\n&gt; `&lt;div class=&quot;footer&quot;&gt;...&lt;/div&gt;` \r\n\r\nUse this code instead:\r\n\r\n    WebElement  element=driver.findElement(By.xpath&quot;&quot;);\t \r\n    JavascriptExecutor ex=(JavascriptExecutor)driver;\r\n    ex.executeScript(&quot;arguments[0].click()&quot;, element);\r\n\r\nIt will work.","title":"Check if element is clickable in Selenium Java","body":"<p>There are instances when <code>element.isDisplayed() &amp;&amp; element.isEnabled()</code> will return <code>true</code> but still element will <strong>not</strong> be clickable, because it is hidden/overlapped by some other element. </p>\n\n<p>In such case, <code>Exception</code> caught is: </p>\n\n<blockquote>\n  <p>org.openqa.selenium.WebDriverException: unknown error: Element is not\n  clickable at point (781, 704). Other element would receive the click:\n  <code>&lt;div class=\"footer\"&gt;...&lt;/div&gt;</code> </p>\n</blockquote>\n\n<p>Use this code instead:</p>\n\n<pre><code>WebElement  element=driver.findElement(By.xpath\"\");  \nJavascriptExecutor ex=(JavascriptExecutor)driver;\nex.executeScript(\"arguments[0].click()\", element);\n</code></pre>\n\n<p>It will work.</p>\n"},{"tags":[],"owner":{"account_id":14245876,"reputation":9,"user_id":10290970,"display_name":"Abhishek Kumar Singh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1567167495,"creation_date":1567167495,"answer_id":57726618,"question_id":38327049,"body_markdown":"    List&lt;WebElement&gt; wb=driver.findElements(By.xpath(newXpath));\r\n\t\t\tfor(WebElement we: wb){\r\n\t\t\t\tif(we.isDisplayed() &amp;&amp; we.isEnabled())\r\n\t\t\t\t{\r\n\t\t\t\t\twe.click();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}","title":"Check if element is clickable in Selenium Java","body":"<pre><code>List&lt;WebElement&gt; wb=driver.findElements(By.xpath(newXpath));\n        for(WebElement we: wb){\n            if(we.isDisplayed() &amp;&amp; we.isEnabled())\n            {\n                we.click();\n                break;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600172550,"creation_date":1583137949,"answer_id":60485028,"question_id":38327049,"body_markdown":"There are certain things you have to take care:\r\n\r\n- [WebDriverWait](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html) inconjunction with [ExpectedConditions](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html) as [elementToBeClickable()](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#elementToBeClickable-org.openqa.selenium.By-) returns the [WebElement](https://stackoverflow.com/questions/52782684/what-is-the-difference-between-webdriver-and-webelement-in-selenium/52805139#52805139) once it is _located_ and _clickable_ i.e. **visible** and **enabled**.\r\n- In this process, [WebDriverWait](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html) will ignore instances of `NotFoundException` that are encountered by default in the `until` condition.\r\n- Once the duration of the _wait_ expires on the desired element not being _located_ and _clickable_, will throw a timeout exception.\r\n- The different approach to address this issue are:\r\n  - To invoke `click()` as soon as the element is returned, you can use:\r\n \r\n\t    new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//div[@id=&#39;brandSlider&#39;]/div[1]/div/div/div/img)[50]&quot;))).click();\r\n \r\n  - To simply validate if the element is _located_ and _clickable_, wrap up the _WebDriverWait_ in a `try-catch{}` block as follows:\r\n \r\n\t\ttry {\r\n\t\t\t   new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//div[@id=&#39;brandSlider&#39;]/div[1]/div/div/div/img)[50]&quot;)));\r\n\t\t\t   System.out.println(&quot;Element is clickable&quot;);\r\n\t\t\t }\r\n\t\tcatch(TimeoutException e) {\r\n\t\t\t   System.out.println(&quot;Element isn&#39;t clickable&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n  - If _WebDriverWait_ returns the _located_ and _clickable_ element but the element is still not clickable, you need to invoke `executeScript()` method as follows:\r\n \r\n\t\tWebElement element = new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//div[@id=&#39;brandSlider&#39;]/div[1]/div/div/div/img)[50]&quot;))); \r\n\t\t((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);","title":"Check if element is clickable in Selenium Java","body":"<p>There are certain things you have to take care:</p>\n<ul>\n<li><a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"nofollow noreferrer\">WebDriverWait</a> inconjunction with <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"nofollow noreferrer\">ExpectedConditions</a> as <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#elementToBeClickable-org.openqa.selenium.By-\" rel=\"nofollow noreferrer\">elementToBeClickable()</a> returns the <a href=\"https://stackoverflow.com/questions/52782684/what-is-the-difference-between-webdriver-and-webelement-in-selenium/52805139#52805139\">WebElement</a> once it is <em>located</em> and <em>clickable</em> i.e. <strong>visible</strong> and <strong>enabled</strong>.</li>\n<li>In this process, <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"nofollow noreferrer\">WebDriverWait</a> will ignore instances of <code>NotFoundException</code> that are encountered by default in the <code>until</code> condition.</li>\n<li>Once the duration of the <em>wait</em> expires on the desired element not being <em>located</em> and <em>clickable</em>, will throw a timeout exception.</li>\n<li>The different approach to address this issue are:\n<ul>\n<li><p>To invoke <code>click()</code> as soon as the element is returned, you can use:</p>\n<pre><code>new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//div[@id='brandSlider']/div[1]/div/div/div/img)[50]&quot;))).click();\n</code></pre>\n</li>\n<li><p>To simply validate if the element is <em>located</em> and <em>clickable</em>, wrap up the <em>WebDriverWait</em> in a <code>try-catch{}</code> block as follows:</p>\n<pre><code>try {\n       new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//div[@id='brandSlider']/div[1]/div/div/div/img)[50]&quot;)));\n       System.out.println(&quot;Element is clickable&quot;);\n     }\ncatch(TimeoutException e) {\n       System.out.println(&quot;Element isn't clickable&quot;);\n    }\n</code></pre>\n</li>\n<li><p>If <em>WebDriverWait</em> returns the <em>located</em> and <em>clickable</em> element but the element is still not clickable, you need to invoke <code>executeScript()</code> method as follows:</p>\n<pre><code>WebElement element = new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//div[@id='brandSlider']/div[1]/div/div/div/img)[50]&quot;))); \n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15923665,"reputation":19,"user_id":11489886,"display_name":"afaj1c"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1598130349,"creation_date":1598126916,"answer_id":63540657,"question_id":38327049,"body_markdown":"the class attribute contains `disabled` when the element is not clickable.\r\n```lang-java\r\nWebElement webElement = driver.findElement(By.id(&quot;elementId&quot;));\r\nif(!webElement.getAttribute(&quot;class&quot;).contains(&quot;disabled&quot;)){\r\n    webElement.click();\r\n}\r\n```","title":"Check if element is clickable in Selenium Java","body":"<p>the class attribute contains <code>disabled</code> when the element is not clickable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement webElement = driver.findElement(By.id(&quot;elementId&quot;));\nif(!webElement.getAttribute(&quot;class&quot;).contains(&quot;disabled&quot;)){\n    webElement.click();\n}\n</code></pre>\n"}],"owner":{"account_id":8803596,"reputation":313,"user_id":6578986,"display_name":"Sandeep Krishnappa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244819,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":7,"score":30,"last_activity_date":1691192945,"creation_date":1468321435,"question_id":38327049,"body_markdown":"I&#39;m new to `Selenium` and need to check if element is clickable in `Selenium` `Java`, since `element.click()` passes both on `link` and `label`.\r\n \r\nI tried using the following code, but it is not working:\r\n\r\n    WebDriverWait wait = new WebDriverWait(Scenario1Test.driver, 10);\r\n    \r\n    if(wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//div[@id=&#39;brandSlider&#39;]/div[1]/div/div/div/img)[50]&quot;)))==null)","title":"Check if element is clickable in Selenium Java","body":"<p>I'm new to <code>Selenium</code> and need to check if element is clickable in <code>Selenium</code> <code>Java</code>, since <code>element.click()</code> passes both on <code>link</code> and <code>label</code>.</p>\n<p>I tried using the following code, but it is not working:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(Scenario1Test.driver, 10);\n\nif(wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//div[@id='brandSlider']/div[1]/div/div/div/img)[50]&quot;)))==null)\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","java-platform-module-system"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691185674,"post_id":76831992,"comment_id":135463088,"body_markdown":"Check the documentation https://logging.apache.org/log4j/2.x/runtime-dependencies.html which shows the module definition etc... also upgrade to most recent version instead of using older versions (https://logging.apache.org/log4j/2.x/release-notes/index.html) also I would recommend to use the bom file (https://logging.apache.org/log4j/2.x/maven-artifacts.html)","body":"Check the documentation <a href=\"https://logging.apache.org/log4j/2.x/runtime-dependencies.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/runtime-dependencies.html</a> which shows the module definition etc... also upgrade to most recent version instead of using older versions (<a href=\"https://logging.apache.org/log4j/2.x/release-notes/index.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/release-notes/index.html</a>) also I would recommend to use the bom file (<a href=\"https://logging.apache.org/log4j/2.x/maven-artifacts.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/maven-artifacts.html</a>)"},{"owner":{"account_id":21923512,"reputation":21,"user_id":16206456,"display_name":"AndreaG"},"score":0,"creation_date":1691191938,"post_id":76831992,"comment_id":135463707,"body_markdown":"I still get the same error, I suspect it&#39;s a problem with JPMS because it works if I delete `module-info.java`","body":"I still get the same error, I suspect it&#39;s a problem with JPMS because it works if I delete <code>module-info.java</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691237318,"post_id":76831992,"comment_id":135466728,"body_markdown":"If you delete `module-info.java` that means you are working with classpath and not with modules anymore... and it looks like you haven&#39;t read the docs because the module name of the `log4j-core` is `org.apache.logging.log4j.core` which is not what you have defined here... what you have defined is the module name of the `log4j-api`... you have to defined both of them...","body":"If you delete <code>module-info.java</code> that means you are working with classpath and not with modules anymore... and it looks like you haven&#39;t read the docs because the module name of the <code>log4j-core</code> is <code>org.apache.logging.log4j.core</code> which is not what you have defined here... what you have defined is the module name of the <code>log4j-api</code>... you have to defined both of them..."}],"answers":[{"tags":[],"owner":{"account_id":9008386,"reputation":83,"user_id":6714057,"display_name":"Long"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691134456,"creation_date":1691134456,"answer_id":76833848,"question_id":76831992,"body_markdown":"Log4j will not work with only core library. You can try with these dependency :\r\n```\r\n        &lt;properties&gt;\r\n             &lt;log4j.version&gt;2.13.0&lt;/log4j.version&gt;\r\n        &lt;properties&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Maven project: module not found even with correct dependencies","body":"<p>Log4j will not work with only core library. You can try with these dependency :</p>\n<pre><code>        &lt;properties&gt;\n             &lt;log4j.version&gt;2.13.0&lt;/log4j.version&gt;\n        &lt;properties&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":21923512,"reputation":21,"user_id":16206456,"display_name":"AndreaG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691192789,"creation_date":1691102545,"question_id":76831992,"body_markdown":"I&#39;m trying to build a Java module with Maven but I keep getting the same error (module not found) with every dependency when I run `mvn compile`. Neither Intellij IDEA nor VSCode give me any error before compiling.\r\n\r\nI think it&#39;s a JPMS proble since if I delete `module-info.java` it works flawlessly. \r\n\r\njava version:openjdk 20.0.2 2023-07-18\r\n\r\nIntelliJ IDEA 2023.1.4 (Community Edition)\r\n\r\nApache Maven 3.8.7\r\n\r\nI built a smaller example which represents the problem, note that I get the same error with other dependencies like jakarta.xml.bind or Docx4J.\r\n```\r\nmyapp\r\n|---pom.xml\r\n|---src/main/java\r\n      |---module-info.java\r\n      |---com/andreagenovese/myapp\r\n           |---Main.java\r\n```\r\nMain.java\r\n\r\n```java\r\npackage com.andreagenovese.myapp;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        LogManager.getLogger();\r\n    }\r\n}\r\n\r\n```\r\n\r\npom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.andreagenovese&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nmodule-info.java\r\n\r\n```java\r\nmodule com.andreagenovese.myapp {\r\n    requires org.apache.logging.log4j;\r\n    exports com.andreagenovese.myapp;\r\n}\r\n```\r\n\r\nThe error\r\n\r\n```\r\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ myapp ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 2 source files to /home/geno/Documents/Programmi/Java/myapp/target/classes\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] /home/geno/Documents/Programmi/Java/myapp/src/main/java/module-info.java:[2,32] module not found: org.apache.logging.log4j\r\n[INFO] 1 error\r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.816 s\r\n[INFO] Finished at: 2023-08-04T00:32:03+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project myapp: Compilation failure\r\n[ERROR] /home/geno/Documents/Programmi/Java/myapp/src/main/java/module-info.java:[2,32] module not found: org.apache.logging.log4j\r\n[ERROR] \r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n```\r\n","title":"Maven project: module not found even with correct dependencies","body":"<p>I'm trying to build a Java module with Maven but I keep getting the same error (module not found) with every dependency when I run <code>mvn compile</code>. Neither Intellij IDEA nor VSCode give me any error before compiling.</p>\n<p>I think it's a JPMS proble since if I delete <code>module-info.java</code> it works flawlessly.</p>\n<p>java version:openjdk 20.0.2 2023-07-18</p>\n<p>IntelliJ IDEA 2023.1.4 (Community Edition)</p>\n<p>Apache Maven 3.8.7</p>\n<p>I built a smaller example which represents the problem, note that I get the same error with other dependencies like jakarta.xml.bind or Docx4J.</p>\n<pre><code>myapp\n|---pom.xml\n|---src/main/java\n      |---module-info.java\n      |---com/andreagenovese/myapp\n           |---Main.java\n</code></pre>\n<p>Main.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.andreagenovese.myapp;\n\nimport org.apache.logging.log4j.LogManager;\n\npublic class Main {\n    public static void main(String[] args) {\n        LogManager.getLogger();\n    }\n}\n\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.andreagenovese&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n         &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>module-info.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.andreagenovese.myapp {\n    requires org.apache.logging.log4j;\n    exports com.andreagenovese.myapp;\n}\n</code></pre>\n<p>The error</p>\n<pre><code>[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ myapp ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 2 source files to /home/geno/Documents/Programmi/Java/myapp/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /home/geno/Documents/Programmi/Java/myapp/src/main/java/module-info.java:[2,32] module not found: org.apache.logging.log4j\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.816 s\n[INFO] Finished at: 2023-08-04T00:32:03+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project myapp: Compilation failure\n[ERROR] /home/geno/Documents/Programmi/Java/myapp/src/main/java/module-info.java:[2,32] module not found: org.apache.logging.log4j\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-cloud-pubsub"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1691048624,"post_id":76825416,"comment_id":135439369,"body_markdown":"Did you try to log message in other part of your code? Even if it&#39;s not decoded? The decodedData sound weird for me...","body":"Did you try to log message in other part of your code? Even if it&#39;s not decoded? The decodedData sound weird for me..."},{"owner":{"account_id":4940923,"reputation":1107,"user_id":3977629,"accept_rate":77,"display_name":"Pavanraotk"},"score":0,"creation_date":1691053063,"post_id":76825416,"comment_id":135440300,"body_markdown":"Yes, I logged them, here they are\n\nBytestring log is &lt;ByteString@a9a90b1 size=0 contents=&quot;&quot;&gt;\n\nand another is when I logged the PubsubMessage\nData is {&quot;message&quot;:{&quot;@type&quot;:&quot;type.googleapis.com/google.pubsub.v1.PubsubMessage&quot;,&quot;attributes&quot;:null,&quot;data&quot;:&quot;eyJ0ZW5hbnRJZCI6ImVhYmIzMDM3LTBhZGQtNGY0Ny1hYmJiLTg5OTZlNmVkOGNiMSJ9&quot;,&quot;messageId&quot;:&quot;8085056693470552&quot;,&quot;publishTime&quot;:&quot;2023-08-03T06:04:51.255Z&quot;}}","body":"Yes, I logged them, here they are  Bytestring log is &lt;ByteString@a9a90b1 size=0 contents=&quot;&quot;&gt;  and another is when I logged the PubsubMessage Data is {&quot;message&quot;:{&quot;@type&quot;:&quot;type.googleapis.com/google.pubsub.v1.Pu&zwnj;&#8203;bsubMessage&quot;,&quot;attrib&zwnj;&#8203;utes&quot;:null,&quot;data&quot;:&quot;e&zwnj;&#8203;yJ0ZW5hbnRJZCI6ImVhY&zwnj;&#8203;mIzMDM3LTBhZGQtNGY0N&zwnj;&#8203;y1hYmJiLTg5OTZlNmVkO&zwnj;&#8203;GNiMSJ9&quot;,&quot;messageId&quot;&zwnj;&#8203;:&quot;8085056693470552&quot;,&zwnj;&#8203;&quot;publishTime&quot;:&quot;2023-&zwnj;&#8203;08-03T06:04:51.255Z&quot;&zwnj;&#8203;}}"},{"owner":{"account_id":23157436,"reputation":2052,"user_id":17258510,"display_name":"kiran mathew"},"score":0,"creation_date":1691157707,"post_id":76825416,"comment_id":135457998,"body_markdown":"Can you try again after giving a higher acknowledgement deadline? Are the Subscriber  and Publisher on the same project?","body":"Can you try again after giving a higher acknowledgement deadline? Are the Subscriber  and Publisher on the same project?"},{"owner":{"account_id":4940923,"reputation":1107,"user_id":3977629,"accept_rate":77,"display_name":"Pavanraotk"},"score":0,"creation_date":1691192479,"post_id":76825416,"comment_id":135463765,"body_markdown":"The problem was my misunderstanding of what to deserialize, fixed it, posted code that worked as an answer.\n\nI&#39;m hoping GCP guys fix their documentation, because the above code was from documentation.","body":"The problem was my misunderstanding of what to deserialize, fixed it, posted code that worked as an answer.  I&#39;m hoping GCP guys fix their documentation, because the above code was from documentation."}],"answers":[{"tags":[],"owner":{"account_id":4940923,"reputation":1107,"user_id":3977629,"accept_rate":77,"display_name":"Pavanraotk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691192408,"creation_date":1691192408,"answer_id":76839613,"question_id":76825416,"body_markdown":"Okay, the mistake was, after deserializing into PubsubMessage, I had to get the message and from message, I had to get the data as string, which then helped me translate to my object.\r\n\r\nHere&#39;s the code change, I just used JsonELement rather than going with PubsubMessage, this proved successful.\r\n\r\n```\r\npublic void accept(CloudEvent event) throws Exception {\r\n        try {\r\n            String cloudEventData = new String(event.getData().toBytes(), StandardCharsets.UTF_8);\r\n            log.info(&quot;Cloud event data is {}&quot;, cloudEventData);\r\n\r\n            Gson gson = new Gson();\r\n\r\n            JsonElement je = gson.fromJson(cloudEventData, JsonElement.class);\r\n            String tenantEncoded = je.getAsJsonObject().get(&quot;message&quot;).getAsJsonObject().get(&quot;data&quot;).getAsString();\r\n            String tenantJson = new String(Base64.getDecoder().decode(xeroTenantEncoded), StandardCharsets.UTF_8);\r\n            log.info(&quot;Xero tenant json is {}&quot;, tenantJson);\r\n            Tenant tenant = gson.fromJson(tenantJson, Tenant.class);\r\n\r\n            log.info(&quot;Decoded message is {}&quot;, xeroTenant);\r\n            if (xeroTenant != null) {\r\n                String tenantId = tenant.getTenantId();\r\n                if (StringUtils.isNotBlank(tenantId)) {\r\n                    log.info(&quot;Tenant Id is {}&quot;, tenantId);\r\n                } else {\r\n                    log.warn(&quot;The tenant Id is empty&quot;);\r\n                }\r\n            } else {\r\n                log.warn(&quot;Xero tenant from the topic is null&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error in processing message&quot;, e);\r\n        }\r\n    }\r\n    ","title":"GCP pub/sub, my pulled message is always empty","body":"<p>Okay, the mistake was, after deserializing into PubsubMessage, I had to get the message and from message, I had to get the data as string, which then helped me translate to my object.</p>\n<p>Here's the code change, I just used JsonELement rather than going with PubsubMessage, this proved successful.</p>\n<pre><code>public void accept(CloudEvent event) throws Exception {\n        try {\n            String cloudEventData = new String(event.getData().toBytes(), StandardCharsets.UTF_8);\n            log.info(&quot;Cloud event data is {}&quot;, cloudEventData);\n\n            Gson gson = new Gson();\n\n            JsonElement je = gson.fromJson(cloudEventData, JsonElement.class);\n            String tenantEncoded = je.getAsJsonObject().get(&quot;message&quot;).getAsJsonObject().get(&quot;data&quot;).getAsString();\n            String tenantJson = new String(Base64.getDecoder().decode(xeroTenantEncoded), StandardCharsets.UTF_8);\n            log.info(&quot;Xero tenant json is {}&quot;, tenantJson);\n            Tenant tenant = gson.fromJson(tenantJson, Tenant.class);\n\n            log.info(&quot;Decoded message is {}&quot;, xeroTenant);\n            if (xeroTenant != null) {\n                String tenantId = tenant.getTenantId();\n                if (StringUtils.isNotBlank(tenantId)) {\n                    log.info(&quot;Tenant Id is {}&quot;, tenantId);\n                } else {\n                    log.warn(&quot;The tenant Id is empty&quot;);\n                }\n            } else {\n                log.warn(&quot;Xero tenant from the topic is null&quot;);\n            }\n        } catch (Exception e) {\n            log.error(&quot;Error in processing message&quot;, e);\n        }\n    }\n    \n</code></pre>\n"}],"owner":{"account_id":4940923,"reputation":1107,"user_id":3977629,"accept_rate":77,"display_name":"Pavanraotk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691192408,"creation_date":1691044290,"question_id":76825416,"body_markdown":"I have two Google Cloud functions, one that publishes and another that subscribes.\r\n\r\nThis is the code\r\n\r\n```\r\n    public void publisXeroTeannt(XeroTenant xeroTenant) {\r\n        Gson gson = new Gson();\r\n        String xeroTenantMessage = gson.toJson(xeroTenant);\r\n        ByteString byteString = ByteString.copyFrom(xeroTenantMessage, StandardCharsets.UTF_8);\r\n        PubsubMessage pubsubMessage = PubsubMessage.newBuilder()\r\n                .setData(byteString)\r\n                .build();\r\n        log.info(&quot;Data being published in string utf 8 is {}&quot;, pubsubMessage.getData().toStringUtf8());\r\n\r\n        publisher.publish(pubsubMessage);\r\n    }\r\n```\r\nWhen I publish, I can clearly see the log\r\n`The tenant Id being published is f837ea57-feae-4965-92c5-bc1b7cd6b2a0&quot;`\r\n\r\nI have a subscriber\r\n\r\n```\r\n@Override\r\n    public void accept(CloudEvent event) throws Exception {\r\n        try {\r\n            String cloudEventData = new String(event.getData().toBytes(), StandardCharsets.UTF_8);\r\n            Gson gson = new Gson();\r\n            PubsubMessage pubsubMessage = gson.fromJson(cloudEventData, PubsubMessage.class);\r\n            String encodedData = pubsubMessage.getData().toStringUtf8();\r\n            String decodedData =\r\n                    new String(Base64.getDecoder().decode(encodedData), StandardCharsets.UTF_8);\r\n            log.info(&quot;Decoded message is {}&quot;, decodedData);\r\n\r\n\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error in processing message&quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\nBut the log always says it&#39;s an empty message \r\n`INFO com.demo.SubscriberFunction - The decoded message is `\r\n\r\nWhat&#39;s wrong here?","title":"GCP pub/sub, my pulled message is always empty","body":"<p>I have two Google Cloud functions, one that publishes and another that subscribes.</p>\n<p>This is the code</p>\n<pre><code>    public void publisXeroTeannt(XeroTenant xeroTenant) {\n        Gson gson = new Gson();\n        String xeroTenantMessage = gson.toJson(xeroTenant);\n        ByteString byteString = ByteString.copyFrom(xeroTenantMessage, StandardCharsets.UTF_8);\n        PubsubMessage pubsubMessage = PubsubMessage.newBuilder()\n                .setData(byteString)\n                .build();\n        log.info(&quot;Data being published in string utf 8 is {}&quot;, pubsubMessage.getData().toStringUtf8());\n\n        publisher.publish(pubsubMessage);\n    }\n</code></pre>\n<p>When I publish, I can clearly see the log\n<code>The tenant Id being published is f837ea57-feae-4965-92c5-bc1b7cd6b2a0&quot;</code></p>\n<p>I have a subscriber</p>\n<pre><code>@Override\n    public void accept(CloudEvent event) throws Exception {\n        try {\n            String cloudEventData = new String(event.getData().toBytes(), StandardCharsets.UTF_8);\n            Gson gson = new Gson();\n            PubsubMessage pubsubMessage = gson.fromJson(cloudEventData, PubsubMessage.class);\n            String encodedData = pubsubMessage.getData().toStringUtf8();\n            String decodedData =\n                    new String(Base64.getDecoder().decode(encodedData), StandardCharsets.UTF_8);\n            log.info(&quot;Decoded message is {}&quot;, decodedData);\n\n\n        } catch (Exception e) {\n            log.error(&quot;Error in processing message&quot;, e);\n        }\n    }\n</code></pre>\n<p>But the log always says it's an empty message\n<code>INFO com.demo.SubscriberFunction - The decoded message is </code></p>\n<p>What's wrong here?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1650895405,"creation_date":1451480789,"answer_id":34530160,"question_id":34515328,"body_markdown":"For Chromedriver try out with:\r\n\r\n    String downloadFilepath = &quot;/path/to/download&quot;;\r\n    HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\r\n    chromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n    chromePrefs.put(&quot;download.default_directory&quot;, downloadFilepath);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n    DesiredCapabilities cap = DesiredCapabilities.chrome();\r\n    cap.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\r\n    cap.setCapability(ChromeOptions.CAPABILITY, options);\r\n    WebDriver driver = new ChromeDriver(cap);\r\n\r\nNote:- Use `File.separator` to handle slashes, it will put syntax as per os it is executing the code.\r\nIn windows you need to use \\\\\\ for path while if you are using linux or mac then use //\r\n\r\nHope this helps. :)","title":"How to set default download directory in selenium Chrome Capabilities?","body":"<p>For Chromedriver try out with:</p>\n<pre><code>String downloadFilepath = &quot;/path/to/download&quot;;\nHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\nchromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\nchromePrefs.put(&quot;download.default_directory&quot;, downloadFilepath);\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\nDesiredCapabilities cap = DesiredCapabilities.chrome();\ncap.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\ncap.setCapability(ChromeOptions.CAPABILITY, options);\nWebDriver driver = new ChromeDriver(cap);\n</code></pre>\n<p>Note:- Use <code>File.separator</code> to handle slashes, it will put syntax as per os it is executing the code.\nIn windows you need to use \\\\ for path while if you are using linux or mac then use //</p>\n<p>Hope this helps. :)</p>\n"},{"tags":[],"owner":{"account_id":4265760,"reputation":395,"user_id":3488929,"display_name":"Darshan Shah"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1614022653,"creation_date":1503328071,"answer_id":45800488,"question_id":34515328,"body_markdown":"The answer which helped me to resolve this issue on Windows: (https://bugs.chromium.org/p/chromedriver/issues/detail?id=783).\r\n    \r\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    prefs.put(&quot;download.default_directory&quot;,  System.getProperty(&quot;user.dir&quot;)+ File.separator + &quot;externalFiles&quot; + File.separator + &quot;downloadFiles&quot;);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    ChromeDriver driver = new ChromeDriver(options);\r\n\r\n\r\n  [1]: https://bugs.chromium.org/p/chromedriver/issues/detail?id=783","title":"How to set default download directory in selenium Chrome Capabilities?","body":"<p>The answer which helped me to resolve this issue on Windows: (<a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=783\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromedriver/issues/detail?id=783</a>).</p>\n<pre><code>Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nprefs.put(&quot;download.default_directory&quot;,  System.getProperty(&quot;user.dir&quot;)+ File.separator + &quot;externalFiles&quot; + File.separator + &quot;downloadFiles&quot;);\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\nChromeDriver driver = new ChromeDriver(options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13663575,"reputation":1059,"user_id":9857994,"display_name":"AutomatedOwl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527966297,"creation_date":1527966297,"answer_id":50660243,"question_id":34515328,"body_markdown":"To make it more clean and easy, I developed a [library][1] which lets you generate a ChromeOptions object which contains your download folder in one line. For example, to define &quot;/tmp/downloads&quot;, use:\r\n\r\n    private SeleniumDownloadKPI seleniumDownloadKPI;\r\n\r\n    @BeforeEach\r\n    void setUpTest() {\r\n\r\n        // New instance of SeleniumDownloadKPI with given download folder.\r\n        seleniumDownloadKPI =\r\n             new SeleniumDownloadKPI(&quot;/tmp/downloads&quot;);\r\n        ChromeOptions chromeOptions =\r\n                seleniumDownloadKPI.generateDownloadFolderCapability();\r\n        driver = new ChromeDriver(chromeOptions);\r\n\r\n\r\n  [1]: https://github.com/AutomatedOwl/selenium-download-kpi\r\n\r\nThe [library][1] also contains methods which allow to receive download KPI and perform assertion.","title":"How to set default download directory in selenium Chrome Capabilities?","body":"<p>To make it more clean and easy, I developed a <a href=\"https://github.com/AutomatedOwl/selenium-download-kpi\" rel=\"nofollow noreferrer\">library</a> which lets you generate a ChromeOptions object which contains your download folder in one line. For example, to define \"/tmp/downloads\", use:</p>\n\n<pre><code>private SeleniumDownloadKPI seleniumDownloadKPI;\n\n@BeforeEach\nvoid setUpTest() {\n\n    // New instance of SeleniumDownloadKPI with given download folder.\n    seleniumDownloadKPI =\n         new SeleniumDownloadKPI(\"/tmp/downloads\");\n    ChromeOptions chromeOptions =\n            seleniumDownloadKPI.generateDownloadFolderCapability();\n    driver = new ChromeDriver(chromeOptions);\n</code></pre>\n\n<p>The <a href=\"https://github.com/AutomatedOwl/selenium-download-kpi\" rel=\"nofollow noreferrer\">library</a> also contains methods which allow to receive download KPI and perform assertion.</p>\n"},{"tags":[],"owner":{"account_id":5312458,"reputation":347,"user_id":4238275,"display_name":"Bachan Joseph"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534943097,"creation_date":1534943097,"answer_id":51967585,"question_id":34515328,"body_markdown":"For Chrome driver, the below code is worked for me \r\n\r\n    String downloadFilepath = &quot;/path/to/download&quot;;\r\n    HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\r\n    chromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n    chromePrefs.put(&quot;download.default_directory&quot;, downloadFilepath);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n    WebDriver driver = new ChromeDriver(options);\r\n\r\n","title":"How to set default download directory in selenium Chrome Capabilities?","body":"<p>For Chrome driver, the below code is worked for me </p>\n\n<pre><code>String downloadFilepath = \"/path/to/download\";\nHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\nchromePrefs.put(\"profile.default_content_settings.popups\", 0);\nchromePrefs.put(\"download.default_directory\", downloadFilepath);\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(\"prefs\", chromePrefs);\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1068875,"reputation":5398,"user_id":1068629,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1691192323,"creation_date":1536711205,"answer_id":52285731,"question_id":34515328,"body_markdown":"For Python users who see this page -- here&#39;s how I set the download directory in Python Selenium (this is just the Python version of Shubham&#39;s accepted answer):\r\n\r\n&lt;!-- language: py --&gt;\r\n    def newChromeBrowser(headless=True, downloadPath=None):\r\n        &quot;&quot;&quot; Helper function that creates a new Selenium browser &quot;&quot;&quot;\r\n        options = webdriver.ChromeOptions()\r\n        if headless:\r\n            options.add_argument(&#39;headless&#39;)\r\n        if downloadPath is not None:\r\n            prefs = {}\r\n            os.makedirs(downloadPath)\r\n            prefs[&quot;profile.default_content_settings.popups&quot;]=0\r\n            prefs[&quot;download.default_directory&quot;]=downloadPath\r\n            options.add_experimental_option(&quot;prefs&quot;, prefs)\r\n        browser = webdriver.Chrome(options=options, executable_path=CHROMEDRIVER_PATH)\r\n        return browser\r\n\r\n","title":"How to set default download directory in selenium Chrome Capabilities?","body":"<p>For Python users who see this page -- here's how I set the download directory in Python Selenium (this is just the Python version of Shubham's accepted answer):</p>\n<pre class=\"lang-py prettyprint-override\"><code>def newChromeBrowser(headless=True, downloadPath=None):\n    &quot;&quot;&quot; Helper function that creates a new Selenium browser &quot;&quot;&quot;\n    options = webdriver.ChromeOptions()\n    if headless:\n        options.add_argument('headless')\n    if downloadPath is not None:\n        prefs = {}\n        os.makedirs(downloadPath)\n        prefs[&quot;profile.default_content_settings.popups&quot;]=0\n        prefs[&quot;download.default_directory&quot;]=downloadPath\n        options.add_experimental_option(&quot;prefs&quot;, prefs)\n    browser = webdriver.Chrome(options=options, executable_path=CHROMEDRIVER_PATH)\n    return browser\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1691192352,"creation_date":1596951581,"answer_id":63322868,"question_id":34515328,"body_markdown":"# 2020 Update:\r\n\r\nChrome: v84\r\n\r\nChromeDriver: v83\r\n\r\nJDK: OpenJDK 11 (LTS)\r\n\r\nUse [Paths](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html) class for platform-independent file separators.\r\n\r\n```\r\n@Test\r\npublic void doFileDownload() throws Throwable {\r\n    // Since Java 7: Relative path from project root dir\r\n    // Put in target dir to avoid committing downloaded files\r\n    var downloadDir = Paths.get(&quot;target&quot;).toAbsolutePath().toString();\r\n\r\n    var prefs = new HashMap&lt;String, Object&gt;();\r\n    prefs.put(&quot;download.default_directory&quot;, downloadDir); // Bypass default download directory in Chrome\r\n    prefs.put(&quot;safebrowsing.enabled&quot;, &quot;false&quot;); // Bypass warning message, keep file anyway (for .exe, .jar, etc.)\r\n    var opts = new ChromeOptions();\r\n    opts.setHeadless(true);\r\n    opts.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\r\n    var driver = new ChromeDriver(opts); // ChromeDriver binary is added to PATH env var\r\n    driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\r\n    driver.manage().window().maximize();\r\n    driver.get(&quot;https://the-internet.herokuapp.com/download&quot;);\r\n\r\n    var downloadLink = driver.findElement(By.cssSelector(&quot;a[href*=&#39;some-file.txt&#39;]&quot;));\r\n    var downloadHref = downloadLink.getAttribute(&quot;href&quot;).replace(&quot;:&quot;, &quot;&quot;);\r\n    var downloadFileName = Paths.get(downloadHref).getFileName().toString();\r\n    downloadLink.click();\r\n\r\n    // Wait download to finish for 60s\r\n    var downloadFilePath = Paths.get(downloadDir, downloadFileName);\r\n    new WebDriverWait(driver, 60).until(d -&gt; downloadFilePath.toFile().exists());\r\n\r\n    // Since Java 11: Read content of downloaded file\r\n    var content = Files.readString(downloadFilePath);\r\n\r\n    // Do tests with string content...\r\n    log.info(&quot;Content={}&quot;, content);\r\n\r\n    driver.quit();\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n[![output][1]][1]\r\n\r\nDoing `mvn clean` prior to any run also takes care of having to override existing files.\r\n\r\n`pom.xml:`\r\n\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;!-- Remove encoding warnings --&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n        &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;release&gt;11&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NT043.png","title":"How to set default download directory in selenium Chrome Capabilities?","body":"<h1>2020 Update:</h1>\n<p>Chrome: v84</p>\n<p>ChromeDriver: v83</p>\n<p>JDK: OpenJDK 11 (LTS)</p>\n<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html\" rel=\"nofollow noreferrer\">Paths</a> class for platform-independent file separators.</p>\n<pre><code>@Test\npublic void doFileDownload() throws Throwable {\n    // Since Java 7: Relative path from project root dir\n    // Put in target dir to avoid committing downloaded files\n    var downloadDir = Paths.get(&quot;target&quot;).toAbsolutePath().toString();\n\n    var prefs = new HashMap&lt;String, Object&gt;();\n    prefs.put(&quot;download.default_directory&quot;, downloadDir); // Bypass default download directory in Chrome\n    prefs.put(&quot;safebrowsing.enabled&quot;, &quot;false&quot;); // Bypass warning message, keep file anyway (for .exe, .jar, etc.)\n    var opts = new ChromeOptions();\n    opts.setHeadless(true);\n    opts.setExperimentalOption(&quot;prefs&quot;, prefs);\n\n    var driver = new ChromeDriver(opts); // ChromeDriver binary is added to PATH env var\n    driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\n    driver.manage().window().maximize();\n    driver.get(&quot;https://the-internet.herokuapp.com/download&quot;);\n\n    var downloadLink = driver.findElement(By.cssSelector(&quot;a[href*='some-file.txt']&quot;));\n    var downloadHref = downloadLink.getAttribute(&quot;href&quot;).replace(&quot;:&quot;, &quot;&quot;);\n    var downloadFileName = Paths.get(downloadHref).getFileName().toString();\n    downloadLink.click();\n\n    // Wait download to finish for 60s\n    var downloadFilePath = Paths.get(downloadDir, downloadFileName);\n    new WebDriverWait(driver, 60).until(d -&gt; downloadFilePath.toFile().exists());\n\n    // Since Java 11: Read content of downloaded file\n    var content = Files.readString(downloadFilePath);\n\n    // Do tests with string content...\n    log.info(&quot;Content={}&quot;, content);\n\n    driver.quit();\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/NT043.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NT043.png\" alt=\"output\" /></a></p>\n<p>Doing <code>mvn clean</code> prior to any run also takes care of having to override existing files.</p>\n<p><code>pom.xml:</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;!-- Remove encoding warnings --&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.6.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;11&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11924446,"reputation":148,"user_id":8726139,"display_name":"Bastien Gallienne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691192372,"creation_date":1661349760,"answer_id":73474554,"question_id":34515328,"body_markdown":"With selenium 4 and Chrome\r\n\r\n(Obi Wan Kenobi&#39;s &quot;one in a million&quot;):\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.setCapability(&quot;download.default_directory&quot;, &quot;C:\\\\Users\\\\me\\\\Downloads&quot;);\r\n    driver =new ChromeDriver(chromeOptions);\r\n    \r\n(failed to work on windows 10 selenium 4, so got this alternate one from this very same thread )\r\n\r\nOR \r\n\r\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    prefs.put(&quot;C:\\\\Users\\\\me\\\\Downloads&quot;);\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.setExperimentalOption(&quot;prefs&quot;, prefs);","title":"How to set default download directory in selenium Chrome Capabilities?","body":"<p>With selenium 4 and Chrome</p>\n<p>(Obi Wan Kenobi's &quot;one in a million&quot;):</p>\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.setCapability(&quot;download.default_directory&quot;, &quot;C:\\\\Users\\\\me\\\\Downloads&quot;);\ndriver =new ChromeDriver(chromeOptions);\n</code></pre>\n<p>(failed to work on windows 10 selenium 4, so got this alternate one from this very same thread )</p>\n<p>OR</p>\n<pre><code>Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nprefs.put(&quot;C:\\\\Users\\\\me\\\\Downloads&quot;);\nChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.setExperimentalOption(&quot;prefs&quot;, prefs);\n</code></pre>\n"}],"owner":{"account_id":4385762,"reputation":597,"user_id":3575999,"accept_rate":83,"display_name":"vini007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134735,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":34530160,"answer_count":7,"score":36,"last_activity_date":1691192372,"creation_date":1451407595,"question_id":34515328,"body_markdown":"Please find the below code with the chrome capabilities. In fact the browser is not downloading the file to the specified path.\t\r\n\r\n\r\n    private static DesiredCapabilities getChromeCapabilities() throws Exception {\r\n\t\t\r\n\t\tString chromePath = BrowserUtil.class.getResource(&quot;/Browserdrivers/chromedriver.exe&quot;).getPath();\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, chromePath);\r\n\t\tString downloadFilepath = &quot;C:\\\\TestDownloads&quot;;\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\tHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\r\n\t\tchromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n\t\tchromePrefs.put(&quot;download.default_directory&quot;, downloadFilepath);\r\n\t\toptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n\t\toptions.addArguments(&quot;--test-type&quot;);\r\n\t\toptions.addArguments(&quot;start-maximized&quot;, &quot;disable-popup-blocking&quot;);\r\n\t\t\r\n\t\tDesiredCapabilities chromeCapabilities = DesiredCapabilities.chrome();\r\n\t\tsetProxy(chromeCapabilities);\r\n\t\tchromeCapabilities.setPlatform(Platform.WINDOWS);\r\n\t\tchromeCapabilities.setCapability(&quot;name&quot;, MDC.get(&quot;testname&quot;));\r\n\t\tchromeCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n\t\treturn chromeCapabilities;\r\n\t}","title":"How to set default download directory in selenium Chrome Capabilities?","body":"<p>Please find the below code with the chrome capabilities. In fact the browser is not downloading the file to the specified path. </p>\n\n<pre><code>private static DesiredCapabilities getChromeCapabilities() throws Exception {\n\n    String chromePath = BrowserUtil.class.getResource(\"/Browserdrivers/chromedriver.exe\").getPath();\n    System.setProperty(\"webdriver.chrome.driver\", chromePath);\n    String downloadFilepath = \"C:\\\\TestDownloads\";\n    ChromeOptions options = new ChromeOptions();\n    HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\n    chromePrefs.put(\"profile.default_content_settings.popups\", 0);\n    chromePrefs.put(\"download.default_directory\", downloadFilepath);\n    options.setExperimentalOption(\"prefs\", chromePrefs);\n    options.addArguments(\"--test-type\");\n    options.addArguments(\"start-maximized\", \"disable-popup-blocking\");\n\n    DesiredCapabilities chromeCapabilities = DesiredCapabilities.chrome();\n    setProxy(chromeCapabilities);\n    chromeCapabilities.setPlatform(Platform.WINDOWS);\n    chromeCapabilities.setCapability(\"name\", MDC.get(\"testname\"));\n    chromeCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\n    return chromeCapabilities;\n}\n</code></pre>\n"},{"tags":["java","unit-testing","aspectj","spring-aop","mdc"],"owner":{"account_id":20895260,"reputation":25,"user_id":15349689,"display_name":"Fabian L&#252;dicke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691192378,"answer_count":0,"score":0,"last_activity_date":1691192336,"creation_date":1691155703,"question_id":76836388,"body_markdown":"I am trying to implement a Custommade annotation that contains a value as a parameter and when the annotation is used, this value should be processed with a MDC.put.\r\n\r\nSo when I use a method with the annotation @Usecase(&quot;TestUsecase&quot;), MDC.get(&quot;usecase&quot;) should actually output &quot;TestUsecase&quot;, but currently I only get null. When debugging I noticed that the method in my UsecaseAspect is never called.\r\n\r\nI have already tried several things:\r\n- in my TestApplication I have already set @EnableAspectJAutoProxy.\r\n- In my POM I have set both the dependency for aspectjweaver and spring-boot-starter-aop\r\n\r\nHere some code:\r\n```\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface Usecase {\r\n    String value();\r\n```\r\n```\r\n@Aspect\r\n@Component\r\npublic class UsecaseAspect {\r\n\r\n    @After(&quot;@annotation(usecase)&quot;)\r\n    public void setLoggingContext(@NotNull Usecase usecase) {\r\n        MDC.put(&quot;usecase&quot;, usecase.value());\r\n\r\n    }\r\n}\r\n``` \r\n```\r\n@SpringBootTest(classes = TestApplication.class)\r\n@ActiveProfiles({&quot;test&quot;, &quot;tests&quot;})\r\n@EnableAspectJAutoProxy\r\nclass UsecaseTest {\r\n\r\n    @Usecase(&quot;TestUsecase&quot;)\r\n    public void testUsecaseMethod() {\r\n    }\r\n\r\n    @Test\r\n    void testUsecaseAnnotation() {\r\n        testUsecaseMethod();\r\n        assertEquals(&quot;TestUsecase&quot;, MDC.get(&quot;usecase&quot;));\r\n    }\r\n}\r\n```\r\n\r\n","title":"Custom AnnotationAspect doesnt get called","body":"<p>I am trying to implement a Custommade annotation that contains a value as a parameter and when the annotation is used, this value should be processed with a MDC.put.</p>\n<p>So when I use a method with the annotation @Usecase(&quot;TestUsecase&quot;), MDC.get(&quot;usecase&quot;) should actually output &quot;TestUsecase&quot;, but currently I only get null. When debugging I noticed that the method in my UsecaseAspect is never called.</p>\n<p>I have already tried several things:</p>\n<ul>\n<li>in my TestApplication I have already set @EnableAspectJAutoProxy.</li>\n<li>In my POM I have set both the dependency for aspectjweaver and spring-boot-starter-aop</li>\n</ul>\n<p>Here some code:</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Usecase {\n    String value();\n</code></pre>\n<pre><code>@Aspect\n@Component\npublic class UsecaseAspect {\n\n    @After(&quot;@annotation(usecase)&quot;)\n    public void setLoggingContext(@NotNull Usecase usecase) {\n        MDC.put(&quot;usecase&quot;, usecase.value());\n\n    }\n}\n</code></pre>\n<pre><code>@SpringBootTest(classes = TestApplication.class)\n@ActiveProfiles({&quot;test&quot;, &quot;tests&quot;})\n@EnableAspectJAutoProxy\nclass UsecaseTest {\n\n    @Usecase(&quot;TestUsecase&quot;)\n    public void testUsecaseMethod() {\n    }\n\n    @Test\n    void testUsecaseAnnotation() {\n        testUsecaseMethod();\n        assertEquals(&quot;TestUsecase&quot;, MDC.get(&quot;usecase&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","routes","google-api","geolocation"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1691255079,"post_id":76839595,"comment_id":135468567,"body_markdown":"It&#39;s not clear what you mean by &quot;I want to search it&quot; - I can only guess a) you want to create a rectangular bounds using your map marker positions or b) you want to find the nearest marker to the selected place or something else entirely?  And why is your bias a single point?","body":"It&#39;s not clear what you mean by &quot;I want to search it&quot; - I can only guess a) you want to create a rectangular bounds using your map marker positions or b) you want to find the nearest marker to the selected place or something else entirely?  And why is your bias a single point?"},{"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"score":0,"creation_date":1691424024,"post_id":76839595,"comment_id":135486527,"body_markdown":"Sorry for the confusing question,  I have a autocomplete fragment where I can search for place in the map and I also put multiple markers in the map, what I wanted to do is to search those markers using the search bar, hope this clears up my question. Thankyouuu!!","body":"Sorry for the confusing question,  I have a autocomplete fragment where I can search for place in the map and I also put multiple markers in the map, what I wanted to do is to search those markers using the search bar, hope this clears up my question. Thankyouuu!!"}],"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691191828,"creation_date":1691191828,"question_id":76839595,"body_markdown":"I have markers for terminals and I want to search it using the places autocomplete, tried different methods but still cant figure it out, do I need geolocation for it? or I can use other methods for this? I would greatly appreciate any insights or suggestions you might have. Thank you in advance for your help!\r\n\r\n\r\nCodes for autocomplete \r\n\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_map);\r\n\r\n        String apiKey = getString(R.string.places_api_key);\r\n\r\n        if (!Places.isInitialized()) {\r\n            Places.initialize(getApplicationContext(), apiKey);\r\n        }\r\n\r\n        PlacesClient placesClient = Places.createClient(this);\r\n\r\n\r\n\r\n        // Initialize the AutocompleteSupportFragment.\r\n        AutocompleteSupportFragment autocompleteFragment = (AutocompleteSupportFragment)\r\n                getSupportFragmentManager().findFragmentById(R.id.autocomplete_fragment);\r\n\r\n        autocompleteFragment.setLocationBias(RectangularBounds.newInstance(\r\n                new LatLng(15.147181, 120.584733),\r\n                new LatLng(15.147181, 120.584733)\r\n        ));\r\n\r\n        //Select Country\r\n\r\n        autocompleteFragment.setCountries(&quot;PH&quot;);\r\n\r\n        // Specify the types of place data to return.\r\n        autocompleteFragment.setPlaceFields(Arrays.asList(Place.Field.ID, Place.Field.NAME, Place.Field.LAT_LNG));\r\n\r\n        // Set up a PlaceSelectionListener to handle the response.\r\n        autocompleteFragment.setOnPlaceSelectedListener(new PlaceSelectionListener() {\r\n            @Override\r\n            public void onPlaceSelected(@NonNull Place place) {\r\n                // TODO: Get info about the selected place.\r\n                Log.i(TAG, &quot;Place: &quot; + place.getName() + &quot;, &quot; + place.getId());\r\n\r\n                // Get the LatLng of the selected place\r\n                LatLng selectedPlaceLatLng = place.getLatLng();\r\n\r\n                // Define a new CameraPosition with desired zoom level\r\n                CameraPosition cameraPosition = new CameraPosition.Builder()\r\n                        .target(selectedPlaceLatLng) // Sets the center of the map to the selected place&#39;s LatLng\r\n                        .zoom(15) // Desired zoom level\r\n                        .build();\r\n\r\n                // Move the camera to the new position\r\n                mMap.animateCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\r\n\r\n            }\r\n\r\n\r\n            @Override\r\n            public void onError(@NonNull Status status) {\r\n                // TODO: Handle the error.\r\n                Log.i(TAG, &quot;An error occurred: &quot; + status);\r\n            }\r\n        });\r\n\r\n```\r\n\r\nCodes on my markers\r\n\r\n```\r\n // Add some markers to the map, and add a data object to each marker.\r\n        markerMarisolTerm = mMap.addMarker(new MarkerOptions()\r\n                .position(MarisolTerminal)\r\n                .title(&quot;Marisol Terminal&quot;)\r\n                 .flat(true)\r\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.marisol)));\r\n        markerMarisolTerm.setTag(0);\r\n\r\n        markerVillaTerminal = mMap.addMarker(new MarkerOptions()\r\n                .position(VillaTerminal)\r\n                .title(&quot;Villa Terminal&quot;)\r\n                 .flat(true)\r\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.villa)));\r\n        markerVillaTerminal.setTag(0);\r\n\r\n        markerCheckpointTerminal = mMap.addMarker(new MarkerOptions()\r\n                .position(CheckpointTerminal)\r\n                .title(&quot;Checkpoint Terminal&quot;)\r\n                .flat(true)\r\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.checkpoint)));\r\n        markerCheckpointTerminal.setTag(0);\r\n```","title":"Search map marker using places autocomplete Google maps","body":"<p>I have markers for terminals and I want to search it using the places autocomplete, tried different methods but still cant figure it out, do I need geolocation for it? or I can use other methods for this? I would greatly appreciate any insights or suggestions you might have. Thank you in advance for your help!</p>\n<p>Codes for autocomplete</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_map);\n\n        String apiKey = getString(R.string.places_api_key);\n\n        if (!Places.isInitialized()) {\n            Places.initialize(getApplicationContext(), apiKey);\n        }\n\n        PlacesClient placesClient = Places.createClient(this);\n\n\n\n        // Initialize the AutocompleteSupportFragment.\n        AutocompleteSupportFragment autocompleteFragment = (AutocompleteSupportFragment)\n                getSupportFragmentManager().findFragmentById(R.id.autocomplete_fragment);\n\n        autocompleteFragment.setLocationBias(RectangularBounds.newInstance(\n                new LatLng(15.147181, 120.584733),\n                new LatLng(15.147181, 120.584733)\n        ));\n\n        //Select Country\n\n        autocompleteFragment.setCountries(&quot;PH&quot;);\n\n        // Specify the types of place data to return.\n        autocompleteFragment.setPlaceFields(Arrays.asList(Place.Field.ID, Place.Field.NAME, Place.Field.LAT_LNG));\n\n        // Set up a PlaceSelectionListener to handle the response.\n        autocompleteFragment.setOnPlaceSelectedListener(new PlaceSelectionListener() {\n            @Override\n            public void onPlaceSelected(@NonNull Place place) {\n                // TODO: Get info about the selected place.\n                Log.i(TAG, &quot;Place: &quot; + place.getName() + &quot;, &quot; + place.getId());\n\n                // Get the LatLng of the selected place\n                LatLng selectedPlaceLatLng = place.getLatLng();\n\n                // Define a new CameraPosition with desired zoom level\n                CameraPosition cameraPosition = new CameraPosition.Builder()\n                        .target(selectedPlaceLatLng) // Sets the center of the map to the selected place's LatLng\n                        .zoom(15) // Desired zoom level\n                        .build();\n\n                // Move the camera to the new position\n                mMap.animateCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\n\n            }\n\n\n            @Override\n            public void onError(@NonNull Status status) {\n                // TODO: Handle the error.\n                Log.i(TAG, &quot;An error occurred: &quot; + status);\n            }\n        });\n\n</code></pre>\n<p>Codes on my markers</p>\n<pre><code> // Add some markers to the map, and add a data object to each marker.\n        markerMarisolTerm = mMap.addMarker(new MarkerOptions()\n                .position(MarisolTerminal)\n                .title(&quot;Marisol Terminal&quot;)\n                 .flat(true)\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.marisol)));\n        markerMarisolTerm.setTag(0);\n\n        markerVillaTerminal = mMap.addMarker(new MarkerOptions()\n                .position(VillaTerminal)\n                .title(&quot;Villa Terminal&quot;)\n                 .flat(true)\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.villa)));\n        markerVillaTerminal.setTag(0);\n\n        markerCheckpointTerminal = mMap.addMarker(new MarkerOptions()\n                .position(CheckpointTerminal)\n                .title(&quot;Checkpoint Terminal&quot;)\n                .flat(true)\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.checkpoint)));\n        markerCheckpointTerminal.setTag(0);\n</code></pre>\n"},{"tags":["java","jenkins","continuous-integration","virtual-server"],"answers":[{"tags":[],"owner":{"account_id":49390,"reputation":17333,"user_id":147037,"display_name":"gaige"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1459962702,"creation_date":1363612041,"answer_id":15477617,"question_id":15477290,"body_markdown":"Adding a slave in Jenkins is pretty simple.   Basically, if you are using a unix slave, you need SSH access to the machine. You also need to have the *Jenkins SSH Slaves plugin* installed.  Once you have that, go to the **Manage Jenkins** option on your *Master* and choose **Manage Nodes**.\r\n\r\nThe steps are then:\r\n\r\n1. Click **New Node**\r\n2. Select **Dumb Slave** and give it a name (symbolic, doesn&#39;t need to be the domain name, that comes later)\r\n3. Click OK and proceed to the configuration page\r\n4. Fill in the **# of executors** with the number of simultaneous processes you want to run on that node (usually not more than the number of allocated CPU cores)\r\n5. Fill in the **Remote FS Root** with the full path to where you want Jenkins to store its working files\r\n6. Optionally add **Labels** if you are using those in your system (not necessary in many cases, but your Projects may require nodes have certain labels to be in the pool of executors for specific jobs)\r\n7. Select **Launch slave agents on Unix machines via SSH** under **Launch Method** (if not already selected)\r\n7. Put the fully-qualified domain name in the **Host** field which appears under the *Launch Method* line\r\n\r\nThere are some assumptions about the tools that are installed on the slave.   If you have specialized tools, you may need to install them separately (or look at plugins that handle moving tools over immediately prior to execution).   However, if your nodes are built off of a template which has all of your build tools on them (java, ant, etc in your case probably), then this will be all you need to do to get things going.\r\n","title":"How to set up new Jenkins slave","body":"<p>Adding a slave in Jenkins is pretty simple.   Basically, if you are using a unix slave, you need SSH access to the machine. You also need to have the <em>Jenkins SSH Slaves plugin</em> installed.  Once you have that, go to the <strong>Manage Jenkins</strong> option on your <em>Master</em> and choose <strong>Manage Nodes</strong>.</p>\n\n<p>The steps are then:</p>\n\n<ol>\n<li>Click <strong>New Node</strong></li>\n<li>Select <strong>Dumb Slave</strong> and give it a name (symbolic, doesn't need to be the domain name, that comes later)</li>\n<li>Click OK and proceed to the configuration page</li>\n<li>Fill in the <strong># of executors</strong> with the number of simultaneous processes you want to run on that node (usually not more than the number of allocated CPU cores)</li>\n<li>Fill in the <strong>Remote FS Root</strong> with the full path to where you want Jenkins to store its working files</li>\n<li>Optionally add <strong>Labels</strong> if you are using those in your system (not necessary in many cases, but your Projects may require nodes have certain labels to be in the pool of executors for specific jobs)</li>\n<li>Select <strong>Launch slave agents on Unix machines via SSH</strong> under <strong>Launch Method</strong> (if not already selected)</li>\n<li>Put the fully-qualified domain name in the <strong>Host</strong> field which appears under the <em>Launch Method</em> line</li>\n</ol>\n\n<p>There are some assumptions about the tools that are installed on the slave.   If you have specialized tools, you may need to install them separately (or look at plugins that handle moving tools over immediately prior to execution).   However, if your nodes are built off of a template which has all of your build tools on them (java, ant, etc in your case probably), then this will be all you need to do to get things going.</p>\n"},{"tags":[],"owner":{"account_id":203960,"reputation":1256,"user_id":451904,"accept_rate":0,"display_name":"ChrisAdkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504562615,"creation_date":1504562615,"answer_id":46044509,"question_id":15477290,"body_markdown":"I encountered the very same problem you did, in my case this was because I had not installed an ssh server on Ubuntu.","title":"How to set up new Jenkins slave","body":"<p>I encountered the very same problem you did, in my case this was because I had not installed an ssh server on Ubuntu.</p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85589,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":15477617,"answer_count":2,"score":23,"last_activity_date":1691191657,"creation_date":1363611097,"question_id":15477290,"body_markdown":"I recently inherited a Jenkins-driven Java project where the primary developer just upped and quit. He had deployed the Jenkins WAR to a Tomcat instance on a virtual server, and that is what was considered to be the &quot;build server&quot;.\r\n\r\nThis build server had a slave configured for building and deploying to `myserver.example.com`, another virtual server. Over the weekend, the systems staff retired the physical server that the `myserver.example.com` virtual lived on, producing the following exception for any Jenkins job configured to deploy to that slave:\r\n\r\n![enter image description here][1]\r\n\r\nWhen I click on the &quot;**See log for more details**&quot; link I see the following console output:\r\n\r\n    [03/18/13 08:13:31] [SSH] Opening SSH connection to myserver.example.com:22.\r\n    java.io.IOException: There was a problem while connecting to myserver.example.com:22\r\n        at com.trilead.ssh2.Connection.connect(Connection.java:755)\r\n        at com.trilead.ssh2.Connection.connect(Connection.java:546)\r\n        at hudson.plugins.sshslaves.SSHLauncher.openConnection(SSHLauncher.java:650)\r\n        at hudson.plugins.sshslaves.SSHLauncher.launch(SSHLauncher.java:283)\r\n        at hudson.slaves.SlaveComputer$1.call(SlaveComputer.java:200)\r\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:662)\r\n    Caused by: java.net.NoRouteToHostException: No route to host\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)\r\n        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)\r\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)\r\n        at java.net.Socket.connect(Socket.java:529)\r\n        at com.trilead.ssh2.transport.TransportManager.establishConnection(TransportManager.java:342)\r\n        at com.trilead.ssh2.transport.TransportManager.initialize(TransportManager.java:450)\r\n        at com.trilead.ssh2.Connection.connect(Connection.java:699)\r\n    ... 9 more\r\n    [03/18/13 08:13:34] [SSH] Connection closed.\r\n\r\nThis makes sense, since the slave (the `myserver.example.com` virtual) is offline. However, having no real previous experience with Jenkins, I&#39;m not sure of what the proper steps are for configuring the Jenkins master to build/deploy these jobs to a new slave, and how to set up the new slave. For instance, do I need to install anything on the new slave, or do any kind of setup/config? Thanks in advance!\r\n  [1]: http://i.stack.imgur.com/wr1JS.png","title":"How to set up new Jenkins slave","body":"<p>I recently inherited a Jenkins-driven Java project where the primary developer just upped and quit. He had deployed the Jenkins WAR to a Tomcat instance on a virtual server, and that is what was considered to be the \"build server\".</p>\n\n<p>This build server had a slave configured for building and deploying to <code>myserver.example.com</code>, another virtual server. Over the weekend, the systems staff retired the physical server that the <code>myserver.example.com</code> virtual lived on, producing the following exception for any Jenkins job configured to deploy to that slave:</p>\n\n<p><img src=\"https://i.stack.imgur.com/wr1JS.png\" alt=\"enter image description here\"></p>\n\n<p>When I click on the \"<strong>See log for more details</strong>\" link I see the following console output:</p>\n\n<pre><code>[03/18/13 08:13:31] [SSH] Opening SSH connection to myserver.example.com:22.\njava.io.IOException: There was a problem while connecting to myserver.example.com:22\n    at com.trilead.ssh2.Connection.connect(Connection.java:755)\n    at com.trilead.ssh2.Connection.connect(Connection.java:546)\n    at hudson.plugins.sshslaves.SSHLauncher.openConnection(SSHLauncher.java:650)\n    at hudson.plugins.sshslaves.SSHLauncher.launch(SSHLauncher.java:283)\n    at hudson.slaves.SlaveComputer$1.call(SlaveComputer.java:200)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: java.net.NoRouteToHostException: No route to host\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)\n    at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)\n    at java.net.Socket.connect(Socket.java:529)\n    at com.trilead.ssh2.transport.TransportManager.establishConnection(TransportManager.java:342)\n    at com.trilead.ssh2.transport.TransportManager.initialize(TransportManager.java:450)\n    at com.trilead.ssh2.Connection.connect(Connection.java:699)\n... 9 more\n[03/18/13 08:13:34] [SSH] Connection closed.\n</code></pre>\n\n<p>This makes sense, since the slave (the <code>myserver.example.com</code> virtual) is offline. However, having no real previous experience with Jenkins, I'm not sure of what the proper steps are for configuring the Jenkins master to build/deploy these jobs to a new slave, and how to set up the new slave. For instance, do I need to install anything on the new slave, or do any kind of setup/config? Thanks in advance!</p>\n"},{"tags":["java","generics","inheritance","run-time-polymorphism"],"comments":[{"owner":{"account_id":24000166,"reputation":220,"user_id":17985195,"display_name":"TP95"},"score":1,"creation_date":1691189415,"post_id":76839465,"comment_id":135463459,"body_markdown":"What do you mean by &quot;class A -&gt; class D&quot;? Are you saying class D is a child of A?","body":"What do you mean by &quot;class A -&gt; class D&quot;? Are you saying class D is a child of A?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1691189501,"post_id":76839465,"comment_id":135463466,"body_markdown":"Maybe include more code in your example.","body":"Maybe include more code in your example."},{"owner":{"account_id":28943489,"reputation":100,"user_id":22169585,"display_name":"Jordan"},"score":0,"creation_date":1691189570,"post_id":76839465,"comment_id":135463472,"body_markdown":"I may not understand what you&#39;re asking, but since A is the parent, you could do something like this:\n\nA classB = new B();\nA classD = new D();\n\nclassB.getFunction():\nclassD.getFunction();","body":"I may not understand what you&#39;re asking, but since A is the parent, you could do something like this:  A classB = new B(); A classD = new D();  classB.getFunction(): classD.getFunction();"},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1691189574,"post_id":76839465,"comment_id":135463474,"body_markdown":"@Mahesh Have a look at java Collections class - e.g `Collections.&lt;String&gt;emptyList()` - gives you a list where the return type is List&lt;String&gt;..","body":"@Mahesh Have a look at java Collections class - e.g <code>Collections.&lt;String&gt;emptyList()</code> - gives you a list where the return type is List&lt;String&gt;.."},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1691189697,"post_id":76839465,"comment_id":135463495,"body_markdown":"Have you tried `public &lt;T extends A&gt; getFunction...` - so then the return type is exactly what you want ...","body":"Have you tried <code>public &lt;T extends A&gt; getFunction...</code> - so then the return type is exactly what you want ..."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1691189702,"post_id":76839465,"comment_id":135463496,"body_markdown":"if you want to access B&#39;s methods you&#39;d have to use `B b = getFunction()` (with T = B, i.e. `getFunction&lt;B&gt;()`) which may or may not work depending on the integration factory. The code you posted doesn&#39;t look like it would work though because generics can&#39;t access child classes magically. You might need a different approach.","body":"if you want to access B&#39;s methods you&#39;d have to use <code>B b = getFunction()</code> (with T = B, i.e. <code>getFunction&lt;B&gt;()</code>) which may or may not work depending on the integration factory. The code you posted doesn&#39;t look like it would work though because generics can&#39;t access child classes magically. You might need a different approach."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1691190033,"post_id":76839465,"comment_id":135463527,"body_markdown":"If you know when calling what type you are expecting back (either a B or a D), then you can add that to the call, so something like `public &lt;T&gt; T getFunction(IntegrationType integrationType, Class&lt;T&gt; clazz) `, and call by `B b = getFunction(type, B.class)`","body":"If you know when calling what type you are expecting back (either a B or a D), then you can add that to the call, so something like <code>public &lt;T&gt; T getFunction(IntegrationType integrationType, Class&lt;T&gt; clazz) </code>, and call by <code>B b = getFunction(type, B.class)</code>"}],"answers":[{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691191110,"creation_date":1691191110,"answer_id":76839563,"question_id":76839465,"body_markdown":"&gt; The problem is If I do A a = getFunction() I cannot access the B&#39;s functions.\r\n\r\n\r\nYou can use the `instanceof` operator. For example:\r\n\r\n    A a = getFunction();\r\n    if (a instanceof B) {\r\n        B b = (B) a;\r\n        // you can call the methods of B here\r\n    }\r\n\r\nOr, if you are using Java 16 or higher, you can try the pattern matching as follows:\r\n\r\n    A a = getFunction();\r\n    if (a instanceof B b) {\r\n        b.someMethod();\r\n    }","title":"Polymorphism with generics?","body":"<blockquote>\n<p>The problem is If I do A a = getFunction() I cannot access the B's functions.</p>\n</blockquote>\n<p>You can use the <code>instanceof</code> operator. For example:</p>\n<pre><code>A a = getFunction();\nif (a instanceof B) {\n    B b = (B) a;\n    // you can call the methods of B here\n}\n</code></pre>\n<p>Or, if you are using Java 16 or higher, you can try the pattern matching as follows:</p>\n<pre><code>A a = getFunction();\nif (a instanceof B b) {\n    b.someMethod();\n}\n</code></pre>\n"}],"owner":{"account_id":29163012,"reputation":1,"user_id":22341302,"display_name":"Mahesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691196587,"answer_count":1,"score":0,"last_activity_date":1691191110,"creation_date":1691189126,"question_id":76839465,"body_markdown":"I have a class A -&gt; class B (child of A) -&gt; class C (child of B) and class A -&gt; class D. \r\nHow can I write a function that return objects from class B and class D, example below.\r\nHow to implement the calling part? \r\n\r\nThe problem is If I do A a = getFunction() I cannot access the B&#39;s functions.\r\n\r\n```\r\npublic &lt;T&gt; T getFunction(IntegrationType integrationType) {\r\n      return (T) integrationFactory.createIntegration(integrationType);\r\n}\r\n```","title":"Polymorphism with generics?","body":"<p>I have a class A -&gt; class B (child of A) -&gt; class C (child of B) and class A -&gt; class D.\nHow can I write a function that return objects from class B and class D, example below.\nHow to implement the calling part?</p>\n<p>The problem is If I do A a = getFunction() I cannot access the B's functions.</p>\n<pre><code>public &lt;T&gt; T getFunction(IntegrationType integrationType) {\n      return (T) integrationFactory.createIntegration(integrationType);\n}\n</code></pre>\n"},{"tags":["java","unit-testing","collections","tdd"],"comments":[{"owner":{"account_id":1529414,"reputation":896,"user_id":1427011,"display_name":"Steve Zobell"},"score":6,"creation_date":1492640472,"post_id":8364856,"comment_id":74068752,"body_markdown":"I suggest using &quot;addAll(Collections.emptyList());&quot; instead of add(null) to test for immutable. This will raise the UnsupportedOperationException if immutable and does not modify the list if mutable. I agree modifying the list to see if it is immutable feels wrong, and could cause problems if anyone else is using the list.","body":"I suggest using &quot;addAll(Collections.emptyList());&quot; instead of add(null) to test for immutable. This will raise the UnsupportedOperationException if immutable and does not modify the list if mutable. I agree modifying the list to see if it is immutable feels wrong, and could cause problems if anyone else is using the list."},{"owner":{"account_id":8732367,"reputation":156,"user_id":6531984,"display_name":"Sgene9"},"score":0,"creation_date":1510262680,"post_id":8364856,"comment_id":81372947,"body_markdown":"@SteveZobell&#39;s suggestion is like a cherry on the cake. Solves the issue when the List is actually mutable. One thing to think about is that UnmodifiableList is not the only unmodifiable list in Java API. Collections.nCopies(..) returns an instance of Collections$CopiesList which is also unmodifiable. It is so easy to implement an unmodifiable list from AbstractList, so the best bet is to test the behavior.","body":"@SteveZobell&#39;s suggestion is like a cherry on the cake. Solves the issue when the List is actually mutable. One thing to think about is that UnmodifiableList is not the only unmodifiable list in Java API. Collections.nCopies(..) returns an instance of Collections$CopiesList which is also unmodifiable. It is so easy to implement an unmodifiable list from AbstractList, so the best bet is to test the behavior."}],"answers":[{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1322877276,"creation_date":1322877276,"answer_id":8364890,"question_id":8364856,"body_markdown":"I actually think that is your best bet.  Your alternative (less elegant) way is to check the name of the class.\r\n\r\n    this.myObj.getNoMatters().getClass().getSimpleName().equals(&quot;UnmodifiableCollection&quot;)\r\n\r\nThe issue for you is the wrapped UnmodifiableCollection is package-private.\r\n\r\nI don&#39;t see anything wrong with expecting an exception there, but that&#39;s just me.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>I actually think that is your best bet.  Your alternative (less elegant) way is to check the name of the class.</p>\n\n<pre><code>this.myObj.getNoMatters().getClass().getSimpleName().equals(\"UnmodifiableCollection\")\n</code></pre>\n\n<p>The issue for you is the wrapped UnmodifiableCollection is package-private.</p>\n\n<p>I don't see anything wrong with expecting an exception there, but that's just me.</p>\n"},{"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1322877661,"creation_date":1322877661,"answer_id":8364912,"question_id":8364856,"body_markdown":"I think your solution is not only reasonable, it is elegant.  You want to test that you cannot modify the list, and your test proves it succinctly.  Testing the name of the class tests the name, not the behavior.  In this case, who cares about the name?\r\n\r\nLikewise, if I wanted to test that I cannot pass null to some method, I&#39;d pass null in a test and expect an IllegalArgumentException.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>I think your solution is not only reasonable, it is elegant.  You want to test that you cannot modify the list, and your test proves it succinctly.  Testing the name of the class tests the name, not the behavior.  In this case, who cares about the name?</p>\n\n<p>Likewise, if I wanted to test that I cannot pass null to some method, I'd pass null in a test and expect an IllegalArgumentException.</p>\n"},{"tags":[],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322877688,"creation_date":1322877688,"answer_id":8364913,"question_id":8364856,"body_markdown":"sort of a hack, but try:\r\n\r\n    import java.util.*;\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Integer&gt; list=new LinkedList&lt;Integer&gt;();\r\n    \t\tlist.add(1);\r\n    \t\tList&lt;Integer&gt; unmodifiableList=Collections.unmodifiableList(list);\r\n    \t\tSystem.out.println(unmodifiableList.getClass());\r\n    \t\tif(unmodifiableList.getClass().getName().contains(&quot;UnmodifiableList&quot;))\r\n    \t\t\tSystem.out.println(true);\r\n    \t}\r\n    }","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>sort of a hack, but try:</p>\n\n<pre><code>import java.util.*;\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list=new LinkedList&lt;Integer&gt;();\n        list.add(1);\n        List&lt;Integer&gt; unmodifiableList=Collections.unmodifiableList(list);\n        System.out.println(unmodifiableList.getClass());\n        if(unmodifiableList.getClass().getName().contains(\"UnmodifiableList\"))\n            System.out.println(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1322881991,"creation_date":1322879434,"answer_id":8365014,"question_id":8364856,"body_markdown":"You can use [`Class#isInstance`][1] to check.\r\n\r\n    Collections.unmodifiableList(someList).getClass().isInstance(listToCheck);\r\n\r\n/e1&lt;br&gt;\r\nThe following returns `false`.\r\n\r\n    Collections.unmodifiableList(new ArrayList&lt;Object&gt;()).getClass().isInstance(new ArrayList&lt;Object&gt;())\r\n\r\nThe following returns `true`.\r\n\r\n    Collections.unmodifiableList(new ArrayList&lt;Object&gt;()).getClass().isInstance(Collections.unmodifiableList(new ArrayList&lt;Object&gt;()))\r\n\r\n/e2&lt;br&gt;\r\nYour problem may be because `Collections#unmodifiableList` returns an `UnmodifiableList` some of the time, and an `UnmodifiableRandomAccessList` the rest of the time (see below for code). However, since `UnmodifiableRandomAccessList` extends `UnmodifiableList`, if you get an instance of an `UnmodifiableList` to check with you&#39;ll be golden.\r\n\r\nTo obtain an instance of `UnmodifiableList` you can use `Collections.unmodifiableList(new LinkedList&lt;Object&gt;())`. `LinkedList` does not implement `RandomAccess`, so an instance of `UnmodifiableRandomAccessList` will not be returned.\r\n\r\nCode of `Collections#unmodifiableList`:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; unmodifiableList(List&lt;? extends T&gt; list) {\r\n            return (list instanceof RandomAccess ?\r\n                    new UnmodifiableRandomAccessList&lt;&gt;(list) :\r\n                    new UnmodifiableList&lt;&gt;(list));\r\n    }\r\n\r\nClass header of `UnmodifiableRandomAccessList`:\r\n\r\n    static class UnmodifiableRandomAccessList&lt;E&gt; extends UnmodifiableList&lt;E&gt; implements RandomAccess\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#isInstance%28java.lang.Object%29","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#isInstance%28java.lang.Object%29\" rel=\"noreferrer\"><code>Class#isInstance</code></a> to check.</p>\n\n<pre><code>Collections.unmodifiableList(someList).getClass().isInstance(listToCheck);\n</code></pre>\n\n<p>/e1<br>\nThe following returns <code>false</code>.</p>\n\n<pre><code>Collections.unmodifiableList(new ArrayList&lt;Object&gt;()).getClass().isInstance(new ArrayList&lt;Object&gt;())\n</code></pre>\n\n<p>The following returns <code>true</code>.</p>\n\n<pre><code>Collections.unmodifiableList(new ArrayList&lt;Object&gt;()).getClass().isInstance(Collections.unmodifiableList(new ArrayList&lt;Object&gt;()))\n</code></pre>\n\n<p>/e2<br>\nYour problem may be because <code>Collections#unmodifiableList</code> returns an <code>UnmodifiableList</code> some of the time, and an <code>UnmodifiableRandomAccessList</code> the rest of the time (see below for code). However, since <code>UnmodifiableRandomAccessList</code> extends <code>UnmodifiableList</code>, if you get an instance of an <code>UnmodifiableList</code> to check with you'll be golden.</p>\n\n<p>To obtain an instance of <code>UnmodifiableList</code> you can use <code>Collections.unmodifiableList(new LinkedList&lt;Object&gt;())</code>. <code>LinkedList</code> does not implement <code>RandomAccess</code>, so an instance of <code>UnmodifiableRandomAccessList</code> will not be returned.</p>\n\n<p>Code of <code>Collections#unmodifiableList</code>:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; unmodifiableList(List&lt;? extends T&gt; list) {\n        return (list instanceof RandomAccess ?\n                new UnmodifiableRandomAccessList&lt;&gt;(list) :\n                new UnmodifiableList&lt;&gt;(list));\n}\n</code></pre>\n\n<p>Class header of <code>UnmodifiableRandomAccessList</code>:</p>\n\n<pre><code>static class UnmodifiableRandomAccessList&lt;E&gt; extends UnmodifiableList&lt;E&gt; implements RandomAccess\n</code></pre>\n"},{"tags":[],"owner":{"account_id":940484,"reputation":22724,"user_id":968632,"accept_rate":100,"display_name":"Guillaume"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1322953215,"creation_date":1322953215,"answer_id":8371740,"question_id":8364856,"body_markdown":"Why do you want to test that your list is immutable? Your &quot;alternative&quot; solution is the way to go: you should focus on testing the *behaviour* of your class, not its *state*.\r\n\r\nWhat I mean is you don&#39;t really care whether your method returns an instance of &lt;code&gt;UnmodifiableList&lt;/code&gt; or anything else. Who cares? Your test should certainly not. If later on you change the implementation to achieve the exact same behaviour, **your test should not fail**.\r\n\r\nSo what do you want to test? That users cannot add anything to the list? Then write a test (as you suggested) that adds something to the list and expect an exception. That they can&#39;t remove anything from the list? Do the same with another test. And so forth. \r\n\r\nIt is indeed elegant to test for *negative cases* like these ones, and I found it&#39;s very often forgotten in the functional coverage of a class. Proper coverage should specifically state what your class disallow and say what&#39;s expected in these cases.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>Why do you want to test that your list is immutable? Your \"alternative\" solution is the way to go: you should focus on testing the <em>behaviour</em> of your class, not its <em>state</em>.</p>\n\n<p>What I mean is you don't really care whether your method returns an instance of <code>UnmodifiableList</code> or anything else. Who cares? Your test should certainly not. If later on you change the implementation to achieve the exact same behaviour, <strong>your test should not fail</strong>.</p>\n\n<p>So what do you want to test? That users cannot add anything to the list? Then write a test (as you suggested) that adds something to the list and expect an exception. That they can't remove anything from the list? Do the same with another test. And so forth. </p>\n\n<p>It is indeed elegant to test for <em>negative cases</em> like these ones, and I found it's very often forgotten in the functional coverage of a class. Proper coverage should specifically state what your class disallow and say what's expected in these cases.</p>\n"},{"tags":[],"owner":{"account_id":9844613,"reputation":315,"user_id":7292595,"display_name":"Brendan Kim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481655545,"creation_date":1481654211,"answer_id":41128231,"question_id":8364856,"body_markdown":"I wish something like `Collections.examine(T element)` does the job without actually modifying the collection.\r\n\r\nBesides the most voted answer, be advised that there&#39;s `Collections.EmptyList` (at least) which is another unmodifiable list as well.\r\n\r\nSo, if I really have to create a utility as a dirty solution though, I will add my &#39;easy-to-identify&#39; element and see if it throws UnsupportedOperationException, then it means it is unmodifiable. Otherwise, I have to remove the entered right away of course.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>I wish something like <code>Collections.examine(T element)</code> does the job without actually modifying the collection.</p>\n\n<p>Besides the most voted answer, be advised that there's <code>Collections.EmptyList</code> (at least) which is another unmodifiable list as well.</p>\n\n<p>So, if I really have to create a utility as a dirty solution though, I will add my 'easy-to-identify' element and see if it throws UnsupportedOperationException, then it means it is unmodifiable. Otherwise, I have to remove the entered right away of course.</p>\n"},{"tags":[],"owner":{"account_id":1670427,"reputation":10616,"user_id":1536976,"accept_rate":78,"display_name":"NoDataDumpNoContribution"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522852904,"creation_date":1522852904,"answer_id":49653959,"question_id":8364856,"body_markdown":"In addition to [user949300](https://stackoverflow.com/a/8364912/1536976) answer, which states that one should indeed test for the behavior, and including the comment by [Steve Zobell](https://stackoverflow.com/questions/8364856/how-to-test-if-a-list-extends-object-is-an-unmodifablelist#comment74068752_8364856), who suggests to add an empty list so in case the list is not unmodifiable it doesn&#39;t get modified, I add here an example of how a check for unmodifiability of a list could look like.\r\n\r\nThe code tries to add an empty list and if that is possible throws a IllegalArgumentException, otherwise as a convenience returns the original list of which one can now be sure that it is unmodifiable.\r\n\r\n    /**\r\n     * Ensures that a list is unmodifiable (i.e. that nothing can be added).\r\n     *\r\n     * Unmodifiable lists can e.g. be created by Collections.UnmodifiableList().\r\n     *\r\n     * @param list a list\r\n     * @param &lt;T&gt; element type of the list\r\n     * @return the list that is verified to be unmodifiable\r\n     */\r\n    public static &lt;T&gt; List&lt;T&gt; verifyUnmodifiable(List&lt;T&gt; list) {\r\n        try {\r\n            list.addAll(Collections.emptyList());\r\n        } catch (Exception e) {\r\n            return list;\r\n        }\r\n        throw new IllegalArgumentException(&quot;List is modifiable.&quot;);\r\n    }\r\n\r\nNot sure if testing for remove, clear, ... is also necessary. Not being able to add is usually a good indication of unmodifiability.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>In addition to <a href=\"https://stackoverflow.com/a/8364912/1536976\">user949300</a> answer, which states that one should indeed test for the behavior, and including the comment by <a href=\"https://stackoverflow.com/questions/8364856/how-to-test-if-a-list-extends-object-is-an-unmodifablelist#comment74068752_8364856\">Steve Zobell</a>, who suggests to add an empty list so in case the list is not unmodifiable it doesn't get modified, I add here an example of how a check for unmodifiability of a list could look like.</p>\n\n<p>The code tries to add an empty list and if that is possible throws a IllegalArgumentException, otherwise as a convenience returns the original list of which one can now be sure that it is unmodifiable.</p>\n\n<pre><code>/**\n * Ensures that a list is unmodifiable (i.e. that nothing can be added).\n *\n * Unmodifiable lists can e.g. be created by Collections.UnmodifiableList().\n *\n * @param list a list\n * @param &lt;T&gt; element type of the list\n * @return the list that is verified to be unmodifiable\n */\npublic static &lt;T&gt; List&lt;T&gt; verifyUnmodifiable(List&lt;T&gt; list) {\n    try {\n        list.addAll(Collections.emptyList());\n    } catch (Exception e) {\n        return list;\n    }\n    throw new IllegalArgumentException(\"List is modifiable.\");\n}\n</code></pre>\n\n<p>Not sure if testing for remove, clear, ... is also necessary. Not being able to add is usually a good indication of unmodifiability.</p>\n"},{"tags":[],"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522966228,"creation_date":1522966228,"answer_id":49682306,"question_id":8364856,"body_markdown":"If API is hard to test that&#39;s often a smell that API requires improvement. In this case the problem is that API is supposed to return read-only list but (due to the lack of such type in JDK I guess) it returns more generic type.\r\n\r\nI would consider to change function signature so that it returns the type that is effectively a read-only list, for example guava&#39;s [ImmutableList](http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableList.html).\r\n\r\nIt is by definition can&#39;t be modified so you don&#39;t need test at all. It&#39;s also causes less confusion in clients of the class.","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>If API is hard to test that's often a smell that API requires improvement. In this case the problem is that API is supposed to return read-only list but (due to the lack of such type in JDK I guess) it returns more generic type.</p>\n\n<p>I would consider to change function signature so that it returns the type that is effectively a read-only list, for example guava's <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableList.html\" rel=\"nofollow noreferrer\">ImmutableList</a>.</p>\n\n<p>It is by definition can't be modified so you don't need test at all. It's also causes less confusion in clients of the class.</p>\n"},{"tags":[],"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628045422,"creation_date":1628043596,"answer_id":68644656,"question_id":8364856,"body_markdown":"[*Set*][1], [*List*][2] and [*Map*][3] support the method **copyOf(...)** since **Java 10**.    \r\nIt ensures you get an immutable set/list/map. \r\nIf the argument is already an \r\nimmutable set/list/map, it just returns it. \r\nIf it is modifiable/mutable, copyOf(...) copies the elements/entries into an immutable set/list/map and returns it.  \r\nHowever, if one modifiable set/list/map was made unmodifiable by Collections.unmodifiableSet(...)/unmodifiableList(...)/unmodifiableMap(...),  \r\n copyOf(...) copies all elements/entries to an immutable set/list/map to ensure that it cannot be modified by someone still holding an instance of the modifiable set/list/map.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Set.html#copyOf(java.util.Collection)\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/util/List.html#copyOf(java.util.Collection)\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#copyOf(java.util.Map)","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Set.html#copyOf(java.util.Collection)\" rel=\"nofollow noreferrer\"><em>Set</em></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html#copyOf(java.util.Collection)\" rel=\"nofollow noreferrer\"><em>List</em></a> and <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#copyOf(java.util.Map)\" rel=\"nofollow noreferrer\"><em>Map</em></a> support the method <strong>copyOf(...)</strong> since <strong>Java 10</strong>.<br />\nIt ensures you get an immutable set/list/map.\nIf the argument is already an\nimmutable set/list/map, it just returns it.\nIf it is modifiable/mutable, copyOf(...) copies the elements/entries into an immutable set/list/map and returns it.<br />\nHowever, if one modifiable set/list/map was made unmodifiable by Collections.unmodifiableSet(...)/unmodifiableList(...)/unmodifiableMap(...),<br />\ncopyOf(...) copies all elements/entries to an immutable set/list/map to ensure that it cannot be modified by someone still holding an instance of the modifiable set/list/map.</p>\n"},{"tags":[],"owner":{"account_id":1885444,"reputation":155,"user_id":1704760,"display_name":"Reuben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660339980,"creation_date":1660339980,"answer_id":73339977,"question_id":8364856,"body_markdown":"it looks like Collections.unmodifiable* are smart enough not to wrap an already unmodifiable collection:\r\n\r\n    jshell&gt; import java.util.*;\r\n    \r\n    jshell&gt; var unmodifiable = Collections.unmodifiableList(new ArrayList&lt;String&gt;())\r\n    unmodifiable ==&gt; []\r\n    \r\n    jshell&gt; unmodifiable == Collections.unmodifiableList(unmodifiable)\r\n    $3 ==&gt; true\r\n    \r\n    jshell&gt; var unmodifiableMap = Collections.unmodifiableMap(new HashMap&lt;String,String&gt;())\r\n    unmodifiableMap ==&gt; {}\r\n    \r\n    jshell&gt; unmodifiableMap == Collections.unmodifiableMap(unmodifiableMap)\r\n    $5 ==&gt; true\r\n\r\n","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>it looks like Collections.unmodifiable* are smart enough not to wrap an already unmodifiable collection:</p>\n<pre><code>jshell&gt; import java.util.*;\n\njshell&gt; var unmodifiable = Collections.unmodifiableList(new ArrayList&lt;String&gt;())\nunmodifiable ==&gt; []\n\njshell&gt; unmodifiable == Collections.unmodifiableList(unmodifiable)\n$3 ==&gt; true\n\njshell&gt; var unmodifiableMap = Collections.unmodifiableMap(new HashMap&lt;String,String&gt;())\nunmodifiableMap ==&gt; {}\n\njshell&gt; unmodifiableMap == Collections.unmodifiableMap(unmodifiableMap)\n$5 ==&gt; true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29163080,"reputation":1,"user_id":22341351,"display_name":"Tony Freedom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691190311,"creation_date":1691190311,"answer_id":76839526,"question_id":8364856,"body_markdown":"Try this:\r\n\r\n    public &lt;T&gt; boolean isModifiableCollection(Collection&lt;T&gt; collection) {\r\n        T object = (T) new Object();\r\n        try {\r\n            collection.add(object);\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n        collection.remove(object);\r\n        return true;\r\n    }","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>Try this:</p>\n<pre><code>public &lt;T&gt; boolean isModifiableCollection(Collection&lt;T&gt; collection) {\n    T object = (T) new Object();\n    try {\n        collection.add(object);\n    } catch (Exception e) {\n        return false;\n    }\n    collection.remove(object);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":32837,"reputation":16613,"user_id":91403,"accept_rate":72,"display_name":"Renato Gama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17401,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":8364890,"answer_count":11,"score":28,"last_activity_date":1691190311,"creation_date":1322876859,"question_id":8364856,"body_markdown":"I&#39;m looking for a way to test if some given List is an unmodifiable one.\r\n\r\nI have an object that has a `List&lt;NoMatter&gt;`, in order to offer methods such as `addNoMatter(NoMatter nm)` instead of allowing the API client to simply do `.getNoMatters().add(nm);` I always return an unmodifiable version of this list, so the client is still able to have the list. I do it as follows:\r\n\r\n\tpublic List&lt;NoMatter&gt; getNoMatters() {\r\n\t\treturn Collections.unmodifiableList(this.noMatters);\r\n\t}\r\n\r\nThe problem is that when I&#39;m doing my tests I simply cant check if this object is of type UnmodifiableList. My first try was doing:\r\n\r\n\t@Test\r\n\tpublic void checkIfListIsImmutable(){\r\n\t\tassertTrue(&quot;List is not immutable&quot;, this.myObj.getNoMatters() instanceof UnmodifiableList);\r\n\t}\r\n\r\nHappens that I cant seem to be able to import the type `UnmodifiableList` neither `java.util.Collections$UnmodifiableRandomAccessList` that is what I get when I try `System.out.println(myObj.getNoMatters().getClass().getName());` at the console.\r\n\r\nSo how can I achieve it???\r\n\r\nPS.: I know I can pass this test by doing:\r\n\r\n    @Test(expected = UnsupportedOperationException.class)\r\n    public void checkIfListIsImmutable(){\r\n         this.myObj.getNoMatters().add(null);\r\n    }\r\n\r\n**EDIT:** The above test doesn&#39;t grants me that the list Im dealing with isn&#39;t immutable as I would need to have tests to every method that may modify my original list, including .remove(), .clear(), .shuffle(), etc! thats why I do not think this is a nice way to proceed. \r\n\r\n_&gt;&gt;&gt; But I still believe that its not even close to an elegant solution! &lt;&lt;&lt;_","title":"How to test if a List&lt;? extends Object&gt; is an UnmodifableList?","body":"<p>I'm looking for a way to test if some given List is an unmodifiable one.</p>\n\n<p>I have an object that has a <code>List&lt;NoMatter&gt;</code>, in order to offer methods such as <code>addNoMatter(NoMatter nm)</code> instead of allowing the API client to simply do <code>.getNoMatters().add(nm);</code> I always return an unmodifiable version of this list, so the client is still able to have the list. I do it as follows:</p>\n\n<pre><code>public List&lt;NoMatter&gt; getNoMatters() {\n    return Collections.unmodifiableList(this.noMatters);\n}\n</code></pre>\n\n<p>The problem is that when I'm doing my tests I simply cant check if this object is of type UnmodifiableList. My first try was doing:</p>\n\n<pre><code>@Test\npublic void checkIfListIsImmutable(){\n    assertTrue(\"List is not immutable\", this.myObj.getNoMatters() instanceof UnmodifiableList);\n}\n</code></pre>\n\n<p>Happens that I cant seem to be able to import the type <code>UnmodifiableList</code> neither <code>java.util.Collections$UnmodifiableRandomAccessList</code> that is what I get when I try <code>System.out.println(myObj.getNoMatters().getClass().getName());</code> at the console.</p>\n\n<p>So how can I achieve it???</p>\n\n<p>PS.: I know I can pass this test by doing:</p>\n\n<pre><code>@Test(expected = UnsupportedOperationException.class)\npublic void checkIfListIsImmutable(){\n     this.myObj.getNoMatters().add(null);\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> The above test doesn't grants me that the list Im dealing with isn't immutable as I would need to have tests to every method that may modify my original list, including .remove(), .clear(), .shuffle(), etc! thats why I do not think this is a nice way to proceed. </p>\n\n<p><em>>>> But I still believe that its not even close to an elegant solution! &lt;&lt;&lt;</em></p>\n"},{"tags":["java","java-14","java-text-blocks"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1587860440,"post_id":61432347,"comment_id":108675971,"body_markdown":"Its a representation of a `String` after all. At least for now without further detail over &quot;why not try using an existing construct like `String.format`&quot; , the question would stand as an exact duplicate. Leaving the rest for the community to decide.","body":"Its a representation of a <code>String</code> after all. At least for now without further detail over &quot;why not try using an existing construct like <code>String.format</code>&quot; , the question would stand as an exact duplicate. Leaving the rest for the community to decide."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1587860676,"post_id":61432347,"comment_id":108676015,"body_markdown":"Does this answer your question [Java - Including variables within strings?](https://stackoverflow.com/questions/9643610/java-including-variables-within-strings)","body":"Does this answer your question <a href=\"https://stackoverflow.com/questions/9643610/java-including-variables-within-strings\">Java - Including variables within strings?</a>"},{"owner":{"account_id":14066053,"reputation":2457,"user_id":10160865,"display_name":"Dennis Gloss"},"score":0,"creation_date":1587861712,"post_id":61432347,"comment_id":108676180,"body_markdown":"I thought more about how to write java code inside the text block, `String.format` is more like a work around with which sadly I hadn&#39;t come up with...","body":"I thought more about how to write java code inside the text block, <code>String.format</code> is more like a work around with which sadly I hadn&#39;t come up with..."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1587914951,"post_id":61432347,"comment_id":108691211,"body_markdown":"@DennisGlot `String::format` is not a _workaround_, it is the normal way of doing string interpolation in Java.  (With text blocks, an instance version was also added, so you can say `&quot;...&quot;.formatted(...)` if you prefer chaining.)","body":"@DennisGlot <code>String::format</code> is not a <i>workaround</i>, it is the normal way of doing string interpolation in Java.  (With text blocks, an instance version was also added, so you can say <code>&quot;...&quot;.formatted(...)</code> if you prefer chaining.)"}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1652353292,"creation_date":1587847783,"answer_id":61432423,"question_id":61432347,"body_markdown":"You can use `%s` as a *placeholder* in text blocks:\r\n\r\n    String str = &quot;&quot;&quot;\r\n    {\r\n        &quot;someKey&quot;: &quot;someValue&quot;,\r\n        &quot;date&quot;: %s,\r\n    }\r\n    &quot;&quot;&quot;\r\nand replace it using [format()][1] method.\r\n\r\n    String.format(str, LocalDate.now());\r\n\r\n---\r\nFrom [JEP 378 docs][2]:\r\n\r\n&gt; A cleaner alternative is to use String::replace or String::format, as follows:\r\n\r\n    String code = &quot;&quot;&quot;\r\n              public void print($type o) {\r\n                  System.out.println(Objects.toString(o));\r\n              }\r\n              &quot;&quot;&quot;.replace(&quot;$type&quot;, type);\r\n\r\n    String code = String.format(&quot;&quot;&quot;\r\n              public void print(%s o) {\r\n                  System.out.println(Objects.toString(o));\r\n              }\r\n              &quot;&quot;&quot;, type);\r\n\r\n&gt; Another alternative involves the introduction of a new instance method, String::formatted, which could be used as follows:\r\n\r\n    String source = &quot;&quot;&quot;\r\n                public void print(%s object) {\r\n                    System.out.println(Objects.toString(object));\r\n                }\r\n                &quot;&quot;&quot;.formatted(type);\r\n\r\n---\r\n## NOTE\r\nDespite that in the Java version 13 the `formatted()` method was marked as [deprecated][3], since **Java version 15** [`formatted(Object... args)`][4] method is officially part of the Java language, same as the Text Blocks feature itself.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\r\n  [2]: https://openjdk.java.net/jeps/378\r\n  [3]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\r\n  [4]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)","title":"How to have placeholder for variable value in Java Text Block?","body":"<p>You can use <code>%s</code> as a <em>placeholder</em> in text blocks:</p>\n<pre><code>String str = &quot;&quot;&quot;\n{\n    &quot;someKey&quot;: &quot;someValue&quot;,\n    &quot;date&quot;: %s,\n}\n&quot;&quot;&quot;\n</code></pre>\n<p>and replace it using <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"noreferrer\">format()</a> method.</p>\n<pre><code>String.format(str, LocalDate.now());\n</code></pre>\n<hr />\n<p>From <a href=\"https://openjdk.java.net/jeps/378\" rel=\"noreferrer\">JEP 378 docs</a>:</p>\n<blockquote>\n<p>A cleaner alternative is to use String::replace or String::format, as follows:</p>\n</blockquote>\n<pre><code>String code = &quot;&quot;&quot;\n          public void print($type o) {\n              System.out.println(Objects.toString(o));\n          }\n          &quot;&quot;&quot;.replace(&quot;$type&quot;, type);\n\nString code = String.format(&quot;&quot;&quot;\n          public void print(%s o) {\n              System.out.println(Objects.toString(o));\n          }\n          &quot;&quot;&quot;, type);\n</code></pre>\n<blockquote>\n<p>Another alternative involves the introduction of a new instance method, String::formatted, which could be used as follows:</p>\n</blockquote>\n<pre><code>String source = &quot;&quot;&quot;\n            public void print(%s object) {\n                System.out.println(Objects.toString(object));\n            }\n            &quot;&quot;&quot;.formatted(type);\n</code></pre>\n<hr />\n<h2>NOTE</h2>\n<p>Despite that in the Java version 13 the <code>formatted()</code> method was marked as <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"noreferrer\">deprecated</a>, since <strong>Java version 15</strong> <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"noreferrer\"><code>formatted(Object... args)</code></a> method is officially part of the Java language, same as the Text Blocks feature itself.</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691188511,"creation_date":1691188511,"answer_id":76839429,"question_id":61432347,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example single-line use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nIt also supports Java&#39;s multi-line text blocks:\r\n\r\n```java\r\nString title = &quot;My Web Page&quot;;\r\nString text  = &quot;Hello, world&quot;;\r\nString html = STR.&quot;&quot;&quot;\r\n        &lt;html&gt;\r\n          &lt;head&gt;\r\n            &lt;title&gt;\\{title}&lt;/title&gt;\r\n          &lt;/head&gt;\r\n          &lt;body&gt;\r\n            &lt;p&gt;\\{text}&lt;/p&gt;\r\n          &lt;/body&gt;\r\n        &lt;/html&gt;\r\n        &quot;&quot;&quot;;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n\r\nand you could do something similar to create an HTML data structure, via a string template that quotes HTML entities.\r\n","title":"How to have placeholder for variable value in Java Text Block?","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example single-line use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>It also supports Java's multi-line text blocks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String title = &quot;My Web Page&quot;;\nString text  = &quot;Hello, world&quot;;\nString html = STR.&quot;&quot;&quot;\n        &lt;html&gt;\n          &lt;head&gt;\n            &lt;title&gt;\\{title}&lt;/title&gt;\n          &lt;/head&gt;\n          &lt;body&gt;\n            &lt;p&gt;\\{text}&lt;/p&gt;\n          &lt;/body&gt;\n        &lt;/html&gt;\n        &quot;&quot;&quot;;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n<p>and you could do something similar to create an HTML data structure, via a string template that quotes HTML entities.</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691189897,"creation_date":1691189897,"answer_id":76839501,"question_id":61432347,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nIt also supports Java&#39;s multi-line text blocks:\r\n\r\n```java\r\nString title = &quot;My Web Page&quot;;\r\nString text  = &quot;Hello, world&quot;;\r\nString html = STR.&quot;&quot;&quot;\r\n        &lt;html&gt;\r\n          &lt;head&gt;\r\n            &lt;title&gt;\\{title}&lt;/title&gt;\r\n          &lt;/head&gt;\r\n          &lt;body&gt;\r\n            &lt;p&gt;\\{text}&lt;/p&gt;\r\n          &lt;/body&gt;\r\n        &lt;/html&gt;\r\n        &quot;&quot;&quot;;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, here is a template processor that returns not strings but, rather, instances of JSONObject:\r\n\r\n```java\r\nvar JSON = StringTemplate.Processor.of(\r\n        (StringTemplate st) -&gt; new JSONObject(st.interpolate())\r\n    );\r\n\r\nString name    = &quot;Joan Smith&quot;;\r\nString phone   = &quot;555-123-4567&quot;;\r\nString address = &quot;1 Maple Drive, Anytown&quot;;\r\nJSONObject doc = JSON.&quot;&quot;&quot;\r\n    {\r\n        &quot;name&quot;:    &quot;\\{name}&quot;,\r\n        &quot;phone&quot;:   &quot;\\{phone}&quot;,\r\n        &quot;address&quot;: &quot;\\{address}&quot;\r\n    };\r\n    &quot;&quot;&quot;;\r\n```\r\n","title":"How to have placeholder for variable value in Java Text Block?","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>It also supports Java's multi-line text blocks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String title = &quot;My Web Page&quot;;\nString text  = &quot;Hello, world&quot;;\nString html = STR.&quot;&quot;&quot;\n        &lt;html&gt;\n          &lt;head&gt;\n            &lt;title&gt;\\{title}&lt;/title&gt;\n          &lt;/head&gt;\n          &lt;body&gt;\n            &lt;p&gt;\\{text}&lt;/p&gt;\n          &lt;/body&gt;\n        &lt;/html&gt;\n        &quot;&quot;&quot;;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, here is a template processor that returns not strings but, rather, instances of JSONObject:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var JSON = StringTemplate.Processor.of(\n        (StringTemplate st) -&gt; new JSONObject(st.interpolate())\n    );\n\nString name    = &quot;Joan Smith&quot;;\nString phone   = &quot;555-123-4567&quot;;\nString address = &quot;1 Maple Drive, Anytown&quot;;\nJSONObject doc = JSON.&quot;&quot;&quot;\n    {\n        &quot;name&quot;:    &quot;\\{name}&quot;,\n        &quot;phone&quot;:   &quot;\\{phone}&quot;,\n        &quot;address&quot;: &quot;\\{address}&quot;\n    };\n    &quot;&quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":14066053,"reputation":2457,"user_id":10160865,"display_name":"Dennis Gloss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17201,"favorite_count":0,"down_vote_count":2,"up_vote_count":38,"accepted_answer_id":61432423,"answer_count":3,"score":36,"last_activity_date":1691189897,"creation_date":1587847411,"question_id":61432347,"body_markdown":"How can I put a *variable* into Java [Text Block][1]?  \r\n\r\nLike this:\r\n```\r\n&quot;&quot;&quot;\r\n{\r\n    &quot;someKey&quot;: &quot;someValue&quot;,\r\n    &quot;date&quot;: &quot;${LocalDate.now()}&quot;,\r\n\r\n}\r\n&quot;&quot;&quot;\r\n```\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/378","title":"How to have placeholder for variable value in Java Text Block?","body":"<p>How can I put a <em>variable</em> into Java <a href=\"https://openjdk.java.net/jeps/378\" rel=\"noreferrer\">Text Block</a>?</p>\n<p>Like this:</p>\n<pre><code>&quot;&quot;&quot;\n{\n    &quot;someKey&quot;: &quot;someValue&quot;,\n    &quot;date&quot;: &quot;${LocalDate.now()}&quot;,\n\n}\n&quot;&quot;&quot;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1663777287,"post_id":73804054,"comment_id":130320860,"body_markdown":"https://www.baeldung.com/java-printstream-printf","body":"<a href=\"https://www.baeldung.com/java-printstream-printf\" rel=\"nofollow noreferrer\">baeldung.com/java-printstream-printf</a>"},{"owner":{"account_id":17360629,"reputation":1309,"user_id":12576990,"display_name":"Rafael"},"score":0,"creation_date":1663777580,"post_id":73804054,"comment_id":130320948,"body_markdown":"check this: https://stackoverflow.com/questions/6389827/string-variable-interpolation-java","body":"check this: <a href=\"https://stackoverflow.com/questions/6389827/string-variable-interpolation-java\" title=\"string variable interpolation java\">stackoverflow.com/questions/6389827/&hellip;</a>"},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1691191846,"post_id":73804054,"comment_id":135463699,"body_markdown":"[JEP430](https://openjdk.org/jeps/430) on the way!","body":"<a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP430</a> on the way!"},{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1691194715,"post_id":73804054,"comment_id":135463869,"body_markdown":"Does this answer your question? [String variable interpolation Java](https://stackoverflow.com/questions/6389827/string-variable-interpolation-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6389827/string-variable-interpolation-java\">String variable interpolation Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663778890,"creation_date":1663777424,"answer_id":73804101,"question_id":73804054,"body_markdown":"You can use java String [Format][1]\r\nsuch as \r\n    \r\n    String foo = String.format(&quot;The total cost is %.2f&quot;,total_cost);\r\nor if printing use such as\r\n\r\n    System.out.printf(&quot;The total cost is %.2f\\n&quot;,total_cost);\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html","title":"Inserting variables into strings","body":"<p>You can use java String <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Format</a>\nsuch as</p>\n<pre><code>String foo = String.format(&quot;The total cost is %.2f&quot;,total_cost);\n</code></pre>\n<p>or if printing use such as</p>\n<pre><code>System.out.printf(&quot;The total cost is %.2f\\n&quot;,total_cost);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691189726,"creation_date":1691189726,"answer_id":76839495,"question_id":73804054,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nSystem.out.println(STR.&quot;The total cost is \\{total_cost}.&quot;);\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Inserting variables into strings","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(STR.&quot;The total cost is \\{total_cost}.&quot;);\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":26404082,"reputation":9,"user_id":20054131,"display_name":"gaskiller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1691189726,"creation_date":1663777114,"question_id":73804054,"body_markdown":"Im trying to insert the total_cost variable into the string in the last few lines without doing the (&quot;its&quot; + total_cost) method. Im trying to replicate the python {total_variable} method in java basically \r\n\r\n        import java.util.Scanner;\r\n        public class Decision2 {\r\n            public static void main(String[] arrgs) {\r\n                Scanner input = new Scanner(System.in);\r\n                int ticket = 0;\r\n                double total_cost = 0;\r\n                System.out.println(&quot;How many tickets do you want to buy?&quot;);\r\n                ticket = input.nextInt();\r\n                if (ticket &gt;= 5) {\r\n                    total_cost = total_cost + (10.95 * ticket);\r\n\r\n                } else {\r\n                    total_cost = total_cost + (8.95 * ticket);\r\n\r\n\r\n                }\r\n                System.out.printf(&quot;The total cost is {total_cost}&quot;);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Inserting variables into strings","body":"<p>Im trying to insert the total_cost variable into the string in the last few lines without doing the (&quot;its&quot; + total_cost) method. Im trying to replicate the python {total_variable} method in java basically</p>\n<pre><code>    import java.util.Scanner;\n    public class Decision2 {\n        public static void main(String[] arrgs) {\n            Scanner input = new Scanner(System.in);\n            int ticket = 0;\n            double total_cost = 0;\n            System.out.println(&quot;How many tickets do you want to buy?&quot;);\n            ticket = input.nextInt();\n            if (ticket &gt;= 5) {\n                total_cost = total_cost + (10.95 * ticket);\n\n            } else {\n                total_cost = total_cost + (8.95 * ticket);\n\n\n            }\n            System.out.printf(&quot;The total cost is {total_cost}&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1590566841,"post_id":62038272,"comment_id":109724151,"body_markdown":"Does this answer your question? [How to format strings in Java](https://stackoverflow.com/questions/6431933/how-to-format-strings-in-java) (TL;DR nope, but there are other ways)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6431933/how-to-format-strings-in-java\">How to format strings in Java</a> (TL;DR nope, but there are other ways)"},{"owner":{"account_id":543862,"reputation":53458,"user_id":913124,"accept_rate":100,"display_name":"Christos"},"score":0,"creation_date":1590566870,"post_id":62038272,"comment_id":109724170,"body_markdown":"Unfortunately, there isn&#39;t such a thing (sting interpolation) in Java.","body":"Unfortunately, there isn&#39;t such a thing (sting interpolation) in Java."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1590566887,"post_id":62038272,"comment_id":109724179,"body_markdown":"It&#39;s possible in kotlin but not in Java - you can use string concatenation instead `String s = &quot;Date: &quot; + LocalDateTime.now();`.","body":"It&#39;s possible in kotlin but not in Java - you can use string concatenation instead <code>String s = &quot;Date: &quot; + LocalDateTime.now();</code>."},{"owner":{"account_id":15676749,"reputation":129,"user_id":11311835,"display_name":"Snackerino"},"score":0,"creation_date":1590567361,"post_id":62038272,"comment_id":109724449,"body_markdown":"I thought so. Thanks a lot ;)","body":"I thought so. Thanks a lot ;)"}],"answers":[{"tags":[],"owner":{"account_id":8791544,"reputation":4461,"user_id":6571165,"display_name":"Gopinath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1590570365,"creation_date":1590569654,"answer_id":62039122,"question_id":62038272,"body_markdown":"Java provides a type-safe way of concatenating Strings.\r\n\r\n**Here is a demonstration using jshell:** \r\n\r\n    &gt; jshell\r\n    \r\n    jshell&gt; import java.time.*;\r\n    \r\n    jshell&gt; String s = (&quot;Date: &quot; + LocalDateTime.now());\r\n    s ==&gt; &quot;Date: 2020-05-27T09:49:10.476140&quot;\r\n    \r\n    jshell&gt;\r\n\r\n\r\n**Here is a working example program that uses Date formatting:**\r\n\r\n    // File name: Demo.java\r\n\r\n    import java.text.Format;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class Demo {\r\n       public static void main(String[] args) {\r\n          Format f = new SimpleDateFormat(&quot;dd/mm/yyyy hh:mm:ss a&quot;);\r\n          String s = ( &quot;Date: &quot; + f.format(new Date()) );\r\n          System.out.println(s);\r\n       }\r\n    }\r\n\r\n\r\n**Output:**\r\n\r\n    &gt; javac Demo.java\r\n    \r\n    &gt; java Demo\r\n    Date: 27/03/2020 10:03:02 am\r\n\r\n","title":"Java equivalent to C# $&quot;{var}&quot; formatting","body":"<p>Java provides a type-safe way of concatenating Strings.</p>\n\n<p><strong>Here is a demonstration using jshell:</strong> </p>\n\n<pre><code>&gt; jshell\n\njshell&gt; import java.time.*;\n\njshell&gt; String s = (\"Date: \" + LocalDateTime.now());\ns ==&gt; \"Date: 2020-05-27T09:49:10.476140\"\n\njshell&gt;\n</code></pre>\n\n<p><strong>Here is a working example program that uses Date formatting:</strong></p>\n\n<pre><code>// File name: Demo.java\n\nimport java.text.Format;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Demo {\n   public static void main(String[] args) {\n      Format f = new SimpleDateFormat(\"dd/mm/yyyy hh:mm:ss a\");\n      String s = ( \"Date: \" + f.format(new Date()) );\n      System.out.println(s);\n   }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>&gt; javac Demo.java\n\n&gt; java Demo\nDate: 27/03/2020 10:03:02 am\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691189571,"creation_date":1691189571,"answer_id":76839483,"question_id":62038272,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString s = STR.&quot;Date: \\{new DateTime()}&quot;;\r\n```\r\n\r\nA string template can interpolate arbitrary code, which may contain newlines and comments that won&#39;t show up in the final string:\r\n\r\n```java\r\nString time = STR.&quot;The time is \\{\r\n   // This does custom formatting.\r\n   DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;).format(LocalTime.now())\r\n} right now&quot;;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Java equivalent to C# $&quot;{var}&quot; formatting","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = STR.&quot;Date: \\{new DateTime()}&quot;;\n</code></pre>\n<p>A string template can interpolate arbitrary code, which may contain newlines and comments that won't show up in the final string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String time = STR.&quot;The time is \\{\n   // This does custom formatting.\n   DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;).format(LocalTime.now())\n} right now&quot;;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":15676749,"reputation":129,"user_id":11311835,"display_name":"Snackerino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62039122,"answer_count":2,"score":0,"last_activity_date":1691189571,"creation_date":1590566738,"question_id":62038272,"body_markdown":"So I am learning a bit of Java and I&#39;m just curios if there is an equivalent to the string format with the $ sign like in C#.\r\nFor example\r\n\r\n    string s = $&quot;Date: {DateTime.Now}&quot;;\r\n    // s = Date: 5/27/2020 8:02:25 AM\r\n\r\nIs this possible in Java?\r\nI find it more convenient than doing it with indexes.","title":"Java equivalent to C# $&quot;{var}&quot; formatting","body":"<p>So I am learning a bit of Java and I'm just curios if there is an equivalent to the string format with the $ sign like in C#.\nFor example</p>\n\n<pre><code>string s = $\"Date: {DateTime.Now}\";\n// s = Date: 5/27/2020 8:02:25 AM\n</code></pre>\n\n<p>Is this possible in Java?\nI find it more convenient than doing it with indexes.</p>\n"},{"tags":["java","string-formatting"],"comments":[{"owner":{"account_id":55748,"reputation":5870,"user_id":167016,"accept_rate":78,"display_name":"vpram86"},"score":0,"creation_date":1266475800,"post_id":2286648,"comment_id":2250667,"body_markdown":"You might extend MessageFormat and implement the mapping funtionality from variables to indices in that.","body":"You might extend MessageFormat and implement the mapping funtionality from variables to indices in that."},{"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1453118707,"post_id":2286648,"comment_id":57448087,"body_markdown":"See StrSubstitutor - https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/StrSubstitutor.html","body":"See StrSubstitutor - <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/StrSubstitutor.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-release/&zwnj;&#8203;org/&hellip;</a>"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1506511695,"post_id":2286648,"comment_id":79849077,"body_markdown":"Some history: Java mostly copied C/C++ on this matter as it tried to lure developers from the C++ world where `%s` was common practice. https://en.wikipedia.org/wiki/Printf_format_string#History\nAlso note that some IDE and FindBugs may automatically detect mismatching %s and %d counts, but I would still prefer named fields.","body":"Some history: Java mostly copied C/C++ on this matter as it tried to lure developers from the C++ world where <code>%s</code> was common practice. <a href=\"https://en.wikipedia.org/wiki/Printf_format_string#History\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Printf_format_string#History</a> Also note that some IDE and FindBugs may automatically detect mismatching %s and %d counts, but I would still prefer named fields."}],"answers":[{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1560809049,"creation_date":1266473998,"answer_id":2286702,"question_id":2286648,"body_markdown":"Try [Freemarker][1], templating library.\r\n\r\n[![alt text][2]][2]\r\n\r\n\r\n  [1]: http://freemarker.org/\r\n  [2]: https://i.stack.imgur.com/z5T5K.png","title":"Named placeholders in string formatting","body":"<p>Try <a href=\"http://freemarker.org/\" rel=\"nofollow noreferrer\">Freemarker</a>, templating library.</p>\n\n<p><a href=\"https://i.stack.imgur.com/z5T5K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z5T5K.png\" alt=\"alt text\"></a></p>\n"},{"tags":[],"owner":{"account_id":29641,"reputation":2859,"user_id":80266,"display_name":"giladbu"},"down_vote_count":2,"up_vote_count":107,"is_accepted":false,"score":105,"last_activity_date":1513330627,"creation_date":1266474606,"answer_id":2286732,"question_id":2286648,"body_markdown":"not quite, but you can use [MessageFormat][1] to reference one value multiple times:\r\n\r\n    MessageFormat.format(&quot;There&#39;s an incorrect value \\&quot;{0}\\&quot; in column # {1}&quot;, x, y);\r\n\r\nThe above can be done with String.format() as well, but I find messageFormat syntax cleaner if you need to build complex expressions, plus you dont need to care about the type of the object you are putting into the string\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html","title":"Named placeholders in string formatting","body":"<p>not quite, but you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\">MessageFormat</a> to reference one value multiple times:</p>\n\n<pre><code>MessageFormat.format(\"There's an incorrect value \\\"{0}\\\" in column # {1}\", x, y);\n</code></pre>\n\n<p>The above can be done with String.format() as well, but I find messageFormat syntax cleaner if you need to build complex expressions, plus you dont need to care about the type of the object you are putting into the string</p>\n"},{"tags":[],"owner":{"account_id":93884,"reputation":11967,"user_id":256660,"accept_rate":75,"display_name":"Lombo"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1414237564,"creation_date":1266484385,"answer_id":2287426,"question_id":2286648,"body_markdown":"You could have something like this on a string helper class\r\n\r\n    /**\r\n\t * An interpreter for strings with named placeholders.\r\n\t *\r\n\t * For example given the string &quot;hello %(myName)&quot; and the map &lt;code&gt;\r\n\t *  \t&lt;p&gt;Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();&lt;/p&gt;\r\n\t * \t\t&lt;p&gt;map.put(&quot;myName&quot;, &quot;world&quot;);&lt;/p&gt;\r\n\t * &lt;/code&gt;\r\n\t *\r\n\t * the call {@code format(&quot;hello %(myName)&quot;, map)} returns &quot;hello world&quot;\r\n\t *\r\n\t * It replaces every occurrence of a named placeholder with its given value\r\n\t * in the map. If there is a named place holder which is not found in the\r\n\t * map then the string will retain that placeholder. Likewise, if there is\r\n\t * an entry in the map that does not have its respective placeholder, it is\r\n\t * ignored.\r\n\t *\r\n\t * @param str\r\n\t *            string to format\r\n\t * @param values\r\n\t *            to replace\r\n\t * @return formatted string\r\n\t */\r\n\tpublic static String format(String str, Map&lt;String, Object&gt; values) {\r\n\r\n\t\tStringBuilder builder = new StringBuilder(str);\r\n\r\n\t\tfor (Entry&lt;String, Object&gt; entry : values.entrySet()) {\r\n\r\n\t\t\tint start;\r\n\t\t\tString pattern = &quot;%(&quot; + entry.getKey() + &quot;)&quot;;\r\n\t\t\tString value = entry.getValue().toString();\r\n\r\n\t\t\t// Replace every occurence of %(key) with value\r\n\t\t\twhile ((start = builder.indexOf(pattern)) != -1) {\r\n\t\t\t\tbuilder.replace(start, start + pattern.length(), value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn builder.toString();\r\n\t}","title":"Named placeholders in string formatting","body":"<p>You could have something like this on a string helper class</p>\n\n<pre><code>/**\n * An interpreter for strings with named placeholders.\n *\n * For example given the string \"hello %(myName)\" and the map &lt;code&gt;\n *      &lt;p&gt;Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();&lt;/p&gt;\n *      &lt;p&gt;map.put(\"myName\", \"world\");&lt;/p&gt;\n * &lt;/code&gt;\n *\n * the call {@code format(\"hello %(myName)\", map)} returns \"hello world\"\n *\n * It replaces every occurrence of a named placeholder with its given value\n * in the map. If there is a named place holder which is not found in the\n * map then the string will retain that placeholder. Likewise, if there is\n * an entry in the map that does not have its respective placeholder, it is\n * ignored.\n *\n * @param str\n *            string to format\n * @param values\n *            to replace\n * @return formatted string\n */\npublic static String format(String str, Map&lt;String, Object&gt; values) {\n\n    StringBuilder builder = new StringBuilder(str);\n\n    for (Entry&lt;String, Object&gt; entry : values.entrySet()) {\n\n        int start;\n        String pattern = \"%(\" + entry.getKey() + \")\";\n        String value = entry.getValue().toString();\n\n        // Replace every occurence of %(key) with value\n        while ((start = builder.indexOf(pattern)) != -1) {\n            builder.replace(start, start + pattern.length(), value);\n        }\n    }\n\n    return builder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":565443,"reputation":3159,"user_id":199621,"accept_rate":100,"display_name":"Andy"},"down_vote_count":4,"up_vote_count":12,"is_accepted":true,"score":8,"last_activity_date":1414237535,"creation_date":1266569645,"answer_id":2295004,"question_id":2286648,"body_markdown":"Thanks for all your help! Using all your clues, I&#39;ve written routine to do exactly what I want -- python-like string formatting using dictionary. Since I&#39;m Java newbie, any hints are appreciated.\r\n\r\n    public static String dictFormat(String format, Hashtable&lt;String, Object&gt; values) {\r\n        StringBuilder convFormat = new StringBuilder(format);\r\n        Enumeration&lt;String&gt; keys = values.keys();\r\n        ArrayList valueList = new ArrayList();\r\n        int currentPos = 1;\r\n        while (keys.hasMoreElements()) {\r\n            String key = keys.nextElement(),\r\n            formatKey = &quot;%(&quot; + key + &quot;)&quot;,\r\n            formatPos = &quot;%&quot; + Integer.toString(currentPos) + &quot;$&quot;;\r\n            int index = -1;\r\n            while ((index = convFormat.indexOf(formatKey, index)) != -1) {\r\n                convFormat.replace(index, index + formatKey.length(), formatPos);\r\n                index += formatPos.length();\r\n            }\r\n            valueList.add(values.get(key));\r\n            ++currentPos;\r\n        }\r\n        return String.format(convFormat.toString(), valueList.toArray());\r\n    }\r\n\r\n","title":"Named placeholders in string formatting","body":"<p>Thanks for all your help! Using all your clues, I've written routine to do exactly what I want -- python-like string formatting using dictionary. Since I'm Java newbie, any hints are appreciated.</p>\n\n<pre><code>public static String dictFormat(String format, Hashtable&lt;String, Object&gt; values) {\n    StringBuilder convFormat = new StringBuilder(format);\n    Enumeration&lt;String&gt; keys = values.keys();\n    ArrayList valueList = new ArrayList();\n    int currentPos = 1;\n    while (keys.hasMoreElements()) {\n        String key = keys.nextElement(),\n        formatKey = \"%(\" + key + \")\",\n        formatPos = \"%\" + Integer.toString(currentPos) + \"$\";\n        int index = -1;\n        while ((index = convFormat.indexOf(formatKey, index)) != -1) {\n            convFormat.replace(index, index + formatKey.length(), formatPos);\n            index += formatPos.length();\n        }\n        valueList.add(values.get(key));\n        ++currentPos;\n    }\n    return String.format(convFormat.toString(), valueList.toArray());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4373,"reputation":9679,"user_id":6533,"accept_rate":89,"display_name":"Fixpoint"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1439246517,"creation_date":1282816091,"answer_id":3573924,"question_id":2286648,"body_markdown":"You can use [StringTemplate][1] library, it offers what you want and much more.\r\n\r\n    import org.antlr.stringtemplate.*;\r\n     \r\n    final StringTemplate hello = new StringTemplate(&quot;Hello, $name$&quot;);\r\n    hello.setAttribute(&quot;name&quot;, &quot;World&quot;);\r\n    System.out.println(hello.toString());\r\n\r\n\r\n  [1]: https://theantlrguy.atlassian.net/wiki/display/ST/Introduction","title":"Named placeholders in string formatting","body":"<p>You can use <a href=\"https://theantlrguy.atlassian.net/wiki/display/ST/Introduction\" rel=\"noreferrer\">StringTemplate</a> library, it offers what you want and much more.</p>\n\n<pre><code>import org.antlr.stringtemplate.*;\n\nfinal StringTemplate hello = new StringTemplate(\"Hello, $name$\");\nhello.setAttribute(\"name\", \"World\");\nSystem.out.println(hello.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138935,"reputation":2014,"user_id":344196,"display_name":"schup"},"down_vote_count":1,"up_vote_count":177,"is_accepted":false,"score":176,"last_activity_date":1678844901,"creation_date":1335512965,"answer_id":10346795,"question_id":2286648,"body_markdown":"[`StringSubstitutor`][1] from *Apache Commons Text* library is a lightweight way of doing this, provided your values are already formatted correctly. \r\n\r\n    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;value&quot;, &quot;1&quot;);\r\n    values.put(&quot;column&quot;,&quot;2&quot;);\r\n\r\n    StringSubstitutor sub = new StringSubstitutor(values, &quot;%(&quot;, &quot;)&quot;);\r\n    String result = sub.replace(&quot;There&#39;s an incorrect value &#39;%(value)&#39; in column # %(column)&quot;);\r\n\r\nThe `result` string will contain the following:\r\n\r\n&gt; `There&#39;s an incorrect value &#39;1&#39; in column # 2`\r\n\r\nWhen using Maven you can add this dependency to your `pom.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n        &lt;version&gt;1.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html","title":"Named placeholders in string formatting","body":"<p><a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\"><code>StringSubstitutor</code></a> from <em>Apache Commons Text</em> library is a lightweight way of doing this, provided your values are already formatted correctly.</p>\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;value&quot;, &quot;1&quot;);\nvalues.put(&quot;column&quot;,&quot;2&quot;);\n\nStringSubstitutor sub = new StringSubstitutor(values, &quot;%(&quot;, &quot;)&quot;);\nString result = sub.replace(&quot;There's an incorrect value '%(value)' in column # %(column)&quot;);\n</code></pre>\n<p>The <code>result</code> string will contain the following:</p>\n<blockquote>\n<p><code>There's an incorrect value '1' in column # 2</code></p>\n</blockquote>\n<p>When using Maven you can add this dependency to your <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n    &lt;version&gt;1.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1492591051,"creation_date":1420622043,"answer_id":27815924,"question_id":2286648,"body_markdown":"\tpublic static String format(String format, Map&lt;String, Object&gt; values) {\r\n\t\tStringBuilder formatter = new StringBuilder(format);\r\n\t\tList&lt;Object&gt; valueList = new ArrayList&lt;Object&gt;();\r\n\r\n\t\tMatcher matcher = Pattern.compile(&quot;\\\\$\\\\{(\\\\w+)}&quot;).matcher(format);\r\n\r\n\t\twhile (matcher.find()) {\r\n\t\t\tString key = matcher.group(1);\r\n\r\n\t\t\tString formatKey = String.format(&quot;${%s}&quot;, key);\r\n\t\t\tint index = formatter.indexOf(formatKey);\r\n\r\n\t\t\tif (index != -1) {\r\n\t\t\t\tformatter.replace(index, index + formatKey.length(), &quot;%s&quot;);\r\n\t\t\t\tvalueList.add(values.get(key));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn String.format(formatter.toString(), valueList.toArray());\r\n\t}\r\n\r\nExample:\r\n\r\n\tString format = &quot;My name is ${1}. ${0} ${1}.&quot;;\r\n\r\n\tMap&lt;String, Object&gt; values = new HashMap&lt;String, Object&gt;();\r\n\tvalues.put(&quot;0&quot;, &quot;James&quot;);\r\n\tvalues.put(&quot;1&quot;, &quot;Bond&quot;);\r\n\r\n    System.out.println(format(format, values)); // My name is Bond. James Bond.","title":"Named placeholders in string formatting","body":"<pre><code>public static String format(String format, Map&lt;String, Object&gt; values) {\n    StringBuilder formatter = new StringBuilder(format);\n    List&lt;Object&gt; valueList = new ArrayList&lt;Object&gt;();\n\n    Matcher matcher = Pattern.compile(\"\\\\$\\\\{(\\\\w+)}\").matcher(format);\n\n    while (matcher.find()) {\n        String key = matcher.group(1);\n\n        String formatKey = String.format(\"${%s}\", key);\n        int index = formatter.indexOf(formatKey);\n\n        if (index != -1) {\n            formatter.replace(index, index + formatKey.length(), \"%s\");\n            valueList.add(values.get(key));\n        }\n    }\n\n    return String.format(formatter.toString(), valueList.toArray());\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>String format = \"My name is ${1}. ${0} ${1}.\";\n\nMap&lt;String, Object&gt; values = new HashMap&lt;String, Object&gt;();\nvalues.put(\"0\", \"James\");\nvalues.put(\"1\", \"Bond\");\n\nSystem.out.println(format(format, values)); // My name is Bond. James Bond.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1441290038,"creation_date":1441290038,"answer_id":32378247,"question_id":2286648,"body_markdown":"My answer is to:\r\n\r\na) use StringBuilder when possible\r\n\r\nb) keep (in any form: integer is the best, speciall char like dollar macro etc) position of &quot;placeholder&quot; and then use `StringBuilder.insert()` (few versions of arguments).\r\n\r\nUsing external libraries seems overkill and I belive degrade performance significant, when StringBuilder is converted to String internally. \r\n ","title":"Named placeholders in string formatting","body":"<p>My answer is to:</p>\n\n<p>a) use StringBuilder when possible</p>\n\n<p>b) keep (in any form: integer is the best, speciall char like dollar macro etc) position of \"placeholder\" and then use <code>StringBuilder.insert()</code> (few versions of arguments).</p>\n\n<p>Using external libraries seems overkill and I belive degrade performance significant, when StringBuilder is converted to String internally. </p>\n"},{"tags":[],"owner":{"account_id":3650169,"reputation":3098,"user_id":3042543,"display_name":"Rafal Enden"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1441474974,"creation_date":1441474974,"answer_id":32415972,"question_id":2286648,"body_markdown":"Based on the [answer][1] I created `MapBuilder` class:\r\n\r\n    public class MapBuilder {\r\n    \r\n        public static Map&lt;String, Object&gt; build(Object... data) {\r\n            Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\r\n    \r\n            if (data.length % 2 != 0) {\r\n                throw new IllegalArgumentException(&quot;Odd number of arguments&quot;);\r\n            }\r\n    \r\n            String key = null;\r\n            Integer step = -1;\r\n    \r\n            for (Object value : data) {\r\n                step++;\r\n                switch (step % 2) {\r\n                    case 0:\r\n                        if (value == null) {\r\n                            throw new IllegalArgumentException(&quot;Null key value&quot;);\r\n                        }\r\n                        key = (String) value;\r\n                        continue;\r\n                    case 1:\r\n                        result.put(key, value);\r\n                        break;\r\n                }\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\nthen I created class `StringFormat` for String formatting:\r\n\r\n    public final class StringFormat {\r\n    \r\n        public static String format(String format, Object... args) {\r\n            Map&lt;String, Object&gt; values = MapBuilder.build(args);\r\n    \r\n            for (Map.Entry&lt;String, Object&gt; entry : values.entrySet()) {\r\n                String key = entry.getKey();\r\n                Object value = entry.getValue();\r\n                format = format.replace(&quot;$&quot; + key, value.toString());\r\n            }\r\n    \r\n            return format;\r\n        }\r\n    \r\n    }\r\n\r\nwhich you could use like that:\r\n\r\n\r\n    String bookingDate = StringFormat.format(&quot;From $startDate to $endDate&quot;), \r\n            &quot;$startDate&quot;, formattedStartDate, \r\n            &quot;$endDate&quot;, formattedEndDate\r\n    );\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17474581/3042543","title":"Named placeholders in string formatting","body":"<p>Based on the <a href=\"https://stackoverflow.com/a/17474581/3042543\">answer</a> I created <code>MapBuilder</code> class:</p>\n\n<pre><code>public class MapBuilder {\n\n    public static Map&lt;String, Object&gt; build(Object... data) {\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\n\n        if (data.length % 2 != 0) {\n            throw new IllegalArgumentException(\"Odd number of arguments\");\n        }\n\n        String key = null;\n        Integer step = -1;\n\n        for (Object value : data) {\n            step++;\n            switch (step % 2) {\n                case 0:\n                    if (value == null) {\n                        throw new IllegalArgumentException(\"Null key value\");\n                    }\n                    key = (String) value;\n                    continue;\n                case 1:\n                    result.put(key, value);\n                    break;\n            }\n        }\n\n        return result;\n    }\n\n}\n</code></pre>\n\n<p>then I created class <code>StringFormat</code> for String formatting:</p>\n\n<pre><code>public final class StringFormat {\n\n    public static String format(String format, Object... args) {\n        Map&lt;String, Object&gt; values = MapBuilder.build(args);\n\n        for (Map.Entry&lt;String, Object&gt; entry : values.entrySet()) {\n            String key = entry.getKey();\n            Object value = entry.getValue();\n            format = format.replace(\"$\" + key, value.toString());\n        }\n\n        return format;\n    }\n\n}\n</code></pre>\n\n<p>which you could use like that:</p>\n\n<pre><code>String bookingDate = StringFormat.format(\"From $startDate to $endDate\"), \n        \"$startDate\", formattedStartDate, \n        \"$endDate\", formattedEndDate\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1475838020,"creation_date":1475776138,"answer_id":39902558,"question_id":2286648,"body_markdown":"This is an old thread, but just for the record, you could also use Java 8 style, like this:\r\n\r\n    public static String replaceParams(Map&lt;String, String&gt; hashMap, String template) {\r\n        return hashMap.entrySet().stream().reduce(template, (s, e) -&gt; s.replace(&quot;%(&quot; + e.getKey() + &quot;)&quot;, e.getValue()),\r\n                (s, s2) -&gt; s);\r\n    }\r\n\r\nUsage:\r\n\r\n    public static void main(String[] args) {\r\n        final HashMap&lt;String, String&gt; hashMap = new HashMap&lt;String, String&gt;() {\r\n            {\r\n                put(&quot;foo&quot;, &quot;foo1&quot;);\r\n                put(&quot;bar&quot;, &quot;bar1&quot;);\r\n                put(&quot;car&quot;, &quot;BMW&quot;);\r\n                put(&quot;truck&quot;, &quot;MAN&quot;);\r\n            }\r\n        };\r\n        String res = replaceParams(hashMap, &quot;This is &#39;%(foo)&#39; and &#39;%(foo)&#39;, but also &#39;%(bar)&#39; &#39;%(bar)&#39; indeed.&quot;);\r\n        System.out.println(res);\r\n        System.out.println(replaceParams(hashMap, &quot;This is &#39;%(car)&#39; and &#39;%(foo)&#39;, but also &#39;%(bar)&#39; &#39;%(bar)&#39; indeed.&quot;));\r\n        System.out.println(replaceParams(hashMap, &quot;This is &#39;%(car)&#39; and &#39;%(truck)&#39;, but also &#39;%(foo)&#39; &#39;%(bar)&#39; + &#39;%(truck)&#39; indeed.&quot;));\r\n    }\r\n\r\nThe output will be:\r\n\r\n    This is &#39;foo1&#39; and &#39;foo1&#39;, but also &#39;bar1&#39; &#39;bar1&#39; indeed.\r\n    This is &#39;BMW&#39; and &#39;foo1&#39;, but also &#39;bar1&#39; &#39;bar1&#39; indeed.\r\n    This is &#39;BMW&#39; and &#39;MAN&#39;, but also &#39;foo1&#39; &#39;bar1&#39; + &#39;MAN&#39; indeed.","title":"Named placeholders in string formatting","body":"<p>This is an old thread, but just for the record, you could also use Java 8 style, like this:</p>\n\n<pre><code>public static String replaceParams(Map&lt;String, String&gt; hashMap, String template) {\n    return hashMap.entrySet().stream().reduce(template, (s, e) -&gt; s.replace(\"%(\" + e.getKey() + \")\", e.getValue()),\n            (s, s2) -&gt; s);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>public static void main(String[] args) {\n    final HashMap&lt;String, String&gt; hashMap = new HashMap&lt;String, String&gt;() {\n        {\n            put(\"foo\", \"foo1\");\n            put(\"bar\", \"bar1\");\n            put(\"car\", \"BMW\");\n            put(\"truck\", \"MAN\");\n        }\n    };\n    String res = replaceParams(hashMap, \"This is '%(foo)' and '%(foo)', but also '%(bar)' '%(bar)' indeed.\");\n    System.out.println(res);\n    System.out.println(replaceParams(hashMap, \"This is '%(car)' and '%(foo)', but also '%(bar)' '%(bar)' indeed.\"));\n    System.out.println(replaceParams(hashMap, \"This is '%(car)' and '%(truck)', but also '%(foo)' '%(bar)' + '%(truck)' indeed.\"));\n}\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>This is 'foo1' and 'foo1', but also 'bar1' 'bar1' indeed.\nThis is 'BMW' and 'foo1', but also 'bar1' 'bar1' indeed.\nThis is 'BMW' and 'MAN', but also 'foo1' 'bar1' + 'MAN' indeed.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490817045,"creation_date":1490817045,"answer_id":43102872,"question_id":2286648,"body_markdown":"I am the author of [a small library](https://github.com/nomemory/aleph-formatter) that does exactly what you want:\r\n\r\n    Student student = new Student(&quot;Andrei&quot;, 30, &quot;Male&quot;);\r\n\r\n    String studStr = template(&quot;#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}&quot;)\r\n                        .arg(&quot;id&quot;, 10)\r\n                        .arg(&quot;st&quot;, student)\r\n                        .format();\r\n    System.out.println(studStr);\r\n\r\n\r\nOr you can chain the arguments:\r\n\r\n    String result = template(&quot;#{x} + #{y} = #{z}&quot;)\r\n                        .args(&quot;x&quot;, 5, &quot;y&quot;, 10, &quot;z&quot;, 15)\r\n                        .format();\r\n    System.out.println(result);\r\n    \r\n    // Output: &quot;5 + 10 = 15&quot;\r\n","title":"Named placeholders in string formatting","body":"<p>I am the author of <a href=\"https://github.com/nomemory/aleph-formatter\" rel=\"noreferrer\">a small library</a> that does exactly what you want:</p>\n\n<pre><code>Student student = new Student(\"Andrei\", 30, \"Male\");\n\nString studStr = template(\"#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}\")\n                    .arg(\"id\", 10)\n                    .arg(\"st\", student)\n                    .format();\nSystem.out.println(studStr);\n</code></pre>\n\n<p>Or you can chain the arguments:</p>\n\n<pre><code>String result = template(\"#{x} + #{y} = #{z}\")\n                    .args(\"x\", 5, \"y\", 10, \"z\", 15)\n                    .format();\nSystem.out.println(result);\n\n// Output: \"5 + 10 = 15\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4318345,"reputation":6373,"user_id":3527464,"accept_rate":100,"display_name":"Pyves"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1526328822,"creation_date":1526328822,"answer_id":50338332,"question_id":2286648,"body_markdown":"Apache Commons Lang&#39;s [replaceEach][1] method may come in handy dependeding on your specific needs. You can easily use it to replace placeholders by name with this single method call:\r\n\r\n\tStringUtils.replaceEach(&quot;There&#39;s an incorrect value &#39;%(value)&#39; in column # %(column)&quot;,\r\n\t\t\t\tnew String[] { &quot;%(value)&quot;, &quot;%(column)&quot; }, new String[] { x, y });\r\n\r\nGiven some input text, this will replace all occurrences of the placeholders in the first string array with the corresponding values in the second one.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-","title":"Named placeholders in string formatting","body":"<p>Apache Commons Lang's <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-\" rel=\"nofollow noreferrer\">replaceEach</a> method may come in handy dependeding on your specific needs. You can easily use it to replace placeholders by name with this single method call:</p>\n\n<pre><code>StringUtils.replaceEach(\"There's an incorrect value '%(value)' in column # %(column)\",\n            new String[] { \"%(value)\", \"%(column)\" }, new String[] { x, y });\n</code></pre>\n\n<p>Given some input text, this will replace all occurrences of the placeholders in the first string array with the corresponding values in the second one.</p>\n"},{"tags":[],"owner":{"account_id":6193602,"reputation":363,"user_id":4825622,"display_name":"schlegel11"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535069215,"creation_date":1535038731,"answer_id":51989500,"question_id":2286648,"body_markdown":"I created also a util/helper class (using jdk 8) which can format a string an replaces occurrences of variables.\r\n&lt;p&gt;\r\nFor this purpose I used the Matchers &quot;appendReplacement&quot; method which does all the substitution and loops only over the affected parts of a format string.\r\n&lt;p&gt;\r\nThe helper class isn&#39;t currently well javadoc documented. I will changes this in the future ;)\r\nAnyway I commented the most important lines (I hope).\r\n&lt;p&gt;\r\n\r\n        public class FormatHelper {\r\n    \r\n        //Prefix and suffix for the enclosing variable name in the format string.\r\n        //Replace the default values with any you need.\r\n        public static final String DEFAULT_PREFIX = &quot;${&quot;;\r\n        public static final String DEFAULT_SUFFIX = &quot;}&quot;;\r\n    \r\n        //Define dynamic function what happens if a key is not found.\r\n        //Replace the defualt exception with any &quot;unchecked&quot; exception type you need or any other behavior.\r\n        public static final BiFunction&lt;String, String, String&gt; DEFAULT_NO_KEY_FUNCTION =\r\n                (fullMatch, variableName) -&gt; {\r\n                    throw new RuntimeException(String.format(&quot;Key: %s for variable %s not found.&quot;,\r\n                                                             variableName,\r\n                                                             fullMatch));\r\n                };\r\n        private final Pattern variablePattern;\r\n        private final Map&lt;String, String&gt; values;\r\n        private final BiFunction&lt;String, String, String&gt; noKeyFunction;\r\n        private final String prefix;\r\n        private final String suffix;\r\n    \r\n        public FormatHelper(Map&lt;String, String&gt; values) {\r\n            this(DEFAULT_NO_KEY_FUNCTION, values);\r\n        }\r\n    \r\n        public FormatHelper(\r\n                BiFunction&lt;String, String, String&gt; noKeyFunction, Map&lt;String, String&gt; values) {\r\n            this(DEFAULT_PREFIX, DEFAULT_SUFFIX, noKeyFunction, values);\r\n        }\r\n    \r\n        public FormatHelper(String prefix, String suffix, Map&lt;String, String&gt; values) {\r\n            this(prefix, suffix, DEFAULT_NO_KEY_FUNCTION, values);\r\n        }\r\n    \r\n        public FormatHelper(\r\n                String prefix,\r\n                String suffix,\r\n                BiFunction&lt;String, String, String&gt; noKeyFunction,\r\n                Map&lt;String, String&gt; values) {\r\n            this.prefix = prefix;\r\n            this.suffix = suffix;\r\n            this.values = values;\r\n            this.noKeyFunction = noKeyFunction;\r\n    \r\n            //Create the Pattern and quote the prefix and suffix so that the regex don&#39;t interpret special chars.\r\n            //The variable name is a &quot;\\w+&quot; in an extra capture group.\r\n            variablePattern = Pattern.compile(Pattern.quote(prefix) + &quot;(\\\\w+)&quot; + Pattern.quote(suffix));\r\n        }\r\n    \r\n        public static String format(CharSequence format, Map&lt;String, String&gt; values) {\r\n            return new FormatHelper(values).format(format);\r\n        }\r\n    \r\n        public static String format(\r\n                CharSequence format,\r\n                BiFunction&lt;String, String, String&gt; noKeyFunction,\r\n                Map&lt;String, String&gt; values) {\r\n            return new FormatHelper(noKeyFunction, values).format(format);\r\n        }\r\n    \r\n        public static String format(\r\n                String prefix, String suffix, CharSequence format, Map&lt;String, String&gt; values) {\r\n            return new FormatHelper(prefix, suffix, values).format(format);\r\n        }\r\n    \r\n        public static String format(\r\n                String prefix,\r\n                String suffix,\r\n                BiFunction&lt;String, String, String&gt; noKeyFunction,\r\n                CharSequence format,\r\n                Map&lt;String, String&gt; values) {\r\n            return new FormatHelper(prefix, suffix, noKeyFunction, values).format(format);\r\n        }\r\n    \r\n        public String format(CharSequence format) {\r\n    \r\n            //Create matcher based on the init pattern for variable names.\r\n            Matcher matcher = variablePattern.matcher(format);\r\n    \r\n            //This buffer will hold all parts of the formatted finished string.\r\n            StringBuffer formatBuffer = new StringBuffer();\r\n    \r\n            //loop while the matcher finds another variable (prefix -&gt; name &lt;- suffix) match\r\n            while (matcher.find()) {\r\n    \r\n                //The root capture group with the full match e.g ${variableName}\r\n                String fullMatch = matcher.group();\r\n    \r\n                //The capture group for the variable name resulting from &quot;(\\w+)&quot; e.g. variableName\r\n                String variableName = matcher.group(1);\r\n    \r\n                //Get the value in our Map so the Key is the used variable name in our &quot;format&quot; string. The associated value will replace the variable.\r\n                //If key is missing (absent) call the noKeyFunction with parameters &quot;fullMatch&quot; and &quot;variableName&quot; else return the value.\r\n                String value = values.computeIfAbsent(variableName, key -&gt; noKeyFunction.apply(fullMatch, key));\r\n    \r\n                //Escape the Map value because the &quot;appendReplacement&quot; method interprets the $ and \\ as special chars.\r\n                String escapedValue = Matcher.quoteReplacement(value);\r\n    \r\n                //The &quot;appendReplacement&quot; method replaces the current &quot;full&quot; match (e.g. ${variableName}) with the value from the &quot;values&quot; Map.\r\n                //The replaced part of the &quot;format&quot; string is appended to the StringBuffer &quot;formatBuffer&quot;.\r\n                matcher.appendReplacement(formatBuffer, escapedValue);\r\n            }\r\n    \r\n            //The &quot;appendTail&quot; method appends the last part of the &quot;format&quot; String which has no regex match.\r\n            //That means if e.g. our &quot;format&quot; string has no matches the whole untouched &quot;format&quot; string is appended to the StringBuffer &quot;formatBuffer&quot;.\r\n            //Further more the method return the buffer.\r\n            return matcher.appendTail(formatBuffer)\r\n                          .toString();\r\n        }\r\n    \r\n        public String getPrefix() {\r\n            return prefix;\r\n        }\r\n    \r\n        public String getSuffix() {\r\n            return suffix;\r\n        }\r\n    \r\n        public Map&lt;String, String&gt; getValues() {\r\n            return values;\r\n        }\r\n    }\r\n\r\n&lt;p&gt;\r\n\r\nYou can create a class instance for a specific Map with values (or suffix prefix or noKeyFunction)\r\nlike:\r\n&lt;p&gt;\r\n\r\n        Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n        values.put(&quot;firstName&quot;, &quot;Peter&quot;);\r\n        values.put(&quot;lastName&quot;, &quot;Parker&quot;);\r\n    \r\n    \r\n        FormatHelper formatHelper = new FormatHelper(values);\r\n        formatHelper.format(&quot;${firstName} ${lastName} is Spiderman!&quot;);\r\n        // Result: &quot;Peter Parker is Spiderman!&quot;\r\n        // Next format:\r\n        formatHelper.format(&quot;Does ${firstName} ${lastName} works as photographer?&quot;);\r\n        //Result: &quot;Does Peter Parker works as photographer?&quot;\r\n\r\n\r\n&lt;p&gt;\r\nFurther more you can define what happens if a key in the values Map is missing (works in both ways e.g. wrong variable name in format string or missing key in Map).\r\nThe default behavior is an thrown unchecked exception (unchecked because I use the default jdk8 Function which cant handle checked exceptions) like:\r\n&lt;p&gt;\r\n\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;firstName&quot;, &quot;Peter&quot;);\r\n        map.put(&quot;lastName&quot;, &quot;Parker&quot;);\r\n\r\n\r\n        FormatHelper formatHelper = new FormatHelper(map);\r\n        formatHelper.format(&quot;${missingName} ${lastName} is Spiderman!&quot;);\r\n        //Result: RuntimeException: Key: missingName for variable ${missingName} not found.\r\n&lt;p&gt;\r\nYou can define a custom behavior in the constructor call like:\r\n&lt;p&gt;\r\n\r\n    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;firstName&quot;, &quot;Peter&quot;);\r\n    values.put(&quot;lastName&quot;, &quot;Parker&quot;);\r\n\r\n\r\n    FormatHelper formatHelper = new FormatHelper(fullMatch, variableName) -&gt; variableName.equals(&quot;missingName&quot;) ? &quot;John&quot;: &quot;SOMETHING_WRONG&quot;, values);\r\n    formatHelper.format(&quot;${missingName} ${lastName} is Spiderman!&quot;);\r\n    // Result: &quot;John Parker is Spiderman!&quot;\r\n\r\n&lt;p&gt;\r\nor delegate it back to the default no key behavior:\r\n&lt;p&gt;\r\n\r\n    ...\r\n        FormatHelper formatHelper = new FormatHelper((fullMatch, variableName) -&gt;   variableName.equals(&quot;missingName&quot;) ? &quot;John&quot; :\r\n                FormatHelper.DEFAULT_NO_KEY_FUNCTION.apply(fullMatch,\r\n                                                           variableName), map);\r\n    ...\r\n\r\n&lt;p&gt;\r\nFor better handling there are also static method representations like:\r\n&lt;p&gt;\r\n\r\n    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;firstName&quot;, &quot;Peter&quot;);\r\n    values.put(&quot;lastName&quot;, &quot;Parker&quot;);\r\n\r\n    FormatHelper.format(&quot;${firstName} ${lastName} is Spiderman!&quot;, map);\r\n    // Result: &quot;Peter Parker is Spiderman!&quot;\r\n","title":"Named placeholders in string formatting","body":"<p>I created also a util/helper class (using jdk 8) which can format a string an replaces occurrences of variables.\n<p>\nFor this purpose I used the Matchers \"appendReplacement\" method which does all the substitution and loops only over the affected parts of a format string.\n<p>\nThe helper class isn't currently well javadoc documented. I will changes this in the future ;)\nAnyway I commented the most important lines (I hope).\n<p></p>\n\n<pre><code>    public class FormatHelper {\n\n    //Prefix and suffix for the enclosing variable name in the format string.\n    //Replace the default values with any you need.\n    public static final String DEFAULT_PREFIX = \"${\";\n    public static final String DEFAULT_SUFFIX = \"}\";\n\n    //Define dynamic function what happens if a key is not found.\n    //Replace the defualt exception with any \"unchecked\" exception type you need or any other behavior.\n    public static final BiFunction&lt;String, String, String&gt; DEFAULT_NO_KEY_FUNCTION =\n            (fullMatch, variableName) -&gt; {\n                throw new RuntimeException(String.format(\"Key: %s for variable %s not found.\",\n                                                         variableName,\n                                                         fullMatch));\n            };\n    private final Pattern variablePattern;\n    private final Map&lt;String, String&gt; values;\n    private final BiFunction&lt;String, String, String&gt; noKeyFunction;\n    private final String prefix;\n    private final String suffix;\n\n    public FormatHelper(Map&lt;String, String&gt; values) {\n        this(DEFAULT_NO_KEY_FUNCTION, values);\n    }\n\n    public FormatHelper(\n            BiFunction&lt;String, String, String&gt; noKeyFunction, Map&lt;String, String&gt; values) {\n        this(DEFAULT_PREFIX, DEFAULT_SUFFIX, noKeyFunction, values);\n    }\n\n    public FormatHelper(String prefix, String suffix, Map&lt;String, String&gt; values) {\n        this(prefix, suffix, DEFAULT_NO_KEY_FUNCTION, values);\n    }\n\n    public FormatHelper(\n            String prefix,\n            String suffix,\n            BiFunction&lt;String, String, String&gt; noKeyFunction,\n            Map&lt;String, String&gt; values) {\n        this.prefix = prefix;\n        this.suffix = suffix;\n        this.values = values;\n        this.noKeyFunction = noKeyFunction;\n\n        //Create the Pattern and quote the prefix and suffix so that the regex don't interpret special chars.\n        //The variable name is a \"\\w+\" in an extra capture group.\n        variablePattern = Pattern.compile(Pattern.quote(prefix) + \"(\\\\w+)\" + Pattern.quote(suffix));\n    }\n\n    public static String format(CharSequence format, Map&lt;String, String&gt; values) {\n        return new FormatHelper(values).format(format);\n    }\n\n    public static String format(\n            CharSequence format,\n            BiFunction&lt;String, String, String&gt; noKeyFunction,\n            Map&lt;String, String&gt; values) {\n        return new FormatHelper(noKeyFunction, values).format(format);\n    }\n\n    public static String format(\n            String prefix, String suffix, CharSequence format, Map&lt;String, String&gt; values) {\n        return new FormatHelper(prefix, suffix, values).format(format);\n    }\n\n    public static String format(\n            String prefix,\n            String suffix,\n            BiFunction&lt;String, String, String&gt; noKeyFunction,\n            CharSequence format,\n            Map&lt;String, String&gt; values) {\n        return new FormatHelper(prefix, suffix, noKeyFunction, values).format(format);\n    }\n\n    public String format(CharSequence format) {\n\n        //Create matcher based on the init pattern for variable names.\n        Matcher matcher = variablePattern.matcher(format);\n\n        //This buffer will hold all parts of the formatted finished string.\n        StringBuffer formatBuffer = new StringBuffer();\n\n        //loop while the matcher finds another variable (prefix -&gt; name &lt;- suffix) match\n        while (matcher.find()) {\n\n            //The root capture group with the full match e.g ${variableName}\n            String fullMatch = matcher.group();\n\n            //The capture group for the variable name resulting from \"(\\w+)\" e.g. variableName\n            String variableName = matcher.group(1);\n\n            //Get the value in our Map so the Key is the used variable name in our \"format\" string. The associated value will replace the variable.\n            //If key is missing (absent) call the noKeyFunction with parameters \"fullMatch\" and \"variableName\" else return the value.\n            String value = values.computeIfAbsent(variableName, key -&gt; noKeyFunction.apply(fullMatch, key));\n\n            //Escape the Map value because the \"appendReplacement\" method interprets the $ and \\ as special chars.\n            String escapedValue = Matcher.quoteReplacement(value);\n\n            //The \"appendReplacement\" method replaces the current \"full\" match (e.g. ${variableName}) with the value from the \"values\" Map.\n            //The replaced part of the \"format\" string is appended to the StringBuffer \"formatBuffer\".\n            matcher.appendReplacement(formatBuffer, escapedValue);\n        }\n\n        //The \"appendTail\" method appends the last part of the \"format\" String which has no regex match.\n        //That means if e.g. our \"format\" string has no matches the whole untouched \"format\" string is appended to the StringBuffer \"formatBuffer\".\n        //Further more the method return the buffer.\n        return matcher.appendTail(formatBuffer)\n                      .toString();\n    }\n\n    public String getPrefix() {\n        return prefix;\n    }\n\n    public String getSuffix() {\n        return suffix;\n    }\n\n    public Map&lt;String, String&gt; getValues() {\n        return values;\n    }\n}\n</code></pre>\n\n<p><p></p>\n\n<p>You can create a class instance for a specific Map with values (or suffix prefix or noKeyFunction)\nlike:\n<p></p>\n\n<pre><code>    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\n    values.put(\"firstName\", \"Peter\");\n    values.put(\"lastName\", \"Parker\");\n\n\n    FormatHelper formatHelper = new FormatHelper(values);\n    formatHelper.format(\"${firstName} ${lastName} is Spiderman!\");\n    // Result: \"Peter Parker is Spiderman!\"\n    // Next format:\n    formatHelper.format(\"Does ${firstName} ${lastName} works as photographer?\");\n    //Result: \"Does Peter Parker works as photographer?\"\n</code></pre>\n\n<p><p>\nFurther more you can define what happens if a key in the values Map is missing (works in both ways e.g. wrong variable name in format string or missing key in Map).\nThe default behavior is an thrown unchecked exception (unchecked because I use the default jdk8 Function which cant handle checked exceptions) like:\n<p></p>\n\n<pre><code>    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(\"firstName\", \"Peter\");\n    map.put(\"lastName\", \"Parker\");\n\n\n    FormatHelper formatHelper = new FormatHelper(map);\n    formatHelper.format(\"${missingName} ${lastName} is Spiderman!\");\n    //Result: RuntimeException: Key: missingName for variable ${missingName} not found.\n</code></pre>\n\n<p><p>\nYou can define a custom behavior in the constructor call like:\n<p></p>\n\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(\"firstName\", \"Peter\");\nvalues.put(\"lastName\", \"Parker\");\n\n\nFormatHelper formatHelper = new FormatHelper(fullMatch, variableName) -&gt; variableName.equals(\"missingName\") ? \"John\": \"SOMETHING_WRONG\", values);\nformatHelper.format(\"${missingName} ${lastName} is Spiderman!\");\n// Result: \"John Parker is Spiderman!\"\n</code></pre>\n\n<p><p>\nor delegate it back to the default no key behavior:\n<p></p>\n\n<pre><code>...\n    FormatHelper formatHelper = new FormatHelper((fullMatch, variableName) -&gt;   variableName.equals(\"missingName\") ? \"John\" :\n            FormatHelper.DEFAULT_NO_KEY_FUNCTION.apply(fullMatch,\n                                                       variableName), map);\n...\n</code></pre>\n\n<p><p>\nFor better handling there are also static method representations like:\n<p></p>\n\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(\"firstName\", \"Peter\");\nvalues.put(\"lastName\", \"Parker\");\n\nFormatHelper.format(\"${firstName} ${lastName} is Spiderman!\", map);\n// Result: \"Peter Parker is Spiderman!\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1108404,"reputation":7584,"user_id":1099314,"display_name":"ninhjs.dev"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1563205545,"creation_date":1538972461,"answer_id":52695352,"question_id":2286648,"body_markdown":"Another example of Apache Common [StringSubstitutor][1] for simple named placeholder.\r\n\r\n    String template = &quot;Welcome to {theWorld}. My name is {myName}.&quot;;\r\n    \r\n    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;theWorld&quot;, &quot;Stackoverflow&quot;);\r\n    values.put(&quot;myName&quot;, &quot;Thanos&quot;);\r\n    \r\n    String message = StringSubstitutor.replace(template, values, &quot;{&quot;, &quot;}&quot;);\r\n    \r\n    System.out.println(message);\r\n    \r\n    // Welcome to Stackoverflow. My name is Thanos.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html","title":"Named placeholders in string formatting","body":"<p>Another example of Apache Common <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"noreferrer\">StringSubstitutor</a> for simple named placeholder.</p>\n\n<pre><code>String template = \"Welcome to {theWorld}. My name is {myName}.\";\n\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(\"theWorld\", \"Stackoverflow\");\nvalues.put(\"myName\", \"Thanos\");\n\nString message = StringSubstitutor.replace(template, values, \"{\", \"}\");\n\nSystem.out.println(message);\n\n// Welcome to Stackoverflow. My name is Thanos.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1066310,"reputation":413,"user_id":1066787,"display_name":"Jason"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1571252916,"creation_date":1571252916,"answer_id":58420165,"question_id":2286648,"body_markdown":"There is nothing built into Java at the moment of writing this. I would suggest writing your own implementation. My preference is for a simple fluent builder interface instead of creating a map and passing it to function -- you end up with a nice contiguous chunk of code, for example:\r\n\r\n    String result = new TemplatedStringBuilder(&quot;My name is {{name}} and I from {{town}}&quot;)\r\n       .replace(&quot;name&quot;, &quot;John Doe&quot;)\r\n       .replace(&quot;town&quot;, &quot;Sydney&quot;)\r\n       .finish();\r\n\r\nHere is a simple implementation:\r\n\r\n    class TemplatedStringBuilder {\r\n    \r\n        private final static String TEMPLATE_START_TOKEN = &quot;{{&quot;;\r\n        private final static String TEMPLATE_CLOSE_TOKEN = &quot;}}&quot;;\r\n    \r\n        private final String template;\r\n        private final Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n    \r\n        public TemplatedStringBuilder(String template) {\r\n            if (template == null) throw new NullPointerException();\r\n            this.template = template;\r\n        }\r\n    \r\n        public TemplatedStringBuilder replace(String key, String value){\r\n            parameters.put(key, value);\r\n            return this;\r\n        }\r\n    \r\n        public String finish(){\r\n    \r\n            StringBuilder result = new StringBuilder();\r\n    \r\n            int startIndex = 0;\r\n    \r\n            while (startIndex &lt; template.length()){\r\n    \r\n                int openIndex  = template.indexOf(TEMPLATE_START_TOKEN, startIndex);\r\n    \r\n                if (openIndex &lt; 0){\r\n                    result.append(template.substring(startIndex));\r\n                    break;\r\n                }\r\n    \r\n                int closeIndex = template.indexOf(TEMPLATE_CLOSE_TOKEN, openIndex);\r\n    \r\n                if(closeIndex &lt; 0){\r\n                    result.append(template.substring(startIndex));\r\n                    break;\r\n                }\r\n    \r\n                String key = template.substring(openIndex + TEMPLATE_START_TOKEN.length(), closeIndex);\r\n    \r\n                if (!parameters.containsKey(key)) throw new RuntimeException(&quot;missing value for key: &quot; + key);\r\n    \r\n                result.append(template.substring(startIndex, openIndex));\r\n                result.append(parameters.get(key));\r\n    \r\n                startIndex = closeIndex + TEMPLATE_CLOSE_TOKEN.length();\r\n            }\r\n    \r\n            return result.toString();\r\n        }\r\n    }\r\n\r\n","title":"Named placeholders in string formatting","body":"<p>There is nothing built into Java at the moment of writing this. I would suggest writing your own implementation. My preference is for a simple fluent builder interface instead of creating a map and passing it to function -- you end up with a nice contiguous chunk of code, for example:</p>\n\n<pre><code>String result = new TemplatedStringBuilder(\"My name is {{name}} and I from {{town}}\")\n   .replace(\"name\", \"John Doe\")\n   .replace(\"town\", \"Sydney\")\n   .finish();\n</code></pre>\n\n<p>Here is a simple implementation:</p>\n\n<pre><code>class TemplatedStringBuilder {\n\n    private final static String TEMPLATE_START_TOKEN = \"{{\";\n    private final static String TEMPLATE_CLOSE_TOKEN = \"}}\";\n\n    private final String template;\n    private final Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\n\n    public TemplatedStringBuilder(String template) {\n        if (template == null) throw new NullPointerException();\n        this.template = template;\n    }\n\n    public TemplatedStringBuilder replace(String key, String value){\n        parameters.put(key, value);\n        return this;\n    }\n\n    public String finish(){\n\n        StringBuilder result = new StringBuilder();\n\n        int startIndex = 0;\n\n        while (startIndex &lt; template.length()){\n\n            int openIndex  = template.indexOf(TEMPLATE_START_TOKEN, startIndex);\n\n            if (openIndex &lt; 0){\n                result.append(template.substring(startIndex));\n                break;\n            }\n\n            int closeIndex = template.indexOf(TEMPLATE_CLOSE_TOKEN, openIndex);\n\n            if(closeIndex &lt; 0){\n                result.append(template.substring(startIndex));\n                break;\n            }\n\n            String key = template.substring(openIndex + TEMPLATE_START_TOKEN.length(), closeIndex);\n\n            if (!parameters.containsKey(key)) throw new RuntimeException(\"missing value for key: \" + key);\n\n            result.append(template.substring(startIndex, openIndex));\n            result.append(parameters.get(key));\n\n            startIndex = closeIndex + TEMPLATE_CLOSE_TOKEN.length();\n        }\n\n        return result.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582271549,"creation_date":1582271549,"answer_id":60334259,"question_id":2286648,"body_markdown":"https://dzone.com/articles/java-string-format-examples String.format(inputString, [listOfParams]) would be the easiest way. Placeholders in string can be defined by order. For more details check the provided link.","title":"Named placeholders in string formatting","body":"<p><a href=\"https://dzone.com/articles/java-string-format-examples\" rel=\"nofollow noreferrer\">https://dzone.com/articles/java-string-format-examples</a> String.format(inputString, [listOfParams]) would be the easiest way. Placeholders in string can be defined by order. For more details check the provided link.</p>\n"},{"tags":[],"owner":{"account_id":99824,"reputation":14202,"user_id":269447,"accept_rate":70,"display_name":"Laurent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585482827,"creation_date":1585482827,"answer_id":60913836,"question_id":2286648,"body_markdown":"You should have a look at the official [ICU4J library][1]. It provides a [MessageFormat][2] class similar to the one available with the JDK but this former supports named placeholders. \r\n\r\nUnlike other solutions provided on this page. ICU4j is part of the [ICU project][3] that is maintained by IBM and regularly updated. In addition, it supports advanced use cases such as pluralization and much more.  \r\n\r\nHere is a code example:\r\n\r\n    MessageFormat messageFormat =\r\n            new MessageFormat(&quot;Publication written by {author}.&quot;);\r\n    \r\n    Map&lt;String, String&gt; args = Map.of(&quot;author&quot;, &quot;John Doe&quot;);\r\n    \r\n    System.out.println(messageFormat.format(args));\r\n\r\n  [1]: https://github.com/unicode-org/icu/tree/master/icu4j\r\n  [2]: https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/\r\n  [3]: http://site.icu-project.org/","title":"Named placeholders in string formatting","body":"<p>You should have a look at the official <a href=\"https://github.com/unicode-org/icu/tree/master/icu4j\" rel=\"nofollow noreferrer\">ICU4J library</a>. It provides a <a href=\"https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/\" rel=\"nofollow noreferrer\">MessageFormat</a> class similar to the one available with the JDK but this former supports named placeholders. </p>\n\n<p>Unlike other solutions provided on this page. ICU4j is part of the <a href=\"http://site.icu-project.org/\" rel=\"nofollow noreferrer\">ICU project</a> that is maintained by IBM and regularly updated. In addition, it supports advanced use cases such as pluralization and much more.  </p>\n\n<p>Here is a code example:</p>\n\n<pre><code>MessageFormat messageFormat =\n        new MessageFormat(\"Publication written by {author}.\");\n\nMap&lt;String, String&gt; args = Map.of(\"author\", \"John Doe\");\n\nSystem.out.println(messageFormat.format(args));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119370,"reputation":1665,"user_id":1108038,"display_name":"hermeslm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592251961,"creation_date":1592251961,"answer_id":62396226,"question_id":2286648,"body_markdown":"There is Java Plugin to use string interpolation in Java (like in Kotlin, JavaScript). Supports Java 8, 9, 10, 11…​ [https://github.com/antkorwin/better-strings][1]\r\n\r\n**Using variables in string literals:**\r\n\r\n    int a = 3;\r\n    int b = 4;\r\n    System.out.println(&quot;${a} + ${b} = ${a+b}&quot;);\r\n\r\n**Using expressions:**\r\n\r\n    int a = 3;\r\n    int b = 4;\r\n    System.out.println(&quot;pow = ${a * a}&quot;);\r\n    System.out.println(&quot;flag = ${a &gt; b ? true : false}&quot;);\r\n\r\n**Using functions:**\r\n    \r\n    @Test\r\n    void functionCall() {\r\n        System.out.println(&quot;fact(5) = ${factorial(5)}&quot;);\r\n    }\r\n    \r\n    long factorial(int n) {\r\n        long fact = 1;\r\n        for (int i = 2; i &lt;= n; i++) {\r\n            fact = fact * i;\r\n        }\r\n        return fact;\r\n    }\r\n\r\nFor more info, please read the project README.\r\n\r\n \r\n  [1]: https://github.com/antkorwin/better-strings","title":"Named placeholders in string formatting","body":"<p>There is Java Plugin to use string interpolation in Java (like in Kotlin, JavaScript). Supports Java 8, 9, 10, 11…​ <a href=\"https://github.com/antkorwin/better-strings\" rel=\"nofollow noreferrer\">https://github.com/antkorwin/better-strings</a></p>\n\n<p><strong>Using variables in string literals:</strong></p>\n\n<pre><code>int a = 3;\nint b = 4;\nSystem.out.println(\"${a} + ${b} = ${a+b}\");\n</code></pre>\n\n<p><strong>Using expressions:</strong></p>\n\n<pre><code>int a = 3;\nint b = 4;\nSystem.out.println(\"pow = ${a * a}\");\nSystem.out.println(\"flag = ${a &gt; b ? true : false}\");\n</code></pre>\n\n<p><strong>Using functions:</strong></p>\n\n<pre><code>@Test\nvoid functionCall() {\n    System.out.println(\"fact(5) = ${factorial(5)}\");\n}\n\nlong factorial(int n) {\n    long fact = 1;\n    for (int i = 2; i &lt;= n; i++) {\n        fact = fact * i;\n    }\n    return fact;\n}\n</code></pre>\n\n<p>For more info, please read the project README.</p>\n"},{"tags":[],"owner":{"account_id":3713250,"reputation":410,"user_id":3090012,"display_name":"CuriousDev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601441897,"creation_date":1601441897,"answer_id":64131164,"question_id":2286648,"body_markdown":"I tried in just a quick way\r\n\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tString rowString = &quot;replace the value ${var1} with ${var2}&quot;;\r\n\t\t\r\n\t\tMap&lt;String,String&gt; mappedValues = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tmappedValues.put(&quot;var1&quot;, &quot;Value 1&quot;);\r\n\t\tmappedValues.put(&quot;var2&quot;, &quot;Value 2&quot;);\r\n\t\t\r\n\t\tSystem.out.println(replaceOccurence(rowString, mappedValues));\r\n\t}\r\n\t\r\n\tprivate static  String replaceOccurence(String baseStr ,Map&lt;String,String&gt; mappedValues)\r\n\t{\r\n\t\tfor(String key :mappedValues.keySet())\r\n\t\t{\r\n\t\t\tbaseStr = baseStr.replace(&quot;${&quot;+key+&quot;}&quot;, mappedValues.get(key));\r\n\t\t}\r\n\t\t\r\n\t\treturn baseStr;\r\n\t}\r\n\r\n","title":"Named placeholders in string formatting","body":"<p>I tried in just a quick way</p>\n<pre><code>public static void main(String[] args) \n{\n    String rowString = &quot;replace the value ${var1} with ${var2}&quot;;\n    \n    Map&lt;String,String&gt; mappedValues = new HashMap&lt;&gt;();\n    \n    mappedValues.put(&quot;var1&quot;, &quot;Value 1&quot;);\n    mappedValues.put(&quot;var2&quot;, &quot;Value 2&quot;);\n    \n    System.out.println(replaceOccurence(rowString, mappedValues));\n}\n\nprivate static  String replaceOccurence(String baseStr ,Map&lt;String,String&gt; mappedValues)\n{\n    for(String key :mappedValues.keySet())\n    {\n        baseStr = baseStr.replace(&quot;${&quot;+key+&quot;}&quot;, mappedValues.get(key));\n    }\n    \n    return baseStr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1689791305,"creation_date":1618796000,"answer_id":67154974,"question_id":2286648,"body_markdown":"[Apache Commons Text](https://commons.apache.org/proper/commons-text/)&#39;s [`StringSubstitutor`](https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html) can be used. (See [Dependency Information](https://commons.apache.org/proper/commons-text/dependency-info.html) for how to include it in a project.) Note that `StrSubstitutor` is deprecated.\r\n\r\n```\r\nimport org.apache.commons.text.StringSubstitutor;\r\n// ...\r\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\nvalues.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\nvalues.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\nStringSubstitutor sub = new StringSubstitutor(values);\r\nString result = sub.replace(&quot;The ${animal} jumped over the ${target}.&quot;);\r\n// &quot;The quick brown fox jumped over the lazy dog.&quot;\r\n```\r\n\r\nThis class supports providing default values for variables.\r\n\r\n```\r\nString result = sub.replace(&quot;The number is ${undefined.property:-42}.&quot;);\r\n// &quot;The number is 42.&quot;\r\n```\r\n\r\nTo use recursive variable replacement, call `setEnableSubstitutionInVariables(true);`.\r\n\r\n```\r\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\nvalues.put(&quot;b&quot;, &quot;c&quot;);\r\nvalues.put(&quot;ac&quot;, &quot;Test&quot;);\r\nStringSubstitutor sub = new StringSubstitutor(values);\r\nsub.setEnableSubstitutionInVariables(true);\r\nString result = sub.replace(&quot;${a${b}}&quot;);\r\n// &quot;Test&quot;\r\n```","title":"Named placeholders in string formatting","body":"<p><a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">Apache Commons Text</a>'s <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\"><code>StringSubstitutor</code></a> can be used. (See <a href=\"https://commons.apache.org/proper/commons-text/dependency-info.html\" rel=\"nofollow noreferrer\">Dependency Information</a> for how to include it in a project.) Note that <code>StrSubstitutor</code> is deprecated.</p>\n<pre><code>import org.apache.commons.text.StringSubstitutor;\n// ...\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\nvalues.put(&quot;target&quot;, &quot;lazy dog&quot;);\nStringSubstitutor sub = new StringSubstitutor(values);\nString result = sub.replace(&quot;The ${animal} jumped over the ${target}.&quot;);\n// &quot;The quick brown fox jumped over the lazy dog.&quot;\n</code></pre>\n<p>This class supports providing default values for variables.</p>\n<pre><code>String result = sub.replace(&quot;The number is ${undefined.property:-42}.&quot;);\n// &quot;The number is 42.&quot;\n</code></pre>\n<p>To use recursive variable replacement, call <code>setEnableSubstitutionInVariables(true);</code>.</p>\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;b&quot;, &quot;c&quot;);\nvalues.put(&quot;ac&quot;, &quot;Test&quot;);\nStringSubstitutor sub = new StringSubstitutor(values);\nsub.setEnableSubstitutionInVariables(true);\nString result = sub.replace(&quot;${a${b}}&quot;);\n// &quot;Test&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1574864,"reputation":3598,"user_id":1461602,"accept_rate":80,"display_name":"Tormod Haugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642156163,"creation_date":1642156163,"answer_id":70709170,"question_id":2286648,"body_markdown":"The quick answer is no, unfortunately. However, you can come pretty close to a reasonable syntaks:\r\n\r\n    &quot;&quot;&quot;\r\n       You are $compliment!\r\n    &quot;&quot;&quot;\r\n    .replace(&#39;$compliment&#39;, &#39;awesome&#39;);\r\n\r\nIt&#39;s more readable and predictable than `String.format`, at least!","title":"Named placeholders in string formatting","body":"<p>The quick answer is no, unfortunately. However, you can come pretty close to a reasonable syntaks:</p>\n<pre><code>&quot;&quot;&quot;\n   You are $compliment!\n&quot;&quot;&quot;\n.replace('$compliment', 'awesome');\n</code></pre>\n<p>It's more readable and predictable than <code>String.format</code>, at least!</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665480534,"creation_date":1665480534,"answer_id":74025892,"question_id":2286648,"body_markdown":"As of 2022 the up-to-date solution is Apache Commons Text [StringSubstitutor][1]\r\n\r\nFrom the doc:\r\n\r\n    // Build map\r\n     Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\r\n     valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\n     valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\n     String templateString = &quot;The ${animal} jumped over the ${target} ${undefined.number:-1234567890} times.&quot;;\r\n\r\n     // Build StringSubstitutor\r\n     StringSubstitutor sub = new StringSubstitutor(valuesMap);\r\n    \r\n     // Replace\r\n     String resolvedString = sub.replace(templateString)\r\n\r\n;\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html","title":"Named placeholders in string formatting","body":"<p>As of 2022 the up-to-date solution is Apache Commons Text <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">StringSubstitutor</a></p>\n<p>From the doc:</p>\n<pre><code>// Build map\n Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\n valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\n valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\n String templateString = &quot;The ${animal} jumped over the ${target} ${undefined.number:-1234567890} times.&quot;;\n\n // Build StringSubstitutor\n StringSubstitutor sub = new StringSubstitutor(valuesMap);\n\n // Replace\n String resolvedString = sub.replace(templateString)\n</code></pre>\n<p>;</p>\n"},{"tags":[],"owner":{"account_id":3659569,"reputation":2082,"user_id":3049753,"accept_rate":57,"display_name":"RedEyed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666360882,"creation_date":1666360882,"answer_id":74154810,"question_id":2286648,"body_markdown":"I ended up with the next solution:  \r\nCreate class `TemplateSubstitutor` with method `substitute()` and use it to format output  \r\nThen create a string template and fill it with values  \r\n```java\r\nimport java.util.*;\r\npublic class MyClass {\r\n\r\n    public static void main(String args[]) {\r\n    String template = &quot;WRR = {WRR}, SRR = {SRR}\\n&quot; +\r\n                      &quot;char_F1 = {char_F1}, word_F1 = {word_F1}\\n&quot;;\r\n    \r\n    Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;WRR&quot;, 99.9);\r\n    values.put(&quot;SRR&quot;, 99.8);\r\n    values.put(&quot;char_F1&quot;, 80);\r\n    values.put(&quot;word_F1&quot;, 70);\r\n    \r\n    String message = TemplateSubstitutor.substitute(values, template);\r\n    \r\n    System.out.println(message);\r\n    }\r\n}\r\n\r\nclass TemplateSubstitutor {\r\n    public static String substitute(Map&lt;String, Object&gt; map, String input_str) {\r\n        String output_str = input_str;\r\n        for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n            String key = entry.getKey();\r\n            Object value = entry.getValue();\r\n            output_str = output_str.replace(&quot;{&quot; + key + &quot;}&quot;, String.valueOf(value));\r\n        }\r\n        return output_str;\r\n    }\r\n    \r\n}\r\n```\r\n","title":"Named placeholders in string formatting","body":"<p>I ended up with the next solution:<br />\nCreate class <code>TemplateSubstitutor</code> with method <code>substitute()</code> and use it to format output<br />\nThen create a string template and fill it with values</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic class MyClass {\n\n    public static void main(String args[]) {\n    String template = &quot;WRR = {WRR}, SRR = {SRR}\\n&quot; +\n                      &quot;char_F1 = {char_F1}, word_F1 = {word_F1}\\n&quot;;\n    \n    Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\n    values.put(&quot;WRR&quot;, 99.9);\n    values.put(&quot;SRR&quot;, 99.8);\n    values.put(&quot;char_F1&quot;, 80);\n    values.put(&quot;word_F1&quot;, 70);\n    \n    String message = TemplateSubstitutor.substitute(values, template);\n    \n    System.out.println(message);\n    }\n}\n\nclass TemplateSubstitutor {\n    public static String substitute(Map&lt;String, Object&gt; map, String input_str) {\n        String output_str = input_str;\n        for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n            String key = entry.getKey();\n            Object value = entry.getValue();\n            output_str = output_str.replace(&quot;{&quot; + key + &quot;}&quot;, String.valueOf(value));\n        }\n        return output_str;\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691189090,"creation_date":1691189090,"answer_id":76839459,"question_id":2286648,"body_markdown":"If use of a map is not a requirement, then you can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString s = STR.&quot;There&#39;s an incorrect value &#39;\\{x}&#39; in column # \\{y}&quot;;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Named placeholders in string formatting","body":"<p>If use of a map is not a requirement, then you can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = STR.&quot;There's an incorrect value '\\{x}' in column # \\{y}&quot;;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":565443,"reputation":3159,"user_id":199621,"accept_rate":100,"display_name":"Andy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258257,"favorite_count":0,"down_vote_count":1,"up_vote_count":242,"accepted_answer_id":2295004,"answer_count":24,"score":241,"last_activity_date":1691189090,"creation_date":1266473169,"question_id":2286648,"body_markdown":"In Python, when formatting string, I can fill placeholders by name rather than by position, like that:\r\n\r\n    print &quot;There&#39;s an incorrect value &#39;%(value)s&#39; in column # %(column)d&quot; % \\\r\n      { &#39;value&#39;: x, &#39;column&#39;: y }\r\n\r\nI wonder if that is possible in Java (hopefully, without external libraries)? ","title":"Named placeholders in string formatting","body":"<p>In Python, when formatting string, I can fill placeholders by name rather than by position, like that:</p>\n\n<pre><code>print \"There's an incorrect value '%(value)s' in column # %(column)d\" % \\\n  { 'value': x, 'column': y }\n</code></pre>\n\n<p>I wonder if that is possible in Java (hopefully, without external libraries)? </p>\n"},{"tags":["java","string-formatting"],"comments":[{"owner":{"account_id":68273,"reputation":8282,"user_id":199288,"accept_rate":91,"display_name":"Ramon"},"score":2,"creation_date":1301338914,"post_id":5463714,"comment_id":6193059,"body_markdown":"Commons Lang has StrSubstitutor","body":"Commons Lang has StrSubstitutor"},{"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"score":0,"creation_date":1301339099,"post_id":5463714,"comment_id":6193105,"body_markdown":"I can be wrong, but looks like [JTPL](http://jtpl.sourceforge.net/) can help you out.","body":"I can be wrong, but looks like <a href=\"http://jtpl.sourceforge.net/\" rel=\"nofollow noreferrer\">JTPL</a> can help you out."},{"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1453113443,"post_id":5463714,"comment_id":57444875,"body_markdown":"Related: http://stackoverflow.com/q/2286648/435605","body":"Related: <a href=\"http://stackoverflow.com/q/2286648/435605\">stackoverflow.com/q/2286648/435605</a>"}],"answers":[{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1301339209,"creation_date":1301339209,"answer_id":5463802,"question_id":5463714,"body_markdown":"Easy to make one yourself. This is what I use (the `main()` function is just for test code):\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class StringTemplate {\r\n    \tfinal private String template;\r\n    \tfinal private Matcher m;\r\n    \tstatic final private Pattern keyPattern = \r\n    \t\tPattern.compile(&quot;\\\\$\\\\{([a-zA-Z][a-zA-Z0-9_]*(\\\\.[a-zA-Z][a-zA-Z0-9_]*)*)\\\\}&quot;);\r\n    \tprivate boolean blanknull=false;\r\n    \t\r\n    \tpublic StringTemplate(String template) { \r\n    \t\tthis.template=template;\r\n    \t\tthis.m = keyPattern.matcher(template);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * @param map substitution map\r\n    \t * @return substituted string\r\n    \t */\r\n    \tpublic String substitute(Map&lt;String, ? extends Object&gt; map)\r\n    \t{\r\n    \t\tthis.m.reset();\r\n    \t\tStringBuffer sb = new StringBuffer();\r\n    \t\twhile (this.m.find())\r\n    \t\t{\r\n    \t\t\tString k0 = this.m.group();\r\n    \t\t\tString k = this.m.group(1);\r\n    \t\t\tObject vobj = map.get(k);\r\n    \t\t\tString v = (vobj == null) \r\n    \t\t\t\t? (this.blanknull ? &quot;&quot; : k0)\r\n    \t\t\t\t: vobj.toString();\r\n    \t\t\tthis.m.appendReplacement(sb, Matcher.quoteReplacement(v));\r\n    \t\t}\r\n    \t\tthis.m.appendTail(sb);\r\n    \t\treturn sb.toString();\t\t\r\n    \t}\r\n    \t\r\n    \tpublic StringTemplate setBlankNull()\r\n    \t{\r\n    \t\tthis.blanknull=true;\r\n    \t\treturn this;\r\n    \t}\r\n    \t\r\n    \tstatic public void main(String[] args)\r\n    \t{\r\n    \t\tStringTemplate t1 = new StringTemplate(&quot;${this} is a ${test} of the ${foo} bar=${bar} ${emergency.broadcasting.system}&quot;);\r\n    \t\tt1.setBlankNull();\r\n    \t\tMap&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\r\n    \t\tm.put(&quot;this&quot;, &quot;*This*&quot;);\r\n    \t\tm.put(&quot;test&quot;, &quot;*TEST*&quot;);\r\n    \t\tm.put(&quot;foo&quot;, &quot;$$$aaa\\\\\\\\111&quot;);\r\n    \t\tm.put(&quot;emergency.broadcasting.system&quot;, &quot;EBS&quot;);\r\n    \t\tSystem.out.println(t1.substitute(m));\r\n    \t}\r\n    }\r\n\r\n","title":"How to format message with argument names instead of numbers?","body":"<p>Easy to make one yourself. This is what I use (the <code>main()</code> function is just for test code):</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class StringTemplate {\n    final private String template;\n    final private Matcher m;\n    static final private Pattern keyPattern = \n        Pattern.compile(\"\\\\$\\\\{([a-zA-Z][a-zA-Z0-9_]*(\\\\.[a-zA-Z][a-zA-Z0-9_]*)*)\\\\}\");\n    private boolean blanknull=false;\n\n    public StringTemplate(String template) { \n        this.template=template;\n        this.m = keyPattern.matcher(template);\n    }\n\n    /**\n     * @param map substitution map\n     * @return substituted string\n     */\n    public String substitute(Map&lt;String, ? extends Object&gt; map)\n    {\n        this.m.reset();\n        StringBuffer sb = new StringBuffer();\n        while (this.m.find())\n        {\n            String k0 = this.m.group();\n            String k = this.m.group(1);\n            Object vobj = map.get(k);\n            String v = (vobj == null) \n                ? (this.blanknull ? \"\" : k0)\n                : vobj.toString();\n            this.m.appendReplacement(sb, Matcher.quoteReplacement(v));\n        }\n        this.m.appendTail(sb);\n        return sb.toString();       \n    }\n\n    public StringTemplate setBlankNull()\n    {\n        this.blanknull=true;\n        return this;\n    }\n\n    static public void main(String[] args)\n    {\n        StringTemplate t1 = new StringTemplate(\"${this} is a ${test} of the ${foo} bar=${bar} ${emergency.broadcasting.system}\");\n        t1.setBlankNull();\n        Map&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\n        m.put(\"this\", \"*This*\");\n        m.put(\"test\", \"*TEST*\");\n        m.put(\"foo\", \"$$$aaa\\\\\\\\111\");\n        m.put(\"emergency.broadcasting.system\", \"EBS\");\n        System.out.println(t1.substitute(m));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1569919141,"creation_date":1301339283,"answer_id":5463814,"question_id":5463714,"body_markdown":"You can use `MapFormat` for this. Find out the details here:\r\n\r\nhttp://www.java2s.com/Code/Java/I18N/AtextformatsimilartoMessageFormatbutusingstringratherthannumerickeys.htm\r\n\r\n    String text = &quot;The user {name} has email address {email}.&quot;;\r\n    Map map = new HashMap();\r\n    map.put(&quot;name&quot;, &quot;Robert&quot;);\r\n    map.put(&quot;email&quot;, &quot;rhume55@gmail.com&quot;);\r\n    \t\t\t\r\n    System.out.println(&quot;1st : &quot; + MapFormat.format(text, map));\r\n\r\nOUTPUT:\r\n\r\n&gt; 1st : The user Robert has email address rhume55@gmail.com.","title":"How to format message with argument names instead of numbers?","body":"<p>You can use <code>MapFormat</code> for this. Find out the details here:</p>\n\n<p><a href=\"http://www.java2s.com/Code/Java/I18N/AtextformatsimilartoMessageFormatbutusingstringratherthannumerickeys.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/Java/I18N/AtextformatsimilartoMessageFormatbutusingstringratherthannumerickeys.htm</a></p>\n\n<pre><code>String text = \"The user {name} has email address {email}.\";\nMap map = new HashMap();\nmap.put(\"name\", \"Robert\");\nmap.put(\"email\", \"rhume55@gmail.com\");\n\nSystem.out.println(\"1st : \" + MapFormat.format(text, map));\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<blockquote>\n  <p>1st : The user Robert has email address rhume55@gmail.com.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":81527,"reputation":2678,"user_id":229810,"accept_rate":68,"display_name":"kevin cline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301339456,"creation_date":1301339456,"answer_id":5463845,"question_id":5463714,"body_markdown":"Your question is closely related to: [How to replace a set of tokens in a Java String][1]\r\nYou could use [velocity][2] or another template library.  But there will be some pain because Java does not have any kind of Map literals.\r\n\r\n  [1]: https://stackoverflow.com/questions/959731/how-to-replace-a-set-of-tokens-in-a-java-string\r\n  [2]: http://velocity.apache.org/\r\n","title":"How to format message with argument names instead of numbers?","body":"<p>Your question is closely related to: <a href=\"https://stackoverflow.com/questions/959731/how-to-replace-a-set-of-tokens-in-a-java-string\">How to replace a set of tokens in a Java String</a>\nYou could use <a href=\"http://velocity.apache.org/\" rel=\"nofollow noreferrer\">velocity</a> or another template library.  But there will be some pain because Java does not have any kind of Map literals.</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342186510,"creation_date":1342186510,"answer_id":11471577,"question_id":5463714,"body_markdown":"    static final Pattern REPLACE_PATTERN = Pattern.compile(&quot;\\\\x24\\\\x7B([a-zA-Z][\\\\w\\\\x2E].*?)\\\\x7D&quot;);\r\n\r\n    /**\r\n     * Check for unresolved environment\r\n     *\r\n     * @param str\r\n     * @return origin if all substitutions resolved\r\n     */\r\n    public static String checkReplacement(String str) {\r\n        Matcher matcher = REPLACE_PATTERN.matcher(str);\r\n        if (matcher.find()) {\r\n            throw LOG.getIllegalArgumentException(&quot;Environment variable &#39;&quot; + matcher.group(1) + &quot;&#39; is not defined&quot;);\r\n        }\r\n        return str;\r\n    }\r\n\r\n    // replace in str ${key} to value\r\n    public static String resolveReplacement(String str, Map&lt;String, String&gt; replacements) {\r\n        Matcher matcher = REPLACE_PATTERN.matcher(str);\r\n        while (matcher.find()) {\r\n            String value = replacements.get(matcher.group(1));\r\n            if (value != null) {\r\n                str = matcher.replaceFirst(replaceWindowsSlash(value));\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n\r\nBut you loose all format options (like ##.#)","title":"How to format message with argument names instead of numbers?","body":"<pre><code>static final Pattern REPLACE_PATTERN = Pattern.compile(\"\\\\x24\\\\x7B([a-zA-Z][\\\\w\\\\x2E].*?)\\\\x7D\");\n\n/**\n * Check for unresolved environment\n *\n * @param str\n * @return origin if all substitutions resolved\n */\npublic static String checkReplacement(String str) {\n    Matcher matcher = REPLACE_PATTERN.matcher(str);\n    if (matcher.find()) {\n        throw LOG.getIllegalArgumentException(\"Environment variable '\" + matcher.group(1) + \"' is not defined\");\n    }\n    return str;\n}\n\n// replace in str ${key} to value\npublic static String resolveReplacement(String str, Map&lt;String, String&gt; replacements) {\n    Matcher matcher = REPLACE_PATTERN.matcher(str);\n    while (matcher.find()) {\n        String value = replacements.get(matcher.group(1));\n        if (value != null) {\n            str = matcher.replaceFirst(replaceWindowsSlash(value));\n        }\n    }\n    return str;\n}\n</code></pre>\n\n<p>But you loose all format options (like ##.#)</p>\n"},{"tags":[],"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1453457204,"creation_date":1453118606,"answer_id":34854342,"question_id":5463714,"body_markdown":"See [StrSubstitutor][1] from `org.apache.commons.lang3`:\r\n\r\n    Map valuesMap = HashMap();\r\n    valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\n    valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\n    String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\r\n    StrSubstitutor sub = new StrSubstitutor(valuesMap);\r\n    String resolvedString = sub.replace(templateString);\r\n     \r\n    // resolvedString: &quot;The quick brown fox jumped over the lazy dog.&quot;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/StrSubstitutor.html\r\n","title":"How to format message with argument names instead of numbers?","body":"<p>See <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/StrSubstitutor.html\" rel=\"noreferrer\">StrSubstitutor</a> from <code>org.apache.commons.lang3</code>:</p>\n\n<pre><code>Map valuesMap = HashMap();\nvaluesMap.put(\"animal\", \"quick brown fox\");\nvaluesMap.put(\"target\", \"lazy dog\");\nString templateString = \"The ${animal} jumped over the ${target}.\";\nStrSubstitutor sub = new StrSubstitutor(valuesMap);\nString resolvedString = sub.replace(templateString);\n\n// resolvedString: \"The quick brown fox jumped over the lazy dog.\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498032777,"creation_date":1498032777,"answer_id":44670400,"question_id":5463714,"body_markdown":"I know my answer comes a little late, but if you still need this functionality, without the need to download a full-fledged template engine you can take a look at [aleph-formatter][1] (I am one of the authors):\r\n\r\n    Student student = new Student(&quot;Andrei&quot;, 30, &quot;Male&quot;);\r\n    \r\n    String studStr = template(&quot;#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}&quot;)\r\n                        .arg(&quot;id&quot;, 10)\r\n                        .arg(&quot;st&quot;, student)\r\n                        .format();\r\n    System.out.println(studStr);\r\n\r\nOr you can chain the arguments:\r\n\r\n    String result = template(&quot;#{x} + #{y} = #{z}&quot;)\r\n                        .args(&quot;x&quot;, 5, &quot;y&quot;, 10, &quot;z&quot;, 15)\r\n                        .format();\r\n    System.out.println(result);\r\n    \r\n    // Output: &quot;5 + 10 = 15&quot;\r\n\r\nInternally it works using a StringBuilder creating the result by &quot;parsing&quot; the expression, no string concatenation, regex/replace is performed.\r\n\r\n\r\n  [1]: https://github.com/nomemory/aleph-formatter","title":"How to format message with argument names instead of numbers?","body":"<p>I know my answer comes a little late, but if you still need this functionality, without the need to download a full-fledged template engine you can take a look at <a href=\"https://github.com/nomemory/aleph-formatter\" rel=\"nofollow noreferrer\">aleph-formatter</a> (I am one of the authors):</p>\n\n<pre><code>Student student = new Student(\"Andrei\", 30, \"Male\");\n\nString studStr = template(\"#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}\")\n                    .arg(\"id\", 10)\n                    .arg(\"st\", student)\n                    .format();\nSystem.out.println(studStr);\n</code></pre>\n\n<p>Or you can chain the arguments:</p>\n\n<pre><code>String result = template(\"#{x} + #{y} = #{z}\")\n                    .args(\"x\", 5, \"y\", 10, \"z\", 15)\n                    .format();\nSystem.out.println(result);\n\n// Output: \"5 + 10 = 15\"\n</code></pre>\n\n<p>Internally it works using a StringBuilder creating the result by \"parsing\" the expression, no string concatenation, regex/replace is performed.</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691188747,"creation_date":1691188747,"answer_id":76839444,"question_id":5463714,"body_markdown":"If use of a map is not a requirement, then you can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString username = &quot;rtm&quot;;\r\nString emailaddress = &quot;noone@nowhere.com&quot;;\r\nString text = STR.&quot;The user \\{username} has email address \\{emailaddress}.&quot;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"How to format message with argument names instead of numbers?","body":"<p>If use of a map is not a requirement, then you can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String username = &quot;rtm&quot;;\nString emailaddress = &quot;noone@nowhere.com&quot;;\nString text = STR.&quot;The user \\{username} has email address \\{emailaddress}.&quot;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"display_name":"user550738"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57138,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":5463814,"answer_count":7,"score":62,"last_activity_date":1691188747,"creation_date":1301338716,"question_id":5463714,"body_markdown":"I have something like:\r\n\r\n    String text = &quot;The user {0} has email address {1}.&quot;\r\n    // params = { &quot;Robert&quot;, &quot;myemailaddr@gmail.com&quot; }\r\n    String msg = MessageFormat.format(text, params);\r\n\r\nThis isn&#39;t great for me, because sometimes my translators are not sure what goes in the {0} and {1}, also it would be nice to be able to reword the messages without worrying about the order of the args.\r\n\r\nI&#39;d like to replace the arguments with readable names instead of numbers.  Something like this:\r\n\r\n    String text = &quot;The user {USERNAME} has email address {EMAILADDRESS}.&quot;\r\n    // Map map = new HashMap( ... [USERNAME=&quot;Robert&quot;, EMAILADDRESS=&quot;myemailaddr@gmail.com&quot;]\r\n    String msg = MessageFormat.format(text, map);\r\n\r\nIs there an easy way to do this?  \r\n\r\nThanks!\r\nrob","title":"How to format message with argument names instead of numbers?","body":"<p>I have something like:</p>\n\n<pre><code>String text = \"The user {0} has email address {1}.\"\n// params = { \"Robert\", \"myemailaddr@gmail.com\" }\nString msg = MessageFormat.format(text, params);\n</code></pre>\n\n<p>This isn't great for me, because sometimes my translators are not sure what goes in the {0} and {1}, also it would be nice to be able to reword the messages without worrying about the order of the args.</p>\n\n<p>I'd like to replace the arguments with readable names instead of numbers.  Something like this:</p>\n\n<pre><code>String text = \"The user {USERNAME} has email address {EMAILADDRESS}.\"\n// Map map = new HashMap( ... [USERNAME=\"Robert\", EMAILADDRESS=\"myemailaddr@gmail.com\"]\nString msg = MessageFormat.format(text, map);\n</code></pre>\n\n<p>Is there an easy way to do this?  </p>\n\n<p>Thanks!\nrob</p>\n"},{"tags":["java","string","formatting"],"answers":[{"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1346005938,"creation_date":1346004555,"answer_id":12132622,"question_id":12132604,"body_markdown":"Yes, that&#39;s the typical [format][1] string of *C#*. In Java, you can use the latter, that is, `String.format(&quot;%s %d %d&quot;, ...)`.\r\n\r\nAn *alternative* is to use `MessageFormat.format(&quot;Some {0}, {1}, {2}&quot;, var1, var2, var3)`, which uses the .NET curly braces notation, as mentioned by @Tobias, though it requires you to import [`java.text.MessageFormat`][2]. They are also more appropriate for when you are dealing with localized resources, where you typically have external `.properties` files with messages in the format `Error {0} ocurred due to {1}`.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/system.string.format.aspx\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html","title":"Correct format string for String.format or similar","body":"<p>Yes, that's the typical <a href=\"http://msdn.microsoft.com/en-us/library/system.string.format.aspx\" rel=\"noreferrer\">format</a> string of <em>C#</em>. In Java, you can use the latter, that is, <code>String.format(\"%s %d %d\", ...)</code>.</p>\n\n<p>An <em>alternative</em> is to use <code>MessageFormat.format(\"Some {0}, {1}, {2}\", var1, var2, var3)</code>, which uses the .NET curly braces notation, as mentioned by @Tobias, though it requires you to import <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\"><code>java.text.MessageFormat</code></a>. They are also more appropriate for when you are dealing with localized resources, where you typically have external <code>.properties</code> files with messages in the format <code>Error {0} ocurred due to {1}</code>.</p>\n"},{"tags":[],"owner":{"account_id":1130704,"reputation":2477,"user_id":1116850,"display_name":"Tobias N. Sasse"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1346005328,"creation_date":1346004903,"answer_id":12132674,"question_id":12132604,"body_markdown":"What you are looking for is [`MessageFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html), which uses a given format and input parameters, e.g.\r\n\r\n    MessageFormat.format(&quot;Some {0}, {1}, {2}&quot;, var1, var2, var3);\r\n\r\nAnd as already mentioned, [`String.format`][1] can still do the job using the alternate syntax, but it is less powerful in functionality and not what you requested.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29","title":"Correct format string for String.format or similar","body":"<p>What you are looking for is <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\"><code>MessageFormat</code></a>, which uses a given format and input parameters, e.g.</p>\n\n<pre><code>MessageFormat.format(\"Some {0}, {1}, {2}\", var1, var2, var3);\n</code></pre>\n\n<p>And as already mentioned, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\"><code>String.format</code></a> can still do the job using the alternate syntax, but it is less powerful in functionality and not what you requested.</p>\n"},{"tags":[],"owner":{"account_id":1744738,"reputation":663,"user_id":1595213,"display_name":"Jaroslav Kuboš"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1472631880,"creation_date":1472631880,"answer_id":39244397,"question_id":12132604,"body_markdown":"I do not like to specify both index of parameter or its type - mainly when throwing exception and preparing message for it. I like way SLF4j does it. So I wrapped org.slf4j.helpers.MessageFormatter like this:\r\n\r\n    public static String subst(String string, Object...objects) {\r\n\t\treturn MessageFormatter.arrayFormat(string, objects).getMessage();\r\n\t}\r\n\r\nThen you can use it like this:\r\n\r\n    public void main(String[] args) {\r\n        throw new RuntimeException(MyUtils.subst(&quot;Problem with A={} and B={}!&quot;, a, b));\r\n    }\r\n","title":"Correct format string for String.format or similar","body":"<p>I do not like to specify both index of parameter or its type - mainly when throwing exception and preparing message for it. I like way SLF4j does it. So I wrapped org.slf4j.helpers.MessageFormatter like this:</p>\n\n<pre><code>public static String subst(String string, Object...objects) {\n    return MessageFormatter.arrayFormat(string, objects).getMessage();\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>public void main(String[] args) {\n    throw new RuntimeException(MyUtils.subst(\"Problem with A={} and B={}!\", a, b));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1716216,"reputation":519,"user_id":1573221,"accept_rate":50,"display_name":"TheCommonEngineer"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1590498143,"creation_date":1590498143,"answer_id":62022785,"question_id":12132604,"body_markdown":"If you want to use empty placeholders (without positions), you could write a small utility around `Message.format()`, like this\r\n\r\n    \r\n        String format(String s, Object... var2) {\r\n            int i = 0;\r\n            while(s.contains(&quot;{}&quot;)) {\r\n                s = s.replaceFirst(Pattern.quote(&quot;{}&quot;), &quot;{&quot;+ i++ +&quot;}&quot;);\r\n            }\r\n            return MessageFormat.format(s, var2);\r\n        }\r\n\r\n\r\nAnd then, can use it like,\r\n\r\n    format(&quot;Some {} {} {}&quot;, var1, var2, var3);\r\n\r\n","title":"Correct format string for String.format or similar","body":"<p>If you want to use empty placeholders (without positions), you could write a small utility around <code>Message.format()</code>, like this</p>\n\n<pre><code>    String format(String s, Object... var2) {\n        int i = 0;\n        while(s.contains(\"{}\")) {\n            s = s.replaceFirst(Pattern.quote(\"{}\"), \"{\"+ i++ +\"}\");\n        }\n        return MessageFormat.format(s, var2);\n    }\n</code></pre>\n\n<p>And then, can use it like,</p>\n\n<pre><code>format(\"Some {} {} {}\", var1, var2, var3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691188249,"creation_date":1691188249,"answer_id":76839411,"question_id":12132604,"body_markdown":"An alternative is to use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString s = STR.&quot;Some \\{aString}, \\{aNumber}, \\{aString}&quot;;\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Correct format string for String.format or similar","body":"<p>An alternative is to use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = STR.&quot;Some \\{aString}, \\{aNumber}, \\{aString}&quot;;\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":1299431,"reputation":6587,"user_id":1249664,"accept_rate":85,"display_name":"auser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48389,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":12132674,"answer_count":5,"score":50,"last_activity_date":1691188249,"creation_date":1346004476,"question_id":12132604,"body_markdown":"I&#39;m sure I&#39;ve seen `String.format` used like this before:\r\n\r\n    String.format(&quot;Some {1}, {2}, {3}&quot;, var1, var2, var3);\r\n\r\nDoes this ring any bells for anyone? Maybe I&#39;m thinking of C#, is there a way of achieving the same in java?\r\n\r\nI know you can do something like:\r\n\r\n    String.format(&quot;Some %s, %d, %s&quot;, aString, aNumber, aString)\r\n\r\nbut the syntax I&#39;m after is for the former...","title":"Correct format string for String.format or similar","body":"<p>I'm sure I've seen <code>String.format</code> used like this before:</p>\n\n<pre><code>String.format(\"Some {1}, {2}, {3}\", var1, var2, var3);\n</code></pre>\n\n<p>Does this ring any bells for anyone? Maybe I'm thinking of C#, is there a way of achieving the same in java?</p>\n\n<p>I know you can do something like:</p>\n\n<pre><code>String.format(\"Some %s, %d, %s\", aString, aNumber, aString)\n</code></pre>\n\n<p>but the syntax I'm after is for the former...</p>\n"},{"tags":["java","string","string-interpolation"],"answers":[{"tags":[],"owner":{"account_id":318785,"reputation":5306,"user_id":636182,"accept_rate":93,"display_name":"xecaps12"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1301445759,"creation_date":1301445759,"answer_id":5480647,"question_id":5480615,"body_markdown":"    String s = String.format(&quot;x:%d, y:%d, z:%d&quot;, x, y, z);\r\n[Java Howto - Format a string][1]\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0463.html","title":"How to build a formatted string in Java?","body":"<pre><code>String s = String.format(\"x:%d, y:%d, z:%d\", x, y, z);\n</code></pre>\n\n<p><a href=\"http://www.rgagnon.com/javadetails/java-0463.html\">Java Howto - Format a string</a></p>\n"},{"tags":[],"owner":{"account_id":269507,"reputation":986,"user_id":558880,"display_name":"Karol Lewandowski"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1318534992,"creation_date":1301446076,"answer_id":5480681,"question_id":5480615,"body_markdown":"Yes, it is possible. The `String` class contains the `format()` method, which works like you expect.\r\nExample:\r\n\r\n    String s = String.format(&quot;x:%d, y:%d, z:%d&quot;, x, y, z);\r\n\r\nHere you have more details about formatting:\r\n[formatter syntax][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax","title":"How to build a formatted string in Java?","body":"<p>Yes, it is possible. The <code>String</code> class contains the <code>format()</code> method, which works like you expect.\nExample:</p>\n\n<pre><code>String s = String.format(\"x:%d, y:%d, z:%d\", x, y, z);\n</code></pre>\n\n<p>Here you have more details about formatting:\n<a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow\">formatter syntax</a></p>\n"},{"tags":[],"owner":{"account_id":2852962,"reputation":4899,"user_id":2449744,"accept_rate":93,"display_name":"Eldar Agalarov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609807720,"creation_date":1609807720,"answer_id":65571806,"question_id":5480615,"body_markdown":"Since JDK 15:\r\n\r\n    var s = &quot;x:%d, y:%d, z:%d&quot;.formatted(x, y, z);","title":"How to build a formatted string in Java?","body":"<p>Since JDK 15:</p>\n<pre><code>var s = &quot;x:%d, y:%d, z:%d&quot;.formatted(x, y, z);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691188108,"creation_date":1691188108,"answer_id":76839407,"question_id":5480615,"body_markdown":"You can do interpolation using Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString info = STR.&quot;x:\\{x}, y:\\{y}, z:\\{z}&quot;;\r\n```\r\n","title":"How to build a formatted string in Java?","body":"<p>You can do interpolation using Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String info = STR.&quot;x:\\{x}, y:\\{y}, z:\\{z}&quot;;\n</code></pre>\n"}],"owner":{"account_id":62061,"reputation":76774,"user_id":184600,"accept_rate":89,"display_name":"maček"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26291,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":5480647,"answer_count":4,"score":17,"last_activity_date":1691188108,"creation_date":1301445464,"question_id":5480615,"body_markdown":"I am somewhat new to Java but I dislike the heavy use of string concatenation I&#39;m seeing in my textbook.\r\n\r\nFor example, I&#39;d like to **avoid** doing this:\r\n\r\n    String s = &quot;x:&quot;+x+&quot;,&quot; y:&quot;+y+&quot;, z:&quot;+z;\r\n\r\nIs it possible to build a string using a notation similar to this:\r\n\r\n    String s = new String(&quot;x:%d, y:%d, z:%d&quot;, x, y, z);\r\n\r\n## Input\r\n\r\n    x = 1\r\n    y = 2\r\n    z = 3\r\n\r\n## Output\r\n\r\n    &quot;x:1, y:2, z:3&quot;\r\n\r\nNote: I understand I can output formatted strings using `System.out.printf()` but I want to store the formatted string in a variable.","title":"How to build a formatted string in Java?","body":"<p>I am somewhat new to Java but I dislike the heavy use of string concatenation I'm seeing in my textbook.</p>\n\n<p>For example, I'd like to <strong>avoid</strong> doing this:</p>\n\n<pre><code>String s = \"x:\"+x+\",\" y:\"+y+\", z:\"+z;\n</code></pre>\n\n<p>Is it possible to build a string using a notation similar to this:</p>\n\n<pre><code>String s = new String(\"x:%d, y:%d, z:%d\", x, y, z);\n</code></pre>\n\n<h2>Input</h2>\n\n<pre><code>x = 1\ny = 2\nz = 3\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>\"x:1, y:2, z:3\"\n</code></pre>\n\n<p>Note: I understand I can output formatted strings using <code>System.out.printf()</code> but I want to store the formatted string in a variable.</p>\n"},{"tags":["java","json","string-interpolation"],"comments":[{"owner":{"account_id":965165,"reputation":2980,"user_id":988717,"accept_rate":71,"display_name":"MattCochrane"},"score":0,"creation_date":1560391192,"post_id":56570582,"comment_id":99723298,"body_markdown":"This is all really simple stuff to do with javascript.  I can&#39;t think of any edge case that would be difficult to implement.","body":"This is all really simple stuff to do with javascript.  I can&#39;t think of any edge case that would be difficult to implement."}],"answers":[{"tags":[],"owner":{"account_id":2879770,"reputation":191,"user_id":2470936,"accept_rate":0,"display_name":"Vimal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560375741,"creation_date":1560375741,"answer_id":56570742,"question_id":56570582,"body_markdown":"This is how we do it.\r\n```\r\nMap inputMap = [&quot;fullName&quot;: &quot;Elon Musk&quot;]\r\n        String finalText = StrSubstitutor.replace(&quot;my name is \\${fullName}&quot;, inputMap)\r\n\r\n```","title":"Interpolate JSON values into a string","body":"<p>This is how we do it.</p>\n\n<pre><code>Map inputMap = [\"fullName\": \"Elon Musk\"]\n        String finalText = StrSubstitutor.replace(\"my name is \\${fullName}\", inputMap)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13641450,"reputation":86,"user_id":9841416,"display_name":"pavleprica"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560376899,"creation_date":1560376899,"answer_id":56570926,"question_id":56570582,"body_markdown":"I have always used org.json library. Found at http://www.json.org/.\r\n\r\nIt makes it really easy to go through JSON Objects.\r\n\r\nFor example if you want to make a new object:\r\n\r\n    JSONObject person = new JSONObject();\r\n    person.put(&quot;fullName&quot;, &quot;Elon Musk&quot;);\r\n    person.put(&quot;phoneNumber&quot;, 3811111111);\r\n\r\nThe JSON Object would look like:\r\n\r\n    {\r\n    &quot;fullName&quot;: &quot;Elon Musk&quot;,\r\n    &quot;phoneNumber&quot;: 3811111111\r\n    }\r\nIt&#39;s similar to retrieving from the Object\r\n\r\n    String name = person.getString(&quot;fullName&quot;);\r\n\r\nYou can read out the file with `BufferedReader` and parse it as you wish.\r\nHopefully I helped out. :)","title":"Interpolate JSON values into a string","body":"<p>I have always used org.json library. Found at <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">http://www.json.org/</a>.</p>\n\n<p>It makes it really easy to go through JSON Objects.</p>\n\n<p>For example if you want to make a new object:</p>\n\n<pre><code>JSONObject person = new JSONObject();\nperson.put(\"fullName\", \"Elon Musk\");\nperson.put(\"phoneNumber\", 3811111111);\n</code></pre>\n\n<p>The JSON Object would look like:</p>\n\n<pre><code>{\n\"fullName\": \"Elon Musk\",\n\"phoneNumber\": 3811111111\n}\n</code></pre>\n\n<p>It's similar to retrieving from the Object</p>\n\n<pre><code>String name = person.getString(\"fullName\");\n</code></pre>\n\n<p>You can read out the file with <code>BufferedReader</code> and parse it as you wish.\nHopefully I helped out. :)</p>\n"},{"tags":[],"owner":{"account_id":10253596,"reputation":51,"user_id":7567016,"display_name":"SELECTED"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560404226,"creation_date":1560404226,"answer_id":56573962,"question_id":56570582,"body_markdown":"You can try this：\r\nhttps://github.com/alibaba/fastjson\r\n\r\nFastjson is a Java library that can be used to convert Java Objects into their JSON representation. It can also be used to convert a JSON string to an equivalent Java object. Fastjson can work with arbitrary Java objects including pre-existing objects that you do not have source-code of.","title":"Interpolate JSON values into a string","body":"<p>You can try this：\n<a href=\"https://github.com/alibaba/fastjson\" rel=\"nofollow noreferrer\">https://github.com/alibaba/fastjson</a></p>\n\n<p>Fastjson is a Java library that can be used to convert Java Objects into their JSON representation. It can also be used to convert a JSON string to an equivalent Java object. Fastjson can work with arbitrary Java objects including pre-existing objects that you do not have source-code of.</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691187916,"creation_date":1691187916,"answer_id":76839397,"question_id":56570582,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.\r\nFor example, here is a template processor that returns not strings but, rather, instances of JSONObject:\r\n\r\n```java\r\nvar JSON = StringTemplate.Processor.of(\r\n        (StringTemplate st) -&gt; new JSONObject(st.interpolate())\r\n    );\r\n\r\nString name    = &quot;Joan Smith&quot;;\r\nString phone   = &quot;555-123-4567&quot;;\r\nString address = &quot;1 Maple Drive, Anytown&quot;;\r\nJSONObject doc = JSON.&quot;&quot;&quot;\r\n    {\r\n        &quot;name&quot;:    &quot;\\{name}&quot;,\r\n        &quot;phone&quot;:   &quot;\\{phone}&quot;,\r\n        &quot;address&quot;: &quot;\\{address}&quot;\r\n    };\r\n    &quot;&quot;&quot;;\r\n```","title":"Interpolate JSON values into a string","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.\nFor example, here is a template processor that returns not strings but, rather, instances of JSONObject:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var JSON = StringTemplate.Processor.of(\n        (StringTemplate st) -&gt; new JSONObject(st.interpolate())\n    );\n\nString name    = &quot;Joan Smith&quot;;\nString phone   = &quot;555-123-4567&quot;;\nString address = &quot;1 Maple Drive, Anytown&quot;;\nJSONObject doc = JSON.&quot;&quot;&quot;\n    {\n        &quot;name&quot;:    &quot;\\{name}&quot;,\n        &quot;phone&quot;:   &quot;\\{phone}&quot;,\n        &quot;address&quot;: &quot;\\{address}&quot;\n    };\n    &quot;&quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":15758875,"reputation":11,"user_id":11371180,"display_name":"Sid_idk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2000,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1691187916,"creation_date":1560374798,"question_id":56570582,"body_markdown":"I am writing an application/class that will take in a template text file and a JSON value and return interpolated text back to the caller.\r\n\r\nThe format of the input template text file needs to be determined. For example: `my name is ${fullName}`\r\n\r\nExample of the JSON:\r\n\r\n    {&quot;fullName&quot;: &quot;Elon Musk&quot;}\r\n\r\nExpected output:\r\n\r\n    &quot;my name is Elon Musk&quot;\r\n\r\n\r\nI am looking for a widely used library/formats that can accomplish this. \r\n\r\n1. What format should the template text file be?\r\n\r\n2. What library would support the template text file format defined above and accept JSON values?\r\n\r\n\r\nIts easy to build my own parser but there are many edge cases that needs to be taken care of and I do not want to reinvent the wheel.\r\n\r\nFor example, if we have a slightly complex JSON object with lists, nested values etc. then I will have to think about those as well and implement it.","title":"Interpolate JSON values into a string","body":"<p>I am writing an application/class that will take in a template text file and a JSON value and return interpolated text back to the caller.</p>\n\n<p>The format of the input template text file needs to be determined. For example: <code>my name is ${fullName}</code></p>\n\n<p>Example of the JSON:</p>\n\n<pre><code>{\"fullName\": \"Elon Musk\"}\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>\"my name is Elon Musk\"\n</code></pre>\n\n<p>I am looking for a widely used library/formats that can accomplish this. </p>\n\n<ol>\n<li><p>What format should the template text file be?</p></li>\n<li><p>What library would support the template text file format defined above and accept JSON values?</p></li>\n</ol>\n\n<p>Its easy to build my own parser but there are many edge cases that needs to be taken care of and I do not want to reinvent the wheel.</p>\n\n<p>For example, if we have a slightly complex JSON object with lists, nested values etc. then I will have to think about those as well and implement it.</p>\n"},{"tags":["java","environment-variables","string-interpolation"],"comments":[{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":0,"creation_date":1573230622,"post_id":58770380,"comment_id":103826748,"body_markdown":"The variable APP_LOG_DIR is an environment variable or a property within your configuration file?","body":"The variable APP_LOG_DIR is an environment variable or a property within your configuration file?"},{"owner":{"account_id":6633202,"reputation":386,"user_id":5121205,"display_name":"Sagebrush Gardener"},"score":0,"creation_date":1573230693,"post_id":58770380,"comment_id":103826791,"body_markdown":"APP_LOG_DIR is an environment variable that I want to reference in my config file with the use of the ${APP_LOG_DIR} syntax.","body":"APP_LOG_DIR is an environment variable that I want to reference in my config file with the use of the ${APP_LOG_DIR} syntax."},{"owner":{"account_id":17028773,"reputation":616,"user_id":12319350,"display_name":"radulfr"},"score":1,"creation_date":1573230796,"post_id":58770380,"comment_id":103826842,"body_markdown":"What about this one: https://stackoverflow.com/questions/4752817/expand-environment-variables-in-text","body":"What about this one: <a href=\"https://stackoverflow.com/questions/4752817/expand-environment-variables-in-text\" title=\"expand environment variables in text\">stackoverflow.com/questions/4752817/&hellip;</a>"},{"owner":{"account_id":6633202,"reputation":386,"user_id":5121205,"display_name":"Sagebrush Gardener"},"score":0,"creation_date":1573231299,"post_id":58770380,"comment_id":103827103,"body_markdown":"@radulfr, that looks similar to what I need. For such a common requirement, I was thinking there would be a solution that didn&#39;t require writing my own function, but this may work if I can&#39;t find a better way.","body":"@radulfr, that looks similar to what I need. For such a common requirement, I was thinking there would be a solution that didn&#39;t require writing my own function, but this may work if I can&#39;t find a better way."}],"answers":[{"tags":[],"owner":{"account_id":6633202,"reputation":386,"user_id":5121205,"display_name":"Sagebrush Gardener"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573238918,"creation_date":1573238918,"answer_id":58772236,"question_id":58770380,"body_markdown":"Answering my own question. Thanks to clues from @radulfr&#39;s link in the comments above to https://stackoverflow.com/questions/4752817/expand-environment-variables-in-text, I found a pretty clean solution, using StrSubstitutor, here: https://dkbalachandar.wordpress.com/2017/10/13/how-to-use-strsubstitutor/\r\n\r\nTo summarize:\r\n```\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.apache.commons.lang3.text.StrLookup;\r\nimport org.apache.commons.lang3.text.StrSubstitutor;\r\n\r\npublic class StrSubstitutorMain {\r\n\r\n    private static final StrSubstitutor envPropertyResolver = new StrSubstitutor(new EnvLookUp());\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String sample = &quot;LANG: ${LANG}&quot;;\r\n        //LANG: en_US.UTF-8\r\n        System.out.println(envPropertyResolver.replace(sample));\r\n\r\n    }\r\n\r\n    private static class EnvLookUp extends StrLookup {\r\n\r\n        @Override\r\n        public String lookup(String key) {\r\n            String value = System.getenv(key);\r\n            if (StringUtils.isBlank(value)) {\r\n                throw new IllegalArgumentException(&quot;key&quot; + key + &quot;is not found in the env variables&quot;);\r\n            }\r\n            return value;\r\n        }\r\n    }\r\n}\r\n```\r\n  ","title":"Interpolating environment variables in string","body":"<p>Answering my own question. Thanks to clues from @radulfr's link in the comments above to <a href=\"https://stackoverflow.com/questions/4752817/expand-environment-variables-in-text\">Expand environment variables in text</a>, I found a pretty clean solution, using StrSubstitutor, here: <a href=\"https://dkbalachandar.wordpress.com/2017/10/13/how-to-use-strsubstitutor/\" rel=\"nofollow noreferrer\">https://dkbalachandar.wordpress.com/2017/10/13/how-to-use-strsubstitutor/</a></p>\n\n<p>To summarize:</p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\nimport org.apache.commons.lang3.text.StrLookup;\nimport org.apache.commons.lang3.text.StrSubstitutor;\n\npublic class StrSubstitutorMain {\n\n    private static final StrSubstitutor envPropertyResolver = new StrSubstitutor(new EnvLookUp());\n\n    public static void main(String[] args) {\n\n        String sample = \"LANG: ${LANG}\";\n        //LANG: en_US.UTF-8\n        System.out.println(envPropertyResolver.replace(sample));\n\n    }\n\n    private static class EnvLookUp extends StrLookup {\n\n        @Override\n        public String lookup(String key) {\n            String value = System.getenv(key);\n            if (StringUtils.isBlank(value)) {\n                throw new IllegalArgumentException(\"key\" + key + \"is not found in the env variables\");\n            }\n            return value;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14967975,"reputation":371,"user_id":10805680,"display_name":"simplyPTA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669716695,"creation_date":1669715017,"answer_id":74611963,"question_id":58770380,"body_markdown":"as of 2022, both `StrLookup` and `StrSubstitutor` are deprecated\r\n\r\nso I update @sagebrush’s answer:\r\n\r\n```java\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.apache.commons.lookup.StringLookup;\r\nimport org.apache.commons.text.StringSubstitutor;\r\n\r\npublic class StrSubstitutorMain {\r\n\r\n    private static final StringSubstitutor envPropertyResolver = new StringSubstitutor(new EnvLookUp());\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String sample = &quot;LANG: ${LANG}&quot;;\r\n        //LANG: en_US.UTF-8\r\n        System.out.println(envPropertyResolver.replace(sample));\r\n\r\n    }\r\n\r\n    private static class EnvLookUp implements StringLookup {\r\n\r\n        @Override\r\n        public String lookup(String key) {\r\n            String value = System.getenv(key);\r\n            if (StringUtils.isBlank(value)) {\r\n                throw new IllegalArgumentException(&quot;key&quot; + key + &quot;is not found in the env variables&quot;);\r\n            }\r\n            return value;\r\n        }\r\n    }\r\n}\r\n```","title":"Interpolating environment variables in string","body":"<p>as of 2022, both <code>StrLookup</code> and <code>StrSubstitutor</code> are deprecated</p>\n<p>so I update @sagebrush’s answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.lang3.StringUtils;\nimport org.apache.commons.lookup.StringLookup;\nimport org.apache.commons.text.StringSubstitutor;\n\npublic class StrSubstitutorMain {\n\n    private static final StringSubstitutor envPropertyResolver = new StringSubstitutor(new EnvLookUp());\n\n    public static void main(String[] args) {\n\n        String sample = &quot;LANG: ${LANG}&quot;;\n        //LANG: en_US.UTF-8\n        System.out.println(envPropertyResolver.replace(sample));\n\n    }\n\n    private static class EnvLookUp implements StringLookup {\n\n        @Override\n        public String lookup(String key) {\n            String value = System.getenv(key);\n            if (StringUtils.isBlank(value)) {\n                throw new IllegalArgumentException(&quot;key&quot; + key + &quot;is not found in the env variables&quot;);\n            }\n            return value;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691187712,"creation_date":1691187712,"answer_id":76839384,"question_id":58770380,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than features in other languagues such as C#&#39;s string interpolation and Python&#39;s f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n\r\nand you could have a similar string template that avoids JavaScript injection attacks.","title":"Interpolating environment variables in string","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than features in other languagues such as C#'s string interpolation and Python's f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n<p>and you could have a similar string template that avoids JavaScript injection attacks.</p>\n"}],"owner":{"account_id":6633202,"reputation":386,"user_id":5121205,"display_name":"Sagebrush Gardener"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1691187712,"creation_date":1573230329,"question_id":58770380,"body_markdown":"I need to expand environment variables in a string. For example, when parsing a config file, I want to be able to read this...\r\n\r\n```statsFile=${APP_LOG_DIR}/app.stats```\r\n\r\nAnd get a value of &quot;/logs/myapp/app.stats&quot;, where the environment variable APP_LOG_DIR = &quot;/logs/myapp&quot;.\r\n\r\nThis seems like a very common need, and things like the Logback framework do this for their own config files, but I have not found a canonical way of doing this for my own config files.\r\n\r\nNotes:\r\n\r\n1. This is *not* a duplicate of the many &quot;variable interpolation in java strings&quot; questions. I need to interpolate *environment* variables in the specific format ${ENV_VAR}.\r\n\r\n2. The same question was asked here, https://stackoverflow.com/questions/4593247/expand-env-variables-in-string, but the answer requires the Spring framework, and I don&#39;t want to pull in this huge dependency just to do this one simple task.\r\n\r\n3. Other languages, like go, have a simple built-in function for this: https://stackoverflow.com/questions/56915429/interpolate-a-string-with-bash-like-environment-variables-references. I am looking for something similar in java.","title":"Interpolating environment variables in string","body":"<p>I need to expand environment variables in a string. For example, when parsing a config file, I want to be able to read this...</p>\n\n<p><code>statsFile=${APP_LOG_DIR}/app.stats</code></p>\n\n<p>And get a value of \"/logs/myapp/app.stats\", where the environment variable APP_LOG_DIR = \"/logs/myapp\".</p>\n\n<p>This seems like a very common need, and things like the Logback framework do this for their own config files, but I have not found a canonical way of doing this for my own config files.</p>\n\n<p>Notes:</p>\n\n<ol>\n<li><p>This is <em>not</em> a duplicate of the many \"variable interpolation in java strings\" questions. I need to interpolate <em>environment</em> variables in the specific format ${ENV_VAR}.</p></li>\n<li><p>The same question was asked here, <a href=\"https://stackoverflow.com/questions/4593247/expand-env-variables-in-string\">Expand env variables in String</a>, but the answer requires the Spring framework, and I don't want to pull in this huge dependency just to do this one simple task.</p></li>\n<li><p>Other languages, like go, have a simple built-in function for this: <a href=\"https://stackoverflow.com/questions/56915429/interpolate-a-string-with-bash-like-environment-variables-references\">Interpolate a string with bash-like environment variables references</a>. I am looking for something similar in java.</p></li>\n</ol>\n"},{"tags":["java","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644487346,"creation_date":1644487346,"answer_id":71063078,"question_id":71062267,"body_markdown":"First read this: https://github.com/karatelabs/karate#rules-for-embedded-expressions\r\n\r\nThe good news is that in 1.0 onwards Karate supports ES6 JS string interpolation within backticks:\r\n\r\n    * def foo = 1\r\n    * def txt = `hello ${foo}`\r\n    * match txt == &#39;hello 1&#39;\r\n\r\nOf course string concatenation will always work. You just have to think of most Karate syntax especially when you call Java - as being nothing but plain old JavaScript.\r\n\r\n    * db.insertRow(&quot;INSERT INTO A(id, time, value) VALUES(123, &quot; + t + &quot;, &#39;test&#39;)&quot;)\r\n\r\nI think you will be able to proceed now.","title":"Karate Java String interpolation","body":"<p>First read this: <a href=\"https://github.com/karatelabs/karate#rules-for-embedded-expressions\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#rules-for-embedded-expressions</a></p>\n<p>The good news is that in 1.0 onwards Karate supports ES6 JS string interpolation within backticks:</p>\n<pre><code>* def foo = 1\n* def txt = `hello ${foo}`\n* match txt == 'hello 1'\n</code></pre>\n<p>Of course string concatenation will always work. You just have to think of most Karate syntax especially when you call Java - as being nothing but plain old JavaScript.</p>\n<pre><code>* db.insertRow(&quot;INSERT INTO A(id, time, value) VALUES(123, &quot; + t + &quot;, 'test')&quot;)\n</code></pre>\n<p>I think you will be able to proceed now.</p>\n"}],"owner":{"account_id":4076153,"reputation":57,"user_id":3347789,"display_name":"Ivan Kravchenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71063078,"answer_count":1,"score":1,"last_activity_date":1691187644,"creation_date":1644483469,"question_id":71062267,"body_markdown":"I am trying to call a java method that accepts a string as a parameter inside a karate script, and interpolate a value defined in karate in that string.\r\n\r\nIn my case it&#39;s a simple database INSERT statement, for example:\r\n\r\n```\r\nINSERT INTO A(id, time, value) VALUES(1, &#39;2099-05-10 18:20:18.674 UTC&#39;, &#39;test&#39;)\r\n```\r\n\r\nThe script itself looks as follows:\r\n\r\n    Background:\r\n        * def db = Java.type(&#39;com.example.DbTestHelper&#39;)\r\n        * def offsetDateTime = Java.type(&#39;java.time.OffsetDateTime&#39;)\r\n        * def zoneId = Java.type(&#39;java.time.ZoneId&#39;)\r\n    \r\n      Scenario: testScenario\r\n        * def t = offsetDateTime.now(zoneId.of(&quot;Europe/Berlin&quot;)).plusDays(1)\r\n        * def row = db.insertRow(&quot;INSERT INTO A(id, time, value) VALUES(123, #t, &#39;test&#39;)&quot;)\r\n\r\n\r\nAnd the *insertRow* method looks as follows: \r\n\r\n```\r\n    @JvmStatic\r\n    fun insertRow(vararg strings: String) {\r\n        jdbc.batchUpdate(*strings)\r\n    }\r\n```\r\n\r\nI have tried multiple combinations of setting value *t* like #(t), #t, &quot;#(t)&quot; etc. Unfortunately, none of them worked resulting in various javascript parse errors even before the java method gets invoked.\r\n\r\nWhat would be the right way to achieve that? Is it even possible?\r\n","title":"Karate Java String interpolation","body":"<p>I am trying to call a java method that accepts a string as a parameter inside a karate script, and interpolate a value defined in karate in that string.</p>\n<p>In my case it's a simple database INSERT statement, for example:</p>\n<pre><code>INSERT INTO A(id, time, value) VALUES(1, '2099-05-10 18:20:18.674 UTC', 'test')\n</code></pre>\n<p>The script itself looks as follows:</p>\n<pre><code>Background:\n    * def db = Java.type('com.example.DbTestHelper')\n    * def offsetDateTime = Java.type('java.time.OffsetDateTime')\n    * def zoneId = Java.type('java.time.ZoneId')\n\n  Scenario: testScenario\n    * def t = offsetDateTime.now(zoneId.of(&quot;Europe/Berlin&quot;)).plusDays(1)\n    * def row = db.insertRow(&quot;INSERT INTO A(id, time, value) VALUES(123, #t, 'test')&quot;)\n</code></pre>\n<p>And the <em>insertRow</em> method looks as follows:</p>\n<pre><code>    @JvmStatic\n    fun insertRow(vararg strings: String) {\n        jdbc.batchUpdate(*strings)\n    }\n</code></pre>\n<p>I have tried multiple combinations of setting value <em>t</em> like #(t), #t, &quot;#(t)&quot; etc. Unfortunately, none of them worked resulting in various javascript parse errors even before the java method gets invoked.</p>\n<p>What would be the right way to achieve that? Is it even possible?</p>\n"},{"tags":["java","r","excel"],"comments":[{"owner":{"account_id":4090011,"reputation":147300,"user_id":3358272,"accept_rate":94,"display_name":"r2evans"},"score":1,"creation_date":1691188146,"post_id":76839360,"comment_id":135463351,"body_markdown":"I don&#39;t know that error, but ... if you can read using `readxl`, is there a reason to stay with the java-encumbered `xlsx` package?","body":"I don&#39;t know that error, but ... if you can read using <code>readxl</code>, is there a reason to stay with the java-encumbered <code>xlsx</code> package?"},{"owner":{"account_id":10402556,"reputation":1271,"user_id":7670367,"display_name":"Josh"},"score":0,"creation_date":1691189458,"post_id":76839360,"comment_id":135463463,"body_markdown":"I am using the `R` package `xlsx` to extract cell color information","body":"I am using the <code>R</code> package <code>xlsx</code> to extract cell color information"},{"owner":{"account_id":4090011,"reputation":147300,"user_id":3358272,"accept_rate":94,"display_name":"r2evans"},"score":0,"creation_date":1691189758,"post_id":76839360,"comment_id":135463502,"body_markdown":"ahh, okay ... good reason, I guess","body":"ahh, okay ... good reason, I guess"},{"owner":{"account_id":10402556,"reputation":1271,"user_id":7670367,"display_name":"Josh"},"score":1,"creation_date":1691190276,"post_id":76839360,"comment_id":135463544,"body_markdown":"Yeah, unfortunately the `XLSX` were not generated with consistent names for sections, but they were generated with consistent colored dividers between sections.","body":"Yeah, unfortunately the <code>XLSX</code> were not generated with consistent names for sections, but they were generated with consistent colored dividers between sections."}],"owner":{"account_id":10402556,"reputation":1271,"user_id":7670367,"display_name":"Josh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691187190,"creation_date":1691187190,"question_id":76839360,"body_markdown":"I am using the `R` package `xlsx` to extract cell color information from a large number of XLSX spreadsheets. I am trying to load the workbook using this code:\r\n```\r\nxl_path &lt;- &quot;&lt;path&gt;/&lt;to&gt;/file.xlsx&quot;\r\nwb &lt;- xlsx::loadWorkbook(xl_path)\r\n```\r\nBut I get this error:\r\n```\r\nError in .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl,  : \r\n  java.util.zip.ZipException: invalid entry size (expected 0 but got 1178 bytes)\r\n```\r\nThe XLSX file was generated by someone else, but I can open it with `Excel` or load to `R` with `readxl` without any issues.\r\nThanks!\r\n","title":"How to resolve &quot;invalid entry size&quot; Java error from the R package xlsx","body":"<p>I am using the <code>R</code> package <code>xlsx</code> to extract cell color information from a large number of XLSX spreadsheets. I am trying to load the workbook using this code:</p>\n<pre><code>xl_path &lt;- &quot;&lt;path&gt;/&lt;to&gt;/file.xlsx&quot;\nwb &lt;- xlsx::loadWorkbook(xl_path)\n</code></pre>\n<p>But I get this error:</p>\n<pre><code>Error in .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl,  : \n  java.util.zip.ZipException: invalid entry size (expected 0 but got 1178 bytes)\n</code></pre>\n<p>The XLSX file was generated by someone else, but I can open it with <code>Excel</code> or load to <code>R</code> with <code>readxl</code> without any issues.\nThanks!</p>\n"},{"tags":["java","jar","cmd","classpath","program-entry-point"],"answers":[{"tags":[],"owner":{"account_id":8428828,"reputation":11,"user_id":6325247,"display_name":"magc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464256826,"creation_date":1464256826,"answer_id":37457523,"question_id":37456605,"body_markdown":"Oh god, I figured it out. After a month of troubles with this, I just randomly noticed that some people put a \\ before the C:\\Program Files etc. in the Class-Path. This fixed it for me...","title":"Adding Class-Path (sqljdbc4) to manifest file makes JAR unable to find/load main class Main","body":"<p>Oh god, I figured it out. After a month of troubles with this, I just randomly noticed that some people put a \\ before the C:\\Program Files etc. in the Class-Path. This fixed it for me...</p>\n"}],"owner":{"account_id":8428828,"reputation":11,"user_id":6325247,"display_name":"magc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691186876,"creation_date":1464254400,"question_id":37456605,"body_markdown":"I&#39;ve been having some strange problems with JAR creation from my project lately. I&#39;ve been writing a simple Swing-application, a database frontend, but have not been able to build it as a jar through IntelliJ for a while now. First I got JNI errors, and then it couldn&#39;t find or load main class &quot;Main&quot;, despite the fact that I have a very simple Main-class, called Main, with only the method main().\r\n\r\nToday, I was looking into JAR-creation through the terminal, and decided to try doing it off of the .class files I had in my IntelliJ-project. I wrote a manifest.txt (tried with manifest.mf too), containing the following:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: Main\r\n    Class-Path: C:\\Users\\mac\\IdeaProjects\\MWBSQLGUI\\sqljdbc4.jar\r\n\r\nI used this to make the JAR: `C:\\mywork jar cvfm MyJarName.jar manifest.txt dir1/*.class dir2/*.class`\r\n\r\nRunning the JAR produced the &quot;could not find or load main class Main&quot;-error.\r\nThe odd thing is, if I remove the class-path line from my manifest, jar creation goes smoothly, and I can run the application. It obviously throws exceptions wherever the depency was needed though, so it really doesn&#39;t help much. Any idea how I can incorporate the sqljdc4.jar? I&#39;ve looked up a lot of manifest formatting articles, it seems like I&#39;m doing it correctly. I&#39;ve tried with newline(s) after the class-path line too...\r\n\r\nHere&#39;s the CMD output from creating and trying to run the JAR with the Class-Path line in the manifest: https://i.stack.imgur.com/SKMXQ.jpg\r\n\r\nContents of the Main class:\r\n\r\n    import View.MWBFrame;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            MWBFrame frame = new MWBFrame(&quot;MWB SQL Lookup&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Adding Class-Path (sqljdbc4) to manifest file makes JAR unable to find/load main class Main","body":"<p>I've been having some strange problems with JAR creation from my project lately. I've been writing a simple Swing-application, a database frontend, but have not been able to build it as a jar through IntelliJ for a while now. First I got JNI errors, and then it couldn't find or load main class \"Main\", despite the fact that I have a very simple Main-class, called Main, with only the method main().</p>\n\n<p>Today, I was looking into JAR-creation through the terminal, and decided to try doing it off of the .class files I had in my IntelliJ-project. I wrote a manifest.txt (tried with manifest.mf too), containing the following:</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: Main\nClass-Path: C:\\Users\\mac\\IdeaProjects\\MWBSQLGUI\\sqljdbc4.jar\n</code></pre>\n\n<p>I used this to make the JAR: <code>C:\\mywork jar cvfm MyJarName.jar manifest.txt dir1/*.class dir2/*.class</code></p>\n\n<p>Running the JAR produced the \"could not find or load main class Main\"-error.\nThe odd thing is, if I remove the class-path line from my manifest, jar creation goes smoothly, and I can run the application. It obviously throws exceptions wherever the depency was needed though, so it really doesn't help much. Any idea how I can incorporate the sqljdc4.jar? I've looked up a lot of manifest formatting articles, it seems like I'm doing it correctly. I've tried with newline(s) after the class-path line too...</p>\n\n<p>Here's the CMD output from creating and trying to run the JAR with the Class-Path line in the manifest: <a href=\"https://i.stack.imgur.com/SKMXQ.jpg\" rel=\"nofollow\">https://i.stack.imgur.com/SKMXQ.jpg</a></p>\n\n<p>Contents of the Main class:</p>\n\n<pre><code>import View.MWBFrame;\n\npublic class Main {\n    public static void main(String[] args) {\n        MWBFrame frame = new MWBFrame(\"MWB SQL Lookup\");\n    }\n}\n</code></pre>\n"},{"tags":["java","velocity"],"answers":[{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1471073160,"creation_date":1471073160,"answer_id":38930328,"question_id":38930121,"body_markdown":"This is how I made a template out of a String:\r\n\r\n\t\t\tRuntimeServices runtimeServices = RuntimeSingleton.getRuntimeServices();\r\n\r\n\t\t\tStringReader reader = new StringReader(stringValue);\r\n\t\t\tSimpleNode node = runtimeServices.parse(reader, &quot;Template name&quot;);\r\n\t\t\tTemplate template = new Template();\r\n\t\t\ttemplate.setRuntimeServices(runtimeServices);\r\n\t\t\ttemplate.setData(node);\r\n\t\t\ttemplate.initDocument();","title":"does velocity have a method which returns template by passing String as argument?","body":"<p>This is how I made a template out of a String:</p>\n\n<pre><code>        RuntimeServices runtimeServices = RuntimeSingleton.getRuntimeServices();\n\n        StringReader reader = new StringReader(stringValue);\n        SimpleNode node = runtimeServices.parse(reader, \"Template name\");\n        Template template = new Template();\n        template.setRuntimeServices(runtimeServices);\n        template.setData(node);\n        template.initDocument();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":244252,"reputation":21923,"user_id":516910,"accept_rate":100,"display_name":"broc.seib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513195642,"creation_date":1513195642,"answer_id":47801329,"question_id":38930121,"body_markdown":"\r\n`Velocity.evaluate()` is what you want. From the example in the [docs][1]:\r\n\r\n\r\n\r\n    public class Example2\r\n    {\r\n        public static void main( String args[] )\r\n        {\r\n            /* first, we init the runtime engine.  Defaults are fine. */\r\n    \r\n            Velocity.init();\r\n    \r\n            /* lets make a Context and put data into it */\r\n    \r\n            VelocityContext context = new VelocityContext();\r\n    \r\n            context.put(&quot;name&quot;, &quot;Velocity&quot;);\r\n            context.put(&quot;project&quot;, &quot;Jakarta&quot;);\r\n    \r\n            /* lets render a template */\r\n    \r\n            StringWriter w = new StringWriter();\r\n    \r\n            Velocity.mergeTemplate(&quot;testtemplate.vm&quot;, context, w );\r\n            System.out.println(&quot; template : &quot; + w );\r\n    \r\n            /* lets make our own string to render */\r\n    \r\n            String s = &quot;We are using $project $name to render this.&quot;;\r\n            w = new StringWriter();\r\n            Velocity.evaluate( context, w, &quot;mystring&quot;, s );\r\n            System.out.println(&quot; string : &quot; + w );\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://velocity.apache.org/engine/1.7/developer-guide.html","title":"does velocity have a method which returns template by passing String as argument?","body":"<p><code>Velocity.evaluate()</code> is what you want. From the example in the <a href=\"http://velocity.apache.org/engine/1.7/developer-guide.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<pre><code>public class Example2\n{\n    public static void main( String args[] )\n    {\n        /* first, we init the runtime engine.  Defaults are fine. */\n\n        Velocity.init();\n\n        /* lets make a Context and put data into it */\n\n        VelocityContext context = new VelocityContext();\n\n        context.put(\"name\", \"Velocity\");\n        context.put(\"project\", \"Jakarta\");\n\n        /* lets render a template */\n\n        StringWriter w = new StringWriter();\n\n        Velocity.mergeTemplate(\"testtemplate.vm\", context, w );\n        System.out.println(\" template : \" + w );\n\n        /* lets make our own string to render */\n\n        String s = \"We are using $project $name to render this.\";\n        w = new StringWriter();\n        Velocity.evaluate( context, w, \"mystring\", s );\n        System.out.println(\" string : \" + w );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4706213,"reputation":269,"user_id":3808266,"accept_rate":57,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":38930328,"answer_count":2,"score":1,"last_activity_date":1691186531,"creation_date":1471071512,"question_id":38930121,"body_markdown":"I have a requirement in which i have a String which contains file content, i have to create a template of that string using velocity. is there any method in velocity which takes string as input and returns template?","title":"does velocity have a method which returns template by passing String as argument?","body":"<p>I have a requirement in which i have a String which contains file content, i have to create a template of that string using velocity. is there any method in velocity which takes string as input and returns template?</p>\n"},{"tags":["java","string-formatting","template-engine"],"comments":[{"owner":{"account_id":251439,"reputation":245,"user_id":528825,"display_name":"Charles"},"score":0,"creation_date":1340982392,"post_id":11264197,"comment_id":14808437,"body_markdown":"Any reason you aren&#39;t just using &quot;#&quot; + args.get(&quot;PATH&quot;) + &quot;/ls #&quot; + args.get(&quot;file&quot;) ?","body":"Any reason you aren&#39;t just using &quot;#&quot; + args.get(&quot;PATH&quot;) + &quot;/ls #&quot; + args.get(&quot;file&quot;) ?"},{"owner":{"account_id":226173,"reputation":16762,"user_id":487064,"accept_rate":68,"display_name":"GreyCat"},"score":0,"creation_date":1340996789,"post_id":11264197,"comment_id":14814125,"body_markdown":"I have a bunch of template files, I have a map of arguments and I need to get filled-in strings from every of these template files.","body":"I have a bunch of template files, I have a map of arguments and I need to get filled-in strings from every of these template files."}],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340982469,"creation_date":1340982469,"answer_id":11264266,"question_id":11264197,"body_markdown":"[StringTemplate][1] may be as light-weight an interpolation engine as you&#39;re likely to get, although I don&#39;t know how it stacks up resource-wise against things like [FreeMarker][2], [Mustache][3], or [Velocity][4].\r\n\r\nAnother option might be an EL engine like [MVEL][5], which has a [templating engine][6].\r\n\r\n\r\n  [1]: http://www.stringtemplate.org/\r\n  [2]: http://freemarker.sourceforge.net/\r\n  [3]: https://github.com/spullara/mustache.java/\r\n  [4]: http://velocity.apache.org/\r\n  [5]: http://mvel.codehaus.org/\r\n  [6]: http://mvel.codehaus.org/MVEL+2.0+Templating+Guide","title":"Java string templatizer / formatter with named arguments","body":"<p><a href=\"http://www.stringtemplate.org/\" rel=\"nofollow\">StringTemplate</a> may be as light-weight an interpolation engine as you're likely to get, although I don't know how it stacks up resource-wise against things like <a href=\"http://freemarker.sourceforge.net/\" rel=\"nofollow\">FreeMarker</a>, <a href=\"https://github.com/spullara/mustache.java/\" rel=\"nofollow\">Mustache</a>, or <a href=\"http://velocity.apache.org/\" rel=\"nofollow\">Velocity</a>.</p>\n\n<p>Another option might be an EL engine like <a href=\"http://mvel.codehaus.org/\" rel=\"nofollow\">MVEL</a>, which has a <a href=\"http://mvel.codehaus.org/MVEL+2.0+Templating+Guide\" rel=\"nofollow\">templating engine</a>.</p>\n"},{"tags":[],"owner":{"account_id":1565421,"reputation":436,"user_id":1454346,"display_name":"Pavel K."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340983768,"creation_date":1340983768,"answer_id":11264639,"question_id":11264197,"body_markdown":"[Matcher#appendReplacement()][1] would help\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#appendReplacement%28java.lang.StringBuffer,%20java.lang.String%29","title":"Java string templatizer / formatter with named arguments","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#appendReplacement%28java.lang.StringBuffer,%20java.lang.String%29\" rel=\"nofollow\">Matcher#appendReplacement()</a> would help</p>\n"},{"tags":[],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1342178666,"creation_date":1342178666,"answer_id":11469548,"question_id":11264197,"body_markdown":"You might also try `org.apache.commons.lang3.text.StrSubstitutor` if Java 7 is not an option. It does _exactly_ what you want it to do. Whether it’s light-weight might depend on whether you use something else of commons-lang as well.","title":"Java string templatizer / formatter with named arguments","body":"<p>You might also try <code>org.apache.commons.lang3.text.StrSubstitutor</code> if Java 7 is not an option. It does <em>exactly</em> what you want it to do. Whether it’s light-weight might depend on whether you use something else of commons-lang as well.</p>\n"},{"tags":[],"owner":{"account_id":3419,"reputation":10436,"user_id":4931,"accept_rate":86,"display_name":"Michael Deardeuff"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1350940875,"creation_date":1350807256,"answer_id":12996110,"question_id":11264197,"body_markdown":"I recently discovered [JUEL](http://juel.sourceforge.net/) which fits the description nicely. It is the expression language taken out of JSP. It claims to be very fast, too.\r\n\r\nI&#39;m about to try it out in one of my own projects.\r\n\r\nBut for a lighter-weight, which is a variant of yours, try this (wrapped in a unit test):\r\n\r\n    public class TestInterpolation {\r\n    \r\n        public static class NamedFormatter {\r\n            public final static Pattern pattern = Pattern.compile(&quot;#\\\\{(?&lt;key&gt;.*)}&quot;);\r\n            public static String format(final String format, Map&lt;String, ? extends Object&gt; kvs) {\r\n                final StringBuffer buffer = new StringBuffer();\r\n                final Matcher match = pattern.matcher(format);\r\n                while (match.find()) {\r\n                    final String key = match.group(&quot;key&quot;);\r\n                    final Object value = kvs.get(key);\r\n                    if (value != null)\r\n                        match.appendReplacement(buffer, value.toString());\r\n                    else if (kvs.containsKey(key))\r\n                        match.appendReplacement(buffer, &quot;null&quot;);\r\n                    else\r\n                        match.appendReplacement(buffer, &quot;&quot;);\r\n                }\r\n                match.appendTail(buffer);\r\n                return buffer.toString();\r\n            }\r\n        }\r\n        \r\n        @Test\r\n        public void test() {\r\n            assertEquals(&quot;hello world&quot;, NamedFormatter.format(&quot;hello #{name}&quot;, map(&quot;name&quot;, &quot;world&quot;)));\r\n            assertEquals(&quot;hello null&quot;, NamedFormatter.format(&quot;hello #{name}&quot;, map(&quot;name&quot;, null)));\r\n            assertEquals(&quot;hello &quot;, NamedFormatter.format(&quot;hello #{name}&quot;, new HashMap&lt;String, Object&gt;()));\r\n        }\r\n    \r\n        private Map&lt;String, Object&gt; map(final String key, final Object value) {\r\n            final Map&lt;String, Object&gt; kvs = new HashMap&lt;&gt;();\r\n            kvs.put(key, value);\r\n            return kvs;\r\n        }\r\n    }\r\n\r\nI&#39;d extend it to add convenience methods to for quick key-value pairs\r\n\r\n    format(format, key1, value1)\r\n    format(format, key1, value1, key2, value2)\r\n    format(format, key1, value1, key2, value2, key3, value3)\r\n    ...\r\n\r\nAnd it shouldn&#39;t be too hard to convert from java 7+ to java 6-","title":"Java string templatizer / formatter with named arguments","body":"<p>I recently discovered <a href=\"http://juel.sourceforge.net/\" rel=\"nofollow\">JUEL</a> which fits the description nicely. It is the expression language taken out of JSP. It claims to be very fast, too.</p>\n\n<p>I'm about to try it out in one of my own projects.</p>\n\n<p>But for a lighter-weight, which is a variant of yours, try this (wrapped in a unit test):</p>\n\n<pre><code>public class TestInterpolation {\n\n    public static class NamedFormatter {\n        public final static Pattern pattern = Pattern.compile(\"#\\\\{(?&lt;key&gt;.*)}\");\n        public static String format(final String format, Map&lt;String, ? extends Object&gt; kvs) {\n            final StringBuffer buffer = new StringBuffer();\n            final Matcher match = pattern.matcher(format);\n            while (match.find()) {\n                final String key = match.group(\"key\");\n                final Object value = kvs.get(key);\n                if (value != null)\n                    match.appendReplacement(buffer, value.toString());\n                else if (kvs.containsKey(key))\n                    match.appendReplacement(buffer, \"null\");\n                else\n                    match.appendReplacement(buffer, \"\");\n            }\n            match.appendTail(buffer);\n            return buffer.toString();\n        }\n    }\n\n    @Test\n    public void test() {\n        assertEquals(\"hello world\", NamedFormatter.format(\"hello #{name}\", map(\"name\", \"world\")));\n        assertEquals(\"hello null\", NamedFormatter.format(\"hello #{name}\", map(\"name\", null)));\n        assertEquals(\"hello \", NamedFormatter.format(\"hello #{name}\", new HashMap&lt;String, Object&gt;()));\n    }\n\n    private Map&lt;String, Object&gt; map(final String key, final Object value) {\n        final Map&lt;String, Object&gt; kvs = new HashMap&lt;&gt;();\n        kvs.put(key, value);\n        return kvs;\n    }\n}\n</code></pre>\n\n<p>I'd extend it to add convenience methods to for quick key-value pairs</p>\n\n<pre><code>format(format, key1, value1)\nformat(format, key1, value1, key2, value2)\nformat(format, key1, value1, key2, value2, key3, value3)\n...\n</code></pre>\n\n<p>And it shouldn't be too hard to convert from java 7+ to java 6-</p>\n"},{"tags":[],"owner":{"account_id":2212660,"reputation":311,"user_id":1954051,"display_name":"Eldar Budagov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449211039,"creation_date":1449211039,"answer_id":34082329,"question_id":11264197,"body_markdown":"Here is my solution:\r\n\r\n    public class Template\r\n    {\r\n        \r\n        private Pattern pattern;\r\n        protected Map&lt;CharSequence, String&gt; tokens;\r\n        private String template;\r\n        \r\n        public Template(String template)\r\n        {\r\n            pattern = Pattern.compile(&quot;\\\\$\\\\{\\\\w+\\\\}&quot;);\r\n            tokens = new HashMap&lt;CharSequence, String&gt;();\r\n            this.template = template;\r\n        }\r\n        \r\n        public void clearAllTokens()\r\n        {\r\n            tokens.clear();\r\n        }\r\n        \r\n        public void setToken(String token, String replacement)\r\n        {\r\n            if(token == null)\r\n            {\r\n                throw new NullPointerException(&quot;Token can&#39;t be null&quot;);\r\n            }\r\n            \r\n            if(replacement == null)\r\n            {\r\n                throw new NullPointerException(&quot;Replacement string can&#39;t be null&quot;);\r\n            }\r\n            \r\n            tokens.put(token, Matcher.quoteReplacement(replacement));\r\n        }\r\n       \r\n        public String getText()\r\n        {\r\n            final Matcher matcher = pattern.matcher(template);\r\n            final StringBuffer sb = new StringBuffer();\r\n            \r\n            while(matcher.find()) \r\n            {\r\n                final String entry = matcher.group();\r\n                final CharSequence key = entry.subSequence(2, entry.length() - 1);\r\n                if(tokens.containsKey(key))\r\n                {\r\n                    matcher.appendReplacement(sb, tokens.get(key));\r\n                }\r\n            }\r\n            matcher.appendTail(sb);\r\n            return sb.toString();\r\n        }\r\n        \r\n        \r\n        public static void main(String[] args) {\r\n            Template template = new Template(&quot;Hello, ${name}.&quot;);\r\n            template.setToken(&quot;name&quot;, &quot;Eldar&quot;);\r\n            \r\n            System.out.println(template.getText());\r\n        }\r\n    }","title":"Java string templatizer / formatter with named arguments","body":"<p>Here is my solution:</p>\n\n<pre><code>public class Template\n{\n\n    private Pattern pattern;\n    protected Map&lt;CharSequence, String&gt; tokens;\n    private String template;\n\n    public Template(String template)\n    {\n        pattern = Pattern.compile(\"\\\\$\\\\{\\\\w+\\\\}\");\n        tokens = new HashMap&lt;CharSequence, String&gt;();\n        this.template = template;\n    }\n\n    public void clearAllTokens()\n    {\n        tokens.clear();\n    }\n\n    public void setToken(String token, String replacement)\n    {\n        if(token == null)\n        {\n            throw new NullPointerException(\"Token can't be null\");\n        }\n\n        if(replacement == null)\n        {\n            throw new NullPointerException(\"Replacement string can't be null\");\n        }\n\n        tokens.put(token, Matcher.quoteReplacement(replacement));\n    }\n\n    public String getText()\n    {\n        final Matcher matcher = pattern.matcher(template);\n        final StringBuffer sb = new StringBuffer();\n\n        while(matcher.find()) \n        {\n            final String entry = matcher.group();\n            final CharSequence key = entry.subSequence(2, entry.length() - 1);\n            if(tokens.containsKey(key))\n            {\n                matcher.appendReplacement(sb, tokens.get(key));\n            }\n        }\n        matcher.appendTail(sb);\n        return sb.toString();\n    }\n\n\n    public static void main(String[] args) {\n        Template template = new Template(\"Hello, ${name}.\");\n        template.setToken(\"name\", \"Eldar\");\n\n        System.out.println(template.getText());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490817380,"creation_date":1490817380,"answer_id":43102982,"question_id":11264197,"body_markdown":"I know my answer comes a little late, but if you still need this functionality, without the need to download a full-fledged template engine you can take a look at [aleph-formatter](https://github.com/nomemory/aleph-formatter) (I am one of the authors):\r\n\r\n    Student student = new Student(&quot;Andrei&quot;, 30, &quot;Male&quot;);\r\n\r\n    String studStr = template(&quot;#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}&quot;)\r\n                        .arg(&quot;id&quot;, 10)\r\n                        .arg(&quot;st&quot;, student)\r\n                        .format();\r\n    System.out.println(studStr);\r\n\r\n\r\nOr you can chain the arguments:\r\n\r\n    String result = template(&quot;#{x} + #{y} = #{z}&quot;)\r\n                        .args(&quot;x&quot;, 5, &quot;y&quot;, 10, &quot;z&quot;, 15)\r\n                        .format();\r\n    System.out.println(result);\r\n    \r\n    // Output: &quot;5 + 10 = 15&quot;\r\n\r\nInternally it works using a StringBuilder creating the result by &quot;parsing&quot; the expression, no string concatenation, regex/replace is performed.","title":"Java string templatizer / formatter with named arguments","body":"<p>I know my answer comes a little late, but if you still need this functionality, without the need to download a full-fledged template engine you can take a look at <a href=\"https://github.com/nomemory/aleph-formatter\" rel=\"nofollow noreferrer\">aleph-formatter</a> (I am one of the authors):</p>\n\n<pre><code>Student student = new Student(\"Andrei\", 30, \"Male\");\n\nString studStr = template(\"#{id}\\tName: #{st.getName}, Age: #{st.getAge}, Gender: #{st.getGender}\")\n                    .arg(\"id\", 10)\n                    .arg(\"st\", student)\n                    .format();\nSystem.out.println(studStr);\n</code></pre>\n\n<p>Or you can chain the arguments:</p>\n\n<pre><code>String result = template(\"#{x} + #{y} = #{z}\")\n                    .args(\"x\", 5, \"y\", 10, \"z\", 15)\n                    .format();\nSystem.out.println(result);\n\n// Output: \"5 + 10 = 15\"\n</code></pre>\n\n<p>Internally it works using a StringBuilder creating the result by \"parsing\" the expression, no string concatenation, regex/replace is performed.</p>\n"},{"tags":[],"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572965658,"creation_date":1572965658,"answer_id":58713941,"question_id":11264197,"body_markdown":"I also made one in my str utils (not tested) `string.MapFormat(&quot;abcd {var}&quot;,map)`.\r\n\r\n\r\n    //util\r\n\tpublic static String mapFormat(String template, HashMap&lt;String, String&gt; mapSet) {\r\n\t\tString res = template;\r\n\t\tfor (String key : mapSet.keySet()) {\r\n\t\t\tres = template.replace(String.format(&quot;{%s}&quot;, key), mapSet.get(key));\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\r\n    //use\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tboolean isOn=false;\r\n\t\tHashMap&lt;String, String&gt; kvMap=new HashMap&lt;String, String&gt;();\r\n\t\tkvMap.put(&quot;isOn&quot;, isOn+&quot;&quot;);\r\n\t\tString exp=StringUtils.mapFormat(&quot;http://localhost/api/go?isOn={isOn}&quot;, kvMap);\r\n\t\tSystem.out.println(exp);\r\n\t}","title":"Java string templatizer / formatter with named arguments","body":"<p>I also made one in my str utils (not tested) <code>string.MapFormat(\"abcd {var}\",map)</code>.</p>\n\n<pre><code>//util\npublic static String mapFormat(String template, HashMap&lt;String, String&gt; mapSet) {\n    String res = template;\n    for (String key : mapSet.keySet()) {\n        res = template.replace(String.format(\"{%s}\", key), mapSet.get(key));\n    }\n    return res;\n}\n\n//use\n\npublic static void main(String[] args) {\n    boolean isOn=false;\n    HashMap&lt;String, String&gt; kvMap=new HashMap&lt;String, String&gt;();\n    kvMap.put(\"isOn\", isOn+\"\");\n    String exp=StringUtils.mapFormat(\"http://localhost/api/go?isOn={isOn}\", kvMap);\n    System.out.println(exp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691186203,"creation_date":1691186203,"answer_id":76839294,"question_id":11264197,"body_markdown":"You can use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than the interpolation found in other languagues such as Python&#39;s f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Java string templatizer / formatter with named arguments","body":"<p>You can use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than the interpolation found in other languagues such as Python's f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":226173,"reputation":16762,"user_id":487064,"accept_rate":68,"display_name":"GreyCat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10119,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":11469548,"answer_count":8,"score":11,"last_activity_date":1691186203,"creation_date":1340982189,"question_id":11264197,"body_markdown":"Is there a standard or at least widespread implementation of something like `String.format`, but with named arguments?\r\n\r\nI&#39;d like to format a templatized string in a way like that:\r\n\r\n    Map&lt;String, Object&gt; args = new HashMap&lt;String, Object&gt;();\r\n    args.put(&quot;PATH&quot;, &quot;/usr/bin&quot;);\r\n    args.put(&quot;file&quot;, &quot;foo&quot;);\r\n    String s = someHypotheticalMethod(&quot;#{PATH}/ls #{file}&quot;);\r\n    // &quot;/usr/bin/ls foo&quot;\r\n\r\nTechnically, it&#39;s almost the same as:\r\n\r\n    String[] args = new String[] { &quot;/usr/bin&quot;, &quot;foo&quot; };\r\n    String s = String.format(&quot;%1$s/ls %2$s&quot;, args);\r\n    // &quot;/usr/bin/ls foo&quot;\r\n\r\nbut with named arguments.\r\n\r\nI&#39;m aware of:\r\n\r\n* [String.format](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html)\r\n* [Formatter](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html)\r\n* [MessageFormat](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/MessageFormat.html)\r\n\r\nbut all of them use ordered or at least numbered arguments, not named ones. I know it&#39;s trivial to implement one, but is there a mechanism I&#39;m looking for in standard Java libraries or at least in Apache Commons / Guava / something similar, without bringing in high-profile template engines?\r\n\r\n**NOTE**: I&#39;m not really interested in full-blown template engines, with features like some imperative / functional logic, flow control, modifiers, sub-templates / inclusions, iterators, etc. Generally the following method is a working 4-line implementation - that&#39;s all I need:\r\n\r\n    public static String interpolate(String format, Map&lt;String, ? extends Object&gt; args) {\r\n        String out = format;\r\n        for (String arg : args.keySet()) {\r\n            out = Pattern.compile(Pattern.quote(&quot;#{&quot; + arg + &quot;}&quot;)).\r\n                    matcher(out).\r\n                    replaceAll(args.get(arg).toString());\r\n        }\r\n        return out;\r\n    }\r\n","title":"Java string templatizer / formatter with named arguments","body":"<p>Is there a standard or at least widespread implementation of something like <code>String.format</code>, but with named arguments?</p>\n\n<p>I'd like to format a templatized string in a way like that:</p>\n\n<pre><code>Map&lt;String, Object&gt; args = new HashMap&lt;String, Object&gt;();\nargs.put(\"PATH\", \"/usr/bin\");\nargs.put(\"file\", \"foo\");\nString s = someHypotheticalMethod(\"#{PATH}/ls #{file}\");\n// \"/usr/bin/ls foo\"\n</code></pre>\n\n<p>Technically, it's almost the same as:</p>\n\n<pre><code>String[] args = new String[] { \"/usr/bin\", \"foo\" };\nString s = String.format(\"%1$s/ls %2$s\", args);\n// \"/usr/bin/ls foo\"\n</code></pre>\n\n<p>but with named arguments.</p>\n\n<p>I'm aware of:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html\">String.format</a></li>\n<li><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html\">Formatter</a></li>\n<li><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/text/MessageFormat.html\">MessageFormat</a></li>\n</ul>\n\n<p>but all of them use ordered or at least numbered arguments, not named ones. I know it's trivial to implement one, but is there a mechanism I'm looking for in standard Java libraries or at least in Apache Commons / Guava / something similar, without bringing in high-profile template engines?</p>\n\n<p><strong>NOTE</strong>: I'm not really interested in full-blown template engines, with features like some imperative / functional logic, flow control, modifiers, sub-templates / inclusions, iterators, etc. Generally the following method is a working 4-line implementation - that's all I need:</p>\n\n<pre><code>public static String interpolate(String format, Map&lt;String, ? extends Object&gt; args) {\n    String out = format;\n    for (String arg : args.keySet()) {\n        out = Pattern.compile(Pattern.quote(\"#{\" + arg + \"}\")).\n                matcher(out).\n                replaceAll(args.get(arg).toString());\n    }\n    return out;\n}\n</code></pre>\n"},{"tags":["java","stringtemplate-4"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1421511990,"post_id":28001536,"comment_id":44392160,"body_markdown":"Well, you could do `return new String(Files.readAllBytes(Paths.get(templateFile)), StandardCharSets.UTF_8)`. For example. But I would generally assume that your templates would be on the classpath rather than in a file.","body":"Well, you could do <code>return new String(Files.readAllBytes(Paths.get(templateFile)), StandardCharSets.UTF_8)</code>. For example. But I would generally assume that your templates would be on the classpath rather than in a file."},{"owner":{"account_id":2154106,"reputation":1258,"user_id":1909728,"accept_rate":92,"display_name":"Liam de Haas"},"score":0,"creation_date":1421512103,"post_id":28001536,"comment_id":44392197,"body_markdown":"@BoristheSpider the question is not how to read the file but if there&#39;s functionality in the STringTemplate engine to store templates in files and read them fron files","body":"@BoristheSpider the question is not how to read the file but if there&#39;s functionality in the STringTemplate engine to store templates in files and read them fron files"},{"owner":{"account_id":203782,"reputation":52310,"user_id":451634,"accept_rate":58,"display_name":"Benny Code"},"score":0,"creation_date":1460989817,"post_id":28001536,"comment_id":60981718,"body_markdown":"Here is an example for `stringtemplate v3`: https://theantlrguy.atlassian.net/wiki/display/ST/Five+minute+Introduction","body":"Here is an example for <code>stringtemplate v3</code>: <a href=\"https://theantlrguy.atlassian.net/wiki/display/ST/Five+minute+Introduction\" rel=\"nofollow noreferrer\">theantlrguy.atlassian.net/wiki/display/ST/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2453232,"reputation":18871,"user_id":2138993,"accept_rate":50,"display_name":"wassgren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1421515339,"creation_date":1421515339,"answer_id":28002116,"question_id":28001536,"body_markdown":"Yes, there is functionality available that can be used directly without providing your own file loading code. \r\n\r\nFrom the [ST JavaDoc](http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html):\r\n\r\n&gt;To use templates, you create one (usually via [STGroup](http://www.stringtemplate.org/api/org/stringtemplate/v4/STGroup.html)) and then inject attributes using [add(java.lang.String, java.lang.Object)](http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html#add-java.lang.String-java.lang.Object-). To render its attacks, use [render()](http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html#render--).\r\n\r\nTo follow that advice the following code can be used.\r\n\r\nFirst, create a file called `exampleTemplate.stg` and place it on your classpath.\r\n\r\n    templateExample(param) ::= &lt;&lt;\r\n    This is a template with the following param: (&lt;param&gt;)\r\n    &gt;&gt;\r\n\r\nThen, render the template by using the following code:\r\n\r\n    // Load the file\r\n    final STGroup stGroup = new STGroupFile(&quot;exampleTemplate.stg&quot;);\r\n\r\n    // Pick the correct template\r\n    final ST templateExample = stGroup.getInstanceOf(&quot;templateExample&quot;);\r\n\r\n    // Pass on values to use when rendering\r\n    templateExample.add(&quot;param&quot;, &quot;Hello World&quot;);\r\n\r\n    // Render\r\n    final String render = templateExample.render();\r\n\r\n    // Print\r\n    System.out.println(render);\r\n\r\nThe output is:\r\n&gt;This is a template with the following param: (Hello World)\r\n\r\n----------------------------\r\nSome additional notes:\r\n\r\n* `STGroupFile` is a subclass of `STGroup`. There are other subclasses as well that you find out more about in the [JavaDoc](http://www.stringtemplate.org/api/).\r\n* In the example above the template file was placed on the classpath. This is not a requirement, files can be placed in a relative folder or a in an absolute folder as well.","title":"Read templates from a file StringTemplate","body":"<p>Yes, there is functionality available that can be used directly without providing your own file loading code. </p>\n\n<p>From the <a href=\"http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html\" rel=\"nofollow\">ST JavaDoc</a>:</p>\n\n<blockquote>\n  <p>To use templates, you create one (usually via <a href=\"http://www.stringtemplate.org/api/org/stringtemplate/v4/STGroup.html\" rel=\"nofollow\">STGroup</a>) and then inject attributes using <a href=\"http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html#add-java.lang.String-java.lang.Object-\" rel=\"nofollow\">add(java.lang.String, java.lang.Object)</a>. To render its attacks, use <a href=\"http://www.stringtemplate.org/api/org/stringtemplate/v4/ST.html#render--\" rel=\"nofollow\">render()</a>.</p>\n</blockquote>\n\n<p>To follow that advice the following code can be used.</p>\n\n<p>First, create a file called <code>exampleTemplate.stg</code> and place it on your classpath.</p>\n\n<pre><code>templateExample(param) ::= &lt;&lt;\nThis is a template with the following param: (&lt;param&gt;)\n&gt;&gt;\n</code></pre>\n\n<p>Then, render the template by using the following code:</p>\n\n<pre><code>// Load the file\nfinal STGroup stGroup = new STGroupFile(\"exampleTemplate.stg\");\n\n// Pick the correct template\nfinal ST templateExample = stGroup.getInstanceOf(\"templateExample\");\n\n// Pass on values to use when rendering\ntemplateExample.add(\"param\", \"Hello World\");\n\n// Render\nfinal String render = templateExample.render();\n\n// Print\nSystem.out.println(render);\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>This is a template with the following param: (Hello World)</p>\n</blockquote>\n\n<hr>\n\n<p>Some additional notes:</p>\n\n<ul>\n<li><code>STGroupFile</code> is a subclass of <code>STGroup</code>. There are other subclasses as well that you find out more about in the <a href=\"http://www.stringtemplate.org/api/\" rel=\"nofollow\">JavaDoc</a>.</li>\n<li>In the example above the template file was placed on the classpath. This is not a requirement, files can be placed in a relative folder or a in an absolute folder as well.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691186123,"creation_date":1691186123,"answer_id":76839288,"question_id":28001536,"body_markdown":"An alternative is to use Java&#39;s String Templates feature.\r\nIt is described in [JEP 430](https://openjdk.org/jeps/430), and it appears in JDK 21 as a preview feature.  Here is an example use:\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n```\r\n\r\nJava&#39;s string templates are more versatile, and much safer, than the interpolation found in other languagues such as Python&#39;s f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:\r\n\r\n```java\r\nString query = &quot;SELECT * FROM Person p WHERE p.last_name = &#39;&quot; + name + &quot;&#39;&quot;;\r\nResultSet rs = conn.createStatement().executeQuery(query);\r\n```\r\n\r\nbut this variant (from JEP 430) prevents SQL injection:\r\n\r\n```java\r\nPreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\r\nResultSet rs = ps.executeQuery();\r\n```\r\n","title":"Read templates from a file StringTemplate","body":"<p>An alternative is to use Java's String Templates feature.\nIt is described in <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>, and it appears in JDK 21 as a preview feature.  Here is an example use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>Java's string templates are more versatile, and much safer, than the interpolation found in other languagues such as Python's f-strings.  For example, string concatenation or interpolation makes SQL injection attacks possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * FROM Person p WHERE p.last_name = '&quot; + name + &quot;'&quot;;\nResultSet rs = conn.createStatement().executeQuery(query);\n</code></pre>\n<p>but this variant (from JEP 430) prevents SQL injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = DB.&quot;SELECT * FROM Person p WHERE p.last_name = \\{name}&quot;;\nResultSet rs = ps.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":2154106,"reputation":1258,"user_id":1909728,"accept_rate":92,"display_name":"Liam de Haas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9418,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28002116,"answer_count":2,"score":2,"last_activity_date":1691186123,"creation_date":1421511766,"question_id":28001536,"body_markdown":"I&#39;m using the template engine StringTemplate for some templates (obviously).\r\n\r\nWhat I want is to be able to store the templates I have in seperate files, ofcourse I can do that with simple .txt files and reading them into a `String`, looks a bit like this then\r\n\r\n    ST template = new ST(readTemplateFromFile(&quot;template.txt&quot;))\r\n\r\n    private String readTemplateFromFile(String templateFile){\r\n    //read template from file\r\n    }\r\n\r\nBut what I was wondering is if there&#39;s functionality in the StringTemplate engine to do that automatically. SO that i don&#39;t have to write code that already exists.\r\n\r\nI&#39;ve read something about Group Files but I don&#39;t quite understand that,are those like Template files? Or am I completely missing something?","title":"Read templates from a file StringTemplate","body":"<p>I'm using the template engine StringTemplate for some templates (obviously).</p>\n\n<p>What I want is to be able to store the templates I have in seperate files, ofcourse I can do that with simple .txt files and reading them into a <code>String</code>, looks a bit like this then</p>\n\n<pre><code>ST template = new ST(readTemplateFromFile(\"template.txt\"))\n\nprivate String readTemplateFromFile(String templateFile){\n//read template from file\n}\n</code></pre>\n\n<p>But what I was wondering is if there's functionality in the StringTemplate engine to do that automatically. SO that i don't have to write code that already exists.</p>\n\n<p>I've read something about Group Files but I don't quite understand that,are those like Template files? Or am I completely missing something?</p>\n"},{"tags":["java","spring","spring-boot","neo4j"],"owner":{"account_id":3215241,"reputation":99,"user_id":2714158,"accept_rate":0,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691186007,"creation_date":1689859061,"question_id":76730323,"body_markdown":"Neo4j Desktop: 4.4.0\r\n\r\nSpring Boot: 3.1.0\r\n\r\nSpring Boot Data Neo4j: 3.1.0\r\n\r\nSpring Data Neo4j: 7.1\r\n\r\nNeo4j Java Driver: 5.8.0\r\n\r\nNeo4j Cypher Dsl: 2023.2.0\r\n\r\nJava: 17 \r\n\r\n```\r\n@Node\r\npublic NodeOne{\r\n//class stuff\r\n\r\n@Relationship(type=&quot;RELATED_TO&quot;, direction = Direction.OUTGOING)\r\nList&lt;RelatedTo&gt; relationships = new ArrayList&lt;RelatedTo&gt;();\r\n}\r\n\r\n@Node\r\npublic NodeTwo{\r\n//class stuff\r\n}\r\n\r\n@RelationshipProperties\r\npublic RelatedTo{\r\n\r\n    @RelationshipId\r\n    private Long id;\r\n\r\n    @TargetNode\r\n    private NodeTwo nodeTwo;\r\n\r\n    // getters &amp; setters\r\n```\r\n\r\nWhen I run the code, I&#39;ll get the following nodes in Neo4j:\r\n\r\nNodeOne \r\nNodeTwo\r\nRelatedTo\r\n\r\nThe relationships are not properly saving to showing Neo4j Browser or Bloom","title":"Issue with Spring Data Neo4j RelationshipProperties not saving properly using Spring Boot","body":"<p>Neo4j Desktop: 4.4.0</p>\n<p>Spring Boot: 3.1.0</p>\n<p>Spring Boot Data Neo4j: 3.1.0</p>\n<p>Spring Data Neo4j: 7.1</p>\n<p>Neo4j Java Driver: 5.8.0</p>\n<p>Neo4j Cypher Dsl: 2023.2.0</p>\n<p>Java: 17</p>\n<pre><code>@Node\npublic NodeOne{\n//class stuff\n\n@Relationship(type=&quot;RELATED_TO&quot;, direction = Direction.OUTGOING)\nList&lt;RelatedTo&gt; relationships = new ArrayList&lt;RelatedTo&gt;();\n}\n\n@Node\npublic NodeTwo{\n//class stuff\n}\n\n@RelationshipProperties\npublic RelatedTo{\n\n    @RelationshipId\n    private Long id;\n\n    @TargetNode\n    private NodeTwo nodeTwo;\n\n    // getters &amp; setters\n</code></pre>\n<p>When I run the code, I'll get the following nodes in Neo4j:</p>\n<p>NodeOne\nNodeTwo\nRelatedTo</p>\n<p>The relationships are not properly saving to showing Neo4j Browser or Bloom</p>\n"},{"tags":["java","regex","string","substring","template-engine"],"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1409300806,"post_id":25564315,"comment_id":39922522,"body_markdown":"shortest execution time? what do you mean with this? also, have you looked at String.format()?","body":"shortest execution time? what do you mean with this? also, have you looked at String.format()?"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1409301330,"post_id":25564315,"comment_id":39922747,"body_markdown":"pft... shortest execution time for some String operation - how many string do you want to convert? 10? 10&#39;000? 10mio?","body":"pft... shortest execution time for some String operation - how many string do you want to convert? 10? 10&#39;000? 10mio?"}],"answers":[{"tags":[],"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409301001,"creation_date":1409301001,"answer_id":25564491,"question_id":25564315,"body_markdown":"Use static `String.format(String format, Object... args)` method to format your string with specific arguments.\r\n\r\nTo find more details on how to propertly create a valid template string please refer to this documentation:\r\nhttp://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#detail","title":"How to Generate a String from a String Template in Java?","body":"<p>Use static <code>String.format(String format, Object... args)</code> method to format your string with specific arguments.</p>\n\n<p>To find more details on how to propertly create a valid template string please refer to this documentation:\n<a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#detail\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#detail</a></p>\n"},{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1409303070,"creation_date":1409301154,"answer_id":25564537,"question_id":25564315,"body_markdown":"If you are creating a new complete `String` at each replacement you will indeed run into problems. You can try building a `StringBuffer` as you go using the helper methods from `Matcher` instead. This should be much faster for large inputs:  \r\n\r\n    String text = &quot; value 1 = #value1 and value 2 = #value2 &quot;;\r\n    int[] intArray = new int[] { 4, 5 };\r\n    Pattern p = Pattern.compile(&quot;#value(\\\\d+)&quot;);\r\n    Matcher m = p.matcher(text);\r\n    StringBuffer result = new StringBuffer();\r\n    while (m.find()) {\r\n        m.appendReplacement(result, String.valueOf(intArray[Integer.parseInt(m.group(1)) - 1]));\r\n    }\r\n    m.appendTail(result);\r\n    System.out.println(result.toString());\r\n\r\n**EDIT**  \r\nA number of people have pointed out that `StringBuilder` is better suited for this job. I agree, but unfortunately the `Matcher` API doesn&#39;t accept `StringBuilder` as argument to the `appendReplacement()` and `appendTail()` methods.","title":"How to Generate a String from a String Template in Java?","body":"<p>If you are creating a new complete <code>String</code> at each replacement you will indeed run into problems. You can try building a <code>StringBuffer</code> as you go using the helper methods from <code>Matcher</code> instead. This should be much faster for large inputs:  </p>\n\n<pre><code>String text = \" value 1 = #value1 and value 2 = #value2 \";\nint[] intArray = new int[] { 4, 5 };\nPattern p = Pattern.compile(\"#value(\\\\d+)\");\nMatcher m = p.matcher(text);\nStringBuffer result = new StringBuffer();\nwhile (m.find()) {\n    m.appendReplacement(result, String.valueOf(intArray[Integer.parseInt(m.group(1)) - 1]));\n}\nm.appendTail(result);\nSystem.out.println(result.toString());\n</code></pre>\n\n<p><strong>EDIT</strong><br>\nA number of people have pointed out that <code>StringBuilder</code> is better suited for this job. I agree, but unfortunately the <code>Matcher</code> API doesn't accept <code>StringBuilder</code> as argument to the <code>appendReplacement()</code> and <code>appendTail()</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410162968,"creation_date":1409302260,"answer_id":25564829,"question_id":25564315,"body_markdown":"There are a huge number of **Template/Expression language** engines to help you with that, `Velocity` and `Freemaker` can also solve the problem, however they can be too heavy for this rather simple task.\r\n\r\nAs already mentioned by @Keppil (+1), the simplest way is to go with **regexp**. Correct code will take O(n) time. \r\n\r\nJust for the reference, for more complex case you can check [Apache Jexl library][1]. Is is pretty light and has clear and simple API. Your case can be solved with following code:\r\n\r\n        JexlEngine jexl = new JexlEngine();\r\n        Expression expression = jexl.createExpression(&quot;value 1 = #value1 value 2 = #value2&quot;);\r\n        int[] values = {1, 2};\r\n        JexlContext context = new MapContext();\r\n        for (int i = 0; i &lt;  values.length; i++) {\r\n            context.set(&quot;#value&quot; + (i + 1), values[i]);\r\n        }\r\n        String result = (String)expression.evaluate(context);\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-jexl/","title":"How to Generate a String from a String Template in Java?","body":"<p>There are a huge number of <strong>Template/Expression language</strong> engines to help you with that, <code>Velocity</code> and <code>Freemaker</code> can also solve the problem, however they can be too heavy for this rather simple task.</p>\n\n<p>As already mentioned by @Keppil (+1), the simplest way is to go with <strong>regexp</strong>. Correct code will take O(n) time. </p>\n\n<p>Just for the reference, for more complex case you can check <a href=\"http://commons.apache.org/proper/commons-jexl/\" rel=\"nofollow\">Apache Jexl library</a>. Is is pretty light and has clear and simple API. Your case can be solved with following code:</p>\n\n<pre><code>    JexlEngine jexl = new JexlEngine();\n    Expression expression = jexl.createExpression(\"value 1 = #value1 value 2 = #value2\");\n    int[] values = {1, 2};\n    JexlContext context = new MapContext();\n    for (int i = 0; i &lt;  values.length; i++) {\n        context.set(\"#value\" + (i + 1), values[i]);\n    }\n    String result = (String)expression.evaluate(context);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691185981,"creation_date":1671377425,"answer_id":74842580,"question_id":25564315,"body_markdown":"Java is likely going to have string templates (probably from version **21**, as a preview feature).\r\n\r\nSee [the string templates proposal (JEP 430) here](https://openjdk.org/jeps/430).\r\n\r\nIt will be something along the lines of this:\r\n\r\n```java\r\nString name = &quot;John&quot;;\r\nString info = STR.&quot;I am \\{name}&quot;;\r\nSystem.out.println(info); // I am John\r\n```\r\n---\r\n\r\nP.S. [Kotlin][1] is 100% interoperable with Java. It supports cleaner string templates out of the box:\r\n\r\n```kotlin\r\nval name = &quot;John&quot;\r\nval info = &quot;I am $name&quot;\r\nprintln(info) // I am John\r\n```\r\n\r\nCombined with [extension functions][2], you can achieve the same thing the Java template processors (e.g. `STR`) will do.\r\n\r\n\r\n  [1]: https://kotlinlang.org/\r\n  [2]: https://kotlinlang.org/docs/extensions.html","title":"How to Generate a String from a String Template in Java?","body":"<p>Java is likely going to have string templates (probably from version <strong>21</strong>, as a preview feature).</p>\n<p>See <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">the string templates proposal (JEP 430) here</a>.</p>\n<p>It will be something along the lines of this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;John&quot;;\nString info = STR.&quot;I am \\{name}&quot;;\nSystem.out.println(info); // I am John\n</code></pre>\n<hr />\n<p>P.S. <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin</a> is 100% interoperable with Java. It supports cleaner string templates out of the box:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val name = &quot;John&quot;\nval info = &quot;I am $name&quot;\nprintln(info) // I am John\n</code></pre>\n<p>Combined with <a href=\"https://kotlinlang.org/docs/extensions.html\" rel=\"nofollow noreferrer\">extension functions</a>, you can achieve the same thing the Java template processors (e.g. <code>STR</code>) will do.</p>\n"}],"owner":{"account_id":4196046,"reputation":1396,"user_id":3437443,"accept_rate":83,"display_name":"TheByeByeMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4736,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":25564537,"answer_count":4,"score":8,"last_activity_date":1691185981,"creation_date":1409300381,"question_id":25564315,"body_markdown":"I want my Java App to read a String from a User, the String may contains some tags, for example : \r\n\r\n    String text = &quot; value 1 = #value1 and value 2 = #value2 &quot;;\r\n    int[] intArray = new int[] {4,5};\r\n\r\nAlso the user will enter an array of values to the application. As a programmer I don&#39;t know the exact number of values in the String. and I want to programatically generate this String : \r\n\r\n    String result = &quot; value 1 = 4 and value 2 = 5 &quot;\r\n\r\nto do so I&#39;ve implemented a method that search for the `#value*` regex and replace it with the first element in a stack of values. it Loops until the program cannot find any #value in the primary String, the problem is that for big Texts, the program take too much time to get executed, which is normal considering the approach adopted.\r\n\r\nI&#39;ve also heard of some Templating techniques using Velocity and FreeMarker, but I&#39;ve never used them ( any clarification in this point is very welcome ).\r\n\r\n**So my question is : what is the best way to solve this problem (shortest execution time)?**\r\n\r\n*PS : I don&#39;t need code, I want just an approach or API that may solve this issue.* ","title":"How to Generate a String from a String Template in Java?","body":"<p>I want my Java App to read a String from a User, the String may contains some tags, for example : </p>\n\n<pre><code>String text = \" value 1 = #value1 and value 2 = #value2 \";\nint[] intArray = new int[] {4,5};\n</code></pre>\n\n<p>Also the user will enter an array of values to the application. As a programmer I don't know the exact number of values in the String. and I want to programatically generate this String : </p>\n\n<pre><code>String result = \" value 1 = 4 and value 2 = 5 \"\n</code></pre>\n\n<p>to do so I've implemented a method that search for the <code>#value*</code> regex and replace it with the first element in a stack of values. it Loops until the program cannot find any #value in the primary String, the problem is that for big Texts, the program take too much time to get executed, which is normal considering the approach adopted.</p>\n\n<p>I've also heard of some Templating techniques using Velocity and FreeMarker, but I've never used them ( any clarification in this point is very welcome ).</p>\n\n<p><strong>So my question is : what is the best way to solve this problem (shortest execution time)?</strong></p>\n\n<p><em>PS : I don't need code, I want just an approach or API that may solve this issue.</em> </p>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":20369302,"reputation":871,"user_id":14941832,"display_name":"Future Deep Gone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622100380,"creation_date":1622100380,"answer_id":67717506,"question_id":67717097,"body_markdown":"build is not to install the program on Android Studio\r\n\r\nFirst make sure your emulator is available in Android Studio.\r\n\r\nI have provided a picture as a reminder.\r\n\r\n[![reminder][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FpWik.png","title":"android studio app does not run on emulator","body":"<p>build is not to install the program on Android Studio</p>\n<p>First make sure your emulator is available in Android Studio.</p>\n<p>I have provided a picture as a reminder.</p>\n<p><a href=\"https://i.stack.imgur.com/FpWik.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FpWik.png\" alt=\"reminder\" /></a></p>\n"},{"tags":[],"owner":{"display_name":"user15084425"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622129179,"creation_date":1622129179,"answer_id":67725307,"question_id":67717097,"body_markdown":"You can try running on real android devices. Go to developer settings. Open debugging and connect your device to computer. When you click start on android studio it will open.","title":"android studio app does not run on emulator","body":"<p>You can try running on real android devices. Go to developer settings. Open debugging and connect your device to computer. When you click start on android studio it will open.</p>\n"}],"owner":{"account_id":21501859,"reputation":99,"user_id":15845933,"display_name":"Βαρβάρα Ξιάρχου"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67717506,"answer_count":2,"score":0,"last_activity_date":1691185432,"creation_date":1622098504,"question_id":67717097,"body_markdown":"This is my first time using android studio and I would appreciate your help here . I try to run my app on an emulator and while the emulator runs smoothly the app does not appear on it and when I run the app it just says `Gradle build finished` and stops . I&#39;m pretty sure the problem is in the app configuration but I have no prior experience. \r\n\r\nMy androidManifest.xml \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.mobileapp&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nIf more info is needed for this ask me and I will edit the question ","title":"android studio app does not run on emulator","body":"<p>This is my first time using android studio and I would appreciate your help here . I try to run my app on an emulator and while the emulator runs smoothly the app does not appear on it and when I run the app it just says <code>Gradle build finished</code> and stops . I'm pretty sure the problem is in the app configuration but I have no prior experience.</p>\n<p>My androidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.mobileapp&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>If more info is needed for this ask me and I will edit the question</p>\n"},{"tags":["javascript","java","html","maven"],"comments":[{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1691181961,"post_id":76839022,"comment_id":135462621,"body_markdown":"How do you serve the js file?","body":"How do you serve the js file?"},{"owner":{"account_id":24000166,"reputation":220,"user_id":17985195,"display_name":"TP95"},"score":0,"creation_date":1691182416,"post_id":76839022,"comment_id":135462685,"body_markdown":"Your code says `&lt;script src=&quot;js/login.js&quot;&gt;&lt;/script&gt;` but I do not see any login.js in your file structure. Did you mean to say `&lt;script src=&quot;js/index.js&quot;&gt;&lt;/script&gt;` ?","body":"Your code says <code>&lt;script src=&quot;js&#47;login.js&quot;&gt;&lt;&#47;script&gt;</code> but I do not see any login.js in your file structure. Did you mean to say <code>&lt;script src=&quot;js&#47;index.js&quot;&gt;&lt;&#47;script&gt;</code> ?"},{"owner":{"account_id":18465033,"reputation":41,"user_id":13451485,"display_name":"Tomaspolar50"},"score":0,"creation_date":1691183299,"post_id":76839022,"comment_id":135462809,"body_markdown":"@TP95 yes, my mistake. I&#39;ve updated the question.","body":"@TP95 yes, my mistake. I&#39;ve updated the question."},{"owner":{"account_id":29080912,"reputation":113,"user_id":22277746,"display_name":"WOWOW"},"score":0,"creation_date":1691183497,"post_id":76839022,"comment_id":135462845,"body_markdown":"Could you show the `.js` file?","body":"Could you show the <code>.js</code> file?"},{"owner":{"account_id":18465033,"reputation":41,"user_id":13451485,"display_name":"Tomaspolar50"},"score":0,"creation_date":1691183821,"post_id":76839022,"comment_id":135462874,"body_markdown":"@WOWOW I&#39;ve added the contents of the .js file at the bottom","body":"@WOWOW I&#39;ve added the contents of the .js file at the bottom"},{"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1691184911,"post_id":76839022,"comment_id":135462984,"body_markdown":"Shouldn&#39;t the src attribute be &quot;../js/index.js&quot;?","body":"Shouldn&#39;t the src attribute be &quot;../js/index.js&quot;?"},{"owner":{"account_id":18465033,"reputation":41,"user_id":13451485,"display_name":"Tomaspolar50"},"score":0,"creation_date":1691185404,"post_id":76839022,"comment_id":135463048,"body_markdown":"@forty-two Unfortunately that doesn&#39;t work either. I think it has something to do with how maven packages the files","body":"@forty-two Unfortunately that doesn&#39;t work either. I think it has something to do with how maven packages the files"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1691213795,"post_id":76839022,"comment_id":135464717,"body_markdown":"You do not need the &lt;/script&gt; termination tag when calling a file name of scripts in html and with XHTML neither, just the XML empty element terminator syntax   &lt;script src=&quot;../js/login.js&quot; /&gt; , in all common sense though the js directory should be in the html folder the way you have written the path in your code.","body":"You do not need the &lt;/script&gt; termination tag when calling a file name of scripts in html and with XHTML neither, just the XML empty element terminator syntax   &lt;script src=&quot;../js/login.js&quot; /&gt; , in all common sense though the js directory should be in the html folder the way you have written the path in your code."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691214125,"post_id":76839022,"comment_id":135464739,"body_markdown":"There are other minor problems there perhaps, I hope you do not use cookies with your login. Servers tend to treat folders of the same level as different domains, just like j2ee servers and appContext, whereas if you put the js folder in with the html pages in the html folder the js will be treated as a sub domain of the html in a security context.","body":"There are other minor problems there perhaps, I hope you do not use cookies with your login. Servers tend to treat folders of the same level as different domains, just like j2ee servers and appContext, whereas if you put the js folder in with the html pages in the html folder the js will be treated as a sub domain of the html in a security context."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691214760,"post_id":76839022,"comment_id":135464780,"body_markdown":"Also, script and folders access could be set too high by domain point.  NB if you read your server documentation you should find there are hundreds more settings that can be placed (extended) into server configuration, some of these security treatment of types of files and folders archives e.t.c. , so generally only one standard way works for a one size fits all scenario, that would be puting the js folder in the html folder.","body":"Also, script and folders access could be set too high by domain point.  NB if you read your server documentation you should find there are hundreds more settings that can be placed (extended) into server configuration, some of these security treatment of types of files and folders archives e.t.c. , so generally only one standard way works for a one size fits all scenario, that would be puting the js folder in the html folder."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691237438,"post_id":76839022,"comment_id":135466741,"body_markdown":"A small hint about Atom because Atom has been abandoned (https://github.blog/2022-06-08-sunsetting-atom/) ... I recommend to start learning to use a real IDE like IntelliJ or Eclipse or NetBeans...","body":"A small hint about Atom because Atom has been abandoned (<a href=\"https://github.blog/2022-06-08-sunsetting-atom/\" rel=\"nofollow noreferrer\">github.blog/2022-06-08-sunsetting-atom</a>) ... I recommend to start learning to use a real IDE like IntelliJ or Eclipse or NetBeans..."},{"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":1,"creation_date":1691272560,"post_id":76839022,"comment_id":135470237,"body_markdown":"It&#39;s not your java files that includes the java script fie. It&#39;s the client (browser) that issues a HTTP GET request for that file relative to the URL that returned the HTML. Maybe you should create a proper webapp and deploy into an application server as a war file. https://maven.apache.org/plugins/maven-war-plugin/usage.html","body":"It&#39;s not your java files that includes the java script fie. It&#39;s the client (browser) that issues a HTTP GET request for that file relative to the URL that returned the HTML. Maybe you should create a proper webapp and deploy into an application server as a war file. <a href=\"https://maven.apache.org/plugins/maven-war-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-war-plugin/usage.html</a>"}],"owner":{"account_id":18465033,"reputation":41,"user_id":13451485,"display_name":"Tomaspolar50"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1691183778,"creation_date":1691181868,"question_id":76839022,"body_markdown":"I am working on a web development project and I&#39;m having trouble including my javascript files into my html in my Maven project.\r\n\r\nI&#39;m on a Mac and I&#39;m using Atom to write my code and when it comes times to run it, I call ```mvn package``` and then run the .jar file with ```java -jar target/xxx.java``` all from terminal.\r\n\r\nCurrently, my folder structure looks like this:\r\n\r\n```\r\nProject\r\n  src\r\n    main\r\n      java\r\n        Server.java\r\n      webapp\r\n        resources\r\n          html\r\n            index.html\r\n          js\r\n            index.js\r\n```\r\n\r\nServer.java can access the files in the html folder no problem. The issue is when I try including index.js into index.html by doing:\r\n\r\n```\r\n&lt;head&gt;\r\n  &lt;script src=&quot;js/index.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n```\r\n\r\nI get this when I go to the webpage:\r\n\r\n```\r\n&quot;Uncaught SyntaxError: Unexpected token &#39;&lt;&#39; (at index.js:1:1)&quot;\r\n```\r\n\r\nI have tried MANY different paths for the script and I have tried moving the folders around (a lot of resources online with conflicting answers, none of which worked for me). What is the proper folder structure that will allow my java files to access the html files and allow the html files to access the javascript files (as well as css files later).\r\n\r\nThank you in advance!\r\n\r\nEDIT:\r\n\r\nHere&#39;s the javascript file\r\n\r\n```\r\nfunction validateRegistration(){\r\n  console.log(&quot;Here&quot;);\r\n  return false;\r\n}\r\n\r\ndocument.addEventListener(&#39;DOMContentLoaded&#39;, function() {\r\n  document.getElementById(&quot;register&quot;).addEventListener(&quot;submit&quot;, validateRegistration());\r\n});\r\n```","title":"How to include javascript file into html file in maven project","body":"<p>I am working on a web development project and I'm having trouble including my javascript files into my html in my Maven project.</p>\n<p>I'm on a Mac and I'm using Atom to write my code and when it comes times to run it, I call <code>mvn package</code> and then run the .jar file with <code>java -jar target/xxx.java</code> all from terminal.</p>\n<p>Currently, my folder structure looks like this:</p>\n<pre><code>Project\n  src\n    main\n      java\n        Server.java\n      webapp\n        resources\n          html\n            index.html\n          js\n            index.js\n</code></pre>\n<p>Server.java can access the files in the html folder no problem. The issue is when I try including index.js into index.html by doing:</p>\n<pre><code>&lt;head&gt;\n  &lt;script src=&quot;js/index.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n<p>I get this when I go to the webpage:</p>\n<pre><code>&quot;Uncaught SyntaxError: Unexpected token '&lt;' (at index.js:1:1)&quot;\n</code></pre>\n<p>I have tried MANY different paths for the script and I have tried moving the folders around (a lot of resources online with conflicting answers, none of which worked for me). What is the proper folder structure that will allow my java files to access the html files and allow the html files to access the javascript files (as well as css files later).</p>\n<p>Thank you in advance!</p>\n<p>EDIT:</p>\n<p>Here's the javascript file</p>\n<pre><code>function validateRegistration(){\n  console.log(&quot;Here&quot;);\n  return false;\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  document.getElementById(&quot;register&quot;).addEventListener(&quot;submit&quot;, validateRegistration());\n});\n</code></pre>\n"},{"tags":["java","sql","database","hibernate","data-modeling"],"answers":[{"tags":[],"owner":{"account_id":15372308,"reputation":11,"user_id":11090015,"display_name":"AmazingSchnitzel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691182483,"creation_date":1691182483,"answer_id":76839064,"question_id":76838337,"body_markdown":"I found a solution, for anyone who stumbles upon this issue too.\r\n\r\n    @Getter\r\n    @Setter\r\n    @SuperBuilder\r\n    @ToString\r\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @Entity\r\n    @Table(name = &quot;folder_relation_version&quot;)\r\n    public class FolderRelationVersion extends BaseEntity {\r\n    \r\n        @Column(name = &quot;version&quot;)\r\n        private Integer version;\r\n    \r\n        @ManyToOne\r\n        @JoinColumns({\r\n                @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\r\n                @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\r\n        })\r\n        private FolderVersion parent;\r\n    \r\n        @ManyToOne\r\n        @JoinColumns({\r\n                @JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\r\n                @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\r\n        })\r\n        private FolderVersion child;\r\n    \r\n        @Column(name = &quot;child_id&quot;)\r\n        private Integer childId;\r\n    \r\n    \r\n        @Column(name = &quot;parent_id&quot;)\r\n        private Integer parentId;\r\n    \r\n        public void setChild(FolderVersion child) {\r\n            this.child = child;\r\n            this.childId = child.getFolderId();\r\n        }\r\n    \r\n        public void setParent(FolderVersion parent) {\r\n            this.child = parent;\r\n            this.childId = parent.getFolderId();\r\n        }\r\n    }\r\n\r\nApparently you just have to add the id fields explicitly and set them, whenever you set the entity, so that the database insert works.\r\n","title":"Hibernate: Two relationships use the same column for their foreign keys","body":"<p>I found a solution, for anyone who stumbles upon this issue too.</p>\n<pre><code>@Getter\n@Setter\n@SuperBuilder\n@ToString\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@Entity\n@Table(name = &quot;folder_relation_version&quot;)\npublic class FolderRelationVersion extends BaseEntity {\n\n    @Column(name = &quot;version&quot;)\n    private Integer version;\n\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\n    })\n    private FolderVersion parent;\n\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\n    })\n    private FolderVersion child;\n\n    @Column(name = &quot;child_id&quot;)\n    private Integer childId;\n\n\n    @Column(name = &quot;parent_id&quot;)\n    private Integer parentId;\n\n    public void setChild(FolderVersion child) {\n        this.child = child;\n        this.childId = child.getFolderId();\n    }\n\n    public void setParent(FolderVersion parent) {\n        this.child = parent;\n        this.childId = parent.getFolderId();\n    }\n}\n</code></pre>\n<p>Apparently you just have to add the id fields explicitly and set them, whenever you set the entity, so that the database insert works.</p>\n"}],"owner":{"account_id":15372308,"reputation":11,"user_id":11090015,"display_name":"AmazingSchnitzel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691182483,"creation_date":1691173192,"question_id":76838337,"body_markdown":"I am working on an application that needs to support a simple versioning system for a folder tree. In essence this means that a user can create a folder tree with different folders. When they are satisfied they can then save this version, create a new one and continue working on the new versions (much like a version control system if you will). My database schema looks like this currently:\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS folder\r\n(\r\n    id           INT         NOT NULL AUTO_INCREMENT,\r\n    updated_at   TIMESTAMP   NOT NULL,\r\n    created_at   TIMESTAMP   NOT NULL,\r\n    PRIMARY KEY (id)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS folder_version\r\n(\r\n    id              INT          NOT NULL AUTO_INCREMENT,\r\n    version         INT          NOT NULL,\r\n    folder_id       INT          NOT NULL,\r\n    name            VARCHAR(255) NOT NULL,\r\n    updated_at      TIMESTAMP    NOT NULL,\r\n    created_at      TIMESTAMP    NOT NULL,\r\n    PRIMARY KEY (id),\r\n    UNIQUE KEY (folder_id, version),\r\n    FOREIGN KEY (folder_id) REFERENCES folder (id)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS folder_relation_version\r\n(\r\n    id         INT         NOT NULL AUTO_INCREMENT,\r\n    parent_id  INT         NOT NULL,\r\n    child_id   INT         NOT NULL,\r\n    version    INT         NOT NULL,\r\n    updated_at TIMESTAMP   NOT NULL,\r\n    created_at TIMESTAMP   NOT NULL,\r\n    PRIMARY KEY (id),\r\n    UNIQUE KEY (parent_id, child_id, version),\r\n    FOREIGN KEY (parent_id, version) REFERENCES folder_version (folder_id, version),\r\n    FOREIGN KEY (child_id, version) REFERENCES folder_version (folder_id, version)\r\n);\r\n```\r\n\r\nHowever, I am unable to create an entity in Hibernate for the `folder_relation_version` table, since the `version` column is used in two foreign key constraints at the same time. \r\n\r\nThe specific design choice is actually intentional, because I want to avoid that two folder versions can be linked, when they are not part of the same version.\r\n\r\nThis means that the following scenario should be possible:\r\nFolder_A (version=0) --&gt; Folder_B (version=0)\r\n\r\nBut this scenario should not be possible:\r\nFolder_A (version=0) --&gt; Folder_B (version=1)\r\n\r\n\r\nBelow is my current attempt, which at least compiles, but obviously inserting and updating does not work with this approach:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@SuperBuilder\r\n@ToString\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n@Entity\r\n@Table(name = &quot;folder_relation_version&quot;)\r\npublic class FolderRelationVersion extends BaseEntity {\r\n\r\n    @Column(name = &quot;version&quot;)\r\n    private Integer version;\r\n\r\n    @ManyToOne\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\r\n    })\r\n    private FolderVersion parent;\r\n\r\n    @ManyToOne\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\r\n    })\r\n    private FolderVersion child;\r\n}\r\n```\r\n\r\nMy question now is: Is there any way to model such a scenario in hibernate? Or is this just not the right way to make sure that a FolderVersion entities are linked only if they are part of the same version. Any hints, ideas or thoughts would be appreciated.","title":"Hibernate: Two relationships use the same column for their foreign keys","body":"<p>I am working on an application that needs to support a simple versioning system for a folder tree. In essence this means that a user can create a folder tree with different folders. When they are satisfied they can then save this version, create a new one and continue working on the new versions (much like a version control system if you will). My database schema looks like this currently:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS folder\n(\n    id           INT         NOT NULL AUTO_INCREMENT,\n    updated_at   TIMESTAMP   NOT NULL,\n    created_at   TIMESTAMP   NOT NULL,\n    PRIMARY KEY (id)\n);\n\nCREATE TABLE IF NOT EXISTS folder_version\n(\n    id              INT          NOT NULL AUTO_INCREMENT,\n    version         INT          NOT NULL,\n    folder_id       INT          NOT NULL,\n    name            VARCHAR(255) NOT NULL,\n    updated_at      TIMESTAMP    NOT NULL,\n    created_at      TIMESTAMP    NOT NULL,\n    PRIMARY KEY (id),\n    UNIQUE KEY (folder_id, version),\n    FOREIGN KEY (folder_id) REFERENCES folder (id)\n);\n\nCREATE TABLE IF NOT EXISTS folder_relation_version\n(\n    id         INT         NOT NULL AUTO_INCREMENT,\n    parent_id  INT         NOT NULL,\n    child_id   INT         NOT NULL,\n    version    INT         NOT NULL,\n    updated_at TIMESTAMP   NOT NULL,\n    created_at TIMESTAMP   NOT NULL,\n    PRIMARY KEY (id),\n    UNIQUE KEY (parent_id, child_id, version),\n    FOREIGN KEY (parent_id, version) REFERENCES folder_version (folder_id, version),\n    FOREIGN KEY (child_id, version) REFERENCES folder_version (folder_id, version)\n);\n</code></pre>\n<p>However, I am unable to create an entity in Hibernate for the <code>folder_relation_version</code> table, since the <code>version</code> column is used in two foreign key constraints at the same time.</p>\n<p>The specific design choice is actually intentional, because I want to avoid that two folder versions can be linked, when they are not part of the same version.</p>\n<p>This means that the following scenario should be possible:\nFolder_A (version=0) --&gt; Folder_B (version=0)</p>\n<p>But this scenario should not be possible:\nFolder_A (version=0) --&gt; Folder_B (version=1)</p>\n<p>Below is my current attempt, which at least compiles, but obviously inserting and updating does not work with this approach:</p>\n<pre><code>@Getter\n@Setter\n@SuperBuilder\n@ToString\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@Entity\n@Table(name = &quot;folder_relation_version&quot;)\npublic class FolderRelationVersion extends BaseEntity {\n\n    @Column(name = &quot;version&quot;)\n    private Integer version;\n\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\n    })\n    private FolderVersion parent;\n\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;folder_id&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;version&quot;, referencedColumnName = &quot;version&quot;, insertable = false, updatable = false)\n    })\n    private FolderVersion child;\n}\n</code></pre>\n<p>My question now is: Is there any way to model such a scenario in hibernate? Or is this just not the right way to make sure that a FolderVersion entities are linked only if they are part of the same version. Any hints, ideas or thoughts would be appreciated.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":28943489,"reputation":100,"user_id":22169585,"display_name":"Jordan"},"score":0,"creation_date":1691182985,"post_id":76839046,"comment_id":135462750,"body_markdown":"When you say `Point p = new Point();`, you are creating an instance of a class, not a child. A child class is when you extend a parent class, such as `public class point2 extends point { ... }`. Is that what you mean?","body":"When you say <code>Point p = new Point();</code>, you are creating an instance of a class, not a child. A child class is when you extend a parent class, such as <code>public class point2 extends point { ... }</code>. Is that what you mean?"},{"owner":{"account_id":11248042,"reputation":15,"user_id":8250095,"display_name":"Hot4RST"},"score":0,"creation_date":1696874785,"post_id":76839046,"comment_id":136206205,"body_markdown":"Hi Jordan, apologize for late response was stuck in a situation where I cant put my time on this,\nA child class is when you extend a parent class, such as public class point2 extends point { ... } -- YES","body":"Hi Jordan, apologize for late response was stuck in a situation where I cant put my time on this, A child class is when you extend a parent class, such as public class point2 extends point { ... } -- YES"},{"owner":{"account_id":28943489,"reputation":100,"user_id":22169585,"display_name":"Jordan"},"score":0,"creation_date":1696885879,"post_id":76839046,"comment_id":136207872,"body_markdown":"It looks to me that private is the correct access modifier. Since Test is outside of the the Point class, it will satisfy 1 and 3.  Children inherit all variables and methods, regardless of access modifiers, satisfying 2.","body":"It looks to me that private is the correct access modifier. Since Test is outside of the the Point class, it will satisfy 1 and 3.  Children inherit all variables and methods, regardless of access modifiers, satisfying 2."},{"owner":{"account_id":11248042,"reputation":15,"user_id":8250095,"display_name":"Hot4RST"},"score":0,"creation_date":1696927483,"post_id":76839046,"comment_id":136211914,"body_markdown":"Actually, I want to have such an access modifier , that my x and y variable is private but should be visible to only child classes, no other class in package or outside the same package should be able to see the x and y data member.\nCurrently, protected access modifier opens up the data member to other classes of the package,\nOne solution is to use a different package itself  for the above two classes.\nLet me know if i need to edit my question for clarity.","body":"Actually, I want to have such an access modifier , that my x and y variable is private but should be visible to only child classes, no other class in package or outside the same package should be able to see the x and y data member. Currently, protected access modifier opens up the data member to other classes of the package, One solution is to use a different package itself  for the above two classes. Let me know if i need to edit my question for clarity."}],"owner":{"account_id":11248042,"reputation":15,"user_id":8250095,"display_name":"Hot4RST"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691182254,"creation_date":1691182254,"question_id":76839046,"body_markdown":"I have a scenario of OOPs in Java, which I am curious about,  \r\nI want to have a variable/data member/property in my class such that:\r\n\r\n1. It should only be accessed in the class where it has been defined\r\n\r\n2. It should only be accessed by an child class which has extended this class\r\n\r\n3. And should NOT BE accessed easily by a class inside the same package or any other package\r\n\r\nIt may sound like an unrealistic scenario, but I am curious that how can we achieve this.\r\n\r\nBelow is the sample code I am trying with:\r\n\r\n```\r\nclass Point {\r\n    // protected int x, y;\r\n    int x, y;\r\n\r\n  public Point()\r\n    {\r\n    }\r\n    public Point(int _x, int _y)\r\n    {\r\n        x = _x;\r\n        y = _y;\r\n    }\r\n}\r\n\r\npublic class Test {\r\n    public static void main(String args[])\r\n    {\r\n        Point p = new Point();\r\n        System.out.println(&quot;x = &quot; + p.x + &quot;, y = &quot; + p.y);\r\n    }\r\n}\r\n```\r\n\r\n1. Output when x and y are protected : 0 and 0\r\n\r\n2. Output when x and y are private : Compilation Error\r\n\r\n3. Output when using default access modifier on x and y : 0 and 0\r\n\r\nIf any one has any solution or any approach for tackling this scenario is very much appreciated.  \r\nAnd also I know Java currently has no such access modifier, but still I want to understand why and why not.","title":"Accessing a Java data member (a property) only within the class and by child class, but not in package","body":"<p>I have a scenario of OOPs in Java, which I am curious about,<br />\nI want to have a variable/data member/property in my class such that:</p>\n<ol>\n<li><p>It should only be accessed in the class where it has been defined</p>\n</li>\n<li><p>It should only be accessed by an child class which has extended this class</p>\n</li>\n<li><p>And should NOT BE accessed easily by a class inside the same package or any other package</p>\n</li>\n</ol>\n<p>It may sound like an unrealistic scenario, but I am curious that how can we achieve this.</p>\n<p>Below is the sample code I am trying with:</p>\n<pre><code>class Point {\n    // protected int x, y;\n    int x, y;\n\n  public Point()\n    {\n    }\n    public Point(int _x, int _y)\n    {\n        x = _x;\n        y = _y;\n    }\n}\n\npublic class Test {\n    public static void main(String args[])\n    {\n        Point p = new Point();\n        System.out.println(&quot;x = &quot; + p.x + &quot;, y = &quot; + p.y);\n    }\n}\n</code></pre>\n<ol>\n<li><p>Output when x and y are protected : 0 and 0</p>\n</li>\n<li><p>Output when x and y are private : Compilation Error</p>\n</li>\n<li><p>Output when using default access modifier on x and y : 0 and 0</p>\n</li>\n</ol>\n<p>If any one has any solution or any approach for tackling this scenario is very much appreciated.<br />\nAnd also I know Java currently has no such access modifier, but still I want to understand why and why not.</p>\n"},{"tags":["java","spring-boot","openapi"],"comments":[{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":0,"creation_date":1630532926,"post_id":69020869,"comment_id":121985211,"body_markdown":"Have you tried pass `@RequestHeader Map&lt;String, String&gt; headers` as an argument to your controller methods?","body":"Have you tried pass <code>@RequestHeader Map&lt;String, String&gt; headers</code> as an argument to your controller methods?"}],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630537734,"creation_date":1630534076,"answer_id":69021062,"question_id":69020869,"body_markdown":"_In a Spring Application it is not common to inject a Request in an Bean._\r\n\r\nInstead add a parameter to your request handler method. There are different supported types and annotations to access the request headers. Some examples:\r\n\r\n    @RestController\r\n    public class MyController() {\r\n    \r\n       @PostMapping(&quot;/example&quot;)\r\n       public Something doSomething(@RequestBody Payload body,\r\n                                    HttpServletRequest request) {\r\n          //use request to access the parameter and everything else\r\n       }\r\n    \r\n       //or\r\n    \r\n       @PostMapping(&quot;/example2&quot;)\r\n       public Something doSomethingOtherWay(@RequestBody Payload body,\r\n                              @RequestHeader(&quot;Accept-Encoding&quot;) String acceptEncodingHeader,\r\n                              @RequestHeader(&quot;Keep-Alive&quot;) long keepAlive) {\r\n          ...\r\n       }\r\n    \r\n       //or\r\n       @PostMapping(&quot;/example3&quot;)\r\n       public Something doSomethingOtherWay2(@RequestBody Payload body,\r\n                                             @RequestHeader HttpHeaders headers) {\r\n          ...\r\n       }\r\n    }\r\n\r\nsee [&quot;Spring Framework Documentation&quot;][1] part [&quot;Web Servlet&quot;][2] chapter &quot;[Method Arguments&quot;][3]\r\n\r\n----\r\nYou wrote:\r\n\r\n&gt;However, in my current application, this is always null ...\r\n\r\nYou have a `@Autowired` annotation at this field. Spring typical rise an exception if it is not able to autowire it, so double check that the instance of this class is create by Spring, not by accident with a normal `new `\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#spring-web\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments","title":"`NativeWebRequest` is null on incoming requests with Spring Boot","body":"<p><em>In a Spring Application it is not common to inject a Request in an Bean.</em></p>\n<p>Instead add a parameter to your request handler method. There are different supported types and annotations to access the request headers. Some examples:</p>\n<pre><code>@RestController\npublic class MyController() {\n\n   @PostMapping(&quot;/example&quot;)\n   public Something doSomething(@RequestBody Payload body,\n                                HttpServletRequest request) {\n      //use request to access the parameter and everything else\n   }\n\n   //or\n\n   @PostMapping(&quot;/example2&quot;)\n   public Something doSomethingOtherWay(@RequestBody Payload body,\n                          @RequestHeader(&quot;Accept-Encoding&quot;) String acceptEncodingHeader,\n                          @RequestHeader(&quot;Keep-Alive&quot;) long keepAlive) {\n      ...\n   }\n\n   //or\n   @PostMapping(&quot;/example3&quot;)\n   public Something doSomethingOtherWay2(@RequestBody Payload body,\n                                         @RequestHeader HttpHeaders headers) {\n      ...\n   }\n}\n</code></pre>\n<p>see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/\" rel=\"nofollow noreferrer\">&quot;Spring Framework Documentation&quot;</a> part <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#spring-web\" rel=\"nofollow noreferrer\">&quot;Web Servlet&quot;</a> chapter &quot;<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments\" rel=\"nofollow noreferrer\">Method Arguments&quot;</a></p>\n<hr />\n<p>You wrote:</p>\n<blockquote>\n<p>However, in my current application, this is always null ...</p>\n</blockquote>\n<p>You have a <code>@Autowired</code> annotation at this field. Spring typical rise an exception if it is not able to autowire it, so double check that the instance of this class is create by Spring, not by accident with a normal <code>new </code></p>\n"},{"tags":[],"owner":{"account_id":7586298,"reputation":1170,"user_id":5755313,"accept_rate":57,"display_name":"Poulad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630535589,"creation_date":1630535589,"answer_id":69021216,"question_id":69020869,"body_markdown":"`NativeWebRequest` bean should be available since Spring 2.5.2. In my example, I have it required as a constructor argument for my controller. Spring will inject a proxy for it at Controller bean creation. The concrete instance value will be updated for each HTTP request received.\r\n\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.context.request.NativeWebRequest;\r\n    import javax.annotation.Nonnull;\r\n\r\n    @RestController\r\n    public class FooController {\r\n\r\n        @Nonnull\r\n        private final NativeWebRequest nativeWebRequest;\r\n\r\n        public FooController(@Nonnull NativeWebRequest nativeWebRequest) {\r\n            this.nativeWebRequest = nativeWebRequest;\r\n        }\r\n\r\n        @GetMapping(&quot;/foo&quot;)\r\n        public ResponseEntity&lt;Void&gt; foo() {\r\n            String headerValue = nativeWebRequest.getHeader(&quot;Host&quot;);\r\n            System.out.println(&quot;[Request Header] Host: &quot; + headerValue);\r\n\r\n            return ResponseEntity.noContent().build();\r\n        }\r\n    }\r\n","title":"`NativeWebRequest` is null on incoming requests with Spring Boot","body":"<p><code>NativeWebRequest</code> bean should be available since Spring 2.5.2. In my example, I have it required as a constructor argument for my controller. Spring will inject a proxy for it at Controller bean creation. The concrete instance value will be updated for each HTTP request received.</p>\n<pre><code>import org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.context.request.NativeWebRequest;\nimport javax.annotation.Nonnull;\n\n@RestController\npublic class FooController {\n\n    @Nonnull\n    private final NativeWebRequest nativeWebRequest;\n\n    public FooController(@Nonnull NativeWebRequest nativeWebRequest) {\n        this.nativeWebRequest = nativeWebRequest;\n    }\n\n    @GetMapping(&quot;/foo&quot;)\n    public ResponseEntity&lt;Void&gt; foo() {\n        String headerValue = nativeWebRequest.getHeader(&quot;Host&quot;);\n        System.out.println(&quot;[Request Header] Host: &quot; + headerValue);\n\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7454962,"reputation":66,"user_id":5668498,"display_name":"Cristian Chereji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691181886,"creation_date":1691181886,"answer_id":76839023,"question_id":69020869,"body_markdown":"None of other methods using the NativeWebRequest worked for me, as it was always null or when I tried to get it as constructor parameter I got the following error at compile time:\r\n\r\n    Consider defining a bean of type &#39;org.springframework.web.context.request.NativeWebRequest&#39; in your configuration.\r\n\r\nThe following worked for me. In order to access header parameters I defined them in the API yaml, like\r\n\r\n      post:  \r\n        parameters:\r\n        - in: header\r\n          name: Authorization\r\n          schema:\r\n            type: string\r\n          description: Authorization token\r\n\r\nThis way, the generated API interface which you have to overwrite will provide you the value of your header parameter as method parameter.\r\n\r\n    public ResponseEntity&lt;XyzResponseDTO&gt; optionPost(XyzRequestDTO xyzRequestDTO, String authorization) {\r\n\r\nI lost a few hours on this. Hope it will save your time at least.","title":"`NativeWebRequest` is null on incoming requests with Spring Boot","body":"<p>None of other methods using the NativeWebRequest worked for me, as it was always null or when I tried to get it as constructor parameter I got the following error at compile time:</p>\n<pre><code>Consider defining a bean of type 'org.springframework.web.context.request.NativeWebRequest' in your configuration.\n</code></pre>\n<p>The following worked for me. In order to access header parameters I defined them in the API yaml, like</p>\n<pre><code>  post:  \n    parameters:\n    - in: header\n      name: Authorization\n      schema:\n        type: string\n      description: Authorization token\n</code></pre>\n<p>This way, the generated API interface which you have to overwrite will provide you the value of your header parameter as method parameter.</p>\n<pre><code>public ResponseEntity&lt;XyzResponseDTO&gt; optionPost(XyzRequestDTO xyzRequestDTO, String authorization) {\n</code></pre>\n<p>I lost a few hours on this. Hope it will save your time at least.</p>\n"}],"owner":{"account_id":1304527,"reputation":808,"user_id":1253759,"display_name":"Mike Welsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2291,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1691181886,"creation_date":1630532610,"question_id":69020869,"body_markdown":"I have a Spring Boot server set up, and it can successfully receive requests. It has been set up using `OpenAPI` to generate the endpoint definitions, which handle the argument conversions.\r\n\r\nNow, my problem is I now want to inspect headers that are not part of the request arguments, but just headers as part of the request.\r\n\r\nIn another Spring Boot application I have set up, I achieved this by adding to the controller\r\n\r\n```\r\n@Autowired\r\nNativeWebRequest request;\r\n```\r\n\r\nWhich allowed access to the incoming request.\r\n\r\nHowever, in my current application, this is always `null` - and I can&#39;t get any of the header data. I suspect I have done something incorrectly in the SpringBoot application setup.\r\n\r\n```\r\n// Athena pulled in KeycloakAutoConfiguration when KeycloakAuthorization was added. However, the class\r\n// is not part of the Athena application - so exclude by name since we cannot reference the class here.\r\n@EnableAutoConfiguration(\r\n        excludeName = { &quot;org.keycloak.adapters.springboot.KeycloakAutoConfiguration&quot;},\r\n        exclude = {\r\n                DataSourceAutoConfiguration.class,\r\n                ErrorMvcAutoConfiguration.class,\r\n                HttpEncodingAutoConfiguration.class,\r\n                PropertyPlaceholderAutoConfiguration.class,\r\n                ThymeleafAutoConfiguration.class,\r\n                WebSocketMessagingAutoConfiguration.class,\r\n                OAuth2ClientAutoConfiguration.class,\r\n})\r\n@SpringBootConfiguration\r\npublic class AthenaApplication extends SpringBootServletInitializer\r\n```","title":"`NativeWebRequest` is null on incoming requests with Spring Boot","body":"<p>I have a Spring Boot server set up, and it can successfully receive requests. It has been set up using <code>OpenAPI</code> to generate the endpoint definitions, which handle the argument conversions.</p>\n<p>Now, my problem is I now want to inspect headers that are not part of the request arguments, but just headers as part of the request.</p>\n<p>In another Spring Boot application I have set up, I achieved this by adding to the controller</p>\n<pre><code>@Autowired\nNativeWebRequest request;\n</code></pre>\n<p>Which allowed access to the incoming request.</p>\n<p>However, in my current application, this is always <code>null</code> - and I can't get any of the header data. I suspect I have done something incorrectly in the SpringBoot application setup.</p>\n<pre><code>// Athena pulled in KeycloakAutoConfiguration when KeycloakAuthorization was added. However, the class\n// is not part of the Athena application - so exclude by name since we cannot reference the class here.\n@EnableAutoConfiguration(\n        excludeName = { &quot;org.keycloak.adapters.springboot.KeycloakAutoConfiguration&quot;},\n        exclude = {\n                DataSourceAutoConfiguration.class,\n                ErrorMvcAutoConfiguration.class,\n                HttpEncodingAutoConfiguration.class,\n                PropertyPlaceholderAutoConfiguration.class,\n                ThymeleafAutoConfiguration.class,\n                WebSocketMessagingAutoConfiguration.class,\n                OAuth2ClientAutoConfiguration.class,\n})\n@SpringBootConfiguration\npublic class AthenaApplication extends SpringBootServletInitializer\n</code></pre>\n"},{"tags":["java","android","android-studio","location","deprecated"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1691179653,"post_id":76838267,"comment_id":135462294,"body_markdown":"Check here: https://stackoverflow.com/questions/74367916/how-can-i-create-location-request-in-android-locationrequest-create-is-depr for replacement to `LocationRequest.create` using `LocationRequest.Builder`.","body":"Check here: <a href=\"https://stackoverflow.com/questions/74367916/how-can-i-create-location-request-in-android-locationrequest-create-is-depr\" title=\"how can i create location request in android locationrequest create is depr\">stackoverflow.com/questions/74367916/&hellip;</a> for replacement to <code>LocationRequest.create</code> using <code>LocationRequest.Builder</code>."},{"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"score":0,"creation_date":1691180191,"post_id":76838267,"comment_id":135462365,"body_markdown":"Hello, I tried it now but PRIORITY_HIGH_ACCURACY and setFastestInterval are still deprecated, it is telling me to use  LocationRequest.Builder.setMinUpdateIntervalMillis(long) for setFastestInterval but cant figure out how to implement this code, Thankyou for your answer","body":"Hello, I tried it now but PRIORITY_HIGH_ACCURACY and setFastestInterval are still deprecated, it is telling me to use  LocationRequest.Builder.setMinUpdateIntervalMillis(long) for setFastestInterval but cant figure out how to implement this code, Thankyou for your answer"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1691180764,"post_id":76838267,"comment_id":135462445,"body_markdown":"To set priority use builder&#39;s `setQuality(LocationRequest.QUALITY_HIGH_ACCURACY)`.  also builder&#39;s `setMinUpdateIntervalMillis(5000)` since your code was requesting 5000 millis originally.","body":"To set priority use builder&#39;s <code>setQuality(LocationRequest.QUALITY_HIGH_ACCURACY)</code>.  also builder&#39;s <code>setMinUpdateIntervalMillis(5000)</code> since your code was requesting 5000 millis originally."},{"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"score":0,"creation_date":1691181273,"post_id":76838267,"comment_id":135462512,"body_markdown":"Thankyou!! I change the codes with \n locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 100)\n                .setWaitForAccurateLocation(false)\n                .setMinUpdateIntervalMillis(2000)\n                .setMaxUpdateDelayMillis(100)\n                .build();","body":"Thankyou!! I change the codes with   locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 100)                 .setWaitForAccurateLocation(false)                 .setMinUpdateIntervalMillis(2000)                 .setMaxUpdateDelayMillis(100)                 .build();"}],"answers":[{"tags":[],"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691181526,"creation_date":1691181526,"answer_id":76838994,"question_id":76838267,"body_markdown":"The codes that I replace it with is\r\n\r\n\r\n```\r\n  locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 100)\r\n                .setWaitForAccurateLocation(false)\r\n                .setMinUpdateIntervalMillis(2000)\r\n                .setMaxUpdateDelayMillis(100)\r\n                .build();\r\n\r\n```\r\n\r\nThe old deprecated code is\r\n```\r\n\r\nlocationRequest = LocationRequest.create();\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        locationRequest.setInterval(5000); \r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"What should I replace with my deprecated code?","body":"<p>The codes that I replace it with is</p>\n<pre><code>  locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 100)\n                .setWaitForAccurateLocation(false)\n                .setMinUpdateIntervalMillis(2000)\n                .setMaxUpdateDelayMillis(100)\n                .build();\n\n</code></pre>\n<p>The old deprecated code is</p>\n<pre><code>\nlocationRequest = LocationRequest.create();\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        locationRequest.setInterval(5000); \n\n</code></pre>\n"}],"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76838994,"answer_count":1,"score":1,"last_activity_date":1691181526,"creation_date":1691172458,"question_id":76838267,"body_markdown":"\r\nI have a code to get the current location of the user but some parts of the code says that it is deprecated\r\n\r\nI tried copying other latest code but I also encountered some problems: https://stackoverflow.com/questions/76836062/google-maps-does-not-get-the-user-location-if-the-user-does-not-have-a-recent-lo\r\n\r\nThen I tried reverting back to my old code though it is still working but I am quite worried that it may stop working at some point. Is there any code that I can replace with the deprecated code or latest codes that have the same function. I would greatly appreciate any insights or suggestions you might have. Thank you in advance for your help! \r\n\r\n\r\n\r\n\r\n\r\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n    private FusedLocationProviderClient fusedLocationClient;\r\n    private LocationRequest locationRequest;\r\n    private LocationCallback locationCallback;\r\n    private SupportMapFragment mapFragment;\r\n    private View locationButton;\r\n    private LatLng currentLocation;\r\n    private Marker currentLocationMarker;\r\n    private Handler handler;\r\n    private LinearLayout sidebarLayout;\r\n    private ImageView hamburgerButton;\r\n    private Button logoutButton;\r\n\r\n    private boolean isSidebarVisible = false;\r\n\r\n    private final LatLng MarisolTerminal = new LatLng(15.1519204,120.4476555);\r\n    private final LatLng VillaTerminal = new LatLng(15.1268318,120.5974806);\r\n    private final LatLng CheckpointTerminal = new LatLng(15.169206,120.5872296);\r\n\r\n    private Marker markerMarisolTerm;\r\n    private Marker markerVillaTerminal;\r\n    private Marker markerCheckpointTerminal;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_map);\r\n\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n\r\n        // Get references to the sidebar layout and buttons\r\n        sidebarLayout = findViewById(R.id.sidebarLayout);\r\n        hamburgerButton = findViewById(R.id.hamburger_button);\r\n        logoutButton = findViewById(R.id.sidebar_logout_button);\r\n\r\n        // Set a click listener for the hamburger button\r\n        hamburgerButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                toggleSidebar();\r\n            }\r\n        });\r\n\r\n        // Set a click listener for the logout button in the sidebar\r\n        logoutButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // Call the signOut method to sign out the user\r\n                signOut();\r\n            }\r\n        });\r\n\r\n        // Initialize the FusedLocationProviderClient\r\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n       ** // Create the location request, DEPRACTED CODES\r\n        locationRequest = LocationRequest.create();\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        locationRequest.setInterval(5000); // Update interval in milliseconds (adjust as needed)**\r\n\r\n        // Create the location callback\r\n        locationCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(LocationResult locationResult) {\r\n                if (locationResult == null) {\r\n                    return;\r\n                }\r\n                for (Location location : locationResult.getLocations()) {\r\n                    updateLocationOnMap(location);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        startLocationUpdates();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        stopLocationUpdates();\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        mMap.getUiSettings().setZoomControlsEnabled(true);\r\n\r\n        // Enable the My Location button\r\n        mMap.getUiSettings().setMyLocationButtonEnabled(false);\r\n        mMap.setMyLocationEnabled(true);\r\n        mMap.setOnMyLocationButtonClickListener(new GoogleMap.OnMyLocationButtonClickListener() {\r\n            @Override\r\n            public boolean onMyLocationButtonClick() {\r\n                // Move the camera to the current location\r\n                if (currentLocation != null) {\r\n                    mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(currentLocation, 15));\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n\r\n        // Start location updates\r\n        startLocationUpdates();\r\n\r\n        // Add some markers to the map, and add a data object to each marker.\r\n        markerMarisolTerm = mMap.addMarker(new MarkerOptions()\r\n                .position(MarisolTerminal)\r\n                .title(&quot;Marisol Terminal&quot;));\r\n        markerMarisolTerm.setTag(0);\r\n\r\n        markerVillaTerminal = mMap.addMarker(new MarkerOptions()\r\n                .position(VillaTerminal)\r\n                .title(&quot;Villa Terminal&quot;));\r\n        markerVillaTerminal.setTag(0);\r\n\r\n        markerCheckpointTerminal = mMap.addMarker(new MarkerOptions()\r\n                .position(CheckpointTerminal)\r\n                .title(&quot;Checkpoint Terminal&quot;));\r\n        markerCheckpointTerminal.setTag(0);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    private void startLocationUpdates() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // Request location permissions if not granted\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION},\r\n                    100);\r\n            return;\r\n        }\r\n        fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, null);\r\n    }\r\n\r\n    private void stopLocationUpdates() {\r\n        fusedLocationClient.removeLocationUpdates(locationCallback);\r\n    }\r\n\r\n    private void updateLocationOnMap(Location location) {\r\n        currentLocation = new LatLng(location.getLatitude(), location.getLongitude());\r\n\r\n        if (currentLocationMarker == null) {\r\n            currentLocationMarker = mMap.addMarker(new MarkerOptions().position(currentLocation).title(&quot;You are here&quot;));\r\n            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(currentLocation, 15));\r\n        } else {\r\n            currentLocationMarker.setPosition(currentLocation);\r\n        }\r\n    }\r\n`","title":"What should I replace with my deprecated code?","body":"<p>I have a code to get the current location of the user but some parts of the code says that it is deprecated</p>\n<p>I tried copying other latest code but I also encountered some problems: <a href=\"https://stackoverflow.com/questions/76836062/google-maps-does-not-get-the-user-location-if-the-user-does-not-have-a-recent-lo\">Google maps does not get the user location if the user does not have a recent location</a></p>\n<p>Then I tried reverting back to my old code though it is still working but I am quite worried that it may stop working at some point. Is there any code that I can replace with the deprecated code or latest codes that have the same function. I would greatly appreciate any insights or suggestions you might have. Thank you in advance for your help!</p>\n<p>public class MapActivity extends AppCompatActivity implements OnMapReadyCallback {</p>\n<pre><code>private GoogleMap mMap;\nprivate FusedLocationProviderClient fusedLocationClient;\nprivate LocationRequest locationRequest;\nprivate LocationCallback locationCallback;\nprivate SupportMapFragment mapFragment;\nprivate View locationButton;\nprivate LatLng currentLocation;\nprivate Marker currentLocationMarker;\nprivate Handler handler;\nprivate LinearLayout sidebarLayout;\nprivate ImageView hamburgerButton;\nprivate Button logoutButton;\n\nprivate boolean isSidebarVisible = false;\n\nprivate final LatLng MarisolTerminal = new LatLng(15.1519204,120.4476555);\nprivate final LatLng VillaTerminal = new LatLng(15.1268318,120.5974806);\nprivate final LatLng CheckpointTerminal = new LatLng(15.169206,120.5872296);\n\nprivate Marker markerMarisolTerm;\nprivate Marker markerVillaTerminal;\nprivate Marker markerCheckpointTerminal;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_map);\n\n    // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n    mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\n    mapFragment.getMapAsync(this);\n\n    // Get references to the sidebar layout and buttons\n    sidebarLayout = findViewById(R.id.sidebarLayout);\n    hamburgerButton = findViewById(R.id.hamburger_button);\n    logoutButton = findViewById(R.id.sidebar_logout_button);\n\n    // Set a click listener for the hamburger button\n    hamburgerButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            toggleSidebar();\n        }\n    });\n\n    // Set a click listener for the logout button in the sidebar\n    logoutButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            // Call the signOut method to sign out the user\n            signOut();\n        }\n    });\n\n    // Initialize the FusedLocationProviderClient\n    fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n\n   ** // Create the location request, DEPRACTED CODES\n    locationRequest = LocationRequest.create();\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    locationRequest.setInterval(5000); // Update interval in milliseconds (adjust as needed)**\n\n    // Create the location callback\n    locationCallback = new LocationCallback() {\n        @Override\n        public void onLocationResult(LocationResult locationResult) {\n            if (locationResult == null) {\n                return;\n            }\n            for (Location location : locationResult.getLocations()) {\n                updateLocationOnMap(location);\n            }\n        }\n    };\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    startLocationUpdates();\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    stopLocationUpdates();\n}\n\n@Override\npublic void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n    mMap.getUiSettings().setZoomControlsEnabled(true);\n\n    // Enable the My Location button\n    mMap.getUiSettings().setMyLocationButtonEnabled(false);\n    mMap.setMyLocationEnabled(true);\n    mMap.setOnMyLocationButtonClickListener(new GoogleMap.OnMyLocationButtonClickListener() {\n        @Override\n        public boolean onMyLocationButtonClick() {\n            // Move the camera to the current location\n            if (currentLocation != null) {\n                mMap.animateCamera(CameraUpdateFactory.newLatLngZoom(currentLocation, 15));\n            }\n            return true;\n        }\n    });\n\n    // Start location updates\n    startLocationUpdates();\n\n    // Add some markers to the map, and add a data object to each marker.\n    markerMarisolTerm = mMap.addMarker(new MarkerOptions()\n            .position(MarisolTerminal)\n            .title(&quot;Marisol Terminal&quot;));\n    markerMarisolTerm.setTag(0);\n\n    markerVillaTerminal = mMap.addMarker(new MarkerOptions()\n            .position(VillaTerminal)\n            .title(&quot;Villa Terminal&quot;));\n    markerVillaTerminal.setTag(0);\n\n    markerCheckpointTerminal = mMap.addMarker(new MarkerOptions()\n            .position(CheckpointTerminal)\n            .title(&quot;Checkpoint Terminal&quot;));\n    markerCheckpointTerminal.setTag(0);\n\n\n\n\n}\n\nprivate void startLocationUpdates() {\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n            != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\n            Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        // Request location permissions if not granted\n        ActivityCompat.requestPermissions(this,\n                new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION},\n                100);\n        return;\n    }\n    fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, null);\n}\n\nprivate void stopLocationUpdates() {\n    fusedLocationClient.removeLocationUpdates(locationCallback);\n}\n\nprivate void updateLocationOnMap(Location location) {\n    currentLocation = new LatLng(location.getLatitude(), location.getLongitude());\n\n    if (currentLocationMarker == null) {\n        currentLocationMarker = mMap.addMarker(new MarkerOptions().position(currentLocation).title(&quot;You are here&quot;));\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(currentLocation, 15));\n    } else {\n        currentLocationMarker.setPosition(currentLocation);\n    }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1499415715,"post_id":44965791,"comment_id":76906677,"body_markdown":"Do you have a good reason not to be using try-with-resources?","body":"Do you have a good reason not to be using try-with-resources?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1499415833,"post_id":44965791,"comment_id":76906760,"body_markdown":"The criterion used is whether the reference type implements the (Auto)Closeable interface: you either have to explicitly `close()` it, or use try-with-resources.","body":"The criterion used is whether the reference type implements the (Auto)Closeable interface: you either have to explicitly <code>close()</code> it, or use try-with-resources."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1499416393,"post_id":44965791,"comment_id":76907145,"body_markdown":"If you care to spellcheck your question, there&#39;s a much higher chance that you&#39;ll be taken more seriously.","body":"If you care to spellcheck your question, there&#39;s a much higher chance that you&#39;ll be taken more seriously."}],"answers":[{"tags":[],"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1499417685,"creation_date":1499417685,"answer_id":44966592,"question_id":44965791,"body_markdown":"Correct assumption from your question : At the moment SonarJava  (4.11 just released) does not do cross file analysis and have no clue about what&#39;s going on in your `closeConnection` method. \r\n\r\nHowever, the rule about unclosed resource has a simple heuristic to avoid false positives to consider resources closed if they are passed to a method named `close`.\r\n\r\nSonarJava is on its way to be able to read your jar file and understand the resource is closed there but that is a complicated feature and we hope to deliver it in the near future. ","title":"How does the rule &quot;Resources should be closed&quot; check that a connection is closed?","body":"<p>Correct assumption from your question : At the moment SonarJava  (4.11 just released) does not do cross file analysis and have no clue about what's going on in your <code>closeConnection</code> method. </p>\n\n<p>However, the rule about unclosed resource has a simple heuristic to avoid false positives to consider resources closed if they are passed to a method named <code>close</code>.</p>\n\n<p>SonarJava is on its way to be able to read your jar file and understand the resource is closed there but that is a complicated feature and we hope to deliver it in the near future. </p>\n"}],"owner":{"account_id":2889773,"reputation":221,"user_id":2478830,"accept_rate":20,"display_name":"elamas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44966592,"answer_count":1,"score":2,"last_activity_date":1691181093,"creation_date":1499415178,"question_id":44965791,"body_markdown":"this is a question, not a problem.\r\n\r\nI have a class called DSConnectionUtilExternal with one method to retrieve a database connection and one method to close it. This class is in a jar file.\r\n\r\nIn the other hand I have a project which includes the jar file as a dependency.\r\nIn this project I have this code\r\n\r\n    Connection con = null;\r\n    ResultSet rsGet = null;\r\n    PreparedStatement psGet = null;\r\n    try {\r\n    \tcon = DSConnectionUtilExternal.openConnection();\r\n    \r\n    \tpsGet = con.prepareStatement(&quot;SELECT * FROM TEST&quot;);\r\n    \trsGet = psGet.executeQuery();\r\n    \tint counter = 0;\r\n    \twhile (rsGet.next()) {\r\n    \t\tcounter++;\r\n    \t\tSystem.err.println(counter);\r\n    \t}\r\n    } catch (Exception e) {\r\n    \te.printStackTrace();\r\n    } finally {\r\n    \ttry {\r\n    \t\tif (rsGet != null) {\r\n    \t\t\trsGet.close();\r\n    \t\t}\r\n    \t} catch (Exception e2) {\r\n    \t\te2.printStackTrace();\r\n    \t}\r\n    \trsGet = null;\r\n    \ttry {\r\n    \t\tif (psGet != null) {\r\n    \t\t\tpsGet.close();\r\n    \t\t}\r\n    \t} catch (Exception e2) {\r\n    \t\te2.printStackTrace();\r\n    \t}\r\n    \tpsGet = null;\r\n    \tDSConnectionUtilExternal.closeConnection(con);\r\n    }\r\n\r\nIf I delete the content of the method closeConnection at the jar file, sonar doesn&#39;t detect that the connection is not closed. I think it&#39;s normal, sonar doesn&#39;t decompile the jar file to access the jar file code.\r\n\r\nSo the question is? What is the criterion used by the &quot;Resources should be closed&quot; rule to determine if the connection is closed in the finally clause?\r\n\r\nThanks","title":"How does the rule &quot;Resources should be closed&quot; check that a connection is closed?","body":"<p>this is a question, not a problem.</p>\n<p>I have a class called DSConnectionUtilExternal with one method to retrieve a database connection and one method to close it. This class is in a jar file.</p>\n<p>In the other hand I have a project which includes the jar file as a dependency.\nIn this project I have this code</p>\n<pre><code>Connection con = null;\nResultSet rsGet = null;\nPreparedStatement psGet = null;\ntry {\n    con = DSConnectionUtilExternal.openConnection();\n\n    psGet = con.prepareStatement(&quot;SELECT * FROM TEST&quot;);\n    rsGet = psGet.executeQuery();\n    int counter = 0;\n    while (rsGet.next()) {\n        counter++;\n        System.err.println(counter);\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n} finally {\n    try {\n        if (rsGet != null) {\n            rsGet.close();\n        }\n    } catch (Exception e2) {\n        e2.printStackTrace();\n    }\n    rsGet = null;\n    try {\n        if (psGet != null) {\n            psGet.close();\n        }\n    } catch (Exception e2) {\n        e2.printStackTrace();\n    }\n    psGet = null;\n    DSConnectionUtilExternal.closeConnection(con);\n}\n</code></pre>\n<p>If I delete the content of the method closeConnection at the jar file, sonar doesn't detect that the connection is not closed. I think it's normal, sonar doesn't decompile the jar file to access the jar file code.</p>\n<p>So the question is? What is the criterion used by the &quot;Resources should be closed&quot; rule to determine if the connection is closed in the finally clause?</p>\n<p>Thanks</p>\n"},{"tags":["java","javafx","fxml","scenebuilder","gluon-mobile"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":3,"creation_date":1691182683,"post_id":76838948,"comment_id":135462714,"body_markdown":"Even if the `NavigationDrawer` is listed as a component you can drag and drop to a container, you are not supposed to do so: the drawer is a control that is displayed in a popup, not in your main container. Just follow the Gluon samples on how to use it, like [this](https://github.com/gluonhq/gluon-samples/blob/master/notes/src/main/java/com/gluonhq/samples/notes/views/NotesPresenter.java#L85).","body":"Even if the <code>NavigationDrawer</code> is listed as a component you can drag and drop to a container, you are not supposed to do so: the drawer is a control that is displayed in a popup, not in your main container. Just follow the Gluon samples on how to use it, like <a href=\"https://github.com/gluonhq/gluon-samples/blob/master/notes/src/main/java/com/gluonhq/samples/notes/views/NotesPresenter.java#L85\" rel=\"nofollow noreferrer\">this</a>."}],"owner":{"account_id":29131860,"reputation":31,"user_id":22316931,"display_name":"mjsick1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691180952,"creation_date":1691180952,"question_id":76838948,"body_markdown":"I&#39;m currently working on a mobile app with gluonFx, and I&#39;m looking to implement a navigation drawer in SceneBuilder. Every time I try, I get the result that is in the screenshot I&#39;ve attached. Any ideas as to why this isn&#39;t working?\r\n\r\nI can give any FXML or code needed, just let me know.[![enter image description here](https://i.stack.imgur.com/ICDwr.png)](https://i.stack.imgur.com/ICDwr.png)","title":"Gluon SceneBuilder NavigationDrawer feature seems to be broken?","body":"<p>I'm currently working on a mobile app with gluonFx, and I'm looking to implement a navigation drawer in SceneBuilder. Every time I try, I get the result that is in the screenshot I've attached. Any ideas as to why this isn't working?</p>\n<p>I can give any FXML or code needed, just let me know.<a href=\"https://i.stack.imgur.com/ICDwr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ICDwr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ide","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":3649,"reputation":6881,"user_id":5284,"accept_rate":79,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1253305956,"creation_date":1253305956,"answer_id":1446699,"question_id":1440525,"body_markdown":"Looks like it is not currently possible with a live template.\r\n\r\nFrom the [Jetbrain&#39;s forum][1]:\r\n\r\n    There is no predefined live template function to do this for you automatically.\r\n    You can write a plugin that would provide such a function.\r\n\r\n\r\n  [1]: http://www.jetbrains.net/devnet/thread/283758","title":"Idea Live Template to Log Method Args","body":"<p>Looks like it is not currently possible with a live template.</p>\n\n<p>From the <a href=\"http://www.jetbrains.net/devnet/thread/283758\" rel=\"nofollow noreferrer\">Jetbrain's forum</a>:</p>\n\n<pre><code>There is no predefined live template function to do this for you automatically.\nYou can write a plugin that would provide such a function.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3867214,"reputation":176,"user_id":3203470,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1389892935,"creation_date":1389891431,"answer_id":21168027,"question_id":1440525,"body_markdown":"I&#39;m 4 years late, but the predefined template soutp pretty much does this using a groovyscript variable.  \r\n\r\nHere&#39;s the groovy script that does what you&#39;re looking for\r\n\r\n    groovyScript(&quot;&#39;\\&quot;&#39; + _1.collect { it + &#39; = [\\&quot; + &#39; + it + &#39; + \\&quot;]&#39;}.join(&#39;, &#39;) + &#39;\\&quot;&#39;&quot;, methodParameters())","title":"Idea Live Template to Log Method Args","body":"<p>I'm 4 years late, but the predefined template soutp pretty much does this using a groovyscript variable.  </p>\n\n<p>Here's the groovy script that does what you're looking for</p>\n\n<pre><code>groovyScript(\"'\\\"' + _1.collect { it + ' = [\\\" + ' + it + ' + \\\"]'}.join(', ') + '\\\"'\", methodParameters())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4951732,"reputation":189,"user_id":3985437,"display_name":"eriskooo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655801555,"creation_date":1655801555,"answer_id":72697857,"question_id":1440525,"body_markdown":"this is my groovy script\r\n\r\n    groovyScript(&quot;import com.intellij.psi.*;import com.intellij.psi.util.PsiTreeUtil; def file = PsiDocumentManager.getInstance(_editor.project).getPsiFile(_editor.document); PsiMethod method = PsiTreeUtil.findElementOfClassAtOffset(file, _editor.caretModel.offset, PsiMethod.class, false); PsiParameter[] parameters = method == null ? PsiParameter.EMPTY_ARRAY : method.parameterList.parameters; return parameters.size() == 0 ? &#39;&#39; : &#39;\\&quot;&#39; + method.name + &#39; : &#39; + parameters.collect { def prefix = it.name + &#39; = &#39;; def type = it.type; return type instanceof PsiArrayType ? type.componentType instanceof PsiPrimitiveType ? prefix + &#39;\\&quot; + java.util.Arrays.toString(&#39; + it.name + &#39;)&#39; : prefix + &#39;\\&quot; + java.util.Arrays.deepToString(&#39; + it.name + &#39;)&#39; : prefix + &#39;\\&quot; + &#39; + it.name }.join(&#39; + \\&quot;, &#39;)&quot;, methodParameters())","title":"Idea Live Template to Log Method Args","body":"<p>this is my groovy script</p>\n<pre><code>groovyScript(&quot;import com.intellij.psi.*;import com.intellij.psi.util.PsiTreeUtil; def file = PsiDocumentManager.getInstance(_editor.project).getPsiFile(_editor.document); PsiMethod method = PsiTreeUtil.findElementOfClassAtOffset(file, _editor.caretModel.offset, PsiMethod.class, false); PsiParameter[] parameters = method == null ? PsiParameter.EMPTY_ARRAY : method.parameterList.parameters; return parameters.size() == 0 ? '' : '\\&quot;' + method.name + ' : ' + parameters.collect { def prefix = it.name + ' = '; def type = it.type; return type instanceof PsiArrayType ? type.componentType instanceof PsiPrimitiveType ? prefix + '\\&quot; + java.util.Arrays.toString(' + it.name + ')' : prefix + '\\&quot; + java.util.Arrays.deepToString(' + it.name + ')' : prefix + '\\&quot; + ' + it.name }.join(' + \\&quot;, ')&quot;, methodParameters())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3343133,"reputation":2111,"user_id":2808913,"accept_rate":80,"display_name":"miva2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664802827,"creation_date":1664802827,"answer_id":73936002,"question_id":1440525,"body_markdown":"In Android Studio in Kotlin I use this to log classname, methodname and parameters.  \r\nI use my name as tag to easily filter in logcat. I use these mainly for debugging, I don&#39;t commit these messages with my name.\r\n\r\n`Log.d(&quot;MYNAME&quot;, &quot;$CLASS_NAME$:$METHOD_NAME$: $PARAMETERS$&quot;)`\r\n\r\nAnd then the parameters are defined as follows.\r\n\r\n`CLASS_NAME` : `kotlinClassName()`\r\n\r\n`METHOD_NAME` : `kotlinFunctionName()`\r\n\r\n`PARAMETERS` : `groovyScript(&quot;&#39;&#39; + _1.collect { it + &#39; = $&#39; + it}.join(&#39;, &#39;) &quot;, functionParameters())`\r\n\r\nThis would be the result if used in the main activity\r\n``` kotlin\r\n fun aFunctionWithParameters( first: Int, second: String, third: ArrayList&lt;String&gt;){\r\n        Log.d(&quot;MYNAME&quot;, &quot;MainActivity:aFunctionWithParameters: first = $first, second = $second, third = $third&quot;)\r\n    }\r\n```\r\n\r\nI based my solution on Rob&#39;s answer and edited it to my needs.  ","title":"Idea Live Template to Log Method Args","body":"<p>In Android Studio in Kotlin I use this to log classname, methodname and parameters.<br />\nI use my name as tag to easily filter in logcat. I use these mainly for debugging, I don't commit these messages with my name.</p>\n<p><code>Log.d(&quot;MYNAME&quot;, &quot;$CLASS_NAME$:$METHOD_NAME$: $PARAMETERS$&quot;)</code></p>\n<p>And then the parameters are defined as follows.</p>\n<p><code>CLASS_NAME</code> : <code>kotlinClassName()</code></p>\n<p><code>METHOD_NAME</code> : <code>kotlinFunctionName()</code></p>\n<p><code>PARAMETERS</code> : <code>groovyScript(&quot;'' + _1.collect { it + ' = $' + it}.join(', ') &quot;, functionParameters())</code></p>\n<p>This would be the result if used in the main activity</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> fun aFunctionWithParameters( first: Int, second: String, third: ArrayList&lt;String&gt;){\n        Log.d(&quot;MYNAME&quot;, &quot;MainActivity:aFunctionWithParameters: first = $first, second = $second, third = $third&quot;)\n    }\n</code></pre>\n<p>I based my solution on Rob's answer and edited it to my needs.</p>\n"},{"tags":[],"owner":{"account_id":7328445,"reputation":492,"user_id":5582162,"accept_rate":0,"display_name":"pravingaikwad07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691179921,"creation_date":1691179921,"answer_id":76838880,"question_id":1440525,"body_markdown":"groovyScript(&quot;def params = _3.collect {it + &#39; = \\&quot; + &#39; + it + &#39; + \\&quot;&#39;}.join(&#39;, &#39;); return &#39;\\&quot;&#39; + _1 + &#39; :: &#39; + _2 + &#39;() &gt;&gt;&#39;  + (params.empty  ? &#39;&#39; : &#39;: &#39; + params)  + &#39;\\&quot;&#39;&quot;,  kotlinClassName() ,  kotlinFunctionName(),  functionParameters())\r\n\r\nThis will print:\r\n\r\n    Log.d(TAG, &quot;MyClassName :: myMethodName() &gt;&gt;: param1 = &quot; + param1 + &quot;, parma2 = &quot; + parma2 + &quot;&quot;);\r\n\r\nRefer this image on how to add this : https://i.stack.imgur.com/aHwgl.png","title":"Idea Live Template to Log Method Args","body":"<p>groovyScript(&quot;def params = _3.collect {it + ' = &quot; + ' + it + ' + &quot;'}.join(', '); return '&quot;' + _1 + ' :: ' + _2 + '() &gt;&gt;'  + (params.empty  ? '' : ': ' + params)  + '&quot;'&quot;,  kotlinClassName() ,  kotlinFunctionName(),  functionParameters())</p>\n<p>This will print:</p>\n<pre><code>Log.d(TAG, &quot;MyClassName :: myMethodName() &gt;&gt;: param1 = &quot; + param1 + &quot;, parma2 = &quot; + parma2 + &quot;&quot;);\n</code></pre>\n<p>Refer this image on how to add this : <a href=\"https://i.stack.imgur.com/aHwgl.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/aHwgl.png</a></p>\n"}],"owner":{"account_id":3649,"reputation":6881,"user_id":5284,"accept_rate":79,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2951,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":21168027,"answer_count":5,"score":10,"last_activity_date":1691179921,"creation_date":1253211836,"question_id":1440525,"body_markdown":"I would like to be able to create a live template in Jetbrain&#39;s Idea that will log the method&#39;s arguments. Let&#39;s call it &quot;larg&quot;. It would work like:\r\n\r\n    public void get(String one, String two) {\r\n        larg&lt;tab&gt;\r\n\r\nto create\r\n\r\n    public void get(String one, String two) {\r\n        log.info(&quot;get: one = &quot; + one + &quot; two = &quot; + two);\r\n\r\nI&#39;m fine with getting the method name in, but have not figured out how to pull in the method arguments. Any ideas?","title":"Idea Live Template to Log Method Args","body":"<p>I would like to be able to create a live template in Jetbrain's Idea that will log the method's arguments. Let's call it \"larg\". It would work like:</p>\n\n<pre><code>public void get(String one, String two) {\n    larg&lt;tab&gt;\n</code></pre>\n\n<p>to create</p>\n\n<pre><code>public void get(String one, String two) {\n    log.info(\"get: one = \" + one + \" two = \" + two);\n</code></pre>\n\n<p>I'm fine with getting the method name in, but have not figured out how to pull in the method arguments. Any ideas?</p>\n"},{"tags":["java","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":4992802,"reputation":11963,"user_id":4014448,"display_name":"Nadir Belhaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691151143,"creation_date":1691151143,"answer_id":76835762,"question_id":76835737,"body_markdown":"    import java.util.Map;\r\n    \r\n    public class JsonConverter {\r\n        public static String mapToJsonString(Map&lt;String, Object&gt; map) {\r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(&quot;{&quot;);\r\n    \r\n            for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n                String key = entry.getKey();\r\n                Object value = entry.getValue();\r\n    \r\n                sb.append(&quot;\\&quot;&quot;).append(key).append(&quot;\\&quot;&quot;).append(&quot; : &quot;);\r\n    \r\n                if (value instanceof Map) {\r\n                    // Recursively convert nested Map to JSON\r\n                    sb.append(mapToJsonString((Map&lt;String, Object&gt;) value));\r\n                } else if (value instanceof String) {\r\n                    sb.append(&quot;\\&quot;&quot;).append(value).append(&quot;\\&quot;&quot;);\r\n                } else {\r\n                    sb.append(value);\r\n                }\r\n    \r\n                sb.append(&quot;, &quot;);\r\n            }\r\n    \r\n            // Remove the trailing comma and space\r\n            if (sb.length() &gt; 1) {\r\n                sb.setLength(sb.length() - 2);\r\n            }\r\n    \r\n            sb.append(&quot;}&quot;);\r\n            return sb.toString();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Map&lt;String, Object&gt; m1 = new HashMap&lt;&gt;();\r\n            m1.put(&quot;name&quot;, &quot;mary&quot;);\r\n            m1.put(&quot;email&quot;, &quot;mary@email.com&quot;);\r\n            m1.put(&quot;address&quot;, new HashMap&lt;&gt;() {{\r\n                put(&quot;firstLine&quot;, &quot;101 Oracle&quot;);\r\n                put(&quot;zipCode&quot;, &quot;java 20&quot;);\r\n            }});\r\n    \r\n            String jsonString = mapToJsonString(m1);\r\n            System.out.println(jsonString);\r\n        }\r\n    }","title":"Java return nested hashmap as string formatted as Json using Streams API","body":"<pre><code>import java.util.Map;\n\npublic class JsonConverter {\n    public static String mapToJsonString(Map&lt;String, Object&gt; map) {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;{&quot;);\n\n        for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n            String key = entry.getKey();\n            Object value = entry.getValue();\n\n            sb.append(&quot;\\&quot;&quot;).append(key).append(&quot;\\&quot;&quot;).append(&quot; : &quot;);\n\n            if (value instanceof Map) {\n                // Recursively convert nested Map to JSON\n                sb.append(mapToJsonString((Map&lt;String, Object&gt;) value));\n            } else if (value instanceof String) {\n                sb.append(&quot;\\&quot;&quot;).append(value).append(&quot;\\&quot;&quot;);\n            } else {\n                sb.append(value);\n            }\n\n            sb.append(&quot;, &quot;);\n        }\n\n        // Remove the trailing comma and space\n        if (sb.length() &gt; 1) {\n            sb.setLength(sb.length() - 2);\n        }\n\n        sb.append(&quot;}&quot;);\n        return sb.toString();\n    }\n\n    public static void main(String[] args) {\n        Map&lt;String, Object&gt; m1 = new HashMap&lt;&gt;();\n        m1.put(&quot;name&quot;, &quot;mary&quot;);\n        m1.put(&quot;email&quot;, &quot;mary@email.com&quot;);\n        m1.put(&quot;address&quot;, new HashMap&lt;&gt;() {{\n            put(&quot;firstLine&quot;, &quot;101 Oracle&quot;);\n            put(&quot;zipCode&quot;, &quot;java 20&quot;);\n        }});\n\n        String jsonString = mapToJsonString(m1);\n        System.out.println(jsonString);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691178731,"creation_date":1691166551,"answer_id":76837720,"question_id":76835737,"body_markdown":"Here is a slight variation.  I am using a `count` to determine when the for loop is about to finish.\r\n- intialize a `StringBuilder` to hold the result\r\n- then iterate thru the maps entrySet.\r\n - if the value is a map, then append current string with a recursive call to the method.\r\n - otherwise just process both key and value as a pair and continue\r\n- if the loop is on the last entry, then don&#39;t attach a comma.\r\n- near the end, some tidying up must be done to add a comma between all cases where a `&quot;` follows a closing brace &quot;}&quot;\r\n```\r\npublic static String format(Map&lt;String, Object&gt; map) {\r\n    StringBuilder f = new StringBuilder();\r\n    int i = 0;\r\n    int maxIndex = map.entrySet().size()-1;\r\n    for (Entry&lt;String,Object&gt; e : map.entrySet()) {\r\n        boolean last = i == maxIndex;\r\n        if (e.getValue() instanceof Map mp) {\r\n            f.append(&quot;{&quot;)\r\n                    .append(&quot;\\&quot;%s\\&quot;: {&quot;.formatted(e.getKey()) + format(mp));\r\n        } else {\r\n            f.append(&quot;\\&quot;%s\\&quot; : \\&quot;%s\\&quot;%s&quot;.formatted(e.getKey(),\r\n                    e.getValue(), last ? &quot;&quot; : &quot;, &quot;));\r\n        }\r\n        i++;\r\n    }\r\n    return f.append(&quot;} &quot;).toString().replace(&quot;} \\&quot;&quot;, &quot;}, \\&quot;&quot;);\r\n}\r\n```\r\nWith the current map structure, returns the following result.\r\n```\r\n{&quot;address&quot;: {&quot;zipCode&quot; : &quot;java 20&quot;, &quot;firstLine&quot; : &quot;101 Oracle&quot;}, &quot;name&quot; : &quot;mary&quot;, &quot;email&quot; : &quot;mary@email.com&quot;} \r\n","title":"Java return nested hashmap as string formatted as Json using Streams API","body":"<p>Here is a slight variation.  I am using a <code>count</code> to determine when the for loop is about to finish.</p>\n<ul>\n<li>intialize a <code>StringBuilder</code> to hold the result</li>\n<li>then iterate thru the maps entrySet.</li>\n<li>if the value is a map, then append current string with a recursive call to the method.</li>\n<li>otherwise just process both key and value as a pair and continue</li>\n<li>if the loop is on the last entry, then don't attach a comma.</li>\n<li>near the end, some tidying up must be done to add a comma between all cases where a <code>&quot;</code> follows a closing brace &quot;}&quot;</li>\n</ul>\n<pre><code>public static String format(Map&lt;String, Object&gt; map) {\n    StringBuilder f = new StringBuilder();\n    int i = 0;\n    int maxIndex = map.entrySet().size()-1;\n    for (Entry&lt;String,Object&gt; e : map.entrySet()) {\n        boolean last = i == maxIndex;\n        if (e.getValue() instanceof Map mp) {\n            f.append(&quot;{&quot;)\n                    .append(&quot;\\&quot;%s\\&quot;: {&quot;.formatted(e.getKey()) + format(mp));\n        } else {\n            f.append(&quot;\\&quot;%s\\&quot; : \\&quot;%s\\&quot;%s&quot;.formatted(e.getKey(),\n                    e.getValue(), last ? &quot;&quot; : &quot;, &quot;));\n        }\n        i++;\n    }\n    return f.append(&quot;} &quot;).toString().replace(&quot;} \\&quot;&quot;, &quot;}, \\&quot;&quot;);\n}\n</code></pre>\n<p>With the current map structure, returns the following result.</p>\n<pre><code>{&quot;address&quot;: {&quot;zipCode&quot; : &quot;java 20&quot;, &quot;firstLine&quot; : &quot;101 Oracle&quot;}, &quot;name&quot; : &quot;mary&quot;, &quot;email&quot; : &quot;mary@email.com&quot;} \n</code></pre>\n"}],"owner":{"account_id":13081377,"reputation":281,"user_id":9451827,"display_name":"thor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76835762,"answer_count":2,"score":1,"last_activity_date":1691178731,"creation_date":1691150901,"question_id":76835737,"body_markdown":"I have a nested HashMap declared as `Map&lt;String, Object&gt;`.\r\n\r\n```\r\nMap&lt;String,Object&gt; m1 = new HashMap&lt;&gt;();\r\n        m1.put(&quot;name&quot;,&quot;mary&quot;);\r\n        m1.put(&quot;email&quot;,&quot;mary@email.com&quot;);\r\n        m1.put(&quot;address&quot;, new HashMap&lt;&gt;() {{\r\n            put(&quot;firstLine&quot;, &quot;101 Oracle&quot;);\r\n            put(&quot;zipCode&quot;, &quot;java 20&quot;);\r\n        }});\r\n```\r\n\r\nI want to return this as a `String` in the following way without the help of an external library:\r\n```\r\n{\r\naddress : {\r\nzipCode : Java 20,\r\nfirstLine : 101 Oracle\r\n},\r\nname : mary,\r\nemail : mary@mail.com\r\n}\r\n```\r\n\r\nI cannot format the nested map in the way I want. So far I have this:\r\n\r\n```\r\nString s = m1.entrySet().stream()\r\n                        .map(e -&gt; e.getKey() + &quot; : &quot; + e.getValue())\r\n                        .collect(Collectors.joining(&quot;, &quot; + &quot;\\n&quot;, &quot;{&quot; + &quot;\\n&quot;, &quot;\\n&quot; + &quot;}&quot;));\r\nSystem.out.println(s);\r\n```\r\n\r\nWhich gives me:\r\n```\r\n{\r\naddress : {zipCode=java 20, firstLine=101 Oracle}, \r\nname : mary, \r\nemail : mary@email.com\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java return nested hashmap as string formatted as Json using Streams API","body":"<p>I have a nested HashMap declared as <code>Map&lt;String, Object&gt;</code>.</p>\n<pre><code>Map&lt;String,Object&gt; m1 = new HashMap&lt;&gt;();\n        m1.put(&quot;name&quot;,&quot;mary&quot;);\n        m1.put(&quot;email&quot;,&quot;mary@email.com&quot;);\n        m1.put(&quot;address&quot;, new HashMap&lt;&gt;() {{\n            put(&quot;firstLine&quot;, &quot;101 Oracle&quot;);\n            put(&quot;zipCode&quot;, &quot;java 20&quot;);\n        }});\n</code></pre>\n<p>I want to return this as a <code>String</code> in the following way without the help of an external library:</p>\n<pre><code>{\naddress : {\nzipCode : Java 20,\nfirstLine : 101 Oracle\n},\nname : mary,\nemail : mary@mail.com\n}\n</code></pre>\n<p>I cannot format the nested map in the way I want. So far I have this:</p>\n<pre><code>String s = m1.entrySet().stream()\n                        .map(e -&gt; e.getKey() + &quot; : &quot; + e.getValue())\n                        .collect(Collectors.joining(&quot;, &quot; + &quot;\\n&quot;, &quot;{&quot; + &quot;\\n&quot;, &quot;\\n&quot; + &quot;}&quot;));\nSystem.out.println(s);\n</code></pre>\n<p>Which gives me:</p>\n<pre><code>{\naddress : {zipCode=java 20, firstLine=101 Oracle}, \nname : mary, \nemail : mary@email.com\n}\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","ant","war"],"comments":[{"owner":{"account_id":375416,"reputation":17497,"user_id":726239,"accept_rate":76,"display_name":"Shaunak"},"score":1,"creation_date":1376615037,"post_id":18264056,"comment_id":26787235,"body_markdown":"Eclipse generates a ant build file for you automatically. Did you try using it? Its usually a good stable starting point which you can start modifying. Right click your project --&gt; export --&gt; type Ant --&gt; export. This will work even better if you already have tomcat or other server already setup in eclipse and eclipse is able to deploy it there.","body":"Eclipse generates a ant build file for you automatically. Did you try using it? Its usually a good stable starting point which you can start modifying. Right click your project --&gt; export --&gt; type Ant --&gt; export. This will work even better if you already have tomcat or other server already setup in eclipse and eclipse is able to deploy it there."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1376616105,"post_id":18264056,"comment_id":26787469,"body_markdown":"@Shaunak Thank you.  I tried your method and posted the results in an edit to my original posting above.  Are you using a plugin?  I am using eclipse Juno release 1.  Right clicking the project folder and choosing export gives a war option, but not an ant option.  I chose the war option and got the results reported in my edit.  Any other suggestions?","body":"@Shaunak Thank you.  I tried your method and posted the results in an edit to my original posting above.  Are you using a plugin?  I am using eclipse Juno release 1.  Right clicking the project folder and choosing export gives a war option, but not an ant option.  I chose the war option and got the results reported in my edit.  Any other suggestions?"},{"owner":{"account_id":375416,"reputation":17497,"user_id":726239,"accept_rate":76,"display_name":"Shaunak"},"score":0,"creation_date":1376616319,"post_id":18264056,"comment_id":26787517,"body_markdown":"yes i use juno. when you select export, in the text input type ant and press enter. It should give you Ant option. Let me know if it doesn&#39;t then we can debug it further","body":"yes i use juno. when you select export, in the text input type ant and press enter. It should give you Ant option. Let me know if it doesn&#39;t then we can debug it further"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1376617088,"post_id":18264056,"comment_id":26787696,"body_markdown":"@Shaunak Thanks.  I found the ant option, and it enables eclipse to create a 200+ line ant build file.  But when I run the ant file, I cannot find the resulting war file.  Typing myapp.war into the windows start menu produces no results.  Any suggestions?","body":"@Shaunak Thanks.  I found the ant option, and it enables eclipse to create a 200+ line ant build file.  But when I run the ant file, I cannot find the resulting war file.  Typing myapp.war into the windows start menu produces no results.  Any suggestions?"},{"owner":{"account_id":375416,"reputation":17497,"user_id":726239,"accept_rate":76,"display_name":"Shaunak"},"score":0,"creation_date":1376617522,"post_id":18264056,"comment_id":26787808,"body_markdown":"I think by default it puts the war file into your web server. you will have to check the path of where your server is configured in eclipse.","body":"I think by default it puts the war file into your web server. you will have to check the path of where your server is configured in eclipse."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1376617873,"post_id":18264056,"comment_id":26787897,"body_markdown":"@Shaunak Thanks.  I looked in the tomcat7/webapps folder, and cannot find myapp.war . Any suggestions of where else to look?","body":"@Shaunak Thanks.  I looked in the tomcat7/webapps folder, and cannot find myapp.war . Any suggestions of where else to look?"},{"owner":{"account_id":375416,"reputation":17497,"user_id":726239,"accept_rate":76,"display_name":"Shaunak"},"score":0,"creation_date":1376618562,"post_id":18264056,"comment_id":26788043,"body_markdown":"nope sorry, unless I can look at the war file eclipse generated. I would suggest take bits and pieces from it that you need, specific targets, and use them in your original ant file.","body":"nope sorry, unless I can look at the war file eclipse generated. I would suggest take bits and pieces from it that you need, specific targets, and use them in your original ant file."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1376620956,"post_id":18264056,"comment_id":26788528,"body_markdown":"@Shaunak I just posted the ant build file that eclipse created as an edit to my original posting above.  Can you tell from it where the war file is located?  And what the name of the war file is?","body":"@Shaunak I just posted the ant build file that eclipse created as an edit to my original posting above.  Can you tell from it where the war file is located?  And what the name of the war file is?"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1691178046,"post_id":18264056,"comment_id":135462039,"body_markdown":"I&#39;ve tidied this post up, but with no answers, and all the images broken, I wonder if this ought to be put on hold for now. (This common issue is why posts should only use the Stack Overflow CDN).","body":"I&#39;ve tidied this post up, but with no answers, and all the images broken, I wonder if this ought to be put on hold for now. (This common issue is why posts should only use the Stack Overflow CDN)."}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691177981,"creation_date":1376613267,"question_id":18264056,"body_markdown":"I am writing an Ant buildfile to create my first war file using Eclipse and Tomcat 7 server.  This is my first time creating a war file.  I have gotten the build file to create a war file, but when I unzip the war file, I find that it does not contain everything that it needs to contain.\r\n\r\nAs a result, when I try to deploy the application to tomcat in the form of the war file, the web container cannot find any of the servlets in the application.  I am posting my inputs, outputs, and code below.  How can I fix the code below so that the outputs in the war file match the inputs from Eclipse?\r\n\r\nHere is the structure of the Eclipse project:  \r\n\r\n&lt;img src=&quot;https://s21.postimg.org/3zo1j1x3b/myappwar2.gif&quot;&gt;  \r\n\r\nHere are the contents of the unzipped war file:\r\n\r\n&lt;img src=&quot;https://s9.postimg.org/3p59yztfz/war_contents.gif&quot;&gt;   \r\n\r\nAnd here is the code for the Ant buildfile:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n  \r\n    &lt;project basedir=&quot;C:\\mypath\\workspace\\myapp&quot; name=&quot;myapp&quot; default=&quot;default&quot;&gt;\r\n        &lt;target name=&quot;default&quot; depends=&quot;setup,compile,buildwar,deploy&quot;&gt;&lt;/target&gt;\r\n  \r\n        &lt;target name=&quot;setup&quot;&gt;\r\n            &lt;mkdir dir=&quot;dist&quot; /&gt;\r\n            &lt;echo&gt;Copying web into dist&lt;/echo&gt;\r\n            &lt;copydir dest=&quot;dist/web&quot; src=&quot;web&quot; /&gt;\r\n            &lt;copydir dest=&quot;dist/web/WEB-INF/lib&quot; src=&quot;${basedir}/web/WEB-INF/lib&quot; /&gt;\r\n        &lt;/target&gt;\r\n  \r\n        &lt;target name=&quot;compile&quot;&gt;\r\n            &lt;delete dir=&quot;${dist.dir}/web/WEB-INF/classes&quot; /&gt;\r\n            &lt;mkdir dir=&quot;${dist.dir}/web/WEB-INF/classes&quot; /&gt;\r\n            &lt;javac destdir=&quot;${dist.dir}/web/WEB-INF/classes&quot; srcdir=&quot;src&quot;&gt;\r\n                &lt;classpath&gt;\r\n                    &lt;fileset dir=&quot;${basedir}/web/WEB-INF/lib&quot;&gt;\r\n                        &lt;include name=&quot;*&quot; /&gt;\r\n                    &lt;/fileset&gt;\r\n                &lt;/classpath&gt;\r\n            &lt;/javac&gt;\r\n            &lt;copy todir=&quot;${dist.dir}/web/WEB-INF/classes&quot;&gt;\r\n                &lt;fileset dir=&quot;src&quot;&gt;\r\n                    &lt;include name=&quot;**/*.properties&quot; /&gt;\r\n                    &lt;include name=&quot;**/*.xml&quot; /&gt;\r\n                &lt;/fileset&gt;\r\n            &lt;/copy&gt;\r\n        &lt;/target&gt;\r\n  \r\n        &lt;target name=&quot;buildwar&quot;&gt;\r\n            &lt;war basedir=&quot;${basedir}/dist/web&quot; destfile=&quot;myapp.war&quot;\r\n                 webxml=&quot;${basedir}/dist/web/WEB-INF/web.xml&quot;&gt;\r\n                &lt;exclude name=&quot;WEB-INF/**&quot; /&gt;\r\n                &lt;webinf dir=&quot;${basedir}/dist/web/WEB-INF/&quot;&gt;\r\n                    &lt;include name=&quot;**/*.jar&quot; /&gt;\r\n                &lt;/webinf&gt;\r\n            &lt;/war&gt;\r\n        &lt;/target&gt;\r\n  \r\n        &lt;target name=&quot;deploy&quot;&gt;\r\n            &lt;copy file=&quot;myapp.war&quot; todir=&quot;${tomcat.deploydir}&quot; /&gt;\r\n        &lt;/target&gt;\r\n    \r\n    &lt;/project&gt;  \r\n  \r\nPlease note that running this script creates three copies of the war file. I only want one copy.\r\n\r\nEdit\r\n---\r\n  \r\nI tried Shaunak&#39;s suggestion, and am getting the following output now when I unzip the war file:  \r\n\r\n&lt;img src=&quot;https://s23.postimg.org/rsqzk9r3f/war_conts2.gif&quot;&gt;  \r\n\r\nDeploying the resulting war to Tomcat still produces 404 errors because the web container cannot find the servlets.  I cannot seem to find web.xml or myapp.xml in the output, and none of the jar file dependencies seem to be present in the war file either, but the good news is that the package folders seem to contain both Java files and class files.  \r\n\r\nSecond edit\r\n---\r\n  \r\nHere is the Ant build file that Eclipse generated.  Where is the .war file that is supposed to be created when the following build file is run? And what is the name of the war file?  \r\n  \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;!-- WARNING: Eclipse auto-generated file.\r\n              Any modifications will be overwritten.\r\n              To include a user specific buildfile here, simply create one in the same\r\n              directory with the processing instruction &lt;?eclipse.ant.import?&gt;\r\n              as the first entry and export the buildfile again. --&gt;&lt;project basedir=&quot;.&quot; default=&quot;build&quot; name=&quot;myapp&quot;&gt;\r\n        &lt;property environment=&quot;env&quot;/&gt;\r\n        &lt;property name=&quot;ECLIPSE_HOME&quot; value=&quot;../../../../java/eclipse&quot;/&gt;\r\n        &lt;property name=&quot;debuglevel&quot; value=&quot;source,lines,vars&quot;/&gt;\r\n        &lt;property name=&quot;target&quot; value=&quot;1.7&quot;/&gt;\r\n        &lt;property name=&quot;source&quot; value=&quot;1.7&quot;/&gt;\r\n        &lt;path id=&quot;Web App Libraries.libraryclasspath&quot;/&gt;\r\n        &lt;path id=&quot;EAR Libraries.libraryclasspath&quot;/&gt;\r\n        &lt;path id=&quot;myapp.classpath&quot;&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/classes&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/ant.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/jaxen.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/xalan.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/xerces.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-1.1.3-javadoc.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-1.1.3-sources.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-1.1.3-test-sources.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-adapters-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-api-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;lib/commons-logging-tests.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/jstl-1.2.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-javadoc.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-sources.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-test-sources.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-adapters-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-api-1.1.3.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-tests.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/servlet-api.jar&quot;/&gt;\r\n            &lt;pathelement location=&quot;web/WEB-INF/lib/jsp-api.jar&quot;/&gt;\r\n            &lt;path refid=&quot;Web App Libraries.libraryclasspath&quot;/&gt;\r\n            &lt;path refid=&quot;EAR Libraries.libraryclasspath&quot;/&gt;\r\n        &lt;/path&gt;\r\n        &lt;target name=&quot;init&quot;&gt;\r\n            &lt;mkdir dir=&quot;web/WEB-INF/classes&quot;/&gt;\r\n            &lt;copy includeemptydirs=&quot;false&quot; todir=&quot;web/WEB-INF/classes&quot;&gt;\r\n                &lt;fileset dir=&quot;src&quot;&gt;\r\n                    &lt;exclude name=&quot;**/*.java&quot;/&gt;\r\n                &lt;/fileset&gt;\r\n            &lt;/copy&gt;\r\n        &lt;/target&gt;\r\n        &lt;target name=&quot;clean&quot;&gt;\r\n            &lt;delete dir=&quot;web/WEB-INF/classes&quot;/&gt;\r\n        &lt;/target&gt;\r\n        &lt;target depends=&quot;clean&quot; name=&quot;cleanall&quot;/&gt;\r\n        &lt;target depends=&quot;build-subprojects,build-project&quot; name=&quot;build&quot;/&gt;\r\n        &lt;target name=&quot;build-subprojects&quot;/&gt;\r\n        &lt;target depends=&quot;init&quot; name=&quot;build-project&quot;&gt;\r\n            &lt;echo message=&quot;${ant.project.name}: ${ant.file}&quot;/&gt;\r\n            &lt;javac debug=&quot;true&quot; debuglevel=&quot;${debuglevel}&quot; destdir=&quot;web/WEB-INF/classes&quot; includeantruntime=&quot;false&quot; source=&quot;${source}&quot; target=&quot;${target}&quot;&gt;\r\n                &lt;src path=&quot;src&quot;/&gt;\r\n                &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\r\n            &lt;/javac&gt;\r\n        &lt;/target&gt;\r\n        &lt;target description=&quot;Build all projects which reference this project. Useful to propagate changes.&quot; name=&quot;build-refprojects&quot;/&gt;\r\n        &lt;target description=&quot;copy Eclipse compiler jars to ant lib directory&quot; name=&quot;init-eclipse-compiler&quot;&gt;\r\n            &lt;copy todir=&quot;${ant.library.dir}&quot;&gt;\r\n                &lt;fileset dir=&quot;${ECLIPSE_HOME}/plugins&quot; includes=&quot;org.eclipse.jdt.core_*.jar&quot;/&gt;\r\n            &lt;/copy&gt;\r\n            &lt;unzip dest=&quot;${ant.library.dir}&quot;&gt;\r\n                &lt;patternset includes=&quot;jdtCompilerAdapter.jar&quot;/&gt;\r\n                &lt;fileset dir=&quot;${ECLIPSE_HOME}/plugins&quot; includes=&quot;org.eclipse.jdt.core_*.jar&quot;/&gt;\r\n            &lt;/unzip&gt;\r\n        &lt;/target&gt;\r\n        &lt;target description=&quot;compile project with Eclipse compiler&quot; name=&quot;build-eclipse-compiler&quot;&gt;\r\n            &lt;property name=&quot;build.compiler&quot; value=&quot;org.eclipse.jdt.core.JDTCompilerAdapter&quot;/&gt;\r\n            &lt;antcall target=&quot;build&quot;/&gt;\r\n        &lt;/target&gt;\r\n        &lt;target name=&quot;GetBI&quot;&gt;\r\n            &lt;java classname=&quot;myapp.plotters.GetBI&quot; failonerror=&quot;true&quot; fork=&quot;yes&quot;&gt;\r\n                &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\r\n            &lt;/java&gt;\r\n        &lt;/target&gt;\r\n        &lt;target name=&quot;GetPlotGIF (2)&quot;&gt;\r\n            &lt;java classname=&quot;myapp.plotters.GetPlotGIF&quot; failonerror=&quot;true&quot; fork=&quot;yes&quot;&gt;\r\n                &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\r\n            &lt;/java&gt;\r\n        &lt;/target&gt;\r\n    &lt;/project&gt;  \r\n","title":"Trouble creating war file with Ant using Eclipse and Tomcat 7 server","body":"<p>I am writing an Ant buildfile to create my first war file using Eclipse and Tomcat 7 server.  This is my first time creating a war file.  I have gotten the build file to create a war file, but when I unzip the war file, I find that it does not contain everything that it needs to contain.</p>\n<p>As a result, when I try to deploy the application to tomcat in the form of the war file, the web container cannot find any of the servlets in the application.  I am posting my inputs, outputs, and code below.  How can I fix the code below so that the outputs in the war file match the inputs from Eclipse?</p>\n<p>Here is the structure of the Eclipse project:</p>\n<img src=\"https://s21.postimg.org/3zo1j1x3b/myappwar2.gif\">  \n<p>Here are the contents of the unzipped war file:</p>\n<img src=\"https://s9.postimg.org/3p59yztfz/war_contents.gif\">   \n<p>And here is the code for the Ant buildfile:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project basedir=&quot;C:\\mypath\\workspace\\myapp&quot; name=&quot;myapp&quot; default=&quot;default&quot;&gt;\n    &lt;target name=&quot;default&quot; depends=&quot;setup,compile,buildwar,deploy&quot;&gt;&lt;/target&gt;\n\n    &lt;target name=&quot;setup&quot;&gt;\n        &lt;mkdir dir=&quot;dist&quot; /&gt;\n        &lt;echo&gt;Copying web into dist&lt;/echo&gt;\n        &lt;copydir dest=&quot;dist/web&quot; src=&quot;web&quot; /&gt;\n        &lt;copydir dest=&quot;dist/web/WEB-INF/lib&quot; src=&quot;${basedir}/web/WEB-INF/lib&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;compile&quot;&gt;\n        &lt;delete dir=&quot;${dist.dir}/web/WEB-INF/classes&quot; /&gt;\n        &lt;mkdir dir=&quot;${dist.dir}/web/WEB-INF/classes&quot; /&gt;\n        &lt;javac destdir=&quot;${dist.dir}/web/WEB-INF/classes&quot; srcdir=&quot;src&quot;&gt;\n            &lt;classpath&gt;\n                &lt;fileset dir=&quot;${basedir}/web/WEB-INF/lib&quot;&gt;\n                    &lt;include name=&quot;*&quot; /&gt;\n                &lt;/fileset&gt;\n            &lt;/classpath&gt;\n        &lt;/javac&gt;\n        &lt;copy todir=&quot;${dist.dir}/web/WEB-INF/classes&quot;&gt;\n            &lt;fileset dir=&quot;src&quot;&gt;\n                &lt;include name=&quot;**/*.properties&quot; /&gt;\n                &lt;include name=&quot;**/*.xml&quot; /&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;buildwar&quot;&gt;\n        &lt;war basedir=&quot;${basedir}/dist/web&quot; destfile=&quot;myapp.war&quot;\n             webxml=&quot;${basedir}/dist/web/WEB-INF/web.xml&quot;&gt;\n            &lt;exclude name=&quot;WEB-INF/**&quot; /&gt;\n            &lt;webinf dir=&quot;${basedir}/dist/web/WEB-INF/&quot;&gt;\n                &lt;include name=&quot;**/*.jar&quot; /&gt;\n            &lt;/webinf&gt;\n        &lt;/war&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;deploy&quot;&gt;\n        &lt;copy file=&quot;myapp.war&quot; todir=&quot;${tomcat.deploydir}&quot; /&gt;\n    &lt;/target&gt;\n\n&lt;/project&gt;  \n</code></pre>\n<p>Please note that running this script creates three copies of the war file. I only want one copy.</p>\n<h2>Edit</h2>\n<p>I tried Shaunak's suggestion, and am getting the following output now when I unzip the war file:</p>\n<img src=\"https://s23.postimg.org/rsqzk9r3f/war_conts2.gif\">  \n<p>Deploying the resulting war to Tomcat still produces 404 errors because the web container cannot find the servlets.  I cannot seem to find web.xml or myapp.xml in the output, and none of the jar file dependencies seem to be present in the war file either, but the good news is that the package folders seem to contain both Java files and class files.</p>\n<h2>Second edit</h2>\n<p>Here is the Ant build file that Eclipse generated.  Where is the .war file that is supposed to be created when the following build file is run? And what is the name of the war file?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!-- WARNING: Eclipse auto-generated file.\n          Any modifications will be overwritten.\n          To include a user specific buildfile here, simply create one in the same\n          directory with the processing instruction &lt;?eclipse.ant.import?&gt;\n          as the first entry and export the buildfile again. --&gt;&lt;project basedir=&quot;.&quot; default=&quot;build&quot; name=&quot;myapp&quot;&gt;\n    &lt;property environment=&quot;env&quot;/&gt;\n    &lt;property name=&quot;ECLIPSE_HOME&quot; value=&quot;../../../../java/eclipse&quot;/&gt;\n    &lt;property name=&quot;debuglevel&quot; value=&quot;source,lines,vars&quot;/&gt;\n    &lt;property name=&quot;target&quot; value=&quot;1.7&quot;/&gt;\n    &lt;property name=&quot;source&quot; value=&quot;1.7&quot;/&gt;\n    &lt;path id=&quot;Web App Libraries.libraryclasspath&quot;/&gt;\n    &lt;path id=&quot;EAR Libraries.libraryclasspath&quot;/&gt;\n    &lt;path id=&quot;myapp.classpath&quot;&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/classes&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/ant.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/jaxen.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/xalan.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/xerces.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-1.1.3-javadoc.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-1.1.3-sources.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-1.1.3-test-sources.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-adapters-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-api-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;lib/commons-logging-tests.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/jstl-1.2.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-javadoc.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-sources.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-1.1.3-test-sources.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-adapters-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-api-1.1.3.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/commons-logging-tests.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/servlet-api.jar&quot;/&gt;\n        &lt;pathelement location=&quot;web/WEB-INF/lib/jsp-api.jar&quot;/&gt;\n        &lt;path refid=&quot;Web App Libraries.libraryclasspath&quot;/&gt;\n        &lt;path refid=&quot;EAR Libraries.libraryclasspath&quot;/&gt;\n    &lt;/path&gt;\n    &lt;target name=&quot;init&quot;&gt;\n        &lt;mkdir dir=&quot;web/WEB-INF/classes&quot;/&gt;\n        &lt;copy includeemptydirs=&quot;false&quot; todir=&quot;web/WEB-INF/classes&quot;&gt;\n            &lt;fileset dir=&quot;src&quot;&gt;\n                &lt;exclude name=&quot;**/*.java&quot;/&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;clean&quot;&gt;\n        &lt;delete dir=&quot;web/WEB-INF/classes&quot;/&gt;\n    &lt;/target&gt;\n    &lt;target depends=&quot;clean&quot; name=&quot;cleanall&quot;/&gt;\n    &lt;target depends=&quot;build-subprojects,build-project&quot; name=&quot;build&quot;/&gt;\n    &lt;target name=&quot;build-subprojects&quot;/&gt;\n    &lt;target depends=&quot;init&quot; name=&quot;build-project&quot;&gt;\n        &lt;echo message=&quot;${ant.project.name}: ${ant.file}&quot;/&gt;\n        &lt;javac debug=&quot;true&quot; debuglevel=&quot;${debuglevel}&quot; destdir=&quot;web/WEB-INF/classes&quot; includeantruntime=&quot;false&quot; source=&quot;${source}&quot; target=&quot;${target}&quot;&gt;\n            &lt;src path=&quot;src&quot;/&gt;\n            &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\n        &lt;/javac&gt;\n    &lt;/target&gt;\n    &lt;target description=&quot;Build all projects which reference this project. Useful to propagate changes.&quot; name=&quot;build-refprojects&quot;/&gt;\n    &lt;target description=&quot;copy Eclipse compiler jars to ant lib directory&quot; name=&quot;init-eclipse-compiler&quot;&gt;\n        &lt;copy todir=&quot;${ant.library.dir}&quot;&gt;\n            &lt;fileset dir=&quot;${ECLIPSE_HOME}/plugins&quot; includes=&quot;org.eclipse.jdt.core_*.jar&quot;/&gt;\n        &lt;/copy&gt;\n        &lt;unzip dest=&quot;${ant.library.dir}&quot;&gt;\n            &lt;patternset includes=&quot;jdtCompilerAdapter.jar&quot;/&gt;\n            &lt;fileset dir=&quot;${ECLIPSE_HOME}/plugins&quot; includes=&quot;org.eclipse.jdt.core_*.jar&quot;/&gt;\n        &lt;/unzip&gt;\n    &lt;/target&gt;\n    &lt;target description=&quot;compile project with Eclipse compiler&quot; name=&quot;build-eclipse-compiler&quot;&gt;\n        &lt;property name=&quot;build.compiler&quot; value=&quot;org.eclipse.jdt.core.JDTCompilerAdapter&quot;/&gt;\n        &lt;antcall target=&quot;build&quot;/&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;GetBI&quot;&gt;\n        &lt;java classname=&quot;myapp.plotters.GetBI&quot; failonerror=&quot;true&quot; fork=&quot;yes&quot;&gt;\n            &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\n        &lt;/java&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;GetPlotGIF (2)&quot;&gt;\n        &lt;java classname=&quot;myapp.plotters.GetPlotGIF&quot; failonerror=&quot;true&quot; fork=&quot;yes&quot;&gt;\n            &lt;classpath refid=&quot;myapp.classpath&quot;/&gt;\n        &lt;/java&gt;\n    &lt;/target&gt;\n&lt;/project&gt;  \n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":1866186,"reputation":4221,"user_id":1689695,"accept_rate":100,"display_name":"CocoNess"},"score":3,"creation_date":1415778837,"post_id":26881739,"comment_id":42319436,"body_markdown":"What exception/ error does it throw?","body":"What exception/ error does it throw?"},{"owner":{"account_id":3678851,"reputation":1603,"user_id":3064251,"display_name":"napentathol"},"score":0,"creation_date":1415804734,"post_id":26881739,"comment_id":42334168,"body_markdown":"No exceptions, it starts up and then runs perfectly fine until it attempts to interact with the db, then it throws an exception about there being no tables. No relevant warnings in the log either.","body":"No exceptions, it starts up and then runs perfectly fine until it attempts to interact with the db, then it throws an exception about there being no tables. No relevant warnings in the log either."}],"answers":[{"tags":[],"owner":{"account_id":1616389,"reputation":1813,"user_id":1493954,"display_name":"liorsolomon"},"down_vote_count":1,"up_vote_count":97,"is_accepted":false,"score":96,"last_activity_date":1415780056,"creation_date":1415780056,"answer_id":26882135,"question_id":26881739,"body_markdown":"Did you try running it with:\r\n\r\n    spring.jpa.generate-ddl=true\r\n\r\nand then \r\n\r\n    spring.jpa.hibernate.ddl-auto = create\r\n\r\n&gt; By default the DDL execution (or validation) is deferred until the ApplicationContext has started. There is also a spring.jpa.generate-ddl flag, but it is not used if Hibernate autoconfig is active because the ddl-auto settings are more fine-grained.\r\n\r\nsee [spring-boot-features][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>Did you try running it with:</p>\n\n<pre><code>spring.jpa.generate-ddl=true\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto = create\n</code></pre>\n\n<blockquote>\n  <p>By default the DDL execution (or validation) is deferred until the ApplicationContext has started. There is also a spring.jpa.generate-ddl flag, but it is not used if Hibernate autoconfig is active because the ddl-auto settings are more fine-grained.</p>\n</blockquote>\n\n<p>see <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\">spring-boot-features</a></p>\n"},{"tags":[],"owner":{"account_id":322860,"reputation":1924,"user_id":642513,"display_name":"borys86"},"down_vote_count":1,"up_vote_count":156,"is_accepted":true,"score":155,"last_activity_date":1621008424,"creation_date":1415860398,"answer_id":26902713,"question_id":26881739,"body_markdown":"There are several possible causes:\r\n\r\n 1. Your entity classes are in the same  or in a sub-package relative one where you have you class with `@EnableAutoConfiguration.` If not then your spring app does not see them and hence will not create anything in db\r\n 2. Check your config, it seems that you are using some hibernate specific options, try to replace them with:\r\n\r\n   \r\n\r\n        spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n        spring.jpa.hibernate.ddl-auto=update\r\n        spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n        spring.datasource.url=jdbc:mysql://localhost:3306/test\r\n        spring.datasource.username=test\r\n        spring.datasource.password=\r\n\r\n**note that the manual loading of the driver class is unnecessary because it&#39;s automatically registered, so don&#39;t bother yourself with it\r\n\r\n3. Your `application.properties` must be in `src/main/resources` folder.\r\n\r\nIf you did not specify dialect correctly it might try to default to bundled together with boot in-memory database and (as it was with me) I could see that it tries to connect to local `HSQL` (see console output) instance and fail at updating the schema.\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>There are several possible causes:</p>\n<ol>\n<li><p>Your entity classes are in the same  or in a sub-package relative one where you have you class with <code>@EnableAutoConfiguration.</code> If not then your spring app does not see them and hence will not create anything in db</p>\n</li>\n<li><p>Check your config, it seems that you are using some hibernate specific options, try to replace them with:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=test\nspring.datasource.password=\n</code></pre>\n</li>\n</ol>\n<p>**note that the manual loading of the driver class is unnecessary because it's automatically registered, so don't bother yourself with it</p>\n<ol start=\"3\">\n<li>Your <code>application.properties</code> must be in <code>src/main/resources</code> folder.</li>\n</ol>\n<p>If you did not specify dialect correctly it might try to default to bundled together with boot in-memory database and (as it was with me) I could see that it tries to connect to local <code>HSQL</code> (see console output) instance and fail at updating the schema.</p>\n"},{"tags":[],"owner":{"account_id":3870832,"reputation":606,"user_id":3206144,"display_name":"user3206144"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1420307431,"creation_date":1420307431,"answer_id":27757754,"question_id":26881739,"body_markdown":"I also have the same problem. Turned out I have the @PropertySource annotation set on the main Application class to read a different base properties file, so the normal &quot;application.properties&quot; is not used anymore. \r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>I also have the same problem. Turned out I have the @PropertySource annotation set on the main Application class to read a different base properties file, so the normal \"application.properties\" is not used anymore. </p>\n"},{"tags":[],"owner":{"account_id":6755714,"reputation":31,"user_id":5204214,"display_name":"djuka"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1472050565,"creation_date":1458709143,"answer_id":36170175,"question_id":26881739,"body_markdown":"I had same problem and solved it with only this add:\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect","title":"Unable to get spring boot to automatically create database schema","body":"<p>I had same problem and solved it with only this add:</p>\n\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8467972,"reputation":89,"user_id":6351597,"display_name":"erickbhrener"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1471281973,"creation_date":1463582291,"answer_id":37302815,"question_id":26881739,"body_markdown":"If your entity class isn&#39;t in the same package as your main class, you can use `@EntityScan` annotation in the main class, specifying the Entity you want to save or package too. Like your model package.\r\n\r\nAbout:\r\n\r\n    spring.jpa.hibernate.ddl-auto = create\r\n\r\nYou can use the option `update`. It won&#39;t erase any data, and will create tables in the same way.","title":"Unable to get spring boot to automatically create database schema","body":"<p>If your entity class isn't in the same package as your main class, you can use <code>@EntityScan</code> annotation in the main class, specifying the Entity you want to save or package too. Like your model package.</p>\n\n<p>About:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto = create\n</code></pre>\n\n<p>You can use the option <code>update</code>. It won't erase any data, and will create tables in the same way.</p>\n"},{"tags":[],"owner":{"account_id":5812377,"reputation":31,"user_id":4583008,"display_name":"Saurabh Agrawal"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1472050575,"creation_date":1464292861,"answer_id":37469963,"question_id":26881739,"body_markdown":"Just add \r\n\r\n    spring.jpa.databaseplatform=org.hibernate.dialect.PostgreSQLDialect  \r\n\r\nat the end. This will solve your issue.\r\nOnly this was missing\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>Just add </p>\n\n<pre><code>spring.jpa.databaseplatform=org.hibernate.dialect.PostgreSQLDialect  \n</code></pre>\n\n<p>at the end. This will solve your issue.\nOnly this was missing</p>\n"},{"tags":[],"owner":{"account_id":5022615,"reputation":2004,"user_id":4035655,"accept_rate":25,"display_name":"Ar maj"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1489194056,"creation_date":1489194056,"answer_id":42730132,"question_id":26881739,"body_markdown":"    @SpringBootApplication\r\n    @EnableConfigurationProperties\r\n    @EntityScan(basePackages = {&quot;com.project.ppaa.model&quot;})  // scan JPA entities\r\n    public class Application {\r\n    \r\n      private static ConfigurableApplicationContext applicationContext;\r\n    \r\n      public static void main(String[] args) {\r\n        Application.applicationContext = SpringApplication.run(Application.class, args);\r\n      }\r\n    }\r\n\r\nit should work automatically but if it does not, you can enter the base package\r\n\r\n    @EntityScan(basePackages = {&quot;com.project.ppaa.model&quot;})  // scan JPA entities manually","title":"Unable to get spring boot to automatically create database schema","body":"<pre><code>@SpringBootApplication\n@EnableConfigurationProperties\n@EntityScan(basePackages = {\"com.project.ppaa.model\"})  // scan JPA entities\npublic class Application {\n\n  private static ConfigurableApplicationContext applicationContext;\n\n  public static void main(String[] args) {\n    Application.applicationContext = SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n\n<p>it should work automatically but if it does not, you can enter the base package</p>\n\n<pre><code>@EntityScan(basePackages = {\"com.project.ppaa.model\"})  // scan JPA entities manually\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2527555,"reputation":535,"user_id":2196607,"display_name":"Usman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500462311,"creation_date":1500390166,"answer_id":45170518,"question_id":26881739,"body_markdown":"    Use this Sample code\r\n    \r\n    application.properties\r\n    # DataSource settings: set here your own configurations for the database \r\n    # connection. In this example we have &quot;dojsb&quot; as database name and \r\n    # &quot;root&quot; as username and password.\r\n    spring.datasource.url =jdbc:postgresql://localhost:5432/usman\r\n    spring.datasource.username = postgres\r\n    spring.datasource.password = 12345\r\n    \r\n    # Keep the connection alive if idle for a long time (needed in production)\r\n    spring.datasource.testWhileIdle = true\r\n    spring.datasource.validationQuery = SELECT 1\r\n    \r\n    # Show or not log for each sql query\r\n    spring.jpa.show-sql = true\r\n    \r\n    # Hibernate ddl auto (create, create-drop, update)\r\n    spring.jpa.hibernate.ddl-auto = create\r\n    \r\n    # Naming strategy\r\n    spring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\n    \r\n    # Use spring.jpa.properties.* for Hibernate native properties (the prefix is\r\n    # stripped before adding them to the entity manager)\r\n    \r\n    # The SQL dialect makes Hibernate generate better SQL for the chosen database\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n    \r\n    server.port = 8963\r\n    \r\n    \r\n    \r\n    Entity Class:\r\n    \r\n    \r\n    \r\n    import java.sql.Timestamp;\r\n    import java.util.UUID;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    import org.hibernate.annotations.Type;\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;QUEUERECORDS&quot;)\r\n    public class QueuesRecords {\r\n    \t@Id\r\n    \tprivate UUID id;\r\n    \t\r\n    \t@Column(name=&quot;payload&quot;, nullable = true)\r\n    \t@Type(type=&quot;text&quot;)\r\n    \tprivate String payload;\r\n    \t\r\n    \t\r\n    \t@Column(name=&quot;status&quot;, nullable = true)\r\n    \t@Type(type=&quot;text&quot;)\r\n    \tprivate String status;\r\n    \t\r\n    \tprivate Timestamp starttime;\r\n    \r\n    \tprivate Timestamp endtime;\r\n    \t\r\n    \t@Column(name=&quot;queueid&quot;,nullable= true)\r\n    \t@Type(type=&quot;text&quot;)\r\n    \tprivate String queueid;\r\n    \r\n    \tpublic UUID getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(UUID id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getPayload() {\r\n    \t\treturn payload;\r\n    \t}\r\n    \r\n    \tpublic void setPayload(String payload) {\r\n    \t\tthis.payload = payload;\r\n    \t}\r\n    \r\n    \tpublic String getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \r\n    \tpublic void setStatus(String status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tpublic Timestamp getStarttime() {\r\n    \t\treturn starttime;\r\n    \t}\r\n    \r\n    \tpublic void setStarttime(Timestamp starttime) {\r\n    \t\tthis.starttime = starttime;\r\n    \t}\r\n    \r\n    \tpublic Timestamp getEndtime() {\r\n    \t\treturn endtime;\r\n    \t}\r\n    \r\n    \tpublic void setEndtime(Timestamp endtime) {\r\n    \t\tthis.endtime = endtime;\r\n    \t}\r\n    \r\n    \tpublic String getQueueid() {\r\n    \t\treturn queueid;\r\n    \t}\r\n    \r\n    \tpublic void setQueueid(String queueid) {\r\n    \t\tthis.queueid = queueid;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n    \r\n    \r\n    \r\n    Main class\r\n    \r\n    \r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    public class Test{\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tSpringApplication.run(Test.class, args);\r\n    \r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<pre><code>Use this Sample code\n\napplication.properties\n# DataSource settings: set here your own configurations for the database \n# connection. In this example we have \"dojsb\" as database name and \n# \"root\" as username and password.\nspring.datasource.url =jdbc:postgresql://localhost:5432/usman\nspring.datasource.username = postgres\nspring.datasource.password = 12345\n\n# Keep the connection alive if idle for a long time (needed in production)\nspring.datasource.testWhileIdle = true\nspring.datasource.validationQuery = SELECT 1\n\n# Show or not log for each sql query\nspring.jpa.show-sql = true\n\n# Hibernate ddl auto (create, create-drop, update)\nspring.jpa.hibernate.ddl-auto = create\n\n# Naming strategy\nspring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\n\n# Use spring.jpa.properties.* for Hibernate native properties (the prefix is\n# stripped before adding them to the entity manager)\n\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n\nserver.port = 8963\n\n\n\nEntity Class:\n\n\n\nimport java.sql.Timestamp;\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport org.hibernate.annotations.Type;\n\n\n@Entity\n@Table(name = \"QUEUERECORDS\")\npublic class QueuesRecords {\n    @Id\n    private UUID id;\n\n    @Column(name=\"payload\", nullable = true)\n    @Type(type=\"text\")\n    private String payload;\n\n\n    @Column(name=\"status\", nullable = true)\n    @Type(type=\"text\")\n    private String status;\n\n    private Timestamp starttime;\n\n    private Timestamp endtime;\n\n    @Column(name=\"queueid\",nullable= true)\n    @Type(type=\"text\")\n    private String queueid;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getPayload() {\n        return payload;\n    }\n\n    public void setPayload(String payload) {\n        this.payload = payload;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public Timestamp getStarttime() {\n        return starttime;\n    }\n\n    public void setStarttime(Timestamp starttime) {\n        this.starttime = starttime;\n    }\n\n    public Timestamp getEndtime() {\n        return endtime;\n    }\n\n    public void setEndtime(Timestamp endtime) {\n        this.endtime = endtime;\n    }\n\n    public String getQueueid() {\n        return queueid;\n    }\n\n    public void setQueueid(String queueid) {\n        this.queueid = queueid;\n    }\n\n\n\n}\n\n\n\nMain class\n\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class Test{\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(Test.class, args);\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11608559,"reputation":11,"user_id":8503404,"display_name":"lamarre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503454641,"creation_date":1503453379,"answer_id":45829462,"question_id":26881739,"body_markdown":"I had the same problem before. My problem was the Entity relationship I was trying to establish by using a &quot;List&quot;. I knew it was the cause because the program ran fine without the list variable. In your case, I think the problem is:\r\n\r\n\tprivate List&lt;Question&gt; _questions;\r\n\r\nI am assuming you already have a class named Question. So, try having:\r\n\r\n\t@OneToMany\r\n\tprivate Question _questions;\r\n\r\nBut the thing is, in your method, you are going to handle it so it return a list. I used Spring Data JPA with CrudRepository. So, if you decide to use it, yours may look like this:\r\n\r\n\tpublic List&lt;Question&gt; findById( Long _id );\r\n\r\nThere are more changes you will have to do, but these are pretty easy and straightforward. Refer to [this Java Brains video](https://www.youtube.com/watch?v=_Jnu_jHfQbM&amp;list=PLqq-6Pq4lTTbx8p2oCgcAQGQyqN8XeA1x&amp;index=31) to have a better grasp and see what else needs to be modified.","title":"Unable to get spring boot to automatically create database schema","body":"<p>I had the same problem before. My problem was the Entity relationship I was trying to establish by using a \"List\". I knew it was the cause because the program ran fine without the list variable. In your case, I think the problem is:</p>\n\n<pre><code>private List&lt;Question&gt; _questions;\n</code></pre>\n\n<p>I am assuming you already have a class named Question. So, try having:</p>\n\n<pre><code>@OneToMany\nprivate Question _questions;\n</code></pre>\n\n<p>But the thing is, in your method, you are going to handle it so it return a list. I used Spring Data JPA with CrudRepository. So, if you decide to use it, yours may look like this:</p>\n\n<pre><code>public List&lt;Question&gt; findById( Long _id );\n</code></pre>\n\n<p>There are more changes you will have to do, but these are pretty easy and straightforward. Refer to <a href=\"https://www.youtube.com/watch?v=_Jnu_jHfQbM&amp;list=PLqq-6Pq4lTTbx8p2oCgcAQGQyqN8XeA1x&amp;index=31\" rel=\"nofollow noreferrer\">this Java Brains video</a> to have a better grasp and see what else needs to be modified.</p>\n"},{"tags":[],"owner":{"account_id":4943581,"reputation":59,"user_id":3979648,"display_name":"Jayant Nayak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511366298,"creation_date":1511366298,"answer_id":47439006,"question_id":26881739,"body_markdown":"In my case the tables were not getting created automatically even though I was using JPArepository.\r\nAfter adding the below property in my springboot app application.properties file the tables are now getting created automatically.\r\n**spring.jpa.hibernate.ddl-auto=update**","title":"Unable to get spring boot to automatically create database schema","body":"<p>In my case the tables were not getting created automatically even though I was using JPArepository.\nAfter adding the below property in my springboot app application.properties file the tables are now getting created automatically.\n<strong>spring.jpa.hibernate.ddl-auto=update</strong></p>\n"},{"tags":[],"owner":{"account_id":13023604,"reputation":1,"user_id":9412202,"display_name":"Ansar Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519637486,"creation_date":1519634752,"answer_id":48984472,"question_id":26881739,"body_markdown":"Simple we are adding semicolon after &lt;br&gt;`spring.jpa.hibernate.ddl-auto = create;`&lt;br&gt;\r\nwhich is wrong &lt;br&gt;`spring.jpa.hibernate.ddl-auto = create` &lt;br&gt;enough","title":"Unable to get spring boot to automatically create database schema","body":"<p>Simple we are adding semicolon after <br><code>spring.jpa.hibernate.ddl-auto = create;</code><br>\nwhich is wrong <br><code>spring.jpa.hibernate.ddl-auto = create</code> <br>enough</p>\n"},{"tags":[],"owner":{"account_id":7430633,"reputation":258,"user_id":5651746,"display_name":"Taf"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1526939997,"creation_date":1526939997,"answer_id":50457117,"question_id":26881739,"body_markdown":"Using the following two settings does work.\r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=create","title":"Unable to get spring boot to automatically create database schema","body":"<p>Using the following two settings does work.</p>\n\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13715324,"reputation":191,"user_id":9896584,"display_name":"Philip Dilip"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528457058,"creation_date":1528457058,"answer_id":50759598,"question_id":26881739,"body_markdown":"You need to provide configurations considering your Spring Boot Version and the version of libraries it downloads based on the same.\r\n\r\nMy Setup: Spring Boot 1.5.x (1.5.10 in my case) downloads Hibernate v5.x\r\n---------------------------------------------------------------------\r\n\r\nUse below only if your Spring Boot setup has downloaded Hibernate v4.\r\n&gt; spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.ImprovedNamingStrategy\r\n\r\nHibernate 5 doesn&#39;t support above.\r\n\r\nIf your Spring Boot Setup has downloaded Hibernate v5.x, then prefer below definition:\r\n\r\n&gt; spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nIMPORTANT:\r\nIn your Spring Boot application development, you should prefer to use annotation: `@SpringBootApplication` which has been super-annotated with: `@SpringBootConfiguration and @EnableAutoConfiguration`\r\n\r\nNOW\r\nIf your entity classes are in different package than the package in which your Main Class resides, Spring Boot won&#39;t scan those packages.\r\n\r\nThus you need to explicitly define Annotation: `@EntityScan(basePackages = { &quot;com.springboot.entities&quot; })`&lt;br&gt;\r\nThis annotation scans JPA based annotated entity classes (and others like MongoDB, Cassandra etc) \r\n&lt;br&gt;\r\n\r\n**NOTE:** \r\n&quot;com.springboot.entities&quot; is the custom package name.&lt;br&gt;\r\n\r\nFollowing is the way I had defined Hibernate and JPA based properties at application.properties to create Tables:-\r\n\r\n&gt; spring.datasource.driver-class-name=com.mysql.jdbc.Driver&lt;br&gt;\r\n&gt; spring.datasource.url=jdbc:mysql://localhost:3333/development?useSSL=true\r\n&gt; spring.datasource.username=admin&lt;br&gt;\r\n&gt; spring.datasource.password=&lt;br&gt;\r\n&gt; \r\n&gt; spring.jpa.open-in-view=false&lt;br&gt;\r\n&gt; spring.jpa.hibernate.ddl-auto=create&lt;br&gt;\r\n&gt; spring.jpa.generate-ddl=true &lt;br&gt;\r\n&gt; spring.jpa.hibernate.use-new-id-generator-mappings=true&lt;br&gt;\r\n&gt; spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl&lt;br&gt;\r\n&gt; spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy&lt;br&gt;\r\n&gt; spring.jpa.show-sql=true&lt;br&gt;\r\n&gt; spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect&lt;br&gt;\r\n&gt; spring.jpa.properties.hibernate.format_sql=true&lt;br&gt;\r\n\r\nI am able to create tables using my above mentioned configuration.\r\n\r\nRefer it and change your code wherever applicable.","title":"Unable to get spring boot to automatically create database schema","body":"<p>You need to provide configurations considering your Spring Boot Version and the version of libraries it downloads based on the same.</p>\n\n<h2>My Setup: Spring Boot 1.5.x (1.5.10 in my case) downloads Hibernate v5.x</h2>\n\n<p>Use below only if your Spring Boot setup has downloaded Hibernate v4.</p>\n\n<blockquote>\n  <p>spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.ImprovedNamingStrategy</p>\n</blockquote>\n\n<p>Hibernate 5 doesn't support above.</p>\n\n<p>If your Spring Boot Setup has downloaded Hibernate v5.x, then prefer below definition:</p>\n\n<blockquote>\n  <p>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</p>\n</blockquote>\n\n<p>IMPORTANT:\nIn your Spring Boot application development, you should prefer to use annotation: <code>@SpringBootApplication</code> which has been super-annotated with: <code>@SpringBootConfiguration and @EnableAutoConfiguration</code></p>\n\n<p>NOW\nIf your entity classes are in different package than the package in which your Main Class resides, Spring Boot won't scan those packages.</p>\n\n<p>Thus you need to explicitly define Annotation: <code>@EntityScan(basePackages = { \"com.springboot.entities\" })</code><br>\nThis annotation scans JPA based annotated entity classes (and others like MongoDB, Cassandra etc) \n<br></p>\n\n<p><strong>NOTE:</strong> \n\"com.springboot.entities\" is the custom package name.<br></p>\n\n<p>Following is the way I had defined Hibernate and JPA based properties at application.properties to create Tables:-</p>\n\n<blockquote>\n  <p>spring.datasource.driver-class-name=com.mysql.jdbc.Driver<br>\n  spring.datasource.url=jdbc:mysql://localhost:3333/development?useSSL=true\n  spring.datasource.username=admin<br>\n  spring.datasource.password=<br></p>\n  \n  <p>spring.jpa.open-in-view=false<br>\n  spring.jpa.hibernate.ddl-auto=create<br>\n  spring.jpa.generate-ddl=true <br>\n  spring.jpa.hibernate.use-new-id-generator-mappings=true<br>\n  spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl<br>\n  spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy<br>\n  spring.jpa.show-sql=true<br>\n  spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect<br>\n  spring.jpa.properties.hibernate.format_sql=true<br></p>\n</blockquote>\n\n<p>I am able to create tables using my above mentioned configuration.</p>\n\n<p>Refer it and change your code wherever applicable.</p>\n"},{"tags":[],"owner":{"account_id":5407050,"reputation":611,"user_id":4305209,"display_name":"Abderrahmane BECHIKH"},"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1549298983,"creation_date":1536998842,"answer_id":52342880,"question_id":26881739,"body_markdown":"You just add `createDatabaseIfNotExist=true` like this\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test?createDatabaseIfNotExist=true&amp;amp;amp;useUnicode=true&amp;amp;amp;characterEncoding=utf-8&amp;amp;amp;autoReconnect=true\r\n\r\nto your application.properties file","title":"Unable to get spring boot to automatically create database schema","body":"<p>You just add <code>createDatabaseIfNotExist=true</code> like this</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test?createDatabaseIfNotExist=true&amp;amp;amp;useUnicode=true&amp;amp;amp;characterEncoding=utf-8&amp;amp;amp;autoReconnect=true\n</code></pre>\n\n<p>to your application.properties file</p>\n"},{"tags":[],"owner":{"account_id":14975507,"reputation":1,"user_id":11080956,"display_name":"Wendell Tufano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550519827,"creation_date":1550519827,"answer_id":54754477,"question_id":26881739,"body_markdown":"if your DB is MySQL:\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/your_database\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n\r\nif your DB is PostgreSQL:\r\n\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:postgresql://localhost:3306/your_database\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root","title":"Unable to get spring boot to automatically create database schema","body":"<p>if your DB is MySQL:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/your_database\nspring.datasource.username=root\nspring.datasource.password=root\n</code></pre>\n\n<p>if your DB is PostgreSQL:</p>\n\n<pre><code>spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:postgresql://localhost:3306/your_database\nspring.datasource.username=root\nspring.datasource.password=root\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8315755,"reputation":449,"user_id":6249116,"accept_rate":10,"display_name":"Camilo"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1552708559,"creation_date":1552708559,"answer_id":55193302,"question_id":26881739,"body_markdown":"Abderrahmane response is correct: add `?createDatabaseIfNotExist=true` in the url property.\r\nIt seems that `ddl-auto` won&#39;t do anything.","title":"Unable to get spring boot to automatically create database schema","body":"<p>Abderrahmane response is correct: add <code>?createDatabaseIfNotExist=true</code> in the url property.\nIt seems that <code>ddl-auto</code> won't do anything.</p>\n"},{"tags":[],"owner":{"account_id":3162994,"reputation":1345,"user_id":2673577,"accept_rate":0,"display_name":"asifaftab87"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1635052515,"creation_date":1553390678,"answer_id":55319941,"question_id":26881739,"body_markdown":"    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nMySQL5Dialect did trick, previously I was using &#39;MySQLDialect&#39;\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>MySQL5Dialect did trick, previously I was using 'MySQLDialect'</p>\n"},{"tags":[],"owner":{"account_id":14582994,"reputation":880,"user_id":10532751,"display_name":"Udith Indrakantha"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1558016920,"creation_date":1553842504,"answer_id":55411977,"question_id":26881739,"body_markdown":"This is what I did after reading all of the answers above.  \r\n\r\n 1. Add `spring.jpa.hibernate.ddl-auto=update` with other simple properties to *application.properties*\r\n 2. run \r\n 3. In the console, you can see the error. At one place in the error, you can find the SQL code generated by this software to create your entity table.\r\n 4. Copy that SQL code and paste it separately into your DBMS to create the table.\r\n 5. After that, run the app again.\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>This is what I did after reading all of the answers above.  </p>\n\n<ol>\n<li>Add <code>spring.jpa.hibernate.ddl-auto=update</code> with other simple properties to <em>application.properties</em></li>\n<li>run </li>\n<li>In the console, you can see the error. At one place in the error, you can find the SQL code generated by this software to create your entity table.</li>\n<li>Copy that SQL code and paste it separately into your DBMS to create the table.</li>\n<li>After that, run the app again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6330343,"reputation":1564,"user_id":4915436,"display_name":"Nitin Pawar"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1553942913,"creation_date":1553942913,"answer_id":55430655,"question_id":26881739,"body_markdown":"Just add **createDatabaseIfNotExist=true** parameter in spring datasource url\r\n\r\nExample: \r\nspring.datasource.url=\r\njdbc:mysql://localhost:3306/test?createDatabaseIfNotExist=true","title":"Unable to get spring boot to automatically create database schema","body":"<p>Just add <strong>createDatabaseIfNotExist=true</strong> parameter in spring datasource url</p>\n\n<p>Example: \nspring.datasource.url=\njdbc:mysql://localhost:3306/test?createDatabaseIfNotExist=true</p>\n"},{"tags":[],"owner":{"account_id":8244894,"reputation":145,"user_id":6201342,"display_name":"Jesus"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1576591888,"creation_date":1576591351,"answer_id":59375913,"question_id":26881739,"body_markdown":"I solved my case with this solution.\r\nDid just insert a new parameter **createDatabaseIfNotExist=true** on a **spring.datasource.url** property on an **application.properties** file, like this:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/minhasenha?autoReconnect=true&amp;useSSL=false&amp;createDatabaseIfNotExist=true\r\n\r\nI have the **src/main/resources/Schema.sql** with DDL to create the database schema. And I did use *flyaway* to create and maintain the tables.\r\n\r\nI founded this solution here:\r\n[original answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53630079/auto-database-creation-springboot-and-mysql","title":"Unable to get spring boot to automatically create database schema","body":"<p>I solved my case with this solution.\nDid just insert a new parameter <strong>createDatabaseIfNotExist=true</strong> on a <strong>spring.datasource.url</strong> property on an <strong>application.properties</strong> file, like this:</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/minhasenha?autoReconnect=true&amp;useSSL=false&amp;createDatabaseIfNotExist=true\n</code></pre>\n\n<p>I have the <strong>src/main/resources/Schema.sql</strong> with DDL to create the database schema. And I did use <em>flyaway</em> to create and maintain the tables.</p>\n\n<p>I founded this solution here:\n<a href=\"https://stackoverflow.com/questions/53630079/auto-database-creation-springboot-and-mysql\">original answer</a></p>\n"},{"tags":[],"owner":{"account_id":459077,"reputation":1090,"user_id":859330,"display_name":"CanCoder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1583452943,"creation_date":1583452943,"answer_id":60555713,"question_id":26881739,"body_markdown":"Sadly for me none of the answer given above worked because I later discovered that the issue came from my ```pom``` file. I used spring boot starter project and I added another kind of spring jpa which did not work.\r\nInitially I had this,\r\n     \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt; \r\nI replaced it with this:\r\n\r\n       &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t   &lt;/dependency&gt; \r\n\r\nTake note of the **spring-boot-starter-data-jpa**. Hopefully this may help someone. Check your pom file and ensure your dependencies match.","title":"Unable to get spring boot to automatically create database schema","body":"<p>Sadly for me none of the answer given above worked because I later discovered that the issue came from my <code>pom</code> file. I used spring boot starter project and I added another kind of spring jpa which did not work.\nInitially I had this,</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt; \n</code></pre>\n\n<p>I replaced it with this:</p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n   &lt;/dependency&gt; \n</code></pre>\n\n<p>Take note of the <strong>spring-boot-starter-data-jpa</strong>. Hopefully this may help someone. Check your pom file and ensure your dependencies match.</p>\n"},{"tags":[],"owner":{"account_id":5828507,"reputation":890,"user_id":4593944,"display_name":"Daniel Reis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585510601,"creation_date":1585510601,"answer_id":60919750,"question_id":26881739,"body_markdown":"The configurations below worked for me:\r\n\r\n    spring.jpa.properties.javax.persistence.schema-generation.database.action=create\r\n    spring.jpa.properties.javax.persistence.schema-generation.create-database-schemas=true\r\n    spring.jpa.properties.javax.persistence.schema-generation.create-source=metadata\r\n    spring.jpa.properties.javax.persistence.schema-generation.drop-source=metadata\r\n    spring.jpa.properties.javax.persistence.schema-generation.connection=jdbc:mysql://localhost:3306/your_database\r\n\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>The configurations below worked for me:</p>\n\n<pre><code>spring.jpa.properties.javax.persistence.schema-generation.database.action=create\nspring.jpa.properties.javax.persistence.schema-generation.create-database-schemas=true\nspring.jpa.properties.javax.persistence.schema-generation.create-source=metadata\nspring.jpa.properties.javax.persistence.schema-generation.drop-source=metadata\nspring.jpa.properties.javax.persistence.schema-generation.connection=jdbc:mysql://localhost:3306/your_database\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5315610,"reputation":11,"user_id":4240617,"display_name":"Abhigyan Chatterjee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586185614,"creation_date":1586185614,"answer_id":61062854,"question_id":26881739,"body_markdown":"I ran into a similar problem. I&#39;m using spring boot 2.x and I missed to add Postgres dependency at spring initializer.\r\nI added the dependency manually\r\n       \r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n and here is what I was getting-\r\n    **INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: \r\n    org.hibernate.dialect.PostgreSQLDialect** \r\ninstead of\r\n \r\n    **INFO  org.hibernate.dialect.Dialect - HHH000400: Using \r\n    dialect:org.hibernate.dialect.PostgreSQL10Dialect**\r\n\r\n\r\nThis connected me to the DB\r\n\r\nIt&#39;s not so weird because Springboot does version dependency by itself and reduces the development work. On the flip side, if Springboot chooses incorrect dependency, it wastes a lot many hours.\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>I ran into a similar problem. I'm using spring boot 2.x and I missed to add Postgres dependency at spring initializer.\nI added the dependency manually</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n&lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and here is what I was getting-\n    <strong>INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: \n    org.hibernate.dialect.PostgreSQLDialect</strong> \ninstead of</p>\n\n<pre><code>**INFO  org.hibernate.dialect.Dialect - HHH000400: Using \ndialect:org.hibernate.dialect.PostgreSQL10Dialect**\n</code></pre>\n\n<p>This connected me to the DB</p>\n\n<p>It's not so weird because Springboot does version dependency by itself and reduces the development work. On the flip side, if Springboot chooses incorrect dependency, it wastes a lot many hours.</p>\n"},{"tags":[],"owner":{"account_id":7029858,"reputation":121,"user_id":5385988,"display_name":"Erdem İnan&#231;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591038213,"creation_date":1591038213,"answer_id":62139178,"question_id":26881739,"body_markdown":"If you had this problem on Spring Boot, double check your package names which should be exactly like:\r\n\r\n\r\n    com.example.YOURPROJECTNAME - consists main application class\r\n    com.example.YOURPROJECTNAME.entity - consists entities\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>If you had this problem on Spring Boot, double check your package names which should be exactly like:</p>\n\n<pre><code>com.example.YOURPROJECTNAME - consists main application class\ncom.example.YOURPROJECTNAME.entity - consists entities\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19046547,"reputation":1,"user_id":13905600,"display_name":"Shivam Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594384381,"creation_date":1594384034,"answer_id":62834327,"question_id":26881739,"body_markdown":"to connect to mysql with springboot as well as creating table automatically into database:\r\n`spring.datasource.url=jdbc:mysql://localhost:3306/solace      spring.datasource.username=root                                        \r\n           spring.datasource.password=root                                                   \r\nspring.jpa.generate-ddl=true                                                        \r\nspring.jpa.hibernate.ddl-auto=update`\r\n","title":"Unable to get spring boot to automatically create database schema","body":"<p>to connect to mysql with springboot as well as creating table automatically into database:\n<code>spring.datasource.url=jdbc:mysql://localhost:3306/solace      spring.datasource.username=root                                         spring.datasource.password=root                                                    spring.jpa.generate-ddl=true                                                         spring.jpa.hibernate.ddl-auto=update</code></p>\n"},{"tags":[],"owner":{"account_id":9150719,"reputation":3537,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1609348965,"creation_date":1608671036,"answer_id":65415793,"question_id":26881739,"body_markdown":"In my case I had to rename the table with name `user`. I renamed it for example `users` and it worked.","title":"Unable to get spring boot to automatically create database schema","body":"<p>In my case I had to rename the table with name <code>user</code>. I renamed it for example <code>users</code> and it worked.</p>\n"},{"tags":[],"owner":{"account_id":14022495,"reputation":83,"user_id":10128401,"display_name":"Vinicius Tirabassi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1615480973,"creation_date":1615480973,"answer_id":66586782,"question_id":26881739,"body_markdown":"i haved the same problem, but i add \r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto = create\r\n```\r\n\r\nand everthing it is worked now","title":"Unable to get spring boot to automatically create database schema","body":"<p>i haved the same problem, but i add</p>\n<pre><code>spring.jpa.hibernate.ddl-auto = create\n</code></pre>\n<p>and everthing it is worked now</p>\n"},{"tags":[],"owner":{"account_id":16748819,"reputation":392,"user_id":12106367,"display_name":"Flash Noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627487618,"creation_date":1627487618,"answer_id":68563630,"question_id":26881739,"body_markdown":"this one helped me\r\n\r\n**i assume you have INNODB engine:**\r\n\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\r\n\r\n    spring.jpa.properties.hibernate.dialect.storage_engine=innodb","title":"Unable to get spring boot to automatically create database schema","body":"<p>this one helped me</p>\n<p><strong>i assume you have INNODB engine:</strong></p>\n<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\n\nspring.jpa.properties.hibernate.dialect.storage_engine=innodb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659721664,"creation_date":1659721664,"answer_id":73253589,"question_id":26881739,"body_markdown":"With Mysql-8.x use : \r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect instead MySQL5Dialect","title":"Unable to get spring boot to automatically create database schema","body":"<p>With Mysql-8.x use :\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect instead MySQL5Dialect</p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661884932,"creation_date":1661884932,"answer_id":73547131,"question_id":26881739,"body_markdown":"I solved it by adding \r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.defer-datasource-initialization=true","title":"Unable to get spring boot to automatically create database schema","body":"<p>I solved it by adding</p>\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.defer-datasource-initialization=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11144873,"reputation":147,"user_id":8180023,"display_name":"kosteklvp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674851564,"creation_date":1674851564,"answer_id":75263084,"question_id":26881739,"body_markdown":"In my case, it was caused by using a deprecated library. I found this in console:\r\n\r\n    Encountered deprecated setting [javax.persistence], use [jakarta.persistence] instead.\r\n\r\nChanging imports from `javax.persistence` to `jakarta.persistence` resolved this issue.","title":"Unable to get spring boot to automatically create database schema","body":"<p>In my case, it was caused by using a deprecated library. I found this in console:</p>\n<pre><code>Encountered deprecated setting [javax.persistence], use [jakarta.persistence] instead.\n</code></pre>\n<p>Changing imports from <code>javax.persistence</code> to <code>jakarta.persistence</code> resolved this issue.</p>\n"},{"tags":[],"owner":{"account_id":20614196,"reputation":21,"user_id":15132700,"display_name":"Ahmed Elnoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676053385,"creation_date":1676053385,"answer_id":75414793,"question_id":26881739,"body_markdown":"2023 update \r\nPlease use the database url for JDBC without any extra parameters \r\n\r\n`spring.datasource.url=jdbc:mysql://localhost:3306/yourdatabase\r\n`","title":"Unable to get spring boot to automatically create database schema","body":"<p>2023 update\nPlease use the database url for JDBC without any extra parameters</p>\n<p><code>spring.datasource.url=jdbc:mysql://localhost:3306/yourdatabase </code></p>\n"}],"owner":{"account_id":3678851,"reputation":1603,"user_id":3064251,"display_name":"napentathol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514574,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":26902713,"answer_count":32,"score":138,"last_activity_date":1691177788,"creation_date":1415778420,"question_id":26881739,"body_markdown":"I&#39;m unable to get spring boot to automatically load my database schema when I start it up.\r\n\r\nHere is my application.properties:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username=test\r\n    spring.datasource.password=\r\n    spring.datasource.driverClassName = com.mysql.jdbc.Driver\r\n    \r\n    spring.jpa.database = MYSQL\r\n    \r\n    spring.jpa.show-sql = true\r\n    \r\n    spring.jpa.hibernate.ddl-auto = create\r\n    spring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\n\r\nHere is my Application.java:\r\n\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    public class Application {\r\n        public static void main(final String[] args){\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nHere is a sample entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;survey&quot;)\r\n    public class Survey implements Serializable {\r\n    \r\n        private Long _id;\r\n    \r\n        private String _name;\r\n    \r\n        private List&lt;Question&gt; _questions;\r\n    \r\n        /**\r\n         * @return survey&#39;s id.\r\n         */\r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        @Column(name = &quot;survey_id&quot;, unique = true, nullable = false)\r\n        public Long getId() {\r\n            return _id;\r\n        }\r\n    \r\n        /**\r\n         * @return the survey name.\r\n         */\r\n        @Column(name = &quot;name&quot;)\r\n        public String getName() {\r\n            return _name;\r\n        }\r\n    \r\n    \r\n        /**\r\n         * @return a list of survey questions.\r\n         */\r\n        @OneToMany(mappedBy = &quot;survey&quot;)\r\n        @OrderBy(&quot;id&quot;)\r\n        public List&lt;Question&gt; getQuestions() {\r\n            return _questions;\r\n        }\r\n    \r\n        /**\r\n         * @param id the id to set to.\r\n         */\r\n        public void setId(Long id) {\r\n            _id = id;\r\n        }\r\n    \r\n        /**\r\n         * @param name the name for the question.\r\n         */\r\n        public void setName(final String name) {\r\n            _name = name;\r\n        }\r\n    \r\n        /**\r\n         * @param questions list of questions to set.\r\n         */\r\n        public void setQuestions(List&lt;Question&gt; questions) {\r\n            _questions = questions;\r\n        }\r\n    }\r\n\r\nAny ideas what I&#39;m doing wrong?","title":"Unable to get spring boot to automatically create database schema","body":"<p>I'm unable to get spring boot to automatically load my database schema when I start it up.</p>\n\n<p>Here is my application.properties:</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=test\nspring.datasource.password=\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\n\nspring.jpa.database = MYSQL\n\nspring.jpa.show-sql = true\n\nspring.jpa.hibernate.ddl-auto = create\nspring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\n</code></pre>\n\n<p>Here is my Application.java:</p>\n\n<pre><code>@EnableAutoConfiguration\n@ComponentScan\npublic class Application {\n    public static void main(final String[] args){\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>Here is a sample entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"survey\")\npublic class Survey implements Serializable {\n\n    private Long _id;\n\n    private String _name;\n\n    private List&lt;Question&gt; _questions;\n\n    /**\n     * @return survey's id.\n     */\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    @Column(name = \"survey_id\", unique = true, nullable = false)\n    public Long getId() {\n        return _id;\n    }\n\n    /**\n     * @return the survey name.\n     */\n    @Column(name = \"name\")\n    public String getName() {\n        return _name;\n    }\n\n\n    /**\n     * @return a list of survey questions.\n     */\n    @OneToMany(mappedBy = \"survey\")\n    @OrderBy(\"id\")\n    public List&lt;Question&gt; getQuestions() {\n        return _questions;\n    }\n\n    /**\n     * @param id the id to set to.\n     */\n    public void setId(Long id) {\n        _id = id;\n    }\n\n    /**\n     * @param name the name for the question.\n     */\n    public void setName(final String name) {\n        _name = name;\n    }\n\n    /**\n     * @param questions list of questions to set.\n     */\n    public void setQuestions(List&lt;Question&gt; questions) {\n        _questions = questions;\n    }\n}\n</code></pre>\n\n<p>Any ideas what I'm doing wrong?</p>\n"},{"tags":["java","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":1150708,"reputation":1718,"user_id":1132499,"accept_rate":89,"display_name":"Ocracoke"},"down_vote_count":9,"up_vote_count":89,"is_accepted":true,"score":80,"last_activity_date":1476278196,"creation_date":1330017416,"answer_id":9417836,"question_id":9417356,"body_markdown":"*Updated answer*\r\n\r\nI cannot recall why [my original answer][1] worked but having tested it in a separate environment, I agree, the original accepted answer doesn&#39;t work (why I said it did I cannot remember either). This, on the other hand, did work:\r\n\r\n    public static BufferedImage resize(BufferedImage img, int newW, int newH) { \r\n\t\tImage tmp = img.getScaledInstance(newW, newH, Image.SCALE_SMOOTH);\r\n\t\tBufferedImage dimg = new BufferedImage(newW, newH, BufferedImage.TYPE_INT_ARGB);\r\n\t\t\r\n\t\tGraphics2D g2d = dimg.createGraphics();\r\n\t\tg2d.drawImage(tmp, 0, 0, null);\r\n\t\tg2d.dispose();\r\n\t\t\r\n\t\treturn dimg;\r\n\t}  \r\n\r\n\r\n  [1]: https://stackoverflow.com/revisions/9417836/1","title":"Bufferedimage resize","body":"<p><em>Updated answer</em></p>\n\n<p>I cannot recall why <a href=\"https://stackoverflow.com/revisions/9417836/1\">my original answer</a> worked but having tested it in a separate environment, I agree, the original accepted answer doesn't work (why I said it did I cannot remember either). This, on the other hand, did work:</p>\n\n<pre><code>public static BufferedImage resize(BufferedImage img, int newW, int newH) { \n    Image tmp = img.getScaledInstance(newW, newH, Image.SCALE_SMOOTH);\n    BufferedImage dimg = new BufferedImage(newW, newH, BufferedImage.TYPE_INT_ARGB);\n\n    Graphics2D g2d = dimg.createGraphics();\n    g2d.drawImage(tmp, 0, 0, null);\n    g2d.dispose();\n\n    return dimg;\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1331740923,"creation_date":1330017835,"answer_id":9417963,"question_id":9417356,"body_markdown":"If all that is required is to resize a `BufferedImage` in the `resize` method, then the [Thumbnailator][1] library can do that fairly easily:\r\n\r\n    public static BufferedImage resize(BufferedImage img, int newW, int newH) {\r\n      return Thumbnails.of(img).size(newW, newH).asBufferedImage();\r\n    }\r\n\r\nThe above code will resize the `img` to fit the dimensions of `newW` and `newH` while maintaining the aspect ratio of the original image.\r\n\r\nIf maintaining the aspect ratio is not required and resizing to exactly the given dimensions is required, then the `forceSize` method can be used in place of the `size` method:\r\n\r\n    public static BufferedImage resize(BufferedImage img, int newW, int newH) {\r\n      return Thumbnails.of(img).forceSize(newW, newH).asBufferedImage();\r\n    }\r\n\r\n---\r\n\r\nUsing the [`Image.getScaledInstance`][2] method will not guarantee that the aspect ratio of the original image will be maintained for the resized image, and furthermore, it is in general very slow.\r\n\r\nThumbnailator uses a technique to progressively resize the image which can be [several times faster than `Image.getScaledInstance`][3] while achieving an image quality which generally is comparable.\r\n\r\n*Disclaimer: I am the maintainer of this library.*\r\n\r\n\r\n  [1]: http://code.google.com/p/thumbnailator/\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/awt/Image.html#getScaledInstance%28int,%20int,%20int%29\r\n  [3]: http://code.google.com/p/thumbnailator/wiki/Comparison","title":"Bufferedimage resize","body":"<p>If all that is required is to resize a <code>BufferedImage</code> in the <code>resize</code> method, then the <a href=\"http://code.google.com/p/thumbnailator/\" rel=\"noreferrer\">Thumbnailator</a> library can do that fairly easily:</p>\n\n<pre><code>public static BufferedImage resize(BufferedImage img, int newW, int newH) {\n  return Thumbnails.of(img).size(newW, newH).asBufferedImage();\n}\n</code></pre>\n\n<p>The above code will resize the <code>img</code> to fit the dimensions of <code>newW</code> and <code>newH</code> while maintaining the aspect ratio of the original image.</p>\n\n<p>If maintaining the aspect ratio is not required and resizing to exactly the given dimensions is required, then the <code>forceSize</code> method can be used in place of the <code>size</code> method:</p>\n\n<pre><code>public static BufferedImage resize(BufferedImage img, int newW, int newH) {\n  return Thumbnails.of(img).forceSize(newW, newH).asBufferedImage();\n}\n</code></pre>\n\n<hr>\n\n<p>Using the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/Image.html#getScaledInstance%28int,%20int,%20int%29\" rel=\"noreferrer\"><code>Image.getScaledInstance</code></a> method will not guarantee that the aspect ratio of the original image will be maintained for the resized image, and furthermore, it is in general very slow.</p>\n\n<p>Thumbnailator uses a technique to progressively resize the image which can be <a href=\"http://code.google.com/p/thumbnailator/wiki/Comparison\" rel=\"noreferrer\">several times faster than <code>Image.getScaledInstance</code></a> while achieving an image quality which generally is comparable.</p>\n\n<p><em>Disclaimer: I am the maintainer of this library.</em></p>\n"},{"tags":[],"owner":{"account_id":2003593,"reputation":1131,"user_id":1794049,"accept_rate":56,"display_name":"Frizz1977"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1441180972,"creation_date":1383897729,"answer_id":19854162,"question_id":9417356,"body_markdown":"This class resize from a file and get the format name:\r\n\r\n    \r\n\timport java.awt.Image;\r\n\timport java.awt.image.BufferedImage;\r\n\timport java.io.ByteArrayOutputStream;\r\n\timport java.io.File;\r\n\timport java.io.FileInputStream;\r\n\timport java.io.FileOutputStream;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStream;\r\n\timport java.util.Iterator;\r\n\timport javax.imageio.ImageIO;\r\n\timport javax.imageio.ImageReader;\r\n\timport javax.imageio.ImageWriter;\r\n\timport javax.imageio.stream.ImageInputStream;\r\n\timport org.apache.commons.io.IOUtils;\r\n\r\n\tpublic class ImageResizer {\r\n\r\n\tpublic static void main(String as[]) throws IOException{\r\n\r\n\t\tFile f = new File(&quot;C:/Users/samsungrob/Desktop/shuttle.jpg&quot;);\r\n\t\t\r\n\t\tbyte[] ba = resize(f, 600, 600);\r\n\t\t\r\n\t\tIOUtils.write(ba, new FileOutputStream( new File(&quot;C:/Users/samsungrob/Desktop/shuttle_resized.jpg&quot;) ) );\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\r\n \r\n\tpublic static byte[] resize(File file,\r\n\t\t\t\t\t\t\t\tint maxWidth, int maxHeight) throws IOException{\r\n\t\tint scaledWidth = 0, scaledHeight = 0;\r\n\t\t\r\n\t\tBufferedImage img = ImageIO.read((ImageInputStream) file );\r\n\t\t\r\n\t\tscaledWidth = maxWidth;\r\n\t\tscaledHeight = (int) (img.getHeight() * ( (double) scaledWidth / img.getWidth() ));\r\n\t\t\r\n\t\tif (scaledHeight&gt; maxHeight) {\r\n\t\t\tscaledHeight = maxHeight;\r\n\t\t\tscaledWidth= (int) (img.getWidth() * ( (double) scaledHeight/ img.getHeight() ));\r\n\t\t\t\r\n\t\t\tif (scaledWidth &gt; maxWidth) {\r\n\t\t\t\tscaledWidth = maxWidth;\r\n\t\t\t\tscaledHeight = maxHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tImage resized =  img.getScaledInstance( scaledWidth, scaledHeight, Image.SCALE_SMOOTH);\r\n\t\t \r\n\t\tBufferedImage buffered = new BufferedImage(scaledWidth, scaledHeight, Image.SCALE_REPLICATE);\r\n\t\t\r\n\t\tbuffered.getGraphics().drawImage(resized, 0, 0 , null);\r\n\t\t\r\n\t\tString formatName = getFormatName( file ) ;\r\n\t\t\r\n\t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\t\t\r\n\t\tImageIO.write(buffered,\r\n\t\t\t\tformatName,\r\n\t\t\t\tout);\r\n\t\t\r\n\t\treturn out.toByteArray();\r\n\t}\r\n\t\r\n\t\r\n\tprivate static String getFormatName(ImageInputStream iis) {\r\n\t    try { \r\n \r\n\t        // Find all image readers that recognize the image format\r\n\t        Iterator iter = ImageIO.getImageReaders(iis);\r\n\t        if (!iter.hasNext()) {\r\n\t            // No readers found\r\n\t            return null;\r\n\t        }\r\n\r\n\t        // Use the first reader\r\n\t        ImageReader reader = (ImageReader)iter.next();\r\n\r\n\t        // Close stream\r\n\t        iis.close();\r\n\r\n\t        // Return the format name\r\n\t        return reader.getFormatName();\r\n\t    } catch (IOException e) {\r\n\t    }\r\n\r\n\t    return null;\r\n\t}\r\n\t\r\n\tprivate static String getFormatName(File file) throws IOException {\r\n\t\treturn getFormatName( ImageIO.createImageInputStream(file) );\r\n\t}\r\n\t\r\n\tprivate static String getFormatName(InputStream is) throws IOException {\r\n\t\treturn getFormatName( ImageIO.createImageInputStream(is) );\r\n\t}\r\n}\r\n","title":"Bufferedimage resize","body":"<p>This class resize from a file and get the format name:</p>\n\n<pre><code>import java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Iterator;\nimport javax.imageio.ImageIO;\nimport javax.imageio.ImageReader;\nimport javax.imageio.ImageWriter;\nimport javax.imageio.stream.ImageInputStream;\nimport org.apache.commons.io.IOUtils;\n\npublic class ImageResizer {\n\npublic static void main(String as[]) throws IOException{\n\n    File f = new File(\"C:/Users/samsungrob/Desktop/shuttle.jpg\");\n\n    byte[] ba = resize(f, 600, 600);\n\n    IOUtils.write(ba, new FileOutputStream( new File(\"C:/Users/samsungrob/Desktop/shuttle_resized.jpg\") ) );\n\n}\n\n\n\n\npublic static byte[] resize(File file,\n                            int maxWidth, int maxHeight) throws IOException{\n    int scaledWidth = 0, scaledHeight = 0;\n\n    BufferedImage img = ImageIO.read((ImageInputStream) file );\n\n    scaledWidth = maxWidth;\n    scaledHeight = (int) (img.getHeight() * ( (double) scaledWidth / img.getWidth() ));\n\n    if (scaledHeight&gt; maxHeight) {\n        scaledHeight = maxHeight;\n        scaledWidth= (int) (img.getWidth() * ( (double) scaledHeight/ img.getHeight() ));\n\n        if (scaledWidth &gt; maxWidth) {\n            scaledWidth = maxWidth;\n            scaledHeight = maxHeight;\n        }\n    }\n\n    Image resized =  img.getScaledInstance( scaledWidth, scaledHeight, Image.SCALE_SMOOTH);\n\n    BufferedImage buffered = new BufferedImage(scaledWidth, scaledHeight, Image.SCALE_REPLICATE);\n\n    buffered.getGraphics().drawImage(resized, 0, 0 , null);\n\n    String formatName = getFormatName( file ) ;\n\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n\n    ImageIO.write(buffered,\n            formatName,\n            out);\n\n    return out.toByteArray();\n}\n\n\nprivate static String getFormatName(ImageInputStream iis) {\n    try { \n\n        // Find all image readers that recognize the image format\n        Iterator iter = ImageIO.getImageReaders(iis);\n        if (!iter.hasNext()) {\n            // No readers found\n            return null;\n        }\n\n        // Use the first reader\n        ImageReader reader = (ImageReader)iter.next();\n\n        // Close stream\n        iis.close();\n\n        // Return the format name\n        return reader.getFormatName();\n    } catch (IOException e) {\n    }\n\n    return null;\n}\n\nprivate static String getFormatName(File file) throws IOException {\n    return getFormatName( ImageIO.createImageInputStream(file) );\n}\n\nprivate static String getFormatName(InputStream is) throws IOException {\n    return getFormatName( ImageIO.createImageInputStream(is) );\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2074030,"reputation":2418,"user_id":1847899,"display_name":"Alexander Sidikov Pfeif"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1691177591,"creation_date":1386321634,"answer_id":20420186,"question_id":9417356,"body_markdown":"try the imgscalr library. Best lib i found- very fast, good quality and simple to use\r\n\r\n    BufferedImage thumbnail = Scalr.resize(image, 150);\r\n\r\n\r\nhttps://github.com/rkalla/imgscalr\r\n\r\n\r\n\r\n&gt;  Apache 2 License","title":"Bufferedimage resize","body":"<p>try the imgscalr library. Best lib i found- very fast, good quality and simple to use</p>\n<pre><code>BufferedImage thumbnail = Scalr.resize(image, 150);\n</code></pre>\n<p><a href=\"https://github.com/rkalla/imgscalr\" rel=\"nofollow noreferrer\">https://github.com/rkalla/imgscalr</a></p>\n<blockquote>\n<p>Apache 2 License</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4517379,"reputation":11,"user_id":3671785,"display_name":"Kiran_Pawar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411387950,"creation_date":1411386582,"answer_id":25973418,"question_id":9417356,"body_markdown":"Check this out, it helps:\r\n\r\n    BufferedImage bImage = ImageIO.read(new File(C:\\image.jpg);\r\n    \r\n    BufferedImage thumbnail = Scalr.resize(bImage,  Scalr.Method.SPEED, Scalr.Mode.FIT_TO_WIDTH,\r\n    \t\t\t\t\t\t               750, 150, Scalr.OP_ANTIALIAS);","title":"Bufferedimage resize","body":"<p>Check this out, it helps:</p>\n\n<pre><code>BufferedImage bImage = ImageIO.read(new File(C:\\image.jpg);\n\nBufferedImage thumbnail = Scalr.resize(bImage,  Scalr.Method.SPEED, Scalr.Mode.FIT_TO_WIDTH,\n                                       750, 150, Scalr.OP_ANTIALIAS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7853264,"reputation":103,"user_id":5936049,"display_name":"rlbaker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498574030,"creation_date":1498574030,"answer_id":44783005,"question_id":9417356,"body_markdown":"Here&#39;s some code that I have used to resize bufferedimages, no frills, pretty quick:\r\n\r\n    public static BufferedImage scale(BufferedImage src, int w, int h)\r\n\t{\r\n\t\tBufferedImage img = \r\n\t\t\t\tnew BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\r\n\t\tint x, y;\r\n\t\tint ww = src.getWidth();\r\n\t\tint hh = src.getHeight();\r\n\t\tint[] ys = new int[h];\r\n\t\tfor (y = 0; y &lt; h; y++)\r\n\t\t\tys[y] = y * hh / h;\r\n\t\tfor (x = 0; x &lt; w; x++) {\r\n\t\t\tint newX = x * ww / w;\r\n\t\t\tfor (y = 0; y &lt; h; y++) {\r\n\t\t\t\tint col = src.getRGB(newX, ys[y]);\r\n\t\t\t\timg.setRGB(x, y, col);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn img;\r\n\t}\r\n","title":"Bufferedimage resize","body":"<p>Here's some code that I have used to resize bufferedimages, no frills, pretty quick:</p>\n\n<pre><code>public static BufferedImage scale(BufferedImage src, int w, int h)\n{\n    BufferedImage img = \n            new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\n    int x, y;\n    int ww = src.getWidth();\n    int hh = src.getHeight();\n    int[] ys = new int[h];\n    for (y = 0; y &lt; h; y++)\n        ys[y] = y * hh / h;\n    for (x = 0; x &lt; w; x++) {\n        int newX = x * ww / w;\n        for (y = 0; y &lt; h; y++) {\n            int col = src.getRGB(newX, ys[y]);\n            img.setRGB(x, y, col);\n        }\n    }\n    return img;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14832834,"reputation":41,"user_id":10711872,"display_name":"Clint"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543325479,"creation_date":1543325479,"answer_id":53500868,"question_id":9417356,"body_markdown":"This is a shortened version of what is actually happening in imgscalr, if you just want to use the &quot;balanced&quot; smoothing:\r\n\r\n    /**\r\n     * Takes a BufferedImage and resizes it according to the provided targetSize\r\n     *\r\n     * @param src the source BufferedImage\r\n     * @param targetSize maximum height (if portrait) or width (if landscape)\r\n     * @return a resized version of the provided BufferedImage\r\n     */\r\n    private BufferedImage resize(BufferedImage src, int targetSize) {\r\n        if (targetSize &lt;= 0) {\r\n            return src; //this can&#39;t be resized\r\n        }\r\n        int targetWidth = targetSize;\r\n        int targetHeight = targetSize;\r\n        float ratio = ((float) src.getHeight() / (float) src.getWidth());\r\n        if (ratio &lt;= 1) { //square or landscape-oriented image\r\n            targetHeight = (int) Math.ceil((float) targetWidth * ratio);\r\n        } else { //portrait image\r\n            targetWidth = Math.round((float) targetHeight / ratio);\r\n        }\r\n        BufferedImage bi = new BufferedImage(targetWidth, targetHeight, src.getTransparency() == Transparency.OPAQUE ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2d = bi.createGraphics();\r\n        g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR); //produces a balanced resizing (fast and decent quality)\r\n        g2d.drawImage(src, 0, 0, targetWidth, targetHeight, null);\r\n        g2d.dispose();\r\n        return bi;\r\n    }","title":"Bufferedimage resize","body":"<p>This is a shortened version of what is actually happening in imgscalr, if you just want to use the \"balanced\" smoothing:</p>\n\n<pre><code>/**\n * Takes a BufferedImage and resizes it according to the provided targetSize\n *\n * @param src the source BufferedImage\n * @param targetSize maximum height (if portrait) or width (if landscape)\n * @return a resized version of the provided BufferedImage\n */\nprivate BufferedImage resize(BufferedImage src, int targetSize) {\n    if (targetSize &lt;= 0) {\n        return src; //this can't be resized\n    }\n    int targetWidth = targetSize;\n    int targetHeight = targetSize;\n    float ratio = ((float) src.getHeight() / (float) src.getWidth());\n    if (ratio &lt;= 1) { //square or landscape-oriented image\n        targetHeight = (int) Math.ceil((float) targetWidth * ratio);\n    } else { //portrait image\n        targetWidth = Math.round((float) targetHeight / ratio);\n    }\n    BufferedImage bi = new BufferedImage(targetWidth, targetHeight, src.getTransparency() == Transparency.OPAQUE ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB);\n    Graphics2D g2d = bi.createGraphics();\n    g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR); //produces a balanced resizing (fast and decent quality)\n    g2d.drawImage(src, 0, 0, targetWidth, targetHeight, null);\n    g2d.dispose();\n    return bi;\n}\n</code></pre>\n"}],"owner":{"account_id":1057872,"reputation":957,"user_id":1060187,"accept_rate":53,"display_name":"user1060187"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123687,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":9417836,"answer_count":7,"score":55,"last_activity_date":1691177591,"creation_date":1330015650,"question_id":9417356,"body_markdown":"I am trying to resized a bufferedimage. I am able to store it and show up on a jframe no problems but I can&#39;t seem to resize it. Any tips on how I can change this to make it work and show the image as a 200*200 file would be great    \r\n\r\n    private void profPic(){\r\n        String path = factory.getString(&quot;bottle&quot;);\r\n        BufferedImage img = ImageIO.read(new File(path));\r\n    }\r\n\r\n\r\n    public static BufferedImage resize(BufferedImage img, int newW, int newH) {  \r\n        int w = img.getWidth();  \r\n        int h = img.getHeight();  \r\n        BufferedImage dimg = new BufferedImage(newW, newH, img.getType());  \r\n        Graphics2D g = dimg.createGraphics();  \r\n        g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,\r\n        RenderingHints.VALUE_INTERPOLATION_BILINEAR);  \r\n        g.drawImage(img, 0, 0, newW, newH, 0, 0, w, h, null);  \r\n        g.dispose();  \r\n        return dimg;  \r\n    }  ","title":"Bufferedimage resize","body":"<p>I am trying to resized a bufferedimage. I am able to store it and show up on a jframe no problems but I can't seem to resize it. Any tips on how I can change this to make it work and show the image as a 200*200 file would be great    </p>\n\n<pre><code>private void profPic(){\n    String path = factory.getString(\"bottle\");\n    BufferedImage img = ImageIO.read(new File(path));\n}\n\n\npublic static BufferedImage resize(BufferedImage img, int newW, int newH) {  \n    int w = img.getWidth();  \n    int h = img.getHeight();  \n    BufferedImage dimg = new BufferedImage(newW, newH, img.getType());  \n    Graphics2D g = dimg.createGraphics();  \n    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,\n    RenderingHints.VALUE_INTERPOLATION_BILINEAR);  \n    g.drawImage(img, 0, 0, newW, newH, 0, 0, w, h, null);  \n    g.dispose();  \n    return dimg;  \n}  \n</code></pre>\n"},{"tags":["java","maven","javafx","java-17"],"comments":[{"owner":{"display_name":"user9035826"},"score":1,"creation_date":1691160175,"post_id":76836674,"comment_id":135458631,"body_markdown":"With java8, javafx is part of the jdk, but no longer the case for java17. You may have to add javafx module path and modules to your java command line parameters. It would be something like this: --module-path $your-javafx-sdk-path --add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web","body":"With java8, javafx is part of the jdk, but no longer the case for java17. You may have to add javafx module path and modules to your java command line parameters. It would be something like this: --module-path $your-javafx-sdk-path --add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,java&zwnj;&#8203;fx.media,javafx.swin&zwnj;&#8203;g,javafx.web"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691165427,"post_id":76836674,"comment_id":135459751,"body_markdown":"(A) In your POM, add a dependency for the OpenJFX libraries that implement JavaFX. Or else use a JDK from Azul Systems or BellSoft that bundle the libraries. (B) JavaFX is [modularized](https://en.wikipedia.org/wiki/Java_Platform_Module_System). You’ll need to learn the basics of JPMS, and add a `module-info.java` file.","body":"(A) In your POM, add a dependency for the OpenJFX libraries that implement JavaFX. Or else use a JDK from Azul Systems or BellSoft that bundle the libraries. (B) JavaFX is <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">modularized</a>. You’ll need to learn the basics of JPMS, and add a <code>module-info.java</code> file."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1691170059,"post_id":76836674,"comment_id":135460629,"body_markdown":"How are you runnng the app with JavaFX 17 when it works and when it breaks?  What is are command lines used? Edit the question and add the commands there as text, formatted as code. Provide a [mcve] to replicate the issue.  Idea new JavaFX project will add a module-info which makes your app modular, but perhaps your app doesn’t function as a modular app, and you *may* need to follow non-modular getting started instructions at openjfx.io  Easiest though might be to use a JDK that includes JavaFX as suggested by Basil, it might work with your existing project with no additional changes.","body":"How are you runnng the app with JavaFX 17 when it works and when it breaks?  What is are command lines used? Edit the question and add the commands there as text, formatted as code. Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to replicate the issue.  Idea new JavaFX project will add a module-info which makes your app modular, but perhaps your app doesn’t function as a modular app, and you <i>may</i> need to follow non-modular getting started instructions at openjfx.io  Easiest though might be to use a JDK that includes JavaFX as suggested by Basil, it might work with your existing project with no additional changes."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691170509,"post_id":76836674,"comment_id":135460703,"body_markdown":"Perhaps a duplicate: [ntelliJ can&#39;t recognize JavaFX 11 with OpenJDK 11](https://stackoverflow.com/questions/52467561/intellij-cant-recognize-javafx-11-with-openjdk-11)","body":"Perhaps a duplicate: <a href=\"https://stackoverflow.com/questions/52467561/intellij-cant-recognize-javafx-11-with-openjdk-11\">ntelliJ can&#39;t recognize JavaFX 11 with OpenJDK 11</a>"},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1691176369,"post_id":76836674,"comment_id":135461753,"body_markdown":"@CjY I&#39;m able to run the app from the main class without any command line params. The problems is only when I run the app from a test class. I&#39;ll update the question.","body":"@CjY I&#39;m able to run the app from the main class without any command line params. The problems is only when I run the app from a test class. I&#39;ll update the question."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1691176507,"post_id":76836674,"comment_id":135461776,"body_markdown":"@BasilBourque The dependencies are already included in the pom, and I already have the module-info.java file in place. Since I&#39;m able to run the app from the main class, my guess would be that the pom and module files are ok.","body":"@BasilBourque The dependencies are already included in the pom, and I already have the module-info.java file in place. Since I&#39;m able to run the app from the main class, my guess would be that the pom and module files are ok."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1691176780,"post_id":76836674,"comment_id":135461827,"body_markdown":"@jewelsea The app works when I run it from the main class, it breaks when I run it from a test class. The main class and test class are identical except that the test class instantiates a mock endpoints. I&#39;m quite sure that this difference is not the problem.","body":"@jewelsea The app works when I run it from the main class, it breaks when I run it from a test class. The main class and test class are identical except that the test class instantiates a mock endpoints. I&#39;m quite sure that this difference is not the problem."},{"owner":{"display_name":"user9035826"},"score":0,"creation_date":1691178546,"post_id":76836674,"comment_id":135462121,"body_markdown":"When your main class runs, what is your java command line parameters look like? While it&#39;s running, you can do something like this to capture it: wmic path win32_process where &quot;name like &#39;%java%&#39;&quot; get Caption,Processid,Commandline","body":"When your main class runs, what is your java command line parameters look like? While it&#39;s running, you can do something like this to capture it: wmic path win32_process where &quot;name like &#39;%java%&#39;&quot; get Caption,Processid,Commandline"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1691181450,"post_id":76836674,"comment_id":135462541,"body_markdown":"&quot;_Or should I add another execution referring to the test class?_&quot; – That would seem the correct solution to me (but I&#39;m more familiar with Gradle than Maven).","body":"&quot;<i>Or should I add another execution referring to the test class?</i>&quot; – That would seem the correct solution to me (but I&#39;m more familiar with Gradle than Maven)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691182078,"post_id":76836674,"comment_id":135462639,"body_markdown":"Also note, that if you are in the IDE and the project is correctly configured and setup, there is no need to use the `javafx-maven-plugin` at all, as demoed in the [Idea new project wizard documentation](https://www.jetbrains.com/help/idea/javafx.html).  Unless you are using the plugin for linking (I don&#39;t think you are), it doesn&#39;t need to be in your project.","body":"Also note, that if you are in the IDE and the project is correctly configured and setup, there is no need to use the <code>javafx-maven-plugin</code> at all, as demoed in the <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">Idea new project wizard documentation</a>.  Unless you are using the plugin for linking (I don&#39;t think you are), it doesn&#39;t need to be in your project."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691208352,"post_id":76836674,"comment_id":135464424,"body_markdown":"Please add the requested execution commands to the question as text, formatted as code. You can get them from the Idea console when you run the app. It will show up in the console as a grayed-out string like `&lt;jdkpath&gt;/java . . .` Click on the `. . .`, it will expand the line to show the entire execution command. Copy and paste that into the question as text formatted as code. Do it for the execution that works, and the one that does not. You can&#39;t be helped if nobody really knows what you are doing, and it cannot be replicated in another environment. A [mcve] is best.","body":"Please add the requested execution commands to the question as text, formatted as code. You can get them from the Idea console when you run the app. It will show up in the console as a grayed-out string like <code>&lt;jdkpath&gt;&#47;java . . .</code> Click on the <code>. . .</code>, it will expand the line to show the entire execution command. Copy and paste that into the question as text formatted as code. Do it for the execution that works, and the one that does not. You can&#39;t be helped if nobody really knows what you are doing, and it cannot be replicated in another environment. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is best."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691208476,"post_id":76836674,"comment_id":135464431,"body_markdown":"[openjfx.io](https://openjfx.io/openjfx-docs/) also documents use of JavaFX.","body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io</a> also documents use of JavaFX."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":1,"creation_date":1691411228,"post_id":76836674,"comment_id":135483470,"body_markdown":"@CjY Ok so in the end I just went for your `--module-path --add-modules` approach. Still don&#39;t understand why first the main class was running and the test class not... But with this approach both I can run both classes. All of you thanks for your help!","body":"@CjY Ok so in the end I just went for your <code>--module-path --add-modules</code> approach. Still don&#39;t understand why first the main class was running and the test class not... But with this approach both I can run both classes. All of you thanks for your help!"}],"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1691177337,"creation_date":1691157854,"question_id":76836674,"body_markdown":"I used the Intellij JavaFX generator to create a JavaFx application with Java17 and Maven. The `javafx-maven-plugin` specifies a main class and **I can run the app from this main class**. But I also want to run the app from a test class. If I try that I get this error:\r\n\r\n    Error: JavaFX runtime components are missing, and are required to run this application\r\n\r\nOriginally I built the app with Java8 and JavaFX. With Java8 I could run the app from the main class as well as the test class. Simply converting the project to Java17 didn&#39;t work so I had Intellij generate a new project and copied the old source into the new project. With Java17 I can run the app from the main class but not from the test class.\r\n\r\nHow can I run the app from the test class in the new project? Thanks in advance!\r\n\r\nEdit:\r\n\r\nAn excerpt from the pom as generated by Intellij:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;io.wouter.gmsbooks.offerapp/io.wouter.gmsbooks.GmsOfferApp&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nThe `javafx-maven-plugin` only mentions a main class, no test class. Or should I add another `execution` referring to the test class?","title":"Running JavaFx app from test class gives error","body":"<p>I used the Intellij JavaFX generator to create a JavaFx application with Java17 and Maven. The <code>javafx-maven-plugin</code> specifies a main class and <strong>I can run the app from this main class</strong>. But I also want to run the app from a test class. If I try that I get this error:</p>\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this application\n</code></pre>\n<p>Originally I built the app with Java8 and JavaFX. With Java8 I could run the app from the main class as well as the test class. Simply converting the project to Java17 didn't work so I had Intellij generate a new project and copied the old source into the new project. With Java17 I can run the app from the main class but not from the test class.</p>\n<p>How can I run the app from the test class in the new project? Thanks in advance!</p>\n<p>Edit:</p>\n<p>An excerpt from the pom as generated by Intellij:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.8&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                    &lt;id&gt;default-cli&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;io.wouter.gmsbooks.offerapp/io.wouter.gmsbooks.GmsOfferApp&lt;/mainClass&gt;\n                        &lt;launcher&gt;app&lt;/launcher&gt;\n                        &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                        &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                        &lt;noManPages&gt;true&lt;/noManPages&gt;\n                        &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                        &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>The <code>javafx-maven-plugin</code> only mentions a main class, no test class. Or should I add another <code>execution</code> referring to the test class?</p>\n"},{"tags":["java","file-io","properties"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":5,"creation_date":1350042243,"post_id":12858299,"comment_id":17401954,"body_markdown":"Can you provide a self contained example to reproduce your problem? I suspect when you re-examine your test you will find that the `port` was not being loaded.","body":"Can you provide a self contained example to reproduce your problem? I suspect when you re-examine your test you will find that the <code>port</code> was not being loaded."},{"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1350042301,"post_id":12858299,"comment_id":17401978,"body_markdown":"OP, we&#39;re trying to help format the code (properties). Why do you revert the editions ? BTW [this](http://stackoverflow.com/editing-help) might help.","body":"OP, we&#39;re trying to help format the code (properties). Why do you revert the editions ? BTW <a href=\"http://stackoverflow.com/editing-help\">this</a> might help."},{"owner":{"account_id":1212429,"reputation":19082,"user_id":1180720,"accept_rate":74,"display_name":"gefei"},"score":0,"creation_date":1350042331,"post_id":12858299,"comment_id":17401992,"body_markdown":"it seems that in config.txt the property &quot;port&quot; does not exist.","body":"it seems that in config.txt the property &quot;port&quot; does not exist."},{"owner":{"account_id":1336598,"reputation":5274,"user_id":1279200,"accept_rate":71,"display_name":"Johnathan Au"},"score":0,"creation_date":1350042375,"post_id":12858299,"comment_id":17402016,"body_markdown":"Oh sorry, I didn&#39;t notice. I noticed some mistakes so I edited it.","body":"Oh sorry, I didn&#39;t notice. I noticed some mistakes so I edited it."},{"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1350042411,"post_id":12858299,"comment_id":17402034,"body_markdown":"@JohnathanAu Put here the complete code demonstrating the correct read of root and the incorrect read of port after one load.","body":"@JohnathanAu Put here the complete code demonstrating the correct read of root and the incorrect read of port after one load."},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1350042562,"post_id":12858299,"comment_id":17402108,"body_markdown":"Is the result of the 2-Param-`getProperty` = 80 by any chance?","body":"Is the result of the 2-Param-<code>getProperty</code> = 80 by any chance?"},{"owner":{"account_id":4795114,"reputation":657,"user_id":3873267,"accept_rate":57,"display_name":"caniaskyouaquestion"},"score":0,"creation_date":1418122121,"post_id":12858299,"comment_id":43203682,"body_markdown":"@JohnathanAu hey man, how did you solve this? i am having the same problem retrieving and int parameter from my confing file. It wont cast from Object to int...so i am having trouble getting my port number. thanks","body":"@JohnathanAu hey man, how did you solve this? i am having the same problem retrieving and int parameter from my confing file. It wont cast from Object to int...so i am having trouble getting my port number. thanks"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1350042616,"creation_date":1350042616,"answer_id":12858450,"question_id":12858299,"body_markdown":"&gt; Can you provide a self contained example to reproduce your problem?\n&gt;\n&gt; Sorry, I don&#39;t understand \n\nWhen I run\n\n    Properties prop = new Properties();\n    prop.setProperty(&quot;root&quot;, &quot;some root&quot;);\n    prop.setProperty(&quot;port&quot;, &quot;8020&quot;);\n    prop.store(new FileWriter(&quot;config.txt&quot;), &quot;test&quot;);\n    \n    Properties config = new Properties();\n    //loading properties from properties file\n    config.load(new FileReader(&quot;config.txt&quot;));\n    \n    int port = Integer.parseInt(config.getProperty(&quot;port&quot;));\n    System.out.println(&quot;this is port &quot; + port);\n\nI get\n\n    this is port 8020\n\n","title":"Why can&#39;t I read an Integer in my Properties file?","body":"<blockquote>\n<p>Can you provide a self contained example to reproduce your problem?</p>\n<p>Sorry, I don't understand</p>\n</blockquote>\n<p>When I run</p>\n<pre><code>Properties prop = new Properties();\nprop.setProperty(&quot;root&quot;, &quot;some root&quot;);\nprop.setProperty(&quot;port&quot;, &quot;8020&quot;);\nprop.store(new FileWriter(&quot;config.txt&quot;), &quot;test&quot;);\n\nProperties config = new Properties();\n//loading properties from properties file\nconfig.load(new FileReader(&quot;config.txt&quot;));\n\nint port = Integer.parseInt(config.getProperty(&quot;port&quot;));\nSystem.out.println(&quot;this is port &quot; + port);\n</code></pre>\n<p>I get</p>\n<pre><code>this is port 8020\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2074030,"reputation":2418,"user_id":1847899,"display_name":"Alexander Sidikov Pfeif"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1439454440,"creation_date":1439453444,"answer_id":31982866,"question_id":12858299,"body_markdown":"**The difference is**\r\n\r\n    root= some root #STRING\r\n    \r\n    port=8020  #INTEGER\r\n\r\nso to get the root property you can do this.. \r\n\r\n    props.getProperty(&quot;root&quot;); //Returns a String\r\n\r\nfor the integer \r\n\r\n    props.get(&quot;port&quot;); //Returns a Object\r\n\r\n\r\n\r\n----------\r\n\r\n**How the Java Properties class works**\r\n\r\n    public String getProperty(String key) {\r\n    \tObject oval = super.get(key);\r\n    \tString sval = (oval instanceof String) ? (String)oval : null;\r\n    \treturn ((sval == null) &amp;&amp; (defaults != null)) ? defaults.getProperty(key) : sval;\r\n        }\r\n\r\n\r\n----------\r\n\r\n\r\n*//btw. Peter Lawrey is putting the port as String - thats why its works in his version.* \r\n\r\n\r\n**READ THIS:** [difference between get &amp; getProperty][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11104395/difference-between-get-vs-getproperty","title":"Why can&#39;t I read an Integer in my Properties file?","body":"<p><strong>The difference is</strong></p>\n\n<pre><code>root= some root #STRING\n\nport=8020  #INTEGER\n</code></pre>\n\n<p>so to get the root property you can do this.. </p>\n\n<pre><code>props.getProperty(\"root\"); //Returns a String\n</code></pre>\n\n<p>for the integer </p>\n\n<pre><code>props.get(\"port\"); //Returns a Object\n</code></pre>\n\n<hr>\n\n<p><strong>How the Java Properties class works</strong></p>\n\n<pre><code>public String getProperty(String key) {\n    Object oval = super.get(key);\n    String sval = (oval instanceof String) ? (String)oval : null;\n    return ((sval == null) &amp;&amp; (defaults != null)) ? defaults.getProperty(key) : sval;\n    }\n</code></pre>\n\n<hr>\n\n<p><em>//btw. Peter Lawrey is putting the port as String - thats why its works in his version.</em> </p>\n\n<p><strong>READ THIS:</strong> <a href=\"https://stackoverflow.com/questions/11104395/difference-between-get-vs-getproperty\">difference between get &amp; getProperty</a></p>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691177323,"creation_date":1536273891,"answer_id":52213005,"question_id":12858299,"body_markdown":"    properties.get(&quot;key) - should work for any object type - convert it later to a specific type\r\n    properties.getProperty(&quot;key&quot;) -- will always get a string regardless of a value type in the properties.","title":"Why can&#39;t I read an Integer in my Properties file?","body":"<pre><code>properties.get(&quot;key) - should work for any object type - convert it later to a specific type\nproperties.getProperty(&quot;key&quot;) -- will always get a string regardless of a value type in the properties.\n</code></pre>\n"}],"owner":{"account_id":1336598,"reputation":5274,"user_id":1279200,"accept_rate":71,"display_name":"Johnathan Au"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41127,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":12858450,"answer_count":3,"score":10,"last_activity_date":1691177323,"creation_date":1350042124,"question_id":12858299,"body_markdown":"I&#39;m trying to write a configs file in Java and I put my port number inside it for my HTTP Web Server to connect to and also the root path.\r\n\r\nConfigs file:\r\n\r\n    root= some root\r\n    port=8020\r\n\r\nI am trying to access the properties like this:\r\n\r\n    FileInputStream file = new FileInputStream(&quot;config.txt&quot;);       \r\n    //loading properties from properties file        \r\n    config.load(file);\r\n    \r\n    int port = Integer.parseInt(config.getProperty(&quot;port&quot;));   \r\n    System.out.println(&quot;this is port &quot; + port);\r\n\r\nIf I do it with a single parameter in the `getProperty` method, I get this error\r\n\r\n    &quot;java.lang.NumberFormatException: null&quot;\r\n\r\nHowever, if I access it like this\r\n\r\n `int port = Integer.parseInt(config.getProperty(&quot;port&quot;, &quot;80&quot;));` \r\n\r\nit works. \r\n\r\nAlso, it works for `config.getProperty(&quot;root&quot;);` so I don&#39;t understand...\r\n\r\nEdit:\r\n\r\n\r\n    import java.net.*;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.*;\r\n\r\n    public class Server\r\n    {\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tboolean listening = true;\r\n    \t\tServerSocket server = null;\t\t\r\n    \t\tProperties config = new Properties();\r\n    \t\tint port = 0;\r\n    \t\ttry\r\n    \t\t{\t\t       \r\n            \t//Reading properties file\r\n    \t        FileInputStream file = new FileInputStream(&quot;config.txt&quot;);       \r\n            \t//loading properties from properties file        \r\n            \tconfig.load(file);\r\n            \t\r\n            \tport = Integer.parseInt(config.getProperty(&quot;port&quot;));   \r\n            \tSystem.out.println(&quot;this is port &quot; + port);\r\n    \r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Server binding to port &quot; + port);\r\n    \t\t\tserver = new ServerSocket(port);\r\n    \t\t\t\r\n    \t\t\t\r\n                \t\r\n            }\r\n            catch(FileNotFoundException e)\r\n            {\r\n            \tSystem.out.println(&quot;File not found: &quot; + e);\r\n            }\r\n    \t\tcatch(Exception e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Error: &quot; + e);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Server successfully binded to port &quot; + port);\r\n    \t\t\r\n    \t\twhile(listening)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Attempting to connect to client&quot;);\r\n    \t\t\tSocket client = server.accept();\r\n    \t\t\tSystem.out.println(&quot;Successfully connected to client&quot;);\r\n    \t\t\tnew HTTPThread(client, config).start();\r\n    \t\t}\r\n    \t\t\r\n    \t\tserver.close();\r\n    \t}\r\n    \r\n    }","title":"Why can&#39;t I read an Integer in my Properties file?","body":"<p>I'm trying to write a configs file in Java and I put my port number inside it for my HTTP Web Server to connect to and also the root path.</p>\n\n<p>Configs file:</p>\n\n<pre><code>root= some root\nport=8020\n</code></pre>\n\n<p>I am trying to access the properties like this:</p>\n\n<pre><code>FileInputStream file = new FileInputStream(\"config.txt\");       \n//loading properties from properties file        \nconfig.load(file);\n\nint port = Integer.parseInt(config.getProperty(\"port\"));   \nSystem.out.println(\"this is port \" + port);\n</code></pre>\n\n<p>If I do it with a single parameter in the <code>getProperty</code> method, I get this error</p>\n\n<pre><code>\"java.lang.NumberFormatException: null\"\n</code></pre>\n\n<p>However, if I access it like this</p>\n\n<p><code>int port = Integer.parseInt(config.getProperty(\"port\", \"80\"));</code> </p>\n\n<p>it works. </p>\n\n<p>Also, it works for <code>config.getProperty(\"root\");</code> so I don't understand...</p>\n\n<p>Edit:</p>\n\n<pre><code>import java.net.*;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.util.*;\n\npublic class Server\n{\n\n\n    public static void main(String[] args) throws Exception\n    {\n        boolean listening = true;\n        ServerSocket server = null;     \n        Properties config = new Properties();\n        int port = 0;\n        try\n        {              \n            //Reading properties file\n            FileInputStream file = new FileInputStream(\"config.txt\");       \n            //loading properties from properties file        \n            config.load(file);\n\n            port = Integer.parseInt(config.getProperty(\"port\"));   \n            System.out.println(\"this is port \" + port);\n\n\n            System.out.println(\"Server binding to port \" + port);\n            server = new ServerSocket(port);\n\n\n\n        }\n        catch(FileNotFoundException e)\n        {\n            System.out.println(\"File not found: \" + e);\n        }\n        catch(Exception e)\n        {\n            System.out.println(\"Error: \" + e);\n            System.exit(1);\n        }\n\n        System.out.println(\"Server successfully binded to port \" + port);\n\n        while(listening)\n        {\n            System.out.println(\"Attempting to connect to client\");\n            Socket client = server.accept();\n            System.out.println(\"Successfully connected to client\");\n            new HTTPThread(client, config).start();\n        }\n\n        server.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":17779952,"reputation":117,"user_id":12911346,"display_name":"iftwMZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691177319,"creation_date":1691177319,"answer_id":76838700,"question_id":76813206,"body_markdown":"So, whoever meets this, the problem were in that of hosts ip, if it is present it takes 20 seconds from somewhere, however if it is not available it takes our timeout. ","title":"Java Spring RestTemplate timeout does not work properly","body":"<p>So, whoever meets this, the problem were in that of hosts ip, if it is present it takes 20 seconds from somewhere, however if it is not available it takes our timeout.</p>\n"}],"owner":{"account_id":17779952,"reputation":117,"user_id":12911346,"display_name":"iftwMZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76838700,"answer_count":1,"score":0,"last_activity_date":1691177319,"creation_date":1690904043,"question_id":76813206,"body_markdown":"I have such scenario where I do a request to an API , let&#39;s say I am doing that request using restTemplate.exchange method. I do set the timeouts like this:\r\n\r\n    ((HttpComponentsClientHttpRequestFactory) requestFactory).setConnectTimeout(200090);\r\n          ((HttpComponentsClientHttpRequestFactory) requestFactory).setReadTimeout(99999999);\r\n          ((HttpComponentsClientHttpRequestFactory) requestFactory).setConnectionRequestTimeout(200900);\r\n\r\nand when I am online everything is OK, however, when I do press to make the request and I eject the Network cable, it waits like 10-20 seconds (not as my timeout) and it throws an SocketTimeoutException and that&#39;s it, I debugged , tried to apply many of solutions however could not find anything precious. Have anyone encountered this with RestTemplate and Spring? (In debugging everything is set accordingly, all my timeouts are present, even if I use factory it uses the correct instance) .\r\n\r\nMy desired scenario is: Enter for request -&gt; Disconnect network cable -&gt; The applications follows the timeout set in it, and only after it it gives error or whatever. How can I fix this? \r\n\r\nJava JDK 1.8 , httpclient-4.5.12, Spring 4.3.12-RELEASE.","title":"Java Spring RestTemplate timeout does not work properly","body":"<p>I have such scenario where I do a request to an API , let's say I am doing that request using restTemplate.exchange method. I do set the timeouts like this:</p>\n<pre><code>((HttpComponentsClientHttpRequestFactory) requestFactory).setConnectTimeout(200090);\n      ((HttpComponentsClientHttpRequestFactory) requestFactory).setReadTimeout(99999999);\n      ((HttpComponentsClientHttpRequestFactory) requestFactory).setConnectionRequestTimeout(200900);\n</code></pre>\n<p>and when I am online everything is OK, however, when I do press to make the request and I eject the Network cable, it waits like 10-20 seconds (not as my timeout) and it throws an SocketTimeoutException and that's it, I debugged , tried to apply many of solutions however could not find anything precious. Have anyone encountered this with RestTemplate and Spring? (In debugging everything is set accordingly, all my timeouts are present, even if I use factory it uses the correct instance) .</p>\n<p>My desired scenario is: Enter for request -&gt; Disconnect network cable -&gt; The applications follows the timeout set in it, and only after it it gives error or whatever. How can I fix this?</p>\n<p>Java JDK 1.8 , httpclient-4.5.12, Spring 4.3.12-RELEASE.</p>\n"},{"tags":["java","redis","spring-data"],"comments":[{"owner":{"account_id":3799890,"reputation":171,"user_id":3153825,"display_name":"hardik.desai"},"score":0,"creation_date":1519776413,"post_id":49016372,"comment_id":85045065,"body_markdown":"UPDATE: This is resolved by using a different Serializer with Generics and passing in the ObjectMapper. Use Jackson2JsonRedisSerializer&lt; MyObject&gt; and objectSerializer.setObjectMapper(objectMapper).","body":"UPDATE: This is resolved by using a different Serializer with Generics and passing in the ObjectMapper. Use Jackson2JsonRedisSerializer&lt; MyObject&gt; and objectSerializer.setObjectMapper(objectMapper)."},{"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"score":0,"creation_date":1541693848,"post_id":49016372,"comment_id":93311552,"body_markdown":"It doesn&#39;t solve the original problem.","body":"It doesn&#39;t solve the original problem."},{"owner":{"account_id":3357785,"reputation":471,"user_id":2820326,"display_name":"Alan Teals"},"score":4,"creation_date":1583511594,"post_id":49016372,"comment_id":107154188,"body_markdown":"Using Jackson2JsonRedisSerializer&lt;MyObject&gt; could solve your specific case but it&#39;s no a scalable solution since you cannot add more than one Jackson2JsonRedisSerializer to the redisTemplate","body":"Using Jackson2JsonRedisSerializer&lt;MyObject&gt; could solve your specific case but it&#39;s no a scalable solution since you cannot add more than one Jackson2JsonRedisSerializer to the redisTemplate"}],"answers":[{"tags":[],"owner":{"account_id":14770628,"reputation":21,"user_id":10667207,"display_name":"Henrique La Porta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1573409557,"creation_date":1573409557,"answer_id":58791563,"question_id":49016372,"body_markdown":"It works for me to serialize and deserialize any Object. In this example the cache manager is set TTL you can remove this if you want.\r\n\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class RedisCacheConfig {\r\n\r\n  @Value(&quot;${spring.redis.host}&quot;)\r\n  private String redisHostName;\r\n\r\n  @Value(&quot;${spring.redis.port}&quot;)\r\n  private int redisPort;\r\n\r\n  @Bean\r\n  public LettuceConnectionFactory redisConnectionFactory() {\r\n    return new LettuceConnectionFactory(new RedisStandaloneConfiguration(redisHostName, redisPort));\r\n  }\r\n\r\n  @Bean\r\n  public RedisTemplate&lt;Object, Object&gt; redisTemplate() {\r\n    RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\r\n    redisTemplate.setConnectionFactory(redisConnectionFactory());\r\n    return redisTemplate;\r\n  }\r\n\r\n  @Bean\r\n  @Primary\r\n  public RedisCacheManager redisCacheManager(LettuceConnectionFactory lettuceConnectionFactory) {\r\n    RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig().disableCachingNullValues()\r\n      .entryTtl(Duration.ofMinutes(1))\r\n      .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\r\n\r\n    redisCacheConfiguration.usePrefix();\r\n\r\n    return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(lettuceConnectionFactory)\r\n      .cacheDefaults(redisCacheConfiguration).build();\r\n\r\n  }\r\n}\r\n```","title":"Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject","body":"<p>It works for me to serialize and deserialize any Object. In this example the cache manager is set TTL you can remove this if you want.</p>\n\n<pre><code>@Configuration\n@EnableCaching\npublic class RedisCacheConfig {\n\n  @Value(\"${spring.redis.host}\")\n  private String redisHostName;\n\n  @Value(\"${spring.redis.port}\")\n  private int redisPort;\n\n  @Bean\n  public LettuceConnectionFactory redisConnectionFactory() {\n    return new LettuceConnectionFactory(new RedisStandaloneConfiguration(redisHostName, redisPort));\n  }\n\n  @Bean\n  public RedisTemplate&lt;Object, Object&gt; redisTemplate() {\n    RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\n    redisTemplate.setConnectionFactory(redisConnectionFactory());\n    return redisTemplate;\n  }\n\n  @Bean\n  @Primary\n  public RedisCacheManager redisCacheManager(LettuceConnectionFactory lettuceConnectionFactory) {\n    RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig().disableCachingNullValues()\n      .entryTtl(Duration.ofMinutes(1))\n      .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\n\n    redisCacheConfiguration.usePrefix();\n\n    return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(lettuceConnectionFactory)\n      .cacheDefaults(redisCacheConfiguration).build();\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17039007,"reputation":51,"user_id":12327396,"display_name":"MvM FromMx"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575748831,"creation_date":1575736704,"answer_id":59228110,"question_id":49016372,"body_markdown":"It worked for me by simply setting a new `GenericJackson2JsonRedisSerializer()` with `no` arguments, in both Key, value `serializer` and `hash key`, `value serializer` \r\n\r\n```\r\n@Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(LettuceConnectionFactory lettuceConnectionFactory, ObjectMapper objectMapper) {\r\n        final RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;String, Object&gt;();\r\n        redisTemplate.setConnectionFactory(lettuceConnectionFactory);\r\n        // value serializer\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer());\r\n        // hash value serializer\r\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashValueSerializer(new GenericJackson2JsonRedisSerializer());\r\n\r\n        logger.info(&quot;wiring up Redistemplate...&quot;);\r\n        return redisTemplate;\r\n    }\r\n```","title":"Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject","body":"<p>It worked for me by simply setting a new <code>GenericJackson2JsonRedisSerializer()</code> with <code>no</code> arguments, in both Key, value <code>serializer</code> and <code>hash key</code>, <code>value serializer</code> </p>\n\n<pre><code>@Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(LettuceConnectionFactory lettuceConnectionFactory, ObjectMapper objectMapper) {\n        final RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;String, Object&gt;();\n        redisTemplate.setConnectionFactory(lettuceConnectionFactory);\n        // value serializer\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer());\n        // hash value serializer\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashValueSerializer(new GenericJackson2JsonRedisSerializer());\n\n        logger.info(\"wiring up Redistemplate...\");\n        return redisTemplate;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633922984,"creation_date":1633922984,"answer_id":69520731,"question_id":49016372,"body_markdown":"**Reason**\r\n\r\nYou have customized the objectMapper, and there is no class name in the Redis value. So it can&#39;t be deserialized into the real type.\r\n\r\nYou can check the redis value, there is no *\\&quot;@class\\&quot; : \\&quot;com.xxxx.xxx.entity.xx\\&quot;* in the redis value.\r\n \r\n**My solution**\r\n\r\n    @Bean\r\n    public RedisCacheConfiguration redisCacheConfiguration(ObjectMapper objectMapper) {\r\n        // Do not change the default object mapper, we need to serialize the class name into the value\r\n        objectMapper = objectMapper.copy();\r\n        objectMapper = objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\r\n        return RedisCacheConfiguration.defaultCacheConfig()\r\n                .entryTtl(Duration.ofMinutes(1))\r\n                .disableCachingNullValues()\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer(objectMapper)));\r\n    }\r\n\r\nI use the `objectMapper.enableDefaultTyping() ` after digging into the source code of the GenericJackson2JsonRedisSerializer.class ","title":"Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject","body":"<p><strong>Reason</strong></p>\n<p>You have customized the objectMapper, and there is no class name in the Redis value. So it can't be deserialized into the real type.</p>\n<p>You can check the redis value, there is no <em>&quot;@class&quot; : &quot;com.xxxx.xxx.entity.xx&quot;</em> in the redis value.</p>\n<p><strong>My solution</strong></p>\n<pre><code>@Bean\npublic RedisCacheConfiguration redisCacheConfiguration(ObjectMapper objectMapper) {\n    // Do not change the default object mapper, we need to serialize the class name into the value\n    objectMapper = objectMapper.copy();\n    objectMapper = objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\n    return RedisCacheConfiguration.defaultCacheConfig()\n            .entryTtl(Duration.ofMinutes(1))\n            .disableCachingNullValues()\n            .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer(objectMapper)));\n}\n</code></pre>\n<p>I use the <code>objectMapper.enableDefaultTyping() </code> after digging into the source code of the GenericJackson2JsonRedisSerializer.class</p>\n"},{"tags":[],"owner":{"account_id":8705456,"reputation":448,"user_id":6513660,"display_name":"Wall-E"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691175875,"creation_date":1691175875,"answer_id":76838581,"question_id":49016372,"body_markdown":"Jesus, why is it so hard to configure ? I almost did this manually. \r\n\r\nJava ecosystem solves some complexities beautifully but brings a lot of new ones.\r\n\r\nAnyway, I&#39;m using Kotlin with Spring Boot 3 using `@Cacheable` on a Feign HTTP client interface&#39;s method and was able to resolve this by the following configurations:\r\n\r\n```\r\nprivate fun redisCacheDefaultConfiguration(ttlInMinutes: Long) = RedisCacheConfiguration\r\n    .defaultCacheConfig()\r\n    .disableCachingNullValues()\r\n    .entryTtl(Duration.ofMinutes(ttlInMinutes))\r\n    .prefixCacheNameWith(&quot;cachename:&quot;)\r\n    .serializeKeysWith(SerializationPair.fromSerializer(StringRedisSerializer()))\r\n    .serializeValuesWith(SerializationPair.fromSerializer(GenericJackson2JsonRedisSerializer(getObjectMapper())))\r\n\r\nprivate fun getObjectMapper(): ObjectMapper {\r\n    val objectMapper = JacksonConfiguration().defaultObjectMapper().copy()\r\n    var defaultTypeResolver: StdTypeResolverBuilder = ObjectMapper.DefaultTypeResolverBuilder(\r\n        ObjectMapper.DefaultTyping.EVERYTHING,\r\n        objectMapper.polymorphicTypeValidator\r\n    )\r\n    defaultTypeResolver = defaultTypeResolver.init(JsonTypeInfo.Id.CLASS, null)\r\n    defaultTypeResolver = defaultTypeResolver.inclusion(JsonTypeInfo.As.PROPERTY)\r\n    objectMapper.setDefaultTyping(defaultTypeResolver)\r\n    return objectMapper\r\n}\r\n```\r\nBy the way, this is the same `ObjectMapper` created by `GenericJackson2JsonRedisSerializer` if you use the no args constructor. I only did this because my instantiation of the mapper have some other configurations that i&#39;d like to be used.\r\n\r\n\r\n\r\nThe entry on redis was:\r\n```\r\n{\r\n  &quot;@class&quot;: &quot;com.path.to.my.DataClazzObj&quot;,\r\n  &quot;id&quot;: [&quot;java.util.UUID&quot;, &quot;a1261350-ca26-4588-961c-c79a42990111&quot;]\r\n}\r\n```\r\nNot pretty, but does the job.\r\n","title":"Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject","body":"<p>Jesus, why is it so hard to configure ? I almost did this manually.</p>\n<p>Java ecosystem solves some complexities beautifully but brings a lot of new ones.</p>\n<p>Anyway, I'm using Kotlin with Spring Boot 3 using <code>@Cacheable</code> on a Feign HTTP client interface's method and was able to resolve this by the following configurations:</p>\n<pre><code>private fun redisCacheDefaultConfiguration(ttlInMinutes: Long) = RedisCacheConfiguration\n    .defaultCacheConfig()\n    .disableCachingNullValues()\n    .entryTtl(Duration.ofMinutes(ttlInMinutes))\n    .prefixCacheNameWith(&quot;cachename:&quot;)\n    .serializeKeysWith(SerializationPair.fromSerializer(StringRedisSerializer()))\n    .serializeValuesWith(SerializationPair.fromSerializer(GenericJackson2JsonRedisSerializer(getObjectMapper())))\n\nprivate fun getObjectMapper(): ObjectMapper {\n    val objectMapper = JacksonConfiguration().defaultObjectMapper().copy()\n    var defaultTypeResolver: StdTypeResolverBuilder = ObjectMapper.DefaultTypeResolverBuilder(\n        ObjectMapper.DefaultTyping.EVERYTHING,\n        objectMapper.polymorphicTypeValidator\n    )\n    defaultTypeResolver = defaultTypeResolver.init(JsonTypeInfo.Id.CLASS, null)\n    defaultTypeResolver = defaultTypeResolver.inclusion(JsonTypeInfo.As.PROPERTY)\n    objectMapper.setDefaultTyping(defaultTypeResolver)\n    return objectMapper\n}\n</code></pre>\n<p>By the way, this is the same <code>ObjectMapper</code> created by <code>GenericJackson2JsonRedisSerializer</code> if you use the no args constructor. I only did this because my instantiation of the mapper have some other configurations that i'd like to be used.</p>\n<p>The entry on redis was:</p>\n<pre><code>{\n  &quot;@class&quot;: &quot;com.path.to.my.DataClazzObj&quot;,\n  &quot;id&quot;: [&quot;java.util.UUID&quot;, &quot;a1261350-ca26-4588-961c-c79a42990111&quot;]\n}\n</code></pre>\n<p>Not pretty, but does the job.</p>\n"}],"owner":{"account_id":3799890,"reputation":171,"user_id":3153825,"display_name":"hardik.desai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11824,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1691175875,"creation_date":1519759142,"question_id":49016372,"body_markdown":"I am using spring-data-redis for caching data in my spring boot app. I am using Mongo as my primary data source and Redis as a cache. When I hit the API for the first time, it fetches record from Mongo and saves it in Cache, and returns MyObject correctly to the client. But when I hit the API second time, it finds the record in the Cache, and while trying to deserialize that back into MyObject, it . always runs into a cast exception: \r\n\r\n&gt; java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast\r\n&gt; to MyObject\r\n\r\nHere is my Redis Configuration:\r\n\r\n    public class MyConfiguration {\r\n        @Bean\r\n        public CacheManager cacheManager(RedisTemplate&lt;String, MyObject&gt; redisTemplate) {\r\n            return new RedisCacheManager(redisTemplate);\r\n        }\r\n    \r\n        @Bean\r\n        public RedisTemplate&lt;String, MyObject&gt; redisTemplate(RedisConnectionFactory connectionFactory, ObjectMapper objectMapper) {\r\n            StringRedisSerializer serializer = new StringRedisSerializer();\r\n            GenericJackson2JsonRedisSerializer hashValueSerializer = new GenericJackson2JsonRedisSerializer(objectMapper);\r\n            RedisTemplate&lt;String, MyObject&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n            redisTemplate.setKeySerializer(serializer);\r\n            redisTemplate.setValueSerializer(hashValueSerializer);\r\n            redisTemplate.setConnectionFactory(connectionFactory);\r\n            return redisTemplate;\r\n        }\r\n    }\r\n\r\n\r\nFound same problem reported here: https://stackoverflow.com/questions/43220964/spring-data-redis-cacheable-java-lang-classcastexception-java-util-hashmap-can/49000379#comment73517832_43222354\r\n\r\nI researched for quite some time but have no ideas. Please suggest.\r\nThanks a ton in advance.","title":"Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to MyObject","body":"<p>I am using spring-data-redis for caching data in my spring boot app. I am using Mongo as my primary data source and Redis as a cache. When I hit the API for the first time, it fetches record from Mongo and saves it in Cache, and returns MyObject correctly to the client. But when I hit the API second time, it finds the record in the Cache, and while trying to deserialize that back into MyObject, it . always runs into a cast exception: </p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast\n  to MyObject</p>\n</blockquote>\n\n<p>Here is my Redis Configuration:</p>\n\n<pre><code>public class MyConfiguration {\n    @Bean\n    public CacheManager cacheManager(RedisTemplate&lt;String, MyObject&gt; redisTemplate) {\n        return new RedisCacheManager(redisTemplate);\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, MyObject&gt; redisTemplate(RedisConnectionFactory connectionFactory, ObjectMapper objectMapper) {\n        StringRedisSerializer serializer = new StringRedisSerializer();\n        GenericJackson2JsonRedisSerializer hashValueSerializer = new GenericJackson2JsonRedisSerializer(objectMapper);\n        RedisTemplate&lt;String, MyObject&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setKeySerializer(serializer);\n        redisTemplate.setValueSerializer(hashValueSerializer);\n        redisTemplate.setConnectionFactory(connectionFactory);\n        return redisTemplate;\n    }\n}\n</code></pre>\n\n<p>Found same problem reported here: <a href=\"https://stackoverflow.com/questions/43220964/spring-data-redis-cacheable-java-lang-classcastexception-java-util-hashmap-can/49000379#comment73517832_43222354\">Spring-data-redis @Cacheable java.lang.ClassCastException: java.util.HashMap cannot be cast to java.lang.String</a></p>\n\n<p>I researched for quite some time but have no ideas. Please suggest.\nThanks a ton in advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9726,"page":266,"page_size":100}
