{"items":[{"tags":["java","android","time","utc"],"comments":[{"owner":{"account_id":8503303,"reputation":1657,"user_id":6375663,"display_name":"Mike"},"score":1,"creation_date":1472767764,"post_id":39279480,"comment_id":65897634,"body_markdown":"Possible duplicate of [Java convert UTC timestamp to local DateTime](http://stackoverflow.com/questions/18691376/java-convert-utc-timestamp-to-local-datetime)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/18691376/java-convert-utc-timestamp-to-local-datetime\">Java convert UTC timestamp to local DateTime</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1472767912,"post_id":39279480,"comment_id":65897681,"body_markdown":"@Mike Not an exact duplicate. The title of this Question mentions this is a certain standardized format, RFC 1123 (though an outdated standard nowadays).","body":"@Mike Not an exact duplicate. The title of this Question mentions this is a certain standardized format, RFC 1123 (though an outdated standard nowadays)."},{"owner":{"account_id":7543400,"reputation":2037,"user_id":5727285,"accept_rate":19,"display_name":"Hamza"},"score":0,"creation_date":1472844198,"post_id":39279480,"comment_id":65932937,"body_markdown":"@Basil Bourque thanks body you got my back","body":"@Basil Bourque thanks body you got my back"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1685928731,"creation_date":1472767633,"answer_id":39281606,"question_id":39279480,"body_markdown":"# `DateTimeFormatter.RFC_1123_DATE_TIME`\r\n\r\nThe java.time classes can directly parse/generate strings in the [RFC 1123][1] via the [`DateTimeFormatter.RFC_1123_DATE_TIME`][2] constant.\r\n\r\n    ZonedDateTime zdt = \r\n        ZonedDateTime.parse( \r\n            &quot;Thu, 25 Aug 2016 08:59:00 GMT&quot; ,  \r\n            DateTimeFormatter.RFC_1123_DATE_TIME \r\n        ) \r\n    ;\r\n\r\nFrom there, adjust into your desired time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );  // Or &quot;Asia/Kolkata&quot;, etc.\r\n    ZonedDateTime zdtMontreal = zdt.withZoneSameInstant( z );\r\n\r\nFYI, that [RFC 1123][1] format is terrible, and is outdated nowadays. The format’s problems include: assumes English unnecessarily, is difficult to parse, and uses the 3-4 letter zone abbreviations that are not real time zones, not standardized, and are not even unique(!). Instead:\r\n\r\n - Specify time zones using [proper IANA-defined time zones][3].\r\n - Serialize to text using standard [ISO 8601][4] formats.&lt;br /&gt;The java.time classes use these formats by default when parsing/generating textual representations of date-time values.\r\n\r\nSearch Stack Overflow for more information about adjusting time zones and generating Strings of date-time values.\r\n\r\n## Localized content\r\n\r\nIf your goal is to generate text for presentation to a user, rather than use RFC 1123 format, generate localized text. For localized content,  just use [`DateTimeFormatter.ofLocalizedDateTime( FormatStyle dateTimeStyle ).withLocale( Locale locale)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ofLocalizedDateTime(java.time.format.FormatStyle)). \r\n\r\nFor example, for a United States user, `DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.US )`. Or, to use the JVM’s current default `Locale`, use `DateTimeFormatter.ofLocalizedDateTime( … )`.\r\n\r\n\r\n    Locale locale = Locale.US ;\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;\r\n    DateTimeFormatter f = \r\n        DateTimeFormatter\r\n        .ofLocalizedDateTime( FormatStyle.FULL )\r\n        .withLocale( locale ) ;\r\n    String output = zdt.format( f ) ;\r\n\r\nSee this [code run at Ideone.com][5].\r\n\r\n&gt;Monday, June 5, 2023 at 10:30:43 AM Japan Standard Time\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc1123\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\r\n  [3]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [5]: https://ideone.com/sduZBx","title":"How to Convert RFC-1123 date-time formatter, to local time","body":"<h1><code>DateTimeFormatter.RFC_1123_DATE_TIME</code></h1>\n<p>The java.time classes can directly parse/generate strings in the <a href=\"https://www.rfc-editor.org/rfc/rfc1123\" rel=\"nofollow noreferrer\">RFC 1123</a> via the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.RFC_1123_DATE_TIME</code></a> constant.</p>\n<pre><code>ZonedDateTime zdt = \n    ZonedDateTime.parse( \n        &quot;Thu, 25 Aug 2016 08:59:00 GMT&quot; ,  \n        DateTimeFormatter.RFC_1123_DATE_TIME \n    ) \n;\n</code></pre>\n<p>From there, adjust into your desired time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );  // Or &quot;Asia/Kolkata&quot;, etc.\nZonedDateTime zdtMontreal = zdt.withZoneSameInstant( z );\n</code></pre>\n<p>FYI, that <a href=\"https://www.rfc-editor.org/rfc/rfc1123\" rel=\"nofollow noreferrer\">RFC 1123</a> format is terrible, and is outdated nowadays. The format’s problems include: assumes English unnecessarily, is difficult to parse, and uses the 3-4 letter zone abbreviations that are not real time zones, not standardized, and are not even unique(!). Instead:</p>\n<ul>\n<li>Specify time zones using <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">proper IANA-defined time zones</a>.</li>\n<li>Serialize to text using standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats.<br />The java.time classes use these formats by default when parsing/generating textual representations of date-time values.</li>\n</ul>\n<p>Search Stack Overflow for more information about adjusting time zones and generating Strings of date-time values.</p>\n<h2>Localized content</h2>\n<p>If your goal is to generate text for presentation to a user, rather than use RFC 1123 format, generate localized text. For localized content,  just use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ofLocalizedDateTime(java.time.format.FormatStyle)\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.ofLocalizedDateTime( FormatStyle dateTimeStyle ).withLocale( Locale locale)</code></a>.</p>\n<p>For example, for a United States user, <code>DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.US )</code>. Or, to use the JVM’s current default <code>Locale</code>, use <code>DateTimeFormatter.ofLocalizedDateTime( … )</code>.</p>\n<pre><code>Locale locale = Locale.US ;\nZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdt = ZonedDateTime.now( z ) ;\nDateTimeFormatter f = \n    DateTimeFormatter\n    .ofLocalizedDateTime( FormatStyle.FULL )\n    .withLocale( locale ) ;\nString output = zdt.format( f ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/sduZBx\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>Monday, June 5, 2023 at 10:30:43 AM Japan Standard Time</p>\n</blockquote>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":7543400,"reputation":2037,"user_id":5727285,"accept_rate":19,"display_name":"Hamza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6351,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"answer_count":1,"score":4,"last_activity_date":1685928731,"creation_date":1472758122,"question_id":39279480,"body_markdown":"I am getting the date-time `Thu, 25 Aug 2016 08:59:00 GMT` in this [RFC 1123][1] format in my Android app. I need to convert to local time.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc1123","title":"How to Convert RFC-1123 date-time formatter, to local time","body":"<p>I am getting the date-time <code>Thu, 25 Aug 2016 08:59:00 GMT</code> in this <a href=\"https://www.rfc-editor.org/rfc/rfc1123\" rel=\"nofollow noreferrer\">RFC 1123</a> format in my Android app. I need to convert to local time.</p>\n"},{"tags":["java","json","parsing","design-patterns","endpoint"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1685828596,"post_id":76398068,"comment_id":134716404,"body_markdown":"An `Any` type. Not really. You&#39;ll have to write one. I suggest `JSONObject`. That&#39;s what most of the JSON libraries land on. Any reason you aren&#39;t using an existing JSON library?","body":"An <code>Any</code> type. Not really. You&#39;ll have to write one. I suggest <code>JSONObject</code>. That&#39;s what most of the JSON libraries land on. Any reason you aren&#39;t using an existing JSON library?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1685830444,"post_id":76398068,"comment_id":134716565,"body_markdown":"There&#39;s a bug in your Value toString impl: Strings should be quoted. Ie `if (object instanceof String) string = &#39;&quot;&#39; + object.toString() + &#39;&quot;&#39;`","body":"There&#39;s a bug in your Value toString impl: Strings should be quoted. Ie <code>if (object instanceof String) string = &#39;&quot;&#39; + object.toString() + &#39;&quot;&#39;</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685830554,"post_id":76398068,"comment_id":134716575,"body_markdown":"@Bohemian, great, I&#39;ll add that, thanks.","body":"@Bohemian, great, I&#39;ll add that, thanks."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685830957,"post_id":76398068,"comment_id":134716604,"body_markdown":"@ElliottFrisch, so, you&#39;re saying make a fork on the _gson_ library or something?  I guess.  I figured starting from scratch would make the most sense.","body":"@ElliottFrisch, so, you&#39;re saying make a fork on the <i>gson</i> library or something?  I guess.  I figured starting from scratch would make the most sense."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1685831152,"post_id":76398068,"comment_id":134716619,"body_markdown":"Why fork it? You want to parse JSON. There are libraries that do that. Why write your own?","body":"Why fork it? You want to parse JSON. There are libraries that do that. Why write your own?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685832683,"post_id":76398068,"comment_id":134716737,"body_markdown":"@Bohemian, I just realized it saves the values within double-quotes.  So that line is actually fine.","body":"@Bohemian, I just realized it saves the values within double-quotes.  So that line is actually fine."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1685837572,"post_id":76398068,"comment_id":134717067,"body_markdown":"@Reilas but json values don&#39;t all have quotes, eg boolean and integer. I would just use a library...","body":"@Reilas but json values don&#39;t all have quotes, eg boolean and integer. I would just use a library..."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685919521,"post_id":76398068,"comment_id":134724209,"body_markdown":"@ElliottFrisch, I really don&#39;t understand what you&#39;re asking or recommending.  My question is in regard to a JSON parser I&#39;m writing.","body":"@ElliottFrisch, I really don&#39;t understand what you&#39;re asking or recommending.  My question is in regard to a JSON parser I&#39;m writing."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685919581,"post_id":76398068,"comment_id":134724213,"body_markdown":"@Bohemian, oh okay, so it&#39;s just the _text_ values that are within quotes.  Good to know, thanks.","body":"@Bohemian, oh okay, so it&#39;s just the <i>text</i> values that are within quotes.  Good to know, thanks."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1685920122,"post_id":76398068,"comment_id":134724251,"body_markdown":"*My question is in regard to a JSON parser I&#39;m writing.* My question is **why**?","body":"<i>My question is in regard to a JSON parser I&#39;m writing.</i> My question is <b>why</b>?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685920494,"post_id":76398068,"comment_id":134724292,"body_markdown":"@ElliottFrisch, who knows, man.  I wish I knew!","body":"@ElliottFrisch, who knows, man.  I wish I knew!"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685920834,"post_id":76398068,"comment_id":134724323,"body_markdown":"@ElliottFrisch, so, where can I find these _&quot;libraries&quot;_?  I can just download this code and it works?  Amazing!  LOL.","body":"@ElliottFrisch, so, where can I find these <i>&quot;libraries&quot;</i>?  I can just download this code and it works?  Amazing!  LOL."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685921090,"post_id":76398068,"comment_id":134724342,"body_markdown":"@ElliottFrisch, I&#39;m reading ABNF from an RFC.  I&#39;m aware, thanks for the helpful guidance.","body":"@ElliottFrisch, I&#39;m reading ABNF from an RFC.  I&#39;m aware, thanks for the helpful guidance."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1685924964,"post_id":76398068,"comment_id":134724578,"body_markdown":"Assuming you aren&#39;t being facetious, there are currently [9048 json projects on maven central](https://mvnrepository.com/search?q=json). None of them meet your needs? There is a need for 9049 json parsers... of course...","body":"Assuming you aren&#39;t being facetious, there are currently <a href=\"https://mvnrepository.com/search?q=json\" rel=\"nofollow noreferrer\">9048 json projects on maven central</a>. None of them meet your needs? There is a need for 9049 json parsers... of course..."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685925488,"post_id":76398068,"comment_id":134724615,"body_markdown":"@ElliottFrisch, should I just quit programming all together?","body":"@ElliottFrisch, should I just quit programming all together?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1685926199,"post_id":76398068,"comment_id":134724654,"body_markdown":"[*Always code as if the guy who ends up maintaining your code will be a violent psychopath who knows where you live. Code for readability.*](https://stackoverflow.com/a/878436/2970947) I literally just ripped a homebrew connection pool out of a project that was hosted in Tomcat. Why? Because that was 3000 lines of buggy code that could be replaced with a single JNDI call into the existing Tomcat connection pool. The people who wrote this custom monstrosity were long gone. And why should we pay that technical debt forever?","body":"<a href=\"https://stackoverflow.com/a/878436/2970947\"><i>Always code as if the guy who ends up maintaining your code will be a violent psychopath who knows where you live. Code for readability.</i></a> I literally just ripped a homebrew connection pool out of a project that was hosted in Tomcat. Why? Because that was 3000 lines of buggy code that could be replaced with a single JNDI call into the existing Tomcat connection pool. The people who wrote this custom monstrosity were long gone. And why should we pay that technical debt forever?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685926299,"post_id":76398068,"comment_id":134724660,"body_markdown":"@ElliottFrisch, that&#39;s great, bruh.  Totally wicked!","body":"@ElliottFrisch, that&#39;s great, bruh.  Totally wicked!"}],"answers":[{"tags":[],"owner":{"account_id":28189864,"reputation":917,"user_id":21545421,"display_name":"amycodes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685832768,"creation_date":1685832768,"answer_id":76398332,"question_id":76398068,"body_markdown":"The easiest way to implement this in Java (similar to all the big libs), is an inheritance tree of object types.\r\n```\r\n                    ┌─────┐\r\n                    │Value│\r\n      ┌─────────────┴──┬──┴──────────────┐\r\n      │                │                 │\r\n┌─────▼──────┐   ┌─────▼─────┐    ┌──────▼─────┐\r\n│IntegerValue│   │StringValue│    │BooleanValue│\r\n└────────────┘   └───────────┘    └────────────┘\r\n```\r\n\r\nOptionally, add casting methods as you described onto `Value`. Checking the type of a `Value` is now a type level operation, so you can use `instanceof`.","title":"A question regarding a class structure that will hold various types","body":"<p>The easiest way to implement this in Java (similar to all the big libs), is an inheritance tree of object types.</p>\n<pre><code>                    ┌─────┐\n                    │Value│\n      ┌─────────────┴──┬──┴──────────────┐\n      │                │                 │\n┌─────▼──────┐   ┌─────▼─────┐    ┌──────▼─────┐\n│IntegerValue│   │StringValue│    │BooleanValue│\n└────────────┘   └───────────┘    └────────────┘\n</code></pre>\n<p>Optionally, add casting methods as you described onto <code>Value</code>. Checking the type of a <code>Value</code> is now a type level operation, so you can use <code>instanceof</code>.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1685838143,"creation_date":1685838143,"answer_id":76398515,"question_id":76398068,"body_markdown":"In broad strokes you have 3 options.\r\n\r\nBut before we go through those, there are perfectly fine JSON parsing libraries out there. The standard `org.json` one is extremely hard to use and not at all recommended, but there&#39;s [GSON](https://github.com/google/gson) and [Jackson-json](https://github.com/FasterXML/jackson). Open source, _very_ widely used, and do all or most of this stuff already. Not sure why you want to reinvent this wheel. But, in the spirit of the question:\r\n\r\nLet&#39;s work with an example:\r\n\r\n```\r\n{\r\n  &quot;movies&quot;: [\r\n    {\r\n      &quot;title&quot;: &quot;A Few Good Men&quot;,\r\n      &quot;director&quot;: {\r\n        &quot;name&quot;: &quot;Rob Reiner&quot;,\r\n        &quot;dob&quot;: {\r\n          &quot;year&quot;: 1947,\r\n          &quot;month&quot;: 3,\r\n          &quot;day&quot;: 6\r\n        }\r\n      },\r\n      &quot;stars&quot;: [\r\n        &quot;Demi Moore&quot;,\r\n        &quot;Tom Cruise&quot;,\r\n        &quot;Jack Nicholson&quot;\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n## Just cast em\r\n\r\nThis is what the org.json library does, and results in _excessively_ verbose and hard to write code.\r\n\r\nYour `json.parse` method returns a `JsonObject`, which is an abstract class and not particularly useful until you instanceof check what it actually is and cast from there.\r\n\r\n__If__ as a user of this library you know pretty much exactly how that data is structured and what you&#39;re looking for, in old timey java, you&#39;d write:\r\n\r\n```\r\nJsonValue j = parse(jsonString);\r\nJsonList movies = (JsonList) ((JsonObject) j).get(&quot;movies&quot;);\r\nfor (JsonValue m : movies) {\r\n  int birthYearOfDirector = ((JsonNumber) ((JsonObject) ((JsonObject) ((JsonObject) m).get(&quot;director&quot;)).get(&quot;dob&quot;)).get(&quot;year&quot;)).asInt();\r\n}\r\n```\r\n\r\nwhich surely needs no further debate about how ridiculous that is.\r\n\r\nWith [patterned switches](https://www.baeldung.com/java-switch-pattern-matching), you have a few more options but it really doesn&#39;t get any better.\r\n\r\nThis style of parsing is considerably less convoluted if you _do not_ know what you&#39;re looking for; for example, if you&#39;re writing a JSON UI widget that just renders it, this really isn&#39;t that bad.\r\n\r\n## The key problem\r\n\r\nThe problem is that JSON is untyped, but in java, we really need those types so that the parser can provide the data in the way the library user wants it. This means the structure and types of the JSON need to be provided externally.\r\n\r\n## Marshalling\r\n\r\nOne obvious way to do it, is by using simple java classes or records to represent this stuff. The library would work as follows:\r\n\r\n```\r\npublic record Movies(List&lt;Movie&gt; movies) {}\r\n\r\npublic record Movie(String title, Director director, List&lt;String&gt; stars) {}\r\n\r\npublic record Director(String name, LocalDate dob) {}\r\n\r\n// to use:\r\n\r\nMovies movies = jsonParser.parse(jsonString, Movies.class);\r\n```\r\n\r\nField names are public, record constructors are well defined, field types are public and &#39;reified&#39; (you can look up the part in the `&lt;&gt;`, that is _not_ erased). This complicates the library as it has to go on a reflective spree to bind it all together but it can be done, and this is something popular JSON libraries such as GSON and Jackson offer. The same system can be used to turn an instance into a JSON. Some obvious concerns:\r\n\r\n* You really need a library of custom parsers; often `LocalDate x;` should just work for some data in your JSON consisting of `{&quot;x&quot;: &quot;1970-12-31&quot;}` - GSON and co let you add &#39;parsers&#39; and the like which are handed some JsonValue and a type (e.g. LocalDate), and this lets you handle such things. That does make it more complicated. You hardcode a few parsers (certainly all number types, string, and list, possibly (hash)map, need custom libraries).\r\n\r\n* You want the ability to add parse or format hints, such as wishing for a `long` to nevertheless be rendered as a string (note that if you send your JSON to javascript, or even just get it parsed elsewhere given that JSON is defined in terms of javascript, all numbers are effectively `double`, so the usual problems with doubles and rounding occurs. Trying to store a very large id, e.g. above 2^52, in a JSON number is a really bad idea as a consequence - whatever you send it to is extremely likely to round that). Annotations with RUNTIME level retention can do that.\r\n\r\nMarshalling is entirely useless if the user of the library doesn&#39;t know the structure of the JSON you&#39;re working with (such as when writing a &#39;JSON viewer&#39; UI widget). This is why GSON and Jackson offer both this _and_ a more &#39;just cast-em&#39; like library.\r\n\r\n## Replace `get()` with `asInt()` and friends.\r\n\r\nInstead of forcing the user to check what a thing is (with `instanceof`), or cast a thing to what they know it is, make methods for each type instead:\r\n\r\n```\r\nJson j = parse(jsonString);\r\nfor (Json m : j.get(&quot;movies&quot;).list()) {\r\n  int directorBirthYear = m.get(&quot;director&quot;).get(&quot;dob&quot;).get(&quot;year&quot;).asInt(0);\r\n}\r\n```\r\n\r\nThere is no `JsonNumber`, `JsonBoolean`, etcetera - instead there&#39;s just `Json` (though you may have package-private subtypes that implement each JSON principal data type). `.get()` just returns a wrapper object with the &#39;path&#39; encoded in it (you don&#39;t want &#39;pathing&#39; into non-existent spaces to throw exceptions), only `asX()` does a look up and these methods come in many variants (`asBoolean`, `asStringList`, and so on), each variant overloaded: A no-args variant that throws if the path you are in doesn&#39;t exist. And an argsed variant that takes a default that is returned if the path does not exist. If the path does exist but the value you find there is fundamentally incompatible, it&#39;s a bit of a design decision if that means the default should be returned, or an exception should be thrown (e.g. if you call `.asInt(100)` and the value there is `&quot;foobar&quot;`, what now)?\r\n\r\nSame &#39;what now?&#39; design question arises if e.g. the input json has a `&quot;director&quot;` k/v pair but its value is simply &#39;18&#39;, instead of a JSON object that contains a key named `&quot;dob&quot;`.\r\n\r\nThe point is, the vast majority of JSON out there tends to have known structure (known to the library user), but often omits data that cannot be supplied or isn&#39;t relevant, and usually you want to handle that by going with a default value. This path solution is compatible with that idea, and is highly efficient (in the &#39;simple to write and understand, succinct code&#39; sense), _if_ you know what you&#39;re looking for.\r\n\r\nYou can make an explicit `JsonValue` type hierarchy and add an `asValue()` method to cater to the &#39;UI widget that can view arbitrary JSON&#39; use case if you need this.\r\n","title":"A question regarding a class structure that will hold various types","body":"<p>In broad strokes you have 3 options.</p>\n<p>But before we go through those, there are perfectly fine JSON parsing libraries out there. The standard <code>org.json</code> one is extremely hard to use and not at all recommended, but there's <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a> and <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson-json</a>. Open source, <em>very</em> widely used, and do all or most of this stuff already. Not sure why you want to reinvent this wheel. But, in the spirit of the question:</p>\n<p>Let's work with an example:</p>\n<pre><code>{\n  &quot;movies&quot;: [\n    {\n      &quot;title&quot;: &quot;A Few Good Men&quot;,\n      &quot;director&quot;: {\n        &quot;name&quot;: &quot;Rob Reiner&quot;,\n        &quot;dob&quot;: {\n          &quot;year&quot;: 1947,\n          &quot;month&quot;: 3,\n          &quot;day&quot;: 6\n        }\n      },\n      &quot;stars&quot;: [\n        &quot;Demi Moore&quot;,\n        &quot;Tom Cruise&quot;,\n        &quot;Jack Nicholson&quot;\n      ]\n    }\n  ]\n}\n</code></pre>\n<h2>Just cast em</h2>\n<p>This is what the org.json library does, and results in <em>excessively</em> verbose and hard to write code.</p>\n<p>Your <code>json.parse</code> method returns a <code>JsonObject</code>, which is an abstract class and not particularly useful until you instanceof check what it actually is and cast from there.</p>\n<p><strong>If</strong> as a user of this library you know pretty much exactly how that data is structured and what you're looking for, in old timey java, you'd write:</p>\n<pre><code>JsonValue j = parse(jsonString);\nJsonList movies = (JsonList) ((JsonObject) j).get(&quot;movies&quot;);\nfor (JsonValue m : movies) {\n  int birthYearOfDirector = ((JsonNumber) ((JsonObject) ((JsonObject) ((JsonObject) m).get(&quot;director&quot;)).get(&quot;dob&quot;)).get(&quot;year&quot;)).asInt();\n}\n</code></pre>\n<p>which surely needs no further debate about how ridiculous that is.</p>\n<p>With <a href=\"https://www.baeldung.com/java-switch-pattern-matching\" rel=\"nofollow noreferrer\">patterned switches</a>, you have a few more options but it really doesn't get any better.</p>\n<p>This style of parsing is considerably less convoluted if you <em>do not</em> know what you're looking for; for example, if you're writing a JSON UI widget that just renders it, this really isn't that bad.</p>\n<h2>The key problem</h2>\n<p>The problem is that JSON is untyped, but in java, we really need those types so that the parser can provide the data in the way the library user wants it. This means the structure and types of the JSON need to be provided externally.</p>\n<h2>Marshalling</h2>\n<p>One obvious way to do it, is by using simple java classes or records to represent this stuff. The library would work as follows:</p>\n<pre><code>public record Movies(List&lt;Movie&gt; movies) {}\n\npublic record Movie(String title, Director director, List&lt;String&gt; stars) {}\n\npublic record Director(String name, LocalDate dob) {}\n\n// to use:\n\nMovies movies = jsonParser.parse(jsonString, Movies.class);\n</code></pre>\n<p>Field names are public, record constructors are well defined, field types are public and 'reified' (you can look up the part in the <code>&lt;&gt;</code>, that is <em>not</em> erased). This complicates the library as it has to go on a reflective spree to bind it all together but it can be done, and this is something popular JSON libraries such as GSON and Jackson offer. The same system can be used to turn an instance into a JSON. Some obvious concerns:</p>\n<ul>\n<li><p>You really need a library of custom parsers; often <code>LocalDate x;</code> should just work for some data in your JSON consisting of <code>{&quot;x&quot;: &quot;1970-12-31&quot;}</code> - GSON and co let you add 'parsers' and the like which are handed some JsonValue and a type (e.g. LocalDate), and this lets you handle such things. That does make it more complicated. You hardcode a few parsers (certainly all number types, string, and list, possibly (hash)map, need custom libraries).</p>\n</li>\n<li><p>You want the ability to add parse or format hints, such as wishing for a <code>long</code> to nevertheless be rendered as a string (note that if you send your JSON to javascript, or even just get it parsed elsewhere given that JSON is defined in terms of javascript, all numbers are effectively <code>double</code>, so the usual problems with doubles and rounding occurs. Trying to store a very large id, e.g. above 2^52, in a JSON number is a really bad idea as a consequence - whatever you send it to is extremely likely to round that). Annotations with RUNTIME level retention can do that.</p>\n</li>\n</ul>\n<p>Marshalling is entirely useless if the user of the library doesn't know the structure of the JSON you're working with (such as when writing a 'JSON viewer' UI widget). This is why GSON and Jackson offer both this <em>and</em> a more 'just cast-em' like library.</p>\n<h2>Replace <code>get()</code> with <code>asInt()</code> and friends.</h2>\n<p>Instead of forcing the user to check what a thing is (with <code>instanceof</code>), or cast a thing to what they know it is, make methods for each type instead:</p>\n<pre><code>Json j = parse(jsonString);\nfor (Json m : j.get(&quot;movies&quot;).list()) {\n  int directorBirthYear = m.get(&quot;director&quot;).get(&quot;dob&quot;).get(&quot;year&quot;).asInt(0);\n}\n</code></pre>\n<p>There is no <code>JsonNumber</code>, <code>JsonBoolean</code>, etcetera - instead there's just <code>Json</code> (though you may have package-private subtypes that implement each JSON principal data type). <code>.get()</code> just returns a wrapper object with the 'path' encoded in it (you don't want 'pathing' into non-existent spaces to throw exceptions), only <code>asX()</code> does a look up and these methods come in many variants (<code>asBoolean</code>, <code>asStringList</code>, and so on), each variant overloaded: A no-args variant that throws if the path you are in doesn't exist. And an argsed variant that takes a default that is returned if the path does not exist. If the path does exist but the value you find there is fundamentally incompatible, it's a bit of a design decision if that means the default should be returned, or an exception should be thrown (e.g. if you call <code>.asInt(100)</code> and the value there is <code>&quot;foobar&quot;</code>, what now)?</p>\n<p>Same 'what now?' design question arises if e.g. the input json has a <code>&quot;director&quot;</code> k/v pair but its value is simply '18', instead of a JSON object that contains a key named <code>&quot;dob&quot;</code>.</p>\n<p>The point is, the vast majority of JSON out there tends to have known structure (known to the library user), but often omits data that cannot be supplied or isn't relevant, and usually you want to handle that by going with a default value. This path solution is compatible with that idea, and is highly efficient (in the 'simple to write and understand, succinct code' sense), <em>if</em> you know what you're looking for.</p>\n<p>You can make an explicit <code>JsonValue</code> type hierarchy and add an <code>asValue()</code> method to cater to the 'UI widget that can view arbitrary JSON' use case if you need this.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685923556,"creation_date":1685923556,"answer_id":76402894,"question_id":76398068,"body_markdown":"I used @amycodes&#39;s answer, in addition to reviewing some _[gson](https://github.com/google/gson/tree/master/gson/src/main/java/com/google/gson)_ classes.  \r\nThanks for the recommendation.\r\n\r\nI&#39;m using an _abstract class_ as the main class.  \r\nAnd, I&#39;m using a sub-class for each type of _value_.\r\n\r\nNote, these are all nested classes, within the _JSONParser_ class.  \r\nThat&#39;s why they are all declared as _static_.\r\n\r\n```java\r\nprivate abstract static class JSONValue {\r\n    JSONBoolean asBoolean() throws IllegalJSONValueException {\r\n        if (this instanceof JSONBoolean) return (JSONBoolean) this;\r\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONBoolean.class);\r\n    }\r\n\r\n    JSONNull asNull() throws IllegalJSONValueException {\r\n        if (this instanceof JSONNull) return (JSONNull) this;\r\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONNull.class);\r\n    }\r\n\r\n    JSONObject asObject() throws IllegalJSONValueException {\r\n        if (this instanceof JSONObject) return (JSONObject) this;\r\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONObject.class);\r\n    }\r\n\r\n    JSONArray asArray() throws IllegalJSONValueException {\r\n        if (this instanceof JSONArray) return (JSONArray) this;\r\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONArray.class);\r\n    }\r\n\r\n    JSONNumber adNumber() throws IllegalJSONValueException {\r\n        if (this instanceof JSONNumber) return (JSONNumber) this;\r\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONNumber.class);\r\n    }\r\n\r\n    JSONString asString() throws IllegalJSONValueException {\r\n        if (this instanceof JSONString) return (JSONString) this;\r\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONString.class);\r\n    }\r\n\r\n    private static class IllegalJSONValueException extends Exception {\r\n        public IllegalJSONValueException(String string, JSONValue valueA, Class&lt;?&gt; valueB) {\r\n            super(valueA.getClass().getSimpleName() + &quot; is not an instance of &quot; + valueB.getSimpleName());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThese classes will subsequently have the corresponding instance methods&amp;mdash;such as _JSONObject#withKey_, _JSONArray#get_, _JSONBoolean#isTrue_, etc.\r\n\r\n```java\r\nstatic class JSONBoolean extends JSONValue {\r\n    private boolean value;\r\n}\r\n\r\nstatic class JSONNull extends JSONValue {\r\n}\r\n\r\nstatic class JSONObject extends JSONValue {\r\n    List&lt;Member&gt; list;\r\n\r\n    private static class Member {\r\n        String name;\r\n        List&lt;JSONValue&gt; value;\r\n    }\r\n}\r\n\r\nstatic class JSONArray extends JSONValue {\r\n    List&lt;JSONValue&gt; list;\r\n}\r\n\r\nstatic class JSONNumber extends JSONValue {\r\n    String number;\r\n}\r\n\r\nstatic class JSONString extends JSONValue {\r\n    String string;\r\n}\r\n```","title":"A question regarding a class structure that will hold various types","body":"<p>I used @amycodes's answer, in addition to reviewing some <em><a href=\"https://github.com/google/gson/tree/master/gson/src/main/java/com/google/gson\" rel=\"nofollow noreferrer\">gson</a></em> classes.<br />\nThanks for the recommendation.</p>\n<p>I'm using an <em>abstract class</em> as the main class.<br />\nAnd, I'm using a sub-class for each type of <em>value</em>.</p>\n<p>Note, these are all nested classes, within the <em>JSONParser</em> class.<br />\nThat's why they are all declared as <em>static</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private abstract static class JSONValue {\n    JSONBoolean asBoolean() throws IllegalJSONValueException {\n        if (this instanceof JSONBoolean) return (JSONBoolean) this;\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONBoolean.class);\n    }\n\n    JSONNull asNull() throws IllegalJSONValueException {\n        if (this instanceof JSONNull) return (JSONNull) this;\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONNull.class);\n    }\n\n    JSONObject asObject() throws IllegalJSONValueException {\n        if (this instanceof JSONObject) return (JSONObject) this;\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONObject.class);\n    }\n\n    JSONArray asArray() throws IllegalJSONValueException {\n        if (this instanceof JSONArray) return (JSONArray) this;\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONArray.class);\n    }\n\n    JSONNumber adNumber() throws IllegalJSONValueException {\n        if (this instanceof JSONNumber) return (JSONNumber) this;\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONNumber.class);\n    }\n\n    JSONString asString() throws IllegalJSONValueException {\n        if (this instanceof JSONString) return (JSONString) this;\n        throw new IllegalJSONValueException(getClass().getSimpleName(), this, JSONString.class);\n    }\n\n    private static class IllegalJSONValueException extends Exception {\n        public IllegalJSONValueException(String string, JSONValue valueA, Class&lt;?&gt; valueB) {\n            super(valueA.getClass().getSimpleName() + &quot; is not an instance of &quot; + valueB.getSimpleName());\n        }\n    }\n}\n</code></pre>\n<p>These classes will subsequently have the corresponding instance methods—such as <em>JSONObject#withKey</em>, <em>JSONArray#get</em>, <em>JSONBoolean#isTrue</em>, etc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class JSONBoolean extends JSONValue {\n    private boolean value;\n}\n\nstatic class JSONNull extends JSONValue {\n}\n\nstatic class JSONObject extends JSONValue {\n    List&lt;Member&gt; list;\n\n    private static class Member {\n        String name;\n        List&lt;JSONValue&gt; value;\n    }\n}\n\nstatic class JSONArray extends JSONValue {\n    List&lt;JSONValue&gt; list;\n}\n\nstatic class JSONNumber extends JSONValue {\n    String number;\n}\n\nstatic class JSONString extends JSONValue {\n    String string;\n}\n</code></pre>\n"}],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76398332,"answer_count":3,"score":0,"last_activity_date":1685923556,"creation_date":1685826994,"question_id":76398068,"body_markdown":"I am creating a basic _JSON_ string parser and I&#39;ve run into a situation.\r\n\r\nI&#39;ve been using the following RFC.  \r\n_[RFC 8259:&amp;nbsp; The JavaScript Object Notation (JSON) Data Interchange Format](https://www.rfc-editor.org/rfc/rfc8259)_.\r\n\r\nIn _[Section 3 &amp;ndash; Values](https://www.rfc-editor.org/rfc/rfc8259#section-3)_, it defines that a value is as follows.\r\n\r\n```none\r\nvalue = false / null / true / object / array / number / string\r\n```\r\n\r\nAnd, _[Section 4 &amp;ndash; Objects](https://www.rfc-editor.org/rfc/rfc8259#section-4)_ defines an object.\r\n\r\n```none\r\nobject = begin-object [ member *( value-separator member ) ]\r\n         end-object\r\n\r\nmember = string name-separator value\r\n```\r\n\r\nThus, in my code I created the following class structures.\r\n\r\n```java\r\nprivate static class Value {\r\n    private java.lang.Object object;\r\n\r\n    @Override\r\n    public String toString() {\r\n        String string;\r\n        if (object instanceof Boolean) string = (boolean) object ? &quot;true&quot; : &quot;false&quot;;\r\n        else if (object instanceof BigDecimal) string = ((BigDecimal) object).toPlainString();\r\n        else if (object instanceof String) string = (String) object;\r\n        else string = object.toString();\r\n        return string;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nprivate static class Object {\r\n    List&lt;Member&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    private static class Member {\r\n        private String name;\r\n        private List&lt;Value&gt; value;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;{&quot; + name + &quot;: &quot; + value + &quot;}&quot;;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return list.toString();\r\n    }\r\n}\r\n```\r\n\r\nI am attempting to determine if there is a more logical way to do this.  \r\nIs there a better way to contain each of those types, and then capture their content accordingly.\r\n\r\nI thought of just storing them all as _String_ values, although an _object_ has less precedence than a _value_.  \r\nTherefore, there would not be any difference in what I currently have implemented.\r\n\r\nI feel inheritance would prove abstruse and lacking, since it won&#39;t ever scale beyond this.  \r\nThe values will always have the forms described.\r\n\r\nEssentially, I want to have the following pseudo-code as an end-point.  \r\nAnd, the error I encounter is that the user will have to decouple an _array_ of _JSON objects_.  \r\nTo provide them with _Java Objects_ seems daunting,\r\n\r\n```java\r\nparser.get(&quot;key&quot;).asString();\r\nparser.get(0).asArray();\r\nparser.get(1).asObject();\r\nparser.findObject(&quot;key&quot;).asObject();\r\nparser.findNumber(123).asNumber();\r\n```\r\n\r\nIs there some sort of concept, or design, that can be used to harness a set of uncorrelated values?  \r\nHow can I offer the _JSON object_, or _array_, to the user, in a way that won&#39;t require them to cast a _Java Object_?","title":"A question regarding a class structure that will hold various types","body":"<p>I am creating a basic <em>JSON</em> string parser and I've run into a situation.</p>\n<p>I've been using the following RFC.<br />\n<em><a href=\"https://www.rfc-editor.org/rfc/rfc8259\" rel=\"nofollow noreferrer\">RFC 8259:  The JavaScript Object Notation (JSON) Data Interchange Format</a></em>.</p>\n<p>In <em><a href=\"https://www.rfc-editor.org/rfc/rfc8259#section-3\" rel=\"nofollow noreferrer\">Section 3 – Values</a></em>, it defines that a value is as follows.</p>\n<pre class=\"lang-none prettyprint-override\"><code>value = false / null / true / object / array / number / string\n</code></pre>\n<p>And, <em><a href=\"https://www.rfc-editor.org/rfc/rfc8259#section-4\" rel=\"nofollow noreferrer\">Section 4 – Objects</a></em> defines an object.</p>\n<pre class=\"lang-none prettyprint-override\"><code>object = begin-object [ member *( value-separator member ) ]\n         end-object\n\nmember = string name-separator value\n</code></pre>\n<p>Thus, in my code I created the following class structures.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class Value {\n    private java.lang.Object object;\n\n    @Override\n    public String toString() {\n        String string;\n        if (object instanceof Boolean) string = (boolean) object ? &quot;true&quot; : &quot;false&quot;;\n        else if (object instanceof BigDecimal) string = ((BigDecimal) object).toPlainString();\n        else if (object instanceof String) string = (String) object;\n        else string = object.toString();\n        return string;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static class Object {\n    List&lt;Member&gt; list = new ArrayList&lt;&gt;();\n\n    private static class Member {\n        private String name;\n        private List&lt;Value&gt; value;\n\n        @Override\n        public String toString() {\n            return &quot;{&quot; + name + &quot;: &quot; + value + &quot;}&quot;;\n        }\n    }\n\n    @Override\n    public String toString() {\n        return list.toString();\n    }\n}\n</code></pre>\n<p>I am attempting to determine if there is a more logical way to do this.<br />\nIs there a better way to contain each of those types, and then capture their content accordingly.</p>\n<p>I thought of just storing them all as <em>String</em> values, although an <em>object</em> has less precedence than a <em>value</em>.<br />\nTherefore, there would not be any difference in what I currently have implemented.</p>\n<p>I feel inheritance would prove abstruse and lacking, since it won't ever scale beyond this.<br />\nThe values will always have the forms described.</p>\n<p>Essentially, I want to have the following pseudo-code as an end-point.<br />\nAnd, the error I encounter is that the user will have to decouple an <em>array</em> of <em>JSON objects</em>.<br />\nTo provide them with <em>Java Objects</em> seems daunting,</p>\n<pre class=\"lang-java prettyprint-override\"><code>parser.get(&quot;key&quot;).asString();\nparser.get(0).asArray();\nparser.get(1).asObject();\nparser.findObject(&quot;key&quot;).asObject();\nparser.findNumber(123).asNumber();\n</code></pre>\n<p>Is there some sort of concept, or design, that can be used to harness a set of uncorrelated values?<br />\nHow can I offer the <em>JSON object</em>, or <em>array</em>, to the user, in a way that won't require them to cast a <em>Java Object</em>?</p>\n"},{"tags":["java","eclipse","math","func"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1685909675,"post_id":76402230,"comment_id":134723361,"body_markdown":"Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question) --- Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a> --- Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1685910542,"post_id":76402230,"comment_id":134723437,"body_markdown":"Are you saying that the code in the question is working as expected? Please show the code that *isn&#39;t* working and which errors you get by editing the into the question.","body":"Are you saying that the code in the question is working as expected? Please show the code that <i>isn&#39;t</i> working and which errors you get by editing the into the question."},{"owner":{"account_id":28108864,"reputation":11,"user_id":21477016,"display_name":"Lua"},"score":0,"creation_date":1685912118,"post_id":76402230,"comment_id":134723584,"body_markdown":"@S&#246;ren it isn&#39;t working and this shows up: Exception in thread &quot;main&quot; java.lang.StackOverflowError\n\tat math.Math.abs(Math.java:18)","body":"@S&#246;ren it isn&#39;t working and this shows up: Exception in thread &quot;main&quot; java.lang.StackOverflowError \tat math.Math.abs(Math.java:18)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685916309,"post_id":76402230,"comment_id":134723945,"body_markdown":"You get a stack overflow because your `abs` function calls itself. It will call itself again and again, creating a new stack frame each time until the space allocated for the stack is exhausted.","body":"You get a stack overflow because your <code>abs</code> function calls itself. It will call itself again and again, creating a new stack frame each time until the space allocated for the stack is exhausted."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685915877,"creation_date":1685913673,"answer_id":76402461,"question_id":76402230,"body_markdown":"This can be a slightly confusing topic, if you&#39;re new to Java.\r\n\r\nFirst, you&#39;ll have to understand the concept of _objects_ in computer science.\r\n\r\nAs you may know, coding languages can fall into categories referred to as _[paradigms](https://en.wikipedia.org/wiki/Programming_paradigm)_.  \r\n_Java_, along with several others&amp;mdash;notably, _C++_, _C#_, and _Visual Basic_&amp;mdash;are within, what is termed an _[object-oriented](https://en.wikipedia.org/wiki/Object-oriented_programming)_ paradigm.\r\n\r\nIn computer science, an _[object](https://en.wikipedia.org/wiki/Object_(computer_science))_ is typically defined as follows.\r\n\r\n&gt; _&quot;... an object can be a variable, a data structure, a function, or a method.&quot;_\r\n\r\nAs a note, you&#39;ll find in most Java literature, an _&quot;object&quot;_ is in reference to a _class_, and not the variables or methods.  \r\nThis is not a standard, it&#39;s just a common occurance.\r\n\r\nYour question is regarding why you have to write _&quot;private static&quot;_.\r\n\r\nThe _[static](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)_ keyword is a context modifier for your method.  \r\nIn otherwords, you&#39;re negating the need for an instance&amp;mdash;the context is _static_, in terms of its declaration.\r\n\r\n&gt; _&quot;Static methods, which have the static modifier in their declarations, should be invoked with the class name, without the need for creating an instance of the class_&quot;\r\n\r\nFor example\r\n\r\n```java\r\nExample.methodName();\r\n```\r\n\r\nAs, opposed to\r\n\r\n```java\r\nExample example = new Example();\r\nexample.methodName();\r\n```\r\n\r\nSince a class&#39;s variables and methods are within the context of a plausible instance, a static modifier will remove it from that context.  \r\nThus, you cannot access the instance variables and methods, from within a static context.\r\n\r\nSimilar to how you can access the _Math_ methods without an instance.\r\n\r\nConsider the following.\r\n\r\n```java\r\nString string = &quot;stack overflow&quot;;\r\n\r\nstatic void methodName() {\r\n    /* &#39;string&#39; will be inaccessible here */\r\n}\r\n```\r\n\r\nSo, in conclusion, you _can_ provide a static modifier to your method, to access it from within the _main_ method, which is static.\r\n\r\nAdditionally, you could simply instantiate your enclosing class, and access the non-static method that way.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    double z = -9.8;\r\n    double A;\r\n    \r\n    Math math = new Math();\r\n    A = math.abs(z);\r\n\r\n    System.out.println(&quot;Valor absoluto de &quot; + z + &quot; = &quot; + A);\r\n}\r\n\r\nprivate double abs(double z) {\r\n\r\n    double A = abs(z);\r\n\r\n    return A;\r\n}\r\n```\r\n\r\nFurthermore, I believe you mean to have this written.\r\n\r\n```java\r\nprivate double abs(double z) {\r\n\r\n    double A = java.lang.Math.abs(z);\r\n\r\n    return A;\r\n}\r\n```","title":"I&#39;m trying to learn Java, and I was studying the Math library","body":"<p>This can be a slightly confusing topic, if you're new to Java.</p>\n<p>First, you'll have to understand the concept of <em>objects</em> in computer science.</p>\n<p>As you may know, coding languages can fall into categories referred to as <em><a href=\"https://en.wikipedia.org/wiki/Programming_paradigm\" rel=\"nofollow noreferrer\">paradigms</a></em>.<br />\n<em>Java</em>, along with several others—notably, <em>C++</em>, <em>C#</em>, and <em>Visual Basic</em>—are within, what is termed an <em><a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented</a></em> paradigm.</p>\n<p>In computer science, an <em><a href=\"https://en.wikipedia.org/wiki/Object_(computer_science)\" rel=\"nofollow noreferrer\">object</a></em> is typically defined as follows.</p>\n<blockquote>\n<p><em>&quot;... an object can be a variable, a data structure, a function, or a method.&quot;</em></p>\n</blockquote>\n<p>As a note, you'll find in most Java literature, an <em>&quot;object&quot;</em> is in reference to a <em>class</em>, and not the variables or methods.<br />\nThis is not a standard, it's just a common occurance.</p>\n<p>Your question is regarding why you have to write <em>&quot;private static&quot;</em>.</p>\n<p>The <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">static</a></em> keyword is a context modifier for your method.<br />\nIn otherwords, you're negating the need for an instance—the context is <em>static</em>, in terms of its declaration.</p>\n<blockquote>\n<p><em>&quot;Static methods, which have the static modifier in their declarations, should be invoked with the class name, without the need for creating an instance of the class</em>&quot;</p>\n</blockquote>\n<p>For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>Example.methodName();\n</code></pre>\n<p>As, opposed to</p>\n<pre class=\"lang-java prettyprint-override\"><code>Example example = new Example();\nexample.methodName();\n</code></pre>\n<p>Since a class's variables and methods are within the context of a plausible instance, a static modifier will remove it from that context.<br />\nThus, you cannot access the instance variables and methods, from within a static context.</p>\n<p>Similar to how you can access the <em>Math</em> methods without an instance.</p>\n<p>Consider the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;stack overflow&quot;;\n\nstatic void methodName() {\n    /* 'string' will be inaccessible here */\n}\n</code></pre>\n<p>So, in conclusion, you <em>can</em> provide a static modifier to your method, to access it from within the <em>main</em> method, which is static.</p>\n<p>Additionally, you could simply instantiate your enclosing class, and access the non-static method that way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    double z = -9.8;\n    double A;\n    \n    Math math = new Math();\n    A = math.abs(z);\n\n    System.out.println(&quot;Valor absoluto de &quot; + z + &quot; = &quot; + A);\n}\n\nprivate double abs(double z) {\n\n    double A = abs(z);\n\n    return A;\n}\n</code></pre>\n<p>Furthermore, I believe you mean to have this written.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private double abs(double z) {\n\n    double A = java.lang.Math.abs(z);\n\n    return A;\n}\n</code></pre>\n"}],"owner":{"account_id":28108864,"reputation":11,"user_id":21477016,"display_name":"Lua"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76402461,"answer_count":1,"score":-1,"last_activity_date":1685922711,"creation_date":1685909546,"question_id":76402230,"body_markdown":"So, I was trying to run this code:\r\nI had to put the `private static double()` because it didn&#39;t run and java kept asking for me to do that\r\n\r\n```java\r\npublic class Math {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tdouble z = -9.8;\r\n\t\tdouble A;\r\n\r\n\t\t\r\n\t\tA = Math.abs(z);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Valor absoluto de &quot; + z + &quot; = &quot; + A);\r\n\t}\r\n\r\n\t\r\n\tprivate static double abs(double z) {\r\n\t\t\r\n\t\tdouble A = abs(z);\r\n\t\t\r\n\t\treturn A;\r\n\t}\r\n}\r\n```\r\nand i don&#39;t know what it&#39;s wrong, help please\r\n\r\n\r\n\r\nplease explain why do I have to do the private static and what do I have to write in it","title":"I&#39;m trying to learn Java, and I was studying the Math library","body":"<p>So, I was trying to run this code:\nI had to put the <code>private static double()</code> because it didn't run and java kept asking for me to do that</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Math {\n    public static void main(String[] args) {\n        \n        double z = -9.8;\n        double A;\n\n        \n        A = Math.abs(z);\n        \n        System.out.println(&quot;Valor absoluto de &quot; + z + &quot; = &quot; + A);\n    }\n\n    \n    private static double abs(double z) {\n        \n        double A = abs(z);\n        \n        return A;\n    }\n}\n</code></pre>\n<p>and i don't know what it's wrong, help please</p>\n<p>please explain why do I have to do the private static and what do I have to write in it</p>\n"},{"tags":["java","fitnesse","fitnesse-slim"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685921131,"creation_date":1685763333,"answer_id":76394467,"question_id":76394319,"body_markdown":"&gt; Is this a java version issue or something else?\r\n\r\nYes &amp; No.  The problem that occurred when you tried to use JDK 20 is the Java version.  The original problem when you were using Java 8 is ... something else. \r\n\r\nThe version of Fitnesse that you are using depends on the deprecated SecurityManager functionality. From Java 18 onwards, an application can only use the functionality if it is run with special command-line options; see [JEP 411: Deprecate the Security Manager for Removal](https://openjdk.org/jeps/411). \r\n\r\nIf you want to run that version of Fitnesse, it is advisable to use an earlier version of Java.  In fact, the Fitnesse download page (currently) says:\r\n\r\n&gt; FitNesse requires the Java Runtime Environment (JRE) version 8 or 11.\r\n\r\nHowever, according to [this issue][1], Fitnesse seems to work on Java 17 (LTS) albeit with some log messages about security manager deprecation.  Fitnesse doesn&#39;t actually &quot;break&quot; until Java 18.\\\r\n\r\n-----------------\r\n\r\nIn general, unless you *need* the features of a non-LTS version of Java.  It is advisable to stick with the LTS Java releases.  The non-LTS Java releases go end-of-life 6 months after they are released!  (Newest is not always best.)  The current LTS releases of Java are 8, 11 and 17.  Java 21 (due later this year) is also expected to be an LTS release.\r\n\r\n  [1]: https://github.com/unclebob/fitnesse/issues/1338","title":"Which java version does fitnesse slim works with?","body":"<blockquote>\n<p>Is this a java version issue or something else?</p>\n</blockquote>\n<p>Yes &amp; No.  The problem that occurred when you tried to use JDK 20 is the Java version.  The original problem when you were using Java 8 is ... something else.</p>\n<p>The version of Fitnesse that you are using depends on the deprecated SecurityManager functionality. From Java 18 onwards, an application can only use the functionality if it is run with special command-line options; see <a href=\"https://openjdk.org/jeps/411\" rel=\"nofollow noreferrer\">JEP 411: Deprecate the Security Manager for Removal</a>.</p>\n<p>If you want to run that version of Fitnesse, it is advisable to use an earlier version of Java.  In fact, the Fitnesse download page (currently) says:</p>\n<blockquote>\n<p>FitNesse requires the Java Runtime Environment (JRE) version 8 or 11.</p>\n</blockquote>\n<p>However, according to <a href=\"https://github.com/unclebob/fitnesse/issues/1338\" rel=\"nofollow noreferrer\">this issue</a>, Fitnesse seems to work on Java 17 (LTS) albeit with some log messages about security manager deprecation.  Fitnesse doesn't actually &quot;break&quot; until Java 18.\\</p>\n<hr />\n<p>In general, unless you <em>need</em> the features of a non-LTS version of Java.  It is advisable to stick with the LTS Java releases.  The non-LTS Java releases go end-of-life 6 months after they are released!  (Newest is not always best.)  The current LTS releases of Java are 8, 11 and 17.  Java 21 (due later this year) is also expected to be an LTS release.</p>\n"},{"tags":[],"owner":{"account_id":79680,"reputation":3247,"user_id":225771,"display_name":"Fried Hoeben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685869385,"creation_date":1685869385,"answer_id":76399632,"question_id":76394319,"body_markdown":"The error `Could not invoke constructor for SlimVarDbl[0]` is often caused by the fact the Java class is part of a `package`. If the Java class has a `package` definition you need to define an `import` table in FitNesse to indicate fixture classes can come from that package, and the `.class` file must be placed in a directory structure below the &#39;path&#39;, matching the package.\r\n\r\nCan you share the (start of) the source class of `SlimVarDbl`?","title":"Which java version does fitnesse slim works with?","body":"<p>The error <code>Could not invoke constructor for SlimVarDbl[0]</code> is often caused by the fact the Java class is part of a <code>package</code>. If the Java class has a <code>package</code> definition you need to define an <code>import</code> table in FitNesse to indicate fixture classes can come from that package, and the <code>.class</code> file must be placed in a directory structure below the 'path', matching the package.</p>\n<p>Can you share the (start of) the source class of <code>SlimVarDbl</code>?</p>\n"}],"owner":{"account_id":388557,"reputation":181,"user_id":747562,"accept_rate":25,"display_name":"CPW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685921131,"creation_date":1685759032,"question_id":76394319,"body_markdown":"I worked with fitnesse a long time ago, and I am trying to use it again on Windows 11 to test some java code.  But I have encountered the following problems:\r\n\r\nI have create a fixture called SlimVarDbl, and I can see the SlimVarDbl.class file in the folder C:\\Users\\Cheng\\Documents\\Proj\\VarianceArithemtic\\Java\\bin\\fitnesse\\. I am sure that I can call new SlimVarDbl() to construct an instance.\r\n\r\nSo I created a test page as the following:\r\n```\r\n!define TEST_SYSTEM {slim} \r\n!path C:\\Users\\Cheng\\Documents\\Proj\\VarianceArithemtic\\Java\\bin\\fitnesse\\\r\n\r\n!|Slim Var Dbl                        |\r\n|value tolerance|dev tolerance|comment|\r\n|3E-15          |3E-15        |52-bit |\r\n```\r\nBut when I try to run the test, the error is:\r\n```\r\nCould not invoke constructor for SlimVarDbl[0]\r\n```\r\nAs if the fitnesse cannot recognize the class file.\r\n\r\nThe version for fitnesse-standalone.jar is v20230503. My current java version is 1.8.0_361.\r\n\r\nIf I upgrade my java version to jdk 20, I got the following error when trying to test the page:\r\n```\r\nTest system terminated with exception [fitnesse.testsystems.TestExecutionException: java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release]\r\n```\r\n\r\nIs this a java version issue or something else?","title":"Which java version does fitnesse slim works with?","body":"<p>I worked with fitnesse a long time ago, and I am trying to use it again on Windows 11 to test some java code.  But I have encountered the following problems:</p>\n<p>I have create a fixture called SlimVarDbl, and I can see the SlimVarDbl.class file in the folder C:\\Users\\Cheng\\Documents\\Proj\\VarianceArithemtic\\Java\\bin\\fitnesse. I am sure that I can call new SlimVarDbl() to construct an instance.</p>\n<p>So I created a test page as the following:</p>\n<pre><code>!define TEST_SYSTEM {slim} \n!path C:\\Users\\Cheng\\Documents\\Proj\\VarianceArithemtic\\Java\\bin\\fitnesse\\\n\n!|Slim Var Dbl                        |\n|value tolerance|dev tolerance|comment|\n|3E-15          |3E-15        |52-bit |\n</code></pre>\n<p>But when I try to run the test, the error is:</p>\n<pre><code>Could not invoke constructor for SlimVarDbl[0]\n</code></pre>\n<p>As if the fitnesse cannot recognize the class file.</p>\n<p>The version for fitnesse-standalone.jar is v20230503. My current java version is 1.8.0_361.</p>\n<p>If I upgrade my java version to jdk 20, I got the following error when trying to test the page:</p>\n<pre><code>Test system terminated with exception [fitnesse.testsystems.TestExecutionException: java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release]\n</code></pre>\n<p>Is this a java version issue or something else?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":3,"creation_date":1406167181,"post_id":24923929,"comment_id":38727435,"body_markdown":"You have to override toString method to show what you wish.","body":"You have to override toString method to show what you wish."}],"answers":[{"tags":[],"owner":{"account_id":3701688,"reputation":3358,"user_id":3081206,"display_name":"takendarkk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1406167471,"creation_date":1406167471,"answer_id":24923976,"question_id":24923929,"body_markdown":"When you say\r\n\r\n    System.out.println(person[0]);\r\n\r\njava doesn&#39;t automatically know what you want printed out. To tell it, you write a method in your `Examples` class called `toString()` which will return a string containing the info you want. Something like:\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Name: &quot; + name + \r\n               &quot; Age: &quot; + String.valueOf(this.age) + \r\n               &quot; Gender: &quot; + String.valueOf(this.gender); \r\n    }","title":"Java program outputs different characters rather than person object information","body":"<p>When you say</p>\n\n<pre><code>System.out.println(person[0]);\n</code></pre>\n\n<p>java doesn't automatically know what you want printed out. To tell it, you write a method in your <code>Examples</code> class called <code>toString()</code> which will return a string containing the info you want. Something like:</p>\n\n<pre><code>@Override\npublic String toString() {\n    return \"Name: \" + name + \n           \" Age: \" + String.valueOf(this.age) + \n           \" Gender: \" + String.valueOf(this.gender); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4791763,"reputation":5956,"user_id":3870761,"accept_rate":75,"display_name":"sergioFC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406167518,"creation_date":1406167518,"answer_id":24923981,"question_id":24923929,"body_markdown":"Your output is right, when you print an object the method toString() of the object is called; by default it returns what you see (the class and a memory direction).\r\nOverride the method toString() of the class to make him return a descriptive String. E.g.:\r\n\r\n    public class Examples {\r\n       // The same ...\r\n       public String toString(){\r\n          return &quot;My name is &quot; + name + &quot; and I have &quot; + age + &quot; years.&quot;\r\n       }\r\n       // The same ...\r\n    }\r\n\r\nIf you do that you will get a more descriptive String when calling toString() and so when printing an object of class Examples.\r\nNew output is\r\n\r\n    My name is Dow and I have 25 years.","title":"Java program outputs different characters rather than person object information","body":"<p>Your output is right, when you print an object the method toString() of the object is called; by default it returns what you see (the class and a memory direction).\nOverride the method toString() of the class to make him return a descriptive String. E.g.:</p>\n\n<pre><code>public class Examples {\n   // The same ...\n   public String toString(){\n      return \"My name is \" + name + \" and I have \" + age + \" years.\"\n   }\n   // The same ...\n}\n</code></pre>\n\n<p>If you do that you will get a more descriptive String when calling toString() and so when printing an object of class Examples.\nNew output is</p>\n\n<pre><code>My name is Dow and I have 25 years.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4090933,"reputation":71,"user_id":3358913,"display_name":"ulyssesrr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406167533,"creation_date":1406167533,"answer_id":24923986,"question_id":24923929,"body_markdown":"`person` is an array of type `Examples`, so by acessing `person[0]` you are telling it to print an `Examples` instance. Since the `Examples` class does not implement an `toString()` method it will call the parent `Object.toString()` method that produces the output you are seeing.\r\n\r\nAdd the following method to your Examples class\r\n\r\n    public String toString() {\r\n        return &quot;[name=&quot;+this.name+&quot;, age=&quot;+this.age+&quot;, gender=&quot;+this.gender+&quot;]&quot;;\r\n    }","title":"Java program outputs different characters rather than person object information","body":"<p><code>person</code> is an array of type <code>Examples</code>, so by acessing <code>person[0]</code> you are telling it to print an <code>Examples</code> instance. Since the <code>Examples</code> class does not implement an <code>toString()</code> method it will call the parent <code>Object.toString()</code> method that produces the output you are seeing.</p>\n\n<p>Add the following method to your Examples class</p>\n\n<pre><code>public String toString() {\n    return \"[name=\"+this.name+\", age=\"+this.age+\", gender=\"+this.gender+\"]\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2886860,"reputation":2242,"user_id":2476509,"display_name":"Xinzz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406167577,"creation_date":1406167577,"answer_id":24923990,"question_id":24923929,"body_markdown":"Add a `toString()` method to your class:\r\n\r\n    public class Examples {\r\n    String name;\r\n    int age;\r\n    char gender;\r\n    \r\n    public Examples(String name, int age, char gender){\r\n        this.name = name;\r\n        this.age = age;\r\n        this.gender = gender;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        StringBuilder result = new StringBuilder();\r\n        result.append(this.name + &quot; &quot;);\r\n        result.append(this.age + &quot; &quot;);\r\n        result.append(this.gender + &quot; &quot;);\r\n        return result.toString();\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n       Examples[] person = new Examples[10];\r\n       person[0] = new Examples(&quot;Doe&quot;,25,&#39;m&#39;);\r\n       System.out.println(person[0]);\r\n    }\r\n    \r\n    }","title":"Java program outputs different characters rather than person object information","body":"<p>Add a <code>toString()</code> method to your class:</p>\n\n<pre><code>public class Examples {\nString name;\nint age;\nchar gender;\n\npublic Examples(String name, int age, char gender){\n    this.name = name;\n    this.age = age;\n    this.gender = gender;\n}\n\n@Override\npublic String toString() {\n    StringBuilder result = new StringBuilder();\n    result.append(this.name + \" \");\n    result.append(this.age + \" \");\n    result.append(this.gender + \" \");\n    return result.toString();\n}\n\npublic static void main(String[] args) {\n   Examples[] person = new Examples[10];\n   person[0] = new Examples(\"Doe\",25,'m');\n   System.out.println(person[0]);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4206173,"reputation":49,"user_id":3445005,"display_name":"alomeli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406167598,"creation_date":1406167598,"answer_id":24923994,"question_id":24923929,"body_markdown":"Java has no way of knowing what you want it to print. By default, the toString() method is called when you use System.out.println() with an object.\r\n\r\nYour Examples class should have its own toString() method so you can decide what to print. The default toString() returns a representation of the object in memory.\r\n\r\n\r\nFor example, to print out the object&#39;s name:\r\n\r\n    package examples;\r\n    public class Examples {\r\n    \r\n        ...\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return name;\r\n        }\r\n\r\n    }","title":"Java program outputs different characters rather than person object information","body":"<p>Java has no way of knowing what you want it to print. By default, the toString() method is called when you use System.out.println() with an object.</p>\n\n<p>Your Examples class should have its own toString() method so you can decide what to print. The default toString() returns a representation of the object in memory.</p>\n\n<p>For example, to print out the object's name:</p>\n\n<pre><code>package examples;\npublic class Examples {\n\n    ...\n\n    @Override\n    public String toString() {\n        return name;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4712683,"reputation":72,"user_id":3812734,"accept_rate":60,"display_name":"user14312287"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406168165,"creation_date":1406167849,"answer_id":24924026,"question_id":24923929,"body_markdown":"You have explicitly to create a method which outputs the persons data or override the toString() method to do the same thing:\r\n\r\n   \tpublic class Person\r\n\t{\r\n\t\tString name;\r\n\t\tint age;\r\n\t\tchar gender;\r\n\t\r\n\t\tpublic Person(String name, int age, char gender)\r\n\t\t{\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.age = age;\r\n\t\t\tthis.gender = gender;\r\n\t\t}\r\n\t\r\n\t\t//Override the toString() method \r\n\t\t//is a usual programming technique \r\n\t\t//to output the contents of an object\r\n\t\tpublic String toString()\r\n\t\t{\r\n\t\t\treturn &quot;Name: &quot; + this.name + &quot;\\nAge: &quot; + this.age + &quot;\\nGender: &quot;\r\n\t\t\t\t\t+ this.gender;\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\t//You can also write something like this\r\n\t\tpublic void showInfo()\r\n\t\t{\r\n\t\t\tSystem.out.printf(&quot;Persons Info:\\n\\nName: %s\\nAge: %s\\nGender: %s&quot;, this.name, this.age, this.gender);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args)\r\n\t\t{\r\n\t\t\tPerson p = new Person(&quot;bad_alloc&quot;, 97, &#39;m&#39;);\r\n\t\r\n\t\t\t//System.out.println(&quot;Persons info:\\n&quot; + p.toString());\r\n            //If you want directly to &quot;output the object&quot; you have to override the toString() method anyway:\r\n\r\n\t\t\t//System.out.println(p);//&quot;Outputting the object&quot;, this is possible because I have overridden the toString() method\r\n\r\n\t\t\tp.showInfo();\r\n\t\t}\r\n\t}","title":"Java program outputs different characters rather than person object information","body":"<p>You have explicitly to create a method which outputs the persons data or override the toString() method to do the same thing:</p>\n\n<pre><code>public class Person\n{\n    String name;\n    int age;\n    char gender;\n\n    public Person(String name, int age, char gender)\n    {\n        this.name = name;\n        this.age = age;\n        this.gender = gender;\n    }\n\n    //Override the toString() method \n    //is a usual programming technique \n    //to output the contents of an object\n    public String toString()\n    {\n        return \"Name: \" + this.name + \"\\nAge: \" + this.age + \"\\nGender: \"\n                + this.gender;\n    }\n\n\n    //You can also write something like this\n    public void showInfo()\n    {\n        System.out.printf(\"Persons Info:\\n\\nName: %s\\nAge: %s\\nGender: %s\", this.name, this.age, this.gender);\n    }\n\n    public static void main(String[] args)\n    {\n        Person p = new Person(\"bad_alloc\", 97, 'm');\n\n        //System.out.println(\"Persons info:\\n\" + p.toString());\n        //If you want directly to \"output the object\" you have to override the toString() method anyway:\n\n        //System.out.println(p);//\"Outputting the object\", this is possible because I have overridden the toString() method\n\n        p.showInfo();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4792240,"reputation":9,"user_id":3871104,"display_name":"999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13742,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1672330413,"accepted_answer_id":24923976,"answer_count":6,"score":-3,"last_activity_date":1685921111,"creation_date":1406167127,"question_id":24923929,"body_markdown":"I do not understand why my output is not what I expected, instead of showing the persons information, the output displays: `examples.Examples@15db9742`\r\n\r\nAm I doing something wrong in my code?\r\n\r\n    package examples;\r\n\r\n    public class Examples {\r\n        String name;\r\n        int age;\r\n        char gender;\r\n    \r\n        public Examples(String name, int age, char gender){\r\n            this.name = name;\r\n            this.age = age;\r\n            this.gender = gender;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Examples[] person = new Examples[10];\r\n            person[0] = new Examples(&quot;Doe&quot;,25,&#39;m&#39;);\r\n            System.out.println(person[0]);\r\n        }\r\n    \r\n    }","title":"Java program outputs different characters rather than person object information","body":"<p>I do not understand why my output is not what I expected, instead of showing the persons information, the output displays: <code>examples.Examples@15db9742</code></p>\n\n<p>Am I doing something wrong in my code?</p>\n\n<pre><code>package examples;\n\npublic class Examples {\n    String name;\n    int age;\n    char gender;\n\n    public Examples(String name, int age, char gender){\n        this.name = name;\n        this.age = age;\n        this.gender = gender;\n    }\n\n    public static void main(String[] args) {\n        Examples[] person = new Examples[10];\n        person[0] = new Examples(\"Doe\",25,'m');\n        System.out.println(person[0]);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","divide-by-zero"],"comments":[{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":5,"creation_date":1275116792,"post_id":2934063,"comment_id":2988212,"body_markdown":"Downvoter: care to explain how this question is unclear or not useful? Because I&#39;ll have many more questions in the future, so I&#39;d like to know where to improve.","body":"Downvoter: care to explain how this question is unclear or not useful? Because I&#39;ll have many more questions in the future, so I&#39;d like to know where to improve."},{"owner":{"account_id":88014,"reputation":60053,"user_id":1178669,"accept_rate":93,"display_name":"helpermethod"},"score":2,"creation_date":1275124273,"post_id":2934063,"comment_id":2988593,"body_markdown":"+1 Good question. Not even findbugs complains about division by zero (at compile time :-/).","body":"+1 Good question. Not even findbugs complains about division by zero (at compile time :-/)."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":8,"creation_date":1275132066,"post_id":2934063,"comment_id":2988967,"body_markdown":"@polygenelubricants: I honestly don&#39;t know if such details will make you a better programmer or not.  25+ years of programming here and besides from a *&quot;language lawyer&quot;* POV and a &quot;Java Puzzlers&quot; POV (altough the Java puzzlers are better than this), I think there&#39;s a non-zero probability that this is just hair-splitting and wasted time (just being honest here: most of the professional developers who answered here probably had no clue and it probably didn&#39;t harm them in any way in their carreer not knowing this Java detail). I, for one, don&#39;t want to see SO infested with questions like this :(","body":"@polygenelubricants: I honestly don&#39;t know if such details will make you a better programmer or not.  25+ years of programming here and besides from a <i>&quot;language lawyer&quot;</i> POV and a &quot;Java Puzzlers&quot; POV (altough the Java puzzlers are better than this), I think there&#39;s a non-zero probability that this is just hair-splitting and wasted time (just being honest here: most of the professional developers who answered here probably had no clue and it probably didn&#39;t harm them in any way in their carreer not knowing this Java detail). I, for one, don&#39;t want to see SO infested with questions like this :("},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1275132258,"post_id":2934063,"comment_id":2988977,"body_markdown":"Note that I didn&#39;t say it wasn&#39;t interesting: all I&#39;m saying is that, to me, there&#39;s a high probability that it will not harm you in your (Java) programming career not knowing about such details and that hence I&#39;m not sure such questions are really that helpful to help make people better programmer.  Hence, to me, SO shouldn&#39;t get rid with *&quot;many more questions (like this) in the future&quot;*.","body":"Note that I didn&#39;t say it wasn&#39;t interesting: all I&#39;m saying is that, to me, there&#39;s a high probability that it will not harm you in your (Java) programming career not knowing about such details and that hence I&#39;m not sure such questions are really that helpful to help make people better programmer.  Hence, to me, SO shouldn&#39;t get rid with <i>&quot;many more questions (like this) in the future&quot;</i>."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":3,"creation_date":1275132696,"post_id":2934063,"comment_id":2989002,"body_markdown":"Another way to state it would be this: to me all the time spend nitpicking/answering/commenting on questions like this (which apparently you have many more like in the future) could be spend learning, say, a bit of Lisp... And that would *really* make you a better programmer.","body":"Another way to state it would be this: to me all the time spend nitpicking/answering/commenting on questions like this (which apparently you have many more like in the future) could be spend learning, say, a bit of Lisp... And that would <i>really</i> make you a better programmer."},{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":6,"creation_date":1275140337,"post_id":2934063,"comment_id":2989585,"body_markdown":"@Webinator Another viewpoint, from another multi-decade programmer.  Long ago, someone I respected very much told me that if I didn&#39;t know at least three ways to break a tool, I hadn&#39;t really learned to use it.  When I got into programming, I extended that metaphor to apply to edge conditions, odd behaviors, and even some nitpicking.  Programming is all about managing details.","body":"@Webinator Another viewpoint, from another multi-decade programmer.  Long ago, someone I respected very much told me that if I didn&#39;t know at least three ways to break a tool, I hadn&#39;t really learned to use it.  When I got into programming, I extended that metaphor to apply to edge conditions, odd behaviors, and even some nitpicking.  Programming is all about managing details."},{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":9,"creation_date":1275194550,"post_id":2934063,"comment_id":2992229,"body_markdown":"@Webinator: I&#39;m more of a computer scientist than a software engineer, so language issues like this deeply interest me. I&#39;m not only concerned with how to write better programs. I&#39;m also concerned with how to design better languages.","body":"@Webinator: I&#39;m more of a computer scientist than a software engineer, so language issues like this deeply interest me. I&#39;m not only concerned with how to write better programs. I&#39;m also concerned with how to design better languages."}],"answers":[{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1275114458,"creation_date":1275114458,"answer_id":2934071,"question_id":2934063,"body_markdown":"It&#39;s legal because no where is it a given that the compiler is supposed to fold constant expressions at compile time.\r\n\r\nA &quot;smart&quot; compiler might compile:\r\n\r\n    a = 1 + 2\r\n\r\nas \r\n\r\n    a = 3\r\n\r\nBut there&#39;s nothing that says the compiler HAS to do that. Other than that, 1/0 is a legal expression just like:\r\n\r\n    int a;\r\n    int b;\r\n\r\n    a = a/b;\r\n\r\nis a legal expression.\r\n\r\nAt RUNTIME it throws an exception, but that&#39;s a runtime error for a reason.\r\n\r\n","title":"Is 1/0 a legal Java expression?","body":"<p>It's legal because no where is it a given that the compiler is supposed to fold constant expressions at compile time.</p>\n\n<p>A \"smart\" compiler might compile:</p>\n\n<pre><code>a = 1 + 2\n</code></pre>\n\n<p>as </p>\n\n<pre><code>a = 3\n</code></pre>\n\n<p>But there's nothing that says the compiler HAS to do that. Other than that, 1/0 is a legal expression just like:</p>\n\n<pre><code>int a;\nint b;\n\na = a/b;\n</code></pre>\n\n<p>is a legal expression.</p>\n\n<p>At RUNTIME it throws an exception, but that's a runtime error for a reason.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1685920991,"creation_date":1275114515,"answer_id":2934072,"question_id":2934063,"body_markdown":"&gt; Is `1/0` actually a legal Java expression that should compile anytime anywhere? \r\n\r\nYes.\r\n\r\n&gt; What does JLS say about it?\r\n\r\nNothing specific ... apart from saying that division by zero will result in a runtime exception.  However, the JLS acknowledges that possibility of runtime exceptions in the following definition:\r\n\r\n&gt; &quot;A compile-time constant expression is an expression denoting a value of primitive type or a String **that does not complete abruptly** and is composed using only the following: ...&quot;\r\n\r\n(Emphasis added.)  So the following would NOT compile:\r\n\r\n    switch(i) {\r\n        case 1:\r\n        case 1 + 1: \r\n        case 1 / 0:  // compilation error.\r\n    }\r\n\r\n&gt; If this is legal, is there a good reason for it? \r\n\r\nGood question.  I suppose that it is a way to throw `ArithmeticException` though that is hardly a plausible reason.  A more likely reason for specifying Java this way is to avoid unnecessary complexity in the JLS and compilers to deal with an edge case that is rarely going to bite people.\r\n\r\nBut this is all beside the point.  The fact is that `1/0` &gt;&gt;is&lt;&lt; valid Java code, and no Java compiler should ever flag this as a compilation error.  \r\n\r\n(It would be reasonable for a Java compiler to issue a warning, provided that there was also a way to turn off the warning.  But the flipside that division by a constant zero is sufficiently rare as to make the value of implementing this doubtful.)","title":"Is 1/0 a legal Java expression?","body":"<blockquote>\n<p>Is <code>1/0</code> actually a legal Java expression that should compile anytime anywhere?</p>\n</blockquote>\n<p>Yes.</p>\n<blockquote>\n<p>What does JLS say about it?</p>\n</blockquote>\n<p>Nothing specific ... apart from saying that division by zero will result in a runtime exception.  However, the JLS acknowledges that possibility of runtime exceptions in the following definition:</p>\n<blockquote>\n<p>&quot;A compile-time constant expression is an expression denoting a value of primitive type or a String <strong>that does not complete abruptly</strong> and is composed using only the following: ...&quot;</p>\n</blockquote>\n<p>(Emphasis added.)  So the following would NOT compile:</p>\n<pre><code>switch(i) {\n    case 1:\n    case 1 + 1: \n    case 1 / 0:  // compilation error.\n}\n</code></pre>\n<blockquote>\n<p>If this is legal, is there a good reason for it?</p>\n</blockquote>\n<p>Good question.  I suppose that it is a way to throw <code>ArithmeticException</code> though that is hardly a plausible reason.  A more likely reason for specifying Java this way is to avoid unnecessary complexity in the JLS and compilers to deal with an edge case that is rarely going to bite people.</p>\n<p>But this is all beside the point.  The fact is that <code>1/0</code> &gt;&gt;is&lt;&lt; valid Java code, and no Java compiler should ever flag this as a compilation error.</p>\n<p>(It would be reasonable for a Java compiler to issue a warning, provided that there was also a way to turn off the warning.  But the flipside that division by a constant zero is sufficiently rare as to make the value of implementing this doubtful.)</p>\n"},{"tags":[],"owner":{"account_id":6040,"reputation":181950,"user_id":9990,"accept_rate":79,"display_name":"Marcelo Cantos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275114651,"creation_date":1275114651,"answer_id":2934080,"question_id":2934063,"body_markdown":"Java [explicitly requires][1] integer division by zero to trigger an `ArithmeticException`. The assignment to `j` can&#39;t be elided because that would violate the spec.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.17.2","title":"Is 1/0 a legal Java expression?","body":"<p>Java <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.17.2\" rel=\"nofollow noreferrer\">explicitly requires</a> integer division by zero to trigger an <code>ArithmeticException</code>. The assignment to <code>j</code> can't be elided because that would violate the spec.</p>\n"},{"tags":[],"owner":{"account_id":141282,"reputation":10126,"user_id":348189,"accept_rate":89,"display_name":"TacB0sS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1275115532,"creation_date":1275115177,"answer_id":2934093,"question_id":2934063,"body_markdown":"It is legal in **compiling point of view**, but it would throw an exception if executed!\r\n\r\nthe reason... well programming must allow flexibility therefore all the expressions and every single code you type is a variable for the compiler, thus in the mathematical expression X/**Y** the compiler does not care if the Y variable value is (**Y==0**) or any other number for the compiler this is a variable... if the compiler would have to look at values also, that would be considered runtime, wouldn&#39;t it.","title":"Is 1/0 a legal Java expression?","body":"<p>It is legal in <strong>compiling point of view</strong>, but it would throw an exception if executed!</p>\n\n<p>the reason... well programming must allow flexibility therefore all the expressions and every single code you type is a variable for the compiler, thus in the mathematical expression X/<strong>Y</strong> the compiler does not care if the Y variable value is (<strong>Y==0</strong>) or any other number for the compiler this is a variable... if the compiler would have to look at values also, that would be considered runtime, wouldn't it.</p>\n"},{"tags":[],"owner":{"account_id":141467,"reputation":675,"user_id":348505,"accept_rate":100,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1275115334,"creation_date":1275115334,"answer_id":2934101,"question_id":2934063,"body_markdown":"Why bother catching this at compile-time, when you&#39;re going to need a run-time variant anyway?\r\n\r\nFor example, if you were loading and parsing &quot;0&quot; from a text file, then tried to divide by it, Java would have no idea what you were doing at compile-time because it doesn&#39;t know the contents of that external file.\r\n\r\nAlso if you were to set any variable to 0 and divide by the variable, Java would have to keep track of every possible value of every variable at every point in the script in order to catch a divide by 0 at compile time.\r\n\r\nMight as well keep things consistent and make it a runtime-only exception.","title":"Is 1/0 a legal Java expression?","body":"<p>Why bother catching this at compile-time, when you're going to need a run-time variant anyway?</p>\n\n<p>For example, if you were loading and parsing \"0\" from a text file, then tried to divide by it, Java would have no idea what you were doing at compile-time because it doesn't know the contents of that external file.</p>\n\n<p>Also if you were to set any variable to 0 and divide by the variable, Java would have to keep track of every possible value of every variable at every point in the script in order to catch a divide by 0 at compile time.</p>\n\n<p>Might as well keep things consistent and make it a runtime-only exception.</p>\n"},{"tags":[],"owner":{"account_id":51132,"reputation":1177,"user_id":152698,"accept_rate":71,"display_name":"Corey"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1275129595,"creation_date":1275128297,"answer_id":2934632,"question_id":2934063,"body_markdown":"Well, if you look into the Double class, you will see the following:\r\n\r\n    /**\r\n     * A constant holding the positive infinity of type\r\n     * &lt;code&gt;double&lt;/code&gt;. It is equal to the value returned by\r\n     * &lt;code&gt;Double.longBitsToDouble(0x7ff0000000000000L)&lt;/code&gt;.\r\n     */\r\n    public static final double POSITIVE_INFINITY = 1.0 / 0.0;\r\n\r\nThe same calculation is made in the Float class, except with floats instead of doubles. Basically, 1/0 returns a really, really big number, larger than Double.MAX_VALUE.\r\n\r\nThis following code:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Double.POSITIVE_INFINITY);\r\n        System.out.println(Double.POSITIVE_INFINITY &gt; Double.MAX_VALUE);\r\n    }\r\n\r\nOutputs:\r\n\r\n    Infinity\r\n    true\r\n\r\nNote the special case in printing out `Double.POSITIVE_INFINITY`. It prints out a string, though it&#39;s regarded as a double.\r\n\r\nTo answer the question, yes it is legal in Java, but 1/0 resolves to &quot;infinity&quot; and is treated differently from standard Doubles (or floats, or so on and so forth).\r\n\r\nI should note that I do not have the slightest clue how or why it was implemented this way. When I see the above output, it all seems like black magic to me.","title":"Is 1/0 a legal Java expression?","body":"<p>Well, if you look into the Double class, you will see the following:</p>\n\n<pre><code>/**\n * A constant holding the positive infinity of type\n * &lt;code&gt;double&lt;/code&gt;. It is equal to the value returned by\n * &lt;code&gt;Double.longBitsToDouble(0x7ff0000000000000L)&lt;/code&gt;.\n */\npublic static final double POSITIVE_INFINITY = 1.0 / 0.0;\n</code></pre>\n\n<p>The same calculation is made in the Float class, except with floats instead of doubles. Basically, 1/0 returns a really, really big number, larger than Double.MAX_VALUE.</p>\n\n<p>This following code:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(Double.POSITIVE_INFINITY);\n    System.out.println(Double.POSITIVE_INFINITY &gt; Double.MAX_VALUE);\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>Infinity\ntrue\n</code></pre>\n\n<p>Note the special case in printing out <code>Double.POSITIVE_INFINITY</code>. It prints out a string, though it's regarded as a double.</p>\n\n<p>To answer the question, yes it is legal in Java, but 1/0 resolves to \"infinity\" and is treated differently from standard Doubles (or floats, or so on and so forth).</p>\n\n<p>I should note that I do not have the slightest clue how or why it was implemented this way. When I see the above output, it all seems like black magic to me.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1275139732,"creation_date":1275139732,"answer_id":2935231,"question_id":2934063,"body_markdown":"\r\n\r\nI did some digging into the Bug Database, and discovered some interesting information.\r\n\r\n### [Bug ID 4178182: JLS doesnt specify behavior for 1/0 as a constant expression  ](https://bugs.java.com/bugdatabase/view_bug?bug_id=4178182)\r\n\r\n&gt; **The following code is illegal:**\r\n\r\n&gt;     class X { static final int i = 1 / 0; }\r\n\r\n&gt; The value of this compile-time constant is undefined, **therefore this\r\nhas to be a compile-time error.** Guy Steele confirmed about 18 months\r\nago that this was indeed the intended behaviour.\r\n\r\n&gt; A compile-time constant has to have its value available statically (that&#39;s\r\nwhat makes it a compile-time constant ;-)  For example, the value of other\r\nconstants whose values are determined by a constant that contains a division\r\nby zero are undefined.  This affects the semantics of `switch` statements,\r\ndefinite assigment and unassignment, etc.\r\n\r\n### [Bug ID 4089107: javac treats integer division by (constant) zero as an error](https://bugs.java.com/bugdatabase/view_bug?bug_id=4089107)\r\n\r\n&gt;     public class zero {\r\n       public static void main(String[] args) {\r\n          System.out.println(1/0);\r\n       }\r\n    }\r\n\r\n&gt; Running the above yields:\r\n\r\n&gt;     zero.java:3: Arithmetic exception.\r\n         System.out.println(1/0);\r\n                             ^\r\n    1 error\r\n\r\n### [Bug ID 4154563: javac accepts division by zero constant expressions in case expressions.](https://bugs.java.com/bugdatabase/view_bug?bug_id=4154563)\r\n\r\n&gt; Java compiler crashes while trying to compile next test. This test also crashes all 1.2beta4 compiler versions, but bug is absent in 12.beta3. An example and compiler diagnostics follow:\r\n\r\n&gt;     public class B {\r\n       public static void main(String argv[]) {\r\n          switch(0){\r\n             case 0/0:\r\n          }\r\n      }\r\n    }\r\n\r\n&gt; Evaluation: **The compiler used to report all attempts to divide by the constant zero as compile-time errors. This was fixed** in beta3 so that code would be generated for division by constant zero.  Unfortunately this bug was introduced.  The compiler should handle a division by zero in a case expression gracefully.\r\n\r\n### Conclusion\r\n\r\nSo the question of whether or not `1/0` should compile was a contested topic of discussion, with some people quoting Guy Steele claiming that this should be a compile time error, and others saying that it shouldn&#39;t. It seems that ultimately it&#39;s decided that it&#39;s neither a compile-time error nor a compile-time constant.","title":"Is 1/0 a legal Java expression?","body":"<p>I did some digging into the Bug Database, and discovered some interesting information.</p>\n<h3><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4178182\" rel=\"nofollow noreferrer\">Bug ID 4178182: JLS doesnt specify behavior for 1/0 as a constant expression  </a></h3>\n<blockquote>\n<p><strong>The following code is illegal:</strong></p>\n</blockquote>\n<blockquote>\n<pre><code>class X { static final int i = 1 / 0; }\n</code></pre>\n</blockquote>\n<blockquote>\n<p>The value of this compile-time constant is undefined, <strong>therefore this\nhas to be a compile-time error.</strong> Guy Steele confirmed about 18 months\nago that this was indeed the intended behaviour.</p>\n</blockquote>\n<blockquote>\n<p>A compile-time constant has to have its value available statically (that's\nwhat makes it a compile-time constant ;-)  For example, the value of other\nconstants whose values are determined by a constant that contains a division\nby zero are undefined.  This affects the semantics of <code>switch</code> statements,\ndefinite assigment and unassignment, etc.</p>\n</blockquote>\n<h3><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4089107\" rel=\"nofollow noreferrer\">Bug ID 4089107: javac treats integer division by (constant) zero as an error</a></h3>\n<blockquote>\n<pre><code>public class zero {\n</code></pre>\n</blockquote>\n<pre><code>   public static void main(String[] args) {\n      System.out.println(1/0);\n   }\n}\n</code></pre>\n<blockquote>\n<p>Running the above yields:</p>\n</blockquote>\n<blockquote>\n<pre><code>zero.java:3: Arithmetic exception.\n</code></pre>\n</blockquote>\n<pre><code>     System.out.println(1/0);\n                         ^\n1 error\n</code></pre>\n<h3><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4154563\" rel=\"nofollow noreferrer\">Bug ID 4154563: javac accepts division by zero constant expressions in case expressions.</a></h3>\n<blockquote>\n<p>Java compiler crashes while trying to compile next test. This test also crashes all 1.2beta4 compiler versions, but bug is absent in 12.beta3. An example and compiler diagnostics follow:</p>\n</blockquote>\n<blockquote>\n<pre><code>public class B {\n</code></pre>\n</blockquote>\n<pre><code>   public static void main(String argv[]) {\n      switch(0){\n         case 0/0:\n      }\n  }\n}\n</code></pre>\n<blockquote>\n<p>Evaluation: <strong>The compiler used to report all attempts to divide by the constant zero as compile-time errors. This was fixed</strong> in beta3 so that code would be generated for division by constant zero.  Unfortunately this bug was introduced.  The compiler should handle a division by zero in a case expression gracefully.</p>\n</blockquote>\n<h3>Conclusion</h3>\n<p>So the question of whether or not <code>1/0</code> should compile was a contested topic of discussion, with some people quoting Guy Steele claiming that this should be a compile time error, and others saying that it shouldn't. It seems that ultimately it's decided that it's neither a compile-time error nor a compile-time constant.</p>\n"},{"tags":[],"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452245928,"creation_date":1452245928,"answer_id":34673724,"question_id":2934063,"body_markdown":"Since others already answered the legality of `1/0`, let&#39;s move to the second question:\r\n\r\n * If this is legal, is there a good reason for it?\r\n  * What good could this possibly serve?\r\n\r\nAn answer could be:\r\n\r\n&gt; **To tease a colleague of yours.** ;o)\r\n&gt;\r\n&gt; When the colleague leaves the room with his computer left unlocked, sneak by and burry `1/0` somewhere deep into a **static initializer** of some class that is used early in the application. This way he will find out soon enough after (or even during) the deployment of the application by encountering the unusual `ArithmeticException` and he will probably scratch his head for a while. Using this fail-fast way you can ensure it&#39;s a relatively harmless joke.\r\n\r\nP.S.: It worked. ;o)","title":"Is 1/0 a legal Java expression?","body":"<p>Since others already answered the legality of <code>1/0</code>, let's move to the second question:</p>\n\n<ul>\n<li>If this is legal, is there a good reason for it?\n\n<ul>\n<li>What good could this possibly serve?</li>\n</ul></li>\n</ul>\n\n<p>An answer could be:</p>\n\n<blockquote>\n  <p><strong>To tease a colleague of yours.</strong> ;o)</p>\n  \n  <p>When the colleague leaves the room with his computer left unlocked, sneak by and burry <code>1/0</code> somewhere deep into a <strong>static initializer</strong> of some class that is used early in the application. This way he will find out soon enough after (or even during) the deployment of the application by encountering the unusual <code>ArithmeticException</code> and he will probably scratch his head for a while. Using this fail-fast way you can ensure it's a relatively harmless joke.</p>\n</blockquote>\n\n<p>P.S.: It worked. ;o)</p>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25000,"favorite_count":0,"down_vote_count":2,"up_vote_count":45,"accepted_answer_id":2934072,"answer_count":8,"score":43,"last_activity_date":1685920991,"creation_date":1275114157,"question_id":2934063,"body_markdown":"The following compiles fine in my Eclipse:\r\n\r\n    final int j = 1/0;\r\n    // compiles fine!!!\r\n    // throws ArithmeticException: / by zero at run-time\r\n\r\nJava prevents many &quot;dumb code&quot; from even compiling in the first place (e.g. `&quot;Five&quot; instanceof Number` doesn&#39;t compile!), so the fact this didn&#39;t even generate as much as a warning was very surprising to me. The intrigue deepens when you consider the fact that constant expressions are allowed to be optimized at compile time:\r\n\r\n    public class Div0 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal int i = 2+3;\r\n    \t\tfinal int j = 1/0;\r\n    \t\tfinal int k = 9/2;\r\n    \t}\r\n    }\r\n\r\nCompiled in Eclipse, the above snippet generates the following bytecode (`javap -c Div0`)\r\n\r\n    Compiled from &quot;Div0.java&quot;\r\n    public class Div0 extends java.lang.Object{\r\n    public Div0();\r\n      Code:\r\n       0:   aload_0\r\n       1:   invokespecial   #8; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4:   return\r\n    \r\n    public static void main(java.lang.String[]);\r\n      Code:\r\n       0:   iconst_5\r\n       1:   istore_1      // &quot;i = 5;&quot;\r\n       2:   iconst_1\r\n       3:   iconst_0\r\n       4:   idiv\r\n       5:   istore_2      // &quot;j = 1/0;&quot;\r\n       6:   iconst_4\r\n       7:   istore_3      // &quot;k = 4;&quot;\r\n       8:   return\r\n    \r\n    }\r\n\r\nAs you can see, the `i` and `k` assignments are optimized as compile-time constants, but the division by `0` (which must&#39;ve been detectable at compile-time) is simply compiled as is.\r\n\r\n`javac 1.6.0_17` behaves even more strangely, compiling silently but excising the assignments to `i` and `k` completely out of the bytecode (probably because it determined that they&#39;re not used anywhere) but leaving the `1/0` intact (since removing it would cause an entirely different program semantics).\r\n\r\nSo the questions are:\r\n\r\n* Is `1/0` actually a legal Java expression that should compile anytime anywhere?\r\n   * What does JLS say about it?\r\n* If this is legal, is there a good reason for it?\r\n   * What good could this possibly serve?","title":"Is 1/0 a legal Java expression?","body":"<p>The following compiles fine in my Eclipse:</p>\n\n<pre><code>final int j = 1/0;\n// compiles fine!!!\n// throws ArithmeticException: / by zero at run-time\n</code></pre>\n\n<p>Java prevents many \"dumb code\" from even compiling in the first place (e.g. <code>\"Five\" instanceof Number</code> doesn't compile!), so the fact this didn't even generate as much as a warning was very surprising to me. The intrigue deepens when you consider the fact that constant expressions are allowed to be optimized at compile time:</p>\n\n<pre><code>public class Div0 {\n    public static void main(String[] args) {\n        final int i = 2+3;\n        final int j = 1/0;\n        final int k = 9/2;\n    }\n}\n</code></pre>\n\n<p>Compiled in Eclipse, the above snippet generates the following bytecode (<code>javap -c Div0</code>)</p>\n\n<pre><code>Compiled from \"Div0.java\"\npublic class Div0 extends java.lang.Object{\npublic Div0();\n  Code:\n   0:   aload_0\n   1:   invokespecial   #8; //Method java/lang/Object.\"&lt;init&gt;\":()V\n   4:   return\n\npublic static void main(java.lang.String[]);\n  Code:\n   0:   iconst_5\n   1:   istore_1      // \"i = 5;\"\n   2:   iconst_1\n   3:   iconst_0\n   4:   idiv\n   5:   istore_2      // \"j = 1/0;\"\n   6:   iconst_4\n   7:   istore_3      // \"k = 4;\"\n   8:   return\n\n}\n</code></pre>\n\n<p>As you can see, the <code>i</code> and <code>k</code> assignments are optimized as compile-time constants, but the division by <code>0</code> (which must've been detectable at compile-time) is simply compiled as is.</p>\n\n<p><code>javac 1.6.0_17</code> behaves even more strangely, compiling silently but excising the assignments to <code>i</code> and <code>k</code> completely out of the bytecode (probably because it determined that they're not used anywhere) but leaving the <code>1/0</code> intact (since removing it would cause an entirely different program semantics).</p>\n\n<p>So the questions are:</p>\n\n<ul>\n<li>Is <code>1/0</code> actually a legal Java expression that should compile anytime anywhere?\n\n<ul>\n<li>What does JLS say about it?</li>\n</ul></li>\n<li>If this is legal, is there a good reason for it?\n\n<ul>\n<li>What good could this possibly serve?</li>\n</ul></li>\n</ul>\n"},{"tags":["java","list","grouping"],"comments":[{"owner":{"account_id":3350195,"reputation":972,"user_id":2814402,"display_name":"Omoro"},"score":3,"creation_date":1392038782,"post_id":21678430,"comment_id":32770251,"body_markdown":"A hashmap with location as the key and the students list as value.","body":"A hashmap with location as the key and the students list as value."},{"owner":{"account_id":3975185,"reputation":2798,"user_id":3278540,"display_name":"Warlord"},"score":0,"creation_date":1392038838,"post_id":21678430,"comment_id":32770297,"body_markdown":"Would sorting by location solve your problem, or is there something else?","body":"Would sorting by location solve your problem, or is there something else?"},{"owner":{"account_id":1581224,"reputation":1369,"user_id":1466580,"accept_rate":89,"display_name":"pshemek"},"score":0,"creation_date":1392038896,"post_id":21678430,"comment_id":32770338,"body_markdown":"Try using Comparator and sort by location.","body":"Try using Comparator and sort by location."},{"owner":{"account_id":3207650,"reputation":3250,"user_id":2708372,"accept_rate":65,"display_name":"Dilukshan Mahendra"},"score":1,"creation_date":1392038933,"post_id":21678430,"comment_id":32770362,"body_markdown":"@Warlord Yes, But going further if I need get information like, Student count by Location better if I could get it grouped","body":"@Warlord Yes, But going further if I need get information like, Student count by Location better if I could get it grouped"},{"owner":{"account_id":3207650,"reputation":3250,"user_id":2708372,"accept_rate":65,"display_name":"Dilukshan Mahendra"},"score":0,"creation_date":1392039017,"post_id":21678430,"comment_id":32770411,"body_markdown":"@Omoro Please can you give me a clue by code, Im not so familiar with Hashmaps","body":"@Omoro Please can you give me a clue by code, Im not so familiar with Hashmaps"},{"owner":{"account_id":3350195,"reputation":972,"user_id":2814402,"display_name":"Omoro"},"score":0,"creation_date":1392039192,"post_id":21678430,"comment_id":32770532,"body_markdown":"@DilukshanMahendra check one of the answers below.","body":"@DilukshanMahendra check one of the answers below."},{"owner":{"account_id":342110,"reputation":1242,"user_id":673086,"accept_rate":80,"display_name":"Fabricio Buzeto"},"score":0,"creation_date":1425132260,"post_id":21678430,"comment_id":45841702,"body_markdown":"I think the answer here http://stackoverflow.com/a/8464106/673086 also applies to this problem.","body":"I think the answer here <a href=\"http://stackoverflow.com/a/8464106/673086\">stackoverflow.com/a/8464106/673086</a> also applies to this problem."}],"answers":[{"tags":[],"owner":{"account_id":3350195,"reputation":972,"user_id":2814402,"display_name":"Omoro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392039419,"creation_date":1392039046,"answer_id":21678603,"question_id":21678430,"body_markdown":"You could do this:\r\n\r\n    Map&lt;String, List&lt;Student&gt;&gt; map = new HashMap&lt;String, List&lt;Student&gt;&gt;();\r\n    List&lt;Student&gt; studlist = new ArrayList&lt;Student&gt;();\r\n    studlist.add(new Student(&quot;1726&quot;, &quot;John&quot;, &quot;New York&quot;));\r\n    map.put(&quot;New York&quot;, studlist);\r\n\r\nthe keys will be locations and the values list of students. So later you can get a group of students just by using:\r\n    \r\n    studlist = map.get(&quot;New York&quot;);\r\n\r\n\r\n","title":"Group a list of objects by an attribute","body":"<p>You could do this:</p>\n\n<pre><code>Map&lt;String, List&lt;Student&gt;&gt; map = new HashMap&lt;String, List&lt;Student&gt;&gt;();\nList&lt;Student&gt; studlist = new ArrayList&lt;Student&gt;();\nstudlist.add(new Student(\"1726\", \"John\", \"New York\"));\nmap.put(\"New York\", studlist);\n</code></pre>\n\n<p>the keys will be locations and the values list of students. So later you can get a group of students just by using:</p>\n\n<pre><code>studlist = map.get(\"New York\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2069349,"reputation":5382,"user_id":1844148,"accept_rate":67,"display_name":"Dileep"},"down_vote_count":2,"up_vote_count":150,"is_accepted":true,"score":148,"last_activity_date":1572984395,"creation_date":1392039063,"answer_id":21678611,"question_id":21678430,"body_markdown":"This will add the students object to the [`HashMap`](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html) with `locationID` as key.\r\n\r\n    HashMap&lt;Integer, List&lt;Student&gt;&gt; hashMap = new HashMap&lt;Integer, List&lt;Student&gt;&gt;();\r\n\r\n_Iterate_ over this code and add students to the `HashMap`:\r\n\r\n\t\r\n\tif (!hashMap.containsKey(locationId)) {\r\n\t    List&lt;Student&gt; list = new ArrayList&lt;Student&gt;();\r\n\t\tlist.add(student);\r\n\r\n\t\thashMap.put(locationId, list);\r\n\t} else {\r\n\t\thashMap.get(locationId).add(student);\r\n    }\r\n\r\nIf you want all the student with particular location details then you can use this:\r\n\r\n    hashMap.get(locationId);\r\n\r\nwhich will get you all the students with the same the location ID.\r\n\r\n\r\n","title":"Group a list of objects by an attribute","body":"<p>This will add the students object to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"noreferrer\"><code>HashMap</code></a> with <code>locationID</code> as key.</p>\n\n<pre><code>HashMap&lt;Integer, List&lt;Student&gt;&gt; hashMap = new HashMap&lt;Integer, List&lt;Student&gt;&gt;();\n</code></pre>\n\n<p><em>Iterate</em> over this code and add students to the <code>HashMap</code>:</p>\n\n<pre><code>if (!hashMap.containsKey(locationId)) {\n    List&lt;Student&gt; list = new ArrayList&lt;Student&gt;();\n    list.add(student);\n\n    hashMap.put(locationId, list);\n} else {\n    hashMap.get(locationId).add(student);\n}\n</code></pre>\n\n<p>If you want all the student with particular location details then you can use this:</p>\n\n<pre><code>hashMap.get(locationId);\n</code></pre>\n\n<p>which will get you all the students with the same the location ID.</p>\n"},{"tags":[],"owner":{"account_id":1991252,"reputation":895,"user_id":1785223,"display_name":"Pieter"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1392039074,"creation_date":1392039074,"answer_id":21678614,"question_id":21678430,"body_markdown":"You can sort like this:\r\n\r\n        Collections.sort(studlist, new Comparator&lt;Student&gt;() {\r\n\r\n            @Override\r\n            public int compare(Student o1, Student o2) {\r\n                return o1.getStud_location().compareTo(o2.getStud_location());\r\n            }\r\n        });\r\n\r\nAssuming you also have the getter for location on your Student class.","title":"Group a list of objects by an attribute","body":"<p>You can sort like this:</p>\n\n<pre><code>    Collections.sort(studlist, new Comparator&lt;Student&gt;() {\n\n        @Override\n        public int compare(Student o1, Student o2) {\n            return o1.getStud_location().compareTo(o2.getStud_location());\n        }\n    });\n</code></pre>\n\n<p>Assuming you also have the getter for location on your Student class.</p>\n"},{"tags":[],"owner":{"account_id":3990591,"reputation":268,"user_id":3289669,"display_name":"Azizi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392051203,"creation_date":1392039099,"answer_id":21678621,"question_id":21678430,"body_markdown":"You can use the following:\r\n\r\n    Map&lt;String, List&lt;Student&gt;&gt; groupedStudents = new HashMap&lt;String, List&lt;Student&gt;&gt;();\r\n\tfor (Student student: studlist) {\r\n\t\tString key = student.stud_location;\r\n\t\tif (groupedStudents.get(key) == null) {\r\n\t\t\tgroupedStudents.put(key, new ArrayList&lt;Student&gt;());\r\n\t\t}\r\n\t\tgroupedStudents.get(key).add(student);\r\n\t}\r\n\r\n//print \r\n     \r\n    Set&lt;String&gt; groupedStudentsKeySet = groupedCustomer.keySet();\r\n    for (String location: groupedStudentsKeySet) {\r\n       List&lt;Student&gt; stdnts = groupedStudents.get(location);\r\n       for (Student student : stdnts) {\r\n            System.out.println(&quot;ID : &quot;+student.stud_id+&quot;\\t&quot;+&quot;Name : &quot;+student.stud_name+&quot;\\t&quot;+&quot;Location : &quot;+student.stud_location);\r\n        }\r\n    }","title":"Group a list of objects by an attribute","body":"<p>You can use the following:</p>\n\n<pre><code>Map&lt;String, List&lt;Student&gt;&gt; groupedStudents = new HashMap&lt;String, List&lt;Student&gt;&gt;();\nfor (Student student: studlist) {\n    String key = student.stud_location;\n    if (groupedStudents.get(key) == null) {\n        groupedStudents.put(key, new ArrayList&lt;Student&gt;());\n    }\n    groupedStudents.get(key).add(student);\n}\n</code></pre>\n\n<p>//print </p>\n\n<pre><code>Set&lt;String&gt; groupedStudentsKeySet = groupedCustomer.keySet();\nfor (String location: groupedStudentsKeySet) {\n   List&lt;Student&gt; stdnts = groupedStudents.get(location);\n   for (Student student : stdnts) {\n        System.out.println(\"ID : \"+student.stud_id+\"\\t\"+\"Name : \"+student.stud_name+\"\\t\"+\"Location : \"+student.stud_location);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2980984,"reputation":353,"user_id":2530935,"display_name":"sampath challa"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1392040664,"creation_date":1392039336,"answer_id":21678701,"question_id":21678430,"body_markdown":" \r\n    Map&lt;String, List&lt;Student&gt;&gt; map = new HashMap&lt;String, List&lt;Student&gt;&gt;();\r\n                 \r\n    for (Student student : studlist) {\r\n      \tString key  = student.stud_location;\r\n       \tif(map.containsKey(key)){\r\n      \t\tList&lt;Student&gt; list = map.get(key);\r\n       \t\tlist.add(student);\r\n       \t\t\r\n       \t}else{\r\n       \t\tList&lt;Student&gt; list = new ArrayList&lt;Student&gt;();\r\n       \t\tlist.add(student);\r\n       \t\tmap.put(key, list);\r\n       \t}\r\n           \r\n    }","title":"Group a list of objects by an attribute","body":"<pre><code>Map&lt;String, List&lt;Student&gt;&gt; map = new HashMap&lt;String, List&lt;Student&gt;&gt;();\n\nfor (Student student : studlist) {\n    String key  = student.stud_location;\n    if(map.containsKey(key)){\n        List&lt;Student&gt; list = map.get(key);\n        list.add(student);\n\n    }else{\n        List&lt;Student&gt; list = new ArrayList&lt;Student&gt;();\n        list.add(student);\n        map.put(key, list);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5283082,"reputation":77,"user_id":4217832,"display_name":"Ravi Beli"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1416228728,"creation_date":1416197681,"answer_id":26965423,"question_id":21678430,"body_markdown":"Implement SQL GROUP BY Feature in Java using Comparator, comparator will compare your column data, and sort it. Basically if you keep sorted data that looks as grouped data, for example if you have same repeated column data then sort mechanism sort them keeping same data one side and then look for other data which is dissimilar data. This indirectly viewed as GROUPING of same data.\r\n   \r\n    public class GroupByFeatureInJava {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tProductBean p1 = new ProductBean(&quot;P1&quot;, 20, new Date());\r\n    \t\tProductBean p2 = new ProductBean(&quot;P1&quot;, 30, new Date());\r\n    \t\tProductBean p3 = new ProductBean(&quot;P2&quot;, 20, new Date());\r\n    \t\tProductBean p4 = new ProductBean(&quot;P1&quot;, 20, new Date());\r\n    \t\tProductBean p5 = new ProductBean(&quot;P3&quot;, 60, new Date());\r\n    \t\tProductBean p6 = new ProductBean(&quot;P1&quot;, 20, new Date());\r\n    \r\n    \t\tList&lt;ProductBean&gt; list = new ArrayList&lt;ProductBean&gt;();\r\n    \t\tlist.add(p1);\r\n    \t\tlist.add(p2);\r\n    \t\tlist.add(p3);\r\n    \t\tlist.add(p4);\r\n    \t\tlist.add(p5);\r\n    \t\tlist.add(p6);\r\n    \r\n    \t\tfor (Iterator iterator = list.iterator(); iterator.hasNext();) {\r\n    \t\t\tProductBean bean = (ProductBean) iterator.next();\r\n    \t\t\tSystem.out.println(bean);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;******** AFTER GROUP BY PRODUCT_ID ******&quot;);\r\n    \t\tCollections.sort(list, new ProductBean().new CompareByProductID());\r\n    \t\tfor (Iterator iterator = list.iterator(); iterator.hasNext();) {\r\n    \t\t\tProductBean bean = (ProductBean) iterator.next();\r\n    \t\t\tSystem.out.println(bean);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;******** AFTER GROUP BY PRICE ******&quot;);\r\n    \t\tCollections.sort(list, new ProductBean().new CompareByProductPrice());\r\n    \t\tfor (Iterator iterator = list.iterator(); iterator.hasNext();) {\r\n    \t\t\tProductBean bean = (ProductBean) iterator.next();\r\n    \t\t\tSystem.out.println(bean);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class ProductBean {\r\n    \tString productId;\r\n    \tint price;\r\n    \tDate date;\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ProductBean [&quot; + productId + &quot; &quot; + price + &quot; &quot; + date + &quot;]&quot;;\r\n    \t}\r\n    \tProductBean() {\r\n    \t}\r\n    \tProductBean(String productId, int price, Date date) {\r\n    \t\tthis.productId = productId;\r\n    \t\tthis.price = price;\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \tclass CompareByProductID implements Comparator&lt;ProductBean&gt; {\r\n    \t\tpublic int compare(ProductBean p1, ProductBean p2) {\r\n    \t\t\tif (p1.productId.compareTo(p2.productId) &gt; 0) {\r\n    \t\t\t\treturn 1;\r\n    \t\t\t}\r\n    \t\t\tif (p1.productId.compareTo(p2.productId) &lt; 0) {\r\n    \t\t\t\treturn -1;\r\n    \t\t\t}\r\n    \t\t\t// at this point all a.b,c,d are equal... so return &quot;equal&quot;\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic boolean equals(Object obj) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn super.equals(obj);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tclass CompareByProductPrice implements Comparator&lt;ProductBean&gt; {\r\n    \t\t@Override\r\n    \t\tpublic int compare(ProductBean p1, ProductBean p2) {\r\n    \t\t\t// this mean the first column is tied in thee two rows\r\n    \t\t\tif (p1.price &gt; p2.price) {\r\n    \t\t\t\treturn 1;\r\n    \t\t\t}\r\n    \t\t\tif (p1.price &lt; p2.price) {\r\n    \t\t\t\treturn -1;\r\n    \t\t\t}\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\tpublic boolean equals(Object obj) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn super.equals(obj);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tclass CompareByCreateDate implements Comparator&lt;ProductBean&gt; {\r\n    \t\t@Override\r\n    \t\tpublic int compare(ProductBean p1, ProductBean p2) {\r\n    \t\t\tif (p1.date.after(p2.date)) {\r\n    \t\t\t\treturn 1;\r\n    \t\t\t}\r\n    \t\t\tif (p1.date.before(p2.date)) {\r\n    \t\t\t\treturn -1;\r\n    \t\t\t}\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic boolean equals(Object obj) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn super.equals(obj);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n&lt;h2&gt;Output is here for the above ProductBean list is done GROUP BY criteria, here if you see the input data that is given list of ProductBean to Collections.sort(list, object of Comparator for your required column) This will sort based on your comparator implementation and you will be able to see the GROUPED data in below output. Hope this helps...&lt;h2&gt;\r\n \r\n&lt;pre&gt;\r\n    ******** BEFORE GROUPING INPUT DATA LOOKS THIS WAY ******\r\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P1 30 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P2 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P3 60 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ******** AFTER GROUP BY PRODUCT_ID ******\r\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P1 30 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P2 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P3 60 Mon Nov 17 09:31:01 IST 2014]\r\n\r\n    ******** AFTER GROUP BY PRICE ******\r\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P2 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P1 30 Mon Nov 17 09:31:01 IST 2014]\r\n    ProductBean [P3 60 Mon Nov 17 09:31:01 IST 2014]\r\n\r\n&lt;/pre&gt;","title":"Group a list of objects by an attribute","body":"<p>Implement SQL GROUP BY Feature in Java using Comparator, comparator will compare your column data, and sort it. Basically if you keep sorted data that looks as grouped data, for example if you have same repeated column data then sort mechanism sort them keeping same data one side and then look for other data which is dissimilar data. This indirectly viewed as GROUPING of same data.</p>\n\n<pre><code>public class GroupByFeatureInJava {\n\n    public static void main(String[] args) {\n        ProductBean p1 = new ProductBean(\"P1\", 20, new Date());\n        ProductBean p2 = new ProductBean(\"P1\", 30, new Date());\n        ProductBean p3 = new ProductBean(\"P2\", 20, new Date());\n        ProductBean p4 = new ProductBean(\"P1\", 20, new Date());\n        ProductBean p5 = new ProductBean(\"P3\", 60, new Date());\n        ProductBean p6 = new ProductBean(\"P1\", 20, new Date());\n\n        List&lt;ProductBean&gt; list = new ArrayList&lt;ProductBean&gt;();\n        list.add(p1);\n        list.add(p2);\n        list.add(p3);\n        list.add(p4);\n        list.add(p5);\n        list.add(p6);\n\n        for (Iterator iterator = list.iterator(); iterator.hasNext();) {\n            ProductBean bean = (ProductBean) iterator.next();\n            System.out.println(bean);\n        }\n        System.out.println(\"******** AFTER GROUP BY PRODUCT_ID ******\");\n        Collections.sort(list, new ProductBean().new CompareByProductID());\n        for (Iterator iterator = list.iterator(); iterator.hasNext();) {\n            ProductBean bean = (ProductBean) iterator.next();\n            System.out.println(bean);\n        }\n\n        System.out.println(\"******** AFTER GROUP BY PRICE ******\");\n        Collections.sort(list, new ProductBean().new CompareByProductPrice());\n        for (Iterator iterator = list.iterator(); iterator.hasNext();) {\n            ProductBean bean = (ProductBean) iterator.next();\n            System.out.println(bean);\n        }\n    }\n}\n\nclass ProductBean {\n    String productId;\n    int price;\n    Date date;\n\n    @Override\n    public String toString() {\n        return \"ProductBean [\" + productId + \" \" + price + \" \" + date + \"]\";\n    }\n    ProductBean() {\n    }\n    ProductBean(String productId, int price, Date date) {\n        this.productId = productId;\n        this.price = price;\n        this.date = date;\n    }\n    class CompareByProductID implements Comparator&lt;ProductBean&gt; {\n        public int compare(ProductBean p1, ProductBean p2) {\n            if (p1.productId.compareTo(p2.productId) &gt; 0) {\n                return 1;\n            }\n            if (p1.productId.compareTo(p2.productId) &lt; 0) {\n                return -1;\n            }\n            // at this point all a.b,c,d are equal... so return \"equal\"\n            return 0;\n        }\n        @Override\n        public boolean equals(Object obj) {\n            // TODO Auto-generated method stub\n            return super.equals(obj);\n        }\n    }\n\n    class CompareByProductPrice implements Comparator&lt;ProductBean&gt; {\n        @Override\n        public int compare(ProductBean p1, ProductBean p2) {\n            // this mean the first column is tied in thee two rows\n            if (p1.price &gt; p2.price) {\n                return 1;\n            }\n            if (p1.price &lt; p2.price) {\n                return -1;\n            }\n            return 0;\n        }\n        public boolean equals(Object obj) {\n            // TODO Auto-generated method stub\n            return super.equals(obj);\n        }\n    }\n\n    class CompareByCreateDate implements Comparator&lt;ProductBean&gt; {\n        @Override\n        public int compare(ProductBean p1, ProductBean p2) {\n            if (p1.date.after(p2.date)) {\n                return 1;\n            }\n            if (p1.date.before(p2.date)) {\n                return -1;\n            }\n            return 0;\n        }\n        @Override\n        public boolean equals(Object obj) {\n            // TODO Auto-generated method stub\n            return super.equals(obj);\n        }\n    }\n}\n</code></pre>\n\n<p>Output is here for the above ProductBean list is done GROUP BY criteria, here if you see the input data that is given list of ProductBean to Collections.sort(list, object of Comparator for your required column) This will sort based on your comparator implementation and you will be able to see the GROUPED data in below output. Hope this helps...</p>\n\n<pre>\n    ******** BEFORE GROUPING INPUT DATA LOOKS THIS WAY ******\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P1 30 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P2 20 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P3 60 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\n    ******** AFTER GROUP BY PRODUCT_ID ******\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P1 30 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P2 20 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P3 60 Mon Nov 17 09:31:01 IST 2014]\n\n    ******** AFTER GROUP BY PRICE ******\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P2 20 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P1 20 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P1 30 Mon Nov 17 09:31:01 IST 2014]\n    ProductBean [P3 60 Mon Nov 17 09:31:01 IST 2014]\n\n</pre>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111646,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":1,"up_vote_count":373,"is_accepted":false,"score":372,"last_activity_date":1431467545,"creation_date":1431467545,"answer_id":30202075,"question_id":21678430,"body_markdown":"In Java 8:\r\n\r\n    Map&lt;String, List&lt;Student&gt;&gt; studlistGrouped =\r\n        studlist.stream().collect(Collectors.groupingBy(w -&gt; w.stud_location));","title":"Group a list of objects by an attribute","body":"<p>In Java 8:</p>\n\n<pre><code>Map&lt;String, List&lt;Student&gt;&gt; studlistGrouped =\n    studlist.stream().collect(Collectors.groupingBy(w -&gt; w.stud_location));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2982772,"reputation":1478,"user_id":2532395,"display_name":"Chirag"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1685920460,"creation_date":1460701909,"answer_id":36639779,"question_id":21678430,"body_markdown":"Using **Java 8**\r\n\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    class Student {\r\n    \r\n        private String stud_id;\r\n        private String stud_name;\r\n        private String stud_location;\r\n    \r\n        public String getStud_id() {\r\n            return stud_id;\r\n        }\r\n    \r\n        public String getStud_name() {\r\n            return stud_name;\r\n        }\r\n    \r\n        public String getStud_location() {\r\n            return stud_location;\r\n        }\r\n    \r\n    \r\n    \r\n        Student(String sid, String sname, String slocation) {\r\n    \r\n            this.stud_id = sid;\r\n            this.stud_name = sname;\r\n            this.stud_location = slocation;\r\n    \r\n        }\r\n    }\r\n    \r\n    class Temp\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n    \r\n            Stream&lt;Student&gt; studs = \r\n            Stream.of(new Student(&quot;1726&quot;, &quot;John&quot;, &quot;New York&quot;),\r\n                    new Student(&quot;4321&quot;, &quot;Max&quot;, &quot;California&quot;),\r\n                    new Student(&quot;2234&quot;, &quot;Max&quot;, &quot;Los Angeles&quot;),\r\n                    new Student(&quot;7765&quot;, &quot;Sam&quot;, &quot;California&quot;));\r\n            Map&lt;String, Map&lt;Object, List&lt;Student&gt;&gt;&gt; map= studs.collect(Collectors.groupingBy(Student::getStud_name,Collectors.groupingBy(Student::getStud_location)));\r\n                    System.out.println(map);//print by name and then location\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThe result will be:\r\n\r\n    {\r\n        Max={\r\n            Los Angeles=[Student@214c265e], \r\n            California=[Student@448139f0]\r\n        }, \r\n        John={\r\n            New York=[Student@7cca494b]\r\n        }, \r\n        Sam={\r\n            California=[Student@7ba4f24f]\r\n        }\r\n    }","title":"Group a list of objects by an attribute","body":"<p>Using <strong>Java 8</strong></p>\n<pre><code>import java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nclass Student {\n\n    private String stud_id;\n    private String stud_name;\n    private String stud_location;\n\n    public String getStud_id() {\n        return stud_id;\n    }\n\n    public String getStud_name() {\n        return stud_name;\n    }\n\n    public String getStud_location() {\n        return stud_location;\n    }\n\n\n\n    Student(String sid, String sname, String slocation) {\n\n        this.stud_id = sid;\n        this.stud_name = sname;\n        this.stud_location = slocation;\n\n    }\n}\n\nclass Temp\n{\n    public static void main(String args[])\n    {\n\n        Stream&lt;Student&gt; studs = \n        Stream.of(new Student(&quot;1726&quot;, &quot;John&quot;, &quot;New York&quot;),\n                new Student(&quot;4321&quot;, &quot;Max&quot;, &quot;California&quot;),\n                new Student(&quot;2234&quot;, &quot;Max&quot;, &quot;Los Angeles&quot;),\n                new Student(&quot;7765&quot;, &quot;Sam&quot;, &quot;California&quot;));\n        Map&lt;String, Map&lt;Object, List&lt;Student&gt;&gt;&gt; map= studs.collect(Collectors.groupingBy(Student::getStud_name,Collectors.groupingBy(Student::getStud_location)));\n                System.out.println(map);//print by name and then location\n    }\n\n}\n</code></pre>\n<p>The result will be:</p>\n<pre><code>{\n    Max={\n        Los Angeles=[Student@214c265e], \n        California=[Student@448139f0]\n    }, \n    John={\n        New York=[Student@7cca494b]\n    }, \n    Sam={\n        California=[Student@7ba4f24f]\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1645492,"reputation":1481,"user_id":1517100,"display_name":"jiahut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506412000,"creation_date":1506412000,"answer_id":46420583,"question_id":21678430,"body_markdown":"you can use `guava`&#39;s `Multimaps`\r\n\r\n    @Canonical\r\n    class Persion {\r\n         String name\r\n         Integer age\r\n    }\r\n    List&lt;Persion&gt; list = [\r\n       new Persion(&quot;qianzi&quot;, 100),\r\n       new Persion(&quot;qianzi&quot;, 99),\r\n       new Persion(&quot;zhijia&quot;, 99)\r\n    ]\r\n    println Multimaps.index(list, { Persion p -&gt; return p.name })\r\n\r\nit print:\r\n&gt; [qianzi:[com.ctcf.message.Persion(qianzi, 100),com.ctcf.message.Persion(qianzi, 88)],zhijia:[com.ctcf.message.Persion(zhijia, 99)]]","title":"Group a list of objects by an attribute","body":"<p>you can use <code>guava</code>'s <code>Multimaps</code></p>\n\n<pre><code>@Canonical\nclass Persion {\n     String name\n     Integer age\n}\nList&lt;Persion&gt; list = [\n   new Persion(\"qianzi\", 100),\n   new Persion(\"qianzi\", 99),\n   new Persion(\"zhijia\", 99)\n]\nprintln Multimaps.index(list, { Persion p -&gt; return p.name })\n</code></pre>\n\n<p>it print:</p>\n\n<blockquote>\n  <p>[qianzi:[com.ctcf.message.Persion(qianzi, 100),com.ctcf.message.Persion(qianzi, 88)],zhijia:[com.ctcf.message.Persion(zhijia, 99)]]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518435569,"creation_date":1518435425,"answer_id":48745588,"question_id":21678430,"body_markdown":"    Function&lt;Student, List&lt;Object&gt;&gt; compositKey = std -&gt;\r\n                    Arrays.asList(std.stud_location());\r\n            studentList.stream().collect(Collectors.groupingBy(compositKey, Collectors.toList()));\r\n    \r\nIf you want to add multiple objects for group by you can simply add the object in `compositKey` method separating by a comma:\r\n    \r\n    Function&lt;Student, List&lt;Object&gt;&gt; compositKey = std -&gt;\r\n                    Arrays.asList(std.stud_location(),std.stud_name());\r\n            studentList.stream().collect(Collectors.groupingBy(compositKey, Collectors.toList()));","title":"Group a list of objects by an attribute","body":"<pre><code>Function&lt;Student, List&lt;Object&gt;&gt; compositKey = std -&gt;\n                Arrays.asList(std.stud_location());\n        studentList.stream().collect(Collectors.groupingBy(compositKey, Collectors.toList()));\n</code></pre>\n\n<p>If you want to add multiple objects for group by you can simply add the object in <code>compositKey</code> method separating by a comma:</p>\n\n<pre><code>Function&lt;Student, List&lt;Object&gt;&gt; compositKey = std -&gt;\n                Arrays.asList(std.stud_location(),std.stud_name());\n        studentList.stream().collect(Collectors.groupingBy(compositKey, Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566132778,"creation_date":1566132778,"answer_id":57544747,"question_id":21678430,"body_markdown":"\r\n\r\n    public class Test9 {\r\n    \r\n        static class Student {\r\n    \r\n            String stud_id;\r\n            String stud_name;\r\n            String stud_location;\r\n    \r\n            public Student(String stud_id, String stud_name, String stud_location) {\r\n                super();\r\n                this.stud_id = stud_id;\r\n                this.stud_name = stud_name;\r\n                this.stud_location = stud_location;\r\n            }\r\n         \r\n            public String getStud_id() {\r\n                return stud_id;\r\n            }\r\n    \r\n            public void setStud_id(String stud_id) {\r\n                this.stud_id = stud_id;\r\n            }\r\n    \r\n            public String getStud_name() {\r\n                return stud_name;\r\n            }\r\n    \r\n            public void setStud_name(String stud_name) {\r\n                this.stud_name = stud_name;\r\n            }\r\n    \r\n            public String getStud_location() {\r\n                return stud_location;\r\n            }\r\n    \r\n            public void setStud_location(String stud_location) {\r\n                this.stud_location = stud_location;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot; [stud_id=&quot; + stud_id + &quot;, stud_name=&quot; + stud_name + &quot;]&quot;;\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            List&lt;Student&gt; list = new ArrayList&lt;Student&gt;();\r\n            list.add(new Student(&quot;1726&quot;, &quot;John Easton&quot;, &quot;Lancaster&quot;));\r\n            list.add(new Student(&quot;4321&quot;, &quot;Max Carrados&quot;, &quot;London&quot;));\r\n            list.add(new Student(&quot;2234&quot;, &quot;Andrew Lewis&quot;, &quot;Lancaster&quot;));\r\n            list.add(new Student(&quot;5223&quot;, &quot;Michael Benson&quot;, &quot;Leeds&quot;));\r\n            list.add(new Student(&quot;5225&quot;, &quot;Sanath Jayasuriya&quot;, &quot;Leeds&quot;));\r\n            list.add(new Student(&quot;7765&quot;, &quot;Samuael Vatican&quot;, &quot;California&quot;));\r\n            list.add(new Student(&quot;3442&quot;, &quot;Mark Farley&quot;, &quot;Ladykirk&quot;));\r\n            list.add(new Student(&quot;3443&quot;, &quot;Alex Stuart&quot;, &quot;Ladykirk&quot;));\r\n            list.add(new Student(&quot;4321&quot;, &quot;Michael Stuart&quot;, &quot;California&quot;));\r\n    \r\n            Map&lt;String, List&lt;Student&gt;&gt; map1  =\r\n                    \r\n                    list\r\n                    .stream()\r\n                    \r\n                .sorted(Comparator.comparing(Student::getStud_id)\r\n                        .thenComparing(Student::getStud_name)\r\n                        .thenComparing(Student::getStud_location)\r\n                        )\r\n                    \r\n                    .collect(Collectors.groupingBy(\r\n    \r\n                    ch -&gt; ch.stud_location\r\n    \r\n            ));\r\n            \r\n            System.out.println(map1);\r\n    \r\n    /*\r\n      Output :\r\n      \r\n    {Ladykirk=[ [stud_id=3442, stud_name=Mark Farley], \r\n     [stud_id=3443, stud_name=Alex Stuart]], \r\n    \r\n     Leeds=[ [stud_id=5223, stud_name=Michael Benson],  \r\n     [stud_id=5225, stud_name=Sanath Jayasuriya]],\r\n    \r\n    \r\n      London=[ [stud_id=4321, stud_name=Max Carrados]],\r\n    \r\n    \r\n       Lancaster=[ [stud_id=1726, stud_name=John Easton],  \r\n    \r\n       [stud_id=2234, stud_name=Andrew Lewis]], \r\n    \r\n    \r\n       California=[ [stud_id=4321, stud_name=Michael Stuart],  \r\n       [stud_id=7765, stud_name=Samuael Vatican]]}\r\n    */\r\n            \r\n            \r\n        }// main\r\n    }\r\n\r\n","title":"Group a list of objects by an attribute","body":"<pre><code>public class Test9 {\n\n    static class Student {\n\n        String stud_id;\n        String stud_name;\n        String stud_location;\n\n        public Student(String stud_id, String stud_name, String stud_location) {\n            super();\n            this.stud_id = stud_id;\n            this.stud_name = stud_name;\n            this.stud_location = stud_location;\n        }\n\n        public String getStud_id() {\n            return stud_id;\n        }\n\n        public void setStud_id(String stud_id) {\n            this.stud_id = stud_id;\n        }\n\n        public String getStud_name() {\n            return stud_name;\n        }\n\n        public void setStud_name(String stud_name) {\n            this.stud_name = stud_name;\n        }\n\n        public String getStud_location() {\n            return stud_location;\n        }\n\n        public void setStud_location(String stud_location) {\n            this.stud_location = stud_location;\n        }\n\n        @Override\n        public String toString() {\n            return \" [stud_id=\" + stud_id + \", stud_name=\" + stud_name + \"]\";\n        }\n\n    }\n\n    public static void main(String[] args) {\n\n        List&lt;Student&gt; list = new ArrayList&lt;Student&gt;();\n        list.add(new Student(\"1726\", \"John Easton\", \"Lancaster\"));\n        list.add(new Student(\"4321\", \"Max Carrados\", \"London\"));\n        list.add(new Student(\"2234\", \"Andrew Lewis\", \"Lancaster\"));\n        list.add(new Student(\"5223\", \"Michael Benson\", \"Leeds\"));\n        list.add(new Student(\"5225\", \"Sanath Jayasuriya\", \"Leeds\"));\n        list.add(new Student(\"7765\", \"Samuael Vatican\", \"California\"));\n        list.add(new Student(\"3442\", \"Mark Farley\", \"Ladykirk\"));\n        list.add(new Student(\"3443\", \"Alex Stuart\", \"Ladykirk\"));\n        list.add(new Student(\"4321\", \"Michael Stuart\", \"California\"));\n\n        Map&lt;String, List&lt;Student&gt;&gt; map1  =\n\n                list\n                .stream()\n\n            .sorted(Comparator.comparing(Student::getStud_id)\n                    .thenComparing(Student::getStud_name)\n                    .thenComparing(Student::getStud_location)\n                    )\n\n                .collect(Collectors.groupingBy(\n\n                ch -&gt; ch.stud_location\n\n        ));\n\n        System.out.println(map1);\n\n/*\n  Output :\n\n{Ladykirk=[ [stud_id=3442, stud_name=Mark Farley], \n [stud_id=3443, stud_name=Alex Stuart]], \n\n Leeds=[ [stud_id=5223, stud_name=Michael Benson],  \n [stud_id=5225, stud_name=Sanath Jayasuriya]],\n\n\n  London=[ [stud_id=4321, stud_name=Max Carrados]],\n\n\n   Lancaster=[ [stud_id=1726, stud_name=John Easton],  \n\n   [stud_id=2234, stud_name=Andrew Lewis]], \n\n\n   California=[ [stud_id=4321, stud_name=Michael Stuart],  \n   [stud_id=7765, stud_name=Samuael Vatican]]}\n*/\n\n\n    }// main\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4870108,"reputation":3891,"user_id":3926930,"accept_rate":60,"display_name":"Shafin Mahmud"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1593835640,"creation_date":1575377211,"answer_id":59157497,"question_id":21678430,"body_markdown":"Java 8 groupingBy Collector\r\n---------------------------\r\n\r\nProbably it&#39;s late but I like to share an improved idea to this problem. This is basically the same of @Vitalii Fedorenko&#39;s answer but more handly to play around.\r\n\r\nYou can just use the `Collectors.groupingBy()` by passing the grouping logic as function parameter and you will get the splitted list with the key parameter mapping. Note that using `Optional` is used to avoid the unwanted NPE when the provided list is `null`\r\n\r\n    public static &lt;E, K&gt; Map&lt;K, List&lt;E&gt;&gt; groupBy(List&lt;E&gt; list, Function&lt;E, K&gt; keyFunction) {\r\n        return Optional.ofNullable(list)\r\n                .orElseGet(ArrayList::new)\r\n                .stream()\r\n                .collect(Collectors.groupingBy(keyFunction));\r\n    }\r\n\r\nNow you can *groupBy* anything with this. For the use case here in the question \r\n\r\n`Map&lt;String, List&lt;Student&gt;&gt; map = groupBy(studlist, Student::getLocation);`\r\n\r\nMaybe you would like to look into this also [Guide to Java 8 groupingBy Collector][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-groupingby-collector","title":"Group a list of objects by an attribute","body":"<h2>Java 8 groupingBy Collector</h2>\n<p>Probably it's late but I like to share an improved idea to this problem. This is basically the same of @Vitalii Fedorenko's answer but more handly to play around.</p>\n<p>You can just use the <code>Collectors.groupingBy()</code> by passing the grouping logic as function parameter and you will get the splitted list with the key parameter mapping. Note that using <code>Optional</code> is used to avoid the unwanted NPE when the provided list is <code>null</code></p>\n<pre><code>public static &lt;E, K&gt; Map&lt;K, List&lt;E&gt;&gt; groupBy(List&lt;E&gt; list, Function&lt;E, K&gt; keyFunction) {\n    return Optional.ofNullable(list)\n            .orElseGet(ArrayList::new)\n            .stream()\n            .collect(Collectors.groupingBy(keyFunction));\n}\n</code></pre>\n<p>Now you can <em>groupBy</em> anything with this. For the use case here in the question</p>\n<p><code>Map&lt;String, List&lt;Student&gt;&gt; map = groupBy(studlist, Student::getLocation);</code></p>\n<p>Maybe you would like to look into this also <a href=\"https://www.baeldung.com/java-groupingby-collector\" rel=\"noreferrer\">Guide to Java 8 groupingBy Collector</a></p>\n"},{"tags":[],"owner":{"account_id":5073869,"reputation":51,"user_id":4071870,"display_name":"George Freire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659041790,"creation_date":1659041790,"answer_id":73159073,"question_id":21678430,"body_markdown":"      @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        KeyValuePair&lt;?, ?&gt; that = (KeyValuePair&lt;?, ?&gt;) o;\r\n        return Objects.equals(key, that.key) &amp;&amp; Objects.equals(value, that.value);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(key, value);\r\n    }","title":"Group a list of objects by an attribute","body":"<pre><code>  @Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    KeyValuePair&lt;?, ?&gt; that = (KeyValuePair&lt;?, ?&gt;) o;\n    return Objects.equals(key, that.key) &amp;&amp; Objects.equals(value, that.value);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(key, value);\n}\n</code></pre>\n"}],"owner":{"account_id":3207650,"reputation":3250,"user_id":2708372,"accept_rate":65,"display_name":"Dilukshan Mahendra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341263,"favorite_count":0,"down_vote_count":0,"up_vote_count":160,"accepted_answer_id":21678611,"answer_count":13,"score":160,"last_activity_date":1685920460,"creation_date":1392038479,"question_id":21678430,"body_markdown":"I need to group a list of objects (`Student`) using an attribute (`Location`) of the particular object. The code is like below:\r\n\r\n    public class Grouping {\r\n        public static void main(String[] args) {\r\n\r\n            List&lt;Student&gt; studlist = new ArrayList&lt;Student&gt;();\r\n            studlist.add(new Student(&quot;1726&quot;, &quot;John&quot;, &quot;New York&quot;));\r\n            studlist.add(new Student(&quot;4321&quot;, &quot;Max&quot;, &quot;California&quot;));\r\n            studlist.add(new Student(&quot;2234&quot;, &quot;Andrew&quot;, &quot;Los Angeles&quot;));\r\n            studlist.add(new Student(&quot;5223&quot;, &quot;Michael&quot;, &quot;New York&quot;));\r\n            studlist.add(new Student(&quot;7765&quot;, &quot;Sam&quot;, &quot;California&quot;));\r\n            studlist.add(new Student(&quot;3442&quot;, &quot;Mark&quot;, &quot;New York&quot;));\r\n\r\n        }\r\n    }\r\n    \r\n    class Student {\r\n        String stud_id;\r\n        String stud_name;\r\n        String stud_location;\r\n    \r\n        Student(String sid, String sname, String slocation) {\r\n            this.stud_id = sid;\r\n            this.stud_name = sname;\r\n            this.stud_location = slocation;\r\n        }\r\n    }\r\n\r\nPlease suggest me a clean way to do it.","title":"Group a list of objects by an attribute","body":"<p>I need to group a list of objects (<code>Student</code>) using an attribute (<code>Location</code>) of the particular object. The code is like below:</p>\n<pre><code>public class Grouping {\n    public static void main(String[] args) {\n\n        List&lt;Student&gt; studlist = new ArrayList&lt;Student&gt;();\n        studlist.add(new Student(&quot;1726&quot;, &quot;John&quot;, &quot;New York&quot;));\n        studlist.add(new Student(&quot;4321&quot;, &quot;Max&quot;, &quot;California&quot;));\n        studlist.add(new Student(&quot;2234&quot;, &quot;Andrew&quot;, &quot;Los Angeles&quot;));\n        studlist.add(new Student(&quot;5223&quot;, &quot;Michael&quot;, &quot;New York&quot;));\n        studlist.add(new Student(&quot;7765&quot;, &quot;Sam&quot;, &quot;California&quot;));\n        studlist.add(new Student(&quot;3442&quot;, &quot;Mark&quot;, &quot;New York&quot;));\n\n    }\n}\n\nclass Student {\n    String stud_id;\n    String stud_name;\n    String stud_location;\n\n    Student(String sid, String sname, String slocation) {\n        this.stud_id = sid;\n        this.stud_name = sname;\n        this.stud_location = slocation;\n    }\n}\n</code></pre>\n<p>Please suggest me a clean way to do it.</p>\n"},{"tags":["java","r","openstreetmap","gtfs","r5r"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1685916986,"post_id":76402592,"comment_id":134723993,"body_markdown":"If you add `-XshowSettings:vm` to your `jvm.parameters`, what `Max. Heap Size` does it report?","body":"If you add <code>-XshowSettings:vm</code> to your <code>jvm.parameters</code>, what <code>Max. Heap Size</code> does it report?"},{"owner":{"account_id":12836197,"reputation":1151,"user_id":9285732,"display_name":"Martin"},"score":0,"creation_date":1685920024,"post_id":76402592,"comment_id":134724237,"body_markdown":"You&#39;re right, the memory was not allocated. I had to restart my R session and set the option first. \n```\nrJava::.jinit()\nrJava::.jcall(&quot;java.lang.System&quot;, &quot;S&quot;, &quot;getProperty&quot;, &quot;java.version&quot;)\n# after this restart R session!\noptions(java.parameters = &quot;-Xmx50G&quot;)\n```\nThen it worked. Thanks and sorry for the noob mistake.","body":"You&#39;re right, the memory was not allocated. I had to restart my R session and set the option first.  ``` rJava::.jinit() rJava::.jcall(&quot;java.lang.System&quot;, &quot;S&quot;, &quot;getProperty&quot;, &quot;java.version&quot;) # after this restart R session! options(java.parameters = &quot;-Xmx50G&quot;) ``` Then it worked. Thanks and sorry for the noob mistake."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685935386,"post_id":76402592,"comment_id":134725280,"body_markdown":"if you use 50GB heap in a 64GB system you may be experiencing other memory issues because of not leaving enough memory for the rest of native memory Java uses plus the rest of the system.","body":"if you use 50GB heap in a 64GB system you may be experiencing other memory issues because of not leaving enough memory for the rest of native memory Java uses plus the rest of the system."}],"owner":{"account_id":12836197,"reputation":1151,"user_id":9285732,"display_name":"Martin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685920092,"creation_date":1685916436,"question_id":76402592,"body_markdown":"I am using GTFS data from https://opentransportdata.swiss/de/dataset/timetable-2023-gtfs2020 ([this file](https://opentransportdata.swiss/dataset/507c734f-0d9f-48be-843c-7bfd3bf5ec15/resource/e6cbd5b6-92b1-4e86-accb-bb1c1d404ef2/download/gtfs_fp2023_2023-05-31_04-15.zip)) and OSM from https://download.geofabrik.de/europe/ ([this file](https://download.geofabrik.de/europe/switzerland-latest.osm.pbf)).\r\n\r\nI tried it on my low specs computer first, then tried to on a 64GB RAM + 50 GB SWAP machine in a rocker/geospatial docker.\r\n\r\n```\r\nrJava::.jinit()\r\nrJava::.jcall(&quot;java.lang.System&quot;, &quot;S&quot;, &quot;getProperty&quot;, &quot;java.version&quot;)\r\n# &quot;11.0.18&quot;\r\n## restarting R session here solved my issue ##\r\noptions(java.parameters = &quot;-Xmx50G&quot;)\r\n```\r\n\r\n```\r\nlibrary(r5r)\r\nlibrary(sf)\r\nlibrary(data.table)\r\nlibrary(ggplot2)\r\nr5r_core &lt;- setup_r5(data_path = &quot;/switzerlandR&quot;, temp_dir = T, verbose = T)\r\n```\r\n\r\n```\r\n[...]\r\n2023-06-04 21:45:12,333 [main] DEBUG c.c.r.l.LevelOfTrafficStressLabeler - Unable to parse maxspeed tag signals\r\n2023-06-04 21:45:12,333 [main] DEBUG c.c.r.l.LevelOfTrafficStressLabeler - Unable to parse maxspeed tag signals\r\n2023-06-04 21:45:12,574 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\r\n2023-06-04 21:45:12,574 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\r\n2023-06-04 21:45:12,574 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\r\n2023-06-04 21:45:12,574 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\r\n2023-06-04 21:45:12,574 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\r\n2023-06-04 21:45:12,621 [main] DEBUG c.c.r.l.TraversalPermissionLabeler - Unknown access tag:permit\r\n2023-06-04 21:45:12,622 [main] DEBUG c.c.r.l.TraversalPermissionLabeler - Unknown access tag:permit\r\n2023-06-04 21:45:12,674 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\r\n2023-06-04 21:45:12,674 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\r\nError in setup_r5(data_path = &quot;/switzerlandR&quot;, temp_dir = T, verbose = T) : \r\n  java.lang.OutOfMemoryError: Java heap space\r\n```\r\n\r\nWhat could be the issue? What could I try?","title":"r5r::setup_r5 resulting in java.lang.OutOfMemoryError: Java heap space","body":"<p>I am using GTFS data from <a href=\"https://opentransportdata.swiss/de/dataset/timetable-2023-gtfs2020\" rel=\"nofollow noreferrer\">https://opentransportdata.swiss/de/dataset/timetable-2023-gtfs2020</a> (<a href=\"https://opentransportdata.swiss/dataset/507c734f-0d9f-48be-843c-7bfd3bf5ec15/resource/e6cbd5b6-92b1-4e86-accb-bb1c1d404ef2/download/gtfs_fp2023_2023-05-31_04-15.zip\" rel=\"nofollow noreferrer\">this file</a>) and OSM from <a href=\"https://download.geofabrik.de/europe/\" rel=\"nofollow noreferrer\">https://download.geofabrik.de/europe/</a> (<a href=\"https://download.geofabrik.de/europe/switzerland-latest.osm.pbf\" rel=\"nofollow noreferrer\">this file</a>).</p>\n<p>I tried it on my low specs computer first, then tried to on a 64GB RAM + 50 GB SWAP machine in a rocker/geospatial docker.</p>\n<pre><code>rJava::.jinit()\nrJava::.jcall(&quot;java.lang.System&quot;, &quot;S&quot;, &quot;getProperty&quot;, &quot;java.version&quot;)\n# &quot;11.0.18&quot;\n## restarting R session here solved my issue ##\noptions(java.parameters = &quot;-Xmx50G&quot;)\n</code></pre>\n<pre><code>library(r5r)\nlibrary(sf)\nlibrary(data.table)\nlibrary(ggplot2)\nr5r_core &lt;- setup_r5(data_path = &quot;/switzerlandR&quot;, temp_dir = T, verbose = T)\n</code></pre>\n<pre><code>[...]\n2023-06-04 21:45:12,333 [main] DEBUG c.c.r.l.LevelOfTrafficStressLabeler - Unable to parse maxspeed tag signals\n2023-06-04 21:45:12,333 [main] DEBUG c.c.r.l.LevelOfTrafficStressLabeler - Unable to parse maxspeed tag signals\n2023-06-04 21:45:12,574 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\n2023-06-04 21:45:12,574 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\n2023-06-04 21:45:12,574 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\n2023-06-04 21:45:12,574 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\n2023-06-04 21:45:12,574 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\n2023-06-04 21:45:12,621 [main] DEBUG c.c.r.l.TraversalPermissionLabeler - Unknown access tag:permit\n2023-06-04 21:45:12,622 [main] DEBUG c.c.r.l.TraversalPermissionLabeler - Unknown access tag:permit\n2023-06-04 21:45:12,674 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\n2023-06-04 21:45:12,674 [main] DEBUG c.c.r.s.StreetLayer - Way has no permissions skipping!\nError in setup_r5(data_path = &quot;/switzerlandR&quot;, temp_dir = T, verbose = T) : \n  java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p>What could be the issue? What could I try?</p>\n"},{"tags":["java","android","dependencies"],"owner":{"account_id":28748232,"reputation":1,"user_id":22016860,"display_name":"Arsenal Fernandez Campanet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685919446,"creation_date":1685867769,"question_id":76399552,"body_markdown":"I want to use the cuberto liquid swipe on Android Studio, but on the new version there are no allprojects dependency. Where can I add the code for it to work on android studio 2023?\r\n\r\n\r\n    def githubProperties = new Properties()\r\n        githubProperties.load(new FileInputStream(rootProject.file(&quot;github.properties&quot;)))\r\n        repositories {\r\n            maven {\r\n                name = &quot;GitHubPackages&quot;\r\n    \r\n                url = uri(&quot;https://maven.pkg.github.com/Cuberto/liquid-swipe-android&quot;)\r\n                credentials {\r\n                    /** Create github.properties in root project folder file with     \r\n                    ** gpr.usr=GITHUB_USER_ID &amp; gpr.key=PERSONAL_ACCESS_TOKEN \r\n                    ** Or set env variable GPR_USER &amp; GPR_API_KEY if not adding a properties file**/\r\n                    username = githubProperties[&#39;gpr.usr&#39;] ?: System.getenv(&quot;GPR_USER&quot;)\r\n                    password = githubProperties[&#39;gpr.key&#39;] ?: System.getenv(&quot;GPR_API_KEY&quot;)\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nhttps://github.com/Cuberto/liquid-swipe-android\r\n\r\nI tried adding the code to `setting.grandle` but it didn&#39;t work.","title":"Where to Add Code to Make Cuberto Liquid Swipe Work in Android Studio 2023?","body":"<p>I want to use the cuberto liquid swipe on Android Studio, but on the new version there are no allprojects dependency. Where can I add the code for it to work on android studio 2023?</p>\n<pre><code>def githubProperties = new Properties()\n    githubProperties.load(new FileInputStream(rootProject.file(&quot;github.properties&quot;)))\n    repositories {\n        maven {\n            name = &quot;GitHubPackages&quot;\n\n            url = uri(&quot;https://maven.pkg.github.com/Cuberto/liquid-swipe-android&quot;)\n            credentials {\n                /** Create github.properties in root project folder file with     \n                ** gpr.usr=GITHUB_USER_ID &amp; gpr.key=PERSONAL_ACCESS_TOKEN \n                ** Or set env variable GPR_USER &amp; GPR_API_KEY if not adding a properties file**/\n                username = githubProperties['gpr.usr'] ?: System.getenv(&quot;GPR_USER&quot;)\n                password = githubProperties['gpr.key'] ?: System.getenv(&quot;GPR_API_KEY&quot;)\n            }\n        }\n    }\n</code></pre>\n<p><a href=\"https://github.com/Cuberto/liquid-swipe-android\" rel=\"nofollow noreferrer\">https://github.com/Cuberto/liquid-swipe-android</a></p>\n<p>I tried adding the code to <code>setting.grandle</code> but it didn't work.</p>\n"},{"tags":["java","android","flutter","dart","flutter-animation"],"answers":[{"tags":[],"owner":{"account_id":20202757,"reputation":1634,"user_id":14818033,"display_name":"Moaid ALRazhy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618739908,"creation_date":1618739508,"answer_id":67147238,"question_id":67147229,"body_markdown":"check the `GestureDetector` widget\r\nand those available events [https://flutter.dev/docs/development/ui/advanced/gestures][1]\r\n\r\n  [1]: https://flutter.dev/docs/development/ui/advanced/gestures\r\n\r\nhowever Using `OnGestureListener` to detect multitouch gestures does not seem to be implemented by default.\r\n\r\nThe first thing you may have tried is reading `event.pointerCount` to get the count of fingers on the screen. However, this will be equal to 1. This is because you will (quite likely) never be able touch the screen with both fingers in exactly the same millisecond.\r\n\r\n**Fixing it**\r\n\r\nYou have to buffer pointerCount (the amount of fingers on screen). First add those variables somewhere in the context that you intend to track gestures in:\r\n\r\n    // track how many fingers are used\r\n\r\n    var bufferedPointerCount = 1\r\n    var bufferTolerance = 500 // in ms\r\n    var pointerBufferTimer = Timer()\r\n\r\nThen, in the onTouchEvent(event: MotionEvent) function, you add this:\r\n\r\n        // Buffer / Debounce the pointer count\r\n    if (event.pointerCount &gt; bufferedPointerCount) {\r\n      bufferedPointerCount = event.pointerCount\r\n      pointerBufferTimer = fixedRateTimer(&quot;pointerBufferTimer&quot;, true, bufferTolerance, 1000) {\r\n        bufferedPointerCount = 1\r\n        this.cancel() // a non-recurring timer\r\n      }\r\n\r\n}\r\n\r\nEssentially this tracks the maximum amount of fingers on the display and keeps it valid for bufferTolerance milliseconds (here: 500).","title":"How can I detect multiple touches in Flutter?","body":"<p>check the <code>GestureDetector</code> widget\nand those available events <a href=\"https://flutter.dev/docs/development/ui/advanced/gestures\" rel=\"nofollow noreferrer\">https://flutter.dev/docs/development/ui/advanced/gestures</a></p>\n<p>however Using <code>OnGestureListener</code> to detect multitouch gestures does not seem to be implemented by default.</p>\n<p>The first thing you may have tried is reading <code>event.pointerCount</code> to get the count of fingers on the screen. However, this will be equal to 1. This is because you will (quite likely) never be able touch the screen with both fingers in exactly the same millisecond.</p>\n<p><strong>Fixing it</strong></p>\n<p>You have to buffer pointerCount (the amount of fingers on screen). First add those variables somewhere in the context that you intend to track gestures in:</p>\n<pre><code>// track how many fingers are used\n\nvar bufferedPointerCount = 1\nvar bufferTolerance = 500 // in ms\nvar pointerBufferTimer = Timer()\n</code></pre>\n<p>Then, in the onTouchEvent(event: MotionEvent) function, you add this:</p>\n<pre><code>    // Buffer / Debounce the pointer count\nif (event.pointerCount &gt; bufferedPointerCount) {\n  bufferedPointerCount = event.pointerCount\n  pointerBufferTimer = fixedRateTimer(&quot;pointerBufferTimer&quot;, true, bufferTolerance, 1000) {\n    bufferedPointerCount = 1\n    this.cancel() // a non-recurring timer\n  }\n</code></pre>\n<p>}</p>\n<p>Essentially this tracks the maximum amount of fingers on the display and keeps it valid for bufferTolerance milliseconds (here: 500).</p>\n"},{"tags":[],"owner":{"account_id":5196680,"reputation":656,"user_id":4157713,"display_name":"Vladimir Demirev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685918303,"creation_date":1685918303,"answer_id":76402679,"question_id":67147229,"body_markdown":"GestureDetector doesnt detect multi-touch, except predefined gestures like scaling etc\r\n\r\nFor multi-touch i use something like:\r\n\r\n\r\n    RawGestureDetector(\r\n          gestures: {\r\n            MultiTapGestureRecognizer: GestureRecognizerFactoryWithHandlers&lt;MultiTapGestureRecognizer&gt;(\r\n              () =&gt; MultiTapGestureRecognizer(),\r\n              (MultiTapGestureRecognizer instance) {\r\n                instance.onTapDown =(pointer, details) {\r\n                  log( &#39;X=${details.localPosition.dx}  Y=${details.localPosition.dy}&#39; )\r\n                };\r\n              },  \r\n            ),\r\n          },\r\n          child:\r\n            ...some content widget here,\r\n        )\r\n    )\r\n\r\nTo detect the end of each touch, use onTapUp()\r\n","title":"How can I detect multiple touches in Flutter?","body":"<p>GestureDetector doesnt detect multi-touch, except predefined gestures like scaling etc</p>\n<p>For multi-touch i use something like:</p>\n<pre><code>RawGestureDetector(\n      gestures: {\n        MultiTapGestureRecognizer: GestureRecognizerFactoryWithHandlers&lt;MultiTapGestureRecognizer&gt;(\n          () =&gt; MultiTapGestureRecognizer(),\n          (MultiTapGestureRecognizer instance) {\n            instance.onTapDown =(pointer, details) {\n              log( 'X=${details.localPosition.dx}  Y=${details.localPosition.dy}' )\n            };\n          },  \n        ),\n      },\n      child:\n        ...some content widget here,\n    )\n)\n</code></pre>\n<p>To detect the end of each touch, use onTapUp()</p>\n"}],"owner":{"account_id":21305628,"reputation":11,"user_id":15680914,"display_name":"Kalle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685918303,"creation_date":1618739443,"question_id":67147229,"body_markdown":"*Hello everyone,*\r\n\r\nI am quite new to Flutter and wanted to build an application that **detects multiple touches** and **if that touch lasts longer sets a circle** there for example.\r\n\r\nSimilar to this there is the app **&quot;Chwazi Finger Chooser&quot;** in the PlayStore. This is how the whole thing should look like in the end.\r\n\r\nCan you help me and tell me which components I need? **Or if possible suggest some code?**\r\n\r\nI have not found an answer through my research so far and am hoping for you now! \r\n\r\n**Please help me :)**","title":"How can I detect multiple touches in Flutter?","body":"<p><em>Hello everyone,</em></p>\n<p>I am quite new to Flutter and wanted to build an application that <strong>detects multiple touches</strong> and <strong>if that touch lasts longer sets a circle</strong> there for example.</p>\n<p>Similar to this there is the app <strong>&quot;Chwazi Finger Chooser&quot;</strong> in the PlayStore. This is how the whole thing should look like in the end.</p>\n<p>Can you help me and tell me which components I need? <strong>Or if possible suggest some code?</strong></p>\n<p>I have not found an answer through my research so far and am hoping for you now!</p>\n<p><strong>Please help me :)</strong></p>\n"},{"tags":["java","postgresql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685892183,"creation_date":1685892183,"answer_id":76401100,"question_id":76401034,"body_markdown":"&gt; The :sort parameter is successfully passed into the query executed by Hibernate.\r\n\r\nthat is actually not true. The resulting query effectively looks like:\r\n\r\n```java\r\nHibernate: select questionco0_.id as col_0_0_, \r\n   question1_.id as col_1_0_, \r\n   questionco0_.created_date as col_2_0_, \r\n   questionco0_.modified_date as col_3_0_, \r\n   questionco0_.text as col_4_0_ \r\nfrom question_comments questionco0_ \r\n     inner join questions question1_ on \r\n       questionco0_.question_id=question1_.id \r\norder by &quot;id DESC&quot; limit ?\r\n```\r\n\r\nThat is clearly stated in HBN debug message:\r\n\r\n```\r\nbinding parameter [1] as [VARCHAR] - [ id DESC ]\r\n```\r\n\r\nBasically, you are sorting by a constant, but not by a column. Anticipating a follow-up Q about how to parameterise column name in `order by` clause: you can&#39;t, you can parameterise constants, but not columns.","title":"DESC is passed to a Hibernate query, but the order is still ascending. Why?","body":"<blockquote>\n<p>The :sort parameter is successfully passed into the query executed by Hibernate.</p>\n</blockquote>\n<p>that is actually not true. The resulting query effectively looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Hibernate: select questionco0_.id as col_0_0_, \n   question1_.id as col_1_0_, \n   questionco0_.created_date as col_2_0_, \n   questionco0_.modified_date as col_3_0_, \n   questionco0_.text as col_4_0_ \nfrom question_comments questionco0_ \n     inner join questions question1_ on \n       questionco0_.question_id=question1_.id \norder by &quot;id DESC&quot; limit ?\n</code></pre>\n<p>That is clearly stated in HBN debug message:</p>\n<pre><code>binding parameter [1] as [VARCHAR] - [ id DESC ]\n</code></pre>\n<p>Basically, you are sorting by a constant, but not by a column. Anticipating a follow-up Q about how to parameterise column name in <code>order by</code> clause: you can't, you can parameterise constants, but not columns.</p>\n"},{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685892237,"creation_date":1685892237,"answer_id":76401109,"question_id":76401034,"body_markdown":"Just look at [my answer here][1]. You cannot change execution plan with `PreparedStatement` parameters, changing `asc` to `desc` or vice-versa changes the execution plan. So neither SQL nor Hibernate won&#39;t do that (as you except).\r\n\r\nSo when you are passing that as `PreparedStatement` parameter, you are passing a constant, so your DBMS just runs the query as:\r\n\r\n    select ....\r\n    order by &#39;id desc&#39;\r\n\r\nwhich is a constant!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20625692/hibernate-could-not-execute-native-bulk-manipulation-query/20625939#20625939","title":"DESC is passed to a Hibernate query, but the order is still ascending. Why?","body":"<p>Just look at <a href=\"https://stackoverflow.com/questions/20625692/hibernate-could-not-execute-native-bulk-manipulation-query/20625939#20625939\">my answer here</a>. You cannot change execution plan with <code>PreparedStatement</code> parameters, changing <code>asc</code> to <code>desc</code> or vice-versa changes the execution plan. So neither SQL nor Hibernate won't do that (as you except).</p>\n<p>So when you are passing that as <code>PreparedStatement</code> parameter, you are passing a constant, so your DBMS just runs the query as:</p>\n<pre><code>select ....\norder by 'id desc'\n</code></pre>\n<p>which is a constant!</p>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685917460,"creation_date":1685891026,"question_id":76401034,"body_markdown":"I have a RESTful app. Here&#39;s a test method from it. It is intended to retrieve a page of `QuestionCommentResponseDto` objects in *descending* order\r\n```java\r\n    @Test\r\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetPageTest/before.sql&quot;)\r\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetPageTest/after.sql&quot;) // truncating\r\n    public void getPageOneSizeFiveSortByIdDescTest() throws Exception {\r\n        token = testUtil.getToken(testUsername, testPassword);\r\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + &quot;page/&quot; + 1)\r\n                        .header(HttpHeaders.AUTHORIZATION, token)\r\n                        .param(&quot;pageSize&quot;, &quot;5&quot;)\r\n                        .param(&quot;sortType&quot;, &quot;ID_DESC&quot;))\r\n                .andExpect(status().isOk())\r\n                .andReturn()\r\n                .getResponse();\r\n// asserts omitted\r\n```\r\n```\r\n&lt;!-- the before script --&gt;\r\nTRUNCATE TABLE permissions CASCADE;\r\n&lt;!-- the same for accounts, questions, tags, question_comments --&gt;\r\n\r\nINSERT INTO permissions(id, name, created_date, modified_date)\r\nVALUES (1, &#39;ADMIN&#39;, current_timestamp, current_timestamp),\r\n       (2, &#39;MODERATOR&#39;, current_timestamp, current_timestamp),\r\n       (3, &#39;USER&#39;, current_timestamp, current_timestamp);\r\n\r\nINSERT INTO accounts(id, username, password, enabled, created_date, modified_date)\r\nVALUES (1, &#39;mickey_m&#39;, &#39;$2y$10$ZdqfOo1vwdHJJGnkmGrw/OUelZcU9ZfRFaX/RMN3XniXH96eTkB1e&#39;, true, current_timestamp,\r\n        current_timestamp),\r\n       (2, &#39;minerva_m&#39;, &#39;$2y$10$PiZxGGi904rCLdTSGY1ycuQhcEtQrP1u74KvQ2IEuk5Jh18Ml.6xO&#39;, true, current_timestamp,\r\n        current_timestamp);\r\n\r\nINSERT INTO accounts_permissions(account_id, permission_id)\r\nVALUES (1, 3),\r\n       (2, 3);\r\n\r\nINSERT INTO questions(id, created_date, modified_date, title, description, account_id)\r\nVALUES (1, current_timestamp, current_timestamp, &#39;title&#39;, &#39;description&#39;, 2);\r\n\r\nINSERT INTO tags(id, created_date, modified_date, name)\r\nVALUES (1, current_timestamp, current_timestamp, &#39;tag1&#39;),\r\n       (2, current_timestamp, current_timestamp, &#39;tag2&#39;),\r\n       (3, current_timestamp, current_timestamp, &#39;tag3&#39;);\r\n\r\nINSERT INTO questions_tags(question_id, tag_id)\r\nVALUES (1, 1), (1, 2), (1, 3);\r\n\r\nINSERT INTO question_comments(id, created_date, modified_date, text, account_id, question_id)\r\nVALUES (1, current_timestamp, current_timestamp, &#39;text&#39;, 1, 1),\r\n       &lt;!-- the middle rows are omitted --&gt;\r\n       (10, current_timestamp, current_timestamp, &#39;text&#39;, 1, 1);\r\n```\r\n```java\r\n@Getter\r\npublic class QuestionCommentResponseDto {\r\n    private final Long id;\r\n    private final Long questionId;\r\n    private final LocalDateTime createdDate;\r\n    private final LocalDateTime modifiedDate;\r\n    private final String text;\r\n    @Setter\r\n    private AccountResponseDto owner;\r\n\r\n// constructors, equals(), hashcode()\r\n```\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class AccountResponseDto {\r\n\r\n    private Long id;\r\n    private String username;\r\n\r\n// equals(), hashcode()\r\n```\r\n```java\r\n// the relevant controller method\r\n    @GetMapping(&quot;/page/{pageNumber}&quot;)\r\n    public ResponseEntity&lt;Data&lt;Page&lt;QuestionCommentResponseDto&gt;&gt;&gt; getPage(@PathVariable @Positive @NotNull Integer pageNumber,\r\n                                                                          @RequestParam(defaultValue = &quot;20&quot;) @NotNull Integer pageSize,\r\n                                                                          @RequestParam(defaultValue = &quot;ID_ASC&quot;) @NotNull SortType sortType) {\r\n        PaginationParameters params = PaginationParameters.ofPageNumberSizeAndSortType(pageNumber, pageSize, sortType);\r\n// ↑ PaginationParameters is a simple record class defined as PaginationParameters(Integer pageNumber, Integer size, SortType sortType)\r\n        Page&lt;QuestionCommentResponseDto&gt; page = dtoService.getPage(params);\r\n        Data&lt;Page&lt;QuestionCommentResponseDto&gt;&gt; responseData = Data.build(page); // a two-bit wrapper\r\n        return ResponseEntity.ok(responseData);\r\n    }\r\n```\r\n```java\r\n@RequiredArgsConstructor\r\n@Getter\r\npublic enum SortType {\r\n\r\n    ID_ASC(&quot; id &quot;),\r\n    ID_DESC(&quot; id DESC &quot;),\r\n    // some extra constants\r\n\r\nprivate String query;\r\n}\r\n```\r\n```java\r\n// a basic utility class\r\n\r\npublic class PaginationParametersProcessor {\r\n    public static String extractSortingModifier(PaginationParameters params) {\r\n        return params.sortType().getQuery();\r\n    }\r\n\r\n    public static int extractFirstResultIndex(PaginationParameters params) {\r\n        return (params.pageNumber() - 1) * params.size();\r\n    }\r\n\r\n    public static int extractMaxResults(PaginationParameters params) {\r\n        return params.size();\r\n    }\r\n}\r\n```\r\n`dtoService.getPage(params)` eventually comes down to this\r\n```java\r\n    @Override\r\n    public List&lt;QuestionCommentResponseDto&gt; getDtosWithoutSetOwner(PaginationParameters params) {\r\n        String sortingModifier = PaginationParametersProcessor.extractSortingModifier(params); // assigns &quot; id DESC &quot;\r\n        int offset = PaginationParametersProcessor.extractFirstResultIndex(params);\r\n        int limit = PaginationParametersProcessor.extractMaxResults(params);\r\n        return entityManager.createQuery(&quot;&quot;&quot;\r\n                SELECT new stack.overflow.model.dto.response.QuestionCommentResponseDto (\r\n                            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text\r\n                ) FROM QuestionComment qc JOIN qc.question q\r\n                ORDER BY :sort\r\n                &quot;&quot;&quot;, QuestionCommentResponseDto.class)\r\n                .setParameter(&quot;sort&quot;, sortingModifier)\r\n                .setFirstResult(offset)\r\n                .setMaxResults(limit)\r\n                .getResultList();\r\n    }\r\n```\r\nThe `:sort` parameter is successfully passed into the query executed by Hibernate. Here&#39;s a snippet from my console output\r\n```\r\nHibernate: select questionco0_.id as col_0_0_, question1_.id as col_1_0_, questionco0_.created_date as col_2_0_, questionco0_.modified_date as col_3_0_, questionco0_.text as col_4_0_ from question_comments questionco0_ inner join questions question1_ on questionco0_.question_id=question1_.id order by ? limit ?\r\n2023-06-04 16:46:53.164 TRACE 3172 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ id DESC ]\r\n```\r\nBut the ids in the resulting list are in an *ascending*, not *descending* order\r\n```\r\nBody = {&quot;data&quot;:{&quot;dtos&quot;:[{&quot;id&quot;:1,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;modifiedDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}},{&quot;id&quot;:2,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;modifiedDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}},{&quot;id&quot;:3,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;modifiedDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}},{&quot;id&quot;:4,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;modifiedDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}},{&quot;id&quot;:5,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;modifiedDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}}],&quot;count&quot;:10}}\r\n```\r\n**Why is that and how do I fix it?** Is it because Postgres can&#39;t figure out which `id` I mean (`QuestionComment`&#39;s or `Question`&#39;s)? Suggestions?\r\n\r\nIn case you need to look at the entire project, here&#39;s the [repo][1]\r\n\r\n**UPD:** Ok, so `setParameter()` encloses the passed value in parentheses thereby precluding any query modification (which makes sense considering the peril of SQL injections). What should I do then? Regular concatenation would make my code less pretty, don&#39;t you think?\r\n```java\r\n@Override\r\n    public List&lt;QuestionCommentResponseDto&gt; getDtosWithoutSetOwner(PaginationParameters params) {\r\n        String sortingModifier = PaginationParametersProcessor.extractSortingModifier(params);\r\n        int offset = PaginationParametersProcessor.extractFirstResultIndex(params);\r\n        int limit = PaginationParametersProcessor.extractMaxResults(params);\r\n        return entityManager.createQuery(&quot;&quot;&quot;\r\n                SELECT new stack.overflow.model.dto.response.QuestionCommentResponseDto (\r\n                            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text\r\n                ) FROM QuestionComment qc JOIN qc.question q\r\n                ORDER BY&quot;&quot;&quot; + sortingModifier, QuestionCommentResponseDto.class) // ← not nice\r\n                .setFirstResult(offset)\r\n                .setMaxResults(limit)\r\n                .getResultList();\r\n    }\r\n```\r\nWhat&#39;s worse, I now get error 500 in all &quot;getPage&quot; tests, including those that used to go smoothly\r\n```\r\nBody = {&quot;error&quot;:&quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;}\r\n```\r\nAs I understand, it&#39;s because of the thing I mentioned above, `id`&#39;s ambiguity\r\n```\r\nERROR 7816 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column reference &quot;id&quot; is ambiguous\r\n```\r\nHere&#39;s what I tried to resolve that ambiguity\r\n```java\r\n    @Override\r\n    public List&lt;QuestionCommentResponseDto&gt; getDtosWithoutSetOwner(PaginationParameters params) {\r\n        String sortingModifier = PaginationParametersProcessor.extractSortingModifier(params, QuestionComment.class);\r\n```\r\n```java\r\npublic class PaginationParametersProcessor {\r\n    public static String extractSortingModifier(PaginationParameters params) {\r\n        return params.sortType().getQuery();\r\n    }\r\n\r\n    public static String extractSortingModifier(PaginationParameters params,\r\n                                                Class&lt;?&gt; entity) {\r\n        String nonadaptedQuery = extractSortingModifier(params);\r\n        String entityTableName = extractEntityTableName(entity);\r\n        String adaptedQuery = nonadaptedQuery.replaceFirst(&quot;(?=\\\\w)&quot;, entityTableName + &quot;.&quot;);\r\n        return adaptedQuery;\r\n    }\r\n\r\n    private static String extractEntityTableName(Class&lt;?&gt; entity) {\r\n        if (entity.isAnnotationPresent(Entity.class)) {\r\n            return entity.isAnnotationPresent(Table.class) ?\r\n                  entity.getAnnotation(Table.class).name() :\r\n                    entity.getSimpleName();\r\n        } else {\r\n            throw new IllegalArgumentException(String.format(&quot;%s is not an @Entity&quot;, entity.getName()));\r\n        }\r\n    }\r\n```\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\n@EntityListeners(AuditingEntityListener.class)\r\n@Table(name = &quot;question_comments&quot;) // ← see?\r\npublic class QuestionComment {\r\n```\r\nResult:\r\n```\r\nERROR 4440 --- [           main] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: &#39;question_comments.id&#39;\r\n\r\norg.hibernate.hql.internal.ast.InvalidPathException: Invalid path: &#39;question_comments.id&#39;\r\n```\r\nI don&#39;t get it. Why is it invalid? I tried this too (after all, JPA operates with `@Entiti`es, not tables)\r\n```\r\nprivate static String extractEntityTableName(Class&lt;?&gt; entity) {\r\n        if (entity.isAnnotationPresent(Entity.class)) {\r\n            return entity.getSimpleName();\r\n        } else {\r\n// you know the rest\r\n```\r\nResult:\r\n```\r\nBody = {&quot;error&quot;:&quot;Cannot read field \\&quot;value\\&quot; because \\&quot;s1\\&quot; is null&quot;}\r\n```\r\nI&#39;m at my wits&#39; end!\r\n\r\n**UPD2:** This kind of works but is not very pretty\r\n```java\r\n    @Override\r\n    public List&lt;QuestionCommentResponseDto&gt; getDtosWithoutSetOwner(PaginationParameters params) {\r\n        String sortingModifier = PaginationParametersProcessor.extractSortingModifier(params).trim();\r\n        int offset = PaginationParametersProcessor.extractFirstResultIndex(params);\r\n        int limit = PaginationParametersProcessor.extractMaxResults(params);\r\n        return entityManager.createQuery(&quot;&quot;&quot;\r\n                SELECT new stack.overflow.model.dto.response.QuestionCommentResponseDto (\r\n                            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text\r\n                ) FROM QuestionComment qc JOIN qc.question q\r\n                ORDER BY qc.&quot;&quot;&quot; + sortingModifier, QuestionCommentResponseDto.class)\r\n                .setFirstResult(offset)\r\n                .setMaxResults(limit)\r\n                .getResultList();\r\n    }\r\n```\r\nBut I still don&#39;t understand why neither of the previous two options worked\r\n\r\n  [1]: https://github.com/NadChel/stack-overflow-1/tree/7c2bff5876f1d2ee8690196f7be5146732c8d08c","title":"DESC is passed to a Hibernate query, but the order is still ascending. Why?","body":"<p>I have a RESTful app. Here's a test method from it. It is intended to retrieve a page of <code>QuestionCommentResponseDto</code> objects in <em>descending</em> order</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetPageTest/before.sql&quot;)\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetPageTest/after.sql&quot;) // truncating\n    public void getPageOneSizeFiveSortByIdDescTest() throws Exception {\n        token = testUtil.getToken(testUsername, testPassword);\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + &quot;page/&quot; + 1)\n                        .header(HttpHeaders.AUTHORIZATION, token)\n                        .param(&quot;pageSize&quot;, &quot;5&quot;)\n                        .param(&quot;sortType&quot;, &quot;ID_DESC&quot;))\n                .andExpect(status().isOk())\n                .andReturn()\n                .getResponse();\n// asserts omitted\n</code></pre>\n<pre><code>&lt;!-- the before script --&gt;\nTRUNCATE TABLE permissions CASCADE;\n&lt;!-- the same for accounts, questions, tags, question_comments --&gt;\n\nINSERT INTO permissions(id, name, created_date, modified_date)\nVALUES (1, 'ADMIN', current_timestamp, current_timestamp),\n       (2, 'MODERATOR', current_timestamp, current_timestamp),\n       (3, 'USER', current_timestamp, current_timestamp);\n\nINSERT INTO accounts(id, username, password, enabled, created_date, modified_date)\nVALUES (1, 'mickey_m', '$2y$10$ZdqfOo1vwdHJJGnkmGrw/OUelZcU9ZfRFaX/RMN3XniXH96eTkB1e', true, current_timestamp,\n        current_timestamp),\n       (2, 'minerva_m', '$2y$10$PiZxGGi904rCLdTSGY1ycuQhcEtQrP1u74KvQ2IEuk5Jh18Ml.6xO', true, current_timestamp,\n        current_timestamp);\n\nINSERT INTO accounts_permissions(account_id, permission_id)\nVALUES (1, 3),\n       (2, 3);\n\nINSERT INTO questions(id, created_date, modified_date, title, description, account_id)\nVALUES (1, current_timestamp, current_timestamp, 'title', 'description', 2);\n\nINSERT INTO tags(id, created_date, modified_date, name)\nVALUES (1, current_timestamp, current_timestamp, 'tag1'),\n       (2, current_timestamp, current_timestamp, 'tag2'),\n       (3, current_timestamp, current_timestamp, 'tag3');\n\nINSERT INTO questions_tags(question_id, tag_id)\nVALUES (1, 1), (1, 2), (1, 3);\n\nINSERT INTO question_comments(id, created_date, modified_date, text, account_id, question_id)\nVALUES (1, current_timestamp, current_timestamp, 'text', 1, 1),\n       &lt;!-- the middle rows are omitted --&gt;\n       (10, current_timestamp, current_timestamp, 'text', 1, 1);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\npublic class QuestionCommentResponseDto {\n    private final Long id;\n    private final Long questionId;\n    private final LocalDateTime createdDate;\n    private final LocalDateTime modifiedDate;\n    private final String text;\n    @Setter\n    private AccountResponseDto owner;\n\n// constructors, equals(), hashcode()\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class AccountResponseDto {\n\n    private Long id;\n    private String username;\n\n// equals(), hashcode()\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// the relevant controller method\n    @GetMapping(&quot;/page/{pageNumber}&quot;)\n    public ResponseEntity&lt;Data&lt;Page&lt;QuestionCommentResponseDto&gt;&gt;&gt; getPage(@PathVariable @Positive @NotNull Integer pageNumber,\n                                                                          @RequestParam(defaultValue = &quot;20&quot;) @NotNull Integer pageSize,\n                                                                          @RequestParam(defaultValue = &quot;ID_ASC&quot;) @NotNull SortType sortType) {\n        PaginationParameters params = PaginationParameters.ofPageNumberSizeAndSortType(pageNumber, pageSize, sortType);\n// ↑ PaginationParameters is a simple record class defined as PaginationParameters(Integer pageNumber, Integer size, SortType sortType)\n        Page&lt;QuestionCommentResponseDto&gt; page = dtoService.getPage(params);\n        Data&lt;Page&lt;QuestionCommentResponseDto&gt;&gt; responseData = Data.build(page); // a two-bit wrapper\n        return ResponseEntity.ok(responseData);\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@Getter\npublic enum SortType {\n\n    ID_ASC(&quot; id &quot;),\n    ID_DESC(&quot; id DESC &quot;),\n    // some extra constants\n\nprivate String query;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// a basic utility class\n\npublic class PaginationParametersProcessor {\n    public static String extractSortingModifier(PaginationParameters params) {\n        return params.sortType().getQuery();\n    }\n\n    public static int extractFirstResultIndex(PaginationParameters params) {\n        return (params.pageNumber() - 1) * params.size();\n    }\n\n    public static int extractMaxResults(PaginationParameters params) {\n        return params.size();\n    }\n}\n</code></pre>\n<p><code>dtoService.getPage(params)</code> eventually comes down to this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public List&lt;QuestionCommentResponseDto&gt; getDtosWithoutSetOwner(PaginationParameters params) {\n        String sortingModifier = PaginationParametersProcessor.extractSortingModifier(params); // assigns &quot; id DESC &quot;\n        int offset = PaginationParametersProcessor.extractFirstResultIndex(params);\n        int limit = PaginationParametersProcessor.extractMaxResults(params);\n        return entityManager.createQuery(&quot;&quot;&quot;\n                SELECT new stack.overflow.model.dto.response.QuestionCommentResponseDto (\n                            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text\n                ) FROM QuestionComment qc JOIN qc.question q\n                ORDER BY :sort\n                &quot;&quot;&quot;, QuestionCommentResponseDto.class)\n                .setParameter(&quot;sort&quot;, sortingModifier)\n                .setFirstResult(offset)\n                .setMaxResults(limit)\n                .getResultList();\n    }\n</code></pre>\n<p>The <code>:sort</code> parameter is successfully passed into the query executed by Hibernate. Here's a snippet from my console output</p>\n<pre><code>Hibernate: select questionco0_.id as col_0_0_, question1_.id as col_1_0_, questionco0_.created_date as col_2_0_, questionco0_.modified_date as col_3_0_, questionco0_.text as col_4_0_ from question_comments questionco0_ inner join questions question1_ on questionco0_.question_id=question1_.id order by ? limit ?\n2023-06-04 16:46:53.164 TRACE 3172 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ id DESC ]\n</code></pre>\n<p>But the ids in the resulting list are in an <em>ascending</em>, not <em>descending</em> order</p>\n<pre><code>Body = {&quot;data&quot;:{&quot;dtos&quot;:[{&quot;id&quot;:1,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;modifiedDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}},{&quot;id&quot;:2,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;modifiedDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}},{&quot;id&quot;:3,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;modifiedDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}},{&quot;id&quot;:4,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;modifiedDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}},{&quot;id&quot;:5,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;modifiedDate&quot;:&quot;2023-06-04T16:46:52.942835&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}}],&quot;count&quot;:10}}\n</code></pre>\n<p><strong>Why is that and how do I fix it?</strong> Is it because Postgres can't figure out which <code>id</code> I mean (<code>QuestionComment</code>'s or <code>Question</code>'s)? Suggestions?</p>\n<p>In case you need to look at the entire project, here's the <a href=\"https://github.com/NadChel/stack-overflow-1/tree/7c2bff5876f1d2ee8690196f7be5146732c8d08c\" rel=\"nofollow noreferrer\">repo</a></p>\n<p><strong>UPD:</strong> Ok, so <code>setParameter()</code> encloses the passed value in parentheses thereby precluding any query modification (which makes sense considering the peril of SQL injections). What should I do then? Regular concatenation would make my code less pretty, don't you think?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public List&lt;QuestionCommentResponseDto&gt; getDtosWithoutSetOwner(PaginationParameters params) {\n        String sortingModifier = PaginationParametersProcessor.extractSortingModifier(params);\n        int offset = PaginationParametersProcessor.extractFirstResultIndex(params);\n        int limit = PaginationParametersProcessor.extractMaxResults(params);\n        return entityManager.createQuery(&quot;&quot;&quot;\n                SELECT new stack.overflow.model.dto.response.QuestionCommentResponseDto (\n                            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text\n                ) FROM QuestionComment qc JOIN qc.question q\n                ORDER BY&quot;&quot;&quot; + sortingModifier, QuestionCommentResponseDto.class) // ← not nice\n                .setFirstResult(offset)\n                .setMaxResults(limit)\n                .getResultList();\n    }\n</code></pre>\n<p>What's worse, I now get error 500 in all &quot;getPage&quot; tests, including those that used to go smoothly</p>\n<pre><code>Body = {&quot;error&quot;:&quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;}\n</code></pre>\n<p>As I understand, it's because of the thing I mentioned above, <code>id</code>'s ambiguity</p>\n<pre><code>ERROR 7816 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column reference &quot;id&quot; is ambiguous\n</code></pre>\n<p>Here's what I tried to resolve that ambiguity</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public List&lt;QuestionCommentResponseDto&gt; getDtosWithoutSetOwner(PaginationParameters params) {\n        String sortingModifier = PaginationParametersProcessor.extractSortingModifier(params, QuestionComment.class);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PaginationParametersProcessor {\n    public static String extractSortingModifier(PaginationParameters params) {\n        return params.sortType().getQuery();\n    }\n\n    public static String extractSortingModifier(PaginationParameters params,\n                                                Class&lt;?&gt; entity) {\n        String nonadaptedQuery = extractSortingModifier(params);\n        String entityTableName = extractEntityTableName(entity);\n        String adaptedQuery = nonadaptedQuery.replaceFirst(&quot;(?=\\\\w)&quot;, entityTableName + &quot;.&quot;);\n        return adaptedQuery;\n    }\n\n    private static String extractEntityTableName(Class&lt;?&gt; entity) {\n        if (entity.isAnnotationPresent(Entity.class)) {\n            return entity.isAnnotationPresent(Table.class) ?\n                  entity.getAnnotation(Table.class).name() :\n                    entity.getSimpleName();\n        } else {\n            throw new IllegalArgumentException(String.format(&quot;%s is not an @Entity&quot;, entity.getName()));\n        }\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\n@EntityListeners(AuditingEntityListener.class)\n@Table(name = &quot;question_comments&quot;) // ← see?\npublic class QuestionComment {\n</code></pre>\n<p>Result:</p>\n<pre><code>ERROR 4440 --- [           main] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'question_comments.id'\n\norg.hibernate.hql.internal.ast.InvalidPathException: Invalid path: 'question_comments.id'\n</code></pre>\n<p>I don't get it. Why is it invalid? I tried this too (after all, JPA operates with <code>@Entiti</code>es, not tables)</p>\n<pre><code>private static String extractEntityTableName(Class&lt;?&gt; entity) {\n        if (entity.isAnnotationPresent(Entity.class)) {\n            return entity.getSimpleName();\n        } else {\n// you know the rest\n</code></pre>\n<p>Result:</p>\n<pre><code>Body = {&quot;error&quot;:&quot;Cannot read field \\&quot;value\\&quot; because \\&quot;s1\\&quot; is null&quot;}\n</code></pre>\n<p>I'm at my wits' end!</p>\n<p><strong>UPD2:</strong> This kind of works but is not very pretty</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public List&lt;QuestionCommentResponseDto&gt; getDtosWithoutSetOwner(PaginationParameters params) {\n        String sortingModifier = PaginationParametersProcessor.extractSortingModifier(params).trim();\n        int offset = PaginationParametersProcessor.extractFirstResultIndex(params);\n        int limit = PaginationParametersProcessor.extractMaxResults(params);\n        return entityManager.createQuery(&quot;&quot;&quot;\n                SELECT new stack.overflow.model.dto.response.QuestionCommentResponseDto (\n                            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text\n                ) FROM QuestionComment qc JOIN qc.question q\n                ORDER BY qc.&quot;&quot;&quot; + sortingModifier, QuestionCommentResponseDto.class)\n                .setFirstResult(offset)\n                .setMaxResults(limit)\n                .getResultList();\n    }\n</code></pre>\n<p>But I still don't understand why neither of the previous two options worked</p>\n"},{"tags":["java","apache-zookeeper","apache-curator"],"answers":[{"tags":[],"owner":{"account_id":2335634,"reputation":2907,"user_id":2048051,"display_name":"Randgalt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1501791627,"creation_date":1501791627,"answer_id":45493862,"question_id":45486442,"body_markdown":"ZooKeeper 3.4.x does not support watcher removal. Watchers are only removed when they trigger. ZooKeeper 3.5.x adds support for watcher removal. If you move to ZK 3.5.x and Curator 3.x/4.x you can use the watcher removal APIs. (NOTE: I&#39;m the main author of Apache ZooKeeper).","title":"Zookeper + Curator: watch node remove / remove a watch","body":"<p>ZooKeeper 3.4.x does not support watcher removal. Watchers are only removed when they trigger. ZooKeeper 3.5.x adds support for watcher removal. If you move to ZK 3.5.x and Curator 3.x/4.x you can use the watcher removal APIs. (NOTE: I'm the main author of Apache ZooKeeper).</p>\n"},{"tags":[],"owner":{"account_id":28749849,"reputation":31,"user_id":22018178,"display_name":"Hunt_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685917295,"creation_date":1685917295,"answer_id":76402629,"question_id":45486442,"body_markdown":"Since hortonworks data platform was bought by cloudera you could check whether Zookeeper version is updated to 3.5 or not [here][1]. As of today it is 3.5.5.7.1.8.0-801.\r\n\r\n\r\n  [1]: https://docs.cloudera.com/cdp-private-cloud-base/7.1.8/runtime-release-notes/topics/rt-pvc-runtime-component-versions.html","title":"Zookeper + Curator: watch node remove / remove a watch","body":"<p>Since hortonworks data platform was bought by cloudera you could check whether Zookeeper version is updated to 3.5 or not <a href=\"https://docs.cloudera.com/cdp-private-cloud-base/7.1.8/runtime-release-notes/topics/rt-pvc-runtime-component-versions.html\" rel=\"nofollow noreferrer\">here</a>. As of today it is 3.5.5.7.1.8.0-801.</p>\n"}],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1620,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45493862,"answer_count":2,"score":2,"last_activity_date":1685917295,"creation_date":1501768765,"question_id":45486442,"body_markdown":"I&#39;m using zookeeper with curator 2.12.0.\r\n\r\nI&#39;m successfully watching on new nodes by calling getChildren (I don&#39;t know full node paths in advance) with watcher that submits task to call getChildren with watcher again.\r\nNow I want to watch node remove and only remove. I call checkExists with watcher. But if node doesn&#39;t exists for some reason it will be actually watcher for node creation that will never happen in my case. So I will left more and more &quot;thrash&quot; watchers, that will waste some resources as I suppose. \r\n\r\nHow could I remove watcher or add a watcher only if node exists?","title":"Zookeper + Curator: watch node remove / remove a watch","body":"<p>I'm using zookeeper with curator 2.12.0.</p>\n\n<p>I'm successfully watching on new nodes by calling getChildren (I don't know full node paths in advance) with watcher that submits task to call getChildren with watcher again.\nNow I want to watch node remove and only remove. I call checkExists with watcher. But if node doesn't exists for some reason it will be actually watcher for node creation that will never happen in my case. So I will left more and more \"thrash\" watchers, that will waste some resources as I suppose. </p>\n\n<p>How could I remove watcher or add a watcher only if node exists?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1568642762,"post_id":57958507,"comment_id":102328985,"body_markdown":"For starters remove the first 2 lines of your setup method (that is already being done by Spring). Secondly you are running a `@WebMvcTest` which will only configure the web part of Spring Boot and nothing else. Hence no datasource. If you really want you can add an `@AutoConfigureTestDatabase` which will configure an in-memory test db,","body":"For starters remove the first 2 lines of your setup method (that is already being done by Spring). Secondly you are running a <code>@WebMvcTest</code> which will only configure the web part of Spring Boot and nothing else. Hence no datasource. If you really want you can add an <code>@AutoConfigureTestDatabase</code> which will configure an in-memory test db,"},{"owner":{"account_id":12140438,"reputation":495,"user_id":8864483,"display_name":"Kamil"},"score":0,"creation_date":1568649657,"post_id":57958507,"comment_id":102332830,"body_markdown":"I got rid of the errors by adding `@AutoConfigureTestDatabase` and adding H2 dependency to my project - thank you. However, how do I add a data to that embedded database? Is that possible to create objects manually within setup method in my test class?","body":"I got rid of the errors by adding <code>@AutoConfigureTestDatabase</code> and adding H2 dependency to my project - thank you. However, how do I add a data to that embedded database? Is that possible to create objects manually within setup method in my test class?"},{"owner":{"account_id":12140438,"reputation":495,"user_id":8864483,"display_name":"Kamil"},"score":0,"creation_date":1568655746,"post_id":57958507,"comment_id":102335307,"body_markdown":"OK I switched to test database (local MySQL server but different DB). My tests are running OK, but those which requires a data are failing. For example, when I want to test edit form for single user it cannot find it, while it is in the database.","body":"OK I switched to test database (local MySQL server but different DB). My tests are running OK, but those which requires a data are failing. For example, when I want to test edit form for single user it cannot find it, while it is in the database."}],"answers":[{"tags":[],"owner":{"account_id":12140438,"reputation":495,"user_id":8864483,"display_name":"Kamil"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1568719766,"creation_date":1568719766,"answer_id":57973312,"question_id":57958507,"body_markdown":"It has been resolved by adding `@AutoConfigureTestDatabase` annotation to my test class, as adviced by M.Deinum.","title":"Spring Boot cannot find DataSource Bean in JUnit tests","body":"<p>It has been resolved by adding <code>@AutoConfigureTestDatabase</code> annotation to my test class, as adviced by M.Deinum.</p>\n"}],"owner":{"account_id":12140438,"reputation":495,"user_id":8864483,"display_name":"Kamil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8526,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57973312,"answer_count":1,"score":3,"last_activity_date":1685916449,"creation_date":1568642459,"question_id":57958507,"body_markdown":"I try to write some unit tests for my Spring Boot application (as of now it is a simple CRUD app for user management only).\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@WebMvcTest(UserController.class)\r\n@WebAppConfiguration\r\npublic class UserControllerTest {\r\n\r\n\t@MockBean\r\n\tprivate UserService UserService;\r\n\t@MockBean\r\n\tprivate UserTypeService UserTypeService;\r\n\t@MockBean\r\n\tprivate UserTrainingService UserTrainingService;\r\n\t@MockBean\r\n\tprivate TrainingService trainingService;\r\n\t@MockBean\r\n\tprivate UserService userService;\r\n\t\r\n\t@InjectMocks\r\n\tUserController UserController;\r\n\r\n\t@Autowired\r\n\tprivate MockMvc mockMvc;\r\n\t\r\n\tprivate static final int USER_ID = 1;\r\n\r\n\tprivate User User1;\r\n\t\t\r\n\t@Before\r\n\tpublic void setUp() {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\tmockMvc = MockMvcBuilders.standaloneSetup(UserController).build();\r\n\r\n\t\tUserType UserType = new UserType();\r\n\t\tUserType.setName(&quot;Regular&quot;);\r\n\t\t// some further setup steps. Ommited for clarity\r\n\t}\r\n\t\t\r\n\t@Test\r\n\tpublic void testInitUserDetailsView() throws Exception {\t\t\r\n\t\tmockMvc.perform(get(&quot;/users/{id}&quot;, User_ID))\r\n\t\t\t.andExpect(status().isOk())\r\n\t\t\t.andExpect(model().attributeExists(&quot;user&quot;))\r\n\t\t\t.andExpect(view().name(&quot;user_details&quot;));\r\n\t}\r\n}\r\n```  \r\n\r\n  \r\nWhen I try to run above, I get following error about missing DataSource Bean:\r\n``` \r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField dataSource in com.example.app.config.SecurityConfig required a bean of type &#39;javax.sql.DataSource&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;javax.sql.DataSource&#39; in your configuration.\r\n``` \r\n\r\nI am using `MySQL` server, config is saved in `application.properties` file. What is interesting, application itself works well. Only tests are failing.  \r\nI have tried to manually set a `DataSource` in my config class, as described by praveen kumar within: \r\n\r\n* [Spring Boot auto configuration for datasource](https://stackoverflow.com/questions/41741135/spring-boot-auto-configuration-for-datasource). \r\n\r\nBut the results are the same. Here is my `SecurityConfig` class:\r\n\r\n``` \r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t@Autowired\r\n\tprivate DataSource dataSource;\r\n\t\r\n\t@Autowired\r\n\tprivate PasswordEncoder passwordEncoder;\r\n\t\r\n\tprivate String usersQuery = &quot;SELECT username, password, active FROM users WHERE username=?&quot;;\r\n\tprivate String authoritiesQuery = &quot;SELECT u.username, r.name FROM users u INNER JOIN user_roles ur ON(u.id=ur.user_id) INNER JOIN roles r ON(ur.role_id=r.id) WHERE u.username=?&quot;;\r\n\t\r\n\t@Override\r\n\tprotected void configure(final AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.\r\n\t\t\tjdbcAuthentication()\r\n\t\t\t.usersByUsernameQuery(usersQuery)\r\n\t\t\t.authoritiesByUsernameQuery(authoritiesQuery)\r\n\t\t\t.dataSource(dataSource)\r\n\t\t\t.passwordEncoder(passwordEncoder);\r\n\t\t\t\r\n\t}\r\n}\r\n``` \r\n\r\nand `ApplicationConfiguration` class:\r\n\r\n``` \r\n@Configuration\r\n@PropertySource(value = &quot;classpath:ValidationMessages.properties&quot;, encoding = &quot;UTF-8&quot;)\r\npublic class ApplicationConfig {\r\n\r\n\t// Custom validation messages from external file\r\n\t@Bean\r\n\t   public MessageSource messageSource() {\r\n\t      ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n\t      messageSource.setBasename(&quot;classpath:ValidationMessages&quot;);\r\n\t      messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n\t      return messageSource;\r\n\t   }\r\n\t\r\n\t@Bean\r\n\t public LocalValidatorFactoryBean validator(MessageSource messageSource) {\r\n\t    LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\r\n\t    bean.setValidationMessageSource(messageSource);\r\n\t    return bean;\r\n\t }\r\n\t    \r\n    @Bean\r\n    public DataSource dataSource(){\r\n       DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n       dataSource.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n       dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/mydb&quot;);\r\n       dataSource.setUsername( &quot;user&quot; );\r\n       dataSource.setPassword( &quot;pass&quot; );\r\n       return dataSource;\r\n    }\r\n}\r\n``` \r\n\r\n\r\n\r\n\r\n\r\nFull failure trace:\r\n``` \r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.1.5.RELEASE)\r\n\r\n2019-09-16 13:20:54.549  INFO 10168 --- [           main] n.b.o.c.UserControllerTest        : Starting UserControllerTest on DESKTOP-FU0FUI6 with PID 10168 (started by Kamil in E:\\Projekty Spring\\osp)\r\n2019-09-16 13:20:54.552  INFO 10168 --- [           main] n.b.o.c.UserControllerTest        : No active profile set, falling back to default profiles: default\r\n2019-09-16 13:20:55.791  WARN 10168 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;securityConfig&#39;: Unsatisfied dependency expressed through field &#39;dataSource&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.sql.DataSource&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n2019-09-16 13:20:55.795  INFO 10168 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2019-09-16 13:20:55.819 ERROR 10168 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField dataSource in com.example.myapp.config.SecurityConfig required a bean of type &#39;javax.sql.DataSource&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;javax.sql.DataSource&#39; in your configuration.\r\n\r\n2019-09-16 13:20:55.868 ERROR 10168 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@1e730495] to prepare test instance [com.example.myapp.controller.UserControllerTest@3ae0b770]\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89) [.cp/:na]\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41) [.cp/:na]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541) [.cp/:na]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763) [.cp/:na]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463) [.cp/:na]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209) [.cp/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;securityConfig&#39;: Unsatisfied dependency expressed through field &#39;dataSource&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.sql.DataSource&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:843) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t... 25 common frames omitted\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.sql.DataSource&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1655) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1214) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1168) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t... 43 common frames omitted\r\n``` \r\n\r\nWhat am I doing wrong?","title":"Spring Boot cannot find DataSource Bean in JUnit tests","body":"<p>I try to write some unit tests for my Spring Boot application (as of now it is a simple CRUD app for user management only).</p>\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest(UserController.class)\n@WebAppConfiguration\npublic class UserControllerTest {\n\n    @MockBean\n    private UserService UserService;\n    @MockBean\n    private UserTypeService UserTypeService;\n    @MockBean\n    private UserTrainingService UserTrainingService;\n    @MockBean\n    private TrainingService trainingService;\n    @MockBean\n    private UserService userService;\n    \n    @InjectMocks\n    UserController UserController;\n\n    @Autowired\n    private MockMvc mockMvc;\n    \n    private static final int USER_ID = 1;\n\n    private User User1;\n        \n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n        mockMvc = MockMvcBuilders.standaloneSetup(UserController).build();\n\n        UserType UserType = new UserType();\n        UserType.setName(&quot;Regular&quot;);\n        // some further setup steps. Ommited for clarity\n    }\n        \n    @Test\n    public void testInitUserDetailsView() throws Exception {        \n        mockMvc.perform(get(&quot;/users/{id}&quot;, User_ID))\n            .andExpect(status().isOk())\n            .andExpect(model().attributeExists(&quot;user&quot;))\n            .andExpect(view().name(&quot;user_details&quot;));\n    }\n}\n</code></pre>\n<p>When I try to run above, I get following error about missing DataSource Bean:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField dataSource in com.example.app.config.SecurityConfig required a bean of type 'javax.sql.DataSource' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'javax.sql.DataSource' in your configuration.\n</code></pre>\n<p>I am using <code>MySQL</code> server, config is saved in <code>application.properties</code> file. What is interesting, application itself works well. Only tests are failing.<br />\nI have tried to manually set a <code>DataSource</code> in my config class, as described by praveen kumar within:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41741135/spring-boot-auto-configuration-for-datasource\">Spring Boot auto configuration for datasource</a>.</li>\n</ul>\n<p>But the results are the same. Here is my <code>SecurityConfig</code> class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Autowired\n    private DataSource dataSource;\n    \n    @Autowired\n    private PasswordEncoder passwordEncoder;\n    \n    private String usersQuery = &quot;SELECT username, password, active FROM users WHERE username=?&quot;;\n    private String authoritiesQuery = &quot;SELECT u.username, r.name FROM users u INNER JOIN user_roles ur ON(u.id=ur.user_id) INNER JOIN roles r ON(ur.role_id=r.id) WHERE u.username=?&quot;;\n    \n    @Override\n    protected void configure(final AuthenticationManagerBuilder auth) throws Exception {\n        auth.\n            jdbcAuthentication()\n            .usersByUsernameQuery(usersQuery)\n            .authoritiesByUsernameQuery(authoritiesQuery)\n            .dataSource(dataSource)\n            .passwordEncoder(passwordEncoder);\n            \n    }\n}\n</code></pre>\n<p>and <code>ApplicationConfiguration</code> class:</p>\n<pre><code>@Configuration\n@PropertySource(value = &quot;classpath:ValidationMessages.properties&quot;, encoding = &quot;UTF-8&quot;)\npublic class ApplicationConfig {\n\n    // Custom validation messages from external file\n    @Bean\n       public MessageSource messageSource() {\n          ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n          messageSource.setBasename(&quot;classpath:ValidationMessages&quot;);\n          messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\n          return messageSource;\n       }\n    \n    @Bean\n     public LocalValidatorFactoryBean validator(MessageSource messageSource) {\n        LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\n        bean.setValidationMessageSource(messageSource);\n        return bean;\n     }\n        \n    @Bean\n    public DataSource dataSource(){\n       DriverManagerDataSource dataSource = new DriverManagerDataSource();\n       dataSource.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n       dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/mydb&quot;);\n       dataSource.setUsername( &quot;user&quot; );\n       dataSource.setPassword( &quot;pass&quot; );\n       return dataSource;\n    }\n}\n</code></pre>\n<p>Full failure trace:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.1.5.RELEASE)\n\n2019-09-16 13:20:54.549  INFO 10168 --- [           main] n.b.o.c.UserControllerTest        : Starting UserControllerTest on DESKTOP-FU0FUI6 with PID 10168 (started by Kamil in E:\\Projekty Spring\\osp)\n2019-09-16 13:20:54.552  INFO 10168 --- [           main] n.b.o.c.UserControllerTest        : No active profile set, falling back to default profiles: default\n2019-09-16 13:20:55.791  WARN 10168 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'dataSource'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.sql.DataSource' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2019-09-16 13:20:55.795  INFO 10168 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-09-16 13:20:55.819 ERROR 10168 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField dataSource in com.example.myapp.config.SecurityConfig required a bean of type 'javax.sql.DataSource' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'javax.sql.DataSource' in your configuration.\n\n2019-09-16 13:20:55.868 ERROR 10168 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@1e730495] to prepare test instance [com.example.myapp.controller.UserControllerTest@3ae0b770]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209) [.cp/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'dataSource'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.sql.DataSource' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:843) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    ... 25 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.sql.DataSource' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1655) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1214) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1168) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    ... 43 common frames omitted\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","eclipse","javafx","scenebuilder"],"owner":{"account_id":28067280,"reputation":9,"user_id":21440479,"display_name":"Manal L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685917121,"answer_count":0,"score":0,"last_activity_date":1685916440,"creation_date":1685916440,"question_id":76402593,"body_markdown":"when I try to run my classe and enter my chef login panel informations using (java, eclipse, javaFX and scene builder) i got this exception.(this problem is only for redirectToChefReception(); part)\r\nhere is my LoginPanelController class:\r\n\r\n```\r\npackage application;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.PasswordField;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport java.io.IOException;\r\npublic class LoginPanelController {\r\n    @FXML\r\n    private TextField usernameField;\r\n    @FXML\r\n    private PasswordField passwordField;\r\n    @FXML\r\n    private Button loginButton;\r\n    @FXML\r\n    private void loginButtonClicked() {\r\n        String username = usernameField.getText();\r\n        String password = passwordField.getText();  \r\n        // Perform login validation here\r\n        if (username.equals(&quot;lahmidi&quot;) &amp;&amp; password.equals(&quot;emp1&quot;)){\r\n            redirectToServerReception();\r\n        }\r\n        else if(username.equals(&quot;zeroual&quot;) &amp;&amp; password.equals(&quot;emp2&quot;)){\r\n        \tredirectToChefReception();\r\n        }\r\n        \r\n        else {\r\n            showErrorMessage(&quot;Username or password is incorrect&quot;);\r\n        }\r\n    }\r\n  \r\n public void redirectToServerReception() {\r\n        try {\r\n            // Load the FXML file for the reception panel\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;reception.fxml&quot;));\r\n            Parent root = loader.load();\r\n            \r\n            // Create a new scene for the reception panel\r\n            Scene scene = new Scene(root);\r\n            \r\n            // Get the current stage\r\n            Stage currentStage = (Stage) loginButton.getScene().getWindow();\r\n            \r\n            // Set the new scene on the current stage\r\n            currentStage.setScene(scene);\r\n            currentStage.setTitle(&quot;Reception&quot;);\r\n            currentStage.show();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public void redirectToChefReception() {\r\n        try {\r\n            // Load the FXML file for the reception panel\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;application/receptionChef.fxml&quot;));\r\n            Parent root = loader.load();\r\n            \r\n            // Create a new scene for the reception panel\r\n            Scene scene = new Scene(root);\r\n            \r\n            // Get the current stage\r\n            Stage currentStage = (Stage) loginButton.getScene().getWindow();\r\n            \r\n            // Set the new scene on the current stage\r\n            currentStage.setScene(scene);\r\n            currentStage.setTitle(&quot;Reception&quot;);\r\n            currentStage.show();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public void showErrorMessage(String message) {\r\n        Alert alert = new Alert(Alert.AlertType.ERROR);\r\n        alert.setTitle(&quot;Login Error&quot;);\r\n        alert.setHeaderText(null);\r\n        alert.setContentText(message);\r\n        alert.showAndWait();\r\n    }\r\n}\r\n```\r\n\r\nand my receptionChef.fxml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ComboBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;650.0&quot; prefWidth=&quot;1063.0&quot; style=&quot;-fx-background-color: #ffffff;&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.Reception2Controller&quot;&gt;\r\n   &lt;children&gt;\r\n   \t  &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;45.0&quot; text=&quot;Dish name&quot; /&gt;\r\n      &lt;TextField fx:id=&quot;dishNameTextField&quot; layoutX=&quot;201.0&quot; layoutY=&quot;189.0&quot; /&gt;\r\n      \r\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;189.0&quot; text=&quot;price&quot; /&gt;\r\n      &lt;TextField fx:id=&quot;priceTextField&quot; layoutX=&quot;201.0&quot; layoutY=&quot;37.0&quot; /&gt;\r\n      \r\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;113.0&quot; text=&quot;category&quot; /&gt;\r\n      &lt;ComboBox fx:id=&quot;categoryBox&quot; layoutX=&quot;203.0&quot; layoutY=&quot;113.0&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;286.0&quot; /&gt;\r\n\r\n      &lt;Button fx:id=&quot;addButton&quot; layoutX=&quot;111.0&quot; layoutY=&quot;281.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addDish&quot; text=&quot;add&quot; /&gt;\r\n      &lt;Button fx:id=&quot;deleteButton&quot; layoutX=&quot;219.0&quot; layoutY=&quot;281.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#deleteDish&quot; text=&quot;delete&quot; /&gt;  \r\n      &lt;Button fx:id=&quot;editButton&quot; layoutX=&quot;354.0&quot; layoutY=&quot;281.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#editDish&quot; text=&quot;edit&quot; /&gt;\r\n      &lt;Button fx:id=&quot;saveButton&quot; layoutX=&quot;524.0&quot; layoutY=&quot;281.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#saveDish&quot; text=&quot;save&quot; /&gt;\r\n      &lt;TableView layoutX=&quot;51.0&quot; layoutY=&quot;345.0&quot; prefHeight=&quot;291.0&quot; prefWidth=&quot;646.0&quot;&gt;\r\n        &lt;columns&gt;\r\n          &lt;TableColumn fx:id=&quot;nameColumn&quot; prefWidth=&quot;341.0&quot; text=&quot;name&quot; /&gt;\r\n          &lt;TableColumn fx:id=&quot;categoryColumn&quot; prefWidth=&quot;212.0&quot; text=&quot;category&quot; /&gt;\r\n          &lt;TableColumn fx:id=&quot;priceColumn&quot; prefWidth=&quot;92.0&quot; text=&quot;price&quot; /&gt;\r\n        &lt;/columns&gt;\r\n      &lt;/TableView&gt;\r\n      &lt;ImageView fitHeight=&quot;454.0&quot; fitWidth=&quot;326.0&quot; layoutX=&quot;760.0&quot; layoutY=&quot;196.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;image&gt;\r\n            &lt;Image url=&quot;@../../../../OneDrive/Bureau/Nouveau%20dossier/logo9.jpg&quot; /&gt;\r\n         &lt;/image&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;ImageView fitHeight=&quot;224.0&quot; fitWidth=&quot;339.0&quot; layoutX=&quot;755.0&quot; layoutY=&quot;1.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;image&gt;\r\n            &lt;Image url=&quot;@../../../../OneDrive/Bureau/Nouveau%20dossier/pasta.jpg&quot; /&gt;\r\n         &lt;/image&gt;\r\n      &lt;/ImageView&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\ni tried to specify the path of my receptionChef.fxml by (&quot;nameOfPackage/receptionChef.fxml&quot;) but no result I got a plenty of errors and exception:\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1858)\r\n\tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@20.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\r\n\tat javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@20.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base@20.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n\tat javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)\r\n\t... 46 more\r\nCaused by: java.lang.IllegalStateException: Location is not set.\r\n\tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2556)\r\n\tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\r\n\tat application.LoginPanelController.redirectToChefReception(LoginPanelController.java:68)\r\n\tat application.LoginPanelController.loginButtonClicked(LoginPanelController.java:35)\r\n\t... 57 more\r\n```\r\n","title":"Getting &#39;Location is not set&#39; error when running JavaFX class in Eclipse with Scene Builder","body":"<p>when I try to run my classe and enter my chef login panel informations using (java, eclipse, javaFX and scene builder) i got this exception.(this problem is only for redirectToChefReception(); part)\nhere is my LoginPanelController class:</p>\n<pre><code>package application;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.PasswordField;\nimport javafx.scene.control.TextField;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport java.io.IOException;\npublic class LoginPanelController {\n    @FXML\n    private TextField usernameField;\n    @FXML\n    private PasswordField passwordField;\n    @FXML\n    private Button loginButton;\n    @FXML\n    private void loginButtonClicked() {\n        String username = usernameField.getText();\n        String password = passwordField.getText();  \n        // Perform login validation here\n        if (username.equals(&quot;lahmidi&quot;) &amp;&amp; password.equals(&quot;emp1&quot;)){\n            redirectToServerReception();\n        }\n        else if(username.equals(&quot;zeroual&quot;) &amp;&amp; password.equals(&quot;emp2&quot;)){\n            redirectToChefReception();\n        }\n        \n        else {\n            showErrorMessage(&quot;Username or password is incorrect&quot;);\n        }\n    }\n  \n public void redirectToServerReception() {\n        try {\n            // Load the FXML file for the reception panel\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;reception.fxml&quot;));\n            Parent root = loader.load();\n            \n            // Create a new scene for the reception panel\n            Scene scene = new Scene(root);\n            \n            // Get the current stage\n            Stage currentStage = (Stage) loginButton.getScene().getWindow();\n            \n            // Set the new scene on the current stage\n            currentStage.setScene(scene);\n            currentStage.setTitle(&quot;Reception&quot;);\n            currentStage.show();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public void redirectToChefReception() {\n        try {\n            // Load the FXML file for the reception panel\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;application/receptionChef.fxml&quot;));\n            Parent root = loader.load();\n            \n            // Create a new scene for the reception panel\n            Scene scene = new Scene(root);\n            \n            // Get the current stage\n            Stage currentStage = (Stage) loginButton.getScene().getWindow();\n            \n            // Set the new scene on the current stage\n            currentStage.setScene(scene);\n            currentStage.setTitle(&quot;Reception&quot;);\n            currentStage.show();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    public void showErrorMessage(String message) {\n        Alert alert = new Alert(Alert.AlertType.ERROR);\n        alert.setTitle(&quot;Login Error&quot;);\n        alert.setHeaderText(null);\n        alert.setContentText(message);\n        alert.showAndWait();\n    }\n}\n</code></pre>\n<p>and my receptionChef.fxml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;650.0&quot; prefWidth=&quot;1063.0&quot; style=&quot;-fx-background-color: #ffffff;&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.Reception2Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;45.0&quot; text=&quot;Dish name&quot; /&gt;\n      &lt;TextField fx:id=&quot;dishNameTextField&quot; layoutX=&quot;201.0&quot; layoutY=&quot;189.0&quot; /&gt;\n      \n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;189.0&quot; text=&quot;price&quot; /&gt;\n      &lt;TextField fx:id=&quot;priceTextField&quot; layoutX=&quot;201.0&quot; layoutY=&quot;37.0&quot; /&gt;\n      \n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;113.0&quot; text=&quot;category&quot; /&gt;\n      &lt;ComboBox fx:id=&quot;categoryBox&quot; layoutX=&quot;203.0&quot; layoutY=&quot;113.0&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;286.0&quot; /&gt;\n\n      &lt;Button fx:id=&quot;addButton&quot; layoutX=&quot;111.0&quot; layoutY=&quot;281.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addDish&quot; text=&quot;add&quot; /&gt;\n      &lt;Button fx:id=&quot;deleteButton&quot; layoutX=&quot;219.0&quot; layoutY=&quot;281.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#deleteDish&quot; text=&quot;delete&quot; /&gt;  \n      &lt;Button fx:id=&quot;editButton&quot; layoutX=&quot;354.0&quot; layoutY=&quot;281.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#editDish&quot; text=&quot;edit&quot; /&gt;\n      &lt;Button fx:id=&quot;saveButton&quot; layoutX=&quot;524.0&quot; layoutY=&quot;281.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#saveDish&quot; text=&quot;save&quot; /&gt;\n      &lt;TableView layoutX=&quot;51.0&quot; layoutY=&quot;345.0&quot; prefHeight=&quot;291.0&quot; prefWidth=&quot;646.0&quot;&gt;\n        &lt;columns&gt;\n          &lt;TableColumn fx:id=&quot;nameColumn&quot; prefWidth=&quot;341.0&quot; text=&quot;name&quot; /&gt;\n          &lt;TableColumn fx:id=&quot;categoryColumn&quot; prefWidth=&quot;212.0&quot; text=&quot;category&quot; /&gt;\n          &lt;TableColumn fx:id=&quot;priceColumn&quot; prefWidth=&quot;92.0&quot; text=&quot;price&quot; /&gt;\n        &lt;/columns&gt;\n      &lt;/TableView&gt;\n      &lt;ImageView fitHeight=&quot;454.0&quot; fitWidth=&quot;326.0&quot; layoutX=&quot;760.0&quot; layoutY=&quot;196.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@../../../../OneDrive/Bureau/Nouveau%20dossier/logo9.jpg&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n      &lt;ImageView fitHeight=&quot;224.0&quot; fitWidth=&quot;339.0&quot; layoutX=&quot;755.0&quot; layoutY=&quot;1.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@../../../../OneDrive/Bureau/Nouveau%20dossier/pasta.jpg&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>i tried to specify the path of my receptionChef.fxml by (&quot;nameOfPackage/receptionChef.fxml&quot;) but no result I got a plenty of errors and exception:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1858)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@20.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\n    at javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@20.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\n    at javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.base@20.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n    at javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)\n    ... 46 more\nCaused by: java.lang.IllegalStateException: Location is not set.\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2556)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\n    at application.LoginPanelController.redirectToChefReception(LoginPanelController.java:68)\n    at application.LoginPanelController.loginButtonClicked(LoginPanelController.java:35)\n    ... 57 more\n</code></pre>\n"},{"tags":["java","treemap","treeset","inverted-index"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685914738,"post_id":76402381,"comment_id":134723806,"body_markdown":"To clarify, you want the _map_ key to be the word, and the _value_ to be a list of documents that contain that word?","body":"To clarify, you want the <i>map</i> key to be the word, and the <i>value</i> to be a list of documents that contain that word?"},{"owner":{"account_id":28751777,"reputation":11,"user_id":22019696,"display_name":"NathanH"},"score":0,"creation_date":1686071658,"post_id":76402381,"comment_id":134747927,"body_markdown":"@Reilas That is correct. I had a hard time generating a distinct list of values, and it was then that it was suggested to me to use map&lt;String, Set&lt;String&gt;&gt; instead of what I was doing previously. \nThough I posted an answer that seems to work, I&#39;ve been told that the code could be more efficient. Though I am still fairly new to Java overall, so I am not sure how else to do it.","body":"@Reilas That is correct. I had a hard time generating a distinct list of values, and it was then that it was suggested to me to use map&lt;String, Set&lt;String&gt;&gt; instead of what I was doing previously.  Though I posted an answer that seems to work, I&#39;ve been told that the code could be more efficient. Though I am still fairly new to Java overall, so I am not sure how else to do it."}],"answers":[{"tags":[],"owner":{"account_id":28751777,"reputation":11,"user_id":22019696,"display_name":"NathanH"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685915569,"creation_date":1685915569,"answer_id":76402546,"question_id":76402381,"body_markdown":"After fiddling around a bit I was able to come up with the below code:\r\n\r\n```\r\npackage assignment1;\r\n\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class Assignment1 \r\n\t{\r\n\tpublic static void main(String args[])\r\n\t\t{\r\n\t\t// Create a HashMap object called invertedIndex\r\n\t    Map&lt;String, Set&lt;String&gt;&gt; invertedIndex = new TreeMap&lt;&gt;();\r\n\t    int docNum = 0;\r\n\t    \r\n\t\t\ttry //Tries to execute the block of code nested and then follows with a catch clause for exceptions\r\n\t\t\t{\r\n\t\t\t\tSystem.out.print(&quot;Enter directory name: &quot;);\t\t//Input for file directory\r\n\t\t\t\tScanner dirScanner = new Scanner(System.in);\t//\r\n\t\t\t\tFile dir = new File(dirScanner.nextLine());\t\t//Reads in the directory\r\n\t\t\t\tFile[] files = dir.listFiles();\t\t\t\t\t//Creates an array of files contained within the directory\r\n\t\t\t\t\r\n\t\t\t\tfor (File f : files)\t\t\t\t\t\t\t//Loops through documents within folder\r\n\t\t\t\t{\r\n\t\t\t\t\tdocNum++;\r\n\t\t\t\t\tScanner fileScanner = new Scanner(f);\r\n\t\t\t\t\twhile (fileScanner.hasNextLine())\t\t\t//Loops through lines within documents\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tStringTokenizer tokenizer = new StringTokenizer(fileScanner.nextLine());\r\n\t\t\t\t\t\twhile (tokenizer.hasMoreTokens())\t\t//Loops through tokens within a line\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tString tempToken = tokenizer.nextToken();\t\t\t\t//Collects tokens\r\n\t\t\t\t\t\t\ttempToken = tempToken.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot; &quot;);\t//\r\n\t\t\t\t\t\t\ttempToken = tempToken.toLowerCase();\t\t\t\t\t//Normalizes tokens\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(!invertedIndex.containsKey(tempToken))\t\t\t\t//Checks if current tempToken is present within TreeMap\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tSet&lt;String&gt; docSet = invertedIndex.get(tempToken);\r\n\t\t\t\t\t\t\t\tif (docSet == null) docSet =  new TreeSet&lt;String&gt;();\r\n\t\t\t\t\t\t\t\tdocSet.add(Integer.toString(docNum));\r\n\t\t\t\t\t\t\t\tinvertedIndex.put(tempToken, docSet);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse invertedIndex.get(tempToken).add(Integer.toString(docNum));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfileScanner.close();\t\t//Scanner close\r\n\t\t\t\t}\r\n\t\t\t\tdirScanner.close();\t\t\t\t//Scanner close\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tfor (String i : invertedIndex.keySet())\t\t\t\t\t\t\t\r\n\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tSystem.out.println(i + &quot; &quot; + invertedIndex.get(i));\t\t//Prints tokens and which documents they are contained in\r\n\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} catch (Exception e) \t\t\t\t\t\t\t\t//Catch exception\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(e.toString());\t\t\t\t//Print exception\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nWhich produces the below output:\r\n\r\n```\r\nEnter directory name: C:\\Users\\SomeUser\\Downloads\\keeper\r\n\r\nand [6]\r\nbig [2, 3]\r\ndark [6]\r\ndid [4]\r\ngown  [2]\r\nhad [3]\r\nhouse [2, 3]\r\nin [1, 2, 3, 5, 6]\r\nkeep [1, 3, 5]\r\nkeeper [1, 4, 5]\r\nkeeps [1, 5, 6]\r\nlight  [6]\r\nnever [4]\r\nnight [1, 4, 5]\r\nold [1, 2, 3, 4]\r\nsleep  [4]\r\nsleeps [6]\r\nthe [1, 2, 3, 4, 5, 6]\r\ntown [1, 3]\r\nwhere [4]\r\n```","title":"I am attempting to create an inverted index using a TreeMap with a nested set, with the goal of returning all documents each token is found in","body":"<p>After fiddling around a bit I was able to come up with the below code:</p>\n<pre><code>package assignment1;\n\nimport java.util.*;\nimport java.io.*;\n\npublic class Assignment1 \n    {\n    public static void main(String args[])\n        {\n        // Create a HashMap object called invertedIndex\n        Map&lt;String, Set&lt;String&gt;&gt; invertedIndex = new TreeMap&lt;&gt;();\n        int docNum = 0;\n        \n            try //Tries to execute the block of code nested and then follows with a catch clause for exceptions\n            {\n                System.out.print(&quot;Enter directory name: &quot;);     //Input for file directory\n                Scanner dirScanner = new Scanner(System.in);    //\n                File dir = new File(dirScanner.nextLine());     //Reads in the directory\n                File[] files = dir.listFiles();                 //Creates an array of files contained within the directory\n                \n                for (File f : files)                            //Loops through documents within folder\n                {\n                    docNum++;\n                    Scanner fileScanner = new Scanner(f);\n                    while (fileScanner.hasNextLine())           //Loops through lines within documents\n                    {\n                        StringTokenizer tokenizer = new StringTokenizer(fileScanner.nextLine());\n                        while (tokenizer.hasMoreTokens())       //Loops through tokens within a line\n                        {\n                            String tempToken = tokenizer.nextToken();               //Collects tokens\n                            tempToken = tempToken.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot; &quot;);  //\n                            tempToken = tempToken.toLowerCase();                    //Normalizes tokens\n                            \n                            if(!invertedIndex.containsKey(tempToken))               //Checks if current tempToken is present within TreeMap\n                            {\n                                Set&lt;String&gt; docSet = invertedIndex.get(tempToken);\n                                if (docSet == null) docSet =  new TreeSet&lt;String&gt;();\n                                docSet.add(Integer.toString(docNum));\n                                invertedIndex.put(tempToken, docSet);\n                            }\n                            else invertedIndex.get(tempToken).add(Integer.toString(docNum));\n                        }\n                    }\n                    fileScanner.close();        //Scanner close\n                }\n                dirScanner.close();             //Scanner close\n                System.out.println();\n                for (String i : invertedIndex.keySet())                         \n                    {                                                           \n                        System.out.println(i + &quot; &quot; + invertedIndex.get(i));     //Prints tokens and which documents they are contained in\n                    }                                                           \n            } catch (Exception e)                               //Catch exception\n            {\n                System.out.println(e.toString());               //Print exception\n            }\n        }\n    }\n</code></pre>\n<p>Which produces the below output:</p>\n<pre><code>Enter directory name: C:\\Users\\SomeUser\\Downloads\\keeper\n\nand [6]\nbig [2, 3]\ndark [6]\ndid [4]\ngown  [2]\nhad [3]\nhouse [2, 3]\nin [1, 2, 3, 5, 6]\nkeep [1, 3, 5]\nkeeper [1, 4, 5]\nkeeps [1, 5, 6]\nlight  [6]\nnever [4]\nnight [1, 4, 5]\nold [1, 2, 3, 4]\nsleep  [4]\nsleeps [6]\nthe [1, 2, 3, 4, 5, 6]\ntown [1, 3]\nwhere [4]\n</code></pre>\n"}],"owner":{"account_id":28751777,"reputation":11,"user_id":22019696,"display_name":"NathanH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685915569,"creation_date":1685912038,"question_id":76402381,"body_markdown":"I am attempting to create an inverted index to cycle through a folder of text files, normalize each token within the text files, and save it in a treeMap. The result should produce a list of tokens and list the documents that the word appears in (not how many times it appears though). \r\nExample: \r\nand 1 2 4 6\r\nbig 2 5 7\r\nhouse 4 8\r\netc...\r\nThe issue I am having is with the looping through the documents and ensuring that there are non-duplicate numbers. I just received some help in regards to using a set within a map so that all values are distinct and not duplicate. The issue I am having now is 1.) trying to figure out how to store (ideally directly) those values into the set nested within the map. I as was having issues with this, I tried using a secondary set and then pushing those into the map nested set, but it just results in me saving all document numbers for all tokens. \r\nThe problem can be seen at lines 47 and 48, and yes I am aware that those two lines are problematic, hence asking for help. Those were just two things I tried before deciding to post.\r\n\r\n\r\n```\r\npackage assignment1;\r\n\r\nimport java.util.*;\r\n\r\nimport com.sun.jdi.Value;\r\n\r\nimport java.io.*;\r\n\r\npublic class Assignment1 \r\n\t{\r\n\tpublic static void main(String args[])\r\n\t\t{\r\n\t\t// Create a HashMap object called invertedIndex\r\n\t    Map&lt;String, Set&lt;String&gt;&gt; invertedIndex = new TreeMap&lt;&gt;();\r\n\t    Set&lt;String&gt; docSet = new TreeSet&lt;&gt;();\r\n\t    int docNum = 0;\r\n\r\n\t    \r\n\t\t\ttry //Tries to execute the block of code nested and then follows with a catch clause for exceptions\r\n\t\t\t{\r\n\t\t\t\tSystem.out.print(&quot;Enter directory name: &quot;);\t\t//Input for file directory\r\n\t\t\t\tScanner dirScanner = new Scanner(System.in);\t//\r\n\t\t\t\tFile dir = new File(dirScanner.nextLine());\t\t//Reads in the directory\r\n\t\t\t\tFile[] files = dir.listFiles();\t\t\t\t\t//Creates an array of files contained within the directory\r\n\t\t\t\t\r\n\t\t\t\tfor (File f : files)\t\t\t\t\t\t\t//For clause cycles through outputting the file names, and with nested while clauses, outputs the text contained within the files\r\n\t\t\t\t{\r\n\t\t\t\t\tdocNum++;\r\n\t\t\t\t\tSystem.out.println(&quot;---DOC NUM: &quot; + Integer.toString(docNum));\r\n\t\t\t\t\tScanner fileScanner = new Scanner(f);\r\n\t\t\t\t\twhile (fileScanner.hasNextLine())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tStringTokenizer tokenizer = new StringTokenizer(fileScanner.nextLine());\r\n\t\t\t\t\t\twhile (tokenizer.hasMoreTokens())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tString tempToken = tokenizer.nextToken();\r\n\t\t\t\t\t\t\ttempToken = tempToken.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot; &quot;);\r\n\t\t\t\t\t\t\ttempToken = tempToken.toLowerCase();\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;token: &quot; + tempToken);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tdocSet.add(Integer.toString(docNum));\r\n\t\t\t\t\t\t\tinvertedIndex.put(tempToken, docSet);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfileScanner.close();\r\n\t\t\t\t}\r\n\t\t\t\tdirScanner.close();\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\t// Print keys and values\r\n\t\t\t\tfor (String i : invertedIndex.keySet()) \r\n\t\t\t\t{\r\n\t\t\t\t  System.out.println(i + &quot; &quot; + invertedIndex.get(i));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} catch (Exception e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(e.toString());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n```\r\n\r\n\r\nCurrent output with the above code:\r\n\r\n\r\n```\r\nEnter directory name: C:\\Users\\SomeUser\\Downloads\\keeper\r\n---DOC NUM: 1\r\ntoken: the\r\ntoken: old\r\ntoken: night\r\ntoken: keeper\r\ntoken: keeps\r\ntoken: the\r\ntoken: keep\r\ntoken: in\r\ntoken: the\r\ntoken: town\r\n---DOC NUM: 2\r\ntoken: in\r\ntoken: the\r\ntoken: big\r\ntoken: old\r\ntoken: house\r\ntoken: in\r\ntoken: the\r\ntoken: big\r\ntoken: old\r\ntoken: gown \r\n---DOC NUM: 3\r\ntoken: the\r\ntoken: house\r\ntoken: in\r\ntoken: the\r\ntoken: town\r\ntoken: had\r\ntoken: the\r\ntoken: big\r\ntoken: old\r\ntoken: keep\r\n---DOC NUM: 4\r\ntoken: where\r\ntoken: the\r\ntoken: old\r\ntoken: night\r\ntoken: keeper\r\ntoken: never\r\ntoken: did\r\ntoken: sleep \r\n---DOC NUM: 5\r\ntoken: the\r\ntoken: night\r\ntoken: keeper\r\ntoken: keeps\r\ntoken: the\r\ntoken: keep\r\ntoken: in\r\ntoken: the\r\ntoken: night\r\n---DOC NUM: 6\r\ntoken: and\r\ntoken: keeps\r\ntoken: in\r\ntoken: the\r\ntoken: dark\r\ntoken: and\r\ntoken: sleeps\r\ntoken: in\r\ntoken: the\r\ntoken: light \r\n\r\nand [1, 2, 3, 4, 5, 6]\r\nbig [1, 2, 3, 4, 5, 6]\r\ndark [1, 2, 3, 4, 5, 6]\r\ndid [1, 2, 3, 4, 5, 6]\r\ngown  [1, 2, 3, 4, 5, 6]\r\nhad [1, 2, 3, 4, 5, 6]\r\nhouse [1, 2, 3, 4, 5, 6]\r\nin [1, 2, 3, 4, 5, 6]\r\nkeep [1, 2, 3, 4, 5, 6]\r\nkeeper [1, 2, 3, 4, 5, 6]\r\nkeeps [1, 2, 3, 4, 5, 6]\r\nlight  [1, 2, 3, 4, 5, 6]\r\nnever [1, 2, 3, 4, 5, 6]\r\nnight [1, 2, 3, 4, 5, 6]\r\nold [1, 2, 3, 4, 5, 6]\r\nsleep  [1, 2, 3, 4, 5, 6]\r\nsleeps [1, 2, 3, 4, 5, 6]\r\nthe [1, 2, 3, 4, 5, 6]\r\ntown [1, 2, 3, 4, 5, 6]\r\nwhere [1, 2, 3, 4, 5, 6]\r\n\r\n```\r\n\r\n\r\nAttempted to use nested if-else statements to check if 1.) was not a token stored (in which case it would store the token in the map and the current docNum, 2.) if the current token was already stored AND its value would equal the currently saved docNum plus the current docNum (as a string, not an integer), 3.) else add the current docNum to the saved docNum.\r\n\r\nChanged the hashMap I was using to a treeMap instead for ordering, and changed Map&lt;String, String&gt; to Map&lt;String, Set&lt;String&gt;&gt; (Comments in code still reflect HashMap instead of TreeMap)\r\n\r\nCounldn&#39;t figure out how to store docNum into the nested Set&lt;String&gt; within the TreeMap, so created docSet&lt;String&gt; to save the docNum and then push it to the map (obviously didn&#39;t work)\r\n","title":"I am attempting to create an inverted index using a TreeMap with a nested set, with the goal of returning all documents each token is found in","body":"<p>I am attempting to create an inverted index to cycle through a folder of text files, normalize each token within the text files, and save it in a treeMap. The result should produce a list of tokens and list the documents that the word appears in (not how many times it appears though).\nExample:\nand 1 2 4 6\nbig 2 5 7\nhouse 4 8\netc...\nThe issue I am having is with the looping through the documents and ensuring that there are non-duplicate numbers. I just received some help in regards to using a set within a map so that all values are distinct and not duplicate. The issue I am having now is 1.) trying to figure out how to store (ideally directly) those values into the set nested within the map. I as was having issues with this, I tried using a secondary set and then pushing those into the map nested set, but it just results in me saving all document numbers for all tokens.\nThe problem can be seen at lines 47 and 48, and yes I am aware that those two lines are problematic, hence asking for help. Those were just two things I tried before deciding to post.</p>\n<pre><code>package assignment1;\n\nimport java.util.*;\n\nimport com.sun.jdi.Value;\n\nimport java.io.*;\n\npublic class Assignment1 \n    {\n    public static void main(String args[])\n        {\n        // Create a HashMap object called invertedIndex\n        Map&lt;String, Set&lt;String&gt;&gt; invertedIndex = new TreeMap&lt;&gt;();\n        Set&lt;String&gt; docSet = new TreeSet&lt;&gt;();\n        int docNum = 0;\n\n        \n            try //Tries to execute the block of code nested and then follows with a catch clause for exceptions\n            {\n                System.out.print(&quot;Enter directory name: &quot;);     //Input for file directory\n                Scanner dirScanner = new Scanner(System.in);    //\n                File dir = new File(dirScanner.nextLine());     //Reads in the directory\n                File[] files = dir.listFiles();                 //Creates an array of files contained within the directory\n                \n                for (File f : files)                            //For clause cycles through outputting the file names, and with nested while clauses, outputs the text contained within the files\n                {\n                    docNum++;\n                    System.out.println(&quot;---DOC NUM: &quot; + Integer.toString(docNum));\n                    Scanner fileScanner = new Scanner(f);\n                    while (fileScanner.hasNextLine())\n                    {\n                        StringTokenizer tokenizer = new StringTokenizer(fileScanner.nextLine());\n                        while (tokenizer.hasMoreTokens())\n                        {\n                            String tempToken = tokenizer.nextToken();\n                            tempToken = tempToken.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot; &quot;);\n                            tempToken = tempToken.toLowerCase();\n                            System.out.println(&quot;token: &quot; + tempToken);\n                            \n                            \n                            docSet.add(Integer.toString(docNum));\n                            invertedIndex.put(tempToken, docSet);\n                            \n                            \n                        }\n                    }\n                    fileScanner.close();\n                }\n                dirScanner.close();\n                \n                System.out.println();\n                // Print keys and values\n                for (String i : invertedIndex.keySet()) \n                {\n                  System.out.println(i + &quot; &quot; + invertedIndex.get(i));\n                }\n                \n            } catch (Exception e)\n            {\n                System.out.println(e.toString());\n            }\n            \n        }\n    }\n\n</code></pre>\n<p>Current output with the above code:</p>\n<pre><code>Enter directory name: C:\\Users\\SomeUser\\Downloads\\keeper\n---DOC NUM: 1\ntoken: the\ntoken: old\ntoken: night\ntoken: keeper\ntoken: keeps\ntoken: the\ntoken: keep\ntoken: in\ntoken: the\ntoken: town\n---DOC NUM: 2\ntoken: in\ntoken: the\ntoken: big\ntoken: old\ntoken: house\ntoken: in\ntoken: the\ntoken: big\ntoken: old\ntoken: gown \n---DOC NUM: 3\ntoken: the\ntoken: house\ntoken: in\ntoken: the\ntoken: town\ntoken: had\ntoken: the\ntoken: big\ntoken: old\ntoken: keep\n---DOC NUM: 4\ntoken: where\ntoken: the\ntoken: old\ntoken: night\ntoken: keeper\ntoken: never\ntoken: did\ntoken: sleep \n---DOC NUM: 5\ntoken: the\ntoken: night\ntoken: keeper\ntoken: keeps\ntoken: the\ntoken: keep\ntoken: in\ntoken: the\ntoken: night\n---DOC NUM: 6\ntoken: and\ntoken: keeps\ntoken: in\ntoken: the\ntoken: dark\ntoken: and\ntoken: sleeps\ntoken: in\ntoken: the\ntoken: light \n\nand [1, 2, 3, 4, 5, 6]\nbig [1, 2, 3, 4, 5, 6]\ndark [1, 2, 3, 4, 5, 6]\ndid [1, 2, 3, 4, 5, 6]\ngown  [1, 2, 3, 4, 5, 6]\nhad [1, 2, 3, 4, 5, 6]\nhouse [1, 2, 3, 4, 5, 6]\nin [1, 2, 3, 4, 5, 6]\nkeep [1, 2, 3, 4, 5, 6]\nkeeper [1, 2, 3, 4, 5, 6]\nkeeps [1, 2, 3, 4, 5, 6]\nlight  [1, 2, 3, 4, 5, 6]\nnever [1, 2, 3, 4, 5, 6]\nnight [1, 2, 3, 4, 5, 6]\nold [1, 2, 3, 4, 5, 6]\nsleep  [1, 2, 3, 4, 5, 6]\nsleeps [1, 2, 3, 4, 5, 6]\nthe [1, 2, 3, 4, 5, 6]\ntown [1, 2, 3, 4, 5, 6]\nwhere [1, 2, 3, 4, 5, 6]\n\n</code></pre>\n<p>Attempted to use nested if-else statements to check if 1.) was not a token stored (in which case it would store the token in the map and the current docNum, 2.) if the current token was already stored AND its value would equal the currently saved docNum plus the current docNum (as a string, not an integer), 3.) else add the current docNum to the saved docNum.</p>\n<p>Changed the hashMap I was using to a treeMap instead for ordering, and changed Map&lt;String, String&gt; to Map&lt;String, Set&gt; (Comments in code still reflect HashMap instead of TreeMap)</p>\n<p>Counldn't figure out how to store docNum into the nested Set within the TreeMap, so created docSet to save the docNum and then push it to the map (obviously didn't work)</p>\n"},{"tags":["java","android","firebase-realtime-database","mpandroidchart"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686260654,"post_id":76402496,"comment_id":134778626,"body_markdown":"If this is a question about how to make the chart, it would be easier to answer if you had a minimum complete example that doesn&#39;t depend on your database (that someone else could run). The static &quot;newDate&quot; variable looks suspicious (generally a bad idea) - your value formatter is going to be using the updated value there which is possibly the issue. Try using a local (non-static) variable instead of &quot;newDate&quot; inside the &quot;onDataChange&quot; method. If that doesn&#39;t work, post a minimum example someone else could run (and confirm that the x values you add to &quot;entries&quot; are what you expect)","body":"If this is a question about how to make the chart, it would be easier to answer if you had a minimum complete example that doesn&#39;t depend on your database (that someone else could run). The static &quot;newDate&quot; variable looks suspicious (generally a bad idea) - your value formatter is going to be using the updated value there which is possibly the issue. Try using a local (non-static) variable instead of &quot;newDate&quot; inside the &quot;onDataChange&quot; method. If that doesn&#39;t work, post a minimum example someone else could run (and confirm that the x values you add to &quot;entries&quot; are what you expect)"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686322630,"post_id":76402496,"comment_id":134787506,"body_markdown":"Also, just noticed `MainActivity mn = new MainActivity();` - if that is an actual activity, you should definitely not be doing that. You should *never* create an activity directly like that.","body":"Also, just noticed <code>MainActivity mn = new MainActivity();</code> - if that is an actual activity, you should definitely not be doing that. You should <i>never</i> create an activity directly like that."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686322830,"post_id":76402496,"comment_id":134787541,"body_markdown":"Finally, in your axis value formatter, you are using `long startDate = getMillisFromString(newDate);` as though `newDate` is a dd.MM.yyyy date string, but in your snapshow listener you are treating it as a string representation of a long value (`newDate = longVal.toString();`) - which is it?","body":"Finally, in your axis value formatter, you are using <code>long startDate = getMillisFromString(newDate);</code> as though <code>newDate</code> is a dd.MM.yyyy date string, but in your snapshow listener you are treating it as a string representation of a long value (<code>newDate = longVal.toString();</code>) - which is it?"}],"owner":{"account_id":28752008,"reputation":1,"user_id":22019869,"display_name":"Berat Akdoğan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685915467,"creation_date":1685914220,"question_id":76402496,"body_markdown":"I have a GraphActivity class which includes all graph activities. Also Realtime Database are running in this class. The GraphActivity class is as below:\r\n\r\n\r\n```\r\npackage com.example.basardesktop;\r\n\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport static com.example.basardesktop.MainActivity.dbDate;\r\n\r\nimport static com.example.basardesktop.MainActivity.newDate;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport static com.example.basardesktop.MainActivity.price;\r\nimport static com.example.basardesktop.MainActivity.productName;\r\n\r\n\r\nimport com.example.basardesktop.R;\r\nimport com.example.basardesktop.databinding.ActivityGraphBinding;\r\nimport com.example.basardesktop.databinding.ActivityMainBinding;\r\nimport com.github.mikephil.charting.charts.LineChart;\r\nimport com.github.mikephil.charting.components.AxisBase;\r\nimport com.github.mikephil.charting.components.XAxis;\r\nimport com.github.mikephil.charting.components.YAxis;\r\nimport com.github.mikephil.charting.data.Entry;\r\nimport com.github.mikephil.charting.data.LineData;\r\nimport com.github.mikephil.charting.data.LineDataSet;\r\nimport com.github.mikephil.charting.formatter.ValueFormatter;\r\nimport com.github.mikephil.charting.interfaces.datasets.ILineDataSet;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.theartofdev.edmodo.cropper.CropImage;\r\nimport com.theartofdev.edmodo.cropper.CropImageView;\r\n\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\n\r\npublic class GraphActivity extends AppCompatActivity {\r\n\r\n    static int dbPrice;\r\n    MainActivity mn = new MainActivity();\r\n\r\n    private ActivityGraphBinding binding;\r\n    private LineChart chart;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityGraphBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        ActivityMainBinding binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        Button buttonCopy = binding.buttonCopy;\r\n        chart = findViewById(R.id.lineChart);\r\n\r\n\r\n        // Configure chart appearance and settings\r\n        chart.setTouchEnabled(true);\r\n        chart.setDragEnabled(true);\r\n        chart.setScaleEnabled(true);\r\n        chart.setPinchZoom(true);\r\n        chart.getDescription().setEnabled(false);\r\n\r\n        // Customize the X-axis\r\n        XAxis xAxis = chart.getXAxis();\r\n        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);\r\n\r\n        // X-axis value formatter\r\n\r\n        xAxis.setValueFormatter(new ValueFormatter() {\r\n            private final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;, Locale.getDefault());\r\n            private final long startDate = getMillisFromString(newDate);\r\n\r\n            @Override\r\n            public String getFormattedValue(float value) {\r\n                if (value == 0) {\r\n                    return dateFormat.format(new Date(startDate));\r\n                } else if (value == 1) {\r\n                    long millis = (long) value + startDate;\r\n                    Date date = new Date(millis);\r\n                    return dateFormat.format(date);\r\n                } else {\r\n                    return &quot;&quot;;\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        // Y-axis setup and configuration\r\n        YAxis yAxis = chart.getAxisLeft();\r\n        yAxis.setDrawZeroLine(true);\r\n        yAxis.setDrawTopYLabelEntry(true);\r\n        yAxis.setGranularity(1); // Minimum interval on the Y-axis\r\n        yAxis.setTextSize(12f);\r\n\r\n        YAxis rightYAxis = chart.getAxisRight();\r\n        rightYAxis.setEnabled(false);\r\n\r\n        // Y-axis value formatter\r\n        yAxis.setValueFormatter(new ValueFormatter() {\r\n            @Override\r\n            public String getFormattedValue(float value) {\r\n                return value + &quot; ₺&quot;;\r\n            }\r\n        });\r\n\r\n        List&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\r\n\r\n        mn.db = FirebaseDatabase.getInstance();\r\n        mn.reference = mn.db.getReference(&quot;Detected Text&quot;);\r\n        mn.reference = mn.db.getReference(&quot;Date&quot;);\r\n        mn.reference.push().setValue(newDate);\r\n\r\n\r\n        mn.reference = mn.db.getReference(&quot;Price&quot;);\r\n        mn.reference.push().setValue(price);\r\n\r\n\r\n        mn.reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                    //newDate = snapshot.getValue(String.class);\r\n                    dbPrice = snapshot.getValue(Integer.class);\r\n                    System.out.println(&quot;berat1 &quot; + dbPrice);\r\n                    price = dbPrice;\r\n                    System.out.println(&quot;berat2 &quot; + dbPrice);\r\n\r\n                    Long longVal = snapshot.getValue(Long.class);\r\n                    newDate = longVal.toString();\r\n\r\n                    entries.add(new Entry(getMillisFromString(newDate), price));\r\n\r\n\r\n                }\r\n\r\n                LineDataSet dataSet = new LineDataSet(entries, productName);\r\n\r\n                dataSet.setCircleRadius(6f);\r\n                dataSet.setValueTextSize(10f);\r\n\r\n                // Value formatter for data labels\r\n                dataSet.setValueFormatter(new ValueFormatter() {\r\n                    @Override\r\n                    public String getFormattedValue(float value) {\r\n                        return value + &quot; ₺&quot;;\r\n                    }\r\n                });\r\n\r\n                ArrayList&lt;ILineDataSet&gt; dataSets = new ArrayList&lt;&gt;();\r\n                dataSets.add(dataSet);\r\n\r\n                LineData lineData = new LineData(dataSets);\r\n\r\n                chart.setData(lineData);\r\n                dataSet.notifyDataSetChanged();\r\n                lineData.notifyDataChanged();\r\n                chart.notifyDataSetChanged();\r\n                chart.invalidate();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Log.e(&quot;Firebase&quot;, &quot;Veri &#231;ekme hatası: &quot; + error.getMessage());\r\n            }\r\n        });\r\n\r\n\r\n        LineDataSet dataSet = new LineDataSet(entries, productName);\r\n\r\n\r\n        dataSet.setCircleRadius(6f);\r\n        dataSet.setValueTextSize(10f);\r\n\r\n        // Value formatter for data labels\r\n        dataSet.setValueFormatter(new ValueFormatter() {\r\n            @Override\r\n            public String getFormattedValue(float value) {\r\n                return value + &quot; ₺&quot;;\r\n            }\r\n        });\r\n\r\n\r\n        ArrayList&lt;ILineDataSet&gt; dataSets = new ArrayList&lt;&gt;();\r\n        dataSets.add(dataSet);\r\n\r\n        LineData lineData = new LineData(dataSets);\r\n\r\n        chart.setData(lineData);\r\n        dataSet.notifyDataSetChanged();\r\n        lineData.notifyDataChanged();\r\n        chart.notifyDataSetChanged();\r\n        chart.invalidate();\r\n\r\n\r\n    }\r\n\r\n\r\n    private long getMillisFromString(String dateString) {\r\n        SimpleDateFormat format = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;, Locale.getDefault());\r\n        try {\r\n            Date date = format.parse(dateString);\r\n            return date.getTime();\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return 0;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nIn this class, I can send the data to the Realtime Database successfully with push() method. After pushing them to the Realtime Database I retrieve data with DataSnapshot. I send the Date values as an x-axis and price as a y-axis. Although I can observe different price values in the Graph, I can not see all the Date values that I sent. I can only observe the last Date data that I sent in the entries list. What is the problem in the code? How can I observe all Date values on the x-axis ?\r\n\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/MiwEM.png)\r\n\r\nAs you can see, the last date data is shown in the graph without showing previous date datas.","title":"Could Not Show Date in X-Axis More than Once in MPAndroidChart (LineChart)","body":"<p>I have a GraphActivity class which includes all graph activities. Also Realtime Database are running in this class. The GraphActivity class is as below:</p>\n<pre><code>package com.example.basardesktop;\n\nimport android.content.Intent;\nimport android.graphics.Color;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport static com.example.basardesktop.MainActivity.dbDate;\n\nimport static com.example.basardesktop.MainActivity.newDate;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport static com.example.basardesktop.MainActivity.price;\nimport static com.example.basardesktop.MainActivity.productName;\n\n\nimport com.example.basardesktop.R;\nimport com.example.basardesktop.databinding.ActivityGraphBinding;\nimport com.example.basardesktop.databinding.ActivityMainBinding;\nimport com.github.mikephil.charting.charts.LineChart;\nimport com.github.mikephil.charting.components.AxisBase;\nimport com.github.mikephil.charting.components.XAxis;\nimport com.github.mikephil.charting.components.YAxis;\nimport com.github.mikephil.charting.data.Entry;\nimport com.github.mikephil.charting.data.LineData;\nimport com.github.mikephil.charting.data.LineDataSet;\nimport com.github.mikephil.charting.formatter.ValueFormatter;\nimport com.github.mikephil.charting.interfaces.datasets.ILineDataSet;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.theartofdev.edmodo.cropper.CropImage;\nimport com.theartofdev.edmodo.cropper.CropImageView;\n\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Locale;\n\n\npublic class GraphActivity extends AppCompatActivity {\n\n    static int dbPrice;\n    MainActivity mn = new MainActivity();\n\n    private ActivityGraphBinding binding;\n    private LineChart chart;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n\n        super.onCreate(savedInstanceState);\n        binding = ActivityGraphBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        ActivityMainBinding binding = ActivityMainBinding.inflate(getLayoutInflater());\n        Button buttonCopy = binding.buttonCopy;\n        chart = findViewById(R.id.lineChart);\n\n\n        // Configure chart appearance and settings\n        chart.setTouchEnabled(true);\n        chart.setDragEnabled(true);\n        chart.setScaleEnabled(true);\n        chart.setPinchZoom(true);\n        chart.getDescription().setEnabled(false);\n\n        // Customize the X-axis\n        XAxis xAxis = chart.getXAxis();\n        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);\n\n        // X-axis value formatter\n\n        xAxis.setValueFormatter(new ValueFormatter() {\n            private final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;, Locale.getDefault());\n            private final long startDate = getMillisFromString(newDate);\n\n            @Override\n            public String getFormattedValue(float value) {\n                if (value == 0) {\n                    return dateFormat.format(new Date(startDate));\n                } else if (value == 1) {\n                    long millis = (long) value + startDate;\n                    Date date = new Date(millis);\n                    return dateFormat.format(date);\n                } else {\n                    return &quot;&quot;;\n                }\n            }\n        });\n\n\n        // Y-axis setup and configuration\n        YAxis yAxis = chart.getAxisLeft();\n        yAxis.setDrawZeroLine(true);\n        yAxis.setDrawTopYLabelEntry(true);\n        yAxis.setGranularity(1); // Minimum interval on the Y-axis\n        yAxis.setTextSize(12f);\n\n        YAxis rightYAxis = chart.getAxisRight();\n        rightYAxis.setEnabled(false);\n\n        // Y-axis value formatter\n        yAxis.setValueFormatter(new ValueFormatter() {\n            @Override\n            public String getFormattedValue(float value) {\n                return value + &quot; ₺&quot;;\n            }\n        });\n\n        List&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\n\n        mn.db = FirebaseDatabase.getInstance();\n        mn.reference = mn.db.getReference(&quot;Detected Text&quot;);\n        mn.reference = mn.db.getReference(&quot;Date&quot;);\n        mn.reference.push().setValue(newDate);\n\n\n        mn.reference = mn.db.getReference(&quot;Price&quot;);\n        mn.reference.push().setValue(price);\n\n\n        mn.reference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                    //newDate = snapshot.getValue(String.class);\n                    dbPrice = snapshot.getValue(Integer.class);\n                    System.out.println(&quot;berat1 &quot; + dbPrice);\n                    price = dbPrice;\n                    System.out.println(&quot;berat2 &quot; + dbPrice);\n\n                    Long longVal = snapshot.getValue(Long.class);\n                    newDate = longVal.toString();\n\n                    entries.add(new Entry(getMillisFromString(newDate), price));\n\n\n                }\n\n                LineDataSet dataSet = new LineDataSet(entries, productName);\n\n                dataSet.setCircleRadius(6f);\n                dataSet.setValueTextSize(10f);\n\n                // Value formatter for data labels\n                dataSet.setValueFormatter(new ValueFormatter() {\n                    @Override\n                    public String getFormattedValue(float value) {\n                        return value + &quot; ₺&quot;;\n                    }\n                });\n\n                ArrayList&lt;ILineDataSet&gt; dataSets = new ArrayList&lt;&gt;();\n                dataSets.add(dataSet);\n\n                LineData lineData = new LineData(dataSets);\n\n                chart.setData(lineData);\n                dataSet.notifyDataSetChanged();\n                lineData.notifyDataChanged();\n                chart.notifyDataSetChanged();\n                chart.invalidate();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Log.e(&quot;Firebase&quot;, &quot;Veri çekme hatası: &quot; + error.getMessage());\n            }\n        });\n\n\n        LineDataSet dataSet = new LineDataSet(entries, productName);\n\n\n        dataSet.setCircleRadius(6f);\n        dataSet.setValueTextSize(10f);\n\n        // Value formatter for data labels\n        dataSet.setValueFormatter(new ValueFormatter() {\n            @Override\n            public String getFormattedValue(float value) {\n                return value + &quot; ₺&quot;;\n            }\n        });\n\n\n        ArrayList&lt;ILineDataSet&gt; dataSets = new ArrayList&lt;&gt;();\n        dataSets.add(dataSet);\n\n        LineData lineData = new LineData(dataSets);\n\n        chart.setData(lineData);\n        dataSet.notifyDataSetChanged();\n        lineData.notifyDataChanged();\n        chart.notifyDataSetChanged();\n        chart.invalidate();\n\n\n    }\n\n\n    private long getMillisFromString(String dateString) {\n        SimpleDateFormat format = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;, Locale.getDefault());\n        try {\n            Date date = format.parse(dateString);\n            return date.getTime();\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        return 0;\n    }\n\n}\n\n</code></pre>\n<p>In this class, I can send the data to the Realtime Database successfully with push() method. After pushing them to the Realtime Database I retrieve data with DataSnapshot. I send the Date values as an x-axis and price as a y-axis. Although I can observe different price values in the Graph, I can not see all the Date values that I sent. I can only observe the last Date data that I sent in the entries list. What is the problem in the code? How can I observe all Date values on the x-axis ?</p>\n<p><a href=\"https://i.stack.imgur.com/MiwEM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>As you can see, the last date data is shown in the graph without showing previous date datas.</p>\n"},{"tags":["java","spring","unit-testing","spring-boot","mockito"],"comments":[{"owner":{"account_id":337407,"reputation":10009,"user_id":665657,"accept_rate":75,"display_name":"wjans"},"score":0,"creation_date":1522336410,"post_id":49559185,"comment_id":86127038,"body_markdown":"Are your datasources configured via auto-configuration?","body":"Are your datasources configured via auto-configuration?"},{"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"score":0,"creation_date":1522337648,"post_id":49559185,"comment_id":86127823,"body_markdown":"@wjans No, its&#39; a bean in the main config. See my edit.","body":"@wjans No, its&#39; a bean in the main config. See my edit."},{"owner":{"account_id":337407,"reputation":10009,"user_id":665657,"accept_rate":75,"display_name":"wjans"},"score":2,"creation_date":1522400568,"post_id":49559185,"comment_id":86150449,"body_markdown":"Can&#39;t you simply add the datasource as a `@MockBean DataSource dataSource` too then?  Think it has the advantage that your production code doing the JNDI lookup won&#39;t even be executed.","body":"Can&#39;t you simply add the datasource as a <code>@MockBean DataSource dataSource</code> too then?  Think it has the advantage that your production code doing the JNDI lookup won&#39;t even be executed."}],"answers":[{"tags":[],"owner":{"account_id":1592336,"reputation":1170,"user_id":1475386,"accept_rate":100,"display_name":"donm"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1522351678,"creation_date":1522351678,"answer_id":49563690,"question_id":49559185,"body_markdown":"Since you are loading configuration class `MyApplication.class` datasource bean will be created, Try moving datasource in another bean which is not used in a test, make sure all classes loaded for tests are not dependant on datasource.&lt;br&gt; Or &lt;br&gt;In your tests create a config class marked with `@TestConfiguration` and include it in `SpringBootTest(classes=TestConfig.class)` mocking data source there like \r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        return Mockito.mock(DataSource.class);\r\n    }\r\nBut this may fail since method call to this mocked datasouce for connection will return null, In that case, you&#39;ll have to create an in-memory datasource and then mock jdbcTemplate and rest of dependencies.","title":"Spring Boot Datasource in unit tests","body":"<p>Since you are loading configuration class <code>MyApplication.class</code> datasource bean will be created, Try moving datasource in another bean which is not used in a test, make sure all classes loaded for tests are not dependant on datasource.<br> Or <br>In your tests create a config class marked with <code>@TestConfiguration</code> and include it in <code>SpringBootTest(classes=TestConfig.class)</code> mocking data source there like </p>\n\n<pre><code>@Bean\npublic DataSource dataSource() {\n    return Mockito.mock(DataSource.class);\n}\n</code></pre>\n\n<p>But this may fail since method call to this mocked datasouce for connection will return null, In that case, you'll have to create an in-memory datasource and then mock jdbcTemplate and rest of dependencies.</p>\n"},{"tags":[],"owner":{"account_id":337407,"reputation":10009,"user_id":665657,"accept_rate":75,"display_name":"wjans"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1522401520,"creation_date":1522401189,"answer_id":49571616,"question_id":49559185,"body_markdown":"Try adding your datasource as a [`@MockBean`][1] too:\r\n\r\n    @MockBean\r\n    private DataSource dataSource\r\n\r\nThat way Spring will do the replacing logic for you, having the advantage that your production code bean creation won&#39;t even be executed (no JNDI lookup).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html","title":"Spring Boot Datasource in unit tests","body":"<p>Try adding your datasource as a <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html\" rel=\"noreferrer\"><code>@MockBean</code></a> too:</p>\n\n<pre><code>@MockBean\nprivate DataSource dataSource\n</code></pre>\n\n<p>That way Spring will do the replacing logic for you, having the advantage that your production code bean creation won't even be executed (no JNDI lookup).</p>\n"}],"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49098,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":49563690,"answer_count":2,"score":14,"last_activity_date":1685915250,"creation_date":1522335174,"question_id":49559185,"body_markdown":"I have a simple Spring Boot web app, that reads from a database and return a JSON response. I have the following test configuration:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes=MyApplication.class, properties={&quot;spring.config.name=myapp&quot;})\r\n    @AutoConfigureMockMvc\r\n    public class ControllerTests {\r\n    \t@Autowired\r\n    \tprivate MockMvc mvc;\r\n    \t@MockBean\r\n    \tprivate ProductRepository productRepo;\r\n    \t@MockBean\r\n    \tprivate MonitorRepository monitorRepo;\r\n    \t\r\n    \t@Before\r\n    \tpublic void setupMock() {\r\n    \t\tMockito.when(productRepo.findProducts(anyString(), anyString()))\r\n    \t\t.thenReturn(Arrays.asList(dummyProduct()));\t\t\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void expectBadRequestWhenNoParamters() throws Exception {\t\r\n    \t\tmvc.perform(get(&quot;/products&quot;))\r\n    \t\t\t\t.andExpect(status().is(400))\r\n    \t\t\t\t.andExpect(jsonPath(&quot;$.advice.status&quot;, is(&quot;ERROR&quot;)));\r\n    \t}\r\n    \r\n        //other tests\r\n    }\r\n\r\nI have a `DataSource` bean that is configured in the main configuration of the application. When I run the tests Spring tries to load the context and fails, because the `DataSource` is taken from `JNDI`. In general I want to avoid creating a `DataSource` for this tests, because I have the repositories mocked.\r\n\r\nIs it possible to skip the creation of `DataSource` when running the unit tests?\r\n\r\n**Note:** In-memory database for testing is not an option, because my database creation script has a specific structure and cannot be easily executed from `classpath:schema.sql`\r\n\r\n**Edit**\r\n\r\nThe datasource is defined in `MyApplication.class`\r\n\r\n        @Bean\r\n        DataSource dataSource(DatabaseProeprties databaseProps) throws NamingException {\r\n           DataSource dataSource = null;\r\n           JndiTemplate jndi = new JndiTemplate();\r\n           setJndiEnvironment(databaseProps, jndi);\r\n           try {\r\n               dataSource = jndi.lookup(databaseProps.getName(), DataSource.class);\r\n           } catch (NamingException e) {\r\n               logger.error(&quot;Exception loading JNDI datasource&quot;, e);\r\n               throw e;\r\n           }\r\n           return dataSource;\r\n       }","title":"Spring Boot Datasource in unit tests","body":"<p>I have a simple Spring Boot web app, that reads from a database and return a JSON response. I have the following test configuration:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes=MyApplication.class, properties={&quot;spring.config.name=myapp&quot;})\n@AutoConfigureMockMvc\npublic class ControllerTests {\n    @Autowired\n    private MockMvc mvc;\n    @MockBean\n    private ProductRepository productRepo;\n    @MockBean\n    private MonitorRepository monitorRepo;\n    \n    @Before\n    public void setupMock() {\n        Mockito.when(productRepo.findProducts(anyString(), anyString()))\n        .thenReturn(Arrays.asList(dummyProduct()));     \n    }\n    \n    @Test\n    public void expectBadRequestWhenNoParamters() throws Exception {    \n        mvc.perform(get(&quot;/products&quot;))\n                .andExpect(status().is(400))\n                .andExpect(jsonPath(&quot;$.advice.status&quot;, is(&quot;ERROR&quot;)));\n    }\n\n    //other tests\n}\n</code></pre>\n<p>I have a <code>DataSource</code> bean that is configured in the main configuration of the application. When I run the tests Spring tries to load the context and fails, because the <code>DataSource</code> is taken from <code>JNDI</code>. In general I want to avoid creating a <code>DataSource</code> for this tests, because I have the repositories mocked.</p>\n<p>Is it possible to skip the creation of <code>DataSource</code> when running the unit tests?</p>\n<p><strong>Note:</strong> In-memory database for testing is not an option, because my database creation script has a specific structure and cannot be easily executed from <code>classpath:schema.sql</code></p>\n<p><strong>Edit</strong></p>\n<p>The datasource is defined in <code>MyApplication.class</code></p>\n<pre><code>    @Bean\n    DataSource dataSource(DatabaseProeprties databaseProps) throws NamingException {\n       DataSource dataSource = null;\n       JndiTemplate jndi = new JndiTemplate();\n       setJndiEnvironment(databaseProps, jndi);\n       try {\n           dataSource = jndi.lookup(databaseProps.getName(), DataSource.class);\n       } catch (NamingException e) {\n           logger.error(&quot;Exception loading JNDI datasource&quot;, e);\n           throw e;\n       }\n       return dataSource;\n   }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-test","spring-boot-actuator","spring-resttemplate"],"answers":[{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685702658,"creation_date":1685612018,"answer_id":76380507,"question_id":76377524,"body_markdown":"This config in test configuration fixes the issue:\r\n\r\n    management:\r\n      prometheus:\r\n        metrics.export.enabled: true\r\n\r\n\r\nThe tricky thing that this option is not needed in applicaton(because default value is true). \r\n\r\n    package org.springframework.boot.actuate.autoconfigure.metrics.export.prometheus;\r\n    ...\r\n    @ConfigurationProperties(prefix = &quot;management.prometheus.metrics.export&quot;)\r\n    public class PrometheusProperties {\r\n    \r\n    \t/**\r\n    \t * Whether exporting of metrics to this backend is enabled.\r\n    \t */\r\n    \tprivate boolean enabled = true;     \r\n        ...\r\n\r\nI wasn&#39;t able to find a place but looks like some spring boot test starter overwrite this default value. Not sure if this test has a value in case when I need to change configuration to make it working.\r\n\r\n","title":"How to implement test to check that actuator metrics are exist ? 404 for /actuator/prometheus in tests","body":"<p>This config in test configuration fixes the issue:</p>\n<pre><code>management:\n  prometheus:\n    metrics.export.enabled: true\n</code></pre>\n<p>The tricky thing that this option is not needed in applicaton(because default value is true).</p>\n<pre><code>package org.springframework.boot.actuate.autoconfigure.metrics.export.prometheus;\n...\n@ConfigurationProperties(prefix = &quot;management.prometheus.metrics.export&quot;)\npublic class PrometheusProperties {\n\n    /**\n     * Whether exporting of metrics to this backend is enabled.\n     */\n    private boolean enabled = true;     \n    ...\n</code></pre>\n<p>I wasn't able to find a place but looks like some spring boot test starter overwrite this default value. Not sure if this test has a value in case when I need to change configuration to make it working.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76380507,"answer_count":1,"score":1,"last_activity_date":1685915096,"creation_date":1685569856,"question_id":76377524,"body_markdown":"I have a spring boot appication(version is 3.0.4): \r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.4&lt;/version&gt;\r\n    \t&lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n\r\nIn `application.yaml` of application(`src/main/resources`) I have following config:\r\n\r\n       ....\r\n        management:\r\n          server:\r\n            port: 8081\r\n          endpoints:\r\n            web:\r\n              exposure:\r\n                include: health,prometheus,info\r\n          endpoint:\r\n            info:\r\n              enabled: true\r\n            health:\r\n              enabled: true\r\n              probes:\r\n                enabled: true\r\n              show-details: always\r\n            prometheus:\r\n              enabled: true\r\n          ...\r\n\r\nWhen I run application and access url `localhost:8081/actuator/prometheus` in my browser I see a long list of metrics and **it is expected**\r\n\r\nNow I want to implement test to make sure that prometheus metrics are available:\r\n\r\n    @Slf4j\r\n    @SpringBootTest(webEnvironment = RANDOM_PORT)\r\n    public class ActuatorTests {\r\n        @Autowired\r\n        protected TestRestTemplate testRestTemplate;\r\n    \r\n        @LocalManagementPort\r\n        private int managementPort;\r\n    \r\n        @Test\r\n        public void test1() {\r\n            ResponseEntity&lt;String&gt; forEntity = testRestTemplate.getForEntity(&quot;/actuator/prometheus&quot;, String.class);\r\n            assertEquals(HttpStatus.OK, forEntity.getStatusCode());\r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void test2() {\r\n            ResponseEntity&lt;String&gt; actuatorResponse = testRestTemplate.getForEntity(&quot;http://localhost:&quot; + managementPort + &quot;/actuator/prometheus&quot;, String.class);\r\n            assertEquals(HttpStatus.OK, actuatorResponse.getStatusCode());\r\n        }\r\n    }\r\n\r\nBoth tests are failed with the same error:\r\n\r\n    org.opentest4j.AssertionFailedError: \r\n    Expected :200 OK\r\n    Actual   :404 NOT_FOUND\r\n\r\n\r\nHow can I fix it ?\r\n\r\nP.S.\r\n\r\n\r\nALso I tried to copy this test as is: https://stackoverflow.com/a/75334796/2674303\r\n\r\n\r\nbut result is:\r\n\r\n    org.springframework.web.client.HttpClientErrorException$NotFound: 404 : &quot;{&quot;timestamp&quot;:&quot;2023-05-31T22:09:49.535+00:00&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/actuator/metrics&quot;}&quot;\r\n\r\n","title":"How to implement test to check that actuator metrics are exist ? 404 for /actuator/prometheus in tests","body":"<p>I have a spring boot appication(version is 3.0.4):</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>In <code>application.yaml</code> of application(<code>src/main/resources</code>) I have following config:</p>\n<pre><code>   ....\n    management:\n      server:\n        port: 8081\n      endpoints:\n        web:\n          exposure:\n            include: health,prometheus,info\n      endpoint:\n        info:\n          enabled: true\n        health:\n          enabled: true\n          probes:\n            enabled: true\n          show-details: always\n        prometheus:\n          enabled: true\n      ...\n</code></pre>\n<p>When I run application and access url <code>localhost:8081/actuator/prometheus</code> in my browser I see a long list of metrics and <strong>it is expected</strong></p>\n<p>Now I want to implement test to make sure that prometheus metrics are available:</p>\n<pre><code>@Slf4j\n@SpringBootTest(webEnvironment = RANDOM_PORT)\npublic class ActuatorTests {\n    @Autowired\n    protected TestRestTemplate testRestTemplate;\n\n    @LocalManagementPort\n    private int managementPort;\n\n    @Test\n    public void test1() {\n        ResponseEntity&lt;String&gt; forEntity = testRestTemplate.getForEntity(&quot;/actuator/prometheus&quot;, String.class);\n        assertEquals(HttpStatus.OK, forEntity.getStatusCode());\n\n    }\n\n    @Test\n    public void test2() {\n        ResponseEntity&lt;String&gt; actuatorResponse = testRestTemplate.getForEntity(&quot;http://localhost:&quot; + managementPort + &quot;/actuator/prometheus&quot;, String.class);\n        assertEquals(HttpStatus.OK, actuatorResponse.getStatusCode());\n    }\n}\n</code></pre>\n<p>Both tests are failed with the same error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :200 OK\nActual   :404 NOT_FOUND\n</code></pre>\n<p>How can I fix it ?</p>\n<p>P.S.</p>\n<p>ALso I tried to copy this test as is: <a href=\"https://stackoverflow.com/a/75334796/2674303\">https://stackoverflow.com/a/75334796/2674303</a></p>\n<p>but result is:</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$NotFound: 404 : &quot;{&quot;timestamp&quot;:&quot;2023-05-31T22:09:49.535+00:00&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/actuator/metrics&quot;}&quot;\n</code></pre>\n"},{"tags":["java","maven","plugins","build"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650468904,"post_id":71940688,"comment_id":127125271,"body_markdown":"Please give the pom file, JDK version you are using, Maven version you are using etc. also full log output ...","body":"Please give the pom file, JDK version you are using, Maven version you are using etc. also full log output ..."},{"owner":{"account_id":25021432,"reputation":103,"user_id":18880093,"display_name":"Martim Gouveia"},"score":0,"creation_date":1650477687,"post_id":71940688,"comment_id":127128473,"body_markdown":"I have updated the post with the information.","body":"I have updated the post with the information."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650478957,"post_id":71940688,"comment_id":127128897,"body_markdown":"is there a good reason why you use `&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;` ? Keep the defaults... Also check first to run via `mvn clean` and a separate call `mvn test`...also located your production code into `src/main/java/&lt;package&gt;` and your test code in `src/test/java/&lt;package&gt;`...","body":"is there a good reason why you use <code>&lt;sourceDirectory&gt;src&lt;&#47;sourceDirectory&gt;</code> ? Keep the defaults... Also check first to run via <code>mvn clean</code> and a separate call <code>mvn test</code>...also located your production code into <code>src&#47;main&#47;java&#47;&lt;package&gt;</code> and your test code in <code>src&#47;test&#47;java&#47;&lt;package&gt;</code>..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650479021,"post_id":71940688,"comment_id":127128920,"body_markdown":"Also please check why you need that dependency `com.sun.org.apache.xml.internal` ??? Really with JDK 17... ?","body":"Also please check why you need that dependency <code>com.sun.org.apache.xml.internal</code> ??? Really with JDK 17... ?"}],"answers":[{"tags":[],"owner":{"account_id":25331185,"reputation":21,"user_id":19150972,"display_name":"Rakesh Endal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652942765,"creation_date":1652942765,"answer_id":72299813,"question_id":71940688,"body_markdown":"If the error message contains &quot;lombok.javac.apt.LombokProcessor&quot;, include below dependency in pom.xml file :\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;","title":"Maven: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile","body":"<p>If the error message contains &quot;lombok.javac.apt.LombokProcessor&quot;, include below dependency in pom.xml file :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23692115,"reputation":11,"user_id":17716345,"display_name":"Adedotun Alausa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685914089,"creation_date":1685914089,"answer_id":76402489,"question_id":71940688,"body_markdown":"I encountered this error recently and I fixed it by doing the following.\r\n\r\nNote that I use IntelliJ IDE.\r\n\r\n 1. Click on the `File` tab, and then click on Project Structure.\r\n 2. Then click on `Project` on the left pane. Under `Project SDK`, change it to the current Java Version in your project\r\n 3. Finally Click on `SDKs` and change the Java version to the current one in your project.\r\n\r\nI hope this helps someone.","title":"Maven: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile","body":"<p>I encountered this error recently and I fixed it by doing the following.</p>\n<p>Note that I use IntelliJ IDE.</p>\n<ol>\n<li>Click on the <code>File</code> tab, and then click on Project Structure.</li>\n<li>Then click on <code>Project</code> on the left pane. Under <code>Project SDK</code>, change it to the current Java Version in your project</li>\n<li>Finally Click on <code>SDKs</code> and change the Java version to the current one in your project.</li>\n</ol>\n<p>I hope this helps someone.</p>\n"}],"owner":{"account_id":25021432,"reputation":103,"user_id":18880093,"display_name":"Martim Gouveia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55681,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1685914089,"creation_date":1650461793,"question_id":71940688,"body_markdown":"When I try to build my project using `mvn clean compile assembly:single docker:build` i get the following error:\r\n\r\n&gt; [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project sd2122-tp1: Compilation failure\r\n[ERROR] An unknown compilation problem occurred\r\n\r\nWhen I try to run it again but using  `mvn clean compile assembly:single docker:build -X` i get the following:\r\n\r\n   \r\n\r\n```[ERROR] COMPILATION ERROR :\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] An unknown compilation problem occurred\r\n[INFO] 1 error\r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  3.153 s\r\n[INFO] Finished at: 2022-04-20T14:24:16+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project sd2122-tp1: Compilation failure\r\n[ERROR] An unknown compilation problem occurred\r\n[ERROR]\r\n[ERROR] -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project sd2122-tp1: Comp\r\nilation failure\r\nAn unknown compilation problem occurred\r\n\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:306)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\nAn unknown compilation problem occurred\r\n\r\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1310)\r\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR]\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\n```&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;sd2122&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sd2122-tp1&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;authors&gt;57369-57482&lt;/authors&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;rules&gt;\r\n\t\t\t\t\t\t&lt;dependencyConvergence /&gt;\r\n\t\t\t\t\t&lt;/rules&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.10.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;io.fabric8&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.39.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;build-dockerimage&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;build&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;images&gt;\r\n\t\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t\t&lt;name&gt;sd2122-tp1-${authors}&lt;/name&gt;\r\n\t\t\t\t\t\t\t&lt;build&gt;\r\n\t\t\t\t\t\t\t\t&lt;dockerFile&gt;${project.basedir}/Dockerfile&lt;/dockerFile&gt;\r\n\t\t\t\t\t\t\t&lt;/build&gt;\r\n\t\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t\t&lt;/images&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.13.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.13.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.13.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.15&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb-ri&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jersey-container-jdk-http&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;com.sun.org.apache.xml.internal&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;resolver&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;20050927&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nJava and Maven version:\r\n```Apache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)\r\nMaven home: C:\\apache-maven-3.8.5\r\nJava version: 17.0.2, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-17.0.2\r\nDefault locale: pt_PT, platform encoding: Cp1252\r\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;```\r\n\r\nThe full log output is here: https://www.toptal.com/developers/hastebin/hepisinape.bash\r\n\r\n\r\n","title":"Maven: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile","body":"<p>When I try to build my project using <code>mvn clean compile assembly:single docker:build</code> i get the following error:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project sd2122-tp1: Compilation failure\n[ERROR] An unknown compilation problem occurred</p>\n</blockquote>\n<p>When I try to run it again but using  <code>mvn clean compile assembly:single docker:build -X</code> i get the following:</p>\n<pre><code>[INFO] -------------------------------------------------------------\n[ERROR] An unknown compilation problem occurred\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.153 s\n[INFO] Finished at: 2022-04-20T14:24:16+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project sd2122-tp1: Compilation failure\n[ERROR] An unknown compilation problem occurred\n[ERROR]\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project sd2122-tp1: Comp\nilation failure\nAn unknown compilation problem occurred\n\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:306)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\nAn unknown compilation problem occurred\n\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1310)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<pre><code>    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;sd2122&lt;/groupId&gt;\n    &lt;artifactId&gt;sd2122-tp1&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;authors&gt;57369-57482&lt;/authors&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;rules&gt;\n                        &lt;dependencyConvergence /&gt;\n                    &lt;/rules&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\n                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.39.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;build-dockerimage&lt;/id&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n                &lt;configuration&gt;\n                    &lt;images&gt;\n                        &lt;image&gt;\n                            &lt;name&gt;sd2122-tp1-${authors}&lt;/name&gt;\n                            &lt;build&gt;\n                                &lt;dockerFile&gt;${project.basedir}/Dockerfile&lt;/dockerFile&gt;\n                            &lt;/build&gt;\n                        &lt;/image&gt;\n                    &lt;/images&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;version&gt;2.13.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;version&gt;2.13.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                &lt;version&gt;2.13.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n                &lt;version&gt;1.15&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-ri&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n                &lt;version&gt;3.0.4&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-container-jdk-http&lt;/artifactId&gt;\n                &lt;version&gt;3.0.4&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n                &lt;version&gt;3.0.4&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;rt&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.org.apache.xml.internal&lt;/groupId&gt;\n                &lt;artifactId&gt;resolver&lt;/artifactId&gt;\n                &lt;version&gt;20050927&lt;/version&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Java and Maven version:</p>\n<pre><code>Maven home: C:\\apache-maven-3.8.5\nJava version: 17.0.2, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-17.0.2\nDefault locale: pt_PT, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;```\n\nThe full log output is here: https://www.toptal.com/developers/hastebin/hepisinape.bash\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685913864,"creation_date":1685913864,"answer_id":76402477,"question_id":76402434,"body_markdown":"The remaining step is to replace `WebSecurityConfigurerAdapter#configure` with a `SecurityFilterChain` bean.\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\treturn http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n\t\t\t.authorizeHttpRequests().requestMatchers(&quot;/v1/**&quot;, &quot;/v2/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/api-docs/**&quot;)\r\n\t\t\t.permitAll().requestMatchers(&quot;/v3/polls/**&quot;).authenticated().and().httpBasic().realmName(&quot;Quick Poll&quot;)\r\n\t\t\t.and().csrf().disable().build();\r\n}\r\n```","title":"Adapting to Spring security 6","body":"<p>The remaining step is to replace <code>WebSecurityConfigurerAdapter#configure</code> with a <code>SecurityFilterChain</code> bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n            .authorizeHttpRequests().requestMatchers(&quot;/v1/**&quot;, &quot;/v2/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/api-docs/**&quot;)\n            .permitAll().requestMatchers(&quot;/v3/polls/**&quot;).authenticated().and().httpBasic().realmName(&quot;Quick Poll&quot;)\n            .and().csrf().disable().build();\n}\n</code></pre>\n"}],"owner":{"account_id":28721222,"reputation":51,"user_id":21994955,"display_name":"jack nik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76402477,"answer_count":1,"score":-1,"last_activity_date":1685913864,"creation_date":1685913210,"question_id":76402434,"body_markdown":"Due to a migration to Spring security 6 and the WebSecurityConfigurerAdapter deprecation  I need to adapt the security conf below, buit not sure if I am going in the correct way.\r\n\r\n\r\n\r\n     @Configuration\r\n     @EnableWebSecurity\r\n     @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n     public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Inject\r\n\tprivate UserDetailsService userDetailsService;\r\n\t\t\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(userDetailsService)\r\n\t\t\t.passwordEncoder(new BCryptPasswordEncoder());\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t\thttp\r\n\t\t\t.sessionManagement()\r\n\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t\t\t.and()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/v1/**&quot;, &quot;/v2/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/api-docs/**&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/v3/polls/**&quot;).authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t.httpBasic()\r\n\t\t\t\t.realmName(&quot;Quick Poll&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t.csrf()\r\n\t\t\t\t.disable();\r\n\t  }\r\n     }\r\n\r\nI tried so far this below but not sure it is correct:\r\n\r\n     @Configuration\r\n     public class SecurityConfig {\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n}\r\n","title":"Adapting to Spring security 6","body":"<p>Due to a migration to Spring security 6 and the WebSecurityConfigurerAdapter deprecation  I need to adapt the security conf below, buit not sure if I am going in the correct way.</p>\n<pre><code> @Configuration\n @EnableWebSecurity\n @EnableGlobalMethodSecurity(prePostEnabled = true)\n public class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Inject\nprivate UserDetailsService userDetailsService;\n    \n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsService)\n        .passwordEncoder(new BCryptPasswordEncoder());\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    \n    http\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n        .authorizeRequests()\n            .antMatchers(&quot;/v1/**&quot;, &quot;/v2/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/api-docs/**&quot;).permitAll()\n            .antMatchers(&quot;/v3/polls/**&quot;).authenticated()\n            .and()\n        .httpBasic()\n            .realmName(&quot;Quick Poll&quot;)\n            .and()\n        .csrf()\n            .disable();\n  }\n }\n</code></pre>\n<p>I tried so far this below but not sure it is correct:</p>\n<pre><code> @Configuration\n public class SecurityConfig {\n\n@Bean\npublic PasswordEncoder encoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","encoding","byte","bit","huffman-code"],"comments":[{"owner":{"account_id":5476147,"reputation":1705,"user_id":5763564,"accept_rate":89,"display_name":"Marijn"},"score":0,"creation_date":1685909873,"post_id":76402189,"comment_id":134723376,"body_markdown":"What is your input, is it text or binary? Could you add the input for these ten bytes to your question?","body":"What is your input, is it text or binary? Could you add the input for these ten bytes to your question?"}],"answers":[{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685912797,"creation_date":1685912797,"answer_id":76402414,"question_id":76402189,"body_markdown":"You are reading your file as if it is text, but it&#39;s not text.\r\n\r\nThere is a special unicode character:\r\n\r\n&gt;  U+FFFD � REPLACEMENT CHARACTER used to replace an unknown, unrecognized, or unrepresentable character\r\n\r\nNote that 11111101 is FD, the lowest 8 bits of that value.\r\n\r\nRather than using `FileReader` and `BufferedReader`, you should be using `FileInputStream` and `BufferedInputStream`. That way, your binary data won&#39;t be corrupted with replacement characters and other unicode things.","title":"My program reads my file, coded using huffman encoding wrong! Most of the bytes end up being &#39;11111101&#39;, even though they&#39;re not. Why is that?","body":"<p>You are reading your file as if it is text, but it's not text.</p>\n<p>There is a special unicode character:</p>\n<blockquote>\n<p>U+FFFD � REPLACEMENT CHARACTER used to replace an unknown, unrecognized, or unrepresentable character</p>\n</blockquote>\n<p>Note that 11111101 is FD, the lowest 8 bits of that value.</p>\n<p>Rather than using <code>FileReader</code> and <code>BufferedReader</code>, you should be using <code>FileInputStream</code> and <code>BufferedInputStream</code>. That way, your binary data won't be corrupted with replacement characters and other unicode things.</p>\n"}],"owner":{"account_id":28751600,"reputation":3,"user_id":22019560,"display_name":"witw2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76402414,"answer_count":1,"score":0,"last_activity_date":1685912962,"creation_date":1685908839,"question_id":76402189,"body_markdown":"Im currently working on my huffman decoder in java. I&#39;ve been stuck on wrong decoding for few days now, and only yesterday I realised it&#39;s bacause my program reads input wrong! I&#39;ve downloaded outside software to read files bit by bit, and it end up being completly different, from what they should be. Please could you help me resolve this issue?\r\n\r\nHeres my code in java, i use to test what input bites I read:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        ...\r\n        try {\r\n            FileReader plikin = new FileReader(property);\r\n            BufferedReader pinh = new BufferedReader(plikin);\r\n            FileWriter plikout = new FileWriter(&quot;out.txt&quot;);\r\n            BufferedWriter pout = new BufferedWriter(plikout);\r\n            printRemainingBits(pinh);\r\n            pout.close();\r\n        }\r\n        ...\r\n    }\r\n\r\nstatic void printRemainingBits(BufferedReader pinh) throws IOException {\r\n        System.out.println(&quot;\\nRemaining Bits:&quot;);\r\n        int c;\r\n        while ((c = pinh.read()) != -1) {\r\n            printCharBits((char) c);\r\n        }\r\n    }\r\n\r\npublic static void printCharBits(char c) {\r\n        for (int i = 7; i &gt;= 0; i--) {\r\n            int bit = (c &gt;&gt; i) &amp; 1;\r\n            System.out.print(bit);\r\n        }\r\n        System.out.print(&quot; &quot;);\r\n    }\r\n```\r\n\r\nIn my file im testing it on correct bit representation is:\r\n\r\n00000100 **10011011** 01110011 00101001 **11100110**\r\n01110010 00110111 **11100100** 01111101 01111111\r\n\r\nBut java code reads them like that:\r\n\r\n00000100 **11111101** 01110011 00101001 **11111101**\r\n01110010 00110111 **11111101** 01111101 01111111\r\n\r\nI really dont know what to do. Thank you in advance!","title":"My program reads my file, coded using huffman encoding wrong! Most of the bytes end up being &#39;11111101&#39;, even though they&#39;re not. Why is that?","body":"<p>Im currently working on my huffman decoder in java. I've been stuck on wrong decoding for few days now, and only yesterday I realised it's bacause my program reads input wrong! I've downloaded outside software to read files bit by bit, and it end up being completly different, from what they should be. Please could you help me resolve this issue?</p>\n<p>Heres my code in java, i use to test what input bites I read:</p>\n<pre><code>public static void main(String[] args) {\n        ...\n        try {\n            FileReader plikin = new FileReader(property);\n            BufferedReader pinh = new BufferedReader(plikin);\n            FileWriter plikout = new FileWriter(&quot;out.txt&quot;);\n            BufferedWriter pout = new BufferedWriter(plikout);\n            printRemainingBits(pinh);\n            pout.close();\n        }\n        ...\n    }\n\nstatic void printRemainingBits(BufferedReader pinh) throws IOException {\n        System.out.println(&quot;\\nRemaining Bits:&quot;);\n        int c;\n        while ((c = pinh.read()) != -1) {\n            printCharBits((char) c);\n        }\n    }\n\npublic static void printCharBits(char c) {\n        for (int i = 7; i &gt;= 0; i--) {\n            int bit = (c &gt;&gt; i) &amp; 1;\n            System.out.print(bit);\n        }\n        System.out.print(&quot; &quot;);\n    }\n</code></pre>\n<p>In my file im testing it on correct bit representation is:</p>\n<p>00000100 <strong>10011011</strong> 01110011 00101001 <strong>11100110</strong>\n01110010 00110111 <strong>11100100</strong> 01111101 01111111</p>\n<p>But java code reads them like that:</p>\n<p>00000100 <strong>11111101</strong> 01110011 00101001 <strong>11111101</strong>\n01110010 00110111 <strong>11111101</strong> 01111101 01111111</p>\n<p>I really dont know what to do. Thank you in advance!</p>\n"},{"tags":["java","graphql","osgi","aem","sling"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1685703281,"post_id":76389343,"comment_id":134701572,"body_markdown":"I don&#39;t see any question here","body":"I don&#39;t see any question here"}],"answers":[{"tags":[],"owner":{"account_id":11074819,"reputation":1673,"user_id":8131885,"display_name":"Alexander Berndt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685911654,"creation_date":1685911654,"answer_id":76402354,"question_id":76389343,"body_markdown":"Adobe already announced, that they are working on this. But until now, you can only query (read) content fragments. So you have to wait.\r\n\r\nThis talk contains some outlook for the next features:\r\n\r\nhttps://experienceleague.adobe.com/docs/events/adobe-developers-live-recordings/2022/nov2022/innovations.html?lang=en","title":"Implementing the Sling Servlet using GraphQl Java","body":"<p>Adobe already announced, that they are working on this. But until now, you can only query (read) content fragments. So you have to wait.</p>\n<p>This talk contains some outlook for the next features:</p>\n<p><a href=\"https://experienceleague.adobe.com/docs/events/adobe-developers-live-recordings/2022/nov2022/innovations.html?lang=en\" rel=\"nofollow noreferrer\">https://experienceleague.adobe.com/docs/events/adobe-developers-live-recordings/2022/nov2022/innovations.html?lang=en</a></p>\n"}],"owner":{"account_id":8031040,"reputation":49,"user_id":6056002,"display_name":"Prince Shivhare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76402354,"answer_count":1,"score":0,"last_activity_date":1685911654,"creation_date":1685701860,"question_id":76389343,"body_markdown":"I am trying to implement the Sling Servlet using GraphQl Java where I am referring to the Java-GraphQl documentation to implement it. I was able to print the sample code using the sling servlet mentioned in the below tutorial but wanted to post the query and get the result.\r\n\r\nhttps://www.graphql-java.com/documentation/getting-started\r\n\r\nUse Case - I will create a servlet endpoint where hitting with a query will fetch the result from AEM. I know GraphQl content fragments have the same type of use case. but those only fetch the content fragment result. but I was looking at something like below -\r\n\r\nExample - \r\n\r\n    query {\r\n      content(path: &quot;/content/test/en&quot;) {\r\n         pageTitle\r\n         resourceType\r\n     }\r\n    }\r\n\r\nResult -\r\n\r\n        {\r\n      &quot;data&quot;: {\r\n        &quot;content&quot;: {\r\n              &quot;pageTitle&quot;: &quot;English&quot;,\r\n              &quot;resourceType&quot;: &quot;/apps/testproject/components/page&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nI am looking to generate the same request-response as above.","title":"Implementing the Sling Servlet using GraphQl Java","body":"<p>I am trying to implement the Sling Servlet using GraphQl Java where I am referring to the Java-GraphQl documentation to implement it. I was able to print the sample code using the sling servlet mentioned in the below tutorial but wanted to post the query and get the result.</p>\n<p><a href=\"https://www.graphql-java.com/documentation/getting-started\" rel=\"nofollow noreferrer\">https://www.graphql-java.com/documentation/getting-started</a></p>\n<p>Use Case - I will create a servlet endpoint where hitting with a query will fetch the result from AEM. I know GraphQl content fragments have the same type of use case. but those only fetch the content fragment result. but I was looking at something like below -</p>\n<p>Example -</p>\n<pre><code>query {\n  content(path: &quot;/content/test/en&quot;) {\n     pageTitle\n     resourceType\n }\n}\n</code></pre>\n<p>Result -</p>\n<pre><code>    {\n  &quot;data&quot;: {\n    &quot;content&quot;: {\n          &quot;pageTitle&quot;: &quot;English&quot;,\n          &quot;resourceType&quot;: &quot;/apps/testproject/components/page&quot;\n        }\n    }\n}\n</code></pre>\n<p>I am looking to generate the same request-response as above.</p>\n"},{"tags":["java","class","oop","linked-list","java-package"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685901189,"post_id":76401699,"comment_id":134722355,"body_markdown":"Because you cannot call an instance method without having an instance. `createLL` is defined in class `CreateAndPrintLL`, so you need to have an object instance of that class on which to call this method.","body":"Because you cannot call an instance method without having an instance. <code>createLL</code> is defined in class <code>CreateAndPrintLL</code>, so you need to have an object instance of that class on which to call this method."},{"owner":{"account_id":28751022,"reputation":1,"user_id":22019130,"display_name":"sushma jain"},"score":0,"creation_date":1685901788,"post_id":76401699,"comment_id":134722426,"body_markdown":"It&#39;s not working even after making the methods static  @knittl","body":"It&#39;s not working even after making the methods static  @knittl"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685901936,"post_id":76401699,"comment_id":134722446,"body_markdown":"The method is still part of a different class and needs to be qualified. Otherwise, how should the compiler know which method you want to call? Compilers cannot read minds.","body":"The method is still part of a different class and needs to be qualified. Otherwise, how should the compiler know which method you want to call? Compilers cannot read minds."},{"owner":{"account_id":28751022,"reputation":1,"user_id":22019130,"display_name":"sushma jain"},"score":0,"creation_date":1685902121,"post_id":76401699,"comment_id":134722464,"body_markdown":"So how do I resolve it @knittl?","body":"So how do I resolve it @knittl?"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1686044934,"post_id":76401699,"comment_id":134741999,"body_markdown":"@092_AshitaVerma, did you check below? Does that resolve it?","body":"@092_AshitaVerma, did you check below? Does that resolve it?"},{"owner":{"account_id":28751022,"reputation":1,"user_id":22019130,"display_name":"sushma jain"},"score":0,"creation_date":1686068867,"post_id":76401699,"comment_id":134747350,"body_markdown":"But why do i need to create an instance even the method is static?","body":"But why do i need to create an instance even the method is static?"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685910841,"creation_date":1685910841,"answer_id":76402312,"question_id":76401699,"body_markdown":"Your main method is trying to access methods of another class. You would need to create an instance of `CreateAndPrintLL` and call the methods in that instance:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        CreateAndPrintLL ll = new CreateAndPrintLL();\r\n        Node head = ll.createLL();\r\n        ll.printLL(head);\r\n    }\r\n```\r\n\r\nThere is an unrelated error in your `CreateAndPrintLL` class, in the `printLL` method: the loop doesn&#39;t modify `temp`, so once it makes an iteration it will keep making more iterations without end.\r\n\r\nFix it like this:\r\n\r\n```\r\n    public void printLL(Node head) {\r\n        Node temp=head;\r\n        while(temp!=null) {\r\n            System.out.print(temp.data); // Depends on how Node exposes data\r\n            temp = temp.next;            // Must move to the next node\r\n        }\r\n        System.out.println();\r\n    }\r\n```\r\n\r\nNB: As I didn&#39;t see the `Node` class I made the assumption that a node&#39;s data is accessed via a `data` instance variable. Adapt if needed.\r\n","title":"Why do I get &quot;The method createLL() is undefined for the type LinkedListUse&quot; error when calling from same package in Java?","body":"<p>Your main method is trying to access methods of another class. You would need to create an instance of <code>CreateAndPrintLL</code> and call the methods in that instance:</p>\n<pre><code>    public static void main(String[] args) {\n        CreateAndPrintLL ll = new CreateAndPrintLL();\n        Node head = ll.createLL();\n        ll.printLL(head);\n    }\n</code></pre>\n<p>There is an unrelated error in your <code>CreateAndPrintLL</code> class, in the <code>printLL</code> method: the loop doesn't modify <code>temp</code>, so once it makes an iteration it will keep making more iterations without end.</p>\n<p>Fix it like this:</p>\n<pre><code>    public void printLL(Node head) {\n        Node temp=head;\n        while(temp!=null) {\n            System.out.print(temp.data); // Depends on how Node exposes data\n            temp = temp.next;            // Must move to the next node\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>NB: As I didn't see the <code>Node</code> class I made the assumption that a node's data is accessed via a <code>data</code> instance variable. Adapt if needed.</p>\n"}],"owner":{"account_id":28751022,"reputation":1,"user_id":22019130,"display_name":"sushma jain"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685910841,"creation_date":1685901067,"question_id":76401699,"body_markdown":"Class linkedListUse\r\n\r\n    package linkedlists;\r\n    \r\n    public class LinkedListUse {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tNode head=createLL();\r\n    \t\tprintLL(head);\r\n    \t}\r\n    \r\n    }\r\n\r\nClass CreateAndPrintLL\r\n\r\n    package linkedlists;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class CreateAndPrintLL {\r\n    \t\r\n    \tpublic Node createLL() {\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tint data=sc.nextInt();\r\n    \t\tNode head=null;\r\n    \t\twhile (data!=-1) {\r\n    \t\t\tNode currentNode=new Node(data);\r\n    \t\t\tif(head==null) {\r\n    \t\t\t\thead=currentNode;\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tNode tail=head;\r\n    \t\t\t\twhile(tail.next!=null) {\r\n    \t\t\t\t\ttail=tail.next;\r\n    \t\t\t\t}\r\n    \t\t\t\ttail.next=currentNode;\r\n    \t\t\t}\r\n    \t\t\tdata=sc.nextInt();\r\n    \t\t}\r\n    \t\treturn head;\r\n    \t}\r\n    \t\r\n    \tpublic void printLL(Node head) {\r\n    \t\tNode temp=head;\r\n    \t\twhile(temp!=null) {\r\n    \t\t\tSystem.out.print(temp.next);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI&#39;m facing error in my code, int main method i&#39;m trying to call createLL method but it&#39;s showing me-**The method createLL() is undefined for the type LinkedListUse** error inspite of bioth the classes being in the same package....WHY IS THAT?","title":"Why do I get &quot;The method createLL() is undefined for the type LinkedListUse&quot; error when calling from same package in Java?","body":"<p>Class linkedListUse</p>\n<pre><code>package linkedlists;\n\npublic class LinkedListUse {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        Node head=createLL();\n        printLL(head);\n    }\n\n}\n</code></pre>\n<p>Class CreateAndPrintLL</p>\n<pre><code>package linkedlists;\n\nimport java.util.Scanner;\n\npublic class CreateAndPrintLL {\n    \n    public Node createLL() {\n        Scanner sc=new Scanner(System.in);\n        int data=sc.nextInt();\n        Node head=null;\n        while (data!=-1) {\n            Node currentNode=new Node(data);\n            if(head==null) {\n                head=currentNode;\n            }\n            else {\n                Node tail=head;\n                while(tail.next!=null) {\n                    tail=tail.next;\n                }\n                tail.next=currentNode;\n            }\n            data=sc.nextInt();\n        }\n        return head;\n    }\n    \n    public void printLL(Node head) {\n        Node temp=head;\n        while(temp!=null) {\n            System.out.print(temp.next);\n        }\n        System.out.println();\n    }\n    \n}\n</code></pre>\n<p>I'm facing error in my code, int main method i'm trying to call createLL method but it's showing me-<strong>The method createLL() is undefined for the type LinkedListUse</strong> error inspite of bioth the classes being in the same package....WHY IS THAT?</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":2135367,"reputation":10205,"user_id":1895303,"accept_rate":100,"display_name":"Daahrien"},"score":0,"creation_date":1389560768,"post_id":21079122,"comment_id":31705409,"body_markdown":"Gdx.graphics.getWidth(); will only give you 500 if your device screen width is also 500.","body":"Gdx.graphics.getWidth(); will only give you 500 if your device screen width is also 500."}],"answers":[{"tags":[],"owner":{"account_id":306417,"reputation":11887,"user_id":617157,"accept_rate":65,"display_name":"Arash"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1389587517,"creation_date":1389587517,"answer_id":21083929,"question_id":21079122,"body_markdown":"You cannot change the size of the windows by changing the camera. They are two separate concepts.\r\n\r\n\r\nYou set the size on desktop application in your main method through config lwjpg . \r\nAndroid application is full screen anyway.\r\n\r\n    LwjglApplicationConfiguration cfg = new LwjglApplicationConfiguration();\r\n    cfg.title = &quot;Title&quot;;\r\n    cfg.useGL20 = true;\r\n    cfg.height = 640;\r\n    cfg.width = 360;\r\n    new LwjglApplication(new MyGame(), cfg);\r\n\r\n\r\n","title":"How to change libgdx different window size?","body":"<p>You cannot change the size of the windows by changing the camera. They are two separate concepts.</p>\n\n<p>You set the size on desktop application in your main method through config lwjpg . \nAndroid application is full screen anyway.</p>\n\n<pre><code>LwjglApplicationConfiguration cfg = new LwjglApplicationConfiguration();\ncfg.title = \"Title\";\ncfg.useGL20 = true;\ncfg.height = 640;\ncfg.width = 360;\nnew LwjglApplication(new MyGame(), cfg);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2356000,"reputation":963,"user_id":2063766,"display_name":"sandeep kundliya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1389598621,"creation_date":1389598621,"answer_id":21086071,"question_id":21079122,"body_markdown":"do this in your desktop project \r\n\r\n    cfg.width=500;\r\n    cfg.height=500;\r\n\r\nand in your main class\r\n\r\n    int ANDROID_WIDTH = Gdx.graphics.getWidth();\r\n    int ANDROID_HEIGHT = Gdx.graphics.getHeight();\r\n\r\n    camera = new OrthographicCamera();\r\n    camera.setToOrtho(false, ANDROID_WIDTH, ANDROID_HEIGHT);\r\n    camera.update();\r\n","title":"How to change libgdx different window size?","body":"<p>do this in your desktop project </p>\n\n<pre><code>cfg.width=500;\ncfg.height=500;\n</code></pre>\n\n<p>and in your main class</p>\n\n<pre><code>int ANDROID_WIDTH = Gdx.graphics.getWidth();\nint ANDROID_HEIGHT = Gdx.graphics.getHeight();\n\ncamera = new OrthographicCamera();\ncamera.setToOrtho(false, ANDROID_WIDTH, ANDROID_HEIGHT);\ncamera.update();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3838250,"reputation":9521,"user_id":3182091,"accept_rate":91,"display_name":"Robert P"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1504277529,"creation_date":1389686236,"answer_id":21108437,"question_id":21079122,"body_markdown":"You can give the Window size on Startup:\r\n\r\n    new LwjglApplication(yourApplicationListener(), &quot;Title&quot;, 500, 500, true/false (useGL2));\r\n\r\nYou can also Change it in your game using:\r\n\r\n    Gdx.graphics.setDisplayMode(500, 500, true/false (fullscreen));\r\n\r\nYou can surround this by an if Statement like stuntmania said:\r\n\r\n    if (Gdx.app.getType().equals(ApplicationType.Android)) {\r\n        Gdx.graphics.setDisplayMode(500, 500, false);\r\n    } else {\r\n        Gdx.graphics.setDisplayMode(Gdx.graphics.getWidth(),Gdx.graphics.getHeight(), true);\r\n    }\r\n\r\n**EDIT:**\r\nIn LibGDX 1.8 the Method `Gdx.graphics.setDisplayMode` has been renamed to `Gdx.graphics.setWindowedMode`:\r\n&gt; API Change: `Graphics#setDisplayMode(int, int, boolean)` has been renamed to \r\n  `Graphics#setWindowedMode(int, int)`. This will NOT allow you to switch to fullscreen anymore, \r\n  use `Graphics#setFullscreenMode()` instead. If the window is in fullscreen mode, it will be\r\n  switched to windowed mode on the monitor the window was in fullscreen mode on.\r\n\r\n([Source][1])\r\n\r\n  [1]: https://github.com/libgdx/libgdx/blob/master/CHANGES#L150","title":"How to change libgdx different window size?","body":"<p>You can give the Window size on Startup:</p>\n\n<pre><code>new LwjglApplication(yourApplicationListener(), \"Title\", 500, 500, true/false (useGL2));\n</code></pre>\n\n<p>You can also Change it in your game using:</p>\n\n<pre><code>Gdx.graphics.setDisplayMode(500, 500, true/false (fullscreen));\n</code></pre>\n\n<p>You can surround this by an if Statement like stuntmania said:</p>\n\n<pre><code>if (Gdx.app.getType().equals(ApplicationType.Android)) {\n    Gdx.graphics.setDisplayMode(500, 500, false);\n} else {\n    Gdx.graphics.setDisplayMode(Gdx.graphics.getWidth(),Gdx.graphics.getHeight(), true);\n}\n</code></pre>\n\n<p><strong>EDIT:</strong>\nIn LibGDX 1.8 the Method <code>Gdx.graphics.setDisplayMode</code> has been renamed to <code>Gdx.graphics.setWindowedMode</code>:</p>\n\n<blockquote>\n  <p>API Change: <code>Graphics#setDisplayMode(int, int, boolean)</code> has been renamed to \n    <code>Graphics#setWindowedMode(int, int)</code>. This will NOT allow you to switch to fullscreen anymore, \n    use <code>Graphics#setFullscreenMode()</code> instead. If the window is in fullscreen mode, it will be\n    switched to windowed mode on the monitor the window was in fullscreen mode on.</p>\n</blockquote>\n\n<p>(<a href=\"https://github.com/libgdx/libgdx/blob/master/CHANGES#L150\" rel=\"nofollow noreferrer\">Source</a>)</p>\n"},{"tags":[],"owner":{"account_id":19180265,"reputation":116,"user_id":22019701,"display_name":"Andr&#233; Zmuda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685910660,"creation_date":1685910660,"answer_id":76402292,"question_id":21079122,"body_markdown":"Since time passed by, some things changed compared to the post of @Arash:\r\n\r\nIf you use `Lwjgl3ApplicationConfiguration` instead of `LwjglApplicationConfiguration`, then you have to use `setWindowMode` instead of  `height` and `width`:\r\n\r\n``` lang-java\r\nLwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\r\nconfig.setForegroundFPS(60);\r\nconfig.setTitle(&quot;Title&quot;);\r\nconfig.setWindowedMode(1800, 1000);\r\n    \t\t\r\nnew Lwjgl3Application(new MyGame(), config);\r\n```\r\n","title":"How to change libgdx different window size?","body":"<p>Since time passed by, some things changed compared to the post of @Arash:</p>\n<p>If you use <code>Lwjgl3ApplicationConfiguration</code> instead of <code>LwjglApplicationConfiguration</code>, then you have to use <code>setWindowMode</code> instead of  <code>height</code> and <code>width</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\nconfig.setForegroundFPS(60);\nconfig.setTitle(&quot;Title&quot;);\nconfig.setWindowedMode(1800, 1000);\n            \nnew Lwjgl3Application(new MyGame(), config);\n</code></pre>\n"}],"owner":{"account_id":3032099,"reputation":171,"user_id":2570888,"display_name":"user2570888"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33807,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1685910660,"creation_date":1389554392,"question_id":21079122,"body_markdown":"How to change size in libgdx-android-desktop? I am confuse on window sizeing and not sure how to solve this problem.\r\n\r\nSo for desktop window i want 500x500 but with android i want full screen so i cant hard code it.  \r\nFor some reason ANDROID_WIDTH is always equal to WINDOW_WIDTH.\r\n\r\n     int WINDOW_WIDTH = 500;\r\n     int WINDOW_WIDTH = 500;\r\n\r\n    public void create() {\r\n\t\tif (Gdx.app.getType() == ApplicationType.Android) {\r\n\t\t\tint ANDROID_WIDTH = Gdx.graphics.getWidth();\r\n\t\t\tint ANDROID_HEIGHT = Gdx.graphics.getHeight();\r\n\t\t\tcamera = new OrthographicCamera(ANDROID_WIDTH, ANDROID_HEIGHT);\r\n\t\t\tcamera.translate(ANDROID_WIDTH/2, ANDROID_HEIGHT/2);\r\n\t\t\tcamera.update();\r\n\t\t} else {\r\n\t\t\tcamera = new OrthographicCamera(WINDOW_WIDTH, WINDOW_HEIGHT);\r\n\t\t\tcamera.translate(WINDOW_WIDTH / 2, WINDOW_HEIGHT / 2);\r\n\t\t\tcamera.update();\r\n\t\t}\r\n\t\t\r\n\t\tGdx.input.setInputProcessor(new GameInputProcessor());\r\n\t}","title":"How to change libgdx different window size?","body":"<p>How to change size in libgdx-android-desktop? I am confuse on window sizeing and not sure how to solve this problem.</p>\n\n<p>So for desktop window i want 500x500 but with android i want full screen so i cant hard code it.<br>\nFor some reason ANDROID_WIDTH is always equal to WINDOW_WIDTH.</p>\n\n<pre><code> int WINDOW_WIDTH = 500;\n int WINDOW_WIDTH = 500;\n\npublic void create() {\n    if (Gdx.app.getType() == ApplicationType.Android) {\n        int ANDROID_WIDTH = Gdx.graphics.getWidth();\n        int ANDROID_HEIGHT = Gdx.graphics.getHeight();\n        camera = new OrthographicCamera(ANDROID_WIDTH, ANDROID_HEIGHT);\n        camera.translate(ANDROID_WIDTH/2, ANDROID_HEIGHT/2);\n        camera.update();\n    } else {\n        camera = new OrthographicCamera(WINDOW_WIDTH, WINDOW_HEIGHT);\n        camera.translate(WINDOW_WIDTH / 2, WINDOW_HEIGHT / 2);\n        camera.update();\n    }\n\n    Gdx.input.setInputProcessor(new GameInputProcessor());\n}\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1683386197,"post_id":76189495,"comment_id":134360449,"body_markdown":"What is in `cert.pem`? Is it a certificate for the service the client wants to access? Or a certificate for the client (because the service requires client certificates)? Similarly, what is in the CA file? And why do you need the key file? What is it a key file _for_? (Not for the service the client wants to access, I assume, as the client should never have that).","body":"What is in <code>cert.pem</code>? Is it a certificate for the service the client wants to access? Or a certificate for the client (because the service requires client certificates)? Similarly, what is in the CA file? And why do you need the key file? What is it a key file <i>for</i>? (Not for the service the client wants to access, I assume, as the client should never have that)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1683386453,"post_id":76189495,"comment_id":134360478,"body_markdown":"Possibly related: [Apache HttpClient and PEM certificate files](https://stackoverflow.com/q/4146624/12567365), and [Including a .pem certificate in a Java HTTP request](https://stackoverflow.com/q/47161402/12567365) - and [similar questions](https://www.google.com/search?q=apache+httpclient+use+pem+files+site:stackoverflow.com).","body":"Possibly related: <a href=\"https://stackoverflow.com/q/4146624/12567365\">Apache HttpClient and PEM certificate files</a>, and <a href=\"https://stackoverflow.com/q/47161402/12567365\">Including a .pem certificate in a Java HTTP request</a> - and <a href=\"https://www.google.com/search?q=apache+httpclient+use+pem+files+site:stackoverflow.com\" rel=\"nofollow noreferrer\">similar questions</a>."},{"owner":{"account_id":396541,"reputation":659,"user_id":760147,"accept_rate":86,"display_name":"Robert Wilson"},"score":0,"creation_date":1683386894,"post_id":76189495,"comment_id":134360524,"body_markdown":"@andrewJames, ```ca.pem``` and ```cert.pem``` are both certificates and ```key.pem``` is RSA private key","body":"@andrewJames, <code>ca.pem</code> and <code>cert.pem</code> are both certificates and <code>key.pem</code> is RSA private key"},{"owner":{"account_id":396541,"reputation":659,"user_id":760147,"accept_rate":86,"display_name":"Robert Wilson"},"score":0,"creation_date":1683387486,"post_id":76189495,"comment_id":134360596,"body_markdown":"@andrewJames. Also, note, these are not certificates I generated. It was shared by a client. I&#39;ve seen the related posts and they are both slightly different solutions. I possibly would want to avoid converting the certs to .p12","body":"@andrewJames. Also, note, these are not certificates I generated. It was shared by a client. I&#39;ve seen the related posts and they are both slightly different solutions. I possibly would want to avoid converting the certs to .p12"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1683389267,"post_id":76189495,"comment_id":134360835,"body_markdown":"Right - but certificates and key file _**for what**_? So, for `cert.pem` - what is it? Is it a certificate for the service the client wants to access? Or a certificate for the client (because the service requires client certificates)? (Also the use of the word &quot;client&quot; may be confusing here - &quot;client&quot; as in &quot;my ApacheClient program&quot; and &quot;client&quot; as in some other people I am working for...).","body":"Right - but certificates and key file <i><b>for what</b></i>? So, for <code>cert.pem</code> - what is it? Is it a certificate for the service the client wants to access? Or a certificate for the client (because the service requires client certificates)? (Also the use of the word &quot;client&quot; may be confusing here - &quot;client&quot; as in &quot;my ApacheClient program&quot; and &quot;client&quot; as in some other people I am working for...)."},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1683412351,"post_id":76189495,"comment_id":134363530,"body_markdown":"I think this is the answer you are looking for which I have posted here: https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting/66297869#66297869","body":"I think this is the answer you are looking for which I have posted here: <a href=\"https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting/66297869#66297869\" title=\"how to build a sslsocketfactory from pem certificate and key without converting\">stackoverflow.com/questions/42675033/&hellip;</a>"},{"owner":{"account_id":396541,"reputation":659,"user_id":760147,"accept_rate":86,"display_name":"Robert Wilson"},"score":0,"creation_date":1683538069,"post_id":76189495,"comment_id":134376628,"body_markdown":"@Hakan54. Thanks for sharing, however, I&#39;m getting the exception below.\n\n```No valid InputStream has been provided. InputStream must be present, but was absent.```\nThe ```.pem``` files are located in a folder named ```certs``` under ```resources```.","body":"@Hakan54. Thanks for sharing, however, I&#39;m getting the exception below.  <code>No valid InputStream has been provided. InputStream must be present, but was absent.</code> The <code>.pem</code> files are located in a folder named <code>certs</code> under <code>resources</code>."},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":1,"creation_date":1683540017,"post_id":76189495,"comment_id":134377044,"body_markdown":"It seems like you are providing a InputStream, which should work but it seems like the inputstream which you have loaded yourself is null and therefor it is throwing that exception. It would be maybe better to delegate the loading of the file to the library, can you maybe try: `PemUtils.loadTrustMaterial(&quot;certs/ca.pem&quot;);` and `PemUtils.loadIdentityMaterial(&quot;certs/cert.pem&quot;, &quot;certs/key.pem&quot;)`;","body":"It seems like you are providing a InputStream, which should work but it seems like the inputstream which you have loaded yourself is null and therefor it is throwing that exception. It would be maybe better to delegate the loading of the file to the library, can you maybe try: <code>PemUtils.loadTrustMaterial(&quot;certs&#47;ca.pem&quot;);</code> and <code>PemUtils.loadIdentityMaterial(&quot;certs&#47;cert.pem&quot;, &quot;certs&#47;key.pem&quot;)</code>;"},{"owner":{"account_id":396541,"reputation":659,"user_id":760147,"accept_rate":86,"display_name":"Robert Wilson"},"score":0,"creation_date":1683541617,"post_id":76189495,"comment_id":134377338,"body_markdown":"@Hakan54. It worked. Thanks a lot. Can you kindly convert this to an answer so I can accept it? Somebody might be needing this solution too I guess.","body":"@Hakan54. It worked. Thanks a lot. Can you kindly convert this to an answer so I can accept it? Somebody might be needing this solution too I guess."}],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685910325,"creation_date":1683545529,"answer_id":76200182,"question_id":76189495,"body_markdown":"I have guided the OP and provided the answer in the comment section of his question. The solution did work, so I am posting it here.\r\n\r\nJava is limited and verbose of handling all of the different pem files. In the past I wanted also to load pem files for different projects and to make it reusable I created a library which does the trick. The solution which I provided to the OP for an apache http client is:\r\n\r\n**Option 1**\r\n\r\nYou first need to add the following dependency [GitHub - SSLContext Kickstart][1]:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd then you can use the following code snippet:\r\n```java\r\nimport nl.altindag.ssl.SSLFactory;\r\nimport nl.altindag.ssl.pem.util.PemUtils;\r\nimport org.apache.http.client.HttpClient;\r\nimport org.apache.http.impl.client.HttpClients;\r\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\r\n\r\nimport javax.net.ssl.X509ExtendedKeyManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(&quot;certs/cert.pem&quot;, &quot;certs/key.pem&quot;);\r\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(&quot;certs/ca.pem&quot;);\r\n\r\n        SSLFactory sslFactory = SSLFactory.builder()\r\n                .withIdentityMaterial(keyManager)\r\n                .withTrustMaterial(trustManager)\r\n                .build();\r\n\r\n        HttpClient httpclient = HttpClients.custom()\r\n                .setSSLContext(sslFactory.getSslContext())\r\n                .build();\r\n\r\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n        requestFactory.setHttpClient(httpclient);\r\n    }\r\n    \r\n}\r\n``` \r\n\r\n**Option 2**\r\n\r\nIf you don&#39;t want the above library and you don&#39;t have an encrypted private keys and just certificates as pem files, then you can also give the following example from another answer a try: https://stackoverflow.com/a/42733858/6777695 That one provides an example in just plain java how to parse a pem file. If you have an encrypted private key it will get a bit more verbose, see here for more: https://stackoverflow.com/questions/63832456/parsing-encrypted-pkcs8-encoded-pem-file-programatically\r\n\r\n  [1]: https://github.com/Hakky54/sslcontext-kickstart","title":"Adding .pem files to Apache HttpClient","body":"<p>I have guided the OP and provided the answer in the comment section of his question. The solution did work, so I am posting it here.</p>\n<p>Java is limited and verbose of handling all of the different pem files. In the past I wanted also to load pem files for different projects and to make it reusable I created a library which does the trick. The solution which I provided to the OP for an apache http client is:</p>\n<p><strong>Option 1</strong></p>\n<p>You first need to add the following dependency <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">GitHub - SSLContext Kickstart</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then you can use the following code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.altindag.ssl.SSLFactory;\nimport nl.altindag.ssl.pem.util.PemUtils;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\n\nimport javax.net.ssl.X509ExtendedKeyManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\n\npublic class App {\n\n    public static void main(String[] args) {\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(&quot;certs/cert.pem&quot;, &quot;certs/key.pem&quot;);\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(&quot;certs/ca.pem&quot;);\n\n        SSLFactory sslFactory = SSLFactory.builder()\n                .withIdentityMaterial(keyManager)\n                .withTrustMaterial(trustManager)\n                .build();\n\n        HttpClient httpclient = HttpClients.custom()\n                .setSSLContext(sslFactory.getSslContext())\n                .build();\n\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n        requestFactory.setHttpClient(httpclient);\n    }\n    \n}\n</code></pre>\n<p><strong>Option 2</strong></p>\n<p>If you don't want the above library and you don't have an encrypted private keys and just certificates as pem files, then you can also give the following example from another answer a try: <a href=\"https://stackoverflow.com/a/42733858/6777695\">https://stackoverflow.com/a/42733858/6777695</a> That one provides an example in just plain java how to parse a pem file. If you have an encrypted private key it will get a bit more verbose, see here for more: <a href=\"https://stackoverflow.com/questions/63832456/parsing-encrypted-pkcs8-encoded-pem-file-programatically\">Parsing encrypted PKCS#8 encoded pem file programatically</a></p>\n"}],"owner":{"account_id":396541,"reputation":659,"user_id":760147,"accept_rate":86,"display_name":"Robert Wilson"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76200182,"answer_count":1,"score":1,"last_activity_date":1685910325,"creation_date":1683384252,"question_id":76189495,"body_markdown":"I need to add these 3 pem files (```ca.pem```, ```key.pem```, and ```cert.pem```) to my http client in order to access a client&#39;s service.\r\n\r\nHow do I get these to work with my existing httpclient?\r\nAny help will be appreciated.\r\n\r\nThank you.\r\n\r\n```\r\n\r\nFile caFile = new File(getClass().getResource(&quot;/certs/ca.pem&quot;).getPath());\r\nFile keyFile = new File(getClass().getResource(&quot;/certs/key.pem&quot;).getPath());\r\nFile certFile = new File(getClass().getResource(&quot;/certs/cert.pem&quot;).getPath());\r\n\r\n\r\nSSLContext sslContext = new SSLContextBuilder()\r\n            .loadTrustMaterial(null, ( certificate, authType ) -&gt; true).build();\r\n\r\nCloseableHttpClient httpClient = HttpClients.custom()\r\n            .setSSLContext(sslContext)\r\n            .setSSLHostnameVerifier(new NoopHostnameVerifier())\r\n            .addInterceptorFirst((HttpRequestInterceptor) ( httpRequest, httpContext ) -&gt; {\r\n                httpRequest.setHeader(&quot;Content-Type&quot;, &quot;application/xml&quot;);\r\n            })\r\n            .build();\r\n\r\nHttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n        requestFactory.setHttpClient(httpClient);\r\n```","title":"Adding .pem files to Apache HttpClient","body":"<p>I need to add these 3 pem files (<code>ca.pem</code>, <code>key.pem</code>, and <code>cert.pem</code>) to my http client in order to access a client's service.</p>\n<p>How do I get these to work with my existing httpclient?\nAny help will be appreciated.</p>\n<p>Thank you.</p>\n<pre><code>\nFile caFile = new File(getClass().getResource(&quot;/certs/ca.pem&quot;).getPath());\nFile keyFile = new File(getClass().getResource(&quot;/certs/key.pem&quot;).getPath());\nFile certFile = new File(getClass().getResource(&quot;/certs/cert.pem&quot;).getPath());\n\n\nSSLContext sslContext = new SSLContextBuilder()\n            .loadTrustMaterial(null, ( certificate, authType ) -&gt; true).build();\n\nCloseableHttpClient httpClient = HttpClients.custom()\n            .setSSLContext(sslContext)\n            .setSSLHostnameVerifier(new NoopHostnameVerifier())\n            .addInterceptorFirst((HttpRequestInterceptor) ( httpRequest, httpContext ) -&gt; {\n                httpRequest.setHeader(&quot;Content-Type&quot;, &quot;application/xml&quot;);\n            })\n            .build();\n\nHttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n        requestFactory.setHttpClient(httpClient);\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":2,"creation_date":1412308652,"post_id":26173073,"comment_id":41035056,"body_markdown":"The problem is that your current algorithm is O(N^2) and it will take too much time in an array of 100 elements. Try to change your algorithm to use an O(Nlog2N) algorithm or even better, move this into a linear algorithm.","body":"The problem is that your current algorithm is O(N^2) and it will take too much time in an array of 100 elements. Try to change your algorithm to use an O(Nlog2N) algorithm or even better, move this into a linear algorithm."},{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":1,"creation_date":1412308738,"post_id":26173073,"comment_id":41035075,"body_markdown":"http://www.programcreek.com/2012/12/leetcode-solution-of-two-sum-in-java/","body":"<a href=\"http://www.programcreek.com/2012/12/leetcode-solution-of-two-sum-in-java/\" rel=\"nofollow noreferrer\">programcreek.com/2012/12/leetcode-solution-of-two-sum-in-jav&zwnj;&#8203;a</a>"},{"owner":{"account_id":4485715,"reputation":629,"user_id":3648429,"accept_rate":61,"display_name":"Alexander"},"score":0,"creation_date":1412309014,"post_id":26173073,"comment_id":41035119,"body_markdown":"@LuiggiMendoza thank you, but the solution will work. The problem is that it is not efficient.","body":"@LuiggiMendoza thank you, but the solution will work. The problem is that it is not efficient."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1412309052,"post_id":26173073,"comment_id":41035126,"body_markdown":"Again, it&#39;s not that your current solution doesn&#39;t solve the problem, but your algorithm is **too slow**.","body":"Again, it&#39;s not that your current solution doesn&#39;t solve the problem, but your algorithm is <b>too slow</b>."}],"answers":[{"tags":[],"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412311641,"creation_date":1412311641,"answer_id":26173418,"question_id":26173073,"body_markdown":"This MAY reduce the timing issue, but I cannot guarantee that it would solve the problem entirely!\r\n\r\nYou can `return` the solution (`result`) as soon as it is found, as it is stated in the problem that exactly one solution exists for a given problem, i.e.\r\n\r\n    if(sum == target)\r\n    {\r\n        result[0]=i;\r\n        result[1]=j;\r\n        return result;\r\n    }\r\n\r\nrather than continuing to search the rest of the input.","title":"Two sums in Java from leetcode","body":"<p>This MAY reduce the timing issue, but I cannot guarantee that it would solve the problem entirely!</p>\n\n<p>You can <code>return</code> the solution (<code>result</code>) as soon as it is found, as it is stated in the problem that exactly one solution exists for a given problem, i.e.</p>\n\n<pre><code>if(sum == target)\n{\n    result[0]=i;\n    result[1]=j;\n    return result;\n}\n</code></pre>\n\n<p>rather than continuing to search the rest of the input.</p>\n"},{"tags":[],"owner":{"account_id":4439720,"reputation":51,"user_id":3614533,"display_name":"user3614533"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620767011,"creation_date":1620767011,"answer_id":67494320,"question_id":26173073,"body_markdown":"public int[] twoSum(int[] nums, int target) {\r\n        int[] indices = new int[2];\r\n        \r\n        for(int x = 0; x &lt; nums.length ; x++){\r\n            for(int y = 0; y &lt; nums.length ; y++){\r\n                if(x != y &amp;&amp; nums[x] + nums[y] == target){\r\n                indices[0] = x;\r\n                indices[1] = y;\r\n                return indices;\r\n            }\r\n            }\r\n        }\r\n        return indices;\r\n    }\r\n}\r\n","title":"Two sums in Java from leetcode","body":"<p>public int[] twoSum(int[] nums, int target) {\nint[] indices = new int[2];</p>\n<pre><code>    for(int x = 0; x &lt; nums.length ; x++){\n        for(int y = 0; y &lt; nums.length ; y++){\n            if(x != y &amp;&amp; nums[x] + nums[y] == target){\n            indices[0] = x;\n            indices[1] = y;\n            return indices;\n        }\n        }\n    }\n    return indices;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":6802000,"reputation":6032,"user_id":5235032,"accept_rate":75,"display_name":"Jayanth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624784402,"creation_date":1624784402,"answer_id":68149523,"question_id":26173073,"body_markdown":"That&#39;s because your solution has O(n*n) time complexity. and this problem can be solved by O(n) time complexity if you make use of Map\r\n\r\n \r\n\r\n    public int[] twoSum(int[] nums, int target) {\r\n            Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\r\n            for(int i =0; i&lt; nums.length; i++) {\r\n                if(map.containsKey(target - nums[i])){\r\n                    return new int[]{map.get(target - nums[i]), i};\r\n                }else {\r\n                    map.put(nums[i], i);\r\n                }\r\n            }\r\n            return new int[]{-1,-1};\r\n        }","title":"Two sums in Java from leetcode","body":"<p>That's because your solution has O(n*n) time complexity. and this problem can be solved by O(n) time complexity if you make use of Map</p>\n<pre><code>public int[] twoSum(int[] nums, int target) {\n        Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\n        for(int i =0; i&lt; nums.length; i++) {\n            if(map.containsKey(target - nums[i])){\n                return new int[]{map.get(target - nums[i]), i};\n            }else {\n                map.put(nums[i], i);\n            }\n        }\n        return new int[]{-1,-1};\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2153532,"reputation":5941,"user_id":1909241,"display_name":"fgul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629730814,"creation_date":1629730814,"answer_id":68894844,"question_id":26173073,"body_markdown":"This is a [leetcode question][1].\r\n\r\nOf course there is an efficient solution. **Time complexity is O(n)**. \r\n\r\n    class Solution {\r\n        public int[] twoSum(int[] nums, int target) {\r\n    \r\n            HashMap&lt;Integer, Integer&gt; map = new HashMap();\r\n            \r\n            /* 2, 7, 11, 15  ==  target=9\r\n             * 0  1   2   3  =&gt; 4\r\n             *  \r\n             *    --HasMap--\r\n             *  key   value(index)\r\n             *   2  -&gt;  0\r\n             *   7  -&gt;  1\r\n             *\r\n            */\r\n            for(int i=0; i&lt;nums.length; i++) {\r\n               int expectedKey = target - nums[i];\r\n               if(map.containsKey(expectedKey)) {\r\n                   return new int[]{map.get(expectedKey), i};\r\n               }\r\n               map.put(nums[i], i);\r\n            }\r\n                 \r\n            throw new IllegalArgumentException(&quot;No Solution&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://leetcode.com/problems/two-sum/","title":"Two sums in Java from leetcode","body":"<p>This is a <a href=\"https://leetcode.com/problems/two-sum/\" rel=\"nofollow noreferrer\">leetcode question</a>.</p>\n<p>Of course there is an efficient solution. <strong>Time complexity is O(n)</strong>.</p>\n<pre><code>class Solution {\n    public int[] twoSum(int[] nums, int target) {\n\n        HashMap&lt;Integer, Integer&gt; map = new HashMap();\n        \n        /* 2, 7, 11, 15  ==  target=9\n         * 0  1   2   3  =&gt; 4\n         *  \n         *    --HasMap--\n         *  key   value(index)\n         *   2  -&gt;  0\n         *   7  -&gt;  1\n         *\n        */\n        for(int i=0; i&lt;nums.length; i++) {\n           int expectedKey = target - nums[i];\n           if(map.containsKey(expectedKey)) {\n               return new int[]{map.get(expectedKey), i};\n           }\n           map.put(nums[i], i);\n        }\n             \n        throw new IllegalArgumentException(&quot;No Solution&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24429244,"reputation":1,"user_id":18354400,"display_name":"Hoang Nguyen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659282185,"creation_date":1659062518,"answer_id":73161103,"question_id":26173073,"body_markdown":"```java\r\nclass Solution {\r\n    public int[] twoSum(int[] nums, int target) {\r\n        int[] a = new int[2];\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            for (int j = i + 1; j &lt; nums.length; j++) {\r\n                if (nums[i] + nums[j] == target) {\r\n                    a[0] = i;\r\n                    a[1] = j;\r\n                }\r\n            }\r\n        }\r\n        return a;\r\n    }\r\n}\r\n```","title":"Two sums in Java from leetcode","body":"<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public int[] twoSum(int[] nums, int target) {\n        int[] a = new int[2];\n        for (int i = 0; i &lt; nums.length; i++) {\n            for (int j = i + 1; j &lt; nums.length; j++) {\n                if (nums[i] + nums[j] == target) {\n                    a[0] = i;\n                    a[1] = j;\n                }\n            }\n        }\n        return a;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24489094,"reputation":31,"user_id":18406418,"display_name":"Pritee Moule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685909939,"creation_date":1685909939,"answer_id":76402251,"question_id":26173073,"body_markdown":"   Below is the answer for LeetCode question Two Sums.\r\n    \r\n    class Solution {\r\n        public int[] twoSum(int[] nums, int target) {\r\n            int[] resultArray = new int[2];\r\n    \r\n            for(int i=0; i&lt;=nums.length; i++){\r\n                for(int j=0; j&lt;=nums.length - 1; j++){\r\n                int sum = nums[i] + nums[j];\r\n    \r\n                if(i != j &amp;&amp; sum == target){\r\n                    resultArray[0] = i;\r\n                    resultArray[1] = j;\r\n                    return resultArray;\r\n                    //System.out.println(&quot;\\n[&quot; + nums[i] + &quot;,&quot; + nums[i+1] + &quot;]&quot;);\r\n                }\r\n            }\r\n            }\r\n                return resultArray;\r\n        }\r\n    }","title":"Two sums in Java from leetcode","body":"<p>Below is the answer for LeetCode question Two Sums.</p>\n<pre><code>class Solution {\n    public int[] twoSum(int[] nums, int target) {\n        int[] resultArray = new int[2];\n\n        for(int i=0; i&lt;=nums.length; i++){\n            for(int j=0; j&lt;=nums.length - 1; j++){\n            int sum = nums[i] + nums[j];\n\n            if(i != j &amp;&amp; sum == target){\n                resultArray[0] = i;\n                resultArray[1] = j;\n                return resultArray;\n                //System.out.println(&quot;\\n[&quot; + nums[i] + &quot;,&quot; + nums[i+1] + &quot;]&quot;);\n            }\n        }\n        }\n            return resultArray;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4485715,"reputation":629,"user_id":3648429,"accept_rate":61,"display_name":"Alexander"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16490,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1685909939,"creation_date":1412308478,"question_id":26173073,"body_markdown":"I am working in leetcode problems. I just solved the following problem:\r\n\r\nGiven an array of integers, find two numbers such that they add up to a specific target number.\r\n\r\nThe function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.\r\n\r\nYou may assume that each input would have exactly one solution.\r\n\r\nInput: numbers={2, 7, 11, 15}, target=9\r\nOutput: index1=1, index2=2\r\n\r\nMy code is here:\r\n\r\n    public class Solution {\r\n        public int[] twoSum(int[] numbers, int target) {\r\n            \r\n            \tint len = numbers.length;\r\n    \r\n    \t\tint[] result = new int[2] ;\r\n    \t\tint number1 = 0;\r\n    \t\tint sum = 0;\r\n    \r\n    \t\tfor (int i = 0; i &lt; len; i++) {\r\n    \t\t\tnumber1 = numbers[i];\r\n    \r\n    \t\t\tfor(int j = i+1; j &lt; len; j++)\r\n    \t\t\t{\r\n    \r\n    \t\t\t\tsum = number1+numbers[j];\t\t\r\n    \t\t\t\tif(sum == target)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tresult[0]=i;\r\n    \t\t\t\t\tresult[1]=j;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t}\r\n    \t\treturn result;\r\n        }\r\n    }\r\n\r\nIt gives me a time limited exceeded; however, I think this solution might work. Can anyone tell me if this solution is good enough?","title":"Two sums in Java from leetcode","body":"<p>I am working in leetcode problems. I just solved the following problem:</p>\n<p>Given an array of integers, find two numbers such that they add up to a specific target number.</p>\n<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p>\n<p>You may assume that each input would have exactly one solution.</p>\n<p>Input: numbers={2, 7, 11, 15}, target=9\nOutput: index1=1, index2=2</p>\n<p>My code is here:</p>\n<pre><code>public class Solution {\n    public int[] twoSum(int[] numbers, int target) {\n        \n            int len = numbers.length;\n\n        int[] result = new int[2] ;\n        int number1 = 0;\n        int sum = 0;\n\n        for (int i = 0; i &lt; len; i++) {\n            number1 = numbers[i];\n\n            for(int j = i+1; j &lt; len; j++)\n            {\n\n                sum = number1+numbers[j];       \n                if(sum == target)\n                {\n                    result[0]=i;\n                    result[1]=j;\n                }\n            }\n        \n        }\n        return result;\n    }\n}\n</code></pre>\n<p>It gives me a time limited exceeded; however, I think this solution might work. Can anyone tell me if this solution is good enough?</p>\n"},{"tags":["java","ssl","keystore","pem","sslsocketfactory"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1488989254,"post_id":42675033,"comment_id":72477023,"body_markdown":"No. You have to build a PKCS#12 or JKS KeyStore. But you should nit have been given a private key. You should have generated it all yourself. There is a serious security problem here. Your private key is not private, so whoever gave it to you can impersonate you in the legal sense. Don&#39;t do this.","body":"No. You have to build a PKCS#12 or JKS KeyStore. But you should nit have been given a private key. You should have generated it all yourself. There is a serious security problem here. Your private key is not private, so whoever gave it to you can impersonate you in the legal sense. Don&#39;t do this."},{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":0,"creation_date":1488990875,"post_id":42675033,"comment_id":72478239,"body_markdown":"Yes, thank you, we know that we should generate private keys ourselves. But the institution with which we work here dictates its rules and does not listen to anyone: they just generate all the keys themselves. It&#39;s not a technical matter, though.","body":"Yes, thank you, we know that we should generate private keys ourselves. But the institution with which we work here dictates its rules and does not listen to anyone: they just generate all the keys themselves. It&#39;s not a technical matter, though."}],"answers":[{"tags":[],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1489226693,"creation_date":1489226693,"answer_id":42733858,"question_id":42675033,"body_markdown":"It turned out that a KeyStore instance still has to be built, but it can be done in memory (starting with PEM files as input), without using an intermediate keystore file build with keytool.\r\n\r\nTo build that in-memory KeyStore, code like the following may be used:\r\n\r\n    private static final String TEMPORARY_KEY_PASSWORD = &quot;changeit&quot;;\r\n\r\n    private KeyStore getKeyStore() throws ConfigurationException {\r\n        try {\r\n            Certificate clientCertificate = loadCertificate(certificatePem);\r\n            PrivateKey privateKey = loadPrivateKey(privateKeyPem);\r\n            Certificate caCertificate = loadCertificate(caPem);\r\n\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            keyStore.load(null, null);\r\n            keyStore.setCertificateEntry(&quot;ca-cert&quot;, caCertificate);\r\n            keyStore.setCertificateEntry(&quot;client-cert&quot;, clientCertificate);\r\n            keyStore.setKeyEntry(&quot;client-key&quot;, privateKey, TEMPORARY_KEY_PASSWORD.toCharArray(), new Certificate[]{clientCertificate});\r\n            return keyStore;\r\n        } catch (GeneralSecurityException | IOException e) {\r\n            throw new ConfigurationException(&quot;Cannot build keystore&quot;, e);\r\n        }\r\n    }\r\n\r\n    private Certificate loadCertificate(String certificatePem) throws IOException, GeneralSecurityException {\r\n        CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X509&quot;);\r\n        final byte[] content = readPemContent(certificatePem);\r\n        return certificateFactory.generateCertificate(new ByteArrayInputStream(content));\r\n    }\r\n\r\n    private PrivateKey loadPrivateKey(String privateKeyPem) throws IOException, GeneralSecurityException {\r\n        return pemLoadPrivateKeyPkcs1OrPkcs8Encoded(privateKeyPem);\r\n    }\r\n\r\n    private byte[] readPemContent(String pem) throws IOException {\r\n        final byte[] content;\r\n        try (PemReader pemReader = new PemReader(new StringReader(pem))) {\r\n            final PemObject pemObject = pemReader.readPemObject();\r\n            content = pemObject.getContent();\r\n        }\r\n        return content;\r\n    }\r\n\r\n    private static PrivateKey pemLoadPrivateKeyPkcs1OrPkcs8Encoded(\r\n            String privateKeyPem) throws GeneralSecurityException, IOException {\r\n        // PKCS#8 format\r\n        final String PEM_PRIVATE_START = &quot;-----BEGIN PRIVATE KEY-----&quot;;\r\n        final String PEM_PRIVATE_END = &quot;-----END PRIVATE KEY-----&quot;;\r\n\r\n        // PKCS#1 format\r\n        final String PEM_RSA_PRIVATE_START = &quot;-----BEGIN RSA PRIVATE KEY-----&quot;;\r\n        final String PEM_RSA_PRIVATE_END = &quot;-----END RSA PRIVATE KEY-----&quot;;\r\n\r\n        if (privateKeyPem.contains(PEM_PRIVATE_START)) { // PKCS#8 format\r\n            privateKeyPem = privateKeyPem.replace(PEM_PRIVATE_START, &quot;&quot;).replace(PEM_PRIVATE_END, &quot;&quot;);\r\n            privateKeyPem = privateKeyPem.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n\r\n            byte[] pkcs8EncodedKey = Base64.getDecoder().decode(privateKeyPem);\r\n\r\n            KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            return factory.generatePrivate(new PKCS8EncodedKeySpec(pkcs8EncodedKey));\r\n\r\n        } else if (privateKeyPem.contains(PEM_RSA_PRIVATE_START)) {  // PKCS#1 format\r\n\r\n            privateKeyPem = privateKeyPem.replace(PEM_RSA_PRIVATE_START, &quot;&quot;).replace(PEM_RSA_PRIVATE_END, &quot;&quot;);\r\n            privateKeyPem = privateKeyPem.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n\r\n            DerInputStream derReader = new DerInputStream(Base64.getDecoder().decode(privateKeyPem));\r\n\r\n            DerValue[] seq = derReader.getSequence(0);\r\n\r\n            if (seq.length &lt; 9) {\r\n                throw new GeneralSecurityException(&quot;Could not parse a PKCS1 private key.&quot;);\r\n            }\r\n\r\n            // skip version seq[0];\r\n            BigInteger modulus = seq[1].getBigInteger();\r\n            BigInteger publicExp = seq[2].getBigInteger();\r\n            BigInteger privateExp = seq[3].getBigInteger();\r\n            BigInteger prime1 = seq[4].getBigInteger();\r\n            BigInteger prime2 = seq[5].getBigInteger();\r\n            BigInteger exp1 = seq[6].getBigInteger();\r\n            BigInteger exp2 = seq[7].getBigInteger();\r\n            BigInteger crtCoef = seq[8].getBigInteger();\r\n\r\n            RSAPrivateCrtKeySpec keySpec = new RSAPrivateCrtKeySpec(modulus, publicExp, privateExp, prime1, prime2,\r\n                    exp1, exp2, crtCoef);\r\n\r\n            KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n            return factory.generatePrivate(keySpec);\r\n        }\r\n\r\n        throw new GeneralSecurityException(&quot;Not supported format of a private key&quot;);\r\n    }\r\n\r\nThe idea is taken from https://stackoverflow.com/questions/12501117/programmatically-obtain-keystore-from-pem?rq=1","title":"How to build a SSLSocketFactory from PEM certificate and key without converting to keystore?","body":"<p>It turned out that a KeyStore instance still has to be built, but it can be done in memory (starting with PEM files as input), without using an intermediate keystore file build with keytool.</p>\n\n<p>To build that in-memory KeyStore, code like the following may be used:</p>\n\n<pre><code>private static final String TEMPORARY_KEY_PASSWORD = \"changeit\";\n\nprivate KeyStore getKeyStore() throws ConfigurationException {\n    try {\n        Certificate clientCertificate = loadCertificate(certificatePem);\n        PrivateKey privateKey = loadPrivateKey(privateKeyPem);\n        Certificate caCertificate = loadCertificate(caPem);\n\n        KeyStore keyStore = KeyStore.getInstance(\"JKS\");\n        keyStore.load(null, null);\n        keyStore.setCertificateEntry(\"ca-cert\", caCertificate);\n        keyStore.setCertificateEntry(\"client-cert\", clientCertificate);\n        keyStore.setKeyEntry(\"client-key\", privateKey, TEMPORARY_KEY_PASSWORD.toCharArray(), new Certificate[]{clientCertificate});\n        return keyStore;\n    } catch (GeneralSecurityException | IOException e) {\n        throw new ConfigurationException(\"Cannot build keystore\", e);\n    }\n}\n\nprivate Certificate loadCertificate(String certificatePem) throws IOException, GeneralSecurityException {\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(\"X509\");\n    final byte[] content = readPemContent(certificatePem);\n    return certificateFactory.generateCertificate(new ByteArrayInputStream(content));\n}\n\nprivate PrivateKey loadPrivateKey(String privateKeyPem) throws IOException, GeneralSecurityException {\n    return pemLoadPrivateKeyPkcs1OrPkcs8Encoded(privateKeyPem);\n}\n\nprivate byte[] readPemContent(String pem) throws IOException {\n    final byte[] content;\n    try (PemReader pemReader = new PemReader(new StringReader(pem))) {\n        final PemObject pemObject = pemReader.readPemObject();\n        content = pemObject.getContent();\n    }\n    return content;\n}\n\nprivate static PrivateKey pemLoadPrivateKeyPkcs1OrPkcs8Encoded(\n        String privateKeyPem) throws GeneralSecurityException, IOException {\n    // PKCS#8 format\n    final String PEM_PRIVATE_START = \"-----BEGIN PRIVATE KEY-----\";\n    final String PEM_PRIVATE_END = \"-----END PRIVATE KEY-----\";\n\n    // PKCS#1 format\n    final String PEM_RSA_PRIVATE_START = \"-----BEGIN RSA PRIVATE KEY-----\";\n    final String PEM_RSA_PRIVATE_END = \"-----END RSA PRIVATE KEY-----\";\n\n    if (privateKeyPem.contains(PEM_PRIVATE_START)) { // PKCS#8 format\n        privateKeyPem = privateKeyPem.replace(PEM_PRIVATE_START, \"\").replace(PEM_PRIVATE_END, \"\");\n        privateKeyPem = privateKeyPem.replaceAll(\"\\\\s\", \"\");\n\n        byte[] pkcs8EncodedKey = Base64.getDecoder().decode(privateKeyPem);\n\n        KeyFactory factory = KeyFactory.getInstance(\"RSA\");\n        return factory.generatePrivate(new PKCS8EncodedKeySpec(pkcs8EncodedKey));\n\n    } else if (privateKeyPem.contains(PEM_RSA_PRIVATE_START)) {  // PKCS#1 format\n\n        privateKeyPem = privateKeyPem.replace(PEM_RSA_PRIVATE_START, \"\").replace(PEM_RSA_PRIVATE_END, \"\");\n        privateKeyPem = privateKeyPem.replaceAll(\"\\\\s\", \"\");\n\n        DerInputStream derReader = new DerInputStream(Base64.getDecoder().decode(privateKeyPem));\n\n        DerValue[] seq = derReader.getSequence(0);\n\n        if (seq.length &lt; 9) {\n            throw new GeneralSecurityException(\"Could not parse a PKCS1 private key.\");\n        }\n\n        // skip version seq[0];\n        BigInteger modulus = seq[1].getBigInteger();\n        BigInteger publicExp = seq[2].getBigInteger();\n        BigInteger privateExp = seq[3].getBigInteger();\n        BigInteger prime1 = seq[4].getBigInteger();\n        BigInteger prime2 = seq[5].getBigInteger();\n        BigInteger exp1 = seq[6].getBigInteger();\n        BigInteger exp2 = seq[7].getBigInteger();\n        BigInteger crtCoef = seq[8].getBigInteger();\n\n        RSAPrivateCrtKeySpec keySpec = new RSAPrivateCrtKeySpec(modulus, publicExp, privateExp, prime1, prime2,\n                exp1, exp2, crtCoef);\n\n        KeyFactory factory = KeyFactory.getInstance(\"RSA\");\n\n        return factory.generatePrivate(keySpec);\n    }\n\n    throw new GeneralSecurityException(\"Not supported format of a private key\");\n}\n</code></pre>\n\n<p>The idea is taken from <a href=\"https://stackoverflow.com/questions/12501117/programmatically-obtain-keystore-from-pem?rq=1\">Programmatically Obtain KeyStore from PEM</a></p>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685909506,"creation_date":1613866074,"answer_id":66297869,"question_id":42675033,"body_markdown":"I dropped earlier a comment on your answer when facing a similar challenge and now I came back to provide an alternative for loading the pem file. I have created a library out of it to make it easier for myself and others, see here: [GitHub - SSLContext Kickstart][1] I hope you like it :)\r\n\r\nAdd the following dependency:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe pem files can be loaded with the following snippet:\r\n\r\n```java\r\nvar keyManager = PemUtils.loadIdentityMaterial(&quot;certificate-chain.pem&quot;, &quot;private-key.pem&quot;);\r\nvar trustManager = PemUtils.loadTrustMaterial(&quot;some-trusted-certificate.pem&quot;);\r\n\r\nvar sslFactory = SSLFactory.builder()\r\n          .withIdentityMaterial(keyManager)\r\n          .withTrustMaterial(trustManager)\r\n          .build();\r\n\r\nvar sslContext = sslFactory.getSslContext();\r\nvar sslSocketFactory = sslFactory.getSslSocketFactory();\r\n```\r\n\r\nComing back to your main question, I also discovered that it is not possible to create a SSLSocketFactory without the KeyStores. And an in-memory KeyStore works perfectly as you suggested for this use case.\r\n\r\n  [1]: https://github.com/Hakky54/sslcontext-kickstart","title":"How to build a SSLSocketFactory from PEM certificate and key without converting to keystore?","body":"<p>I dropped earlier a comment on your answer when facing a similar challenge and now I came back to provide an alternative for loading the pem file. I have created a library out of it to make it easier for myself and others, see here: <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">GitHub - SSLContext Kickstart</a> I hope you like it :)</p>\n<p>Add the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The pem files can be loaded with the following snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var keyManager = PemUtils.loadIdentityMaterial(&quot;certificate-chain.pem&quot;, &quot;private-key.pem&quot;);\nvar trustManager = PemUtils.loadTrustMaterial(&quot;some-trusted-certificate.pem&quot;);\n\nvar sslFactory = SSLFactory.builder()\n          .withIdentityMaterial(keyManager)\n          .withTrustMaterial(trustManager)\n          .build();\n\nvar sslContext = sslFactory.getSslContext();\nvar sslSocketFactory = sslFactory.getSslSocketFactory();\n</code></pre>\n<p>Coming back to your main question, I also discovered that it is not possible to create a SSLSocketFactory without the KeyStores. And an in-memory KeyStore works perfectly as you suggested for this use case.</p>\n"}],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16259,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":42733858,"answer_count":2,"score":16,"last_activity_date":1685909506,"creation_date":1488986055,"question_id":42675033,"body_markdown":"I&#39;m given a self-signed client certificate kit that is to be used to access a server via HTTPS. The kit consists of the following PEM files:\r\n\r\n 1. client.crt (client certificate)\r\n 2. client.key (client private key)\r\n 3. ca.crt (CA certificate)\r\n\r\nOne way to solve the task is to generate a Java keystore:\r\n\r\n 1. Use openssl to convert client certificate and key to PKCS12 keystore\r\n 2. Use keytool to import CA certificate to the store\r\n\r\n... and then use code like the following to build *SSLSocketFactory* instance:\r\n\r\n    InputStream stream = new ByteArrayInputStream(pksData);         \r\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    keyStore.load(stream, password);\r\n\r\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(\r\n        KeyManagerFactory.getDefaultAlgorithm());\r\n    kmf.init(keyStore, password.toCharArray());\r\n    KeyManager[] keyManagers = kmf.getKeyManagers();\r\n\r\n    TrustManagerFactory tmfactory = TrustManagerFactory.getInstance(\r\n        TrustManagerFactory.getDefaultAlgorithm());\r\n    tmfactory.init(keyStore);\r\n    TrustManager[] trustManagers = tmfactory.getTrustManagers();\r\n\r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(keyManagers, trustManagers, null);\r\n    sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n... which is later used to init http library.\r\n\r\nSo we obtain a KeyStore, then init KeyManagers and TrustManagers with its help and finally we build SSLSocketFactory instance with them.\r\n\r\n**The question is**: is there a way to avoid that keystore file creation and somehow build SSLSocketFactory starting with PublicKey and Certificate instance (which, for example, can be obtained from PEM files using bouncycastle&#39;s PemReader)?","title":"How to build a SSLSocketFactory from PEM certificate and key without converting to keystore?","body":"<p>I'm given a self-signed client certificate kit that is to be used to access a server via HTTPS. The kit consists of the following PEM files:</p>\n\n<ol>\n<li>client.crt (client certificate)</li>\n<li>client.key (client private key)</li>\n<li>ca.crt (CA certificate)</li>\n</ol>\n\n<p>One way to solve the task is to generate a Java keystore:</p>\n\n<ol>\n<li>Use openssl to convert client certificate and key to PKCS12 keystore</li>\n<li>Use keytool to import CA certificate to the store</li>\n</ol>\n\n<p>... and then use code like the following to build <em>SSLSocketFactory</em> instance:</p>\n\n<pre><code>InputStream stream = new ByteArrayInputStream(pksData);         \nKeyStore keyStore = KeyStore.getInstance(\"PKCS12\");\nkeyStore.load(stream, password);\n\nKeyManagerFactory kmf = KeyManagerFactory.getInstance(\n    KeyManagerFactory.getDefaultAlgorithm());\nkmf.init(keyStore, password.toCharArray());\nKeyManager[] keyManagers = kmf.getKeyManagers();\n\nTrustManagerFactory tmfactory = TrustManagerFactory.getInstance(\n    TrustManagerFactory.getDefaultAlgorithm());\ntmfactory.init(keyStore);\nTrustManager[] trustManagers = tmfactory.getTrustManagers();\n\nSSLContext sslContext = SSLContext.getInstance(\"TLS\");\nsslContext.init(keyManagers, trustManagers, null);\nsslSocketFactory = sslContext.getSocketFactory();\n</code></pre>\n\n<p>... which is later used to init http library.</p>\n\n<p>So we obtain a KeyStore, then init KeyManagers and TrustManagers with its help and finally we build SSLSocketFactory instance with them.</p>\n\n<p><strong>The question is</strong>: is there a way to avoid that keystore file creation and somehow build SSLSocketFactory starting with PublicKey and Certificate instance (which, for example, can be obtained from PEM files using bouncycastle's PemReader)?</p>\n"},{"tags":["java","spring","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685904243,"creation_date":1685904243,"answer_id":76401943,"question_id":76400935,"body_markdown":"See my answer at https://stackoverflow.com/a/76396961/4393565\r\n\r\nDo you set the Elasticsearch compatibility headers in your requests? This error normally is seen when The Elasticsearch 8 server sends an answer in a format not understood by the 7 client (and setting the headers does not guarantee it&#39;s working).\r\n\r\nThe best thing is to either stay on Boot 2.7 and use an Elasticsearch 7 instance, or upgrade to the current version of Spring Boot - or at least to 3.0","title":"Getting Error DataAccessResourceFailureException - Unable to parse response body for Response when saving with ElasticSearch","body":"<p>See my answer at <a href=\"https://stackoverflow.com/a/76396961/4393565\">https://stackoverflow.com/a/76396961/4393565</a></p>\n<p>Do you set the Elasticsearch compatibility headers in your requests? This error normally is seen when The Elasticsearch 8 server sends an answer in a format not understood by the 7 client (and setting the headers does not guarantee it's working).</p>\n<p>The best thing is to either stay on Boot 2.7 and use an Elasticsearch 7 instance, or upgrade to the current version of Spring Boot - or at least to 3.0</p>\n"},{"tags":[],"owner":{"account_id":28743467,"reputation":1,"user_id":22013128,"display_name":"Carlos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685909335,"creation_date":1685909335,"answer_id":76402219,"question_id":76400935,"body_markdown":"Thank you @PJ.Meisch! I have set headers and it works fine:\r\n\r\n     HttpHeaders compatibilityHeaders = new HttpHeaders();\r\n      compatibilityHeaders.add(&quot;Accept&quot;, &quot;application/vnd.elasticsearch+json;compatible-with=7&quot;);\r\n      compatibilityHeaders.add(&quot;Content-Type&quot;, &quot;application/vnd.elasticsearch+json;&quot; + &quot;compatible-with=7&quot;);\r\n\r\n","title":"Getting Error DataAccessResourceFailureException - Unable to parse response body for Response when saving with ElasticSearch","body":"<p>Thank you @PJ.Meisch! I have set headers and it works fine:</p>\n<pre><code> HttpHeaders compatibilityHeaders = new HttpHeaders();\n  compatibilityHeaders.add(&quot;Accept&quot;, &quot;application/vnd.elasticsearch+json;compatible-with=7&quot;);\n  compatibilityHeaders.add(&quot;Content-Type&quot;, &quot;application/vnd.elasticsearch+json;&quot; + &quot;compatible-with=7&quot;);\n</code></pre>\n"}],"owner":{"account_id":26132574,"reputation":21,"user_id":19823079,"display_name":"Carlos Ruiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685909335,"creation_date":1685889725,"question_id":76400935,"body_markdown":"I&#39;m using Elasticsearch 8.6.2 version with spring boot 2.7.12 for doing a CRUD application over an index in elasticsearch.\r\n\r\nConfiguration class:\r\n\r\n    @Configuration\r\n    public class ConfigElasticSearch {\r\n    \r\n      @Value(&quot;${elasticsearch.url}&quot;)\r\n      private String urlElasticsearch;\r\n    \r\n      @Value(&quot;${elasticsearch.user}&quot;)\r\n      private String userElasticsearch;\r\n    \r\n      @Value(&quot;${elasticsearch.pwd}&quot;)\r\n      private String pwdElasticsearch;\r\n    \r\n      @Bean\r\n      public RestHighLevelClient client() {\r\n        ClientConfiguration clientConfiguration = ClientConfiguration.builder()\r\n            .connectedTo(urlElasticsearch)\r\n            .withBasicAuth(userElasticsearch, pwdElasticsearch)\r\n            .build();\r\n        return RestClients.create(clientConfiguration).rest();\r\n      }\r\n    \r\n      @Bean\r\n      public ElasticsearchOperations elasticsearchTemplate() {\r\n        return new ElasticsearchRestTemplate(client());\r\n      }\r\n    }\r\n\r\nI have my entity class:\r\n\r\n    @Document(indexName = &quot;empleadosindex&quot;, shards = 1, replicas = 0)\r\n    public class EmpleadoEntity {\r\n    \r\n      public EmpleadoEntity() {\r\n        super();\r\n      }\r\n    \r\n      @Id\r\n      private String id;\r\n    \r\n      @Field(type = FieldType.Text, name = &quot;dni&quot;)\r\n      private String dni;\r\n    \r\n      @Field(type = FieldType.Text, name = &quot;nombre&quot;)\r\n      private String nombre;\r\n    \r\n      @Field(type = FieldType.Long, name = &quot;telefono&quot;)\r\n      private Long telefono;\r\n\r\nAlso, my interface for spring-data:\r\n\r\n    @Repository\r\n    public interface EmpleadoRepository extends ElasticsearchRepository&lt;EmpleadoEntity, \r\n    String&gt; {\r\n    }\r\n\r\nMy pom is using spring boot starter 2.7.12, with this dependency for elasticsearch:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf I execute findById() or findAll(), it works and returns the proper information stored in elasticsearch.\r\n\r\nBut if I execute save(entity), it fails returning an exception, but the content of the document is stored in elastisearch.\r\n\r\n\r\nThe error that I got is:\r\n\r\n        org.springframework.dao.DataAccessResourceFailureException: Unable to parse \r\n    response body for Response{requestLine=POST /clientindex/_doc?timeout=1m HTTP/1.1, \r\n    host=http://localhost:9200, response=HTTP/1.1 201 Created}; nested exception is \r\n    java.lang.RuntimeException: Unable to parse response body for \r\n    Response{requestLine=POST /clientindex/_doc?timeout=1m HTTP/1.1, \r\n    host=http://localhost:9200, response=HTTP/1.1 201 Created}\r\n      at org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:94)\r\n      at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:601)\r\n      at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:584)\r\n      at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doIndex(ElasticsearchRestTemplate.java:187)\r\n      at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.save(AbstractElasticsearchTemplate.java:201)\r\n      at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$save$6(SimpleElasticsearchRepository.java:188)\r\n      at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.executeAndRefresh(SimpleElasticsearchRepository.java:360)\r\n      at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.save(SimpleElasticsearchRepository.java:188)\r\n      at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n      at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n      at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n      at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n      at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n      at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\r\n      at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\r\n      at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n      at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n      at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n      at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n      at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)\r\n      at jdk.proxy2/jdk.proxy2.$Proxy124.save(Unknown Source)\r\n\r\n\r\nCan anyone help me to discover why is happening this error when reading response from elasticsearch when calling to save() method?\r\n\r\nThank you in advance!\r\n\r\nBest regards!\r\n\r\n\r\n","title":"Getting Error DataAccessResourceFailureException - Unable to parse response body for Response when saving with ElasticSearch","body":"<p>I'm using Elasticsearch 8.6.2 version with spring boot 2.7.12 for doing a CRUD application over an index in elasticsearch.</p>\n<p>Configuration class:</p>\n<pre><code>@Configuration\npublic class ConfigElasticSearch {\n\n  @Value(&quot;${elasticsearch.url}&quot;)\n  private String urlElasticsearch;\n\n  @Value(&quot;${elasticsearch.user}&quot;)\n  private String userElasticsearch;\n\n  @Value(&quot;${elasticsearch.pwd}&quot;)\n  private String pwdElasticsearch;\n\n  @Bean\n  public RestHighLevelClient client() {\n    ClientConfiguration clientConfiguration = ClientConfiguration.builder()\n        .connectedTo(urlElasticsearch)\n        .withBasicAuth(userElasticsearch, pwdElasticsearch)\n        .build();\n    return RestClients.create(clientConfiguration).rest();\n  }\n\n  @Bean\n  public ElasticsearchOperations elasticsearchTemplate() {\n    return new ElasticsearchRestTemplate(client());\n  }\n}\n</code></pre>\n<p>I have my entity class:</p>\n<pre><code>@Document(indexName = &quot;empleadosindex&quot;, shards = 1, replicas = 0)\npublic class EmpleadoEntity {\n\n  public EmpleadoEntity() {\n    super();\n  }\n\n  @Id\n  private String id;\n\n  @Field(type = FieldType.Text, name = &quot;dni&quot;)\n  private String dni;\n\n  @Field(type = FieldType.Text, name = &quot;nombre&quot;)\n  private String nombre;\n\n  @Field(type = FieldType.Long, name = &quot;telefono&quot;)\n  private Long telefono;\n</code></pre>\n<p>Also, my interface for spring-data:</p>\n<pre><code>@Repository\npublic interface EmpleadoRepository extends ElasticsearchRepository&lt;EmpleadoEntity, \nString&gt; {\n}\n</code></pre>\n<p>My pom is using spring boot starter 2.7.12, with this dependency for elasticsearch:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If I execute findById() or findAll(), it works and returns the proper information stored in elasticsearch.</p>\n<p>But if I execute save(entity), it fails returning an exception, but the content of the document is stored in elastisearch.</p>\n<p>The error that I got is:</p>\n<pre><code>    org.springframework.dao.DataAccessResourceFailureException: Unable to parse \nresponse body for Response{requestLine=POST /clientindex/_doc?timeout=1m HTTP/1.1, \nhost=http://localhost:9200, response=HTTP/1.1 201 Created}; nested exception is \njava.lang.RuntimeException: Unable to parse response body for \nResponse{requestLine=POST /clientindex/_doc?timeout=1m HTTP/1.1, \nhost=http://localhost:9200, response=HTTP/1.1 201 Created}\n  at org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:94)\n  at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:601)\n  at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:584)\n  at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doIndex(ElasticsearchRestTemplate.java:187)\n  at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.save(AbstractElasticsearchTemplate.java:201)\n  at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$save$6(SimpleElasticsearchRepository.java:188)\n  at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.executeAndRefresh(SimpleElasticsearchRepository.java:360)\n  at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.save(SimpleElasticsearchRepository.java:188)\n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n  at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n  at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n  at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n  at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\n  at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\n  at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n  at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)\n  at jdk.proxy2/jdk.proxy2.$Proxy124.save(Unknown Source)\n</code></pre>\n<p>Can anyone help me to discover why is happening this error when reading response from elasticsearch when calling to save() method?</p>\n<p>Thank you in advance!</p>\n<p>Best regards!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":28739990,"reputation":1,"user_id":22010322,"display_name":"Vertuzi"},"score":0,"creation_date":1685905434,"post_id":76402015,"comment_id":134722889,"body_markdown":"Sorry, the format came out weird in the constructor for my monkey class setName isn&#39;t tabbed over like in my post.","body":"Sorry, the format came out weird in the constructor for my monkey class setName isn&#39;t tabbed over like in my post."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1685905523,"post_id":76402015,"comment_id":134722897,"body_markdown":"You are missing `String trainingStatus` between these two parameters: `String aquisitionCountry, boolean reserved`","body":"You are missing <code>String trainingStatus</code> between these two parameters: <code>String aquisitionCountry, boolean reserved</code>"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":3,"creation_date":1685905548,"post_id":76402015,"comment_id":134722901,"body_markdown":"You should really use a builder instead, though.","body":"You should really use a builder instead, though."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1685905604,"post_id":76402015,"comment_id":134722909,"body_markdown":"@Vertuzi Please [edit] your question to include the full complete error message you get.","body":"@Vertuzi Please <a href=\"https://stackoverflow.com/posts/76402015/edit\">edit</a> your question to include the full complete error message you get."},{"owner":{"account_id":28739990,"reputation":1,"user_id":22010322,"display_name":"Vertuzi"},"score":0,"creation_date":1685905992,"post_id":76402015,"comment_id":134722957,"body_markdown":"Full error is &quot;The constructor Monkey(String, String, String, String, String, String, String, String, String, String, String, boolean, String) is undefined","body":"Full error is &quot;The constructor Monkey(String, String, String, String, String, String, String, String, String, String, String, boolean, String) is undefined"},{"owner":{"account_id":28739990,"reputation":1,"user_id":22010322,"display_name":"Vertuzi"},"score":0,"creation_date":1685906376,"post_id":76402015,"comment_id":134723005,"body_markdown":"Thank you it didn&#39;t completely solve it for some reason but I added traingStatus and added a c into acquisitionCountry so it was spelled right.","body":"Thank you it didn&#39;t completely solve it for some reason but I added traingStatus and added a c into acquisitionCountry so it was spelled right."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1685906542,"post_id":76402015,"comment_id":134723032,"body_markdown":"@Vertuzi You are trying to call a constructor with 11 strings, 1 boolean and 1 string parameters. However, your constructor in your class has only 10 strings, 1 boolean and 1 string parameters. That doesn&#39;t match.","body":"@Vertuzi You are trying to call a constructor with 11 strings, 1 boolean and 1 string parameters. However, your constructor in your class has only 10 strings, 1 boolean and 1 string parameters. That doesn&#39;t match."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1685906573,"post_id":76402015,"comment_id":134723036,"body_markdown":"@Vertuzi Please [edit] your question to include the full complete error message, do not add it as a comment.","body":"@Vertuzi Please <a href=\"https://stackoverflow.com/posts/76402015/edit\">edit</a> your question to include the full complete error message, do not add it as a comment."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1685907159,"post_id":76402015,"comment_id":134723098,"body_markdown":"If you would use dedicated DomainValues, your constructor arguments would tell you which value is expected in which position instead of counting the string arguments and running into silly stackoverflow questions.","body":"If you would use dedicated DomainValues, your constructor arguments would tell you which value is expected in which position instead of counting the string arguments and running into silly stackoverflow questions."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1685907276,"post_id":76402015,"comment_id":134723118,"body_markdown":"And setters are used for setting the values after they got initialized in the constructor. Use regular value initialization e.g. `this.gender = gender` in the constructor.","body":"And setters are used for setting the values after they got initialized in the constructor. Use regular value initialization e.g. <code>this.gender = gender</code> in the constructor."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1685906018,"creation_date":1685906018,"answer_id":76402047,"question_id":76402015,"body_markdown":"You&#39;re still missing an argument.\r\n\r\n```none\r\nname                    &quot;Steve&quot;\r\ngender                  &quot;male&quot;\r\nage                     &quot;24&quot;\r\nweight                  &quot;15.4&quot;\r\ntailLength              &quot;12&quot;\r\nheight                  &quot;20&quot;\r\nbodyLength              &quot;16&quot;\r\nspecies                 &quot;capuchin&quot;\r\nacquisitionDate         &quot;04-26-1999&quot;\r\naquisitionCountry       &quot;United States&quot;\r\nreserved                &quot;intake&quot;\r\ninServiceCountry        false\r\n                        &quot;United States&quot;\r\n```","title":"Java Constructor Inheritance. Constructor is undefined","body":"<p>You're still missing an argument.</p>\n<pre class=\"lang-none prettyprint-override\"><code>name                    &quot;Steve&quot;\ngender                  &quot;male&quot;\nage                     &quot;24&quot;\nweight                  &quot;15.4&quot;\ntailLength              &quot;12&quot;\nheight                  &quot;20&quot;\nbodyLength              &quot;16&quot;\nspecies                 &quot;capuchin&quot;\nacquisitionDate         &quot;04-26-1999&quot;\naquisitionCountry       &quot;United States&quot;\nreserved                &quot;intake&quot;\ninServiceCountry        false\n                        &quot;United States&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685907251,"creation_date":1685907251,"answer_id":76402108,"question_id":76402015,"body_markdown":"You have some issues in your code:\r\n\r\n- There is a typo in “acquisitionCountry” and it should be “acquisitionLocation”. The corrected line should be setAcquisitionLocation(acquisitionLocation);\r\n- The constructor is missing the “trainingStatus” parameter.\r\n- The “intake” value is in the wrong place when calling the constructor.\r\n\r\nHere’s the corrected version:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass Scratch {\r\n    static List&lt;Monkey&gt; monkeyList = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        initializeMonkeyList();\r\n        System.out.println(monkeyList);\r\n    }\r\n\r\n    public static void initializeMonkeyList() {\r\n        Monkey monkey1 = new Monkey(&quot;Steve&quot;, &quot;male&quot;, &quot;24&quot;, &quot;15.4&quot;, &quot;12&quot;, &quot;20&quot;, &quot;16&quot;, &quot;capuchin&quot;, &quot;04-26-1999&quot;, &quot;United States&quot;,  false, &quot;United States&quot;, &quot;intake&quot;);\r\n        monkeyList.add(monkey1);\r\n    }\r\n\r\n\r\n    public static class Monkey {\r\n\r\n        String name,  gender,  age,  weight,  tailLength,  height,  bodyLength,  species,  acquisitionDate, acquisitionCountry, inServiceCountry, trainingStatus;\r\n        boolean reserved;\r\n\r\n        public Monkey(String name, String gender, String age, String weight, String tailLength, String height, String bodyLength, String species, String acquisitionDate, String acquisitionCountry, boolean reserved, String inServiceCountry, String trainingStatus) {\r\n            setName(name);\r\n            setGender(gender);\r\n            setAge(age);\r\n            setWeight(weight);\r\n            setTailLength(tailLength);\r\n            setHeight(height);\r\n            setBodyLength(bodyLength);\r\n            setSpecies(species);\r\n            setAcquisitionDate(acquisitionDate);\r\n            setAcquisitionCountry(acquisitionCountry);\r\n            setTrainingStatus(trainingStatus);\r\n            setReserved(reserved);\r\n            setInServiceCountry(inServiceCountry);\r\n        }\r\n\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Monkey{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, gender=&#39;&quot; + gender + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&#39;&quot; + age + &#39;\\&#39;&#39; +\r\n                    &quot;, weight=&#39;&quot; + weight + &#39;\\&#39;&#39; +\r\n                    &quot;, tailLength=&#39;&quot; + tailLength + &#39;\\&#39;&#39; +\r\n                    &quot;, height=&#39;&quot; + height + &#39;\\&#39;&#39; +\r\n                    &quot;, bodyLength=&#39;&quot; + bodyLength + &#39;\\&#39;&#39; +\r\n                    &quot;, species=&#39;&quot; + species + &#39;\\&#39;&#39; +\r\n                    &quot;, acquisitionDate=&#39;&quot; + acquisitionDate + &#39;\\&#39;&#39; +\r\n                    &quot;, acquisitionCountry=&#39;&quot; + acquisitionCountry + &#39;\\&#39;&#39; +\r\n                    &quot;, inServiceCountry=&#39;&quot; + inServiceCountry + &#39;\\&#39;&#39; +\r\n                    &quot;, trainingStatus=&#39;&quot; + trainingStatus + &#39;\\&#39;&#39; +\r\n                    &quot;, reserved=&quot; + reserved +\r\n                    &#39;}&#39;;\r\n        }\r\n\r\n        public void setTrainingStatus(String trainingStatus) {\r\n            this.trainingStatus = trainingStatus;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public void setGender(String gender) {\r\n            this.gender = gender;\r\n        }\r\n\r\n        public void setAge(String age) {\r\n            this.age = age;\r\n        }\r\n\r\n        public void setWeight(String weight) {\r\n            this.weight = weight;\r\n        }\r\n\r\n        public void setTailLength(String tailLength) {\r\n            this.tailLength = tailLength;\r\n        }\r\n\r\n        public void setHeight(String height) {\r\n            this.height = height;\r\n        }\r\n\r\n        public void setBodyLength(String bodyLength) {\r\n            this.bodyLength = bodyLength;\r\n        }\r\n\r\n        public void setSpecies(String species) {\r\n            this.species = species;\r\n        }\r\n\r\n        public void setAcquisitionDate(String acquisitionDate) {\r\n            this.acquisitionDate = acquisitionDate;\r\n        }\r\n\r\n        public void setAcquisitionCountry(String acquisitionCountry) {\r\n            this.acquisitionCountry = acquisitionCountry;\r\n        }\r\n\r\n        public void setInServiceCountry(String inServiceCountry) {\r\n            this.inServiceCountry = inServiceCountry;\r\n        }\r\n\r\n        public void setReserved(boolean reserved) {\r\n            this.reserved = reserved;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n[Monkey{name=&#39;Steve&#39;, gender=&#39;male&#39;, age=&#39;24&#39;, weight=&#39;15.4&#39;, tailLength=&#39;12&#39;, height=&#39;20&#39;, bodyLength=&#39;16&#39;, species=&#39;capuchin&#39;, acquisitionDate=&#39;04-26-1999&#39;, acquisitionCountry=&#39;United States&#39;, inServiceCountry=&#39;United States&#39;, trainingStatus=&#39;intake&#39;, reserved=false}]\r\n```\r\n\r\nIt is not considered good practice to have a large number of arguments. As suggested by others, you could implement the builder pattern. \r\n\r\nHere is an example implementation using the builder pattern:\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass Scratch {\r\n    static List&lt;Monkey&gt; monkeyList = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        initializeMonkeyList();\r\n        System.out.println(monkeyList);\r\n    }\r\n\r\n    public static void initializeMonkeyList() {\r\n        Monkey monkey1 = new Monkey.Builder()\r\n                .name(&quot;Steve&quot;)\r\n                .gender(&quot;male&quot;)\r\n                .age(&quot;24&quot;)\r\n                .weight(&quot;15.4&quot;)\r\n                .tailLength(&quot;12&quot;)\r\n                .height(&quot;20&quot;)\r\n                .bodyLength(&quot;16&quot;)\r\n                .species(&quot;capuchin&quot;)\r\n                .acquisitionDate(&quot;04-26-1999&quot;)\r\n                .acquisitionCountry(&quot;United States&quot;)\r\n                .reserved(false)\r\n                .inServiceCountry(&quot;United States&quot;)\r\n                .trainingStatus(&quot;intake&quot;)\r\n                .build();\r\n        monkeyList.add(monkey1);\r\n    }\r\n\r\n    public static class Monkey {\r\n        private String name, gender, age, weight, tailLength, height, bodyLength, species, acquisitionDate, acquisitionCountry, inServiceCountry, trainingStatus;\r\n        private boolean reserved;\r\n\r\n        private Monkey(Builder builder) {\r\n            this.name = builder.name;\r\n            this.gender = builder.gender;\r\n            this.age = builder.age;\r\n            this.weight = builder.weight;\r\n            this.tailLength = builder.tailLength;\r\n            this.height = builder.height;\r\n            this.bodyLength = builder.bodyLength;\r\n            this.species = builder.species;\r\n            this.acquisitionDate = builder.acquisitionDate;\r\n            this.acquisitionCountry = builder.acquisitionCountry;\r\n            this.inServiceCountry = builder.inServiceCountry;\r\n            this.trainingStatus = builder.trainingStatus;\r\n            this.reserved = builder.reserved;\r\n        }\r\n\r\n        public static class Builder {\r\n            private String name, gender, age, weight, tailLength, height, bodyLength, species, acquisitionDate, acquisitionCountry, inServiceCountry, trainingStatus;\r\n            private boolean reserved;\r\n\r\n            public Builder name(String name) {\r\n                this.name = name;\r\n                return this;\r\n            }\r\n\r\n            public Builder gender(String gender) {\r\n                this.gender = gender;\r\n                return this;\r\n            }\r\n\r\n            public Builder age(String age) {\r\n                this.age = age;\r\n                return this;\r\n            }\r\n\r\n            public Builder weight(String weight) {\r\n                this.weight = weight;\r\n                return this;\r\n            }\r\n\r\n            public Builder tailLength(String tailLength) {\r\n                this.tailLength = tailLength;\r\n                return this;\r\n            }\r\n\r\n            public Builder height(String height) {\r\n                this.height = height;\r\n                return this;\r\n            }\r\n\r\n            public Builder bodyLength(String bodyLength) {\r\n                this.bodyLength = bodyLength;\r\n                return this;\r\n            }\r\n\r\n            public Builder species(String species) {\r\n                this.species = species;\r\n                return this;\r\n            }\r\n\r\n            public Builder acquisitionDate(String acquisitionDate) {\r\n                this.acquisitionDate = acquisitionDate;\r\n                return this;\r\n            }\r\n\r\n            public Builder acquisitionCountry(String acquisitionCountry) {\r\n                this.acquisitionCountry = acquisitionCountry;\r\n                return this;\r\n            }\r\n\r\n            public Builder inServiceCountry(String inServiceCountry) {\r\n                this.inServiceCountry = inServiceCountry;\r\n                return this;\r\n            }\r\n\r\n            public Builder trainingStatus(String trainingStatus) {\r\n                this.trainingStatus = trainingStatus;\r\n                return this;\r\n            }\r\n\r\n            public Builder reserved(boolean reserved) {\r\n                this.reserved = reserved;\r\n                return this;\r\n            }\r\n\r\n            public Monkey build() {\r\n                return new Monkey(this);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Monkey{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, gender=&#39;&quot; + gender + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&#39;&quot; + age + &#39;\\&#39;&#39; +\r\n                    &quot;, weight=&#39;&quot; + weight + &#39;\\&#39;&#39; +\r\n                    &quot;, tailLength=&#39;&quot; + tailLength + &#39;\\&#39;&#39; +\r\n                    &quot;, height=&#39;&quot; + height + &#39;\\&#39;&#39; +\r\n                    &quot;, bodyLength=&#39;&quot; + bodyLength + &#39;\\&#39;&#39; +\r\n                    &quot;, species=&#39;&quot; + species + &#39;\\&#39;&#39; +\r\n                    &quot;, acquisitionDate=&#39;&quot; + acquisitionDate + &#39;\\&#39;&#39; +\r\n                    &quot;, acquisitionCountry=&#39;&quot; + acquisitionCountry + &#39;\\&#39;&#39; +\r\n                    &quot;, inServiceCountry=&#39;&quot; + inServiceCountry + &#39;\\&#39;&#39; +\r\n                    &quot;, trainingStatus=&#39;&quot; + trainingStatus + &#39;\\&#39;&#39; +\r\n                    &quot;, reserved=&quot; + reserved +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Java Constructor Inheritance. Constructor is undefined","body":"<p>You have some issues in your code:</p>\n<ul>\n<li>There is a typo in “acquisitionCountry” and it should be “acquisitionLocation”. The corrected line should be setAcquisitionLocation(acquisitionLocation);</li>\n<li>The constructor is missing the “trainingStatus” parameter.</li>\n<li>The “intake” value is in the wrong place when calling the constructor.</li>\n</ul>\n<p>Here’s the corrected version:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Scratch {\n    static List&lt;Monkey&gt; monkeyList = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        initializeMonkeyList();\n        System.out.println(monkeyList);\n    }\n\n    public static void initializeMonkeyList() {\n        Monkey monkey1 = new Monkey(&quot;Steve&quot;, &quot;male&quot;, &quot;24&quot;, &quot;15.4&quot;, &quot;12&quot;, &quot;20&quot;, &quot;16&quot;, &quot;capuchin&quot;, &quot;04-26-1999&quot;, &quot;United States&quot;,  false, &quot;United States&quot;, &quot;intake&quot;);\n        monkeyList.add(monkey1);\n    }\n\n\n    public static class Monkey {\n\n        String name,  gender,  age,  weight,  tailLength,  height,  bodyLength,  species,  acquisitionDate, acquisitionCountry, inServiceCountry, trainingStatus;\n        boolean reserved;\n\n        public Monkey(String name, String gender, String age, String weight, String tailLength, String height, String bodyLength, String species, String acquisitionDate, String acquisitionCountry, boolean reserved, String inServiceCountry, String trainingStatus) {\n            setName(name);\n            setGender(gender);\n            setAge(age);\n            setWeight(weight);\n            setTailLength(tailLength);\n            setHeight(height);\n            setBodyLength(bodyLength);\n            setSpecies(species);\n            setAcquisitionDate(acquisitionDate);\n            setAcquisitionCountry(acquisitionCountry);\n            setTrainingStatus(trainingStatus);\n            setReserved(reserved);\n            setInServiceCountry(inServiceCountry);\n        }\n\n\n        @Override\n        public String toString() {\n            return &quot;Monkey{&quot; +\n                    &quot;name='&quot; + name + '\\'' +\n                    &quot;, gender='&quot; + gender + '\\'' +\n                    &quot;, age='&quot; + age + '\\'' +\n                    &quot;, weight='&quot; + weight + '\\'' +\n                    &quot;, tailLength='&quot; + tailLength + '\\'' +\n                    &quot;, height='&quot; + height + '\\'' +\n                    &quot;, bodyLength='&quot; + bodyLength + '\\'' +\n                    &quot;, species='&quot; + species + '\\'' +\n                    &quot;, acquisitionDate='&quot; + acquisitionDate + '\\'' +\n                    &quot;, acquisitionCountry='&quot; + acquisitionCountry + '\\'' +\n                    &quot;, inServiceCountry='&quot; + inServiceCountry + '\\'' +\n                    &quot;, trainingStatus='&quot; + trainingStatus + '\\'' +\n                    &quot;, reserved=&quot; + reserved +\n                    '}';\n        }\n\n        public void setTrainingStatus(String trainingStatus) {\n            this.trainingStatus = trainingStatus;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public void setGender(String gender) {\n            this.gender = gender;\n        }\n\n        public void setAge(String age) {\n            this.age = age;\n        }\n\n        public void setWeight(String weight) {\n            this.weight = weight;\n        }\n\n        public void setTailLength(String tailLength) {\n            this.tailLength = tailLength;\n        }\n\n        public void setHeight(String height) {\n            this.height = height;\n        }\n\n        public void setBodyLength(String bodyLength) {\n            this.bodyLength = bodyLength;\n        }\n\n        public void setSpecies(String species) {\n            this.species = species;\n        }\n\n        public void setAcquisitionDate(String acquisitionDate) {\n            this.acquisitionDate = acquisitionDate;\n        }\n\n        public void setAcquisitionCountry(String acquisitionCountry) {\n            this.acquisitionCountry = acquisitionCountry;\n        }\n\n        public void setInServiceCountry(String inServiceCountry) {\n            this.inServiceCountry = inServiceCountry;\n        }\n\n        public void setReserved(boolean reserved) {\n            this.reserved = reserved;\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[Monkey{name='Steve', gender='male', age='24', weight='15.4', tailLength='12', height='20', bodyLength='16', species='capuchin', acquisitionDate='04-26-1999', acquisitionCountry='United States', inServiceCountry='United States', trainingStatus='intake', reserved=false}]\n</code></pre>\n<p>It is not considered good practice to have a large number of arguments. As suggested by others, you could implement the builder pattern.</p>\n<p>Here is an example implementation using the builder pattern:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Scratch {\n    static List&lt;Monkey&gt; monkeyList = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        initializeMonkeyList();\n        System.out.println(monkeyList);\n    }\n\n    public static void initializeMonkeyList() {\n        Monkey monkey1 = new Monkey.Builder()\n                .name(&quot;Steve&quot;)\n                .gender(&quot;male&quot;)\n                .age(&quot;24&quot;)\n                .weight(&quot;15.4&quot;)\n                .tailLength(&quot;12&quot;)\n                .height(&quot;20&quot;)\n                .bodyLength(&quot;16&quot;)\n                .species(&quot;capuchin&quot;)\n                .acquisitionDate(&quot;04-26-1999&quot;)\n                .acquisitionCountry(&quot;United States&quot;)\n                .reserved(false)\n                .inServiceCountry(&quot;United States&quot;)\n                .trainingStatus(&quot;intake&quot;)\n                .build();\n        monkeyList.add(monkey1);\n    }\n\n    public static class Monkey {\n        private String name, gender, age, weight, tailLength, height, bodyLength, species, acquisitionDate, acquisitionCountry, inServiceCountry, trainingStatus;\n        private boolean reserved;\n\n        private Monkey(Builder builder) {\n            this.name = builder.name;\n            this.gender = builder.gender;\n            this.age = builder.age;\n            this.weight = builder.weight;\n            this.tailLength = builder.tailLength;\n            this.height = builder.height;\n            this.bodyLength = builder.bodyLength;\n            this.species = builder.species;\n            this.acquisitionDate = builder.acquisitionDate;\n            this.acquisitionCountry = builder.acquisitionCountry;\n            this.inServiceCountry = builder.inServiceCountry;\n            this.trainingStatus = builder.trainingStatus;\n            this.reserved = builder.reserved;\n        }\n\n        public static class Builder {\n            private String name, gender, age, weight, tailLength, height, bodyLength, species, acquisitionDate, acquisitionCountry, inServiceCountry, trainingStatus;\n            private boolean reserved;\n\n            public Builder name(String name) {\n                this.name = name;\n                return this;\n            }\n\n            public Builder gender(String gender) {\n                this.gender = gender;\n                return this;\n            }\n\n            public Builder age(String age) {\n                this.age = age;\n                return this;\n            }\n\n            public Builder weight(String weight) {\n                this.weight = weight;\n                return this;\n            }\n\n            public Builder tailLength(String tailLength) {\n                this.tailLength = tailLength;\n                return this;\n            }\n\n            public Builder height(String height) {\n                this.height = height;\n                return this;\n            }\n\n            public Builder bodyLength(String bodyLength) {\n                this.bodyLength = bodyLength;\n                return this;\n            }\n\n            public Builder species(String species) {\n                this.species = species;\n                return this;\n            }\n\n            public Builder acquisitionDate(String acquisitionDate) {\n                this.acquisitionDate = acquisitionDate;\n                return this;\n            }\n\n            public Builder acquisitionCountry(String acquisitionCountry) {\n                this.acquisitionCountry = acquisitionCountry;\n                return this;\n            }\n\n            public Builder inServiceCountry(String inServiceCountry) {\n                this.inServiceCountry = inServiceCountry;\n                return this;\n            }\n\n            public Builder trainingStatus(String trainingStatus) {\n                this.trainingStatus = trainingStatus;\n                return this;\n            }\n\n            public Builder reserved(boolean reserved) {\n                this.reserved = reserved;\n                return this;\n            }\n\n            public Monkey build() {\n                return new Monkey(this);\n            }\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Monkey{&quot; +\n                    &quot;name='&quot; + name + '\\'' +\n                    &quot;, gender='&quot; + gender + '\\'' +\n                    &quot;, age='&quot; + age + '\\'' +\n                    &quot;, weight='&quot; + weight + '\\'' +\n                    &quot;, tailLength='&quot; + tailLength + '\\'' +\n                    &quot;, height='&quot; + height + '\\'' +\n                    &quot;, bodyLength='&quot; + bodyLength + '\\'' +\n                    &quot;, species='&quot; + species + '\\'' +\n                    &quot;, acquisitionDate='&quot; + acquisitionDate + '\\'' +\n                    &quot;, acquisitionCountry='&quot; + acquisitionCountry + '\\'' +\n                    &quot;, inServiceCountry='&quot; + inServiceCountry + '\\'' +\n                    &quot;, trainingStatus='&quot; + trainingStatus + '\\'' +\n                    &quot;, reserved=&quot; + reserved +\n                    '}';\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":28739990,"reputation":1,"user_id":22010322,"display_name":"Vertuzi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685909241,"creation_date":1685905363,"question_id":76402015,"body_markdown":"I am working on a project where I needed to create a class that extends another class and listed below is my constructor for said class. I am getting an error which is &quot;The constructor Monkey(String, String, String, String, String, String, String, String, String, String, String, boolean, String) is undefined&quot; when trying to create a method in my primary method class.\r\n\r\nMy monkey constructor in my monkey class\r\n```\r\npublic Monkey(String name, String gender, String age, String weight, String tailLength, String height, String bodyLength, String species, String acquisitionDate, String aquisitionCountry, boolean reserved, String inServiceCountry) {\r\n        setName(name);\r\n\tsetGender(gender);\r\n\tsetAge(age);\r\n\tsetWeight(weight);\r\n\tsetTailLength(tailLength);\r\n\tsetHeight(height);\r\n\tsetBodyLength(bodyLength);\r\n\tsetSpecies(species);\r\n\tsetAcquisitionDate(acquisitionDate);\r\n\tsetAcquisitionLocation(acquisitionCountry);\r\n\tsetTrainingStatus(trainingStatus);\r\n\tsetReserved(reserved);\r\n\tsetInServiceCountry(inServiceCountry);\r\n```\r\n\r\n\r\nThe method in my primary class\r\n\r\n    public static void initializeMonkeyList() {\r\n        \tMonkey monkey1 = new Monkey(&quot;Steve&quot;, &quot;male&quot;, &quot;24&quot;, &quot;15.4&quot;, &quot;12&quot;, &quot;20&quot;, &quot;16&quot;, &quot;capuchin&quot;, &quot;04-26-1999&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\r\n            monkeyList.add(monkey1);\r\n    }","title":"Java Constructor Inheritance. Constructor is undefined","body":"<p>I am working on a project where I needed to create a class that extends another class and listed below is my constructor for said class. I am getting an error which is &quot;The constructor Monkey(String, String, String, String, String, String, String, String, String, String, String, boolean, String) is undefined&quot; when trying to create a method in my primary method class.</p>\n<p>My monkey constructor in my monkey class</p>\n<pre><code>public Monkey(String name, String gender, String age, String weight, String tailLength, String height, String bodyLength, String species, String acquisitionDate, String aquisitionCountry, boolean reserved, String inServiceCountry) {\n        setName(name);\n    setGender(gender);\n    setAge(age);\n    setWeight(weight);\n    setTailLength(tailLength);\n    setHeight(height);\n    setBodyLength(bodyLength);\n    setSpecies(species);\n    setAcquisitionDate(acquisitionDate);\n    setAcquisitionLocation(acquisitionCountry);\n    setTrainingStatus(trainingStatus);\n    setReserved(reserved);\n    setInServiceCountry(inServiceCountry);\n</code></pre>\n<p>The method in my primary class</p>\n<pre><code>public static void initializeMonkeyList() {\n        Monkey monkey1 = new Monkey(&quot;Steve&quot;, &quot;male&quot;, &quot;24&quot;, &quot;15.4&quot;, &quot;12&quot;, &quot;20&quot;, &quot;16&quot;, &quot;capuchin&quot;, &quot;04-26-1999&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\n        monkeyList.add(monkey1);\n}\n</code></pre>\n"},{"tags":["java","android","bottom-sheet","bottom-sheet-behavior"],"owner":{"account_id":15860883,"reputation":53,"user_id":11444029,"display_name":"alabiboo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685907514,"creation_date":1685903806,"question_id":76401915,"body_markdown":"I am trying to keep BottomSheetBehavior extended after reloading the BottomSheet view but the code below makes the BottomSheet view disappear and reappear after reloading\r\n```\r\n\r\n        @Click(R.id.root_width_layout)\r\n        private void onClick() {\r\n            SELECTED_CAR_POSITION = mPosition;\r\n\r\n            if(Integer.valueOf(vehiclesBean.getService_type_id())!=4){\r\n                sessionManager.setCarType(SELECTED_CAR_POSITION);\r\n            }\r\n\r\n            placeholder.refresh(); \r\n            if (sheetBehaviorBottom.getState() == BottomSheetBehavior.STATE_COLLAPSED) {\r\n                sheetBehaviorBottom.setState(BottomSheetBehavior.STATE_EXPANDED);\r\n            }else{\r\n                sheetBehaviorBottom.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n            }\r\n            if (vehiclesBean != null) {\r\n                sessionManager.setServiceTypeId(Integer.valueOf(vehiclesBean.getService_type_id()));\r\n                carSelectionInterface.onCarClick(vehiclesBean.getMap_icon(),vehiclesBean.getRide_now(), vehiclesBean.getRide_later(), vehiclesBean.getSurcharge(), &quot;&quot; + vehiclesBean.getId(), &quot;&quot;, String.valueOf(vehiclesBean.getService_type_id()), 0); // sending blank package id cause normal category (ie this fragment ) doesn&#39;t come in any package\r\n            }\r\n        }\r\n```\r\n\r\nWhat I&#39;m doing is that if I click on an item in the BottomSheet list, I have to refresh the BottomSheet view to apply a desing . but the problem is that if I refresh the BottomSheet view, the BottomSheet disappears and reappears. I want to keep BottomSheetBehavior extended, without making it disappear and reappear after the refresh.\r\n\r\n\r\nthe code below refreshes the contents of the BottomSheet view\r\n```\r\nplaceholder.refresh(); \r\n```","title":"how to keep BottomSheetBehavior extended after refresh content of BottomSheet view","body":"<p>I am trying to keep BottomSheetBehavior extended after reloading the BottomSheet view but the code below makes the BottomSheet view disappear and reappear after reloading</p>\n<pre><code>\n        @Click(R.id.root_width_layout)\n        private void onClick() {\n            SELECTED_CAR_POSITION = mPosition;\n\n            if(Integer.valueOf(vehiclesBean.getService_type_id())!=4){\n                sessionManager.setCarType(SELECTED_CAR_POSITION);\n            }\n\n            placeholder.refresh(); \n            if (sheetBehaviorBottom.getState() == BottomSheetBehavior.STATE_COLLAPSED) {\n                sheetBehaviorBottom.setState(BottomSheetBehavior.STATE_EXPANDED);\n            }else{\n                sheetBehaviorBottom.setState(BottomSheetBehavior.STATE_COLLAPSED);\n            }\n            if (vehiclesBean != null) {\n                sessionManager.setServiceTypeId(Integer.valueOf(vehiclesBean.getService_type_id()));\n                carSelectionInterface.onCarClick(vehiclesBean.getMap_icon(),vehiclesBean.getRide_now(), vehiclesBean.getRide_later(), vehiclesBean.getSurcharge(), &quot;&quot; + vehiclesBean.getId(), &quot;&quot;, String.valueOf(vehiclesBean.getService_type_id()), 0); // sending blank package id cause normal category (ie this fragment ) doesn't come in any package\n            }\n        }\n</code></pre>\n<p>What I'm doing is that if I click on an item in the BottomSheet list, I have to refresh the BottomSheet view to apply a desing . but the problem is that if I refresh the BottomSheet view, the BottomSheet disappears and reappears. I want to keep BottomSheetBehavior extended, without making it disappear and reappear after the refresh.</p>\n<p>the code below refreshes the contents of the BottomSheet view</p>\n<pre><code>placeholder.refresh(); \n</code></pre>\n"},{"tags":["java","recursion","try-catch","stack-overflow"],"answers":[{"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685889249,"creation_date":1685888824,"answer_id":76400865,"question_id":76400795,"body_markdown":"Try tracking the level of nesting:\r\n\r\n    public class Javagony\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            loop(0);\r\n        }\r\n    \r\n        static int n = 1;\r\n    \r\n        public static void loop(int l)\r\n        {\r\n            System.out.println(l+&quot;:&quot;+n);\r\n            n++;\r\n            try\r\n            {\r\n                loop(l+1);\r\n            }\r\n            catch (StackOverflowError _e)\r\n            {\r\n                loop(l+1);\r\n            }\r\n        }\r\n    }\r\n\r\nit&#39;s not getting any further in the recursion and using up more stack, trying to do so generates the exception again. When it reaches the limit, the code sort of flails around in place.\r\n\r\nSo no, catching the exception does not allow you to use more stack space than the limit. The recommendation against catching it comes from the assumption that you are unlikely to have a sensible way of recovering from this condition.","title":"Handling stack overflow with more recursion, and it worked","body":"<p>Try tracking the level of nesting:</p>\n<pre><code>public class Javagony\n{\n    public static void main(String[] args)\n    {\n        loop(0);\n    }\n\n    static int n = 1;\n\n    public static void loop(int l)\n    {\n        System.out.println(l+&quot;:&quot;+n);\n        n++;\n        try\n        {\n            loop(l+1);\n        }\n        catch (StackOverflowError _e)\n        {\n            loop(l+1);\n        }\n    }\n}\n</code></pre>\n<p>it's not getting any further in the recursion and using up more stack, trying to do so generates the exception again. When it reaches the limit, the code sort of flails around in place.</p>\n<p>So no, catching the exception does not allow you to use more stack space than the limit. The recommendation against catching it comes from the assumption that you are unlikely to have a sensible way of recovering from this condition.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685891450,"creation_date":1685889473,"answer_id":76400914,"question_id":76400795,"body_markdown":"&gt; Alright, so I know you *should not* &quot;catch&quot; the `StackOverflowError`, as many questions asked before me has already concluded;\r\n\r\nGenerally speaking, you should not catch it, because it&#39;s not ordinarily something you can recover from.  You can&#39;t, generally, even rely on wrapping and rethrowing it.\r\n\r\n&gt; but I just cannot help get curious about what could happen if you just try to catch it? Will it grant you infinite recursions\r\n\r\nNo.\r\n\r\n&gt; or will the JVM just breakdown and explode?\r\n\r\nNo.\r\n\r\nWhen there is no room on the stack, you cannot successfully invoke any methods or constructors.  That&#39;s pretty crippling, and generally speaking, if you try to recover from it then you&#39;re likely to just get another `StackOverflowException`. However, when a method terminates, including by throwing a `StackOverflowException`, a little stack space is freed up, so you might then be able to do a little something.\r\n\r\nNow consider your particular example.  At the bottom of the recursion, some invocation of `loop()` throws a SOE.  The parent invocation catches it, and in the handler tries recursing again.  There is every reason to expect that that also will throw SOE, which will escape to the next level up.  But now *that* recursive call handles the exception, and it has enough stack space to get in one more iteration.  When that throws, it is handled one more level up, which now has space for *two* more iterations (each of which starts fresh with respect to exception handling).  And so on ...\r\n\r\nThat does not give you infinite recursion, but it does greatly magnify the overall number of successful executions of the payload  you can get before an SOE finally bubbles all the way out of the top-level call.\r\n\r\nIn fact, the total number of times you can expect to execute the payload scales exponentially in the amount of available stack space.  You don&#39;t need to have that much stack space before that affords more total executions than you could ever use.","title":"Handling stack overflow with more recursion, and it worked","body":"<blockquote>\n<p>Alright, so I know you <em>should not</em> &quot;catch&quot; the <code>StackOverflowError</code>, as many questions asked before me has already concluded;</p>\n</blockquote>\n<p>Generally speaking, you should not catch it, because it's not ordinarily something you can recover from.  You can't, generally, even rely on wrapping and rethrowing it.</p>\n<blockquote>\n<p>but I just cannot help get curious about what could happen if you just try to catch it? Will it grant you infinite recursions</p>\n</blockquote>\n<p>No.</p>\n<blockquote>\n<p>or will the JVM just breakdown and explode?</p>\n</blockquote>\n<p>No.</p>\n<p>When there is no room on the stack, you cannot successfully invoke any methods or constructors.  That's pretty crippling, and generally speaking, if you try to recover from it then you're likely to just get another <code>StackOverflowException</code>. However, when a method terminates, including by throwing a <code>StackOverflowException</code>, a little stack space is freed up, so you might then be able to do a little something.</p>\n<p>Now consider your particular example.  At the bottom of the recursion, some invocation of <code>loop()</code> throws a SOE.  The parent invocation catches it, and in the handler tries recursing again.  There is every reason to expect that that also will throw SOE, which will escape to the next level up.  But now <em>that</em> recursive call handles the exception, and it has enough stack space to get in one more iteration.  When that throws, it is handled one more level up, which now has space for <em>two</em> more iterations (each of which starts fresh with respect to exception handling).  And so on ...</p>\n<p>That does not give you infinite recursion, but it does greatly magnify the overall number of successful executions of the payload  you can get before an SOE finally bubbles all the way out of the top-level call.</p>\n<p>In fact, the total number of times you can expect to execute the payload scales exponentially in the amount of available stack space.  You don't need to have that much stack space before that affords more total executions than you could ever use.</p>\n"}],"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76400914,"answer_count":2,"score":1,"last_activity_date":1685906932,"creation_date":1685887674,"question_id":76400795,"body_markdown":"I found this code block in [the Javagony article on esolangs.org](https://esolangs.org/wiki/Javagony/Brainfuck_Reduction):\r\n&gt; ...In Javagony, the most common way to replicate loops is through recursion. If your loop has too many steps, you will get a stack overflow error, however, this can just be caught. So, to create a loop, we can start with a function that calls itself, and a try catch.\r\n&gt;```java\r\n&gt;public void loop() {\r\n&gt;    try {\r\n&gt;        loop();\r\n&gt;    catch (StackOverflowException /* sic */ e) {\r\n&gt;        loop();\r\n&gt;    }\r\n&gt;}\r\n&gt;```\r\n\r\nAlright, so I know you *should not* &quot;catch&quot; the `StackOverflowError`, as many questions asked before me has already concluded; but I just cannot help get curious about what *could* happen if you just try to catch it? Will it grant you infinite recursions or will the JVM just breakdown and explode?\r\n\r\nAnyway, here&#39;s what I have written:\r\n```java\r\npublic class Javagony\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tloop();\r\n\t}\r\n\r\n\tstatic int n = 1;\r\n\r\n\tpublic static void loop()\r\n\t{\r\n\t\tSystem.out.println(n);\r\n\t\tn++;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tloop();\r\n\t\t}\r\n\t\tcatch (StackOverflowError _e)\r\n\t\t{\r\n\t\t\tloop();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI then ran it with `java Javagony.java`. It had been a while since then, and the numbers just keep scrolling. It has now reached 4072342 (in comparison, the same programme without try catch block dies on ~40000) and is still going on. But how could this even happen? Doesn&#39;t `StackOverflowError` indicate that the resources have been exhausted, and the maximum capacity of function calls has been reached already? Why simply catching and ignoring it keeps the recursion going on?\r\n\r\nPs. Process has been interrupted, please don&#39;t worry about that","title":"Handling stack overflow with more recursion, and it worked","body":"<p>I found this code block in <a href=\"https://esolangs.org/wiki/Javagony/Brainfuck_Reduction\" rel=\"nofollow noreferrer\">the Javagony article on esolangs.org</a>:</p>\n<blockquote>\n<p>...In Javagony, the most common way to replicate loops is through recursion. If your loop has too many steps, you will get a stack overflow error, however, this can just be caught. So, to create a loop, we can start with a function that calls itself, and a try catch.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void loop() {\n   try {\n       loop();\n   catch (StackOverflowException /* sic */ e) {\n       loop();\n   }\n}\n</code></pre>\n</blockquote>\n<p>Alright, so I know you <em>should not</em> &quot;catch&quot; the <code>StackOverflowError</code>, as many questions asked before me has already concluded; but I just cannot help get curious about what <em>could</em> happen if you just try to catch it? Will it grant you infinite recursions or will the JVM just breakdown and explode?</p>\n<p>Anyway, here's what I have written:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Javagony\n{\n    public static void main(String[] args)\n    {\n        loop();\n    }\n\n    static int n = 1;\n\n    public static void loop()\n    {\n        System.out.println(n);\n        n++;\n        try\n        {\n            loop();\n        }\n        catch (StackOverflowError _e)\n        {\n            loop();\n        }\n    }\n}\n</code></pre>\n<p>I then ran it with <code>java Javagony.java</code>. It had been a while since then, and the numbers just keep scrolling. It has now reached 4072342 (in comparison, the same programme without try catch block dies on ~40000) and is still going on. But how could this even happen? Doesn't <code>StackOverflowError</code> indicate that the resources have been exhausted, and the maximum capacity of function calls has been reached already? Why simply catching and ignoring it keeps the recursion going on?</p>\n<p>Ps. Process has been interrupted, please don't worry about that</p>\n"},{"tags":["java","android","ssl","ssl-certificate"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685912498,"post_id":76402024,"comment_id":134723618,"body_markdown":"What happens if `certificateInputStream` is null? Then you have an uninitialized SSL context.","body":"What happens if <code>certificateInputStream</code> is null? Then you have an uninitialized SSL context."},{"owner":{"account_id":27768400,"reputation":661,"user_id":21199279,"display_name":"Srikar Uppu"},"score":0,"creation_date":1685931696,"post_id":76402024,"comment_id":134725044,"body_markdown":"Hello, Robert. \nThank you for your comment; if &quot;certificateInputStream&quot; is null, I just put a log (&quot;sslVishContext: input stream is null&quot;) in the else condition.","body":"Hello, Robert.  Thank you for your comment; if &quot;certificateInputStream&quot; is null, I just put a log (&quot;sslVishContext: input stream is null&quot;) in the else condition."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685948694,"post_id":76402024,"comment_id":134726600,"body_markdown":"IMHO I would raise an Exception instead. It seems that your app requires this SSLContext so without it should fail.","body":"IMHO I would raise an Exception instead. It seems that your app requires this SSLContext so without it should fail."}],"owner":{"account_id":27768400,"reputation":661,"user_id":21199279,"display_name":"Srikar Uppu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685905529,"creation_date":1685905529,"question_id":76402024,"body_markdown":"`SSLContext not initialized in release build of Android project\r\n\r\n\r\n\r\nI am facing an issue with SSLContext in my Android project. I have stored a .crt SSL certificate in the &quot;src/main/res/raw&quot; directory. The SSL certificate is working properly with the debugging build of the application. However, when I generate and use the **release **build, I am getting the following exception:\r\n\r\n&gt; java.lang.IllegalStateException: SSLContext is not initialized.\r\n&gt; at com.android.org.conscrypt.OpenSSLContextImpl.engineGetSocketFactory(OpenSSLContextImpl.java:125)\r\n&gt; at javax.net.ssl.SSLContext.getSocketFactory(SSLContext.java:338)\r\n&gt; at app.rsn.rb.call.VishingManagerTask.doInBackground(VishingManagerTask.java:65)\r\n&gt; at app.rsn.rb.call.VishingManagerTask.doInBackground(VishingManagerTask.java:39)\r\n&gt; at android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n&gt; at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n&gt; at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n\r\nI have made sure that the SSL certificate file is included in the release build&#39;s resources. I have also verified that the certificate is valid and functioning correctly in the debugging build.\r\n\r\nFolder structure:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/kXuzZ.png)](https://i.stack.imgur.com/kXuzZ.png)\r\n\r\nI am using the SSLContext to establish a secure connection with a server. Here&#39;s a snippet of the code:\r\n\r\n    `vishSslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n                TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n                KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n                ClassLoader classloader = Thread.currentThread().getContextClassLoader();\r\n                InputStream certificateInputStream = classloader.getResourceAsStream(&quot;res/raw/cert.crt&quot;);\r\n                keyStore.load(null);\r\n                if(null != certificateInputStream) {\r\n                    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n                    X509Certificate certificate = (X509Certificate) certificateFactory.generateCertificate(certificateInputStream);\r\n                    keyStore.setCertificateEntry(&quot;alias&quot;, certificate);\r\n                    certificateInputStream.close();\r\n    \r\n                    trustManagerFactory.init(keyStore);\r\n                    vishSslContext.init(null, trustManagerFactory.getTrustManagers(), null);`\r\n\r\n\r\n\r\nThe code works perfectly in the debugging build, but fails in the release build with the &quot;SSLContext is not initialized&quot; exception.\r\n\r\nI have tried different approaches, such as including the certificate file directly in the assets directory and using a different file path, but the issue persists.\r\n\r\nWhat could be causing this problem? How can I resolve the &quot;SSLContext is not initialized&quot; exception in the release build of my Android project? Any suggestions or insights would be greatly appreciated.\r\n\r\nThank you in advance!","title":"SSLContext not initialized in release build of Android project","body":"<p>`SSLContext not initialized in release build of Android project</p>\n<p>I am facing an issue with SSLContext in my Android project. I have stored a .crt SSL certificate in the &quot;src/main/res/raw&quot; directory. The SSL certificate is working properly with the debugging build of the application. However, when I generate and use the **release **build, I am getting the following exception:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: SSLContext is not initialized.\nat com.android.org.conscrypt.OpenSSLContextImpl.engineGetSocketFactory(OpenSSLContextImpl.java:125)\nat javax.net.ssl.SSLContext.getSocketFactory(SSLContext.java:338)\nat app.rsn.rb.call.VishingManagerTask.doInBackground(VishingManagerTask.java:65)\nat app.rsn.rb.call.VishingManagerTask.doInBackground(VishingManagerTask.java:39)\nat android.os.AsyncTask$3.call(AsyncTask.java:394)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)</p>\n</blockquote>\n<p>I have made sure that the SSL certificate file is included in the release build's resources. I have also verified that the certificate is valid and functioning correctly in the debugging build.</p>\n<p>Folder structure:</p>\n<p><a href=\"https://i.stack.imgur.com/kXuzZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kXuzZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using the SSLContext to establish a secure connection with a server. Here's a snippet of the code:</p>\n<pre><code>`vishSslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n            ClassLoader classloader = Thread.currentThread().getContextClassLoader();\n            InputStream certificateInputStream = classloader.getResourceAsStream(&quot;res/raw/cert.crt&quot;);\n            keyStore.load(null);\n            if(null != certificateInputStream) {\n                CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n                X509Certificate certificate = (X509Certificate) certificateFactory.generateCertificate(certificateInputStream);\n                keyStore.setCertificateEntry(&quot;alias&quot;, certificate);\n                certificateInputStream.close();\n\n                trustManagerFactory.init(keyStore);\n                vishSslContext.init(null, trustManagerFactory.getTrustManagers(), null);`\n</code></pre>\n<p>The code works perfectly in the debugging build, but fails in the release build with the &quot;SSLContext is not initialized&quot; exception.</p>\n<p>I have tried different approaches, such as including the certificate file directly in the assets directory and using a different file path, but the issue persists.</p>\n<p>What could be causing this problem? How can I resolve the &quot;SSLContext is not initialized&quot; exception in the release build of my Android project? Any suggestions or insights would be greatly appreciated.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8423,"reputation":735986,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":0,"creation_date":1685893574,"post_id":76401193,"comment_id":134721469,"body_markdown":"I think it&#39;s saying that if `/` is the root directory, you cannot use ACTION OPEN DOCUMENT TREE on that directory, but you may be able to do so on `/subdir` — a subdirectory of the root directory — if the permissions on the directory allow it (and it isn&#39;t the root directory of a reliable SD card volume which is mounted somewhere on `/`).  It probably means you can&#39;t (easily) search the entire directory tree with your app; you have to know where you are looking for the information.","body":"I think it&#39;s saying that if <code>&#47;</code> is the root directory, you cannot use ACTION OPEN DOCUMENT TREE on that directory, but you may be able to do so on <code>&#47;subdir</code> — a subdirectory of the root directory — if the permissions on the directory allow it (and it isn&#39;t the root directory of a reliable SD card volume which is mounted somewhere on <code>&#47;</code>).  It probably means you can&#39;t (easily) search the entire directory tree with your app; you have to know where you are looking for the information."}],"answers":[{"tags":[],"owner":{"account_id":17528529,"reputation":306,"user_id":12713089,"display_name":"Hossein Shahmohammadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685905175,"creation_date":1685905175,"answer_id":76402006,"question_id":76401193,"body_markdown":"you only can&#39;t access to the **root** directory\r\nyou can apply access to all sub directories.\r\nI suggest you to see this GitHub sample project that gets access to WhatsApp status directory although it&#39;s created by another app:\r\nhttps://github.com/GauthamAsir/WhatsApp_Status_Saver/blob/master/app/src/main/java/a/gautham/statusdownloader/SplashActivity.java\r\n \r\nyou can create your own directory with ACTION_OPEN_DOCUMENT_TREE intent and get access to it.\r\n\r\n        fun openDirectory(pickerInitialUri: Uri) {\r\n        // Choose a directory using the system&#39;s file picker.\r\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE).apply {\r\n            // Optionally, specify a URI for the directory that should be opened in\r\n            // the system file picker when it loads.\r\n            putExtra(DocumentsContract.EXTRA_INITIAL_URI, pickerInitialUri)\r\n        }\r\n    startActivityForResult(intent, 1001)\r\n    }\r\n\r\n\r\n\r\nAll of these concepts is about user privacy\r\nthese articles have written by Google can give you idea :\r\n[android 11 storage changes][1] \r\n\r\n\r\nhttps://developer.android.com/training/data-storage/app-specific\r\n\r\n  [1]: https://developer.android.com/about/versions/11/privacy/storage","title":"Issue in ACTION_OPEN_DOCUMENT_TREE","body":"<p>you only can't access to the <strong>root</strong> directory\nyou can apply access to all sub directories.\nI suggest you to see this GitHub sample project that gets access to WhatsApp status directory although it's created by another app:\n<a href=\"https://github.com/GauthamAsir/WhatsApp_Status_Saver/blob/master/app/src/main/java/a/gautham/statusdownloader/SplashActivity.java\" rel=\"nofollow noreferrer\">https://github.com/GauthamAsir/WhatsApp_Status_Saver/blob/master/app/src/main/java/a/gautham/statusdownloader/SplashActivity.java</a></p>\n<p>you can create your own directory with ACTION_OPEN_DOCUMENT_TREE intent and get access to it.</p>\n<pre><code>    fun openDirectory(pickerInitialUri: Uri) {\n    // Choose a directory using the system's file picker.\n    val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE).apply {\n        // Optionally, specify a URI for the directory that should be opened in\n        // the system file picker when it loads.\n        putExtra(DocumentsContract.EXTRA_INITIAL_URI, pickerInitialUri)\n    }\nstartActivityForResult(intent, 1001)\n}\n</code></pre>\n<p>All of these concepts is about user privacy\nthese articles have written by Google can give you idea :\n<a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">android 11 storage changes</a></p>\n<p><a href=\"https://developer.android.com/training/data-storage/app-specific\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/app-specific</a></p>\n"}],"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76402006,"answer_count":1,"score":0,"last_activity_date":1685905175,"creation_date":1685893340,"question_id":76401193,"body_markdown":"I am Detecting the SD card content for my app using ACTION_OPEN_DOCUMENT_TREE method in Android version 11. But the Android developer website adds one issue about this method, which is:\r\n\r\nAccess restrictions:  \r\nOn Android 11 (API level 30) and higher, you cannot use the ACTION_OPEN_DOCUMENT_TREE intent action to request access to the following directories:\r\n\r\n* The root directory of the internal storage volume.\r\n* The root directory of each SD card volume that the device manufacturer considers to be reliable, regardless of whether the card is emulated or removable.\r\n  - A reliable volume is one that an app can successfully access most of the time. \r\n\r\nSo I am confused about whether I use ACTION OPEN DOCUMENT TREE  Method or not. Please give me some proper solution.\r\n","title":"Issue in ACTION_OPEN_DOCUMENT_TREE","body":"<p>I am Detecting the SD card content for my app using ACTION_OPEN_DOCUMENT_TREE method in Android version 11. But the Android developer website adds one issue about this method, which is:</p>\n<p>Access restrictions:<br />\nOn Android 11 (API level 30) and higher, you cannot use the ACTION_OPEN_DOCUMENT_TREE intent action to request access to the following directories:</p>\n<ul>\n<li>The root directory of the internal storage volume.</li>\n<li>The root directory of each SD card volume that the device manufacturer considers to be reliable, regardless of whether the card is emulated or removable.\n<ul>\n<li>A reliable volume is one that an app can successfully access most of the time.</li>\n</ul>\n</li>\n</ul>\n<p>So I am confused about whether I use ACTION OPEN DOCUMENT TREE  Method or not. Please give me some proper solution.</p>\n"},{"tags":["java","selenium-webdriver","cucumber","allure"],"owner":{"account_id":21252036,"reputation":23,"user_id":20620970,"display_name":"Santiago Lataza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685905079,"creation_date":1685473661,"question_id":76367895,"body_markdown":"Allure report on testng + cucumber framework gives a duplicate result report for cucumber tests.\r\n\r\nProblem: Whenever I run a local allure report `&gt;allure serve allure-report`, I got a duplicate report on cucumber tests, one using the proper notations and visualizations for allure-cucumber tags and the other with a surefire path and no correct consumptions of tags/information.\r\n\r\n[Correct report](https://i.stack.imgur.com/bGOfj.png)\r\n\r\n[Bad report](https://i.stack.imgur.com/xXGkG.png)\r\n\r\nIn both images there is the left index for suites and there, both appears, each image is for each test expanded.\r\n\r\nScenario: My project implements Java + maven + testng + cucumber and using allure as reporting system, to execute `maven-surefire-plugin` and to run have the following maven command: `clean test -Ddriver=chrome -Dmaximize=false -DthreadCount=3 -Dexecutor=jenkins -Dtimeout=10 -PCucumber` using a `testng.xml` file to run the cucumber test cases. Also this project has testng test cases, I&#39;m trying to implement both systems for automation in the same project, TestNG cases are correctly logged once, but only cucumber ones got this kind of double reporting.\r\n\r\nThis bad report doesn&#39;t consumes @Step allure notation for reporting so the only possibility that remains for me is that somehow testng/surefire is indexing/consuming the Cucumber test cases definition (parameters, setuUp, tearDown and result) but none of the allure annotations, because of that would discard any class building as the problem and I&#39;m trying to figure out the problem on the pom but open to any solution.\r\n\r\nMore info:\r\n* PageObject models only contains @Step annotations\r\n* DriverManager class contains a ThreadLocal&lt;WebDriver&gt; to setup, fetch and tearDown drivers for each test but don&#39;t have any ncucumber or testng notation for hierarchy of execution, this methods are called by BaseTest and CucumberSupport respective clases with respective notation for each dependency.\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.seleniumTest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;SeleniumTest&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;SeleniumTest&lt;/name&gt;\r\n    &lt;description&gt;POC for selenium testing project implementation.&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;driver&gt;chrome&lt;/driver&gt;\r\n        &lt;maximize&gt;false&lt;/maximize&gt;\r\n        &lt;executor&gt;jenkins&lt;/executor&gt;\r\n        &lt;timeout&gt;10&lt;/timeout&gt;\r\n        &lt;threadCount&gt;3&lt;/threadCount&gt;\r\n\r\n        &lt;webdrivermanager-version&gt;5.3.3&lt;/webdrivermanager-version&gt;\r\n        &lt;testng-version&gt;7.7.1&lt;/testng-version&gt;\r\n        &lt;log4j-core-version&gt;2.20.0&lt;/log4j-core-version&gt;\r\n        &lt;selenium-java-version&gt;4.9.1&lt;/selenium-java-version&gt;\r\n        &lt;allure-testng-version&gt;2.22.0&lt;/allure-testng-version&gt;\r\n        &lt;jul-to-slf4j-version&gt;2.0.7&lt;/jul-to-slf4j-version&gt;\r\n        &lt;cucumber-version&gt;7.12.0&lt;/cucumber-version&gt;\r\n        &lt;gherkin-version&gt;26.0.1&lt;/gherkin-version&gt;\r\n        &lt;allure-cucumber7-jvm-version&gt;2.21.0&lt;/allure-cucumber7-jvm-version&gt;\r\n        &lt;maven-compiler-plugin-version&gt;3.11.0&lt;/maven-compiler-plugin-version&gt;\r\n        &lt;maven-surefire-plugin-version&gt;3.0.0-M7&lt;/maven-surefire-plugin-version&gt;\r\n        &lt;aspectjweaver-version&gt;1.9.8.RC2&lt;/aspectjweaver-version&gt;\r\n        &lt;allure-maven-version&gt;2.22.0&lt;/allure-maven-version&gt;\r\n\r\n\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- WebDriver automated manager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${webdrivermanager-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Testing framework --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;${testng-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Logger dependency --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j-core-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Selenium framework for web testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium-java-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Reporting framework --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-testng-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;${jul-to-slf4j-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber-version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber-version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n            &lt;version&gt;${gherkin-version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-cucumber7-jvm-version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;TestNG&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;suiteXmlFiles&gt;\r\n                                &lt;suiteXmlFile&gt;config/testng.xml&lt;/suiteXmlFile&gt;\r\n                            &lt;/suiteXmlFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;Cucumber&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/*CucumberRunnerTests.java&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;properties&gt;\r\n                                &lt;property&gt;\r\n                                    &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\r\n                                    &lt;value&gt;${threadCount}&lt;/value&gt;\r\n                                &lt;/property&gt;\r\n                            &lt;/properties&gt;\r\n                            &lt;argLine&gt;\r\n                                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectjweaver-version}/aspectjweaver-${aspectjweaver-version}.jar&quot;\r\n                            &lt;/argLine&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;dependencies&gt;\r\n                            &lt;dependency&gt;\r\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                                &lt;version&gt;${aspectjweaver-version}&lt;/version&gt;\r\n                            &lt;/dependency&gt;\r\n                        &lt;/dependencies&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;TestNG+Cucumber&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;properties&gt;\r\n                                &lt;property&gt;\r\n                                    &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\r\n                                    &lt;value&gt;${threadCount}&lt;/value&gt;\r\n                                &lt;/property&gt;\r\n                            &lt;/properties&gt;\r\n                            &lt;suiteXmlFiles&gt;\r\n                                &lt;suiteXmlFile&gt;config/cucumber.xml&lt;/suiteXmlFile&gt;\r\n                                &lt;suiteXmlFile&gt;config/testng.xml&lt;/suiteXmlFile&gt;\r\n                            &lt;/suiteXmlFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n    &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;${allure-maven-version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;propertiesFilePath&gt;test/resources/allure.properties&lt;/propertiesFilePath&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nRepo for reference: https://github.com/sanflg/SeleniumTest","title":"Allure report on testng + cucumber framework gives a duplicate result report for cucumber tests","body":"<p>Allure report on testng + cucumber framework gives a duplicate result report for cucumber tests.</p>\n<p>Problem: Whenever I run a local allure report <code>&gt;allure serve allure-report</code>, I got a duplicate report on cucumber tests, one using the proper notations and visualizations for allure-cucumber tags and the other with a surefire path and no correct consumptions of tags/information.</p>\n<p><a href=\"https://i.stack.imgur.com/bGOfj.png\" rel=\"nofollow noreferrer\">Correct report</a></p>\n<p><a href=\"https://i.stack.imgur.com/xXGkG.png\" rel=\"nofollow noreferrer\">Bad report</a></p>\n<p>In both images there is the left index for suites and there, both appears, each image is for each test expanded.</p>\n<p>Scenario: My project implements Java + maven + testng + cucumber and using allure as reporting system, to execute <code>maven-surefire-plugin</code> and to run have the following maven command: <code>clean test -Ddriver=chrome -Dmaximize=false -DthreadCount=3 -Dexecutor=jenkins -Dtimeout=10 -PCucumber</code> using a <code>testng.xml</code> file to run the cucumber test cases. Also this project has testng test cases, I'm trying to implement both systems for automation in the same project, TestNG cases are correctly logged once, but only cucumber ones got this kind of double reporting.</p>\n<p>This bad report doesn't consumes @Step allure notation for reporting so the only possibility that remains for me is that somehow testng/surefire is indexing/consuming the Cucumber test cases definition (parameters, setuUp, tearDown and result) but none of the allure annotations, because of that would discard any class building as the problem and I'm trying to figure out the problem on the pom but open to any solution.</p>\n<p>More info:</p>\n<ul>\n<li>PageObject models only contains @Step annotations</li>\n<li>DriverManager class contains a ThreadLocal to setup, fetch and tearDown drivers for each test but don't have any ncucumber or testng notation for hierarchy of execution, this methods are called by BaseTest and CucumberSupport respective clases with respective notation for each dependency.</li>\n</ul>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.seleniumTest&lt;/groupId&gt;\n    &lt;artifactId&gt;SeleniumTest&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SeleniumTest&lt;/name&gt;\n    &lt;description&gt;POC for selenium testing project implementation.&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;driver&gt;chrome&lt;/driver&gt;\n        &lt;maximize&gt;false&lt;/maximize&gt;\n        &lt;executor&gt;jenkins&lt;/executor&gt;\n        &lt;timeout&gt;10&lt;/timeout&gt;\n        &lt;threadCount&gt;3&lt;/threadCount&gt;\n\n        &lt;webdrivermanager-version&gt;5.3.3&lt;/webdrivermanager-version&gt;\n        &lt;testng-version&gt;7.7.1&lt;/testng-version&gt;\n        &lt;log4j-core-version&gt;2.20.0&lt;/log4j-core-version&gt;\n        &lt;selenium-java-version&gt;4.9.1&lt;/selenium-java-version&gt;\n        &lt;allure-testng-version&gt;2.22.0&lt;/allure-testng-version&gt;\n        &lt;jul-to-slf4j-version&gt;2.0.7&lt;/jul-to-slf4j-version&gt;\n        &lt;cucumber-version&gt;7.12.0&lt;/cucumber-version&gt;\n        &lt;gherkin-version&gt;26.0.1&lt;/gherkin-version&gt;\n        &lt;allure-cucumber7-jvm-version&gt;2.21.0&lt;/allure-cucumber7-jvm-version&gt;\n        &lt;maven-compiler-plugin-version&gt;3.11.0&lt;/maven-compiler-plugin-version&gt;\n        &lt;maven-surefire-plugin-version&gt;3.0.0-M7&lt;/maven-surefire-plugin-version&gt;\n        &lt;aspectjweaver-version&gt;1.9.8.RC2&lt;/aspectjweaver-version&gt;\n        &lt;allure-maven-version&gt;2.22.0&lt;/allure-maven-version&gt;\n\n\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- WebDriver automated manager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;${webdrivermanager-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Testing framework --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;${testng-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logger dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j-core-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Selenium framework for web testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium-java-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Reporting framework --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n            &lt;version&gt;${allure-testng-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${jul-to-slf4j-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n            &lt;version&gt;${gherkin-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\n            &lt;version&gt;${allure-cucumber7-jvm-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;TestNG&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;suiteXmlFiles&gt;\n                                &lt;suiteXmlFile&gt;config/testng.xml&lt;/suiteXmlFile&gt;\n                            &lt;/suiteXmlFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;Cucumber&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*CucumberRunnerTests.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;properties&gt;\n                                &lt;property&gt;\n                                    &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\n                                    &lt;value&gt;${threadCount}&lt;/value&gt;\n                                &lt;/property&gt;\n                            &lt;/properties&gt;\n                            &lt;argLine&gt;\n                                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectjweaver-version}/aspectjweaver-${aspectjweaver-version}.jar&quot;\n                            &lt;/argLine&gt;\n                        &lt;/configuration&gt;\n                        &lt;dependencies&gt;\n                            &lt;dependency&gt;\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                                &lt;version&gt;${aspectjweaver-version}&lt;/version&gt;\n                            &lt;/dependency&gt;\n                        &lt;/dependencies&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;TestNG+Cucumber&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;properties&gt;\n                                &lt;property&gt;\n                                    &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\n                                    &lt;value&gt;${threadCount}&lt;/value&gt;\n                                &lt;/property&gt;\n                            &lt;/properties&gt;\n                            &lt;suiteXmlFiles&gt;\n                                &lt;suiteXmlFile&gt;config/cucumber.xml&lt;/suiteXmlFile&gt;\n                                &lt;suiteXmlFile&gt;config/testng.xml&lt;/suiteXmlFile&gt;\n                            &lt;/suiteXmlFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                &lt;version&gt;${allure-maven-version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;propertiesFilePath&gt;test/resources/allure.properties&lt;/propertiesFilePath&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Repo for reference: <a href=\"https://github.com/sanflg/SeleniumTest\" rel=\"nofollow noreferrer\">https://github.com/sanflg/SeleniumTest</a></p>\n"},{"tags":["java","spring","jdbc","snowflake-cloud-data-platform","apache-commons-dbutils"],"comments":[{"owner":{"account_id":1474041,"reputation":1667,"user_id":1384908,"accept_rate":67,"display_name":"pafau k."},"score":0,"creation_date":1685903638,"post_id":76401868,"comment_id":134722659,"body_markdown":"It seems for some reason the key is interpreted as a String rather than key, see here: https://github.com/snowflakedb/snowflake-jdbc/issues/1053. There&#39;s also a workaround for Hikari in linked thread (provide key+passphrase as part of URL like so `&amp;private_key_file=/PATH_TO/key.p8&amp;private_key_file_pwd=YOUR_PRIVATE_KEY_PASSPHRASE`)","body":"It seems for some reason the key is interpreted as a String rather than key, see here: <a href=\"https://github.com/snowflakedb/snowflake-jdbc/issues/1053\" rel=\"nofollow noreferrer\">github.com/snowflakedb/snowflake-jdbc/issues/1053</a>. There&#39;s also a workaround for Hikari in linked thread (provide key+passphrase as part of URL like so <code>&amp;private_key_file=&#47;PATH_TO&#47;key.p8&amp;private_key_file_pwd=YOUR_&zwnj;&#8203;PRIVATE_KEY_PASSPHRA&zwnj;&#8203;SE</code>)"},{"owner":{"account_id":11972846,"reputation":23,"user_id":8760881,"display_name":"Saravanan"},"score":0,"creation_date":1685906126,"post_id":76401868,"comment_id":134722975,"body_markdown":"@pafau k. tried adding the private_key_file and private_key_file_pwd to the jdbcUrl property and it now throws an error,                                                             `Exception thrown while parsing Snowflake connect string. Illegal character in url.\n\njava.lang.RuntimeException: Driver net.snowflake.client.jdbc.SnowflakeDriver claims to not accept jdbcUrl, jdbc:snowflake://{account_name}.snowflakecomputing.com/?user={user}&amp;warehouse={warehouse}&amp;db=PROD&amp;schema={schema}&amp;role={role}&amp;private_key_file=key.p8&amp;private_key_file_pwd={password_string}`","body":"@pafau k. tried adding the private_key_file and private_key_file_pwd to the jdbcUrl property and it now throws an error,                                                             <code>Exception thrown while parsing Snowflake connect string. Illegal character in url.  java.lang.RuntimeException: Driver net.snowflake.client.jdbc.SnowflakeDriver claims to not accept jdbcUrl, jdbc:snowflake:&#47;&#47;{account_name}.snowflakecomputing.com&#47;?user&zwnj;&#8203;={user}&amp;warehouse={w&zwnj;&#8203;arehouse}&amp;db=PROD&amp;sc&zwnj;&#8203;hema={schema}&amp;role={&zwnj;&#8203;role}&amp;private_key_fi&zwnj;&#8203;le=key.p8&amp;private_ke&zwnj;&#8203;y_file_pwd={password&zwnj;&#8203;_string}</code>"}],"owner":{"account_id":11972846,"reputation":23,"user_id":8760881,"display_name":"Saravanan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685904972,"creation_date":1685903120,"question_id":76401868,"body_markdown":"I tried using HikariCP connection pool to connect snowflake using JDBC. I use Spring Boot configuration XML file to create a bean. I have the private key for my authentication. So I tried the following,\r\n\r\n \r\n\r\nProperties File:\r\n\r\n```\r\nsnowflake.url=jdbc:snowflake://{account_name}.snowflakecomputing.com/?warehouse=${snowflake.warehouse}&amp;db=${snowflake.database}&amp;schema=${snowflake.schema}&amp;role=${snowflake.role}\r\n```\r\n\r\nSpring Configuration XML:\r\n\r\n```\r\n&lt;bean id=&quot;dbUtil&quot; class=&quot;utilities.DbUtils&quot;&gt;\r\n    &lt;constructor-arg&gt;\r\n        &lt;bean id=&quot;snowflakeDataSource&quot; class=&quot;com.zaxxer.hikari.HikariDataSource&quot;&gt;\r\n            &lt;property name=&quot;driverClassName&quot; value=&quot;net.snowflake.client.jdbc.SnowflakeDriver&quot;/&gt;\r\n            &lt;property name=&quot;jdbcUrl&quot; value=&quot;${snowflake.url}&quot;/&gt;\r\n            &lt;property name=&quot;username&quot; value=&quot;${snowflake.user}&quot;/&gt;\r\n            &lt;property name=&quot;dataSourceProperties&quot;&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;privateKeyFile&quot;&gt;${snowflake.privateKeyPath}&lt;/prop&gt;\r\n                    &lt;prop key=&quot;privateKeyPassphrase&quot;&gt;${snowflake.privateKeyPassphrase}&lt;/prop&gt;\r\n                &lt;/props&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/constructor-arg&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nWhen trying to execute the query with commonsdbUtils library with the above configuration it throws the following error:\r\n\r\n \r\n```\r\nHikariPool-1 - Exception during pool initialization.\r\n\r\nnet.snowflake.client.jdbc.SnowflakeSQLLoggedException: Missing password.\r\nat net.snowflake.client.jdbc.DefaultSFConnectionHandler.initialize(DefaultSFConnectionHandler.java:117)\r\nat net.snowflake.client.jdbc.DefaultSFConnectionHandler.initializeConnection(DefaultSFConnectionHandler.java:85)\r\nat net.snowflake.client.jdbc.SnowflakeConnectionV1.initConnectionWithImpl(SnowflakeConnectionV1.java:116)\r\nat net.snowflake.client.jdbc.SnowflakeConnectionV1.&lt;init&gt;(SnowflakeConnectionV1.java:96)\r\nat net.snowflake.client.jdbc.SnowflakeDriver.connect(SnowflakeDriver.java:180)\r\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121)\r\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\r\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\r\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\r\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\nat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\r\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\nat org.apache.commons.dbutils.AbstractQueryRunner.prepareConnection(AbstractQueryRunner.java:319)\r\nat org.apache.commons.dbutils.QueryRunner.query(QueryRunner.java:327)\r\n```","title":"How to connect JDBC - snowflake that has private key authentication using Spring boot configuration xml via HikariCP connection pool?","body":"<p>I tried using HikariCP connection pool to connect snowflake using JDBC. I use Spring Boot configuration XML file to create a bean. I have the private key for my authentication. So I tried the following,</p>\n<p>Properties File:</p>\n<pre><code>snowflake.url=jdbc:snowflake://{account_name}.snowflakecomputing.com/?warehouse=${snowflake.warehouse}&amp;db=${snowflake.database}&amp;schema=${snowflake.schema}&amp;role=${snowflake.role}\n</code></pre>\n<p>Spring Configuration XML:</p>\n<pre><code>&lt;bean id=&quot;dbUtil&quot; class=&quot;utilities.DbUtils&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;bean id=&quot;snowflakeDataSource&quot; class=&quot;com.zaxxer.hikari.HikariDataSource&quot;&gt;\n            &lt;property name=&quot;driverClassName&quot; value=&quot;net.snowflake.client.jdbc.SnowflakeDriver&quot;/&gt;\n            &lt;property name=&quot;jdbcUrl&quot; value=&quot;${snowflake.url}&quot;/&gt;\n            &lt;property name=&quot;username&quot; value=&quot;${snowflake.user}&quot;/&gt;\n            &lt;property name=&quot;dataSourceProperties&quot;&gt;\n                &lt;props&gt;\n                    &lt;prop key=&quot;privateKeyFile&quot;&gt;${snowflake.privateKeyPath}&lt;/prop&gt;\n                    &lt;prop key=&quot;privateKeyPassphrase&quot;&gt;${snowflake.privateKeyPassphrase}&lt;/prop&gt;\n                &lt;/props&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>When trying to execute the query with commonsdbUtils library with the above configuration it throws the following error:</p>\n<pre><code>HikariPool-1 - Exception during pool initialization.\n\nnet.snowflake.client.jdbc.SnowflakeSQLLoggedException: Missing password.\nat net.snowflake.client.jdbc.DefaultSFConnectionHandler.initialize(DefaultSFConnectionHandler.java:117)\nat net.snowflake.client.jdbc.DefaultSFConnectionHandler.initializeConnection(DefaultSFConnectionHandler.java:85)\nat net.snowflake.client.jdbc.SnowflakeConnectionV1.initConnectionWithImpl(SnowflakeConnectionV1.java:116)\nat net.snowflake.client.jdbc.SnowflakeConnectionV1.&lt;init&gt;(SnowflakeConnectionV1.java:96)\nat net.snowflake.client.jdbc.SnowflakeDriver.connect(SnowflakeDriver.java:180)\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121)\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\nat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\nat org.apache.commons.dbutils.AbstractQueryRunner.prepareConnection(AbstractQueryRunner.java:319)\nat org.apache.commons.dbutils.QueryRunner.query(QueryRunner.java:327)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-test"],"comments":[{"owner":{"account_id":2087834,"reputation":7157,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"score":1,"creation_date":1484236465,"post_id":41614368,"comment_id":70436394,"body_markdown":"I suggest renaming this to &quot;How to one-off run @DataJpaTest against real database instead of in-memory&quot; (or something like that) so it sounds less subjective.","body":"I suggest renaming this to &quot;How to one-off run @DataJpaTest against real database instead of in-memory&quot; (or something like that) so it sounds less subjective."},{"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"score":1,"creation_date":1484242887,"post_id":41614368,"comment_id":70440642,"body_markdown":"The system property does not override `@ActiveProfiles`. See [SPR-8982](https://jira.spring.io/browse/SPR-8982). For a custom work-around, see http://stackoverflow.com/questions/20551681/spring-integration-tests-with-profile/33044283#33044283.","body":"The system property does not override <code>@ActiveProfiles</code>. See <a href=\"https://jira.spring.io/browse/SPR-8982\" rel=\"nofollow noreferrer\">SPR-8982</a>. For a custom work-around, see <a href=\"http://stackoverflow.com/questions/20551681/spring-integration-tests-with-profile/33044283#33044283\" title=\"spring integration tests with profile\">stackoverflow.com/questions/20551681/&hellip;</a>."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1484251811,"post_id":41614368,"comment_id":70445512,"body_markdown":"@SamBrannen Seems `@ActiveProfies` itself does not work either. The embedded db gets used anyway.","body":"@SamBrannen Seems <code>@ActiveProfies</code> itself does not work either. The embedded db gets used anyway."},{"owner":{"account_id":2770364,"reputation":1493,"user_id":8390382,"display_name":"lainatnavi"},"score":0,"creation_date":1622046429,"post_id":41614368,"comment_id":119679465,"body_markdown":"Check this for a solution to this kind of problem: https://stackoverflow.com/questions/53002232/spring-boot-datajpatest-unit-test-reverting-to-h2-instead-of-mysql. To exclude the autoconfiguration of H2 for tests use `@AutoConfigureTestDatabase(replace=Replace.NONE)`","body":"Check this for a solution to this kind of problem: <a href=\"https://stackoverflow.com/questions/53002232/spring-boot-datajpatest-unit-test-reverting-to-h2-instead-of-mysql\" title=\"spring boot datajpatest unit test reverting to h2 instead of mysql\">stackoverflow.com/questions/53002232/&hellip;</a>. To exclude the autoconfiguration of H2 for tests use <code>@AutoConfigureTestDatabase(replace=Replace.NONE)</code>"}],"answers":[{"tags":[],"owner":{"account_id":8953983,"reputation":3285,"user_id":6679072,"display_name":"ootero"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1484233115,"creation_date":1484233115,"answer_id":41616285,"question_id":41614368,"body_markdown":"You can add the profile with the MySQL datasource properties in the same application.properties (or .yml) as:\r\n\r\n**application.yml**\r\n\r\n    # Existing properties\r\n\r\n    ---\r\n    spring:\r\n      profiles: h2\r\n    # More h2-related properties\r\n\r\n    ---\r\n    spring:\r\n      profiles: postgres\r\n      database:\r\n        driverClassName: org.postgresql.Driver\r\n      datasource:\r\n        url: jdbc:postgresql://localhost:5432/db_dvdrental\r\n        username: user_dvdrental\r\n        password: changeit\r\n      jpa:\r\n        database: POSTGRESQL\r\n        generate-ddl: false\r\n    # More postgres-related properties\r\n\r\nand either use `@ActiveProfiles(&quot;postgres&quot;)` in an integration test class or start teh container using VM argument as:\r\n\r\n    java -Dspring.profiles.active=h2 ...","title":"How to one-off run @DataJpaTest against real database instead of in-memory with Spring Boot","body":"<p>You can add the profile with the MySQL datasource properties in the same application.properties (or .yml) as:</p>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code># Existing properties\n\n---\nspring:\n  profiles: h2\n# More h2-related properties\n\n---\nspring:\n  profiles: postgres\n  database:\n    driverClassName: org.postgresql.Driver\n  datasource:\n    url: jdbc:postgresql://localhost:5432/db_dvdrental\n    username: user_dvdrental\n    password: changeit\n  jpa:\n    database: POSTGRESQL\n    generate-ddl: false\n# More postgres-related properties\n</code></pre>\n\n<p>and either use <code>@ActiveProfiles(\"postgres\")</code> in an integration test class or start teh container using VM argument as:</p>\n\n<pre><code>java -Dspring.profiles.active=h2 ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2765614,"reputation":89,"user_id":2381415,"display_name":"Bruno"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1599211324,"creation_date":1599211324,"answer_id":63738360,"question_id":41614368,"body_markdown":"In the docs it states that you are able to remove the autoconfigured h2 datasource with @AutoConfigureTestDatabase(replace= Replace.NONE) on the test class https://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test.\r\n\r\nAlso you then need to provide your db setup in properties, so that it does not use your app properties e.g.:\r\n\r\n    # Database\r\n    spring.datasource.url=jdbc:mariadb://localhost:3303/test\r\n    spring.datasource.username=test\r\n    spring.datasource.password=test\r\n    spring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.show-sql=true\r\n\r\ni put this in application.properties in the test package\r\n\r\n\r\n","title":"How to one-off run @DataJpaTest against real database instead of in-memory with Spring Boot","body":"<p>In the docs it states that you are able to remove the autoconfigured h2 datasource with @AutoConfigureTestDatabase(replace= Replace.NONE) on the test class <a href=\"https://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test</a>.</p>\n<p>Also you then need to provide your db setup in properties, so that it does not use your app properties e.g.:</p>\n<pre><code># Database\nspring.datasource.url=jdbc:mariadb://localhost:3303/test\nspring.datasource.username=test\nspring.datasource.password=test\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.show-sql=true\n</code></pre>\n<p>i put this in application.properties in the test package</p>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657394713,"creation_date":1657394713,"answer_id":72924051,"question_id":41614368,"body_markdown":"1. Add application.yml(properties) with jdbc connection into src/test/resources\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Run your JPA test with @AutoConfigureTestDatabase(replace= AutoConfigureTestDatabase.Replace.NONE) - it disables using embedded database (h2), otherwise :\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;dataSource&#39;: Invocation of init method\r\n&gt; failed; nested exception is java.lang.IllegalStateException: Failed to\r\n&gt; replace DataSource with an embedded database for tests. If you want an\r\n&gt; embedded database please put a supported one on the classpath or tune\r\n&gt; the replace attribute of @AutoConfigureTestDatabase.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GPPkm.png","title":"How to one-off run @DataJpaTest against real database instead of in-memory with Spring Boot","body":"<ol>\n<li>Add application.yml(properties) with jdbc connection into src/test/resources</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/GPPkm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GPPkm.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Run your JPA test with @AutoConfigureTestDatabase(replace= AutoConfigureTestDatabase.Replace.NONE) - it disables using embedded database (h2), otherwise :</li>\n</ol>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'dataSource': Invocation of init method\nfailed; nested exception is java.lang.IllegalStateException: Failed to\nreplace DataSource with an embedded database for tests. If you want an\nembedded database please put a supported one on the classpath or tune\nthe replace attribute of @AutoConfigureTestDatabase.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685904726,"creation_date":1685904726,"answer_id":76401969,"question_id":41614368,"body_markdown":"My problem was that I had multiple application.properties in the project and DataJpaTest collected all of them and overwrote my properties meant for testing with production ones.\r\n\r\nThe best thing I came up with is to instruct the test to use a specific application.properties by annotating the class with\r\n\r\n```\r\n@TestPropertySource(properties = &quot;spring.config.location=classpath:/application.properties&quot;)\r\n@DataJpaTest\r\nclass MyRepositoryTest {\r\n  // test methods\r\n}\r\n```","title":"How to one-off run @DataJpaTest against real database instead of in-memory with Spring Boot","body":"<p>My problem was that I had multiple application.properties in the project and DataJpaTest collected all of them and overwrote my properties meant for testing with production ones.</p>\n<p>The best thing I came up with is to instruct the test to use a specific application.properties by annotating the class with</p>\n<pre><code>@TestPropertySource(properties = &quot;spring.config.location=classpath:/application.properties&quot;)\n@DataJpaTest\nclass MyRepositoryTest {\n  // test methods\n}\n</code></pre>\n"}],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6321,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1685904726,"creation_date":1484227442,"question_id":41614368,"body_markdown":"I am using Spring Boot 1.4.3 and have a whole bunch of tests that are annotated with `@DataJpaTest`. By default, they run against an in-memory database. I would like to be able to run all of them against a local MySQL temporarily. How can I do this in an easy way?\r\n\r\nI have found that I can make it work for one by adding `@ActiveProfiles(&quot;local&quot;)` where I have an `application-local.properties` that points to my local MySQL, but it is just too much work to add that everywhere, run the tests and then remove it again (since I only want to run this manually against MySQL, the CI environment will run against the in memory db).\r\n\r\nI am using Maven if that would matter. \r\n\r\nUPDATE:\r\n\r\nSo I have an `application-local.properties` which contains the db properties to connect to my local MySQL database (Which I use already to run my application against the local MySQL)\r\n\r\nThen I right-click in IntelliJ on a package and select &quot;Run all tests in package&quot;. In the settings of that run configuration, I add `-Dspring.profiles.active=local` to the &quot;VM options&quot; field.\r\n\r\nI would have thought that this would activate the `local` profile during the tests, but it does not. If I stop the local MySQL, the tests still run fine.","title":"How to one-off run @DataJpaTest against real database instead of in-memory with Spring Boot","body":"<p>I am using Spring Boot 1.4.3 and have a whole bunch of tests that are annotated with <code>@DataJpaTest</code>. By default, they run against an in-memory database. I would like to be able to run all of them against a local MySQL temporarily. How can I do this in an easy way?</p>\n\n<p>I have found that I can make it work for one by adding <code>@ActiveProfiles(\"local\")</code> where I have an <code>application-local.properties</code> that points to my local MySQL, but it is just too much work to add that everywhere, run the tests and then remove it again (since I only want to run this manually against MySQL, the CI environment will run against the in memory db).</p>\n\n<p>I am using Maven if that would matter. </p>\n\n<p>UPDATE:</p>\n\n<p>So I have an <code>application-local.properties</code> which contains the db properties to connect to my local MySQL database (Which I use already to run my application against the local MySQL)</p>\n\n<p>Then I right-click in IntelliJ on a package and select \"Run all tests in package\". In the settings of that run configuration, I add <code>-Dspring.profiles.active=local</code> to the \"VM options\" field.</p>\n\n<p>I would have thought that this would activate the <code>local</code> profile during the tests, but it does not. If I stop the local MySQL, the tests still run fine.</p>\n"},{"tags":["java","directory","ftp","ftp-client","cd"],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1604636632,"creation_date":1604026560,"answer_id":64602122,"question_id":59475577,"body_markdown":"Update:\r\n-------\r\n\r\nIt looks like the issue is caused because you use this method `retrieveFileStream();`, which needs some extra processes and the server either disconnects or behaves oddly once it is finished. Here is the key part information from the [api referance][2]:\r\n\r\n&gt; retrieveFileStream - Returns an InputStream from which a named file from\r\n&gt; the server can be read. If the current file type is ASCII, the\r\n&gt; returned InputStream will convert line separators in the file to the\r\n&gt; local representation. You **must close the InputStream when you finish**\r\n&gt; reading from it. The InputStream itself will take care of **closing the**\r\n&gt; **parent data connection socket upon being closed**.\r\n&gt; \r\n&gt; **To finalize the file transfer you must call completePendingCommand** and\r\n&gt; check its return value to verify success. If this is not done,\r\n&gt; subsequent commands may behave unexpectedly.\r\n\r\nSo you need to close the steam `is.close();` then use `ftpClient.completePendingCommand();`. Once this is done, you can check if the connection is still alive `if(ftp.isConnected() == true){...}` and if not then you can reconnect `ftp.connect(...);` then move onto your next command to change the working directory.\r\n\r\n    //Open the stream\r\n    is =ftpClient.retrieveFileStream(filename+&quot;.json&quot;);\r\n\r\n    //Process the stream data\r\n    int i=0;\r\n    String valuesinside=&quot;&quot;;\r\n    while((i = is.read())!=-1)\r\n    {\r\n        //valuesinside+=valuesinside+i;\r\n        char c = (char)i;\r\n        valuesinside+=Character.toString(c);\r\n        ftpfilelist=valuesinside;\r\n    }\r\n\r\n    //Close the stream and complete the command\r\n    is.close();\r\n    Boolean result = ftpClient.completePendingCommand();\r\n\r\n    //check if connection is alive\r\n    if(ftp.isConnected() == false){\r\n        //reconnect here with your server details\r\n        //...\r\n    }\r\n    \r\n    //Now move onto the next commands\r\n    ftpClient.changeToParentDirectory();/\r\n    ftpClient.changeWorkingDirectory(&quot;COMPLETED&quot;);\r\n    System.out.println(&quot;PARENRT+++++:::::&quot;+ftpClient.printWorkingDirectory());\r\n\r\n\r\nAlternatly you could use a different method where you manage the stream manually rather than using the API, for example you could do `retrieveFile(fileName, outputStream);`.\r\n\r\n\r\nThe ParserInitializationException error:\r\n----------------------------------------\r\n\r\nIf you are interested more about other reasons why the error happens then see here at the apache [FTPClient docs][1]:\r\n\r\n&gt; ParserInitializationException - Thrown if the parserKey parameter\r\n&gt; cannot be resolved by the selected parser factory. In the\r\n&gt; DefaultFTPEntryParserFactory, this will happen when parserKey is\r\n&gt; neither the fully qualified class name of a class implementing the\r\n&gt; interface org.apache.commons.net.ftp.FTPFileEntryParser nor a string\r\n&gt; containing one of the recognized keys mapping to such a parser or if\r\n&gt; class loader security issues prevent its being loaded.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#listFiles-java.lang.String-\r\n  [2]: https://commons.apache.org/proper/commons-net/apidocs/","title":"FTPClient path/directory change. Multiple directories in single FTPClient InputStream connect. Unknown parser type: &quot;/Path&quot; is current directory","body":"<h2>Update:</h2>\n<p>It looks like the issue is caused because you use this method <code>retrieveFileStream();</code>, which needs some extra processes and the server either disconnects or behaves oddly once it is finished. Here is the key part information from the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/\" rel=\"nofollow noreferrer\">api referance</a>:</p>\n<blockquote>\n<p>retrieveFileStream - Returns an InputStream from which a named file from\nthe server can be read. If the current file type is ASCII, the\nreturned InputStream will convert line separators in the file to the\nlocal representation. You <strong>must close the InputStream when you finish</strong>\nreading from it. The InputStream itself will take care of <strong>closing the</strong>\n<strong>parent data connection socket upon being closed</strong>.</p>\n<p><strong>To finalize the file transfer you must call completePendingCommand</strong> and\ncheck its return value to verify success. If this is not done,\nsubsequent commands may behave unexpectedly.</p>\n</blockquote>\n<p>So you need to close the steam <code>is.close();</code> then use <code>ftpClient.completePendingCommand();</code>. Once this is done, you can check if the connection is still alive <code>if(ftp.isConnected() == true){...}</code> and if not then you can reconnect <code>ftp.connect(...);</code> then move onto your next command to change the working directory.</p>\n<pre><code>//Open the stream\nis =ftpClient.retrieveFileStream(filename+&quot;.json&quot;);\n\n//Process the stream data\nint i=0;\nString valuesinside=&quot;&quot;;\nwhile((i = is.read())!=-1)\n{\n    //valuesinside+=valuesinside+i;\n    char c = (char)i;\n    valuesinside+=Character.toString(c);\n    ftpfilelist=valuesinside;\n}\n\n//Close the stream and complete the command\nis.close();\nBoolean result = ftpClient.completePendingCommand();\n\n//check if connection is alive\nif(ftp.isConnected() == false){\n    //reconnect here with your server details\n    //...\n}\n\n//Now move onto the next commands\nftpClient.changeToParentDirectory();/\nftpClient.changeWorkingDirectory(&quot;COMPLETED&quot;);\nSystem.out.println(&quot;PARENRT+++++:::::&quot;+ftpClient.printWorkingDirectory());\n</code></pre>\n<p>Alternatly you could use a different method where you manage the stream manually rather than using the API, for example you could do <code>retrieveFile(fileName, outputStream);</code>.</p>\n<h2>The ParserInitializationException error:</h2>\n<p>If you are interested more about other reasons why the error happens then see here at the apache <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#listFiles-java.lang.String-\" rel=\"nofollow noreferrer\">FTPClient docs</a>:</p>\n<blockquote>\n<p>ParserInitializationException - Thrown if the parserKey parameter\ncannot be resolved by the selected parser factory. In the\nDefaultFTPEntryParserFactory, this will happen when parserKey is\nneither the fully qualified class name of a class implementing the\ninterface org.apache.commons.net.ftp.FTPFileEntryParser nor a string\ncontaining one of the recognized keys mapping to such a parser or if\nclass loader security issues prevent its being loaded.</p>\n</blockquote>\n"}],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64602122,"answer_count":1,"score":1,"last_activity_date":1685903527,"creation_date":1577253003,"question_id":59475577,"body_markdown":"FTPClient.changeWorkingDirectory &amp; changeToParentDirectory(). How to change directory in ftpCient. In explorer the ftp path looks like this `ftp://192.168.10.20`. once entering this, I can see folders `COMPLETED, FAILURE and QRCODEGENERATE`. In my java code first I&#39;m entering inside `FAILURE` folder and getting the respective file. And this process is successfully done. After getting it I want to enter into `COMPLETED` folder, I mean the directory path has to be changed like this `/FAILURE` to `COMPLETED` but it&#39;s getting error. I shared the Console error at the bottom.\r\n\r\nI can get the value if I close the connection and open again. But I dont want to do like that. I want to change the directory with out closing the connection.\r\n\r\n1.First I&#39;m getting into `FAILURE` and I&#39;m accessing a file and its contents.\r\n\r\n2.Then I&#39;m going back to `COMPLETED` and I want to access the files and its contents.\r\n\r\nHere is my JAVA code\r\n\r\n                \r\n\r\n\r\n    InputStream is = null;\r\n    ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n    ftpClient.enterLocalPassiveMode();\r\n    strDir= &quot;FAILURE&quot;;\r\n    ftpClient.printWorkingDirectory();\r\n    String[] ftpList=ftpClient.listNames();\r\n    //Here I&#39;m listing the folders present in parent directory\r\n    for(int i =0; i&lt;ftpList.length;i++)\r\n    {\r\n    \tString ftpFilsList=ftpList[i];\r\n    \tSystem.out.println(&quot;.........::::::::::&quot;+ftpFilsList);\r\n    }\r\n\r\n    //getting into Failure Folder and fetching file\r\n\r\n    ftpClient.changeWorkingDirectory(ftpClient.printWorkingDirectory()+strDir);\r\n    System.out.println(&quot;prnt#WorkingDir&quot;+ftpClient.printWorkingDirectory());\r\n    is =ftpClient.retrieveFileStream(filename+&quot;.json&quot;);\r\n    \r\n    int i=0;\r\n    String valuesinside=&quot;&quot;;\r\n    while((i = is.read())!=-1)\r\n    {\r\n    \t//valuesinside+=valuesinside+i;\r\n    \tchar c = (char)i;\r\n        valuesinside+=Character.toString(c);\r\n        ftpfilelist=valuesinside;\r\n    }\r\n    //Successfully Fetched file and its contents\r\n    \t\t\t\t\r\n    //change the directory to COMPLETED Folder\r\n    \t\t\t\t\r\n    String strFullFileName = &quot;&quot;;\r\n    File fileJson=null;\r\n    int intfilecount=00;\r\n    String strFileCount=&quot;&quot;;\r\n    strDir = &quot;COMPLETED&quot;;\r\n    \t\t\t\t\r\n    ftpClient.changeToParentDirectory();//To go back to previos directory\r\n    System.out.println(&quot;PARENRT+++++:::::&quot;+ftpClient.printWorkingDirectory());//This shows null\r\n    ftpClient.changeWorkingDirectory(strDir);\r\n    ftpClient.printWorkingDirectory();\r\n    System.out.println(&quot;COMPLETED+++++:::::&quot;+ftpClient.printWorkingDirectory());//Shows &quot;/COMPLETED&quot; in the console. but not getting the files.\r\n    FTPFile[] fileJsonReader=ftpClient.listFiles(ftpClient.printWorkingDirectory()); \r\n    for(FTPFile ftpFile:fileJsonReader)\r\n    {\r\n        String strJsonFileName=null;\r\n        strJsonFileName=ftpFile.getName();\r\n    \tSystem.out.println(&quot;strJsonFileName:::+++++&quot;+strJsonFileName);\r\n        String strBillNoFile=strJsonFileName.substring(0, strJsonFileName.lastIndexOf(&quot;-&quot;));//-01\r\n    \tSystem.out.println(&quot;strBillNoFile+++++::::::&quot;+strBillNoFile);\r\n    \tstrBillNoFile=strBillNoFile+&quot;.json&quot;;\r\n    \tSystem.out.println(&quot;strBillNoFile:::::+++++&quot;+strBillNoFile);\r\n    \tif(strBillNoFile.equalsIgnoreCase(filename.getName()))\r\n    \t{\r\n    \t\t\r\n    \t\tintfilecount=intfilecount+1;\r\n        }\r\n     }\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIn console I&#39;m getting error like this. You can see the list of folders shown first.\r\n\r\n    .....................:::::::::::::::COMPLETED\r\n    .......................:::::::::::::::FAILURE\r\n    .......................:::::::::::::::QRCODEGENERATE\r\n    prnt#WorkingDir/FAILURE\r\n    PARENT+++++:::::::null\r\n    COMPLETED+++++:::::/COMPLETED\r\n    org.apache.commons.net.ftp.parser.ParserInitializationException: Unknown parser type: &quot;/COMPLETED&quot; is current directory.\r\n    at org.apache.commons.net.ftp.parser.DefaultFTPFileEntryParserFactory.createFileEntryParser(DefaultFTPFileEntryParserFactory.java:132)\r\n    \tat org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2263)\r\n    \tat org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2046)\r\n    \tat com.restService.FtpJson.FTPAuthJSONReader(FtpJson.java:130)\r\n    \tat com.restService.JsonFailCompleted.getMessage(JsonFailCompleted.java:27)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\r\n    \tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:469)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:391)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:80)\r\n    \tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:253)\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n    \tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:232)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n    \tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n    \tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat com.thetransactioncompany.cors.CORSFilter.doFilter(CORSFilter.java:209)\r\n    \tat com.thetransactioncompany.cors.CORSFilter.doFilter(CORSFilter.java:244)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n    \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\r\n    \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:610)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:503)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nplease help me to solve this. Thanks in advance\r\n\r\n\r\n## Solution ##\r\n\r\n-----Just closed the inputStream `is.close()` and `Boolean result = ftpClient.completePendingCommand();`\r\n\r\n## Throws nullPointerException in InputStream ##\r\n`is =ftpClient.retrieveFileStream(filename+&quot;.json&quot;);` here if the folder doesn&#39;t have the requested file name, it throws NullPointerException. How to handle it without changing `retrieveFileStream`?","title":"FTPClient path/directory change. Multiple directories in single FTPClient InputStream connect. Unknown parser type: &quot;/Path&quot; is current directory","body":"<p>FTPClient.changeWorkingDirectory &amp; changeToParentDirectory(). How to change directory in ftpCient. In explorer the ftp path looks like this <code>ftp://192.168.10.20</code>. once entering this, I can see folders <code>COMPLETED, FAILURE and QRCODEGENERATE</code>. In my java code first I'm entering inside <code>FAILURE</code> folder and getting the respective file. And this process is successfully done. After getting it I want to enter into <code>COMPLETED</code> folder, I mean the directory path has to be changed like this <code>/FAILURE</code> to <code>COMPLETED</code> but it's getting error. I shared the Console error at the bottom.</p>\n<p>I can get the value if I close the connection and open again. But I dont want to do like that. I want to change the directory with out closing the connection.</p>\n<p>1.First I'm getting into <code>FAILURE</code> and I'm accessing a file and its contents.</p>\n<p>2.Then I'm going back to <code>COMPLETED</code> and I want to access the files and its contents.</p>\n<p>Here is my JAVA code</p>\n<pre><code>InputStream is = null;\nftpClient.setFileType(FTP.BINARY_FILE_TYPE);\nftpClient.enterLocalPassiveMode();\nstrDir= &quot;FAILURE&quot;;\nftpClient.printWorkingDirectory();\nString[] ftpList=ftpClient.listNames();\n//Here I'm listing the folders present in parent directory\nfor(int i =0; i&lt;ftpList.length;i++)\n{\n    String ftpFilsList=ftpList[i];\n    System.out.println(&quot;.........::::::::::&quot;+ftpFilsList);\n}\n\n//getting into Failure Folder and fetching file\n\nftpClient.changeWorkingDirectory(ftpClient.printWorkingDirectory()+strDir);\nSystem.out.println(&quot;prnt#WorkingDir&quot;+ftpClient.printWorkingDirectory());\nis =ftpClient.retrieveFileStream(filename+&quot;.json&quot;);\n\nint i=0;\nString valuesinside=&quot;&quot;;\nwhile((i = is.read())!=-1)\n{\n    //valuesinside+=valuesinside+i;\n    char c = (char)i;\n    valuesinside+=Character.toString(c);\n    ftpfilelist=valuesinside;\n}\n//Successfully Fetched file and its contents\n                \n//change the directory to COMPLETED Folder\n                \nString strFullFileName = &quot;&quot;;\nFile fileJson=null;\nint intfilecount=00;\nString strFileCount=&quot;&quot;;\nstrDir = &quot;COMPLETED&quot;;\n                \nftpClient.changeToParentDirectory();//To go back to previos directory\nSystem.out.println(&quot;PARENRT+++++:::::&quot;+ftpClient.printWorkingDirectory());//This shows null\nftpClient.changeWorkingDirectory(strDir);\nftpClient.printWorkingDirectory();\nSystem.out.println(&quot;COMPLETED+++++:::::&quot;+ftpClient.printWorkingDirectory());//Shows &quot;/COMPLETED&quot; in the console. but not getting the files.\nFTPFile[] fileJsonReader=ftpClient.listFiles(ftpClient.printWorkingDirectory()); \nfor(FTPFile ftpFile:fileJsonReader)\n{\n    String strJsonFileName=null;\n    strJsonFileName=ftpFile.getName();\n    System.out.println(&quot;strJsonFileName:::+++++&quot;+strJsonFileName);\n    String strBillNoFile=strJsonFileName.substring(0, strJsonFileName.lastIndexOf(&quot;-&quot;));//-01\n    System.out.println(&quot;strBillNoFile+++++::::::&quot;+strBillNoFile);\n    strBillNoFile=strBillNoFile+&quot;.json&quot;;\n    System.out.println(&quot;strBillNoFile:::::+++++&quot;+strBillNoFile);\n    if(strBillNoFile.equalsIgnoreCase(filename.getName()))\n    {\n        \n        intfilecount=intfilecount+1;\n    }\n }\n</code></pre>\n<p>In console I'm getting error like this. You can see the list of folders shown first.</p>\n<pre><code>.....................:::::::::::::::COMPLETED\n.......................:::::::::::::::FAILURE\n.......................:::::::::::::::QRCODEGENERATE\nprnt#WorkingDir/FAILURE\nPARENT+++++:::::::null\nCOMPLETED+++++:::::/COMPLETED\norg.apache.commons.net.ftp.parser.ParserInitializationException: Unknown parser type: &quot;/COMPLETED&quot; is current directory.\nat org.apache.commons.net.ftp.parser.DefaultFTPFileEntryParserFactory.createFileEntryParser(DefaultFTPFileEntryParserFactory.java:132)\n    at org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2263)\n    at org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2046)\n    at com.restService.FtpJson.FTPAuthJSONReader(FtpJson.java:130)\n    at com.restService.JsonFailCompleted.getMessage(JsonFailCompleted.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:469)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:391)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:80)\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:253)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:232)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\n    at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n    at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at com.thetransactioncompany.cors.CORSFilter.doFilter(CORSFilter.java:209)\n    at com.thetransactioncompany.cors.CORSFilter.doFilter(CORSFilter.java:244)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:610)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:503)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>please help me to solve this. Thanks in advance</p>\n<h2>Solution</h2>\n<p>-----Just closed the inputStream <code>is.close()</code> and <code>Boolean result = ftpClient.completePendingCommand();</code></p>\n<h2>Throws nullPointerException in InputStream</h2>\n<p><code>is =ftpClient.retrieveFileStream(filename+&quot;.json&quot;);</code> here if the folder doesn't have the requested file name, it throws NullPointerException. How to handle it without changing <code>retrieveFileStream</code>?</p>\n"},{"tags":["java","linux","crystal-reports"],"answers":[{"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585129777,"creation_date":1585129777,"answer_id":60846358,"question_id":60655544,"body_markdown":"It is not supported in Linux, you can check the versions [on this page][1]:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd [will not be supported ever][3], unlikely SAP will develop any new features except patches for the out of sale software.\r\n\r\n\r\n  [1]: https://origin.softwaredownloads.sap.com/public/site/index.html\r\n  [2]: https://i.stack.imgur.com/dyQYt.png\r\n  [3]: https://wiki.scn.sap.com/wiki/display/BOBJ/End+of+SAP+Crystal+Presentation+Design","title":"SAP Crystal Decisions integration does not work on Linux","body":"<p>It is not supported in Linux, you can check the versions <a href=\"https://origin.softwaredownloads.sap.com/public/site/index.html\" rel=\"nofollow noreferrer\">on this page</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dyQYt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dyQYt.png\" alt=\"enter image description here\"></a></p>\n\n<p>And <a href=\"https://wiki.scn.sap.com/wiki/display/BOBJ/End+of+SAP+Crystal+Presentation+Design\" rel=\"nofollow noreferrer\">will not be supported ever</a>, unlikely SAP will develop any new features except patches for the out of sale software.</p>\n"},{"tags":[],"owner":{"account_id":930126,"reputation":151,"user_id":960147,"display_name":"busitech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638665689,"creation_date":1638665323,"answer_id":70230695,"question_id":60655544,"body_markdown":"In our tests, this issue does not occur using JDK 8 on Linux.  It begins happening when using JDK 11 and higher.  In JDK 11, Oracle removed the T2K font rasterizer, no longer ships any fonts and relies entirely on fonts installed on the operating system.\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/migrate/index.html","title":"SAP Crystal Decisions integration does not work on Linux","body":"<p>In our tests, this issue does not occur using JDK 8 on Linux.  It begins happening when using JDK 11 and higher.  In JDK 11, Oracle removed the T2K font rasterizer, no longer ships any fonts and relies entirely on fonts installed on the operating system.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/migrate/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/migrate/index.html</a></p>\n"}],"owner":{"account_id":3714661,"reputation":74,"user_id":3091170,"display_name":"user3091170"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685903465,"creation_date":1584021093,"question_id":60655544,"body_markdown":"We are building a web API that calls the SAP Crystal Decisions Library, to generate PDF reports. It works when running on our Windows 10 developer PCs, but when we deploy it inside a Linux Docker image, there is an exception related to libfreetype6 font library. If the library is uninstalled from our Linux image, it complains the library is not installed. If we install the library, either manually with apt-get or by using a docker image that already has it installed we get the following exception:\r\n\r\n&gt; java.lang.NullPointerException: null\r\n    at com.crystaldecisions.reports.exporters.format.page.pdf.fontembedding.opentype.tables.OS2Table.&lt;init&gt;(SourceFile:108) ~[CrystalReportsRuntime.jar!/:12.2.226.3772]```\r\n\r\n\r\nSAP Support claims there is no direct dependency on this library, so I am wondering where to start in troubleshooting this issue. I cannot locate it on my Windows machine either. How can I confirm whether it&#39;s included in the JDK? I have tried Java 10 and Java 11 JREs and JDKs, the error is the same.\r\n\r\nThanks for any ideas.","title":"SAP Crystal Decisions integration does not work on Linux","body":"<p>We are building a web API that calls the SAP Crystal Decisions Library, to generate PDF reports. It works when running on our Windows 10 developer PCs, but when we deploy it inside a Linux Docker image, there is an exception related to libfreetype6 font library. If the library is uninstalled from our Linux image, it complains the library is not installed. If we install the library, either manually with apt-get or by using a docker image that already has it installed we get the following exception:</p>\n<blockquote>\n<p>java.lang.NullPointerException: null\nat com.crystaldecisions.reports.exporters.format.page.pdf.fontembedding.opentype.tables.OS2Table.(SourceFile:108) ~[CrystalReportsRuntime.jar!/:12.2.226.3772]```</p>\n</blockquote>\n<p>SAP Support claims there is no direct dependency on this library, so I am wondering where to start in troubleshooting this issue. I cannot locate it on my Windows machine either. How can I confirm whether it's included in the JDK? I have tried Java 10 and Java 11 JREs and JDKs, the error is the same.</p>\n<p>Thanks for any ideas.</p>\n"},{"tags":["java","network-programming","netty"],"comments":[{"owner":{"account_id":11193344,"reputation":1,"user_id":8212927,"display_name":"SeerBird"},"score":0,"creation_date":1686054955,"post_id":76401866,"comment_id":134744048,"body_markdown":"Added new options, &#39;ChannelOption.IP_MULTICAST_LOOP_DISABLED, true&#39; and &#39;ChannelOption.SO_BROADCAST,true&#39;. According to [source](https://docs.oracle.com/javase/7/docs/technotes/guides/net/socketOpt.html) those are needed, but I cannot test this as I do not have access to two separate devices at the moment","body":"Added new options, &#39;ChannelOption.IP_MULTICAST_LOOP_DISABLED, true&#39; and &#39;ChannelOption.SO_BROADCAST,true&#39;. According to <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/net/socketOpt.html\" rel=\"nofollow noreferrer\">source</a> those are needed, but I cannot test this as I do not have access to two separate devices at the moment"},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1686206280,"post_id":76401866,"comment_id":134767913,"body_markdown":"Double check java is added to your firewall if you are using Windows. Windows doe snot allow you to receive traffic to a multicast group if the program does not allows incoming connections in the firewall","body":"Double check java is added to your firewall if you are using Windows. Windows doe snot allow you to receive traffic to a multicast group if the program does not allows incoming connections in the firewall"}],"owner":{"account_id":11193344,"reputation":1,"user_id":8212927,"display_name":"SeerBird"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685903423,"creation_date":1685903115,"question_id":76401866,"body_markdown":"I am trying to use netty 4.1 for LAN discovery in a school project I&#39;m doing, where one instance of my program(&quot;server&quot; later) joins a hard-coded multicast group and sends a status `DatagramPacket` to that group every second, and another instance of my program(&quot;client&quot; later) joins that same group and receives those packets. The server does join the group and does send the packets to that group, and I can see those packets in the data capture in WireShark on other devices, but no channelRead events are fired in the client&#39;s `NioDatagramChannel`, unless the server and the client are on the same device.\r\nI couldn&#39;t find any good/recent examples of multicasting with netty, and I can&#39;t come up with a way to approach this.\r\n\r\nHere&#39;s my setup of a multicaster, which is the same for both client and server:\r\n\r\n```\r\n{\r\ngroup = new NioEventLoopGroup();\r\n  try {\r\n      Bootstrap b = new Bootstrap()\r\n              .group(group)\r\n              .channelFactory((ChannelFactory&lt;NioDatagramChannel&gt;) () -&gt; new NioDatagramChannel(InternetProtocolFamily.IPv4))\r\n              .localAddress(Multiplayer.localIp, groupAddress.getPort())\r\n              .option(ChannelOption.IP_MULTICAST_IF, Multiplayer.networkInterface)\r\n              .option(ChannelOption.SO_REUSEADDR, true)\r\n              .handler(new ServerDiscoverer(servers));\r\n      ch = (NioDatagramChannel) b.bind(groupAddress.getPort()).sync().channel();\r\n      ch.joinGroup(groupAddress, Multiplayer.networkInterface).addListener(future -&gt;\r\n              logger.info(&quot;Listening for servers on &quot; + groupAddress.getAddress().getHostAddress() + &#39;:&#39; + groupAddress.getPort()\r\n                      + &quot; on interface &quot; + Multiplayer.networkInterface.getDisplayName())).sync();\r\n      if (isServer) {\r\n          startBroadcast();\r\n      }\r\n      ch.closeFuture().sync().addListener(future -&gt; logger.info(&quot;Closing multicast channel&quot;));\r\n  } catch (InterruptedException e) {\r\n      e.printStackTrace();\r\n  } finally {\r\n      group.shutdownGracefully();\r\n  }      \r\n}\r\n```\r\n`Multiplayer.localIp` should be the ip address assigned to the device by the router, and `Multiplayer.networkInterface` should be an interface that is interacting with the local area. `groupAddress` is the hard-coded multicast address used by my program.\r\nI expected `channelRead0` to fire on the `ServerDiscoverer` instance passed into `.handler()`, but it only does when the server is run on the same machine as the client.\r\nI really hope that there is just a problem with this setup, because otherwise I have absolutely no idea of what to look at next. Basically, my questions are: is there anything obviously wrong with the code above? What problem could cause the `channelRead0` to only trigger if the server and the client are on the same machine?\r\n","title":"Netty Multicasting Setup","body":"<p>I am trying to use netty 4.1 for LAN discovery in a school project I'm doing, where one instance of my program(&quot;server&quot; later) joins a hard-coded multicast group and sends a status <code>DatagramPacket</code> to that group every second, and another instance of my program(&quot;client&quot; later) joins that same group and receives those packets. The server does join the group and does send the packets to that group, and I can see those packets in the data capture in WireShark on other devices, but no channelRead events are fired in the client's <code>NioDatagramChannel</code>, unless the server and the client are on the same device.\nI couldn't find any good/recent examples of multicasting with netty, and I can't come up with a way to approach this.</p>\n<p>Here's my setup of a multicaster, which is the same for both client and server:</p>\n<pre><code>{\ngroup = new NioEventLoopGroup();\n  try {\n      Bootstrap b = new Bootstrap()\n              .group(group)\n              .channelFactory((ChannelFactory&lt;NioDatagramChannel&gt;) () -&gt; new NioDatagramChannel(InternetProtocolFamily.IPv4))\n              .localAddress(Multiplayer.localIp, groupAddress.getPort())\n              .option(ChannelOption.IP_MULTICAST_IF, Multiplayer.networkInterface)\n              .option(ChannelOption.SO_REUSEADDR, true)\n              .handler(new ServerDiscoverer(servers));\n      ch = (NioDatagramChannel) b.bind(groupAddress.getPort()).sync().channel();\n      ch.joinGroup(groupAddress, Multiplayer.networkInterface).addListener(future -&gt;\n              logger.info(&quot;Listening for servers on &quot; + groupAddress.getAddress().getHostAddress() + ':' + groupAddress.getPort()\n                      + &quot; on interface &quot; + Multiplayer.networkInterface.getDisplayName())).sync();\n      if (isServer) {\n          startBroadcast();\n      }\n      ch.closeFuture().sync().addListener(future -&gt; logger.info(&quot;Closing multicast channel&quot;));\n  } catch (InterruptedException e) {\n      e.printStackTrace();\n  } finally {\n      group.shutdownGracefully();\n  }      \n}\n</code></pre>\n<p><code>Multiplayer.localIp</code> should be the ip address assigned to the device by the router, and <code>Multiplayer.networkInterface</code> should be an interface that is interacting with the local area. <code>groupAddress</code> is the hard-coded multicast address used by my program.\nI expected <code>channelRead0</code> to fire on the <code>ServerDiscoverer</code> instance passed into <code>.handler()</code>, but it only does when the server is run on the same machine as the client.\nI really hope that there is just a problem with this setup, because otherwise I have absolutely no idea of what to look at next. Basically, my questions are: is there anything obviously wrong with the code above? What problem could cause the <code>channelRead0</code> to only trigger if the server and the client are on the same machine?</p>\n"},{"tags":["java","android","android-source","custom-rom"],"comments":[{"owner":{"account_id":9987229,"reputation":475,"user_id":9458132,"display_name":"Rajat Gupta"},"score":0,"creation_date":1685902283,"post_id":76398018,"comment_id":134722483,"body_markdown":"The warning is fine. You would need to share more details here, what android version it is? Did you sign the app with the platform key? Does it have all the pemissions?","body":"The warning is fine. You would need to share more details here, what android version it is? Did you sign the app with the platform key? Does it have all the pemissions?"},{"owner":{"account_id":8057643,"reputation":4920,"user_id":6074224,"accept_rate":60,"display_name":"Biscuit"},"score":0,"creation_date":1685903143,"post_id":76398018,"comment_id":134722600,"body_markdown":"I&#39;ve added the info Rajat :)","body":"I&#39;ve added the info Rajat :)"}],"owner":{"account_id":8057643,"reputation":4920,"user_id":6074224,"accept_rate":60,"display_name":"Biscuit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685903133,"creation_date":1685825846,"question_id":76398018,"body_markdown":"My usecase is really simple, I want to create a system app which starts a Service. (I&#39;m new to custom-rom development)\r\n\r\nTo do so I&#39;ve added: `android:sharedUserId=&quot;android.uid.system&quot;` in my AndroidManifest.xml. As of now I&#39;m still using an official Android version in my emulator (which is probably why I&#39;m getting this issue)\r\n\r\nI start my service with:\r\n```java\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) context.startForegroundService(service);\r\nelse context.startService(service);\r\n```\r\nUnfortunately the service doesn&#39;t start and I get the following error:\r\n```xml\r\nCalling a method in the system process without a qualified user: \r\nandroid.app.ContextImpl.startForegroundService:1466 \r\nandroid.content.ContextWrapper.startForegroundService:649\r\n```\r\n\r\n---\r\nEDIT: When looking to the source file the warn comes from the [`startForegroundService`](https://android.googlesource.com/platform/frameworks/base/+/b267554/core/java/android/app/ContextImpl.java#1393) which does:\r\n```java\r\n@Override\r\npublic ComponentName startService(Intent service) {\r\n    warnIfCallingFromSystemProcess();\r\n    return startServiceAsUser(service, mUser);\r\n}\r\n```\r\n\r\n---\r\nEDIT2: After some more investigation, I think the issue comes from \r\n```xml\r\ntype=1400 audit(0.0:31): avc: denied { create } for name=&quot;mgmtsocket&quot; scontext=u:r:system_app:s0 tcontext=u:object_r:system_app_data_file:s0 tclass=sock_file permissive=0\r\n```\r\n---\r\nEDIT3: More informations:\r\n- I&#39;m testing against a rooted emulator which runs on Android 8 API 26 (official version)\r\n- I&#39;ve signed my app using the AOSP key from [this](https://github.com/aosp-mirror/platform_build/blob/master/target/product/security/) and using the following command line `apksigner sign --key platform.pk8 --cert platform.x509.pem filename.apk`\r\n- Concerning my permissions and service I have:\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\r\n&lt;service\r\n    android:name=&quot;.MyService&quot;\r\n    android:permission=&quot;android.permission.BIND_VPN_SERVICE&quot;\r\n    android:exported=&quot;false&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.net.VpnService&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/service&gt;\r\n``` ","title":"Start service from system app in a custom rom","body":"<p>My usecase is really simple, I want to create a system app which starts a Service. (I'm new to custom-rom development)</p>\n<p>To do so I've added: <code>android:sharedUserId=&quot;android.uid.system&quot;</code> in my AndroidManifest.xml. As of now I'm still using an official Android version in my emulator (which is probably why I'm getting this issue)</p>\n<p>I start my service with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) context.startForegroundService(service);\nelse context.startService(service);\n</code></pre>\n<p>Unfortunately the service doesn't start and I get the following error:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>Calling a method in the system process without a qualified user: \nandroid.app.ContextImpl.startForegroundService:1466 \nandroid.content.ContextWrapper.startForegroundService:649\n</code></pre>\n<hr />\n<p>EDIT: When looking to the source file the warn comes from the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/b267554/core/java/android/app/ContextImpl.java#1393\" rel=\"nofollow noreferrer\"><code>startForegroundService</code></a> which does:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic ComponentName startService(Intent service) {\n    warnIfCallingFromSystemProcess();\n    return startServiceAsUser(service, mUser);\n}\n</code></pre>\n<hr />\n<p>EDIT2: After some more investigation, I think the issue comes from</p>\n<pre class=\"lang-xml prettyprint-override\"><code>type=1400 audit(0.0:31): avc: denied { create } for name=&quot;mgmtsocket&quot; scontext=u:r:system_app:s0 tcontext=u:object_r:system_app_data_file:s0 tclass=sock_file permissive=0\n</code></pre>\n<hr />\n<p>EDIT3: More informations:</p>\n<ul>\n<li>I'm testing against a rooted emulator which runs on Android 8 API 26 (official version)</li>\n<li>I've signed my app using the AOSP key from <a href=\"https://github.com/aosp-mirror/platform_build/blob/master/target/product/security/\" rel=\"nofollow noreferrer\">this</a> and using the following command line <code>apksigner sign --key platform.pk8 --cert platform.x509.pem filename.apk</code></li>\n<li>Concerning my permissions and service I have:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n\n&lt;service\n    android:name=&quot;.MyService&quot;\n    android:permission=&quot;android.permission.BIND_VPN_SERVICE&quot;\n    android:exported=&quot;false&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.net.VpnService&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n"},{"tags":["java","json","apache-nifi","execute-script"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1685373295,"post_id":76356706,"comment_id":134647875,"body_markdown":"What happened to 617? Do the 0-s and 1-s matter somewhere?","body":"What happened to 617? Do the 0-s and 1-s matter somewhere?"},{"owner":{"account_id":28605833,"reputation":35,"user_id":21901800,"display_name":"dash"},"score":0,"creation_date":1685379306,"post_id":76356706,"comment_id":134648802,"body_markdown":"No they dont, but data is like this only, So I have to ignore the 0&#39;s and 1&#39;s. And I forgot to add for 617, it goes same as of other indexe values.","body":"No they dont, but data is like this only, So I have to ignore the 0&#39;s and 1&#39;s. And I forgot to add for 617, it goes same as of other indexe values."}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685898725,"creation_date":1685898725,"answer_id":76401542,"question_id":76356706,"body_markdown":"You may try library _Josson &amp; Jossons_ to transform and join the two datasets.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialize, Transform and Join__\r\n\r\nLeft join `&lt;=&lt;` two transformed datasets with matching `key`.\r\n\r\n    Josson response = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;status\\&quot;: \\&quot;success\\&quot;,&quot; +\r\n        &quot;    \\&quot;data\\&quot;: [[123, 0], [124, 0], [446, 0], [617, 1], [620, 0], [470 ,1]]&quot; +\r\n        &quot;}&quot;);\r\n    Josson jsonData = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;Emp_Id\\&quot;: \\&quot;All\\&quot;,&quot; +\r\n        &quot;    \\&quot;Emp_loc\\&quot;: \\&quot;523\\&quot;,&quot; +\r\n        &quot;    \\&quot;Emp_dept\\&quot;: \\&quot;Management\\&quot;,&quot; +\r\n        &quot;    \\&quot;Emp_sub_dept\\&quot;: \\&quot;Finance\\&quot;,&quot; +\r\n        &quot;    \\&quot;Emp_sub_dept2\\&quot;: \\&quot;Accountant\\&quot;&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = new Jossons()\r\n        .putDataset(&quot;response&quot;, response)\r\n        .putDataset(&quot;jsonData&quot;, jsonData)\r\n        .evaluateQuery(&quot;response-&gt;data@.[0].map(Emp_Id:?,key:&#39;All&#39;){key} &lt;=&lt; jsonData-&gt;field(key:Emp_Id,Emp_Id:){key}&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    [ {\r\n      &quot;Emp_Id&quot; : 123,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 124,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 446,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 617,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 620,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 470,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    } ]\r\n\r\n---\r\n__Demonstrate the transformation of `response`__\r\n\r\nDivert each `data` element to separate branches.  For each branch, get the first array element and then build an object with element `Emp_Id` and `key`.\r\n\r\n    JsonNode node = response.getNode(&quot;data@.[0].map(Emp_Id:?,key:&#39;All&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    [ {\r\n      &quot;Emp_Id&quot; : 123,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 124,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 446,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 617,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 620,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 470,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    } ]\r\n\r\n__Demonstrate the transformation of `jsonData`__\r\n\r\nAdd an element `key` with the value of `Emp_Id` and then remove `Emp_Id`.\r\n\r\n    JsonNode node = jsonData.getNode(&quot;field(key:Emp_Id,Emp_Id:)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }\r\n\r\n","title":"How can I replace a value in json data in Java?","body":"<p>You may try library <em>Josson &amp; Jossons</em> to transform and join the two datasets.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialize, Transform and Join</strong></p>\n<p>Left join <code>&lt;=&lt;</code> two transformed datasets with matching <code>key</code>.</p>\n<pre><code>Josson response = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;status\\&quot;: \\&quot;success\\&quot;,&quot; +\n    &quot;    \\&quot;data\\&quot;: [[123, 0], [124, 0], [446, 0], [617, 1], [620, 0], [470 ,1]]&quot; +\n    &quot;}&quot;);\nJosson jsonData = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;Emp_Id\\&quot;: \\&quot;All\\&quot;,&quot; +\n    &quot;    \\&quot;Emp_loc\\&quot;: \\&quot;523\\&quot;,&quot; +\n    &quot;    \\&quot;Emp_dept\\&quot;: \\&quot;Management\\&quot;,&quot; +\n    &quot;    \\&quot;Emp_sub_dept\\&quot;: \\&quot;Finance\\&quot;,&quot; +\n    &quot;    \\&quot;Emp_sub_dept2\\&quot;: \\&quot;Accountant\\&quot;&quot; +\n    &quot;}&quot;);\nJsonNode node = new Jossons()\n    .putDataset(&quot;response&quot;, response)\n    .putDataset(&quot;jsonData&quot;, jsonData)\n    .evaluateQuery(&quot;response-&gt;data@.[0].map(Emp_Id:?,key:'All'){key} &lt;=&lt; jsonData-&gt;field(key:Emp_Id,Emp_Id:){key}&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;Emp_Id&quot; : 123,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n}, {\n  &quot;Emp_Id&quot; : 124,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n}, {\n  &quot;Emp_Id&quot; : 446,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n}, {\n  &quot;Emp_Id&quot; : 617,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n}, {\n  &quot;Emp_Id&quot; : 620,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n}, {\n  &quot;Emp_Id&quot; : 470,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n} ]\n</code></pre>\n<hr />\n<p><strong>Demonstrate the transformation of <code>response</code></strong></p>\n<p>Divert each <code>data</code> element to separate branches.  For each branch, get the first array element and then build an object with element <code>Emp_Id</code> and <code>key</code>.</p>\n<pre><code>JsonNode node = response.getNode(&quot;data@.[0].map(Emp_Id:?,key:'All')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;Emp_Id&quot; : 123,\n  &quot;key&quot; : &quot;All&quot;\n}, {\n  &quot;Emp_Id&quot; : 124,\n  &quot;key&quot; : &quot;All&quot;\n}, {\n  &quot;Emp_Id&quot; : 446,\n  &quot;key&quot; : &quot;All&quot;\n}, {\n  &quot;Emp_Id&quot; : 617,\n  &quot;key&quot; : &quot;All&quot;\n}, {\n  &quot;Emp_Id&quot; : 620,\n  &quot;key&quot; : &quot;All&quot;\n}, {\n  &quot;Emp_Id&quot; : 470,\n  &quot;key&quot; : &quot;All&quot;\n} ]\n</code></pre>\n<p><strong>Demonstrate the transformation of <code>jsonData</code></strong></p>\n<p>Add an element <code>key</code> with the value of <code>Emp_Id</code> and then remove <code>Emp_Id</code>.</p>\n<pre><code>JsonNode node = jsonData.getNode(&quot;field(key:Emp_Id,Emp_Id:)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;,\n  &quot;key&quot; : &quot;All&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28750997,"reputation":21,"user_id":22019110,"display_name":"Yogendra Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685902930,"creation_date":1685902930,"answer_id":76401854,"question_id":76356706,"body_markdown":"You can try converting it to JSONObject and then replace it with the desired values. \r\n1. Parse response String to simple.JSONObject\r\n2. get the data value out of it \r\n3. convert it to list of only first value of data.\r\n4. loop through the list and replace the jsonData&#39;s emp_id with new value.\r\n\r\n```\r\nString response = &quot;{\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;status\\&quot;: \\&quot;success\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;data\\&quot;: [[123, 0], [124, 0], [446, 0], [620, 0], [470 ,1]]\\r\\n&quot;\r\n\t\t\t\t+ &quot;}&quot;;\r\n\t\tString jsonData = &quot;{\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;Emp_Id\\&quot;: \\&quot;All\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;Emp_loc\\&quot;: \\&quot;523\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;Emp_dept\\&quot;: \\&quot;Management\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;Emp_sub_dept\\&quot;: \\&quot;Finance\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;Emp_sub_dept2\\&quot;: \\&quot;Accountant\\&quot;\\r\\n&quot;\r\n\t\t\t\t+ &quot;}&quot;;\r\n\t\tJSONParser parser = new JSONParser();\r\n\t\tJSONObject respObj = (JSONObject)parser.parse(response);\r\n\t\tList&lt;JSONArray&gt; numberList = (List)respObj.get(&quot;data&quot;);\r\n\t\tList&lt;Long&gt; replacableNumberList = numberList.stream().map(jsonArray -&gt; (Long)jsonArray.get(0))\r\n\t\t\t    .collect(Collectors.toList());\r\n\t\t\r\n\t\t\r\n\t\tList&lt;JSONObject&gt; outputList = new ArrayList&lt;&gt;();\r\n\t\tfor (Long integer : replacableNumberList) {\r\n\t\t\t//if parsing before loop then dont forget to create new object before adding in the list\r\n\t\t\tJSONObject jsonObj = (JSONObject)parser.parse(jsonData);\r\n\t\t\tjsonObj.put(&quot;Emp_Id&quot;, integer);\r\n\t\t\toutputList.add(jsonObj);\r\n\t\t}\r\n\t\toutputList.forEach(System.out::println);\r\n```","title":"How can I replace a value in json data in Java?","body":"<p>You can try converting it to JSONObject and then replace it with the desired values.</p>\n<ol>\n<li>Parse response String to simple.JSONObject</li>\n<li>get the data value out of it</li>\n<li>convert it to list of only first value of data.</li>\n<li>loop through the list and replace the jsonData's emp_id with new value.</li>\n</ol>\n<pre><code>String response = &quot;{\\r\\n&quot;\n                + &quot;    \\&quot;status\\&quot;: \\&quot;success\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;data\\&quot;: [[123, 0], [124, 0], [446, 0], [620, 0], [470 ,1]]\\r\\n&quot;\n                + &quot;}&quot;;\n        String jsonData = &quot;{\\r\\n&quot;\n                + &quot;    \\&quot;Emp_Id\\&quot;: \\&quot;All\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;Emp_loc\\&quot;: \\&quot;523\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;Emp_dept\\&quot;: \\&quot;Management\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;Emp_sub_dept\\&quot;: \\&quot;Finance\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;Emp_sub_dept2\\&quot;: \\&quot;Accountant\\&quot;\\r\\n&quot;\n                + &quot;}&quot;;\n        JSONParser parser = new JSONParser();\n        JSONObject respObj = (JSONObject)parser.parse(response);\n        List&lt;JSONArray&gt; numberList = (List)respObj.get(&quot;data&quot;);\n        List&lt;Long&gt; replacableNumberList = numberList.stream().map(jsonArray -&gt; (Long)jsonArray.get(0))\n                .collect(Collectors.toList());\n        \n        \n        List&lt;JSONObject&gt; outputList = new ArrayList&lt;&gt;();\n        for (Long integer : replacableNumberList) {\n            //if parsing before loop then dont forget to create new object before adding in the list\n            JSONObject jsonObj = (JSONObject)parser.parse(jsonData);\n            jsonObj.put(&quot;Emp_Id&quot;, integer);\n            outputList.add(jsonObj);\n        }\n        outputList.forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":28605833,"reputation":35,"user_id":21901800,"display_name":"dash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685902930,"creation_date":1685357499,"question_id":76356706,"body_markdown":"I am trying to replace API Data with &quot;All&quot; in Emp_Id field in data in json. And then make rows with every data of API. \r\nI tried in ecmascript but I need in Java as this map function is giving error in nifi. \r\n\r\nAPI DATA: I have stored this data in &quot;Response&quot; attribute in ExtractText in Apache Nifi.\r\n\r\n```\r\nresponse \r\n{\r\n    &quot;status&quot;: &quot;success&quot;,\r\n    &quot;data&quot;: [[123, 0], [124, 0], [446, 0], [620, 0], [470 ,1]]\r\n};\r\n\r\njsonData\r\n{\r\n    &quot;Emp_Id&quot;: &quot;All&quot;,\r\n    &quot;Emp_loc&quot;: &quot;523&quot;,\r\n    &quot;Emp_dept&quot;: &quot;Management&quot;,\r\n    &quot;Emp_sub_dept&quot;: &quot;Finance&quot;,\r\n    &quot;Emp_sub_dept2&quot;: &quot;Accountant&quot;\r\n};\r\n```\r\nExpected Result\r\n```\r\n[\r\n{\r\n&quot;Emp_Id&quot;:&quot;123&quot;,\r\n&quot;Emp_loc&quot;:&quot;523&quot;,\r\n&quot;Emp_dept&quot;:&quot;Management&quot;,\r\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\r\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\r\n},\r\n{\r\n&quot;Emp_Id&quot;:&quot;124&quot;,\r\n&quot;Emp_loc&quot;:&quot;523&quot;,\r\n&quot;Emp_dept&quot;:&quot;Management&quot;,\r\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\r\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\r\n},\r\n{\r\n&quot;Emp_Id&quot;:&quot;446&quot;,\r\n&quot;Emp_loc&quot;:&quot;523&quot;,\r\n&quot;Emp_dept&quot;:&quot;Management&quot;,\r\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\r\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\r\n},\r\n{\r\n&quot;Emp_Id&quot;:&quot;620&quot;,\r\n&quot;Emp_loc&quot;:&quot;523&quot;,\r\n&quot;Emp_dept&quot;:&quot;Management&quot;,\r\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\r\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\r\n},\r\n{\r\n&quot;Emp_Id&quot;:&quot;470&quot;,\r\n&quot;Emp_loc&quot;:&quot;523&quot;,\r\n&quot;Emp_dept&quot;:&quot;Management&quot;,\r\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\r\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\r\n}\r\n]\r\n```\r\n\r\nThis is tried in ecmaScript but I want it to be in Java because these functions are not working in executeScript of NIFI and giving error.&quot;java.lang.assertionError: geberating bytecode&quot;. Or if any other approach for converting this data.\r\n\r\nthis is the script I tried\r\n\r\n```\r\nvar InputStreamCallback = Java.type(&quot;org.apache.nifi.processor.io.InputStreamCallback&quot;)\r\nvar IOUtils = Java.type(&quot;org.apache.commons.io.IOUtils&quot;);\r\nvar OutputStreamCallback =  Java.type(&quot;org.apache.nifi.processor.io.OutputStreamCallback&quot;);\r\nvar StandardCharsets = Java.type(&quot;java.nio.charset.StandardCharsets&quot;);\r\nvar Set = Java.type(&quot;java.util.HashSet&quot;);\r\nvar Map = Java.type(&quot;java.util.HashMap&quot;);\r\nvar String = Java.type(&quot;java.lang.String&quot;);\r\n\r\nvar flowFile = session.get();\r\n\t\r\nif (flowFile != null) {  \r\n    var text = &#39;&#39;\r\n    session.read(flowFile,\r\n    new InputStreamCallback(function (inputStream) {\r\n    text = IOUtils.toString(inputStream, StandardCharsets.UTF_8);             \r\n}));\r\n\r\nvar s3Data ={}\r\nvar apiResponse={}\r\nvar map = new Map();\r\n\t\r\nvar s3Data = JSON.parse(flowFile.getAttribute(&#39;jsonData&#39;))\r\nvar apiResponse = JSON.parse(flowFile.getAttribute(&#39;response&#39;))\r\n\r\nvar result = apiResponse.data.map(([id]) =&gt;\r\nObject.fromEntries(Object.entries(s3Data).map(([k, v]) =&gt;\r\n[k, v === &quot;All&quot; ? id : v]\r\n))\r\n);\t\r\nflowFile = session.write(flowFile,\r\n    new OutputStreamCallback(function(outputStream) {\r\n    outputStream.write(JSON.stringify(result).getBytes(StandardCharsets.UTF_8))\r\n})\r\n);\r\n}\r\n```\r\nI tried with groovy also but I have very less knowledge of Groovy so I couldn&#39;t write the proper ExecuteScript.","title":"How can I replace a value in json data in Java?","body":"<p>I am trying to replace API Data with &quot;All&quot; in Emp_Id field in data in json. And then make rows with every data of API.\nI tried in ecmascript but I need in Java as this map function is giving error in nifi.</p>\n<p>API DATA: I have stored this data in &quot;Response&quot; attribute in ExtractText in Apache Nifi.</p>\n<pre><code>response \n{\n    &quot;status&quot;: &quot;success&quot;,\n    &quot;data&quot;: [[123, 0], [124, 0], [446, 0], [620, 0], [470 ,1]]\n};\n\njsonData\n{\n    &quot;Emp_Id&quot;: &quot;All&quot;,\n    &quot;Emp_loc&quot;: &quot;523&quot;,\n    &quot;Emp_dept&quot;: &quot;Management&quot;,\n    &quot;Emp_sub_dept&quot;: &quot;Finance&quot;,\n    &quot;Emp_sub_dept2&quot;: &quot;Accountant&quot;\n};\n</code></pre>\n<p>Expected Result</p>\n<pre><code>[\n{\n&quot;Emp_Id&quot;:&quot;123&quot;,\n&quot;Emp_loc&quot;:&quot;523&quot;,\n&quot;Emp_dept&quot;:&quot;Management&quot;,\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\n},\n{\n&quot;Emp_Id&quot;:&quot;124&quot;,\n&quot;Emp_loc&quot;:&quot;523&quot;,\n&quot;Emp_dept&quot;:&quot;Management&quot;,\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\n},\n{\n&quot;Emp_Id&quot;:&quot;446&quot;,\n&quot;Emp_loc&quot;:&quot;523&quot;,\n&quot;Emp_dept&quot;:&quot;Management&quot;,\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\n},\n{\n&quot;Emp_Id&quot;:&quot;620&quot;,\n&quot;Emp_loc&quot;:&quot;523&quot;,\n&quot;Emp_dept&quot;:&quot;Management&quot;,\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\n},\n{\n&quot;Emp_Id&quot;:&quot;470&quot;,\n&quot;Emp_loc&quot;:&quot;523&quot;,\n&quot;Emp_dept&quot;:&quot;Management&quot;,\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\n}\n]\n</code></pre>\n<p>This is tried in ecmaScript but I want it to be in Java because these functions are not working in executeScript of NIFI and giving error.&quot;java.lang.assertionError: geberating bytecode&quot;. Or if any other approach for converting this data.</p>\n<p>this is the script I tried</p>\n<pre><code>var InputStreamCallback = Java.type(&quot;org.apache.nifi.processor.io.InputStreamCallback&quot;)\nvar IOUtils = Java.type(&quot;org.apache.commons.io.IOUtils&quot;);\nvar OutputStreamCallback =  Java.type(&quot;org.apache.nifi.processor.io.OutputStreamCallback&quot;);\nvar StandardCharsets = Java.type(&quot;java.nio.charset.StandardCharsets&quot;);\nvar Set = Java.type(&quot;java.util.HashSet&quot;);\nvar Map = Java.type(&quot;java.util.HashMap&quot;);\nvar String = Java.type(&quot;java.lang.String&quot;);\n\nvar flowFile = session.get();\n    \nif (flowFile != null) {  \n    var text = ''\n    session.read(flowFile,\n    new InputStreamCallback(function (inputStream) {\n    text = IOUtils.toString(inputStream, StandardCharsets.UTF_8);             \n}));\n\nvar s3Data ={}\nvar apiResponse={}\nvar map = new Map();\n    \nvar s3Data = JSON.parse(flowFile.getAttribute('jsonData'))\nvar apiResponse = JSON.parse(flowFile.getAttribute('response'))\n\nvar result = apiResponse.data.map(([id]) =&gt;\nObject.fromEntries(Object.entries(s3Data).map(([k, v]) =&gt;\n[k, v === &quot;All&quot; ? id : v]\n))\n);  \nflowFile = session.write(flowFile,\n    new OutputStreamCallback(function(outputStream) {\n    outputStream.write(JSON.stringify(result).getBytes(StandardCharsets.UTF_8))\n})\n);\n}\n</code></pre>\n<p>I tried with groovy also but I have very less knowledge of Groovy so I couldn't write the proper ExecuteScript.</p>\n"},{"tags":["java","android","webview","scroll"],"comments":[{"owner":{"account_id":1411911,"reputation":3044,"user_id":1338333,"accept_rate":70,"display_name":"Dejan"},"score":0,"creation_date":1388774220,"post_id":20910405,"comment_id":31390298,"body_markdown":"Maybe add ScrollView to be its parent?","body":"Maybe add ScrollView to be its parent?"},{"owner":{"account_id":3030530,"reputation":179,"user_id":2569655,"accept_rate":100,"display_name":"saopayne"},"score":0,"creation_date":1388774498,"post_id":20910405,"comment_id":31390442,"body_markdown":"Put webView into a linear layout and set orientation to vertical, Scrolling will be enabled.","body":"Put webView into a linear layout and set orientation to vertical, Scrolling will be enabled."},{"owner":{"account_id":3275558,"reputation":2866,"user_id":2757729,"accept_rate":67,"display_name":"Nathaniel D. Waggoner"},"score":0,"creation_date":1388774582,"post_id":20910405,"comment_id":31390489,"body_markdown":"possible duplicate of [Android WebView Scrollable](http://stackoverflow.com/questions/6253444/android-webview-scrollable)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6253444/android-webview-scrollable\">Android WebView Scrollable</a>"},{"owner":{"account_id":3805852,"reputation":53,"user_id":3158313,"display_name":"Abascus"},"score":0,"creation_date":1388777840,"post_id":20910405,"comment_id":31392265,"body_markdown":"None of them helped :(","body":"None of them helped :("}],"answers":[{"tags":[],"owner":{"account_id":3275558,"reputation":2866,"user_id":2757729,"accept_rate":67,"display_name":"Nathaniel D. Waggoner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388778013,"creation_date":1388774666,"answer_id":20910600,"question_id":20910405,"body_markdown":"I&#39;ve posted this as a comment as I think this may be a duplicate, but I would look at this question:\r\n\r\nhttps://stackoverflow.com/questions/6253444/android-webview-scrollable\r\n\r\nWhich provides a few calls which I believe will solve this issue.\r\n\r\nAnother issue:\r\n\r\nTry changing your webview from &quot;Wrap Content&quot; to some specific height.  Then set the scrollables.\r\n\r\nTry something like 300dp and go from there.","title":"Android WebView isn&#39;t scrollable","body":"<p>I've posted this as a comment as I think this may be a duplicate, but I would look at this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6253444/android-webview-scrollable\">Android WebView Scrollable</a></p>\n\n<p>Which provides a few calls which I believe will solve this issue.</p>\n\n<p>Another issue:</p>\n\n<p>Try changing your webview from \"Wrap Content\" to some specific height.  Then set the scrollables.</p>\n\n<p>Try something like 300dp and go from there.</p>\n"},{"tags":[],"owner":{"account_id":417488,"reputation":36086,"user_id":793522,"accept_rate":83,"display_name":"kabuko"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1388779438,"creation_date":1388779438,"answer_id":20911794,"question_id":20910405,"body_markdown":"Don&#39;t use `wrap_content` for your height. If your `WebView` has the same height as its content, then there&#39;s never anything to scroll as obviously the content all fits by definition (though given you&#39;re loading content dynamically this may not be *exactly* what&#39;s happening). Try setting the height to `match_parent` or a fixed value.","title":"Android WebView isn&#39;t scrollable","body":"<p>Don't use <code>wrap_content</code> for your height. If your <code>WebView</code> has the same height as its content, then there's never anything to scroll as obviously the content all fits by definition (though given you're loading content dynamically this may not be <em>exactly</em> what's happening). Try setting the height to <code>match_parent</code> or a fixed value.</p>\n"},{"tags":[],"owner":{"account_id":3202267,"reputation":2714,"user_id":2704113,"accept_rate":50,"display_name":"Sreedhar GS"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453609308,"creation_date":1453609308,"answer_id":34972186,"question_id":20910405,"body_markdown":"I have found a solution for this, All you need is to put WebView definition in &quot;\r\n\r\n&gt; layout/content_my.xml\r\n\r\n&quot; not in &quot;activity_my.xml&quot;\r\n\r\n    &lt;WebView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/webView&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentStart=&quot;true&quot; /&gt;\r\n\r\nAnd  inside the MyActivity.java\r\n\r\n        WebView webview = (WebView)findViewById(R.id.webView);\r\n        webview.loadUrl(&quot;file:///android_asset/index.html&quot;);\r\n        webview.setVerticalScrollBarEnabled(true);\r\n        webview.setHorizontalScrollBarEnabled(true);","title":"Android WebView isn&#39;t scrollable","body":"<p>I have found a solution for this, All you need is to put WebView definition in \"</p>\n\n<blockquote>\n  <p>layout/content_my.xml</p>\n</blockquote>\n\n<p>\" not in \"activity_my.xml\"</p>\n\n<pre><code>&lt;WebView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/webView\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_alignParentStart=\"true\" /&gt;\n</code></pre>\n\n<p>And  inside the MyActivity.java</p>\n\n<pre><code>    WebView webview = (WebView)findViewById(R.id.webView);\n    webview.loadUrl(\"file:///android_asset/index.html\");\n    webview.setVerticalScrollBarEnabled(true);\n    webview.setHorizontalScrollBarEnabled(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6199408,"reputation":21,"user_id":5149156,"display_name":"Matthias Huber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464507766,"creation_date":1464462281,"answer_id":37502835,"question_id":20910405,"body_markdown":"I had some other elements in my relative layout, which I switched to invisible. This made my webview not scrollable. My solution was:\r\n \r\n    relativelayout.removeallchilds();\r\n    relativelayout.addchild(webview);\r\n    relativelayout.addchild(overlaybutton);","title":"Android WebView isn&#39;t scrollable","body":"<p>I had some other elements in my relative layout, which I switched to invisible. This made my webview not scrollable. My solution was:</p>\n\n<pre><code>relativelayout.removeallchilds();\nrelativelayout.addchild(webview);\nrelativelayout.addchild(overlaybutton);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7869346,"reputation":9,"user_id":5947197,"display_name":"Abhishek Choudhary Khatkar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1493013454,"creation_date":1493013454,"answer_id":43580729,"question_id":20910405,"body_markdown":"Hey I had the Same Problem with webview. It was not scrolling even with the match_parent attribute and very simple code.\r\n\r\nThe problem is not in your xml file. Its in your Java file.\r\nIn java file of that activity Override onPause AND onResume methods and iclude this code\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        browser.onResume();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        browser.onPause();\r\n    }\r\n\r\nIt is very important that you Pause your WebView AND then Resume it again.\r\nHope that will solve your problem.","title":"Android WebView isn&#39;t scrollable","body":"<p>Hey I had the Same Problem with webview. It was not scrolling even with the match_parent attribute and very simple code.</p>\n\n<p>The problem is not in your xml file. Its in your Java file.\nIn java file of that activity Override onPause AND onResume methods and iclude this code</p>\n\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    browser.onResume();\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    browser.onPause();\n}\n</code></pre>\n\n<p>It is very important that you Pause your WebView AND then Resume it again.\nHope that will solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":5623861,"reputation":74,"user_id":4452860,"display_name":"Yashaswi Bharadwaj"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1528437235,"creation_date":1528437235,"answer_id":50754173,"question_id":20910405,"body_markdown":"add this line and it will start working\r\n\r\n    webview.getSettings().setJavaScriptEnabled(true);\r\n\r\nHope, this solves your problem?","title":"Android WebView isn&#39;t scrollable","body":"<p>add this line and it will start working</p>\n\n<pre><code>webview.getSettings().setJavaScriptEnabled(true);\n</code></pre>\n\n<p>Hope, this solves your problem?</p>\n"},{"tags":[],"owner":{"account_id":16310465,"reputation":141,"user_id":11779243,"display_name":"Olayiwola Osho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652436631,"creation_date":1652436631,"answer_id":72227872,"question_id":20910405,"body_markdown":"I was able to get my web view to scroll by adding \r\n\r\n    simpleWebView = findViewById(R.id.simpleWebView);\r\n    \r\n    //setting the webView client to a new webview client \r\n    simpleWebView.setWebViewClient(new WebViewClient());\r\n    \r\n    //and Enabling JavaScript\r\n    simpleWebView.getSettings().setJavaScriptEnabled(true);\r\n\r\nI would not advise Enabling JavaScript because Using setJavaScriptEnabled can introduce XSS vulnerabilities into your application and this just means if your web site is vulnerable malicious JavaScript can be returned to your users.\r\n\r\nWhen the malicious code executes inside your users browser, the attacker can compromise their interaction with your application.\r\n\r\nand I currently don&#39;t know any other way to enable JavaScript\r\n\r\nHere&#39;s the full code I used below\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;WebView\r\n            android:id=&quot;@+id/simpleWebView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\nAnd inside the MyActivity.java\r\n\r\n    simpleWebView.setWebViewClient(new WebViewClient());\r\n    \r\n    simpleWebView.getSettings().setJavaScriptEnabled(true);\r\n    \r\n    simpleWebView.setVerticalScrollBarEnabled(true);\r\n    \r\n    simpleWebView.setHorizontalScrollBarEnabled(true);","title":"Android WebView isn&#39;t scrollable","body":"<p>I was able to get my web view to scroll by adding</p>\n<pre><code>simpleWebView = findViewById(R.id.simpleWebView);\n\n//setting the webView client to a new webview client \nsimpleWebView.setWebViewClient(new WebViewClient());\n\n//and Enabling JavaScript\nsimpleWebView.getSettings().setJavaScriptEnabled(true);\n</code></pre>\n<p>I would not advise Enabling JavaScript because Using setJavaScriptEnabled can introduce XSS vulnerabilities into your application and this just means if your web site is vulnerable malicious JavaScript can be returned to your users.</p>\n<p>When the malicious code executes inside your users browser, the attacker can compromise their interaction with your application.</p>\n<p>and I currently don't know any other way to enable JavaScript</p>\n<p>Here's the full code I used below</p>\n<pre><code>&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/simpleWebView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And inside the MyActivity.java</p>\n<pre><code>simpleWebView.setWebViewClient(new WebViewClient());\n\nsimpleWebView.getSettings().setJavaScriptEnabled(true);\n\nsimpleWebView.setVerticalScrollBarEnabled(true);\n\nsimpleWebView.setHorizontalScrollBarEnabled(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28500117,"reputation":11,"user_id":21811447,"display_name":"SWAPNIL PATIL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685901533,"creation_date":1685901533,"answer_id":76401728,"question_id":20910405,"body_markdown":"You must be using a scrollview, remove that scrollview and your webview will start scrolling.","title":"Android WebView isn&#39;t scrollable","body":"<p>You must be using a scrollview, remove that scrollview and your webview will start scrolling.</p>\n"}],"owner":{"account_id":3805852,"reputation":53,"user_id":3158313,"display_name":"Abascus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30120,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":8,"score":4,"last_activity_date":1685901533,"creation_date":1388773866,"question_id":20910405,"body_markdown":"My Android `WebView` isn&#39;t scrollable.\r\n\r\nXML Code: \r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/screen&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#87cefa&quot;\r\n    android:gravity=&quot;left&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/webView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot; /&gt;\r\n\r\nI&#39;m loading the Website with the normal `webview.loadUrl(url);` function and sometimes with the `webview.loadDataWithBaseURL(&quot;&quot;, htmlContent, &quot;text/html&quot;, &quot;UTF-8&quot;, &quot;&quot;);` function, both of them display the page, but they are not scrollable\r\n\r\nInit:\r\n\r\n`setContentView(R.layout.activity_main);\r\nwebview = (WebView)this.findViewById(R.id.webView);\r\nwebview.setVerticalScrollBarEnabled(true);\r\nwebview.setHorizontalScrollBarEnabled(true);`\r\n\r\nLoading:\r\n\r\n                webview.loadUrl(url);\r\n                [either one of them or the other]\r\n\t\twebview.loadDataWithBaseURL(&quot;&quot;, htmlContent, &quot;text/html&quot;, &quot;UTF-8&quot;, &quot;&quot;);\r\n\r\n","title":"Android WebView isn&#39;t scrollable","body":"<p>My Android <code>WebView</code> isn't scrollable.</p>\n\n<p>XML Code: </p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/screen\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#87cefa\"\nandroid:gravity=\"left\"\nandroid:paddingBottom=\"@dimen/activity_vertical_margin\"\nandroid:paddingTop=\"@dimen/activity_vertical_margin\"\ntools:context=\".MainActivity\" &gt;\n\n&lt;WebView\n    android:id=\"@+id/webView\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_centerHorizontal=\"true\" /&gt;\n</code></pre>\n\n<p>I'm loading the Website with the normal <code>webview.loadUrl(url);</code> function and sometimes with the <code>webview.loadDataWithBaseURL(\"\", htmlContent, \"text/html\", \"UTF-8\", \"\");</code> function, both of them display the page, but they are not scrollable</p>\n\n<p>Init:</p>\n\n<p><code>setContentView(R.layout.activity_main);\nwebview = (WebView)this.findViewById(R.id.webView);\nwebview.setVerticalScrollBarEnabled(true);\nwebview.setHorizontalScrollBarEnabled(true);</code></p>\n\n<p>Loading:</p>\n\n<pre><code>            webview.loadUrl(url);\n            [either one of them or the other]\n    webview.loadDataWithBaseURL(\"\", htmlContent, \"text/html\", \"UTF-8\", \"\");\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot","out-of-memory"],"comments":[{"owner":{"account_id":2468965,"reputation":26450,"user_id":2151351,"display_name":"a better oliver"},"score":0,"creation_date":1487926962,"post_id":42421285,"comment_id":72013407,"body_markdown":"I&#39;m not sure what exactly you want to know. You seem to imply that Spring should shut down anything.","body":"I&#39;m not sure what exactly you want to know. You seem to imply that Spring should shut down anything."},{"owner":{"account_id":1203571,"reputation":8031,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1487927106,"post_id":42421285,"comment_id":72013489,"body_markdown":"@zeroflagL I am asking if it is possible to force exit of the REST service in case of an `OutOfMemoryError`. Related to this, I am asking if someone knows why Spring implements the above policy. Thanks.","body":"@zeroflagL I am asking if it is possible to force exit of the REST service in case of an <code>OutOfMemoryError</code>. Related to this, I am asking if someone knows why Spring implements the above policy. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487868310,"creation_date":1487868310,"answer_id":42421598,"question_id":42421285,"body_markdown":"When running your application, you can specify the behavior of your application when an error like this happens with the following arguments:\r\n\r\n - `-XX:+HeapDumpOnOutOfMemoryError` : this will create a dump which can be analysed afterwards. The dump will be located at the location given at `-XX:HeapDumpPath=some_path`.\r\n - `-XX:OnOutOfMemoryError=path_to_some_script.sh` : this will run a script (it must be runnable by the same user which runs the application) when the application returns an error as an OutOfMemory\r\n - `-XX:OnError=path_to_some_script.sh` : same as before, but for more generic exceptions.\r\n\r\nReference: http://www.oracle.com/technetwork/java/javase/clopts-139448.html","title":"Spring REST Service does not shutdown after an OutOfMemoryError","body":"<p>When running your application, you can specify the behavior of your application when an error like this happens with the following arguments:</p>\n\n<ul>\n<li><code>-XX:+HeapDumpOnOutOfMemoryError</code> : this will create a dump which can be analysed afterwards. The dump will be located at the location given at <code>-XX:HeapDumpPath=some_path</code>.</li>\n<li><code>-XX:OnOutOfMemoryError=path_to_some_script.sh</code> : this will run a script (it must be runnable by the same user which runs the application) when the application returns an error as an OutOfMemory</li>\n<li><code>-XX:OnError=path_to_some_script.sh</code> : same as before, but for more generic exceptions.</li>\n</ul>\n\n<p>Reference: <a href=\"http://www.oracle.com/technetwork/java/javase/clopts-139448.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/clopts-139448.html</a></p>\n"},{"tags":[],"owner":{"account_id":243931,"reputation":588,"user_id":516418,"display_name":"stuchl4n3k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488278640,"creation_date":1487868400,"answer_id":42421625,"question_id":42421285,"body_markdown":"**I would say that in the world of web apps this is not suprising at all.** \r\n\r\nImagine a `RestController` as a web page. If it contains an error, the web server nor the application that generates the page is expected to stop working. This error is usually a local or temporary problem related to your request. In these situations the web server should instead respond with HTTP status 500.\r\n\r\nSpring even has an built-in error handling feature that lets you to handle each specific error differently. See [this article by Paul Chapman][1] for more info.\r\n\r\n**UPDATE:** Regarding your inquiry about the OOM error handling: I think you missed how memory management and object allocation in JVM works. See [Understand the OutOfMemoryError Exception][2]. \r\n\r\n\r\n  [1]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html","title":"Spring REST Service does not shutdown after an OutOfMemoryError","body":"<p><strong>I would say that in the world of web apps this is not suprising at all.</strong> </p>\n\n<p>Imagine a <code>RestController</code> as a web page. If it contains an error, the web server nor the application that generates the page is expected to stop working. This error is usually a local or temporary problem related to your request. In these situations the web server should instead respond with HTTP status 500.</p>\n\n<p>Spring even has an built-in error handling feature that lets you to handle each specific error differently. See <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">this article by Paul Chapman</a> for more info.</p>\n\n<p><strong>UPDATE:</strong> Regarding your inquiry about the OOM error handling: I think you missed how memory management and object allocation in JVM works. See <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\" rel=\"nofollow noreferrer\">Understand the OutOfMemoryError Exception</a>. </p>\n"},{"tags":[],"owner":{"account_id":28751004,"reputation":1,"user_id":22019116,"display_name":"Somanath Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685901094,"creation_date":1685901094,"answer_id":76401702,"question_id":42421285,"body_markdown":"java.lang.OutOfMemoryError won&#39;t stop the Spring Application.\r\nIf you are running your application in a container then health-check hook would let container manager know that your application is not in right condition so it would automatically dispose the current pod and would create fresh one.\r\n\r\nYou should always give JAVA_TOOL_OPTIONS as environment variable to use the POD memory effectively. By default your Java Springboot app will use just 25% of maximum memory. \r\n\r\ne.g. If you allocate 4 GB memory to your POD then your Java Springboot application will use max 1 GB of RAM and in turn you will not use the allocated resources properly.\r\nAlways set JAVA_TOOL_OPTIONS environment variable for memory allocations.","title":"Spring REST Service does not shutdown after an OutOfMemoryError","body":"<p>java.lang.OutOfMemoryError won't stop the Spring Application.\nIf you are running your application in a container then health-check hook would let container manager know that your application is not in right condition so it would automatically dispose the current pod and would create fresh one.</p>\n<p>You should always give JAVA_TOOL_OPTIONS as environment variable to use the POD memory effectively. By default your Java Springboot app will use just 25% of maximum memory.</p>\n<p>e.g. If you allocate 4 GB memory to your POD then your Java Springboot application will use max 1 GB of RAM and in turn you will not use the allocated resources properly.\nAlways set JAVA_TOOL_OPTIONS environment variable for memory allocations.</p>\n"}],"owner":{"account_id":1203571,"reputation":8031,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2606,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1685901094,"creation_date":1487867439,"question_id":42421285,"body_markdown":"I am experiencing what I consider a strange behaviour for a Java application. I am using Spring Boot 1.4.1 to develop a REST Service. Due to a bug in my code, an invocation to the service results in an `OutOfMemoryError`. \r\n\r\nSurprisingly, the service responds to the request that generates the error with the following message:\r\n\r\n    {\r\n      &quot;timestamp&quot;: 1487862480405,\r\n      &quot;status&quot;: 500,\r\n      &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n      &quot;exception&quot;: &quot;java.lang.OutOfMemoryError&quot;,\r\n      &quot;message&quot;: &quot;No message available&quot;,\r\n      &quot;path&quot;: &quot;/entity/exportCsv&quot;\r\n    }\r\n\r\nSo far so good. What is more surprisingly is that the REST service does not shutdown after experiencing the `Error`. Someone said that after an `Error` the best thing to do is to properly log it and shutdown everything. The presence of an error should mean that the system is in an unrecoverable state.\r\n\r\nWhy does Spring MVC adopt such a strange policy in case of `Error`? Is it possible to force the exit from the application (the REST service) after an `Error` happened?\r\n\r\nIf you want to reproduce the above use case, just use the following code.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/entity&quot;)\r\n    class Controller {\r\n        @RequestMapping(value = &quot;/exportCsv&quot;, method = RequestMethod.GET)\r\n        ResponseEntity exportCsv() {\r\n            if (true)\r\n                throw new OutOfMemoryError();\r\n            return null;\r\n        }\r\n    }\r\n\r\nThanks to all.\r\n\r\n**EDIT**: if you do think that catching an `Error` is a normal way to develop Java applications, please, try to have a look to these references:\r\n\r\n - [When to catch java.lang.Error?](https://stackoverflow.com/questions/352780/when-to-catch-java-lang-error)\r\n - [Why Catching Throwable or Error is bad?](http://javarevisited.blogspot.it/2014/02/why-catching-throwable-or-error-is-bad.html)\r\n - And many other...\r\n\r\n ","title":"Spring REST Service does not shutdown after an OutOfMemoryError","body":"<p>I am experiencing what I consider a strange behaviour for a Java application. I am using Spring Boot 1.4.1 to develop a REST Service. Due to a bug in my code, an invocation to the service results in an <code>OutOfMemoryError</code>. </p>\n\n<p>Surprisingly, the service responds to the request that generates the error with the following message:</p>\n\n<pre><code>{\n  \"timestamp\": 1487862480405,\n  \"status\": 500,\n  \"error\": \"Internal Server Error\",\n  \"exception\": \"java.lang.OutOfMemoryError\",\n  \"message\": \"No message available\",\n  \"path\": \"/entity/exportCsv\"\n}\n</code></pre>\n\n<p>So far so good. What is more surprisingly is that the REST service does not shutdown after experiencing the <code>Error</code>. Someone said that after an <code>Error</code> the best thing to do is to properly log it and shutdown everything. The presence of an error should mean that the system is in an unrecoverable state.</p>\n\n<p>Why does Spring MVC adopt such a strange policy in case of <code>Error</code>? Is it possible to force the exit from the application (the REST service) after an <code>Error</code> happened?</p>\n\n<p>If you want to reproduce the above use case, just use the following code.</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/entity\")\nclass Controller {\n    @RequestMapping(value = \"/exportCsv\", method = RequestMethod.GET)\n    ResponseEntity exportCsv() {\n        if (true)\n            throw new OutOfMemoryError();\n        return null;\n    }\n}\n</code></pre>\n\n<p>Thanks to all.</p>\n\n<p><strong>EDIT</strong>: if you do think that catching an <code>Error</code> is a normal way to develop Java applications, please, try to have a look to these references:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/352780/when-to-catch-java-lang-error\">When to catch java.lang.Error?</a></li>\n<li><a href=\"http://javarevisited.blogspot.it/2014/02/why-catching-throwable-or-error-is-bad.html\" rel=\"nofollow noreferrer\">Why Catching Throwable or Error is bad?</a></li>\n<li>And many other...</li>\n</ul>\n"},{"tags":["java","selenium-webdriver","testing","browser-automation"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685888341,"creation_date":1685888341,"answer_id":76400844,"question_id":76400613,"body_markdown":"The `NoSuchElementException` in Selenium is thrown when the WebDriver is unable to locate the Web element on the web page: maybe the date picker is not yet visible, or is loaded asynchronously.  \r\nAn exact solution would depend on the specifics of the date picker&#39;s implementation.  \r\nBut, for testing, try and modify your `chooseDate()` method to wait for the element to become visible:\r\n\r\n```java\r\npublic void chooseDate() throws InterruptedException {\r\n    datePicker.click();\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement endDay = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@data-time=&#39;1687458600000&#39;]&quot;)));\r\n    endDay.click();\r\n}\r\n```\r\n\r\nHere, `WebDriverWait` and `ExpectedConditions` are used to create an explicit wait for the `endDay` element to become visible. Note that you&#39;ll need to import the `WebDriverWait` and `ExpectedConditions` classes:\r\n\r\n```java\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\n```\r\n\r\nAlso note that Selenium can only interact with *visible* elements. You can check if an element is visible using the `isDisplayed()` method.  \r\nAnd double-check your XPath.\r\n","title":"NoSuchElementException when trying to find element with valid xpath on Chrome and Edge","body":"<p>The <code>NoSuchElementException</code> in Selenium is thrown when the WebDriver is unable to locate the Web element on the web page: maybe the date picker is not yet visible, or is loaded asynchronously.<br />\nAn exact solution would depend on the specifics of the date picker's implementation.<br />\nBut, for testing, try and modify your <code>chooseDate()</code> method to wait for the element to become visible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void chooseDate() throws InterruptedException {\n    datePicker.click();\n    WebDriverWait wait = new WebDriverWait(driver, 10);\n    WebElement endDay = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@data-time='1687458600000']&quot;)));\n    endDay.click();\n}\n</code></pre>\n<p>Here, <code>WebDriverWait</code> and <code>ExpectedConditions</code> are used to create an explicit wait for the <code>endDay</code> element to become visible. Note that you'll need to import the <code>WebDriverWait</code> and <code>ExpectedConditions</code> classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\n</code></pre>\n<p>Also note that Selenium can only interact with <em>visible</em> elements. You can check if an element is visible using the <code>isDisplayed()</code> method.<br />\nAnd double-check your XPath.</p>\n"},{"tags":[],"owner":{"account_id":28749592,"reputation":21,"user_id":22017965,"display_name":"smaitra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685901066,"creation_date":1685901066,"answer_id":76401698,"question_id":76400613,"body_markdown":"I had not noticed data-time changed at every refresh/launch, which caused the `NoSuchElementException`. Changing the xpath, to eg: `xpath = &quot;//div[text()=&#39;12&#39;]&quot;`,helped in easily selecting the desired date. ","title":"NoSuchElementException when trying to find element with valid xpath on Chrome and Edge","body":"<p>I had not noticed data-time changed at every refresh/launch, which caused the <code>NoSuchElementException</code>. Changing the xpath, to eg: <code>xpath = &quot;//div[text()='12']&quot;</code>,helped in easily selecting the desired date.</p>\n"}],"owner":{"account_id":28749592,"reputation":21,"user_id":22017965,"display_name":"smaitra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76401698,"answer_count":2,"score":2,"last_activity_date":1685901066,"creation_date":1685884678,"question_id":76400613,"body_markdown":"* I am testing https://www.policybazaar.com using selenium, testNG, java. I get the no such element error while trying to select a date from date picker on https://www.policybazaar.com/travel-insurance/student/ .\r\n\r\n\r\n\r\n* While experimenting with xpath ( &quot;//div\\[@data-time=&#39;1687458600000&#39;\\]&quot;): I am properly detecting the element in browser. When used in code, I am getting the error.\r\n\r\n* Relevant code:\r\n  WebElement initialization\r\n\r\n```java\r\n@FindBy(xpath = &quot;//div[@data-time=&#39;1687458600000&#39;]&quot;)\r\n\tprivate WebElement endDay;\r\n\r\n\t@FindBy(xpath = &quot;//input[@id=\\&quot;startdate\\&quot;]&quot;)\r\n\tprivate WebElement datePicker;\r\n```\r\n\r\nMethod for choosing date (datepicker.click() works and datepicker appears on screen)\r\n\r\n```java\r\npublic void chooseDate() throws InterruptedException {\r\n\t\tdatePicker.click();\r\n\t\tThread.sleep(3000);\r\n\t\tendDay.click();\r\n\t}\r\n```\r\n\r\nTest method:\r\n\r\n```java\r\n@Test(dependsOnMethods = &quot;testSelectDestination&quot;)\r\n\tpublic void testChooseDates() throws InterruptedException {\r\n\t\tpolicyBazaarPage.chooseDate();\r\n\t}\r\n```\r\n\r\nPart of Error Trace:\r\n\r\n```\r\nFAILED: tests.PolicyBazaarLandingTests.testChooseDates\r\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//div[@data-time=&#39;1687458600000&#39;]&quot;}\r\n  (Session info: MicrosoftEdge=113.0.1774.57)\r\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\r\nBuild info: version: &#39;4.9.1&#39;, revision: &#39;eb2032df7f&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.15&#39;\r\nDriver info: org.openqa.selenium.edge.EdgeDriver\r\nCommand: [a54fc9488a04affd75b9e7bfc894b05e, findElement {using=xpath, value=//div[@data-time=&#39;1687458600000&#39;]}]\r\n```","title":"NoSuchElementException when trying to find element with valid xpath on Chrome and Edge","body":"<ul>\n<li><p>I am testing <a href=\"https://www.policybazaar.com\" rel=\"nofollow noreferrer\">https://www.policybazaar.com</a> using selenium, testNG, java. I get the no such element error while trying to select a date from date picker on <a href=\"https://www.policybazaar.com/travel-insurance/student/\" rel=\"nofollow noreferrer\">https://www.policybazaar.com/travel-insurance/student/</a> .</p>\n</li>\n<li><p>While experimenting with xpath ( &quot;//div[@data-time='1687458600000']&quot;): I am properly detecting the element in browser. When used in code, I am getting the error.</p>\n</li>\n<li><p>Relevant code:\nWebElement initialization</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@FindBy(xpath = &quot;//div[@data-time='1687458600000']&quot;)\n    private WebElement endDay;\n\n    @FindBy(xpath = &quot;//input[@id=\\&quot;startdate\\&quot;]&quot;)\n    private WebElement datePicker;\n</code></pre>\n<p>Method for choosing date (datepicker.click() works and datepicker appears on screen)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void chooseDate() throws InterruptedException {\n        datePicker.click();\n        Thread.sleep(3000);\n        endDay.click();\n    }\n</code></pre>\n<p>Test method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test(dependsOnMethods = &quot;testSelectDestination&quot;)\n    public void testChooseDates() throws InterruptedException {\n        policyBazaarPage.chooseDate();\n    }\n</code></pre>\n<p>Part of Error Trace:</p>\n<pre><code>FAILED: tests.PolicyBazaarLandingTests.testChooseDates\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//div[@data-time='1687458600000']&quot;}\n  (Session info: MicrosoftEdge=113.0.1774.57)\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\nBuild info: version: '4.9.1', revision: 'eb2032df7f'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.15'\nDriver info: org.openqa.selenium.edge.EdgeDriver\nCommand: [a54fc9488a04affd75b9e7bfc894b05e, findElement {using=xpath, value=//div[@data-time='1687458600000']}]\n</code></pre>\n"},{"tags":["java","spring-boot","vue.js","cors"],"comments":[{"owner":{"account_id":3155089,"reputation":170,"user_id":2667662,"display_name":"Stijn Hooft"},"score":0,"creation_date":1684865572,"post_id":76316801,"comment_id":134578925,"body_markdown":"For security reasons, browsers don&#39;t allow &quot;shady-website.com&quot; to make ajax requests to &quot;descent-website.com&quot;, unless &quot;descent-website.com&quot; allows the &quot;shady-website.com&quot; domain to call it. General info on MDN: https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\n \nBaeldung has a very good tutorial on this for Spring Boot: https://www.baeldung.com/spring-cors.\n\nIn an ideal world, front-end and back-end get hosted on the same domain.","body":"For security reasons, browsers don&#39;t allow &quot;shady-website.com&quot; to make ajax requests to &quot;descent-website.com&quot;, unless &quot;descent-website.com&quot; allows the &quot;shady-website.com&quot; domain to call it. General info on MDN: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a>   Baeldung has a very good tutorial on this for Spring Boot: <a href=\"https://www.baeldung.com/spring-cors\" rel=\"nofollow noreferrer\">baeldung.com/spring-cors</a>.  In an ideal world, front-end and back-end get hosted on the same domain."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1684875830,"post_id":76316801,"comment_id":134580910,"body_markdown":"Maybe this answer will help you : https://stackoverflow.com/questions/76292114/how-to-solve-cors-policy-blocking-when-connecting-front-end-to-java-spring-boot/76292932#76292932","body":"Maybe this answer will help you : <a href=\"https://stackoverflow.com/questions/76292114/how-to-solve-cors-policy-blocking-when-connecting-front-end-to-java-spring-boot/76292932#76292932\" title=\"how to solve cors policy blocking when connecting front end to java spring boot\">stackoverflow.com/questions/76292114/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23240561,"reputation":39,"user_id":17329945,"display_name":"Othmane Darhoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685011173,"creation_date":1685011173,"answer_id":76331384,"question_id":76316801,"body_markdown":"try @CrossOrigin(&quot;*&quot;) in your controller","title":"How can i solve proxy (CORS) problem on production","body":"<p>try @CrossOrigin(&quot;*&quot;) in your controller</p>\n"},{"tags":[],"owner":{"account_id":20449653,"reputation":11,"user_id":15004671,"display_name":"Emre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685900606,"creation_date":1685900606,"answer_id":76401676,"question_id":76316801,"body_markdown":"I deployed my frontend with expressjs proxy then its fixed. Thanks for comments","title":"How can i solve proxy (CORS) problem on production","body":"<p>I deployed my frontend with expressjs proxy then its fixed. Thanks for comments</p>\n"}],"owner":{"account_id":20449653,"reputation":11,"user_id":15004671,"display_name":"Emre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76401676,"answer_count":2,"score":1,"last_activity_date":1685900606,"creation_date":1684858682,"question_id":76316801,"body_markdown":"I developed an app on Vuejs. I have Spring Boot on backend. I was using devServer proxy like that\r\n\r\n    devServer: {\r\n    proxy: {\r\n            &#39;/api&#39;: {\r\n              target: &#39;http://localhost:8087/&#39;,\r\n              changeOrigin: true,\r\n              pathRewrite: {\r\n                &#39;^/api&#39;: &#39;&#39;\r\n              }\r\n            }}\r\n\r\nbut now i need to build and deploy it. When i didnt changed anything, my requests going to &#39;api/login&#39; or &#39;api/register&#39; etc.. Thats need to be localhost:8087/login or localhost:8087/register. What should i do? When i didnt use proxy its giving CORS error. Can you help me, Thank you. \r\n\r\nI need a solve cors problem on Production Vuejs build","title":"How can i solve proxy (CORS) problem on production","body":"<p>I developed an app on Vuejs. I have Spring Boot on backend. I was using devServer proxy like that</p>\n<pre><code>devServer: {\nproxy: {\n        '/api': {\n          target: 'http://localhost:8087/',\n          changeOrigin: true,\n          pathRewrite: {\n            '^/api': ''\n          }\n        }}\n</code></pre>\n<p>but now i need to build and deploy it. When i didnt changed anything, my requests going to 'api/login' or 'api/register' etc.. Thats need to be localhost:8087/login or localhost:8087/register. What should i do? When i didnt use proxy its giving CORS error. Can you help me, Thank you.</p>\n<p>I need a solve cors problem on Production Vuejs build</p>\n"},{"tags":["java","xml","soap","wsdl","wsimport"],"comments":[{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1685899991,"post_id":76401600,"comment_id":134722231,"body_markdown":"PowerShell is incidental to your problem, so I removed the tag. The problem is that  `wsimport` thinks the referenced WSDL is invalid.","body":"PowerShell is incidental to your problem, so I removed the tag. The problem is that  <code>wsimport</code> thinks the referenced WSDL is invalid."},{"owner":{"account_id":28750641,"reputation":1,"user_id":22018828,"display_name":"Deivison"},"score":0,"creation_date":1685900995,"post_id":76401600,"comment_id":134722334,"body_markdown":"And how can I convert to java using other tools","body":"And how can I convert to java using other tools"},{"owner":{"account_id":28750641,"reputation":1,"user_id":22018828,"display_name":"Deivison"},"score":0,"creation_date":1685901168,"post_id":76401600,"comment_id":134722351,"body_markdown":"That&#39;s the problem so far I haven&#39;t written any code I&#39;m just trying to convert it to java to later have access to the methods. The only code I&#39;ve written so far is PowerShell, wsimport -keep, and the xml I&#39;m converting.","body":"That&#39;s the problem so far I haven&#39;t written any code I&#39;m just trying to convert it to java to later have access to the methods. The only code I&#39;ve written so far is PowerShell, wsimport -keep, and the xml I&#39;m converting."},{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1685901565,"post_id":76401600,"comment_id":134722400,"body_markdown":"You need to investigate why `wsimport` considers the WSDL invalid. Perhaps it is, perhaps it isn&#39;t and you need additional `wsimport` options to make it work - I personally don&#39;t know. PowerShell has no built-in WSDL-related functionality. Your question&#39;s tags will hopefully attract subject-matter experts.","body":"You need to investigate why <code>wsimport</code> considers the WSDL invalid. Perhaps it is, perhaps it isn&#39;t and you need additional <code>wsimport</code> options to make it work - I personally don&#39;t know. PowerShell has no built-in WSDL-related functionality. Your question&#39;s tags will hopefully attract subject-matter experts."}],"owner":{"account_id":28750641,"reputation":1,"user_id":22018828,"display_name":"Deivison"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685899831,"creation_date":1685899477,"question_id":76401600,"body_markdown":"Good afternoon !\r\n\r\nI&#39;m trying to consume a SOAP service from PROJUDI-PR but I&#39;m having problems converting the xml into java.\r\n&gt; https://projudi.tjpr.jus.br/projudi/webservices/projudiIntercomunicacaoWebService222?wsdl\r\n\r\nTo convert the xml into java I used windows powershell.\r\n\r\ncommand used: \r\n\r\n```\r\nwsimport -keep https://projudi.tjpr.jus.br/projudi/webservices/projudiIntercomunicacaoWebService222?wsdl\r\n```\r\n\r\nexpected the shell to do the conversion correctly so that it could then consume its methods.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/WzZkK.jpg)](https://i.stack.imgur.com/WzZkK.jpg) ","title":"Error when trying to consume SOAP PROJUDI-PR","body":"<p>Good afternoon !</p>\n<p>I'm trying to consume a SOAP service from PROJUDI-PR but I'm having problems converting the xml into java.</p>\n<blockquote>\n<p><a href=\"https://projudi.tjpr.jus.br/projudi/webservices/projudiIntercomunicacaoWebService222?wsdl\" rel=\"nofollow noreferrer\">https://projudi.tjpr.jus.br/projudi/webservices/projudiIntercomunicacaoWebService222?wsdl</a></p>\n</blockquote>\n<p>To convert the xml into java I used windows powershell.</p>\n<p>command used:</p>\n<pre><code>wsimport -keep https://projudi.tjpr.jus.br/projudi/webservices/projudiIntercomunicacaoWebService222?wsdl\n</code></pre>\n<p>expected the shell to do the conversion correctly so that it could then consume its methods.</p>\n<p><a href=\"https://i.stack.imgur.com/WzZkK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WzZkK.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","email","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":17745544,"reputation":13,"user_id":12884910,"display_name":"long_coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685898781,"creation_date":1685898781,"answer_id":76401551,"question_id":76401146,"body_markdown":"It instructs spring to use basic authentication. Without it the username and password would be ignored.","title":"What is the role of the &quot;mail.smtp.auth&quot; parameter in the JavaMailSender?","body":"<p>It instructs spring to use basic authentication. Without it the username and password would be ignored.</p>\n"}],"owner":{"account_id":15581388,"reputation":11,"user_id":13863857,"display_name":"pizssn peng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685898781,"creation_date":1685892745,"question_id":76401146,"body_markdown":"I use JavaMailSender to send emails. I configured the corresponding username and password in the configuration file, but an error occurred when sending the email. The error message is `org.apache.geronimo.javamail.transport.smtp.SMTPSendFailedException: authentication is required`.\r\n\r\nHere is my configuration file\r\n```\r\n# Mail Configuration\r\nmanagement.health.mail.enabled=false\r\n# Configure POP3 server\r\nspring.mail.host=smtp.163.com\r\n#User name and authorization code for sending emails\r\nspring.mail.username=yy1*****71@163.com\r\nspring.mail.password=YJ*****BSKF\r\n\r\n# SSL Config\r\nspring.mail.port=465\r\nspring.mail.protocol=smtp\r\nspring.mail.default-encoding=UTF-8\r\nspring.mail.properties.mail.smtp.ssl.enable=true\r\nspring.mail.properties.mail.smtp.socketFactory.port=465\r\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n```\r\n\r\nI tried adding `spring.mail.properties.mail.smtp.auth=true` to the configuration file and then tried sending the email again. It was successful. I looked at the corresponding source code and found that if I had already filled in the username and password in the configuration file, the value of `mail.smtp.auth` would not affect the result. I don’t understand why.\r\n```\r\nprotected synchronized boolean protocolConnect(String host, int port, String user, String passwd) throws MessagingException {\r\n        boolean useEhlo = PropUtil.getBooleanSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.ehlo&quot;, true);\r\n        boolean useAuth = PropUtil.getBooleanSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.auth&quot;, false);\r\n        if (this.logger.isLoggable(Level.FINE)) {\r\n            this.logger.fine(&quot;useEhlo &quot; + useEhlo + &quot;, useAuth &quot; + useAuth);\r\n        }\r\n        \r\n        if (useAuth &amp;&amp; (user == null || passwd == null)) {\r\n            return false;\r\n        } else {\r\n            if (port == -1) {\r\n                port = PropUtil.getIntSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.port&quot;, -1);\r\n            }\r\n\r\n            if (port == -1) {\r\n                port = this.defaultPort;\r\n            }\r\n\r\n            if (host == null || host.length() == 0) {\r\n                host = &quot;localhost&quot;;\r\n            }\r\n\r\n            boolean connected = false;\r\n\r\n            boolean var9;\r\n            try {\r\n                if (this.serverSocket != null) {\r\n                    this.openServer();\r\n                } else {\r\n                    this.openServer(host, port);\r\n                }\r\n\r\n                boolean succeed = false;\r\n                if (useEhlo) {\r\n                    succeed = this.ehlo(this.getLocalHost());\r\n                }\r\n\r\n                if (!succeed) {\r\n                    this.helo(this.getLocalHost());\r\n                }\r\n\r\n                if (this.useStartTLS || this.requireStartTLS) {\r\n                    if (this.serverSocket instanceof SSLSocket) {\r\n                        this.logger.fine(&quot;STARTTLS requested but already using SSL&quot;);\r\n                    } else if (this.supportsExtension(&quot;STARTTLS&quot;)) {\r\n                        this.startTLS();\r\n                        this.ehlo(this.getLocalHost());\r\n                    } else if (this.requireStartTLS) {\r\n                        this.logger.fine(&quot;STARTTLS required but not supported&quot;);\r\n                        throw new MessagingException(&quot;STARTTLS is required but host does not support STARTTLS&quot;);\r\n                    }\r\n                }\r\n\r\n                if (!useAuth &amp;&amp; (user == null || passwd == null) || !this.supportsExtension(&quot;AUTH&quot;) &amp;&amp; !this.supportsExtension(&quot;AUTH=LOGIN&quot;)) {\r\n                    connected = true;\r\n                    var9 = true;\r\n                    return var9;\r\n                }\r\n\r\n                connected = this.authenticate(user, passwd);\r\n                var9 = connected;\r\n            } finally {\r\n                if (!connected) {\r\n                    try {\r\n                        this.closeConnection();\r\n                    } catch (MessagingException var17) {\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            return var9;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nWhat does `mail.smtp.auth` change in my case?\r\n","title":"What is the role of the &quot;mail.smtp.auth&quot; parameter in the JavaMailSender?","body":"<p>I use JavaMailSender to send emails. I configured the corresponding username and password in the configuration file, but an error occurred when sending the email. The error message is <code>org.apache.geronimo.javamail.transport.smtp.SMTPSendFailedException: authentication is required</code>.</p>\n<p>Here is my configuration file</p>\n<pre><code># Mail Configuration\nmanagement.health.mail.enabled=false\n# Configure POP3 server\nspring.mail.host=smtp.163.com\n#User name and authorization code for sending emails\nspring.mail.username=yy1*****71@163.com\nspring.mail.password=YJ*****BSKF\n\n# SSL Config\nspring.mail.port=465\nspring.mail.protocol=smtp\nspring.mail.default-encoding=UTF-8\nspring.mail.properties.mail.smtp.ssl.enable=true\nspring.mail.properties.mail.smtp.socketFactory.port=465\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\n</code></pre>\n<p>I tried adding <code>spring.mail.properties.mail.smtp.auth=true</code> to the configuration file and then tried sending the email again. It was successful. I looked at the corresponding source code and found that if I had already filled in the username and password in the configuration file, the value of <code>mail.smtp.auth</code> would not affect the result. I don’t understand why.</p>\n<pre><code>protected synchronized boolean protocolConnect(String host, int port, String user, String passwd) throws MessagingException {\n        boolean useEhlo = PropUtil.getBooleanSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.ehlo&quot;, true);\n        boolean useAuth = PropUtil.getBooleanSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.auth&quot;, false);\n        if (this.logger.isLoggable(Level.FINE)) {\n            this.logger.fine(&quot;useEhlo &quot; + useEhlo + &quot;, useAuth &quot; + useAuth);\n        }\n        \n        if (useAuth &amp;&amp; (user == null || passwd == null)) {\n            return false;\n        } else {\n            if (port == -1) {\n                port = PropUtil.getIntSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.port&quot;, -1);\n            }\n\n            if (port == -1) {\n                port = this.defaultPort;\n            }\n\n            if (host == null || host.length() == 0) {\n                host = &quot;localhost&quot;;\n            }\n\n            boolean connected = false;\n\n            boolean var9;\n            try {\n                if (this.serverSocket != null) {\n                    this.openServer();\n                } else {\n                    this.openServer(host, port);\n                }\n\n                boolean succeed = false;\n                if (useEhlo) {\n                    succeed = this.ehlo(this.getLocalHost());\n                }\n\n                if (!succeed) {\n                    this.helo(this.getLocalHost());\n                }\n\n                if (this.useStartTLS || this.requireStartTLS) {\n                    if (this.serverSocket instanceof SSLSocket) {\n                        this.logger.fine(&quot;STARTTLS requested but already using SSL&quot;);\n                    } else if (this.supportsExtension(&quot;STARTTLS&quot;)) {\n                        this.startTLS();\n                        this.ehlo(this.getLocalHost());\n                    } else if (this.requireStartTLS) {\n                        this.logger.fine(&quot;STARTTLS required but not supported&quot;);\n                        throw new MessagingException(&quot;STARTTLS is required but host does not support STARTTLS&quot;);\n                    }\n                }\n\n                if (!useAuth &amp;&amp; (user == null || passwd == null) || !this.supportsExtension(&quot;AUTH&quot;) &amp;&amp; !this.supportsExtension(&quot;AUTH=LOGIN&quot;)) {\n                    connected = true;\n                    var9 = true;\n                    return var9;\n                }\n\n                connected = this.authenticate(user, passwd);\n                var9 = connected;\n            } finally {\n                if (!connected) {\n                    try {\n                        this.closeConnection();\n                    } catch (MessagingException var17) {\n                    }\n                }\n\n            }\n\n            return var9;\n        }\n    }\n\n</code></pre>\n<p>What does <code>mail.smtp.auth</code> change in my case?</p>\n"},{"tags":["java","xml","jaxb","composite"],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685898085,"creation_date":1414788443,"answer_id":26683169,"question_id":26682591,"body_markdown":"Please try adding\r\n\r\n    @XmlSeeAlso({PreconditionQuery.class})\r\n\r\nto your `CompoundAndPreconditionQuery ` class.\r\n\r\nThen, try annotating ALL of your `PreconditionQuery` classes/subclasses with `@XmlRootElement`.\r\n\r\nAlso, be a bit more careful with `@XmlAccessorType` - sometimes you have it, sometimes not. Better annotate the package with it.\r\n\r\nFinally, you may need an `ObjectFactory` with `@XmlRegistry` and `@XmlElementDecl`, but I do not think it is absolutely required.\r\n\r\nI think the problem is the missing `@XmlRootElement`/`@XmlSeeAlso` annotations.\r\n\r\n`@XmlElementRef` is known to be tricky, but it does work. :)\r\n","title":"JAXB and Composite Pattern","body":"<p>Please try adding</p>\n<pre><code>@XmlSeeAlso({PreconditionQuery.class})\n</code></pre>\n<p>to your <code>CompoundAndPreconditionQuery </code> class.</p>\n<p>Then, try annotating ALL of your <code>PreconditionQuery</code> classes/subclasses with <code>@XmlRootElement</code>.</p>\n<p>Also, be a bit more careful with <code>@XmlAccessorType</code> - sometimes you have it, sometimes not. Better annotate the package with it.</p>\n<p>Finally, you may need an <code>ObjectFactory</code> with <code>@XmlRegistry</code> and <code>@XmlElementDecl</code>, but I do not think it is absolutely required.</p>\n<p>I think the problem is the missing <code>@XmlRootElement</code>/<code>@XmlSeeAlso</code> annotations.</p>\n<p><code>@XmlElementRef</code> is known to be tricky, but it does work. :)</p>\n"}],"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26683169,"answer_count":1,"score":1,"last_activity_date":1685898085,"creation_date":1414785780,"question_id":26682591,"body_markdown":"I&#39;m working with JAXB right now and I&#39;m struggling to annotate my composite notion of precondition query so that JAXB would be happy.\r\n\r\nA precondition query can be:\r\n\r\n - simple : only a text node containing the query\r\n - compound\r\n    - OR : the preconditions of 1 precondition query OR the other matches\r\n    - AND : the preconditions of 1 precondition query AND the other matches\r\n\r\nOf course, compound queries can be made of compound queries, just like in the following example:\r\n\r\n        &lt;precondition&gt;\r\n            &lt;or&gt;\r\n                &lt;and&gt;\r\n                    &lt;query&gt;foo&lt;/query&gt;\r\n                    &lt;query&gt;bar&lt;/query&gt;\r\n                &lt;/and&gt;\r\n                &lt;query&gt;baz&lt;/query&gt;\r\n            &lt;/or&gt;\r\n        &lt;/precondition&gt;\r\n\r\nIn my Java model, I&#39;ve got a single interface annotated PreconditionQuery (actually an abstract class since JAXB seems unhappy with interfaces) with 3 implementations SimplePreconditionQuery, CompoundOrPreconditionQuery and CompoundAndPreconditionQuery.\r\n\r\n    @XmlSeeAlso(PreconditionQuery.class)\r\n    @XmlRootElement(name = &quot;query&quot;)\r\n    public class SimplePreconditionQuery extends PreconditionQuery {\r\n\r\n        private String query;\r\n\r\n        @XmlValue\r\n        public String getQuery() {\r\n            return query;\r\n        }\r\n\r\n        public void setQuery(String query) {\r\n            this.query = query;\r\n        }\r\n    }\r\n\r\nFor the compound ones (CompoundOrPreconditionQuery is basically the same):\r\n\r\n    @XmlSeeAlso(PreconditionQuery.class)\r\n    @XmlRootElement(name = &quot;and&quot;)\r\n    public class CompoundAndPreconditionQuery extends PreconditionQuery {\r\n\r\n        private Collection&lt;PreconditionQuery&gt; preconditionQueries = newArrayList();\r\n\r\n        @XmlElementRef(name = &quot;query&quot;)\r\n        public Collection&lt;PreconditionQuery&gt; getPreconditionQueries() {\r\n            return preconditionQueries;\r\n        }\r\n\r\n        public void setPreconditionQueries(Collection&lt;PreconditionQuery&gt; preconditionQueries) {\r\n            this.preconditionQueries = preconditionQueries;\r\n        }\r\n    }\r\n\r\nFinally, at the enclosing bean level, I mapped like this:\r\n\r\n    public class Precondition {\r\n\r\n        private PreconditionQuery query;\r\n\r\n        @XmlElementRef(required = true)\r\n        public PreconditionQuery getQuery() {\r\n            return query;\r\n        }\r\n\r\n        public void setQuery(PreconditionQuery query) {\r\n            this.query = query;\r\n        }\r\n    }\r\n\r\nIn the end, JAXB complains about not being able to resolve this:\r\n\r\n    Caused by: com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\r\n    Invalid @XmlElementRef : Type &quot;class xxx.PreconditionQuery&quot; or any of its subclasses are not known to this context.\r\n\t    this problem is related to the following location:\r\n\t\t    at public xxx.PreconditionQuery xxx.Precondition.getQuery()\r\n\t\t    at xxx.Precondition\r\n\r\nIf `@XmlElementRef` doesn&#39;t do the job, what will?","title":"JAXB and Composite Pattern","body":"<p>I'm working with JAXB right now and I'm struggling to annotate my composite notion of precondition query so that JAXB would be happy.</p>\n\n<p>A precondition query can be:</p>\n\n<ul>\n<li>simple : only a text node containing the query</li>\n<li>compound\n<ul>\n<li>OR : the preconditions of 1 precondition query OR the other matches</li>\n<li>AND : the preconditions of 1 precondition query AND the other matches</li>\n</ul></li>\n</ul>\n\n<p>Of course, compound queries can be made of compound queries, just like in the following example:</p>\n\n<pre><code>    &lt;precondition&gt;\n        &lt;or&gt;\n            &lt;and&gt;\n                &lt;query&gt;foo&lt;/query&gt;\n                &lt;query&gt;bar&lt;/query&gt;\n            &lt;/and&gt;\n            &lt;query&gt;baz&lt;/query&gt;\n        &lt;/or&gt;\n    &lt;/precondition&gt;\n</code></pre>\n\n<p>In my Java model, I've got a single interface annotated PreconditionQuery (actually an abstract class since JAXB seems unhappy with interfaces) with 3 implementations SimplePreconditionQuery, CompoundOrPreconditionQuery and CompoundAndPreconditionQuery.</p>\n\n<pre><code>@XmlSeeAlso(PreconditionQuery.class)\n@XmlRootElement(name = \"query\")\npublic class SimplePreconditionQuery extends PreconditionQuery {\n\n    private String query;\n\n    @XmlValue\n    public String getQuery() {\n        return query;\n    }\n\n    public void setQuery(String query) {\n        this.query = query;\n    }\n}\n</code></pre>\n\n<p>For the compound ones (CompoundOrPreconditionQuery is basically the same):</p>\n\n<pre><code>@XmlSeeAlso(PreconditionQuery.class)\n@XmlRootElement(name = \"and\")\npublic class CompoundAndPreconditionQuery extends PreconditionQuery {\n\n    private Collection&lt;PreconditionQuery&gt; preconditionQueries = newArrayList();\n\n    @XmlElementRef(name = \"query\")\n    public Collection&lt;PreconditionQuery&gt; getPreconditionQueries() {\n        return preconditionQueries;\n    }\n\n    public void setPreconditionQueries(Collection&lt;PreconditionQuery&gt; preconditionQueries) {\n        this.preconditionQueries = preconditionQueries;\n    }\n}\n</code></pre>\n\n<p>Finally, at the enclosing bean level, I mapped like this:</p>\n\n<pre><code>public class Precondition {\n\n    private PreconditionQuery query;\n\n    @XmlElementRef(required = true)\n    public PreconditionQuery getQuery() {\n        return query;\n    }\n\n    public void setQuery(PreconditionQuery query) {\n        this.query = query;\n    }\n}\n</code></pre>\n\n<p>In the end, JAXB complains about not being able to resolve this:</p>\n\n<pre><code>Caused by: com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\nInvalid @XmlElementRef : Type \"class xxx.PreconditionQuery\" or any of its subclasses are not known to this context.\n    this problem is related to the following location:\n        at public xxx.PreconditionQuery xxx.Precondition.getQuery()\n        at xxx.Precondition\n</code></pre>\n\n<p>If <code>@XmlElementRef</code> doesn't do the job, what will?</p>\n"},{"tags":["java","css","javafx","border"],"comments":[{"owner":{"display_name":"user7582130"},"score":0,"creation_date":1491122342,"post_id":43166303,"comment_id":73406856,"body_markdown":"If you want to remove the bottom part of the border, use: border-bottom: none;","body":"If you want to remove the bottom part of the border, use: border-bottom: none;"},{"owner":{"account_id":10581168,"reputation":151,"user_id":7794922,"display_name":"Robert"},"score":0,"creation_date":1491123045,"post_id":43166303,"comment_id":73407022,"body_markdown":"This should be CSS right ?","body":"This should be CSS right ?"},{"owner":{"display_name":"user7582130"},"score":0,"creation_date":1491123247,"post_id":43166303,"comment_id":73407066,"body_markdown":"Yes it would be CSS.","body":"Yes it would be CSS."},{"owner":{"account_id":10581168,"reputation":151,"user_id":7794922,"display_name":"Robert"},"score":0,"creation_date":1491123752,"post_id":43166303,"comment_id":73407193,"body_markdown":"i will give it a try","body":"i will give it a try"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1491125233,"post_id":43166303,"comment_id":73407565,"body_markdown":"@Leon: In JavaFX css does not provide the same set of properties as in html. `border-bottom` won&#39;t work.","body":"@Leon: In JavaFX css does not provide the same set of properties as in html. <code>border-bottom</code> won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1491125286,"creation_date":1491124738,"answer_id":43166680,"question_id":43166303,"body_markdown":"You can specify different styles for the borders on different sides\r\n###Using Border\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Region root = new Region();\r\n        root.setBorder(new Border(new BorderStroke(Color.RED, Color.RED, Color.RED, Color.RED,\r\n                BorderStrokeStyle.SOLID, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID,\r\n                CornerRadii.EMPTY, new BorderWidths(5), Insets.EMPTY)));\r\n\r\n        Scene scene = new Scene(root, 300, 300);\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n###Using inline css\r\n\r\n    root.setStyle(&quot;-fx-border-style: solid solid none solid; -fx-border-width: 5; -fx-border-color: red;&quot;);\r\n\r\n###Using a css stylesheet\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .root { /* modify the selector according to your needs */\r\n        -fx-border-style: solid solid none solid;\r\n        -fx-border-width: 5;\r\n        -fx-border-color: red;\r\n    }","title":"JavaFX Node partial border","body":"<p>You can specify different styles for the borders on different sides</p>\n\n<h3>Using Border</h3>\n\n<pre><code>@Override\npublic void start(Stage primaryStage) {\n    Region root = new Region();\n    root.setBorder(new Border(new BorderStroke(Color.RED, Color.RED, Color.RED, Color.RED,\n            BorderStrokeStyle.SOLID, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID,\n            CornerRadii.EMPTY, new BorderWidths(5), Insets.EMPTY)));\n\n    Scene scene = new Scene(root, 300, 300);\n\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n</code></pre>\n\n<h3>Using inline css</h3>\n\n<pre><code>root.setStyle(\"-fx-border-style: solid solid none solid; -fx-border-width: 5; -fx-border-color: red;\");\n</code></pre>\n\n<h3>Using a css stylesheet</h3>\n\n<pre class=\"lang-css prettyprint-override\"><code>.root { /* modify the selector according to your needs */\n    -fx-border-style: solid solid none solid;\n    -fx-border-width: 5;\n    -fx-border-color: red;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16068486,"reputation":151,"user_id":11597478,"display_name":"Laurean Ray Bahala"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1685897994,"creation_date":1597333770,"answer_id":63398728,"question_id":43166303,"body_markdown":"**`none`** doesnt work on javafx 13. I tried changing it to `hidden` and it worked.\r\n\r\n    .root { /* modify the selector according to your needs */\r\n        -fx-border-style: solid solid hidden solid;\r\n        -fx-border-width: 5;\r\n        -fx-border-color: red;\r\n    }","title":"JavaFX Node partial border","body":"<p><strong><code>none</code></strong> doesnt work on javafx 13. I tried changing it to <code>hidden</code> and it worked.</p>\n<pre><code>.root { /* modify the selector according to your needs */\n    -fx-border-style: solid solid hidden solid;\n    -fx-border-width: 5;\n    -fx-border-color: red;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20675307,"reputation":348,"user_id":15180061,"display_name":"arun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642917221,"creation_date":1642917221,"answer_id":70819496,"question_id":43166303,"body_markdown":"Setting border-width to 0 worked (JavaFX 17): Example:\r\n\r\n    #header\r\n    {\r\n        -fx-border-width: 0 0 2px 0;\r\n        -fx-border-color: black;\r\n        -fx-border-style: solid;\r\n    }\r\n\r\nHere you can get border only at bottom - order: Top, right, bottom, left.","title":"JavaFX Node partial border","body":"<p>Setting border-width to 0 worked (JavaFX 17): Example:</p>\n<pre><code>#header\n{\n    -fx-border-width: 0 0 2px 0;\n    -fx-border-color: black;\n    -fx-border-style: solid;\n}\n</code></pre>\n<p>Here you can get border only at bottom - order: Top, right, bottom, left.</p>\n"}],"owner":{"account_id":10581168,"reputation":151,"user_id":7794922,"display_name":"Robert"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17145,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":43166680,"answer_count":3,"score":15,"last_activity_date":1685897994,"creation_date":1491122157,"question_id":43166303,"body_markdown":"Having a Node for example VBox I am trying to add a border and there are 2 ways I can think of - using css or using new Border () etc.. \r\n\r\nHow can I remove part of the border ? i.e remove the bottom part of the border","title":"JavaFX Node partial border","body":"<p>Having a Node for example VBox I am trying to add a border and there are 2 ways I can think of - using css or using new Border () etc.. </p>\n\n<p>How can I remove part of the border ? i.e remove the bottom part of the border</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1685883722,"post_id":76400475,"comment_id":134720263,"body_markdown":"You are crashing on a call to `getName()` on a `Users` field or variable. Your code snippet does not show this call.","body":"You are crashing on a call to <code>getName()</code> on a <code>Users</code> field or variable. Your code snippet does not show this call."}],"owner":{"account_id":28749328,"reputation":1,"user_id":22017752,"display_name":"Асалам Алейкум"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685898703,"answer_count":0,"score":0,"last_activity_date":1685897071,"creation_date":1685882512,"question_id":76400475,"body_markdown":"Error i&#39;m getting, when I change the page I go to, everything works\r\n```\r\nE  FATAL EXCEPTION: main\r\nProcess: com.example.myshop, PID: 2327\r\n\r\njava.lang.RuntimeException: Unable to start activity \r\nComponentInfo{com.example.myshop/com.example.myshop.ui.Users.HomeActivity}: \r\njava.lang.NullPointerException: Attempt to invoke virtual method \r\n&#39;java.lang.String com.example.myshop.Model.Users.getName()&#39; on a null object reference                                                                                                   \t                                                                                                   \t\r\n```\r\npage where im trying to go, with product listing\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n\r\n        ProductsRef = FirebaseDatabase.getInstance().getReference().child(&quot;Products&quot;);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        toolbar.setTitle(&quot;Меню&quot;);\r\n        setSupportActionBar(toolbar);\r\n\r\n        FloatingActionButton fab = findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Snackbar.make(view, &quot;Здесь будет переход в корзину&quot;, Snackbar.LENGTH_LONG)\r\n                        .setAction(&quot;Action&quot;, null).show();\r\n            }\r\n        });\r\n\r\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close) {\r\n            @Override\r\n            public void onDrawerSlide(View drawerView, float slideOffset) {\r\n                super.onDrawerSlide(drawerView, slideOffset);\r\n            }\r\n\r\n        };\r\n       // drawer.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        View headerView = navigationView.getHeaderView(0);\r\n        TextView userNameTextView = headerView.findViewById(R.id.user_profile_name);\r\n        CircleImageView profileImageView = headerView.findViewById(R.id.user_profile_image);\r\n\r\n        userNameTextView.setText(Prevalent.currentOnlineUser.getName());\r\n        Picasso.get().load(Prevalent.currentOnlineUser.getImage()).placeholder(R.drawable.profile).into(profileImageView);\r\n\r\n        recyclerView = findViewById(R.id.recycler_menu);\r\n        recyclerView.setHasFixedSize(true);\r\n        layoutManager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutManager);//somethere here it&#39;s crashing\r\n    }\r\n           \r\n```\r\nThe start page, all imports are good\r\nOn the initial page, the login was made without verification, since there was the same error when calling the verification method\r\n","title":"the application crashes when I go to the next page, when I change the page I go to, everything works","body":"<p>Error i'm getting, when I change the page I go to, everything works</p>\n<pre><code>E  FATAL EXCEPTION: main\nProcess: com.example.myshop, PID: 2327\n\njava.lang.RuntimeException: Unable to start activity \nComponentInfo{com.example.myshop/com.example.myshop.ui.Users.HomeActivity}: \njava.lang.NullPointerException: Attempt to invoke virtual method \n'java.lang.String com.example.myshop.Model.Users.getName()' on a null object reference                                                                                                                                                                                                          \n</code></pre>\n<p>page where im trying to go, with product listing</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n\n        ProductsRef = FirebaseDatabase.getInstance().getReference().child(&quot;Products&quot;);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        toolbar.setTitle(&quot;Меню&quot;);\n        setSupportActionBar(toolbar);\n\n        FloatingActionButton fab = findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, &quot;Здесь будет переход в корзину&quot;, Snackbar.LENGTH_LONG)\n                        .setAction(&quot;Action&quot;, null).show();\n            }\n        });\n\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close) {\n            @Override\n            public void onDrawerSlide(View drawerView, float slideOffset) {\n                super.onDrawerSlide(drawerView, slideOffset);\n            }\n\n        };\n       // drawer.addDrawerListener(toggle);\n        toggle.syncState();\n\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n\n        View headerView = navigationView.getHeaderView(0);\n        TextView userNameTextView = headerView.findViewById(R.id.user_profile_name);\n        CircleImageView profileImageView = headerView.findViewById(R.id.user_profile_image);\n\n        userNameTextView.setText(Prevalent.currentOnlineUser.getName());\n        Picasso.get().load(Prevalent.currentOnlineUser.getImage()).placeholder(R.drawable.profile).into(profileImageView);\n\n        recyclerView = findViewById(R.id.recycler_menu);\n        recyclerView.setHasFixedSize(true);\n        layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);//somethere here it's crashing\n    }\n           \n</code></pre>\n<p>The start page, all imports are good\nOn the initial page, the login was made without verification, since there was the same error when calling the verification method</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","insert-update"],"answers":[{"tags":[],"owner":{"account_id":26722756,"reputation":1,"user_id":20326285,"display_name":"An Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685896857,"creation_date":1685896857,"answer_id":76401429,"question_id":76398844,"body_markdown":"I already know the problem is that the save method works both inserting on the main object and updating on the related objects","title":"How can I insert data into a 1-n relation table in Spring Boot JPA without updating the User table?","body":"<p>I already know the problem is that the save method works both inserting on the main object and updating on the related objects</p>\n"}],"owner":{"account_id":26722756,"reputation":1,"user_id":20326285,"display_name":"An Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685896857,"creation_date":1685849755,"question_id":76398844,"body_markdown":"User\r\n----\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private String id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\r\n    @Email\r\n    private String email;\r\n\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n\r\n\r\n    @Column(name = &quot;avatar&quot;)\r\n    private String avatar;\r\n\r\n\r\n    @Column(name = &quot;gender&quot;, nullable = false)\r\n    private String gender;\r\n\r\n\r\n    @Column(name = &quot;phone&quot;)\r\n    private String phone;\r\n\r\n\r\n    @Temporal(TemporalType.DATE)\r\n    @Column(name = &quot;birth_date&quot;, nullable = false)\r\n    private Date birthDate;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private List&lt;UserRoom&gt; userRooms;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;myself&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private List&lt;Friend&gt; myself;\r\n\r\n    @OneToMany(mappedBy = &quot;friend&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private List&lt;Friend&gt; friend;\r\n\r\n}\r\n```\r\n\r\nFriend\r\n------\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Table(name = &quot;friend&quot;, uniqueConstraints = {\r\n        @UniqueConstraint(columnNames = {&quot;myself_id&quot;, &quot;friend_id&quot;})\r\n})\r\npublic class Friend {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @Column(nullable = false)\r\n    private String id;\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;myself_id&quot;)\r\n    @JsonIgnore\r\n    private User myself;\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;friend_id&quot;)\r\n    @JsonIgnore\r\n    private User friend;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;relationship&quot;, nullable = false)\r\n    private Relationship relationship;\r\n\r\n\r\n    public enum Relationship {\r\n        NONE,\r\n        SEND_REQUEST,\r\n        RECEIVE_REQUEST,\r\n        FRIEND,\r\n        BLOCKED,\r\n    }\r\n}\r\n```\r\n\r\nFriendServiceImpl\r\n-----------------\r\n\r\n```java\r\n    @Override\r\n    public Object sendFriendRequest(JsonNode info) {\r\n        String friendId = info.get(&quot;friendId&quot;).textValue();\r\n        String myId = info.get(&quot;myId&quot;).textValue();\r\n\r\n        User friendInfo = userService.findUserInformationById(friendId);\r\n        User myInfo = userService.findUserInformationById(myId);\r\n\r\n\r\n        System.out.println(&quot;=&gt;&gt;&gt;&quot; + friendInfo + &quot; \\n&quot; + myInfo);\r\n        if(friendInfo == null || myInfo == null) {\r\n            return null;\r\n        }\r\n\r\n        Friend a = new Friend().builder()\r\n                        .myself(friendInfo)\r\n                        .friend(myInfo)\r\n                        .relationship(Friend.Relationship.RECEIVE_REQUEST)\r\n                        .build();\r\n        Object yourNewRelationship = friendRepository.save(a\r\n        );\r\n        System.out.println(&quot;OKOKOK&quot;);\r\n        Object myNewRelationship = friendRepository.save(\r\n                new Friend().builder()\r\n                        .myself(myInfo)\r\n                        .friend(friendInfo)\r\n                        .relationship(Friend.Relationship.SEND_REQUEST)\r\n                        .build()\r\n        );\r\n        return myNewRelationship;\r\n    }\r\n```\r\n\r\nConsole\r\n-------\r\n\r\n![Console Image](https://i.stack.imgur.com/OawFx.png)\r\n\r\nDatabase\r\n--------\r\n\r\n![Database Diagram](https://i.stack.imgur.com/42tQu.png)\r\n\r\nI still don&#39;t understand why I just insert the Friend table but in the console it logs out the update user command. So I get the error &quot;password is null&quot;. Can anyone help me, thank you very much\r\n\r\nI want to only insert the Friend table without updating the User table","title":"How can I insert data into a 1-n relation table in Spring Boot JPA without updating the User table?","body":"<h2>User</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private String id;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\n    @Email\n    private String email;\n\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n\n\n    @Column(name = &quot;avatar&quot;)\n    private String avatar;\n\n\n    @Column(name = &quot;gender&quot;, nullable = false)\n    private String gender;\n\n\n    @Column(name = &quot;phone&quot;)\n    private String phone;\n\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;birth_date&quot;, nullable = false)\n    private Date birthDate;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private List&lt;UserRoom&gt; userRooms;\n\n\n    @OneToMany(mappedBy = &quot;myself&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private List&lt;Friend&gt; myself;\n\n    @OneToMany(mappedBy = &quot;friend&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private List&lt;Friend&gt; friend;\n\n}\n</code></pre>\n<h2>Friend</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;friend&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = {&quot;myself_id&quot;, &quot;friend_id&quot;})\n})\npublic class Friend {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Column(nullable = false)\n    private String id;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;myself_id&quot;)\n    @JsonIgnore\n    private User myself;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;friend_id&quot;)\n    @JsonIgnore\n    private User friend;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;relationship&quot;, nullable = false)\n    private Relationship relationship;\n\n\n    public enum Relationship {\n        NONE,\n        SEND_REQUEST,\n        RECEIVE_REQUEST,\n        FRIEND,\n        BLOCKED,\n    }\n}\n</code></pre>\n<h2>FriendServiceImpl</h2>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Object sendFriendRequest(JsonNode info) {\n        String friendId = info.get(&quot;friendId&quot;).textValue();\n        String myId = info.get(&quot;myId&quot;).textValue();\n\n        User friendInfo = userService.findUserInformationById(friendId);\n        User myInfo = userService.findUserInformationById(myId);\n\n\n        System.out.println(&quot;=&gt;&gt;&gt;&quot; + friendInfo + &quot; \\n&quot; + myInfo);\n        if(friendInfo == null || myInfo == null) {\n            return null;\n        }\n\n        Friend a = new Friend().builder()\n                        .myself(friendInfo)\n                        .friend(myInfo)\n                        .relationship(Friend.Relationship.RECEIVE_REQUEST)\n                        .build();\n        Object yourNewRelationship = friendRepository.save(a\n        );\n        System.out.println(&quot;OKOKOK&quot;);\n        Object myNewRelationship = friendRepository.save(\n                new Friend().builder()\n                        .myself(myInfo)\n                        .friend(friendInfo)\n                        .relationship(Friend.Relationship.SEND_REQUEST)\n                        .build()\n        );\n        return myNewRelationship;\n    }\n</code></pre>\n<h2>Console</h2>\n<p><img src=\"https://i.stack.imgur.com/OawFx.png\" alt=\"Console Image\" /></p>\n<h2>Database</h2>\n<p><img src=\"https://i.stack.imgur.com/42tQu.png\" alt=\"Database Diagram\" /></p>\n<p>I still don't understand why I just insert the Friend table but in the console it logs out the update user command. So I get the error &quot;password is null&quot;. Can anyone help me, thank you very much</p>\n<p>I want to only insert the Friend table without updating the User table</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1685830882,"post_id":76398236,"comment_id":134716602,"body_markdown":"You don&#39;t, because the conditional operator (I suppose you&#39;re talking about that specific ternary operator) is meant to return a result, not to call methods that don&#39;t return anything.","body":"You don&#39;t, because the conditional operator (I suppose you&#39;re talking about that specific ternary operator) is meant to return a result, not to call methods that don&#39;t return anything."},{"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"score":0,"creation_date":1685831184,"post_id":76398236,"comment_id":134716621,"body_markdown":"So if there are multi expressions inside the if statement we can not implement the shorter form of if else ? what I see is that all the examples are just one expresions inside am I wrong ?","body":"So if there are multi expressions inside the if statement we can not implement the shorter form of if else ? what I see is that all the examples are just one expresions inside am I wrong ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1685833831,"post_id":76398236,"comment_id":134716837,"body_markdown":"The conditional operator is meant to be syntactic sugar: `if (foo) { c = a; } else { c = b}` is replaced by `c = foo ? a : b`, where `foo` is or evaluates to a `boolean`, `c` is a variable, and `a` and `b` each evaluate to a value that can be assigned to `c`.  You can nest the conditional operator, but there is a good chance some people will claim it makes your code less readable.","body":"The conditional operator is meant to be syntactic sugar: <code>if (foo) { c = a; } else { c = b}</code> is replaced by <code>c = foo ? a : b</code>, where <code>foo</code> is or evaluates to a <code>boolean</code>, <code>c</code> is a variable, and <code>a</code> and <code>b</code> each evaluate to a value that can be assigned to <code>c</code>.  You can nest the conditional operator, but there is a good chance some people will claim it makes your code less readable."},{"owner":{"account_id":21720493,"reputation":738,"user_id":16030830,"display_name":"ethry"},"score":1,"creation_date":1685834499,"post_id":76398236,"comment_id":134716886,"body_markdown":"No, it is not worth it.","body":"No, it is not worth it."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685849166,"post_id":76398236,"comment_id":134717604,"body_markdown":"I would in particulr find it very ugly to hide the side effect from `responseRepository.save(response);` inside a ternary operator. Don’t. If you insist, create two methods to create the response in the two cases. Then it’s as simple as `return Objects.equals(message, Const.CONFIRMATION) ? createAndSaveOkResponse(c.getNumPolice()) : createBadRequestResponse(message);`.","body":"I would in particulr find it very ugly to hide the side effect from <code>responseRepository.save(response);</code> inside a ternary operator. Don’t. If you insist, create two methods to create the response in the two cases. Then it’s as simple as <code>return Objects.equals(message, Const.CONFIRMATION) ? createAndSaveOkResponse(c.getNumPolice()) : createBadRequestResponse(message);</code>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685830970,"creation_date":1685830970,"answer_id":76398249,"question_id":76398236,"body_markdown":"You can&#39;t use the ternary operator to call void methods, but you can drop the second conditional check and just use `else`. After all, if `Objects.equals(message, Const.CONFIRMATION)` is `false`, then it is clear that `!Objects.equals(message, Const.CONFIRMATION)` is true.\r\n\r\n```java\r\nif (Objects.equals(message, Const.CONFIRMATION)) {\r\n\tresponse.setMessage(message);\r\n\tresponse.setCodeStatut(Const.HTTP_200);\r\n\tresponse.setNumPolice(c.getNumPolice());\r\n\tresponseRepository.save(response);\r\n} else {\r\n\tresponse.setMessage(message);\r\n\tresponse.setCodeStatut(Const.HTTP_400);\r\n}\r\n```","title":"Java: short if else statement","body":"<p>You can't use the ternary operator to call void methods, but you can drop the second conditional check and just use <code>else</code>. After all, if <code>Objects.equals(message, Const.CONFIRMATION)</code> is <code>false</code>, then it is clear that <code>!Objects.equals(message, Const.CONFIRMATION)</code> is true.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Objects.equals(message, Const.CONFIRMATION)) {\n    response.setMessage(message);\n    response.setCodeStatut(Const.HTTP_200);\n    response.setNumPolice(c.getNumPolice());\n    responseRepository.save(response);\n} else {\n    response.setMessage(message);\n    response.setCodeStatut(Const.HTTP_400);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1685836587,"creation_date":1685831423,"answer_id":76398265,"question_id":76398236,"body_markdown":"The answer is &quot;yes&quot;; you can replace all your code with one (ugly) ternary statement:\r\n\r\n```\r\nreturn Objects.equals(message, Const.CONFIRMATION) ?\r\n    new Response() {{\r\n        setMessage(message);\r\n        setCodeStatut(Const.HTTP_200);\r\n        setNumPolice(c.getNumPolice());\r\n        responseRepository.save(this);\r\n    }} :\r\n    new Response() {{\r\n        setMessage(this);\r\n        setCodeStatut(Const.HTTP_400);\r\n    }};\r\n```\r\n\r\nHowever! Just because you *can* do something, don&#39;t mean you *should*. Readability, which includes adherence to convention, is paramount and this code is neither. Further, this implementation suffers from [allowing `this` to escape](https://wiki.sei.cmu.edu/confluence/plugins/servlet/mobile?contentId=88487816#content/view/88487816).\r\n\r\nIn short, *don&#39;t try this at home*.","title":"Java: short if else statement","body":"<p>The answer is &quot;yes&quot;; you can replace all your code with one (ugly) ternary statement:</p>\n<pre><code>return Objects.equals(message, Const.CONFIRMATION) ?\n    new Response() {{\n        setMessage(message);\n        setCodeStatut(Const.HTTP_200);\n        setNumPolice(c.getNumPolice());\n        responseRepository.save(this);\n    }} :\n    new Response() {{\n        setMessage(this);\n        setCodeStatut(Const.HTTP_400);\n    }};\n</code></pre>\n<p>However! Just because you <em>can</em> do something, don't mean you <em>should</em>. Readability, which includes adherence to convention, is paramount and this code is neither. Further, this implementation suffers from <a href=\"https://wiki.sei.cmu.edu/confluence/plugins/servlet/mobile?contentId=88487816#content/view/88487816\" rel=\"nofollow noreferrer\">allowing <code>this</code> to escape</a>.</p>\n<p>In short, <em>don't try this at home</em>.</p>\n"},{"tags":[],"owner":{"account_id":9860872,"reputation":66,"user_id":7303937,"display_name":"defrimhsn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685832330,"creation_date":1685832330,"answer_id":76398309,"question_id":76398236,"body_markdown":"I suggest not to use ternary operations becasue the code you&#39;ve written is much more clean and easy to understand comparing to ternary operations for some reason.\r\n- Ternary operations are good, but only for simple conditions \r\n- Writing the code using if/else is easier for the developer to read, and write tests against that code. When using ternary operations, it&#39;s usually harder to write good coverage for those branches and you only find out about that when you scan your code using a code coverage tool.\r\n","title":"Java: short if else statement","body":"<p>I suggest not to use ternary operations becasue the code you've written is much more clean and easy to understand comparing to ternary operations for some reason.</p>\n<ul>\n<li>Ternary operations are good, but only for simple conditions</li>\n<li>Writing the code using if/else is easier for the developer to read, and write tests against that code. When using ternary operations, it's usually harder to write good coverage for those branches and you only find out about that when you scan your code using a code coverage tool.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685833190,"creation_date":1685833190,"answer_id":76398349,"question_id":76398236,"body_markdown":"You cannot use the ternary operator for this job without doing at least one of:\r\n\r\n* Redesigning the API of Response, in which case there are far better things you can do here to clean this code up and make code that uses that class be shorter and simpler.\r\n* Using nasty hacks. As in, seems to work, but can cause extremely serious, many _hours_ of wasted time serious effects later on side-effects, and doesn&#39;t stack to anything even remotely resembling common code style guidelines.\r\n\r\nHence, don&#39;t.\r\n\r\nIf you&#39;d like this code to be golfed down without resorting to nastiness:\r\n\r\n```\r\nvar response = new Response();\r\nresponse.setMessage(message);\r\nresponse.setCodeStatut(Const.HTTP_400);\r\nif (Const.CONFIRMATION.equals(message)) {\r\n  response.setCodeStatut(Const.HTTP_200);\r\n  response.setNumPolice(c.getNumPolice());\r\n  responseRepository.save(response);\r\n}\r\n\r\nreturn response;\r\n```\r\n\r\n* `Objects.equals` is a somewhat dubious tool that can be used if you want to consider `null` to be equal to `null` (that&#39;s the dubious part). `Const.CONFIRMATION` surely isn&#39;t `null`, or if it is, make that `if (message == null)` instead. Hence, no need for it.\r\n* The `else` clause wouldn&#39;t compile, but the intent is clearly just `else`, no need to repeat the negative variant of the same rule.\r\n* Once we&#39;re down to that level, `response.setMessage(message)` is always executed, so, you can just do that up top.\r\n* Possibly dubious, but presuming that `setCodeStatut` is a trivial setter, you can just invoke it a second time and avoid the else entirely from there.\r\n\r\n* The reason you can&#39;t use the ternary operator, is because the ternary operator can only be used with expressions, and a block of statements isn&#39;t an expression. There are hacks, but they are just that: Create nasty side-effects, and are so non-standard, they need a hefty comment to explain why no ready alternative will do. That would be a lie, so don&#39;t apply the hackery.","title":"Java: short if else statement","body":"<p>You cannot use the ternary operator for this job without doing at least one of:</p>\n<ul>\n<li>Redesigning the API of Response, in which case there are far better things you can do here to clean this code up and make code that uses that class be shorter and simpler.</li>\n<li>Using nasty hacks. As in, seems to work, but can cause extremely serious, many <em>hours</em> of wasted time serious effects later on side-effects, and doesn't stack to anything even remotely resembling common code style guidelines.</li>\n</ul>\n<p>Hence, don't.</p>\n<p>If you'd like this code to be golfed down without resorting to nastiness:</p>\n<pre><code>var response = new Response();\nresponse.setMessage(message);\nresponse.setCodeStatut(Const.HTTP_400);\nif (Const.CONFIRMATION.equals(message)) {\n  response.setCodeStatut(Const.HTTP_200);\n  response.setNumPolice(c.getNumPolice());\n  responseRepository.save(response);\n}\n\nreturn response;\n</code></pre>\n<ul>\n<li><p><code>Objects.equals</code> is a somewhat dubious tool that can be used if you want to consider <code>null</code> to be equal to <code>null</code> (that's the dubious part). <code>Const.CONFIRMATION</code> surely isn't <code>null</code>, or if it is, make that <code>if (message == null)</code> instead. Hence, no need for it.</p>\n</li>\n<li><p>The <code>else</code> clause wouldn't compile, but the intent is clearly just <code>else</code>, no need to repeat the negative variant of the same rule.</p>\n</li>\n<li><p>Once we're down to that level, <code>response.setMessage(message)</code> is always executed, so, you can just do that up top.</p>\n</li>\n<li><p>Possibly dubious, but presuming that <code>setCodeStatut</code> is a trivial setter, you can just invoke it a second time and avoid the else entirely from there.</p>\n</li>\n<li><p>The reason you can't use the ternary operator, is because the ternary operator can only be used with expressions, and a block of statements isn't an expression. There are hacks, but they are just that: Create nasty side-effects, and are so non-standard, they need a hefty comment to explain why no ready alternative will do. That would be a lie, so don't apply the hackery.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685849303,"creation_date":1685843273,"answer_id":76398670,"question_id":76398236,"body_markdown":"You *could* do this with a helper function:\r\n\r\n```\r\n    static Response myFunc() {\r\n        Response response = new Response();\r\n        if (Objects.equals(message, Const.CONFIRMATION)) {\r\n            return createResponse(message, Const.HTTP_200, r -&gt; {\r\n                r.setNumPolice(c.getNumPolice());\r\n                responseRepository.save(r);\r\n            });\r\n        } else {\r\n            return createResponse(message, Const.HTTP_400, r -&gt; {});\r\n        }\r\n\r\n        return response;\r\n    }\r\n\r\n    static Response createResponse(String message, int status, Consumer&lt;Response&gt; sideEffects) {\r\n        Response response = new Response();\r\n        response.setMessage(message);\r\n        response.setStatus(status);\r\n        sideEffects.accept(response);\r\n        return response;\r\n    }\r\n```\r\nand with the helper function and a ternary operator:\r\n```\r\n        static Response myFunc() {\r\n        return Objects.equals(message, Const.CONFIRMATION)\r\n                ? createResponse(message, Const.HTTP_200, r -&gt; {\r\n                        r.setNumPolice(c.getNumPolice());\r\n                        responseRepository.save(r);\r\n                    })\r\n                : createResponse(message, Const.HTTP_400, r -&gt; {});\r\n        }\r\n```\r\n\r\nThe advantage of this approach is that you can&#39;t forget to set the `message` or the `status`, and the specific other operations you do to the response are kept collected in a single block.\r\n\r\nPerhaps this introduces too much extra cognitive load when you read the code, and perhaps in this implementation it is too easy to bypass `createResponse` when you are maintaining the code, but in general creating a small function to remove duplication and to make it easier for developers to follow conventions (or patterns for the use of particular classes) is useful.\r\n\r\nAs others have said, redesigning `Response` would be a good idea, but if it was a third party class something like this approach would be useful.","title":"Java: short if else statement","body":"<p>You <em>could</em> do this with a helper function:</p>\n<pre><code>    static Response myFunc() {\n        Response response = new Response();\n        if (Objects.equals(message, Const.CONFIRMATION)) {\n            return createResponse(message, Const.HTTP_200, r -&gt; {\n                r.setNumPolice(c.getNumPolice());\n                responseRepository.save(r);\n            });\n        } else {\n            return createResponse(message, Const.HTTP_400, r -&gt; {});\n        }\n\n        return response;\n    }\n\n    static Response createResponse(String message, int status, Consumer&lt;Response&gt; sideEffects) {\n        Response response = new Response();\n        response.setMessage(message);\n        response.setStatus(status);\n        sideEffects.accept(response);\n        return response;\n    }\n</code></pre>\n<p>and with the helper function and a ternary operator:</p>\n<pre><code>        static Response myFunc() {\n        return Objects.equals(message, Const.CONFIRMATION)\n                ? createResponse(message, Const.HTTP_200, r -&gt; {\n                        r.setNumPolice(c.getNumPolice());\n                        responseRepository.save(r);\n                    })\n                : createResponse(message, Const.HTTP_400, r -&gt; {});\n        }\n</code></pre>\n<p>The advantage of this approach is that you can't forget to set the <code>message</code> or the <code>status</code>, and the specific other operations you do to the response are kept collected in a single block.</p>\n<p>Perhaps this introduces too much extra cognitive load when you read the code, and perhaps in this implementation it is too easy to bypass <code>createResponse</code> when you are maintaining the code, but in general creating a small function to remove duplication and to make it easier for developers to follow conventions (or patterns for the use of particular classes) is useful.</p>\n<p>As others have said, redesigning <code>Response</code> would be a good idea, but if it was a third party class something like this approach would be useful.</p>\n"}],"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1685895688,"creation_date":1685830678,"question_id":76398236,"body_markdown":"How to implement the Ternary Operator in this situation ?\r\n\r\n```java\r\nResponse response = new Response();\r\nif (Objects.equals(message, Const.CONFIRMATION)) {\r\n    response.setMessage(message);\r\n    response.setCodeStatut(Const.HTTP_200);\r\n    response.setNumPolice(c.getNumPolice());\r\n    responseRepository.save(response);\r\n} else(!Objects.equals(message, Const.CONFIRMATION)) {\r\n    response.setMessage(message);\r\n    response.setCodeStatut(Const.HTTP_400);\r\n}\r\n\r\nreturn response;\r\n```","title":"Java: short if else statement","body":"<p>How to implement the Ternary Operator in this situation ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Response response = new Response();\nif (Objects.equals(message, Const.CONFIRMATION)) {\n    response.setMessage(message);\n    response.setCodeStatut(Const.HTTP_200);\n    response.setNumPolice(c.getNumPolice());\n    responseRepository.save(response);\n} else(!Objects.equals(message, Const.CONFIRMATION)) {\n    response.setMessage(message);\n    response.setCodeStatut(Const.HTTP_400);\n}\n\nreturn response;\n</code></pre>\n"},{"tags":["java","volatile","java.util.concurrent","java-memory-model"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1634682649,"post_id":69638262,"comment_id":123090052,"body_markdown":"The semantics are similar but not the same.  `volatile` guarantees that all actions (reads and writes) that happen before the write to the `volatile` are visible.  `final` guarantees that only that particular field (and any object the field refers to) is visible.  `final` is called out explicitly to NOT have a transitive relationship with all other actions on a thread.  (So, previous reads and writes on a thread are unaffected by a `final` field.)","body":"The semantics are similar but not the same.  <code>volatile</code> guarantees that all actions (reads and writes) that happen before the write to the <code>volatile</code> are visible.  <code>final</code> guarantees that only that particular field (and any object the field refers to) is visible.  <code>final</code> is called out explicitly to NOT have a transitive relationship with all other actions on a thread.  (So, previous reads and writes on a thread are unaffected by a <code>final</code> field.)"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1634687245,"post_id":69638262,"comment_id":123090771,"body_markdown":"@mark no: `final` means the value (which can be a reference) is assigned exactly *once*, and assignment happens during object initialization - it may never be reassigned. `final` has nothing to do with visibility.","body":"@mark no: <code>final</code> means the value (which can be a reference) is assigned exactly <i>once</i>, and assignment happens during object initialization - it may never be reassigned. <code>final</code> has nothing to do with visibility."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":4,"creation_date":1634688153,"post_id":69638262,"comment_id":123090922,"body_markdown":"You are 100% wrong about that.  Read the link the OP provided.  I&#39;d also recommend Brian Geotz&#39;s book, Java Concurrency in Practice.  This is well known semantics for Java&#39;s `final` keyword.","body":"You are 100% wrong about that.  Read the link the OP provided.  I&#39;d also recommend Brian Geotz&#39;s book, Java Concurrency in Practice.  This is well known semantics for Java&#39;s <code>final</code> keyword."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1634688905,"post_id":69638262,"comment_id":123091060,"body_markdown":"`final` is for initialization and `volatile` is about updating the variable at the same.","body":"<code>final</code> is for initialization and <code>volatile</code> is about updating the variable at the same."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1634689492,"post_id":69638262,"comment_id":123091137,"body_markdown":"@markspace can you provide a JCIP citation?","body":"@markspace can you provide a JCIP citation?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1634690830,"post_id":69638262,"comment_id":123091305,"body_markdown":"*&quot;...Let o be an object, and c be a constructor for o in which a final field f is written. A freeze action on final field f of o takes place when c exits...Given a write w, a freeze f, an action a (that is not a read of a final field), a read r1 of the final field frozen by f, and a read r2 such that hb(w, f), hb(f, a), mc(a, r1), and dereferences(r1, r2), then when determining which values can be seen by r2, we consider hb(w, r2). (This happens-before ordering does not transitively close with other happens-before orderings.)&quot;*","body":"<i>&quot;...Let o be an object, and c be a constructor for o in which a final field f is written. A freeze action on final field f of o takes place when c exits...Given a write w, a freeze f, an action a (that is not a read of a final field), a read r1 of the final field frozen by f, and a read r2 such that hb(w, f), hb(f, a), mc(a, r1), and dereferences(r1, r2), then when determining which values can be seen by r2, we consider hb(w, r2). (This happens-before ordering does not transitively close with other happens-before orderings.)&quot;</i>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1634690903,"post_id":69638262,"comment_id":123091313,"body_markdown":"Note that this freeze-action is distinct from a synchronizes-with but still creates a happens-before relationship.  (And Brian Goetz&#39;s book is a much easier read that trying to puzzle out the spec.)","body":"Note that this freeze-action is distinct from a synchronizes-with but still creates a happens-before relationship.  (And Brian Goetz&#39;s book is a much easier read that trying to puzzle out the spec.)"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1634697220,"post_id":69638262,"comment_id":123092246,"body_markdown":"@mark I don&#39;t see the word &quot;visibility&quot; anywhere in that text. `final` doesn&#39;t need `volatile` because its value never changes, but that has nothing to do with visibility. Are you still sure &quot;I&#39;m 100% wrong&quot;?","body":"@mark I don&#39;t see the word &quot;visibility&quot; anywhere in that text. <code>final</code> doesn&#39;t need <code>volatile</code> because its value never changes, but that has nothing to do with visibility. Are you still sure &quot;I&#39;m 100% wrong&quot;?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1634697761,"post_id":69638262,"comment_id":123092349,"body_markdown":"Er, I don&#39;t think the OP is asking if the field needs to be both `volatile` and `final`.  It&#39;s one or the other.  And *happens-before* means &quot;visible&quot; in the JLS.  You need to read that entire chapter for it to make sense: JLS section 17.4.5. Happens-before Order *&quot;Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.&quot;*  I&#39;m not really interested in spoon feeding this to you.  Please make an effort on your own, or at least ask a question here that someone can answer. @Bohemian","body":"Er, I don&#39;t think the OP is asking if the field needs to be both <code>volatile</code> and <code>final</code>.  It&#39;s one or the other.  And <i>happens-before</i> means &quot;visible&quot; in the JLS.  You need to read that entire chapter for it to make sense: JLS section 17.4.5. Happens-before Order <i>&quot;Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.&quot;</i>  I&#39;m not really interested in spoon feeding this to you.  Please make an effort on your own, or at least ask a question here that someone can answer. @Bohemian"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1634828433,"post_id":69638262,"comment_id":123136717,"body_markdown":"OP: look at user17206833&#39;s answer below.  It appears to (very cogently) explain that `y` can be 0 even if `volatile`.  Something I was not aware of, and seems to be a subtle point in the Java memory model.","body":"OP: look at user17206833&#39;s answer below.  It appears to (very cogently) explain that <code>y</code> can be 0 even if <code>volatile</code>.  Something I was not aware of, and seems to be a subtle point in the Java memory model."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1635470128,"post_id":69638262,"comment_id":123313578,"body_markdown":"as to the other question that you posted, I will provide the same comment. This is a &quot;data race&quot;, yes, zero is such a possibility. The guarantees for `final` in the spec, are for _all_ fields, your example violates that. But it is very tricky, I agree. Although I really like these things, I sometimes get them wrong too.","body":"as to the other question that you posted, I will provide the same comment. This is a &quot;data race&quot;, yes, zero is such a possibility. The guarantees for <code>final</code> in the spec, are for <i>all</i> fields, your example violates that. But it is very tricky, I agree. Although I really like these things, I sometimes get them wrong too."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1634765436,"creation_date":1634687493,"answer_id":69638784,"question_id":69638262,"body_markdown":"Firstly, `volatile` and initialization are unrelated concepts: A field&#39;s initialization guarantees are unaffected by it being `volatile` or not.\r\n\r\nUnless `this` &quot;escapes&quot; from within the constructor (which is not the case here), the constructor is guaranteed to have completed execution *before* any other process can access the instance&#39;s fields/methods, so `y` must be initialized in `reader()` if `f != null`, ie\r\n\r\n    int j = f.y;  // will always see 4\r\n\r\n\r\nSee [JLS `volatile`][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p>Firstly, <code>volatile</code> and initialization are unrelated concepts: A field's initialization guarantees are unaffected by it being <code>volatile</code> or not.</p>\n<p>Unless <code>this</code> &quot;escapes&quot; from within the constructor (which is not the case here), the constructor is guaranteed to have completed execution <em>before</em> any other process can access the instance's fields/methods, so <code>y</code> must be initialized in <code>reader()</code> if <code>f != null</code>, ie</p>\n<pre><code>int j = f.y;  // will always see 4\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4\" rel=\"nofollow noreferrer\">JLS <code>volatile</code></a></p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634691924,"creation_date":1634691924,"answer_id":69639161,"question_id":69638262,"body_markdown":"I think reading 0 is possible.\r\n\r\nThe spec [says](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.4):\r\n\r\n&gt; A write to a volatile variable `v` synchronizes-with all subsequent reads of `v` by any thread (where &quot;subsequent&quot; is defined according to the synchronization order). \r\n\r\nIn our case, we have a write and a read of the same variable, but there is nothing that ensures the read to be subsequent. In particular, the write and read occur in different threads that are not related by any other synchronization action.\r\n\r\nThat is, it is possible that the read will occur before the write in synchronization order.\r\n\r\nThis may sound surprising given that the writing thread writes `f` after `y`, and the reading thread reads `y` only if it detects `f` has been written. But since the write and read to `f` are not synchronized, the following [quote](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5) applies:\r\n\r\n&gt; More specifically, if two actions share a happens-before relationship, they do not necessarily have to appear to have happened in that order to any code with which they do not share a happens-before relationship. Writes in one thread that are in a data race with reads in another thread may, for example, appear to occur out of order to those reads. \r\n\r\nThe [explanatory notes to example 17.4.1](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4) also reaffirm that the runtime is permitted to reorder these writes:\r\n\r\n&gt; If some execution exhibited this behavior, then we would know that instruction 4 came before instruction 1, which came before instruction 2, which came before instruction 3, which came before instruction 4. This is, on the face of it, absurd.\r\n&gt;\r\n&gt; However, compilers are allowed to reorder the instructions in either thread, when this does not affect the execution of that thread in isolation.\r\n\r\nIn our case, the behavior of the writing thread, in isolation, is not affected by reordering the writes to `f` and `y`.","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p>I think reading 0 is possible.</p>\n<p>The spec <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.4\" rel=\"nofollow noreferrer\">says</a>:</p>\n<blockquote>\n<p>A write to a volatile variable <code>v</code> synchronizes-with all subsequent reads of <code>v</code> by any thread (where &quot;subsequent&quot; is defined according to the synchronization order).</p>\n</blockquote>\n<p>In our case, we have a write and a read of the same variable, but there is nothing that ensures the read to be subsequent. In particular, the write and read occur in different threads that are not related by any other synchronization action.</p>\n<p>That is, it is possible that the read will occur before the write in synchronization order.</p>\n<p>This may sound surprising given that the writing thread writes <code>f</code> after <code>y</code>, and the reading thread reads <code>y</code> only if it detects <code>f</code> has been written. But since the write and read to <code>f</code> are not synchronized, the following <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">quote</a> applies:</p>\n<blockquote>\n<p>More specifically, if two actions share a happens-before relationship, they do not necessarily have to appear to have happened in that order to any code with which they do not share a happens-before relationship. Writes in one thread that are in a data race with reads in another thread may, for example, appear to occur out of order to those reads.</p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">explanatory notes to example 17.4.1</a> also reaffirm that the runtime is permitted to reorder these writes:</p>\n<blockquote>\n<p>If some execution exhibited this behavior, then we would know that instruction 4 came before instruction 1, which came before instruction 2, which came before instruction 3, which came before instruction 4. This is, on the face of it, absurd.</p>\n<p>However, compilers are allowed to reorder the instructions in either thread, when this does not affect the execution of that thread in isolation.</p>\n</blockquote>\n<p>In our case, the behavior of the writing thread, in isolation, is not affected by reordering the writes to <code>f</code> and <code>y</code>.</p>\n"},{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634828321,"creation_date":1634698693,"answer_id":69639812,"question_id":69638262,"body_markdown":"EDIT: My answer below looks like it&#39;s wrong.  `volatile` only requires that all reads and writes (and other &quot;actions&quot;) have completed when the write is made, but subsequent writes can still be reordered to occur before the write to the `volatile`.  Thus it is possible to see `f` before the write to `y` has occurred.\r\n\r\nWhich is really weird, but here we are.\r\n\r\nuser17206833&#39;s answer above mine appears to be correct and contains a link to a very useful resource, I suggest you check it out.\r\n\r\n----\r\n**Wrong stuff (I&#39;m leaving it up because it illustrate a common misconception):**\r\n\r\nOP I think I misread your question:\r\n\r\n*&quot;What if the y field in the following example would be volatile could we observe 0?&quot;*\r\n\r\nIf `y` is volatile, then no you cannot observe a 0.\r\n\r\n    class FinalFieldExample { \r\n      final int x;\r\n      volatile int y; \r\n\r\nIf this is what you mean, then the write to `y` followed by a read of `y` must create a *happens-before* edge for the read.  [The JLS says:](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5) *&quot;A write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field.&quot;* and never qualifies that statement requiring a read of a reference of some type.  The fact that `f` is neither `volatile` nor `final` should make no difference.\r\n\r\n","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p>EDIT: My answer below looks like it's wrong.  <code>volatile</code> only requires that all reads and writes (and other &quot;actions&quot;) have completed when the write is made, but subsequent writes can still be reordered to occur before the write to the <code>volatile</code>.  Thus it is possible to see <code>f</code> before the write to <code>y</code> has occurred.</p>\n<p>Which is really weird, but here we are.</p>\n<p>user17206833's answer above mine appears to be correct and contains a link to a very useful resource, I suggest you check it out.</p>\n<hr />\n<p><strong>Wrong stuff (I'm leaving it up because it illustrate a common misconception):</strong></p>\n<p>OP I think I misread your question:</p>\n<p><em>&quot;What if the y field in the following example would be volatile could we observe 0?&quot;</em></p>\n<p>If <code>y</code> is volatile, then no you cannot observe a 0.</p>\n<pre><code>class FinalFieldExample { \n  final int x;\n  volatile int y; \n</code></pre>\n<p>If this is what you mean, then the write to <code>y</code> followed by a read of <code>y</code> must create a <em>happens-before</em> edge for the read.  <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">The JLS says:</a> <em>&quot;A write to a volatile field (§8.3.1.4) happens-before every subsequent read of that field.&quot;</em> and never qualifies that statement requiring a read of a reference of some type.  The fact that <code>f</code> is neither <code>volatile</code> nor <code>final</code> should make no difference.</p>\n"},{"tags":[],"owner":{"account_id":23096877,"reputation":66,"user_id":17206833,"display_name":"user17206833"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1685895612,"creation_date":1634781991,"answer_id":69654998,"question_id":69638262,"body_markdown":"Yes, it is possible to see `0` when\r\n```java\r\nclass FinalFieldExample { \r\n  final int x;\r\n  volatile int y;\r\n  static FinalFieldExample f;\r\n  ...\r\n}\r\n```\r\n\r\nThe short explanation:\r\n- `writer()` thread publishes `f = new FinalFieldExample()` object via a data race\r\n- because of this data race, `reader()` thread is allowed see `f = new FinalFieldExample()` object as semi-initialized.  \r\n  In particular, `reader()` thread can see a value of `y` that was before `y = 4;` — i.e. initial value `0`.\r\n\r\nMore detailed explanations are [here](https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-volatiles-are-finals).\r\n\r\nYou can reproduce this behavior on ARM64 with [this jcstress test](https://github.com/openjdk/jcstress/blob/0.16/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_13_VolatileVsFinal.java).","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p>Yes, it is possible to see <code>0</code> when</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FinalFieldExample { \n  final int x;\n  volatile int y;\n  static FinalFieldExample f;\n  ...\n}\n</code></pre>\n<p>The short explanation:</p>\n<ul>\n<li><code>writer()</code> thread publishes <code>f = new FinalFieldExample()</code> object via a data race</li>\n<li>because of this data race, <code>reader()</code> thread is allowed see <code>f = new FinalFieldExample()</code> object as semi-initialized.<br />\nIn particular, <code>reader()</code> thread can see a value of <code>y</code> that was before <code>y = 4;</code> — i.e. initial value <code>0</code>.</li>\n</ul>\n<p>More detailed explanations are <a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-volatiles-are-finals\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You can reproduce this behavior on ARM64 with <a href=\"https://github.com/openjdk/jcstress/blob/0.16/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_13_VolatileVsFinal.java\" rel=\"nofollow noreferrer\">this jcstress test</a>.</p>\n"},{"tags":[],"owner":{"account_id":23098828,"reputation":21,"user_id":17208506,"display_name":"user17208506"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1634799642,"creation_date":1634799642,"answer_id":69657309,"question_id":69638262,"body_markdown":"Yes, `0` is possible when `x` is volatile, because there is no guarantee that the write `x = 3` in the `writer()` thread **always** [_happens-before_](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5) the read `local_f.x` in the `reader()` thread.\r\n\r\n```java\r\nclass FinalFieldExample { \r\n  volatile int x;\r\n  static FinalFieldExample f;\r\n\r\n  public FinalFieldExample() {\r\n    x = 3;\r\n  }\r\n\r\n  static void writer() {\r\n    f = new FinalFieldExample();\r\n  }\r\n\r\n  static void reader() {\r\n    var local_f = f;\r\n    if (local_f != null) {\r\n        int i = local_f.x;  // could see 0\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAs a result, even though `x` is `volatile` (which means that all reads and writes to `x` happen in a global order), nothing prevents the read `local_f.x` in the `reader()` thread from happening before the write `x = 3` in the `writer()` thread.  \r\n`local_f.x` in these case will return `0` (the [default value](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.4) for `int`, which works like an initial write).\r\n\r\nThe problem is that after the `reader()` thread reads `f`, there is no guarantee (i.e. no _happens-before_ relation) that it sees the inner state on `f` correctly: i.e. it may not see the write `x = 3` into the inner field `f.x` made by the `writer()` thread in `FinalFieldExample` constructor.\r\n\r\nYou can create this _happens-before_ relation by:\r\n- either making `f` `volatile` (`x` can be made non-volatile)\r\n  ```java\r\n  class FinalFieldExample { \r\n    int x;\r\n    static volatile FinalFieldExample f;\r\n    ...\r\n  }\r\n  ```\r\n  [From the JLS](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5):\r\n  &gt; A write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field.\r\n- or making `x` `final` instead of `volatile`\r\n  ```java\r\n  class FinalFieldExample { \r\n    final int x;\r\n    static FinalFieldExample f;\r\n    ...\r\n  }\r\n  ```\r\n  [From the JLS](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.5):\r\n  &gt; An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object&#39;s final fields.","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p>Yes, <code>0</code> is possible when <code>x</code> is volatile, because there is no guarantee that the write <code>x = 3</code> in the <code>writer()</code> thread <strong>always</strong> <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\"><em>happens-before</em></a> the read <code>local_f.x</code> in the <code>reader()</code> thread.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FinalFieldExample { \n  volatile int x;\n  static FinalFieldExample f;\n\n  public FinalFieldExample() {\n    x = 3;\n  }\n\n  static void writer() {\n    f = new FinalFieldExample();\n  }\n\n  static void reader() {\n    var local_f = f;\n    if (local_f != null) {\n        int i = local_f.x;  // could see 0\n    }\n  }\n}\n</code></pre>\n<p>As a result, even though <code>x</code> is <code>volatile</code> (which means that all reads and writes to <code>x</code> happen in a global order), nothing prevents the read <code>local_f.x</code> in the <code>reader()</code> thread from happening before the write <code>x = 3</code> in the <code>writer()</code> thread.<br />\n<code>local_f.x</code> in these case will return <code>0</code> (the <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.4\" rel=\"nofollow noreferrer\">default value</a> for <code>int</code>, which works like an initial write).</p>\n<p>The problem is that after the <code>reader()</code> thread reads <code>f</code>, there is no guarantee (i.e. no <em>happens-before</em> relation) that it sees the inner state on <code>f</code> correctly: i.e. it may not see the write <code>x = 3</code> into the inner field <code>f.x</code> made by the <code>writer()</code> thread in <code>FinalFieldExample</code> constructor.</p>\n<p>You can create this <em>happens-before</em> relation by:</p>\n<ul>\n<li>either making <code>f</code> <code>volatile</code> (<code>x</code> can be made non-volatile)\n<pre class=\"lang-java prettyprint-override\"><code>class FinalFieldExample { \n  int x;\n  static volatile FinalFieldExample f;\n  ...\n}\n</code></pre>\n<a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">From the JLS</a>:\n<blockquote>\n<p>A write to a volatile field (§8.3.1.4) happens-before every subsequent read of that field.</p>\n</blockquote>\n</li>\n<li>or making <code>x</code> <code>final</code> instead of <code>volatile</code>\n<pre class=\"lang-java prettyprint-override\"><code>class FinalFieldExample { \n  final int x;\n  static FinalFieldExample f;\n  ...\n}\n</code></pre>\n<a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">From the JLS</a>:\n<blockquote>\n<p>An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object's final fields.</p>\n</blockquote>\n</li>\n</ul>\n"}],"owner":{"account_id":392254,"reputation":3004,"user_id":753418,"accept_rate":64,"display_name":"Hlib"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69654998,"answer_count":5,"score":6,"last_activity_date":1685895612,"creation_date":1634682350,"question_id":69638262,"body_markdown":"[Here][1]:\r\n\r\n&gt; An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object&#39;s final fields.\r\n\r\nAre the same guarantees held for the `volatile` field?\r\nWhat if the `y` field in the following example would be `volatile` could we observe `0`?\r\n\r\n\r\n    class FinalFieldExample { \r\n    final int x;\r\n    int y; \r\n    static FinalFieldExample f;\r\n\r\n    public FinalFieldExample() {\r\n        x = 3; \r\n        y = 4; \r\n    } \r\n\r\n    static void writer() {\r\n        f = new FinalFieldExample();\r\n    } \r\n\r\n    static void reader() {\r\n        if (f != null) {\r\n            int i = f.x;  // guaranteed to see 3  \r\n            int j = f.y;  // could see 0\r\n        } \r\n    } \r\n}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.5","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.5\" rel=\"noreferrer\">Here</a>:</p>\n<blockquote>\n<p>An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object's final fields.</p>\n</blockquote>\n<p>Are the same guarantees held for the <code>volatile</code> field?\nWhat if the <code>y</code> field in the following example would be <code>volatile</code> could we observe <code>0</code>?</p>\n<pre><code>class FinalFieldExample { \nfinal int x;\nint y; \nstatic FinalFieldExample f;\n\npublic FinalFieldExample() {\n    x = 3; \n    y = 4; \n} \n\nstatic void writer() {\n    f = new FinalFieldExample();\n} \n\nstatic void reader() {\n    if (f != null) {\n        int i = f.x;  // guaranteed to see 3  \n        int j = f.y;  // could see 0\n    } \n} \n</code></pre>\n<p>}</p>\n"},{"tags":["java","json","data-binding","jackson"],"comments":[{"owner":{"account_id":103609,"reputation":3905,"user_id":277413,"accept_rate":67,"display_name":"pulkitsinghal"},"score":3,"creation_date":1374069037,"post_id":4486787,"comment_id":25794307,"body_markdown":"I found this useful to avoid creating a wrapper class: `Map dummy&lt;String,Student&gt; = myClientResponse.getEntity(new GenericType&lt;Map&lt;String, Student&gt;&gt;(){});` and then `Student myStudent = dummy.get(&quot;wrapper&quot;);`","body":"I found this useful to avoid creating a wrapper class: <code>Map dummy&lt;String,Student&gt; = myClientResponse.getEntity(new GenericType&lt;Map&lt;String, Student&gt;&gt;(){});</code> and then <code>Student myStudent = dummy.get(&quot;wrapper&quot;);</code>"},{"owner":{"account_id":1046620,"reputation":3372,"user_id":1051462,"display_name":"Dmitri Algazin"},"score":9,"creation_date":1422611661,"post_id":4486787,"comment_id":44828540,"body_markdown":"JSON should looks like: String jsonStr = &quot;{\\&quot;students\\&quot;\\:[{\\&quot;id\\&quot;:\\&quot;13\\&quot;,\\&quot;name\\&quot;:\\&quot;Fred\\&quot;}]}&quot;;  if you are expecting Wrapper object in your REST POST request","body":"JSON should looks like: String jsonStr = &quot;{\\&quot;students\\&quot;\\:[{\\&quot;id\\&quot;:\\&quot;13\\&quot;,\\&quot;name\\&quot;:\\&quot;Fred\\&quot;}]}&quot;;  if you are expecting Wrapper object in your REST POST request"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":4,"creation_date":1446114407,"post_id":4486787,"comment_id":54613434,"body_markdown":"Related (but different) question: [Ignoring new fields on JSON objects using Jackson](http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson)","body":"Related (but different) question: <a href=\"http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson\">Ignoring new fields on JSON objects using Jackson</a>"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":6,"creation_date":1446126976,"post_id":4486787,"comment_id":54622050,"body_markdown":"And incidentally, most answers to _this_ question actually answer a different question, namely one similar to the one I linke above.","body":"And incidentally, most answers to <i>this</i> question actually answer a different question, namely one similar to the one I linke above."},{"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"score":8,"creation_date":1518518836,"post_id":4486787,"comment_id":84530302,"body_markdown":"**majority of answers help brush problem under rug rather than actually solving it** :(","body":"<b>majority of answers help brush problem under rug rather than actually solving it</b> :("},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":1,"creation_date":1534758406,"post_id":4486787,"comment_id":90805722,"body_markdown":"It is so funny that why so many answers in this questions answer the things that are not related to the questions ?  Apparently , the OP does not want to ignore deserialising the &quot;wrapper&quot; property ........","body":"It is so funny that why so many answers in this questions answer the things that are not related to the questions ?  Apparently , the OP does not want to ignore deserialising the &quot;wrapper&quot; property ........"},{"owner":{"account_id":46523,"reputation":5329,"user_id":137507,"accept_rate":75,"display_name":"david.barkhuizen"},"score":1,"creation_date":1564150606,"post_id":4486787,"comment_id":100948014,"body_markdown":"@NoobEditor sometimes you can only fix what&#39;s under your control, and the rest you have to ignore","body":"@NoobEditor sometimes you can only fix what&#39;s under your control, and the rest you have to ignore"}],"answers":[{"tags":[],"owner":{"account_id":19562,"reputation":30712,"user_id":45935,"accept_rate":100,"display_name":"Jim Ferrans"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1292818243,"creation_date":1292818243,"answer_id":4486816,"question_id":4486787,"body_markdown":"Jackson is complaining because it can&#39;t find a field in your class Wrapper that&#39;s called &quot;wrapper&quot;.  It&#39;s doing this because your JSON object has a property called &quot;wrapper&quot;.\r\n\r\nI think the fix is to rename your Wrapper class&#39;s field to &quot;wrapper&quot; instead of &quot;students&quot;.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Jackson is complaining because it can't find a field in your class Wrapper that's called \"wrapper\".  It's doing this because your JSON object has a property called \"wrapper\".</p>\n\n<p>I think the fix is to rename your Wrapper class's field to \"wrapper\" instead of \"students\".</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":155,"is_accepted":false,"score":155,"last_activity_date":1522769927,"creation_date":1292958098,"answer_id":4502923,"question_id":4486787,"body_markdown":"The first answer is almost correct, but what is needed is to change getter method, NOT field -- field is private (and not auto-detected); further, getters have precedence over fields if both are visible.(There are ways to make private fields visible, too, but if you want to have getter there&#39;s not much point)\r\n\r\nSo getter should either be named `getWrapper()`, or annotated with:\r\n\r\n    @JsonProperty(&quot;wrapper&quot;)\r\n\r\nIf you prefer getter method name as is.\r\n\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>The first answer is almost correct, but what is needed is to change getter method, NOT field -- field is private (and not auto-detected); further, getters have precedence over fields if both are visible.(There are ways to make private fields visible, too, but if you want to have getter there's not much point)</p>\n\n<p>So getter should either be named <code>getWrapper()</code>, or annotated with:</p>\n\n<pre><code>@JsonProperty(\"wrapper\")\n</code></pre>\n\n<p>If you prefer getter method name as is.</p>\n"},{"tags":[],"owner":{"account_id":934485,"reputation":14009,"user_id":963674,"display_name":"Ariel Kogan"},"down_vote_count":21,"up_vote_count":1395,"is_accepted":false,"score":1374,"last_activity_date":1543173721,"creation_date":1316960018,"answer_id":7546047,"question_id":4486787,"body_markdown":"You can use Jackson&#39;s class-level annotation:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties\r\n\r\n    @JsonIgnoreProperties\r\n    class { ...&#160;}\r\n\r\nIt will ignore every property you haven&#39;t defined in your POJO. Very useful when you are just looking for a couple of properties in the JSON and don&#39;t want to write the whole mapping. More info at [Jackson&#39;s website][1]. If you want to ignore any non declared property, you should write:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-annotations","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>You can use Jackson's class-level annotation:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties\n\n@JsonIgnoreProperties\nclass { ... }\n</code></pre>\n\n<p>It will ignore every property you haven't defined in your POJO. Very useful when you are just looking for a couple of properties in the JSON and don't want to write the whole mapping. More info at <a href=\"https://github.com/FasterXML/jackson-annotations\" rel=\"noreferrer\">Jackson's website</a>. If you want to ignore any non declared property, you should write:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73100,"reputation":3555,"user_id":210713,"accept_rate":78,"display_name":"TedTrippin"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1638504045,"creation_date":1334591024,"answer_id":10177316,"question_id":4486787,"body_markdown":"Problem is your property in your JSON is called &quot;wrapper&quot; and your property in Wrapper.class is called &quot;students&quot;.\r\n\r\nSo either...\r\n\r\n1. Correct the name of the property in either the class or JSON.\r\n2. Annotate your property variable as per StaxMan&#39;s comment.\r\n3. Annotate the setter (if you have one)","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Problem is your property in your JSON is called &quot;wrapper&quot; and your property in Wrapper.class is called &quot;students&quot;.</p>\n<p>So either...</p>\n<ol>\n<li>Correct the name of the property in either the class or JSON.</li>\n<li>Annotate your property variable as per StaxMan's comment.</li>\n<li>Annotate the setter (if you have one)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1564045,"reputation":181,"user_id":1453230,"display_name":"mytwocentsads"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1638504434,"creation_date":1339578412,"answer_id":11011560,"question_id":4486787,"body_markdown":"I have tried the below method and it works for such JSON format reading with Jackson.\r\nUse the already suggested solution of: annotating getter with `@JsonProperty(&quot;wrapper&quot;)`\r\n\r\nYour wrapper class\r\n\r\n    public Class Wrapper{ \r\n      private List&lt;Student&gt; students;\r\n      //getters &amp; setters here \r\n    } \r\n\r\nMy Suggestion of wrapper class\r\n\r\n    public Class Wrapper{ \r\n\r\n      private StudentHelper students; \r\n\r\n      //getters &amp; setters here \r\n      // Annotate getter\r\n      @JsonProperty(&quot;wrapper&quot;)\r\n      StudentHelper getStudents() {\r\n        return students;\r\n      }  \r\n    } \r\n\r\n\r\n    public class StudentHelper {\r\n\r\n      @JsonProperty(&quot;Student&quot;)\r\n      public List&lt;Student&gt; students; \r\n\r\n      //CTOR, getters and setters\r\n      //NOTE: If students is private annotate getter with the annotation @JsonProperty(&quot;Student&quot;)\r\n    }\r\n\r\nThis would however give you the output of the format:\r\n\r\n    {&quot;wrapper&quot;:{&quot;student&quot;:[{&quot;id&quot;:13,&quot;name&quot;:Fred}]}}\r\n\r\nAlso for more information refer to [https://github.com/FasterXML/jackson-annotations][1] \r\n\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-annotations","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>I have tried the below method and it works for such JSON format reading with Jackson.\nUse the already suggested solution of: annotating getter with <code>@JsonProperty(&quot;wrapper&quot;)</code></p>\n<p>Your wrapper class</p>\n<pre><code>public Class Wrapper{ \n  private List&lt;Student&gt; students;\n  //getters &amp; setters here \n} \n</code></pre>\n<p>My Suggestion of wrapper class</p>\n<pre><code>public Class Wrapper{ \n\n  private StudentHelper students; \n\n  //getters &amp; setters here \n  // Annotate getter\n  @JsonProperty(&quot;wrapper&quot;)\n  StudentHelper getStudents() {\n    return students;\n  }  \n} \n\n\npublic class StudentHelper {\n\n  @JsonProperty(&quot;Student&quot;)\n  public List&lt;Student&gt; students; \n\n  //CTOR, getters and setters\n  //NOTE: If students is private annotate getter with the annotation @JsonProperty(&quot;Student&quot;)\n}\n</code></pre>\n<p>This would however give you the output of the format:</p>\n<pre><code>{&quot;wrapper&quot;:{&quot;student&quot;:[{&quot;id&quot;:13,&quot;name&quot;:Fred}]}}\n</code></pre>\n<p>Also for more information refer to <a href=\"https://github.com/FasterXML/jackson-annotations\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-annotations</a></p>\n"},{"tags":[],"owner":{"account_id":1018688,"reputation":7893,"user_id":1029657,"accept_rate":36,"display_name":"Suresh"},"down_vote_count":10,"up_vote_count":747,"is_accepted":false,"score":737,"last_activity_date":1393943784,"creation_date":1349364468,"answer_id":12730655,"question_id":4486787,"body_markdown":"You can use\r\n\r\n    ObjectMapper objectMapper = getObjectMapper();\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\nIt will ignore all the properties that are not declared.\r\n\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>You can use</p>\n\n<pre><code>ObjectMapper objectMapper = getObjectMapper();\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n\n<p>It will ignore all the properties that are not declared.</p>\n"},{"tags":[],"owner":{"account_id":1713170,"reputation":1549,"user_id":1570793,"accept_rate":44,"display_name":"George Papatheodorou"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1370596417,"creation_date":1370596417,"answer_id":16980429,"question_id":4486787,"body_markdown":"   \r\nThis solution is generic when reading json streams and need to get only some fields while fields not mapped correctly in your Domain Classes can be ignored:\r\n\r\n    import org.codehaus.jackson.annotate.JsonIgnoreProperties;\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\nA detailed solution would be to use a tool such as   jsonschema2pojo to autogenerate the required Domain Classes such as Student from the Schema of the json Response. You can do the latter by any online json to schema converter.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This solution is generic when reading json streams and need to get only some fields while fields not mapped correctly in your Domain Classes can be ignored:</p>\n\n<pre><code>import org.codehaus.jackson.annotate.JsonIgnoreProperties;\n@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n\n<p>A detailed solution would be to use a tool such as   jsonschema2pojo to autogenerate the required Domain Classes such as Student from the Schema of the json Response. You can do the latter by any online json to schema converter.</p>\n"},{"tags":[],"owner":{"account_id":2991048,"reputation":495,"user_id":2538635,"display_name":"Felix Kimutua"},"down_vote_count":3,"up_vote_count":50,"is_accepted":false,"score":47,"last_activity_date":1383661321,"creation_date":1376381959,"answer_id":18204002,"question_id":4486787,"body_markdown":"This just perfectly worked for me   \r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.configure(\r\n        DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n`@JsonIgnoreProperties(ignoreUnknown = true)` annotation did not.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This just perfectly worked for me   </p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(\n    DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n\n<p><code>@JsonIgnoreProperties(ignoreUnknown = true)</code> annotation did not.</p>\n"},{"tags":[],"owner":{"account_id":2996187,"reputation":371,"user_id":2542697,"display_name":"Karan"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1417171487,"creation_date":1387278563,"answer_id":20632545,"question_id":4486787,"body_markdown":"This works better than All please refer to this property.\r\n    \r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n        \r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        projectVO = objectMapper.readValue(yourjsonstring, Test.class);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This works better than All please refer to this property.</p>\n\n<pre><code>import com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    projectVO = objectMapper.readValue(yourjsonstring, Test.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":206400,"reputation":2188,"user_id":455654,"display_name":"Aalkhodiry"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1389121632,"creation_date":1389121632,"answer_id":20979733,"question_id":4486787,"body_markdown":"If you are using Jackson 2.0 \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>If you are using Jackson 2.0 </p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":353742,"reputation":3219,"user_id":691626,"accept_rate":46,"display_name":"Dino Tw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1492096660,"creation_date":1396332587,"answer_id":22778094,"question_id":4486787,"body_markdown":"The POJO should be defined as\r\n\r\nResponse class\r\n\r\n    public class Response {\r\n        private List&lt;Wrapper&gt; wrappers;\r\n        // getter and setter\r\n    }\r\n\r\nWrapper class\r\n\r\n    public class Wrapper {\r\n        private String id;\r\n        private String name;\r\n        // getters and setters\r\n    }\r\n\r\nand mapper to read value\r\n    \r\n    Response response = mapper.readValue(jsonStr , Response.class);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>The POJO should be defined as</p>\n\n<p>Response class</p>\n\n<pre><code>public class Response {\n    private List&lt;Wrapper&gt; wrappers;\n    // getter and setter\n}\n</code></pre>\n\n<p>Wrapper class</p>\n\n<pre><code>public class Wrapper {\n    private String id;\n    private String name;\n    // getters and setters\n}\n</code></pre>\n\n<p>and mapper to read value</p>\n\n<pre><code>Response response = mapper.readValue(jsonStr , Response.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":158594,"reputation":977,"user_id":377349,"accept_rate":44,"display_name":"Rohitesh"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1638504256,"creation_date":1401012841,"answer_id":23854201,"question_id":4486787,"body_markdown":"What worked for me, was to make the property public.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>What worked for me, was to make the property public.</p>\n"},{"tags":[],"owner":{"account_id":2516352,"reputation":1279,"user_id":2187707,"display_name":"sagar"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1409120717,"creation_date":1409120717,"answer_id":25520259,"question_id":4486787,"body_markdown":"Either Change \r\n\r\n    public Class Wrapper {\r\n        private List&lt;Student&gt; students;\r\n        //getters &amp; setters here\r\n    }\r\n\r\nto \r\n\r\n    public Class Wrapper {\r\n        private List&lt;Student&gt; wrapper;\r\n        //getters &amp; setters here\r\n    }\r\n\r\n---- or ----\r\n\r\nChange your JSON string to \r\n\r\n    {&quot;students&quot;:[{&quot;id&quot;:&quot;13&quot;,&quot;name&quot;:&quot;Fred&quot;}]}\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Either Change </p>\n\n<pre><code>public Class Wrapper {\n    private List&lt;Student&gt; students;\n    //getters &amp; setters here\n}\n</code></pre>\n\n<p>to </p>\n\n<pre><code>public Class Wrapper {\n    private List&lt;Student&gt; wrapper;\n    //getters &amp; setters here\n}\n</code></pre>\n\n<p>---- or ----</p>\n\n<p>Change your JSON string to </p>\n\n<pre><code>{\"students\":[{\"id\":\"13\",\"name\":\"Fred\"}]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2796557,"reputation":51,"user_id":2405690,"display_name":"jodu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1410781988,"creation_date":1410781988,"answer_id":25847475,"question_id":4486787,"body_markdown":"For my part, the only line \r\n\r\n`@JsonIgnoreProperties(ignoreUnknown = true)`\r\n\r\ndidn&#39;t work too.\r\n\r\nJust add \r\n\r\n    @JsonInclude(Include.NON_EMPTY)\r\n\r\nJackson 2.4.0","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>For my part, the only line </p>\n\n<p><code>@JsonIgnoreProperties(ignoreUnknown = true)</code></p>\n\n<p>didn't work too.</p>\n\n<p>Just add </p>\n\n<pre><code>@JsonInclude(Include.NON_EMPTY)\n</code></pre>\n\n<p>Jackson 2.4.0</p>\n"},{"tags":[],"owner":{"account_id":1435491,"reputation":309,"user_id":1356983,"accept_rate":100,"display_name":"Niamath"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1425506678,"creation_date":1425506678,"answer_id":28865934,"question_id":4486787,"body_markdown":"This worked perfectly for me \r\n\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This worked perfectly for me </p>\n\n<pre><code>objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3992345,"reputation":1647,"user_id":3290859,"accept_rate":51,"display_name":"superuserdo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1638504339,"creation_date":1432007569,"answer_id":30316460,"question_id":4486787,"body_markdown":"I fixed this problem by simply changing the signatures of my setter and getter methods of my POJO class. All I had to do was change the **getObject** method to match what the mapper was looking for. In my case I had a **getImageUrl** originally, but the JSON data had **image_url** which was throwing the mapper off. I changed both my setter and getters to **getImage_url and setImage_url**.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>I fixed this problem by simply changing the signatures of my setter and getter methods of my POJO class. All I had to do was change the <strong>getObject</strong> method to match what the mapper was looking for. In my case I had a <strong>getImageUrl</strong> originally, but the JSON data had <strong>image_url</strong> which was throwing the mapper off. I changed both my setter and getters to <strong>getImage_url and setImage_url</strong>.</p>\n"},{"tags":[],"owner":{"account_id":2425286,"reputation":1676,"user_id":2117379,"display_name":"Scott"},"down_vote_count":1,"up_vote_count":142,"is_accepted":false,"score":141,"last_activity_date":1685895512,"creation_date":1439265566,"answer_id":31932963,"question_id":4486787,"body_markdown":"using Jackson 2.6.0, this worked for me:\r\n\r\n    private static final ObjectMapper objectMapper = \r\n        new ObjectMapper()\r\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\nor with the setting:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>using Jackson 2.6.0, this worked for me:</p>\n<pre><code>private static final ObjectMapper objectMapper = \n    new ObjectMapper()\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n<p>or with the setting:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4945993,"reputation":171,"user_id":3981329,"display_name":"j_bond007"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1449017090,"creation_date":1449012735,"answer_id":34032259,"question_id":4486787,"body_markdown":"It worked for me with the following code:\r\n\r\n    ObjectMapper mapper =new ObjectMapper();\t\r\n    mapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>It worked for me with the following code:</p>\n\n<pre><code>ObjectMapper mapper =new ObjectMapper();    \nmapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7229222,"reputation":46,"user_id":5516737,"display_name":"Troy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449767329,"creation_date":1449767329,"answer_id":34207758,"question_id":4486787,"body_markdown":"You should just change the field of List&lt;Student&gt; from &quot;students&quot; to &quot;wrapper&quot; just the json file and the mapper will look it up.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>You should just change the field of List from \"students\" to \"wrapper\" just the json file and the mapper will look it up.</p>\n"},{"tags":[],"owner":{"account_id":1848418,"reputation":25883,"user_id":1675568,"accept_rate":79,"display_name":"tomrozb"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1454346228,"creation_date":1454346228,"answer_id":35136161,"question_id":4486787,"body_markdown":"According to the [doc][1] you can ignore selected fields or all uknown fields:\r\n\r\n     // to prevent specified fields from being serialized or deserialized\r\n     // (i.e. not include in JSON output; or being set even if they were included)\r\n     @JsonIgnoreProperties({ &quot;internalId&quot;, &quot;secretKey&quot; })\r\n\r\n     // To ignore any unknown properties in JSON input without exception:\r\n     @JsonIgnoreProperties(ignoreUnknown=true)\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.0.2/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>According to the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.0.2/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html\">doc</a> you can ignore selected fields or all uknown fields:</p>\n\n<pre><code> // to prevent specified fields from being serialized or deserialized\n // (i.e. not include in JSON output; or being set even if they were included)\n @JsonIgnoreProperties({ \"internalId\", \"secretKey\" })\n\n // To ignore any unknown properties in JSON input without exception:\n @JsonIgnoreProperties(ignoreUnknown=true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7328662,"reputation":69,"user_id":5582311,"display_name":"Ran0990BK"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460464279,"creation_date":1460464279,"answer_id":36573373,"question_id":4486787,"body_markdown":"Your input \r\n\r\n    {&quot;wrapper&quot;:[{&quot;id&quot;:&quot;13&quot;,&quot;name&quot;:&quot;Fred&quot;}]}\r\nindicates that it is an Object, with a field named &quot;wrapper&quot;, which is a Collection of Students. So my recommendation would be,\r\n\r\n    Wrapper = mapper.readValue(jsonStr , Wrapper.class);\r\nwhere `Wrapper` is defined as\r\n\r\n    class Wrapper {\r\n        List&lt;Student&gt; wrapper;\r\n    }\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Your input </p>\n\n<pre><code>{\"wrapper\":[{\"id\":\"13\",\"name\":\"Fred\"}]}\n</code></pre>\n\n<p>indicates that it is an Object, with a field named \"wrapper\", which is a Collection of Students. So my recommendation would be,</p>\n\n<pre><code>Wrapper = mapper.readValue(jsonStr , Wrapper.class);\n</code></pre>\n\n<p>where <code>Wrapper</code> is defined as</p>\n\n<pre><code>class Wrapper {\n    List&lt;Student&gt; wrapper;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8626019,"reputation":11,"user_id":6459227,"display_name":"blue-bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465813249,"creation_date":1465813249,"answer_id":37787224,"question_id":4486787,"body_markdown":"In my case it was simple: the REST-service JSON Object was updated (a property was added), but the REST-client JSON Object wasn&#39;t. As soon as i&#39;ve updated JSON client object the &#39;Unrecognized field ...&#39; exception has vanished.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>In my case it was simple: the REST-service JSON Object was updated (a property was added), but the REST-client JSON Object wasn't. As soon as i've updated JSON client object the 'Unrecognized field ...' exception has vanished.</p>\n"},{"tags":[],"owner":{"account_id":1038886,"reputation":19,"user_id":1045384,"display_name":"xLime"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1497366339,"creation_date":1466367697,"answer_id":37911469,"question_id":4486787,"body_markdown":"Your json string is not inline with the mapped class.\r\nChange the input string\r\n\r\n    String jsonStr = &quot;{\\&quot;students\\&quot;\\:[{\\&quot;id\\&quot;:\\&quot;13\\&quot;,\\&quot;name\\&quot;:\\&quot;Fred\\&quot;}]}&quot;;\r\n\r\nOr change your mapped class\r\n\r\n    public class Wrapper {\r\n        private List&lt;Student&gt; wrapper;\r\n        //getters &amp; setters here\r\n    }","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Your json string is not inline with the mapped class.\nChange the input string</p>\n\n<pre><code>String jsonStr = \"{\\\"students\\\"\\:[{\\\"id\\\":\\\"13\\\",\\\"name\\\":\\\"Fred\\\"}]}\";\n</code></pre>\n\n<p>Or change your mapped class</p>\n\n<pre><code>public class Wrapper {\n    private List&lt;Student&gt; wrapper;\n    //getters &amp; setters here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2417909,"reputation":1794,"user_id":2111572,"accept_rate":67,"display_name":"ThierryC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524895768,"creation_date":1467970655,"answer_id":38263430,"question_id":4486787,"body_markdown":"**The new Firebase Android introduced some huge changes ; below the copy of the doc :**\r\n\r\n[https://firebase.google.com/support/guides/firebase-android] **:** \r\n\r\n**Update your Java model objects**\r\n\r\nAs with the 2.x SDK, Firebase Database will automatically convert Java objects that you pass to `DatabaseReference.setValue()` into JSON and can read JSON into Java objects using `DataSnapshot.getValue()`.\r\n\r\nIn the new SDK, when reading JSON into a Java object with `DataSnapshot.getValue()`, unknown properties in the JSON are now ignored by default so you no longer need `@JsonIgnoreExtraProperties(ignoreUnknown=true)`.\r\n\r\nTo exclude fields/getters when writing a Java object to JSON, the annotation is now called `@Exclude` instead of `@JsonIgnore`.\r\n\r\n    BEFORE\r\n\r\n    @JsonIgnoreExtraProperties(ignoreUnknown=true)\r\n    public class ChatMessage {\r\n       public String name;\r\n       public String message;\r\n       @JsonIgnore\r\n       public String ignoreThisField;\r\n    }\r\n\r\n    dataSnapshot.getValue(ChatMessage.class)\r\n____________________________________________________________________________\r\n    AFTER\r\n\r\n    public class ChatMessage {\r\n       public String name;\r\n       public String message;\r\n       @Exclude\r\n       public String ignoreThisField;\r\n    }\r\n\r\n    dataSnapshot.getValue(ChatMessage.class)\r\n\r\nIf there is an extra property in your JSON that is not in your Java class, you will see this warning in the log files:\r\n\r\n    W/ClassMapper: No setter/field for ignoreThisProperty found on class com.firebase.migrationguide.ChatMessage\r\n\r\nYou can get rid of this warning by putting an `@IgnoreExtraProperties` annotation on your class. If you want Firebase Database to behave as it did in the 2.x SDK and throw an exception if there are unknown properties, you can put a `@ThrowOnExtraProperties` annotation on your class.\r\n\r\n\r\n  [1]: http:////https://firebase.google.com/support/guides/firebase-android","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p><strong>The new Firebase Android introduced some huge changes ; below the copy of the doc :</strong></p>\n\n<p>[<a href=\"https://firebase.google.com/support/guides/firebase-android]\" rel=\"nofollow noreferrer\">https://firebase.google.com/support/guides/firebase-android]</a> <strong>:</strong> </p>\n\n<p><strong>Update your Java model objects</strong></p>\n\n<p>As with the 2.x SDK, Firebase Database will automatically convert Java objects that you pass to <code>DatabaseReference.setValue()</code> into JSON and can read JSON into Java objects using <code>DataSnapshot.getValue()</code>.</p>\n\n<p>In the new SDK, when reading JSON into a Java object with <code>DataSnapshot.getValue()</code>, unknown properties in the JSON are now ignored by default so you no longer need <code>@JsonIgnoreExtraProperties(ignoreUnknown=true)</code>.</p>\n\n<p>To exclude fields/getters when writing a Java object to JSON, the annotation is now called <code>@Exclude</code> instead of <code>@JsonIgnore</code>.</p>\n\n<pre><code>BEFORE\n\n@JsonIgnoreExtraProperties(ignoreUnknown=true)\npublic class ChatMessage {\n   public String name;\n   public String message;\n   @JsonIgnore\n   public String ignoreThisField;\n}\n\ndataSnapshot.getValue(ChatMessage.class)\n</code></pre>\n\n<hr>\n\n<pre><code>AFTER\n\npublic class ChatMessage {\n   public String name;\n   public String message;\n   @Exclude\n   public String ignoreThisField;\n}\n\ndataSnapshot.getValue(ChatMessage.class)\n</code></pre>\n\n<p>If there is an extra property in your JSON that is not in your Java class, you will see this warning in the log files:</p>\n\n<pre><code>W/ClassMapper: No setter/field for ignoreThisProperty found on class com.firebase.migrationguide.ChatMessage\n</code></pre>\n\n<p>You can get rid of this warning by putting an <code>@IgnoreExtraProperties</code> annotation on your class. If you want Firebase Database to behave as it did in the 2.x SDK and throw an exception if there are unknown properties, you can put a <code>@ThrowOnExtraProperties</code> annotation on your class.</p>\n"},{"tags":[],"owner":{"account_id":9493026,"reputation":133,"user_id":7057111,"display_name":"ajith r"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1479319874,"creation_date":1479317029,"answer_id":40638424,"question_id":4486787,"body_markdown":"Annotate the field students as below since there is mismatch in names of json property and java property\r\n\r\n    public Class Wrapper {\r\n        @JsonProperty(&quot;wrapper&quot;)\r\n        private List&lt;Student&gt; students;\r\n        //getters &amp; setters here\r\n    }","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Annotate the field students as below since there is mismatch in names of json property and java property</p>\n\n<pre><code>public Class Wrapper {\n    @JsonProperty(\"wrapper\")\n    private List&lt;Student&gt; students;\n    //getters &amp; setters here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"down_vote_count":1,"up_vote_count":83,"is_accepted":false,"score":82,"last_activity_date":1490624838,"creation_date":1486141279,"answer_id":42029338,"question_id":4486787,"body_markdown":"it can be achieved 2 ways:\r\n\r\n1. Mark the POJO to ignore unknown properties\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\n2. Configure ObjectMapper that serializes/De-serializes the POJO/json as below:\r\n\r\n        ObjectMapper mapper =new ObjectMapper();            \r\n        // for Jackson version 1.X        \r\n        mapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        // for Jackson version 2.X\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false) ","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>it can be achieved 2 ways:</p>\n\n<ol>\n<li><p>Mark the POJO to ignore unknown properties</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre></li>\n<li><p>Configure ObjectMapper that serializes/De-serializes the POJO/json as below:</p>\n\n<pre><code>ObjectMapper mapper =new ObjectMapper();            \n// for Jackson version 1.X        \nmapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n// for Jackson version 2.X\nmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false) \n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9929952,"reputation":1,"user_id":7350287,"display_name":"Talex Maxim"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1487714823,"creation_date":1487684120,"answer_id":42368805,"question_id":4486787,"body_markdown":"You need to verify all fields of the class you are parsing in, make it the same as in your original `JSONObject`. It helped me and in my case.\r\n\r\n`@JsonIgnoreProperties(ignoreUnknown = true)` didn&#39;t help at all. ","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>You need to verify all fields of the class you are parsing in, make it the same as in your original <code>JSONObject</code>. It helped me and in my case.</p>\n\n<p><code>@JsonIgnoreProperties(ignoreUnknown = true)</code> didn't help at all. </p>\n"},{"tags":[],"owner":{"account_id":4903369,"reputation":564,"user_id":3950849,"accept_rate":75,"display_name":"Sayantan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503525785,"creation_date":1503525785,"answer_id":45849958,"question_id":4486787,"body_markdown":"This may be a very late response, but just changing the POJO to this should solve the json string provided in the problem (since, the input string is not in your control as you said):\r\n\r\n    public class Wrapper {\r\n        private List&lt;Student&gt; wrapper;\r\n        //getters &amp; setters here\r\n    }","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This may be a very late response, but just changing the POJO to this should solve the json string provided in the problem (since, the input string is not in your control as you said):</p>\n\n<pre><code>public class Wrapper {\n    private List&lt;Student&gt; wrapper;\n    //getters &amp; setters here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518519742,"creation_date":1518519742,"answer_id":48765269,"question_id":4486787,"body_markdown":"Google brought me here and i was surprised to see the answers... all suggested *bypassing* the error ( *which always bites back 4 folds later in developement* ) rather than solving it until [this gentleman][1] restored by faith in SO!\r\n\r\n\r\n    objectMapper.readValue(responseBody, TargetClass.class)\r\n\r\nis used to convert a json String to an class object, whats missing is that the `TargetClass` should have public `get`ter / `set`ters. Same is missing in OP&#39;s question snippet too! :)\r\n\r\nvia [lombok][2] your class as below should work!!\r\n\r\n    @Data\r\n    @Builder\r\n    public class TargetClass {\r\n        private String a;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/39784612/3154233\r\n  [2]: https://mvnrepository.com/artifact/org.projectlombok/lombok/0.10.1\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Google brought me here and i was surprised to see the answers... all suggested <em>bypassing</em> the error ( <em>which always bites back 4 folds later in developement</em> ) rather than solving it until <a href=\"https://stackoverflow.com/a/39784612/3154233\">this gentleman</a> restored by faith in SO!</p>\n\n<pre><code>objectMapper.readValue(responseBody, TargetClass.class)\n</code></pre>\n\n<p>is used to convert a json String to an class object, whats missing is that the <code>TargetClass</code> should have public <code>get</code>ter / <code>set</code>ters. Same is missing in OP's question snippet too! :)</p>\n\n<p>via <a href=\"https://mvnrepository.com/artifact/org.projectlombok/lombok/0.10.1\" rel=\"nofollow noreferrer\">lombok</a> your class as below should work!!</p>\n\n<pre><code>@Data\n@Builder\npublic class TargetClass {\n    private String a;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10104786,"reputation":2733,"user_id":7467699,"accept_rate":40,"display_name":"Vikram Saini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519106761,"creation_date":1519106761,"answer_id":48878858,"question_id":4486787,"body_markdown":"In my case error came due to following reason\r\n\r\n - Initially it was working fine,then i renamed one variable,made the\r\n   changes in code and it gave me this error.\r\n   \r\n - Then i applied jackson ignorant property also but it did not work.\r\n\r\n   \r\n\r\n - Finally after re defining my getters and setters methods according to\r\n   name of my variable this error was resolved\r\n\r\nSo make sure to redifine getters and setters also.\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>In my case error came due to following reason</p>\n\n<ul>\n<li><p>Initially it was working fine,then i renamed one variable,made the\nchanges in code and it gave me this error.</p></li>\n<li><p>Then i applied jackson ignorant property also but it did not work.</p></li>\n<li><p>Finally after re defining my getters and setters methods according to\nname of my variable this error was resolved</p></li>\n</ul>\n\n<p>So make sure to redifine getters and setters also.</p>\n"},{"tags":[],"owner":{"account_id":9484936,"reputation":777,"user_id":7360850,"display_name":"krhitesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523092222,"creation_date":1523092222,"answer_id":49705730,"question_id":4486787,"body_markdown":"Change Wrapper class to\r\n\r\n    public Class Wrapper {\r\n\r\n              @JsonProperty(&quot;wrapper&quot;)  // add this line\r\n              private List&lt;Student&gt; students;\r\n    }\r\n\r\nWhat this does is to recognise the `students` field as `wrapper` key of the json object.\r\n\r\nAlso I personally prefer using [Lombok Annotations][1] for Getters and Setters as\r\n\r\n    @Getter\r\n    @Setter\r\n    public Class Wrapper {\r\n\r\n              @JsonProperty(&quot;wrapper&quot;)  // add this line\r\n              private List&lt;Student&gt; students;\r\n    }\r\n\r\nSince I have not tested the above code with Lombok and `@JsonProperty` together, I&#39;ll suggest you to add the following code to Wrapper class as well to override Lombok&#39;s default getter and setter.\r\n\r\n    public List&lt;Student&gt; getWrapper(){\r\n         return students;\r\n    }\r\n\r\n    public void setWrapper(List&lt;Student&gt; students){\r\n         this.students = students;\r\n    }\r\n\r\n\r\nAlso check [this][2] out to deserialise lists using Jackson. \r\n\r\n\r\n  [1]: https://projectlombok.org/\r\n  [2]: https://stackoverflow.com/questions/9829403/deserialize-json-to-arraylistpojo-using-jackson","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Change Wrapper class to</p>\n\n<pre><code>public Class Wrapper {\n\n          @JsonProperty(\"wrapper\")  // add this line\n          private List&lt;Student&gt; students;\n}\n</code></pre>\n\n<p>What this does is to recognise the <code>students</code> field as <code>wrapper</code> key of the json object.</p>\n\n<p>Also I personally prefer using <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok Annotations</a> for Getters and Setters as</p>\n\n<pre><code>@Getter\n@Setter\npublic Class Wrapper {\n\n          @JsonProperty(\"wrapper\")  // add this line\n          private List&lt;Student&gt; students;\n}\n</code></pre>\n\n<p>Since I have not tested the above code with Lombok and <code>@JsonProperty</code> together, I'll suggest you to add the following code to Wrapper class as well to override Lombok's default getter and setter.</p>\n\n<pre><code>public List&lt;Student&gt; getWrapper(){\n     return students;\n}\n\npublic void setWrapper(List&lt;Student&gt; students){\n     this.students = students;\n}\n</code></pre>\n\n<p>Also check <a href=\"https://stackoverflow.com/questions/9829403/deserialize-json-to-arraylistpojo-using-jackson\">this</a> out to deserialise lists using Jackson. </p>\n"},{"tags":[],"owner":{"account_id":3173099,"reputation":810,"user_id":2681594,"accept_rate":82,"display_name":"neverwinter"},"down_vote_count":7,"up_vote_count":12,"is_accepted":false,"score":5,"last_activity_date":1528903517,"creation_date":1528903517,"answer_id":50840957,"question_id":4486787,"body_markdown":"set **public** your class fields not **private**.\r\n\r\n    public Class Student { \r\n        public String name;\r\n        public String id;\r\n        //getters &amp; setters for name &amp; id here\r\n    }","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>set <strong>public</strong> your class fields not <strong>private</strong>.</p>\n\n<pre><code>public Class Student { \n    public String name;\n    public String id;\n    //getters &amp; setters for name &amp; id here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1548931773,"creation_date":1548931773,"answer_id":54458863,"question_id":4486787,"body_markdown":"One other possibility is this property in the application.properties\r\n`spring.jackson.deserialization.fail-on-unknown-properties=false`, which won&#39;t need any other code change in your application. And when you believe the contract is stable, you can remove this property or mark it true.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>One other possibility is this property in the application.properties\n<code>spring.jackson.deserialization.fail-on-unknown-properties=false</code>, which won't need any other code change in your application. And when you believe the contract is stable, you can remove this property or mark it true.</p>\n"},{"tags":[],"owner":{"account_id":1322163,"reputation":166,"user_id":1267748,"display_name":"cwa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1560204271,"creation_date":1560204271,"answer_id":56534087,"question_id":4486787,"body_markdown":"This may not be the same problem that the OP had but in case someone got here with the same mistake I had then this will help them solve their problem. I got the same error as the OP when I used an ObjectMapper from a different dependency as the JsonProperty annotation.\r\n\r\nThis works:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\nDoes NOT work:\r\n\r\n    import org.codehaus.jackson.map.ObjectMapper; //org.codehaus.jackson:jackson-mapper-asl:1.8.8\r\n    import com.fasterxml.jackson.annotation.JsonProperty; //com.fasterxml.jackson.core:jackson-databind:2.2.3\r\n\r\n\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This may not be the same problem that the OP had but in case someone got here with the same mistake I had then this will help them solve their problem. I got the same error as the OP when I used an ObjectMapper from a different dependency as the JsonProperty annotation.</p>\n\n<p>This works:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n</code></pre>\n\n<p>Does NOT work:</p>\n\n<pre><code>import org.codehaus.jackson.map.ObjectMapper; //org.codehaus.jackson:jackson-mapper-asl:1.8.8\nimport com.fasterxml.jackson.annotation.JsonProperty; //com.fasterxml.jackson.core:jackson-databind:2.2.3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134214,"reputation":4545,"user_id":336175,"accept_rate":66,"display_name":"Gank"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567042737,"creation_date":1567042737,"answer_id":57701902,"question_id":4486787,"body_markdown":"import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n@JsonIgnoreProperties","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;</p>\n\n<p>@JsonIgnoreProperties</p>\n"},{"tags":[],"owner":{"account_id":9007431,"reputation":123,"user_id":6713531,"display_name":"user9999"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569596776,"creation_date":1569596776,"answer_id":58137130,"question_id":4486787,"body_markdown":"In my case a I have to add public getters and setters to leave fields private.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Application application = mapper.readValue(input, Application.class);\r\nI use jackson-databind 2.10.0.pr3 .\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>In my case a I have to add public getters and setters to leave fields private.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nApplication application = mapper.readValue(input, Application.class);\n</code></pre>\n\n<p>I use jackson-databind 2.10.0.pr3 .</p>\n"},{"tags":[],"owner":{"account_id":3466581,"reputation":171,"user_id":2901945,"display_name":"van17"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570036790,"creation_date":1570036790,"answer_id":58206317,"question_id":4486787,"body_markdown":"When we are generating getters and setters, specially which starts with &#39;is&#39; keyword, IDE generally removes the &#39;is&#39;. e.g.\r\n\r\n````\r\nprivate boolean isActive;\r\n\r\npublic void setActive(boolean active) {\r\n   isActive = active;\r\n}\r\n\r\npublic isActive(){\r\n   return isActive;\r\n}\r\n````\r\nIn my case, i just changed the getter and setter.\r\n````\r\nprivate boolean isActive;\r\n\r\npublic void setIsActive(boolean active) {\r\n   isActive = active;\r\n}\r\n\r\npublic getIsActive(){\r\n   return isActive;\r\n}\r\n````\r\n\r\nAnd it was able to recognize the field.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>When we are generating getters and setters, specially which starts with 'is' keyword, IDE generally removes the 'is'. e.g.</p>\n\n<pre><code>private boolean isActive;\n\npublic void setActive(boolean active) {\n   isActive = active;\n}\n\npublic isActive(){\n   return isActive;\n}\n</code></pre>\n\n<p>In my case, i just changed the getter and setter.</p>\n\n<pre><code>private boolean isActive;\n\npublic void setIsActive(boolean active) {\n   isActive = active;\n}\n\npublic getIsActive(){\n   return isActive;\n}\n</code></pre>\n\n<p>And it was able to recognize the field.</p>\n"},{"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573044335,"creation_date":1573044335,"answer_id":58730503,"question_id":4486787,"body_markdown":"**FAIL_ON_UNKNOWN_PROPERTIES** option is true by default:\r\n\r\n    FAIL_ON_UNKNOWN_PROPERTIES (default: true)\r\n    Used to control whether encountering of unknown properties (one for which there is no setter; and there is no fallback &quot;any setter&quot; method defined using @JsonAnySetter annotation) should result in a JsonMappingException (when enabled), or just quietly ignored (when disabled)","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p><strong>FAIL_ON_UNKNOWN_PROPERTIES</strong> option is true by default:</p>\n\n<pre><code>FAIL_ON_UNKNOWN_PROPERTIES (default: true)\nUsed to control whether encountering of unknown properties (one for which there is no setter; and there is no fallback \"any setter\" method defined using @JsonAnySetter annotation) should result in a JsonMappingException (when enabled), or just quietly ignored (when disabled)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15058773,"reputation":905,"user_id":10868264,"display_name":"ddc"},"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1576163726,"creation_date":1576163726,"answer_id":59307683,"question_id":4486787,"body_markdown":"**Adding setters and getters solved the problem**, what I felt is the actual issue was how to solve it but not how to suppress/ignore the error.\r\nI got the error &quot;***Unrecognized field.. not marked as ignorable..***&quot;\r\n\r\nThough I use the below annotation on top of the class it was not able to parse the json object and give me the input\r\n\r\n&gt; @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\nThen I realized that I did not add setters and getters, after adding setters and getters to the &quot;Wrapper&quot; and to the &quot;Student&quot; it worked like a charm. ","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p><strong>Adding setters and getters solved the problem</strong>, what I felt is the actual issue was how to solve it but not how to suppress/ignore the error.\nI got the error \"<strong><em>Unrecognized field.. not marked as ignorable..</em></strong>\"</p>\n\n<p>Though I use the below annotation on top of the class it was not able to parse the json object and give me the input</p>\n\n<blockquote>\n  <p>@JsonIgnoreProperties(ignoreUnknown = true)</p>\n</blockquote>\n\n<p>Then I realized that I did not add setters and getters, after adding setters and getters to the \"Wrapper\" and to the \"Student\" it worked like a charm. </p>\n"},{"tags":[],"owner":{"account_id":2819793,"reputation":959,"user_id":2423796,"display_name":"antken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607004008,"creation_date":1607004008,"answer_id":65127460,"question_id":4486787,"body_markdown":"The shortest solution without setter/getter is to add `@JsonProperty` to a class field:\r\n\r\n    public class Wrapper {\r\n        @JsonProperty\r\n        private List&lt;Student&gt; wrapper;\r\n    }\r\n\r\n    public class Student {\r\n        @JsonProperty\r\n        private String name;\r\n        @JsonProperty\r\n        private String id;\r\n    }\r\n    \r\nAlso, you called students list &quot;wrapper&quot; in your json, so Jackson expects a class with a field called &quot;wrapper&quot;.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>The shortest solution without setter/getter is to add <code>@JsonProperty</code> to a class field:</p>\n<pre><code>public class Wrapper {\n    @JsonProperty\n    private List&lt;Student&gt; wrapper;\n}\n\npublic class Student {\n    @JsonProperty\n    private String name;\n    @JsonProperty\n    private String id;\n}\n</code></pre>\n<p>Also, you called students list &quot;wrapper&quot; in your json, so Jackson expects a class with a field called &quot;wrapper&quot;.</p>\n"},{"tags":[],"owner":{"account_id":85546,"reputation":84728,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1608149687,"creation_date":1608149687,"answer_id":65330524,"question_id":4486787,"body_markdown":"Somehow after 45 posts and 10 years, no one has posted the correct answer for my case.\r\n\r\n\r\n```\r\n@Data //Lombok\r\npublic class MyClass {\r\n    private int foo;\r\n    private int bar;\r\n\r\n    @JsonIgnore\r\n    public int getFoobar() {\r\n      return foo + bar;\r\n    }\r\n}\r\n```\r\n\r\nIn my case, we have a method called `getFoobar()`, but no `foobar` property (because it&#39;s computed from other properties).  `@JsonIgnoreProperties` on the class does not work.\r\n\r\nThe solution is to annotate the method with `@JsonIgnore`","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Somehow after 45 posts and 10 years, no one has posted the correct answer for my case.</p>\n<pre><code>@Data //Lombok\npublic class MyClass {\n    private int foo;\n    private int bar;\n\n    @JsonIgnore\n    public int getFoobar() {\n      return foo + bar;\n    }\n}\n</code></pre>\n<p>In my case, we have a method called <code>getFoobar()</code>, but no <code>foobar</code> property (because it's computed from other properties).  <code>@JsonIgnoreProperties</code> on the class does not work.</p>\n<p>The solution is to annotate the method with <code>@JsonIgnore</code></p>\n"},{"tags":[],"owner":{"account_id":2330204,"reputation":849,"user_id":2043830,"display_name":"matias.g.rodriguez"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1614265958,"creation_date":1614265958,"answer_id":66371264,"question_id":4486787,"body_markdown":"If for some reason you cannot add the @JsonIgnoreProperties annotations to your class and you are inside a web server/container such as Jetty. You can create and customize the ObjectMapper inside a custom provider\r\n\r\n    import javax.ws.rs.ext.ContextResolver;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonInclude.Include;\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    @Provider\r\n    public class CustomObjectMapperProvider implements ContextResolver&lt;ObjectMapper&gt; {\r\n    \r\n    \tprivate ObjectMapper objectMapper;\r\n    \r\n    \t@Override\r\n    \tpublic ObjectMapper getContext(final Class&lt;?&gt; cls) {\r\n    \t\treturn getObjectMapper();\r\n    \t}\r\n    \r\n    \tprivate synchronized ObjectMapper getObjectMapper() {\r\n    \t\tif(objectMapper == null) {\r\n    \t\t\tobjectMapper = new ObjectMapper();\r\n    \t\t\tobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    \t\t}\r\n    \t\treturn objectMapper;\r\n    \t}\r\n    }\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>If for some reason you cannot add the @JsonIgnoreProperties annotations to your class and you are inside a web server/container such as Jetty. You can create and customize the ObjectMapper inside a custom provider</p>\n<pre><code>import javax.ws.rs.ext.ContextResolver;\nimport javax.ws.rs.ext.Provider;\n\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Provider\npublic class CustomObjectMapperProvider implements ContextResolver&lt;ObjectMapper&gt; {\n\n    private ObjectMapper objectMapper;\n\n    @Override\n    public ObjectMapper getContext(final Class&lt;?&gt; cls) {\n        return getObjectMapper();\n    }\n\n    private synchronized ObjectMapper getObjectMapper() {\n        if(objectMapper == null) {\n            objectMapper = new ObjectMapper();\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        }\n        return objectMapper;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1638504140,"creation_date":1621521942,"answer_id":67622721,"question_id":4486787,"body_markdown":"If you want to apply `@JsonIgnoreProperties` to all class in you application then the best way it is override Spring boot default jackson object.\r\n\r\nIn you application config file define a bean to create jackson object mapper like this.\r\n\r\n    @Bean\r\n        public ObjectMapper getObjectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            return mapper;\r\n        }\r\n\r\nNow, you don&#39;t need to mark every class and it will ignore all unknown properties.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>If you want to apply <code>@JsonIgnoreProperties</code> to all class in you application then the best way it is override Spring boot default jackson object.</p>\n<p>In you application config file define a bean to create jackson object mapper like this.</p>\n<pre><code>@Bean\n    public ObjectMapper getObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        return mapper;\n    }\n</code></pre>\n<p>Now, you don't need to mark every class and it will ignore all unknown properties.</p>\n"},{"tags":[],"owner":{"account_id":2595054,"reputation":2818,"user_id":2248943,"display_name":"heringer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623957445,"creation_date":1623957445,"answer_id":68025359,"question_id":4486787,"body_markdown":"Just in case anyone else is using [force-rest-api][1] like me, here is how I used this discussion to solve it (Kotlin):\r\n\r\n    var result = forceApi.getSObject(&quot;Account&quot;, &quot;idhere&quot;)\r\n    result.jsonMapper.configure( DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,  false)\r\n    val account: Account = result.`as`(Account::class.java)\r\n\r\nIt looks like force-rest-api is using an old version of jackson&#39;s.\r\n\r\n  [1]: https://github.com/jesperfj/force-rest-api","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Just in case anyone else is using <a href=\"https://github.com/jesperfj/force-rest-api\" rel=\"nofollow noreferrer\">force-rest-api</a> like me, here is how I used this discussion to solve it (Kotlin):</p>\n<pre><code>var result = forceApi.getSObject(&quot;Account&quot;, &quot;idhere&quot;)\nresult.jsonMapper.configure( DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,  false)\nval account: Account = result.`as`(Account::class.java)\n</code></pre>\n<p>It looks like force-rest-api is using an old version of jackson's.</p>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636826038,"creation_date":1636826038,"answer_id":69956854,"question_id":4486787,"body_markdown":"As per this [documentation][1], you can use the Jackson2ObjectMapperBuilder to build your ObjectMapper:\r\n\t\r\n\t@Autowired\r\n\tJackson2ObjectMapperBuilder objectBuilder;\r\n\r\n\tObjectMapper mapper = objectBuilder.build();\r\n\tString json = &quot;{\\&quot;id\\&quot;: 1001}&quot;;\r\n\r\nBy default, Jackson2ObjectMapperBuilder disables the error unrecognizedpropertyexception.\r\n\r\n  [1]: https://tedblob.com/jackson-unrecognizedpropertyexception-unrecognized-field-not-marked-as-ignorable/","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>As per this <a href=\"https://tedblob.com/jackson-unrecognizedpropertyexception-unrecognized-field-not-marked-as-ignorable/\" rel=\"nofollow noreferrer\">documentation</a>, you can use the Jackson2ObjectMapperBuilder to build your ObjectMapper:</p>\n<pre><code>@Autowired\nJackson2ObjectMapperBuilder objectBuilder;\n\nObjectMapper mapper = objectBuilder.build();\nString json = &quot;{\\&quot;id\\&quot;: 1001}&quot;;\n</code></pre>\n<p>By default, Jackson2ObjectMapperBuilder disables the error unrecognizedpropertyexception.</p>\n"},{"tags":[],"owner":{"account_id":17122164,"reputation":370,"user_id":12390144,"display_name":"Mopto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651580880,"creation_date":1651580880,"answer_id":72099382,"question_id":4486787,"body_markdown":"Json field:\r\n\r\n     &quot;blog_host_url&quot;: &quot;some.site.com&quot;\r\n\r\nKotlin field\r\n\r\n    var blogHostUrl: String = &quot;https://google.com&quot;\r\n\r\nIn my case i needed just to use `@JsonProperty` annotation in my dataClass.\r\n\r\nExample:\r\n\r\n    data class DataBlogModel(\r\n           @JsonProperty(&quot;blog_host_url&quot;) var blogHostUrl: String = &quot;https://google.com&quot;\r\n        )\r\n\r\nHere&#39;s article: [https://www.baeldung.com/jackson-name-of-property][1]\r\n\r\n\r\n  [1]: https://","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Json field:</p>\n<pre><code> &quot;blog_host_url&quot;: &quot;some.site.com&quot;\n</code></pre>\n<p>Kotlin field</p>\n<pre><code>var blogHostUrl: String = &quot;https://google.com&quot;\n</code></pre>\n<p>In my case i needed just to use <code>@JsonProperty</code> annotation in my dataClass.</p>\n<p>Example:</p>\n<pre><code>data class DataBlogModel(\n       @JsonProperty(&quot;blog_host_url&quot;) var blogHostUrl: String = &quot;https://google.com&quot;\n    )\n</code></pre>\n<p>Here's article: https://www.baeldung.com/jackson-name-of-property</p>\n"},{"tags":[],"owner":{"account_id":21201782,"reputation":132,"user_id":15592271,"display_name":"Rog&#233;rio Viana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652306700,"creation_date":1652306700,"answer_id":72208090,"question_id":4486787,"body_markdown":"    ObjectMapper objectMapper = new ObjectMapper()\r\n    .configure(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT, true);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<pre><code>ObjectMapper objectMapper = new ObjectMapper()\n.configure(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652352460,"creation_date":1652352460,"answer_id":72214219,"question_id":4486787,"body_markdown":"I ran into this once when my JSON payload included a property that was not recognised by the API. The solution was to rename/remove the offending property.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>I ran into this once when my JSON payload included a property that was not recognised by the API. The solution was to rename/remove the offending property.</p>\n"},{"tags":[],"owner":{"account_id":4718887,"reputation":129,"user_id":3817350,"display_name":"Omkar Patkar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657076024,"creation_date":1657076024,"answer_id":72877468,"question_id":4486787,"body_markdown":"I faced similar issue, only difference is i was working with YAML file instead of JSON file. So i was using YamlFactory() when creating an ObjectMapper. Also, the properties of my Java POJO were priviate.\r\nHowever, the solution mentioned in all these answers did not help. I mean, it stopped throwing error and started returning Java object but the **properties of the java object would be null.** \r\n\r\nI just did the following: -\r\n\r\n    objectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n\r\n\r\nAnd **without the need** of: - \r\n\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\nNow, i am able to deserialize data from Yaml file into Java object. All properties are not null now. This solution should work for JSON approach also.\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>I faced similar issue, only difference is i was working with YAML file instead of JSON file. So i was using YamlFactory() when creating an ObjectMapper. Also, the properties of my Java POJO were priviate.\nHowever, the solution mentioned in all these answers did not help. I mean, it stopped throwing error and started returning Java object but the <strong>properties of the java object would be null.</strong></p>\n<p>I just did the following: -</p>\n<pre><code>objectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n</code></pre>\n<p>And <strong>without the need</strong> of: -</p>\n<pre><code>objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n<p>Now, i am able to deserialize data from Yaml file into Java object. All properties are not null now. This solution should work for JSON approach also.</p>\n"},{"tags":[],"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660030458,"creation_date":1660030458,"answer_id":73288055,"question_id":4486787,"body_markdown":"Below is what I tried to suppress the unknown props which did not want to parse.\r\nSharing Kotlin code\r\n\r\n    val myResponse = jacksonObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                .readValue(serverResponse, FooResponse::class.java)","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Below is what I tried to suppress the unknown props which did not want to parse.\nSharing Kotlin code</p>\n<pre><code>val myResponse = jacksonObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n            .readValue(serverResponse, FooResponse::class.java)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8878226,"reputation":6251,"user_id":6629515,"display_name":"Oleksandr Yefymov"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1662228996,"creation_date":1662228996,"answer_id":73594489,"question_id":4486787,"body_markdown":"Simple solution for Java 11 and newer:\r\n\r\n    var mapper = new ObjectMapper()\r\n            .registerModule(new JavaTimeModule())\r\n            .disable(FAIL_ON_UNKNOWN_PROPERTIES)\r\n            .disable(WRITE_DATES_AS_TIMESTAMPS)\r\n            .enable(ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT);\r\n\r\nImportant for ignoring is disabling &#39;FAIL_ON_UNKNOWN_PROPERTIES&#39;","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Simple solution for Java 11 and newer:</p>\n<pre><code>var mapper = new ObjectMapper()\n        .registerModule(new JavaTimeModule())\n        .disable(FAIL_ON_UNKNOWN_PROPERTIES)\n        .disable(WRITE_DATES_AS_TIMESTAMPS)\n        .enable(ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT);\n</code></pre>\n<p>Important for ignoring is disabling 'FAIL_ON_UNKNOWN_PROPERTIES'</p>\n"}],"owner":{"account_id":262933,"reputation":10021,"user_id":548167,"accept_rate":25,"display_name":"jshree"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326479,"favorite_count":0,"down_vote_count":1,"up_vote_count":995,"answer_count":51,"score":994,"last_activity_date":1685895512,"creation_date":1292817771,"question_id":4486787,"body_markdown":"I need to convert a certain JSON string to a Java object. I am using Jackson for JSON handling. I have no control over the input JSON (I read from a web service). This is my input JSON:\r\n\r\n    {&quot;wrapper&quot;:[{&quot;id&quot;:&quot;13&quot;,&quot;name&quot;:&quot;Fred&quot;}]}\r\n\r\nHere is a simplified use case:\r\n\r\n    private void tryReading() {\r\n        String jsonStr = &quot;{\\&quot;wrapper\\&quot;\\:[{\\&quot;id\\&quot;:\\&quot;13\\&quot;,\\&quot;name\\&quot;:\\&quot;Fred\\&quot;}]}&quot;;\r\n        ObjectMapper mapper = new ObjectMapper();  \r\n        Wrapper wrapper = null;\r\n        try {\r\n            wrapper = mapper.readValue(jsonStr , Wrapper.class);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;wrapper = &quot; + wrapper);\r\n    }\r\n\r\nMy entity class is:\r\n\r\n    public Class Student { \r\n        private String name;\r\n        private String id;\r\n        //getters &amp; setters for name &amp; id here\r\n    }\r\n\r\nMy Wrapper class is basically a container object to get my list of students:\r\n\r\n    public Class Wrapper {\r\n        private List&lt;Student&gt; students;\r\n        //getters &amp; setters here\r\n    }\r\n\r\nI keep getting this error and &quot;wrapper&quot; returns `null`. I am not sure what&#39;s missing. Can someone help please?\r\n\r\n    org.codehaus.jackson.map.exc.UnrecognizedPropertyException: \r\n        Unrecognized field &quot;wrapper&quot; (Class Wrapper), not marked as ignorable\r\n     at [Source: java.io.StringReader@1198891; line: 1, column: 13] \r\n        (through reference chain: Wrapper[&quot;wrapper&quot;])\r\n     at org.codehaus.jackson.map.exc.UnrecognizedPropertyException\r\n        .from(UnrecognizedPropertyException.java:53)\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>I need to convert a certain JSON string to a Java object. I am using Jackson for JSON handling. I have no control over the input JSON (I read from a web service). This is my input JSON:</p>\n\n<pre><code>{\"wrapper\":[{\"id\":\"13\",\"name\":\"Fred\"}]}\n</code></pre>\n\n<p>Here is a simplified use case:</p>\n\n<pre><code>private void tryReading() {\n    String jsonStr = \"{\\\"wrapper\\\"\\:[{\\\"id\\\":\\\"13\\\",\\\"name\\\":\\\"Fred\\\"}]}\";\n    ObjectMapper mapper = new ObjectMapper();  \n    Wrapper wrapper = null;\n    try {\n        wrapper = mapper.readValue(jsonStr , Wrapper.class);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    System.out.println(\"wrapper = \" + wrapper);\n}\n</code></pre>\n\n<p>My entity class is:</p>\n\n<pre><code>public Class Student { \n    private String name;\n    private String id;\n    //getters &amp; setters for name &amp; id here\n}\n</code></pre>\n\n<p>My Wrapper class is basically a container object to get my list of students:</p>\n\n<pre><code>public Class Wrapper {\n    private List&lt;Student&gt; students;\n    //getters &amp; setters here\n}\n</code></pre>\n\n<p>I keep getting this error and \"wrapper\" returns <code>null</code>. I am not sure what's missing. Can someone help please?</p>\n\n<pre><code>org.codehaus.jackson.map.exc.UnrecognizedPropertyException: \n    Unrecognized field \"wrapper\" (Class Wrapper), not marked as ignorable\n at [Source: java.io.StringReader@1198891; line: 1, column: 13] \n    (through reference chain: Wrapper[\"wrapper\"])\n at org.codehaus.jackson.map.exc.UnrecognizedPropertyException\n    .from(UnrecognizedPropertyException.java:53)\n</code></pre>\n"},{"tags":["java","exception","junit"],"comments":[{"owner":{"account_id":28720712,"reputation":87,"user_id":21994504,"display_name":"Cortard"},"score":1,"creation_date":1685722406,"post_id":76391707,"comment_id":134705762,"body_markdown":"The compilater say that you want to catch an `OlympicException` but nothing in your `try` can throw one. Why do you use a try/catch here ?","body":"The compilater say that you want to catch an <code>OlympicException</code> but nothing in your <code>try</code> can throw one. Why do you use a try/catch here ?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1685722963,"post_id":76391707,"comment_id":134705878,"body_markdown":"Why do you leave all the `// TODO`s in your code? That&#39;s ugly and messy. Why are you trying to catch an exception that is never thrown? Where do you expect this exception to be thrown in your code?","body":"Why do you leave all the <code>&#47;&#47; TODO</code>s in your code? That&#39;s ugly and messy. Why are you trying to catch an exception that is never thrown? Where do you expect this exception to be thrown in your code?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1685723439,"post_id":76391707,"comment_id":134705982,"body_markdown":"The only exception I can see that would be thrown by your code is NullPointerException if any of the values are null. Note: There&#39;s no need for an `else` after an `if` with a `return`.","body":"The only exception I can see that would be thrown by your code is NullPointerException if any of the values are null. Note: There&#39;s no need for an <code>else</code> after an <code>if</code> with a <code>return</code>."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685722725,"creation_date":1685722237,"answer_id":76391816,"question_id":76391707,"body_markdown":"Make it a `RuntimeException`:\r\n\r\n    public class OlympicException extends RuntimeException {\r\n\r\nThat will fix your compilation error, and allow your `compareTo()` impl to throw it.","title":"How to properly test a compareTo() method with custom exceptions in Java?","body":"<p>Make it a <code>RuntimeException</code>:</p>\n<pre><code>public class OlympicException extends RuntimeException {\n</code></pre>\n<p>That will fix your compilation error, and allow your <code>compareTo()</code> impl to throw it.</p>\n"}],"owner":{"account_id":28738032,"reputation":1,"user_id":22008746,"display_name":"Future Hendrixxx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685895398,"creation_date":1685721312,"question_id":76391707,"body_markdown":"Having problems testing a `compareTo()` method with custom exception. How do I throw a custom exception without compilation error?\r\n\r\nCode of the Junit test\r\n\r\n```\r\n @Test\r\n    public void compareTo() {\r\n        // check equals\r\n        assertEquals(0, competitionDressageQualifier.compareTo(competitionDressageQualifier));\r\n        try {\r\n            Competition c1 = new Competition(competitionDressageQualifier.getEvent(), competitionDressageQualifier.getCompetitionDate(),\r\n                    competitionDressageQualifier.getJudges(), competitionDressageQualifier.getCompetitionLevel());\r\n            assertEquals(0, c1.compareTo(competitionDressageQualifier));\r\n            assertEquals(0, competitionDressageQualifier.compareTo(c1));\r\n        } catch (OlympicException ex) { //I HAVE THE ERROR HERE Unreachable catch block for OlympicException. This exception is never thrown from the try statement body\r\n            // this shouldn&#39;t happen\r\n            fail();\r\n        }\r\n\r\n```\r\n\r\nCode of the `compareTo()`; how do I implement try catch here exactly?\r\n\r\n```\r\n@Override\r\n\tpublic int compareTo(Competition o) //compare properties\r\n\t{\r\n\t\t\r\n\t\tif(!Objects.equals(this.getCompetitionDate(), o.getCompetitionDate())) //first date\r\n\t\t{\r\n\t\t\treturn (this.getCompetitionDate().compareTo(o.getCompetitionDate()));\r\n\t\t}\r\n\t\t\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(!Objects.equals(this.competitionlevel, o.competitionlevel)) //seconds comp level\r\n\t\t\t{\r\n\t\t\t\treturn (this.competitionlevel.compareTo(o.competitionlevel));\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\r\n\t\t\t\t\tif(!Objects.equals(this.getEvent().getEventName(), o.getEvent().getEventName())) //third priority is event name\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn (this.getEvent().getEventName().compareTo(o.getEvent().getEventName()));\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\treturn 0; //if same return 0\r\n\t}\r\n```\r\n\r\nCode of the custom exception:\r\n```\r\npublic class OlympicException extends Exception {\r\n\r\n    private long serialVersionUID=-1;\r\n   \r\n\tpublic OlympicException()\r\n\t   {\r\n\t      // TODO Auto-generated constructor stub\r\n\t   }\r\n\r\n\t   public OlympicException( String s )\r\n\t   {\r\n\t      super( s );\r\n\t      // TODO Auto-generated constructor stub\r\n\t   }\r\n\r\n\t   public OlympicException( Throwable cause )\r\n\t   {\r\n\t      super( cause );\r\n\t      // TODO Auto-generated constructor stub\r\n\t   }\r\n\r\n\t   public OlympicException( String s, Throwable cause )\r\n\t   {\r\n\t      super( s, cause );\r\n\t      // TODO Auto-generated constructor stub\r\n\t   }\r\n\r\n}\r\n```\r\nNo matter what I try I get a compilation error. Am I comparing some stuff in the wrong way?","title":"How to properly test a compareTo() method with custom exceptions in Java?","body":"<p>Having problems testing a <code>compareTo()</code> method with custom exception. How do I throw a custom exception without compilation error?</p>\n<p>Code of the Junit test</p>\n<pre><code> @Test\n    public void compareTo() {\n        // check equals\n        assertEquals(0, competitionDressageQualifier.compareTo(competitionDressageQualifier));\n        try {\n            Competition c1 = new Competition(competitionDressageQualifier.getEvent(), competitionDressageQualifier.getCompetitionDate(),\n                    competitionDressageQualifier.getJudges(), competitionDressageQualifier.getCompetitionLevel());\n            assertEquals(0, c1.compareTo(competitionDressageQualifier));\n            assertEquals(0, competitionDressageQualifier.compareTo(c1));\n        } catch (OlympicException ex) { //I HAVE THE ERROR HERE Unreachable catch block for OlympicException. This exception is never thrown from the try statement body\n            // this shouldn't happen\n            fail();\n        }\n\n</code></pre>\n<p>Code of the <code>compareTo()</code>; how do I implement try catch here exactly?</p>\n<pre><code>@Override\n    public int compareTo(Competition o) //compare properties\n    {\n        \n        if(!Objects.equals(this.getCompetitionDate(), o.getCompetitionDate())) //first date\n        {\n            return (this.getCompetitionDate().compareTo(o.getCompetitionDate()));\n        }\n        \n        else\n        {\n            if(!Objects.equals(this.competitionlevel, o.competitionlevel)) //seconds comp level\n            {\n                return (this.competitionlevel.compareTo(o.competitionlevel));\n            }\n            else\n            {\n            \n                    if(!Objects.equals(this.getEvent().getEventName(), o.getEvent().getEventName())) //third priority is event name\n                    {\n                        return (this.getEvent().getEventName().compareTo(o.getEvent().getEventName()));\n                    }\n                \n            }\n        }       \n        return 0; //if same return 0\n    }\n</code></pre>\n<p>Code of the custom exception:</p>\n<pre><code>public class OlympicException extends Exception {\n\n    private long serialVersionUID=-1;\n   \n    public OlympicException()\n       {\n          // TODO Auto-generated constructor stub\n       }\n\n       public OlympicException( String s )\n       {\n          super( s );\n          // TODO Auto-generated constructor stub\n       }\n\n       public OlympicException( Throwable cause )\n       {\n          super( cause );\n          // TODO Auto-generated constructor stub\n       }\n\n       public OlympicException( String s, Throwable cause )\n       {\n          super( s, cause );\n          // TODO Auto-generated constructor stub\n       }\n\n}\n</code></pre>\n<p>No matter what I try I get a compilation error. Am I comparing some stuff in the wrong way?</p>\n"},{"tags":["java","exception","process","runtime","exec"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685787741,"post_id":76395598,"comment_id":134712299,"body_markdown":"`new ProcessBuilder(&quot;C:/ProgramData/Microsoft/Windows/Start Menu/Programs/Firefox.exe&quot;).inheritIO().start()` would be better.. `ProcessBuilder` is generally easier to use, but always pass arguments as an array or `List` (in this case implied). You need to double backslashes in Java strings to escape the backslash but better to use forward slashes","body":"<code>new ProcessBuilder(&quot;C:&#47;ProgramData&#47;Microsoft&#47;Windows&#47;Start Menu&#47;Programs&#47;Firefox.exe&quot;).inheritIO().start()</code> would be better.. <code>ProcessBuilder</code> is generally easier to use, but always pass arguments as an array or <code>List</code> (in this case implied). You need to double backslashes in Java strings to escape the backslash but better to use forward slashes"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1685788031,"post_id":76395598,"comment_id":134712320,"body_markdown":"Does this answer your question? [Java Runtime Exec With White Spaces On Path Name](https://stackoverflow.com/questions/33077129/java-runtime-exec-with-white-spaces-on-path-name)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33077129/java-runtime-exec-with-white-spaces-on-path-name\">Java Runtime Exec With White Spaces On Path Name</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685788191,"post_id":76395598,"comment_id":134712331,"body_markdown":"Incidentally, if your objective is to open a web browser, you might find methods in `java.awt.Desktop` easier and more robust","body":"Incidentally, if your objective is to open a web browser, you might find methods in <code>java.awt.Desktop</code> easier and more robust"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1685788743,"post_id":76395598,"comment_id":134712371,"body_markdown":"using `exec(String)`, the method with one String parameter, is known to separate the string using spaces as separator - actually its documentation states that it is deprecated and explicitly mention &quot;*This method is error-prone and should not be used, the corresponding method exec(String[]) or ProcessBuilder should be used instead. The command string is broken into tokens using only whitespace characters. For an argument with an embedded space, such as a filename, this can cause problems as the token does not include the full filename.*&quot;","body":"using <code>exec(String)</code>, the method with one String parameter, is known to separate the string using spaces as separator - actually its documentation states that it is deprecated and explicitly mention &quot;<i>This method is error-prone and should not be used, the corresponding method exec(String[]) or ProcessBuilder should be used instead. The command string is broken into tokens using only whitespace characters. For an argument with an embedded space, such as a filename, this can cause problems as the token does not include the full filename.</i>&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685791981,"post_id":76395598,"comment_id":134712667,"body_markdown":"I should have been less abstract in my comments about `java.awt.Desktop`. Prefer this as it will make your code less likely to fail and more portable (*if* your objective is to open a browser) as **a.** not everyone will have that browser, and/or **b.** not everyone&#39;s Firefox will be at that location and **c.** even on the box that you&#39;re running this, the location of the executable might change","body":"I should have been less abstract in my comments about <code>java.awt.Desktop</code>. Prefer this as it will make your code less likely to fail and more portable (<i>if</i> your objective is to open a browser) as <b>a.</b> not everyone will have that browser, and/or <b>b.</b> not everyone&#39;s Firefox will be at that location and <b>c.</b> even on the box that you&#39;re running this, the location of the executable might change"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1685814851,"post_id":76395598,"comment_id":134715015,"body_markdown":"I don&#39;t think that the command you&#39;re running is an actual command. The location indicates it&#39;s your system-wide start menu, so most likely the `Firefox.exe` is actually `Firefox.exe.lnk` - a shortcut.","body":"I don&#39;t think that the command you&#39;re running is an actual command. The location indicates it&#39;s your system-wide start menu, so most likely the <code>Firefox.exe</code> is actually <code>Firefox.exe.lnk</code> - a shortcut."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685816038,"post_id":76395598,"comment_id":134715147,"body_markdown":"@RobSpoor - yes. I thought there was something weird about it ;)","body":"@RobSpoor - yes. I thought there was something weird about it ;)"}],"answers":[{"tags":[],"owner":{"account_id":18945100,"reputation":3,"user_id":13824184,"display_name":"Gaby Zech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685885783,"creation_date":1685885783,"answer_id":76400675,"question_id":76395598,"body_markdown":"I found the problem.\r\nThe &quot;Start Menu&quot; - folder is a virtual folder, only windows has access, so I searched for the &quot;firefox.exe&quot; in my folder system and found it, than I used this folder &quot;C:/program (x86)/Mozilla Firefox/firefox.exe&quot;. My program (a sidebar) is running now. When I click on firefox, firefox will start.\r\nThanx for your help.","title":"Java Runtime.getRuntime().exec() throwing error when file path contains spaces","body":"<p>I found the problem.\nThe &quot;Start Menu&quot; - folder is a virtual folder, only windows has access, so I searched for the &quot;firefox.exe&quot; in my folder system and found it, than I used this folder &quot;C:/program (x86)/Mozilla Firefox/firefox.exe&quot;. My program (a sidebar) is running now. When I click on firefox, firefox will start.\nThanx for your help.</p>\n"}],"owner":{"account_id":18945100,"reputation":3,"user_id":13824184,"display_name":"Gaby Zech"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685893424,"creation_date":1685787596,"question_id":76395598,"body_markdown":"The Java code:\r\n```java\r\nProcess process = Runtime.getRuntime().ecex(&quot;C:\\\\ProgramData\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\Firefox.exe&quot;); \r\n```\r\nthrows the exception:\r\n\r\n```\r\njava.io.IOException: Cannot run program &quot;C:\\ProgramData\\Microsoft\\Windows\\Start&quot;: CreateProcess error=2, Das System kann die angegebene Datei nicht finden\r\n````\r\n\r\nHe can&#39;t handle the space at the folder name `Start Menu`, I think. \r\n\r\nIs there an escape sequence to handle spaces?\r\n\r\n\r\n\r\nI&#39;ve no idea, what I can do?\r\nI only try to use the German folder names, but it will be the same.","title":"Java Runtime.getRuntime().exec() throwing error when file path contains spaces","body":"<p>The Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Process process = Runtime.getRuntime().ecex(&quot;C:\\\\ProgramData\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\Firefox.exe&quot;); \n</code></pre>\n<p>throws the exception:</p>\n<pre><code>java.io.IOException: Cannot run program &quot;C:\\ProgramData\\Microsoft\\Windows\\Start&quot;: CreateProcess error=2, Das System kann die angegebene Datei nicht finden\n</code></pre>\n<p>He can't handle the space at the folder name <code>Start Menu</code>, I think.</p>\n<p>Is there an escape sequence to handle spaces?</p>\n<p>I've no idea, what I can do?\nI only try to use the German folder names, but it will be the same.</p>\n"},{"tags":["java","spring-boot","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685893346,"creation_date":1685893001,"answer_id":76401165,"question_id":76400494,"body_markdown":"Your solution has a drawback! Spring components are Singleton by default, so when working in a concurrent environment (such as web application), your code breaks!\r\n\r\nThread 1 calls `setConsumer(consumer1)`, and just before calling the second method threa2 calls `setConsumer(consumer2)` and now thread 1&#39;s method is called on `consumer2`.\r\n\r\nTo prevent the problem change the signature of your method to `fetchData(Consumer consumer)`, now you are sure using proper consumer.\r\n\r\n--------\r\n\r\nAnother solution can be using a factory, if you can determine which consumer should be used according to `fetchData` arguments, so define a class as\r\n\r\n    @Component\r\n    public class ConsumerFactory implements BeanFactoryAware {\r\n       private BeanFactory beanFactory;\r\n\r\n       public void setBeanFactory(BeanFactory beanFactory) {\r\n          this.beanFactory = beanFactory;\r\n       }\r\n\r\n       public Consumer resolverConsumer(arguments) {\r\n          if (condition1) {\r\n             return beanFactory.getBean(&#39;name1&#39;, Consumer.class);\r\n          } \r\n          if (condition2) {\r\n             return beanFactory.getBean(&#39;name2&#39;, Consumer.class);\r\n          } \r\n          ....\r\n       }\r\n\r\n    }\r\n\r\nnow inject this factory in your strategy, and you can get proper `Consumer` in your Strategy.\r\n\r\n--------\r\n\r\nNever forget! as Spring components are singleton by default, **you must not have conversional state in them!**","title":"How to inject multiple implementations of same type with Spring Boot?","body":"<p>Your solution has a drawback! Spring components are Singleton by default, so when working in a concurrent environment (such as web application), your code breaks!</p>\n<p>Thread 1 calls <code>setConsumer(consumer1)</code>, and just before calling the second method threa2 calls <code>setConsumer(consumer2)</code> and now thread 1's method is called on <code>consumer2</code>.</p>\n<p>To prevent the problem change the signature of your method to <code>fetchData(Consumer consumer)</code>, now you are sure using proper consumer.</p>\n<hr />\n<p>Another solution can be using a factory, if you can determine which consumer should be used according to <code>fetchData</code> arguments, so define a class as</p>\n<pre><code>@Component\npublic class ConsumerFactory implements BeanFactoryAware {\n   private BeanFactory beanFactory;\n\n   public void setBeanFactory(BeanFactory beanFactory) {\n      this.beanFactory = beanFactory;\n   }\n\n   public Consumer resolverConsumer(arguments) {\n      if (condition1) {\n         return beanFactory.getBean('name1', Consumer.class);\n      } \n      if (condition2) {\n         return beanFactory.getBean('name2', Consumer.class);\n      } \n      ....\n   }\n\n}\n</code></pre>\n<p>now inject this factory in your strategy, and you can get proper <code>Consumer</code> in your Strategy.</p>\n<hr />\n<p>Never forget! as Spring components are singleton by default, <strong>you must not have conversional state in them!</strong></p>\n"}],"owner":{"account_id":5965676,"reputation":629,"user_id":4689521,"display_name":"M4V3N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76401165,"answer_count":1,"score":1,"last_activity_date":1685893346,"creation_date":1685882763,"question_id":76400494,"body_markdown":"My class **RssStrategy** injects a **RssConsumer** class. There are multiple implementations of the **RssConsumer**; therefore, Spring Boot throws an error that multiple beans of the same type have been found. \r\n\r\n**Exception**\r\n\r\n    Parameter 0 of constructor in &lt;path&gt;.RssStrategy required a single bean, but 11 were found:\r\n\r\nHow would I circumvent this issue with my current implementation?\r\nI have seen solutions where a qualifier has been used to determine which implementation to reference, but in my case, **RssStrategy.java** doesn&#39;t know, and it&#39;s up to the service that injects the Strategy to decide.\r\n\r\n**RssStrategy.java**\r\n   \r\n    @Component\r\n    public class RssStrategy&lt;T extends RssConsumer&gt; implements FetchDataStrategy{\r\n\r\n       private final T rssConsumer;\r\n\r\n       public RssStrategy(T rssConsumer) {\r\n           this.rssConsumer = rssConsumer;\r\n       }\r\n        \r\n       @Override\r\n       public void fetchData() {\r\n          rssConsumer.consume();\r\n       }\r\n    }\r\n\r\nDifferent implementations of **RssConsumer.java**:\r\n    \r\n    @Component(value = &quot;rssConsumerA&quot;)\r\n    public class RssConsumerA extends RssConsumer {\r\n       @Override\r\n       public void consume() {}\r\n    }\r\n\r\n    @Component(value = &quot;rssConsumerB&quot;)\r\n    public class RssConsumerB extends RssConsumer {\r\n       @Override\r\n       public void consume() {}\r\n    }\r\n\r\n\r\nInjecting RssStrategy in different services but always passing a different generic type implementation:\r\n\r\n    @Service\r\n    public class ServiceA extends MyAbstractService {\r\n       public ServiceA ( RssStrategy&lt;RssConsumerA&gt; fetchDataStrategy) {}\r\n       \r\n       @Override\r\n       public void run() {fetchDataStrategy.fetchData()}\r\n    }\r\n    \r\n    @Service\r\n    public class ServiceB extends MyAbstractService {\r\n       public ServiceB ( RssStrategy&lt;RssConsumerB&gt; fetchDataStrategy) {}\r\n       \r\n       @Override\r\n       public void run() {fetchDataStrategy.fetchData()}\r\n    }\r\n\r\n**Update: I figured out a solution:**\r\n\r\nThe only alternative I found out so far is instead of injecting the rssConsumer, I provide it via setter like:\r\n\r\n    @Component\r\n    public class RssStrategy&lt;T extends RssConsumer&gt; implements FetchDataStrategy{\r\n    \r\n       private final T rssConsumer;\r\n    \r\n       public setRssConsumer(T rssConsumer) {\r\n          this.rssConsumer = rssConsumer;\r\n       }\r\n    \r\n       @Override\r\n       public void fetchData() {\r\n          rssConsumer.consume();\r\n       }\r\n    }\r\n\r\nAnd injecting the Consumer in the Service instead and providing it via the setter method:\r\n\r\n    @Service\r\n    public class ServiceA extends MyAbstractService {\r\n          public ServiceA ( RssConsumerA, rssConsumerA, \r\n       RssStrategy&lt;RssConsumerA&gt; fetchDataStrategy) {\r\n          fetchDataStrategy.setRssConsumer(rssConsumerA);\r\n       }\r\n    \r\n       @Override\r\n       public void run() {fetchDataStrategy.fetchData()}\r\n    }\r\n\r\n**Update 2:**\r\nIt seems that my solution also does not work. Even though I provide the rssConsumer via setter:\r\n\r\n    fetchDataStrategy.setRssConsumer(rssConsumerA);\r\n\r\nThe actual consumer seems to be rather random. I have to investigate more but it&#39;s not the correct behaviour.\r\n","title":"How to inject multiple implementations of same type with Spring Boot?","body":"<p>My class <strong>RssStrategy</strong> injects a <strong>RssConsumer</strong> class. There are multiple implementations of the <strong>RssConsumer</strong>; therefore, Spring Boot throws an error that multiple beans of the same type have been found.</p>\n<p><strong>Exception</strong></p>\n<pre><code>Parameter 0 of constructor in &lt;path&gt;.RssStrategy required a single bean, but 11 were found:\n</code></pre>\n<p>How would I circumvent this issue with my current implementation?\nI have seen solutions where a qualifier has been used to determine which implementation to reference, but in my case, <strong>RssStrategy.java</strong> doesn't know, and it's up to the service that injects the Strategy to decide.</p>\n<p><strong>RssStrategy.java</strong></p>\n<pre><code>@Component\npublic class RssStrategy&lt;T extends RssConsumer&gt; implements FetchDataStrategy{\n\n   private final T rssConsumer;\n\n   public RssStrategy(T rssConsumer) {\n       this.rssConsumer = rssConsumer;\n   }\n    \n   @Override\n   public void fetchData() {\n      rssConsumer.consume();\n   }\n}\n</code></pre>\n<p>Different implementations of <strong>RssConsumer.java</strong>:</p>\n<pre><code>@Component(value = &quot;rssConsumerA&quot;)\npublic class RssConsumerA extends RssConsumer {\n   @Override\n   public void consume() {}\n}\n\n@Component(value = &quot;rssConsumerB&quot;)\npublic class RssConsumerB extends RssConsumer {\n   @Override\n   public void consume() {}\n}\n</code></pre>\n<p>Injecting RssStrategy in different services but always passing a different generic type implementation:</p>\n<pre><code>@Service\npublic class ServiceA extends MyAbstractService {\n   public ServiceA ( RssStrategy&lt;RssConsumerA&gt; fetchDataStrategy) {}\n   \n   @Override\n   public void run() {fetchDataStrategy.fetchData()}\n}\n\n@Service\npublic class ServiceB extends MyAbstractService {\n   public ServiceB ( RssStrategy&lt;RssConsumerB&gt; fetchDataStrategy) {}\n   \n   @Override\n   public void run() {fetchDataStrategy.fetchData()}\n}\n</code></pre>\n<p><strong>Update: I figured out a solution:</strong></p>\n<p>The only alternative I found out so far is instead of injecting the rssConsumer, I provide it via setter like:</p>\n<pre><code>@Component\npublic class RssStrategy&lt;T extends RssConsumer&gt; implements FetchDataStrategy{\n\n   private final T rssConsumer;\n\n   public setRssConsumer(T rssConsumer) {\n      this.rssConsumer = rssConsumer;\n   }\n\n   @Override\n   public void fetchData() {\n      rssConsumer.consume();\n   }\n}\n</code></pre>\n<p>And injecting the Consumer in the Service instead and providing it via the setter method:</p>\n<pre><code>@Service\npublic class ServiceA extends MyAbstractService {\n      public ServiceA ( RssConsumerA, rssConsumerA, \n   RssStrategy&lt;RssConsumerA&gt; fetchDataStrategy) {\n      fetchDataStrategy.setRssConsumer(rssConsumerA);\n   }\n\n   @Override\n   public void run() {fetchDataStrategy.fetchData()}\n}\n</code></pre>\n<p><strong>Update 2:</strong>\nIt seems that my solution also does not work. Even though I provide the rssConsumer via setter:</p>\n<pre><code>fetchDataStrategy.setRssConsumer(rssConsumerA);\n</code></pre>\n<p>The actual consumer seems to be rather random. I have to investigate more but it's not the correct behaviour.</p>\n"},{"tags":["java","shell"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1685886602,"post_id":76400698,"comment_id":134720593,"body_markdown":"If you are going to do this (I *personally* suggest you don&#39;t), you will need to start multiple threads to handle the reading and writing from the external process. Executing a shell script from Java is possible, but it was not a major design goal for the language (and starting the JVM just to spawn a shell to prompt for user input has to be some kind of antipattern).","body":"If you are going to do this (I <i>personally</i> suggest you don&#39;t), you will need to start multiple threads to handle the reading and writing from the external process. Executing a shell script from Java is possible, but it was not a major design goal for the language (and starting the JVM just to spawn a shell to prompt for user input has to be some kind of antipattern)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685889774,"post_id":76400698,"comment_id":134720985,"body_markdown":"That&#39;s not your real use case. You&#39;re not going to get proper advice for your particular case unless you tell us what it is","body":"That&#39;s not your real use case. You&#39;re not going to get proper advice for your particular case unless you tell us what it is"}],"answers":[{"tags":[],"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685893121,"creation_date":1685893121,"answer_id":76401176,"question_id":76400698,"body_markdown":"The `-p` argument to `read` is only honored when stdin is attached to a terminal. Quoting from the shell&#39;s source code:\r\n\r\n```c\r\n  /* If the -p, -e or -s flags were given, but input is not coming from the\r\n     terminal, turn them off. */\r\n  if ((prompt || edit || silent) &amp;&amp; input_is_tty == 0)\r\n    {\r\n      prompt = (char *)NULL;\r\n#if defined (READLINE)\r\n      itext = (char *)NULL;\r\n#endif\r\n      edit = silent = 0;\r\n    }\r\n```\r\n\r\nYou _could_ wrap the copy of bash in something like `unbuffer` to emulate a TTY (`ProcessBuilder(&quot;/usr/bin/unbuffer&quot;, &quot;/bin/bash&quot;, &quot;-c&quot;,`...), but I&#39;d generally suggest not relying on `-p` at all in the first place (there&#39;s a reason tools built to be programmatically invoked generally accept arguments via environment variables or the command line).","title":"How to use get prompt message of shell script by Java Process","body":"<p>The <code>-p</code> argument to <code>read</code> is only honored when stdin is attached to a terminal. Quoting from the shell's source code:</p>\n<pre class=\"lang-c prettyprint-override\"><code>  /* If the -p, -e or -s flags were given, but input is not coming from the\n     terminal, turn them off. */\n  if ((prompt || edit || silent) &amp;&amp; input_is_tty == 0)\n    {\n      prompt = (char *)NULL;\n#if defined (READLINE)\n      itext = (char *)NULL;\n#endif\n      edit = silent = 0;\n    }\n</code></pre>\n<p>You <em>could</em> wrap the copy of bash in something like <code>unbuffer</code> to emulate a TTY (<code>ProcessBuilder(&quot;/usr/bin/unbuffer&quot;, &quot;/bin/bash&quot;, &quot;-c&quot;,</code>...), but I'd generally suggest not relying on <code>-p</code> at all in the first place (there's a reason tools built to be programmatically invoked generally accept arguments via environment variables or the command line).</p>\n"}],"owner":{"account_id":28749627,"reputation":1,"user_id":22017996,"display_name":"Non TF"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685893121,"creation_date":1685886219,"question_id":76400698,"body_markdown":"I am using java.lang.Process to execute shell script which requires user input interactively.\r\nI can&#39;t get the prompt message of requesting user input in Java.\r\n\r\nIn this example, I want to get **&quot;Enter your name: &quot;** during the execution in Java Process.\r\n\r\n```\r\nread -p &#39;Enter your name: &#39; name;\r\necho &quot;Hello, $name!&quot;\r\n```\r\n\r\nI have tried to get shell script output by Process InputStream and ErrorStream.\r\nThey can only get the echo output.\r\n\r\nThis code only print\r\n\r\n**outputFuture: Hello, myName!**\r\n\r\n```\r\nProcessBuilder pb = new ProcessBuilder(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;read -p &#39;Enter your name: &#39; name; echo \\&quot;Hello, $name!\\&quot;&quot;);\r\nProcess process = pb.start();\r\nInputStream is = process.getInputStream();\r\nInputStream es = process.getErrorStream();\r\n\r\n\r\n// Create a separate thread to read the output of the process\r\nExecutorService executor = Executors.newSingleThreadExecutor();\r\n\r\nFuture&lt;String&gt; outputFuture = executor.submit(() -&gt; {\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n        return line;\r\n    }\r\n    return null;\r\n});\r\n\r\n//Input myName to continue shell script  \r\nOutputStream os = process.getOutputStream();\r\nos.write(&quot;myName\\n&quot;.getBytes());\r\nos.flush();\r\nThread.sleep(1000);\r\n\r\n//Reading ErrorStream\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(es));\r\nString line;\r\nwhile ((line = reader.readLine()) != null) {\r\n    LOGGER.info(&quot;error reader: {}&quot;, line);\r\n}\r\nint exitCode = process.waitFor();\r\nLOGGER.info(&quot;Script exited with code &quot; + exitCode);\r\n\r\n\r\n// Display the output of the process\r\nString output = outputFuture.get();\r\nif (output != null) {\r\n    LOGGER.info(&quot;outputFuture: {}&quot;, output);\r\n}\r\n\r\nexecutor.shutdown();\r\n```","title":"How to use get prompt message of shell script by Java Process","body":"<p>I am using java.lang.Process to execute shell script which requires user input interactively.\nI can't get the prompt message of requesting user input in Java.</p>\n<p>In this example, I want to get <strong>&quot;Enter your name: &quot;</strong> during the execution in Java Process.</p>\n<pre><code>read -p 'Enter your name: ' name;\necho &quot;Hello, $name!&quot;\n</code></pre>\n<p>I have tried to get shell script output by Process InputStream and ErrorStream.\nThey can only get the echo output.</p>\n<p>This code only print</p>\n<p><strong>outputFuture: Hello, myName!</strong></p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;read -p 'Enter your name: ' name; echo \\&quot;Hello, $name!\\&quot;&quot;);\nProcess process = pb.start();\nInputStream is = process.getInputStream();\nInputStream es = process.getErrorStream();\n\n\n// Create a separate thread to read the output of the process\nExecutorService executor = Executors.newSingleThreadExecutor();\n\nFuture&lt;String&gt; outputFuture = executor.submit(() -&gt; {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n    String line;\n    while ((line = reader.readLine()) != null) {\n        return line;\n    }\n    return null;\n});\n\n//Input myName to continue shell script  \nOutputStream os = process.getOutputStream();\nos.write(&quot;myName\\n&quot;.getBytes());\nos.flush();\nThread.sleep(1000);\n\n//Reading ErrorStream\nBufferedReader reader = new BufferedReader(new InputStreamReader(es));\nString line;\nwhile ((line = reader.readLine()) != null) {\n    LOGGER.info(&quot;error reader: {}&quot;, line);\n}\nint exitCode = process.waitFor();\nLOGGER.info(&quot;Script exited with code &quot; + exitCode);\n\n\n// Display the output of the process\nString output = outputFuture.get();\nif (output != null) {\n    LOGGER.info(&quot;outputFuture: {}&quot;, output);\n}\n\nexecutor.shutdown();\n</code></pre>\n"},{"tags":["java","android","runtime-permissions"],"answers":[{"tags":[],"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685711924,"creation_date":1685707975,"answer_id":76390042,"question_id":76389927,"body_markdown":"You can&#39;t and that&#39;s by design - to prevent abuse.\r\n\r\nYou&#39;re better of following the [official guidelines][1].\r\n\r\nThe only way to request permissions again, is to navigate the user to app info, where the user has to manually allow it:\r\n\r\n```kotlin\r\nfun launchPermissionSettings(context: Context) {\r\n    Intent().apply {\r\n        action = Settings.ACTION_APPLICATION_DETAILS_SETTINGS\r\n        data = Uri.fromParts(&quot;package&quot;, context.packageName, null)\r\n\r\n        addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n        addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY)\r\n        addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS)\r\n\r\n        context.startActivity(this)\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nstatic void launchPermissionSettings(Context context) {\r\n    Intent intent = new Intent();\r\n    intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n    intent.setData(Uri.fromParts(&quot;package&quot;, context.getPackageName(), null));\r\n\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\r\n\r\n    context.startActivity(intent);\r\n}\r\n```\r\n\r\nYou&#39;re also using a deprecated way of requesting permissions. Consider using `ActivityResultContracts.RequestMultiplePermissions()`:\r\n\r\n```kotlin\r\nclass MyFragment: Fragment() {\r\n\tprivate lateinit var mRequestPermissionsLauncher: ActivityResultLauncher&lt;Array&lt;String&gt;&gt;\r\n\r\n\toverride fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n    \tmRequestPermissionsLauncher = registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { result: Map&lt;String, Boolean&gt; -&gt;\r\n            //Handle result here\r\n        }\r\n\r\n        //Request permissions like this:\r\n        mRequestPermissionsLauncher.launch(arrayOf(\r\n        \tManifest.permission.SEND_SMS,\r\n    \t\tManifest.permission.READ_SMS,\r\n        ))\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass MyFragment extends Fragment {\r\n    private ActivityResultLauncher&lt;String[]&gt; mRequestPermissionsLauncher;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        mRequestPermissionsLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), result -&gt; {\r\n            //Handle activity result here\r\n        });\r\n\r\n        //Request permissions like this:\r\n        String[] PERMISSIONS = {\r\n            Manifest.permission.SEND_SMS,\r\n            Manifest.permission.READ_SMS,\r\n        };\r\n        mRequestPermissionsLauncher.launch(PERMISSIONS);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting#workflow_for_requesting_permissions","title":"Android RequestMultiplePermissions(): one of the permission&#39;s status is never true, even after allowing it","body":"<p>You can't and that's by design - to prevent abuse.</p>\n<p>You're better of following the <a href=\"https://developer.android.com/training/permissions/requesting#workflow_for_requesting_permissions\" rel=\"nofollow noreferrer\">official guidelines</a>.</p>\n<p>The only way to request permissions again, is to navigate the user to app info, where the user has to manually allow it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun launchPermissionSettings(context: Context) {\n    Intent().apply {\n        action = Settings.ACTION_APPLICATION_DETAILS_SETTINGS\n        data = Uri.fromParts(&quot;package&quot;, context.packageName, null)\n\n        addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n        addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY)\n        addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS)\n\n        context.startActivity(this)\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>static void launchPermissionSettings(Context context) {\n    Intent intent = new Intent();\n    intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n    intent.setData(Uri.fromParts(&quot;package&quot;, context.getPackageName(), null));\n\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n    intent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\n\n    context.startActivity(intent);\n}\n</code></pre>\n<p>You're also using a deprecated way of requesting permissions. Consider using <code>ActivityResultContracts.RequestMultiplePermissions()</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyFragment: Fragment() {\n    private lateinit var mRequestPermissionsLauncher: ActivityResultLauncher&lt;Array&lt;String&gt;&gt;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        mRequestPermissionsLauncher = registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { result: Map&lt;String, Boolean&gt; -&gt;\n            //Handle result here\n        }\n\n        //Request permissions like this:\n        mRequestPermissionsLauncher.launch(arrayOf(\n            Manifest.permission.SEND_SMS,\n            Manifest.permission.READ_SMS,\n        ))\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class MyFragment extends Fragment {\n    private ActivityResultLauncher&lt;String[]&gt; mRequestPermissionsLauncher;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        mRequestPermissionsLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), result -&gt; {\n            //Handle activity result here\n        });\n\n        //Request permissions like this:\n        String[] PERMISSIONS = {\n            Manifest.permission.SEND_SMS,\n            Manifest.permission.READ_SMS,\n        };\n        mRequestPermissionsLauncher.launch(PERMISSIONS);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28625477,"reputation":81,"user_id":21917572,"display_name":"abhishek_6198"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76390042,"answer_count":1,"score":0,"last_activity_date":1685892817,"creation_date":1685706933,"question_id":76389927,"body_markdown":"I want to ask for the `SEND_SMS` and `READ_SMS` runtime permissions, if they are not given. This is my code:\r\n\r\n```\r\nprivate ActivityResultLauncher&lt;String[]&gt; mRequestPermissionsLauncher;\r\nString[] PERMISSIONS = {\r\n    Manifest.permission.SEND_SMS,\r\n    Manifest.permission.READ_SMS\r\n};\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n\r\n    mRequestPermissionsLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), result -&gt; {\r\n         Log.d(&quot;DEBUG&quot;,result.toString());\r\n    });\r\n\r\n    if (!hasPermissions(this, PERMISSIONS)) {\r\n         if(shouldShowRequestPermissionRationale(Manifest.permission.SEND_SMS) || shouldShowRequestPermissionRationale(Manifest.permission.READ_SMS)){\r\n              new AlertDialog.Builder(this)\r\n                   .setTitle(&quot;Permission Needed&quot;)\r\n                   .setMessage(&quot;Please press OK to allow the permissions&quot;)\r\n                   .setCancelable(false)\r\n                   .setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; mRequestPermissionsLauncher.launch(PERMISSIONS)).create().show();\r\n         }\r\n         else{\r\n             mRequestPermissionsLauncher.launch(PERMISSIONS);\r\n         }\r\n    }\r\n}\r\npublic static boolean hasPermissions(Context context, String... permissions) {\r\n    if (context != null &amp;&amp; permissions != null) {\r\n        for (String permission : permissions) {\r\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                return false;\r\n            }\r\n         }\r\n    }\r\n    return true;\r\n}\r\n```\r\n----------\r\nAfter I allow the permissions and debug the `result`, it keeps showing:\r\n```\r\n{android.permission.SEND_SMS=true, android.permission.READ_SMS=false}\r\n```\r\n\r\nWhy is my `READ_SMS` permission false?\r\n\r\n**EDIT:** Never mind, the issue is resolved. I forgot to declare the `READ_SMS` permission in the manifest file. Silly me :p","title":"Android RequestMultiplePermissions(): one of the permission&#39;s status is never true, even after allowing it","body":"<p>I want to ask for the <code>SEND_SMS</code> and <code>READ_SMS</code> runtime permissions, if they are not given. This is my code:</p>\n<pre><code>private ActivityResultLauncher&lt;String[]&gt; mRequestPermissionsLauncher;\nString[] PERMISSIONS = {\n    Manifest.permission.SEND_SMS,\n    Manifest.permission.READ_SMS\n};\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    mRequestPermissionsLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), result -&gt; {\n         Log.d(&quot;DEBUG&quot;,result.toString());\n    });\n\n    if (!hasPermissions(this, PERMISSIONS)) {\n         if(shouldShowRequestPermissionRationale(Manifest.permission.SEND_SMS) || shouldShowRequestPermissionRationale(Manifest.permission.READ_SMS)){\n              new AlertDialog.Builder(this)\n                   .setTitle(&quot;Permission Needed&quot;)\n                   .setMessage(&quot;Please press OK to allow the permissions&quot;)\n                   .setCancelable(false)\n                   .setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; mRequestPermissionsLauncher.launch(PERMISSIONS)).create().show();\n         }\n         else{\n             mRequestPermissionsLauncher.launch(PERMISSIONS);\n         }\n    }\n}\npublic static boolean hasPermissions(Context context, String... permissions) {\n    if (context != null &amp;&amp; permissions != null) {\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\n                return false;\n            }\n         }\n    }\n    return true;\n}\n</code></pre>\n<hr />\n<p>After I allow the permissions and debug the <code>result</code>, it keeps showing:</p>\n<pre><code>{android.permission.SEND_SMS=true, android.permission.READ_SMS=false}\n</code></pre>\n<p>Why is my <code>READ_SMS</code> permission false?</p>\n<p><strong>EDIT:</strong> Never mind, the issue is resolved. I forgot to declare the <code>READ_SMS</code> permission in the manifest file. Silly me :p</p>\n"},{"tags":["java","bash","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1525126514,"post_id":50108739,"comment_id":87235177,"body_markdown":"There seems to be several questions here: 1. Why is there no output when running `wsl` from Java, 2. Why does `wsl ls` not show a bash prompt, 3. How do I determine when a wsl command exits?, 4. How do I separate output from multiple sequential shell commands in the same bash shell? 5. How do I run wsl commands programmatically from C++?    StackOverflow works better if you ask a single question per post. Can you edit your post and ask a single question that will help you do what you want? (For example: &quot;How do I run a wsl command with sudo and provide a password programmatically?&quot;)","body":"There seems to be several questions here: 1. Why is there no output when running <code>wsl</code> from Java, 2. Why does <code>wsl ls</code> not show a bash prompt, 3. How do I determine when a wsl command exits?, 4. How do I separate output from multiple sequential shell commands in the same bash shell? 5. How do I run wsl commands programmatically from C++?    StackOverflow works better if you ask a single question per post. Can you edit your post and ask a single question that will help you do what you want? (For example: &quot;How do I run a wsl command with sudo and provide a password programmatically?&quot;)"},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1525131709,"post_id":50108739,"comment_id":87236464,"body_markdown":"Have you considered adding your own separator with e.g. `ls; echo &quot;__END__&quot;` ?","body":"Have you considered adding your own separator with e.g. <code>ls; echo &quot;__END__&quot;</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":8917732,"reputation":141,"user_id":6716519,"display_name":"selya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525146498,"creation_date":1525146498,"answer_id":50111105,"question_id":50108739,"body_markdown":"The problem was solved with the help of [pty4j][1]. It works on linux, mac and windows. (It works like pseudo terminal on linux, but have nice java interface).\r\n\r\n\r\n[1]: https://github.com/traff/pty4j","title":"How do I sequentially execute wsl commands from java?","body":"<p>The problem was solved with the help of <a href=\"https://github.com/traff/pty4j\" rel=\"nofollow noreferrer\">pty4j</a>. It works on linux, mac and windows. (It works like pseudo terminal on linux, but have nice java interface).</p>\n"},{"tags":[],"owner":{"account_id":419278,"reputation":177,"user_id":796355,"display_name":"Michael Amiethyst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685892687,"creation_date":1685892687,"answer_id":76401142,"question_id":50108739,"body_markdown":"I was able to use point 2 (run `wsl` and then pipe commands to process.outputWriter() for the STDIN) with [Baeldung&#39;s tutorial][1] with no issues.  The big gotchas:\r\n\r\n 1. That output stream flush() call prevents a hang\r\n 2. With the tutorial you are started in the Windows Home directory, not the linux home directory.\r\n 3. You need to write `exit\\n` to prevent a hang\r\n\r\nI haven&#39;t needed to run SUDO yet though.\r\n\r\n  [1]: https://www.baeldung.com/run-shell-command-in-java","title":"How do I sequentially execute wsl commands from java?","body":"<p>I was able to use point 2 (run <code>wsl</code> and then pipe commands to process.outputWriter() for the STDIN) with <a href=\"https://www.baeldung.com/run-shell-command-in-java\" rel=\"nofollow noreferrer\">Baeldung's tutorial</a> with no issues.  The big gotchas:</p>\n<ol>\n<li>That output stream flush() call prevents a hang</li>\n<li>With the tutorial you are started in the Windows Home directory, not the linux home directory.</li>\n<li>You need to write <code>exit\\n</code> to prevent a hang</li>\n</ol>\n<p>I haven't needed to run SUDO yet though.</p>\n"}],"owner":{"account_id":8917732,"reputation":141,"user_id":6716519,"display_name":"selya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685892687,"creation_date":1525125255,"question_id":50108739,"body_markdown":"I want to execute `wsl` commands from `java`. \r\n\r\nI&#39;m trying to do this using `Process` and `ProcessBuilder`.\r\n\r\nAs I understand, there are two ways to do this:\r\n\r\n1. Run `wsl` along with command as argument (for example: `wsl ls -l`) (do this per-command).\r\n2. Run `wsl`, and then execute the commands one by one.\r\n\r\nBut there are some problems with `1` and `2`.\r\n\r\n**With point `1`:**\r\n\r\n1. When the command terminates, the process does not stop. So even if i run `wsl ls`, I can not determine the moment when I can call next command.\r\n2. `wsl` does not save the state between such calls, so it&#39;s not very convenient\r\n\r\n**With point `2`:**\r\n\r\nSince `wsl` does not show `bash prompt`, I can not track when the command stopped displaying information. For example: \r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;wsl&quot;);\r\n    pb.redirectErrorStream(true);\r\n    Process p = pb.start();\r\n    Thread.sleep(1000);\r\n    OutputStreamWriter osw = new OutputStreamWriter(p.getOutputStream());\r\n    osw.write(&quot;ls\\n&quot;);\r\n    osw.flush();\r\n\r\nAnd all I can read is: \r\n\r\n    build.gradle\r\n    gradle\r\n    gradlew\r\n    gradlew.bat\r\n    out\r\n    settings.gradle\r\n    src \r\nNo `selya@selya-pc:/mnt/c/Users/selya$` read. So I can&#39;t use it as a separator between commands. I think that `wsl` somehow tracks, in what environment it was launched, for example, through `isatty()`, and therefore the output is different.\r\n\r\n**With both:**\r\n\r\nАs far as I know, for programs that are running outside the terminal, `stdout` is not buffered. So there are some problems with, for example, `sudo`, because it asks fro a password without `newline`/`flush` (`[sudo] password for selya:`), therefore I can&#39;t read this line... \r\n\r\nI found a solution - pass command as argument to `unbuffer` util, for example:\r\n\r\n    wsl unbuffer -p sudo apt-get update \r\n\r\n(`-p` stands for `pipeline`).\r\n\r\nBut other problems still remain. Is there any way to do this? Or maybe there is lib for it? Even `c` or `c++` lib will suit my needs...\r\n\r\nP.S. I tried to find a solution for several days. Russian-speaking SO didn&#39;t help me, that&#39;s why I&#39;m here. Sorry for my English...\r\n","title":"How do I sequentially execute wsl commands from java?","body":"<p>I want to execute <code>wsl</code> commands from <code>java</code>. </p>\n\n<p>I'm trying to do this using <code>Process</code> and <code>ProcessBuilder</code>.</p>\n\n<p>As I understand, there are two ways to do this:</p>\n\n<ol>\n<li>Run <code>wsl</code> along with command as argument (for example: <code>wsl ls -l</code>) (do this per-command).</li>\n<li>Run <code>wsl</code>, and then execute the commands one by one.</li>\n</ol>\n\n<p>But there are some problems with <code>1</code> and <code>2</code>.</p>\n\n<p><strong>With point <code>1</code>:</strong></p>\n\n<ol>\n<li>When the command terminates, the process does not stop. So even if i run <code>wsl ls</code>, I can not determine the moment when I can call next command.</li>\n<li><code>wsl</code> does not save the state between such calls, so it's not very convenient</li>\n</ol>\n\n<p><strong>With point <code>2</code>:</strong></p>\n\n<p>Since <code>wsl</code> does not show <code>bash prompt</code>, I can not track when the command stopped displaying information. For example: </p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"wsl\");\npb.redirectErrorStream(true);\nProcess p = pb.start();\nThread.sleep(1000);\nOutputStreamWriter osw = new OutputStreamWriter(p.getOutputStream());\nosw.write(\"ls\\n\");\nosw.flush();\n</code></pre>\n\n<p>And all I can read is: </p>\n\n<pre><code>build.gradle\ngradle\ngradlew\ngradlew.bat\nout\nsettings.gradle\nsrc \n</code></pre>\n\n<p>No <code>selya@selya-pc:/mnt/c/Users/selya$</code> read. So I can't use it as a separator between commands. I think that <code>wsl</code> somehow tracks, in what environment it was launched, for example, through <code>isatty()</code>, and therefore the output is different.</p>\n\n<p><strong>With both:</strong></p>\n\n<p>Аs far as I know, for programs that are running outside the terminal, <code>stdout</code> is not buffered. So there are some problems with, for example, <code>sudo</code>, because it asks fro a password without <code>newline</code>/<code>flush</code> (<code>[sudo] password for selya:</code>), therefore I can't read this line... </p>\n\n<p>I found a solution - pass command as argument to <code>unbuffer</code> util, for example:</p>\n\n<pre><code>wsl unbuffer -p sudo apt-get update \n</code></pre>\n\n<p>(<code>-p</code> stands for <code>pipeline</code>).</p>\n\n<p>But other problems still remain. Is there any way to do this? Or maybe there is lib for it? Even <code>c</code> or <code>c++</code> lib will suit my needs...</p>\n\n<p>P.S. I tried to find a solution for several days. Russian-speaking SO didn't help me, that's why I'm here. Sorry for my English...</p>\n"},{"tags":["java","android","android-studio","raspberry-pi4","screensharing"],"comments":[{"owner":{"account_id":9987229,"reputation":475,"user_id":9458132,"display_name":"Rajat Gupta"},"score":0,"creation_date":1685902493,"post_id":76401136,"comment_id":134722506,"body_markdown":"You should take a look at MediaProjection and MediaEncoder APIs. At the end it will be like a video streaming problem.","body":"You should take a look at MediaProjection and MediaEncoder APIs. At the end it will be like a video streaming problem."}],"owner":{"account_id":28750313,"reputation":1,"user_id":22018561,"display_name":"Harvie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685892603,"creation_date":1685892603,"question_id":76401136,"body_markdown":"How can I make an android app that shares the whole screen of my android phone to my raspberry pi4 screen with 3.5 inch display? is there any tutorial or something that you can recommend?\r\n\r\nI tried genymobile scrcpy but I wanted to do something myself but something like scrcpy too but im noob.. haha","title":"Looking for guidance on creating a screen sharing Android app for Raspberry Pi with a smaller display","body":"<p>How can I make an android app that shares the whole screen of my android phone to my raspberry pi4 screen with 3.5 inch display? is there any tutorial or something that you can recommend?</p>\n<p>I tried genymobile scrcpy but I wanted to do something myself but something like scrcpy too but im noob.. haha</p>\n"},{"tags":["java","oop","inheritance","types","casting"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685891078,"creation_date":1685891078,"answer_id":76401039,"question_id":76401006,"body_markdown":"You have introduced a *variable shadow*. The field `B.z` is **distinct** from `A.z` (and inherited, but shadowing the `A.z`). But if you change it from\r\n\r\n    class B extends A {\r\n        int z = 20;\r\n\r\nto something like\r\n\r\n    class B extends A {\r\n        public B() {\r\n            this.z = 20;\r\n        }\r\n\r\nThen it&#39;s actually inheritance and there will only be a single `z`.","title":"Reasoning Behind this Java Behaviour","body":"<p>You have introduced a <em>variable shadow</em>. The field <code>B.z</code> is <strong>distinct</strong> from <code>A.z</code> (and inherited, but shadowing the <code>A.z</code>). But if you change it from</p>\n<pre><code>class B extends A {\n    int z = 20;\n</code></pre>\n<p>to something like</p>\n<pre><code>class B extends A {\n    public B() {\n        this.z = 20;\n    }\n</code></pre>\n<p>Then it's actually inheritance and there will only be a single <code>z</code>.</p>\n"},{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685891755,"creation_date":1685891755,"answer_id":76401072,"question_id":76401006,"body_markdown":"In Java (and most languages I know), fields are not overriden. So if you define a field in parent class and other field in child class with same name, both fields will exists there (and each one can be accessed normally within its class). (Consider defining your `z` in `B` as String not int! now they have different types, and `B` sees a String `z`).\r\n\r\nBut non-static methods can be overriden. \r\n\r\nWhen you have `A obj = new B()` you are having an instance of `B`, but with a reference of type A. When accessing the fields (which are not overridable), then your are accessing `A.z`, but when you call the method (which is overriden), the real method which is called lookup through a `dynamic lookup table` and B&#39;s method get called (that&#39;s the power of inheritance), and the method accesses it&#39;s own `z`. (Again consider `z` in B be of `String`, then `obj.z` is of type int not String which is in the `obj`&#39;s type class).","title":"Reasoning Behind this Java Behaviour","body":"<p>In Java (and most languages I know), fields are not overriden. So if you define a field in parent class and other field in child class with same name, both fields will exists there (and each one can be accessed normally within its class). (Consider defining your <code>z</code> in <code>B</code> as String not int! now they have different types, and <code>B</code> sees a String <code>z</code>).</p>\n<p>But non-static methods can be overriden.</p>\n<p>When you have <code>A obj = new B()</code> you are having an instance of <code>B</code>, but with a reference of type A. When accessing the fields (which are not overridable), then your are accessing <code>A.z</code>, but when you call the method (which is overriden), the real method which is called lookup through a <code>dynamic lookup table</code> and B's method get called (that's the power of inheritance), and the method accesses it's own <code>z</code>. (Again consider <code>z</code> in B be of <code>String</code>, then <code>obj.z</code> is of type int not String which is in the <code>obj</code>'s type class).</p>\n"}],"owner":{"account_id":26260870,"reputation":109,"user_id":20613664,"display_name":"Alden Luthfi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685898626,"accepted_answer_id":76401072,"answer_count":2,"score":0,"last_activity_date":1685891755,"creation_date":1685890783,"question_id":76401006,"body_markdown":"## CONTEXT\r\n\r\nsay we have a class inheritance structure like this\r\n\r\n```java\r\nclass A {\r\n    int z = 10;\r\n\r\n    public void display() {\r\n        System.out.println(&quot;A&#39;s z is &quot; + z);\r\n    }\r\n}\r\n\r\nclass B extends A {\r\n    int z = 20;\r\n\r\n    public void display() {\r\n        System.out.println(&quot;B&#39;s z is &quot; + z);\r\n    }\r\n\r\n    public void onlyB() {\r\n        System.out.println(&quot;This is only in B&quot;);\r\n    }\r\n}\r\n\r\nclass Main {\r\n\r\n    public static void main(String args[]) {\r\n        A obj = new B();\r\n\r\n        System.out.println(obj.z); // 10\r\n        obj.display(); // B&#39;s z is 20\r\n    }\r\n}\r\n```\r\n## QUESTION\r\n\r\nWhy does ```obj.z``` gives ```A```&#39;s ```z``` but ```obj.display()``` uses ```B```&#39;s ```z```, is there a way to think about this so that it makes sense logically?\r\n\r\n## ATTEMPTS AT UNDERTANDING\r\n\r\nby saying\r\n\r\n```java\r\nA obj = new B();\r\n```\r\n\r\nIn my mind, this is saying &quot;create an object of type A, but use al of B&#39;s implementations&quot;\r\n\r\nby that reasoning, it is logical that the object cannot use ```onlyB()``` because it is of type ```A```, and ```A``` does not have ```onlyB()```. also by that reasoning, ```display()``` would use ```B```&#39;s implementation. But why does calling ```z``` use ```A```&#39;s ```z``` instead of ```B```&#39;s? shouldn&#39;t the object use ```B```&#39;s implementation of ```z```?\r\n\r\nI know this wont appear in practice but I am very curious to know. A better spelled out explanation as to why this happens would be appreciated.\r\n\r\n","title":"Reasoning Behind this Java Behaviour","body":"<h2>CONTEXT</h2>\n<p>say we have a class inheritance structure like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    int z = 10;\n\n    public void display() {\n        System.out.println(&quot;A's z is &quot; + z);\n    }\n}\n\nclass B extends A {\n    int z = 20;\n\n    public void display() {\n        System.out.println(&quot;B's z is &quot; + z);\n    }\n\n    public void onlyB() {\n        System.out.println(&quot;This is only in B&quot;);\n    }\n}\n\nclass Main {\n\n    public static void main(String args[]) {\n        A obj = new B();\n\n        System.out.println(obj.z); // 10\n        obj.display(); // B's z is 20\n    }\n}\n</code></pre>\n<h2>QUESTION</h2>\n<p>Why does <code>obj.z</code> gives <code>A</code>'s <code>z</code> but <code>obj.display()</code> uses <code>B</code>'s <code>z</code>, is there a way to think about this so that it makes sense logically?</p>\n<h2>ATTEMPTS AT UNDERTANDING</h2>\n<p>by saying</p>\n<pre class=\"lang-java prettyprint-override\"><code>A obj = new B();\n</code></pre>\n<p>In my mind, this is saying &quot;create an object of type A, but use al of B's implementations&quot;</p>\n<p>by that reasoning, it is logical that the object cannot use <code>onlyB()</code> because it is of type <code>A</code>, and <code>A</code> does not have <code>onlyB()</code>. also by that reasoning, <code>display()</code> would use <code>B</code>'s implementation. But why does calling <code>z</code> use <code>A</code>'s <code>z</code> instead of <code>B</code>'s? shouldn't the object use <code>B</code>'s implementation of <code>z</code>?</p>\n<p>I know this wont appear in practice but I am very curious to know. A better spelled out explanation as to why this happens would be appreciated.</p>\n"},{"tags":["java","command-line-interface","picocli"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633741419,"creation_date":1633741014,"answer_id":69502973,"question_id":69488821,"body_markdown":"This is documented in the section on subcommands, [Making Subcommands Required](https://picocli.info/#_required_subcommands). \r\n\r\nEssentially, do not implement Callable or Runnable in the top-level command. This makes it mandatory for end users to specify a subcommand. The manual has an example. \r\n\r\nAbout your second question, how to customize the usage help message, please take a look at the picocli-examples module of the picocli GitHub project. A lot of the examples are about custom help. \r\nFor example, [this one](https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/customhelp/ShowCommandHierarchy.java) shows the full hierarchy of subcommands (and sub-subcommands) in the usage help of the top-level command. ","title":"picocli: show help if no parameter given","body":"<p>This is documented in the section on subcommands, <a href=\"https://picocli.info/#_required_subcommands\" rel=\"nofollow noreferrer\">Making Subcommands Required</a>.</p>\n<p>Essentially, do not implement Callable or Runnable in the top-level command. This makes it mandatory for end users to specify a subcommand. The manual has an example.</p>\n<p>About your second question, how to customize the usage help message, please take a look at the picocli-examples module of the picocli GitHub project. A lot of the examples are about custom help.\nFor example, <a href=\"https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/customhelp/ShowCommandHierarchy.java\" rel=\"nofollow noreferrer\">this one</a> shows the full hierarchy of subcommands (and sub-subcommands) in the usage help of the top-level command.</p>\n"},{"tags":[],"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685891465,"creation_date":1685891465,"answer_id":76401061,"question_id":69488821,"body_markdown":"You can also do this with `CommandSpec`, as shown in the [Git example in the picocli-examples repository](https://github.com/remkop/picocli/blob/main/picocli-examples/src/main/java/picocli/examples/git/Git.java). Just add `spec.commandLine().usage(System.err)` to the `call()`/`run()` method of your top-level command.\r\n\r\n```java\r\n@Command(name = &quot;cli&quot;, subcommands = {ShowUserCommand.class})\r\npublic class CLI implements Runnable {\r\n\r\n    @Option(names = {&quot;-h&quot;, &quot;--help&quot;}, usageHelp = true, description = &quot;Display this usage menu&quot;)\r\n    private boolean help;\r\n\r\n    @Spec\r\n    CommandSpec spec;\r\n\r\n    @Override\r\n    public void run() {\r\n        // print the help menu if no subcommand is passed\r\n        spec.commandLine().usage(System.err);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final int exitCode = new CommandLine(new CLI()).execute(args);\r\n        System.exit(exitCode);\r\n    }\r\n}\r\n\r\n@Command(name = &quot;show-user&quot;, description = &quot;Show the current user&quot;)\r\npublic class ShowUserCommand implements Runnable {\r\n    \r\n    @Option(names = {&quot;-h&quot;, &quot;--help&quot;}, usageHelp = true, description = &quot;Display this usage menu&quot;)\r\n    private boolean help;\r\n    \r\n    @Option(names = {&quot;-u&quot;, &quot;--uppercase&quot;}, description = &quot;Print the username as uppercase&quot;)\r\n    private boolean uppercase;\r\n\r\n    @Spec\r\n    CommandSpec spec;\r\n    \r\n    @Override\r\n    public void run() {\r\n        String username = System.getProperty(&quot;user.name&quot;);\r\n        System.out.println(&quot;User: &quot; + (uppercase ? username.toUpperCase() : username));\r\n    }\r\n}\r\n```\r\n\r\nExecuting the command without any parameters will print the help menu:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/dWJTN.png&quot; width=&quot;500&quot; /&gt;\r\n\r\nIn regards to your followup question, there doesn&#39;t seem to be a way to print the full help message (including options for the subcommands), it&#39;s required to pass the subcommand with `-h` to see the help for that specific subcommand.","title":"picocli: show help if no parameter given","body":"<p>You can also do this with <code>CommandSpec</code>, as shown in the <a href=\"https://github.com/remkop/picocli/blob/main/picocli-examples/src/main/java/picocli/examples/git/Git.java\" rel=\"nofollow noreferrer\">Git example in the picocli-examples repository</a>. Just add <code>spec.commandLine().usage(System.err)</code> to the <code>call()</code>/<code>run()</code> method of your top-level command.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Command(name = &quot;cli&quot;, subcommands = {ShowUserCommand.class})\npublic class CLI implements Runnable {\n\n    @Option(names = {&quot;-h&quot;, &quot;--help&quot;}, usageHelp = true, description = &quot;Display this usage menu&quot;)\n    private boolean help;\n\n    @Spec\n    CommandSpec spec;\n\n    @Override\n    public void run() {\n        // print the help menu if no subcommand is passed\n        spec.commandLine().usage(System.err);\n    }\n\n    public static void main(String[] args) {\n        final int exitCode = new CommandLine(new CLI()).execute(args);\n        System.exit(exitCode);\n    }\n}\n\n@Command(name = &quot;show-user&quot;, description = &quot;Show the current user&quot;)\npublic class ShowUserCommand implements Runnable {\n    \n    @Option(names = {&quot;-h&quot;, &quot;--help&quot;}, usageHelp = true, description = &quot;Display this usage menu&quot;)\n    private boolean help;\n    \n    @Option(names = {&quot;-u&quot;, &quot;--uppercase&quot;}, description = &quot;Print the username as uppercase&quot;)\n    private boolean uppercase;\n\n    @Spec\n    CommandSpec spec;\n    \n    @Override\n    public void run() {\n        String username = System.getProperty(&quot;user.name&quot;);\n        System.out.println(&quot;User: &quot; + (uppercase ? username.toUpperCase() : username));\n    }\n}\n</code></pre>\n<p>Executing the command without any parameters will print the help menu:</p>\n<img src=\"https://i.stack.imgur.com/dWJTN.png\" width=\"500\" />\n<p>In regards to your followup question, there doesn't seem to be a way to print the full help message (including options for the subcommands), it's required to pass the subcommand with <code>-h</code> to see the help for that specific subcommand.</p>\n"}],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1232,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69502973,"answer_count":2,"score":2,"last_activity_date":1685891465,"creation_date":1633649015,"question_id":69488821,"body_markdown":"I would like to show the help automatically when I run my  CLI app without parameters.\r\nI have seen that this question appears multiply times on StackOverflow. I spent significant time figuring this out, I have read the [official document][1], checked articles, but still not clear how to achieve this.\r\n\r\nThis is what I have:\r\n\r\n**Main class**\r\n```\r\n@Command(\r\n        subcommands = {C1.class, C2.class}\r\n)\r\npublic class HelloCli implements Callable&lt;Integer&gt;  {\r\n\r\n    @Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\r\n            usageHelp = true,\r\n            description = &quot;display this help message&quot;)\r\n    boolean usageHelpRequested;\r\n\r\n    @Override\r\n    public Integer call() throws Exception {\r\n        System.out.println(&quot;wanna show the help here&quot;);\r\n        return 1;\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        int exitCode = new CommandLine(new HelloCli()).execute(args);\r\n        System.exit(exitCode);\r\n    }\r\n}\r\n```\r\n\r\n**The class that handles the _show-user_ function:**\r\n```\r\n@CommandLine.Command(name = &quot;show-user&quot;,\r\n                     aliases = &quot;-show-user&quot;)\r\npublic class C1 implements Callable&lt;Integer&gt; {\r\n\r\n    @CommandLine.Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\r\n                        usageHelp = true,\r\n                        description = &quot;display this help message&quot;)\r\n    boolean usageHelpRequested;\r\n\r\n    @CommandLine.Option(names = {&quot;-p1&quot;},\r\n                        description = &quot;show-user: param 1&quot;)\r\n    String  p1;\r\n\r\n    @Override\r\n    public Integer call() throws Exception {\r\n        System.out.println(&quot;executing the &#39;show-user&#39; business logic...&quot;);\r\n        System.out.println(&quot;param 1: &quot; + p1);\r\n        return 4;\r\n    }\r\n}\r\n```\r\n\r\n**The class to handle the _create-user_ command:**\r\n```\r\n@CommandLine.Command(name = &quot;create-user&quot;,\r\n                     aliases = &quot;-create-user&quot;)\r\npublic class C2  implements Callable&lt;Integer&gt; {\r\n\r\n    @CommandLine.Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\r\n                        usageHelp = true,\r\n                        description = &quot;display this help message&quot;)\r\n    boolean usageHelpRequested;\r\n\r\n    @CommandLine.Option(names = {&quot;-p1&quot;},\r\n                        description = &quot;create-user: another param 1&quot;)\r\n    String  p1;\r\n\r\n    @Override\r\n    public Integer call() throws Exception {\r\n        System.out.println(&quot;executing the &#39;create-user&#39; business logic...&quot;);\r\n        System.out.println(&quot;param 1: &quot; + p1);\r\n        return 5;\r\n    }\r\n}\r\n```\r\n\r\n**Case 1: when I call this app with `-h` then the help is displayed properly:**\r\n```\r\nUsage: &lt;main class&gt; [?] [COMMAND]\r\n      ?, -h, --help   display this help message\r\nCommands:\r\n  show-user, -show-user\r\n  create-user, -create-user\r\n```\r\n\r\n**Case 2: showing help for the 1st function, calling `show-user -h`:**\r\n```\r\nUsage: &lt;main class&gt; show-user [?] [-p1=&lt;p1&gt;]\r\n      ?, -h, --help   display this help message\r\n      -p1=&lt;p1&gt;        show-user: param 1\r\n```\r\n\r\n**Case 3: chowing help for the 1st function, calling `create-user -h`:**\r\n```\r\nUsage: &lt;main class&gt; create-user [?] [-p1=&lt;p1&gt;]\r\n      ?, -h, --help   display this help message\r\n      -p1=&lt;p1&gt;        create-user: another param 1\r\n```\r\n\r\n**Case 4: calling my app without param shows this:**\r\n```\r\nwanna show the help here\r\n```\r\n\r\n**My question is simple:**\r\n\r\nHow to show the help when I run my CLI tool without params (`Case 4`)?\r\n\r\nI guess that I need to add custom code into the `HelloCli.call()` method with a loop that collects the help texts from the two classes that implement the functions. But not sure how. I have not found any sample code for this popular use case.\r\n\r\nMy additional question is similar to the first one:\r\nCan I show somehow the full help that is shown together everything from `Case 2` and `Case 3`?\r\n\r\n\r\n  [1]: https://picocli.info/","title":"picocli: show help if no parameter given","body":"<p>I would like to show the help automatically when I run my  CLI app without parameters.\nI have seen that this question appears multiply times on StackOverflow. I spent significant time figuring this out, I have read the <a href=\"https://picocli.info/\" rel=\"nofollow noreferrer\">official document</a>, checked articles, but still not clear how to achieve this.</p>\n<p>This is what I have:</p>\n<p><strong>Main class</strong></p>\n<pre><code>@Command(\n        subcommands = {C1.class, C2.class}\n)\npublic class HelloCli implements Callable&lt;Integer&gt;  {\n\n    @Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\n            usageHelp = true,\n            description = &quot;display this help message&quot;)\n    boolean usageHelpRequested;\n\n    @Override\n    public Integer call() throws Exception {\n        System.out.println(&quot;wanna show the help here&quot;);\n        return 1;\n    }\n\n    public static void main(String... args) {\n        int exitCode = new CommandLine(new HelloCli()).execute(args);\n        System.exit(exitCode);\n    }\n}\n</code></pre>\n<p><strong>The class that handles the <em>show-user</em> function:</strong></p>\n<pre><code>@CommandLine.Command(name = &quot;show-user&quot;,\n                     aliases = &quot;-show-user&quot;)\npublic class C1 implements Callable&lt;Integer&gt; {\n\n    @CommandLine.Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\n                        usageHelp = true,\n                        description = &quot;display this help message&quot;)\n    boolean usageHelpRequested;\n\n    @CommandLine.Option(names = {&quot;-p1&quot;},\n                        description = &quot;show-user: param 1&quot;)\n    String  p1;\n\n    @Override\n    public Integer call() throws Exception {\n        System.out.println(&quot;executing the 'show-user' business logic...&quot;);\n        System.out.println(&quot;param 1: &quot; + p1);\n        return 4;\n    }\n}\n</code></pre>\n<p><strong>The class to handle the <em>create-user</em> command:</strong></p>\n<pre><code>@CommandLine.Command(name = &quot;create-user&quot;,\n                     aliases = &quot;-create-user&quot;)\npublic class C2  implements Callable&lt;Integer&gt; {\n\n    @CommandLine.Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\n                        usageHelp = true,\n                        description = &quot;display this help message&quot;)\n    boolean usageHelpRequested;\n\n    @CommandLine.Option(names = {&quot;-p1&quot;},\n                        description = &quot;create-user: another param 1&quot;)\n    String  p1;\n\n    @Override\n    public Integer call() throws Exception {\n        System.out.println(&quot;executing the 'create-user' business logic...&quot;);\n        System.out.println(&quot;param 1: &quot; + p1);\n        return 5;\n    }\n}\n</code></pre>\n<p><strong>Case 1: when I call this app with <code>-h</code> then the help is displayed properly:</strong></p>\n<pre><code>Usage: &lt;main class&gt; [?] [COMMAND]\n      ?, -h, --help   display this help message\nCommands:\n  show-user, -show-user\n  create-user, -create-user\n</code></pre>\n<p><strong>Case 2: showing help for the 1st function, calling <code>show-user -h</code>:</strong></p>\n<pre><code>Usage: &lt;main class&gt; show-user [?] [-p1=&lt;p1&gt;]\n      ?, -h, --help   display this help message\n      -p1=&lt;p1&gt;        show-user: param 1\n</code></pre>\n<p><strong>Case 3: chowing help for the 1st function, calling <code>create-user -h</code>:</strong></p>\n<pre><code>Usage: &lt;main class&gt; create-user [?] [-p1=&lt;p1&gt;]\n      ?, -h, --help   display this help message\n      -p1=&lt;p1&gt;        create-user: another param 1\n</code></pre>\n<p><strong>Case 4: calling my app without param shows this:</strong></p>\n<pre><code>wanna show the help here\n</code></pre>\n<p><strong>My question is simple:</strong></p>\n<p>How to show the help when I run my CLI tool without params (<code>Case 4</code>)?</p>\n<p>I guess that I need to add custom code into the <code>HelloCli.call()</code> method with a loop that collects the help texts from the two classes that implement the functions. But not sure how. I have not found any sample code for this popular use case.</p>\n<p>My additional question is similar to the first one:\nCan I show somehow the full help that is shown together everything from <code>Case 2</code> and <code>Case 3</code>?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685912674,"post_id":76401031,"comment_id":134723630,"body_markdown":"Most likely the error is in the class `printDirectory`.","body":"Most likely the error is in the class <code>printDirectory</code>."}],"owner":{"account_id":26166704,"reputation":65,"user_id":19852405,"display_name":"Gabriel Gavrilov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685890988,"creation_date":1685890988,"question_id":76401031,"body_markdown":"I&#39;m trying to make a simple application that connects to an FTP server using Apache Commons. I&#39;m able to connect to the FTP server but Logcat won&#39;t print the directory. \r\n\r\nWhat am I doing wrong here? Rather than printing the directory, it just prints the traffic stats.\r\n\r\noutput\r\n```\r\n2023-06-04 08:55:26.356 25469-25496 System.out              com.example.ftpbuddy                 I  Client logged in!\r\n2023-06-04 08:55:26.366 25469-25496 TrafficStats            com.example.ftpbuddy                 D  tagSocket(114) with statsTag=0xffffffff, statsUid=-1\r\n2023-06-04 08:55:26.372 25469-25469 System.out              com.example.ftpbuddy                 I  Done...\r\n```\r\n\r\n**FTPServices.java**\r\n```\r\npackage com.example.ftpbuddy;\r\n\r\n\r\nimport android.os.AsyncTask;\r\nimport android.os.Debug;\r\n\r\nimport org.apache.commons.net.ftp.FTPClient;\r\nimport org.apache.commons.net.ftp.FTPFile;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class FTPServices  {\r\n\r\n    public void loginFtp(String host, int port, String username, String password) {\r\n        try {\r\n            FTPClient client = new login(host, port, username, password).execute().get();\r\n            FTPFile[] files = new printDirectory(client, &quot;/home/gabriel&quot;).execute().get();\r\n\r\n            for(int i = 0; i &lt; files.length; i++) {\r\n                System.out.println(&quot;&gt; &quot; + files[i].getName());\r\n            }\r\n\r\n            System.out.println(&quot;Done...&quot;);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public class login extends AsyncTask&lt;Void, Void, FTPClient&gt; {\r\n\r\n        private String host;\r\n        private String username;\r\n        private String password;\r\n        private int port;\r\n\r\n        login(String host, int port, String username, String password)\r\n        {\r\n            this.host = host;\r\n            this.port = port;\r\n            this.password = password;\r\n            this.username = username;\r\n        }\r\n        @Override\r\n        protected FTPClient doInBackground(Void... voids) {\r\n            try {\r\n                FTPClient client = new FTPClient();\r\n                client.connect(host, port);\r\n                client.login(username, password);\r\n                System.out.println(&quot;Client logged in!&quot;);\r\n\r\n                return client;\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public class printDirectory extends AsyncTask&lt;Void, Void, FTPFile[]&gt; {\r\n\r\n        private FTPClient client;\r\n        private String directory;\r\n\r\n        printDirectory(FTPClient client, String directory) {\r\n            this.client = client;\r\n            this.directory = directory;\r\n        }\r\n\r\n        @Override\r\n        protected FTPFile[] doInBackground(Void... voids) {\r\n            try {\r\n                FTPFile[] files = this.client.listFiles(this.directory);\r\n                return files;\r\n            } catch(Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**ConnectActivity.java**\r\n```\r\npackage com.example.ftpbuddy;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\nimport org.apache.commons.net.ftp.FTPClient;\r\n\r\npublic class ConnectActivity extends AppCompatActivity {\r\n    EditText etHost;\r\n    EditText etPort;\r\n    EditText etUsername;\r\n    EditText etPassword;\r\n    Button btnConnect;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_connect);\r\n\r\n        etHost = findViewById(R.id.etHost);\r\n        etPort = findViewById(R.id.etPort);\r\n        etUsername = findViewById(R.id.etUsername);\r\n        etPassword = findViewById(R.id.etPassword);\r\n        btnConnect = findViewById(R.id.btnConnect);\r\n\r\n        btnConnect.setOnClickListener(new ConnectButtonHandler());\r\n    }\r\n\r\n    public class ConnectButtonHandler implements View.OnClickListener {\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n            FTPServices services = new FTPServices();\r\n            services.loginFtp(\r\n                    etHost.getText().toString(),\r\n                    Integer.parseInt(etPort.getText().toString()),\r\n                    etUsername.getText().toString(),\r\n                    etPassword.getText().toString()\r\n            );\r\n\r\n\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI understand that AsyncTask is deprecated, and I&#39;m still very new to Android Development. I just don&#39;t understand why it doesn&#39;t print the file names in the given directory. \r\n\r\nIf someone could help guide me to the right direction, that would be great, thanks!","title":"How come Logcat only prints TrafficStats?","body":"<p>I'm trying to make a simple application that connects to an FTP server using Apache Commons. I'm able to connect to the FTP server but Logcat won't print the directory.</p>\n<p>What am I doing wrong here? Rather than printing the directory, it just prints the traffic stats.</p>\n<p>output</p>\n<pre><code>2023-06-04 08:55:26.356 25469-25496 System.out              com.example.ftpbuddy                 I  Client logged in!\n2023-06-04 08:55:26.366 25469-25496 TrafficStats            com.example.ftpbuddy                 D  tagSocket(114) with statsTag=0xffffffff, statsUid=-1\n2023-06-04 08:55:26.372 25469-25469 System.out              com.example.ftpbuddy                 I  Done...\n</code></pre>\n<p><strong>FTPServices.java</strong></p>\n<pre><code>package com.example.ftpbuddy;\n\n\nimport android.os.AsyncTask;\nimport android.os.Debug;\n\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPFile;\n\nimport java.io.IOException;\n\npublic class FTPServices  {\n\n    public void loginFtp(String host, int port, String username, String password) {\n        try {\n            FTPClient client = new login(host, port, username, password).execute().get();\n            FTPFile[] files = new printDirectory(client, &quot;/home/gabriel&quot;).execute().get();\n\n            for(int i = 0; i &lt; files.length; i++) {\n                System.out.println(&quot;&gt; &quot; + files[i].getName());\n            }\n\n            System.out.println(&quot;Done...&quot;);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public class login extends AsyncTask&lt;Void, Void, FTPClient&gt; {\n\n        private String host;\n        private String username;\n        private String password;\n        private int port;\n\n        login(String host, int port, String username, String password)\n        {\n            this.host = host;\n            this.port = port;\n            this.password = password;\n            this.username = username;\n        }\n        @Override\n        protected FTPClient doInBackground(Void... voids) {\n            try {\n                FTPClient client = new FTPClient();\n                client.connect(host, port);\n                client.login(username, password);\n                System.out.println(&quot;Client logged in!&quot;);\n\n                return client;\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n    }\n\n    public class printDirectory extends AsyncTask&lt;Void, Void, FTPFile[]&gt; {\n\n        private FTPClient client;\n        private String directory;\n\n        printDirectory(FTPClient client, String directory) {\n            this.client = client;\n            this.directory = directory;\n        }\n\n        @Override\n        protected FTPFile[] doInBackground(Void... voids) {\n            try {\n                FTPFile[] files = this.client.listFiles(this.directory);\n                return files;\n            } catch(Exception e) {\n                e.printStackTrace();\n            }\n\n            return null;\n        }\n    }\n\n}\n\n</code></pre>\n<p><strong>ConnectActivity.java</strong></p>\n<pre><code>package com.example.ftpbuddy;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport org.apache.commons.net.ftp.FTPClient;\n\npublic class ConnectActivity extends AppCompatActivity {\n    EditText etHost;\n    EditText etPort;\n    EditText etUsername;\n    EditText etPassword;\n    Button btnConnect;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_connect);\n\n        etHost = findViewById(R.id.etHost);\n        etPort = findViewById(R.id.etPort);\n        etUsername = findViewById(R.id.etUsername);\n        etPassword = findViewById(R.id.etPassword);\n        btnConnect = findViewById(R.id.btnConnect);\n\n        btnConnect.setOnClickListener(new ConnectButtonHandler());\n    }\n\n    public class ConnectButtonHandler implements View.OnClickListener {\n        @Override\n        public void onClick(View v) {\n\n            FTPServices services = new FTPServices();\n            services.loginFtp(\n                    etHost.getText().toString(),\n                    Integer.parseInt(etPort.getText().toString()),\n                    etUsername.getText().toString(),\n                    etPassword.getText().toString()\n            );\n\n\n        }\n    }\n\n}\n</code></pre>\n<p>I understand that AsyncTask is deprecated, and I'm still very new to Android Development. I just don't understand why it doesn't print the file names in the given directory.</p>\n<p>If someone could help guide me to the right direction, that would be great, thanks!</p>\n"},{"tags":["java","liquibase","liquibase-cli"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685900377,"post_id":76401026,"comment_id":134722274,"body_markdown":"Use / instead of \\ as a path separator. Even on Windows.","body":"Use / instead of \\ as a path separator. Even on Windows."},{"owner":{"account_id":27960048,"reputation":151,"user_id":21352044,"display_name":"PJatLiquibase"},"score":0,"creation_date":1685984389,"post_id":76401026,"comment_id":134734272,"body_markdown":"Does src\\main\\resources\\db-with-sample-data.xml have an include or reference to &quot;db-changelog.xml&quot;?","body":"Does src\\main\\resources\\db-with-sample-data.xml have an include or reference to &quot;db-changelog.xml&quot;?"},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1685988104,"post_id":76401026,"comment_id":134734921,"body_markdown":"@PJatLiquibase yes..","body":"@PJatLiquibase yes.."}],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685890943,"creation_date":1685890943,"question_id":76401026,"body_markdown":"I have observed a very strange behaviour when running Liquibase command (with `liquibase.exe` tool) from CMD terminal, on Windows.\r\n\r\nI have a project, that&#39;s structured as:\r\n```\r\nmy_project\r\n|-src\r\n  |-main\r\n    |-java\r\n    |-resources\r\n      |-db-with-sample-data.xml\r\n    |-webapp\r\n  |-test\r\n    |-java\r\n```\r\nNow, if I&#39;m in the `my_project` folder and I run:\r\n```\r\nliquibase --driver=com.mysql.cj.jdbc.Driver --classpath=&quot;C:\\mysql-connector-java-8.0.28.jar&quot; --changeLogFile=&quot;src\\main\\resources\\db-with-sample-data.xml&quot; --url=&quot;jdbc:mysql://localhost:3306/mydb&quot; --username=user --password=password update\r\n```\r\nI get:\r\n```\r\nUnexpected error running Liquibase: The file db-changelog.xml was not found in the configured search path:\r\n    - C:\\projects\\my_project\r\n    - ...(other default paths)\r\n```\r\nand if I run:\r\n```\r\nliquibase --driver=com.mysql.cj.jdbc.Driver --classpath=&quot;C:\\mysql-connector-java-8.0.28.jar&quot; --changeLogFile=&quot;sr\\main\\resources\\db-with-sample-data.xml&quot; --url=&quot;jdbc:mysql://localhost:3306/mydb&quot; --username=user --password=password update\r\n```\r\n(**pay attention!** I changed `src` to `sr`)\r\n\r\nthen I get:\r\n```\r\nUnexpected error running Liquibase: The file sr\\main\\resources\\db-with-sample-data.xml was not found in the configured search path:\r\n    - C:\\projects\\my_project\r\n    - ...(other default paths)\r\n```\r\n\r\nOk, I see, that `Liquibse`, by default, looks for the `--changeLogFile` value **relative to the folder** I run it (because I see where it&#39;s looking for for the --changeLogFile value after every run of the liquibase.exe command).\r\n\r\nBut, why in the first case it reports, it could not find `db-changelog.xml` and in the second one (when I just removed one letter `c`) - it then properly parses the `--changeLogFile` value?","title":"Liquibase looks for &quot;db-changelog.xml&quot; file even when the --changeLogFile option refers to the different file","body":"<p>I have observed a very strange behaviour when running Liquibase command (with <code>liquibase.exe</code> tool) from CMD terminal, on Windows.</p>\n<p>I have a project, that's structured as:</p>\n<pre><code>my_project\n|-src\n  |-main\n    |-java\n    |-resources\n      |-db-with-sample-data.xml\n    |-webapp\n  |-test\n    |-java\n</code></pre>\n<p>Now, if I'm in the <code>my_project</code> folder and I run:</p>\n<pre><code>liquibase --driver=com.mysql.cj.jdbc.Driver --classpath=&quot;C:\\mysql-connector-java-8.0.28.jar&quot; --changeLogFile=&quot;src\\main\\resources\\db-with-sample-data.xml&quot; --url=&quot;jdbc:mysql://localhost:3306/mydb&quot; --username=user --password=password update\n</code></pre>\n<p>I get:</p>\n<pre><code>Unexpected error running Liquibase: The file db-changelog.xml was not found in the configured search path:\n    - C:\\projects\\my_project\n    - ...(other default paths)\n</code></pre>\n<p>and if I run:</p>\n<pre><code>liquibase --driver=com.mysql.cj.jdbc.Driver --classpath=&quot;C:\\mysql-connector-java-8.0.28.jar&quot; --changeLogFile=&quot;sr\\main\\resources\\db-with-sample-data.xml&quot; --url=&quot;jdbc:mysql://localhost:3306/mydb&quot; --username=user --password=password update\n</code></pre>\n<p>(<strong>pay attention!</strong> I changed <code>src</code> to <code>sr</code>)</p>\n<p>then I get:</p>\n<pre><code>Unexpected error running Liquibase: The file sr\\main\\resources\\db-with-sample-data.xml was not found in the configured search path:\n    - C:\\projects\\my_project\n    - ...(other default paths)\n</code></pre>\n<p>Ok, I see, that <code>Liquibse</code>, by default, looks for the <code>--changeLogFile</code> value <strong>relative to the folder</strong> I run it (because I see where it's looking for for the --changeLogFile value after every run of the liquibase.exe command).</p>\n<p>But, why in the first case it reports, it could not find <code>db-changelog.xml</code> and in the second one (when I just removed one letter <code>c</code>) - it then properly parses the <code>--changeLogFile</code> value?</p>\n"},{"tags":["java","shell","jar","nohup","dev-null"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685785373,"post_id":76394570,"comment_id":134712095,"body_markdown":"What&#39;s in the output files with `java -cp jar_file1.jar:jar_file2.jar MyJavaCode &gt;output.log 2&gt; error.log`? i.e. don&#39;t worry about backgrounding it until, **a.** the basic command is correct and **b.** you have proved it will run correctly in the foreground. And *cd ${DIR}* would be better as `cd &quot;$DIR&quot;`","body":"What&#39;s in the output files with <code>java -cp jar_file1.jar:jar_file2.jar MyJavaCode &gt;output.log 2&gt; error.log</code>? i.e. don&#39;t worry about backgrounding it until, <b>a.</b> the basic command is correct and <b>b.</b> you have proved it will run correctly in the foreground. And <i>cd ${DIR}</i> would be better as <code>cd &quot;$DIR&quot;</code>"},{"owner":{"account_id":21729533,"reputation":74,"user_id":16038483,"display_name":"Mohammad Javad"},"score":0,"creation_date":1685796432,"post_id":76394570,"comment_id":134713092,"body_markdown":"You can use &#39;tmux&#39; to run in the background.","body":"You can use &#39;tmux&#39; to run in the background."},{"owner":{"account_id":21729533,"reputation":74,"user_id":16038483,"display_name":"Mohammad Javad"},"score":0,"creation_date":1685796516,"post_id":76394570,"comment_id":134713098,"body_markdown":"To install it in Linux:\n  `sudo apt-get install tmux`","body":"To install it in Linux:   <code>sudo apt-get install tmux</code>"},{"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"score":0,"creation_date":1685805200,"post_id":76394570,"comment_id":134713975,"body_markdown":"@user16320675 If I run like java ... MyjavaClass, I recceived following error \nError: could not find or load main class MyjavaClass\ncaused by: java.langNoClassDefFoundError: path/to/JavaClass (wrong name: MyjavaClass)","body":"@user16320675 If I run like java ... MyjavaClass, I recceived following error  Error: could not find or load main class MyjavaClass caused by: java.langNoClassDefFoundError: path/to/JavaClass (wrong name: MyjavaClass)"},{"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"score":0,"creation_date":1685805509,"post_id":76394570,"comment_id":134714014,"body_markdown":"@g00se I had my intended output lines in my output.log file, and I saw no errors.","body":"@g00se I had my intended output lines in my output.log file, and I saw no errors."},{"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"score":0,"creation_date":1685808177,"post_id":76394570,"comment_id":134714282,"body_markdown":"@user16320675, please accept my apologies. MyJavaCode is the name. I tried the command &quot;java -cp path/to/jar1.jar:path/to/jar2.jar MyJavaCode&quot; and received the following&#160;errors:&#160;\n&quot;Could not find or load main class MyJavaCode.&#160;\nCaused by: java.langNoClassDefFoundError: path/to/JavaClass (wrong name: MyJavaCode)&quot;.\nMyJavaCode.class can be found in my directory.","body":"@user16320675, please accept my apologies. MyJavaCode is the name. I tried the command &quot;java -cp path/to/jar1.jar:path/to/jar2.jar MyJavaCode&quot; and received the following errors:  &quot;Could not find or load main class MyJavaCode.  Caused by: java.langNoClassDefFoundError: path/to/JavaClass (wrong name: MyJavaCode)&quot;. MyJavaCode.class can be found in my directory."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685808209,"post_id":76394570,"comment_id":134714285,"body_markdown":"Then there&#39;s no reason you can&#39;t background it. Prefer `tmux` over `nohup` or better still, if it&#39;s a service then use a service wrapper","body":"Then there&#39;s no reason you can&#39;t background it. Prefer <code>tmux</code> over <code>nohup</code> or better still, if it&#39;s a service then use a service wrapper"},{"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"score":0,"creation_date":1685890559,"post_id":76394570,"comment_id":134721085,"body_markdown":"@user16320675 Now I have changed eeerything to jar. \nWhen I use the command &#39;&#39;&#39;java -jar Myjar.jar&#39;&#39;&#39;, the code runs well. However, when I try to run it in the background using the command &#39;&#39;&#39;nohup java -jar Mylar.jar &amp;&#39;&#39;&#39;, it fails.","body":"@user16320675 Now I have changed eeerything to jar.  When I use the command &#39;&#39;&#39;java -jar Myjar.jar&#39;&#39;&#39;, the code runs well. However, when I try to run it in the background using the command &#39;&#39;&#39;nohup java -jar Mylar.jar &amp;&#39;&#39;&#39;, it fails."}],"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685890606,"creation_date":1685766922,"question_id":76394570,"body_markdown":"My SH file:\r\n```sh\r\n#!/bin/bash\r\n\r\nDIR=&quot;$(dirname &quot;$(readlink -f &quot;$0&quot;)&quot;)/&quot;\r\n\r\ncd &quot;$DIR&quot;\r\n\r\njavac -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\r\n\r\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\r\n\r\necho &quot;JAVA_KAFKA script running now&quot;\r\n```\r\nThe above code is my SH script, and I&#39;m not able to run it in the background. \r\n\r\nWe tried it using the following command:\r\n```sh\r\nnohup java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java &gt; output.log 2&gt; error.log &amp;\r\n\r\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java &gt; /dev/null 2&gt;&amp;1 &amp;\r\n```\r\nIf I run this command, it triggers the script, and the script starts running, but after 5 seconds, the script stops running.\r\n\r\n```none\r\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\r\n```\r\nIf I run this command without `nohup` and\r\n`/dev/null 2&gt;&amp;1 &amp;` manually in the terminal, and it&#39;s working fine. How can I run this in the background?","title":"Not able to run java code in the background using sh file","body":"<p>My SH file:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nDIR=&quot;$(dirname &quot;$(readlink -f &quot;$0&quot;)&quot;)/&quot;\n\ncd &quot;$DIR&quot;\n\njavac -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\n\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\n\necho &quot;JAVA_KAFKA script running now&quot;\n</code></pre>\n<p>The above code is my SH script, and I'm not able to run it in the background.</p>\n<p>We tried it using the following command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>nohup java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java &gt; output.log 2&gt; error.log &amp;\n\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java &gt; /dev/null 2&gt;&amp;1 &amp;\n</code></pre>\n<p>If I run this command, it triggers the script, and the script starts running, but after 5 seconds, the script stops running.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\n</code></pre>\n<p>If I run this command without <code>nohup</code> and\n<code>/dev/null 2&gt;&amp;1 &amp;</code> manually in the terminal, and it's working fine. How can I run this in the background?</p>\n"},{"tags":["java","runtime-error","classpath","javacompiler","java-package"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685865039,"post_id":76399323,"comment_id":134718486,"body_markdown":"Looks like your class argument should be `com.quotemedia.streamer.client.example.EnduserCredentialExample`","body":"Looks like your class argument should be <code>com.quotemedia.streamer.client.example.EnduserCredentialExam&zwnj;&#8203;ple</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685865703,"post_id":76399323,"comment_id":134718552,"body_markdown":"All details relevant to your question must be in the question.  Hint: your question will become meaningless to others the instant that your google drive links are disabled.","body":"All details relevant to your question must be in the question.  Hint: your question will become meaningless to others the instant that your google drive links are disabled."},{"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"score":0,"creation_date":1685867339,"post_id":76399323,"comment_id":134718694,"body_markdown":"@g00se When I try below command \n\n`java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; com/quotemedia/streamer/client/example/EnduserCredentialExampl`\n\nIm getting following error,\n\nError: LinkageError occurred while loading main class com.quotemedia.streamer.client.example.EnduserCredentialExample\n\tjava.lang.UnsupportedClassVersionError: Preview features are not enabled for com/quotemedia/streamer/client/example/EnduserCredentialExample (class file version 61.65535). Try running with &#39;--enable-preview&#39;","body":"@g00se When I try below command   <code>java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-jav&zwnj;&#8203;a-1.1.10.0.jar:lz4-j&zwnj;&#8203;ava-1.8.0.jar:slf4j-&zwnj;&#8203;api-2.0.7.jar:.&quot; com&#47;quotemedia&#47;streamer&#47;client&#47;example&#47;EnduserCredentialExam&zwnj;&#8203;pl</code>  Im getting following error,  Error: LinkageError occurred while loading main class com.quotemedia.streamer.client.example.EnduserCredentialExam&zwnj;&#8203;ple \tjava.lang.UnsupportedClassVersionError: Preview features are not enabled for com/quotemedia/streamer/client/example/EnduserCredentialExam&zwnj;&#8203;ple (class file version 61.65535). Try running with &#39;--enable-preview&#39;"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685867961,"post_id":76399323,"comment_id":134718744,"body_markdown":"Navethaneeth - You don&#39;t get it.  Please don&#39;t give us links to your Google Drive. Not in the question.  Not in the comments.  **Not at all**.","body":"Navethaneeth - You don&#39;t get it.  Please don&#39;t give us links to your Google Drive. Not in the question.  Not in the comments.  <b>Not at all</b>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685868086,"post_id":76399323,"comment_id":134718752,"body_markdown":"You didn&#39;t use what I gave you","body":"You didn&#39;t use what I gave you"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685869549,"creation_date":1685868968,"answer_id":76399603,"question_id":76399323,"body_markdown":"You appear to be making a number of mistakes ...\r\n\r\nFirstly you appear to be ignoring warnings about unchecked / unsafe conversions:\r\n\r\n    Note: EnduserCredentialExample.java uses unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n\r\nYou need to do what the message says.  Recompile that class with the `-Xlint:unchecked` option.  Then read the error messages and correct your source code.  \r\n\r\n(Hint: I am NOT going to look at your Google drive to figure out errors are.  You know what you need to do about that.  I have told you ... twice already!!)\r\n\r\n----------------\r\n\r\nNext we have this error\r\n\r\n    Error: Could not find or load main class EnduserCredentialExample \r\n        Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample \r\n        (wrong name: EnduserCredentialExample)\r\n\r\nThat means that there is a mismatch between the package name of the class and its pathname in the file system.  See this Q&amp;A for an explanation:\r\n\r\n  - https://stackoverflow.com/questions/7509295/\r\n\r\n-----------------------------\r\n\r\nFinally we have this error:\r\n\r\n    Error: LinkageError occurred while loading main class com.quotemedia.streamer.client.example.EnduserCredentialExample java.lang.UnsupportedClassVersionError: \r\n    Preview features are not enabled for com/quotemedia/streamer/client/example/EnduserCredentialExample (class file version 61.65535). \r\n    Try running with &#39;--enable-preview&#39;\r\n\r\nIt appears that you have (previously) compiled `EnduserCredentialExample` with Java 17 preview features enabled.  That&#39;s OK ... but you also need to include `--enable-preview` in the `java` command line options when you load and run the class.  This Q&amp;A may help you understand:\r\n\r\n  - https://stackoverflow.com/questions/67164057\r\n\r\nUnless you are intentionally using preview features in your code, it is inadvisable to enable them at compile time.\r\n","title":"Java Error: Could not find or load main class, Caused by: java.lang.NoClassDefFoundError","body":"<p>You appear to be making a number of mistakes ...</p>\n<p>Firstly you appear to be ignoring warnings about unchecked / unsafe conversions:</p>\n<pre><code>Note: EnduserCredentialExample.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n</code></pre>\n<p>You need to do what the message says.  Recompile that class with the <code>-Xlint:unchecked</code> option.  Then read the error messages and correct your source code.</p>\n<p>(Hint: I am NOT going to look at your Google drive to figure out errors are.  You know what you need to do about that.  I have told you ... twice already!!)</p>\n<hr />\n<p>Next we have this error</p>\n<pre><code>Error: Could not find or load main class EnduserCredentialExample \n    Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample \n    (wrong name: EnduserCredentialExample)\n</code></pre>\n<p>That means that there is a mismatch between the package name of the class and its pathname in the file system.  See this Q&amp;A for an explanation:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7509295/\">NoClassDefFoundError: wrong name</a></li>\n</ul>\n<hr />\n<p>Finally we have this error:</p>\n<pre><code>Error: LinkageError occurred while loading main class com.quotemedia.streamer.client.example.EnduserCredentialExample java.lang.UnsupportedClassVersionError: \nPreview features are not enabled for com/quotemedia/streamer/client/example/EnduserCredentialExample (class file version 61.65535). \nTry running with '--enable-preview'\n</code></pre>\n<p>It appears that you have (previously) compiled <code>EnduserCredentialExample</code> with Java 17 preview features enabled.  That's OK ... but you also need to include <code>--enable-preview</code> in the <code>java</code> command line options when you load and run the class.  This Q&amp;A may help you understand:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/67164057\">How to remove --enable-preview in Java 16?</a></li>\n</ul>\n<p>Unless you are intentionally using preview features in your code, it is inadvisable to enable them at compile time.</p>\n"}],"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685889763,"creation_date":1685863041,"question_id":76399323,"body_markdown":"\r\n\r\n### Compiled \r\n\r\nI&#39;ve compiled the java code, but I&#39;m not able to run it. I compiled the code with the following:\r\n\r\n```\r\njavac -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample.java\r\n```\r\n\r\nCurrently, I&#39;m getting this output:\r\n\r\n```\r\nNote: EnduserCredentialExample.java uses unchecked or unsafe operations. \r\nNote: Recompile with -Xlint:unchecked for details. \r\n```\r\n\r\n### Tried running the compiled class\r\n\r\nI also tried running with another approach:\r\n\r\n```\r\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample\r\n```\r\n\r\nWhich, unfortunately, produces the following error:\r\n\r\n```\r\nError: Could not find or load main class EnduserCredentialExample Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample (wrong name: EnduserCredentialExample)\r\n```\r\n\r\nAnd then I also tried running the code using .java (I added **.java** to it):\r\n\r\n```\r\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample.java\r\n```\r\n\r\nBut this worked when running the normal java code but when I tried running the compiled class, I got this error:\r\n\r\n```\r\nError: Could not find or load main class EnduserCredentialExample Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample (wrong name: EnduserCredentialExample)\r\n```","title":"Java Error: Could not find or load main class, Caused by: java.lang.NoClassDefFoundError","body":"<h3>Compiled</h3>\n<p>I've compiled the java code, but I'm not able to run it. I compiled the code with the following:</p>\n<pre><code>javac -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample.java\n</code></pre>\n<p>Currently, I'm getting this output:</p>\n<pre><code>Note: EnduserCredentialExample.java uses unchecked or unsafe operations. \nNote: Recompile with -Xlint:unchecked for details. \n</code></pre>\n<h3>Tried running the compiled class</h3>\n<p>I also tried running with another approach:</p>\n<pre><code>java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample\n</code></pre>\n<p>Which, unfortunately, produces the following error:</p>\n<pre><code>Error: Could not find or load main class EnduserCredentialExample Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample (wrong name: EnduserCredentialExample)\n</code></pre>\n<p>And then I also tried running the code using .java (I added <strong>.java</strong> to it):</p>\n<pre><code>java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample.java\n</code></pre>\n<p>But this worked when running the normal java code but when I tried running the compiled class, I got this error:</p>\n<pre><code>Error: Could not find or load main class EnduserCredentialExample Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample (wrong name: EnduserCredentialExample)\n</code></pre>\n"},{"tags":["java","gwt","vaadin","vaadin8","vaadin-grid"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685889314,"creation_date":1685889314,"answer_id":76400906,"question_id":76400705,"body_markdown":"There was `ecj` dependency, that came here with the `jasperreports` dependency like that:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BNRqb.png\r\n\r\nso had to find what exactly was adding it and exclude from that dependency:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.openpayment&lt;/groupId&gt;\r\n                &lt;artifactId&gt;payment-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n    &lt;!--                &lt;exclusion&gt;--&gt;\r\n    &lt;!--                        &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;--&gt;\r\n    &lt;!--                        &lt;artifactId&gt;ecj&lt;/artifactId&gt;--&gt;\r\n    &lt;!--                &lt;/exclusion&gt;--&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;ecj&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;              \r\n            &lt;/dependency&gt;\r\n\r\n","title":"Widgetset can&#39;t be compiled for com.vaadin:grid-renderers-collection-addon:2.7.0 and Vaadin 8.10.1","body":"<p>There was <code>ecj</code> dependency, that came here with the <code>jasperreports</code> dependency like that:</p>\n<p><a href=\"https://i.stack.imgur.com/BNRqb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BNRqb.png\" alt=\"enter image description here\" /></a></p>\n<p>so had to find what exactly was adding it and exclude from that dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.openpayment&lt;/groupId&gt;\n            &lt;artifactId&gt;payment-impl&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n&lt;!--                &lt;exclusion&gt;--&gt;\n&lt;!--                        &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;--&gt;\n&lt;!--                        &lt;artifactId&gt;ecj&lt;/artifactId&gt;--&gt;\n&lt;!--                &lt;/exclusion&gt;--&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\n                    &lt;artifactId&gt;ecj&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;              \n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685889314,"creation_date":1685886331,"question_id":76400705,"body_markdown":"In our Vaadin 8.10.1 project we need to set up CheckboxRenderer in grid, that&#39;s why we have added:\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grid-renderers-collection-addon&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nbecause it is compatible with Vaadin 8.10.1 according to the compatibility matrix: https://vaadin.com/directory/component/grid-renderers-collection-for-vaadin7\r\n\r\nFor the grid I coded:\r\n\r\n    Setter&lt;Payment, Boolean&gt; setter = new Setter&lt;Payment, Boolean&gt;() {\r\n        @Override\r\n        public void accept(Payment s, Boolean aBoolean) {\r\n    \r\n        }\r\n    };\r\n    CheckboxRenderer renderer = new CheckboxRenderer(setter);\r\n    paymentGrid.addColumn(Payment::getSelectedToMultiAction).setRenderer(renderer).setCaption(&quot;&quot;);\r\n    \r\n    renderer.addClickListener(event -&gt; {\r\n        Payment toBeAdded = (Payment) event.getItem();\r\n        if (toBeAdded.getSelectedToMultiAction()) {\r\n            selectedPayments.add(toBeAdded);\r\n        } else {\r\n            selectedPayments.remove(toBeAdded);\r\n        }\r\n    });\r\n\r\nThere was no way for the version `2.7.0` to initialize the `CheckboxRenderer` rather than passing a `Setter` object for it (I&#39;m not sure that I&#39;m initializing it correctly, as I haven&#39;t fount any example on using the `Setter`)\r\n\r\nWidgetset set up is:\r\n\r\n    @SpringUI\r\n    @Theme(&quot;valo-ps&quot;)\r\n    @Widgetset(&quot;com.vaadin.v7.Vaadin7WidgetSet&quot;)\r\n    @StyleSheet({&quot;https://fonts.googleapis.com/css?family=Roboto&quot;})\r\n\r\nand `gwt-dev` is `2.8.2`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I compile my code with \r\n\r\n    --- vaadin-maven-plugin:8.10.1:compile (default)\r\n\r\ni see the output about several widgetsets:\r\n\r\n    [INFO] Widgetsets found from classpath:\r\n    [INFO] \torg.vaadin.teemu.ratingstars.gwt.RatingStarsWidgetset in jar:file:D:/m2repository/org/vaadin/addons/ratingstars/2.1/ratingstars-2.1.jar!/\r\n    [INFO] \torg.vaadin.sparklines.SparklinesWidgetset in jar:file:D:/m2repository/org/vaadin/addons/sparklines/7.0.2/sparklines-7.0.2.jar!/\r\n    [INFO] \tcom.vaadin.DefaultWidgetSet in jar:file:D:/m2repository/com/vaadin/vaadin-client/8.10.1/vaadin-client-8.10.1.jar!/\r\n    [INFO] \torg.vaadin.grid.cellrenderers.RenderersCollectionWidgetSet in jar:file:D:/m2repository/com/vaadin/grid-renderers-collection-addon/2.7.0/grid-renderers-collection-addon-2.7.0.jar!/\r\n    [INFO] Addon styles found from classpath:\r\n    [INFO] \tVAADIN/addons/app-layout/app-layout.scss in jar:file:D:/m2repository/com/github/appreciated/app-layout-addon/1.0.2/app-layout-addon-1.0.2.jar!/\r\n\r\n\r\nand finally it fails with \r\n\r\n    [INFO] auto discovered modules [AppWidgetset]\r\n    [INFO] Compiling module AppWidgetset\r\n    [INFO] [ERROR] An internal compiler exception occurred\r\n    [INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.translateException(GwtAstBuilder.java:3997)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2169)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.TryStatement.traverse(TryStatement.java:1244)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse(MethodDeclaration.java:369)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse(TypeDeclaration.java:1479)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.processImpl(GwtAstBuilder.java:3933)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.process(GwtAstBuilder.java:3971)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater$UnitProcessorImpl.process(CompilationStateBuilder.java:129)\r\n    [INFO] \tat com.google.gwt.dev.javac.JdtCompiler$CompilerImpl.process(JdtCompiler.java:336)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:575)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\r\n    [INFO] \tat com.google.gwt.dev.javac.JdtCompiler.doCompile(JdtCompiler.java:1040)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater.compile(CompilationStateBuilder.java:325)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.doBuildFrom(CompilationStateBuilder.java:548)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:479)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:465)\r\n    [INFO] \tat com.google.gwt.dev.cfg.ModuleDef.getCompilationState(ModuleDef.java:423)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:222)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:202)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:143)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:204)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:155)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:144)\r\n    [INFO] \tat com.google.gwt.dev.Compiler$1.run(Compiler.java:118)\r\n    [INFO] \tat com.google.gwt.dev.CompileTaskRunner.doRun(CompileTaskRunner.java:55)\r\n    [INFO] \tat com.google.gwt.dev.CompileTaskRunner.runWithAppropriateLogger(CompileTaskRunner.java:50)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.main(Compiler.java:125)\r\n    [INFO] Caused by: java.lang.NoSuchFieldError: resources\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2144)\r\n    [INFO] \t... 26 more\r\n    [INFO]    [ERROR] at DateTimeService.java(87): try\r\n    [INFO]   {\r\n    [INFO]     return LocaleService.getMonthNames(locale)[month];\r\n    [INFO]   }\r\n    [INFO] catch (final LocaleNotLoadedException e)\r\n    [INFO]   {\r\n    [INFO]     getLogger().log(Level.SEVERE, &quot;Error in getMonth&quot;, e);\r\n    [INFO]     return null;\r\n    [INFO]   }\r\n    [INFO]       org.eclipse.jdt.internal.compiler.ast.TryStatement\r\n\r\nSo, what could be the root cause of the problem and what could be the workaround?\r\n\r\nPS&gt; sometime with no explicit change in any configuratio, Im getting another error:\r\n\r\n    [INFO] --- vaadin-maven-plugin:8.10.1:compile (default) @ payment-web ---\r\n    [INFO] auto discovered modules [AppWidgetset]\r\n    [INFO] Compiling module AppWidgetset\r\n    [INFO] [ERROR] An internal compiler exception occurred\r\n    [INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.translateException(GwtAstBuilder.java:3997)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2169)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.TryStatement.traverse(TryStatement.java:1244)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse(MethodDeclaration.java:369)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse(TypeDeclaration.java:1479)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.processImpl(GwtAstBuilder.java:3933)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.process(GwtAstBuilder.java:3971)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater$UnitProcessorImpl.process(CompilationStateBuilder.java:129)\r\n    [INFO] \tat com.google.gwt.dev.javac.JdtCompiler$CompilerImpl.process(JdtCompiler.java:336)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:575)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\r\n    [INFO] \tat com.google.gwt.dev.javac.JdtCompiler.doCompile(JdtCompiler.java:1040)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater.compile(CompilationStateBuilder.java:325)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.doBuildFrom(CompilationStateBuilder.java:548)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:479)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:465)\r\n    [INFO] \tat com.google.gwt.dev.cfg.ModuleDef.getCompilationState(ModuleDef.java:423)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:222)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:202)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:143)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:204)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:155)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:144)\r\n    [INFO] \tat com.google.gwt.dev.Compiler$1.run(Compiler.java:118)\r\n    [INFO] \tat com.google.gwt.dev.CompileTaskRunner.doRun(CompileTaskRunner.java:55)\r\n    [INFO] \tat com.google.gwt.dev.CompileTaskRunner.runWithAppropriateLogger(CompileTaskRunner.java:50)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.main(Compiler.java:125)\r\n    [INFO] Caused by: java.lang.NoSuchFieldError: resources\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2144)\r\n    [INFO] \t... 26 more\r\n    [INFO]    [ERROR] at DecimalMinValidatorForString.java(35): try\r\n    [INFO]   {\r\n    [INFO]     bigValue = new BigDecimal(value);\r\n    [INFO]   }\r\n    [INFO] catch (NumberFormatException e)\r\n    [INFO]   {\r\n    [INFO]     return false;\r\n    [INFO]   }\r\n    [INFO]       org.eclipse.jdt.internal.compiler.ast.TryStatement\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CKIbV.png","title":"Widgetset can&#39;t be compiled for com.vaadin:grid-renderers-collection-addon:2.7.0 and Vaadin 8.10.1","body":"<p>In our Vaadin 8.10.1 project we need to set up CheckboxRenderer in grid, that's why we have added:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n        &lt;artifactId&gt;grid-renderers-collection-addon&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>because it is compatible with Vaadin 8.10.1 according to the compatibility matrix: <a href=\"https://vaadin.com/directory/component/grid-renderers-collection-for-vaadin7\" rel=\"nofollow noreferrer\">https://vaadin.com/directory/component/grid-renderers-collection-for-vaadin7</a></p>\n<p>For the grid I coded:</p>\n<pre><code>Setter&lt;Payment, Boolean&gt; setter = new Setter&lt;Payment, Boolean&gt;() {\n    @Override\n    public void accept(Payment s, Boolean aBoolean) {\n\n    }\n};\nCheckboxRenderer renderer = new CheckboxRenderer(setter);\npaymentGrid.addColumn(Payment::getSelectedToMultiAction).setRenderer(renderer).setCaption(&quot;&quot;);\n\nrenderer.addClickListener(event -&gt; {\n    Payment toBeAdded = (Payment) event.getItem();\n    if (toBeAdded.getSelectedToMultiAction()) {\n        selectedPayments.add(toBeAdded);\n    } else {\n        selectedPayments.remove(toBeAdded);\n    }\n});\n</code></pre>\n<p>There was no way for the version <code>2.7.0</code> to initialize the <code>CheckboxRenderer</code> rather than passing a <code>Setter</code> object for it (I'm not sure that I'm initializing it correctly, as I haven't fount any example on using the <code>Setter</code>)</p>\n<p>Widgetset set up is:</p>\n<pre><code>@SpringUI\n@Theme(&quot;valo-ps&quot;)\n@Widgetset(&quot;com.vaadin.v7.Vaadin7WidgetSet&quot;)\n@StyleSheet({&quot;https://fonts.googleapis.com/css?family=Roboto&quot;})\n</code></pre>\n<p>and <code>gwt-dev</code> is <code>2.8.2</code></p>\n<p><a href=\"https://i.stack.imgur.com/CKIbV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKIbV.png\" alt=\"enter image description here\" /></a></p>\n<p>When I compile my code with</p>\n<pre><code>--- vaadin-maven-plugin:8.10.1:compile (default)\n</code></pre>\n<p>i see the output about several widgetsets:</p>\n<pre><code>[INFO] Widgetsets found from classpath:\n[INFO]  org.vaadin.teemu.ratingstars.gwt.RatingStarsWidgetset in jar:file:D:/m2repository/org/vaadin/addons/ratingstars/2.1/ratingstars-2.1.jar!/\n[INFO]  org.vaadin.sparklines.SparklinesWidgetset in jar:file:D:/m2repository/org/vaadin/addons/sparklines/7.0.2/sparklines-7.0.2.jar!/\n[INFO]  com.vaadin.DefaultWidgetSet in jar:file:D:/m2repository/com/vaadin/vaadin-client/8.10.1/vaadin-client-8.10.1.jar!/\n[INFO]  org.vaadin.grid.cellrenderers.RenderersCollectionWidgetSet in jar:file:D:/m2repository/com/vaadin/grid-renderers-collection-addon/2.7.0/grid-renderers-collection-addon-2.7.0.jar!/\n[INFO] Addon styles found from classpath:\n[INFO]  VAADIN/addons/app-layout/app-layout.scss in jar:file:D:/m2repository/com/github/appreciated/app-layout-addon/1.0.2/app-layout-addon-1.0.2.jar!/\n</code></pre>\n<p>and finally it fails with</p>\n<pre><code>[INFO] auto discovered modules [AppWidgetset]\n[INFO] Compiling module AppWidgetset\n[INFO] [ERROR] An internal compiler exception occurred\n[INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.translateException(GwtAstBuilder.java:3997)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2169)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.TryStatement.traverse(TryStatement.java:1244)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse(MethodDeclaration.java:369)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse(TypeDeclaration.java:1479)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.processImpl(GwtAstBuilder.java:3933)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.process(GwtAstBuilder.java:3971)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater$UnitProcessorImpl.process(CompilationStateBuilder.java:129)\n[INFO]  at com.google.gwt.dev.javac.JdtCompiler$CompilerImpl.process(JdtCompiler.java:336)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:575)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\n[INFO]  at com.google.gwt.dev.javac.JdtCompiler.doCompile(JdtCompiler.java:1040)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater.compile(CompilationStateBuilder.java:325)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.doBuildFrom(CompilationStateBuilder.java:548)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:479)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:465)\n[INFO]  at com.google.gwt.dev.cfg.ModuleDef.getCompilationState(ModuleDef.java:423)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:222)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:202)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:143)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:204)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:155)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:144)\n[INFO]  at com.google.gwt.dev.Compiler$1.run(Compiler.java:118)\n[INFO]  at com.google.gwt.dev.CompileTaskRunner.doRun(CompileTaskRunner.java:55)\n[INFO]  at com.google.gwt.dev.CompileTaskRunner.runWithAppropriateLogger(CompileTaskRunner.java:50)\n[INFO]  at com.google.gwt.dev.Compiler.main(Compiler.java:125)\n[INFO] Caused by: java.lang.NoSuchFieldError: resources\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2144)\n[INFO]  ... 26 more\n[INFO]    [ERROR] at DateTimeService.java(87): try\n[INFO]   {\n[INFO]     return LocaleService.getMonthNames(locale)[month];\n[INFO]   }\n[INFO] catch (final LocaleNotLoadedException e)\n[INFO]   {\n[INFO]     getLogger().log(Level.SEVERE, &quot;Error in getMonth&quot;, e);\n[INFO]     return null;\n[INFO]   }\n[INFO]       org.eclipse.jdt.internal.compiler.ast.TryStatement\n</code></pre>\n<p>So, what could be the root cause of the problem and what could be the workaround?</p>\n<p>PS&gt; sometime with no explicit change in any configuratio, Im getting another error:</p>\n<pre><code>[INFO] --- vaadin-maven-plugin:8.10.1:compile (default) @ payment-web ---\n[INFO] auto discovered modules [AppWidgetset]\n[INFO] Compiling module AppWidgetset\n[INFO] [ERROR] An internal compiler exception occurred\n[INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.translateException(GwtAstBuilder.java:3997)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2169)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.TryStatement.traverse(TryStatement.java:1244)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse(MethodDeclaration.java:369)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse(TypeDeclaration.java:1479)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.processImpl(GwtAstBuilder.java:3933)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.process(GwtAstBuilder.java:3971)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater$UnitProcessorImpl.process(CompilationStateBuilder.java:129)\n[INFO]  at com.google.gwt.dev.javac.JdtCompiler$CompilerImpl.process(JdtCompiler.java:336)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:575)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\n[INFO]  at com.google.gwt.dev.javac.JdtCompiler.doCompile(JdtCompiler.java:1040)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater.compile(CompilationStateBuilder.java:325)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.doBuildFrom(CompilationStateBuilder.java:548)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:479)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:465)\n[INFO]  at com.google.gwt.dev.cfg.ModuleDef.getCompilationState(ModuleDef.java:423)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:222)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:202)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:143)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:204)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:155)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:144)\n[INFO]  at com.google.gwt.dev.Compiler$1.run(Compiler.java:118)\n[INFO]  at com.google.gwt.dev.CompileTaskRunner.doRun(CompileTaskRunner.java:55)\n[INFO]  at com.google.gwt.dev.CompileTaskRunner.runWithAppropriateLogger(CompileTaskRunner.java:50)\n[INFO]  at com.google.gwt.dev.Compiler.main(Compiler.java:125)\n[INFO] Caused by: java.lang.NoSuchFieldError: resources\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2144)\n[INFO]  ... 26 more\n[INFO]    [ERROR] at DecimalMinValidatorForString.java(35): try\n[INFO]   {\n[INFO]     bigValue = new BigDecimal(value);\n[INFO]   }\n[INFO] catch (NumberFormatException e)\n[INFO]   {\n[INFO]     return false;\n[INFO]   }\n[INFO]       org.eclipse.jdt.internal.compiler.ast.TryStatement\n</code></pre>\n"},{"tags":["java","swing","search","filter","jtable"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685875493,"post_id":76399713,"comment_id":134719394,"body_markdown":"You don&#39;t show how you call `filter()`\nYou really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"You don&#39;t show how you call <code>filter()</code> You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1685888274,"post_id":76399713,"comment_id":134720782,"body_markdown":"My guess is that you’re not taking the sort order into account.  The TableModel is never sorted;  only the *view* (meaning, the JTable) is sorted.  This means that, for example, row 5 in the JTable may not correspond to row 5 in the TableModel.  Instead of table1.getSelectedRow(), use `table1.convertRowIndexToModel(table1.getSelectedRow())`.","body":"My guess is that you’re not taking the sort order into account.  The TableModel is never sorted;  only the <i>view</i> (meaning, the JTable) is sorted.  This means that, for example, row 5 in the JTable may not correspond to row 5 in the TableModel.  Instead of table1.getSelectedRow(), use <code>table1.convertRowIndexToModel(table1.getSelectedRow())</code>."}],"owner":{"account_id":24945093,"reputation":1,"user_id":18810503,"display_name":"Justin Pimentel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685888225,"answer_count":0,"score":0,"last_activity_date":1685888333,"creation_date":1685870869,"question_id":76399713,"body_markdown":"How do I obtain a value of a cell in a jtable.\r\n\r\n\r\nI already have it working but I have encountered a problem which lead me to being stuck in it for a few mins now. \r\n\r\nwhen selecting a cell i can make it show in the jtextfields with no problem, when i click justin i can make it show justin. when i click mary i can make it show mary. But the problem arose when i tried the search function of my code. When i try to search for mary then click mary, it shows justin instead of mary. \r\n\r\nThis is how it currently is (https://i.stack.imgur.com/JTw8Y.png)\r\n\r\nThis is how it looks like when using it normally (https://i.stack.imgur.com/eZP6Y.png)\r\n\r\nThis is where the problem began (https://i.stack.imgur.com/lomAM.png)\r\n\r\nThis is what im currently using for it to show in the jtextfields\r\n```\r\nDefaultTableModel tblModel = (DefaultTableModel)table1.getModel();\r\n\r\n        String tblsport = tblModel.getValueAt(table1.getSelectedRow(),1).toString(); \r\n        String tblname = tblModel.getValueAt(table1.getSelectedRow(),2).toString(); \r\n        String tblmeal = tblModel.getValueAt(table1.getSelectedRow(),3).toString(); \r\n        name.setText(tblname);\r\n        sport.setText(tblsport);\r\n        meal.setText(tblmeal); \r\n```\r\n\r\nand for the sorting, i use this currently\r\n\r\n```\r\npublic void filter(String name){\r\n        DefaultTableModel tblModel = (DefaultTableModel)table1.getModel();\r\n        TableRowSorter&lt;DefaultTableModel&gt; tr = new TableRowSorter&lt;DefaultTableModel&gt; (tblModel);\r\n        table1.setRowSorter(tr);\r\n        tr.setRowFilter(RowFilter.regexFilter(name));\r\n    }\r\n```\r\n\r\nand this is how i called the filter\r\n\r\n```\r\nprivate void filterKeyReleased(java.awt.event.KeyEvent evt) {                                   \r\n        String search = filter.getText().toUpperCase();\r\n        filter(search);\r\n    } \r\n```\r\n\r\n\r\n\r\n\r\nI already put the code above so I hope you guys can help me!","title":"How can I show the correct value in jtextfields when selecting a cell in a JTable with filter and search function in Java?","body":"<p>How do I obtain a value of a cell in a jtable.</p>\n<p>I already have it working but I have encountered a problem which lead me to being stuck in it for a few mins now.</p>\n<p>when selecting a cell i can make it show in the jtextfields with no problem, when i click justin i can make it show justin. when i click mary i can make it show mary. But the problem arose when i tried the search function of my code. When i try to search for mary then click mary, it shows justin instead of mary.</p>\n<p>This is how it currently is (<a href=\"https://i.stack.imgur.com/JTw8Y.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JTw8Y.png</a>)</p>\n<p>This is how it looks like when using it normally (<a href=\"https://i.stack.imgur.com/eZP6Y.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/eZP6Y.png</a>)</p>\n<p>This is where the problem began (<a href=\"https://i.stack.imgur.com/lomAM.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/lomAM.png</a>)</p>\n<p>This is what im currently using for it to show in the jtextfields</p>\n<pre><code>DefaultTableModel tblModel = (DefaultTableModel)table1.getModel();\n\n        String tblsport = tblModel.getValueAt(table1.getSelectedRow(),1).toString(); \n        String tblname = tblModel.getValueAt(table1.getSelectedRow(),2).toString(); \n        String tblmeal = tblModel.getValueAt(table1.getSelectedRow(),3).toString(); \n        name.setText(tblname);\n        sport.setText(tblsport);\n        meal.setText(tblmeal); \n</code></pre>\n<p>and for the sorting, i use this currently</p>\n<pre><code>public void filter(String name){\n        DefaultTableModel tblModel = (DefaultTableModel)table1.getModel();\n        TableRowSorter&lt;DefaultTableModel&gt; tr = new TableRowSorter&lt;DefaultTableModel&gt; (tblModel);\n        table1.setRowSorter(tr);\n        tr.setRowFilter(RowFilter.regexFilter(name));\n    }\n</code></pre>\n<p>and this is how i called the filter</p>\n<pre><code>private void filterKeyReleased(java.awt.event.KeyEvent evt) {                                   \n        String search = filter.getText().toUpperCase();\n        filter(search);\n    } \n</code></pre>\n<p>I already put the code above so I hope you guys can help me!</p>\n"},{"tags":["java","swing","jtable","tablemodel","tablerowsorter"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685887994,"creation_date":1618671919,"answer_id":67139634,"question_id":67139091,"body_markdown":"When you sort or filter a table, the data in the `TableModel` doesn&#39;t change. Only the view of the data changes.\r\n\r\nIf you want to get the data from the model, then you need to convert the &quot;view row&quot; to the &quot;model row&quot; by using the `convertRowIndexToModel(...)` method:\r\n\r\n    int linha = this.jTable1.getSelectedRow();\r\n    int modelRow = jTable1.convertRowIndexToModel(linha);\r\n    int idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(modelRow, 0));\r\n    //int idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(linha, 0));\r\n\r\nAlso, why are you using Integer.parseInt(...)? If the data in the model is an integer value, then it should be stored as an Integer value, not a String value.\r\n\r\n\r\n            ","title":"JTable when searched - not getting right ID","body":"<p>When you sort or filter a table, the data in the <code>TableModel</code> doesn't change. Only the view of the data changes.</p>\n<p>If you want to get the data from the model, then you need to convert the &quot;view row&quot; to the &quot;model row&quot; by using the <code>convertRowIndexToModel(...)</code> method:</p>\n<pre><code>int linha = this.jTable1.getSelectedRow();\nint modelRow = jTable1.convertRowIndexToModel(linha);\nint idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(modelRow, 0));\n//int idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(linha, 0));\n</code></pre>\n<p>Also, why are you using Integer.parseInt(...)? If the data in the model is an integer value, then it should be stored as an Integer value, not a String value.</p>\n"}],"owner":{"account_id":21296604,"reputation":7,"user_id":15673061,"display_name":"RafaelMacaco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67139634,"answer_count":1,"score":0,"last_activity_date":1685887994,"creation_date":1618668642,"question_id":67139091,"body_markdown":"So I&#39;m trying to after searching a name click on the table and then edit it in other table, the problem is that I&#39;m not getting the right ID but instead only getting the ID that is the first.\r\n\r\n[JTable][1]\r\n\r\n\r\n[Search in action][2]\r\n\r\n[ID wrong][3]\r\n\r\n\r\n**Edit Code**\r\n   \r\n\r\n    int linha = this.jTable1.getSelectedRow();\r\n    int idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(linha, 0));\r\n    Utilizador uti = UtilizadorJpaController.read(idUtilizador);\r\n    CriarCliente updateCliente = new CriarCliente(uti);\r\n    updateCliente.setVisible(true);\r\n\r\n**Search Code**\r\n\r\n    DefaultTableModel model = (DefaultTableModel) jTable1.getModel();\r\n    TableRowSorter&lt;DefaultTableModel&gt; tr = new TableRowSorter&lt;DefaultTableModel&gt;(model);\r\n    jTable1.setRowSorter(tr);\r\n    tr.setRowFilter(RowFilter.regexFilter(jTextField1.getText().trim(),1))\r\n\r\n  [1]: https://i.stack.imgur.com/TnNIq.png\r\n  [2]: https://i.stack.imgur.com/MHAyG.png\r\n  [3]: https://i.stack.imgur.com/ge1SB.png\r\n\r\n","title":"JTable when searched - not getting right ID","body":"<p>So I'm trying to after searching a name click on the table and then edit it in other table, the problem is that I'm not getting the right ID but instead only getting the ID that is the first.</p>\n<p><a href=\"https://i.stack.imgur.com/TnNIq.png\" rel=\"nofollow noreferrer\">JTable</a></p>\n<p><a href=\"https://i.stack.imgur.com/MHAyG.png\" rel=\"nofollow noreferrer\">Search in action</a></p>\n<p><a href=\"https://i.stack.imgur.com/ge1SB.png\" rel=\"nofollow noreferrer\">ID wrong</a></p>\n<p><strong>Edit Code</strong></p>\n<pre><code>int linha = this.jTable1.getSelectedRow();\nint idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(linha, 0));\nUtilizador uti = UtilizadorJpaController.read(idUtilizador);\nCriarCliente updateCliente = new CriarCliente(uti);\nupdateCliente.setVisible(true);\n</code></pre>\n<p><strong>Search Code</strong></p>\n<pre><code>DefaultTableModel model = (DefaultTableModel) jTable1.getModel();\nTableRowSorter&lt;DefaultTableModel&gt; tr = new TableRowSorter&lt;DefaultTableModel&gt;(model);\njTable1.setRowSorter(tr);\ntr.setRowFilter(RowFilter.regexFilter(jTextField1.getText().trim(),1))\n</code></pre>\n"},{"tags":["java","swing","sorting","jtable","filtering"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1317308812,"post_id":7599051,"comment_id":9219029,"body_markdown":"*&quot;Hope I&#39;ve explained this well enough&quot;*  An [SSCCE](http://pscode.org/sscce.html) is usually good for explaining code.  As an aside, did you have a question?","body":"<i>&quot;Hope I&#39;ve explained this well enough&quot;</i>  An <a href=\"http://pscode.org/sscce.html\" rel=\"nofollow noreferrer\">SSCCE</a> is usually good for explaining code.  As an aside, did you have a question?"}],"answers":[{"tags":[],"owner":{"account_id":363131,"reputation":2750,"user_id":706695,"accept_rate":78,"display_name":"HRgiger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317307930,"creation_date":1317307930,"answer_id":7599186,"question_id":7599051,"body_markdown":"After you change data you can refresh table as below;\r\n\r\n    for(int i = 0; i &lt; table.getRowCount(); i++)\r\n    {         table.convertRowIndexToModel(i);     } \r\n\r\n    table = new jTable(myModel);\r\n\r\nor\r\n\r\n    myModel.fireTableDataChanged()\r\n\r\n\r\n\r\nHope it helps\r\n\r\nBurak\r\n","title":"JTable Sorting and Filtering","body":"<p>After you change data you can refresh table as below;</p>\n\n<pre><code>for(int i = 0; i &lt; table.getRowCount(); i++)\n{         table.convertRowIndexToModel(i);     } \n\ntable = new jTable(myModel);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>myModel.fireTableDataChanged()\n</code></pre>\n\n<p>Hope it helps</p>\n\n<p>Burak</p>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1317308895,"creation_date":1317308895,"answer_id":7599400,"question_id":7599051,"body_markdown":"please see tutorial about [JTable][1], there is excelent example about `Comparator` and good explanations about how to use the TableModel too \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/uiswing/components/table.html#sorting","title":"JTable Sorting and Filtering","body":"<p>please see tutorial about <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/table.html#sorting\" rel=\"nofollow\">JTable</a>, there is excelent example about <code>Comparator</code> and good explanations about how to use the TableModel too </p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685887816,"creation_date":1317309423,"answer_id":7599535,"question_id":7599051,"body_markdown":"&gt; I think my problem is that the model isn&#39;t being updated after the filters have taken place\r\n\r\nThe model is never updated. \r\n\r\nOnly the view is updated to show the data from the model in a sorted/filtered order.\r\n\r\n&gt; Each row on the table can be double clicked to open a dialog.\r\n\r\nSo I assume you copy the data for one row to the dialog so it can be edited and then added back to the original model.\r\n\r\nTherefore you need to use the `convertRowIndexToModel(...)` to get the model row number so you can access the model data to be displayed on the edit dialog. You would only do this for the row to be edited, not the entire table.","title":"JTable Sorting and Filtering","body":"<blockquote>\n<p>I think my problem is that the model isn't being updated after the filters have taken place</p>\n</blockquote>\n<p>The model is never updated.</p>\n<p>Only the view is updated to show the data from the model in a sorted/filtered order.</p>\n<blockquote>\n<p>Each row on the table can be double clicked to open a dialog.</p>\n</blockquote>\n<p>So I assume you copy the data for one row to the dialog so it can be edited and then added back to the original model.</p>\n<p>Therefore you need to use the <code>convertRowIndexToModel(...)</code> to get the model row number so you can access the model data to be displayed on the edit dialog. You would only do this for the row to be edited, not the entire table.</p>\n"}],"owner":{"display_name":"user918076"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7599535,"answer_count":3,"score":1,"last_activity_date":1685887816,"creation_date":1317307341,"question_id":7599051,"body_markdown":"I am creating a program that filters the contents of a JTable using two columns. I have used a RowSorter and everything works fine - at least according to what I can see (the view).\r\n\r\nEach row on the table can be double clicked to open a dialog. This dialog allows you to edit information on the table. However, the information on the dialog is still of that of the original view (before filtering was used).\r\n\r\n**Example:**\r\n\r\nBefore filtering the first row on the table is row a.\r\nAfter filtering the first row on the table is row b.\r\n\r\nHowever, when I double click to open the dialog on the first row (after filtering, which should now be row b, the dialog for row a opens.)\r\n[Hope I&#39;ve explained this well enough]\r\n\r\nI think my problem is that the model isn&#39;t being updated after the filters have taken place. I&#39;ve tried:\r\n\r\n    \t\tfor(int i = 0; i &lt; table.getRowCount(); i++){\r\n\t\t\ttable.convertRowIndexToView(i);\r\n\t\t}\r\nand\r\n\r\n    for(int i = 0; i &lt; table.getRowCount(); i++){\r\n\t\t\ttable.convertRowIndexToModel(i);\r\n\t\t}\r\n\r\nI am also getting a similar problem when I sort the table using the column headers.\r\n\r\nHow do I fix this problem?","title":"JTable Sorting and Filtering","body":"<p>I am creating a program that filters the contents of a JTable using two columns. I have used a RowSorter and everything works fine - at least according to what I can see (the view).</p>\n\n<p>Each row on the table can be double clicked to open a dialog. This dialog allows you to edit information on the table. However, the information on the dialog is still of that of the original view (before filtering was used).</p>\n\n<p><strong>Example:</strong></p>\n\n<p>Before filtering the first row on the table is row a.\nAfter filtering the first row on the table is row b.</p>\n\n<p>However, when I double click to open the dialog on the first row (after filtering, which should now be row b, the dialog for row a opens.)\n[Hope I've explained this well enough]</p>\n\n<p>I think my problem is that the model isn't being updated after the filters have taken place. I've tried:</p>\n\n<pre><code>        for(int i = 0; i &lt; table.getRowCount(); i++){\n        table.convertRowIndexToView(i);\n    }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>for(int i = 0; i &lt; table.getRowCount(); i++){\n        table.convertRowIndexToModel(i);\n    }\n</code></pre>\n\n<p>I am also getting a similar problem when I sort the table using the column headers.</p>\n\n<p>How do I fix this problem?</p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685887263,"creation_date":1685887263,"answer_id":76400760,"question_id":76396976,"body_markdown":"&gt; Solution\r\n\r\nJust provide a custom error page and define the control logic to redirect when project detect something illegal like 0 or else.  \r\n\r\n\r\n&gt; Issue\r\n\r\n\r\nThe major issue in your code snippet is that your prodide uri without any parameter , so that the http handler ```/registeredUsers/{page}``` which your define variables like ```Integer page ``` will be a default value  zero ,  If you use int instead of it and then appearently you will get an Nullpointexception error .","title":"View Page is not rendering in Thymeleaf and Spring boot","body":"<blockquote>\n<p>Solution</p>\n</blockquote>\n<p>Just provide a custom error page and define the control logic to redirect when project detect something illegal like 0 or else.</p>\n<blockquote>\n<p>Issue</p>\n</blockquote>\n<p>The major issue in your code snippet is that your prodide uri without any parameter , so that the http handler <code>/registeredUsers/{page}</code> which your define variables like <code>Integer page </code> will be a default value  zero ,  If you use int instead of it and then appearently you will get an Nullpointexception error .</p>\n"}],"owner":{"account_id":24736193,"reputation":21,"user_id":18623537,"display_name":"Ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685887263,"creation_date":1685809979,"question_id":76396976,"body_markdown":"I&#39;ve written my front end on thymeleaf and backend is in springboot and I&#39;ve my this view page https://i.imgur.com/qOHWi4E.png and I am applying a search feature on it, and when I search the element and filter the record, I want, it should open on the same page but view name changed like something like this https://i.imgur.com/EUyB3zf.png\r\n\r\nThis is my default controller to load the list of registered user here:\r\n\r\n    @GetMapping(&quot;/registeredUsers/{page}&quot;)\r\n\tpublic String registeredUsers(Model model, @PathVariable(&quot;page&quot;) Integer page) {\r\n\t\tmodel.addAttribute(&quot;title&quot;, &quot;Registered User&quot;);\r\n\t\t\r\n\t//\tPageRequest pageable =PageRequest.of(page, perPageResultCount);\r\n\t\tPageable pageable = PageRequest.of(page, perPageResultCount);\r\n\t\tint totalNumberOfRegisteredUser = this.userRepository.findAll().size();\r\n\t\tPage&lt;Users&gt; listOfUserDetails = this.userRepository.findAll(pageable);\r\n\t\t\r\n\t\tList&lt;Users&gt; listOfUsers = listOfUserDetails.getContent();\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;totalNumberOfRegisteredUser&quot;, totalNumberOfRegisteredUser);\r\n\t\tmodel.addAttribute(&quot;totalPage&quot;, listOfUserDetails);\r\n\t\tmodel.addAttribute(&quot;detailsOfTotalRegisteredUsers&quot;, listOfUsers);\r\n\t\tmodel.addAttribute(&quot;registeredUserClass&quot;, &quot;active&quot;);\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;currentPage&quot;, page);\r\n\t\tmodel.addAttribute(&quot;totalPages&quot;, listOfUserDetails.getTotalPages());\r\n\t\t//model.addAttribute(&quot;queryParameter&quot;, queryParameter);\r\n\t\t\r\n\t\treturn &quot;/admin/registeredUsers&quot;;\r\n\t}\r\n\r\n\r\nThis is my search controller\r\n\r\n    @GetMapping(&quot;/searchKeyword/{page}&quot;)\r\n\tpublic String searchKeyword(@RequestParam(&quot;keyword&quot;) String keyword, Model model, @PathVariable(&quot;page&quot;) Integer page) {\r\n\t\tmodel.addAttribute(&quot;pageNum&quot;, page);\r\n\t\tList&lt;Users&gt; listOfUsers = this.userRepository.searchByKeyword(keyword);\r\n\t\tmodel.addAttribute(&quot;detailsOfTotalRegisteredUsers&quot;, listOfUsers);\r\n\t\treturn &quot;/admin/registeredUsers&quot;;\r\n\t}\r\n\r\nAs you can see in the search controller when I am returning the same page as **/admin/registeredUsers** from method  @GetMapping(&quot;/searchKeyword/{page}&quot;) which I am returning in **@GetMapping(&quot;/registeredUsers/{page}&quot;)**, it is changing the url bar and therefore, it is not rending the page and giving 404 error because there is no any page like **/admin/searchKeyword/0**\r\n\r\n","title":"View Page is not rendering in Thymeleaf and Spring boot","body":"<p>I've written my front end on thymeleaf and backend is in springboot and I've my this view page <a href=\"https://i.imgur.com/qOHWi4E.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/qOHWi4E.png</a> and I am applying a search feature on it, and when I search the element and filter the record, I want, it should open on the same page but view name changed like something like this <a href=\"https://i.imgur.com/EUyB3zf.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/EUyB3zf.png</a></p>\n<p>This is my default controller to load the list of registered user here:</p>\n<pre><code>@GetMapping(&quot;/registeredUsers/{page}&quot;)\npublic String registeredUsers(Model model, @PathVariable(&quot;page&quot;) Integer page) {\n    model.addAttribute(&quot;title&quot;, &quot;Registered User&quot;);\n    \n//  PageRequest pageable =PageRequest.of(page, perPageResultCount);\n    Pageable pageable = PageRequest.of(page, perPageResultCount);\n    int totalNumberOfRegisteredUser = this.userRepository.findAll().size();\n    Page&lt;Users&gt; listOfUserDetails = this.userRepository.findAll(pageable);\n    \n    List&lt;Users&gt; listOfUsers = listOfUserDetails.getContent();\n    \n    model.addAttribute(&quot;totalNumberOfRegisteredUser&quot;, totalNumberOfRegisteredUser);\n    model.addAttribute(&quot;totalPage&quot;, listOfUserDetails);\n    model.addAttribute(&quot;detailsOfTotalRegisteredUsers&quot;, listOfUsers);\n    model.addAttribute(&quot;registeredUserClass&quot;, &quot;active&quot;);\n    \n    model.addAttribute(&quot;currentPage&quot;, page);\n    model.addAttribute(&quot;totalPages&quot;, listOfUserDetails.getTotalPages());\n    //model.addAttribute(&quot;queryParameter&quot;, queryParameter);\n    \n    return &quot;/admin/registeredUsers&quot;;\n}\n</code></pre>\n<p>This is my search controller</p>\n<pre><code>@GetMapping(&quot;/searchKeyword/{page}&quot;)\npublic String searchKeyword(@RequestParam(&quot;keyword&quot;) String keyword, Model model, @PathVariable(&quot;page&quot;) Integer page) {\n    model.addAttribute(&quot;pageNum&quot;, page);\n    List&lt;Users&gt; listOfUsers = this.userRepository.searchByKeyword(keyword);\n    model.addAttribute(&quot;detailsOfTotalRegisteredUsers&quot;, listOfUsers);\n    return &quot;/admin/registeredUsers&quot;;\n}\n</code></pre>\n<p>As you can see in the search controller when I am returning the same page as <strong>/admin/registeredUsers</strong> from method  @GetMapping(&quot;/searchKeyword/{page}&quot;) which I am returning in <strong>@GetMapping(&quot;/registeredUsers/{page}&quot;)</strong>, it is changing the url bar and therefore, it is not rending the page and giving 404 error because there is no any page like <strong>/admin/searchKeyword/0</strong></p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685886806,"creation_date":1685886806,"answer_id":76400737,"question_id":76400532,"body_markdown":"&gt; My assumption is that this line zips the jar file located in ./target directory deploys it to the lambda function\r\n\r\nThat is an incorrect assumption. That line simply uses the .jar file as the zip file. It uploads the .jar file directly. A .jar file is a zip file already. There is no need to zip it up again.\r\n\r\n&gt; However, when I attempt the following using AWS S3: \r\n&gt;\r\n&gt; `aws lambda update-function-code --function-name demo-test --s3-bucket build-owanbe-api-lambdas --s3-key demo-lambda-1.0-SNAPSHOT.zip`\r\n\r\nYou haven&#39;t provided any context as to what that .zip file is exactly. I&#39;m going to guess what you did was take the .jar file and zip it up into a .zip file. Instead of doing that, try uploading the .jar file directly to S3 and using that. ","title":"AWS Lambda ClassNotFound when deploying via AWS S3","body":"<blockquote>\n<p>My assumption is that this line zips the jar file located in ./target directory deploys it to the lambda function</p>\n</blockquote>\n<p>That is an incorrect assumption. That line simply uses the .jar file as the zip file. It uploads the .jar file directly. A .jar file is a zip file already. There is no need to zip it up again.</p>\n<blockquote>\n<p>However, when I attempt the following using AWS S3:</p>\n<p><code>aws lambda update-function-code --function-name demo-test --s3-bucket build-owanbe-api-lambdas --s3-key demo-lambda-1.0-SNAPSHOT.zip</code></p>\n</blockquote>\n<p>You haven't provided any context as to what that .zip file is exactly. I'm going to guess what you did was take the .jar file and zip it up into a .zip file. Instead of doing that, try uploading the .jar file directly to S3 and using that.</p>\n"}],"owner":{"account_id":4092737,"reputation":129,"user_id":3360335,"accept_rate":86,"display_name":"invincibles04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76400737,"answer_count":1,"score":1,"last_activity_date":1685886806,"creation_date":1685883218,"question_id":76400532,"body_markdown":"I have a simple java project that utilises AWS Lambda, I use the necessary maven-shade-plugin config details to package the application to a jar file. I have two options of deploying this jar to AWS Lambda, either by saving the jar/zipped jar in an s3 bucket or running manually update-function-code command.\r\n\r\nI ran this command, which works fine, I&#39;m able to test my code. My assumption is that this line zips the jar file located in ./target directory deploys it to the lambda function\r\n\r\n    aws lambda update-function-code --function-name demo-test --zip-file fileb://./target/demo-lambda-1.0-SNAPSHOT.jar\r\n\r\nHowever, when I attempt the following using AWS S3:\r\n\r\n    aws lambda update-function-code --function-name demo-test --s3-bucket build-owanbe-api-lambdas --s3-key demo-lambda-1.0-SNAPSHOT.zip\r\n\r\nIt returns this error when I try to test my code:\r\n\r\n    Class not found: com.demo.lambda.handlers.DemoHandler: java.lang.ClassNotFoundException\r\n    java.lang.ClassNotFoundException: com.demo.lambda.handlers.DemoHandler. Current classpath: file:/var/task/","title":"AWS Lambda ClassNotFound when deploying via AWS S3","body":"<p>I have a simple java project that utilises AWS Lambda, I use the necessary maven-shade-plugin config details to package the application to a jar file. I have two options of deploying this jar to AWS Lambda, either by saving the jar/zipped jar in an s3 bucket or running manually update-function-code command.</p>\n<p>I ran this command, which works fine, I'm able to test my code. My assumption is that this line zips the jar file located in ./target directory deploys it to the lambda function</p>\n<pre><code>aws lambda update-function-code --function-name demo-test --zip-file fileb://./target/demo-lambda-1.0-SNAPSHOT.jar\n</code></pre>\n<p>However, when I attempt the following using AWS S3:</p>\n<pre><code>aws lambda update-function-code --function-name demo-test --s3-bucket build-owanbe-api-lambdas --s3-key demo-lambda-1.0-SNAPSHOT.zip\n</code></pre>\n<p>It returns this error when I try to test my code:</p>\n<pre><code>Class not found: com.demo.lambda.handlers.DemoHandler: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: com.demo.lambda.handlers.DemoHandler. Current classpath: file:/var/task/\n</code></pre>\n"},{"tags":["java","sql","mysql","prepared-statement","vert.x"],"answers":[{"tags":[],"owner":{"account_id":10097137,"reputation":163,"user_id":7462177,"display_name":"Obb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685885499,"creation_date":1685885499,"answer_id":76400659,"question_id":76395809,"body_markdown":"For whatever reason, the above prepared statement query runs perfectly fine against `mariadb 10.5` but fails against `MySQL 8.0.25` even though `max_prepared_stmt_count` is set to non-zero value. I changed the code from using `preparedQuery` with `connectOptions.setCachePreparedStatements(true)` to simply using `query` with concatenated parameters and it started working. Not sure if it is a bug or not. ","title":"Mysql PreparedStatement Query returns 0 rows though table has newly inserted data","body":"<p>For whatever reason, the above prepared statement query runs perfectly fine against <code>mariadb 10.5</code> but fails against <code>MySQL 8.0.25</code> even though <code>max_prepared_stmt_count</code> is set to non-zero value. I changed the code from using <code>preparedQuery</code> with <code>connectOptions.setCachePreparedStatements(true)</code> to simply using <code>query</code> with concatenated parameters and it started working. Not sure if it is a bug or not.</p>\n"}],"owner":{"account_id":10097137,"reputation":163,"user_id":7462177,"display_name":"Obb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685885499,"creation_date":1685791159,"question_id":76395809,"body_markdown":"I&#39;m porting an old java program that polls the db every few minutes. It simply queries a certain table and based on the row values processes them (i have to maintain the polling, can&#39;t change to CDC like debezium). I am using vertx `setTimer` to do the periodic scheduling (so that one starts after the previous has ended). I have this property in the class `private static Handler&lt;Long&gt; pollingHandler;` and initialize it as below and call it for the first time. When I copy the query `FETCH_SAMPLE_DATA_QUERY` with various valid parameters of `start_id` and `batch_size` and use it in mysql console, it works. In code, **only the first call** works and returns the right number of rows, and after finished processing `start_id` is updated for the next scheduled call. But the subsequent scheduled calls all return 0 rows. The logs are filled with `Processing 0 records` when I debug. I can&#39;t seem to understand why it&#39;s returning an empty RowSet. The initial call does update `start_id` when I check the debug logs and therefore second call should return new batch of rows but it returns empty and so goes for the rest of the subsequent calls. The debug value for `start_id` remains the same after it was updated by the first call. When I replace `?` in the query with the debug values and run the query in mysql console, it returns `batch_size` number of rows. I can&#39;t seem to understand how this is happening.\r\n\r\n      \r\n      pollingHandler = id -&gt; {\r\n       LOGGER.debug(&quot;start_id: {}&quot;, start_id);\r\n       LOGGER.debug(&quot;batch_size: {}&quot;, batch_size);\r\n\r\n       mysqlClient\r\n        .preparedQuery(FETCH_SAMPLE_DATA_QUERY)\r\n        .execute(Tuple.of(start_id,batch_size))\r\n        .onSuccess(rows -&gt; {\r\n          LOGGER.debug(&quot;Processing {} rows&quot;, rows.size());\r\n\t\t  \r\n          if (rows.size() &gt; 0) {\r\n            RowIterator&lt;Row&gt; rowIterator = rows.iterator();\r\n            processRows(rowIterator); // this updates start_id so that the next query starts from somewhere else\r\n          }\r\n          vertx.setTimer(config.getLong(&quot;polling-interval&quot;), pollingHandler);\r\n        })\r\n        .onFailure(err -&gt; {\r\n          LOGGER.error(err.getMessage(),err);\r\n          vertx.setTimer(config.getLong(&quot;polling-interval&quot;), pollingHandler);\r\n        });\r\n     };\r\n\r\n     // Schedule the first execution\r\n     vertx.setTimer(config.getInteger(&quot;polling-interval&quot;), pollingHandler);","title":"Mysql PreparedStatement Query returns 0 rows though table has newly inserted data","body":"<p>I'm porting an old java program that polls the db every few minutes. It simply queries a certain table and based on the row values processes them (i have to maintain the polling, can't change to CDC like debezium). I am using vertx <code>setTimer</code> to do the periodic scheduling (so that one starts after the previous has ended). I have this property in the class <code>private static Handler&lt;Long&gt; pollingHandler;</code> and initialize it as below and call it for the first time. When I copy the query <code>FETCH_SAMPLE_DATA_QUERY</code> with various valid parameters of <code>start_id</code> and <code>batch_size</code> and use it in mysql console, it works. In code, <strong>only the first call</strong> works and returns the right number of rows, and after finished processing <code>start_id</code> is updated for the next scheduled call. But the subsequent scheduled calls all return 0 rows. The logs are filled with <code>Processing 0 records</code> when I debug. I can't seem to understand why it's returning an empty RowSet. The initial call does update <code>start_id</code> when I check the debug logs and therefore second call should return new batch of rows but it returns empty and so goes for the rest of the subsequent calls. The debug value for <code>start_id</code> remains the same after it was updated by the first call. When I replace <code>?</code> in the query with the debug values and run the query in mysql console, it returns <code>batch_size</code> number of rows. I can't seem to understand how this is happening.</p>\n<pre><code>  pollingHandler = id -&gt; {\n   LOGGER.debug(&quot;start_id: {}&quot;, start_id);\n   LOGGER.debug(&quot;batch_size: {}&quot;, batch_size);\n\n   mysqlClient\n    .preparedQuery(FETCH_SAMPLE_DATA_QUERY)\n    .execute(Tuple.of(start_id,batch_size))\n    .onSuccess(rows -&gt; {\n      LOGGER.debug(&quot;Processing {} rows&quot;, rows.size());\n      \n      if (rows.size() &gt; 0) {\n        RowIterator&lt;Row&gt; rowIterator = rows.iterator();\n        processRows(rowIterator); // this updates start_id so that the next query starts from somewhere else\n      }\n      vertx.setTimer(config.getLong(&quot;polling-interval&quot;), pollingHandler);\n    })\n    .onFailure(err -&gt; {\n      LOGGER.error(err.getMessage(),err);\n      vertx.setTimer(config.getLong(&quot;polling-interval&quot;), pollingHandler);\n    });\n };\n\n // Schedule the first execution\n vertx.setTimer(config.getInteger(&quot;polling-interval&quot;), pollingHandler);\n</code></pre>\n"},{"tags":["java","mysql","angular","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1685885744,"post_id":76400641,"comment_id":134720493,"body_markdown":"500 is an internal server error. Look into your server logfiles and you should find a message the shows the reason of the error","body":"500 is an internal server error. Look into your server logfiles and you should find a message the shows the reason of the error"}],"owner":{"account_id":26992601,"reputation":67,"user_id":20555252,"display_name":"Malinsha Vithanage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1685885234,"creation_date":1685885234,"question_id":76400641,"body_markdown":"I am coding a web application for a service management system. Here, I need to create site visits. \r\n\r\nOnce I create a site visit, It should be enabled for editing and the editing should be done according to the site Visit Id. The Site visit ID should not be changed. Therefore, I tried to code an auto-fill feature for the site visit ID and remove the text box that allows entering the site visit id in the editing forum. However, the changes I made during editing were not saved.\r\n\r\nThen, I attempted another method. If I enter an incorrect site visit Id, then it should not be changed and It should be displayed as &quot;Incorrect site visit ID &quot;. Now all the changes done by me are saved properly when site visit ID is correct. But still it doesn&#39;t display the message &quot; Incorrect site visit ID&quot; when the ID is incorrect. Instead It gives the message &quot;Http failure response for http://localhost:8080/siteVisit/update: 500 OK &quot;. Additionally If the incorrect site visit ID is available in another site visit that I created previously, the data according to that site visit id is changed.\r\n \r\nI need to fix these errors. I used Angular , spring boot and MySQL for development. Please help me because I am a beginner. [![enter image description here](https://i.stack.imgur.com/4A2Ek.png)](https://i.stack.imgur.com/4A2Ek.png)\r\n\r\nBackend \r\nSiteVisitResource.java\r\n```\r\n        @PutMapping(&quot;/update&quot;)\r\n        public ResponseEntity&lt;SiteVisit&gt;updateSiteVisit(@RequestBody SiteVisit siteVisit){\r\n            SiteVisit updateSiteVisit=siteVisitService.updateSiteVisit(siteVisit);\r\n            return new ResponseEntity&lt;&gt;(updateSiteVisit, HttpStatus.CREATED);\r\n\r\n        }\r\n```\r\nSitVisitService.java\r\n```\r\n        public SiteVisit updateSiteVisit(SiteVisit siteVisit){\r\n\r\n            return siteVisitRepo.save(siteVisit);\r\n        }\r\n```\r\n\r\n\r\nFrontend\r\nComponent.html\r\n```\r\n\r\n&lt;!-- Edit Modal --&gt;\r\n&lt;div class=&quot;modal fade&quot; id=&quot;updateSiteVisitModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;siteVisitEditModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\r\n        &lt;div class=&quot;modal-content&quot;&gt;\r\n           &lt;div class=&quot;modal-header&quot;&gt;\r\n              &lt;h5 class=&quot;modal-title&quot; id=&quot;updateSiteVisitModalLabel&quot;&gt;Edit Site Visit {{editSiteVisits?.siteVisitId}}&lt;/h5&gt;\r\n              &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n              &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\r\n              &lt;/button&gt;\r\n           &lt;/div&gt;\r\n\r\n           &lt;div class=&quot;modal-body&quot;&gt;\r\n              &lt;form #editForm=&quot;ngForm&quot;&gt;\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;name&quot;&gt;SiteVisitId&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.siteVisitId}}&quot; name=&quot;siteVisitId&quot; class=&quot;form-control&quot; id=&quot;siteVisitId&quot; aria-describedby=&quot;emailHelp&quot; placeholder=&quot;siteVisitId&quot;&gt;\r\n                  &lt;/div&gt; \r\n\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;scheduledDate&quot;&gt;Scheduled Date&lt;/label&gt;\r\n                    &lt;input type=&quot;date&quot; ngModel=&quot;{{editSiteVisits?.scheduledDate}}&quot; name=&quot;scheduledDate&quot; class=&quot;form-control&quot; id=&quot;scheduledDate&quot; placeholder=&quot;scheduledDate&quot;&gt;\r\n                 &lt;/div&gt;\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;assignedTeamId&quot;&gt;Assigned Team Id&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.assignedTeamId}}&quot; name=&quot;assignedTeamId&quot; class=&quot;form-control&quot; id=&quot;assignedTeamId&quot; placeholder=&quot;assignedTeamId&quot;&gt;\r\n                 &lt;/div&gt;\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;assignedVehicle&quot;&gt;Assigned Vehicle&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.assignedVehicle}}&quot; name=&quot;assignedVehicle&quot; class=&quot;form-control&quot; id=&quot;assignedVehicle&quot; name=&quot;assignedVehicle&quot; placeholder=&quot;assignedVehicle&quot;&gt;\r\n                 &lt;/div&gt;\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;dateRange&quot;&gt;End Date&lt;/label&gt;\r\n                    &lt;input type=&quot;date&quot; ngModel=&quot;{{editSiteVisits?.dateRange}}&quot; name=&quot;dateRange&quot; class=&quot;form-control&quot; id=&quot;dateRange&quot; placeholder=&quot;dateRange&quot;&gt;\r\n                 &lt;/div&gt;\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;state&quot;&gt;Status&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.state}}&quot; name=&quot;state&quot; class=&quot;form-control&quot; id=&quot;state&quot; placeholder=&quot;state&quot;&gt;\r\n                 &lt;/div&gt;\r\n                 &lt;div class=&quot;modal-footer&quot;&gt;\r\n                    &lt;button type=&quot;button&quot; id=&quot;&quot; data-dismiss=&quot;modal&quot; class=&quot;btn btn-secondary&quot;&gt;Close&lt;/button&gt;\r\n                    &lt;button (click)=&quot;onUpdateSiteVisit(editForm.value)&quot; data-dismiss=&quot;modal&quot; class=&quot;btn btn-primary&quot;&gt;\r\n                        Save changes\r\n                      &lt;/button&gt;\r\n                      &lt;p *ngIf=&quot;!editSiteVisits?.siteVisitId&quot; class=&quot;text-danger&quot;&gt;Please enter a siteVisitId.&lt;/p&gt;\r\n                      \r\n                 &lt;/div&gt;\r\n              &lt;/form&gt;\r\n           &lt;/div&gt;\r\n        &lt;/div&gt;\r\n     &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n```\r\n\r\nComponent.ts\r\n\r\n```\r\n   //Edit asite visit\r\n  public onUpdateSiteVisit(siteVisit: SiteVisit): void {\r\n    \r\n    this.siteVisitService.updateSiteVisit(siteVisit).subscribe(\r\n      (response: SiteVisit) =&gt; {\r\n        console.log(response);\r\n        this.getSiteVisits();\r\n        \r\n      \r\n      },\r\n      (error: HttpErrorResponse) =&gt; {\r\n        alert(error.message);\r\n      }\r\n    );\r\n  }\r\n```\r\n\r\n","title":"Way to Edit data without changing current Site Visit ID Using Angular+ Spring boot+ MySQL","body":"<p>I am coding a web application for a service management system. Here, I need to create site visits.</p>\n<p>Once I create a site visit, It should be enabled for editing and the editing should be done according to the site Visit Id. The Site visit ID should not be changed. Therefore, I tried to code an auto-fill feature for the site visit ID and remove the text box that allows entering the site visit id in the editing forum. However, the changes I made during editing were not saved.</p>\n<p>Then, I attempted another method. If I enter an incorrect site visit Id, then it should not be changed and It should be displayed as &quot;Incorrect site visit ID &quot;. Now all the changes done by me are saved properly when site visit ID is correct. But still it doesn't display the message &quot; Incorrect site visit ID&quot; when the ID is incorrect. Instead It gives the message &quot;Http failure response for http://localhost:8080/siteVisit/update: 500 OK &quot;. Additionally If the incorrect site visit ID is available in another site visit that I created previously, the data according to that site visit id is changed.</p>\n<p>I need to fix these errors. I used Angular , spring boot and MySQL for development. Please help me because I am a beginner. <a href=\"https://i.stack.imgur.com/4A2Ek.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4A2Ek.png\" alt=\"enter image description here\" /></a></p>\n<p>Backend\nSiteVisitResource.java</p>\n<pre><code>        @PutMapping(&quot;/update&quot;)\n        public ResponseEntity&lt;SiteVisit&gt;updateSiteVisit(@RequestBody SiteVisit siteVisit){\n            SiteVisit updateSiteVisit=siteVisitService.updateSiteVisit(siteVisit);\n            return new ResponseEntity&lt;&gt;(updateSiteVisit, HttpStatus.CREATED);\n\n        }\n</code></pre>\n<p>SitVisitService.java</p>\n<pre><code>        public SiteVisit updateSiteVisit(SiteVisit siteVisit){\n\n            return siteVisitRepo.save(siteVisit);\n        }\n</code></pre>\n<p>Frontend\nComponent.html</p>\n<pre><code>\n&lt;!-- Edit Modal --&gt;\n&lt;div class=&quot;modal fade&quot; id=&quot;updateSiteVisitModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;siteVisitEditModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\n        &lt;div class=&quot;modal-content&quot;&gt;\n           &lt;div class=&quot;modal-header&quot;&gt;\n              &lt;h5 class=&quot;modal-title&quot; id=&quot;updateSiteVisitModalLabel&quot;&gt;Edit Site Visit {{editSiteVisits?.siteVisitId}}&lt;/h5&gt;\n              &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\n              &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\n              &lt;/button&gt;\n           &lt;/div&gt;\n\n           &lt;div class=&quot;modal-body&quot;&gt;\n              &lt;form #editForm=&quot;ngForm&quot;&gt;\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;name&quot;&gt;SiteVisitId&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.siteVisitId}}&quot; name=&quot;siteVisitId&quot; class=&quot;form-control&quot; id=&quot;siteVisitId&quot; aria-describedby=&quot;emailHelp&quot; placeholder=&quot;siteVisitId&quot;&gt;\n                  &lt;/div&gt; \n\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;scheduledDate&quot;&gt;Scheduled Date&lt;/label&gt;\n                    &lt;input type=&quot;date&quot; ngModel=&quot;{{editSiteVisits?.scheduledDate}}&quot; name=&quot;scheduledDate&quot; class=&quot;form-control&quot; id=&quot;scheduledDate&quot; placeholder=&quot;scheduledDate&quot;&gt;\n                 &lt;/div&gt;\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;assignedTeamId&quot;&gt;Assigned Team Id&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.assignedTeamId}}&quot; name=&quot;assignedTeamId&quot; class=&quot;form-control&quot; id=&quot;assignedTeamId&quot; placeholder=&quot;assignedTeamId&quot;&gt;\n                 &lt;/div&gt;\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;assignedVehicle&quot;&gt;Assigned Vehicle&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.assignedVehicle}}&quot; name=&quot;assignedVehicle&quot; class=&quot;form-control&quot; id=&quot;assignedVehicle&quot; name=&quot;assignedVehicle&quot; placeholder=&quot;assignedVehicle&quot;&gt;\n                 &lt;/div&gt;\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;dateRange&quot;&gt;End Date&lt;/label&gt;\n                    &lt;input type=&quot;date&quot; ngModel=&quot;{{editSiteVisits?.dateRange}}&quot; name=&quot;dateRange&quot; class=&quot;form-control&quot; id=&quot;dateRange&quot; placeholder=&quot;dateRange&quot;&gt;\n                 &lt;/div&gt;\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;state&quot;&gt;Status&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.state}}&quot; name=&quot;state&quot; class=&quot;form-control&quot; id=&quot;state&quot; placeholder=&quot;state&quot;&gt;\n                 &lt;/div&gt;\n                 &lt;div class=&quot;modal-footer&quot;&gt;\n                    &lt;button type=&quot;button&quot; id=&quot;&quot; data-dismiss=&quot;modal&quot; class=&quot;btn btn-secondary&quot;&gt;Close&lt;/button&gt;\n                    &lt;button (click)=&quot;onUpdateSiteVisit(editForm.value)&quot; data-dismiss=&quot;modal&quot; class=&quot;btn btn-primary&quot;&gt;\n                        Save changes\n                      &lt;/button&gt;\n                      &lt;p *ngIf=&quot;!editSiteVisits?.siteVisitId&quot; class=&quot;text-danger&quot;&gt;Please enter a siteVisitId.&lt;/p&gt;\n                      \n                 &lt;/div&gt;\n              &lt;/form&gt;\n           &lt;/div&gt;\n        &lt;/div&gt;\n     &lt;/div&gt;\n&lt;/div&gt;\n\n</code></pre>\n<p>Component.ts</p>\n<pre><code>   //Edit asite visit\n  public onUpdateSiteVisit(siteVisit: SiteVisit): void {\n    \n    this.siteVisitService.updateSiteVisit(siteVisit).subscribe(\n      (response: SiteVisit) =&gt; {\n        console.log(response);\n        this.getSiteVisits();\n        \n      \n      },\n      (error: HttpErrorResponse) =&gt; {\n        alert(error.message);\n      }\n    );\n  }\n</code></pre>\n"},{"tags":["java","android","kotlin","rounding"],"comments":[{"owner":{"account_id":26155,"reputation":7677,"user_id":67808,"accept_rate":64,"display_name":"Dmitry Brant"},"score":72,"creation_date":1519744319,"post_id":49011924,"comment_id":85028397,"body_markdown":"Why would you expect 0.0449999 to round to 0.1? That is mathematically incorrect.","body":"Why would you expect 0.0449999 to round to 0.1? That is mathematically incorrect."},{"owner":{"account_id":9605274,"reputation":3846,"user_id":7131507,"display_name":"Noelia"},"score":0,"creation_date":1519744600,"post_id":49011924,"comment_id":85028613,"body_markdown":"It is not incorrect if you round all decimals first: 0.045 -&gt; 0.05 -&gt; 0.1","body":"It is not incorrect if you round all decimals first: 0.045 -&gt; 0.05 -&gt; 0.1"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":11,"creation_date":1519744701,"post_id":49011924,"comment_id":85028678,"body_markdown":"Well, that&#39;s a pretty meaningless way to round. But, if that&#39;s how you want to do it, do it like that: Round to 3 digits, then 2 digits, then 1 digit.","body":"Well, that&#39;s a pretty meaningless way to round. But, if that&#39;s how you want to do it, do it like that: Round to 3 digits, then 2 digits, then 1 digit."},{"owner":{"account_id":9605274,"reputation":3846,"user_id":7131507,"display_name":"Noelia"},"score":0,"creation_date":1519744855,"post_id":49011924,"comment_id":85028772,"body_markdown":"Yeah I thought about that but imagine you have 0.0444999, it would be also wrong. I was wondering if there is a better solution for this.","body":"Yeah I thought about that but imagine you have 0.0444999, it would be also wrong. I was wondering if there is a better solution for this."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1519744939,"post_id":49011924,"comment_id":85028830,"body_markdown":"Then start at 4, 5, 6, 7 whatever number of digits. It&#39;s still not rounding as the vast majority of people would understand it.","body":"Then start at 4, 5, 6, 7 whatever number of digits. It&#39;s still not rounding as the vast majority of people would understand it."},{"owner":{"account_id":26155,"reputation":7677,"user_id":67808,"accept_rate":64,"display_name":"Dmitry Brant"},"score":26,"creation_date":1519745111,"post_id":49011924,"comment_id":85028949,"body_markdown":"There is no better solution, since this is not a correct way to round numbers. By your logic, I can round $44444.99 to $100000. This is not how rounding works in actuality.","body":"There is no better solution, since this is not a correct way to round numbers. By your logic, I can round $44444.99 to $100000. This is not how rounding works in actuality."},{"owner":{"account_id":5872668,"reputation":519,"user_id":4624524,"accept_rate":80,"display_name":"Felipe Andrade"},"score":13,"creation_date":1538518203,"post_id":49011924,"comment_id":92168324,"body_markdown":"You&#39;re looking for a Ceiling and not a Round","body":"You&#39;re looking for a Ceiling and not a Round"},{"owner":{"account_id":5372553,"reputation":3631,"user_id":4280615,"accept_rate":73,"display_name":"Nate Vaughan"},"score":2,"creation_date":1574976291,"post_id":49011924,"comment_id":104425955,"body_markdown":"@Noelia genuinely curious to hear what your use case is for rounding 0.045 -&gt; 0.05 -&gt; 0.1","body":"@Noelia genuinely curious to hear what your use case is for rounding 0.045 -&gt; 0.05 -&gt; 0.1"},{"owner":{"display_name":"user3386180"},"score":0,"creation_date":1613137424,"post_id":49011924,"comment_id":116990298,"body_markdown":"@DmitryBrant, Andy Turner, Felipe Andrade, I&#39;m feeling somewhat sorry for Noelia here being repeatedly reprimanded with such ill-informed comments. \n\nFor anyone visiting this page: What Noelia is asking for is called &quot;rounding up&quot;, it is not the same as &quot;ceiling&quot; (negative numbers!), whether it is mathematically correct or not is a matter of definition, and most languages I know, including Kotlin and Java, support this rounding mode. It does not take much imagination to think of applications in finance (e.g. a simple piggy-bank saving plan offered by some banks) or in automation.","body":"@DmitryBrant, Andy Turner, Felipe Andrade, I&#39;m feeling somewhat sorry for Noelia here being repeatedly reprimanded with such ill-informed comments.   For anyone visiting this page: What Noelia is asking for is called &quot;rounding up&quot;, it is not the same as &quot;ceiling&quot; (negative numbers!), whether it is mathematically correct or not is a matter of definition, and most languages I know, including Kotlin and Java, support this rounding mode. It does not take much imagination to think of applications in finance (e.g. a simple piggy-bank saving plan offered by some banks) or in automation."},{"owner":{"account_id":26155,"reputation":7677,"user_id":67808,"accept_rate":64,"display_name":"Dmitry Brant"},"score":2,"creation_date":1613140717,"post_id":49011924,"comment_id":116991801,"body_markdown":"@jerry In that case, the question is extremely confusingly phrased and should be rewritten, with perhaps a brief mention of OP&#39;s use case for this rounding scheme.  Rounding up to 1 decimal place would mean that 0.000001 would become 0.1.  It&#39;s not *at all* clear from the question that this is what OP wants.","body":"@jerry In that case, the question is extremely confusingly phrased and should be rewritten, with perhaps a brief mention of OP&#39;s use case for this rounding scheme.  Rounding up to 1 decimal place would mean that 0.000001 would become 0.1.  It&#39;s not <i>at all</i> clear from the question that this is what OP wants."},{"owner":{"display_name":"user3386180"},"score":1,"creation_date":1613142573,"post_id":49011924,"comment_id":116992671,"body_markdown":"@DmitryBrant After reading again, my apologies, I tend to agree with your statement. Not so much though with your first comment that got an awful lot of upvotes. There can be good reasons for rounding in only one direction, but normally not this way.","body":"@DmitryBrant After reading again, my apologies, I tend to agree with your statement. Not so much though with your first comment that got an awful lot of upvotes. There can be good reasons for rounding in only one direction, but normally not this way."}],"answers":[{"tags":[],"owner":{"account_id":2527365,"reputation":142481,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":3,"up_vote_count":65,"is_accepted":false,"score":62,"last_activity_date":1519746785,"creation_date":1519745402,"answer_id":49012345,"question_id":49011924,"body_markdown":"The [`BigDecimal`][1] rounding features several [`RoundingMode`][2]s, including those rounding up (away from zero) or towards positive infinity. If that&#39;s what you need, you can perform rounding by calling [`setScale`][3] as follows:\r\n\r\n    val number = 0.0449999\r\n    val rounded = number.toBigDecimal().setScale(1, RoundingMode.UP).toDouble()\r\n    println(rounded) // 0.1\r\n\r\nNote, however, that it works in a way that will also round anything between `0.0` and `0.1` to `0.1` (e.g. `0.00001` → `0.1`).\r\n\r\n&lt;sup&gt;The [`.toBigDecimal()`][4] extension is available [since Kotlin 1.2][5].&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale(int,%20java.math.RoundingMode)\r\n  [4]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-big-decimal.html\r\n  [5]: https://kotlinlang.org/docs/reference/whatsnew12.html#operators-and-conversions-for-biginteger-and-bigdecimal","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> rounding features several <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\" rel=\"noreferrer\"><code>RoundingMode</code></a>s, including those rounding up (away from zero) or towards positive infinity. If that's what you need, you can perform rounding by calling <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale(int,%20java.math.RoundingMode)\" rel=\"noreferrer\"><code>setScale</code></a> as follows:</p>\n\n<pre><code>val number = 0.0449999\nval rounded = number.toBigDecimal().setScale(1, RoundingMode.UP).toDouble()\nprintln(rounded) // 0.1\n</code></pre>\n\n<p>Note, however, that it works in a way that will also round anything between <code>0.0</code> and <code>0.1</code> to <code>0.1</code> (e.g. <code>0.00001</code> → <code>0.1</code>).</p>\n\n<p><sup>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-big-decimal.html\" rel=\"noreferrer\"><code>.toBigDecimal()</code></a> extension is available <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#operators-and-conversions-for-biginteger-and-bigdecimal\" rel=\"noreferrer\">since Kotlin 1.2</a>.</sup></p>\n"},{"tags":[],"owner":{"account_id":9605274,"reputation":3846,"user_id":7131507,"display_name":"Noelia"},"down_vote_count":8,"up_vote_count":167,"is_accepted":true,"score":159,"last_activity_date":1586515931,"creation_date":1521731880,"answer_id":49432344,"question_id":49011924,"body_markdown":"Finally I did what `Andy Turner` suggested, rounded to 3 decimals, then to 2 and then to 1:\r\n\r\n**Answer 1:**\r\n\r\n    val number:Double = 0.0449999\r\n    val number3digits:Double = String.format(&quot;%.3f&quot;, number).toDouble()\r\n    val number2digits:Double = String.format(&quot;%.2f&quot;, number3digits).toDouble()\r\n    val solution:Double = String.format(&quot;%.1f&quot;, number2digits).toDouble()\r\n\r\n**Answer 2:**\r\n\r\n    val number:Double = 0.0449999\r\n    val number3digits:Double = Math.round(number * 1000.0) / 1000.0\r\n    val number2digits:Double = Math.round(number3digits * 100.0) / 100.0\r\n    val solution:Double = Math.round(number2digits * 10.0) / 10.0\r\n\r\n**Result**: \r\n\r\n&gt; 0.045 → 0.05 → 0.1\r\n\r\nNote: I know it is not how it should work but sometimes you need to round up taking into account all decimals for some special cases so maybe someone finds this useful.","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>Finally I did what <code>Andy Turner</code> suggested, rounded to 3 decimals, then to 2 and then to 1:</p>\n\n<p><strong>Answer 1:</strong></p>\n\n<pre><code>val number:Double = 0.0449999\nval number3digits:Double = String.format(\"%.3f\", number).toDouble()\nval number2digits:Double = String.format(\"%.2f\", number3digits).toDouble()\nval solution:Double = String.format(\"%.1f\", number2digits).toDouble()\n</code></pre>\n\n<p><strong>Answer 2:</strong></p>\n\n<pre><code>val number:Double = 0.0449999\nval number3digits:Double = Math.round(number * 1000.0) / 1000.0\nval number2digits:Double = Math.round(number3digits * 100.0) / 100.0\nval solution:Double = Math.round(number2digits * 10.0) / 10.0\n</code></pre>\n\n<p><strong>Result</strong>: </p>\n\n<blockquote>\n  <p>0.045 → 0.05 → 0.1</p>\n</blockquote>\n\n<p>Note: I know it is not how it should work but sometimes you need to round up taking into account all decimals for some special cases so maybe someone finds this useful.</p>\n"},{"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1596125383,"creation_date":1533415658,"answer_id":51689453,"question_id":49011924,"body_markdown":"**1. Method (using Noelia&#39;s idea):**\r\n\r\nYou can pass the number of desired decimal places in a string template and make the precision variable this way:\r\n\r\n    fun Number.roundTo(\r\n      numFractionDigits: Int\r\n    ) = &quot;%.${numFractionDigits}f&quot;.format(this, Locale.ENGLISH).toDouble()\r\n\r\n**2. Method (numeric, no string conversion)**\r\n\r\n    fun Double.roundTo(numFractionDigits: Int): Double {\r\n      val factor = 10.0.pow(numFractionDigits.toDouble())\r\n      return (this * factor).roundToInt() / factor\r\n    }\r\n\r\n&lt;sub&gt;One could create an overload for `Float` as well.&lt;/sub&gt;\r\n","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p><strong>1. Method (using Noelia's idea):</strong></p>\n<p>You can pass the number of desired decimal places in a string template and make the precision variable this way:</p>\n<pre><code>fun Number.roundTo(\n  numFractionDigits: Int\n) = &quot;%.${numFractionDigits}f&quot;.format(this, Locale.ENGLISH).toDouble()\n</code></pre>\n<p><strong>2. Method (numeric, no string conversion)</strong></p>\n<pre><code>fun Double.roundTo(numFractionDigits: Int): Double {\n  val factor = 10.0.pow(numFractionDigits.toDouble())\n  return (this * factor).roundToInt() / factor\n}\n</code></pre>\n<p><sub>One could create an overload for <code>Float</code> as well.</sub></p>\n"},{"tags":[],"owner":{"account_id":13640180,"reputation":3514,"user_id":9840325,"display_name":"Gaurang Goda"},"down_vote_count":1,"up_vote_count":76,"is_accepted":false,"score":75,"last_activity_date":1592905334,"creation_date":1550044867,"answer_id":54665180,"question_id":49011924,"body_markdown":"I know some of the above solutions work perfectly but I want to add another solution that uses ceil and floor concept, which I think is optimized for all the cases.\r\n\r\n**If you want the highest value of the 2 digits after decimal use below code.**\r\n\r\n    import java.math.BigDecimal \r\n    import java.math.RoundingMode\r\n    import java.text.DecimalFormat\r\n\r\nhere, **1.45678 = 1.46**\r\n\r\n    fun roundOffDecimal(number: Double): Double? {\r\n        val df = DecimalFormat(&quot;#.##&quot;)\r\n        df.roundingMode = RoundingMode.CEILING\r\n        return df.format(number).toDouble()\r\n    }\r\n**If you want the lowest value of the 2 digits after decimal use below code.**\r\n\r\nhere, **1.45678 = 1.45**\r\n\r\n    fun roundOffDecimal(number: Double): Double? {\r\n        val df = DecimalFormat(&quot;#.##&quot;)\r\n        df.roundingMode = RoundingMode.FLOOR\r\n        return df.format(number).toDouble()\r\n    }\r\n\r\n\r\nHere a list of all available flags: `CEILING`, `DOWN`, `FLOOR`, `HALF_DOWN`, `HALF_EVEN`, `HALF_UP`, `UNNECESSARY`, `UP`\r\n\r\nThe detailed information is given in [docs][1]\r\n\r\n  [1]: https://developer.android.com/reference/java/math/RoundingMode","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>I know some of the above solutions work perfectly but I want to add another solution that uses ceil and floor concept, which I think is optimized for all the cases.</p>\n<p><strong>If you want the highest value of the 2 digits after decimal use below code.</strong></p>\n<pre><code>import java.math.BigDecimal \nimport java.math.RoundingMode\nimport java.text.DecimalFormat\n</code></pre>\n<p>here, <strong>1.45678 = 1.46</strong></p>\n<pre><code>fun roundOffDecimal(number: Double): Double? {\n    val df = DecimalFormat(&quot;#.##&quot;)\n    df.roundingMode = RoundingMode.CEILING\n    return df.format(number).toDouble()\n}\n</code></pre>\n<p><strong>If you want the lowest value of the 2 digits after decimal use below code.</strong></p>\n<p>here, <strong>1.45678 = 1.45</strong></p>\n<pre><code>fun roundOffDecimal(number: Double): Double? {\n    val df = DecimalFormat(&quot;#.##&quot;)\n    df.roundingMode = RoundingMode.FLOOR\n    return df.format(number).toDouble()\n}\n</code></pre>\n<p>Here a list of all available flags: <code>CEILING</code>, <code>DOWN</code>, <code>FLOOR</code>, <code>HALF_DOWN</code>, <code>HALF_EVEN</code>, <code>HALF_UP</code>, <code>UNNECESSARY</code>, <code>UP</code></p>\n<p>The detailed information is given in <a href=\"https://developer.android.com/reference/java/math/RoundingMode\" rel=\"noreferrer\">docs</a></p>\n"},{"tags":[],"owner":{"account_id":15908560,"reputation":1023,"user_id":11479058,"display_name":"Ignacio Garcia"},"down_vote_count":3,"up_vote_count":30,"is_accepted":false,"score":27,"last_activity_date":1592828632,"creation_date":1577553300,"answer_id":59513133,"question_id":49011924,"body_markdown":"An example of extension functions for Float and Double, round to n decimal positions.\r\n\r\n    fun Float.roundTo(n : Int) : Float {\r\n        return &quot;%.${n}f&quot;.format(this).toFloat()\r\n    }\r\n\r\n    fun Double.roundTo(n : Int) : Double {\r\n        return &quot;%.${n}f&quot;.format(this).toDouble()\r\n    }\r\n\r\n\r\n","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>An example of extension functions for Float and Double, round to n decimal positions.</p>\n<pre><code>fun Float.roundTo(n : Int) : Float {\n    return &quot;%.${n}f&quot;.format(this).toFloat()\n}\n\nfun Double.roundTo(n : Int) : Double {\n    return &quot;%.${n}f&quot;.format(this).toDouble()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4436291,"reputation":803,"user_id":3612063,"display_name":"kotoMJ"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1586335182,"creation_date":1586029413,"answer_id":61033820,"question_id":49011924,"body_markdown":"**Always beware of Locale!**\r\n\r\nWith unspecified locale you can get occasional issue (e.g. with Portugies locale) such as\r\n```\r\nFatal Exception: java.lang.NumberFormatException\r\nFor input string: &quot;0,1&quot;\r\n``` \r\n**1. Solution using DecimalFormat approach**\r\n\r\n``` \r\nfun Float.roundToOneDecimalPlace(): Float {\r\n\tval df = DecimalFormat(&quot;#.#&quot;, DecimalFormatSymbols(Locale.ENGLISH)).apply {\r\n\t\troundingMode = RoundingMode.HALF_UP\r\n\t}\r\n\treturn df.format(this).toFloat()\r\n}\r\n```\r\n\r\n\r\n**2. Solution using string format approach**\r\n\r\n```\r\nfun Float.roundTo(decimalPlaces: Int): Float {\r\n\treturn &quot;%.${decimalPlaces}f&quot;.format(Locale.ENGLISH,this).toFloat()\r\n}\r\n```\r\n\r\n","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p><strong>Always beware of Locale!</strong></p>\n\n<p>With unspecified locale you can get occasional issue (e.g. with Portugies locale) such as</p>\n\n<pre><code>Fatal Exception: java.lang.NumberFormatException\nFor input string: \"0,1\"\n</code></pre>\n\n<p><strong>1. Solution using DecimalFormat approach</strong></p>\n\n<pre><code>fun Float.roundToOneDecimalPlace(): Float {\n    val df = DecimalFormat(\"#.#\", DecimalFormatSymbols(Locale.ENGLISH)).apply {\n        roundingMode = RoundingMode.HALF_UP\n    }\n    return df.format(this).toFloat()\n}\n</code></pre>\n\n<p><strong>2. Solution using string format approach</strong></p>\n\n<pre><code>fun Float.roundTo(decimalPlaces: Int): Float {\n    return \"%.${decimalPlaces}f\".format(Locale.ENGLISH,this).toFloat()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14193141,"reputation":5681,"user_id":13098417,"display_name":"Shirsh Shukla"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1610522392,"creation_date":1610522392,"answer_id":65697275,"question_id":49011924,"body_markdown":"Try this,\r\nits work for me\r\n\r\n         val number = 0.045\r\n         var filterUserPrice: String? = &quot;%.2f&quot;.format(number)\r\n         Log.v(&quot;afterRoundoff&quot;,&quot; : $filterUserPrice&quot;)// its print filterUserPrice is 0.05","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>Try this,\nits work for me</p>\n<pre><code>     val number = 0.045\n     var filterUserPrice: String? = &quot;%.2f&quot;.format(number)\n     Log.v(&quot;afterRoundoff&quot;,&quot; : $filterUserPrice&quot;)// its print filterUserPrice is 0.05\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14822624,"reputation":101,"user_id":10704407,"display_name":"Toufiqul Haque Mamun"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635135202,"creation_date":1635135202,"answer_id":69702809,"question_id":49011924,"body_markdown":"Try this way for two decimal value return as string\r\n\r\n    private fun getValue(doubleValue: Double): String {\r\n        return String.format(Locale.US, &quot;%.2f&quot;, doubleValue)\r\n    }","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>Try this way for two decimal value return as string</p>\n<pre><code>private fun getValue(doubleValue: Double): String {\n    return String.format(Locale.US, &quot;%.2f&quot;, doubleValue)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8323622,"reputation":319,"user_id":6254352,"display_name":"jafar_aml"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1651074967,"creation_date":1638785102,"answer_id":70243733,"question_id":49011924,"body_markdown":"In Kotlin I just use this function:\r\n\r\n    fun roundTheNumber(numInDouble: Double): String {\r\n    \r\n            return &quot;%.2f&quot;.format(numInDouble)\r\n    \r\n        }","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>In Kotlin I just use this function:</p>\n<pre><code>fun roundTheNumber(numInDouble: Double): String {\n\n        return &quot;%.2f&quot;.format(numInDouble)\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9860838,"reputation":1261,"user_id":7303915,"display_name":"Usman Zafer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1644508943,"creation_date":1644508943,"answer_id":71068333,"question_id":49011924,"body_markdown":"**For new comers**\r\n\r\n Using String.format for decimal precision can lead to problems for different languages.\r\n\r\nUse the following code to convert Double to as many decimal places as you want.\r\n\r\n    val price = 6.675668\r\n    \r\n    //to convert to 2 decimal places\r\n    totalTime = Math.round(totalTime * 100.0) / 100.00\r\n    // totalTime = 6.68\r\n    \r\n    //to convert to 4 decimal places\r\n    totalTime = Math.round(totalTime * 10000.0) / 10000.00\r\n    // totalTime = 6.6757\r\n\r\n","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p><strong>For new comers</strong></p>\n<p>Using String.format for decimal precision can lead to problems for different languages.</p>\n<p>Use the following code to convert Double to as many decimal places as you want.</p>\n<pre><code>val price = 6.675668\n\n//to convert to 2 decimal places\ntotalTime = Math.round(totalTime * 100.0) / 100.00\n// totalTime = 6.68\n\n//to convert to 4 decimal places\ntotalTime = Math.round(totalTime * 10000.0) / 10000.00\n// totalTime = 6.6757\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17612183,"reputation":381,"user_id":13413423,"display_name":"Mehranjp73"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648159166,"creation_date":1648159166,"answer_id":71609923,"question_id":49011924,"body_markdown":"Use this extension function:\r\n\r\n    toBigDecimal(MathContext(3, RoundingMode.HALF_EVEN)).toPlainString()","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>Use this extension function:</p>\n<pre><code>toBigDecimal(MathContext(3, RoundingMode.HALF_EVEN)).toPlainString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5039612,"reputation":471,"user_id":4047442,"display_name":"Saiful Sazib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684745745,"creation_date":1684745745,"answer_id":76304484,"question_id":49011924,"body_markdown":"  Use Kotlin Extension Function and then call where you need.\r\n\r\n    fun Double.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\r\n    fun Long.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\r\n    fun Float.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\r\n\r\nExample:\r\n\r\n    val amount = 156.26588\r\n    val roundAmount = amount.roundTo()\r\n    Log.d(&quot;Amount:&quot; &quot;$roundAmount&quot;) // Amount:156.26\r\n\r\n","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>Use Kotlin Extension Function and then call where you need.</p>\n<pre><code>fun Double.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\nfun Long.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\nfun Float.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\n</code></pre>\n<p>Example:</p>\n<pre><code>val amount = 156.26588\nval roundAmount = amount.roundTo()\nLog.d(&quot;Amount:&quot; &quot;$roundAmount&quot;) // Amount:156.26\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14771414,"reputation":868,"user_id":10667764,"display_name":"Arun Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685885211,"creation_date":1685885211,"answer_id":76400640,"question_id":49011924,"body_markdown":"If You want pure Kotlin solution then you can use ```roundToInt()``` method of Kolin\r\n\r\n```\r\nval result = ((number * 1000).roundToInt())/1000.0\r\n```","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>If You want pure Kotlin solution then you can use <code>roundToInt()</code> method of Kolin</p>\n<pre><code>val result = ((number * 1000).roundToInt())/1000.0\n</code></pre>\n"}],"owner":{"account_id":9605274,"reputation":3846,"user_id":7131507,"display_name":"Noelia"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187690,"favorite_count":0,"down_vote_count":13,"up_vote_count":128,"accepted_answer_id":49432344,"answer_count":13,"score":115,"last_activity_date":1685885211,"creation_date":1519744188,"question_id":49011924,"body_markdown":"I have a Double variable that is `0.0449999` and I would like to round it to 1 decimal place `0.1` .\r\n\r\nI am using Kotlin but the Java solution is also helpful.\r\n\r\n`val number:Double = 0.0449999`\r\n\r\nI tried getting 1 decimal place with these two solutions:\r\n\r\n1. `val solution = Math.round(number * 10.0) / 10.0`\r\n2. `val solution = String.format(&quot;%.1f&quot;, number)`\r\n\r\nThe problem is that I get 0.0 in both cases because it rounds the number from `0.04` to `0.0`. It doesn&#39;t take all decimals and round it.\r\n\r\nI would like to obtain 0.1: `0.045 -&gt; 0.05 -&gt; 0.1`","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>I have a Double variable that is <code>0.0449999</code> and I would like to round it to 1 decimal place <code>0.1</code> .</p>\n\n<p>I am using Kotlin but the Java solution is also helpful.</p>\n\n<p><code>val number:Double = 0.0449999</code></p>\n\n<p>I tried getting 1 decimal place with these two solutions:</p>\n\n<ol>\n<li><code>val solution = Math.round(number * 10.0) / 10.0</code></li>\n<li><code>val solution = String.format(\"%.1f\", number)</code></li>\n</ol>\n\n<p>The problem is that I get 0.0 in both cases because it rounds the number from <code>0.04</code> to <code>0.0</code>. It doesn't take all decimals and round it.</p>\n\n<p>I would like to obtain 0.1: <code>0.045 -&gt; 0.05 -&gt; 0.1</code></p>\n"},{"tags":["java","kotlin","sparql","graphdb","rdf4j"],"owner":{"account_id":19265827,"reputation":11,"user_id":14080785,"display_name":"Andrea Corradetti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685884898,"creation_date":1685876099,"question_id":76400033,"body_markdown":"I&#39;m developing a graphdb plugin using graphdb&#39;s Plugin API.\r\n\r\nI need my plugin to retrieve some statements from the current active graphdb repository to process them further.\r\nI want to make a query with this format:\r\n\r\n```\r\nPREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;\r\nPREFIX owl: &lt;http://www.w3.org/2002/07/owl#&gt;\r\nprefix proof: &lt;http://www.ontotext.com/proof/&gt;\r\nselect ?rule ?s ?p ?o ?context where {\r\n    values (?subject ?predicate ?object) {(&lt;urn:Mary&gt; &lt;urn:hasChild&gt; &lt;urn:John&gt;)}\r\n    ?ctx proof:explain (?subject ?predicate ?object) .\r\n    ?ctx proof:rule ?rule .\r\n    ?ctx proof:subject ?s .\r\n    ?ctx proof:predicate ?p .\r\n    ?ctx proof:object ?o .\r\n    ?ctx proof:context ?context .\r\n}\r\n```\r\n\r\nIf it&#39;s relevant, the stated query should be handled by another plugin: [the proof plugin](https://github.com/Ontotext-AD/graphdb-proof-plugin).  \r\nThis should happen automatically if the query is formulated correctly and the plugin is active and running on the repository.\r\n\r\n\r\nRDF4J offers some classes to formulate and send queries to a `RepositoryConnection` object. \r\n\r\n```\r\nRepository db = new SailRepository(new MemoryStore());\r\n\r\n// Open a connection to the database\r\ntry (RepositoryConnection conn = db.getConnection()) {\r\n  String filename = &quot;example-data-artists.ttl&quot;;\r\n  try (InputStream input = Example15SimpleSPARQLQuery.class.getResourceAsStream(&quot;/&quot; + filename)) {\r\n    // add the RDF data from the inputstream directly to our database\r\n    conn.add(input, &quot;&quot;, RDFFormat.TURTLE);\r\n  }\r\n\r\n  // We do a simple SPARQL SELECT-query that retrieves all resources of type `ex:Artist`,\r\n  // and their first names.\r\n  String queryString = &quot;PREFIX ex: &lt;http://example.org/&gt; \\n&quot;;\r\n  queryString += &quot;PREFIX foaf: &lt;&quot; + FOAF.NAMESPACE + &quot;&gt; \\n&quot;;\r\n  queryString += &quot;SELECT ?s ?n \\n&quot;;\r\n  queryString += &quot;WHERE { \\n&quot;;\r\n  queryString += &quot;    ?s a ex:Artist; \\n&quot;;\r\n  queryString += &quot;       foaf:firstName ?n .&quot;;\r\n  queryString += &quot;}&quot;;\r\n\r\n  TupleQuery query = conn.prepareTupleQuery(queryString);\r\n\r\n  // A QueryResult is also an AutoCloseable resource, so make sure it gets closed when done.\r\n  try (TupleQueryResult result = query.evaluate()) {\r\n    // we just iterate over all solutions in the result...\r\n    for (BindingSet solution : result) {\r\n      // ... and print out the value of the variable binding for ?s and ?n\r\n      System.out.println(&quot;?s = &quot; + solution.getValue(&quot;s&quot;));\r\n      System.out.println(&quot;?n = &quot; + solution.getValue(&quot;n&quot;));\r\n    }\r\n  }\r\n} finally {\r\n  // Before our program exits, make sure the database is properly shut down.\r\n  db.shutDown();\r\n}\r\n```\r\n\r\nThe first issue is that I haven&#39;t found a way to get an object of the correct type pointing to the current working repository for graphdb.  \r\nThe plugin API works with a `PluginConnection` object ([documented here](https://graphdb.ontotext.com/documentation/10.0/plug-in-api.html#repository-internals)) offering some utilities, but which does not seem to allow this kind of interfacing.  \r\nI was able to list all repositories present at localhost:7200, but I don&#39;t know how to distinguish the current working repository; if I want access to a repository I must know its id/name which is user-defined.\r\n\r\n[The docs show a possible solution using configuration files](https://graphdb.ontotext.com/documentation/10.0/using-graphdb-with-the-rdf4j-api.html).  \r\nI don&#39;t think I can rely on those. I can&#39;t be sure of where they are placed in a graphdb installation and it seems impractical in the context of a plugin.  \r\nAlso, they don&#39;t seem to show which repository is currently being queried.\r\n\r\nI have considered using the `getStatements()` function offered by `PluginConnection`. This allows for some basic filtering based on subject, predicate and object.  \r\nI find this insufficient for 2 reasons:\r\n1. I don&#39;t know how to use it to reproduce the behavior of more complex queries like the one above\r\n2. I can&#39;t use rdf lists in the object like this `?ctx proof:explain (?subject ?predicate ?object) .`\r\n\r\n\r\n","title":"How can I make sparql queries to the active repository from a graphdb plugin in java/kotlin?","body":"<p>I'm developing a graphdb plugin using graphdb's Plugin API.</p>\n<p>I need my plugin to retrieve some statements from the current active graphdb repository to process them further.\nI want to make a query with this format:</p>\n<pre><code>PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;\nPREFIX owl: &lt;http://www.w3.org/2002/07/owl#&gt;\nprefix proof: &lt;http://www.ontotext.com/proof/&gt;\nselect ?rule ?s ?p ?o ?context where {\n    values (?subject ?predicate ?object) {(&lt;urn:Mary&gt; &lt;urn:hasChild&gt; &lt;urn:John&gt;)}\n    ?ctx proof:explain (?subject ?predicate ?object) .\n    ?ctx proof:rule ?rule .\n    ?ctx proof:subject ?s .\n    ?ctx proof:predicate ?p .\n    ?ctx proof:object ?o .\n    ?ctx proof:context ?context .\n}\n</code></pre>\n<p>If it's relevant, the stated query should be handled by another plugin: <a href=\"https://github.com/Ontotext-AD/graphdb-proof-plugin\" rel=\"nofollow noreferrer\">the proof plugin</a>.<br />\nThis should happen automatically if the query is formulated correctly and the plugin is active and running on the repository.</p>\n<p>RDF4J offers some classes to formulate and send queries to a <code>RepositoryConnection</code> object.</p>\n<pre><code>Repository db = new SailRepository(new MemoryStore());\n\n// Open a connection to the database\ntry (RepositoryConnection conn = db.getConnection()) {\n  String filename = &quot;example-data-artists.ttl&quot;;\n  try (InputStream input = Example15SimpleSPARQLQuery.class.getResourceAsStream(&quot;/&quot; + filename)) {\n    // add the RDF data from the inputstream directly to our database\n    conn.add(input, &quot;&quot;, RDFFormat.TURTLE);\n  }\n\n  // We do a simple SPARQL SELECT-query that retrieves all resources of type `ex:Artist`,\n  // and their first names.\n  String queryString = &quot;PREFIX ex: &lt;http://example.org/&gt; \\n&quot;;\n  queryString += &quot;PREFIX foaf: &lt;&quot; + FOAF.NAMESPACE + &quot;&gt; \\n&quot;;\n  queryString += &quot;SELECT ?s ?n \\n&quot;;\n  queryString += &quot;WHERE { \\n&quot;;\n  queryString += &quot;    ?s a ex:Artist; \\n&quot;;\n  queryString += &quot;       foaf:firstName ?n .&quot;;\n  queryString += &quot;}&quot;;\n\n  TupleQuery query = conn.prepareTupleQuery(queryString);\n\n  // A QueryResult is also an AutoCloseable resource, so make sure it gets closed when done.\n  try (TupleQueryResult result = query.evaluate()) {\n    // we just iterate over all solutions in the result...\n    for (BindingSet solution : result) {\n      // ... and print out the value of the variable binding for ?s and ?n\n      System.out.println(&quot;?s = &quot; + solution.getValue(&quot;s&quot;));\n      System.out.println(&quot;?n = &quot; + solution.getValue(&quot;n&quot;));\n    }\n  }\n} finally {\n  // Before our program exits, make sure the database is properly shut down.\n  db.shutDown();\n}\n</code></pre>\n<p>The first issue is that I haven't found a way to get an object of the correct type pointing to the current working repository for graphdb.<br />\nThe plugin API works with a <code>PluginConnection</code> object (<a href=\"https://graphdb.ontotext.com/documentation/10.0/plug-in-api.html#repository-internals\" rel=\"nofollow noreferrer\">documented here</a>) offering some utilities, but which does not seem to allow this kind of interfacing.<br />\nI was able to list all repositories present at localhost:7200, but I don't know how to distinguish the current working repository; if I want access to a repository I must know its id/name which is user-defined.</p>\n<p><a href=\"https://graphdb.ontotext.com/documentation/10.0/using-graphdb-with-the-rdf4j-api.html\" rel=\"nofollow noreferrer\">The docs show a possible solution using configuration files</a>.<br />\nI don't think I can rely on those. I can't be sure of where they are placed in a graphdb installation and it seems impractical in the context of a plugin.<br />\nAlso, they don't seem to show which repository is currently being queried.</p>\n<p>I have considered using the <code>getStatements()</code> function offered by <code>PluginConnection</code>. This allows for some basic filtering based on subject, predicate and object.<br />\nI find this insufficient for 2 reasons:</p>\n<ol>\n<li>I don't know how to use it to reproduce the behavior of more complex queries like the one above</li>\n<li>I can't use rdf lists in the object like this <code>?ctx proof:explain (?subject ?predicate ?object) .</code></li>\n</ol>\n"},{"tags":["java","arrays","json","org.json"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1685870090,"post_id":76399561,"comment_id":134718920,"body_markdown":"You should be using a `JSONArray` as the value of the `Blocks` field.","body":"You should be using a <code>JSONArray</code> as the value of the <code>Blocks</code> field."},{"owner":{"account_id":13605092,"reputation":57,"user_id":9885009,"display_name":"Hamid"},"score":0,"creation_date":1685884662,"post_id":76399561,"comment_id":134720374,"body_markdown":"@TimMoore Thanks, Already I used `JSONArray`. But the challenge is inside the `blocks`, I need to append some json data inside the `blocks`.","body":"@TimMoore Thanks, Already I used <code>JSONArray</code>. But the challenge is inside the <code>blocks</code>, I need to append some json data inside the <code>blocks</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685885266,"post_id":76399561,"comment_id":134720432,"body_markdown":"I&#39;d suggest using regular arraylist/objects. Then if you want JSON, using Jackson/Gson. Keep in mind, Java doesn&#39;t have string interpolation, so `${link}` isn&#39;t doing what you think","body":"I&#39;d suggest using regular arraylist/objects. Then if you want JSON, using Jackson/Gson. Keep in mind, Java doesn&#39;t have string interpolation, so <code>${link}</code> isn&#39;t doing what you think"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1685915905,"post_id":76399561,"comment_id":134723905,"body_markdown":"It looks like Groovy code. Java also doesn’t have an each method on lists or use that lambda syntax.","body":"It looks like Groovy code. Java also doesn’t have an each method on lists or use that lambda syntax."}],"owner":{"account_id":13605092,"reputation":57,"user_id":9885009,"display_name":"Hamid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685884893,"creation_date":1685867994,"question_id":76399561,"body_markdown":"I need to implement a Java method to return a JSON. Here is the desired JSON output that I need to produce.\r\n```\r\n{\r\n  &quot;channel&quot;: &quot;channelId&quot;,\r\n  &quot;thread_ts&quot;: &quot;threadId&quot;,\r\n  &quot;reply_broadcast&quot;: true,\r\n  &quot;attachments&quot;: [{\r\n    &quot;color&quot;: &quot;#2F8AB7&quot;,\r\n    &quot;blocks&quot;: [{\r\n        &quot;type&quot;: &quot;divider&quot;\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;section&quot;,\r\n        &quot;text&quot;: {\r\n          &quot;type&quot;: &quot;mrkdwn&quot;,\r\n          &quot;text&quot;: &quot;Test header text&quot;\r\n        }\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;divider&quot;\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;section&quot;,\r\n        &quot;text&quot;: {\r\n          &quot;type&quot;: &quot;mrkdwn&quot;,\r\n          &quot;text&quot;: &quot;Test text 01&quot;\r\n        },\r\n        &quot;accessory&quot;: {\r\n          &quot;type&quot;: &quot;button&quot;,\r\n          &quot;text&quot;: {\r\n            &quot;type&quot;: &quot;plain_text&quot;,\r\n            &quot;text&quot;: &quot;Click Here&quot;,\r\n            &quot;emoji&quot;: true\r\n          },\r\n          &quot;url&quot;: &quot;https://mycompany.com/link1&quot;\r\n        }\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;section&quot;,\r\n        &quot;text&quot;: {\r\n          &quot;type&quot;: &quot;mrkdwn&quot;,\r\n          &quot;text&quot;: &quot;Test text 02&quot;\r\n        },\r\n        &quot;accessory&quot;: {\r\n          &quot;type&quot;: &quot;button&quot;,\r\n          &quot;text&quot;: {\r\n            &quot;type&quot;: &quot;plain_text&quot;,\r\n            &quot;text&quot;: &quot;Click Here&quot;,\r\n            &quot;emoji&quot;: true\r\n          },\r\n          &quot;url&quot;: &quot;https://mycompany.com/link2&quot;\r\n        }\r\n      }\r\n    ]\r\n  }]\r\n}\r\n```\r\nFor this aim, I&#39;ve used `JSONObject` and `JSONArray` (`org.json`). Here is the particular section of this JSON which must be dynamic and extendable.\r\n```\r\n{\r\n  &quot;type&quot;:&quot;section&quot;,\r\n  &quot;text&quot;:{\r\n    &quot;type&quot;:&quot;mrkdwn&quot;,\r\n    &quot;text&quot;:&quot;Test text 03&quot;\r\n  },\r\n  &quot;accessory&quot;:{\r\n    &quot;type&quot;:&quot;button&quot;,\r\n    &quot;text&quot;:{\r\n      &quot;type&quot;:&quot;plain_text&quot;,\r\n      &quot;text&quot;:&quot;Click Here&quot;,\r\n      &quot;emoji&quot;:true\r\n    },\r\n    &quot;url&quot;:&quot;https://mycompany.com/link3&quot;\r\n  }\r\n}\r\n```\r\nThe problem is, merging/appending two `JSONObject`s together is not possible without defining the &#39;key&#39;. How can I add the dynamic part to the JSON.\r\n```java\r\nprivate JSONObject produceJsonBlock(final List&lt;String&gt; links) {\r\n    JSONObject jsonObject = new JSONObject()\r\n            .put(&quot;channel&quot;, &quot;channelId&quot;)\r\n            .put(&quot;thread_ts&quot;, &quot;threadId&quot;)\r\n            .put(&quot;reply_broadcast&quot;, &quot;broadcast&quot;)\r\n            .put(&quot;attachments&quot;, new JSONArray()\r\n                    .put(0, new JSONObject()\r\n                            .put(&quot;color&quot;, &quot;colorMessage&quot;)\r\n                            .put(&quot;blocks&quot;, new JSONArray()\r\n                                    .put(0, new JSONObject()\r\n                                            .put(&quot;type&quot;, &quot;divider&quot;)\r\n                                            .put(&quot;type&quot;, &quot;section&quot;)\r\n                                            .put(&quot;text&quot;, new JSONObject()\r\n                                                    .put(&quot;type&quot;, &quot;mrkdwn&quot;)\r\n                                                    .put(&quot;text&quot;, &quot;&quot;)\r\n                                            )\r\n                                            .put(&quot;type&quot;, &quot;divider&quot;)\r\n                                    )\r\n                            )\r\n                    )\r\n            )\r\n\r\n    links.each { final String link -&gt;\r\n        JSONObject linksJson = new JSONObject()\r\n                .put(&quot;type&quot;, &quot;section&quot;)\r\n                .put(&quot;text&quot;, new JSONObject()\r\n                        .put(&quot;type&quot;, &quot;mrkdwn&quot;)\r\n                        .put(&quot;text&quot;, &quot;Test text ...&quot;)\r\n                )\r\n                .put(&quot;accessory&quot;, new JSONObject()\r\n                        .put(&quot;type&quot;, &quot;button&quot;)\r\n                        .put(&quot;text&quot;, &quot;Click Here&quot;)\r\n                        .put(&quot;emoji&quot;, true)\r\n                        .put(&quot;url&quot;, &quot;https://mycompany.com/${link}&quot;)\r\n                )\r\n        /**\r\n         * ???\r\n         * As I checked jsonObject.append()/jsonObject.put(), they cannot be used. because\r\n         * they don&#39;t accept just a JSONObject without introducing the key.\r\n         * */\r\n\r\n    }\r\n}\r\n```","title":"How to produce a dynamic JSON by JSONObject in Java","body":"<p>I need to implement a Java method to return a JSON. Here is the desired JSON output that I need to produce.</p>\n<pre><code>{\n  &quot;channel&quot;: &quot;channelId&quot;,\n  &quot;thread_ts&quot;: &quot;threadId&quot;,\n  &quot;reply_broadcast&quot;: true,\n  &quot;attachments&quot;: [{\n    &quot;color&quot;: &quot;#2F8AB7&quot;,\n    &quot;blocks&quot;: [{\n        &quot;type&quot;: &quot;divider&quot;\n      },\n      {\n        &quot;type&quot;: &quot;section&quot;,\n        &quot;text&quot;: {\n          &quot;type&quot;: &quot;mrkdwn&quot;,\n          &quot;text&quot;: &quot;Test header text&quot;\n        }\n      },\n      {\n        &quot;type&quot;: &quot;divider&quot;\n      },\n      {\n        &quot;type&quot;: &quot;section&quot;,\n        &quot;text&quot;: {\n          &quot;type&quot;: &quot;mrkdwn&quot;,\n          &quot;text&quot;: &quot;Test text 01&quot;\n        },\n        &quot;accessory&quot;: {\n          &quot;type&quot;: &quot;button&quot;,\n          &quot;text&quot;: {\n            &quot;type&quot;: &quot;plain_text&quot;,\n            &quot;text&quot;: &quot;Click Here&quot;,\n            &quot;emoji&quot;: true\n          },\n          &quot;url&quot;: &quot;https://mycompany.com/link1&quot;\n        }\n      },\n      {\n        &quot;type&quot;: &quot;section&quot;,\n        &quot;text&quot;: {\n          &quot;type&quot;: &quot;mrkdwn&quot;,\n          &quot;text&quot;: &quot;Test text 02&quot;\n        },\n        &quot;accessory&quot;: {\n          &quot;type&quot;: &quot;button&quot;,\n          &quot;text&quot;: {\n            &quot;type&quot;: &quot;plain_text&quot;,\n            &quot;text&quot;: &quot;Click Here&quot;,\n            &quot;emoji&quot;: true\n          },\n          &quot;url&quot;: &quot;https://mycompany.com/link2&quot;\n        }\n      }\n    ]\n  }]\n}\n</code></pre>\n<p>For this aim, I've used <code>JSONObject</code> and <code>JSONArray</code> (<code>org.json</code>). Here is the particular section of this JSON which must be dynamic and extendable.</p>\n<pre><code>{\n  &quot;type&quot;:&quot;section&quot;,\n  &quot;text&quot;:{\n    &quot;type&quot;:&quot;mrkdwn&quot;,\n    &quot;text&quot;:&quot;Test text 03&quot;\n  },\n  &quot;accessory&quot;:{\n    &quot;type&quot;:&quot;button&quot;,\n    &quot;text&quot;:{\n      &quot;type&quot;:&quot;plain_text&quot;,\n      &quot;text&quot;:&quot;Click Here&quot;,\n      &quot;emoji&quot;:true\n    },\n    &quot;url&quot;:&quot;https://mycompany.com/link3&quot;\n  }\n}\n</code></pre>\n<p>The problem is, merging/appending two <code>JSONObject</code>s together is not possible without defining the 'key'. How can I add the dynamic part to the JSON.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private JSONObject produceJsonBlock(final List&lt;String&gt; links) {\n    JSONObject jsonObject = new JSONObject()\n            .put(&quot;channel&quot;, &quot;channelId&quot;)\n            .put(&quot;thread_ts&quot;, &quot;threadId&quot;)\n            .put(&quot;reply_broadcast&quot;, &quot;broadcast&quot;)\n            .put(&quot;attachments&quot;, new JSONArray()\n                    .put(0, new JSONObject()\n                            .put(&quot;color&quot;, &quot;colorMessage&quot;)\n                            .put(&quot;blocks&quot;, new JSONArray()\n                                    .put(0, new JSONObject()\n                                            .put(&quot;type&quot;, &quot;divider&quot;)\n                                            .put(&quot;type&quot;, &quot;section&quot;)\n                                            .put(&quot;text&quot;, new JSONObject()\n                                                    .put(&quot;type&quot;, &quot;mrkdwn&quot;)\n                                                    .put(&quot;text&quot;, &quot;&quot;)\n                                            )\n                                            .put(&quot;type&quot;, &quot;divider&quot;)\n                                    )\n                            )\n                    )\n            )\n\n    links.each { final String link -&gt;\n        JSONObject linksJson = new JSONObject()\n                .put(&quot;type&quot;, &quot;section&quot;)\n                .put(&quot;text&quot;, new JSONObject()\n                        .put(&quot;type&quot;, &quot;mrkdwn&quot;)\n                        .put(&quot;text&quot;, &quot;Test text ...&quot;)\n                )\n                .put(&quot;accessory&quot;, new JSONObject()\n                        .put(&quot;type&quot;, &quot;button&quot;)\n                        .put(&quot;text&quot;, &quot;Click Here&quot;)\n                        .put(&quot;emoji&quot;, true)\n                        .put(&quot;url&quot;, &quot;https://mycompany.com/${link}&quot;)\n                )\n        /**\n         * ???\n         * As I checked jsonObject.append()/jsonObject.put(), they cannot be used. because\n         * they don't accept just a JSONObject without introducing the key.\n         * */\n\n    }\n}\n</code></pre>\n"},{"tags":["java","hbase","apache-phoenix"],"owner":{"account_id":27860771,"reputation":1,"user_id":21273369,"display_name":"defcharlielin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685884504,"creation_date":1685883684,"question_id":76400553,"body_markdown":"[enter image description here](https://i.stack.imgur.com/hOUAo.png)\r\n[enter image description here](https://i.stack.imgur.com/6uzo0.png)\r\n\r\nMy Hadoop is 3.1.3,HBase is 2.0.5,Phoenix is 5.0.0\r\nWhen i am running Java API code to connect Apache Phoenix in test,output the problem:\r\n```\r\nException in thread &quot;main&quot; java.sql.SQLException: ERROR 2006 (INT08): Incompatible jars detected between client and server. Ensure that phoenix-[version]-server.jar is put on the classpath of HBase in every region server: Failed after attempts=16, exceptions:\r\nSun Jun 04 20:48:32 CST 2023, RpcRetryingCaller{globalStartTime=1685882911171, pause=100, maxAttempts=16}, org.apache.hadoop.hbase.NotServingRegionException: org.apache.hadoop.hbase.NotServingRegionException: SYSTEM:CATALOG,,1685627196784.b7ab9fb04c17719c8acf0b428e7343fd. is not online on master.hadoop.com,16020,1685882875673\r\n\tat org.apache.hadoop.hbase.regionserver.HRegionServer.getRegionByEncodedName(HRegionServer.java:3272)\r\n\tat org.apache.hadoop.hbase.regionserver.HRegionServer.getRegion(HRegionServer.java:3249)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.getRegion(RSRpcServices.java:1414)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2390)\r\n\tat org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:42010)\r\n\tat org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:413)\r\n\tat org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:130)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:324)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:304)\r\n\r\nSun Jun 04 20:48:32 CST 2023, RpcRetryingCaller{globalStartTime=1685882911171, pause=100, maxAttempts=16}, org.apache.hadoop.hbase.NotServingRegionException: org.apache.hadoop.hbase.NotServingRegionException: SYSTEM:CATALOG,,1685627196784.b7ab9fb04c17719c8acf0b428e7343fd. is not online on master.hadoop.com,16020,1685882875673\r\n\tat org.apache.hadoop.hbase.regionserver.HRegionServer.getRegionByEncodedName(HRegionServer.java:3272)\r\n\tat org.apache.hadoop.hbase.regionserver.HRegionServer.getRegion(HRegionServer.java:3249)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.getRegion(RSRpcServices.java:1414)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2390)\r\n\tat org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:42010)\r\n\tat org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:413)\r\n\tat org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:130)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:324)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:304)\r\n```\r\n\r\nBut i have add phoenix-5.0.0-HBase-2.0-server.jar to HBase Classpath,also i add Phoenix driver in pom.xml","title":"Java API connect Apache Phoenix failed,ERROR 2006 (INT08)","body":"<p><a href=\"https://i.stack.imgur.com/hOUAo.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/6uzo0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>My Hadoop is 3.1.3,HBase is 2.0.5,Phoenix is 5.0.0\nWhen i am running Java API code to connect Apache Phoenix in test,output the problem:</p>\n<pre><code>Exception in thread &quot;main&quot; java.sql.SQLException: ERROR 2006 (INT08): Incompatible jars detected between client and server. Ensure that phoenix-[version]-server.jar is put on the classpath of HBase in every region server: Failed after attempts=16, exceptions:\nSun Jun 04 20:48:32 CST 2023, RpcRetryingCaller{globalStartTime=1685882911171, pause=100, maxAttempts=16}, org.apache.hadoop.hbase.NotServingRegionException: org.apache.hadoop.hbase.NotServingRegionException: SYSTEM:CATALOG,,1685627196784.b7ab9fb04c17719c8acf0b428e7343fd. is not online on master.hadoop.com,16020,1685882875673\n    at org.apache.hadoop.hbase.regionserver.HRegionServer.getRegionByEncodedName(HRegionServer.java:3272)\n    at org.apache.hadoop.hbase.regionserver.HRegionServer.getRegion(HRegionServer.java:3249)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.getRegion(RSRpcServices.java:1414)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2390)\n    at org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:42010)\n    at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:413)\n    at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:130)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:324)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:304)\n\nSun Jun 04 20:48:32 CST 2023, RpcRetryingCaller{globalStartTime=1685882911171, pause=100, maxAttempts=16}, org.apache.hadoop.hbase.NotServingRegionException: org.apache.hadoop.hbase.NotServingRegionException: SYSTEM:CATALOG,,1685627196784.b7ab9fb04c17719c8acf0b428e7343fd. is not online on master.hadoop.com,16020,1685882875673\n    at org.apache.hadoop.hbase.regionserver.HRegionServer.getRegionByEncodedName(HRegionServer.java:3272)\n    at org.apache.hadoop.hbase.regionserver.HRegionServer.getRegion(HRegionServer.java:3249)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.getRegion(RSRpcServices.java:1414)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2390)\n    at org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:42010)\n    at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:413)\n    at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:130)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:324)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:304)\n</code></pre>\n<p>But i have add phoenix-5.0.0-HBase-2.0-server.jar to HBase Classpath,also i add Phoenix driver in pom.xml</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1685879600,"post_id":76400283,"comment_id":134719796,"body_markdown":"Please edit your question and provide the entire stack trace, not just the exception line.","body":"Please edit your question and provide the entire stack trace, not just the exception line."},{"owner":{"account_id":14773232,"reputation":20491,"user_id":10669010,"display_name":"Mister Jojo"},"score":0,"creation_date":1685882324,"post_id":76400283,"comment_id":134720085,"body_markdown":"https://en.wikipedia.org/wiki/JavaScript is not https://en.wikipedia.org/wiki/Java_(programming_language) and  not even https://en.wikipedia.org/wiki/Java","body":"<a href=\"https://en.wikipedia.org/wiki/JavaScript\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/JavaScript</a> is not <a href=\"https://en.wikipedia.org/wiki/Java_(programming_language)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_(programming_language)</a> and  not even <a href=\"https://en.wikipedia.org/wiki/Java\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java</a>"},{"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"score":0,"creation_date":1685882401,"post_id":76400283,"comment_id":134720093,"body_markdown":"Can you share your `AndroidManifest.xml `?","body":"Can you share your <code>AndroidManifest.xml </code>?"}],"owner":{"account_id":23943407,"reputation":1,"user_id":17936106,"display_name":"pranavh vummidi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685883862,"creation_date":1685879568,"question_id":76400283,"body_markdown":"I was creating a messaging app the Haxm was not downloaded  \r\nwhen I Downloaded from a Github link the flamingo software started to crash \r\nthen I deleted the Haxm and tried to run in my phone but launch was successful but app is not opening it says there is a bug Iam new to android studio and I don&#39;t know where to look for bugs in my code because my debugger was clean when I saw my logcat  it showed the following error\r\n: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chatapplication/com.example.chatapplication.MainActivity}: java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity.\r\n \r\n\r\n```kotlin\r\npackage com.example.chatapplication\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.content.Intent\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.widget.Button\r\nimport android.widget.EditText\r\n\r\n\r\n\r\nprivate lateinit var editemail:EditText\r\nprivate lateinit var editpassword:EditText\r\nprivate lateinit var btn:Button\r\nprivate lateinit var btn2:Button\r\n\r\n\r\n\r\n\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        editemail=findViewById(R.id.email)\r\n        editpassword=findViewById(R.id.password)\r\n        btn=findViewById(R.id.button)\r\n        btn2=findViewById(R.id.button2)\r\n        btn2.setOnClickListener {\r\n            val intent=Intent(this,Signup::class.java) //signup activity is empty xml and java file\r\n            startActivity(intent)\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nactivity_main.xml\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/relative&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    &gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/logo&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;182dp&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginStart=&quot;113dp&quot;\r\n        android:layout_marginTop=&quot;26dp&quot;\r\n        android:background=&quot;@drawable/logo&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/email&quot;\r\n        android:layout_width=&quot;405dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_below=&quot;@+id/logo&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginStart=&quot;6dp&quot;\r\n        android:layout_marginLeft=&quot;6dp&quot;\r\n        android:layout_marginTop=&quot;28dp&quot;\r\n        android:layout_marginEnd=&quot;0dp&quot;\r\n        android:layout_marginRight=&quot;6dp&quot;\r\n        android:background=&quot;@drawable/border&quot;\r\n        android:hint=&quot;Email&quot;\r\n        android:paddingLeft=&quot;15dp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/password&quot;\r\n        android:layout_width=&quot;405dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_below=&quot;@+id/relative&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:layout_marginStart=&quot;4dp&quot;\r\n        android:layout_marginLeft=&quot;6dp&quot;\r\n        android:layout_marginTop=&quot;33dp&quot;\r\n        android:layout_marginEnd=&quot;2dp&quot;\r\n        android:layout_marginRight=&quot;6dp&quot;\r\n        android:background=&quot;@drawable/border&quot;\r\n        android:hint=&quot;Password&quot;\r\n        android:paddingLeft=&quot;15dp&quot;\r\n        tools:ignore=&quot;NotSibling&quot; /&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button2&quot;\r\n        android:layout_width=&quot;140dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n\r\n\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;497dp&quot;\r\n        android:layout_marginEnd=&quot;116dp&quot;\r\n        android:layout_marginBottom=&quot;186dp&quot;\r\n        android:background=&quot;@drawable/fill&quot;\r\n        android:text=&quot;signup&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;424dp&quot;\r\n        android:layout_marginEnd=&quot;161dp&quot;\r\n        android:layout_marginBottom=&quot;224dp&quot;\r\n        android:background=&quot;@drawable/fill&quot;\r\n        android:text=&quot;Signin&quot; /&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chatapplication/com.example.chatapplication.MainActivity}:","body":"<p>I was creating a messaging app the Haxm was not downloaded<br />\nwhen I Downloaded from a Github link the flamingo software started to crash\nthen I deleted the Haxm and tried to run in my phone but launch was successful but app is not opening it says there is a bug Iam new to android studio and I don't know where to look for bugs in my code because my debugger was clean when I saw my logcat  it showed the following error\n: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chatapplication/com.example.chatapplication.MainActivity}: java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.example.chatapplication\n\nimport android.annotation.SuppressLint\nimport android.content.Intent\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.EditText\n\n\n\nprivate lateinit var editemail:EditText\nprivate lateinit var editpassword:EditText\nprivate lateinit var btn:Button\nprivate lateinit var btn2:Button\n\n\n\n\n\nclass MainActivity : AppCompatActivity() {\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        editemail=findViewById(R.id.email)\n        editpassword=findViewById(R.id.password)\n        btn=findViewById(R.id.button)\n        btn2=findViewById(R.id.button2)\n        btn2.setOnClickListener {\n            val intent=Intent(this,Signup::class.java) //signup activity is empty xml and java file\n            startActivity(intent)\n        }\n\n\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/relative&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    &gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/logo&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;182dp&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginStart=&quot;113dp&quot;\n        android:layout_marginTop=&quot;26dp&quot;\n        android:background=&quot;@drawable/logo&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/email&quot;\n        android:layout_width=&quot;405dp&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_below=&quot;@+id/logo&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginStart=&quot;6dp&quot;\n        android:layout_marginLeft=&quot;6dp&quot;\n        android:layout_marginTop=&quot;28dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:layout_marginRight=&quot;6dp&quot;\n        android:background=&quot;@drawable/border&quot;\n        android:hint=&quot;Email&quot;\n        android:paddingLeft=&quot;15dp&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/password&quot;\n        android:layout_width=&quot;405dp&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_below=&quot;@+id/relative&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:layout_marginStart=&quot;4dp&quot;\n        android:layout_marginLeft=&quot;6dp&quot;\n        android:layout_marginTop=&quot;33dp&quot;\n        android:layout_marginEnd=&quot;2dp&quot;\n        android:layout_marginRight=&quot;6dp&quot;\n        android:background=&quot;@drawable/border&quot;\n        android:hint=&quot;Password&quot;\n        android:paddingLeft=&quot;15dp&quot;\n        tools:ignore=&quot;NotSibling&quot; /&gt;\n\n\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;140dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n\n\n        android:layout_alignParentTop=&quot;true&quot;\n\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;497dp&quot;\n        android:layout_marginEnd=&quot;116dp&quot;\n        android:layout_marginBottom=&quot;186dp&quot;\n        android:background=&quot;@drawable/fill&quot;\n        android:text=&quot;signup&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;424dp&quot;\n        android:layout_marginEnd=&quot;161dp&quot;\n        android:layout_marginBottom=&quot;224dp&quot;\n        android:background=&quot;@drawable/fill&quot;\n        android:text=&quot;Signin&quot; /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jakarta-mail","mime-message"],"answers":[{"tags":[],"owner":{"account_id":14838004,"reputation":56,"user_id":10715499,"display_name":"Ken.Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685883861,"creation_date":1685883861,"answer_id":76400564,"question_id":76391900,"body_markdown":"Message use MimeMessage type.\r\n``` java\r\nMessage msg = new MimeMessage(session);\r\n// Set headers for confidentiality\r\nmsg.setHeader(&quot;Sensitivity&quot;, &quot;Company-Confidential&quot;);\r\nmsg.setHeader(&quot;Importance&quot;, &quot;High&quot;);\r\nmsg.setHeader(&quot;Priority&quot;, &quot;1&quot;);\r\n```","title":"How can I classify an email as internal in Outlook when sending it using JavaMail with Java Spring and Spring Boot?","body":"<p>Message use MimeMessage type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Message msg = new MimeMessage(session);\n// Set headers for confidentiality\nmsg.setHeader(&quot;Sensitivity&quot;, &quot;Company-Confidential&quot;);\nmsg.setHeader(&quot;Importance&quot;, &quot;High&quot;);\nmsg.setHeader(&quot;Priority&quot;, &quot;1&quot;);\n</code></pre>\n"}],"owner":{"account_id":5134857,"reputation":11,"user_id":4113955,"display_name":"Maddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685883861,"creation_date":1685722867,"question_id":76391900,"body_markdown":"How to add confidentiality using mime message . \r\n```java\r\nMessage msg = new Message ( session)\r\nmsg. Setfrom(….)\r\nmsg.setReply(…)\r\nmsg. Setsubject(…)\r\n….\r\n```\r\nI tried below and able to get in mail  that “please treat this as private” . \r\nBut this is not what ima trying to get\r\nMsg.Setheader (Sensitivity,”private”);\r\n\r\nWhen we sent a mail via Java mail ,I need to  get mail  classified as internal in my outlook . \r\nCan someone please guide me \r\n \r\nThanks in advance ","title":"How can I classify an email as internal in Outlook when sending it using JavaMail with Java Spring and Spring Boot?","body":"<p>How to add confidentiality using mime message .</p>\n<pre class=\"lang-java prettyprint-override\"><code>Message msg = new Message ( session)\nmsg. Setfrom(….)\nmsg.setReply(…)\nmsg. Setsubject(…)\n….\n</code></pre>\n<p>I tried below and able to get in mail  that “please treat this as private” .\nBut this is not what ima trying to get\nMsg.Setheader (Sensitivity,”private”);</p>\n<p>When we sent a mail via Java mail ,I need to  get mail  classified as internal in my outlook .\nCan someone please guide me</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","multithreading","graphics2d"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685883450,"creation_date":1685883450,"answer_id":76400540,"question_id":76399866,"body_markdown":"I see at least two reasons:\r\n1. `Graphics2D` is an abstract class which is not guaranteed to be thread safe. So executing whatever on it is a mistake in general. It could work in some cases, but doesn&#39;t have to.\r\n\r\n2. Your code is not thread-tolerant itself: `g.setColor(color);` is not atomic/synchronized with a `g.draw(new Rectangle(point));` call. So it would overlap between threads and be executed in an unpredictable order across them like this: \r\n\r\n&gt; thread 1: setColor(color1);\r\n&gt; \r\n&gt; thread 2: setColor(color2);\r\n&gt; \r\n&gt; thread 1: draw() // with color2;\r\n&gt; \r\n&gt; thread 2: draw() // with color2 also;\r\n\r\nSo consider:\r\n1. Synchronize `setColor` with `draw` for example in a basic way:\r\n\r\n\r\n            Point point = new Point((int) ptHeight.getX(), (int) ptHeight.getY());\r\n            synchronized(lockObject) {\r\n                g.setColor(color);\r\n                g.draw(new Rectangle(point));\r\n            }\r\n\r\nwhere the `lockObject` is an object shared between threads\r\n\r\n2. (Recommended) Avoid using `Graphics2D` with multiple threads. Consider doing only your math and other preparations in multiple thread and call `Graphics2D` from a single one. \r\n\r\n\r\n","title":"I&#39;m trying to draw a SRTM3-Tile with Multithreading in Java - what i&#39;m doing wrong?","body":"<p>I see at least two reasons:</p>\n<ol>\n<li><p><code>Graphics2D</code> is an abstract class which is not guaranteed to be thread safe. So executing whatever on it is a mistake in general. It could work in some cases, but doesn't have to.</p>\n</li>\n<li><p>Your code is not thread-tolerant itself: <code>g.setColor(color);</code> is not atomic/synchronized with a <code>g.draw(new Rectangle(point));</code> call. So it would overlap between threads and be executed in an unpredictable order across them like this:</p>\n</li>\n</ol>\n<blockquote>\n<p>thread 1: setColor(color1);</p>\n<p>thread 2: setColor(color2);</p>\n<p>thread 1: draw() // with color2;</p>\n<p>thread 2: draw() // with color2 also;</p>\n</blockquote>\n<p>So consider:</p>\n<ol>\n<li><p>Synchronize <code>setColor</code> with <code>draw</code> for example in a basic way:</p>\n<pre><code>     Point point = new Point((int) ptHeight.getX(), (int) ptHeight.getY());\n     synchronized(lockObject) {\n         g.setColor(color);\n         g.draw(new Rectangle(point));\n     }\n</code></pre>\n</li>\n</ol>\n<p>where the <code>lockObject</code> is an object shared between threads</p>\n<ol start=\"2\">\n<li>(Recommended) Avoid using <code>Graphics2D</code> with multiple threads. Consider doing only your math and other preparations in multiple thread and call <code>Graphics2D</code> from a single one.</li>\n</ol>\n"}],"owner":{"account_id":6683309,"reputation":51,"user_id":5155608,"display_name":"Ramirez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76400540,"answer_count":1,"score":2,"last_activity_date":1685883450,"creation_date":1685873726,"question_id":76399866,"body_markdown":"I&#39;m trying to paint a Srtm3-Tile with the Help of Multithreading. If i use only a single Thread every works fine, but when i use Multithreading the graphic ends up in a mess. Currently i use 12 Cores - any idea?\r\n\r\nHere is the code:\r\n\r\nThread-Init this piece of code resides in the paint method:\r\n\r\n                int cpuCount = Runtime.getRuntime().availableProcessors(); //12 Cores\r\n                int blockSize = size / cpuCount;\r\n                BigMapPOJO bigMapPOJO = new BigMapPOJO(srtmBorderPOJO.getFileName(), bigMap);\r\n\r\n\r\n                SrtmV2Thread threadArray[] = new SrtmV2Thread[cpuCount];\r\n                //Init Threads, cpuCount=1 works fine...\r\n                for (int i = 0; i &lt; cpuCount; i++) {\r\n                    SrtmV2Thread srtmV2Thread;\r\n                    if (i == cpuCount - 1) {\r\n                        srtmV2Thread = new SrtmV2Thread(g, map, bigMapPOJO, 0 + (i * blockSize), size, srtmBorderPOJO, min, max);\r\n                    } else {\r\n                        srtmV2Thread = new SrtmV2Thread(g, map, bigMapPOJO, 0 + (i * blockSize), blockSize + (i * blockSize), srtmBorderPOJO, min, max);\r\n                    }\r\n                    threadArray[i] = srtmV2Thread;\r\n                }\r\n                for (int i = 0; i &lt; threadArray.length; i++) {\r\n                    //Start Threads\r\n                    threadArray[i].start();\r\n                }\r\n                for (int i = 0; i &lt; threadArray.length; i++) {\r\n                    try {\r\n                        //Wait for completion\r\n                        threadArray[i].join();\r\n                    } catch (InterruptedException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n\r\nRun Method of the Thread:\r\n\r\n              @Override\r\n             public void run() {\r\n\r\n        GeoPosition geoPosition0 = new GeoPosition(srtmV2BorderPOJO.getCoord0().getLat(), srtmV2BorderPOJO.getCoord0().getLon());\r\n        GeoPosition geoPosition1 = new GeoPosition(srtmV2BorderPOJO.getCoord1().getLat(), srtmV2BorderPOJO.getCoord1().getLon());\r\n        GeoPosition geoPosition2 = new GeoPosition(srtmV2BorderPOJO.getCoord2().getLat(), srtmV2BorderPOJO.getCoord2().getLon());\r\n        GeoPosition geoPosition3 = new GeoPosition(srtmV2BorderPOJO.getCoord3().getLat(), srtmV2BorderPOJO.getCoord3().getLon());\r\n\r\n        Point2D pt0 = map.getTileFactory().geoToPixel(geoPosition0, map.getZoom());\r\n        Point2D pt1 = map.getTileFactory().geoToPixel(geoPosition1, map.getZoom());\r\n        Point2D pt2 = map.getTileFactory().geoToPixel(geoPosition2, map.getZoom());\r\n        Point2D pt3 = map.getTileFactory().geoToPixel(geoPosition3, map.getZoom());\r\n\r\n        /*\r\n        0-1\r\n        3-2\r\n         */\r\n        //calulate width and height of a single tile\r\n        int resHor = (int) ((pt1.getX() - pt0.getX()));\r\n        int resVer = (int) ((pt3.getY() - pt0.getY()));\r\n\r\n        int horStep = (int) (size / (double) resHor);\r\n        int verStep = (int) (size / (double) resVer);\r\n        \r\n        //start and end comes from the thread init\r\n        for (int y = start; y &lt; end; y += verStep) {\r\n\r\n            for (int x = 0; x &lt; size; x += horStep) {\r\n\r\n                double ver = y / (double) (size);\r\n                double hor = x / (double) (size);\r\n\r\n                GeoPosition geoPosition = new GeoPosition(srtmV2BorderPOJO.getCoord0().getLat() - ver, srtmV2BorderPOJO.getCoord0().getLon() + hor);\r\n                Point2D ptHeight = map.getTileFactory().geoToPixel(geoPosition, map.getZoom());\r\n\r\n                short height = bigMapPOJO.getBigMap()[y][x];\r\n                if (height &lt; 0) {\r\n                    height = 0;\r\n                }\r\n\r\n                double percent = getPercentFromHeight(min, max, height);\r\n                Color colorHeight = genColor(percent);\r\n\r\n                double red = colorHeight.getRed();\r\n                double green = colorHeight.getGreen();\r\n                double blue = colorHeight.getBlue();\r\n                \r\n                //draw point in calculated color, according to height\r\n                java.awt.Color color = new java.awt.Color((int) (red * 255), (int) (green * 255), (int) (blue * 255), 255);\r\n                g.setColor(color);\r\n\r\n                Point point = new Point((int) ptHeight.getX(), (int) ptHeight.getY());\r\n\r\n                g.draw(new Rectangle(point));\r\n            }\r\n        }\r\n    }","title":"I&#39;m trying to draw a SRTM3-Tile with Multithreading in Java - what i&#39;m doing wrong?","body":"<p>I'm trying to paint a Srtm3-Tile with the Help of Multithreading. If i use only a single Thread every works fine, but when i use Multithreading the graphic ends up in a mess. Currently i use 12 Cores - any idea?</p>\n<p>Here is the code:</p>\n<p>Thread-Init this piece of code resides in the paint method:</p>\n<pre><code>            int cpuCount = Runtime.getRuntime().availableProcessors(); //12 Cores\n            int blockSize = size / cpuCount;\n            BigMapPOJO bigMapPOJO = new BigMapPOJO(srtmBorderPOJO.getFileName(), bigMap);\n\n\n            SrtmV2Thread threadArray[] = new SrtmV2Thread[cpuCount];\n            //Init Threads, cpuCount=1 works fine...\n            for (int i = 0; i &lt; cpuCount; i++) {\n                SrtmV2Thread srtmV2Thread;\n                if (i == cpuCount - 1) {\n                    srtmV2Thread = new SrtmV2Thread(g, map, bigMapPOJO, 0 + (i * blockSize), size, srtmBorderPOJO, min, max);\n                } else {\n                    srtmV2Thread = new SrtmV2Thread(g, map, bigMapPOJO, 0 + (i * blockSize), blockSize + (i * blockSize), srtmBorderPOJO, min, max);\n                }\n                threadArray[i] = srtmV2Thread;\n            }\n            for (int i = 0; i &lt; threadArray.length; i++) {\n                //Start Threads\n                threadArray[i].start();\n            }\n            for (int i = 0; i &lt; threadArray.length; i++) {\n                try {\n                    //Wait for completion\n                    threadArray[i].join();\n                } catch (InterruptedException ex) {\n                    ex.printStackTrace();\n                }\n            }\n</code></pre>\n<p>Run Method of the Thread:</p>\n<pre><code>          @Override\n         public void run() {\n\n    GeoPosition geoPosition0 = new GeoPosition(srtmV2BorderPOJO.getCoord0().getLat(), srtmV2BorderPOJO.getCoord0().getLon());\n    GeoPosition geoPosition1 = new GeoPosition(srtmV2BorderPOJO.getCoord1().getLat(), srtmV2BorderPOJO.getCoord1().getLon());\n    GeoPosition geoPosition2 = new GeoPosition(srtmV2BorderPOJO.getCoord2().getLat(), srtmV2BorderPOJO.getCoord2().getLon());\n    GeoPosition geoPosition3 = new GeoPosition(srtmV2BorderPOJO.getCoord3().getLat(), srtmV2BorderPOJO.getCoord3().getLon());\n\n    Point2D pt0 = map.getTileFactory().geoToPixel(geoPosition0, map.getZoom());\n    Point2D pt1 = map.getTileFactory().geoToPixel(geoPosition1, map.getZoom());\n    Point2D pt2 = map.getTileFactory().geoToPixel(geoPosition2, map.getZoom());\n    Point2D pt3 = map.getTileFactory().geoToPixel(geoPosition3, map.getZoom());\n\n    /*\n    0-1\n    3-2\n     */\n    //calulate width and height of a single tile\n    int resHor = (int) ((pt1.getX() - pt0.getX()));\n    int resVer = (int) ((pt3.getY() - pt0.getY()));\n\n    int horStep = (int) (size / (double) resHor);\n    int verStep = (int) (size / (double) resVer);\n    \n    //start and end comes from the thread init\n    for (int y = start; y &lt; end; y += verStep) {\n\n        for (int x = 0; x &lt; size; x += horStep) {\n\n            double ver = y / (double) (size);\n            double hor = x / (double) (size);\n\n            GeoPosition geoPosition = new GeoPosition(srtmV2BorderPOJO.getCoord0().getLat() - ver, srtmV2BorderPOJO.getCoord0().getLon() + hor);\n            Point2D ptHeight = map.getTileFactory().geoToPixel(geoPosition, map.getZoom());\n\n            short height = bigMapPOJO.getBigMap()[y][x];\n            if (height &lt; 0) {\n                height = 0;\n            }\n\n            double percent = getPercentFromHeight(min, max, height);\n            Color colorHeight = genColor(percent);\n\n            double red = colorHeight.getRed();\n            double green = colorHeight.getGreen();\n            double blue = colorHeight.getBlue();\n            \n            //draw point in calculated color, according to height\n            java.awt.Color color = new java.awt.Color((int) (red * 255), (int) (green * 255), (int) (blue * 255), 255);\n            g.setColor(color);\n\n            Point point = new Point((int) ptHeight.getX(), (int) ptHeight.getY());\n\n            g.draw(new Rectangle(point));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","charts","axis","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1685319370,"post_id":76353666,"comment_id":134640831,"body_markdown":"A similar problem is examined [here](https://stackoverflow.com/a/39202162/230513); more [here](https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20mapDatasetToRangeAxis&amp;searchOn=3).","body":"A similar problem is examined <a href=\"https://stackoverflow.com/a/39202162/230513\">here</a>; more <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20mapDatasetToRangeAxis&amp;searchOn=3\">here</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1685551970,"post_id":76353666,"comment_id":134677393,"body_markdown":"If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/76353666/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."}],"owner":{"account_id":28698522,"reputation":1,"user_id":21976194,"display_name":"Chefselber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685883249,"answer_count":0,"score":0,"last_activity_date":1685883366,"creation_date":1685309168,"question_id":76353666,"body_markdown":"I&#180;m trying to add a second ValueAxis to the JFreeChart.\r\nI have two TimeSeries who have exactly the same x-values.\r\nthe first dataset should attach to the left Y-Axis and the second dataset to the right Y-Axis.\r\n\r\nIt works, but there are two blue y-value axis of the second Database value in the chart.\r\nOne belong to the left Y-Axis (blue one - nearly zero) and one to the right.\r\nOtherwise the values of the 1. values of the database are not correct displayed.\r\n[the values of the red are not correct displayed](https://i.stack.imgur.com/f2GEX.png)\r\n\r\n\r\n\r\n[Here is the value displaying is correct] But there is additional the blue one at zero value?\r\n(https://i.stack.imgur.com/rPv3C.png)\r\n\r\n\r\n\r\n After rezooming there is this displaying \r\n[enter image description here](https://i.stack.imgur.com/ZXyNP.png)\r\nThe one which is corresponding to the right y-Axis is gone??\r\n\r\n\r\nZooming the blue one:\r\nThe Y-Values to the left and the right are now the same? :(\r\n[enter image description here][1]\r\n\r\n\r\n\r\n```\r\npublic Graphen(final String title)\r\n    {\r\n        super(title);\r\n\r\n        final String chartTitel = &quot;PV Daten&quot;;\r\n        resultSet = Verbinden_thread_Datenbank.DatenAbfrage3();\r\n        TimeSeriesCollection TSC = new TimeSeriesCollection();\r\n        XYSeriesCollection XYSC = new XYSeriesCollection();\r\n       \r\n        TimeSeries s = Batterieleistung(resultSet);\r\n        TSC.addSeries(s);\r\n        TemperaturKesselResultSet = Verbinden_thread_Datenbank.DatenAbfrage2();\r\n         \r\n        TimeSeries s2 = TemperaturKessel(TemperaturKesselResultSet);\r\n        TSC.addSeries(s2);\r\n\r\n\r\n\r\n        final JFreeChart chart = ChartFactory.createTimeSeriesChart(&quot;PV Daten&quot;, &quot;Uhrzeit&quot;,&quot;Batteriespannung&quot;, TSC);   ///new TimeSeriesCollection(s)\r\n\r\n        SimpleDateFormat f = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n        f.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\r\n\r\n        XYPlot plot = (XYPlot) chart.getXYPlot();\r\n        ValueAxis valueAxis1 = (ValueAxis) plot.getRangeAxis(0);  // 1\r\n       /////\r\n    //    plot.setDataset(1,chart.getXYPlot().getDataset(0));      // 0   \r\n        valueAxis1.setRange(-5000.0, 5000.0);\r\n     //  plot.mapDatasetToRangeAxis(1, 1);\r\n/////        \r\n  \r\n      final NumberAxis axis3 = new NumberAxis(&quot;Temperatur Kessel&quot;);\r\n         plot.setRangeAxis(1,axis3);         // 2\r\n \r\n      ValueAxis valueAxis2 = (ValueAxis) plot.getRangeAxis(1);       // 2      \r\n    valueAxis2.setRange(38.0, 50.0);\r\n      \r\n//      \r\n  \r\n         \r\n        plot.setDataset(1,chart.getXYPlot().getDataset(0)) ;                     ///(1,chart.getXYPlot().getDataset(0));      // 0   \r\n        valueAxis2.setRange(38.0, 50.0);\r\n        plot.mapDatasetToRangeAxis(1, 1);\r\n   //     plot.setDataset(0, chart.getXYPlot().getDataset(0));              // (1,chart.getXYPlot().getDataset(0)); \r\n\r\n//    XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\r\n    //    r.setDefaultShapesVisible(true);\r\n\r\n    DateAxis domain = (DateAxis) plot.getDomainAxis();\r\n        domain.setDateFormatOverride(f);\r\n        domain.setVerticalTickLabels(true);\r\n\r\n   \r\n\r\n  \r\n        final ChartPanel panel = new ChartPanel(chart);\r\n     \r\n        panel.setPreferredSize(new java.awt.Dimension(1600,800));\r\n        panel.setRangeZoomable(true);\r\n        panel.setDomainZoomable(true);\r\n        setContentPane(panel);\r\n/*\r\n\r\nCategoryAxis domainAxis = plot.getDomainAxis();\r\ndomainAxis.setCategoryLabelPositions(\r\n    CategoryLabelPositions.createUpRotationLabelPositions(Math.PI / 2.0));\r\n*/\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe x-Values of the two TimeSeries are completely the same.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ql6BF.png","title":"Correct displaying of a second Y-axis JFreeChart","body":"<p>I´m trying to add a second ValueAxis to the JFreeChart.\nI have two TimeSeries who have exactly the same x-values.\nthe first dataset should attach to the left Y-Axis and the second dataset to the right Y-Axis.</p>\n<p>It works, but there are two blue y-value axis of the second Database value in the chart.\nOne belong to the left Y-Axis (blue one - nearly zero) and one to the right.\nOtherwise the values of the 1. values of the database are not correct displayed.\n<a href=\"https://i.stack.imgur.com/f2GEX.png\" rel=\"nofollow noreferrer\">the values of the red are not correct displayed</a></p>\n<p>[Here is the value displaying is correct] But there is additional the blue one at zero value?\n(<a href=\"https://i.stack.imgur.com/rPv3C.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/rPv3C.png</a>)</p>\n<p>After rezooming there is this displaying\n<a href=\"https://i.stack.imgur.com/ZXyNP.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe one which is corresponding to the right y-Axis is gone??</p>\n<p>Zooming the blue one:\nThe Y-Values to the left and the right are now the same? :(\n<a href=\"https://i.stack.imgur.com/Ql6BF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public Graphen(final String title)\n    {\n        super(title);\n\n        final String chartTitel = &quot;PV Daten&quot;;\n        resultSet = Verbinden_thread_Datenbank.DatenAbfrage3();\n        TimeSeriesCollection TSC = new TimeSeriesCollection();\n        XYSeriesCollection XYSC = new XYSeriesCollection();\n       \n        TimeSeries s = Batterieleistung(resultSet);\n        TSC.addSeries(s);\n        TemperaturKesselResultSet = Verbinden_thread_Datenbank.DatenAbfrage2();\n         \n        TimeSeries s2 = TemperaturKessel(TemperaturKesselResultSet);\n        TSC.addSeries(s2);\n\n\n\n        final JFreeChart chart = ChartFactory.createTimeSeriesChart(&quot;PV Daten&quot;, &quot;Uhrzeit&quot;,&quot;Batteriespannung&quot;, TSC);   ///new TimeSeriesCollection(s)\n\n        SimpleDateFormat f = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n        f.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\n\n        XYPlot plot = (XYPlot) chart.getXYPlot();\n        ValueAxis valueAxis1 = (ValueAxis) plot.getRangeAxis(0);  // 1\n       /////\n    //    plot.setDataset(1,chart.getXYPlot().getDataset(0));      // 0   \n        valueAxis1.setRange(-5000.0, 5000.0);\n     //  plot.mapDatasetToRangeAxis(1, 1);\n/////        \n  \n      final NumberAxis axis3 = new NumberAxis(&quot;Temperatur Kessel&quot;);\n         plot.setRangeAxis(1,axis3);         // 2\n \n      ValueAxis valueAxis2 = (ValueAxis) plot.getRangeAxis(1);       // 2      \n    valueAxis2.setRange(38.0, 50.0);\n      \n//      \n  \n         \n        plot.setDataset(1,chart.getXYPlot().getDataset(0)) ;                     ///(1,chart.getXYPlot().getDataset(0));      // 0   \n        valueAxis2.setRange(38.0, 50.0);\n        plot.mapDatasetToRangeAxis(1, 1);\n   //     plot.setDataset(0, chart.getXYPlot().getDataset(0));              // (1,chart.getXYPlot().getDataset(0)); \n\n//    XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\n    //    r.setDefaultShapesVisible(true);\n\n    DateAxis domain = (DateAxis) plot.getDomainAxis();\n        domain.setDateFormatOverride(f);\n        domain.setVerticalTickLabels(true);\n\n   \n\n  \n        final ChartPanel panel = new ChartPanel(chart);\n     \n        panel.setPreferredSize(new java.awt.Dimension(1600,800));\n        panel.setRangeZoomable(true);\n        panel.setDomainZoomable(true);\n        setContentPane(panel);\n/*\n\nCategoryAxis domainAxis = plot.getDomainAxis();\ndomainAxis.setCategoryLabelPositions(\n    CategoryLabelPositions.createUpRotationLabelPositions(Math.PI / 2.0));\n*/\n}\n</code></pre>\n<p>The x-Values of the two TimeSeries are completely the same.</p>\n"},{"tags":["java","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685883189,"creation_date":1685883189,"answer_id":76400529,"question_id":76400085,"body_markdown":"Firestore doesn&#39;t automatically generate document IDs when [working with batches](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/WriteBatch). For each document in the batch, you must provide a [DocumentReference](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference), and that object contains the ID before anything happens.\r\n\r\nYou can generate an ID any way you want.  They don&#39;t contain any data, and they are not hashes. They are just random characters, and are generated by the client app.\r\n\r\nRead:\r\n\r\n- https://stackoverflow.com/questions/49595193/generating-random-key-firestore\r\n- https://stackoverflow.com/questions/65595217/firestore-random-id\r\n- https://stackoverflow.com/questions/76223132/size-of-random-autogenerated-document-ids-in-firestore","title":"Retrieve Firestore generated ID when adding in batch","body":"<p>Firestore doesn't automatically generate document IDs when <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/WriteBatch\" rel=\"nofollow noreferrer\">working with batches</a>. For each document in the batch, you must provide a <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference\" rel=\"nofollow noreferrer\">DocumentReference</a>, and that object contains the ID before anything happens.</p>\n<p>You can generate an ID any way you want.  They don't contain any data, and they are not hashes. They are just random characters, and are generated by the client app.</p>\n<p>Read:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49595193/generating-random-key-firestore\">Generating random Key firestore</a></li>\n<li><a href=\"https://stackoverflow.com/questions/65595217/firestore-random-id\">Firestore Random ID</a></li>\n<li><a href=\"https://stackoverflow.com/questions/76223132/size-of-random-autogenerated-document-ids-in-firestore\">Size of random autogenerated Document IDs in Firestore</a></li>\n</ul>\n"}],"owner":{"account_id":90166,"reputation":3781,"user_id":248304,"accept_rate":88,"display_name":"angelcervera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76400529,"answer_count":1,"score":0,"last_activity_date":1685883189,"creation_date":1685877002,"question_id":76400085,"body_markdown":"I have a background service that is updating/removing/adding records in a Firestore collection to keep it in sync with another source of data.\r\n\r\nBecause performance, I want to do this in batches so I try to follow the [official documentation](https://firebase.google.com/docs/firestore/manage-data/transactions#batched-writes).\r\n\r\nBut here is my question. When adding, I need to get the ID that Firestore is automatically generating for every add but I can not find a way to retrieve it.\r\n\r\nSo Is there a way? If there is not, what is the best way to generate me own IDs (ex. No idea if Firestore is using the ID as a hash to distribute the data)?\r\n\r\nRegards\r\n\r\n\r\n","title":"Retrieve Firestore generated ID when adding in batch","body":"<p>I have a background service that is updating/removing/adding records in a Firestore collection to keep it in sync with another source of data.</p>\n<p>Because performance, I want to do this in batches so I try to follow the <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions#batched-writes\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n<p>But here is my question. When adding, I need to get the ID that Firestore is automatically generating for every add but I can not find a way to retrieve it.</p>\n<p>So Is there a way? If there is not, what is the best way to generate me own IDs (ex. No idea if Firestore is using the ID as a hash to distribute the data)?</p>\n<p>Regards</p>\n"},{"tags":["java","spring-boot","thymeleaf","crud"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685883530,"post_id":76400350,"comment_id":134720237,"body_markdown":"If you want to hit your `@PostMapping(&quot;/update&quot;)` controller, one option is to use a [form](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form) in your Thymleaf template and make that form use a `POST` method. Currently, your Thymeleaf is only generating a URL (not the URL you need to hit your controller) and that uses a `GET` (by default), not a `POST`.","body":"If you want to hit your <code>@PostMapping(&quot;&#47;update&quot;)</code> controller, one option is to use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form\" rel=\"nofollow noreferrer\">form</a> in your Thymleaf template and make that form use a <code>POST</code> method. Currently, your Thymeleaf is only generating a URL (not the URL you need to hit your controller) and that uses a <code>GET</code> (by default), not a <code>POST</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685883549,"post_id":76400350,"comment_id":134720239,"body_markdown":"[Thymeleaf dynamically create forms using th:each](https://stackoverflow.com/q/54466032/12567365)","body":"<a href=\"https://stackoverflow.com/q/54466032/12567365\">Thymeleaf dynamically create forms using th:each</a>"}],"owner":{"account_id":25193602,"reputation":3,"user_id":19033473,"display_name":"Matthew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685883079,"creation_date":1685880620,"question_id":76400350,"body_markdown":"I would like to change the status field from current &quot;ToDo&quot; to &quot;InProgress&quot;.\r\n\r\nHTML:\r\n\r\n```\r\n&lt;div&gt;\r\n    &lt;div class=&quot;card-inner&quot; th:if=&quot;${project.status.toString()==&#39;ToDo&#39;}&quot; th:each=&quot;project: ${project}&quot;&gt;\r\n        &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;generateForm()&quot;&gt;Action&lt;/button&gt;\r\n\r\n        &lt;p th:text=&quot;${project.code}&quot;&gt;&lt;/p&gt;\r\n        &lt;p th:text=&quot;${project.name}&quot;&gt;&lt;/p&gt;\r\n        &lt;p th:text=&quot;${project.status.getDeclaringClass()}&quot;&gt;&lt;/p&gt;\r\n        &lt;a th:href=&quot;@{&#39;projects/edit/&#39; + ${project.id}}&quot; class=&quot;btn btn-secondary&quot;&gt;Edit&lt;/a&gt;\r\n        &lt;a th:href=&quot;@{&#39;projects/update/&#39; + ${project.id}+&#39;InProgress&#39;}&quot; class=&quot;btn btn-secondary&quot;&gt;InProgress&lt;/a&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nController:\r\n\r\n```\r\n@PostMapping(&quot;/update&quot;)\r\nString update(@PathVariable Long id,@PathVariable String status) {\r\n    Project project=projectService.getOne(id);\r\n    project.setStatus(Status.valueOf(status)); // is an enum\r\n    projectService.save(project);\r\n    return &quot;redirect:/projects&quot;;\r\n}\r\n```\r\n\r\nInstead of going to `localhost:8080/projects` after clicking on `InProgress` it is going to `http://localhost:8080/projects/update/852InProgress`.","title":"How to change object field (status) by button (HTML) and stay in the same page?","body":"<p>I would like to change the status field from current &quot;ToDo&quot; to &quot;InProgress&quot;.</p>\n<p>HTML:</p>\n<pre><code>&lt;div&gt;\n    &lt;div class=&quot;card-inner&quot; th:if=&quot;${project.status.toString()=='ToDo'}&quot; th:each=&quot;project: ${project}&quot;&gt;\n        &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;generateForm()&quot;&gt;Action&lt;/button&gt;\n\n        &lt;p th:text=&quot;${project.code}&quot;&gt;&lt;/p&gt;\n        &lt;p th:text=&quot;${project.name}&quot;&gt;&lt;/p&gt;\n        &lt;p th:text=&quot;${project.status.getDeclaringClass()}&quot;&gt;&lt;/p&gt;\n        &lt;a th:href=&quot;@{'projects/edit/' + ${project.id}}&quot; class=&quot;btn btn-secondary&quot;&gt;Edit&lt;/a&gt;\n        &lt;a th:href=&quot;@{'projects/update/' + ${project.id}+'InProgress'}&quot; class=&quot;btn btn-secondary&quot;&gt;InProgress&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/update&quot;)\nString update(@PathVariable Long id,@PathVariable String status) {\n    Project project=projectService.getOne(id);\n    project.setStatus(Status.valueOf(status)); // is an enum\n    projectService.save(project);\n    return &quot;redirect:/projects&quot;;\n}\n</code></pre>\n<p>Instead of going to <code>localhost:8080/projects</code> after clicking on <code>InProgress</code> it is going to <code>http://localhost:8080/projects/update/852InProgress</code>.</p>\n"},{"tags":["java","unit-testing","jenkins","mockito","junit5"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1662612839,"post_id":73623109,"comment_id":130047090,"body_markdown":"Was the migration split into a few separate commits? Are you sure Jenkins is running the build on the newest commit (verify commit hash) that is matching what you&#39;re verifying locally? Another idea would be caching - try to clear the cache and verify again.","body":"Was the migration split into a few separate commits? Are you sure Jenkins is running the build on the newest commit (verify commit hash) that is matching what you&#39;re verifying locally? Another idea would be caching - try to clear the cache and verify again."}],"answers":[{"tags":[],"owner":{"account_id":12363440,"reputation":15,"user_id":9016655,"display_name":"Eri_JW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685882422,"creation_date":1685882422,"answer_id":76400466,"question_id":73623109,"body_markdown":"Figured out what was happening. \r\n\r\nWe tried to `mockStatic()` a few methods.\r\n\r\nHowever, those methods would call a few classes that contained static fields/methods that were NOT statically mocked because they were so deep in spaghetti, we didn&#39;t even realized the flow of code was getting there. \r\n\r\nSome of those static methods would contact the DB and pull information from there that would then be used inside the unit tests. \r\n\r\nWhen ran locally, that did not present any problem as every dev had a local database and the connection was successful. \r\n\r\nThe Jenkins environment however didn&#39;t have a DB so when the static methods initialized and attempted to connect, a DB connection exception was thrown. \r\n\r\nHowever, as mentioned, that exception was thrown inside a `try-with-resources` `mockStatic()` block and since the static mocking did not complete, any subsequent attempt to `mockStatic()` the class that previously failed, would result in the aforementioned `UnfinishedMockingSessionException`. \r\n\r\nThe solution was to find the statically mock any method that would attempt to communicate with the Database. \r\n\r\nWhat I still don&#39;t understand is why would an exception being thrown inside a `try-with-resources` `mockStatic()` block would prevent any subsequent attempts. In my understanding it should have been localized. The exception thrown was masking the real problem. \r\n\r\nIn any case, I don&#39;t work there nor care anymore. ","title":"Multiple tests fail when ran on Jenkins after migration","body":"<p>Figured out what was happening.</p>\n<p>We tried to <code>mockStatic()</code> a few methods.</p>\n<p>However, those methods would call a few classes that contained static fields/methods that were NOT statically mocked because they were so deep in spaghetti, we didn't even realized the flow of code was getting there.</p>\n<p>Some of those static methods would contact the DB and pull information from there that would then be used inside the unit tests.</p>\n<p>When ran locally, that did not present any problem as every dev had a local database and the connection was successful.</p>\n<p>The Jenkins environment however didn't have a DB so when the static methods initialized and attempted to connect, a DB connection exception was thrown.</p>\n<p>However, as mentioned, that exception was thrown inside a <code>try-with-resources</code> <code>mockStatic()</code> block and since the static mocking did not complete, any subsequent attempt to <code>mockStatic()</code> the class that previously failed, would result in the aforementioned <code>UnfinishedMockingSessionException</code>.</p>\n<p>The solution was to find the statically mock any method that would attempt to communicate with the Database.</p>\n<p>What I still don't understand is why would an exception being thrown inside a <code>try-with-resources</code> <code>mockStatic()</code> block would prevent any subsequent attempts. In my understanding it should have been localized. The exception thrown was masking the real problem.</p>\n<p>In any case, I don't work there nor care anymore.</p>\n"}],"owner":{"account_id":12363440,"reputation":15,"user_id":9016655,"display_name":"Eri_JW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76400466,"answer_count":1,"score":0,"last_activity_date":1685882422,"creation_date":1662471754,"question_id":73623109,"body_markdown":"I recently migrated a Unit Testing suite to Junit 5.8.2 and Mockito 4.5.1 + Mockito Inline to allow static mocking. Powermock was removed.\r\n\r\n2000+ tests were migrated and they all run successfully when ran inside the IDE (IntelliJ). Both with the IDEA and Gradle runner. \r\n\r\nHowever, when Jenkins attempts to run them there are over 900 failed tests. Some of the exceptions thrown. \r\n\r\n```\r\norg.mockito.exceptions.misusing.MissingMethodInvocationException: \r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n    when(mock.getArticles()).thenReturn(articles);\r\n```\r\n```\r\norg.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\nBoolean cannot be returned by someMethod()\r\nsomeMethod() should return Date`\r\n```\r\n\r\nI understand what causes these errors as I&#39;ve seen them multiple times during the migration so this is not a duplicate asking for the solution.(Unless there&#39;s something different with the Jenkins environment) The code that throws such exceptions should not be throwing them. And it does not in the IDE. It&#39;s thrown exclusively in Jenkins. \r\n\r\nAn additional exception which I have never seen before is thrown as well. \r\n\r\n```\r\norg.mockito.exceptions.misusing.UnfinishedMockingSessionException: \r\nUnfinished mocking session detected.\r\nPrevious MockitoSession was not concluded with &#39;finishMocking()&#39;.\r\nFor examples of correct usage see javadoc for MockitoSession class.\r\n```\r\n\r\nMost of the exceptions are of this type. \r\nHowever, the MockitoSession inteface is not used anywhere in the test suite. All mocks are initialized with `@ExtendWith(MockitoExtension.class)`\r\n\r\nI have no idea what could be causing this. \r\n\r\nJenkins is running the same versions of Java/Junit/Mockito/Spring as the code in the IDE. \r\nIt seems clear to me that the different environments are causing the issue. However, what could be the difference and how would I go about finding it? \r\n\r\nI attempted to reproduce the results locally but was unable to. Any ideas towards that are also welcome. ","title":"Multiple tests fail when ran on Jenkins after migration","body":"<p>I recently migrated a Unit Testing suite to Junit 5.8.2 and Mockito 4.5.1 + Mockito Inline to allow static mocking. Powermock was removed.</p>\n<p>2000+ tests were migrated and they all run successfully when ran inside the IDE (IntelliJ). Both with the IDEA and Gradle runner.</p>\n<p>However, when Jenkins attempts to run them there are over 900 failed tests. Some of the exceptions thrown.</p>\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);\n</code></pre>\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nBoolean cannot be returned by someMethod()\nsomeMethod() should return Date`\n</code></pre>\n<p>I understand what causes these errors as I've seen them multiple times during the migration so this is not a duplicate asking for the solution.(Unless there's something different with the Jenkins environment) The code that throws such exceptions should not be throwing them. And it does not in the IDE. It's thrown exclusively in Jenkins.</p>\n<p>An additional exception which I have never seen before is thrown as well.</p>\n<pre><code>org.mockito.exceptions.misusing.UnfinishedMockingSessionException: \nUnfinished mocking session detected.\nPrevious MockitoSession was not concluded with 'finishMocking()'.\nFor examples of correct usage see javadoc for MockitoSession class.\n</code></pre>\n<p>Most of the exceptions are of this type.\nHowever, the MockitoSession inteface is not used anywhere in the test suite. All mocks are initialized with <code>@ExtendWith(MockitoExtension.class)</code></p>\n<p>I have no idea what could be causing this.</p>\n<p>Jenkins is running the same versions of Java/Junit/Mockito/Spring as the code in the IDE.\nIt seems clear to me that the different environments are causing the issue. However, what could be the difference and how would I go about finding it?</p>\n<p>I attempted to reproduce the results locally but was unable to. Any ideas towards that are also welcome.</p>\n"},{"tags":["java","spring","database","spring-boot","mariadb"],"comments":[{"owner":{"account_id":3878753,"reputation":312,"user_id":3211953,"accept_rate":25,"display_name":"Bar Hoshen"},"score":0,"creation_date":1685881543,"post_id":76400348,"comment_id":134719992,"body_markdown":"It might have something to do with your dependencies. Can you upload your pom.xml?","body":"It might have something to do with your dependencies. Can you upload your pom.xml?"},{"owner":{"account_id":22749514,"reputation":123,"user_id":16909865,"display_name":"Leon"},"score":0,"creation_date":1685881844,"post_id":76400348,"comment_id":134720015,"body_markdown":"@BarHoshen I added the dependencies for mariaDB and for the data-jpa is that enough? or do you want the hole pom.xml","body":"@BarHoshen I added the dependencies for mariaDB and for the data-jpa is that enough? or do you want the hole pom.xml"}],"answers":[{"tags":[],"owner":{"account_id":3878753,"reputation":312,"user_id":3211953,"accept_rate":25,"display_name":"Bar Hoshen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685882212,"creation_date":1685882212,"answer_id":76400450,"question_id":76400348,"body_markdown":"By the version of your mariadb driver, i would bet you have used springframework guru&#39;s guide. That guide uses springboot 1.4.4, so my second bet would be that your problem is a version mismatch.\r\nIf you are using springboot parent 3.X.X, I recommend you try mariadb java client version 3.1.4/3.1.0.","title":"Spring Boot Maria DB Connection | Failed to determine a suitable driver class","body":"<p>By the version of your mariadb driver, i would bet you have used springframework guru's guide. That guide uses springboot 1.4.4, so my second bet would be that your problem is a version mismatch.\nIf you are using springboot parent 3.X.X, I recommend you try mariadb java client version 3.1.4/3.1.0.</p>\n"}],"owner":{"account_id":22749514,"reputation":123,"user_id":16909865,"display_name":"Leon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76400450,"answer_count":1,"score":0,"last_activity_date":1685882212,"creation_date":1685880616,"question_id":76400348,"body_markdown":"I wanted to add a mariaDB Database connection to my spring Boot application.\r\n\r\nI definied the application.properties like this:\r\n\r\n```\r\n#mariaDB Connection\r\nspring.datasource.url=jdbc:mariadb://localhost:3306/database\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n\r\n```\r\n\r\nbut i get The following error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n```\r\n\r\nDatabase dependencies\r\n```xml\r\n\r\n\t\t&lt;!-- ===============\r\n             == MariaDB\r\n             =============== --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nDoes someone has any idea, what i need to change, that the connection will work?","title":"Spring Boot Maria DB Connection | Failed to determine a suitable driver class","body":"<p>I wanted to add a mariaDB Database connection to my spring Boot application.</p>\n<p>I definied the application.properties like this:</p>\n<pre><code>#mariaDB Connection\nspring.datasource.url=jdbc:mariadb://localhost:3306/database\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=create-drop\n\n</code></pre>\n<p>but i get The following error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n</code></pre>\n<p>Database dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n        &lt;!-- ===============\n             == MariaDB\n             =============== --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;version&gt;1.5.7&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Does someone has any idea, what i need to change, that the connection will work?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1498483866,"post_id":44760849,"comment_id":76502584,"body_markdown":"You need to configure a local repository that maven can access: https://maven.apache.org/guides/introduction/introduction-to-repositories.html (See point: Internal Repositories) Also: https://stackoverflow.com/questions/13834141/create-local-maven-repository","body":"You need to configure a local repository that maven can access: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-repositories.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a> (See point: Internal Repositories) Also: <a href=\"https://stackoverflow.com/questions/13834141/create-local-maven-repository\" title=\"create local maven repository\">stackoverflow.com/questions/13834141/&hellip;</a>"},{"owner":{"account_id":278155,"reputation":1255,"user_id":572585,"accept_rate":67,"display_name":"Dark Hippo"},"score":0,"creation_date":1498486623,"post_id":44760849,"comment_id":76504442,"body_markdown":"@OHGODSPIDERS I had considered this, but I setting up a networked internal repository is out of my control, plus will take quite a while to make its way through the corporate beast to actually reach fruition","body":"@OHGODSPIDERS I had considered this, but I setting up a networked internal repository is out of my control, plus will take quite a while to make its way through the corporate beast to actually reach fruition"}],"answers":[{"tags":[],"owner":{"account_id":245542,"reputation":3314,"user_id":1989695,"accept_rate":100,"display_name":"noscreenname"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498487905,"creation_date":1498483881,"answer_id":44760959,"question_id":44760849,"body_markdown":"This looks like locked directory. Are you sure the process you are trying to build is not running, and no external program is using the project directory. \r\n\r\nTry removing the target directory manually. \r\n\r\nEdit: Ok, so it&#39;s actually a problem with remote maven repository.\r\n\r\nHave you tried configuring a custom maven repo\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;my-internal-site&lt;/id&gt;\r\n          &lt;url&gt;http://myserver/repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\nMore info [here][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-repositories.html","title":"Maven failed to execute goal without internet connection","body":"<p>This looks like locked directory. Are you sure the process you are trying to build is not running, and no external program is using the project directory. </p>\n\n<p>Try removing the target directory manually. </p>\n\n<p>Edit: Ok, so it's actually a problem with remote maven repository.</p>\n\n<p>Have you tried configuring a custom maven repo</p>\n\n<pre><code>&lt;project&gt;\n  ...\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;my-internal-site&lt;/id&gt;\n      &lt;url&gt;http://myserver/repo&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n\n<p>More info <a href=\"https://maven.apache.org/guides/introduction/introduction-to-repositories.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":11197635,"reputation":82,"user_id":8215796,"display_name":"codespawner"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1498484647,"creation_date":1498484647,"answer_id":44761218,"question_id":44760849,"body_markdown":"Yes. It looks like maven is not able to delete the working directory. Check if any process locking your directory. Else delete it manually. ","title":"Maven failed to execute goal without internet connection","body":"<p>Yes. It looks like maven is not able to delete the working directory. Check if any process locking your directory. Else delete it manually. </p>\n"},{"tags":[],"owner":{"account_id":9486849,"reputation":1,"user_id":7052998,"display_name":"kumarsuman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685881775,"creation_date":1685881702,"answer_id":76400419,"question_id":44760849,"body_markdown":"If you building from eclipse and facing this issue then try not to check the offline mode..[Please check the SS for your reference][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Y8zz.png","title":"Maven failed to execute goal without internet connection","body":"<p>If you building from eclipse and facing this issue then try not to check the offline mode..<a href=\"https://i.stack.imgur.com/9Y8zz.png\" rel=\"nofollow noreferrer\">Please check the SS for your reference</a></p>\n"}],"owner":{"account_id":278155,"reputation":1255,"user_id":572585,"accept_rate":67,"display_name":"Dark Hippo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1685881775,"creation_date":1498483549,"question_id":44760849,"body_markdown":"I&#39;m trying to get a Maven build working for a Java project, with the rather *interesting* caveat that the machine I&#39;m building on does not have, and cannot have, access to the Maven repository.\r\n\r\nThe error I&#39;m getting with any of the Lifecycle processes I try and run is \r\n\r\n&gt; Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project xxxxxx: Execution default-clean of goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean failed: Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Cannot access central (https://repo.maven.apache.org/maven2) in offline mode and the artifact org.codehaus.plexus:plexus-utils:jar:1.1 has not been downloaded from it before. -&gt; [Help 1]\r\n\r\nBecause of the disconnected nature of the machine I&#39;m working on, I&#39;ve had to have the Maven build tool manually downloaded for me, and from the error messages I&#39;ve been receiving, I&#39;ve also had the relevant plugins manually downloaded (`maven-clean-plugin-2.5.jar` for example), but I&#39;m having trouble figuring out where to put the plugins manually so Maven can pick them up and work with them.","title":"Maven failed to execute goal without internet connection","body":"<p>I'm trying to get a Maven build working for a Java project, with the rather <em>interesting</em> caveat that the machine I'm building on does not have, and cannot have, access to the Maven repository.</p>\n\n<p>The error I'm getting with any of the Lifecycle processes I try and run is </p>\n\n<blockquote>\n  <p>Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project xxxxxx: Execution default-clean of goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean failed: Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Cannot access central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>) in offline mode and the artifact org.codehaus.plexus:plexus-utils:jar:1.1 has not been downloaded from it before. -> [Help 1]</p>\n</blockquote>\n\n<p>Because of the disconnected nature of the machine I'm working on, I've had to have the Maven build tool manually downloaded for me, and from the error messages I've been receiving, I've also had the relevant plugins manually downloaded (<code>maven-clean-plugin-2.5.jar</code> for example), but I'm having trouble figuring out where to put the plugins manually so Maven can pick them up and work with them.</p>\n"},{"tags":["java","scala","apache-spark","generics"],"owner":{"account_id":11375595,"reputation":99,"user_id":8340005,"display_name":"maxwellray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685881611,"creation_date":1685881611,"question_id":76400412,"body_markdown":"I have a repo that contains a number of Spark programs. The programs frequently read from various Cassandra tables. To facilitate reading from the tables, I&#39;ve added companion objects to the case classes representing the data types in each of the tables with methods to simplify retrieval.\r\n```\r\ncase class Home(\r\n                 user_id: String,\r\n                 home_id: String,\r\n                 confirmed: Boolean,\r\n                 joined_home_utc: Timestamp\r\n               )\r\n\r\nobject Home extends CassandraReadable[Home.Partition, Home] {\r\n  case class Partition(user_id: String)\r\n\r\n  def readFromCassandra(session: SparkSession, partitions: Option[Dataset[Partition]] = Option.empty): Dataset[Home] = {\r\n    import session.implicits._\r\n    import com.datastax.spark.connector._\r\n\r\n    var homes = session\r\n      .read\r\n      .cassandraFormat(&quot;homes&quot;, &quot;default&quot;, pushdownEnable = true)\r\n      .load\r\n      .directJoin(AlwaysOn)\r\n      .as[Home]\r\n\r\n    if (partitions.isDefined) {\r\n      val partitionDs = partitions.get\r\n      homes = partitionDs.joinWith(homes, partitionDs(&quot;user_id&quot;) === homes(&quot;user_id&quot;))\r\n        .map(_._2)\r\n    }\r\n\r\n    homes\r\n  }\r\n}\r\n\r\n```\r\nTo allow for incremental ingestion, we typically only read a subset of the table&#39;s partitions at once. Since this is the case for nearly all of the tables, I&#39;ve created a trait which outlines the structure of the retrieval methods.\r\n```\r\ntrait CassandraReadable[PartitionType, ResultType] {\r\n  def readFromCassandra(session: SparkSession, partitions: Option[Dataset[PartitionType]]=Option.empty): Dataset[ResultType]\r\n}\r\n\r\n```\r\nI define the case class representing a table&#39;s partitions within the companion object, but I&#39;m now getting a circular dependency error when implementing the trait. Is there a better way I should be going about this? I believe moving the partition to another file would resolve the circular dependency issue, but I was hoping to keep information relevant to the table all within one file, as the `Partition` class is never really used outside of the context of interaction with the table. Scala is not my primary language so I may be totally off-base with design philosophy here. Any help is appreciated, thanks!","title":"Structuring Cassandra Database Reads in Spark","body":"<p>I have a repo that contains a number of Spark programs. The programs frequently read from various Cassandra tables. To facilitate reading from the tables, I've added companion objects to the case classes representing the data types in each of the tables with methods to simplify retrieval.</p>\n<pre><code>case class Home(\n                 user_id: String,\n                 home_id: String,\n                 confirmed: Boolean,\n                 joined_home_utc: Timestamp\n               )\n\nobject Home extends CassandraReadable[Home.Partition, Home] {\n  case class Partition(user_id: String)\n\n  def readFromCassandra(session: SparkSession, partitions: Option[Dataset[Partition]] = Option.empty): Dataset[Home] = {\n    import session.implicits._\n    import com.datastax.spark.connector._\n\n    var homes = session\n      .read\n      .cassandraFormat(&quot;homes&quot;, &quot;default&quot;, pushdownEnable = true)\n      .load\n      .directJoin(AlwaysOn)\n      .as[Home]\n\n    if (partitions.isDefined) {\n      val partitionDs = partitions.get\n      homes = partitionDs.joinWith(homes, partitionDs(&quot;user_id&quot;) === homes(&quot;user_id&quot;))\n        .map(_._2)\n    }\n\n    homes\n  }\n}\n\n</code></pre>\n<p>To allow for incremental ingestion, we typically only read a subset of the table's partitions at once. Since this is the case for nearly all of the tables, I've created a trait which outlines the structure of the retrieval methods.</p>\n<pre><code>trait CassandraReadable[PartitionType, ResultType] {\n  def readFromCassandra(session: SparkSession, partitions: Option[Dataset[PartitionType]]=Option.empty): Dataset[ResultType]\n}\n\n</code></pre>\n<p>I define the case class representing a table's partitions within the companion object, but I'm now getting a circular dependency error when implementing the trait. Is there a better way I should be going about this? I believe moving the partition to another file would resolve the circular dependency issue, but I was hoping to keep information relevant to the table all within one file, as the <code>Partition</code> class is never really used outside of the context of interaction with the table. Scala is not my primary language so I may be totally off-base with design philosophy here. Any help is appreciated, thanks!</p>\n"},{"tags":["java","intellij-idea","gradle"],"answers":[{"tags":[],"owner":{"account_id":2077480,"reputation":64,"user_id":1850410,"display_name":"zeeke"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1685880888,"creation_date":1485762439,"answer_id":41931053,"question_id":41930552,"body_markdown":"You can use the GRADLE_OPTS environment variable. Here is the [documentation][1]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_environment_variables","title":"How can I pass VM arguments to gradle from command line?","body":"<p>You can use the GRADLE_OPTS environment variable. Here is the <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_environment_variables\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":3486966,"reputation":2270,"user_id":2917630,"display_name":"ultraon"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1675220788,"creation_date":1612309320,"answer_id":66019185,"question_id":41930552,"body_markdown":"Try this:\r\n\r\n    ./gradlew -Dorg.gradle.jvmargs=-Xmx16g wrapper\r\n\r\n---\r\n## NOTE\r\n- Pay attention to `-D`, this marks the *property* to be passed to Gradle and JVM.\r\n- Using `-P` a property is passed as Gradle *project property*.\r\n","title":"How can I pass VM arguments to gradle from command line?","body":"<p>Try this:</p>\n<pre><code>./gradlew -Dorg.gradle.jvmargs=-Xmx16g wrapper\n</code></pre>\n<hr />\n<h2>NOTE</h2>\n<ul>\n<li>Pay attention to <code>-D</code>, this marks the <em>property</em> to be passed to Gradle and JVM.</li>\n<li>Using <code>-P</code> a property is passed as Gradle <em>project property</em>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7468655,"reputation":758,"user_id":5677294,"display_name":"Dave Kraczo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649237431,"creation_date":1649237431,"answer_id":71764282,"question_id":41930552,"body_markdown":"Hi for Intellij IDEA run you can add property to JM Options at Run Configuration.\r\nFirst make sure you have enabled add VM options at Modify Options\r\n[![enter image description here][1]][1]\r\n\r\nAfter that add --add-opens java.base/java.util=ALL-UNNAMED\r\nto vm option\r\n\r\n[\r\n![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YVZ2L.png\r\n  [2]: https://i.stack.imgur.com/1dbvY.png\r\n\r\n\r\nFor deployment add options to gradle run as @ultraon described or for  Docker add to run_script.sh as JAVA_OPTS\r\n\r\nJAVA_OPTS=&quot;-XX:+UseG1GC \\\r\n    -Xms512m \\\r\n    -Xmx2048m \\\r\n    --add-opens java.base/java.util=ALL-UNNAMED\r\n    -Dspring.profiles.active=$PROFILE,discovery&quot;\r\n\r\n","title":"How can I pass VM arguments to gradle from command line?","body":"<p>Hi for Intellij IDEA run you can add property to JM Options at Run Configuration.\nFirst make sure you have enabled add VM options at Modify Options\n<a href=\"https://i.stack.imgur.com/YVZ2L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVZ2L.png\" alt=\"enter image description here\" /></a></p>\n<p>After that add --add-opens java.base/java.util=ALL-UNNAMED\nto vm option</p>\n<p><a href=\"https://i.stack.imgur.com/1dbvY.png\" rel=\"nofollow noreferrer\">\n<img src=\"https://i.stack.imgur.com/1dbvY.png\" alt=\"enter image description here\" /></a></p>\n<p>For deployment add options to gradle run as @ultraon described or for  Docker add to run_script.sh as JAVA_OPTS</p>\n<p>JAVA_OPTS=&quot;-XX:+UseG1GC <br />\n-Xms512m <br />\n-Xmx2048m <br />\n--add-opens java.base/java.util=ALL-UNNAMED\n-Dspring.profiles.active=$PROFILE,discovery&quot;</p>\n"}],"owner":{"account_id":4479391,"reputation":499,"user_id":3643595,"display_name":"Ankush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29922,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":41931053,"answer_count":3,"score":16,"last_activity_date":1685880888,"creation_date":1485760056,"question_id":41930552,"body_markdown":"How can I pass VM arguments to gradle from command line. The Gradle Tool option in Idea is working fine ( screehshot attached).\r\nI am trying to pass --add-opens to gradle and am aware of -P but it is not working.\r\n\r\n[The GRADLE VM options from the Idea][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nUxnr.png","title":"How can I pass VM arguments to gradle from command line?","body":"<p>How can I pass VM arguments to gradle from command line. The Gradle Tool option in Idea is working fine ( screehshot attached).\nI am trying to pass --add-opens to gradle and am aware of -P but it is not working.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nUxnr.png\" rel=\"noreferrer\">The GRADLE VM options from the Idea</a></p>\n"},{"tags":["java","selenium-webdriver","selenium-ide"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1685954057,"post_id":76397818,"comment_id":134727489,"body_markdown":"The &#39;About&#39; seems to be broken.","body":"The &#39;About&#39; seems to be broken."}],"owner":{"account_id":22945300,"reputation":3,"user_id":17077358,"display_name":"kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685880130,"creation_date":1685822124,"question_id":76397818,"body_markdown":"I’m encountering an issue with an element not being clickable when scrolling while working in Selenium/Java.\r\n\r\nI am learning Selenium through the website https://saucelabs.com. After login, I naviagate the pricing page and in the pricing page I have to choose a monthly $50 plan and for that I need to click on subscribe for this plan. When I use the `xpath` and complete xpath in both cases it is not working. Below is my code. \r\n\r\nHow can I make the element clickable while scrolling?\r\n    \r\n\r\n```package codeclass;\r\npublic class assign1code {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://www.saucedemo.com/&quot;);\r\n        driver.manage().window().maximize();\r\n\r\n        driver.findElement(By.id(&quot;user-name&quot;)).sendKeys(&quot;standard_user&quot;);\r\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;secret_sauce&quot;);\r\n        driver.findElement(By.id(&quot;login-button&quot;)).click();\r\n        driver.findElement(By.id(&quot;react-burger-menu-btn&quot;)).click();\r\n        new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//nav/a[text()=&#39;About&#39;]&quot;))).click();\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;__next\\&quot;]/header/div/div/div[1]/div[2]/div/div[2]/a/span&quot;)).click();\r\n        JavascriptExecutor jse = (JavascriptExecutor) driver;\r\n        jse.executeScript(&quot;scroll(0, 4100)&quot;); // if the element is on bottom.\r\n        Thread.sleep(3000);\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;credits-calculator\\&quot;]/button&quot;)).click();\r\n        JavascriptExecutor jsee = (JavascriptExecutor) driver;\r\n        jsee.executeScript(&quot;scroll(0, 4100)&quot;); \r\n        Thread.sleep(3000);\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;credits-calculator\\&quot;]/div/div/div/div/div/div[3]/button&quot;)).click();\r\n        JavascriptExecutor jseee = (JavascriptExecutor) driver;\r\n        jseee.executeScript(&quot;scroll(0, 6100)&quot;); \r\n        Thread.sleep(3000);\r\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div/div[2]/div[2]/div/div[2]/div[4]/div/a&quot;)).click();\r\n    }\r\n}","title":"element not clickable when scrolling","body":"<p>I’m encountering an issue with an element not being clickable when scrolling while working in Selenium/Java.</p>\n<p>I am learning Selenium through the website <a href=\"https://saucelabs.com\" rel=\"nofollow noreferrer\">https://saucelabs.com</a>. After login, I naviagate the pricing page and in the pricing page I have to choose a monthly $50 plan and for that I need to click on subscribe for this plan. When I use the <code>xpath</code> and complete xpath in both cases it is not working. Below is my code.</p>\n<p>How can I make the element clickable while scrolling?</p>\n<pre><code>public class assign1code {\n    public static void main(String[] args) throws InterruptedException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.saucedemo.com/&quot;);\n        driver.manage().window().maximize();\n\n        driver.findElement(By.id(&quot;user-name&quot;)).sendKeys(&quot;standard_user&quot;);\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;secret_sauce&quot;);\n        driver.findElement(By.id(&quot;login-button&quot;)).click();\n        driver.findElement(By.id(&quot;react-burger-menu-btn&quot;)).click();\n        new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//nav/a[text()='About']&quot;))).click();\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;__next\\&quot;]/header/div/div/div[1]/div[2]/div/div[2]/a/span&quot;)).click();\n        JavascriptExecutor jse = (JavascriptExecutor) driver;\n        jse.executeScript(&quot;scroll(0, 4100)&quot;); // if the element is on bottom.\n        Thread.sleep(3000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;credits-calculator\\&quot;]/button&quot;)).click();\n        JavascriptExecutor jsee = (JavascriptExecutor) driver;\n        jsee.executeScript(&quot;scroll(0, 4100)&quot;); \n        Thread.sleep(3000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;credits-calculator\\&quot;]/div/div/div/div/div/div[3]/button&quot;)).click();\n        JavascriptExecutor jseee = (JavascriptExecutor) driver;\n        jseee.executeScript(&quot;scroll(0, 6100)&quot;); \n        Thread.sleep(3000);\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div/div[2]/div[2]/div/div[2]/div[4]/div/a&quot;)).click();\n    }\n}\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685879723,"creation_date":1685722956,"answer_id":76391915,"question_id":76390643,"body_markdown":"Mapstruct *is* capable of that with no extra code needed. Here&#39;s the generated method\r\n```java\r\n@Override\r\n    public QuestionComment dtoAndAuthenticationToQuestionComment(QuestionCommentRequestDto dto, Authentication auth) {\r\n        if ( dto == null ) {\r\n            return null;\r\n        }\r\n\r\n        QuestionComment questionComment = new QuestionComment();\r\n\r\n        questionComment.setText( dto.text() );\r\n\r\n        enrichWithOwner( questionComment, auth );\r\n        enrichWithQuestion( questionComment, dto ); // ← look at it\r\n\r\n        return questionComment;\r\n    }\r\n```\r\nWhat made me post this question was largely the fact that a chat bot said Mapstruct wouldn&#39;t pass the source object because\r\n\r\n&gt; Any source parameters used in the regular mapping method are not passed to the @AfterMapping method, as they are not needed for any further mapping operations at that point.\r\n\r\nIt appears the chat bot was mistaken on that","title":"Is Mapstruct capable of passing a source object to an @AfterMapping method?","body":"<p>Mapstruct <em>is</em> capable of that with no extra code needed. Here's the generated method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public QuestionComment dtoAndAuthenticationToQuestionComment(QuestionCommentRequestDto dto, Authentication auth) {\n        if ( dto == null ) {\n            return null;\n        }\n\n        QuestionComment questionComment = new QuestionComment();\n\n        questionComment.setText( dto.text() );\n\n        enrichWithOwner( questionComment, auth );\n        enrichWithQuestion( questionComment, dto ); // ← look at it\n\n        return questionComment;\n    }\n</code></pre>\n<p>What made me post this question was largely the fact that a chat bot said Mapstruct wouldn't pass the source object because</p>\n<blockquote>\n<p>Any source parameters used in the regular mapping method are not passed to the @AfterMapping method, as they are not needed for any further mapping operations at that point.</p>\n</blockquote>\n<p>It appears the chat bot was mistaken on that</p>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76391915,"answer_count":1,"score":0,"last_activity_date":1685879723,"creation_date":1685712784,"question_id":76390643,"body_markdown":"Consider this code\r\n```java\r\n@Mapper\r\n@RequiredArgsConstructor\r\npublic abstract class QuestionCommentMapper {\r\n    protected final QuestionService questionService;\r\n\r\n    public abstract QuestionComment dtoAndAuthenticationToQuestionComment(QuestionCommentRequestDto dto,\r\n                                                                          @Context Authentication auth);\r\n\r\n    @AfterMapping\r\n    protected void enrichWithOwner(@MappingTarget QuestionComment questionComment, @Context Authentication auth) {\r\n        Account owner = AuthenticationProcessor.extractAccount(auth);\r\n        questionComment.setOwner(owner);\r\n    }\r\n\r\n    @AfterMapping\r\n    protected void enrichWithQuestion(@MappingTarget QuestionComment questionComment,\r\n                                      @Context QuestionCommentRequestDto dto) {\r\n        Long questionId = dto.questionId();\r\n        Question question = questionService.getById(questionId);\r\n        questionComment.setQuestion(question);\r\n    }\r\n}\r\n```\r\n**Would Mapstruct pass a `QuestionCommentRequestDto` object to the `enrichWithQuestion()` method which is a source in the original mapping method? If not, how can I perform that second &quot;enriching&quot; without forgoing Mapstruct&#39;s code generation?** If I write anything in the mapping method (e.g. use the `QuestionCommentRequestDto` instance to set `QuestionComment`&#39;s `Question` field, as in my `enrichWithQuestion()` method), Mapstruct won&#39;t generate anything, and I&#39;ll have to basically write everything manually","title":"Is Mapstruct capable of passing a source object to an @AfterMapping method?","body":"<p>Consider this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\n@RequiredArgsConstructor\npublic abstract class QuestionCommentMapper {\n    protected final QuestionService questionService;\n\n    public abstract QuestionComment dtoAndAuthenticationToQuestionComment(QuestionCommentRequestDto dto,\n                                                                          @Context Authentication auth);\n\n    @AfterMapping\n    protected void enrichWithOwner(@MappingTarget QuestionComment questionComment, @Context Authentication auth) {\n        Account owner = AuthenticationProcessor.extractAccount(auth);\n        questionComment.setOwner(owner);\n    }\n\n    @AfterMapping\n    protected void enrichWithQuestion(@MappingTarget QuestionComment questionComment,\n                                      @Context QuestionCommentRequestDto dto) {\n        Long questionId = dto.questionId();\n        Question question = questionService.getById(questionId);\n        questionComment.setQuestion(question);\n    }\n}\n</code></pre>\n<p><strong>Would Mapstruct pass a <code>QuestionCommentRequestDto</code> object to the <code>enrichWithQuestion()</code> method which is a source in the original mapping method? If not, how can I perform that second &quot;enriching&quot; without forgoing Mapstruct's code generation?</strong> If I write anything in the mapping method (e.g. use the <code>QuestionCommentRequestDto</code> instance to set <code>QuestionComment</code>'s <code>Question</code> field, as in my <code>enrichWithQuestion()</code> method), Mapstruct won't generate anything, and I'll have to basically write everything manually</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685879597,"creation_date":1685879597,"answer_id":76400287,"question_id":76393242,"body_markdown":"**Step 1.** Annotate your all-args and factory method as `@JsonCreator`\r\n```java\r\npublic class Person {\r\n    private int id;\r\n    private String name;\r\n\r\n    @JsonCreator\r\n    public Person(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n```java\r\npublic final class Data&lt;T&gt; {\r\n\r\n    private final T data;\r\n\r\n    private Data(T data) {\r\n        this.data = data;\r\n    }\r\n    \r\n    @JsonCreator\r\n    public static &lt;T&gt; Data&lt;T&gt; build(T data) {\r\n        return new Data&lt;&gt;(data);\r\n    }\r\n}\r\n```\r\n**Step 2.** Register the `ParameterNamesModule`. This will help Jackson map constructor/ factory method parameters to their eponymous fields automatically\r\n```java\r\nnew ObjectMapper().registerModule(new ParameterNamesModule());\r\n```\r\n**Step 3.** Make sure to create and pass a `TypeReference` object\r\n```java\r\n        TypeReference&lt;Data&lt;Person&gt;&gt; typeReference =\r\n                new TypeReference&lt;&gt;() {};\r\n        Data&lt;Person&gt; deserializedPersonJson =\r\n                objectMapper.readValue(personJson, typeReference);\r\n```","title":"How can I make Jackson deserialize a JSON into an object wrapped in a generic wrapper that uses factory instantiation?","body":"<p><strong>Step 1.</strong> Annotate your all-args and factory method as <code>@JsonCreator</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    private int id;\n    private String name;\n\n    @JsonCreator\n    public Person(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Data&lt;T&gt; {\n\n    private final T data;\n\n    private Data(T data) {\n        this.data = data;\n    }\n    \n    @JsonCreator\n    public static &lt;T&gt; Data&lt;T&gt; build(T data) {\n        return new Data&lt;&gt;(data);\n    }\n}\n</code></pre>\n<p><strong>Step 2.</strong> Register the <code>ParameterNamesModule</code>. This will help Jackson map constructor/ factory method parameters to their eponymous fields automatically</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ObjectMapper().registerModule(new ParameterNamesModule());\n</code></pre>\n<p><strong>Step 3.</strong> Make sure to create and pass a <code>TypeReference</code> object</p>\n<pre class=\"lang-java prettyprint-override\"><code>        TypeReference&lt;Data&lt;Person&gt;&gt; typeReference =\n                new TypeReference&lt;&gt;() {};\n        Data&lt;Person&gt; deserializedPersonJson =\n                objectMapper.readValue(personJson, typeReference);\n</code></pre>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76400287,"answer_count":1,"score":1,"last_activity_date":1685879597,"creation_date":1685736940,"question_id":76393242,"body_markdown":"Consider this JSON\r\n```txt\r\n{\r\n&quot;data&quot;: \r\n    {\r\n     &quot;id&quot;: 1,\r\n     &quot;name&quot;: &quot;Sergey&quot;\r\n    }\r\n}\r\n```\r\nSuppose, I want it to be deserialized into\r\n```java\r\nData&lt;Person&gt; person;\r\n```\r\nSuppose, `Person` is a simple class with a canonical constructor\r\n```java\r\npublic class Person {\r\n    private int id;\r\n    private String name;\r\n    public Person(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\nSuppose, `Data` is a bit trickier: it is generic and its instantiation relies on a static factory method. Its no-args constructor is `private` and is not supposed to be used anywhere else\r\n```java\r\npublic final class Data&lt;T&gt; {\r\n\r\n    private final T data;\r\n\r\n    private Data(T data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public static &lt;T&gt; Data&lt;T&gt; build(T data) {\r\n        return new Data&lt;&gt;(data);\r\n    }\r\n}\r\n```\r\n**How do I make Jackson perform that deserialization in the most concise and efficient way possible?** Does [this Baeldung article][1] provide an exemplary solution to this problem? I heard it now occasionally uses AI-generated text so I want to make sure I can&#39;t achieve it in a way that is shorter and clearer\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-deserialization","title":"How can I make Jackson deserialize a JSON into an object wrapped in a generic wrapper that uses factory instantiation?","body":"<p>Consider this JSON</p>\n<pre><code>{\n&quot;data&quot;: \n    {\n     &quot;id&quot;: 1,\n     &quot;name&quot;: &quot;Sergey&quot;\n    }\n}\n</code></pre>\n<p>Suppose, I want it to be deserialized into</p>\n<pre class=\"lang-java prettyprint-override\"><code>Data&lt;Person&gt; person;\n</code></pre>\n<p>Suppose, <code>Person</code> is a simple class with a canonical constructor</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    private int id;\n    private String name;\n    public Person(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n</code></pre>\n<p>Suppose, <code>Data</code> is a bit trickier: it is generic and its instantiation relies on a static factory method. Its no-args constructor is <code>private</code> and is not supposed to be used anywhere else</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Data&lt;T&gt; {\n\n    private final T data;\n\n    private Data(T data) {\n        this.data = data;\n    }\n\n    public static &lt;T&gt; Data&lt;T&gt; build(T data) {\n        return new Data&lt;&gt;(data);\n    }\n}\n</code></pre>\n<p><strong>How do I make Jackson perform that deserialization in the most concise and efficient way possible?</strong> Does <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">this Baeldung article</a> provide an exemplary solution to this problem? I heard it now occasionally uses AI-generated text so I want to make sure I can't achieve it in a way that is shorter and clearer</p>\n"},{"tags":["java","android","floating-action-button","bottomappbar"],"owner":{"account_id":3672042,"reputation":169,"user_id":4905091,"accept_rate":75,"display_name":"Ambreen Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685879213,"creation_date":1685879213,"question_id":76400248,"body_markdown":"Respectable Gurus,\r\nI am trying to add fab button with expandable arc / radial menu in android.material.bottomappbar.BottomAppBar using xml and java class, after a lot of research I did not succeed.\r\nI want the bottom bar with menu like screenshot bellow.\r\nAny Help will be appreciated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XJ0AK.png","title":"floating action button radial menu in BottomAppBar android java","body":"<p>Respectable Gurus,\nI am trying to add fab button with expandable arc / radial menu in android.material.bottomappbar.BottomAppBar using xml and java class, after a lot of research I did not succeed.\nI want the bottom bar with menu like screenshot bellow.\nAny Help will be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/XJ0AK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XJ0AK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","reflection","dynamic-proxy"],"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1352285083,"post_id":13267990,"comment_id":18083930,"body_markdown":"@gefei it has a much more specific meaning in Java: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.html","body":"@gefei it has a much more specific meaning in Java: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":2019220,"reputation":13,"user_id":1805790,"display_name":"user1805790"},"score":0,"creation_date":1352285146,"post_id":13267990,"comment_id":18083964,"body_markdown":"Thanks. Suppose ,I have class Dog and there I have a method bark(). So  in which situation I will need a proxy for the Dog class please?","body":"Thanks. Suppose ,I have class Dog and there I have a method bark(). So  in which situation I will need a proxy for the Dog class please?"},{"owner":{"account_id":955054,"reputation":5629,"user_id":980520,"accept_rate":90,"display_name":"lynks"},"score":0,"creation_date":1352285326,"post_id":13267990,"comment_id":18084034,"body_markdown":"From that definition it sounds like it is just talking about `implements`.","body":"From that definition it sounds like it is just talking about <code>implements</code>."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1352285327,"post_id":13267990,"comment_id":18084035,"body_markdown":"If the Dog proxy is really a front for an instance running on a remote machine.  You don&#39;t have to know whether the Dog that&#39;s barking in your app lives in your address space or across the world.","body":"If the Dog proxy is really a front for an instance running on a remote machine.  You don&#39;t have to know whether the Dog that&#39;s barking in your app lives in your address space or across the world."},{"owner":{"account_id":2019220,"reputation":13,"user_id":1805790,"display_name":"user1805790"},"score":0,"creation_date":1352285600,"post_id":13267990,"comment_id":18084153,"body_markdown":"the book says ---The proxy\nimplements the same interface as the target so that it can be used in exactly the\nsame way. The proxy delegates some or all of the calls that it receives to its target\nand thus acts as either an intermediary or a substitute. In its role as an intermedi-ary, the proxy may add functionality either before or after the method is for-warded to the target. This gives the reflective programmer the capability to add\nbehavior to objects--- does this mean Dog class must have to implement interfcae if it wants to have its Proxy?","body":"the book says ---The proxy implements the same interface as the target so that it can be used in exactly the same way. The proxy delegates some or all of the calls that it receives to its target and thus acts as either an intermediary or a substitute. In its role as an intermedi-ary, the proxy may add functionality either before or after the method is for-warded to the target. This gives the reflective programmer the capability to add behavior to objects--- does this mean Dog class must have to implement interfcae if it wants to have its Proxy?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1352286198,"post_id":13267990,"comment_id":18084416,"body_markdown":"please edit your question with further details (instead of doing so in a longish comment), it&#39;s easier to read and answer :-)","body":"please edit your question with further details (instead of doing so in a longish comment), it&#39;s easier to read and answer :-)"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1352286284,"post_id":13267990,"comment_id":18084445,"body_markdown":"Didn&#39;t the book outline examples?","body":"Didn&#39;t the book outline examples?"},{"owner":{"account_id":2019220,"reputation":13,"user_id":1805790,"display_name":"user1805790"},"score":0,"creation_date":1352352537,"post_id":13267990,"comment_id":18109253,"body_markdown":"Yes, the book did provide example but I need simple ones please.","body":"Yes, the book did provide example but I need simple ones please."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352285862,"creation_date":1352285862,"answer_id":13268289,"question_id":13267990,"body_markdown":"The classic example is an RMI proxy, where a method call made on a local proxy object result in a method call on the proxied object that resides in another JVM on another machine.\r\n\r\nThe proxy allows the caller to treat the remote object as if it was a local object ...in most respects.","title":"What are Proxy in the Reflection API good for?","body":"<p>The classic example is an RMI proxy, where a method call made on a local proxy object result in a method call on the proxied object that resides in another JVM on another machine.</p>\n\n<p>The proxy allows the caller to treat the remote object as if it was a local object ...in most respects.</p>\n"},{"tags":[],"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1352286666,"creation_date":1352286011,"answer_id":13268333,"question_id":13267990,"body_markdown":"Well, proxy is just a *mechanism*, you can do diffrent things with and a lot of framework use them in various ways. \n\nHere are however &quot;classical&quot; areas where proxies can be used:\n\n* *Access control*: intercept invocations and perform some control check\n* *Security*: you can wrap/unwrap references as they flow across modules to perform checks and restrict certain actions\n* *Persistence*: only the proxy is available, and data are loaded on demand from another storage medium\n* *Lazy loading*: the proxy load or compute information only when needed\n* *Asynchrony*: the proxy is a handle for a result that will be available later (so-called transparent future)\n* *Remoting*: the proxy provide the illusion of having the object localy, and deals with remote communication\n* *Contracts*: ensure the pre- and post-conditions are met before and after an invocation\n* *AOP*: aspect-oriented programming rely on the ability to intercept method invocation. One technique to do so it so use proxies.\n\n*Note: these areas have some overlap.* \n\nIn the paper &quot;[On the design of the ECMAScript Reflection API][1]&quot;, the authors distighuish between two main kinds of proxies: \n \n&gt; *Generic wrappers*. Proxies that wrap other objects in the same address\n&gt; space. Ex- ample uses include access control wrappers (e.g. revokable\n&gt; references), higher-order contracts [Findler and Felleisen 2002],\n&gt; profiling, taint tracking, etc. \n&gt;\n&gt; *Virtual objects*. Proxies that emulate\n&gt; other objects, without the emulated objects having to be present in\n&gt; the same address space. Examples include remote object proxies\n&gt; (emulate objects in other address spaces), persistent objects (emulate\n&gt; objects stored in databases), transparent futures (emulate objects not\n&gt; yet computed), lazily instantiated objects, test mock-ups, etc.\n\nI think it covers more or less the areas I describe before. But no list will be complete. There is not fixed case for proxies--it is a generic mechanism or principle. \n\n  [1]: http://www.techrepublic.com/whitepapers/on-the-design-of-the-ecmascript-reflection-api/4039313","title":"What are Proxy in the Reflection API good for?","body":"<p>Well, proxy is just a <em>mechanism</em>, you can do diffrent things with and a lot of framework use them in various ways.</p>\n<p>Here are however &quot;classical&quot; areas where proxies can be used:</p>\n<ul>\n<li><em>Access control</em>: intercept invocations and perform some control check</li>\n<li><em>Security</em>: you can wrap/unwrap references as they flow across modules to perform checks and restrict certain actions</li>\n<li><em>Persistence</em>: only the proxy is available, and data are loaded on demand from another storage medium</li>\n<li><em>Lazy loading</em>: the proxy load or compute information only when needed</li>\n<li><em>Asynchrony</em>: the proxy is a handle for a result that will be available later (so-called transparent future)</li>\n<li><em>Remoting</em>: the proxy provide the illusion of having the object localy, and deals with remote communication</li>\n<li><em>Contracts</em>: ensure the pre- and post-conditions are met before and after an invocation</li>\n<li><em>AOP</em>: aspect-oriented programming rely on the ability to intercept method invocation. One technique to do so it so use proxies.</li>\n</ul>\n<p><em>Note: these areas have some overlap.</em></p>\n<p>In the paper &quot;<a href=\"http://www.techrepublic.com/whitepapers/on-the-design-of-the-ecmascript-reflection-api/4039313\" rel=\"nofollow noreferrer\">On the design of the ECMAScript Reflection API</a>&quot;, the authors distighuish between two main kinds of proxies:</p>\n<blockquote>\n<p><em>Generic wrappers</em>. Proxies that wrap other objects in the same address\nspace. Ex- ample uses include access control wrappers (e.g. revokable\nreferences), higher-order contracts [Findler and Felleisen 2002],\nprofiling, taint tracking, etc.</p>\n<p><em>Virtual objects</em>. Proxies that emulate\nother objects, without the emulated objects having to be present in\nthe same address space. Examples include remote object proxies\n(emulate objects in other address spaces), persistent objects (emulate\nobjects stored in databases), transparent futures (emulate objects not\nyet computed), lazily instantiated objects, test mock-ups, etc.</p>\n</blockquote>\n<p>I think it covers more or less the areas I describe before. But no list will be complete. There is not fixed case for proxies--it is a generic mechanism or principle.</p>\n"}],"owner":{"account_id":2019220,"reputation":13,"user_id":1805790,"display_name":"user1805790"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13268333,"answer_count":2,"score":1,"last_activity_date":1685878454,"creation_date":1352284880,"question_id":13267990,"body_markdown":"I am learning the concepts of reflection and I am reading &quot;Java Reflection In action&quot; book. I have just started with the chapter &quot;Proxy&quot; where it says &quot;a proxy, that supports the interface of\r\nanother object, its target, so that the proxy can substitute for the target for all practical purposes&quot; .\r\n\r\nCan I have a real life easy example to understand this concept of proxy please?","title":"What are Proxy in the Reflection API good for?","body":"<p>I am learning the concepts of reflection and I am reading \"Java Reflection In action\" book. I have just started with the chapter \"Proxy\" where it says \"a proxy, that supports the interface of\nanother object, its target, so that the proxy can substitute for the target for all practical purposes\" .</p>\n\n<p>Can I have a real life easy example to understand this concept of proxy please?</p>\n"},{"tags":["java","spring","maven","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685809681,"creation_date":1685809681,"answer_id":76396961,"question_id":76396251,"body_markdown":"Looking at the Spring Boot version, you are using Spring Data Elasticsearch 4.4.x (which now is out of maintenance). You are using the configuration for the new Elasticsearch Client (`org.springframework.data.elasticsearch.client.elc.ElasticsearchConfiguration`). The use of the then new client was introduced in 4.4 as a still new and potentially unstable feature.\r\n\r\nI am not seeing that you set the `jakarta-json.version` (see [the documentation](https://docs.spring.io/spring-data/elasticsearch/docs/4.4.12/reference/html/#elasticsearch-migration-guide-4.3-4.4.new-clients) about configuration of the new client.\r\n\r\nDo you special reasons why you override and provide `getElasticsearchTransport()` and `getElasticsearchClient()`? These beans are alrea provided by the base class, the only method you need to provide is the one providing the configuration.\r\n\r\nRemember that when using that version and connecting to Elasticsearch 8 you need to set the compatibility headers on each request, see [the documentation](https://docs.spring.io/spring-data/elasticsearch/docs/4.4.12/reference/html/#elasticsearch.clients.configuration) about that.\r\n\r\nI&#39;d recommend you use an up to date version of Spring Data Elasticsearch.\r\n\r\n\r\n\r\n","title":"Issue connecting a spring boot application with elasticsearch 8.6 using spring data","body":"<p>Looking at the Spring Boot version, you are using Spring Data Elasticsearch 4.4.x (which now is out of maintenance). You are using the configuration for the new Elasticsearch Client (<code>org.springframework.data.elasticsearch.client.elc.ElasticsearchConfiguration</code>). The use of the then new client was introduced in 4.4 as a still new and potentially unstable feature.</p>\n<p>I am not seeing that you set the <code>jakarta-json.version</code> (see <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.4.12/reference/html/#elasticsearch-migration-guide-4.3-4.4.new-clients\" rel=\"nofollow noreferrer\">the documentation</a> about configuration of the new client.</p>\n<p>Do you special reasons why you override and provide <code>getElasticsearchTransport()</code> and <code>getElasticsearchClient()</code>? These beans are alrea provided by the base class, the only method you need to provide is the one providing the configuration.</p>\n<p>Remember that when using that version and connecting to Elasticsearch 8 you need to set the compatibility headers on each request, see <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.4.12/reference/html/#elasticsearch.clients.configuration\" rel=\"nofollow noreferrer\">the documentation</a> about that.</p>\n<p>I'd recommend you use an up to date version of Spring Data Elasticsearch.</p>\n"},{"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685810828,"creation_date":1685810828,"answer_id":76397039,"question_id":76396251,"body_markdown":"You are using [spring-boot-starter-parent:2.7.12](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter/2.7.12), which means you are using [spring-boot-starter-data-elasticsearch:2.7.12](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-elasticsearch/2.7.12). If you look at the dependencies, the last one has a dependency on [spring-data-elasticsearch:4.4.12](https://mvnrepository.com/artifact/org.springframework.data/spring-data-elasticsearch/4.4.12). The [migration guide for 4.4.x](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch-migration-guide-4.3-4.4) says that you need to [manually add some dependencies](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch-migration-guide-4.3-4.4.new-clients.how-to.dependencies). I&#39;m not seeing any of those dependencies in the `pom.xml` you showed in the question.","title":"Issue connecting a spring boot application with elasticsearch 8.6 using spring data","body":"<p>You are using <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter/2.7.12\" rel=\"nofollow noreferrer\">spring-boot-starter-parent:2.7.12</a>, which means you are using <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-elasticsearch/2.7.12\" rel=\"nofollow noreferrer\">spring-boot-starter-data-elasticsearch:2.7.12</a>. If you look at the dependencies, the last one has a dependency on <a href=\"https://mvnrepository.com/artifact/org.springframework.data/spring-data-elasticsearch/4.4.12\" rel=\"nofollow noreferrer\">spring-data-elasticsearch:4.4.12</a>. The <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch-migration-guide-4.3-4.4\" rel=\"nofollow noreferrer\">migration guide for 4.4.x</a> says that you need to <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch-migration-guide-4.3-4.4.new-clients.how-to.dependencies\" rel=\"nofollow noreferrer\">manually add some dependencies</a>. I'm not seeing any of those dependencies in the <code>pom.xml</code> you showed in the question.</p>\n"}],"owner":{"account_id":26132574,"reputation":21,"user_id":19823079,"display_name":"Carlos Ruiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1059,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685876281,"creation_date":1685797684,"question_id":76396251,"body_markdown":"I am new on ElasticSearch, and I would like to have a Spring Boot Application that connects to a database ElasticSearch 8.6, in order to do CRUD operations over an index.\r\nI was trying to do a CRUD application using Spring Boot with ElasticSearch database.\r\n\r\nEntity:\r\n\r\n```\r\n@Document(createIndex = true, indexName = &quot;client&quot;)\r\npublic class ClientEntity {\r\n\r\n  public ClientEntity() {\r\n    super();\r\n  }\r\n\r\n  @Id\r\n  private String id;\r\n\r\n  @Field(type = FieldType.Text, name = &quot;name&quot;)\r\n  private String name;\r\n\r\n  @Field(type = FieldType.Long, name = &quot;phoneNumber&quot;)\r\n  private Long phone;\r\n```\r\n\r\nThe repository interface from spring data is:\r\n\r\n```    \r\n    import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public interface ClientRepository extends ElasticsearchRepository&lt;ClientEntity, String&gt; {\r\n    \r\n    }\r\n```\r\n\r\nElastic search config:\r\n```\r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\n    import org.elasticsearch.client.RestClient;\r\n    import org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.elasticsearch.client.ClientConfiguration;\r\n    import org.springframework.data.elasticsearch.client.elc.ElasticsearchConfiguration;\r\n    import     org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\r\n    \r\n    import co.elastic.clients.elasticsearch.ElasticsearchClient;\r\n    import co.elastic.clients.json.jackson.JacksonJsonpMapper;\r\n    import co.elastic.clients.transport.ElasticsearchTransport;\r\n    import co.elastic.clients.transport.rest_client.RestClientTransport;\r\n    \r\n    @Configuration\r\n    public class ConfigElasticSearch extends ElasticsearchConfiguration {\r\n      @Bean\r\n      public ElasticsearchTransport getElasticsearchTransport() {\r\n        return new RestClientTransport(getRestClient(), new JacksonJsonpMapper());\r\n      }\r\n\r\n      @Bean\r\n      public ElasticsearchClient getElasticsearchClient() {\r\n        ElasticsearchClient client = new ElasticsearchClient(getElasticsearchTransport());\r\n        return client;\r\n      }\r\n\r\n      @Override\r\n      public ClientConfiguration clientConfiguration() {\r\n        return ClientConfiguration.builder().connectedTo(&quot;localhost:9200&quot;)\r\n         .withBasicAuth(&quot;user&quot;, &quot;my-password&quot;).build();\r\n      }\r\n\r\n```\r\npom.xml:\r\n```\r\n    &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.12&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n      &lt;java.version&gt;17&lt;/java.version&gt;\r\n      &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n      &lt;json-web-token.version&gt;0.9.1&lt;/json-web-token.version&gt;   \r\n      &lt;org-modelmapper.version&gt;3.1.1&lt;/org-modelmapper.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n            &lt;version&gt;${org-modelmapper.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n           &lt;/dependency&gt;\r\n    \r\n    &lt;!-- ES --&gt;\r\n           &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n         &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;    \r\n\r\n```\r\n\r\nThe service that uses the Spring Data repository is the following:\r\n\r\n```\r\n\r\n    @Service(&quot;clientPersistence&quot;)\r\n    public class ClientPersistenceElasticSearchDb {\r\n\r\n      @Autowired\r\n      private ClientRepository clientRepository;\r\n\r\n      public Stream\\&lt;ClientEntity\\&gt; findAll() {\r\n       return StreamSupport.stream(this.clientRepository.findAll().spliterator(), false);\r\n      }\r\n\r\n      public Optional\\&lt;ClientEntity\\&gt; findById(String id) {\r\n        return clientRepository.findById(id);\r\n      }\r\n    }\r\n\r\n```\r\n\r\nThe main configuration for my microservice is:\r\n```\r\n\r\n    @SpringBootApplication\r\n    public class ClientMicroserviceApplication {\r\n\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(EmpleadosMicroservicioApplication.class, args);\r\n      }\r\n\r\n    }\r\n\r\n```\r\n\r\nIf I start my microservice, I get the following when starting (and then, the microservice hangs):\r\n\r\n&gt; \r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;clientPersistencia&#39;: Unsatisfied dependency expressed through field &#39;clientRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientRepository&#39; defined in es.clientmicroservice.dao.clientRepository defined in @EnableElasticsearchRepositories declared on ConfigElasticSearch : Cannot resolve reference to bean &#39;elasticsearchTemplate&#39; while setting bean property &#39;elasticsearchOperations&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;elasticsearchOperations&#39; defined in class path resource \\[es/clientmicroservice/config/ConfigElasticSearch .class\\]: Unsatisfied dependency expressed through method &#39;elasticsearchOperations&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;elasticsearchClient&#39; defined in class path resource \\[es/clientmicroservice/config/ConfigElasticSearch .class\\]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate \\[co.elastic.clients.elasticsearch.ElasticsearchClient\\]: Factory method &#39;elasticsearchClient&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/json/spi/JsonProvider\r\n\r\nI don&#39;t know why my class clientPersistence is not build because missing JsonProvider dependency.\r\n\r\nAny one could help me?\r\n\r\nThank you in advance!!\r\n```","title":"Issue connecting a spring boot application with elasticsearch 8.6 using spring data","body":"<p>I am new on ElasticSearch, and I would like to have a Spring Boot Application that connects to a database ElasticSearch 8.6, in order to do CRUD operations over an index.\nI was trying to do a CRUD application using Spring Boot with ElasticSearch database.</p>\n<p>Entity:</p>\n<pre><code>@Document(createIndex = true, indexName = &quot;client&quot;)\npublic class ClientEntity {\n\n  public ClientEntity() {\n    super();\n  }\n\n  @Id\n  private String id;\n\n  @Field(type = FieldType.Text, name = &quot;name&quot;)\n  private String name;\n\n  @Field(type = FieldType.Long, name = &quot;phoneNumber&quot;)\n  private Long phone;\n</code></pre>\n<p>The repository interface from spring data is:</p>\n<pre><code>    import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\n    import org.springframework.stereotype.Repository;\n\n    @Repository\n    public interface ClientRepository extends ElasticsearchRepository&lt;ClientEntity, String&gt; {\n    \n    }\n</code></pre>\n<p>Elastic search config:</p>\n<pre><code>    import org.apache.http.HttpHost;\n    import org.apache.http.auth.AuthScope;\n    import org.apache.http.auth.UsernamePasswordCredentials;\n    import org.apache.http.client.CredentialsProvider;\n    import org.apache.http.impl.client.BasicCredentialsProvider;\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\n    import org.elasticsearch.client.RestClient;\n    import org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.data.elasticsearch.client.ClientConfiguration;\n    import org.springframework.data.elasticsearch.client.elc.ElasticsearchConfiguration;\n    import     org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\n    \n    import co.elastic.clients.elasticsearch.ElasticsearchClient;\n    import co.elastic.clients.json.jackson.JacksonJsonpMapper;\n    import co.elastic.clients.transport.ElasticsearchTransport;\n    import co.elastic.clients.transport.rest_client.RestClientTransport;\n    \n    @Configuration\n    public class ConfigElasticSearch extends ElasticsearchConfiguration {\n      @Bean\n      public ElasticsearchTransport getElasticsearchTransport() {\n        return new RestClientTransport(getRestClient(), new JacksonJsonpMapper());\n      }\n\n      @Bean\n      public ElasticsearchClient getElasticsearchClient() {\n        ElasticsearchClient client = new ElasticsearchClient(getElasticsearchTransport());\n        return client;\n      }\n\n      @Override\n      public ClientConfiguration clientConfiguration() {\n        return ClientConfiguration.builder().connectedTo(&quot;localhost:9200&quot;)\n         .withBasicAuth(&quot;user&quot;, &quot;my-password&quot;).build();\n      }\n\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>    &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.7.12&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n      &lt;java.version&gt;17&lt;/java.version&gt;\n      &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n      &lt;json-web-token.version&gt;0.9.1&lt;/json-web-token.version&gt;   \n      &lt;org-modelmapper.version&gt;3.1.1&lt;/org-modelmapper.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;${org-modelmapper.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n           &lt;/dependency&gt;\n    \n    &lt;!-- ES --&gt;\n           &lt;dependency&gt;\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n          &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n         &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n           &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;    \n\n</code></pre>\n<p>The service that uses the Spring Data repository is the following:</p>\n<pre><code>\n    @Service(&quot;clientPersistence&quot;)\n    public class ClientPersistenceElasticSearchDb {\n\n      @Autowired\n      private ClientRepository clientRepository;\n\n      public Stream\\&lt;ClientEntity\\&gt; findAll() {\n       return StreamSupport.stream(this.clientRepository.findAll().spliterator(), false);\n      }\n\n      public Optional\\&lt;ClientEntity\\&gt; findById(String id) {\n        return clientRepository.findById(id);\n      }\n    }\n\n</code></pre>\n<p>The main configuration for my microservice is:</p>\n<pre><code>\n    @SpringBootApplication\n    public class ClientMicroserviceApplication {\n\n      public static void main(String[] args) {\n        SpringApplication.run(EmpleadosMicroservicioApplication.class, args);\n      }\n\n    }\n\n</code></pre>\n<p>If I start my microservice, I get the following when starting (and then, the microservice hangs):</p>\n<blockquote>\n</blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'clientPersistencia': Unsatisfied dependency expressed through field 'clientRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientRepository' defined in es.clientmicroservice.dao.clientRepository defined in @EnableElasticsearchRepositories declared on ConfigElasticSearch : Cannot resolve reference to bean 'elasticsearchTemplate' while setting bean property 'elasticsearchOperations'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'elasticsearchOperations' defined in class path resource [es/clientmicroservice/config/ConfigElasticSearch .class]: Unsatisfied dependency expressed through method 'elasticsearchOperations' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elasticsearchClient' defined in class path resource [es/clientmicroservice/config/ConfigElasticSearch .class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [co.elastic.clients.elasticsearch.ElasticsearchClient]: Factory method 'elasticsearchClient' threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/json/spi/JsonProvider</p>\n<p>I don't know why my class clientPersistence is not build because missing JsonProvider dependency.</p>\n<p>Any one could help me?</p>\n<p>Thank you in advance!!</p>\n<pre><code></code></pre>\n"},{"tags":["java","maven","junit","dependencies"],"answers":[{"tags":[],"owner":{"account_id":20665651,"reputation":46,"user_id":16061614,"display_name":"Cristian Bucataru"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685875132,"creation_date":1685875132,"answer_id":76399959,"question_id":76399682,"body_markdown":"\r\n - The rest-assured dependency you are using is providing a transitive dependency on commons-codec:commons-codec:1.11, which has a known security vulnerability. The warning is indicating that there&#39;s a potential risk of exposing sensitive information to unauthorized actors due to this vulnerability.\r\n\r\n - To remove this warning, you can either exclude the vulnerable dependency from the rest-assured dependency or add the latest version of commons-codec as a separate dependency\r\n\r\n---\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\nOR\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    &lt;version&gt;1.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Java - Maven rest-assured library has warning transitive vulnerable dependency commons-codec:commons-codec:1.11","body":"<ul>\n<li><p>The rest-assured dependency you are using is providing a transitive dependency on commons-codec:commons-codec:1.11, which has a known security vulnerability. The warning is indicating that there's a potential risk of exposing sensitive information to unauthorized actors due to this vulnerability.</p>\n</li>\n<li><p>To remove this warning, you can either exclude the vulnerable dependency from the rest-assured dependency or add the latest version of commons-codec as a separate dependency</p>\n</li>\n</ul>\n<hr />\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n    &lt;version&gt;5.3.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>OR</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n    &lt;version&gt;1.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19044543,"reputation":6383,"user_id":13903942,"display_name":"Federico Ba&#249;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76399959,"answer_count":1,"score":1,"last_activity_date":1685875132,"creation_date":1685870275,"question_id":76399682,"body_markdown":"### Problem\r\n\r\nAdding dependency *rest-assured* gives this warning:\r\n\r\n```\r\n\r\nProvides transitive vulnerable dependency commons-codec:commons-codec:1.11\r\n```\r\n\r\n\r\n* IDE: Intellij - 222.4554.10\r\n* Build tool: Maven \r\n* Jar with error: rest-assured\r\n* Warning: &#39;Cxeb68d52e-5509 3.7 Exposure of Sensitive Information to an Unauthorized Actor vulnerability pending CVSS allocation&#39;\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n----\r\n\r\n### Questions\r\n\r\n* How can I remove this warning\r\n* What are this warning in general means? \r\n\r\n","title":"Java - Maven rest-assured library has warning transitive vulnerable dependency commons-codec:commons-codec:1.11","body":"<h3>Problem</h3>\n<p>Adding dependency <em>rest-assured</em> gives this warning:</p>\n<pre><code>\nProvides transitive vulnerable dependency commons-codec:commons-codec:1.11\n</code></pre>\n<ul>\n<li>IDE: Intellij - 222.4554.10</li>\n<li>Build tool: Maven</li>\n<li>Jar with error: rest-assured</li>\n<li>Warning: 'Cxeb68d52e-5509 3.7 Exposure of Sensitive Information to an Unauthorized Actor vulnerability pending CVSS allocation'</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<h3>Questions</h3>\n<ul>\n<li>How can I remove this warning</li>\n<li>What are this warning in general means?</li>\n</ul>\n"},{"tags":["java","locale","faker"],"comments":[{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1685861222,"post_id":76399221,"comment_id":134718192,"body_markdown":"Share your code with us. Although `java-faker` no longer maintained, You should use another lib.","body":"Share your code with us. Although <code>java-faker</code> no longer maintained, You should use another lib."},{"owner":{"account_id":28747851,"reputation":1,"user_id":22016568,"display_name":"Joe"},"score":0,"creation_date":1685861413,"post_id":76399221,"comment_id":134718209,"body_markdown":"Which lib is worth to check in your opinion? I have to generate phoneNo, first name, last name and email","body":"Which lib is worth to check in your opinion? I have to generate phoneNo, first name, last name and email"},{"owner":{"account_id":1519336,"reputation":1656,"user_id":2057969,"display_name":"Lover of Structure"},"score":0,"creation_date":1685861429,"post_id":76399221,"comment_id":134718213,"body_markdown":"You mean *international calling codes*.","body":"You mean <i>international calling codes</i>."},{"owner":{"account_id":28747851,"reputation":1,"user_id":22016568,"display_name":"Joe"},"score":0,"creation_date":1685861539,"post_id":76399221,"comment_id":134718223,"body_markdown":"right, calling codes","body":"right, calling codes"},{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1685861732,"post_id":76399221,"comment_id":134718235,"body_markdown":"Can you see your locale in supported locales https://github.com/DiUS/java-faker#supported-locales?","body":"Can you see your locale in supported locales <a href=\"https://github.com/DiUS/java-faker#supported-locales\" rel=\"nofollow noreferrer\">github.com/DiUS/java-faker#supported-locales</a>?"},{"owner":{"account_id":28747851,"reputation":1,"user_id":22016568,"display_name":"Joe"},"score":0,"creation_date":1685861813,"post_id":76399221,"comment_id":134718239,"body_markdown":"Yes I see, but I don&#39;t see a method to get calling code","body":"Yes I see, but I don&#39;t see a method to get calling code"},{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1685862384,"post_id":76399221,"comment_id":134718281,"body_markdown":"So, the project does not support country_code of your locale.","body":"So, the project does not support country_code of your locale."}],"answers":[{"tags":[],"owner":{"account_id":22929532,"reputation":58,"user_id":17064082,"display_name":"Jack Lam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685862538,"creation_date":1685861985,"answer_id":76399269,"question_id":76399221,"body_markdown":"I think it&#39;s a library level issue, I checked with ```locale=de``` is able to generate something like ```+49-174-4012298``` which contained the country code (+49), and you can find more information on the library repo with the config of the code, [[de.yml][1] [en-GB.yml][2]] perhaps you might want to switch to another data mocking library, code example below.\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Faker f = new Faker(new Locale(&quot;de&quot;));\r\n        System.out.println(f.phoneNumber().cellPhone());\r\n    }\r\n}\r\n```\r\n[![Output from my side with locale=de][3]][3]\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Faker f = new Faker(new Locale(&quot;en-GB&quot;));\r\n        System.out.println(f.phoneNumber().cellPhone());\r\n    }\r\n}\r\n```\r\n[![Output from my side with locale=en-GB][4]][4]\r\n\r\n\r\n  [1]: https://github.com/DiUS/java-faker/blob/a8b8ff0acc6fcc629d08a3a9952f83be56a9a3c3/src/main/resources/de.yml\r\n  [2]: https://github.com/DiUS/java-faker/blob/a8b8ff0acc6fcc629d08a3a9952f83be56a9a3c3/src/main/resources/en-GB.yml\r\n  [3]: https://i.stack.imgur.com/0gfZT.png\r\n  [4]: https://i.stack.imgur.com/DpwQt.png","title":"Get phone calling country_code from locale","body":"<p>I think it's a library level issue, I checked with <code>locale=de</code> is able to generate something like <code>+49-174-4012298</code> which contained the country code (+49), and you can find more information on the library repo with the config of the code, [<a href=\"https://github.com/DiUS/java-faker/blob/a8b8ff0acc6fcc629d08a3a9952f83be56a9a3c3/src/main/resources/de.yml\" rel=\"nofollow noreferrer\">de.yml</a> <a href=\"https://github.com/DiUS/java-faker/blob/a8b8ff0acc6fcc629d08a3a9952f83be56a9a3c3/src/main/resources/en-GB.yml\" rel=\"nofollow noreferrer\">en-GB.yml</a>] perhaps you might want to switch to another data mocking library, code example below.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Faker f = new Faker(new Locale(&quot;de&quot;));\n        System.out.println(f.phoneNumber().cellPhone());\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0gfZT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0gfZT.png\" alt=\"Output from my side with locale=de\" /></a></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Faker f = new Faker(new Locale(&quot;en-GB&quot;));\n        System.out.println(f.phoneNumber().cellPhone());\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DpwQt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DpwQt.png\" alt=\"Output from my side with locale=en-GB\" /></a></p>\n"}],"owner":{"account_id":28747851,"reputation":1,"user_id":22016568,"display_name":"Joe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685874010,"creation_date":1685860873,"question_id":76399221,"body_markdown":"I&#39;m using java-faker library to generate phone number based on LOCALE. \r\nNumber is generated without country code like +1, +44 etc\r\n\r\nIs any possibility to get county code from java based on LOCALE?\r\n\r\nCan&#39;t find any country_code selection in java-faker library, also in LOCALE I don&#39;t see that option, but maybe I&#39;m missing something\r\n\r\n\r\n\r\n \r\n\r\n     public static String getPhoneNumber() {\r\n            return getFaker().phoneNumber().cellPhone();\r\n        }\r\n\r\n      static Faker getFaker() {\r\n            return new Faker(new Locale(LANGUAGE));\r\n        }\r\n\r\n","title":"Get phone calling country_code from locale","body":"<p>I'm using java-faker library to generate phone number based on LOCALE.\nNumber is generated without country code like +1, +44 etc</p>\n<p>Is any possibility to get county code from java based on LOCALE?</p>\n<p>Can't find any country_code selection in java-faker library, also in LOCALE I don't see that option, but maybe I'm missing something</p>\n<pre><code> public static String getPhoneNumber() {\n        return getFaker().phoneNumber().cellPhone();\n    }\n\n  static Faker getFaker() {\n        return new Faker(new Locale(LANGUAGE));\n    }\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685870594,"post_id":76399671,"comment_id":134718965,"body_markdown":"but does the test fail?? (expected list, verify) ...or is just the output confusing?","body":"but does the test fail?? (expected list, verify) ...or is just the output confusing?"},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1685872234,"post_id":76399671,"comment_id":134719122,"body_markdown":"@xerx593  test success passed. I&#39;m confusing of output","body":"@xerx593  test success passed. I&#39;m confusing of output"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1685872939,"post_id":76399671,"comment_id":134719185,"body_markdown":"(but actually the code is &quot;bad testable&quot;..instead of investing time in powermocking, you should consider to improve on that;)","body":"(but actually the code is &quot;bad testable&quot;..instead of investing time in powermocking, you should consider to improve on that;)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1685873120,"post_id":76399671,"comment_id":134719197,"body_markdown":"As @xerx593 says, wanting to do this is a symptom that you haven&#39;t written your code with testability in mind. You should refactor it.","body":"As @xerx593 says, wanting to do this is a symptom that you haven&#39;t written your code with testability in mind. You should refactor it."}],"answers":[{"tags":[],"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685873845,"creation_date":1685873845,"answer_id":76399879,"question_id":76399671,"body_markdown":"Use     \r\n\r\n    doReturn(&quot;call_serviceMethod_1_MOCK&quot;).when(myServiceSpy).serviceMethod_1();\r\n        \r\n\r\nInstead of \r\n\r\n    when(myServiceSpy.serviceMethod_1()).thenReturn(&quot;call_serviceMethod_1_MOCK&quot;);","title":"Method Mockito.spy() call real method?","body":"<p>Use</p>\n<pre><code>doReturn(&quot;call_serviceMethod_1_MOCK&quot;).when(myServiceSpy).serviceMethod_1();\n    \n</code></pre>\n<p>Instead of</p>\n<pre><code>when(myServiceSpy.serviceMethod_1()).thenReturn(&quot;call_serviceMethod_1_MOCK&quot;);\n</code></pre>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76399879,"answer_count":1,"score":2,"last_activity_date":1685873845,"creation_date":1685870062,"question_id":76399671,"body_markdown":"I have 3 methods. When run unit test I need the next:\r\n\r\n1. Method `serviceMethod_1` not call real method \r\n2. Method `serviceMethod_2` call real method\r\n3. Method `serviceMethod_1` call real method\r\n\r\n\r\nHere definition of method `Mockito.spy()`\r\n\r\n    Mockito.spy() - each method implementation are the real one, except if you have defined a mocked behaviour with when(..)\r\n\r\n\r\nThat&#39;s exactlty what I need.\r\n\r\nSo here my unit test:\r\n\r\n  \r\n\r\n    import org.mockito.Spy;\r\n    @Spy\r\n    private MyServiceImpl myServiceSpy;\r\n\r\n    @Before\r\n        public void setup() {\r\n            System.out.println(&quot;\\nSETUP&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void myService_method_1_spy() {\r\n            when(myServiceSpy.serviceMethod_1())\r\n                    .thenReturn(&quot;call_serviceMethod_1_MOCK&quot;);\r\n    \r\n            List&lt;String&gt; actualList = myServiceSpy.performService();\r\n            \r\n    \r\n            List&lt;String&gt; expectedList = Arrays.asList(\r\n                    &quot;call_serviceMethod_1_MOCK&quot;,\r\n                    &quot;call_serviceMethod_2_REAL&quot;,\r\n                    &quot;call_serviceMethod_3_REAL&quot;);\r\n            assertEquals(expectedList, actualList);\r\n           \r\n            verify(myServiceSpy, times(1)).serviceMethod_1();\r\n        }\r\n\r\n\r\n\r\nHere service class:\r\n\r\n    public class MyServiceImpl implements MyService {\r\n        private String text;\r\n    \r\n        @Override\r\n        public String serviceMethod_1() {\r\n            String result = &quot;call_serviceMethod_1_REAL&quot;;\r\n            System.out.println(&quot;serviceMethod_1: result = &quot; + result);\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public String serviceMethod_2() {\r\n            String result = &quot;call_serviceMethod_2_REAL&quot;;\r\n            System.out.println(&quot;serviceMethod_2: result = &quot; + result);\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public String serviceMethod_3() {\r\n            String result = &quot;call_serviceMethod_3_REAL&quot;;\r\n            System.out.println(&quot;serviceMethod_3: result = &quot; + result);\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;String&gt; performService() {\r\n            System.out.println(&quot;performService: START, this.className = &quot; + this.getClass().getName()); // In the name contain word &quot;MockitoMock&quot;\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            String item_1 = serviceMethod_1();\r\n            String item_2 = serviceMethod_2();\r\n            String item_3 = serviceMethod_3();\r\n            list.add(item_1);\r\n            list.add(item_2);\r\n            list.add(item_3);\r\n            return list;\r\n        }\r\n    \r\n        public void setText(String text) {\r\n            this.text = text;\r\n        }\r\n    }\r\n\r\nBut when I run test I get the next output:\r\n\r\n    SETUP\r\n    serviceMethod_1: result = call_serviceMethod_1_REAL\r\n    performService: START, this.className = com.myproejctjava.javatestproject.service.MyServiceImpl$MockitoMock$Il2iukBL\r\n    serviceMethod_2: result = call_serviceMethod_2_REAL\r\n    serviceMethod_3: result = call_serviceMethod_3_REAL\r\n    BUILD SUCCESSFUL in 1s\r\n\r\nAs you can see in the test call REAL method `serviceMethod_1`.\r\n\r\nWhy method `spy()` not help me? I need to not call real method `serviceMethod_1`","title":"Method Mockito.spy() call real method?","body":"<p>I have 3 methods. When run unit test I need the next:</p>\n<ol>\n<li>Method <code>serviceMethod_1</code> not call real method</li>\n<li>Method <code>serviceMethod_2</code> call real method</li>\n<li>Method <code>serviceMethod_1</code> call real method</li>\n</ol>\n<p>Here definition of method <code>Mockito.spy()</code></p>\n<pre><code>Mockito.spy() - each method implementation are the real one, except if you have defined a mocked behaviour with when(..)\n</code></pre>\n<p>That's exactlty what I need.</p>\n<p>So here my unit test:</p>\n<pre><code>import org.mockito.Spy;\n@Spy\nprivate MyServiceImpl myServiceSpy;\n\n@Before\n    public void setup() {\n        System.out.println(&quot;\\nSETUP&quot;);\n    }\n\n    @Test\n    public void myService_method_1_spy() {\n        when(myServiceSpy.serviceMethod_1())\n                .thenReturn(&quot;call_serviceMethod_1_MOCK&quot;);\n\n        List&lt;String&gt; actualList = myServiceSpy.performService();\n        \n\n        List&lt;String&gt; expectedList = Arrays.asList(\n                &quot;call_serviceMethod_1_MOCK&quot;,\n                &quot;call_serviceMethod_2_REAL&quot;,\n                &quot;call_serviceMethod_3_REAL&quot;);\n        assertEquals(expectedList, actualList);\n       \n        verify(myServiceSpy, times(1)).serviceMethod_1();\n    }\n</code></pre>\n<p>Here service class:</p>\n<pre><code>public class MyServiceImpl implements MyService {\n    private String text;\n\n    @Override\n    public String serviceMethod_1() {\n        String result = &quot;call_serviceMethod_1_REAL&quot;;\n        System.out.println(&quot;serviceMethod_1: result = &quot; + result);\n        return result;\n    }\n\n    @Override\n    public String serviceMethod_2() {\n        String result = &quot;call_serviceMethod_2_REAL&quot;;\n        System.out.println(&quot;serviceMethod_2: result = &quot; + result);\n        return result;\n    }\n\n    @Override\n    public String serviceMethod_3() {\n        String result = &quot;call_serviceMethod_3_REAL&quot;;\n        System.out.println(&quot;serviceMethod_3: result = &quot; + result);\n        return result;\n    }\n\n    @Override\n    public List&lt;String&gt; performService() {\n        System.out.println(&quot;performService: START, this.className = &quot; + this.getClass().getName()); // In the name contain word &quot;MockitoMock&quot;\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        String item_1 = serviceMethod_1();\n        String item_2 = serviceMethod_2();\n        String item_3 = serviceMethod_3();\n        list.add(item_1);\n        list.add(item_2);\n        list.add(item_3);\n        return list;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n}\n</code></pre>\n<p>But when I run test I get the next output:</p>\n<pre><code>SETUP\nserviceMethod_1: result = call_serviceMethod_1_REAL\nperformService: START, this.className = com.myproejctjava.javatestproject.service.MyServiceImpl$MockitoMock$Il2iukBL\nserviceMethod_2: result = call_serviceMethod_2_REAL\nserviceMethod_3: result = call_serviceMethod_3_REAL\nBUILD SUCCESSFUL in 1s\n</code></pre>\n<p>As you can see in the test call REAL method <code>serviceMethod_1</code>.</p>\n<p>Why method <code>spy()</code> not help me? I need to not call real method <code>serviceMethod_1</code></p>\n"},{"tags":["java","comparator"],"comments":[{"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"score":1,"creation_date":1322663757,"post_id":8327514,"comment_id":22408162,"body_markdown":"What is the name and class of the Exception? Is it an IllegalArgumentException? If I had to guess I would think that you should be doing `s1.getParent().equals(s2)` instead of `s1.getParent() == s2`.","body":"What is the name and class of the Exception? Is it an IllegalArgumentException? If I had to guess I would think that you should be doing <code>s1.getParent().equals(s2)</code> instead of <code>s1.getParent() == s2</code>."},{"owner":{"account_id":1376,"reputation":61107,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"score":0,"creation_date":1322663810,"post_id":8327514,"comment_id":10265687,"body_markdown":"And the exception that is thrown as well.","body":"And the exception that is thrown as well."},{"owner":{"account_id":22614,"reputation":70797,"user_id":55943,"display_name":"mqp"},"score":2,"creation_date":1322663901,"post_id":8327514,"comment_id":10265726,"body_markdown":"I don&#39;t know much about Java or about Java comparison APIs, but this comparison method seems dead wrong.  Suppose `s1` is the parent of `s2`, and `s2` is not the parent of `s1`.  Then `compareParents(s1, s2)` is `0`, but `compareParents(s2, s1)` is `1`.  That doesn&#39;t make sense.  (In addition, it&#39;s not transitive, like aix mentioned below.)","body":"I don&#39;t know much about Java or about Java comparison APIs, but this comparison method seems dead wrong.  Suppose <code>s1</code> is the parent of <code>s2</code>, and <code>s2</code> is not the parent of <code>s1</code>.  Then <code>compareParents(s1, s2)</code> is <code>0</code>, but <code>compareParents(s2, s1)</code> is <code>1</code>.  That doesn&#39;t make sense.  (In addition, it&#39;s not transitive, like aix mentioned below.)"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1322664039,"post_id":8327514,"comment_id":10265779,"body_markdown":"This error appears to only be produced by a specific library http://cr.openjdk.java.net/~martin/webrevs/openjdk7/timsort/src/share/classes/java/util/TimSort.java.html","body":"This error appears to only be produced by a specific library <a href=\"http://cr.openjdk.java.net/~martin/webrevs/openjdk7/timsort/src/share/classes/java/util/TimSort.java.html\" rel=\"nofollow noreferrer\">cr.openjdk.java.net/~martin/webrevs/openjdk7/timsort/src/sha&zwnj;&#8203;re/&hellip;</a>"},{"owner":{"account_id":388244,"reputation":1444,"user_id":747047,"accept_rate":90,"display_name":"Mualig"},"score":0,"creation_date":1322664172,"post_id":8327514,"comment_id":10265833,"body_markdown":"in java, you can use equals (return a boolean) or compareTo (return -1, 0 or +1). Override this functions in your Foo class and after that, you can check s1.getParent().equals(s2) ...","body":"in java, you can use equals (return a boolean) or compareTo (return -1, 0 or +1). Override this functions in your Foo class and after that, you can check s1.getParent().equals(s2) ..."},{"owner":{"account_id":384624,"reputation":15403,"user_id":741249,"display_name":"THelper"},"score":0,"creation_date":1428238671,"post_id":8327514,"comment_id":47079326,"body_markdown":"Whether or not the exception is thrown depends on the used JRE version. Java6 will allow this, Java 7 and 8 will throw the error.","body":"Whether or not the exception is thrown depends on the used JRE version. Java6 will allow this, Java 7 and 8 will throw the error."}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":1,"up_vote_count":298,"is_accepted":true,"score":297,"last_activity_date":1401431640,"creation_date":1322663792,"answer_id":8327575,"question_id":8327514,"body_markdown":"**Your comparator is not transitive.**\r\n\r\nLet `A` be the parent of `B`, and `B` be the parent of `C`. Since `A &gt; B` and `B &gt; C`, then it must be the case that `A &gt; C`. However, if your comparator is invoked on `A` and `C`, it would return zero, meaning `A == C`. This violates the contract and hence throws the exception.\r\n\r\nIt&#39;s rather nice of the library to detect this and let you know, rather than behave erratically.\r\n\r\nOne way to satisfy the transitivity requirement in `compareParents()` is to traverse the `getParent()` chain instead of only looking at the immediate ancestor.","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p><strong>Your comparator is not transitive.</strong></p>\n\n<p>Let <code>A</code> be the parent of <code>B</code>, and <code>B</code> be the parent of <code>C</code>. Since <code>A &gt; B</code> and <code>B &gt; C</code>, then it must be the case that <code>A &gt; C</code>. However, if your comparator is invoked on <code>A</code> and <code>C</code>, it would return zero, meaning <code>A == C</code>. This violates the contract and hence throws the exception.</p>\n\n<p>It's rather nice of the library to detect this and let you know, rather than behave erratically.</p>\n\n<p>One way to satisfy the transitivity requirement in <code>compareParents()</code> is to traverse the <code>getParent()</code> chain instead of only looking at the immediate ancestor.</p>\n"},{"tags":[],"owner":{"account_id":329428,"reputation":4250,"user_id":652945,"accept_rate":60,"display_name":"erimerturk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322664879,"creation_date":1322663914,"answer_id":8327599,"question_id":8327514,"body_markdown":"You can&#39;t compare object data like this:`s1.getParent() == s2` - this will compare the object references. You should override `equals function` for Foo class and then compare them like this `s1.getParent().equals(s2)`","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>You can't compare object data like this:<code>s1.getParent() == s2</code> - this will compare the object references. You should override <code>equals function</code> for Foo class and then compare them like this <code>s1.getParent().equals(s2)</code></p>\n"},{"tags":[],"owner":{"account_id":208465,"reputation":3409,"user_id":458968,"accept_rate":75,"display_name":"you786"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1343078094,"creation_date":1343078094,"answer_id":11620614,"question_id":8327514,"body_markdown":"Just because this is what I got when I Googled this error, my problem was that I had \r\n\r\n    if (value &lt; other.value)\r\n      return -1;\r\n    else if (value &gt;= other.value)\r\n      return 1;\r\n    else\r\n      return 0;\r\n\r\nthe `value &gt;= other.value` should (obviously) actually be `value &gt; other.value` so that you can actually return 0 with equal objects. ","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>Just because this is what I got when I Googled this error, my problem was that I had </p>\n\n<pre><code>if (value &lt; other.value)\n  return -1;\nelse if (value &gt;= other.value)\n  return 1;\nelse\n  return 0;\n</code></pre>\n\n<p>the <code>value &gt;= other.value</code> should (obviously) actually be <code>value &gt; other.value</code> so that you can actually return 0 with equal objects. </p>\n"},{"tags":[],"owner":{"account_id":2204705,"reputation":311,"user_id":1948214,"accept_rate":75,"display_name":"keesp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1496835138,"creation_date":1374831405,"answer_id":17877916,"question_id":8327514,"body_markdown":"I&#39;ve seen this happen in a piece of code where the often recurring check for null values was performed:\r\n\r\n    if(( A==null ) &amp;&amp; ( B==null )\r\n      return +1;//WRONG: two null values should return 0!!!","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>I've seen this happen in a piece of code where the often recurring check for null values was performed:</p>\n\n<pre><code>if(( A==null ) &amp;&amp; ( B==null )\n  return +1;//WRONG: two null values should return 0!!!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2435396,"reputation":441,"user_id":2125432,"display_name":"CESDewar"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1380245007,"creation_date":1380245007,"answer_id":19041290,"question_id":8327514,"body_markdown":"The violation of the contract often means that the comparator is not providing the correct or consistent value when comparing objects. For example, you might want to perform a string compare and force empty strings to sort to the end with:\r\n\r\n\tif ( one.length() == 0 ) {\r\n\t\treturn 1;\t\t\t\t\t// empty string sorts last\r\n\t}\r\n\tif ( two.length() == 0 ) {\r\n\t\treturn -1;\t\t\t\t\t// empty string sorts last\t\t\t\t\t\r\n\t}\r\n\treturn one.compareToIgnoreCase( two );\r\n\r\nBut this overlooks the case where BOTH one and two are empty - and in that case, the wrong value is returned (1 instead of 0 to show a match), and the comparator reports that as a violation. It should have been written as:\r\n\r\n\tif ( one.length() == 0 ) {\r\n\t\tif ( two.length() == 0 ) {\r\n\t\t\treturn 0;\t\t\t\t// BOth empty - so indicate\r\n\t\t}\r\n\t\treturn 1;\t\t\t\t\t// empty string sorts last\r\n\t}\r\n\tif ( two.length() == 0 ) {\r\n\t\treturn -1;\t\t\t\t\t// empty string sorts last\t\t\t\t\t\r\n\t}\r\n\treturn one.compareToIgnoreCase( two );\r\n","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>The violation of the contract often means that the comparator is not providing the correct or consistent value when comparing objects. For example, you might want to perform a string compare and force empty strings to sort to the end with:</p>\n\n<pre><code>if ( one.length() == 0 ) {\n    return 1;                   // empty string sorts last\n}\nif ( two.length() == 0 ) {\n    return -1;                  // empty string sorts last                  \n}\nreturn one.compareToIgnoreCase( two );\n</code></pre>\n\n<p>But this overlooks the case where BOTH one and two are empty - and in that case, the wrong value is returned (1 instead of 0 to show a match), and the comparator reports that as a violation. It should have been written as:</p>\n\n<pre><code>if ( one.length() == 0 ) {\n    if ( two.length() == 0 ) {\n        return 0;               // BOth empty - so indicate\n    }\n    return 1;                   // empty string sorts last\n}\nif ( two.length() == 0 ) {\n    return -1;                  // empty string sorts last                  \n}\nreturn one.compareToIgnoreCase( two );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1408651,"reputation":1395,"user_id":1335717,"accept_rate":70,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407839865,"creation_date":1407839865,"answer_id":25262198,"question_id":8327514,"body_markdown":"Java does not check consistency in a strict sense, only notifies you if it runs into serious trouble. Also it does not give you much information from the error.\r\n\r\nI was puzzled with what&#39;s happening in my sorter and made a strict consistencyChecker, maybe this will help you:\r\n\r\n    /**\r\n     * @param dailyReports\r\n     * @param comparator\r\n     */\r\n    public static &lt;T&gt; void checkConsitency(final List&lt;T&gt; dailyReports, final Comparator&lt;T&gt; comparator) {\r\n      final Map&lt;T, List&lt;T&gt;&gt; objectMapSmallerOnes = new HashMap&lt;T, List&lt;T&gt;&gt;();\r\n  \r\n      iterateDistinctPairs(dailyReports.iterator(), new IPairIteratorCallback&lt;T&gt;() {\r\n        /**\r\n         * @param o1\r\n         * @param o2\r\n         */\r\n        @Override\r\n        public void pair(T o1, T o2) {\r\n          final int diff = comparator.compare(o1, o2);\r\n          if (diff &lt; Compare.EQUAL) {\r\n            checkConsistency(objectMapSmallerOnes, o1, o2);\r\n            getListSafely(objectMapSmallerOnes, o2).add(o1);\r\n          } else if (Compare.EQUAL &lt; diff) {\r\n            checkConsistency(objectMapSmallerOnes, o2, o1);\r\n            getListSafely(objectMapSmallerOnes, o1).add(o2);\r\n          } else {\r\n            throw new IllegalStateException(&quot;Equals not expected?&quot;);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  \r\n    /**\r\n     * @param objectMapSmallerOnes\r\n     * @param o1\r\n     * @param o2\r\n     */\r\n    static &lt;T&gt; void checkConsistency(final Map&lt;T, List&lt;T&gt;&gt; objectMapSmallerOnes, T o1, T o2) {\r\n      final List&lt;T&gt; smallerThan = objectMapSmallerOnes.get(o1);\r\n  \r\n      if (smallerThan != null) {\r\n        for (final T o : smallerThan) {\r\n          if (o == o2) {\r\n            throw new IllegalStateException(o2 + &quot;  cannot be smaller than &quot; + o1 + &quot; if it&#39;s supposed to be vice versa.&quot;);\r\n          }\r\n          checkConsistency(objectMapSmallerOnes, o, o2);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param keyMapValues \r\n     * @param key \r\n     * @param &lt;Key&gt; \r\n     * @param &lt;Value&gt; \r\n     * @return List&lt;Value&gt;\r\n     */ \r\n    public static &lt;Key, Value&gt; List&lt;Value&gt; getListSafely(Map&lt;Key, List&lt;Value&gt;&gt; keyMapValues, Key key) {\r\n      List&lt;Value&gt; values = keyMapValues.get(key);\r\n      \r\n      if (values == null) {\r\n        keyMapValues.put(key, values = new LinkedList&lt;Value&gt;());\r\n      }\r\n      \r\n      return values;\r\n    }\r\n    \r\n    /**\r\n     * @author Oku\r\n     *\r\n     * @param &lt;T&gt;\r\n     */\r\n    public interface IPairIteratorCallback&lt;T&gt; {\r\n      /**\r\n       * @param o1\r\n       * @param o2\r\n       */\r\n      void pair(T o1, T o2);\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * Iterates through each distinct unordered pair formed by the elements of a given iterator\r\n     *\r\n     * @param it\r\n     * @param callback\r\n     */\r\n    public static &lt;T&gt; void iterateDistinctPairs(final Iterator&lt;T&gt; it, IPairIteratorCallback&lt;T&gt; callback) {\r\n      List&lt;T&gt; list = Convert.toMinimumArrayList(new Iterable&lt;T&gt;() {\r\n  \r\n        @Override\r\n        public Iterator&lt;T&gt; iterator() {\r\n          return it;\r\n        }\r\n        \r\n      });\r\n      \r\n      for (int outerIndex = 0; outerIndex &lt; list.size() - 1; outerIndex++) {\r\n        for (int innerIndex = outerIndex + 1; innerIndex &lt; list.size(); innerIndex++) {\r\n          callback.pair(list.get(outerIndex), list.get(innerIndex));\r\n        }\r\n      }\r\n    }\r\n  ","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>Java does not check consistency in a strict sense, only notifies you if it runs into serious trouble. Also it does not give you much information from the error.</p>\n\n<p>I was puzzled with what's happening in my sorter and made a strict consistencyChecker, maybe this will help you:</p>\n\n<pre><code>/**\n * @param dailyReports\n * @param comparator\n */\npublic static &lt;T&gt; void checkConsitency(final List&lt;T&gt; dailyReports, final Comparator&lt;T&gt; comparator) {\n  final Map&lt;T, List&lt;T&gt;&gt; objectMapSmallerOnes = new HashMap&lt;T, List&lt;T&gt;&gt;();\n\n  iterateDistinctPairs(dailyReports.iterator(), new IPairIteratorCallback&lt;T&gt;() {\n    /**\n     * @param o1\n     * @param o2\n     */\n    @Override\n    public void pair(T o1, T o2) {\n      final int diff = comparator.compare(o1, o2);\n      if (diff &lt; Compare.EQUAL) {\n        checkConsistency(objectMapSmallerOnes, o1, o2);\n        getListSafely(objectMapSmallerOnes, o2).add(o1);\n      } else if (Compare.EQUAL &lt; diff) {\n        checkConsistency(objectMapSmallerOnes, o2, o1);\n        getListSafely(objectMapSmallerOnes, o1).add(o2);\n      } else {\n        throw new IllegalStateException(\"Equals not expected?\");\n      }\n    }\n  });\n}\n\n/**\n * @param objectMapSmallerOnes\n * @param o1\n * @param o2\n */\nstatic &lt;T&gt; void checkConsistency(final Map&lt;T, List&lt;T&gt;&gt; objectMapSmallerOnes, T o1, T o2) {\n  final List&lt;T&gt; smallerThan = objectMapSmallerOnes.get(o1);\n\n  if (smallerThan != null) {\n    for (final T o : smallerThan) {\n      if (o == o2) {\n        throw new IllegalStateException(o2 + \"  cannot be smaller than \" + o1 + \" if it's supposed to be vice versa.\");\n      }\n      checkConsistency(objectMapSmallerOnes, o, o2);\n    }\n  }\n}\n\n/**\n * @param keyMapValues \n * @param key \n * @param &lt;Key&gt; \n * @param &lt;Value&gt; \n * @return List&lt;Value&gt;\n */ \npublic static &lt;Key, Value&gt; List&lt;Value&gt; getListSafely(Map&lt;Key, List&lt;Value&gt;&gt; keyMapValues, Key key) {\n  List&lt;Value&gt; values = keyMapValues.get(key);\n\n  if (values == null) {\n    keyMapValues.put(key, values = new LinkedList&lt;Value&gt;());\n  }\n\n  return values;\n}\n\n/**\n * @author Oku\n *\n * @param &lt;T&gt;\n */\npublic interface IPairIteratorCallback&lt;T&gt; {\n  /**\n   * @param o1\n   * @param o2\n   */\n  void pair(T o1, T o2);\n}\n\n/**\n * \n * Iterates through each distinct unordered pair formed by the elements of a given iterator\n *\n * @param it\n * @param callback\n */\npublic static &lt;T&gt; void iterateDistinctPairs(final Iterator&lt;T&gt; it, IPairIteratorCallback&lt;T&gt; callback) {\n  List&lt;T&gt; list = Convert.toMinimumArrayList(new Iterable&lt;T&gt;() {\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n      return it;\n    }\n\n  });\n\n  for (int outerIndex = 0; outerIndex &lt; list.size() - 1; outerIndex++) {\n    for (int innerIndex = outerIndex + 1; innerIndex &lt; list.size(); innerIndex++) {\n      callback.pair(list.get(outerIndex), list.get(innerIndex));\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":220213,"reputation":5780,"user_id":477494,"accept_rate":67,"display_name":"Uncle Iroh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1432250075,"creation_date":1432250075,"answer_id":30385881,"question_id":8327514,"body_markdown":"In our case were were getting this error because we had accidentally flipped the order of comparison of s1 and s2.  So watch out for that.  It was obviously way more complicated than the following but this is an illustration:\r\n\r\n    s1 == s2   \r\n        return 0;\r\n    s2 &gt; s1 \r\n        return 1;\r\n    s1 &lt; s2 \r\n        return -1;","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>In our case were were getting this error because we had accidentally flipped the order of comparison of s1 and s2.  So watch out for that.  It was obviously way more complicated than the following but this is an illustration:</p>\n\n<pre><code>s1 == s2   \n    return 0;\ns2 &gt; s1 \n    return 1;\ns1 &lt; s2 \n    return -1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6174371,"reputation":1762,"user_id":4832515,"display_name":"SomeGuy"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1448712716,"creation_date":1448712716,"answer_id":33971198,"question_id":8327514,"body_markdown":"Even if your compareTo is holds transitivity in theory, sometimes subtle bugs mess things up... such as floating point arithmetic error. It happened to me. this was my code:\r\n\r\n\tpublic int compareTo(tfidfContainer compareTfidf) {\r\n\t\t//descending order\r\n\t\tif (this.tfidf &gt; compareTfidf.tfidf)\r\n\t\t\treturn -1;\r\n\t\telse if (this.tfidf &lt; compareTfidf.tfidf)\r\n\t\t\treturn 1;\r\n\t\telse\r\n\t\t\treturn 0;\r\n\t\t\r\n\t}\t\r\n\r\n\r\n\r\nThe transitive property clearly holds, but for some reason I was getting the IllegalArgumentException. And it turns out that due to tiny errors in floating point arithmetic, the round-off errors where causing the transitive property to break where they shouldn&#39;t! So I rewrote the code to consider really tiny differences 0, and it worked:\r\n\r\n\tpublic int compareTo(tfidfContainer compareTfidf) {\r\n\t\t//descending order\r\n\t\tif ((this.tfidf - compareTfidf.tfidf) &lt; .000000001)\r\n\t\t\treturn 0;\r\n\t\tif (this.tfidf &gt; compareTfidf.tfidf)\r\n\t\t\treturn -1;\r\n\t\telse if (this.tfidf &lt; compareTfidf.tfidf)\r\n\t\t\treturn 1;\r\n\t\treturn 0;\r\n\t}\t","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>Even if your compareTo is holds transitivity in theory, sometimes subtle bugs mess things up... such as floating point arithmetic error. It happened to me. this was my code:</p>\n\n<pre><code>public int compareTo(tfidfContainer compareTfidf) {\n    //descending order\n    if (this.tfidf &gt; compareTfidf.tfidf)\n        return -1;\n    else if (this.tfidf &lt; compareTfidf.tfidf)\n        return 1;\n    else\n        return 0;\n\n}   \n</code></pre>\n\n<p>The transitive property clearly holds, but for some reason I was getting the IllegalArgumentException. And it turns out that due to tiny errors in floating point arithmetic, the round-off errors where causing the transitive property to break where they shouldn't! So I rewrote the code to consider really tiny differences 0, and it worked:</p>\n\n<pre><code>public int compareTo(tfidfContainer compareTfidf) {\n    //descending order\n    if ((this.tfidf - compareTfidf.tfidf) &lt; .000000001)\n        return 0;\n    if (this.tfidf &gt; compareTfidf.tfidf)\n        return -1;\n    else if (this.tfidf &lt; compareTfidf.tfidf)\n        return 1;\n    return 0;\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1623708,"reputation":1531,"user_id":1499750,"accept_rate":71,"display_name":"jc12"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490972797,"creation_date":1490972797,"answer_id":43143987,"question_id":8327514,"body_markdown":"In my case I was doing something like the following:\r\n\r\n    if (a.someField == null) {\r\n        return 1;\r\n    }\r\n\r\n    if (b.someField == null) {\r\n        return -1;\r\n    }\r\n\r\n    if (a.someField.equals(b.someField)) {\r\n        return a.someOtherField.compareTo(b.someOtherField);\r\n    }\r\n\r\n    return a.someField.compareTo(b.someField);\r\n\r\nWhat I forgot to check was when both a.someField and b.someField are null.\r\n    \r\n","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>In my case I was doing something like the following:</p>\n\n<pre><code>if (a.someField == null) {\n    return 1;\n}\n\nif (b.someField == null) {\n    return -1;\n}\n\nif (a.someField.equals(b.someField)) {\n    return a.someOtherField.compareTo(b.someOtherField);\n}\n\nreturn a.someField.compareTo(b.someField);\n</code></pre>\n\n<p>What I forgot to check was when both a.someField and b.someField are null.</p>\n"},{"tags":[],"owner":{"account_id":2142526,"reputation":1962,"user_id":1900859,"accept_rate":80,"display_name":"Andrii Karaivanskyi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547521633,"creation_date":1536102354,"answer_id":52175042,"question_id":8327514,"body_markdown":"If `compareParents(s1, s2) == -1` then `compareParents(s2, s1) == 1` is expected. With your code it&#39;s not always true. \r\n\r\nSpecifically if `s1.getParent() == s2 &amp;&amp; s2.getParent() == s1`. \r\nIt&#39;s just one of the possible problems.","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>If <code>compareParents(s1, s2) == -1</code> then <code>compareParents(s2, s1) == 1</code> is expected. With your code it's not always true. </p>\n\n<p>Specifically if <code>s1.getParent() == s2 &amp;&amp; s2.getParent() == s1</code>. \nIt's just one of the possible problems.</p>\n"},{"tags":[],"owner":{"account_id":8768854,"reputation":109,"user_id":6556369,"display_name":"Rishav Roy"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1563902191,"creation_date":1563902077,"answer_id":57169207,"question_id":8327514,"body_markdown":"Editing VM Configuration worked for me.\r\n\r\n    -Djava.util.Arrays.useLegacyMergeSort=true","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>Editing VM Configuration worked for me.</p>\n\n<pre><code>-Djava.util.Arrays.useLegacyMergeSort=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12707974,"reputation":137,"user_id":9232557,"display_name":"DongGeun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609588613,"creation_date":1609588613,"answer_id":65538824,"question_id":8327514,"body_markdown":"In my case, it was an infinite sort.\r\nThat is, at first the line moved up according to the condition, and then the same line moved down to the same place. \r\nI added one more condition at the end that unambiguously established the order of the lines.\r\n","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>In my case, it was an infinite sort.\nThat is, at first the line moved up according to the condition, and then the same line moved down to the same place.\nI added one more condition at the end that unambiguously established the order of the lines.</p>\n"},{"tags":[],"owner":{"account_id":23895881,"reputation":1,"user_id":17894871,"display_name":"E-Rabbit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641839271,"creation_date":1641838351,"answer_id":70657060,"question_id":8327514,"body_markdown":"I faced the same issue and I solved it.\r\n```\r\n//This this your code\r\n\r\nprivate int compareParents(Foo s1, Foo s2) {\r\n    if (s1.getParent() == s2) return -1;\r\n    if (s2.getParent() == s1) return 1;\r\n    return 0;\r\n}\r\n```\r\nThe violation is comparing different things with each other.\r\n```\r\n//acceptable\r\ncompare between s1.getParent() and s2.getParent()\r\n```\r\n```\r\n//acceptable\r\ncompare between s1 and s2\r\n```\r\n```\r\n//NOT acceptable\r\ncompare between s1 and s2.getParent()\r\n```\r\n```\r\n//NOT acceptable\r\ncompare between s1.getParent() and s2\r\n```\r\nIn my code, I wanted to sort addresses by their coordination. In the comparator, I compared between X and Y (by mistake), instead of X and X.\r\n```\r\n//My code:\r\n    private void sortBasedOnX(){\r\n        //addresses is a list of addresses where each address has X and Y\r\n        addresses.sort((o1, o2) -&gt; {\r\n\r\n            String a = o1.getAddress().getX(); \r\n            String b = o2.getAddress().getY(); //&lt;-- this is supposed to be getX\r\n\r\n            return Integer.parseInt(a)-Integer.parseInt(b);\r\n        });\r\n    }\r\n```\r\n```\r\n//acceptable\r\ncompare between o1.getAddress().getX() and o1.getAddress().getX()\r\n```\r\n```\r\n//acceptable\r\ncompare between o1.getAddress().getY() and o1.getAddress().getY()\r\n```\r\n```\r\n//NOT acceptable\r\ncompare between o1.getAddress().getX() and o1.getAddress().getY()\r\n```\r\n```\r\n//NOT acceptable\r\ncompare between o1.getAddress().getX() and o1.getAddress()\r\n```\r\n```\r\n//NOT acceptable\r\ncompare between o1.getAddress().getX() and o1\r\n```","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>I faced the same issue and I solved it.</p>\n<pre><code>//This this your code\n\nprivate int compareParents(Foo s1, Foo s2) {\n    if (s1.getParent() == s2) return -1;\n    if (s2.getParent() == s1) return 1;\n    return 0;\n}\n</code></pre>\n<p>The violation is comparing different things with each other.</p>\n<pre><code>//acceptable\ncompare between s1.getParent() and s2.getParent()\n</code></pre>\n<pre><code>//acceptable\ncompare between s1 and s2\n</code></pre>\n<pre><code>//NOT acceptable\ncompare between s1 and s2.getParent()\n</code></pre>\n<pre><code>//NOT acceptable\ncompare between s1.getParent() and s2\n</code></pre>\n<p>In my code, I wanted to sort addresses by their coordination. In the comparator, I compared between X and Y (by mistake), instead of X and X.</p>\n<pre><code>//My code:\n    private void sortBasedOnX(){\n        //addresses is a list of addresses where each address has X and Y\n        addresses.sort((o1, o2) -&gt; {\n\n            String a = o1.getAddress().getX(); \n            String b = o2.getAddress().getY(); //&lt;-- this is supposed to be getX\n\n            return Integer.parseInt(a)-Integer.parseInt(b);\n        });\n    }\n</code></pre>\n<pre><code>//acceptable\ncompare between o1.getAddress().getX() and o1.getAddress().getX()\n</code></pre>\n<pre><code>//acceptable\ncompare between o1.getAddress().getY() and o1.getAddress().getY()\n</code></pre>\n<pre><code>//NOT acceptable\ncompare between o1.getAddress().getX() and o1.getAddress().getY()\n</code></pre>\n<pre><code>//NOT acceptable\ncompare between o1.getAddress().getX() and o1.getAddress()\n</code></pre>\n<pre><code>//NOT acceptable\ncompare between o1.getAddress().getX() and o1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3409479,"reputation":394,"user_id":2859785,"accept_rate":20,"display_name":"Yashdeep Hinge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685873639,"creation_date":1685873639,"answer_id":76399863,"question_id":8327514,"body_markdown":"So The main reason this happens is when the compare or compareTo method is not following the basic contract of comparison which is transitivity. \r\n    \r\n    `If A&gt;B And B&gt;C then A has to be greater than A has to greater than C`\r\n    \r\nPlease don&#39;t directly jump at using \r\n    \r\n    ` -Djava.util.Arrays.useLegacyMergeSort=true `\r\n    \r\nIt will make your sorting logic buggy. \r\n    \r\n    `   \r\n        Foo s1 = new Foo();\r\n        Foo s2 = new Foo();\r\n        Foo s3 = new Foo();\r\n    \r\n        s1.setParent(s2);\r\n        s2.setParent(s3);\r\n        s3.setParent(s1);\r\n    \r\n        compareParents(s1, s2); // returns -1\r\n        compareParents(s2, s3); // returns 1\r\n        compareParents(s1, s3); // returns 1\r\n    `\r\nIn these cases your compareParents method will break the transitive property.","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>So The main reason this happens is when the compare or compareTo method is not following the basic contract of comparison which is transitivity.</p>\n<pre><code>`If A&gt;B And B&gt;C then A has to be greater than A has to greater than C`\n</code></pre>\n<p>Please don't directly jump at using</p>\n<pre><code>` -Djava.util.Arrays.useLegacyMergeSort=true `\n</code></pre>\n<p>It will make your sorting logic buggy.</p>\n<pre><code>`   \n    Foo s1 = new Foo();\n    Foo s2 = new Foo();\n    Foo s3 = new Foo();\n\n    s1.setParent(s2);\n    s2.setParent(s3);\n    s3.setParent(s1);\n\n    compareParents(s1, s2); // returns -1\n    compareParents(s2, s3); // returns 1\n    compareParents(s1, s3); // returns 1\n`\n</code></pre>\n<p>In these cases your compareParents method will break the transitive property.</p>\n"}],"owner":{"account_id":1075227,"reputation":2525,"user_id":1073531,"accept_rate":100,"display_name":"n00bster"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261545,"favorite_count":0,"down_vote_count":1,"up_vote_count":222,"accepted_answer_id":8327575,"answer_count":14,"score":221,"last_activity_date":1685873639,"creation_date":1322663476,"question_id":8327514,"body_markdown":"Can someone explain me in simple terms, why does this code throw an exception, &quot;Comparison method violates its general contract!&quot;, and how do I fix it?\r\n\r\n    private int compareParents(Foo s1, Foo s2) {\r\n    \tif (s1.getParent() == s2) return -1;\r\n    \tif (s2.getParent() == s1) return 1;\r\n    \treturn 0;\r\n    }","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>Can someone explain me in simple terms, why does this code throw an exception, \"Comparison method violates its general contract!\", and how do I fix it?</p>\n\n<pre><code>private int compareParents(Foo s1, Foo s2) {\n    if (s1.getParent() == s2) return -1;\n    if (s2.getParent() == s1) return 1;\n    return 0;\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9601,"page":391,"page_size":100}
