{"items":[{"tags":["java","list","algorithm","hashmap"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666435817,"post_id":74162662,"comment_id":130939347,"body_markdown":"What is &quot;the proper data&quot;, and what are you getting?","body":"What is &quot;the proper data&quot;, and what are you getting?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666435558,"creation_date":1666435558,"answer_id":74162853,"question_id":74162662,"body_markdown":"Basically, you have a disjointed [Graph](https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)) of Entities.\r\n\r\nTherefore, you need to implement a graph traversal algorithm in order to the data of the Entities into the resulting Map.\r\n\r\nOne of the simplest algorithms commonly used for such purposes is the [*Depth first search*](https://en.wikipedia.org/wiki/Depth-first_search).\r\n\r\nThe core idea behind this algorithm:\r\n* Maintain a Stack, containing the element that are being examined.\r\n* Search starts from the root element being pushed on the top of the stack.\r\n* Elements are being repeatedly removed from the top of the stack. And if the next element has children that haven&#39;t been yet seen, they are being pushed on the top of the stack.\r\n\r\nHere&#39;s how the iterative implementation might look like:\r\n\r\n    public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\r\n        \r\n        Map&lt;String, Entity&gt; result = new HashMap&lt;&gt;();\r\n        Set&lt;String&gt; seen = new HashSet&lt;&gt;();\r\n        \r\n        for (Entity e : entities) {\r\n            if (seen.add(e.getId())) { // entity was not previously encountered\r\n                addAllChildren(result, seen, e);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    /**\r\n     * Depth first search algorithm implementation\r\n     */\r\n    public static void addAllChildren(Map&lt;String, Entity&gt; result,\r\n                                      Set&lt;String&gt; seen,\r\n                                      Entity root) {\r\n        \r\n        Deque&lt;Entity&gt; stack = new ArrayDeque&lt;&gt;();\r\n        stack.push(root);\r\n        \r\n        while (!stack.isEmpty()) {\r\n            Entity current = stack.pop();\r\n            result.put(current.getId(), current);\r\n            \r\n            for (Entity child: current.getChildren()) {\r\n                if (seen.add(child.getId())) {\r\n                    stack.push(child);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to convert a List&lt;Entity&gt; where each element points to other Entities into Map&lt;String, Entity&gt; in Java","body":"<p>Basically, you have a disjointed <a href=\"https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)\" rel=\"nofollow noreferrer\">Graph</a> of Entities.</p>\n<p>Therefore, you need to implement a graph traversal algorithm in order to the data of the Entities into the resulting Map.</p>\n<p>One of the simplest algorithms commonly used for such purposes is the <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\"><em>Depth first search</em></a>.</p>\n<p>The core idea behind this algorithm:</p>\n<ul>\n<li>Maintain a Stack, containing the element that are being examined.</li>\n<li>Search starts from the root element being pushed on the top of the stack.</li>\n<li>Elements are being repeatedly removed from the top of the stack. And if the next element has children that haven't been yet seen, they are being pushed on the top of the stack.</li>\n</ul>\n<p>Here's how the iterative implementation might look like:</p>\n<pre><code>public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\n    \n    Map&lt;String, Entity&gt; result = new HashMap&lt;&gt;();\n    Set&lt;String&gt; seen = new HashSet&lt;&gt;();\n    \n    for (Entity e : entities) {\n        if (seen.add(e.getId())) { // entity was not previously encountered\n            addAllChildren(result, seen, e);\n        }\n    }\n    return result;\n}\n\n/**\n * Depth first search algorithm implementation\n */\npublic static void addAllChildren(Map&lt;String, Entity&gt; result,\n                                  Set&lt;String&gt; seen,\n                                  Entity root) {\n    \n    Deque&lt;Entity&gt; stack = new ArrayDeque&lt;&gt;();\n    stack.push(root);\n    \n    while (!stack.isEmpty()) {\n        Entity current = stack.pop();\n        result.put(current.getId(), current);\n        \n        for (Entity child: current.getChildren()) {\n            if (seen.add(child.getId())) {\n                stack.push(child);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26700454,"reputation":19,"user_id":20307598,"display_name":"Balakirethiga R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74162853,"answer_count":1,"score":1,"last_activity_date":1666435948,"creation_date":1666433670,"question_id":74162662,"body_markdown":"I am having a class as\r\n\t\r\n\r\n    public class Entity {\r\n        private String id;\r\n        private List&lt;Entity&gt; children;\r\n        \r\n        // getters, constructor, etc.\r\n    }\r\n\r\nNow I need to convert this Entity class data into Map&lt;String, Entity&gt;\r\n\r\nMy Method accepts (List&lt;Entity&gt; entity) as Input and that need to be converted to Map \r\n\r\nI tried like:\r\n\r\n    public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\r\n        \r\n        Map&lt;String, Entity&gt; map = new HashMap&lt;&gt;();\r\n        for (Entity e : entities) {\r\n            if (!map.containsKey(e.getId())) {\r\n                map.put(e.getId(), ??? e.getChildren() ???); // my point of confusion\r\n            }\r\n        }\r\n        return map;\r\n    }\r\n\r\nMy problem is that I don&#39;t know how to proceed at the point when I need to access children-entities via `getChildren()`. How it can be implemented to get the proper data?\r\n\r\n\r\nSample data format is as follows.\r\n\r\n    [\r\n     {\r\n     \tid: bos\r\n     \tchilds:[\r\n     \t\t{\r\n     \t\t\tid: manager1\r\n     \t\t\tchilds: [{id: worker11}, {id: worker12}]\r\n     \t\t},\r\n     \t\t{\r\n     \t\t\tid: manager2\r\n     \t\t\tchilds: [{id: worker21}, {id: worker22}]\r\n     \t\t}\r\n     \t]\r\n     }\r\n    ]\r\n\r\n","title":"How to convert a List&lt;Entity&gt; where each element points to other Entities into Map&lt;String, Entity&gt; in Java","body":"<p>I am having a class as</p>\n<pre><code>public class Entity {\n    private String id;\n    private List&lt;Entity&gt; children;\n    \n    // getters, constructor, etc.\n}\n</code></pre>\n<p>Now I need to convert this Entity class data into Map&lt;String, Entity&gt;</p>\n<p>My Method accepts (List entity) as Input and that need to be converted to Map</p>\n<p>I tried like:</p>\n<pre><code>public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\n    \n    Map&lt;String, Entity&gt; map = new HashMap&lt;&gt;();\n    for (Entity e : entities) {\n        if (!map.containsKey(e.getId())) {\n            map.put(e.getId(), ??? e.getChildren() ???); // my point of confusion\n        }\n    }\n    return map;\n}\n</code></pre>\n<p>My problem is that I don't know how to proceed at the point when I need to access children-entities via <code>getChildren()</code>. How it can be implemented to get the proper data?</p>\n<p>Sample data format is as follows.</p>\n<pre><code>[\n {\n    id: bos\n    childs:[\n        {\n            id: manager1\n            childs: [{id: worker11}, {id: worker12}]\n        },\n        {\n            id: manager2\n            childs: [{id: worker21}, {id: worker22}]\n        }\n    ]\n }\n]\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1666433536,"post_id":74162630,"comment_id":130939013,"body_markdown":"I strongly recommend that you read up on prepared statements and parameterised SQL in general. Currently you&#39;re including both values directly in your SQL (which is a bad idea in terms of SQL Injection attacks; less so for integers, but it&#39;s best to parameterize *everything* non-constant) but expecting *one* of them to be a parameter. They should *both* be parameters, specified in the normal way. Searching for tutorials on PreparedStatement should help you a lot.","body":"I strongly recommend that you read up on prepared statements and parameterised SQL in general. Currently you&#39;re including both values directly in your SQL (which is a bad idea in terms of SQL Injection attacks; less so for integers, but it&#39;s best to parameterize <i>everything</i> non-constant) but expecting <i>one</i> of them to be a parameter. They should <i>both</i> be parameters, specified in the normal way. Searching for tutorials on PreparedStatement should help you a lot."}],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666434072,"creation_date":1666433508,"answer_id":74162640,"question_id":74162630,"body_markdown":"you specify that Prid is a [bind variable][1] but you also embed the value in the sql statement text.  \r\ninstead of embeddimg the value in the statement, you need to specify the placeholder for the bind variable:  \r\n`&quot;update product set ProdQty=&quot; + newQty + &quot; where ProdID = ?&quot;`\r\n\r\nit is also advisable to do the same for `newQty`. it improves performance of execution of similar statements, and mitigates the risk for [SQL injection][2] security vulnerability \r\n\r\n\r\n  [1]: https://www.databasestar.com/sql-bind-variables/\r\n  [2]: https://www.w3schools.com/sql/sql_injection.asp","title":"How to fix this error : Parameter index out of range (1 &gt; number of parameters, which is 0)","body":"<p>you specify that Prid is a <a href=\"https://www.databasestar.com/sql-bind-variables/\" rel=\"nofollow noreferrer\">bind variable</a> but you also embed the value in the sql statement text.<br />\ninstead of embeddimg the value in the statement, you need to specify the placeholder for the bind variable:<br />\n<code>&quot;update product set ProdQty=&quot; + newQty + &quot; where ProdID = ?&quot;</code></p>\n<p>it is also advisable to do the same for <code>newQty</code>. it improves performance of execution of similar statements, and mitigates the risk for <a href=\"https://www.w3schools.com/sql/sql_injection.asp\" rel=\"nofollow noreferrer\">SQL injection</a> security vulnerability</p>\n"}],"owner":{"account_id":26700283,"reputation":1,"user_id":20307458,"display_name":"Mochi Gaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1666435365,"creation_date":1666433350,"question_id":74162630,"body_markdown":"    int Prid,newQty;\r\n     public void Update()\r\n     {\r\n         String path=&quot;jdbc:mysql://localhost:3307/supermarket&quot;;\r\n         String user=&quot;root&quot;;\r\n         String pass=&quot;123456&quot;;\r\n         try {\r\n                con=DriverManager.getConnection(path, user, pass);\r\n                ps = con.prepareStatement(&quot;update product set ProdQty=&quot;+newQty+&quot;&quot;+&quot;where ProdID=&quot;+Prid);           \r\n                ps.setInt(1, Prid);               \r\n                ps.executeUpdate();                    \r\n                SelectSeller();\r\n            } catch (SQLException e) {\r\n               e.printStackTrace();\r\n            }\r\n     }\r\n\r\nI create int to update database table when calculated, but error\r\n\r\nthis code for calculate\r\n\r\n    private void ProdTBMouseClicked(java.awt.event.MouseEvent evt) {                                    \r\n        DefaultTableModel model = (DefaultTableModel)ProdTB.getModel();\r\n        int Myindex = ProdTB.getSelectedRow();\r\n        Prid = Integer.valueOf(model.getValueAt(Myindex, 0).toString());\r\n        AvailQty = Integer.valueOf(model.getValueAt(Myindex, 2).toString());        \r\n        try {\r\n            newQty = AvailQty - Integer.valueOf(ProdQty.getText());   \r\n        } catch (Exception e) {\r\n            \r\n        }        \r\n        ProdName.setText(model.getValueAt(Myindex, 1).toString());\r\n        Uprice = Double.valueOf(model.getValueAt(Myindex, 3).toString());      \r\n    }                                   \r\nI need to change variable ProdQty in product table when newQty = AvailQty - Integer.valueOf(ProdQty.getText()); \r\n\r\n    private void AddtoBillActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n    if(ProdQty.getText().isEmpty()|| ProdName.getText().isEmpty())\r\n        {\r\n            JOptionPane.showMessageDialog(this, &quot;Missing Information..&quot;);\r\n        }\r\n    else if(AvailQty &lt;= Integer.valueOf(ProdQty.getText()))\r\n    {\r\n        JOptionPane.showMessageDialog(this, &quot;Not Enough In Stock..&quot;);\r\n    }\r\n    else{\r\n        i++;\r\n            ProdTot = Uprice * Double.valueOf(ProdQty.getText());\r\n            GrdTotal = GrdTotal+ProdTot;\r\n        if(i==1)\r\n        {\r\n            Bill.setText(Bill.getText()+&quot;=============== SHOPPING MORE ==================\\n&quot;+&quot; NUM     PRODUCT     PRICE     QAUNTITY     SUBTOTAL\\n&quot;+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\r\n        }\r\n        else\r\n        {\r\n            Bill.setText(Bill.getText()+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\r\n        }\r\n        Grdtotal.setText(&quot;Total &quot;+GrdTotal);\r\n        Update();\r\n    }\r\n        \r\n    }                    \r\n\r\n \r\n\r\nI&#39;m a new for java please help me thanks.\r\n\r\n","title":"How to fix this error : Parameter index out of range (1 &gt; number of parameters, which is 0)","body":"<pre><code>int Prid,newQty;\n public void Update()\n {\n     String path=&quot;jdbc:mysql://localhost:3307/supermarket&quot;;\n     String user=&quot;root&quot;;\n     String pass=&quot;123456&quot;;\n     try {\n            con=DriverManager.getConnection(path, user, pass);\n            ps = con.prepareStatement(&quot;update product set ProdQty=&quot;+newQty+&quot;&quot;+&quot;where ProdID=&quot;+Prid);           \n            ps.setInt(1, Prid);               \n            ps.executeUpdate();                    \n            SelectSeller();\n        } catch (SQLException e) {\n           e.printStackTrace();\n        }\n }\n</code></pre>\n<p>I create int to update database table when calculated, but error</p>\n<p>this code for calculate</p>\n<pre><code>private void ProdTBMouseClicked(java.awt.event.MouseEvent evt) {                                    \n    DefaultTableModel model = (DefaultTableModel)ProdTB.getModel();\n    int Myindex = ProdTB.getSelectedRow();\n    Prid = Integer.valueOf(model.getValueAt(Myindex, 0).toString());\n    AvailQty = Integer.valueOf(model.getValueAt(Myindex, 2).toString());        \n    try {\n        newQty = AvailQty - Integer.valueOf(ProdQty.getText());   \n    } catch (Exception e) {\n        \n    }        \n    ProdName.setText(model.getValueAt(Myindex, 1).toString());\n    Uprice = Double.valueOf(model.getValueAt(Myindex, 3).toString());      \n}                                   \n</code></pre>\n<p>I need to change variable ProdQty in product table when newQty = AvailQty - Integer.valueOf(ProdQty.getText());</p>\n<pre><code>private void AddtoBillActionPerformed(java.awt.event.ActionEvent evt) {                                          \nif(ProdQty.getText().isEmpty()|| ProdName.getText().isEmpty())\n    {\n        JOptionPane.showMessageDialog(this, &quot;Missing Information..&quot;);\n    }\nelse if(AvailQty &lt;= Integer.valueOf(ProdQty.getText()))\n{\n    JOptionPane.showMessageDialog(this, &quot;Not Enough In Stock..&quot;);\n}\nelse{\n    i++;\n        ProdTot = Uprice * Double.valueOf(ProdQty.getText());\n        GrdTotal = GrdTotal+ProdTot;\n    if(i==1)\n    {\n        Bill.setText(Bill.getText()+&quot;=============== SHOPPING MORE ==================\\n&quot;+&quot; NUM     PRODUCT     PRICE     QAUNTITY     SUBTOTAL\\n&quot;+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\n    }\n    else\n    {\n        Bill.setText(Bill.getText()+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\n    }\n    Grdtotal.setText(&quot;Total &quot;+GrdTotal);\n    Update();\n}\n    \n}                    \n</code></pre>\n<p>I'm a new for java please help me thanks.</p>\n"},{"tags":["java","spring","dependency-injection","inversion-of-control"],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666434942,"creation_date":1666434942,"answer_id":74162785,"question_id":73863233,"body_markdown":"&gt; What is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its&#39; implementations?\r\n\r\nAn identifier could be that the bean implements a given interface of your type to inject, as in your example. This works with class as well, but it&#39;s less common. By type injection limits the total implementations that can be used in the IoC the exactly *one* bean per class-type, so can be uniquely identified in the given scope. On the other hand, you can extend the identification of a bean using with a name and reference to this name on the injection side (named bean).\r\n\r\n&gt; In this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?\r\n\r\nYes, there is no obligation to use interfaces, but in practice you benefit a lot of using interfaces (i.e. decoupling from the implementation), so that the dependency does not rely on implementation specialities that are not specified in the interface, making it more feasible to inject a different bean implementation, such as often done in testing.\r\n\r\nIf you are using Spring IoC, which is quite popular, these documentations might help you. They are also mostly valid for other IoC containers.\r\n\r\n* https://docs.spring.io/spring-framework/docs/current/reference/html/core.html\r\n\r\nFor naming beans:\r\n* https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-beanname\r\n\r\n","title":"What rules govern the mapping and assignment of dependency and injection in an IoC Container?","body":"<blockquote>\n<p>What is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its' implementations?</p>\n</blockquote>\n<p>An identifier could be that the bean implements a given interface of your type to inject, as in your example. This works with class as well, but it's less common. By type injection limits the total implementations that can be used in the IoC the exactly <em>one</em> bean per class-type, so can be uniquely identified in the given scope. On the other hand, you can extend the identification of a bean using with a name and reference to this name on the injection side (named bean).</p>\n<blockquote>\n<p>In this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?</p>\n</blockquote>\n<p>Yes, there is no obligation to use interfaces, but in practice you benefit a lot of using interfaces (i.e. decoupling from the implementation), so that the dependency does not rely on implementation specialities that are not specified in the interface, making it more feasible to inject a different bean implementation, such as often done in testing.</p>\n<p>If you are using Spring IoC, which is quite popular, these documentations might help you. They are also mostly valid for other IoC containers.</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html</a></li>\n</ul>\n<p>For naming beans:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-beanname\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-beanname</a></li>\n</ul>\n"}],"owner":{"account_id":5411133,"reputation":885,"user_id":4307872,"accept_rate":60,"display_name":"von spotz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666434942,"creation_date":1664260219,"question_id":73863233,"body_markdown":"what rules govern the mapping of beans (dependencies) to injection candidates (eligible for injection of a dependency) ?\r\n\r\nSay in a configuration file there is a builder function\r\n\r\n    @Autowired\r\n    MyFacilityInstance myFacility = MyFacilityConfigurer.builder()\r\n    .setA(ITypeA someIndentifierA),\r\n    .setB(ITypeB someIdentifierB));\r\n\r\nand I want to write beans to provide Instances for these two parameters by writing two beans. \r\n\r\nWhat is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its&#39; implementations? \r\n\r\n    @Bean\r\n    SomeImplementationA iTypeA() {\r\n      return new SomeImplementationA();\r\n    }\r\n    \r\n    @Bean\r\n    SomeImplementationA iTypeA() {\r\n      return new SomeImplementationA();\r\n    }\r\n\r\nIn this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?\r\n\r\nI&#39;m sure this is not all there is to the complexity of this mapping.\r\n\r\nCan you please answer my question insofar as is needed to correctly write Beans for other parts of a configuration file?\r\n\r\nAnd where can I read more on these rules? Do  you have a source for me?","title":"What rules govern the mapping and assignment of dependency and injection in an IoC Container?","body":"<p>what rules govern the mapping of beans (dependencies) to injection candidates (eligible for injection of a dependency) ?</p>\n<p>Say in a configuration file there is a builder function</p>\n<pre><code>@Autowired\nMyFacilityInstance myFacility = MyFacilityConfigurer.builder()\n.setA(ITypeA someIndentifierA),\n.setB(ITypeB someIdentifierB));\n</code></pre>\n<p>and I want to write beans to provide Instances for these two parameters by writing two beans.</p>\n<p>What is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its' implementations?</p>\n<pre><code>@Bean\nSomeImplementationA iTypeA() {\n  return new SomeImplementationA();\n}\n\n@Bean\nSomeImplementationA iTypeA() {\n  return new SomeImplementationA();\n}\n</code></pre>\n<p>In this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?</p>\n<p>I'm sure this is not all there is to the complexity of this mapping.</p>\n<p>Can you please answer my question insofar as is needed to correctly write Beans for other parts of a configuration file?</p>\n<p>And where can I read more on these rules? Do  you have a source for me?</p>\n"},{"tags":["java","asynchronous","threadpoolexecutor"],"comments":[{"owner":{"account_id":1878548,"reputation":27164,"user_id":1699210,"display_name":"bummi"},"score":0,"creation_date":1373969105,"post_id":17659510,"comment_id":25744745,"body_markdown":"possible duplicate of [ThreadPoolExecutor - Core and maximum pool sizes](http://stackoverflow.com/questions/17660048/threadpoolexecutor-core-and-maximum-pool-sizes)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/17660048/threadpoolexecutor-core-and-maximum-pool-sizes\">ThreadPoolExecutor - Core and maximum pool sizes</a>"},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":3,"creation_date":1491741381,"post_id":17659510,"comment_id":73678228,"body_markdown":"Possible duplicate of [What is the difference between corePoolSize and maxPoolSize in the Spring ThreadPoolTaskExecutor](http://stackoverflow.com/questions/1878806/what-is-the-difference-between-corepoolsize-and-maxpoolsize-in-the-spring-thread)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1878806/what-is-the-difference-between-corepoolsize-and-maxpoolsize-in-the-spring-thread\">What is the difference between corePoolSize and maxPoolSize in the Spring ThreadPoolTaskExecutor</a>"}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1373907195,"creation_date":1373907195,"answer_id":17659569,"question_id":17659510,"body_markdown":"From [the doc][1]:\r\n\r\n&gt; When a new task is submitted in method execute(java.lang.Runnable),\r\n&gt; and fewer than corePoolSize threads are running, a new thread is\r\n&gt; created to handle the request, even if other worker threads are idle.\r\n&gt; If there are more than corePoolSize but less than maximumPoolSize\r\n&gt; threads running, a new thread will be created only if the queue is\r\n&gt; full. \r\n\r\nFurthermore:\r\n\r\n&gt; By setting corePoolSize and maximumPoolSize the same, you create\r\n&gt; a fixed-size thread pool. By setting maximumPoolSize to an essentially\r\n&gt; unbounded value such as Integer.MAX_VALUE, you allow the pool to\r\n&gt; accommodate an arbitrary number of concurrent tasks. Most typically,\r\n&gt; core and maximum pool sizes are set only upon construction, but they\r\n&gt; may also be changed dynamically using setCorePoolSize(int) and\r\n&gt; setMaximumPoolSize(int).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>From <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\">the doc</a>:</p>\n\n<blockquote>\n  <p>When a new task is submitted in method execute(java.lang.Runnable),\n  and fewer than corePoolSize threads are running, a new thread is\n  created to handle the request, even if other worker threads are idle.\n  If there are more than corePoolSize but less than maximumPoolSize\n  threads running, a new thread will be created only if the queue is\n  full. </p>\n</blockquote>\n\n<p>Furthermore:</p>\n\n<blockquote>\n  <p>By setting corePoolSize and maximumPoolSize the same, you create\n  a fixed-size thread pool. By setting maximumPoolSize to an essentially\n  unbounded value such as Integer.MAX_VALUE, you allow the pool to\n  accommodate an arbitrary number of concurrent tasks. Most typically,\n  core and maximum pool sizes are set only upon construction, but they\n  may also be changed dynamically using setCorePoolSize(int) and\n  setMaximumPoolSize(int).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3028823,"reputation":3723,"user_id":2568266,"display_name":"user2568266"},"down_vote_count":3,"up_vote_count":180,"is_accepted":false,"score":177,"last_activity_date":1502443003,"creation_date":1373956812,"answer_id":17669660,"question_id":17659510,"body_markdown":"From [this blog post](http://www.bigsoft.co.uk/blog/index.php/2009/11/27/rules-of-a-threadpoolexecutor-pool-size):\n\n&gt; Take this example. Starting thread pool size is 1, core pool size is\n&gt; 5, max pool size is 10 and the queue is 100. \n&gt;\n&gt; As requests come in,\n&gt; threads will be created up to 5 and then tasks will be added to the\n&gt; queue until it reaches 100. When the queue is full new threads will be\n&gt; created up to `maxPoolSize`. Once all the threads are in use and the\n&gt; queue is full tasks will be rejected. As the queue reduces, so does\n&gt; the number of active threads.","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>From <a href=\"http://www.bigsoft.co.uk/blog/index.php/2009/11/27/rules-of-a-threadpoolexecutor-pool-size\" rel=\"noreferrer\">this blog post</a>:</p>\n<blockquote>\n<p>Take this example. Starting thread pool size is 1, core pool size is\n5, max pool size is 10 and the queue is 100.</p>\n<p>As requests come in,\nthreads will be created up to 5 and then tasks will be added to the\nqueue until it reaches 100. When the queue is full new threads will be\ncreated up to <code>maxPoolSize</code>. Once all the threads are in use and the\nqueue is full tasks will be rejected. As the queue reduces, so does\nthe number of active threads.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1160911,"reputation":351,"user_id":2796545,"display_name":"Braj Kishore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378133164,"creation_date":1378118444,"answer_id":18571236,"question_id":17659510,"body_markdown":"You can find the definition of the terms corepoolsize and maxpoolsize in the javadoc. http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n\r\nThe link above has the answer to your question. However, just to make it clear. The application will keep creating threads till it reaches the corePoolSize. \r\nI think the idea here is that these many threads should be sufficient to handle the inflow of tasks. If a new task comes after the corePoolSize threads are created the tasks will be queued. Once the queue is full the executor will start creating new threads. It is kind of balancing. What it essentially means is that the inflow of tasks is more than the processing capacity. So, Executor will start creating new threads again till it reaches Max number of threads. Again, a new threads will be created if and only if the queue is full.\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>You can find the definition of the terms corepoolsize and maxpoolsize in the javadoc. <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html</a></p>\n\n<p>The link above has the answer to your question. However, just to make it clear. The application will keep creating threads till it reaches the corePoolSize. \nI think the idea here is that these many threads should be sufficient to handle the inflow of tasks. If a new task comes after the corePoolSize threads are created the tasks will be queued. Once the queue is full the executor will start creating new threads. It is kind of balancing. What it essentially means is that the inflow of tasks is more than the processing capacity. So, Executor will start creating new threads again till it reaches Max number of threads. Again, a new threads will be created if and only if the queue is full.</p>\n"},{"tags":[],"owner":{"account_id":6623450,"reputation":599,"user_id":5114375,"display_name":"Prashant Gautam"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1510664653,"creation_date":1440503542,"answer_id":32203277,"question_id":17659510,"body_markdown":"If you decide to create a `ThreadPoolExecutor` manually instead of using the `Executors` factory class, you will need to create and configure one using one of its constructors. The most extensive constructor of this class is:\r\n\r\n    public ThreadPoolExecutor(\r\n        int corePoolSize,\r\n        int maxPoolSize,\r\n        long keepAlive,\r\n        TimeUnit unit,\r\n        BlockingQueue&lt;Runnable&gt; workQueue,\r\n        RejectedExecutionHandler handler\r\n    );\r\n\r\nAs you can see, you can configure:\r\n\r\n - The core pool size (the size the thread pool will try to stick with).\r\n - The maximum pool size.\r\n - The keep alive time, which is a time after which an idle thread is eligible for being torn down.\r\n - The work queue to hold tasks awaiting execution.\r\n - The policy to apply when a task submission is rejected.\r\n\r\n## Limiting the Number of Queued Tasks\r\n\r\nLimiting the number of concurrent tasks being executing, sizing your thread pool, represents a huge benefit for your application and its execution environment in terms of predictability and stability: an unbounded thread creation will eventually exhaust the runtime resources and your application might experience as a consequence, serious performance problems that may lead even to application instability.\r\n\r\nThat&#39;s a solution to just one part of the problem: you&#39;re capping the number of tasks being executed but aren&#39;t capping the number of jobs that can be submitted and enqueued for later execution. The application will experience resource shortage later, but it will eventually experience it if the submission rate consistently outgrows the execution rate.\r\n\r\nThe solution to this problem is:\r\nProviding a blocking queue to the executor to hold the awaiting tasks. In the case the queue fills up, the submitted task will be &quot;rejected&quot;.\r\nThe `RejectedExecutionHandler` is invoked when a task submission is rejected, and that&#39;s why the verb rejected was quoted in the previous item. You can implement your own rejection policy or use one of the built-in policies provided by the framework.\r\n\r\nThe default rejection policies has the executor throw a `RejectedExecutionException`. However, other built-in policies let you:\r\n\r\n - Discard a job silently.\r\n - Discard the oldest job and try to resubmit the last one.\r\n - Execute the rejected task on the caller&#39;s thread.\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>If you decide to create a <code>ThreadPoolExecutor</code> manually instead of using the <code>Executors</code> factory class, you will need to create and configure one using one of its constructors. The most extensive constructor of this class is:</p>\n\n<pre><code>public ThreadPoolExecutor(\n    int corePoolSize,\n    int maxPoolSize,\n    long keepAlive,\n    TimeUnit unit,\n    BlockingQueue&lt;Runnable&gt; workQueue,\n    RejectedExecutionHandler handler\n);\n</code></pre>\n\n<p>As you can see, you can configure:</p>\n\n<ul>\n<li>The core pool size (the size the thread pool will try to stick with).</li>\n<li>The maximum pool size.</li>\n<li>The keep alive time, which is a time after which an idle thread is eligible for being torn down.</li>\n<li>The work queue to hold tasks awaiting execution.</li>\n<li>The policy to apply when a task submission is rejected.</li>\n</ul>\n\n<h2>Limiting the Number of Queued Tasks</h2>\n\n<p>Limiting the number of concurrent tasks being executing, sizing your thread pool, represents a huge benefit for your application and its execution environment in terms of predictability and stability: an unbounded thread creation will eventually exhaust the runtime resources and your application might experience as a consequence, serious performance problems that may lead even to application instability.</p>\n\n<p>That's a solution to just one part of the problem: you're capping the number of tasks being executed but aren't capping the number of jobs that can be submitted and enqueued for later execution. The application will experience resource shortage later, but it will eventually experience it if the submission rate consistently outgrows the execution rate.</p>\n\n<p>The solution to this problem is:\nProviding a blocking queue to the executor to hold the awaiting tasks. In the case the queue fills up, the submitted task will be \"rejected\".\nThe <code>RejectedExecutionHandler</code> is invoked when a task submission is rejected, and that's why the verb rejected was quoted in the previous item. You can implement your own rejection policy or use one of the built-in policies provided by the framework.</p>\n\n<p>The default rejection policies has the executor throw a <code>RejectedExecutionException</code>. However, other built-in policies let you:</p>\n\n<ul>\n<li>Discard a job silently.</li>\n<li>Discard the oldest job and try to resubmit the last one.</li>\n<li>Execute the rejected task on the caller's thread.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4915640,"reputation":1062,"user_id":3959647,"display_name":"Darshan Dalwadi"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1647517549,"creation_date":1517033558,"answer_id":48473149,"question_id":17659510,"body_markdown":"IF **running threads &gt; corePoolSize &amp; &lt; maxPoolSize**, then create a new Thread if Total task queue is full and new one is arriving.\r\n\r\nFrom doc:\r\n(If there are more than **corePoolSize** but less than **maximumPoolSize** threads running, a new thread will be created only if the queue is full.)\r\n\r\nNow, Take a simple example,\r\n\r\n    ThreadPoolExecutor executorPool = new ThreadPoolExecutor(5, 10, 3, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;Runnable&gt;(50));\r\n\r\n**Here, 5 is the corePoolSize** - means Jvm will create new thread for new task for first 5 tasks. and other tasks will be added to the queue until queue is getting full (50 tasks).\r\n\r\n**10 is the maxPoolSize** - JVM can create max 10 threads. \r\nMeans if there are already 5 task/thread is running and queue is full with 50 pending tasks and if one more new request/task is arriving in queue then JVM will create new thread up to 10 (total threads=previous 5 + new 5);\r\n\r\n**new ArrayBlockingQueue&lt;Runnable&gt;(50)** = is a total queue size - it can queue 50 tasks in it.\r\n\r\nonce all 10 threads are running and if new task is arriving then that new task will be rejected.\r\n\r\n**Rules for creating Threads internally by SUN:**\r\n\r\n1. If the number of threads is less than the corePoolSize, create a new Thread to run a new task.\r\n\r\n2. If the number of threads is equal (or greater than) the corePoolSize, put the task into the queue.\r\n\r\n3. If the queue is full, and the number of threads is less than the maxPoolSize, create a new thread to run tasks in.\r\n\r\n4. If the queue is full, and the number of threads is greater than or equal to maxPoolSize, reject the task.\r\n\r\n\r\n**Hope, This is HelpFul.. and please correct me if i&#39;m wrong...**","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>IF <strong>running threads &gt; corePoolSize &amp; &lt; maxPoolSize</strong>, then create a new Thread if Total task queue is full and new one is arriving.</p>\n<p>From doc:\n(If there are more than <strong>corePoolSize</strong> but less than <strong>maximumPoolSize</strong> threads running, a new thread will be created only if the queue is full.)</p>\n<p>Now, Take a simple example,</p>\n<pre><code>ThreadPoolExecutor executorPool = new ThreadPoolExecutor(5, 10, 3, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;Runnable&gt;(50));\n</code></pre>\n<p><strong>Here, 5 is the corePoolSize</strong> - means Jvm will create new thread for new task for first 5 tasks. and other tasks will be added to the queue until queue is getting full (50 tasks).</p>\n<p><strong>10 is the maxPoolSize</strong> - JVM can create max 10 threads.\nMeans if there are already 5 task/thread is running and queue is full with 50 pending tasks and if one more new request/task is arriving in queue then JVM will create new thread up to 10 (total threads=previous 5 + new 5);</p>\n<p><strong>new ArrayBlockingQueue(50)</strong> = is a total queue size - it can queue 50 tasks in it.</p>\n<p>once all 10 threads are running and if new task is arriving then that new task will be rejected.</p>\n<p><strong>Rules for creating Threads internally by SUN:</strong></p>\n<ol>\n<li><p>If the number of threads is less than the corePoolSize, create a new Thread to run a new task.</p>\n</li>\n<li><p>If the number of threads is equal (or greater than) the corePoolSize, put the task into the queue.</p>\n</li>\n<li><p>If the queue is full, and the number of threads is less than the maxPoolSize, create a new thread to run tasks in.</p>\n</li>\n<li><p>If the queue is full, and the number of threads is greater than or equal to maxPoolSize, reject the task.</p>\n</li>\n</ol>\n<p><strong>Hope, This is HelpFul.. and please correct me if i'm wrong...</strong></p>\n"},{"tags":[],"owner":{"account_id":6127426,"reputation":63,"user_id":4778864,"display_name":"rxt66"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527473063,"creation_date":1527458112,"answer_id":50556865,"question_id":17659510,"body_markdown":"Good explanation in [this][1] blog:\r\n\r\n\r\n [Illustration][2]\r\n\r\n\r\n  [1]: https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html &quot;this&quot;\r\n  [2]: https://i.stack.imgur.com/SBLH1.png\r\n\r\n\r\n\r\n    public class ThreadPoolExecutorExample {\r\n    \r\n        public static void main (String[] args) {\r\n            createAndRunPoolForQueue(new ArrayBlockingQueue&lt;Runnable&gt;(3), &quot;Bounded&quot;);\r\n            createAndRunPoolForQueue(new LinkedBlockingDeque&lt;&gt;(), &quot;Unbounded&quot;);\r\n            createAndRunPoolForQueue(new SynchronousQueue&lt;Runnable&gt;(), &quot;Direct hand-off&quot;);\r\n        }\r\n    \r\n        private static void createAndRunPoolForQueue (BlockingQueue&lt;Runnable&gt; queue,\r\n                                                                          String msg) {\r\n            System.out.println(&quot;---- &quot; + msg + &quot; queue instance = &quot; +\r\n                                                      queue.getClass()+ &quot; -------------&quot;);\r\n    \r\n            ThreadPoolExecutor e = new ThreadPoolExecutor(2, 5, Long.MAX_VALUE,\r\n                                     TimeUnit.NANOSECONDS, queue);\r\n    \r\n            for (int i = 0; i &lt; 10; i++) {\r\n                try {\r\n                    e.execute(new Task());\r\n                } catch (RejectedExecutionException ex) {\r\n                    System.out.println(&quot;Task rejected = &quot; + (i + 1));\r\n                }\r\n                printStatus(i + 1, e);\r\n            }\r\n    \r\n            e.shutdownNow();\r\n    \r\n            System.out.println(&quot;--------------------\\n&quot;);\r\n        }\r\n    \r\n        private static void printStatus (int taskSubmitted, ThreadPoolExecutor e) {\r\n            StringBuilder s = new StringBuilder();\r\n            s.append(&quot;poolSize = &quot;)\r\n             .append(e.getPoolSize())\r\n             .append(&quot;, corePoolSize = &quot;)\r\n             .append(e.getCorePoolSize())\r\n             .append(&quot;, queueSize = &quot;)\r\n             .append(e.getQueue()\r\n                      .size())\r\n             .append(&quot;, queueRemainingCapacity = &quot;)\r\n             .append(e.getQueue()\r\n                      .remainingCapacity())\r\n             .append(&quot;, maximumPoolSize = &quot;)\r\n             .append(e.getMaximumPoolSize())\r\n             .append(&quot;, totalTasksSubmitted = &quot;)\r\n             .append(taskSubmitted);\r\n    \r\n            System.out.println(s.toString());\r\n        }\r\n    \r\n        private static class Task implements Runnable {\r\n    \r\n            @Override\r\n            public void run () {\r\n                while (true) {\r\n                    try {\r\n                        Thread.sleep(1000000);\r\n                    } catch (InterruptedException e) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nOutput :\r\n\r\n    ---- Bounded queue instance = class java.util.concurrent.ArrayBlockingQueue -------------\r\n    poolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 1\r\n    poolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 2\r\n    poolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2, maximumPoolSize = 5, totalTasksSubmitted = 3\r\n    poolSize = 2, corePoolSize = 2, queueSize = 2, queueCapacity = 1, maximumPoolSize = 5, totalTasksSubmitted = 4\r\n    poolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\r\n    poolSize = 3, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\r\n    poolSize = 4, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\r\n    poolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\r\n    Task rejected = 9\r\n    poolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\r\n    Task rejected = 10\r\n    poolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\r\n    --------------------\r\n    \r\n    ---- Unbounded queue instance = class java.util.concurrent.LinkedBlockingDeque -------------\r\n    poolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 1\r\n    poolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 2\r\n    poolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2147483646, maximumPoolSize = 5, totalTasksSubmitted = 3\r\n    poolSize = 2, corePoolSize = 2, queueSize = 2, queueRemainingCapacity = 2147483645, maximumPoolSize = 5, totalTasksSubmitted = 4\r\n    poolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 2147483644, maximumPoolSize = 5, totalTasksSubmitted = 5\r\n    poolSize = 2, corePoolSize = 2, queueSize = 4, queueRemainingCapacity = 2147483643, maximumPoolSize = 5, totalTasksSubmitted = 6\r\n    poolSize = 2, corePoolSize = 2, queueSize = 5, queueRemainingCapacity = 2147483642, maximumPoolSize = 5, totalTasksSubmitted = 7\r\n    poolSize = 2, corePoolSize = 2, queueSize = 6, queueRemainingCapacity = 2147483641, maximumPoolSize = 5, totalTasksSubmitted = 8\r\n    poolSize = 2, corePoolSize = 2, queueSize = 7, queueRemainingCapacity = 2147483640, maximumPoolSize = 5, totalTasksSubmitted = 9\r\n    poolSize = 2, corePoolSize = 2, queueSize = 8, queueRemainingCapacity = 2147483639, maximumPoolSize = 5, totalTasksSubmitted = 10\r\n    --------------------\r\n    \r\n    ---- Direct hand-off queue instance = class java.util.concurrent.SynchronousQueue -------------\r\n    poolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 1\r\n    poolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 2\r\n    poolSize = 3, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 3\r\n    poolSize = 4, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 4\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\r\n    Task rejected = 6\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\r\n    Task rejected = 7\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\r\n    Task rejected = 8\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\r\n    Task rejected = 9\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\r\n    Task rejected = 10\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\r\n    --------------------\r\n    \r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>Good explanation in <a href=\"https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html\" rel=\"nofollow noreferrer\" title=\"this\">this</a> blog:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SBLH1.png\" rel=\"nofollow noreferrer\">Illustration</a></p>\n\n<pre><code>public class ThreadPoolExecutorExample {\n\n    public static void main (String[] args) {\n        createAndRunPoolForQueue(new ArrayBlockingQueue&lt;Runnable&gt;(3), \"Bounded\");\n        createAndRunPoolForQueue(new LinkedBlockingDeque&lt;&gt;(), \"Unbounded\");\n        createAndRunPoolForQueue(new SynchronousQueue&lt;Runnable&gt;(), \"Direct hand-off\");\n    }\n\n    private static void createAndRunPoolForQueue (BlockingQueue&lt;Runnable&gt; queue,\n                                                                      String msg) {\n        System.out.println(\"---- \" + msg + \" queue instance = \" +\n                                                  queue.getClass()+ \" -------------\");\n\n        ThreadPoolExecutor e = new ThreadPoolExecutor(2, 5, Long.MAX_VALUE,\n                                 TimeUnit.NANOSECONDS, queue);\n\n        for (int i = 0; i &lt; 10; i++) {\n            try {\n                e.execute(new Task());\n            } catch (RejectedExecutionException ex) {\n                System.out.println(\"Task rejected = \" + (i + 1));\n            }\n            printStatus(i + 1, e);\n        }\n\n        e.shutdownNow();\n\n        System.out.println(\"--------------------\\n\");\n    }\n\n    private static void printStatus (int taskSubmitted, ThreadPoolExecutor e) {\n        StringBuilder s = new StringBuilder();\n        s.append(\"poolSize = \")\n         .append(e.getPoolSize())\n         .append(\", corePoolSize = \")\n         .append(e.getCorePoolSize())\n         .append(\", queueSize = \")\n         .append(e.getQueue()\n                  .size())\n         .append(\", queueRemainingCapacity = \")\n         .append(e.getQueue()\n                  .remainingCapacity())\n         .append(\", maximumPoolSize = \")\n         .append(e.getMaximumPoolSize())\n         .append(\", totalTasksSubmitted = \")\n         .append(taskSubmitted);\n\n        System.out.println(s.toString());\n    }\n\n    private static class Task implements Runnable {\n\n        @Override\n        public void run () {\n            while (true) {\n                try {\n                    Thread.sleep(1000000);\n                } catch (InterruptedException e) {\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>---- Bounded queue instance = class java.util.concurrent.ArrayBlockingQueue -------------\npoolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 1\npoolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 2\npoolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2, maximumPoolSize = 5, totalTasksSubmitted = 3\npoolSize = 2, corePoolSize = 2, queueSize = 2, queueCapacity = 1, maximumPoolSize = 5, totalTasksSubmitted = 4\npoolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\npoolSize = 3, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\npoolSize = 4, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\npoolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\nTask rejected = 9\npoolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\nTask rejected = 10\npoolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\n--------------------\n\n---- Unbounded queue instance = class java.util.concurrent.LinkedBlockingDeque -------------\npoolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 1\npoolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 2\npoolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2147483646, maximumPoolSize = 5, totalTasksSubmitted = 3\npoolSize = 2, corePoolSize = 2, queueSize = 2, queueRemainingCapacity = 2147483645, maximumPoolSize = 5, totalTasksSubmitted = 4\npoolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 2147483644, maximumPoolSize = 5, totalTasksSubmitted = 5\npoolSize = 2, corePoolSize = 2, queueSize = 4, queueRemainingCapacity = 2147483643, maximumPoolSize = 5, totalTasksSubmitted = 6\npoolSize = 2, corePoolSize = 2, queueSize = 5, queueRemainingCapacity = 2147483642, maximumPoolSize = 5, totalTasksSubmitted = 7\npoolSize = 2, corePoolSize = 2, queueSize = 6, queueRemainingCapacity = 2147483641, maximumPoolSize = 5, totalTasksSubmitted = 8\npoolSize = 2, corePoolSize = 2, queueSize = 7, queueRemainingCapacity = 2147483640, maximumPoolSize = 5, totalTasksSubmitted = 9\npoolSize = 2, corePoolSize = 2, queueSize = 8, queueRemainingCapacity = 2147483639, maximumPoolSize = 5, totalTasksSubmitted = 10\n--------------------\n\n---- Direct hand-off queue instance = class java.util.concurrent.SynchronousQueue -------------\npoolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 1\npoolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 2\npoolSize = 3, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 3\npoolSize = 4, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 4\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\nTask rejected = 6\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\nTask rejected = 7\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\nTask rejected = 8\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\nTask rejected = 9\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\nTask rejected = 10\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\n--------------------\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9177295,"reputation":11910,"user_id":6856342,"display_name":"宏杰李"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539603648,"creation_date":1539603648,"answer_id":52815987,"question_id":17659510,"body_markdown":"java.util.concurrent.ThreadPoolExecutor\r\n\r\n      public void execute(Runnable command) {\r\n            if (command == null)\r\n                throw new NullPointerException();\r\n            /*\r\n             * Proceed in 3 steps:\r\n             *\r\n             * 1. If fewer than corePoolSize threads are running, try to\r\n             * start a new thread with the given command as its first\r\n             * task.  The call to addWorker atomically checks runState and\r\n             * workerCount, and so prevents false alarms that would add\r\n             * threads when it shouldn&#39;t, by returning false.\r\n             *\r\n             * 2. If a task can be successfully queued, then we still need\r\n             * to double-check whether we should have added a thread\r\n             * (because existing ones died since last checking) or that\r\n             * the pool shut down since entry into this method. So we\r\n             * recheck state and if necessary roll back the enqueuing if\r\n             * stopped, or start a new thread if there are none.\r\n             *\r\n             * 3. If we cannot queue task, then we try to add a new\r\n             * thread.  If it fails, we know we are shut down or saturated\r\n             * and so reject the task.\r\n             */\r\n            int c = ctl.get();\r\n            if (workerCountOf(c) &lt; corePoolSize) {\r\n                if (addWorker(command, true))\r\n                    return;\r\n                c = ctl.get();\r\n            }\r\n            if (isRunning(c) &amp;&amp; workQueue.offer(command)) {\r\n                int recheck = ctl.get();\r\n                if (! isRunning(recheck) &amp;&amp; remove(command))\r\n                    reject(command);\r\n                else if (workerCountOf(recheck) == 0)\r\n                    addWorker(null, false);\r\n            }\r\n            else if (!addWorker(command, false))\r\n                reject(command);\r\n        }","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>java.util.concurrent.ThreadPoolExecutor</p>\n\n<pre><code>  public void execute(Runnable command) {\n        if (command == null)\n            throw new NullPointerException();\n        /*\n         * Proceed in 3 steps:\n         *\n         * 1. If fewer than corePoolSize threads are running, try to\n         * start a new thread with the given command as its first\n         * task.  The call to addWorker atomically checks runState and\n         * workerCount, and so prevents false alarms that would add\n         * threads when it shouldn't, by returning false.\n         *\n         * 2. If a task can be successfully queued, then we still need\n         * to double-check whether we should have added a thread\n         * (because existing ones died since last checking) or that\n         * the pool shut down since entry into this method. So we\n         * recheck state and if necessary roll back the enqueuing if\n         * stopped, or start a new thread if there are none.\n         *\n         * 3. If we cannot queue task, then we try to add a new\n         * thread.  If it fails, we know we are shut down or saturated\n         * and so reject the task.\n         */\n        int c = ctl.get();\n        if (workerCountOf(c) &lt; corePoolSize) {\n            if (addWorker(command, true))\n                return;\n            c = ctl.get();\n        }\n        if (isRunning(c) &amp;&amp; workQueue.offer(command)) {\n            int recheck = ctl.get();\n            if (! isRunning(recheck) &amp;&amp; remove(command))\n                reject(command);\n            else if (workerCountOf(recheck) == 0)\n                addWorker(null, false);\n        }\n        else if (!addWorker(command, false))\n            reject(command);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3360311,"reputation":7431,"user_id":2822252,"accept_rate":60,"display_name":"Ramesh Papaganti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566824896,"creation_date":1566824896,"answer_id":57658549,"question_id":17659510,"body_markdown":"From the book **Java concurency essentials** : \r\n\r\n**CorePoolSize**: The ThreadPoolExecutor has an attribute corePoolSize that determines how many threads it will start\r\nuntil new threads are only started when the queue is full\r\n\r\n**MaximumPoolSize**: This attribute determines how many threads are started at the maximum. You can set this to Integer.\r\nMAX_VALUE in order to have no upper boundary\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>From the book <strong>Java concurency essentials</strong> : </p>\n\n<p><strong>CorePoolSize</strong>: The ThreadPoolExecutor has an attribute corePoolSize that determines how many threads it will start\nuntil new threads are only started when the queue is full</p>\n\n<p><strong>MaximumPoolSize</strong>: This attribute determines how many threads are started at the maximum. You can set this to Integer.\nMAX_VALUE in order to have no upper boundary</p>\n"},{"tags":[],"owner":{"account_id":1150739,"reputation":7888,"user_id":1132522,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575573875,"creation_date":1575573170,"answer_id":59201879,"question_id":17659510,"body_markdown":"Understanding the internal behavior of the `ThreadPoolExecutor ` when a new task is submitted helped me understand how `corePoolSize` and `maximumPoolSize` differ.\r\n\r\nLet:\r\n\r\n- `N` be the number of threads in the pool, `getPoolSize()`. Active threads + idle threads. \r\n- `T` be the amount of tasks submitted to the executor/pool.\r\n- `C` be the core pool size, `getCorePoolSize()`. How many threads can at most be created per pool for the incoming tasks **before new tasks go to the queue**.\r\n- `M` be the maximum pool size, `getMaximumPoolSize()`. Maximum amount of threads the pool can allocate. \r\n\r\nBehaviors of the `ThreadPoolExecutor` in Java when a new task is submitted:\r\n\r\n- For `N &lt;= C`, the idle threads are not assigned the new incoming task, instead a new thread is created.\r\n- For `N &gt; C` and if there are idle threads then new task is assigned there.\r\n- For `N &gt; C` and if there are NO idle threads, new tasks are put into the queue. **NO NEW THREAD CREATED HERE.**\r\n- **When queue is full**, we create new threads up to `M`. If `M` is reached, we reject the tasks. What&#39;s important to not here is that we do not create new threads until the queue is full!\r\n\r\nSources: \r\n\r\n- [docs.oracle.com ](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html)\r\n- [excellent article on the subject.](https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html)\r\n\r\n## Examples\r\n\r\n### Example with `corePoolSize = 0` and `maximumPoolSize = 10` with a queue capacity of `50`.\r\n\r\nThis will result in one single active thread in the pool until the queue has 50 items in it. \r\n\r\n```\r\nexecutor.execute(task #1):\r\n\r\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\r\n\r\n[task #1 immediately queued and kicked in b/c the very first thread is created when `workerCountOf(recheck) == 0`]\r\n\r\nexecute(task #2):\r\n\r\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\r\n\r\n[task #2 not starting before #1 is done]\r\n\r\n... executed a few tasks...\r\n\r\nexecute(task #19)\r\n\r\nbefore task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 17, completed tasks = 0]\r\n\r\nafter task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 18, completed tasks = 0]\r\n\r\n...\r\n\r\nexecute(task #51)\r\n\r\nbefore task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 50, completed tasks = 0]\r\n\r\nafter task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 2, active threads = 2, queued tasks = 50, completed tasks = 0]\r\n\r\nQueue is full.\r\nA new thread was created as the queue was full.\r\n\r\n```\r\n\r\n### Example with `corePoolSize = 10` and `maximumPoolSize = 10` with a queue capacity of `50`.\r\n\r\nThis will result in 10 active threads in the pool. When the queue has 50 items in it, tasks will be rejected.\r\n\r\n\r\n```\r\nexecute(task #1)\r\n\r\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n\r\nexecute(task #2)\r\n\r\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\r\n\r\nexecute(task #3)\r\n\r\nbefore task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 3, active threads = 3, queued tasks = 0, completed tasks = 0]\r\n\r\n... executed a few tasks...\r\n\r\nexecute(task #11)\r\n\r\nbefore task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 1, completed tasks = 0]\r\n\r\n... executed a few tasks...\r\n\r\nexecute(task #51)\r\nbefore task #51 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 50, completed tasks = 0]\r\n\r\nTask was rejected as we have reached `maximumPoolSize`. \r\n\r\n```\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>Understanding the internal behavior of the <code>ThreadPoolExecutor</code> when a new task is submitted helped me understand how <code>corePoolSize</code> and <code>maximumPoolSize</code> differ.</p>\n\n<p>Let:</p>\n\n<ul>\n<li><code>N</code> be the number of threads in the pool, <code>getPoolSize()</code>. Active threads + idle threads. </li>\n<li><code>T</code> be the amount of tasks submitted to the executor/pool.</li>\n<li><code>C</code> be the core pool size, <code>getCorePoolSize()</code>. How many threads can at most be created per pool for the incoming tasks <strong>before new tasks go to the queue</strong>.</li>\n<li><code>M</code> be the maximum pool size, <code>getMaximumPoolSize()</code>. Maximum amount of threads the pool can allocate. </li>\n</ul>\n\n<p>Behaviors of the <code>ThreadPoolExecutor</code> in Java when a new task is submitted:</p>\n\n<ul>\n<li>For <code>N &lt;= C</code>, the idle threads are not assigned the new incoming task, instead a new thread is created.</li>\n<li>For <code>N &gt; C</code> and if there are idle threads then new task is assigned there.</li>\n<li>For <code>N &gt; C</code> and if there are NO idle threads, new tasks are put into the queue. <strong>NO NEW THREAD CREATED HERE.</strong></li>\n<li><strong>When queue is full</strong>, we create new threads up to <code>M</code>. If <code>M</code> is reached, we reject the tasks. What's important to not here is that we do not create new threads until the queue is full!</li>\n</ul>\n\n<p>Sources: </p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">docs.oracle.com </a></li>\n<li><a href=\"https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html\" rel=\"nofollow noreferrer\">excellent article on the subject.</a></li>\n</ul>\n\n<h2>Examples</h2>\n\n<h3>Example with <code>corePoolSize = 0</code> and <code>maximumPoolSize = 10</code> with a queue capacity of <code>50</code>.</h3>\n\n<p>This will result in one single active thread in the pool until the queue has 50 items in it. </p>\n\n<pre><code>executor.execute(task #1):\n\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\n\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\n\n[task #1 immediately queued and kicked in b/c the very first thread is created when `workerCountOf(recheck) == 0`]\n\nexecute(task #2):\n\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\n\n[task #2 not starting before #1 is done]\n\n... executed a few tasks...\n\nexecute(task #19)\n\nbefore task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 17, completed tasks = 0]\n\nafter task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 18, completed tasks = 0]\n\n...\n\nexecute(task #51)\n\nbefore task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 50, completed tasks = 0]\n\nafter task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 2, active threads = 2, queued tasks = 50, completed tasks = 0]\n\nQueue is full.\nA new thread was created as the queue was full.\n\n</code></pre>\n\n<h3>Example with <code>corePoolSize = 10</code> and <code>maximumPoolSize = 10</code> with a queue capacity of <code>50</code>.</h3>\n\n<p>This will result in 10 active threads in the pool. When the queue has 50 items in it, tasks will be rejected.</p>\n\n<pre><code>execute(task #1)\n\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\n\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n\nexecute(task #2)\n\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\n\nexecute(task #3)\n\nbefore task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\n\nafter task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 3, active threads = 3, queued tasks = 0, completed tasks = 0]\n\n... executed a few tasks...\n\nexecute(task #11)\n\nbefore task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 0, completed tasks = 0]\n\nafter task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 1, completed tasks = 0]\n\n... executed a few tasks...\n\nexecute(task #51)\nbefore task #51 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 50, completed tasks = 0]\n\nTask was rejected as we have reached `maximumPoolSize`. \n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1578060381,"creation_date":1578060381,"answer_id":59579963,"question_id":17659510,"body_markdown":"[Source][1]\r\n&gt;Rules of a ThreadPoolExecutor pool size  \r\n\r\nThe rules for the size of a `ThreadPoolExecutor&#39;s` pool are generally miss-understood, because it doesn&#39;t work the way that you think it ought to or in the way that you want it to.\r\n\r\nTake this example. Starting thread pool size is 1, core pool size is 5, max pool size is 10 and the queue is 100.\r\n\r\nSun&#39;s way: as requests come in threads will be created up to 5, then tasks will be added to the queue until it reaches 100. When the queue is full new threads will be created up to `maxPoolSize`. Once all the threads are in use and the queue is full tasks will be rejected. As the queue reduces so does the number of active threads.\r\n\r\nUser anticipated way: as requests come in threads will be created up to 10, then tasks will be added to the queue until it reaches 100 at which point they are rejected. The number of threads will rename at max until the queue is empty. When the queue is empty the threads will die off until there are `corePoolSize` left.\r\n\r\nThe difference is that the users want to start increasing the pool size earlier and want the queue to be smaller, where as the Sun method want to keep the pool size small and only increase it once the load becomes to much.\r\n\r\nHere are Sun&#39;s rules for thread creation in simple terms:\r\n\r\n 1. If the number of threads is less than the `corePoolSize`, create a new Thread to run a new task.\r\n 1. If the number of threads is equal (or greater than) the `corePoolSize`, put the task into the queue.\r\n 1. If the queue is full, and the number of threads is less than the `maxPoolSize`, create a new thread to run tasks in.\r\n 1. If the queue is full, and the number of threads is greater than or equal to `maxPoolSize`, reject the task.\r\nThe long and the short of it is that new threads are only created when the queue fills up, so if you&#39;re using an unbounded queue then the number of threads will not exceed `corePoolSize`.\r\n\r\nFor a fuller explanation, get it from the horses mouth: `ThreadPoolExecutor` API documentation.\r\n\r\nThere is a really good forum post which talks you through the way that the `ThreadPoolExecutor` works with code examples: http://forums.sun.com/thread.jspa?threadID=5401400&amp;tstart=0\r\n\r\nMore info: http://forums.sun.com/thread.jspa?threadID=5224557&amp;tstart=450\r\n\r\n\r\n  [1]: http://www.bigsoft.co.uk/blog/2009/11/27/rules-of-a-threadpoolexecutor-pool-size","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p><a href=\"http://www.bigsoft.co.uk/blog/2009/11/27/rules-of-a-threadpoolexecutor-pool-size\" rel=\"noreferrer\">Source</a></p>\n\n<blockquote>\n  <p>Rules of a ThreadPoolExecutor pool size  </p>\n</blockquote>\n\n<p>The rules for the size of a <code>ThreadPoolExecutor's</code> pool are generally miss-understood, because it doesn't work the way that you think it ought to or in the way that you want it to.</p>\n\n<p>Take this example. Starting thread pool size is 1, core pool size is 5, max pool size is 10 and the queue is 100.</p>\n\n<p>Sun's way: as requests come in threads will be created up to 5, then tasks will be added to the queue until it reaches 100. When the queue is full new threads will be created up to <code>maxPoolSize</code>. Once all the threads are in use and the queue is full tasks will be rejected. As the queue reduces so does the number of active threads.</p>\n\n<p>User anticipated way: as requests come in threads will be created up to 10, then tasks will be added to the queue until it reaches 100 at which point they are rejected. The number of threads will rename at max until the queue is empty. When the queue is empty the threads will die off until there are <code>corePoolSize</code> left.</p>\n\n<p>The difference is that the users want to start increasing the pool size earlier and want the queue to be smaller, where as the Sun method want to keep the pool size small and only increase it once the load becomes to much.</p>\n\n<p>Here are Sun's rules for thread creation in simple terms:</p>\n\n<ol>\n<li>If the number of threads is less than the <code>corePoolSize</code>, create a new Thread to run a new task.</li>\n<li>If the number of threads is equal (or greater than) the <code>corePoolSize</code>, put the task into the queue.</li>\n<li>If the queue is full, and the number of threads is less than the <code>maxPoolSize</code>, create a new thread to run tasks in.</li>\n<li>If the queue is full, and the number of threads is greater than or equal to <code>maxPoolSize</code>, reject the task.\nThe long and the short of it is that new threads are only created when the queue fills up, so if you're using an unbounded queue then the number of threads will not exceed <code>corePoolSize</code>.</li>\n</ol>\n\n<p>For a fuller explanation, get it from the horses mouth: <code>ThreadPoolExecutor</code> API documentation.</p>\n\n<p>There is a really good forum post which talks you through the way that the <code>ThreadPoolExecutor</code> works with code examples: <a href=\"http://forums.sun.com/thread.jspa?threadID=5401400&amp;tstart=0\" rel=\"noreferrer\">http://forums.sun.com/thread.jspa?threadID=5401400&amp;tstart=0</a></p>\n\n<p>More info: <a href=\"http://forums.sun.com/thread.jspa?threadID=5224557&amp;tstart=450\" rel=\"noreferrer\">http://forums.sun.com/thread.jspa?threadID=5224557&amp;tstart=450</a></p>\n"},{"tags":[],"owner":{"account_id":1580007,"reputation":13268,"user_id":1465553,"accept_rate":68,"display_name":"Saurav Sahu"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1623437244,"creation_date":1623437244,"answer_id":67942144,"question_id":17659510,"body_markdown":"In picture, consider only addition of tasks are happening \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vQccY.png","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>In picture, consider only addition of tasks are happening</p>\n<p><a href=\"https://i.stack.imgur.com/vQccY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vQccY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7322921,"reputation":1043,"user_id":6602141,"accept_rate":0,"display_name":"Ankit kaushik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655714647,"creation_date":1655714647,"answer_id":72684387,"question_id":17659510,"body_markdown":"As per the documentation :\r\n\r\n&gt; Any BlockingQueue may be used to transfer and hold submitted tasks.\r\n&gt; The use of this queue interacts with pool sizing: If fewer than\r\n&gt; core pool size threads are running, the Executor always prefers adding a\r\n&gt; new thread rather than queuing. If core pool size or more threads are\r\n&gt; running, the Executor always prefers queuing a request rather than\r\n&gt; adding a new thread. If a request cannot be queued, a new thread is\r\n&gt; created unless this would exceed maximumPoolSize, in which case, the\r\n&gt; task will be rejected.\r\n\r\n\r\nThis means core pool size is the threshold beyond which executor service prefers to queue up the task than spawn a new thread. If when receiving a task, the number of threads are less than the core pool size, the creation of a new thread is done thereby increasing active threads.","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>As per the documentation :</p>\n<blockquote>\n<p>Any BlockingQueue may be used to transfer and hold submitted tasks.\nThe use of this queue interacts with pool sizing: If fewer than\ncore pool size threads are running, the Executor always prefers adding a\nnew thread rather than queuing. If core pool size or more threads are\nrunning, the Executor always prefers queuing a request rather than\nadding a new thread. If a request cannot be queued, a new thread is\ncreated unless this would exceed maximumPoolSize, in which case, the\ntask will be rejected.</p>\n</blockquote>\n<p>This means core pool size is the threshold beyond which executor service prefers to queue up the task than spawn a new thread. If when receiving a task, the number of threads are less than the core pool size, the creation of a new thread is done thereby increasing active threads.</p>\n"}],"owner":{"account_id":3028823,"reputation":3723,"user_id":2568266,"display_name":"user2568266"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161996,"favorite_count":0,"down_vote_count":0,"up_vote_count":169,"answer_count":12,"score":169,"last_activity_date":1666434144,"creation_date":1373907000,"question_id":17659510,"body_markdown":"What exactly is the difference between **core pool size** and **maximum pool size** when we talk in terms of `ThreadPoolExecutor`?  \r\nCan it be explained with the help of an example? ","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>What exactly is the difference between <strong>core pool size</strong> and <strong>maximum pool size</strong> when we talk in terms of <code>ThreadPoolExecutor</code>?<br>\nCan it be explained with the help of an example? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666432974,"post_id":74162543,"comment_id":130938922,"body_markdown":"you cannot &quot;store it in a list, consuming less memory&quot;, instead you have to get rid of this need, but process (&amp;forget!) them line/chunk wise.","body":"you cannot &quot;store it in a list, consuming less memory&quot;, instead you have to get rid of this need, but process (&amp;forget!) them line/chunk wise."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666433696,"creation_date":1666433140,"answer_id":74162613,"question_id":74162543,"body_markdown":"&gt; There is a best way to read line by line the file and storing in a List consuming less memory?\r\n\r\nNot really, no.\r\n\r\nThe problem is the &quot;store it in a list&quot; aspect.   That is the fundamental reason why you are using lots of memory.  Any time you hold an entire file in memory in `String` form you are going to use lots of memory&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThe solution is NOT to store the entire file in memory at the same time.  Instead, read it line by line, process each line as you read it, and then discard the lines.\r\n\r\nFor example, instead of this:\r\n\r\n    List&lt;String&gt; lines = Files.readAllLines(somePath);\r\n    for (String line: lines) {\r\n        // process line\r\n    }\r\n\r\n... do this:\r\n\r\n    try (BufferedReader br = ...) {\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            // process line\r\n        }\r\n    }\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - You may save a bit of space by storing the file contents as bytes, but with recent JVMs and their more space-efficient `String` representations, the saving won&#39;t be great enough to make a lot of difference.&lt;/sup&gt;","title":"Alternative for read lines using less memory JAVA","body":"<blockquote>\n<p>There is a best way to read line by line the file and storing in a List consuming less memory?</p>\n</blockquote>\n<p>Not really, no.</p>\n<p>The problem is the &quot;store it in a list&quot; aspect.   That is the fundamental reason why you are using lots of memory.  Any time you hold an entire file in memory in <code>String</code> form you are going to use lots of memory<sup>1</sup>.</p>\n<p>The solution is NOT to store the entire file in memory at the same time.  Instead, read it line by line, process each line as you read it, and then discard the lines.</p>\n<p>For example, instead of this:</p>\n<pre><code>List&lt;String&gt; lines = Files.readAllLines(somePath);\nfor (String line: lines) {\n    // process line\n}\n</code></pre>\n<p>... do this:</p>\n<pre><code>try (BufferedReader br = ...) {\n    String line;\n    while ((line = br.readLine()) != null) {\n        // process line\n    }\n}\n</code></pre>\n<hr />\n<p><sup>1 - You may save a bit of space by storing the file contents as bytes, but with recent JVMs and their more space-efficient <code>String</code> representations, the saving won't be great enough to make a lot of difference.</sup></p>\n"}],"owner":{"account_id":11625235,"reputation":47,"user_id":8515191,"display_name":"Daxan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74162613,"answer_count":1,"score":0,"last_activity_date":1666433696,"creation_date":1666432365,"question_id":74162543,"body_markdown":"Good morning,\r\n\r\nI am progarmming a tool to get some information from log files, the problem is that that files could by 100Mb, 300Mb ...900Mb.\r\n\r\nWhen I run my application using log of 100-200Mb the program works fine, but when I use a 500Mb or above log the application send heap space problem.\r\n\r\nThe problem could be this line?\r\n\r\n```\r\nList&lt;String&gt; resultado = Files.readAllLines(Paths.get(ruta.getText()));\r\n```\r\n\r\nI think that this object consume a lot of memory and it is the cause of my problem\r\n\r\nThere is a best way to read line by line the file and storing in a List&lt;String&gt; consuming less memory?\r\n\r\nThank you very much","title":"Alternative for read lines using less memory JAVA","body":"<p>Good morning,</p>\n<p>I am progarmming a tool to get some information from log files, the problem is that that files could by 100Mb, 300Mb ...900Mb.</p>\n<p>When I run my application using log of 100-200Mb the program works fine, but when I use a 500Mb or above log the application send heap space problem.</p>\n<p>The problem could be this line?</p>\n<pre><code>List&lt;String&gt; resultado = Files.readAllLines(Paths.get(ruta.getText()));\n</code></pre>\n<p>I think that this object consume a lot of memory and it is the cause of my problem</p>\n<p>There is a best way to read line by line the file and storing in a List consuming less memory?</p>\n<p>Thank you very much</p>\n"},{"tags":["java","spring","spring-boot","hibernate","model"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666380705,"post_id":74157932,"comment_id":130931915,"body_markdown":"Avoid pictures, use code blocks instead.","body":"Avoid pictures, use code blocks instead."}],"answers":[{"tags":[],"owner":{"account_id":21911535,"reputation":51,"user_id":16195946,"display_name":"Daniel Domingueti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666433670,"creation_date":1666433670,"answer_id":74162661,"question_id":74157932,"body_markdown":"Mohsen, make sure you&#39;re implementing your entity class correctly. \r\nFirst of all, change your ID variable to the following:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\nThe annotations above ensures the ID variable works like an entity&#39;s identification. Now as it represents a unique value, you can make POST requests without passing any value for the id because it&#39;s an auto-generated field.\r\n\r\nFor PUT requests you&#39;re gonna always have to specify the id once JPA needs to fetch the object from the DB to make any change.","title":"Hibernate Null checker ignore field on POST request but don&#39;t on Put request","body":"<p>Mohsen, make sure you're implementing your entity class correctly.\nFirst of all, change your ID variable to the following:</p>\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Long id;\n</code></pre>\n<p>The annotations above ensures the ID variable works like an entity's identification. Now as it represents a unique value, you can make POST requests without passing any value for the id because it's an auto-generated field.</p>\n<p>For PUT requests you're gonna always have to specify the id once JPA needs to fetch the object from the DB to make any change.</p>\n"}],"owner":{"account_id":12473162,"reputation":25,"user_id":9080506,"display_name":"Mohsen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666433670,"creation_date":1666377487,"question_id":74157932,"body_markdown":"I&#39;m using spring boot 2.7. I want to null checker ignore &quot;ID&quot; field on POST request but don&#39;t ignore it on PUT request! what&#39;s the solution?\r\n\r\nNote: I want to do it in one model!\r\n\r\n\r\n    import lombok.Data;\r\n    \r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Data\r\n    public class CategoryRequestModel {\r\n    \r\n        @NotNull\r\n        private String id;   // check on PUT request\r\n                             // not check on POST request\r\n    \r\n        private String title;\r\n        private String status;\r\n    }","title":"Hibernate Null checker ignore field on POST request but don&#39;t on Put request","body":"<p>I'm using spring boot 2.7. I want to null checker ignore &quot;ID&quot; field on POST request but don't ignore it on PUT request! what's the solution?</p>\n<p>Note: I want to do it in one model!</p>\n<pre><code>import lombok.Data;\n\nimport javax.validation.constraints.NotNull;\n\n@Data\npublic class CategoryRequestModel {\n\n    @NotNull\n    private String id;   // check on PUT request\n                         // not check on POST request\n\n    private String title;\n    private String status;\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1666438523,"post_id":74161975,"comment_id":130939879,"body_markdown":"In your `ATMKeypadPanel` `ActionListener`, you don&#39;t do anything with the button presses.  You need to save them in a `char` array that you can access from both the `ATMKeypadPanel` class and the `ATMScreenPanel` class.  An application model made up of one or more plain Java getter/setter classes should hold this `char` array.  You also need a more descriptive class name than `handler`.","body":"In your <code>ATMKeypadPanel</code> <code>ActionListener</code>, you don&#39;t do anything with the button presses.  You need to save them in a <code>char</code> array that you can access from both the <code>ATMKeypadPanel</code> class and the <code>ATMScreenPanel</code> class.  An application model made up of one or more plain Java getter/setter classes should hold this <code>char</code> array.  You also need a more descriptive class name than <code>handler</code>."},{"owner":{"account_id":21766426,"reputation":9,"user_id":16070237,"display_name":"Bluem"},"score":0,"creation_date":1666443946,"post_id":74161975,"comment_id":130940942,"body_markdown":"Thank you mister! Man I have a lot to learn :&lt;","body":"Thank you mister! Man I have a lot to learn :&lt;"}],"owner":{"account_id":21766426,"reputation":9,"user_id":16070237,"display_name":"Bluem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666433390,"creation_date":1666425694,"question_id":74161975,"body_markdown":"I&#39;m trying to input numbers to pin_textField from ATMScreenPanel using the buttons from ATMKeypadPanel class but I don&#39;t know how. I tried using objects although I learned that it doesn&#39;t actually change the value from the actual class when I used it. Can someone please teach me how to do it?\r\n\r\ncode for ATMScreenPanel\r\n```\r\npublic class ATMScreenPanel extends JPanel {\r\n    private ArrayList&lt;String&gt; pins = new ArrayList&lt;&gt;();\r\n    JLabel label;\r\n    static JTextField pin_textField;\r\n\r\n    ATMScreenPanel() {\r\n        setBackground(Color.GRAY);\r\n        setLayout(null);\r\n        pin_textField = new JTextField(&quot;&quot;);\r\n        pin_textField.setHorizontalAlignment(pin_textField.CENTER);\r\n        pin_textField.setBounds(98, 110, 300, 50);\r\n        add(pin_textField);\r\n\r\n        label = new JLabel(&quot;Enter your pin number&quot;);\r\n        label.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 35));\r\n        label.setBounds(90, 50, 400, 50);\r\n        add(label);\r\n\r\n        ATMKeypadPanel keys = new ATMKeypadPanel();\r\n\r\n    }\r\n}\r\n```\r\n\r\ncode for ATMKeypadPanel\r\n```\r\npublic class ATMKeypadPanel extends JPanel{\r\n\r\n    JButton[] buttons;\r\n\r\n    ATMKeypadPanel(){\r\n        buttons = new JButton[14];\r\n        setBackground(Color.CYAN);\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        setLayout(new GridBagLayout());\r\n        gbc.insets = new Insets(1,2,1,2);\r\n\r\n        handler buttonHandler = new handler();\r\n        buttons[0] = new JButton(&quot;1&quot;);\r\n        buttons[0].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        buttons[0].addActionListener( buttonHandler);\r\n        add(buttons[0],gbc);\r\n\r\n        buttons[1] = new JButton(&quot;2&quot;);\r\n        buttons[1].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 0;\r\n        buttons[1].addActionListener( buttonHandler);\r\n        add(buttons[1],gbc);\r\n\r\n        buttons[2] = new JButton(&quot;3&quot;);\r\n        buttons[2].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 2;\r\n        gbc.gridy = 0;\r\n        buttons[2].addActionListener( buttonHandler);\r\n\r\n        add(buttons[2],gbc);\r\n\r\n        buttons[3] = new JButton(&quot;4&quot;);\r\n        buttons[3].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        buttons[3].addActionListener( buttonHandler);\r\n\r\n        add(buttons[3],gbc);\r\n\r\n        buttons[4] = new JButton(&quot;5&quot;);\r\n        buttons[4].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 1;\r\n        buttons[4].addActionListener( buttonHandler);\r\n\r\n        add(buttons[4],gbc);\r\n\r\n        buttons[5] = new JButton(&quot;6&quot;);\r\n        buttons[5].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 2;\r\n        gbc.gridy = 1;\r\n        buttons[5].addActionListener( buttonHandler);\r\n\r\n        add(buttons[5],gbc);\r\n\r\n        buttons[6] = new JButton(&quot;7&quot;);\r\n        buttons[6].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        buttons[6].addActionListener( buttonHandler);\r\n\r\n        add(buttons[6],gbc);\r\n\r\n        buttons[7] = new JButton(&quot;8&quot;);\r\n        buttons[7].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 2;\r\n        buttons[7].addActionListener( buttonHandler);\r\n\r\n        add(buttons[7],gbc);\r\n\r\n        buttons[8] = new JButton(&quot;9&quot;);\r\n        buttons[8].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 2;\r\n        gbc.gridy = 2;\r\n        buttons[8].addActionListener( buttonHandler);\r\n\r\n        add(buttons[8],gbc);\r\n\r\n        buttons[9] = new JButton(&quot;0&quot;);\r\n        buttons[9].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 3;\r\n        buttons[9].addActionListener( buttonHandler);\r\n        add(buttons[9],gbc);\r\n    }\r\n\r\n    private class handler implements ActionListener{\r\n        public void actionPerformed(ActionEvent e){\r\n\r\n            if(e.getSource() == buttons[0]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[1]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[2]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[3]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[4]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[5]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[6]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[7]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[8]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[9]){\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to input number on JTextField using buttons from another class","body":"<p>I'm trying to input numbers to pin_textField from ATMScreenPanel using the buttons from ATMKeypadPanel class but I don't know how. I tried using objects although I learned that it doesn't actually change the value from the actual class when I used it. Can someone please teach me how to do it?</p>\n<p>code for ATMScreenPanel</p>\n<pre><code>public class ATMScreenPanel extends JPanel {\n    private ArrayList&lt;String&gt; pins = new ArrayList&lt;&gt;();\n    JLabel label;\n    static JTextField pin_textField;\n\n    ATMScreenPanel() {\n        setBackground(Color.GRAY);\n        setLayout(null);\n        pin_textField = new JTextField(&quot;&quot;);\n        pin_textField.setHorizontalAlignment(pin_textField.CENTER);\n        pin_textField.setBounds(98, 110, 300, 50);\n        add(pin_textField);\n\n        label = new JLabel(&quot;Enter your pin number&quot;);\n        label.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 35));\n        label.setBounds(90, 50, 400, 50);\n        add(label);\n\n        ATMKeypadPanel keys = new ATMKeypadPanel();\n\n    }\n}\n</code></pre>\n<p>code for ATMKeypadPanel</p>\n<pre><code>public class ATMKeypadPanel extends JPanel{\n\n    JButton[] buttons;\n\n    ATMKeypadPanel(){\n        buttons = new JButton[14];\n        setBackground(Color.CYAN);\n        GridBagConstraints gbc = new GridBagConstraints();\n        setLayout(new GridBagLayout());\n        gbc.insets = new Insets(1,2,1,2);\n\n        handler buttonHandler = new handler();\n        buttons[0] = new JButton(&quot;1&quot;);\n        buttons[0].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        buttons[0].addActionListener( buttonHandler);\n        add(buttons[0],gbc);\n\n        buttons[1] = new JButton(&quot;2&quot;);\n        buttons[1].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 0;\n        buttons[1].addActionListener( buttonHandler);\n        add(buttons[1],gbc);\n\n        buttons[2] = new JButton(&quot;3&quot;);\n        buttons[2].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 2;\n        gbc.gridy = 0;\n        buttons[2].addActionListener( buttonHandler);\n\n        add(buttons[2],gbc);\n\n        buttons[3] = new JButton(&quot;4&quot;);\n        buttons[3].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        buttons[3].addActionListener( buttonHandler);\n\n        add(buttons[3],gbc);\n\n        buttons[4] = new JButton(&quot;5&quot;);\n        buttons[4].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 1;\n        buttons[4].addActionListener( buttonHandler);\n\n        add(buttons[4],gbc);\n\n        buttons[5] = new JButton(&quot;6&quot;);\n        buttons[5].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 2;\n        gbc.gridy = 1;\n        buttons[5].addActionListener( buttonHandler);\n\n        add(buttons[5],gbc);\n\n        buttons[6] = new JButton(&quot;7&quot;);\n        buttons[6].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        buttons[6].addActionListener( buttonHandler);\n\n        add(buttons[6],gbc);\n\n        buttons[7] = new JButton(&quot;8&quot;);\n        buttons[7].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 2;\n        buttons[7].addActionListener( buttonHandler);\n\n        add(buttons[7],gbc);\n\n        buttons[8] = new JButton(&quot;9&quot;);\n        buttons[8].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 2;\n        gbc.gridy = 2;\n        buttons[8].addActionListener( buttonHandler);\n\n        add(buttons[8],gbc);\n\n        buttons[9] = new JButton(&quot;0&quot;);\n        buttons[9].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 3;\n        buttons[9].addActionListener( buttonHandler);\n        add(buttons[9],gbc);\n    }\n\n    private class handler implements ActionListener{\n        public void actionPerformed(ActionEvent e){\n\n            if(e.getSource() == buttons[0]){\n\n            }\n\n            if(e.getSource() == buttons[1]){\n\n            }\n\n            if(e.getSource() == buttons[2]){\n\n            }\n\n            if(e.getSource() == buttons[3]){\n\n            }\n\n            if(e.getSource() == buttons[4]){\n\n            }\n\n            if(e.getSource() == buttons[5]){\n\n            }\n\n            if(e.getSource() == buttons[6]){\n\n            }\n\n            if(e.getSource() == buttons[7]){\n\n            }\n\n            if(e.getSource() == buttons[8]){\n\n            }\n\n            if(e.getSource() == buttons[9]){\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":16584107,"reputation":1,"user_id":11984002,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427811,"creation_date":1666427811,"answer_id":74162119,"question_id":74160495,"body_markdown":"You probably need to smash the controllers with the same endpoint beginning.\r\nI&#39;d suggest you to remain this annotation `@RequestMapping(path = &quot;/api/foo&quot;)` and just insert inside that class the methods with `@GetMapping(path = &quot;/tar&quot;)`. And other methods could have prefix tar: `&quot;/tar/example&quot;`.\r\n\r\nBut if there are lots of methods starting with this prefix `/api/foo/tar` and the class `FooController` begins to be big enough, it&#39;s nice to keep them separately.","title":"Same prefix endpoint but two different Controllers","body":"<p>You probably need to smash the controllers with the same endpoint beginning.\nI'd suggest you to remain this annotation <code>@RequestMapping(path = &quot;/api/foo&quot;)</code> and just insert inside that class the methods with <code>@GetMapping(path = &quot;/tar&quot;)</code>. And other methods could have prefix tar: <code>&quot;/tar/example&quot;</code>.</p>\n<p>But if there are lots of methods starting with this prefix <code>/api/foo/tar</code> and the class <code>FooController</code> begins to be big enough, it's nice to keep them separately.</p>\n"},{"tags":[],"owner":{"account_id":9792962,"reputation":168,"user_id":7256972,"display_name":"Soumen Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666431040,"creation_date":1666431040,"answer_id":74162411,"question_id":74160495,"body_markdown":"You can have an interface like below:\r\n\r\n&lt;code&gt;\r\n\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(path = &quot;/api&quot;)\r\n    public interface BaseController {\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\nThen every individual controller class can implement the interface like below:\r\n\r\n&lt;code&gt;\r\n\r\n    public class FooController implements BaseController {\r\n      @GetMapping(path = &quot;/foo&quot;)\r\n      // Endpoint to /api/foo\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\nProvided it is possible to change every controller class.","title":"Same prefix endpoint but two different Controllers","body":"<p>You can have an interface like below:</p>\n<code>\n<pre><code>import org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(path = &quot;/api&quot;)\npublic interface BaseController {\n}\n</code></pre>\n</code>\n<p>Then every individual controller class can implement the interface like below:</p>\n<code>\n<pre><code>public class FooController implements BaseController {\n  @GetMapping(path = &quot;/foo&quot;)\n  // Endpoint to /api/foo\n}\n</code></pre>\n</code>\n<p>Provided it is possible to change every controller class.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666432147,"creation_date":1666432147,"answer_id":74162522,"question_id":74160495,"body_markdown":"I think the best practice would be something like \r\n\r\n    /**\r\n     * Class for String constants to use in the application\r\n     */\r\n    public final class WebConstants {\r\n\r\n       public static final String API = &quot;api&quot;;\r\n       ...other constants\r\n    \r\n    }\r\n\r\n    @Controller\r\n    @RequestMapping(path = WebConstants.API + &quot;/foo&quot;)\r\n    public class FooController {\r\n    \r\n      @GetMapping\r\n      // serve something for /api/foo\r\n\r\n      @GetMapping(path = &quot;/tar&quot;)\r\n      // serve something for /api/foo/tar\r\n\r\n    }\r\n    \r\n    // Bar controller\r\n    @Controller\r\n    @RequestMapping(path = WebConstants.API + &quot;/bar&quot;)\r\n    public class BarController {\r\n    \r\n      @GetMapping\r\n      // Serve something for /api/bar\r\n    }\r\n    \r\n    ","title":"Same prefix endpoint but two different Controllers","body":"<p>I think the best practice would be something like</p>\n<pre><code>/**\n * Class for String constants to use in the application\n */\npublic final class WebConstants {\n\n   public static final String API = &quot;api&quot;;\n   ...other constants\n\n}\n\n@Controller\n@RequestMapping(path = WebConstants.API + &quot;/foo&quot;)\npublic class FooController {\n\n  @GetMapping\n  // serve something for /api/foo\n\n  @GetMapping(path = &quot;/tar&quot;)\n  // serve something for /api/foo/tar\n\n}\n\n// Bar controller\n@Controller\n@RequestMapping(path = WebConstants.API + &quot;/bar&quot;)\npublic class BarController {\n\n  @GetMapping\n  // Serve something for /api/bar\n}\n</code></pre>\n"}],"owner":{"account_id":16351115,"reputation":33,"user_id":11809608,"display_name":"Arif Jehda-Oh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74162522,"answer_count":3,"score":2,"last_activity_date":1666432147,"creation_date":1666402063,"question_id":74160495,"body_markdown":"I remember working on a project made in Django where you could create routes that could be given a prefix and then include another URL file for the rest of the endpoint.\r\n```python\r\napi_patterns= [\r\n  url(&#39;foo/&#39;, include(foo.urls)),\r\n  url(&#39;bar/&#39;, include(bar.urls)),\r\n]\r\n\r\nurlpatterns = [\r\n  url(r&#39;api/&#39;, include(api_patterns)),\r\n]\r\n```\r\n\r\nThis implementation would result in endpoints `/api/foo/` and `/api/bar/` and these endpoints would live in separate directories with separate url files.\r\n\r\n\r\n# The question is whether we can implement something equivalent to **Spring Boot**.\r\nI know you can add the prefix to the `@RequestMapping` on all the files.\r\nBut in my current project, we have a lot of controllers that start from the same route prefix and then, later on, differ from each other.\r\n\r\n\r\n```java\r\n// Foo controller\r\n@Controller\r\n@RequestMapping(path = &quot;api/foo&quot;)\r\npublic class FooController {\r\n\r\n  @GetMapping(path = &quot;&quot;)\r\n  // Endpoint to /api/foo\r\n}\r\n\r\n// Bar controller\r\n@Controller\r\n@RequestMapping(path = &quot;api/bar&quot;)\r\npublic class BarController {\r\n\r\n  @GetMapping(path = &quot;&quot;)\r\n  // Endpoint to /api/bar\r\n}\r\n\r\n// Tar controller by foo\r\n@Controller\r\n@RequestMapping(path = &quot;api/foo/tar&quot;)\r\npublic class TarController {\r\n\r\n  @GetMapping(path = &quot;&quot;)\r\n  // Endpoint to /api/foo/tar\r\n}\r\n```\r\nThe endpoint would then look like this `/api/foo`, `/api/bar`, and `/api/foo/tar`.\r\n\r\nHow can I prevent the repeated path prefix on all the files?\r\n\r\n*This routing might be a bad practice for working with API endpoint, I also think that this could be prevented, and that is why I&#39;m asking as a junior developer to try to improve and show responsibility at my first job.*","title":"Same prefix endpoint but two different Controllers","body":"<p>I remember working on a project made in Django where you could create routes that could be given a prefix and then include another URL file for the rest of the endpoint.</p>\n<pre class=\"lang-py prettyprint-override\"><code>api_patterns= [\n  url('foo/', include(foo.urls)),\n  url('bar/', include(bar.urls)),\n]\n\nurlpatterns = [\n  url(r'api/', include(api_patterns)),\n]\n</code></pre>\n<p>This implementation would result in endpoints <code>/api/foo/</code> and <code>/api/bar/</code> and these endpoints would live in separate directories with separate url files.</p>\n<h1>The question is whether we can implement something equivalent to <strong>Spring Boot</strong>.</h1>\n<p>I know you can add the prefix to the <code>@RequestMapping</code> on all the files.\nBut in my current project, we have a lot of controllers that start from the same route prefix and then, later on, differ from each other.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Foo controller\n@Controller\n@RequestMapping(path = &quot;api/foo&quot;)\npublic class FooController {\n\n  @GetMapping(path = &quot;&quot;)\n  // Endpoint to /api/foo\n}\n\n// Bar controller\n@Controller\n@RequestMapping(path = &quot;api/bar&quot;)\npublic class BarController {\n\n  @GetMapping(path = &quot;&quot;)\n  // Endpoint to /api/bar\n}\n\n// Tar controller by foo\n@Controller\n@RequestMapping(path = &quot;api/foo/tar&quot;)\npublic class TarController {\n\n  @GetMapping(path = &quot;&quot;)\n  // Endpoint to /api/foo/tar\n}\n</code></pre>\n<p>The endpoint would then look like this <code>/api/foo</code>, <code>/api/bar</code>, and <code>/api/foo/tar</code>.</p>\n<p>How can I prevent the repeated path prefix on all the files?</p>\n<p><em>This routing might be a bad practice for working with API endpoint, I also think that this could be prevented, and that is why I'm asking as a junior developer to try to improve and show responsibility at my first job.</em></p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1446829538,"post_id":33571857,"comment_id":54921893,"body_markdown":"ElementCollection still stores the collection in a separate table, with one string per row. I don&#39;t know where you read that it stored elements as comma-separated values. You&#39;ll need a custom type, or a JPA attribute converted. Also, annotating a list of strings with GeneratedValue doesn&#39;t make any sense.","body":"ElementCollection still stores the collection in a separate table, with one string per row. I don&#39;t know where you read that it stored elements as comma-separated values. You&#39;ll need a custom type, or a JPA attribute converted. Also, annotating a list of strings with GeneratedValue doesn&#39;t make any sense."},{"owner":{"account_id":6959842,"reputation":4042,"user_id":5339680,"display_name":"Ish"},"score":1,"creation_date":1446832201,"post_id":33571857,"comment_id":54923308,"body_markdown":"you can try AttributeConverters as alternative: http://hantsy.blogspot.com/2013/12/jpa-21-attribute-converter.html","body":"you can try AttributeConverters as alternative: <a href=\"http://hantsy.blogspot.com/2013/12/jpa-21-attribute-converter.html\" rel=\"nofollow noreferrer\">hantsy.blogspot.com/2013/12/jpa-21-attribute-converter.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":6240728,"reputation":1323,"user_id":4854433,"display_name":"T&#250;lio Castro"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1446830829,"creation_date":1446830829,"answer_id":33572326,"question_id":33571857,"body_markdown":"The @ElementCollection requires a table to store multiples rows of values,\r\n\r\nSo you could define as a String column and join/explode in getters and setters, like this\r\n\r\n    private String services;\r\n\r\n    public setServices(String services[]) //Can be Array or List\r\n    {\r\n         // this.services = Iterate services[] and create a comma separated string or Use ArrayUtils\r\n    }\r\n\r\n    public String[] getServices() //Can be Array or List\r\n    {\r\n        // services.split(&quot;,&quot;) to get a list of Strings, then typecast/parse them to Strings before returning or use Arrays.asList(arguments.split(&quot;,&quot;));\r\n    }","title":"JPA: Saving List of values as comma separated values","body":"<p>The @ElementCollection requires a table to store multiples rows of values,</p>\n\n<p>So you could define as a String column and join/explode in getters and setters, like this</p>\n\n<pre><code>private String services;\n\npublic setServices(String services[]) //Can be Array or List\n{\n     // this.services = Iterate services[] and create a comma separated string or Use ArrayUtils\n}\n\npublic String[] getServices() //Can be Array or List\n{\n    // services.split(\",\") to get a list of Strings, then typecast/parse them to Strings before returning or use Arrays.asList(arguments.split(\",\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":912159,"reputation":3129,"user_id":945742,"accept_rate":60,"display_name":"pedorro"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1609963629,"creation_date":1521826010,"answer_id":49455323,"question_id":33571857,"body_markdown":"As mentioned by others in the comments an `AttributeConverter` works pretty well. This one uses Jackson to serialize as a JSON array. I recommend JSON since it cleanly handles delimiter escaping, nulls, quotes, etc.:\r\n\r\n    @Converter\r\n    public class StringListAttributeConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n\r\n        private static final TypeReference&lt;List&lt;String&gt;&gt; TypeRef = new TypeReference&lt;List&lt;String&gt;&gt;(){};\r\n\r\n        @Override\r\n        public String convertToDatabaseColumn (List&lt;String&gt; attribute) {\r\n            if (attribute == null) {\r\n                return null;\r\n            }\r\n            try {\r\n                return ObjectMapperFactory.getInstance().writeValueAsString(attribute);\r\n            }\r\n            catch (IOException ex) {\r\n                throw new UncheckedIOException(ex);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public List&lt;String&gt; convertToEntityAttribute (String dbData) {\r\n            if (dbData == null) {\r\n                return null;\r\n            }\r\n            try {\r\n                return ObjectMapperFactory.getInstance().readValue(dbData, TypeRef);\r\n            }\r\n            catch (IOException ex) {\r\n                throw new UncheckedIOException(ex);\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;ve used this class and it works well in most cases. One caveat I&#39;ve found is that using this converter can confuse some JPA criteria queries, because it expects a type List on the entity, but finds a String in the db.","title":"JPA: Saving List of values as comma separated values","body":"<p>As mentioned by others in the comments an <code>AttributeConverter</code> works pretty well. This one uses Jackson to serialize as a JSON array. I recommend JSON since it cleanly handles delimiter escaping, nulls, quotes, etc.:</p>\n<pre><code>@Converter\npublic class StringListAttributeConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n\n    private static final TypeReference&lt;List&lt;String&gt;&gt; TypeRef = new TypeReference&lt;List&lt;String&gt;&gt;(){};\n\n    @Override\n    public String convertToDatabaseColumn (List&lt;String&gt; attribute) {\n        if (attribute == null) {\n            return null;\n        }\n        try {\n            return ObjectMapperFactory.getInstance().writeValueAsString(attribute);\n        }\n        catch (IOException ex) {\n            throw new UncheckedIOException(ex);\n        }\n    }\n\n    @Override\n    public List&lt;String&gt; convertToEntityAttribute (String dbData) {\n        if (dbData == null) {\n            return null;\n        }\n        try {\n            return ObjectMapperFactory.getInstance().readValue(dbData, TypeRef);\n        }\n        catch (IOException ex) {\n            throw new UncheckedIOException(ex);\n        }\n    }\n}\n</code></pre>\n<p>I've used this class and it works well in most cases. One caveat I've found is that using this converter can confuse some JPA criteria queries, because it expects a type List on the entity, but finds a String in the db.</p>\n"},{"tags":[],"owner":{"account_id":9949440,"reputation":636,"user_id":7362736,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1666431696,"creation_date":1666431696,"answer_id":74162476,"question_id":33571857,"body_markdown":"A more simple variant did the trick for me, no Jackson, but trimming strings:\r\n\r\n    public class CsvTrimmedStringsConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n      @Override\r\n      public String convertToDatabaseColumn(List&lt;String&gt; attribute) {\r\n        return attribute == null\r\n            ? null\r\n            : attribute.stream().map(String::trim).collect(Collectors.joining(&quot;,&quot;));\r\n      }\r\n    \r\n      @Override\r\n      public List&lt;String&gt; convertToEntityAttribute(String dbData) {\r\n        return dbData == null\r\n            ? null\r\n            : Arrays.stream(dbData.split(&quot;,&quot;)).map(String::trim).collect(Collectors.toList());\r\n      }\r\n    }\r\n\r\n","title":"JPA: Saving List of values as comma separated values","body":"<p>A more simple variant did the trick for me, no Jackson, but trimming strings:</p>\n<pre><code>public class CsvTrimmedStringsConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n  @Override\n  public String convertToDatabaseColumn(List&lt;String&gt; attribute) {\n    return attribute == null\n        ? null\n        : attribute.stream().map(String::trim).collect(Collectors.joining(&quot;,&quot;));\n  }\n\n  @Override\n  public List&lt;String&gt; convertToEntityAttribute(String dbData) {\n    return dbData == null\n        ? null\n        : Arrays.stream(dbData.split(&quot;,&quot;)).map(String::trim).collect(Collectors.toList());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1110538,"reputation":13397,"user_id":1101083,"accept_rate":70,"display_name":"Himanshu Yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18585,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":33572326,"answer_count":3,"score":15,"last_activity_date":1666431696,"creation_date":1446829189,"question_id":33571857,"body_markdown":"I am receiving a simple list of values part of JSON request which I want to save as comma separated values. Tried using following but it did not work.\r\n\r\n    @Column(nullable = true)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private ArrayList&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\r\n\r\nand \r\n\r\n    @Column(nullable = true)\r\n    @ElementCollection(targetClass = String.class)\r\n    private List&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\r\n\r\n`@ElementCollection` threw  an exception saying `table services does not exist`.","title":"JPA: Saving List of values as comma separated values","body":"<p>I am receiving a simple list of values part of JSON request which I want to save as comma separated values. Tried using following but it did not work.</p>\n\n<pre><code>@Column(nullable = true)\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate ArrayList&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Column(nullable = true)\n@ElementCollection(targetClass = String.class)\nprivate List&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\n</code></pre>\n\n<p><code>@ElementCollection</code> threw  an exception saying <code>table services does not exist</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":3,"creation_date":1666335757,"post_id":74149845,"comment_id":130916938,"body_markdown":"why don&#39;t you print out the actual class name and see why?","body":"why don&#39;t you print out the actual class name and see why?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666336089,"post_id":74149845,"comment_id":130917039,"body_markdown":"just guessing: besides the actual test method, Junit will also run @Before annotated method","body":"just guessing: besides the actual test method, Junit will also run @Before annotated method"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1666345851,"post_id":74149845,"comment_id":130920248,"body_markdown":"In the second code snippet you are importing some class `KeyAgreementSpi`. It could be that the class you are importing is not `javax.crypto.KeyAgreementSpi` but for example `org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementSpi`. Replace `newInstance instanceof KeyAgreementSpi` with `newInstance instanceof javax.crypto.KeyAgreementSpi`.","body":"In the second code snippet you are importing some class <code>KeyAgreementSpi</code>. It could be that the class you are importing is not <code>javax.crypto.KeyAgreementSpi</code> but for example <code>org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementS&zwnj;&#8203;pi</code>. Replace <code>newInstance instanceof KeyAgreementSpi</code> with <code>newInstance instanceof javax.crypto.KeyAgreementSpi</code>."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666431270,"creation_date":1666431270,"answer_id":74162438,"question_id":74149845,"body_markdown":"Your problem can be easily explained by importing a `KeyAgreementSpi` class different from `javax.crypto.KeyAgreementSpi`.\r\n\r\nThe following example requires the dependency &quot;org.bouncycastle:pcprov-jdk15on&quot; and prints &quot;true&quot; and &quot;false&quot;:\r\n\r\n    import org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementSpi;\r\n    \r\n    import java.lang.reflect.Constructor;\r\n    \r\n    public class KeyAgreementTest {\r\n        public static void main(String[] args) throws Exception{\r\n            Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\r\n            Class&lt;?&gt;[] empty = {};\r\n            Constructor&lt;?&gt; con = clazz.getConstructor(empty);\r\n            Object newInstance = con.newInstance();\r\n            System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\r\n            System.out.println(newInstance instanceof KeyAgreementSpi);\r\n        }\r\n    }\r\n\r\n","title":"Why the same code has different behaviors between main and junit test","body":"<p>Your problem can be easily explained by importing a <code>KeyAgreementSpi</code> class different from <code>javax.crypto.KeyAgreementSpi</code>.</p>\n<p>The following example requires the dependency &quot;org.bouncycastle:pcprov-jdk15on&quot; and prints &quot;true&quot; and &quot;false&quot;:</p>\n<pre><code>import org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementSpi;\n\nimport java.lang.reflect.Constructor;\n\npublic class KeyAgreementTest {\n    public static void main(String[] args) throws Exception{\n        Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\n        Class&lt;?&gt;[] empty = {};\n        Constructor&lt;?&gt; con = clazz.getConstructor(empty);\n        Object newInstance = con.newInstance();\n        System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\n        System.out.println(newInstance instanceof KeyAgreementSpi);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10778132,"reputation":29,"user_id":7929415,"display_name":"Bing"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666431270,"creation_date":1666335603,"question_id":74149845,"body_markdown":"I have a code snippets, the output are different when I use main and JUnit run it.\r\n\r\nMy question: why the output of these two ways is not the same?\r\n\r\nI tried search on google, but no good answers. So asking here, hoping someone can explain.\r\n\r\n    // This output is true\r\n    public static void main(String[] args) throws Exception{\r\n        Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\r\n        Class&lt;?&gt;[] empty = {};\r\n        Constructor&lt;?&gt; con = clazz.getConstructor(empty);\r\n        Object newInstance = con.newInstance();\r\n        System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\r\n    }\r\n\r\n    // This output is false\r\n    @Test\r\n    public void test() throws Exception {\r\n        Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\r\n        Class&lt;?&gt;[] empty = {};\r\n        Constructor&lt;?&gt; con = clazz.getConstructor(empty);\r\n        Object newInstance = con.newInstance();\r\n        System.out.println(newInstance instanceof KeyAgreementSpi);\r\n    }","title":"Why the same code has different behaviors between main and junit test","body":"<p>I have a code snippets, the output are different when I use main and JUnit run it.</p>\n<p>My question: why the output of these two ways is not the same?</p>\n<p>I tried search on google, but no good answers. So asking here, hoping someone can explain.</p>\n<pre><code>// This output is true\npublic static void main(String[] args) throws Exception{\n    Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\n    Class&lt;?&gt;[] empty = {};\n    Constructor&lt;?&gt; con = clazz.getConstructor(empty);\n    Object newInstance = con.newInstance();\n    System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\n}\n\n// This output is false\n@Test\npublic void test() throws Exception {\n    Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\n    Class&lt;?&gt;[] empty = {};\n    Constructor&lt;?&gt; con = clazz.getConstructor(empty);\n    Object newInstance = con.newInstance();\n    System.out.println(newInstance instanceof KeyAgreementSpi);\n}\n</code></pre>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"score":0,"creation_date":1510297272,"post_id":47217098,"comment_id":81383928,"body_markdown":"Is that useful for you? \nhttps://github.com/meetup/timeywimey/blob/master/timeywimey-core/src/main/java/com/meetup/timeywimey/JodaConverters.java","body":"Is that useful for you?  <a href=\"https://github.com/meetup/timeywimey/blob/master/timeywimey-core/src/main/java/com/meetup/timeywimey/JodaConverters.java\" rel=\"nofollow noreferrer\">github.com/meetup/timeywimey/blob/master/timeywimey-core/src&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1510299834,"post_id":47217098,"comment_id":81385161,"body_markdown":"I don’t think you meant to divide by 1000 the last two times you did it in the last code snippet, with the years and with the months.","body":"I don’t think you meant to divide by 1000 the last two times you did it in the last code snippet, with the years and with the months."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1510304283,"post_id":47217098,"comment_id":81387260,"body_markdown":"You may want to look into [`org.threeten.extra.PeriodDuration`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/PeriodDuration.html) in the ThreeTen Extra project.","body":"You may want to look into <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/PeriodDuration.html\" rel=\"nofollow noreferrer\"><code>org.threeten.extra.PeriodDuration</code></a> in the ThreeTen Extra project."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1510304359,"post_id":47217098,"comment_id":81387308,"body_markdown":"I think (like you?) I would prefer to leave all parsing to the library methods. One option is to try parsing both as a `Period` and as a `Duration` and take the one that works.","body":"I think (like you?) I would prefer to leave all parsing to the library methods. One option is to try parsing both as a <code>Period</code> and as a <code>Duration</code> and take the one that works."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1510304503,"post_id":47217098,"comment_id":81387396,"body_markdown":"Are you sure your period is always a `Period` or a `Duration`? Or put the opposite way, could something like `P1MT1H` be present in your data?","body":"Are you sure your period is always a <code>Period</code> or a <code>Duration</code>? Or put the opposite way, could something like <code>P1MT1H</code> be present in your data?"},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1510306204,"post_id":47217098,"comment_id":81388436,"body_markdown":"If you parse to a `java.time.Duration` then the original information if it was one day or 86400 seconds is lost because that type only stores seconds and nanoseconds. And about `java.time.Period`, it automatically convert a week to seven days which might not be desirable for you. IMHO I would avoid the conversion because the `java.time`-types are too limited here, compared with JodaTime.","body":"If you parse to a <code>java.time.Duration</code> then the original information if it was one day or 86400 seconds is lost because that type only stores seconds and nanoseconds. And about <code>java.time.Period</code>, it automatically convert a week to seven days which might not be desirable for you. IMHO I would avoid the conversion because the <code>java.time</code>-types are too limited here, compared with JodaTime."}],"answers":[{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1510333106,"creation_date":1510314850,"answer_id":47222220,"question_id":47217098,"body_markdown":"Java-8 does not have such a complex duration type like the class `org.joda.time.Period`. But you can create your own implementation of the interface `TemporalAmount` in a straight-forward way:\r\n\r\n    import java.time.DateTimeException;    \r\n    import java.time.temporal.ChronoUnit;\r\n    import java.time.temporal.Temporal;\r\n    import java.time.temporal.TemporalAmount;\r\n    import java.time.temporal.TemporalUnit;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    import static java.time.temporal.ChronoUnit.*;\r\n    \r\n    public class SimpleDuration implements TemporalAmount {\r\n    \r\n    \tprivate static final List&lt;TemporalUnit&gt; SUPPORTED_UNITS =\r\n    \t\tCollections.unmodifiableList(Arrays.asList(YEARS, MONTHS, DAYS, HOURS, MINUTES));\r\n    \r\n    \tprivate final int amount;\r\n    \tprivate final ChronoUnit unit;\r\n    \r\n    \tprivate SimpleDuration(int amount, ChronoUnit unit) {\r\n    \t\tthis.amount = amount;\r\n    \t\tthis.unit = unit;\r\n    \t}\r\n    \r\n    \tpublic static SimpleDuration of(int amount, ChronoUnit unit) {\r\n    \t\tif (SUPPORTED_UNITS.contains(unit)) {\r\n    \t\t\treturn new SimpleDuration(amount, unit);\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Not supported: &quot; + unit);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic long get(TemporalUnit unit) {\r\n    \t\tif (this.unit.equals(unit)) {\r\n    \t\t  return this.amount;\r\n    \t\t}\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;TemporalUnit&gt; getUnits() {\r\n    \t\treturn SUPPORTED_UNITS;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Temporal addTo(Temporal temporal) {\r\n    \t\treturn temporal.plus(this.amount, this.unit);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Temporal subtractFrom(Temporal temporal) {\r\n    \t\treturn temporal.minus(this.amount, this.unit);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (obj instanceof SimpleDuration) {\r\n    \t\t\tSimpleDuration that = (SimpleDuration) obj;\r\n    \t\t\treturn this.unit == that.unit &amp;&amp; this.amount == that.amount;\r\n    \t\t} else {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn this.unit.hashCode() + 37 * Integer.hashCode(this.amount);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tif (this.amount &lt; 0) {\r\n    \t\t\tsb.append(&#39;-&#39;);\r\n    \t\t}\r\n    \t\tsb.append(&#39;P&#39;);\r\n    \t\tif (this.unit.isTimeBased()) {\r\n    \t\t\tsb.append(&#39;T&#39;);\r\n    \t\t}\r\n    \t\tsb.append(Math.abs(this.amount));\r\n    \t\tswitch (this.unit) {\r\n    \r\n    \t\t\tcase YEARS :\r\n    \t\t\t\tsb.append(&#39;Y&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase MONTHS :\r\n    \t\t\t\tsb.append(&#39;M&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase DAYS :\r\n    \t\t\t\tsb.append(&#39;D&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase HOURS :\r\n    \t\t\t\tsb.append(&#39;H&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase MINUTES :\r\n    \t\t\t\tsb.append(&#39;M&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tdefault :\r\n    \t\t\t\tthrow new UnsupportedOperationException(this.unit.name());\r\n    \t\t}\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \r\n    \tpublic static SimpleDuration parse(String input) {\r\n    \t\tint len = input.length();\r\n    \t\tint index = 0;\r\n    \t\tboolean negative = false;\r\n    \t\tif (len &gt; 0 &amp;&amp; input.charAt(0) == &#39;-&#39;) {\r\n    \t\t\tnegative = true; // for XML-Schema (not for ISO-8601)\r\n    \t\t\tindex++;\r\n    \t\t}\r\n    \t\tif (len &gt;= 3 &amp;&amp; input.charAt(index) == &#39;P&#39;) {\r\n    \t\t\tboolean timeBased = (input.charAt(index + 1) == &#39;T&#39;);\r\n    \t\t\tchar last = input.charAt(len - 1);\r\n    \t\t\tChronoUnit unit;\r\n    \t\t\tswitch (last) {\r\n    \r\n    \t\t\t\tcase &#39;Y&#39; :\r\n    \t\t\t\t\tunit = YEARS;\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &#39;M&#39; :\r\n    \t\t\t\t\tunit = (timeBased ? MINUTES : MONTHS);\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &#39;D&#39; :\r\n    \t\t\t\t\tunit = DAYS;\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &#39;H&#39; :\r\n    \t\t\t\t\tunit = HOURS;\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tdefault :\r\n    \t\t\t\t\tthrow new DateTimeException(\r\n    \t\t\t\t\t\t&quot;Unknown unit symbol found at last position: &quot; + input\r\n    \t\t\t\t\t);\r\n    \t\t\t}\r\n    \t\t\tif (unit.isTimeBased() != timeBased) {\r\n    \t\t\t\tthrow new DateTimeException(&quot;Invalid XML-Schema-format: &quot; + input);\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t  int amount =\r\n    \t\t\t    Integer.parseInt(\r\n    \t\t\t      input.substring(index).substring(timeBased ? 2 : 1, len - 1 - index));\r\n    \t\t\t  if (amount &lt; 0) {\r\n    \t\t\t    throw new DateTimeException(\r\n    \t\t\t\t  &quot;XML-Schema does not allow negative amounts inside: &quot; + input);\r\n    \t\t\t  }\r\n    \t\t\t  return SimpleDuration.of(negative ? -amount : amount, unit);\r\n    \t\t\t} catch (NumberFormatException ex) {\r\n    \t\t\t\tthrow new DateTimeException(&quot;Invalid XML-Schema-format: &quot; + input, ex);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tthrow new DateTimeException(&quot;Cannot parse: &quot; + input);\r\n    \t}\r\n    \r\n    \tpublic static void main(String... args) {\r\n    \t\tSystem.out.println(parse(&quot;-PT10M&quot;)); // -PT10M\r\n    \t}\r\n    }","title":"Converting org.joda.time.Period to java.time.Period","body":"<p>Java-8 does not have such a complex duration type like the class <code>org.joda.time.Period</code>. But you can create your own implementation of the interface <code>TemporalAmount</code> in a straight-forward way:</p>\n\n<pre><code>import java.time.DateTimeException;    \nimport java.time.temporal.ChronoUnit;\nimport java.time.temporal.Temporal;\nimport java.time.temporal.TemporalAmount;\nimport java.time.temporal.TemporalUnit;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\nimport static java.time.temporal.ChronoUnit.*;\n\npublic class SimpleDuration implements TemporalAmount {\n\n    private static final List&lt;TemporalUnit&gt; SUPPORTED_UNITS =\n        Collections.unmodifiableList(Arrays.asList(YEARS, MONTHS, DAYS, HOURS, MINUTES));\n\n    private final int amount;\n    private final ChronoUnit unit;\n\n    private SimpleDuration(int amount, ChronoUnit unit) {\n        this.amount = amount;\n        this.unit = unit;\n    }\n\n    public static SimpleDuration of(int amount, ChronoUnit unit) {\n        if (SUPPORTED_UNITS.contains(unit)) {\n            return new SimpleDuration(amount, unit);\n        } else {\n            throw new IllegalArgumentException(\"Not supported: \" + unit);\n        }\n    }\n\n    @Override\n    public long get(TemporalUnit unit) {\n        if (this.unit.equals(unit)) {\n          return this.amount;\n        }\n        return 0;\n    }\n\n    @Override\n    public List&lt;TemporalUnit&gt; getUnits() {\n        return SUPPORTED_UNITS;\n    }\n\n    @Override\n    public Temporal addTo(Temporal temporal) {\n        return temporal.plus(this.amount, this.unit);\n    }\n\n    @Override\n    public Temporal subtractFrom(Temporal temporal) {\n        return temporal.minus(this.amount, this.unit);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof SimpleDuration) {\n            SimpleDuration that = (SimpleDuration) obj;\n            return this.unit == that.unit &amp;&amp; this.amount == that.amount;\n        } else {\n            return false;\n        }\n    }\n\n    @Override\n    public int hashCode() {\n        return this.unit.hashCode() + 37 * Integer.hashCode(this.amount);\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        if (this.amount &lt; 0) {\n            sb.append('-');\n        }\n        sb.append('P');\n        if (this.unit.isTimeBased()) {\n            sb.append('T');\n        }\n        sb.append(Math.abs(this.amount));\n        switch (this.unit) {\n\n            case YEARS :\n                sb.append('Y');\n                break;\n\n            case MONTHS :\n                sb.append('M');\n                break;\n\n            case DAYS :\n                sb.append('D');\n                break;\n\n            case HOURS :\n                sb.append('H');\n                break;\n\n            case MINUTES :\n                sb.append('M');\n                break;\n\n            default :\n                throw new UnsupportedOperationException(this.unit.name());\n        }\n        return sb.toString();\n    }\n\n    public static SimpleDuration parse(String input) {\n        int len = input.length();\n        int index = 0;\n        boolean negative = false;\n        if (len &gt; 0 &amp;&amp; input.charAt(0) == '-') {\n            negative = true; // for XML-Schema (not for ISO-8601)\n            index++;\n        }\n        if (len &gt;= 3 &amp;&amp; input.charAt(index) == 'P') {\n            boolean timeBased = (input.charAt(index + 1) == 'T');\n            char last = input.charAt(len - 1);\n            ChronoUnit unit;\n            switch (last) {\n\n                case 'Y' :\n                    unit = YEARS;\n                    break;\n\n                case 'M' :\n                    unit = (timeBased ? MINUTES : MONTHS);\n                    break;\n\n                case 'D' :\n                    unit = DAYS;\n                    break;\n\n                case 'H' :\n                    unit = HOURS;\n                    break;\n\n                default :\n                    throw new DateTimeException(\n                        \"Unknown unit symbol found at last position: \" + input\n                    );\n            }\n            if (unit.isTimeBased() != timeBased) {\n                throw new DateTimeException(\"Invalid XML-Schema-format: \" + input);\n            }\n            try {\n              int amount =\n                Integer.parseInt(\n                  input.substring(index).substring(timeBased ? 2 : 1, len - 1 - index));\n              if (amount &lt; 0) {\n                throw new DateTimeException(\n                  \"XML-Schema does not allow negative amounts inside: \" + input);\n              }\n              return SimpleDuration.of(negative ? -amount : amount, unit);\n            } catch (NumberFormatException ex) {\n                throw new DateTimeException(\"Invalid XML-Schema-format: \" + input, ex);\n            }\n        }\n        throw new DateTimeException(\"Cannot parse: \" + input);\n    }\n\n    public static void main(String... args) {\n        System.out.println(parse(\"-PT10M\")); // -PT10M\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2499,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":47222220,"answer_count":1,"score":5,"last_activity_date":1666431050,"creation_date":1510296466,"question_id":47217098,"body_markdown":"I am trying to replace org.joda.time.Period with java.time.\r\n\r\nWe have the following values stored in DB. \r\n\r\n    P1M, P1Y, P1D, PT1H, PT1M\r\n\r\nJust to parse this value:\r\n\r\n    Period monthly = ISOPeriodFormat.standard().parsePeriod(&lt;One of the above value from DB&gt;);\r\n\r\nThis is simple and getting Period as expected. But, now replacing with java.time is troublesome.\r\n\r\nBecause, `P1D, P1M, P1Y` should be parsed using the below code:\r\n\r\n    java.time.Period period = java.time.Period.parse(&quot;P1M&quot;);\r\n\r\nAnd, `P1H and P1D` should be parsed using the below code.\r\n\r\n    Duration dailyD = Duration.parse(&quot;P1D&quot;);\r\n\r\nSo, I might need some string check also like:\r\n\r\n    if(value.startsWith(&quot;PT&quot;)) {\r\n       // Use java.time.Duration\r\n    } else {\r\n       // Use java.time.Period\r\n    }\r\n\r\nIs there any better code for this logic?\r\n\r\nAlso, Finally, I will have to find the number of occurances from some startTime to till date based on the above java.time.Period or java.time.Duration.\r\n\r\nLike, if startDateTime is `01/01/2015 08:30`:\r\n\r\n    LocalDateTime startDateTime = // the above startDateTime ..\r\n    \r\n        if(value.startsWith(&quot;PT&quot;)) {\r\n           // Use java.time.Duration\r\n         ChronoUnit.SECONDS.between(startDateTime,curentDate)/(duration.toMillis()/1000)\r\n        } else {\r\n    \r\n     if(value.endsWith(&quot;Y&quot;)) {\r\n           // Use java.time.Period\r\n    ChronoUnit.YEARS.between(startDateTime,curentDate)/(period.getYears()/1000)\r\n    } else if(value.endsWith(&quot;M&quot;)){\r\n     ChronoUnit.MONTHS.between(startDateTime,curentDate)/(period.getMonths()/1000)\r\n    }\r\n\r\n\r\nIs there any other better way without this value parsing?\r\n        \r\nMy input could have P2M, P10M, P2Y, PT15M, PT10M. It won&#39;t have the combination of both Period and time like P1MT10M. But any number of months, years or days possible.","title":"Converting org.joda.time.Period to java.time.Period","body":"<p>I am trying to replace org.joda.time.Period with java.time.</p>\n<p>We have the following values stored in DB.</p>\n<pre><code>P1M, P1Y, P1D, PT1H, PT1M\n</code></pre>\n<p>Just to parse this value:</p>\n<pre><code>Period monthly = ISOPeriodFormat.standard().parsePeriod(&lt;One of the above value from DB&gt;);\n</code></pre>\n<p>This is simple and getting Period as expected. But, now replacing with java.time is troublesome.</p>\n<p>Because, <code>P1D, P1M, P1Y</code> should be parsed using the below code:</p>\n<pre><code>java.time.Period period = java.time.Period.parse(&quot;P1M&quot;);\n</code></pre>\n<p>And, <code>P1H and P1D</code> should be parsed using the below code.</p>\n<pre><code>Duration dailyD = Duration.parse(&quot;P1D&quot;);\n</code></pre>\n<p>So, I might need some string check also like:</p>\n<pre><code>if(value.startsWith(&quot;PT&quot;)) {\n   // Use java.time.Duration\n} else {\n   // Use java.time.Period\n}\n</code></pre>\n<p>Is there any better code for this logic?</p>\n<p>Also, Finally, I will have to find the number of occurances from some startTime to till date based on the above java.time.Period or java.time.Duration.</p>\n<p>Like, if startDateTime is <code>01/01/2015 08:30</code>:</p>\n<pre><code>LocalDateTime startDateTime = // the above startDateTime ..\n\n    if(value.startsWith(&quot;PT&quot;)) {\n       // Use java.time.Duration\n     ChronoUnit.SECONDS.between(startDateTime,curentDate)/(duration.toMillis()/1000)\n    } else {\n\n if(value.endsWith(&quot;Y&quot;)) {\n       // Use java.time.Period\nChronoUnit.YEARS.between(startDateTime,curentDate)/(period.getYears()/1000)\n} else if(value.endsWith(&quot;M&quot;)){\n ChronoUnit.MONTHS.between(startDateTime,curentDate)/(period.getMonths()/1000)\n}\n</code></pre>\n<p>Is there any other better way without this value parsing?</p>\n<p>My input could have P2M, P10M, P2Y, PT15M, PT10M. It won't have the combination of both Period and time like P1MT10M. But any number of months, years or days possible.</p>\n"},{"tags":["java","windows","textfield","touchscreen"],"answers":[{"tags":[],"owner":{"account_id":1020946,"reputation":8274,"user_id":1031312,"accept_rate":96,"display_name":"Ozzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427815,"creation_date":1335090404,"answer_id":10267161,"question_id":10267107,"body_markdown":"You can&#39;t do that but if you use java.awt.Robot... allow the user to draw a box around the textfield in the other application to get its coordinates then remember it in your program. Or you could just hardcode the coordinates if they are always in the same place.\r\n\r\nOnce you know the coordinates you can listen to the mouse input, so when the mousePressed event is triggered, if the coords are within the text box, fire off your method for onscreen keyboard to appear.\r\n\r\nThis may not work because the user has to have the privilege and allow your app to read the native mouse input.\r\n","title":"detect text field of an windows application in java","body":"<p>You can't do that but if you use java.awt.Robot... allow the user to draw a box around the textfield in the other application to get its coordinates then remember it in your program. Or you could just hardcode the coordinates if they are always in the same place.</p>\n<p>Once you know the coordinates you can listen to the mouse input, so when the mousePressed event is triggered, if the coords are within the text box, fire off your method for onscreen keyboard to appear.</p>\n<p>This may not work because the user has to have the privilege and allow your app to read the native mouse input.</p>\n"}],"owner":{"account_id":295243,"reputation":546,"user_id":599552,"accept_rate":81,"display_name":"fean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666427815,"creation_date":1335089843,"question_id":10267107,"body_markdown":"A computer with touch monitor running in windows OS.\r\nI need to write a java code to detect when user touch in a textfield and then show the windows onscreen keyboard and hide the onscreen keyboard when it is not a textfield.\r\n\r\nI have done the work to show onscreen keyboard using :\r\n\r\n    Runtime.getRuntime().exec(&quot;cmd /c C:\\\\Windows\\\\System32\\\\osk.exe&quot;);\r\n\r\n\r\nbut how can i detect textfield (of another application which is NOT written in java) ?\r\n","title":"detect text field of an windows application in java","body":"<p>A computer with touch monitor running in windows OS.\nI need to write a java code to detect when user touch in a textfield and then show the windows onscreen keyboard and hide the onscreen keyboard when it is not a textfield.</p>\n\n<p>I have done the work to show onscreen keyboard using :</p>\n\n<pre><code>Runtime.getRuntime().exec(\"cmd /c C:\\\\Windows\\\\System32\\\\osk.exe\");\n</code></pre>\n\n<p>but how can i detect textfield (of another application which is NOT written in java) ?</p>\n"},{"tags":["java","audio","applet"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1322352221,"post_id":8281942,"comment_id":10199288,"body_markdown":"*&quot;does get invoked however NO SOUND!&quot;*  DON&#39;T SHOUT!  Try the code with the simple [`leftright.wav`](http://pscode.org/media/#sound).  Does your homework specify that this must be an applet?","body":"<i>&quot;does get invoked however NO SOUND!&quot;</i>  DON&#39;T SHOUT!  Try the code with the simple <a href=\"http://pscode.org/media/#sound\" rel=\"nofollow noreferrer\"><code>leftright.wav</code></a>.  Does your homework specify that this must be an applet?"},{"owner":{"account_id":368050,"reputation":3969,"user_id":714618,"accept_rate":100,"display_name":"Dennis"},"score":0,"creation_date":1322353565,"post_id":8281942,"comment_id":10199416,"body_markdown":"Wow... the leftright.wav works!! So I am guessing I have to try a different type of .wav file?","body":"Wow... the leftright.wav works!! So I am guessing I have to try a different type of .wav file?"}],"answers":[{"tags":[],"owner":{"account_id":1020946,"reputation":8274,"user_id":1031312,"accept_rate":96,"display_name":"Ozzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427722,"creation_date":1322345383,"answer_id":8281999,"question_id":8281942,"body_markdown":"Do you mean after you build your program and run it the sound doesn&#39;t play? You should either embed the wav file into your resource folder and use getResources() to find the file. Or the other option would be to scan your local directory to find the file object with a matching name and file extension.\r\n\r\nAlso you are throwing the Malformed URL exception so you wont get an error if the URL is wrong. You shouldn&#39;t throw it, use `try {...} catch (MalformedURLException mex) { system.out.println(mex.getMessage()) }` instead.\r\n","title":"Java AudioClip - no sound, no error","body":"<p>Do you mean after you build your program and run it the sound doesn't play? You should either embed the wav file into your resource folder and use getResources() to find the file. Or the other option would be to scan your local directory to find the file object with a matching name and file extension.</p>\n<p>Also you are throwing the Malformed URL exception so you wont get an error if the URL is wrong. You shouldn't throw it, use <code>try {...} catch (MalformedURLException mex) { system.out.println(mex.getMessage()) }</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1322354128,"creation_date":1322354128,"answer_id":8282750,"question_id":8281942,"body_markdown":"Try the code with the simple [leftright.wav](http://pscode.org/media/#sound). \r\n\r\n&gt; ..the leftright.wav works!! \r\n\r\nMost media formats (sound, image, video etc.) are what is known as &#39;container formats&#39;.  The encoding of the media might be in any number of types.  Java reads some encodings, but not others.\r\n\r\n&gt; So I am guessing I have to try a different type of .wav file?\r\n\r\nIf it is for an application resource, I&#39;d tend to convert the current WAV to a type that is compatible with Java Sound.","title":"Java AudioClip - no sound, no error","body":"<p>Try the code with the simple <a href=\"http://pscode.org/media/#sound\" rel=\"nofollow\">leftright.wav</a>. </p>\n\n<blockquote>\n  <p>..the leftright.wav works!! </p>\n</blockquote>\n\n<p>Most media formats (sound, image, video etc.) are what is known as 'container formats'.  The encoding of the media might be in any number of types.  Java reads some encodings, but not others.</p>\n\n<blockquote>\n  <p>So I am guessing I have to try a different type of .wav file?</p>\n</blockquote>\n\n<p>If it is for an application resource, I'd tend to convert the current WAV to a type that is compatible with Java Sound.</p>\n"}],"owner":{"account_id":368050,"reputation":3969,"user_id":714618,"accept_rate":100,"display_name":"Dennis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":8282750,"answer_count":2,"score":0,"last_activity_date":1666427722,"creation_date":1322344666,"question_id":8281942,"body_markdown":"I&#39;ve read prior issues about java AudioClip and have done my research, yet I still cannot figure out why this\r\nAudioClip does not play. The .wav clip plays fine in Eclipse IDE, it is also in the appropriate directory; if the file\r\nis in the incorrect directory this code snippet throws an error message.\r\n\r\nMy professor asked that we play the audioClip using this format also, `audioClip = Applet.newAudioClip(new File(filePath).toURI().toURL());`\r\n\r\nWhen executed the play method at the bottom does get invoked however NO SOUND! \r\nAny help would be appreciated. \r\n\r\n\r\n\r\n    import java.applet.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.io.File;\r\n    import java.net.MalformedURLException;\r\n    \r\n    public class PlaySoundApplet extends Applet implements ActionListener\r\n    {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tButton play,stop;\r\n    \tAudioClip audioClip;\r\n    \r\n      public void init()\r\n      {\r\n    \t  play = new Button(&quot;Play&quot;);\r\n    \t  add(play);\r\n    \t  play.addActionListener(this);\r\n    \t  \r\n    \t  stop = new Button(&quot;Stop&quot;);\r\n    \t  add(stop);\r\n    \t  stop.addActionListener(this);\r\n    \t  \r\n    \t  try\r\n    \t  {  \r\n    \t\t  String filePath = &quot;.&quot; + File.separator + &quot;audio&quot; + File.separator + &quot;island_music.wav&quot;;\r\n    \t\t  \r\n    \t\t  File file = new File(filePath);\r\n    \t\t  \r\n    \t\t  if (file.exists())\r\n    \t\t  {\r\n    \t\t\t  audioClip = Applet.newAudioClip(file.toURI().toURL());\r\n    \t\t  }\r\n    \t\t  else\r\n    \t\t  {\r\n    \t\t\t  throw new RuntimeException(&quot;Directory &quot; + filePath + &quot; does not exist&quot;); //debugging\r\n    \t\t  }\r\n    \t  }\r\n    \t  catch (MalformedURLException malformedURLException)\r\n    \t  {\r\n    \t\t  throw new RuntimeException(&quot;Malformed URL: &quot; + malformedURLException);  //debugging\r\n    \t  }\r\n      }\r\n      \r\n      public void actionPerformed(ActionEvent ae)\r\n      {\r\n    \t  Button source = (Button)ae.getSource();\r\n    \t  \r\n    \t  if (source.getLabel() == &quot;Play&quot;)\r\n    \t  {\r\n    \t\t  audioClip.play();\r\n    \t\t  System.out.println(&quot;Play was executed&quot;);\r\n    \t  }\r\n    \t  else if(source.getLabel() == &quot;Stop&quot;)\r\n    \t  {\r\n    \t\t  audioClip.stop();\r\n    \t\t  System.out.println(&quot;Stop was executed&quot;);\r\n    \t  }\r\n      }\r\n    }","title":"Java AudioClip - no sound, no error","body":"<p>I've read prior issues about java AudioClip and have done my research, yet I still cannot figure out why this\nAudioClip does not play. The .wav clip plays fine in Eclipse IDE, it is also in the appropriate directory; if the file\nis in the incorrect directory this code snippet throws an error message.</p>\n\n<p>My professor asked that we play the audioClip using this format also, <code>audioClip = Applet.newAudioClip(new File(filePath).toURI().toURL());</code></p>\n\n<p>When executed the play method at the bottom does get invoked however NO SOUND! \nAny help would be appreciated. </p>\n\n<pre><code>import java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.io.File;\nimport java.net.MalformedURLException;\n\npublic class PlaySoundApplet extends Applet implements ActionListener\n{\n    private static final long serialVersionUID = 1L;\n    Button play,stop;\n    AudioClip audioClip;\n\n  public void init()\n  {\n      play = new Button(\"Play\");\n      add(play);\n      play.addActionListener(this);\n\n      stop = new Button(\"Stop\");\n      add(stop);\n      stop.addActionListener(this);\n\n      try\n      {  \n          String filePath = \".\" + File.separator + \"audio\" + File.separator + \"island_music.wav\";\n\n          File file = new File(filePath);\n\n          if (file.exists())\n          {\n              audioClip = Applet.newAudioClip(file.toURI().toURL());\n          }\n          else\n          {\n              throw new RuntimeException(\"Directory \" + filePath + \" does not exist\"); //debugging\n          }\n      }\n      catch (MalformedURLException malformedURLException)\n      {\n          throw new RuntimeException(\"Malformed URL: \" + malformedURLException);  //debugging\n      }\n  }\n\n  public void actionPerformed(ActionEvent ae)\n  {\n      Button source = (Button)ae.getSource();\n\n      if (source.getLabel() == \"Play\")\n      {\n          audioClip.play();\n          System.out.println(\"Play was executed\");\n      }\n      else if(source.getLabel() == \"Stop\")\n      {\n          audioClip.stop();\n          System.out.println(\"Stop was executed\");\n      }\n  }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway","api-gateway"],"answers":[{"tags":[],"owner":{"account_id":4092737,"reputation":129,"user_id":3360335,"accept_rate":86,"display_name":"invincibles04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427472,"creation_date":1666427472,"answer_id":74162089,"question_id":74061774,"body_markdown":"Decided to use the `Use Lambda Proxy integration` option, this will automatically map the parameters when the request is received.\r\n","title":"AWS API Gateway path params throws Null pointer exception in Java application","body":"<p>Decided to use the <code>Use Lambda Proxy integration</code> option, this will automatically map the parameters when the request is received.</p>\n"}],"owner":{"account_id":4092737,"reputation":129,"user_id":3360335,"accept_rate":86,"display_name":"invincibles04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666427472,"creation_date":1665694996,"question_id":74061774,"body_markdown":"I have an API gateway connected to a lambda function for a GET request by email using path params `/ticket-order/{email}`\r\n\r\n[![API Gateway path params][1]][1]\r\n\r\n\r\nI have also configured Integration Request where I&#39;m setting a mapping template:\r\n\r\n[![Mapping Template][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eoMPy.png\r\n  [2]: https://i.stack.imgur.com/e5DLZ.png\r\n\r\nIn my Java application, I attempt to extract the params via the request like this:\r\n```\r\n    private APIGatewayProxyResponseEvent getTicketOrder(APIGatewayProxyRequestEvent requestEvent, Context context) {\r\n        var logger = context.getLogger();\r\n\r\n        var pathParameters = requestEvent.getPathParameters();\r\n        var email = pathParameters.get(&quot;email&quot;);\r\n        // ...\r\n    }\r\n```\r\n\r\n`pathParameters` seems to be null and throws a Null pointer. \r\n\r\nIn postman, I call the URI like this:\r\n\r\n`http://my-api-gateway-uri/dev/ticket-order/jondoe@email.com`","title":"AWS API Gateway path params throws Null pointer exception in Java application","body":"<p>I have an API gateway connected to a lambda function for a GET request by email using path params <code>/ticket-order/{email}</code></p>\n<p><a href=\"https://i.stack.imgur.com/eoMPy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eoMPy.png\" alt=\"API Gateway path params\" /></a></p>\n<p>I have also configured Integration Request where I'm setting a mapping template:</p>\n<p><a href=\"https://i.stack.imgur.com/e5DLZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e5DLZ.png\" alt=\"Mapping Template\" /></a></p>\n<p>In my Java application, I attempt to extract the params via the request like this:</p>\n<pre><code>    private APIGatewayProxyResponseEvent getTicketOrder(APIGatewayProxyRequestEvent requestEvent, Context context) {\n        var logger = context.getLogger();\n\n        var pathParameters = requestEvent.getPathParameters();\n        var email = pathParameters.get(&quot;email&quot;);\n        // ...\n    }\n</code></pre>\n<p><code>pathParameters</code> seems to be null and throws a Null pointer.</p>\n<p>In postman, I call the URI like this:</p>\n<p><code>http://my-api-gateway-uri/dev/ticket-order/jondoe@email.com</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666235576,"post_id":74133956,"comment_id":130889397,"body_markdown":"Possibly related: https://stackoverflow.com/questions/33058670/in-which-cases-stream-operations-should-be-stateful","body":"Possibly related: <a href=\"https://stackoverflow.com/questions/33058670/in-which-cases-stream-operations-should-be-stateful\" title=\"in which cases stream operations should be stateful\">stackoverflow.com/questions/33058670/&hellip;</a>"},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":1,"creation_date":1666238669,"post_id":74133956,"comment_id":130889857,"body_markdown":"what have you tried and how it did not work out? you aware of the filtering method then whats holding you back?","body":"what have you tried and how it did not work out? you aware of the filtering method then whats holding you back?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666249930,"post_id":74133956,"comment_id":130892242,"body_markdown":"Please, share your **attempt** and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please, share your <b>attempt</b> and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1666255174,"post_id":74133956,"comment_id":130894156,"body_markdown":"You are probably looking for one of the [Collectors.groupingBy](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html) methods. Group elements by the room number (the result will be a `Map`), then get the record with the latest date in each entry.","body":"You are probably looking for one of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">Collectors.groupingBy</a> methods. Group elements by the room number (the result will be a <code>Map</code>), then get the record with the latest date in each entry."},{"owner":{"account_id":15965463,"reputation":81,"user_id":11521276,"display_name":"thottivelli"},"score":0,"creation_date":1666276994,"post_id":74133956,"comment_id":130902900,"body_markdown":"I updated the question to show that I grouped the objects but I am not sure how to filter down the grouped map back into a single list with the highest dates removed if multiple rooms are present","body":"I updated the question to show that I grouped the objects but I am not sure how to filter down the grouped map back into a single list with the highest dates removed if multiple rooms are present"}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666418005,"creation_date":1666418005,"answer_id":74161397,"question_id":74133956,"body_markdown":"You&#39;ve made a great attempt! You can continue to process the map by converting each value (a list of `TestClass` instances) to a single `TestClass` instance by getting the maximum value using the date:\r\n\r\n     List&lt;TestClass&gt; c = testClasses.stream()\r\n            .collect(Collectors.groupingBy(TestClass::getRoomNumber))\r\n            .values() // returns the collection of values from the map\r\n            .stream() // converts that collection to a stream\r\n            .map(group -&gt; // converts each item (a list of TestClass for a given room number)\r\n                    group.stream() // converts that list to a stream\r\n                            .max( // returns the maximum value of the list using the following Comparator\r\n                                    Comparator.comparing(TestClass::getDate)\r\n                                    // creates a comparator for TestClass based on calling getDate on each item,\r\n                                    // using the natural ordering for LocalDate\r\n                            ) // This returns Optional&lt;TestClass&gt;\r\n            ) // This returns Stream&lt;Optional&lt;TestClass&gt;&gt;\r\n            .filter(Optional::isPresent) // This removes empty Optional values\r\n            .map(Optional::get) // Converts the non-empty Optional to the value it contains\r\n            .collect(Collectors.toList()); // Collects the resulting stream into a list\r\n\r\nOne point of further clarification: why does `max` return an `Optional&lt;TestClass&gt;`? This handles the case of an empty stream (in other words, a room number in the map with no `TestClass` items), in which case an empty `Optional` is returned. Now, we know that this can&#39;t possibly happen, because of the way the data structure is built, but the compiler cannot infer that, so it is required to handle the impossible case of empty values. Strictly speaking, the `filter` part could be eliminated, but having it will ensure the code is robust in the face of some future change that allows empty values to appear.","title":"Java Streams filter and replace an item in list if it meets criteria","body":"<p>You've made a great attempt! You can continue to process the map by converting each value (a list of <code>TestClass</code> instances) to a single <code>TestClass</code> instance by getting the maximum value using the date:</p>\n<pre><code> List&lt;TestClass&gt; c = testClasses.stream()\n        .collect(Collectors.groupingBy(TestClass::getRoomNumber))\n        .values() // returns the collection of values from the map\n        .stream() // converts that collection to a stream\n        .map(group -&gt; // converts each item (a list of TestClass for a given room number)\n                group.stream() // converts that list to a stream\n                        .max( // returns the maximum value of the list using the following Comparator\n                                Comparator.comparing(TestClass::getDate)\n                                // creates a comparator for TestClass based on calling getDate on each item,\n                                // using the natural ordering for LocalDate\n                        ) // This returns Optional&lt;TestClass&gt;\n        ) // This returns Stream&lt;Optional&lt;TestClass&gt;&gt;\n        .filter(Optional::isPresent) // This removes empty Optional values\n        .map(Optional::get) // Converts the non-empty Optional to the value it contains\n        .collect(Collectors.toList()); // Collects the resulting stream into a list\n</code></pre>\n<p>One point of further clarification: why does <code>max</code> return an <code>Optional&lt;TestClass&gt;</code>? This handles the case of an empty stream (in other words, a room number in the map with no <code>TestClass</code> items), in which case an empty <code>Optional</code> is returned. Now, we know that this can't possibly happen, because of the way the data structure is built, but the compiler cannot infer that, so it is required to handle the impossible case of empty values. Strictly speaking, the <code>filter</code> part could be eliminated, but having it will ensure the code is robust in the face of some future change that allows empty values to appear.</p>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427443,"creation_date":1666423790,"answer_id":74161811,"question_id":74133956,"body_markdown":"**Using Java Streams toMap function**\r\n\r\n***Approach Here:***\r\n\r\nYou can try the below approach in which i have first `sorted` the `list` by `id` and then `date` in reverse order *(so that the list will have the latest record at top corresponding to each id)* and then using **`Collectors.toMap`** function created a map with key as id and value as the object of TestClass along with the **merger function** `(a, b) -&gt; a`(*which will help in getting the latest value corresponding to each key)* and `TreeMap::new` will give the **sorted** map.\r\n\r\nAfter that, I have created a `new ArrayList` of `TestClass` type with the `values` using `.values` of the map created above.\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            final List&lt;TestClass&gt; testClasses = Arrays.asList(\r\n                    new TestClass(100L, LocalDate.of(2020, 1, 10)),\r\n                    new TestClass(100L, LocalDate.of(2019, 1, 10)),\r\n                    new TestClass(101L, LocalDate.of(2020, 7, 20)),\r\n                    new TestClass(102L, LocalDate.of(2020, 1, 9)),\r\n                    new TestClass(103L, LocalDate.of(2020, 1, 11)),\r\n                    new TestClass(104L, LocalDate.of(2020, 2, 13))\r\n            );\r\n    \r\n            List&lt;TestClass&gt; uniqueListWithLatestData =\r\n                new ArrayList&lt;&gt;(testClasses.stream()\r\n                .sorted((Comparator.comparing(TestClass::id)\r\n                              .thenComparing(TestClass::date).reversed()))\r\n                .collect(Collectors.toMap(TestClass::id, x -&gt; x,(a, b) -&gt; a, \r\n                                           TreeMap::new)).values());\r\n                 System.out.println(uniqueListWithLatestData);\r\n    \r\n        }\r\n    }\r\n\r\n**Note:** \r\n\r\nHere, I have created a `record` for TestClass for the solution, you can have your own TestClass POJO.*(Records are available from JDK14)*\r\n\r\n    public record TestClass(long id, LocalDate date) {}\r\n\r\n**Output:**\r\n\r\n    [TestClass[id=100, date=2020-01-10], \r\n    TestClass[id=101, date=2020-07-20], \r\n    TestClass[id=102, date=2020-01-09], \r\n    TestClass[id=103, date=2020-01-11], \r\n    TestClass[id=104, date=2020-02-13]]\r\n\r\n","title":"Java Streams filter and replace an item in list if it meets criteria","body":"<p><strong>Using Java Streams toMap function</strong></p>\n<p><em><strong>Approach Here:</strong></em></p>\n<p>You can try the below approach in which i have first <code>sorted</code> the <code>list</code> by <code>id</code> and then <code>date</code> in reverse order <em>(so that the list will have the latest record at top corresponding to each id)</em> and then using <strong><code>Collectors.toMap</code></strong> function created a map with key as id and value as the object of TestClass along with the <strong>merger function</strong> <code>(a, b) -&gt; a</code>(<em>which will help in getting the latest value corresponding to each key)</em> and <code>TreeMap::new</code> will give the <strong>sorted</strong> map.</p>\n<p>After that, I have created a <code>new ArrayList</code> of <code>TestClass</code> type with the <code>values</code> using <code>.values</code> of the map created above.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        final List&lt;TestClass&gt; testClasses = Arrays.asList(\n                new TestClass(100L, LocalDate.of(2020, 1, 10)),\n                new TestClass(100L, LocalDate.of(2019, 1, 10)),\n                new TestClass(101L, LocalDate.of(2020, 7, 20)),\n                new TestClass(102L, LocalDate.of(2020, 1, 9)),\n                new TestClass(103L, LocalDate.of(2020, 1, 11)),\n                new TestClass(104L, LocalDate.of(2020, 2, 13))\n        );\n\n        List&lt;TestClass&gt; uniqueListWithLatestData =\n            new ArrayList&lt;&gt;(testClasses.stream()\n            .sorted((Comparator.comparing(TestClass::id)\n                          .thenComparing(TestClass::date).reversed()))\n            .collect(Collectors.toMap(TestClass::id, x -&gt; x,(a, b) -&gt; a, \n                                       TreeMap::new)).values());\n             System.out.println(uniqueListWithLatestData);\n\n    }\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>Here, I have created a <code>record</code> for TestClass for the solution, you can have your own TestClass POJO.<em>(Records are available from JDK14)</em></p>\n<pre><code>public record TestClass(long id, LocalDate date) {}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[TestClass[id=100, date=2020-01-10], \nTestClass[id=101, date=2020-07-20], \nTestClass[id=102, date=2020-01-09], \nTestClass[id=103, date=2020-01-11], \nTestClass[id=104, date=2020-02-13]]\n</code></pre>\n"}],"owner":{"account_id":15965463,"reputation":81,"user_id":11521276,"display_name":"thottivelli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666427443,"creation_date":1666234669,"question_id":74133956,"body_markdown":"I am using Java 8 streams and would like to remove an item in my list if multiple items with the same room number are present and use the one with the most current date. \r\n\r\nI have this list:\r\n\r\n    final List&lt;TestClass&gt; testClasses = Arrays.asList(\r\n                new TestClass(100L, LocalDate.of(2020, 1, 10)),\r\n                new TestClass(100L, LocalDate.of(2019, 1, 10)),\r\n                new TestClass(101L, LocalDate.of(2020, 7, 20)),\r\n                new TestClass(102L, LocalDate.of(2020, 1, 9)),\r\n                new TestClass(103L, LocalDate.of(2020, 1, 11)),\r\n                new TestClass(104L, LocalDate.of(2020, 2, 13))\r\n        );\r\n\r\nI would like to filter this list down in a way such that if the roomNumber (first param of TestClass constructor) occurs multiple times in the list then that entry should be removed and the one with the most current date will be saved. \r\n\r\nSample output from above list after filtering:\r\n\r\n    [\r\n           TestClass(100L, LocalDate.of(2020, 1, 10)),\r\n           TestClass(101L, LocalDate.of(2020, 7, 20)),\r\n           TestClass(102L, LocalDate.of(2020, 1, 9)),\r\n           TestClass(103L, LocalDate.of(2020, 1, 11)),\r\n           TestClass(104L, LocalDate.of(2020, 2, 13))\r\n    ]\r\n\r\nAs you can see the second TestClass object with a roomNumber of 100 has been removed and we are left with the first TestClass object that also has a roomNumber of 100 but we keep it since the date is higher or more recent than the other entry.\r\n\r\nI have read through the Java streams documentation and am aware of filtering. Is there a way to achieve this functionality using Java streams? I feel like there is but there may be a way to use this api that I am unaware of.\r\n\r\nTIA and please let me know if more information is required :)\r\n\r\nEDIT:\r\nThis is the attempt that I made. I learned about the groupingBy function and was able to get the TestClasses into a list grouped by their room number. I am not sure where to go from there.\r\n\r\n     Map&lt;Long, List&lt;TestClass&gt;&gt; c = testClasses.stream()\r\n                .collect(Collectors.groupingBy(TestClass::getRoomNumber));\r\n\r\n","title":"Java Streams filter and replace an item in list if it meets criteria","body":"<p>I am using Java 8 streams and would like to remove an item in my list if multiple items with the same room number are present and use the one with the most current date.</p>\n<p>I have this list:</p>\n<pre><code>final List&lt;TestClass&gt; testClasses = Arrays.asList(\n            new TestClass(100L, LocalDate.of(2020, 1, 10)),\n            new TestClass(100L, LocalDate.of(2019, 1, 10)),\n            new TestClass(101L, LocalDate.of(2020, 7, 20)),\n            new TestClass(102L, LocalDate.of(2020, 1, 9)),\n            new TestClass(103L, LocalDate.of(2020, 1, 11)),\n            new TestClass(104L, LocalDate.of(2020, 2, 13))\n    );\n</code></pre>\n<p>I would like to filter this list down in a way such that if the roomNumber (first param of TestClass constructor) occurs multiple times in the list then that entry should be removed and the one with the most current date will be saved.</p>\n<p>Sample output from above list after filtering:</p>\n<pre><code>[\n       TestClass(100L, LocalDate.of(2020, 1, 10)),\n       TestClass(101L, LocalDate.of(2020, 7, 20)),\n       TestClass(102L, LocalDate.of(2020, 1, 9)),\n       TestClass(103L, LocalDate.of(2020, 1, 11)),\n       TestClass(104L, LocalDate.of(2020, 2, 13))\n]\n</code></pre>\n<p>As you can see the second TestClass object with a roomNumber of 100 has been removed and we are left with the first TestClass object that also has a roomNumber of 100 but we keep it since the date is higher or more recent than the other entry.</p>\n<p>I have read through the Java streams documentation and am aware of filtering. Is there a way to achieve this functionality using Java streams? I feel like there is but there may be a way to use this api that I am unaware of.</p>\n<p>TIA and please let me know if more information is required :)</p>\n<p>EDIT:\nThis is the attempt that I made. I learned about the groupingBy function and was able to get the TestClasses into a list grouped by their room number. I am not sure where to go from there.</p>\n<pre><code> Map&lt;Long, List&lt;TestClass&gt;&gt; c = testClasses.stream()\n            .collect(Collectors.groupingBy(TestClass::getRoomNumber));\n</code></pre>\n"},{"tags":["java","vba","vbscript"],"answers":[{"tags":[],"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666425959,"creation_date":1504476218,"answer_id":46028197,"question_id":40649696,"body_markdown":"To export all the modules from 1 mother office file, to another .xlsm file:\r\n\r\n1. if the workbook that contains the mother macros is located in folder:\r\n&quot;../a&quot; \r\n2. Then place the child office files in:\r\n&quot;../a/receiving/\r\n3. And create a(n empty) subfolder:\r\n&quot;../a/receiving/modules\r\n4. Open the VBA for applications editor in MS Office, click &quot;tools&gt;references&quot; and mark the checkbox: &quot;Microsoft Scripting Runtime&quot;\r\n\r\nNext, create two modules, \r\n\r\n 5. Module1:\r\n\r\n    ```vba\r\n    Sub Update_Workbooks()\r\n    &#39;This macro requires that a reference to Microsoft Scripting Routine\r\n    &#39;be selected under Tools\\References in order for it to work.\r\n    Application.DisplayAlerts = False\r\n    Application.ScreenUpdating = False\r\n    Dim fso As New FileSystemObject\r\n    Dim source As Scripting.Folder\r\n    Dim wbfile As Scripting.File\r\n    Dim book As Excel.Workbook\r\n    Dim sheet As Excel.Worksheet\r\n    Dim Filename As String\r\n    Dim ModuleFile As String\r\n    Dim Element As Object\r\n    Dim return_user_input As Integer\r\n    \r\n    \r\n    &#39;Set source = fso.GetFolder(&quot;C:\\Users\\Desktop\\Testing&quot;)   &#39;we will know this since all of the files will be in one folder\r\n    Set source = fso.GetFolder(ThisWorkbook.Path &amp; &quot;\\receiving&quot;)   &#39;we will know this since all of the files will be in one folder\r\n    For Each wbfile In source.Files\r\n    \r\n        Call basic_messagebox(wbfile, return_user_input)\r\n        If return_user_input = 6 Then\r\n            MsgBox (wbfile.name &amp; &quot; yes&quot;)\r\n            \r\n            &#39;For Each wbFile In source.Files\r\n        \r\n            If fso.GetExtensionName(wbfile.name) = &quot;xlsm&quot; Then  &#39;we will konw this too. All files will be .xlsm\r\n                &#39;Call basic_messagebox\r\n                &#39;Set book = Workbooks.Open(wbFile.Path)\r\n                Set book = Workbooks.Open(wbfile.Path)\r\n                    Filename = FileNameOnly(wbfile.name)\r\n                    &#39;This will remove all modules including ClassModules and UserForms.\r\n                    &#39;It will keep all object modules like (sheets, ThisWorkbook)\r\n                    &#39;On Error Resume Next\r\n                    Workbooks(wbfile.name).Activate\r\n                    &#39;For Each Element In ActiveWorkbook.VBProject.VBComponents\r\n                    &#39;On Error Resume Next\r\n                    Call DeleteAllCode(wbfile)\r\n    &#39;                For Each Element In Workbooks(wbfile.name).VBProject.VBComponents\r\n    &#39;                    &#39;ActiveWorkbook.VBProject.VBComponents.Remove Element\r\n    &#39;                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Element\r\n    &#39;\r\n    &#39;                Next\r\n    &#39;                For Each Module In Workbooks(wbfile.name).VBProject.VBComponents\r\n    &#39;                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Module\r\n    &#39;                Next\r\n        \r\n                    &#39;On Error GoTo ErrHandle\r\n                &#39;   Export Module1 from updating workbook\r\n                    &#39;ModuleFile = Application.DefaultFilePath &amp; &quot;\\tempmodxxx.bas&quot;\r\n                    ModuleFile = ThisWorkbook.Path &amp; &quot;\\receiving\\modules&quot; &amp; &quot;\\tempmodxxx.bas&quot;\r\n                    \r\n    &#39;                Workbooks(&quot;Update Multiple Workbooks.xlsm&quot;).VBProject.VBComponents(&quot;Module1&quot;) _\r\n    &#39;                .Export ModuleFile\r\n                    &#39;On Error Resume Next\r\n                    For Each Module In ThisWorkbook.VBProject.VBComponents\r\n                        &#39;MsgBox (Module.name)\r\n                        If Left(Module.name, 5) &lt;&gt; &quot;Sheet&quot; Then\r\n                            If Left(Module.name, 6) = &quot;Module&quot; Then\r\n                                &#39;MsgBox (&quot;the modules name = &quot; &amp; Module.name)\r\n                                &#39;ThisWorkbook.VBProject.VBComponents(&quot;Module1&quot;).Export ModuleFile\r\n                                ThisWorkbook.VBProject.VBComponents(Module.name).Export ModuleFile\r\n                                &#39;ThisWorkbook.VBProject.VBComponents(Module).Export ModuleFile\r\n                                &#39;MsgBox (ModuleFile)\r\n                            &#39;   Replace Module1 in Userbook\r\n                                Set VBP = Workbooks(Filename).VBProject\r\n                                &#39;On Error Resume Next\r\n                                With VBP.VBComponents\r\n                                    .Import ModuleFile\r\n                                End With\r\n                            &#39;   Delete the temporary module file\r\n                                Kill ModuleFile\r\n                            End If\r\n                        End If\r\n                    Next\r\n                &#39;book.Close True\r\n            End If\r\n    &#39;Next\r\n            \r\n            \r\n        End If\r\n        If return_user_input = 7 Then\r\n            MsgBox (wbfile.name &amp; &quot; no&quot;)\r\n        End If\r\n        \r\n    Next\r\n    \r\n    Exit Sub\r\n    ErrHandle:\r\n    &#39;   Did an error occur?\r\n        MsgBox &quot;ERROR. The module may not have been replaced.&quot;, _\r\n          vbCritical\r\n        \r\n    \r\n    End Sub\r\n    Private Function FileNameOnly(pname) As String\r\n        Dim temp As Variant\r\n        Length = Len(pname)\r\n        temp = Split(pname, Application.PathSeparator)\r\n        FileNameOnly = temp(UBound(temp))\r\n    End Function\r\n    Sub basic_messagebox(wbfile, return_user_input)\r\n        &#39;source: http://www.databison.com/vba-message-box-msgbox-the-message-can-do-better/\r\n        &#39;vbOK = 1\r\n        &#39;vbCancel = 2\r\n        &#39;vbAbort = 3\r\n        &#39;vbRetry = 4\r\n        &#39;vbIgnore = 5\r\n        &#39;vbYes = 6\r\n        &#39;vbNo = 7\r\n        \r\n        i = MsgBox(&quot;Do you wish to force the new code on the following excel file: &quot; &amp; vbNewLine &amp; vbNewLine &amp; wbfile.name, vbYesNo)\r\n        If i = 6 Then\r\n            &#39;MsgBox (wbFile.name &amp; &quot; yes&quot;)\r\n            return_user_input = i\r\n        End If\r\n        If i = 7 Then\r\n            &#39;MsgBox (wbFile.name &amp; &quot; no&quot;)\r\n            return_user_input = i\r\n        End If\r\n        \r\n    End Sub\r\n    ```\r\n\r\n 6. Module2:\r\n\r\n    ```\r\n    Sub DeleteAllCode(wbfile)\r\n         &#39;Source: http://www.vbaexpress.com/kb/getarticle.php?kb_id=93\r\n         &#39;Trust Access To Visual Basics Project must be enabled.\r\n         &#39;From Excel: Tools | Macro | Security | Trusted Sources\r\n         \r\n        Dim x               As Integer\r\n        Dim Proceed         As VbMsgBoxResult\r\n        Dim Prompt          As String\r\n        Dim Title           As String\r\n         \r\n        Prompt = &quot;Are you certain that you want to delete all the VBA Code from &quot; &amp; _\r\n        ActiveWorkbook.name &amp; &quot;?&quot;\r\n        Title = &quot;Verify Procedure&quot;\r\n         \r\n        Proceed = MsgBox(Prompt, vbYesNo + vbQuestion, Title)\r\n        If Proceed = vbNo Then\r\n            MsgBox &quot;Procedure Canceled&quot;, vbInformation, &quot;Procedure Aborted&quot;\r\n            Exit Sub\r\n        End If\r\n         \r\n        On Error Resume Next\r\n        With ActiveWorkbook.VBProject\r\n            For x = .VBComponents.count To 1 Step -1\r\n                .VBComponents.Remove .VBComponents(x)\r\n            Next x\r\n            For x = .VBComponents.count To 1 Step -1\r\n                .VBComponents(x).CodeModule.DeleteLines _\r\n                1, .VBComponents(x).CodeModule.CountOfLines\r\n            Next x\r\n        End With\r\n        On Error GoTo 0\r\n         \r\n    End Sub\r\n    ```\r\n","title":"Programmatically export VBA modules","body":"<p>To export all the modules from 1 mother office file, to another .xlsm file:</p>\n<ol>\n<li>if the workbook that contains the mother macros is located in folder:\n&quot;../a&quot;</li>\n<li>Then place the child office files in:\n&quot;../a/receiving/</li>\n<li>And create a(n empty) subfolder:\n&quot;../a/receiving/modules</li>\n<li>Open the VBA for applications editor in MS Office, click &quot;tools&gt;references&quot; and mark the checkbox: &quot;Microsoft Scripting Runtime&quot;</li>\n</ol>\n<p>Next, create two modules,</p>\n<ol start=\"5\">\n<li><p>Module1:</p>\n<pre class=\"lang-vb prettyprint-override\"><code>Sub Update_Workbooks()\n'This macro requires that a reference to Microsoft Scripting Routine\n'be selected under Tools\\References in order for it to work.\nApplication.DisplayAlerts = False\nApplication.ScreenUpdating = False\nDim fso As New FileSystemObject\nDim source As Scripting.Folder\nDim wbfile As Scripting.File\nDim book As Excel.Workbook\nDim sheet As Excel.Worksheet\nDim Filename As String\nDim ModuleFile As String\nDim Element As Object\nDim return_user_input As Integer\n\n\n'Set source = fso.GetFolder(&quot;C:\\Users\\Desktop\\Testing&quot;)   'we will know this since all of the files will be in one folder\nSet source = fso.GetFolder(ThisWorkbook.Path &amp; &quot;\\receiving&quot;)   'we will know this since all of the files will be in one folder\nFor Each wbfile In source.Files\n\n    Call basic_messagebox(wbfile, return_user_input)\n    If return_user_input = 6 Then\n        MsgBox (wbfile.name &amp; &quot; yes&quot;)\n\n        'For Each wbFile In source.Files\n\n        If fso.GetExtensionName(wbfile.name) = &quot;xlsm&quot; Then  'we will konw this too. All files will be .xlsm\n            'Call basic_messagebox\n            'Set book = Workbooks.Open(wbFile.Path)\n            Set book = Workbooks.Open(wbfile.Path)\n                Filename = FileNameOnly(wbfile.name)\n                'This will remove all modules including ClassModules and UserForms.\n                'It will keep all object modules like (sheets, ThisWorkbook)\n                'On Error Resume Next\n                Workbooks(wbfile.name).Activate\n                'For Each Element In ActiveWorkbook.VBProject.VBComponents\n                'On Error Resume Next\n                Call DeleteAllCode(wbfile)\n'                For Each Element In Workbooks(wbfile.name).VBProject.VBComponents\n'                    'ActiveWorkbook.VBProject.VBComponents.Remove Element\n'                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Element\n'\n'                Next\n'                For Each Module In Workbooks(wbfile.name).VBProject.VBComponents\n'                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Module\n'                Next\n\n                'On Error GoTo ErrHandle\n            '   Export Module1 from updating workbook\n                'ModuleFile = Application.DefaultFilePath &amp; &quot;\\tempmodxxx.bas&quot;\n                ModuleFile = ThisWorkbook.Path &amp; &quot;\\receiving\\modules&quot; &amp; &quot;\\tempmodxxx.bas&quot;\n\n'                Workbooks(&quot;Update Multiple Workbooks.xlsm&quot;).VBProject.VBComponents(&quot;Module1&quot;) _\n'                .Export ModuleFile\n                'On Error Resume Next\n                For Each Module In ThisWorkbook.VBProject.VBComponents\n                    'MsgBox (Module.name)\n                    If Left(Module.name, 5) &lt;&gt; &quot;Sheet&quot; Then\n                        If Left(Module.name, 6) = &quot;Module&quot; Then\n                            'MsgBox (&quot;the modules name = &quot; &amp; Module.name)\n                            'ThisWorkbook.VBProject.VBComponents(&quot;Module1&quot;).Export ModuleFile\n                            ThisWorkbook.VBProject.VBComponents(Module.name).Export ModuleFile\n                            'ThisWorkbook.VBProject.VBComponents(Module).Export ModuleFile\n                            'MsgBox (ModuleFile)\n                        '   Replace Module1 in Userbook\n                            Set VBP = Workbooks(Filename).VBProject\n                            'On Error Resume Next\n                            With VBP.VBComponents\n                                .Import ModuleFile\n                            End With\n                        '   Delete the temporary module file\n                            Kill ModuleFile\n                        End If\n                    End If\n                Next\n            'book.Close True\n        End If\n'Next\n\n\n    End If\n    If return_user_input = 7 Then\n        MsgBox (wbfile.name &amp; &quot; no&quot;)\n    End If\n\nNext\n\nExit Sub\nErrHandle:\n'   Did an error occur?\n    MsgBox &quot;ERROR. The module may not have been replaced.&quot;, _\n      vbCritical\n\n\nEnd Sub\nPrivate Function FileNameOnly(pname) As String\n    Dim temp As Variant\n    Length = Len(pname)\n    temp = Split(pname, Application.PathSeparator)\n    FileNameOnly = temp(UBound(temp))\nEnd Function\nSub basic_messagebox(wbfile, return_user_input)\n    'source: http://www.databison.com/vba-message-box-msgbox-the-message-can-do-better/\n    'vbOK = 1\n    'vbCancel = 2\n    'vbAbort = 3\n    'vbRetry = 4\n    'vbIgnore = 5\n    'vbYes = 6\n    'vbNo = 7\n\n    i = MsgBox(&quot;Do you wish to force the new code on the following excel file: &quot; &amp; vbNewLine &amp; vbNewLine &amp; wbfile.name, vbYesNo)\n    If i = 6 Then\n        'MsgBox (wbFile.name &amp; &quot; yes&quot;)\n        return_user_input = i\n    End If\n    If i = 7 Then\n        'MsgBox (wbFile.name &amp; &quot; no&quot;)\n        return_user_input = i\n    End If\n\nEnd Sub\n</code></pre>\n</li>\n<li><p>Module2:</p>\n<pre><code>Sub DeleteAllCode(wbfile)\n     'Source: http://www.vbaexpress.com/kb/getarticle.php?kb_id=93\n     'Trust Access To Visual Basics Project must be enabled.\n     'From Excel: Tools | Macro | Security | Trusted Sources\n\n    Dim x               As Integer\n    Dim Proceed         As VbMsgBoxResult\n    Dim Prompt          As String\n    Dim Title           As String\n\n    Prompt = &quot;Are you certain that you want to delete all the VBA Code from &quot; &amp; _\n    ActiveWorkbook.name &amp; &quot;?&quot;\n    Title = &quot;Verify Procedure&quot;\n\n    Proceed = MsgBox(Prompt, vbYesNo + vbQuestion, Title)\n    If Proceed = vbNo Then\n        MsgBox &quot;Procedure Canceled&quot;, vbInformation, &quot;Procedure Aborted&quot;\n        Exit Sub\n    End If\n\n    On Error Resume Next\n    With ActiveWorkbook.VBProject\n        For x = .VBComponents.count To 1 Step -1\n            .VBComponents.Remove .VBComponents(x)\n        Next x\n        For x = .VBComponents.count To 1 Step -1\n            .VBComponents(x).CodeModule.DeleteLines _\n            1, .VBComponents(x).CodeModule.CountOfLines\n        Next x\n    End With\n    On Error GoTo 0\n\nEnd Sub\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":5970330,"reputation":2828,"user_id":4692826,"accept_rate":30,"display_name":"thegreatjedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3962,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1666425959,"creation_date":1479370335,"question_id":40649696,"body_markdown":"To transfer a VBA macro between different PowerPoint files, I can export the module as a BAS file and then import it into the other file. This has to be done manually, however.\r\n\r\nMy Java 1.8 application will automatically generate new PowerPoint files using Apache POI, then call a VBScript. The script will receive arguments from the Java application via the command line, and will then open the created PowerPoint file and call a macro, finally passing the parameters to the macro.\r\n\r\nBefore all that can happen, I need to first import multiple macros from a template PowerPoint file into the newly created one automatically. How can I do that using either Java or VBS?\r\n\r\nEdit: If you&#39;re going to close this for being too broad can you at least tell me how it is not specific enough? Because as far as I can see I&#39;ve already stated very specifically what I want to achieve. It&#39;s my first time coding in VBA or VBS so I don&#39;t know what is expected from me to make questions in this topic &quot;specific&quot;.","title":"Programmatically export VBA modules","body":"<p>To transfer a VBA macro between different PowerPoint files, I can export the module as a BAS file and then import it into the other file. This has to be done manually, however.</p>\n\n<p>My Java 1.8 application will automatically generate new PowerPoint files using Apache POI, then call a VBScript. The script will receive arguments from the Java application via the command line, and will then open the created PowerPoint file and call a macro, finally passing the parameters to the macro.</p>\n\n<p>Before all that can happen, I need to first import multiple macros from a template PowerPoint file into the newly created one automatically. How can I do that using either Java or VBS?</p>\n\n<p>Edit: If you're going to close this for being too broad can you at least tell me how it is not specific enough? Because as far as I can see I've already stated very specifically what I want to achieve. It's my first time coding in VBA or VBS so I don't know what is expected from me to make questions in this topic \"specific\".</p>\n"},{"tags":["java","cryptography","aes","rsa","instagram"],"comments":[{"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"score":0,"creation_date":1666423411,"post_id":74161586,"comment_id":130937631,"body_markdown":"Yea sure, just edited the question. @AlexR","body":"Yea sure, just edited the question. @AlexR"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666423648,"post_id":74161586,"comment_id":130937665,"body_markdown":"32 bytes for an RSA key is unrealistic (possibly an EC key). Post a link describing the asymmetric encryption. For later: The chaset decoding with `toString()` of encrypted key, tag and ciphertext corrupts the data.","body":"32 bytes for an RSA key is unrealistic (possibly an EC key). Post a link describing the asymmetric encryption. For later: The chaset decoding with <code>toString()</code> of encrypted key, tag and ciphertext corrupts the data."},{"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"score":0,"creation_date":1666424119,"post_id":74161586,"comment_id":130937712,"body_markdown":"@Topaco Here are some links of other people&#39;s implementation that all use RSA encryption. Couldn&#39;t find a recent one for Java. And thanks for the heads up on the toString().\n[python example](https://github.com/adw0rd/instagrapi/blob/3171ec34d62edef8bfef443faa26d26ae5f15b28/instagrapi/mixins/password.py)\n[C# implementation](https://gist.github.com/huoshan12345/44b1b4927b21d4ec21d1cbd61ea659da)","body":"@Topaco Here are some links of other people&#39;s implementation that all use RSA encryption. Couldn&#39;t find a recent one for Java. And thanks for the heads up on the toString(). <a href=\"https://github.com/adw0rd/instagrapi/blob/3171ec34d62edef8bfef443faa26d26ae5f15b28/instagrapi/mixins/password.py\" rel=\"nofollow noreferrer\">python example</a> <a href=\"https://gist.github.com/huoshan12345/44b1b4927b21d4ec21d1cbd61ea659da\" rel=\"nofollow noreferrer\">C# implementation</a>"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666425053,"post_id":74161586,"comment_id":130937859,"body_markdown":"This example does not show a key for length comparison. Secure RSA keys have a length of 2048 bits and X.509 encoded even more. Maybe a different algorithm is used or your public key is wrong.","body":"This example does not show a key for length comparison. Secure RSA keys have a length of 2048 bits and X.509 encoded even more. Maybe a different algorithm is used or your public key is wrong."},{"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"score":0,"creation_date":1666425660,"post_id":74161586,"comment_id":130937949,"body_markdown":"@Topaco I added an example key. The original key (the one that is scraped directly of instagram) is 64 bytes and follows the above style. If this is not an RSA key what kind of other encryption could it be?","body":"@Topaco I added an example key. The original key (the one that is scraped directly of instagram) is 64 bytes and follows the above style. If this is not an RSA key what kind of other encryption could it be?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666433759,"post_id":74161586,"comment_id":130939055,"body_markdown":"Possibly different versions and therefore different algorithms, s. [here](https://github.com/dilame/instagram-private-api/issues/1010). An RSA key looks like [here](https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-564019541), which is an X.509-PEM key (after Base64 decoding). [Here](https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-749533937) different versions are mentioned. [Here](https://github.com/dilame/instagram-private-api/issues/1010) is a Libsodium-based approach (which uses a 32 bytes key).","body":"Possibly different versions and therefore different algorithms, s. <a href=\"https://github.com/dilame/instagram-private-api/issues/1010\" rel=\"nofollow noreferrer\">here</a>. An RSA key looks like <a href=\"https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-564019541\" rel=\"nofollow noreferrer\">here</a>, which is an X.509-PEM key (after Base64 decoding). <a href=\"https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-749533937\" rel=\"nofollow noreferrer\">Here</a> different versions are mentioned. <a href=\"https://github.com/dilame/instagram-private-api/issues/1010\" rel=\"nofollow noreferrer\">Here</a> is a Libsodium-based approach (which uses a 32 bytes key)."}],"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666425528,"creation_date":1666420930,"question_id":74161586,"body_markdown":"I am building and Instagram bot which needs to login to Instagram. Now I know that Instagram uses an encryption system for its password, and I am trying to follow it but keep running into the\r\n\r\n&gt; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: null\r\n\r\nBasically Instagram needs a cipher text that follow the structure detailed in this [github repo][1]. My code is as follows to replicate it.\r\n\r\n     // Generate a random IV\r\n     byte[] iv = new byte[12];\r\n     new SecureRandom().nextBytes(iv);\r\n\r\n     // Get the system current time in milliseconds\r\n     long timestamp = System.currentTimeMillis();\r\n\r\n     // Converting public key to byte array from hex string\r\n     byte[] publicKeyBytes = hexStringToByteArray(publicKey);\r\n\r\n     // Create a random key\r\n     byte[] randomKey = new byte[32];\r\n     new SecureRandom().nextBytes(randomKey);\r\n\r\n     // rebuild key using SecretKeySpec\r\n     SecretKey publicKeyClass = new SecretKeySpec(randomKey,0, randomKey.length, &quot;AES&quot;);\r\n \r\n     //generate the cipher text\r\n     Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n     cipher.init(Cipher.ENCRYPT_MODE, publicKeyClass, new GCMParameterSpec(128, iv));\r\n\r\n     // Add the current time in milliseconds as additional authenticated data\r\n     cipher.updateAAD(Long.toString(timestamp).getBytes(StandardCharsets.UTF_8));\r\n     byte[] cipherText = cipher.doFinal(pwd.getBytes(StandardCharsets.UTF_8));\r\n\r\n     // Get the tag from the end of the cipher text\r\n     byte[] tag = Arrays.copyOfRange(cipherText, cipherText.length - 16, cipherText.length);\r\n\r\n     // Now we encrypt a random key using the same public key\r\n     // use RSA encryption to encrypt the random key\r\n     X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes, &quot;RSA&quot;);\r\n     KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n     PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\r\n     Cipher cipher2 = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n     cipher2.init(Cipher.ENCRYPT_MODE, encryptedKeyClass);\r\n     byte[] encryptedRandomKey = cipher2.doFinal(randomKey);\r\n\r\n     // Generate the final encrypted text\r\n     String encryptedText = publicKeyId+encryptedRandomKey.toString()+tag.toString()+cipherText.toString();\r\n\r\n     //Base64 encode the encrypted text\r\n     String encryptedTextBase64 = Base64.getEncoder().encodeToString(encryptedText.getBytes(StandardCharsets.UTF_8));\r\n\r\nand the function hexStringtoByteArray\r\n\r\n    public static byte[] hexStringToByteArray(String s) {\r\n        int len = s.length();\r\n        byte[] data = new byte[len / 2];\r\n        for (int i = 0; i &lt; len; i += 2) {\r\n            data[i / 2] =(byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\r\n                                 + Character.digit(s.charAt(i+1), 16));\r\n        }\r\n        return data;\r\n    }\r\n\r\nI realize that it is a lot of code so here is a basic gist of what is going on\r\n\r\n 1. I pass a password and publickey(string) to the function.\r\n 2. We generate a random IV and a new random key.\r\n 3. I then use this random key to encrypt the password using AES_GCM_256 bit encryption.\r\n 4. Then the publickey(which was given by instagram) is 64 bytes long and appears to be hex encoded. So I decode it and use it as a key to encrypt the randomly generated key that I have created.\r\n 5. Finally I combine all of this in the format that insta wants and return the final cipher text.\r\n\r\nNow my problem lies in the 4th step.I keep getting the error that the key is of invalid spec. The line that throws the error is \r\n\r\n    PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\r\n\r\nExample Public Key that Instagram returns\r\n\r\n    c81814218a8fe89a6a5794ff5f2a192bf5ab9d3f7115bc8fbceb7b701079777c\r\n\r\nI checked multiple online sources and they all seem to follow the same method I am doing. Am I doing something wrong? Thanks !\r\n\r\n  [1]: https://github.com/Datalux/instagram-weak-encryption#encryption-phases","title":"InvalidKeyException when attempting to encrypt password for Instagram login","body":"<p>I am building and Instagram bot which needs to login to Instagram. Now I know that Instagram uses an encryption system for its password, and I am trying to follow it but keep running into the</p>\n<blockquote>\n<p>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: null</p>\n</blockquote>\n<p>Basically Instagram needs a cipher text that follow the structure detailed in this <a href=\"https://github.com/Datalux/instagram-weak-encryption#encryption-phases\" rel=\"nofollow noreferrer\">github repo</a>. My code is as follows to replicate it.</p>\n<pre><code> // Generate a random IV\n byte[] iv = new byte[12];\n new SecureRandom().nextBytes(iv);\n\n // Get the system current time in milliseconds\n long timestamp = System.currentTimeMillis();\n\n // Converting public key to byte array from hex string\n byte[] publicKeyBytes = hexStringToByteArray(publicKey);\n\n // Create a random key\n byte[] randomKey = new byte[32];\n new SecureRandom().nextBytes(randomKey);\n\n // rebuild key using SecretKeySpec\n SecretKey publicKeyClass = new SecretKeySpec(randomKey,0, randomKey.length, &quot;AES&quot;);\n\n //generate the cipher text\n Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n cipher.init(Cipher.ENCRYPT_MODE, publicKeyClass, new GCMParameterSpec(128, iv));\n\n // Add the current time in milliseconds as additional authenticated data\n cipher.updateAAD(Long.toString(timestamp).getBytes(StandardCharsets.UTF_8));\n byte[] cipherText = cipher.doFinal(pwd.getBytes(StandardCharsets.UTF_8));\n\n // Get the tag from the end of the cipher text\n byte[] tag = Arrays.copyOfRange(cipherText, cipherText.length - 16, cipherText.length);\n\n // Now we encrypt a random key using the same public key\n // use RSA encryption to encrypt the random key\n X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes, &quot;RSA&quot;);\n KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\n Cipher cipher2 = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n cipher2.init(Cipher.ENCRYPT_MODE, encryptedKeyClass);\n byte[] encryptedRandomKey = cipher2.doFinal(randomKey);\n\n // Generate the final encrypted text\n String encryptedText = publicKeyId+encryptedRandomKey.toString()+tag.toString()+cipherText.toString();\n\n //Base64 encode the encrypted text\n String encryptedTextBase64 = Base64.getEncoder().encodeToString(encryptedText.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>and the function hexStringtoByteArray</p>\n<pre><code>public static byte[] hexStringToByteArray(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        data[i / 2] =(byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\n                             + Character.digit(s.charAt(i+1), 16));\n    }\n    return data;\n}\n</code></pre>\n<p>I realize that it is a lot of code so here is a basic gist of what is going on</p>\n<ol>\n<li>I pass a password and publickey(string) to the function.</li>\n<li>We generate a random IV and a new random key.</li>\n<li>I then use this random key to encrypt the password using AES_GCM_256 bit encryption.</li>\n<li>Then the publickey(which was given by instagram) is 64 bytes long and appears to be hex encoded. So I decode it and use it as a key to encrypt the randomly generated key that I have created.</li>\n<li>Finally I combine all of this in the format that insta wants and return the final cipher text.</li>\n</ol>\n<p>Now my problem lies in the 4th step.I keep getting the error that the key is of invalid spec. The line that throws the error is</p>\n<pre><code>PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\n</code></pre>\n<p>Example Public Key that Instagram returns</p>\n<pre><code>c81814218a8fe89a6a5794ff5f2a192bf5ab9d3f7115bc8fbceb7b701079777c\n</code></pre>\n<p>I checked multiple online sources and they all seem to follow the same method I am doing. Am I doing something wrong? Thanks !</p>\n"},{"tags":["java","android","textview"],"answers":[{"tags":[],"owner":{"account_id":11029,"reputation":4724,"user_id":21108,"display_name":"Nate"},"down_vote_count":5,"up_vote_count":333,"is_accepted":true,"score":328,"last_activity_date":1508363562,"creation_date":1257254907,"answer_id":1667339,"question_id":1666736,"body_markdown":"You should be able to use the &quot;ellipsize&quot; property of a text view:\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/text_mytext&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:maxLines=&quot;1&quot;\r\n    /&gt;\r\nYou may also need to apply gravity values to the layout too; I have sometimes seen &quot;auto-stretching&quot; views without them.","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>You should be able to use the \"ellipsize\" property of a text view:</p>\n\n<pre><code>&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/text_mytext\"\n    android:ellipsize=\"end\"\n    android:maxLines=\"1\"\n/&gt;\n</code></pre>\n\n<p>You may also need to apply gravity values to the layout too; I have sometimes seen \"auto-stretching\" views without them.</p>\n"},{"tags":[],"owner":{"account_id":267816,"reputation":6421,"user_id":1970896,"accept_rate":60,"display_name":"BonanzaDriver"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1305784875,"creation_date":1305784875,"answer_id":6054458,"question_id":1666736,"body_markdown":"Found an interesting work-a-round for this problem.\r\n\r\n    maxLines=1\r\n    ellipsize=end\r\n    scrollHorizontally=true\r\n\r\nThe trick is that last statement about horizontal scrolling .... check it out.  It at least works on v2.2.","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>Found an interesting work-a-round for this problem.</p>\n\n<pre><code>maxLines=1\nellipsize=end\nscrollHorizontally=true\n</code></pre>\n\n<p>The trick is that last statement about horizontal scrolling .... check it out.  It at least works on v2.2.</p>\n"},{"tags":[],"owner":{"account_id":200738,"reputation":369,"user_id":3137890,"display_name":"xevser"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1531873949,"creation_date":1417701481,"answer_id":27295897,"question_id":1666736,"body_markdown":"Programmatically, you can use:\r\n\r\n    TextView tx = new TextView(this);\r\n    tx.setTextSize(13);\r\n    tx.setGravity(Gravity.CENTER);\r\n    tx.setTop(90);\r\n    tx.setText(&quot;Long text here&quot;);\r\n    tx.setTextColor(Color.BLACK);\r\n    tx.setSingleLine(true);\r\n    tx.setEllipsize(TruncateAt.END);","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>Programmatically, you can use:</p>\n\n<pre><code>TextView tx = new TextView(this);\ntx.setTextSize(13);\ntx.setGravity(Gravity.CENTER);\ntx.setTop(90);\ntx.setText(\"Long text here\");\ntx.setTextColor(Color.BLACK);\ntx.setSingleLine(true);\ntx.setEllipsize(TruncateAt.END);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20826903,"reputation":19,"user_id":15297167,"display_name":"Reny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666425058,"creation_date":1662702826,"answer_id":73657838,"question_id":1666736,"body_markdown":"Just add\r\n``` android:ellipsize=&quot;end&quot;``` on XML &lt;/br&gt;\r\nand your code should look like this\r\n\r\n    \r\n    &lt;TextView\r\n        android:id=&quot;@+id/newsTitleTextView&quot;\r\n        android:layout_marginLeft=&quot;5dp&quot;\r\n        android:layout_toRightOf=&quot;@id/newsThumbnailImageView&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:maxLines=&quot;2&quot;\r\n        android:text=&quot;Analysts See Slower Bitcoin Hashrate Growth in 2022 Amid Market Correction &quot;\r\n        android:textSize=&quot;15sp&quot; /&gt;\r\n","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>Just add\n<code> android:ellipsize=&quot;end&quot;</code> on XML \nand your code should look like this</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/newsTitleTextView&quot;\n    android:layout_marginLeft=&quot;5dp&quot;\n    android:layout_toRightOf=&quot;@id/newsThumbnailImageView&quot;\n    android:ellipsize=&quot;end&quot;\n    android:maxLines=&quot;2&quot;\n    android:text=&quot;Analysts See Slower Bitcoin Hashrate Growth in 2022 Amid Market Correction &quot;\n    android:textSize=&quot;15sp&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":61957,"reputation":44743,"user_id":184367,"accept_rate":76,"display_name":"znq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104915,"favorite_count":0,"down_vote_count":0,"up_vote_count":149,"accepted_answer_id":1667339,"answer_count":4,"score":149,"last_activity_date":1666425058,"creation_date":1257247563,"question_id":1666736,"body_markdown":"If a `String` is longer than the `TextView`&#39;s width it automatically wraps onto the next line. I can avoid this by using `android:singleLine` (deprecated) or by setting `android:inputType=&quot;text&quot;`. What I need now is something that replaces the last 3 characters of my `String` with &quot;**...**&quot;. Since I&#39;m not using a monospace font this will always be different depending on the letters used in my `String`. So I&#39;m wondering what&#39;s the best way to get the last 3 characters of a String in a `TextView` and replace them. Maybe there&#39;s already something implemented in the Android framework, since this must be a common problem.","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>If a <code>String</code> is longer than the <code>TextView</code>'s width it automatically wraps onto the next line. I can avoid this by using <code>android:singleLine</code> (deprecated) or by setting <code>android:inputType=\"text\"</code>. What I need now is something that replaces the last 3 characters of my <code>String</code> with \"<strong>...</strong>\". Since I'm not using a monospace font this will always be different depending on the letters used in my <code>String</code>. So I'm wondering what's the best way to get the last 3 characters of a String in a <code>TextView</code> and replace them. Maybe there's already something implemented in the Android framework, since this must be a common problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1666425186,"post_id":74161122,"comment_id":130937880,"body_markdown":"Sounds the same as [Files.delete does not delete empty directory](https://stackoverflow.com/questions/62132957/files-delete-does-not-delete-empty-directory)","body":"Sounds the same as <a href=\"https://stackoverflow.com/questions/62132957/files-delete-does-not-delete-empty-directory\">Files.delete does not delete empty directory</a>"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666424651,"creation_date":1666424309,"answer_id":74161854,"question_id":74161122,"body_markdown":"This problem happens on Windows when you are not closing all the directory streams correctly. You must close all directory streams  scanned in your code. The two examples you&#39;ve shown can be fixed with try with resources:\r\n\r\n    try(Stream&lt;Path&gt; stream = Files.list( ... )) {\r\n        ... your code\r\n        stream.xyz(...);\r\n    }\r\n\r\n... plus same for `Files.walk()` in `deleteDirectory`. Check other similar calls in all code. \r\n\r\nWhen this occurs the directory is in a strange state when viewed in Windows Explorer - visible but not accessible. Shutting down the VM clears up correctly and the folder disappears from Explorer.","title":"Files.delete did not delete the folder correctly","body":"<p>This problem happens on Windows when you are not closing all the directory streams correctly. You must close all directory streams  scanned in your code. The two examples you've shown can be fixed with try with resources:</p>\n<pre><code>try(Stream&lt;Path&gt; stream = Files.list( ... )) {\n    ... your code\n    stream.xyz(...);\n}\n</code></pre>\n<p>... plus same for <code>Files.walk()</code> in <code>deleteDirectory</code>. Check other similar calls in all code.</p>\n<p>When this occurs the directory is in a strange state when viewed in Windows Explorer - visible but not accessible. Shutting down the VM clears up correctly and the folder disappears from Explorer.</p>\n"}],"owner":{"account_id":26291969,"reputation":27,"user_id":19958859,"display_name":"miniWorld"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74161854,"answer_count":1,"score":0,"last_activity_date":1666424651,"creation_date":1666413744,"question_id":74161122,"body_markdown":"In the springboot project, after the files have been merged, they need to be deleted.\r\nThe main code for the merge method is：\r\n```\r\n// chunkFolder indicates the file storage folder path\r\nFiles.list(Paths.get(chunkFolder))\r\n                .filter(path -&gt; path.getFileName().toString().contains(HYPHEN))\r\n                .sorted((p1, p2) -&gt; {\r\n                    String fileName1 = p1.getFileName().toString();\r\n                    String fileName2 = p2.getFileName().toString();\r\n                    int index1 = fileName1.indexOf(HYPHEN);\r\n                    int index2 = fileName2.indexOf(HYPHEN);\r\n                    return Integer.valueOf(fileName1.substring(0, index1)).compareTo(Integer.valueOf(fileName2.substring(0, index2)));\r\n                })\r\n                .forEach(path -&gt; {\r\n                            try {\r\n                                Files.write(Paths.get(target), Files.readAllBytes(path), StandardOpenOption.APPEND);\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                );\r\n```\r\nThe delete method is:\r\n```\r\n public void deleteDirectory(Path targetPath) throws IOException {\r\n        Files.walk(targetPath).sorted(Comparator.reverseOrder()).forEach(path -&gt; {\r\n            try {\r\n                Files.delete(path);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n```\r\nIn the windows environment test, delete the storage path after merging. However, the results show that the folder still exists, but cannot be accessed. If you stop the springboot project, the folder disappears.","title":"Files.delete did not delete the folder correctly","body":"<p>In the springboot project, after the files have been merged, they need to be deleted.\nThe main code for the merge method is：</p>\n<pre><code>// chunkFolder indicates the file storage folder path\nFiles.list(Paths.get(chunkFolder))\n                .filter(path -&gt; path.getFileName().toString().contains(HYPHEN))\n                .sorted((p1, p2) -&gt; {\n                    String fileName1 = p1.getFileName().toString();\n                    String fileName2 = p2.getFileName().toString();\n                    int index1 = fileName1.indexOf(HYPHEN);\n                    int index2 = fileName2.indexOf(HYPHEN);\n                    return Integer.valueOf(fileName1.substring(0, index1)).compareTo(Integer.valueOf(fileName2.substring(0, index2)));\n                })\n                .forEach(path -&gt; {\n                            try {\n                                Files.write(Paths.get(target), Files.readAllBytes(path), StandardOpenOption.APPEND);\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n                        }\n                );\n</code></pre>\n<p>The delete method is:</p>\n<pre><code> public void deleteDirectory(Path targetPath) throws IOException {\n        Files.walk(targetPath).sorted(Comparator.reverseOrder()).forEach(path -&gt; {\n            try {\n                Files.delete(path);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n</code></pre>\n<p>In the windows environment test, delete the storage path after merging. However, the results show that the folder still exists, but cannot be accessed. If you stop the springboot project, the folder disappears.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":6790866,"reputation":2710,"user_id":5228065,"display_name":"Akif Hadziabdic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618427609,"creation_date":1618427609,"answer_id":67097796,"question_id":67097742,"body_markdown":"You need to define consumes attribute.\r\n\r\n    @PostMapping (path = &quot;/test2&quot;, consumes = {MediaType.APPLICATION_OCTET_STREAM_VALUE})","title":"How can a spring controller deal with application/octet-stream request?","body":"<p>You need to define consumes attribute.</p>\n<pre><code>@PostMapping (path = &quot;/test2&quot;, consumes = {MediaType.APPLICATION_OCTET_STREAM_VALUE})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666424543,"creation_date":1666424543,"answer_id":74161873,"question_id":67097742,"body_markdown":"Here is the implementation with Unit Test Case.\r\n\r\n```java\r\n    @PostMapping(value = &quot;/upload&quot;,\r\n            consumes = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n    public String demo(HttpServletRequest httpServletRequest) {\r\n\r\n        ServletInputStream inputStream;\r\n\r\n        try {\r\n            inputStream = httpServletRequest.getInputStream();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        final List&lt;String&gt; list = new BufferedReader(new InputStreamReader(inputStream))\r\n                .lines().toList();\r\n        System.out.println(list);\r\n        return &quot;Hello World&quot;;\r\n    }\r\n```\r\n\r\n**Test Case**\r\n\r\n```java\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void shouldTestBinaryFileUpload() throws Exception {\r\n        mockMvc\r\n                .perform(MockMvcRequestBuilders\r\n                        .post(&quot;/api/user/upload&quot;)\r\n                        .content(&quot;Hello&quot;.getBytes())\r\n                        .contentType(MediaType.APPLICATION_OCTET_STREAM))\r\n                .andExpect(MockMvcResultMatchers\r\n                        .status()\r\n                        .isOk())\r\n                .andExpect(MockMvcResultMatchers\r\n                        .content()\r\n                        .bytes(&quot;Hello World&quot;.getBytes()));\r\n    }\r\n```","title":"How can a spring controller deal with application/octet-stream request?","body":"<p>Here is the implementation with Unit Test Case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(value = &quot;/upload&quot;,\n            consumes = MediaType.APPLICATION_OCTET_STREAM_VALUE)\n    public String demo(HttpServletRequest httpServletRequest) {\n\n        ServletInputStream inputStream;\n\n        try {\n            inputStream = httpServletRequest.getInputStream();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        final List&lt;String&gt; list = new BufferedReader(new InputStreamReader(inputStream))\n                .lines().toList();\n        System.out.println(list);\n        return &quot;Hello World&quot;;\n    }\n</code></pre>\n<p><strong>Test Case</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void shouldTestBinaryFileUpload() throws Exception {\n        mockMvc\n                .perform(MockMvcRequestBuilders\n                        .post(&quot;/api/user/upload&quot;)\n                        .content(&quot;Hello&quot;.getBytes())\n                        .contentType(MediaType.APPLICATION_OCTET_STREAM))\n                .andExpect(MockMvcResultMatchers\n                        .status()\n                        .isOk())\n                .andExpect(MockMvcResultMatchers\n                        .content()\n                        .bytes(&quot;Hello World&quot;.getBytes()));\n    }\n</code></pre>\n"}],"owner":{"account_id":4962272,"reputation":525,"user_id":4162708,"accept_rate":53,"display_name":"lily"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666424543,"creation_date":1618427343,"question_id":67097742,"body_markdown":"I wrote a spring controller with following methods to deal with a callback http request,\r\n\r\n    @PostMapping (&quot;/test&quot;)\r\n    public void notifyTranscodeResult(String paramStr){\r\n       ...\r\n    }\r\n\r\n\r\n    @PostMapping (&quot;/test2&quot;)\r\n    public void notifyTranscodeResult(@RequestBody ParamClass param){\r\n       ...\r\n    }\r\n\r\nbut I get errors: Resolved exception caused by handler execution: org.springframework.web.HttpMediaTypeNotSupportedException:       Content type &#39;application/octet-stream&#39; not supported\r\n\r\nI can&#39;t change the callback http request because they are from other third-party services, how can I change my controller to correctly get the request params?","title":"How can a spring controller deal with application/octet-stream request?","body":"<p>I wrote a spring controller with following methods to deal with a callback http request,</p>\n<pre><code>@PostMapping (&quot;/test&quot;)\npublic void notifyTranscodeResult(String paramStr){\n   ...\n}\n\n\n@PostMapping (&quot;/test2&quot;)\npublic void notifyTranscodeResult(@RequestBody ParamClass param){\n   ...\n}\n</code></pre>\n<p>but I get errors: Resolved exception caused by handler execution: org.springframework.web.HttpMediaTypeNotSupportedException:       Content type 'application/octet-stream' not supported</p>\n<p>I can't change the callback http request because they are from other third-party services, how can I change my controller to correctly get the request params?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"display_name":"user11044402"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1562847508,"creation_date":1562847508,"answer_id":56988999,"question_id":56988955,"body_markdown":"Just use the `URL` constructor to build a new URL.\r\n\r\n```java\r\nURL newUrl = new URL(aURL.getProtocol(), aURL.getHost(), 8080, &quot;/&quot;);\r\n```","title":"Java URL: Get root of URL object (remove path)","body":"<p>Just use the <code>URL</code> constructor to build a new URL.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>URL newUrl = new URL(aURL.getProtocol(), aURL.getHost(), 8080, \"/\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27212,"reputation":413,"user_id":71576,"display_name":"kdubb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666423323,"creation_date":1666423323,"answer_id":74161767,"question_id":56988955,"body_markdown":"I found shorter method that maintains everything but the path portion, use `URI.resolve()`.\r\n\r\n```java\r\nURL url = new URL(&quot;http://example.com:8081/api/test&quot;);\r\nSystem.out.println(url)// prints &quot;http://example.com:8081/api/test&quot;\r\n\r\nURL urlNoPath = url.resolve(&quot;/&quot;);\r\nSystem.out.println(url)// prints &quot;http://example.com:8081/&quot;\r\n```","title":"Java URL: Get root of URL object (remove path)","body":"<p>I found shorter method that maintains everything but the path portion, use <code>URI.resolve()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;http://example.com:8081/api/test&quot;);\nSystem.out.println(url)// prints &quot;http://example.com:8081/api/test&quot;\n\nURL urlNoPath = url.resolve(&quot;/&quot;);\nSystem.out.println(url)// prints &quot;http://example.com:8081/&quot;\n</code></pre>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3389,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74161767,"answer_count":2,"score":8,"last_activity_date":1666423323,"creation_date":1562847349,"question_id":56988955,"body_markdown":"Is there any way to get only the scheme + host + port from a given `URL`.\r\n\r\nSo I mean, I want to remove path url segment.\r\n\r\n    URL aURL = new URL(&quot;http://example.com:80/docs/books/tutorial&quot;\r\n                           + &quot;/index.html?name=networking#DOWNLOADING&quot;);\r\n\r\nI&#39;ve been playing with this:\r\n\r\n    System.out.println(&quot;protocol = &quot; + aURL.getProtocol());\r\n    System.out.println(&quot;authority = &quot; + aURL.getAuthority());\r\n    System.out.println(&quot;host = &quot; + aURL.getHost());\r\n    System.out.println(&quot;port = &quot; + aURL.getPort());\r\n    System.out.println(&quot;path = &quot; + aURL.getPath());\r\n    System.out.println(&quot;query = &quot; + aURL.getQuery());\r\n    System.out.println(&quot;filename = &quot; + aURL.getFile());\r\n    System.out.println(&quot;ref = &quot; + aURL.getRef());\r\n\r\nOutput is:\r\n\r\n    protocol = http\r\n    authority = example.com:80\r\n    host = example.com\r\n    port = 80\r\n    path = /docs/books/tutorial/index.html\r\n    query = name=networking\r\n    filename = /docs/books/tutorial/index.html?name=networking\r\n    ref = DOWNLOADING\r\n\r\nwhat I want to get is a new `URL` object to `http://example.com:8080`\r\n\r\nAny ideas?","title":"Java URL: Get root of URL object (remove path)","body":"<p>Is there any way to get only the scheme + host + port from a given <code>URL</code>.</p>\n\n<p>So I mean, I want to remove path url segment.</p>\n\n<pre><code>URL aURL = new URL(\"http://example.com:80/docs/books/tutorial\"\n                       + \"/index.html?name=networking#DOWNLOADING\");\n</code></pre>\n\n<p>I've been playing with this:</p>\n\n<pre><code>System.out.println(\"protocol = \" + aURL.getProtocol());\nSystem.out.println(\"authority = \" + aURL.getAuthority());\nSystem.out.println(\"host = \" + aURL.getHost());\nSystem.out.println(\"port = \" + aURL.getPort());\nSystem.out.println(\"path = \" + aURL.getPath());\nSystem.out.println(\"query = \" + aURL.getQuery());\nSystem.out.println(\"filename = \" + aURL.getFile());\nSystem.out.println(\"ref = \" + aURL.getRef());\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>protocol = http\nauthority = example.com:80\nhost = example.com\nport = 80\npath = /docs/books/tutorial/index.html\nquery = name=networking\nfilename = /docs/books/tutorial/index.html?name=networking\nref = DOWNLOADING\n</code></pre>\n\n<p>what I want to get is a new <code>URL</code> object to <code>http://example.com:8080</code></p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","circular-buffer","circular-queue"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666422884,"post_id":74161699,"comment_id":130937567,"body_markdown":"system.arraycopy: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)","body":"system.arraycopy: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666422965,"post_id":74161699,"comment_id":130937580,"body_markdown":"`tailIndex`: Index of &quot;tail&quot; (element/node)!?, `elements.length` = &quot;old capacity&quot;...","body":"<code>tailIndex</code>: Index of &quot;tail&quot; (element/node)!?, <code>elements.length</code> = &quot;old capacity&quot;..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666423346,"post_id":74161699,"comment_id":130937621,"body_markdown":"The rest is straight forward(!?;): 1. System.arraycopy copies `numberOfElementsAfterTail` elements from `elements[tailIndex]` to `newArray[0]`.","body":"The rest is straight forward(!?;): 1. System.arraycopy copies <code>numberOfElementsAfterTail</code> elements from <code>elements[tailIndex]</code> to <code>newArray[0]</code>."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666423570,"post_id":74161699,"comment_id":130937658,"body_markdown":"2. System.arraycopy (`if (tailIndex &gt; 0)`! &lt;=&gt; &quot;size&quot;`&gt;0`) copies `tailIndex` elements from `elements[0]` to `newArray[numberOfElementsAfterTail]`","body":"2. System.arraycopy (<code>if (tailIndex &gt; 0)</code>! &lt;=&gt; &quot;size&quot;<code>&gt;0</code>) copies <code>tailIndex</code> elements from <code>elements[0]</code> to <code>newArray[numberOfElementsAfterTail]</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666424315,"post_id":74161699,"comment_id":130937734,"body_markdown":"No, `headIndex=0;...` is still &quot;confusing&quot;, when tailIndex/size&gt;0","body":"No, <code>headIndex=0;...</code> is still &quot;confusing&quot;, when tailIndex/size&gt;0"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666424701,"post_id":74161699,"comment_id":130937797,"body_markdown":"..but I&#39;d depends on how `head/tail` are treated:)","body":"..but I&#39;d depends on how <code>head&#47;tail</code> are treated:)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666424846,"post_id":74161699,"comment_id":130937821,"body_markdown":"..when `headIndex` should point to the first non-empty element, then `headIndex=numberOfElementsAfterTail` is correct. When it should point to the first empty/free element, then `headIndex=0;` is super.","body":"..when <code>headIndex</code> should point to the first non-empty element, then <code>headIndex=numberOfElementsAfterTail</code> is correct. When it should point to the first empty/free element, then <code>headIndex=0;</code> is super."},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1666439380,"post_id":74161699,"comment_id":130940021,"body_markdown":"thank u for ur explanation, one more thing though, can you please explain what is numberOfElementsAfterTail and what is point of having this info","body":"thank u for ur explanation, one more thing though, can you please explain what is numberOfElementsAfterTail and what is point of having this info"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666440451,"post_id":74161699,"comment_id":130940232,"body_markdown":"It is &quot;the gap&quot;: `oldArrayLength - tailIndex` so..between (old) &quot;capacity&quot; and &quot;size&quot; .. and needed as a marker/counter/index ..in this implementation","body":"It is &quot;the gap&quot;: <code>oldArrayLength - tailIndex</code> so..between (old) &quot;capacity&quot; and &quot;size&quot; .. and needed as a marker/counter/index ..in this implementation"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666440569,"post_id":74161699,"comment_id":130940254,"body_markdown":"Can call it &quot;count/number of free space&quot; in &quot;old array&quot;.","body":"Can call it &quot;count/number of free space&quot; in &quot;old array&quot;."}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666422493,"creation_date":1666422493,"question_id":74161699,"body_markdown":"I&#39;m trying to learn about the implementation of a circular queue using arrays, and currently, my main source of learning how it works is through this page.\r\n\r\nhttps://www.happycoders.eu/algorithms/implement-deque-using-array/\r\n\r\nHowever, I&#39;m struggling to understand how one method in the code works, and that is the `growToNewCapacity()` method. I&#39;ve provided the code down below.\r\n\r\n    public class ArrayDeque&lt;E&gt; {\r\n            private static final int DEFAULT_INITIAL_CAPACITY = 10;\r\n            private Object[] elements;\r\n            private int headIndex;\r\n            private int tailIndex;\r\n            private int numberOfElements;\r\n    \r\n            public ArrayDeque() {\r\n                this(DEFAULT_INITIAL_CAPACITY);\r\n            }\r\n    \r\n            public ArrayDeque(int capacity) {\r\n                if (capacity &lt; 1) {\r\n                    throw new IllegalArgumentException(&quot;Capacity must be 1 or higher&quot;);\r\n                }\r\n    \r\n                elements = new Object[capacity];\r\n            }\r\n        private void growToNewCapacity(int newCapacity) {\r\n            Object[] newArray = new Object[newCapacity];\r\n            int oldArrayLength = elements.length;\r\n            int numberOfElementsAfterTail = oldArrayLength - tailIndex;\r\n            System.arraycopy(elements, tailIndex, newArray, 0, numberOfElementsAfterTail);\r\n            if (tailIndex &gt; 0) {\r\n                System.arraycopy(elements, 0, newArray, numberOfElementsAfterTail, tailIndex);\r\n            }\r\n            headIndex = 0;\r\n            tailIndex = oldArrayLength;\r\n            elements = newArray;\r\n        }\r\n\r\nI&#39;m just completely lost after the second line of the method which states \r\n\r\n    Object[] newArray = new Object[newCapacity];\r\n    int oldArrayLength = elements.length;\r\n\r\nAnything beyond that is completely dumbfounded for me, so can anyone please take some time off to explain what exactly is going on with the code, so that I could implement it based on my understanding later on.\r\n\r\n\r\n\r\n","title":"How can we grow an array in a circular buffer / circular queue implementation","body":"<p>I'm trying to learn about the implementation of a circular queue using arrays, and currently, my main source of learning how it works is through this page.</p>\n<p><a href=\"https://www.happycoders.eu/algorithms/implement-deque-using-array/\" rel=\"nofollow noreferrer\">https://www.happycoders.eu/algorithms/implement-deque-using-array/</a></p>\n<p>However, I'm struggling to understand how one method in the code works, and that is the <code>growToNewCapacity()</code> method. I've provided the code down below.</p>\n<pre><code>public class ArrayDeque&lt;E&gt; {\n        private static final int DEFAULT_INITIAL_CAPACITY = 10;\n        private Object[] elements;\n        private int headIndex;\n        private int tailIndex;\n        private int numberOfElements;\n\n        public ArrayDeque() {\n            this(DEFAULT_INITIAL_CAPACITY);\n        }\n\n        public ArrayDeque(int capacity) {\n            if (capacity &lt; 1) {\n                throw new IllegalArgumentException(&quot;Capacity must be 1 or higher&quot;);\n            }\n\n            elements = new Object[capacity];\n        }\n    private void growToNewCapacity(int newCapacity) {\n        Object[] newArray = new Object[newCapacity];\n        int oldArrayLength = elements.length;\n        int numberOfElementsAfterTail = oldArrayLength - tailIndex;\n        System.arraycopy(elements, tailIndex, newArray, 0, numberOfElementsAfterTail);\n        if (tailIndex &gt; 0) {\n            System.arraycopy(elements, 0, newArray, numberOfElementsAfterTail, tailIndex);\n        }\n        headIndex = 0;\n        tailIndex = oldArrayLength;\n        elements = newArray;\n    }\n</code></pre>\n<p>I'm just completely lost after the second line of the method which states</p>\n<pre><code>Object[] newArray = new Object[newCapacity];\nint oldArrayLength = elements.length;\n</code></pre>\n<p>Anything beyond that is completely dumbfounded for me, so can anyone please take some time off to explain what exactly is going on with the code, so that I could implement it based on my understanding later on.</p>\n"},{"tags":["java","jframe","jinternalframe"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1666417671,"post_id":74161102,"comment_id":130937015,"body_markdown":"You don&#39;t. Use `JInternalFrame` or `JDialog` instead.  There is no reason to have a `JFrame` inside another.","body":"You don&#39;t. Use <code>JInternalFrame</code> or <code>JDialog</code> instead.  There is no reason to have a <code>JFrame</code> inside another."}],"answers":[{"tags":[],"owner":{"account_id":24850125,"reputation":35,"user_id":18727166,"display_name":"Arpan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666421193,"creation_date":1666421193,"answer_id":74161603,"question_id":74161102,"body_markdown":"Just imported the frame that I want into the JFrame I want it to be in and did this.\r\n```\r\nJInternalFrame printImg = new JInternalFrame(inTitle);\r\nJPanel inLabel= new JPanel();\r\n        inLabel.add(new TestPane());\r\n        printImg.add(inLabel);\r\n        printImg.setVisible(true);\r\n```\r\njust for people who want to know when they stumble upon the post. Wouldnt want them to stay unanswered.\r\nmight also work if u copy-paste the Testpane (as the example) part and do the same thing for the rest instead of importing.","title":"How do I set a well functioning JFrame to be inside another JFrame as a internal JFrame?","body":"<p>Just imported the frame that I want into the JFrame I want it to be in and did this.</p>\n<pre><code>JInternalFrame printImg = new JInternalFrame(inTitle);\nJPanel inLabel= new JPanel();\n        inLabel.add(new TestPane());\n        printImg.add(inLabel);\n        printImg.setVisible(true);\n</code></pre>\n<p>just for people who want to know when they stumble upon the post. Wouldnt want them to stay unanswered.\nmight also work if u copy-paste the Testpane (as the example) part and do the same thing for the rest instead of importing.</p>\n"}],"owner":{"account_id":24850125,"reputation":35,"user_id":18727166,"display_name":"Arpan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74161603,"answer_count":1,"score":0,"last_activity_date":1666421193,"creation_date":1666413501,"question_id":74161102,"body_markdown":"Now I know how JInternalFrame works but what I am trying to do is give an already well-functioning JFrame with a space in a place where I have placed an empty Internal Frame. \r\n\r\nI want it to grab what I have in the already existing JFrame in the package and place it in that Internal JFrame. Here is the JFrame I want to be placed into another JFrame as an internal frame.\r\nWhy I wanna do it this way because the inner frame has a lot of functionality and the container Jframe would be too big to do it all in itself.\r\n\r\nWhat it does is not much of an interest to the thing I wanna do but here it is: It takes images and makes them pure b/w and takes 2 clicks on the screen and stores every pixel between them in a 2d array with their coordinates.\r\n```\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.UIManager;\r\npublic class imageFilt {\r\n    public static void main(String[] args)\t{new imageFilt();}\r\n    //--basic initialization\r\n    int[] x= new int[3], y= new int[3];\r\n    static int[] black= new int[3]; //---------------- if black is 0, then the pixel is black\r\n    int clr;int flag=0;\r\n    //-----------------------------initialize the screen as runnable. dont disturb the fit\r\n    public imageFilt() {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());}\tcatch (Exception ex) {}\r\n                JFrame frame = new JFrame();\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.add(new TestPane());\r\n                frame.pack();\r\n                frame.setLocationRelativeTo(null);\r\n                frame.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n    public class TestPane extends JPanel {\r\n        private BufferedImage master;\r\n        private BufferedImage blackWhite;        \r\n        public TestPane() {\r\n            //----------------------try/catch for (pure black || pure white)\r\n        \ttry {\r\n                master = ImageIO.read(new File(&quot;D:\\\\colz\\\\java\\\\1Aakansh thapa\\\\1_1_2.jpg&quot;));\r\n                blackWhite = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_BYTE_BINARY);\r\n                Graphics2D g2d = blackWhite.createGraphics();\r\n                g2d.drawImage(master, 0, 0, this);\r\n                g2d.dispose();\r\n            }catch (IOException ex) {ex.printStackTrace();}\r\n            //--------------------------1st and 2nd click point data and color\r\n\t        \tthis.addMouseListener(new MouseListener() {\r\n\t            \tint[] isFristEmpty;\r\n\t            \t@Override\r\n\t    \t\t\tpublic void mouseClicked(MouseEvent e1) {\r\n\t    \t\t\t\t\tint[] temp =new int[3];\t\t//external container so i can get 1st and 2nd separately\r\n\t    \t\t\t\t\ttemp[0] = (int) e1.getX();\r\n\t    \t\t\t\t\ttemp[1] = (int) e1.getY();\r\n\t    \t\t\t\t\tclr = blackWhite.getRGB(temp[0], temp[1]);\r\n\t    \t\t\t\t\ttemp[2] = (clr &amp; 0x00ff0000) &gt;&gt; 16;//--------------------bit map to find if red is there or not.\r\n\t    \t\t\t\t\t//-------------------------------------------------------since its pure b/w, if red 0, its white.\r\n\t    \t\t\t\t\tif(isFristEmpty==null) {\r\n\t\t    \t\t\t\t\tisFristEmpty=temp;\r\n\t\t    \t\t\t\t\tx[0] = temp[0]; y[0] = temp[1]; black[0]=temp[2];//------1st click\r\n\t\t    \t\t\t\t}else {\r\n\t\t    \t\t\t\t\tx[1] = temp[0]; y[1] = temp[1]; black[1]=temp[2];//-----2nd click\r\n\t\t    \t\t\t\t\tisFristEmpty=null;\t//so the 3rd click is considered 1st click again\r\n\t\t    \t\t\t\t\tflag=1;\r\n\t\t   \t\t\t\t\t}\r\n\t    \t\t\t\t\tif (flag==1) {\r\n\t    \t\t\t\t\t\tSystem.out.print(&quot;X1: &quot;+x[0]+&quot; &amp; &quot;+&quot;Y1: &quot;+y[0]+&quot; &quot;+&quot;(225 if white): &quot;+black[0]+&quot;\\t&quot;);\r\n\t    \t\t\t\t\t\tSystem.out.println(&quot;X2: &quot;+x[1]+&quot; &amp; &quot;+&quot;Y2: &quot;+y[1]+&quot; &quot;+&quot;(225 if white): &quot;+black[1]);\r\n\t    \t\t\t\t\t\tcounter(x,y);\r\n\t    \t\t\t\t\t}\r\n\t            \t}\r\n\t    \t\t\t@Override\tpublic void mousePressed(MouseEvent e) {}\r\n\t    \t\t\t@Override\tpublic void mouseReleased(MouseEvent e) {}\r\n\t    \t\t\t@Override\tpublic void mouseEntered(MouseEvent e) {}\r\n\t    \t\t\t@Override\tpublic void mouseExited(MouseEvent e) {}\r\n\t        \t});\r\n        }\r\n        //--------------------------------------------DDA block\r\n        private void counter(int x[],int y[]) {\r\n            if(flag!=1) return;//-------------------to only go to counter method after it takes that 2nd click\r\n            int dx = (x[1] - x[0]);\r\n            int dy = (y[1] - y[0]);//--------------makes it applicable for both inclinations (we do not have math.abs implies-&gt; -ve goes as -ve)\r\n            int step = Math.abs(dx) &gt; Math.abs(dy) ? Math.abs(dx) : Math.abs(dy);\r\n            System.out.println(&quot;Steps: &quot;+step);\r\n            float Xinc = dx / (float) step;\r\n            float Yinc = dy / (float) step;\r\n            \r\n            int[][] tog= new int[step][3];\r\n            tog[0][0]=x[0];\ttog[0][1]=y[0];\r\n            //---------------------------------------------------------------send value of x1 and y1 to listOfCoordinates\r\n            float xt=x[0],yt=y[0];\tint i=0, j=1;\tint a=0 ,b=0;\r\n            \r\n            while (a!=x[1] &amp;&amp; b!=y[1]){\r\n            \txt += Xinc;\r\n                yt += Yinc;\r\n                a=(int) xt;\tb=(int) yt;\r\n                tog[j][i] = a;\r\n               \ttog[j][i+1] = b;\r\n                //System.out.println(tog[j][i]+&quot; &quot;+tog[j][i+1]);           //*------------to print all that is saved\r\n               \tif(i==1) i=0;\r\n            }\r\n        }\r\n        //------------image size and such stuff. don&#39;t touch it\r\n\t    @Override\r\n\t    public Dimension getPreferredSize() {\r\n\t    \tDimension size = super.getPreferredSize();\r\n\t        if (master != null) {\r\n\t        \tsize = new Dimension(master.getWidth(), master.getHeight());\r\n\t        }\r\n\t        return size;\r\n\t    }\r\n\t    @Override\r\n\t    protected void paintComponent(Graphics g) {\r\n\t    \tsuper.paintComponent(g);\r\n\t        if (master != null) {\r\n\t        \tint x = (getWidth() - (master.getWidth())) / 2;\r\n\t            int y = (getHeight() - master.getHeight()) / 2;\r\n\t            g.drawImage(blackWhite, x, y, this);\r\n\t        }\r\n        }\r\n    }\r\n}\r\n```\r\nHope what I wanna do makes sense.\r\n","title":"How do I set a well functioning JFrame to be inside another JFrame as a internal JFrame?","body":"<p>Now I know how JInternalFrame works but what I am trying to do is give an already well-functioning JFrame with a space in a place where I have placed an empty Internal Frame.</p>\n<p>I want it to grab what I have in the already existing JFrame in the package and place it in that Internal JFrame. Here is the JFrame I want to be placed into another JFrame as an internal frame.\nWhy I wanna do it this way because the inner frame has a lot of functionality and the container Jframe would be too big to do it all in itself.</p>\n<p>What it does is not much of an interest to the thing I wanna do but here it is: It takes images and makes them pure b/w and takes 2 clicks on the screen and stores every pixel between them in a 2d array with their coordinates.</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.UIManager;\npublic class imageFilt {\n    public static void main(String[] args)  {new imageFilt();}\n    //--basic initialization\n    int[] x= new int[3], y= new int[3];\n    static int[] black= new int[3]; //---------------- if black is 0, then the pixel is black\n    int clr;int flag=0;\n    //-----------------------------initialize the screen as runnable. dont disturb the fit\n    public imageFilt() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());}  catch (Exception ex) {}\n                JFrame frame = new JFrame();\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n    public class TestPane extends JPanel {\n        private BufferedImage master;\n        private BufferedImage blackWhite;        \n        public TestPane() {\n            //----------------------try/catch for (pure black || pure white)\n            try {\n                master = ImageIO.read(new File(&quot;D:\\\\colz\\\\java\\\\1Aakansh thapa\\\\1_1_2.jpg&quot;));\n                blackWhite = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_BYTE_BINARY);\n                Graphics2D g2d = blackWhite.createGraphics();\n                g2d.drawImage(master, 0, 0, this);\n                g2d.dispose();\n            }catch (IOException ex) {ex.printStackTrace();}\n            //--------------------------1st and 2nd click point data and color\n                this.addMouseListener(new MouseListener() {\n                    int[] isFristEmpty;\n                    @Override\n                    public void mouseClicked(MouseEvent e1) {\n                            int[] temp =new int[3];     //external container so i can get 1st and 2nd separately\n                            temp[0] = (int) e1.getX();\n                            temp[1] = (int) e1.getY();\n                            clr = blackWhite.getRGB(temp[0], temp[1]);\n                            temp[2] = (clr &amp; 0x00ff0000) &gt;&gt; 16;//--------------------bit map to find if red is there or not.\n                            //-------------------------------------------------------since its pure b/w, if red 0, its white.\n                            if(isFristEmpty==null) {\n                                isFristEmpty=temp;\n                                x[0] = temp[0]; y[0] = temp[1]; black[0]=temp[2];//------1st click\n                            }else {\n                                x[1] = temp[0]; y[1] = temp[1]; black[1]=temp[2];//-----2nd click\n                                isFristEmpty=null;  //so the 3rd click is considered 1st click again\n                                flag=1;\n                            }\n                            if (flag==1) {\n                                System.out.print(&quot;X1: &quot;+x[0]+&quot; &amp; &quot;+&quot;Y1: &quot;+y[0]+&quot; &quot;+&quot;(225 if white): &quot;+black[0]+&quot;\\t&quot;);\n                                System.out.println(&quot;X2: &quot;+x[1]+&quot; &amp; &quot;+&quot;Y2: &quot;+y[1]+&quot; &quot;+&quot;(225 if white): &quot;+black[1]);\n                                counter(x,y);\n                            }\n                    }\n                    @Override   public void mousePressed(MouseEvent e) {}\n                    @Override   public void mouseReleased(MouseEvent e) {}\n                    @Override   public void mouseEntered(MouseEvent e) {}\n                    @Override   public void mouseExited(MouseEvent e) {}\n                });\n        }\n        //--------------------------------------------DDA block\n        private void counter(int x[],int y[]) {\n            if(flag!=1) return;//-------------------to only go to counter method after it takes that 2nd click\n            int dx = (x[1] - x[0]);\n            int dy = (y[1] - y[0]);//--------------makes it applicable for both inclinations (we do not have math.abs implies-&gt; -ve goes as -ve)\n            int step = Math.abs(dx) &gt; Math.abs(dy) ? Math.abs(dx) : Math.abs(dy);\n            System.out.println(&quot;Steps: &quot;+step);\n            float Xinc = dx / (float) step;\n            float Yinc = dy / (float) step;\n            \n            int[][] tog= new int[step][3];\n            tog[0][0]=x[0]; tog[0][1]=y[0];\n            //---------------------------------------------------------------send value of x1 and y1 to listOfCoordinates\n            float xt=x[0],yt=y[0];  int i=0, j=1;   int a=0 ,b=0;\n            \n            while (a!=x[1] &amp;&amp; b!=y[1]){\n                xt += Xinc;\n                yt += Yinc;\n                a=(int) xt; b=(int) yt;\n                tog[j][i] = a;\n                tog[j][i+1] = b;\n                //System.out.println(tog[j][i]+&quot; &quot;+tog[j][i+1]);           //*------------to print all that is saved\n                if(i==1) i=0;\n            }\n        }\n        //------------image size and such stuff. don't touch it\n        @Override\n        public Dimension getPreferredSize() {\n            Dimension size = super.getPreferredSize();\n            if (master != null) {\n                size = new Dimension(master.getWidth(), master.getHeight());\n            }\n            return size;\n        }\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (master != null) {\n                int x = (getWidth() - (master.getWidth())) / 2;\n                int y = (getHeight() - master.getHeight()) / 2;\n                g.drawImage(blackWhite, x, y, this);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Hope what I wanna do makes sense.</p>\n"},{"tags":["java","oracle-ebs"],"comments":[{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1666269510,"post_id":74139708,"comment_id":130899599,"body_markdown":"Do not [delete a question](https://stackoverflow.com/q/74139304/1509264) and then post the same question again. [Edit your original question](https://stackoverflow.com/posts/74139304/edit) to improve it and ask for it to be reopened.","body":"Do not <a href=\"https://stackoverflow.com/q/74139304/1509264\">delete a question</a> and then post the same question again. <a href=\"https://stackoverflow.com/posts/74139304/edit\">Edit your original question</a> to improve it and ask for it to be reopened."},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1666269820,"post_id":74139708,"comment_id":130899721,"body_markdown":"The title talks about Oracle EBS but the question talks about SQL and it is unclear where you want to use this Java library and what you want to do with it. If you want to add a Jar file to an Java-enabled Oracle RDBMS then use the `loadjava` utility; **NEVER** play with the file structures and try to include it manually through the file system.","body":"The title talks about Oracle EBS but the question talks about SQL and it is unclear where you want to use this Java library and what you want to do with it. If you want to add a Jar file to an Java-enabled Oracle RDBMS then use the <code>loadjava</code> utility; <b>NEVER</b> play with the file structures and try to include it manually through the file system."},{"owner":{"account_id":25090350,"reputation":165,"user_id":18942060,"display_name":"MK Said"},"score":0,"creation_date":1666270567,"post_id":74139708,"comment_id":130900014,"body_markdown":"@MT0 I edited my post which I mentioned why I need it and what is the java code for, many thanks for your reply, and please how can I use `loadjava` ?","body":"@MT0 I edited my post which I mentioned why I need it and what is the java code for, many thanks for your reply, and please how can I use <code>loadjava</code> ?"},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1666271633,"post_id":74139708,"comment_id":130900406,"body_markdown":"&quot;I have a java script&quot; Please [edit] the question and include the Java script. &quot;and want to use it in SQL oracle&quot; Please [edit] the question and include details of how you want to use it. It is impossible to tell you how to use something when we don&#39;t know what it is or how you want to use it.","body":"&quot;I have a java script&quot; Please <a href=\"https://stackoverflow.com/posts/74139708/edit\">edit</a> the question and include the Java script. &quot;and want to use it in SQL oracle&quot; Please <a href=\"https://stackoverflow.com/posts/74139708/edit\">edit</a> the question and include details of how you want to use it. It is impossible to tell you how to use something when we don&#39;t know what it is or how you want to use it."},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1666281025,"post_id":74139708,"comment_id":130904593,"body_markdown":"You still have not told us how you want to use it in Oracle (whether that is EBS or RDBMS is still unclear). Additionally, your Java method returns `void` (i.e. it does not return anything) so using it elsewhere is going to be almost impossible.","body":"You still have not told us how you want to use it in Oracle (whether that is EBS or RDBMS is still unclear). Additionally, your Java method returns <code>void</code> (i.e. it does not return anything) so using it elsewhere is going to be almost impossible."},{"owner":{"account_id":25090350,"reputation":165,"user_id":18942060,"display_name":"MK Said"},"score":0,"creation_date":1666281555,"post_id":74139708,"comment_id":130904764,"body_markdown":"@MT0 actually I am fresh on oracle sql, but want to sign the `str` which will come from db and send the output `base64` to store it in db.","body":"@MT0 actually I am fresh on oracle sql, but want to sign the <code>str</code> which will come from db and send the output <code>base64</code> to store it in db."}],"owner":{"account_id":25090350,"reputation":165,"user_id":18942060,"display_name":"MK Said"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1666420233,"creation_date":1666267988,"question_id":74139708,"body_markdown":"I have a java script and want to use it in SQL oracle but don&#39;t know how and where to add the 3rd java library in the server.\r\n\r\nI found one folder name `lib` \r\n\r\nIs it the right folder or there is another folder I can Idd? which I have the .jar file need to add\r\n\r\nI wrote a java code to sign a file from `Starkbank` library and in order to be able to us the java code I have to add `starkbank` library java file\r\n\r\n```\r\nimport com.starkbank.ellipticcurve.PrivateKey;\r\nimport com.starkbank.ellipticcurve.PublicKey;\r\nimport com.starkbank.ellipticcurve.Signature;\r\nimport com.starkbank.ellipticcurve.Ecdsa;\r\nimport com.starkbank.ellipticcurve.Ecdsa;\r\nimport com.starkbank.ellipticcurve.PublicKey;\r\nimport com.starkbank.ellipticcurve.Signature;\r\nimport com.starkbank.ellipticcurve.utils.ByteString;\r\nimport com.starkbank.ellipticcurve.utils.File;\r\nimport java.util.*;\r\n\r\npublic class NewClass3{\r\n\r\n    public static void main(String[] args){\r\n        \r\n        // Read files\r\n       // String publicKeyPem = File.read(&quot;publicKey.pem&quot;);\r\n        \r\n        String PrivKeyPem = File.read(&quot;ec-secp256k1-priv-key.pem&quot;);\r\n\r\n\r\n\r\n      //  PublicKey publicKey = PublicKey.fromPem(publicKeyPem);\r\n       \r\n        PrivateKey privateKey = PrivateKey.fromPem(PrivKeyPem);\r\n        \r\n          \r\n    Base64.Encoder enc = Base64.getEncoder();\r\n        Base64.Decoder dec = Base64.getDecoder();\r\n        \r\n    String str = &quot;LcHeQ9b2bhNW291aOgeXhBHKa1uHmNoKf/ATfX+AJbo=&quot;;\r\n  \r\n\r\n\r\n\r\n        // Decode data\r\n        String decoded = new String(dec.decode(str));\r\n        System.out.println(&quot;decoded value is \\t&quot; + decoded);\r\n        System.out.println(&quot;original value is \\t&quot; + str);\r\n        \r\n\r\n\r\n        // Generate Signature\r\n        Signature signature = Ecdsa.sign(decoded, privateKey);\r\n\r\n        // Return the signature verification status\r\n        System.out.println(&quot;signature: &quot; + signature);\r\n\r\n         // Encode into Base64 format - This value should add in QR code\r\n\r\n        String base64 = signature.toBase64();\r\n \r\n        // print encoded String\r\n        System.out.println(&quot;Encoded String:\\n&quot; + base64);\r\n        \r\n    }\r\n}\r\n```\r\n\r\n","title":"How to add Java Library inside Oracle EBS r11 in order to use Java script in SQL","body":"<p>I have a java script and want to use it in SQL oracle but don't know how and where to add the 3rd java library in the server.</p>\n<p>I found one folder name <code>lib</code></p>\n<p>Is it the right folder or there is another folder I can Idd? which I have the .jar file need to add</p>\n<p>I wrote a java code to sign a file from <code>Starkbank</code> library and in order to be able to us the java code I have to add <code>starkbank</code> library java file</p>\n<pre><code>import com.starkbank.ellipticcurve.PrivateKey;\nimport com.starkbank.ellipticcurve.PublicKey;\nimport com.starkbank.ellipticcurve.Signature;\nimport com.starkbank.ellipticcurve.Ecdsa;\nimport com.starkbank.ellipticcurve.Ecdsa;\nimport com.starkbank.ellipticcurve.PublicKey;\nimport com.starkbank.ellipticcurve.Signature;\nimport com.starkbank.ellipticcurve.utils.ByteString;\nimport com.starkbank.ellipticcurve.utils.File;\nimport java.util.*;\n\npublic class NewClass3{\n\n    public static void main(String[] args){\n        \n        // Read files\n       // String publicKeyPem = File.read(&quot;publicKey.pem&quot;);\n        \n        String PrivKeyPem = File.read(&quot;ec-secp256k1-priv-key.pem&quot;);\n\n\n\n      //  PublicKey publicKey = PublicKey.fromPem(publicKeyPem);\n       \n        PrivateKey privateKey = PrivateKey.fromPem(PrivKeyPem);\n        \n          \n    Base64.Encoder enc = Base64.getEncoder();\n        Base64.Decoder dec = Base64.getDecoder();\n        \n    String str = &quot;LcHeQ9b2bhNW291aOgeXhBHKa1uHmNoKf/ATfX+AJbo=&quot;;\n  \n\n\n\n        // Decode data\n        String decoded = new String(dec.decode(str));\n        System.out.println(&quot;decoded value is \\t&quot; + decoded);\n        System.out.println(&quot;original value is \\t&quot; + str);\n        \n\n\n        // Generate Signature\n        Signature signature = Ecdsa.sign(decoded, privateKey);\n\n        // Return the signature verification status\n        System.out.println(&quot;signature: &quot; + signature);\n\n         // Encode into Base64 format - This value should add in QR code\n\n        String base64 = signature.toBase64();\n \n        // print encoded String\n        System.out.println(&quot;Encoded String:\\n&quot; + base64);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1666395922,"post_id":74160097,"comment_id":130934962,"body_markdown":"Please see: [Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236)","body":"Please see: <a href=\"http://meta.stackoverflow.com/q/284236\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":978700,"reputation":2122,"user_id":998997,"accept_rate":50,"display_name":"Barcelona"},"score":0,"creation_date":1666396651,"post_id":74160097,"comment_id":130935060,"body_markdown":"I already updated the question, be honestly I need a hint not actually the real implementation","body":"I already updated the question, be honestly I need a hint not actually the real implementation"}],"answers":[{"tags":[],"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666420106,"creation_date":1666420106,"answer_id":74161531,"question_id":74160097,"body_markdown":"In the comments, you mentioned that you were looking for hints, so I&#39;ll share some ideas on how to approach the problem. The method I describe is ultimately a greedy algorithm, so it may not be optimal in all cases. It *is* optimal for the given example, but I would be interested in a counterexample that proves that it&#39;s not optimal.\r\n\r\nGiven the following topological graph, where\r\n- the letter is the task name, and the number is the effort for the task\r\n- purple tasks are starters, they have no dependencies \r\n- green tasks are intermediaries, they depend on other tasks, and tasks depend on them\r\n- blue tasks are terminals, no tasks depend on them\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe first step is to convert it (conceptually) to the following task diagram, where\r\n\r\n- the letter is the task name\r\n- the height of a task rectangle is proportional to the task effort\r\n- arrows show dependencies that aren&#39;t otherwise obvious\r\n- the terminals are aligned so that they all end at the same time\r\n- the end time for non-terminals is as late as possible while meeting the dependency requirements\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe conversion from topological graph to task diagram can be done with a breadth-first search. The terminals are assigned a distance of 0, and added to the queue. The edges are reversed, and have a weight equal to the task effort. So for example, there&#39;s an edge from &quot;H4&quot; to &quot;D1&quot; with a weight of 4. Tasks aren&#39;t added to the queue until all their dependents have been processed. For example, &quot;B1&quot; wouldn&#39;t go into the queue until tasks E, F, and G had come out of the queue.\r\n\r\nThe goal of the conversion is to determine the latest possible start time for each task that would allow all of the terminal tasks to finish at the same time (assuming that an unlimited number of workers were available).\r\n\r\nOnce every task has been assigned its latest possible starting time, then the greedy algorithm for task assignment begins. For the example, assume that there are two workers available. Then the tasks are assigned as follows:\r\n\r\n- A and B are started first.\r\n- F and E are next, but F should start before E since F requires more effort.\r\n- C should be started before D.\r\n- H is before I, and I is before G.\r\n\r\nIn short, tasks are sorted first by their topological order. Without violating the topological order, tasks are sorted by their start time, and for tasks with the same start time, the task that requires more effort is first.\r\n\r\nThis can be implemented with a priority queue that sorts based on task start time as the primary key, and task effort as the secondary key. Initially, only the starter tasks are added to the queue. As tasks are pulled from the queue, any tasks whose dependencies have been satisfied are added to the queue.\r\n\r\nThe final task assignments for the example are:\r\n\r\n|Worker ID|Task|Start Time|End Time|\r\n|--|--|--|--|\r\n|1|A|0|2|\r\n|2|B|0|1|\r\n|2|F|1|5|\r\n|1|E|2|5|\r\n|2|C|5|9|\r\n|1|D|5|6|\r\n|1|H|6|10|\r\n|2|I|9|12|\r\n|1|G|10|12|\r\n\r\nNote that this is an optimal solution for the example. Both workers finish at time 12. The total amount of effort for the tasks is 24, divided between 2 workers, giving 12 effort from each worker.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Iijw.png\r\n  [2]: https://i.stack.imgur.com/0CewI.png","title":"Task Scheduling with dependencies and worker allocation","body":"<p>In the comments, you mentioned that you were looking for hints, so I'll share some ideas on how to approach the problem. The method I describe is ultimately a greedy algorithm, so it may not be optimal in all cases. It <em>is</em> optimal for the given example, but I would be interested in a counterexample that proves that it's not optimal.</p>\n<p>Given the following topological graph, where</p>\n<ul>\n<li>the letter is the task name, and the number is the effort for the task</li>\n<li>purple tasks are starters, they have no dependencies</li>\n<li>green tasks are intermediaries, they depend on other tasks, and tasks depend on them</li>\n<li>blue tasks are terminals, no tasks depend on them</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/7Iijw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Iijw.png\" alt=\"enter image description here\" /></a></p>\n<p>The first step is to convert it (conceptually) to the following task diagram, where</p>\n<ul>\n<li>the letter is the task name</li>\n<li>the height of a task rectangle is proportional to the task effort</li>\n<li>arrows show dependencies that aren't otherwise obvious</li>\n<li>the terminals are aligned so that they all end at the same time</li>\n<li>the end time for non-terminals is as late as possible while meeting the dependency requirements</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/0CewI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0CewI.png\" alt=\"enter image description here\" /></a></p>\n<p>The conversion from topological graph to task diagram can be done with a breadth-first search. The terminals are assigned a distance of 0, and added to the queue. The edges are reversed, and have a weight equal to the task effort. So for example, there's an edge from &quot;H4&quot; to &quot;D1&quot; with a weight of 4. Tasks aren't added to the queue until all their dependents have been processed. For example, &quot;B1&quot; wouldn't go into the queue until tasks E, F, and G had come out of the queue.</p>\n<p>The goal of the conversion is to determine the latest possible start time for each task that would allow all of the terminal tasks to finish at the same time (assuming that an unlimited number of workers were available).</p>\n<p>Once every task has been assigned its latest possible starting time, then the greedy algorithm for task assignment begins. For the example, assume that there are two workers available. Then the tasks are assigned as follows:</p>\n<ul>\n<li>A and B are started first.</li>\n<li>F and E are next, but F should start before E since F requires more effort.</li>\n<li>C should be started before D.</li>\n<li>H is before I, and I is before G.</li>\n</ul>\n<p>In short, tasks are sorted first by their topological order. Without violating the topological order, tasks are sorted by their start time, and for tasks with the same start time, the task that requires more effort is first.</p>\n<p>This can be implemented with a priority queue that sorts based on task start time as the primary key, and task effort as the secondary key. Initially, only the starter tasks are added to the queue. As tasks are pulled from the queue, any tasks whose dependencies have been satisfied are added to the queue.</p>\n<p>The final task assignments for the example are:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Worker ID</th>\n<th>Task</th>\n<th>Start Time</th>\n<th>End Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>A</td>\n<td>0</td>\n<td>2</td>\n</tr>\n<tr>\n<td>2</td>\n<td>B</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>F</td>\n<td>1</td>\n<td>5</td>\n</tr>\n<tr>\n<td>1</td>\n<td>E</td>\n<td>2</td>\n<td>5</td>\n</tr>\n<tr>\n<td>2</td>\n<td>C</td>\n<td>5</td>\n<td>9</td>\n</tr>\n<tr>\n<td>1</td>\n<td>D</td>\n<td>5</td>\n<td>6</td>\n</tr>\n<tr>\n<td>1</td>\n<td>H</td>\n<td>6</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2</td>\n<td>I</td>\n<td>9</td>\n<td>12</td>\n</tr>\n<tr>\n<td>1</td>\n<td>G</td>\n<td>10</td>\n<td>12</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Note that this is an optimal solution for the example. Both workers finish at time 12. The total amount of effort for the tasks is 24, divided between 2 workers, giving 12 effort from each worker.</p>\n"}],"owner":{"account_id":978700,"reputation":2122,"user_id":998997,"accept_rate":50,"display_name":"Barcelona"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1666462476,"accepted_answer_id":74161531,"answer_count":1,"score":0,"last_activity_date":1666420106,"creation_date":1666395863,"question_id":74160097,"body_markdown":"I want to implements a simple Task Scheduling. You have a list of tasks that need to be completed. For each task it is known exactly how much time is required for completion (known as &quot;effort&quot;) and a task may have a set of dependency task that need to be carried out before it can be started (known as &quot;dependencies&quot;). Given a certain number of available independent workers you have to compute a reasonable task distribution such as\r\n\r\n- tasks are not executed before each required task(s) are completed\r\n- there is no idling worker and available task (uncompleted task with 0 uncompleted requirement(s)) at any given time\r\n\r\nExample\r\n\r\nGiven below set of tasks\r\n- Task A requires 1 effort and has 0 depedency\r\n- Task B requires 2 effort and has 0 dependency\r\n- Task C requires 1 effort and depends on A, B\r\n\r\nAnd given 1 worker, the sample execution will be:\r\n\r\n|Worker ID|Task|Start Time|End Time|\r\n|--|--|--|--|\r\n|1|Task A|0|1|\r\n|1|Task B|1|3|\r\n|1|Task C|3|4|\r\n\r\nAnd given 2 workers, the sample execution will be:\r\n\r\n|Worker ID|Task|Start Time|End Time|\r\n|--|--|--|--|\r\n|1|Task A|0|1|\r\n|2|Task B|0|2|\r\n|1|Task C|2|3|\r\n\r\n*A worker can finish a task and pick up a new task at the same time step, refer to the 1st example where `Task B` start time same as `Task A`&#39;s end time. \r\n\r\n*The order of worker and task doesn&#39;t matter as long as it fulfills the given requirement.\r\n\r\nI also define some API contracts to achieve this\r\n\r\n```\r\npublic interface Task extends Iterable&lt;Task&gt; {\r\n    String getName();\r\n    int getEffort();\r\n    List&lt;Task&gt; getDependencies();\r\n}\r\n\r\npublic interface TaskExecution {\r\n    int getEnd();\r\n    Task getTask();\r\n    int getWorkerId();\r\n    int getStart();\r\n}\r\n\r\npublic interface Scheduler {\r\n    List&lt;TaskExecution&gt; estimate(Iterable&lt;Task&gt; tasks, int numWorkers);\r\n}\r\n```\r\n\r\nMy algorithm is\r\n\r\n- Sort the tasks based on their dependencies by using graph\r\n- Allocate workers to sorted tasks and calculate the time\r\n\r\nI can do the sort of tasks based on dependencies by using Graph and topological sorting but I am stucked with resource allocation to all tasks so that it can run in parallel if possible.\r\n\r\n```\r\n\r\npublic class Graph&lt;T&gt; {\r\n\r\n  static class Node&lt;E&gt; {\r\n    E source;\r\n    E destination;\r\n    \r\n    Node(E source, E destination) {\r\n      this.source = source;\r\n      this.destination = destination;\r\n    }\r\n  }\r\n\r\n  private int vertices;\r\n  private LinkedList&lt;Node&lt;T&gt;&gt;[] adjList;\r\n\r\n  public void addEgde(T source, T destination, List&lt;T&gt; list) {\r\n    Node node = new Node(source, destination);\r\n    adjList[list.indexOf(source)].addFirst(node);\r\n  }\r\n\r\n  public void topologicalSorting(List&lt;T&gt; list) {\r\n    //....\r\n  }\r\n\r\n}\r\n```\r\n\r\nAny idea on how to implement such an worker allocation while having as much parallelism as possible?\r\n\r\n","title":"Task Scheduling with dependencies and worker allocation","body":"<p>I want to implements a simple Task Scheduling. You have a list of tasks that need to be completed. For each task it is known exactly how much time is required for completion (known as &quot;effort&quot;) and a task may have a set of dependency task that need to be carried out before it can be started (known as &quot;dependencies&quot;). Given a certain number of available independent workers you have to compute a reasonable task distribution such as</p>\n<ul>\n<li>tasks are not executed before each required task(s) are completed</li>\n<li>there is no idling worker and available task (uncompleted task with 0 uncompleted requirement(s)) at any given time</li>\n</ul>\n<p>Example</p>\n<p>Given below set of tasks</p>\n<ul>\n<li>Task A requires 1 effort and has 0 depedency</li>\n<li>Task B requires 2 effort and has 0 dependency</li>\n<li>Task C requires 1 effort and depends on A, B</li>\n</ul>\n<p>And given 1 worker, the sample execution will be:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Worker ID</th>\n<th>Task</th>\n<th>Start Time</th>\n<th>End Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Task A</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Task B</td>\n<td>1</td>\n<td>3</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Task C</td>\n<td>3</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>And given 2 workers, the sample execution will be:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Worker ID</th>\n<th>Task</th>\n<th>Start Time</th>\n<th>End Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Task A</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Task B</td>\n<td>0</td>\n<td>2</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Task C</td>\n<td>2</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>*A worker can finish a task and pick up a new task at the same time step, refer to the 1st example where <code>Task B</code> start time same as <code>Task A</code>'s end time.</p>\n<p>*The order of worker and task doesn't matter as long as it fulfills the given requirement.</p>\n<p>I also define some API contracts to achieve this</p>\n<pre><code>public interface Task extends Iterable&lt;Task&gt; {\n    String getName();\n    int getEffort();\n    List&lt;Task&gt; getDependencies();\n}\n\npublic interface TaskExecution {\n    int getEnd();\n    Task getTask();\n    int getWorkerId();\n    int getStart();\n}\n\npublic interface Scheduler {\n    List&lt;TaskExecution&gt; estimate(Iterable&lt;Task&gt; tasks, int numWorkers);\n}\n</code></pre>\n<p>My algorithm is</p>\n<ul>\n<li>Sort the tasks based on their dependencies by using graph</li>\n<li>Allocate workers to sorted tasks and calculate the time</li>\n</ul>\n<p>I can do the sort of tasks based on dependencies by using Graph and topological sorting but I am stucked with resource allocation to all tasks so that it can run in parallel if possible.</p>\n<pre><code>\npublic class Graph&lt;T&gt; {\n\n  static class Node&lt;E&gt; {\n    E source;\n    E destination;\n    \n    Node(E source, E destination) {\n      this.source = source;\n      this.destination = destination;\n    }\n  }\n\n  private int vertices;\n  private LinkedList&lt;Node&lt;T&gt;&gt;[] adjList;\n\n  public void addEgde(T source, T destination, List&lt;T&gt; list) {\n    Node node = new Node(source, destination);\n    adjList[list.indexOf(source)].addFirst(node);\n  }\n\n  public void topologicalSorting(List&lt;T&gt; list) {\n    //....\n  }\n\n}\n</code></pre>\n<p>Any idea on how to implement such an worker allocation while having as much parallelism as possible?</p>\n"},{"tags":["java","function","generics","static"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666419518,"post_id":74160276,"comment_id":130937178,"body_markdown":"@LouisWasserman what makes you say there&#39;s no way to implement them? Try it with `Map` instead of `ReturnClassA` and `return new HashMap&lt;&gt;();` as the body.","body":"@LouisWasserman what makes you say there&#39;s no way to implement them? Try it with <code>Map</code> instead of <code>ReturnClassA</code> and <code>return new HashMap&lt;&gt;();</code> as the body."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666419869,"creation_date":1666419869,"answer_id":74161517,"question_id":74160276,"body_markdown":"If you can tolerate making these instance methods of a class with type parameters, rather than static methods, then you can avoid the repetition:\r\n\r\n    public final class SomeUtils&lt;REQUEST extends RequestClass, RESPONSE&gt; {\r\n        public ReturnClassA&lt;REQUEST, RESPONSE&gt; funcA() {\r\n            throw new UnsupportedOperationException(); // fill in with whatever implementation you need\r\n        }\r\n    \r\n        public ReturnClassB&lt;REQUEST, RESPONSE&gt; funcB() {\r\n            throw new UnsupportedOperationException(); // fill in with whatever implementation you need\r\n        }\r\n    \r\n        public ReturnClassC&lt;REQUEST, RESPONSE&gt; funcC() {\r\n            throw new UnsupportedOperationException(); // fill in with whatever implementation you need\r\n        }\r\n    }\r\n\r\nYou can then use it like this:\r\n\r\n    ReturnClassA&lt;RequestClass, Object&gt; a = new SomeUtils&lt;&gt;().funcA();","title":"Is there a way to simplify repeated use of generics in static methods in JAVA?","body":"<p>If you can tolerate making these instance methods of a class with type parameters, rather than static methods, then you can avoid the repetition:</p>\n<pre><code>public final class SomeUtils&lt;REQUEST extends RequestClass, RESPONSE&gt; {\n    public ReturnClassA&lt;REQUEST, RESPONSE&gt; funcA() {\n        throw new UnsupportedOperationException(); // fill in with whatever implementation you need\n    }\n\n    public ReturnClassB&lt;REQUEST, RESPONSE&gt; funcB() {\n        throw new UnsupportedOperationException(); // fill in with whatever implementation you need\n    }\n\n    public ReturnClassC&lt;REQUEST, RESPONSE&gt; funcC() {\n        throw new UnsupportedOperationException(); // fill in with whatever implementation you need\n    }\n}\n</code></pre>\n<p>You can then use it like this:</p>\n<pre><code>ReturnClassA&lt;RequestClass, Object&gt; a = new SomeUtils&lt;&gt;().funcA();\n</code></pre>\n"}],"owner":{"account_id":9233562,"reputation":69,"user_id":7818543,"display_name":"Himank Jog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666419869,"creation_date":1666398281,"question_id":74160276,"body_markdown":"I created a `final` class with multiple static methods. The generics used in all of those methods are same, any suggestion how this can be simplified any further?\r\n\r\n```\r\npublic final class SomeUtils {\r\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassA&lt;REQUEST, RESPONSE&gt; funcA() {\r\n        ...\r\n    }\r\n\r\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassB&lt;REQUEST, RESPONSE&gt; funcB() {\r\n        ...\r\n    }\r\n\r\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassC&lt;REQUEST, RESPONSE&gt; funcC() {\r\n        ...\r\n    }\r\n\r\n}\r\n```\r\n\r\nP.S: I am using JDK8. I cannot upgrade that for sometime.","title":"Is there a way to simplify repeated use of generics in static methods in JAVA?","body":"<p>I created a <code>final</code> class with multiple static methods. The generics used in all of those methods are same, any suggestion how this can be simplified any further?</p>\n<pre><code>public final class SomeUtils {\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassA&lt;REQUEST, RESPONSE&gt; funcA() {\n        ...\n    }\n\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassB&lt;REQUEST, RESPONSE&gt; funcB() {\n        ...\n    }\n\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassC&lt;REQUEST, RESPONSE&gt; funcC() {\n        ...\n    }\n\n}\n</code></pre>\n<p>P.S: I am using JDK8. I cannot upgrade that for sometime.</p>\n"},{"tags":["java","hex"],"comments":[{"owner":{"account_id":1298599,"reputation":7759,"user_id":1248974,"display_name":"chickity china chinese chicken"},"score":0,"creation_date":1666417364,"post_id":74161317,"comment_id":130936977,"body_markdown":"Already a good explanation here [Java Hexadecimal to Decimal conversion: Custom Logic](https://stackoverflow.com/a/52676496/1248974)","body":"Already a good explanation here <a href=\"https://stackoverflow.com/a/52676496/1248974\">Java Hexadecimal to Decimal conversion: Custom Logic</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666419317,"post_id":74161317,"comment_id":130937152,"body_markdown":"Not sure what you are asking, but the &quot;where does the value for val comes from on the right side of the equation&quot; so `val` on the right comes from the previous iteration of the loop.  The first iteration val is 0.  Next iteration it&#39;s the value of `d`.  After that it&#39;s the value of `d` times 16, after that it&#39;s d1*16*16 + d2 * 16, etc.  You can try printing out the value of `val` each loop, and you should also try doing some of the calculations by hand so you understand them better.","body":"Not sure what you are asking, but the &quot;where does the value for val comes from on the right side of the equation&quot; so <code>val</code> on the right comes from the previous iteration of the loop.  The first iteration val is 0.  Next iteration it&#39;s the value of <code>d</code>.  After that it&#39;s the value of <code>d</code> times 16, after that it&#39;s d1*16*16 + d2 * 16, etc.  You can try printing out the value of <code>val</code> each loop, and you should also try doing some of the calculations by hand so you understand them better."},{"owner":{"account_id":26699000,"reputation":1,"user_id":20306365,"display_name":"Rado"},"score":0,"creation_date":1666421828,"post_id":74161317,"comment_id":130937452,"body_markdown":"yup doing the actual math really helped thank you","body":"yup doing the actual math really helped thank you"}],"answers":[{"tags":[],"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666419117,"creation_date":1666419117,"answer_id":74161458,"question_id":74161317,"body_markdown":"It seems like you didn&#39;t understand the logic behind this. \r\n\r\nBut let&#39;s assume you did and let&#39;s try break up the code:\r\n\r\n\r\nThe first thing is the String that you are working with. We have &quot;myhex&quot; String which is the hexadecimal representation of the value that we want to convert into decimal format.\r\n\r\n    String myhex=&quot;ABC&quot;;\r\n\r\nAnd we have another String &quot;digits&quot;. We use that String for our calculation with help of .indexOf(char character) method. It is a build-in method for Strings and used to find index of characters we are looking for. It returns the index of character we specified in brackets.(For example in &quot;digits&quot; String we have &#39;A&#39; character which is tenth in that String but if &#39;A&#39; was in the begining, it would return int 0.\r\n\r\n     String digits = &quot;0123456789ABCDEF&quot;; \r\n\r\nDon&#39;t forget that we have already declared an int &quot;val&quot; before the loop. So we won&#39;t loose the value in the loop section.\r\n\r\n    int val = 0;  \r\n\r\nThen we have a for loop and we set &quot;myhex&quot;&#39;s length as boundary of our loop. We go through characters of &quot;myhex&quot; by declaring a new character with .charAt(int index, which is 0 at the start of the loop and at the first execution we will have &#39;A&#39; as our first &quot;c&quot; char).\r\n\r\n    char c = myhex.charAt(i);\r\n\r\nAfter that we look which value it represents by assigning d \r\n\r\n    int d = digits.indexOf(c);  \r\n\r\nThe rest is just finding decimal value(base ten) -&gt; logic\r\n\r\n\r\nIf you have problems with understanding something. The first thing to do is figure out whether you have trouble with the logic or the code.\r\n\r\nDigit by digit\r\n\r\n    val = 16*val + d;\r\n\r\nAnd printing the decimal value after the loop\r\n\r\n    System.out.println(val);","title":"Please explain line of code for Hexadecimal to Decimal in java","body":"<p>It seems like you didn't understand the logic behind this.</p>\n<p>But let's assume you did and let's try break up the code:</p>\n<p>The first thing is the String that you are working with. We have &quot;myhex&quot; String which is the hexadecimal representation of the value that we want to convert into decimal format.</p>\n<pre><code>String myhex=&quot;ABC&quot;;\n</code></pre>\n<p>And we have another String &quot;digits&quot;. We use that String for our calculation with help of .indexOf(char character) method. It is a build-in method for Strings and used to find index of characters we are looking for. It returns the index of character we specified in brackets.(For example in &quot;digits&quot; String we have 'A' character which is tenth in that String but if 'A' was in the begining, it would return int 0.</p>\n<pre><code> String digits = &quot;0123456789ABCDEF&quot;; \n</code></pre>\n<p>Don't forget that we have already declared an int &quot;val&quot; before the loop. So we won't loose the value in the loop section.</p>\n<pre><code>int val = 0;  \n</code></pre>\n<p>Then we have a for loop and we set &quot;myhex&quot;'s length as boundary of our loop. We go through characters of &quot;myhex&quot; by declaring a new character with .charAt(int index, which is 0 at the start of the loop and at the first execution we will have 'A' as our first &quot;c&quot; char).</p>\n<pre><code>char c = myhex.charAt(i);\n</code></pre>\n<p>After that we look which value it represents by assigning d</p>\n<pre><code>int d = digits.indexOf(c);  \n</code></pre>\n<p>The rest is just finding decimal value(base ten) -&gt; logic</p>\n<p>If you have problems with understanding something. The first thing to do is figure out whether you have trouble with the logic or the code.</p>\n<p>Digit by digit</p>\n<pre><code>val = 16*val + d;\n</code></pre>\n<p>And printing the decimal value after the loop</p>\n<pre><code>System.out.println(val);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666419699,"creation_date":1666419699,"answer_id":74161504,"question_id":74161317,"body_markdown":"Just to answer your question about the variable &#39;val&#39; on the right side of the equation.\r\n\r\n \r\n```\r\nval = (16 * val) * d;\r\n```\r\n**&#39;val&#39; is being redeclared to a new value by: val = (previous &#39;val&#39; times 16) plus the value of &#39;d&#39;.**\r\n\r\n\r\nThis is done every iteration, three times in this case for length 3 of &#39;myhex&#39;, of each character from my hex and checking if it exist in the digit string.\r\n\r\nHere&#39;s a modification of your code with comments that can help you understand the execution of the code through each iteration.\r\n\r\n```\r\npublic class JavaApplication {\r\n\tpublic static void main(String[] args)\t{\r\n\t    String digits = &quot;0123456789ABCDEF&quot;;\r\n\t    String myhex=&quot;ABC&quot;;\r\n\t    int val = 0;\r\n\t    \r\n\t    /* Iterate the length of the string myhex, in this case, 3 iterations */\r\n\t    for (int i = 0; i &lt; myhex.length(); i++)\t{\r\n\t    \t/* c is equals to the character at index &#39;i&#39; of myhex */\r\n\t    \tchar c = myhex.charAt(i);\r\n\t    \t\r\n\t    \t/* let d equal the index of the first occurence of &#39;c&#39; in digits */\r\n\t    \tint d = digits.indexOf(c);\r\n         \r\n\t    \t/* reassign val to (val * 16) + d */\r\n\t    \tval = 16 * val + d;\r\n\t    \tSystem.out.println(&quot;Value of &#39;val&#39; at iteration &quot; + i + &quot;:\\t&quot; + val); // print out val for every iteration of &#39;i&#39;\r\n       }\r\n\t    \r\n       System.out.println(&quot;final value of &#39;val&#39;: &quot; + val); // final value of val after all iterations\r\n    }\r\n}\r\n```","title":"Please explain line of code for Hexadecimal to Decimal in java","body":"<p>Just to answer your question about the variable 'val' on the right side of the equation.</p>\n<pre><code>val = (16 * val) * d;\n</code></pre>\n<p><strong>'val' is being redeclared to a new value by: val = (previous 'val' times 16) plus the value of 'd'.</strong></p>\n<p>This is done every iteration, three times in this case for length 3 of 'myhex', of each character from my hex and checking if it exist in the digit string.</p>\n<p>Here's a modification of your code with comments that can help you understand the execution of the code through each iteration.</p>\n<pre><code>public class JavaApplication {\n    public static void main(String[] args)  {\n        String digits = &quot;0123456789ABCDEF&quot;;\n        String myhex=&quot;ABC&quot;;\n        int val = 0;\n        \n        /* Iterate the length of the string myhex, in this case, 3 iterations */\n        for (int i = 0; i &lt; myhex.length(); i++)    {\n            /* c is equals to the character at index 'i' of myhex */\n            char c = myhex.charAt(i);\n            \n            /* let d equal the index of the first occurence of 'c' in digits */\n            int d = digits.indexOf(c);\n         \n            /* reassign val to (val * 16) + d */\n            val = 16 * val + d;\n            System.out.println(&quot;Value of 'val' at iteration &quot; + i + &quot;:\\t&quot; + val); // print out val for every iteration of 'i'\n       }\n        \n       System.out.println(&quot;final value of 'val': &quot; + val); // final value of val after all iterations\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26699000,"reputation":1,"user_id":20306365,"display_name":"Rado"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666422385,"answer_count":2,"score":-1,"last_activity_date":1666419699,"creation_date":1666416896,"question_id":74161317,"body_markdown":"I am very new to coding and was presented with this java program that converts a hex number to decimal\r\nthe line of code I&#39;m having a really hard time grasping is this\r\n\r\n    val = 16*val + d;\r\n\r\nI hope someone can explain to me where does the value for val comes from on the right side of the equation, thank you in advance\r\n\r\n    /*\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Main.java to edit this template\r\n     */\r\n    package javaapplication;\r\n    \r\n    /**\r\n     *\r\n     * @author Rado\r\n     */\r\n    public class JavaApplication {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args)\r\n    \r\n    {\r\n    \r\n        // TODO code application logic here\r\n    \r\n        String digits = &quot;0123456789ABCDEF&quot;;  \r\n    \r\n        String myhex=&quot;ABC&quot;;\r\n    \r\n           int val = 0;  \r\n    \r\n           for (int i = 0; i &lt; myhex.length(); i++)  \r\n    \r\n           {  \r\n    \r\n             char c = myhex.charAt(i);  \r\n    \r\n             int d = digits.indexOf(c);  \r\n             \r\n            \r\n    \r\n             val = 16*val + d;  \r\n    \r\n           }  \r\n    \r\n      System.out.println(val);\r\n    \r\n     }\r\n    }","title":"Please explain line of code for Hexadecimal to Decimal in java","body":"<p>I am very new to coding and was presented with this java program that converts a hex number to decimal\nthe line of code I'm having a really hard time grasping is this</p>\n<pre><code>val = 16*val + d;\n</code></pre>\n<p>I hope someone can explain to me where does the value for val comes from on the right side of the equation, thank you in advance</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Main.java to edit this template\n */\npackage javaapplication;\n\n/**\n *\n * @author Rado\n */\npublic class JavaApplication {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args)\n\n{\n\n    // TODO code application logic here\n\n    String digits = &quot;0123456789ABCDEF&quot;;  \n\n    String myhex=&quot;ABC&quot;;\n\n       int val = 0;  \n\n       for (int i = 0; i &lt; myhex.length(); i++)  \n\n       {  \n\n         char c = myhex.charAt(i);  \n\n         int d = digits.indexOf(c);  \n         \n        \n\n         val = 16*val + d;  \n\n       }  \n\n  System.out.println(val);\n\n }\n}\n</code></pre>\n"},{"tags":["java","eclipse","user-interface","import","windowbuilder"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1579280904,"post_id":59789812,"comment_id":105726038,"body_markdown":"Right click on the file and look in the &#39;Open With...&#39; menu","body":"Right click on the file and look in the &#39;Open With...&#39; menu"}],"answers":[{"tags":[],"owner":{"account_id":17547010,"reputation":11,"user_id":12728079,"display_name":"juanSenna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579290032,"creation_date":1579290032,"answer_id":59793884,"question_id":59789812,"body_markdown":"Simply restarting Eclipse a couple times somehow made it work, everything good!","title":"Eclipse&#39;s Window Builder missing Design","body":"<p>Simply restarting Eclipse a couple times somehow made it work, everything good!</p>\n"},{"tags":[],"owner":{"account_id":19704886,"reputation":21,"user_id":14426798,"display_name":"Aleksandar Trifunovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666419622,"creation_date":1666419622,"answer_id":74161498,"question_id":59789812,"body_markdown":"**Missing Source/Design tabs**\r\n\r\nWhen you open your Swing Project, follow these steps to show Source/Design tab:\r\n\r\n - Right click on your file `Swing.java` for example\r\n - Choose open with `Window Builder editor` \r\n\r\nThis will bring you back the `Source` and `Design` Panels","title":"Eclipse&#39;s Window Builder missing Design","body":"<p><strong>Missing Source/Design tabs</strong></p>\n<p>When you open your Swing Project, follow these steps to show Source/Design tab:</p>\n<ul>\n<li>Right click on your file <code>Swing.java</code> for example</li>\n<li>Choose open with <code>Window Builder editor</code></li>\n</ul>\n<p>This will bring you back the <code>Source</code> and <code>Design</code> Panels</p>\n"}],"owner":{"account_id":17547010,"reputation":11,"user_id":12728079,"display_name":"juanSenna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666419622,"creation_date":1579273071,"question_id":59789812,"body_markdown":"I have a simple Eclipse Java project that consists in only one Class made with Eclipse&#39;s Window Builder (Swing class). The coding was made on my notebook, and saved on cloud, so I could access It from my home&#39;s computer.\r\nWhen I opened this project in this home computer, I noticed I had not installed Window Builder on it yet, so I installed and restarted Eclipse.\r\n\r\nThe problem is that even tho I installed WB, Eclipse still doesn&#39;t show the *Design* tab on this class. Did I miss something?\r\n\r\n\r\n","title":"Eclipse&#39;s Window Builder missing Design","body":"<p>I have a simple Eclipse Java project that consists in only one Class made with Eclipse's Window Builder (Swing class). The coding was made on my notebook, and saved on cloud, so I could access It from my home's computer.\nWhen I opened this project in this home computer, I noticed I had not installed Window Builder on it yet, so I installed and restarted Eclipse.</p>\n\n<p>The problem is that even tho I installed WB, Eclipse still doesn't show the <em>Design</em> tab on this class. Did I miss something?</p>\n"},{"tags":["java","arrays","arraylist","boolean"],"answers":[{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666417252,"creation_date":1666417252,"answer_id":74161341,"question_id":74161293,"body_markdown":"    public static void main(String[] args) {\r\n\r\n        int array[] = {10, 20, 30, 10, 40, 50};\r\n        System.out.println(hasDuplicates(array));\r\n    }\r\n\r\n    public static boolean hasDuplicates(int[] array) {\r\n        var distinct = Arrays.stream(array).distinct().count();\r\n        return distinct != array.length;\r\n    }","title":"How do i find the duplicates in java array","body":"<pre><code>public static void main(String[] args) {\n\n    int array[] = {10, 20, 30, 10, 40, 50};\n    System.out.println(hasDuplicates(array));\n}\n\npublic static boolean hasDuplicates(int[] array) {\n    var distinct = Arrays.stream(array).distinct().count();\n    return distinct != array.length;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20730400,"reputation":11,"user_id":15222559,"display_name":"CatPawnD20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666419100,"creation_date":1666417598,"answer_id":74161368,"question_id":74161293,"body_markdown":"your code return false because its stops when first cycle says its false \r\nand after that your for statement return false\r\ninstead of &quot;return false&quot; you can change a bit\r\n\r\n    public boolean hasDuplicates2() \r\n    {\r\n      bool hasDuclicates = false;\r\n      for (int i = 0; i &lt; array.length; i++) {\r\n       for (int i2 = i+1; i2 &lt; array.length - 1; i2++) {\r\n        if (array[i] == array[i2]) {\r\n         hasDuplicates = true;\r\n        }\r\n       }\r\n      }\r\n      return hasDuplicates;\r\n    }\r\n\r\nit may not be efficient by the way\r\n","title":"How do i find the duplicates in java array","body":"<p>your code return false because its stops when first cycle says its false\nand after that your for statement return false\ninstead of &quot;return false&quot; you can change a bit</p>\n<pre><code>public boolean hasDuplicates2() \n{\n  bool hasDuclicates = false;\n  for (int i = 0; i &lt; array.length; i++) {\n   for (int i2 = i+1; i2 &lt; array.length - 1; i2++) {\n    if (array[i] == array[i2]) {\n     hasDuplicates = true;\n    }\n   }\n  }\n  return hasDuplicates;\n}\n</code></pre>\n<p>it may not be efficient by the way</p>\n"},{"tags":[],"owner":{"account_id":26276087,"reputation":1,"user_id":20306396,"display_name":"Omkar G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666417814,"creation_date":1666417814,"answer_id":74161386,"question_id":74161293,"body_markdown":"So a couple of problems:\r\n\r\n1)You need to have array.length - 1 even in the first for loop, or you&#39;re going to go out of range at the last iteration.\r\n\r\n2)You&#39;re checking each and every element including the element itself - which means when i = i2, you&#39;re always going to satisfy the if condition, so you need to check for that as well.\r\n\r\nTry this:\r\n\r\n    public static boolean hasDuplicates2(int[] array) {\r\n        for (int i = 0; i &lt;= array.length - 1; i++) {\r\n            for (int i2 = 1; i2 &lt;= array.length - 1; i2++) {\r\n                if (i != i2 &amp;&amp; array[i] == array[i2]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n","title":"How do i find the duplicates in java array","body":"<p>So a couple of problems:</p>\n<p>1)You need to have array.length - 1 even in the first for loop, or you're going to go out of range at the last iteration.</p>\n<p>2)You're checking each and every element including the element itself - which means when i = i2, you're always going to satisfy the if condition, so you need to check for that as well.</p>\n<p>Try this:</p>\n<pre><code>public static boolean hasDuplicates2(int[] array) {\n    for (int i = 0; i &lt;= array.length - 1; i++) {\n        for (int i2 = 1; i2 &lt;= array.length - 1; i2++) {\n            if (i != i2 &amp;&amp; array[i] == array[i2]) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":26453504,"reputation":11,"user_id":20096365,"display_name":"Clayton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666421224,"answer_count":3,"score":-1,"last_activity_date":1666419100,"creation_date":1666416443,"question_id":74161293,"body_markdown":"I am trying to make it so if there are any duplicates in the array, it turns true and if there is not it turns false. But, no matter what I do the if statement always turns in into false, even if there isn&#39;t a duplicate. This has to be done as a boolean.\r\n\r\n ```\r\n  int array[] = {10, 20, 30, 10, 40, 50};\r\n\r\n  public boolean hasDuplicates2() {\r\n    for (int i = 0; i &lt;= array.length; i++) {\r\n      for (int i2 = 1; i2 &lt;= array.length - 1; i2++) {\r\n        if (array[i] != array[i2]) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }","title":"How do i find the duplicates in java array","body":"<p>I am trying to make it so if there are any duplicates in the array, it turns true and if there is not it turns false. But, no matter what I do the if statement always turns in into false, even if there isn't a duplicate. This has to be done as a boolean.</p>\n<pre><code> int array[] = {10, 20, 30, 10, 40, 50};\n\n public boolean hasDuplicates2() {\n   for (int i = 0; i &lt;= array.length; i++) {\n     for (int i2 = 1; i2 &lt;= array.length - 1; i2++) {\n       if (array[i] != array[i2]) {\n         return false;\n       }\n     }\n   }\n   return true;\n }\n</code></pre>\n"},{"tags":["java","inner-classes"],"answers":[{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666418714,"creation_date":1666415658,"answer_id":74161243,"question_id":74161229,"body_markdown":"`Sibling1` and `Sibling2` aren&#39;t just siblings; they both **extend** the outer class (indirectly, via `AbstractNested`), and so they inherit the nested classes as members, just as they would  inherit methods or fields.\r\n\r\nSimplified example:\r\n\r\n\tclass Outer {\r\n\t\t\r\n\t    static class Inner extends Outer {}\r\n\r\n\t    void a() {\r\n\t    \tnew Inner.Inner.Inner.Inner.Inner.Inner.Inner();\r\n\t    }\r\n\t    \r\n\t}","title":"Why can sibling classes be referred to with dots from each other?","body":"<p><code>Sibling1</code> and <code>Sibling2</code> aren't just siblings; they both <strong>extend</strong> the outer class (indirectly, via <code>AbstractNested</code>), and so they inherit the nested classes as members, just as they would  inherit methods or fields.</p>\n<p>Simplified example:</p>\n<pre><code>class Outer {\n    \n    static class Inner extends Outer {}\n\n    void a() {\n        new Inner.Inner.Inner.Inner.Inner.Inner.Inner();\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666415805,"creation_date":1666415805,"answer_id":74161252,"question_id":74161229,"body_markdown":"As Boann&#39;s answer,the reason is that both `Sibling1` and `Sibling2` are extends from `AbstractNested`,and `AbstractNested` are extends from `SomeClass`, so they are all subclass of `SomeClass`,which means `new Sibling1.Sibling2()` is similar to `new SomeClass.Sibling2()`\r\n\r\nIf you remove `extends` from `Someclass` or `Sibling1` it will not compile\r\n\r\n\r\nCase 1 (remove `extends` for `Sibling1`):\r\n\r\n    class SomeClass {\r\n    \r\n        abstract static class AbstractNested\r\n                extends SomeClass {\r\n    \r\n        }\r\n    \r\n        static class Sibling1 {\r\n    \r\n        }\r\n    \r\n        static class Sibling2\r\n                extends AbstractNested {\r\n    \r\n        }\r\n    \r\n        void a() {\r\n            new Sibling1.Sibling2(); // will not compile\r\n        }\r\n    }\r\n\r\nCase 2 (remove `extends` for `SomeClass`):\r\n\r\n    class SomeClass {\r\n    \r\n        abstract static class AbstractNested {\r\n    \r\n        }\r\n    \r\n        static class Sibling1\r\n                extends AbstractNested {\r\n    \r\n        }\r\n    \r\n        static class Sibling2\r\n                extends AbstractNested {\r\n    \r\n        }\r\n    \r\n        void a() {\r\n            new Sibling1.Sibling2(); // will not compile\r\n        }\r\n    }","title":"Why can sibling classes be referred to with dots from each other?","body":"<p>As Boann's answer,the reason is that both <code>Sibling1</code> and <code>Sibling2</code> are extends from <code>AbstractNested</code>,and <code>AbstractNested</code> are extends from <code>SomeClass</code>, so they are all subclass of <code>SomeClass</code>,which means <code>new Sibling1.Sibling2()</code> is similar to <code>new SomeClass.Sibling2()</code></p>\n<p>If you remove <code>extends</code> from <code>Someclass</code> or <code>Sibling1</code> it will not compile</p>\n<p>Case 1 (remove <code>extends</code> for <code>Sibling1</code>):</p>\n<pre><code>class SomeClass {\n\n    abstract static class AbstractNested\n            extends SomeClass {\n\n    }\n\n    static class Sibling1 {\n\n    }\n\n    static class Sibling2\n            extends AbstractNested {\n\n    }\n\n    void a() {\n        new Sibling1.Sibling2(); // will not compile\n    }\n}\n</code></pre>\n<p>Case 2 (remove <code>extends</code> for <code>SomeClass</code>):</p>\n<pre><code>class SomeClass {\n\n    abstract static class AbstractNested {\n\n    }\n\n    static class Sibling1\n            extends AbstractNested {\n\n    }\n\n    static class Sibling2\n            extends AbstractNested {\n\n    }\n\n    void a() {\n        new Sibling1.Sibling2(); // will not compile\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74161243,"answer_count":2,"score":1,"last_activity_date":1666418714,"creation_date":1666415381,"question_id":74161229,"body_markdown":"I just found a curious case.\r\n\r\n```java\r\nclass SomeClass {\r\n\r\n    abstract static class AbstractNested // for a templating purpose\r\n            extends SomeClass {\r\n\r\n    }\r\n\r\n    static class Sibling1\r\n            extends AbstractNested {\r\n\r\n    }\r\n\r\n    static class Sibling2\r\n            extends AbstractNested {\r\n\r\n    }\r\n\r\n    void a() {\r\n        new Sibling1.Sibling2(); // @@?\r\n    }\r\n}\r\n```\r\n\r\nWhy on earth does `new Sibling1.Sibling2();` work? How can I make it doesn&#39;t?","title":"Why can sibling classes be referred to with dots from each other?","body":"<p>I just found a curious case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeClass {\n\n    abstract static class AbstractNested // for a templating purpose\n            extends SomeClass {\n\n    }\n\n    static class Sibling1\n            extends AbstractNested {\n\n    }\n\n    static class Sibling2\n            extends AbstractNested {\n\n    }\n\n    void a() {\n        new Sibling1.Sibling2(); // @@?\n    }\n}\n</code></pre>\n<p>Why on earth does <code>new Sibling1.Sibling2();</code> work? How can I make it doesn't?</p>\n"},{"tags":["java","kotlin","ssh","jsch","private-key"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656116490,"creation_date":1656078693,"answer_id":72745102,"question_id":72743823,"body_markdown":"There are a few things that it could be.  For example:\r\n \r\n1.  Check that the ownership and permissions on `/home/username/.ssh` and `/home/username/.ssh/authorized_keys` are correct.  Both should be owned by `username` and should not group or world writeable.  The `sshd` on many systems will not allow login if the account is improperly secured.\r\n\r\n2.  Check that the `authorized_keys` file isn&#39;t mangled; e.g. newlines in the wrong place.\r\n\r\n3.  Check that you are starting the session with the correct host with the correct username.  \r\n\r\n4.  Check on the server that `/home/username` matches what `/etc/passwd` file says is the home directory for `username`.\r\n\r\n5.  Could you have triggered `fail2ban` or similar with repeated login attempts with incorrect credentials.\r\n\r\n----------------\r\n\r\nIf it is none of the above \r\n\r\n6. Look at the Jcsh log file.  Compare it with what happens when you connect by hand using `ssh -vvv`.\r\n\r\n7. Look in the server-side security log file to see if it tells you why `sshd` refused the login.\r\n\r\n8. Temporarily run `sshd` with full debugging enabled, and look for clues in the logs.\r\n\r\n","title":"Public key authentication fails with JSch but work with OpenSSH with the same key","body":"<p>There are a few things that it could be.  For example:</p>\n<ol>\n<li><p>Check that the ownership and permissions on <code>/home/username/.ssh</code> and <code>/home/username/.ssh/authorized_keys</code> are correct.  Both should be owned by <code>username</code> and should not group or world writeable.  The <code>sshd</code> on many systems will not allow login if the account is improperly secured.</p>\n</li>\n<li><p>Check that the <code>authorized_keys</code> file isn't mangled; e.g. newlines in the wrong place.</p>\n</li>\n<li><p>Check that you are starting the session with the correct host with the correct username.</p>\n</li>\n<li><p>Check on the server that <code>/home/username</code> matches what <code>/etc/passwd</code> file says is the home directory for <code>username</code>.</p>\n</li>\n<li><p>Could you have triggered <code>fail2ban</code> or similar with repeated login attempts with incorrect credentials.</p>\n</li>\n</ol>\n<hr />\n<p>If it is none of the above</p>\n<ol start=\"6\">\n<li><p>Look at the Jcsh log file.  Compare it with what happens when you connect by hand using <code>ssh -vvv</code>.</p>\n</li>\n<li><p>Look in the server-side security log file to see if it tells you why <code>sshd</code> refused the login.</p>\n</li>\n<li><p>Temporarily run <code>sshd</code> with full debugging enabled, and look for clues in the logs.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1666416341,"creation_date":1656329192,"answer_id":72771323,"question_id":72743823,"body_markdown":"Your OpenSSH `ssh` connection is using `rsa-sha2-512` key signature. While that does not prove that your server requires it, it&#39;s quite probable that it does.\r\n\r\n---\r\n\r\nJSch does not support `rsa-sha2`. And as JSch seems not to be updated anymore, it quite likely never will.\r\n\r\nThere&#39;s a fork of JSch that does though:  \r\nhttps://github.com/mwiede/jsch  \r\nAt least test it, to verify that this is indeed the issue.\r\n\r\n---\r\n\r\nAnother (less secure obviously) option is to reconfigure the server not to require the `rsa-sha2` by adding *deprecated* `ssh-rsa` to [`PubkeyAcceptedAlgorithms`](https://man.openbsd.org/sshd_config#PubkeyAcceptedAlgorithms).\r\n\r\n---\r\n\r\nOthers might be getting the same error for different reasons. For example, when expecting the JSch to automatically pickup the default OpenSSH keys:  \r\nhttps://stackoverflow.com/q/65916546/850848","title":"Public key authentication fails with JSch but work with OpenSSH with the same key","body":"<p>Your OpenSSH <code>ssh</code> connection is using <code>rsa-sha2-512</code> key signature. While that does not prove that your server requires it, it's quite probable that it does.</p>\n<hr />\n<p>JSch does not support <code>rsa-sha2</code>. And as JSch seems not to be updated anymore, it quite likely never will.</p>\n<p>There's a fork of JSch that does though:<br />\n<a href=\"https://github.com/mwiede/jsch\" rel=\"noreferrer\">https://github.com/mwiede/jsch</a><br />\nAt least test it, to verify that this is indeed the issue.</p>\n<hr />\n<p>Another (less secure obviously) option is to reconfigure the server not to require the <code>rsa-sha2</code> by adding <em>deprecated</em> <code>ssh-rsa</code> to <a href=\"https://man.openbsd.org/sshd_config#PubkeyAcceptedAlgorithms\" rel=\"noreferrer\"><code>PubkeyAcceptedAlgorithms</code></a>.</p>\n<hr />\n<p>Others might be getting the same error for different reasons. For example, when expecting the JSch to automatically pickup the default OpenSSH keys:<br />\n<a href=\"https://stackoverflow.com/q/65916546/850848\">Getting &quot;com.jcraft.jsch.JSchException: Auth fail&quot; – but &quot;ssh&quot; can login using public key authentication</a></p>\n"}],"owner":{"account_id":16096215,"reputation":103,"user_id":11618307,"display_name":"koswag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15357,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72771323,"answer_count":2,"score":6,"last_activity_date":1666416341,"creation_date":1656072324,"question_id":72743823,"body_markdown":"I&#39;m trying to establish an SSH connection using Kotlin + JSch, but it fails with \r\n\r\n&gt; com.jcraft.jsch.jSchException: Auth fail\r\n\r\nSteps taken:\r\n\r\n1. Generate SSH key pair using `ssh-keygen -t rsa -m PEM` (OpenSSH version: `OpenSSH_8.2p1`)\r\n2. Append contents of generated `id_rsa.pub` to `/home/username/.ssh/authorized_keys` file on the server\r\n3. Test connection in the terminal: `ssh -i /path/to/id_rsa username@example.host.com` – works fine\r\n4. Execute the following Kotlin code:\r\n```\r\nimport com.jcraft.jsch.JSch\r\n\r\nconst val USER = &quot;username&quot;\r\nconst val HOST = &quot;example.host.com&quot;\r\nconst val IDENTITY = &quot;/path/to/id_rsa&quot;\r\n\r\n\r\nfun main() {\r\n    val jsch = JSch().apply {\r\n        addIdentity(IDENTITY)\r\n        setKnownHosts(&quot;/path/to/known_hosts&quot;)\r\n    }\r\n\r\n    jsch.getSession(USER, HOST)\r\n        .connect()\r\n}\r\n```\r\n\r\n...which fails with an exception:\r\n``` none\r\nException in thread &quot;main&quot; com.jcraft.jsch.JSchException: Auth fail\r\n\tat com.jcraft.jsch.Session.connect(Session.java:519)\r\n\tat com.jcraft.jsch.Session.connect(Session.java:183)\r\n\tat MainKt.main(Main.kt:18)\r\n\tat MainKt.main(Main.kt)\r\n```\r\n\r\nWhat can be the problem here?\r\n\r\nJSch log output:\r\n``` none\r\nINFO: Connecting to example.host.com port 22\r\nINFO: Connection established\r\nINFO: Remote version string: SSH-2.0-OpenSSH_8.9p1 Ubuntu-3\r\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\r\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO: SSH_MSG_KEXINIT sent\r\nINFO: SSH_MSG_KEXINIT received\r\nINFO: kex: server: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\nINFO: kex: server: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\nINFO: kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\nINFO: kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\nINFO: kex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\nINFO: kex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\nINFO: kex: server: none,zlib@openssh.com\r\nINFO: kex: server: none,zlib@openssh.com\r\nINFO: kex: server: \r\nINFO: kex: server: \r\nINFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nINFO: kex: client: none\r\nINFO: kex: client: none\r\nINFO: kex: client: \r\nINFO: kex: client: \r\nINFO: kex: server-&gt;client aes128-ctr hmac-sha1 none\r\nINFO: kex: client-&gt;server aes128-ctr hmac-sha1 none\r\nINFO: SSH_MSG_KEX_ECDH_INIT sent\r\nINFO: expecting SSH_MSG_KEX_ECDH_REPLY\r\nINFO: Host &#39;example.host.com&#39; is known and matches the ECDSA host key\r\nINFO: SSH_MSG_NEWKEYS sent\r\nINFO: SSH_MSG_NEWKEYS received\r\nINFO: SSH_MSG_SERVICE_REQUEST sent\r\nINFO: SSH_MSG_SERVICE_ACCEPT received\r\nINFO: Authentications that can continue: publickey,keyboard-interactive,password\r\nINFO: Next authentication method: publickey\r\nINFO: Disconnecting from example.host.com port 22\r\nException in thread &quot;main&quot; com.jcraft.jsch.JSchException: Auth fail\r\n\tat com.jcraft.jsch.Session.connect(Session.java:519)\r\n\tat com.jcraft.jsch.Session.connect(Session.java:183)\r\n\tat MainKt.main(Main.kt:37)\r\n\tat MainKt.main(Main.kt)\r\n```\r\n\r\n`ssh -vvv` output:\r\n``` none\r\nOpenSSH_8.2p1 Ubuntu-4, OpenSSL 1.1.1f  31 Mar 2020\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 19: include /etc/ssh/ssh_config.d/*.conf matched no files\r\ndebug1: /etc/ssh/ssh_config line 21: Applying options for *\r\ndebug2: resolving &quot;example.host.com&quot; port 22\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to example.host.com [51.83.250.141] port 22.\r\ndebug1: Connection established.\r\ndebug1: identity file /path/to/id_rsa type 0\r\ndebug1: identity file /path/to/id_rsa-cert type -1\r\ndebug1: Local version string SSH-2.0-OpenSSH_8.2p1 Ubuntu-4\r\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_8.9p1 Ubuntu-3\r\ndebug1: match: OpenSSH_8.9p1 Ubuntu-3 pat OpenSSH* compat 0x04000000\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: Authenticating to dev.sages.pl:22 as &#39;sages-devops&#39;\r\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\r\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:5\r\ndebug3: load_hostkeys: loaded 1 keys from example.host.com\r\ndebug3: order_hostkeyalgs: prefer hostkeyalgs: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\ndebug3: send packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT sent\r\ndebug3: receive packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT received\r\ndebug2: local client KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\r\ndebug2: host key algorithms: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256@openssh.com,ssh-ed25519,sk-ssh-ed25519@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com,zlib\r\ndebug2: compression stoc: none,zlib@openssh.com,zlib\r\ndebug2: languages ctos:\r\ndebug2: languages stoc:\r\ndebug2: first_kex_follows 0\r\ndebug2: reserved 0\r\ndebug2: peer server KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\ndebug2: host key algorithms: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com\r\ndebug2: compression stoc: none,zlib@openssh.com\r\ndebug2: languages ctos:\r\ndebug2: languages stoc:\r\ndebug2: first_kex_follows 0\r\ndebug2: reserved 0\r\ndebug1: kex: algorithm: curve25519-sha256\r\ndebug1: kex: host key algorithm: ecdsa-sha2-nistp256\r\ndebug1: kex: server-&gt;client cipher: chacha20-poly1305@openssh.com MAC: &lt;implicit&gt; compression: none\r\ndebug1: kex: client-&gt;server cipher: chacha20-poly1305@openssh.com MAC: &lt;implicit&gt; compression: none\r\ndebug3: send packet: type 30\r\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\r\ndebug3: receive packet: type 31\r\ndebug1: Server host key: ecdsa-sha2-nistp256 SHA256:QcwhazMtZl/qgVMu6FLP+vLtUEmo6yDULBaK8+4SHnI\r\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\r\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:5\r\ndebug3: load_hostkeys: loaded 1 keys from dev.sages.pl\r\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\r\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:6\r\ndebug3: load_hostkeys: loaded 1 keys from 51.83.250.141\r\ndebug1: Host &#39;example.host.com&#39; is known and matches the ECDSA host key.\r\ndebug1: Found key in /path/to/known_hosts:5\r\ndebug3: send packet: type 21\r\ndebug2: set_newkeys: mode 1\r\ndebug1: rekey out after 134217728 blocks\r\ndebug1: SSH2_MSG_NEWKEYS sent\r\ndebug1: expecting SSH2_MSG_NEWKEYS\r\ndebug3: receive packet: type 21\r\ndebug1: SSH2_MSG_NEWKEYS received\r\ndebug2: set_newkeys: mode 0\r\ndebug1: rekey in after 134217728 blocks\r\ndebug1: Will attempt key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\r\ndebug2: pubkey_prepare: done\r\ndebug3: send packet: type 5\r\ndebug3: receive packet: type 7\r\ndebug1: SSH2_MSG_EXT_INFO received\r\ndebug1: kex_input_ext_info: server-sig-algs=&lt;ssh-ed25519,sk-ssh-ed25519@openssh.com,ssh-rsa,rsa-sha2-256,rsa-sha2-512,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,webauthn-sk-ecdsa-sha2-nistp256@openssh.com&gt;\r\ndebug1: kex_input_ext_info: publickey-hostbound@openssh.com (unrecognised)\r\ndebug3: receive packet: type 6\r\ndebug2: service_accept: ssh-userauth\r\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\r\ndebug3: send packet: type 50\r\ndebug3: receive packet: type 51\r\ndebug1: Authentications that can continue: publickey\r\ndebug3: start over, passed a different list publickey\r\ndebug3: preferred gssapi-with-mic,publickey,keyboard-interactive,password\r\ndebug3: authmethod_lookup publickey\r\ndebug3: remaining preferred: keyboard-interactive,password\r\ndebug3: authmethod_is_enabled publickey\r\ndebug1: Next authentication method: publickey\r\ndebug1: Offering public key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\r\ndebug3: send packet: type 50\r\ndebug2: we sent a publickey packet, wait for reply\r\ndebug3: receive packet: type 60\r\ndebug1: Server accepts key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\r\ndebug3: sign_and_send_pubkey: RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU\r\ndebug3: sign_and_send_pubkey: signing using rsa-sha2-512 SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU\r\ndebug3: send packet: type 50\r\ndebug3: receive packet: type 52\r\ndebug1: Authentication succeeded (publickey).\r\nAuthenticated to example.host.com ([51.83.250.141]:22).\r\ndebug1: channel 0: new [client-session]\r\ndebug3: ssh_session2_open: channel_new: 0\r\ndebug2: channel 0: send open\r\ndebug3: send packet: type 90\r\ndebug1: Requesting no-more-sessions@openssh.com\r\ndebug3: send packet: type 80\r\ndebug1: Entering interactive session.\r\ndebug1: pledge: network\r\ndebug3: receive packet: type 80\r\ndebug1: client_input_global_request: rtype hostkeys-00@openssh.com want_reply 0\r\ndebug3: receive packet: type 4\r\ndebug1: Remote: /home/username/.ssh/authorized_keys:1: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding\r\ndebug3: receive packet: type 4\r\ndebug1: Remote: /home/username/.ssh/authorized_keys:1: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding\r\ndebug3: receive packet: type 91\r\ndebug2: channel_input_open_confirmation: channel 0: callback start\r\ndebug2: fd 3 setting TCP_NODELAY\r\ndebug3: ssh_packet_set_tos: set IP_TOS 0x10\r\ndebug2: client_session2_setup: id 0\r\ndebug2: channel 0: request pty-req confirm 1\r\ndebug3: send packet: type 98\r\ndebug1: Sending environment.\r\ndebug3: Ignored env SHELL\r\ndebug3: Ignored env WSL_DISTRO_NAME\r\ndebug3: Ignored env JAVA_HOME\r\ndebug3: Ignored env SDKMAN_CANDIDATES_DIR\r\ndebug3: Ignored env NAME\r\ndebug3: Ignored env PWD\r\ndebug3: Ignored env LOGNAME\r\ndebug3: Ignored env HOME\r\ndebug1: Sending env LANG = C.UTF-8\r\ndebug2: channel 0: request env confirm 0\r\ndebug3: send packet: type 98\r\ndebug3: Ignored env WSL_INTEROP\r\ndebug3: Ignored env LS_COLORS\r\ndebug3: Ignored env WAYLAND_DISPLAY\r\ndebug3: Ignored env SDKMAN_VERSION\r\ndebug3: Ignored env LESSCLOSE\r\ndebug3: Ignored env TERM\r\ndebug3: Ignored env LESSOPEN\r\ndebug3: Ignored env USER\r\ndebug3: Ignored env SDKMAN_DIR\r\ndebug3: Ignored env DISPLAY\r\ndebug3: Ignored env SHLVL\r\ndebug3: Ignored env SDKMAN_CANDIDATES_API\r\ndebug3: Ignored env XDG_RUNTIME_DIR\r\ndebug3: Ignored env WSLENV\r\ndebug3: Ignored env XDG_DATA_DIRS\r\ndebug3: Ignored env PATH\r\ndebug3: Ignored env SDKMAN_PLATFORM\r\ndebug3: Ignored env HOSTTYPE\r\ndebug3: Ignored env PULSE_SERVER\r\ndebug3: Ignored env _\r\ndebug2: channel 0: request shell confirm 1\r\ndebug3: send packet: type 98\r\ndebug2: channel_input_open_confirmation: channel 0: callback done\r\ndebug2: channel 0: open confirm rwindow 0 rmax 32768\r\ndebug3: receive packet: type 99\r\ndebug2: channel_input_status_confirm: type 99 id 0\r\ndebug2: PTY allocation request accepted on channel 0\r\ndebug2: channel 0: rcvd adjust 2097152\r\ndebug3: receive packet: type 99\r\ndebug2: channel_input_status_confirm: type 99 id 0\r\ndebug2: shell request accepted on channel 0\r\n```","title":"Public key authentication fails with JSch but work with OpenSSH with the same key","body":"<p>I'm trying to establish an SSH connection using Kotlin + JSch, but it fails with</p>\n<blockquote>\n<p>com.jcraft.jsch.jSchException: Auth fail</p>\n</blockquote>\n<p>Steps taken:</p>\n<ol>\n<li>Generate SSH key pair using <code>ssh-keygen -t rsa -m PEM</code> (OpenSSH version: <code>OpenSSH_8.2p1</code>)</li>\n<li>Append contents of generated <code>id_rsa.pub</code> to <code>/home/username/.ssh/authorized_keys</code> file on the server</li>\n<li>Test connection in the terminal: <code>ssh -i /path/to/id_rsa username@example.host.com</code> – works fine</li>\n<li>Execute the following Kotlin code:</li>\n</ol>\n<pre><code>import com.jcraft.jsch.JSch\n\nconst val USER = &quot;username&quot;\nconst val HOST = &quot;example.host.com&quot;\nconst val IDENTITY = &quot;/path/to/id_rsa&quot;\n\n\nfun main() {\n    val jsch = JSch().apply {\n        addIdentity(IDENTITY)\n        setKnownHosts(&quot;/path/to/known_hosts&quot;)\n    }\n\n    jsch.getSession(USER, HOST)\n        .connect()\n}\n</code></pre>\n<p>...which fails with an exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; com.jcraft.jsch.JSchException: Auth fail\n    at com.jcraft.jsch.Session.connect(Session.java:519)\n    at com.jcraft.jsch.Session.connect(Session.java:183)\n    at MainKt.main(Main.kt:18)\n    at MainKt.main(Main.kt)\n</code></pre>\n<p>What can be the problem here?</p>\n<p>JSch log output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO: Connecting to example.host.com port 22\nINFO: Connection established\nINFO: Remote version string: SSH-2.0-OpenSSH_8.9p1 Ubuntu-3\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: SSH_MSG_KEXINIT sent\nINFO: SSH_MSG_KEXINIT received\nINFO: kex: server: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\nINFO: kex: server: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\nINFO: kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nINFO: kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nINFO: kex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nINFO: kex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nINFO: kex: server: none,zlib@openssh.com\nINFO: kex: server: none,zlib@openssh.com\nINFO: kex: server: \nINFO: kex: server: \nINFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: none\nINFO: kex: client: none\nINFO: kex: client: \nINFO: kex: client: \nINFO: kex: server-&gt;client aes128-ctr hmac-sha1 none\nINFO: kex: client-&gt;server aes128-ctr hmac-sha1 none\nINFO: SSH_MSG_KEX_ECDH_INIT sent\nINFO: expecting SSH_MSG_KEX_ECDH_REPLY\nINFO: Host 'example.host.com' is known and matches the ECDSA host key\nINFO: SSH_MSG_NEWKEYS sent\nINFO: SSH_MSG_NEWKEYS received\nINFO: SSH_MSG_SERVICE_REQUEST sent\nINFO: SSH_MSG_SERVICE_ACCEPT received\nINFO: Authentications that can continue: publickey,keyboard-interactive,password\nINFO: Next authentication method: publickey\nINFO: Disconnecting from example.host.com port 22\nException in thread &quot;main&quot; com.jcraft.jsch.JSchException: Auth fail\n    at com.jcraft.jsch.Session.connect(Session.java:519)\n    at com.jcraft.jsch.Session.connect(Session.java:183)\n    at MainKt.main(Main.kt:37)\n    at MainKt.main(Main.kt)\n</code></pre>\n<p><code>ssh -vvv</code> output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>OpenSSH_8.2p1 Ubuntu-4, OpenSSL 1.1.1f  31 Mar 2020\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: /etc/ssh/ssh_config line 19: include /etc/ssh/ssh_config.d/*.conf matched no files\ndebug1: /etc/ssh/ssh_config line 21: Applying options for *\ndebug2: resolving &quot;example.host.com&quot; port 22\ndebug2: ssh_connect_direct\ndebug1: Connecting to example.host.com [51.83.250.141] port 22.\ndebug1: Connection established.\ndebug1: identity file /path/to/id_rsa type 0\ndebug1: identity file /path/to/id_rsa-cert type -1\ndebug1: Local version string SSH-2.0-OpenSSH_8.2p1 Ubuntu-4\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_8.9p1 Ubuntu-3\ndebug1: match: OpenSSH_8.9p1 Ubuntu-3 pat OpenSSH* compat 0x04000000\ndebug2: fd 3 setting O_NONBLOCK\ndebug1: Authenticating to dev.sages.pl:22 as 'sages-devops'\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:5\ndebug3: load_hostkeys: loaded 1 keys from example.host.com\ndebug3: order_hostkeyalgs: prefer hostkeyalgs: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\ndebug3: send packet: type 20\ndebug1: SSH2_MSG_KEXINIT sent\ndebug3: receive packet: type 20\ndebug1: SSH2_MSG_KEXINIT received\ndebug2: local client KEXINIT proposal\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\ndebug2: host key algorithms: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256@openssh.com,ssh-ed25519,sk-ssh-ed25519@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: compression ctos: none,zlib@openssh.com,zlib\ndebug2: compression stoc: none,zlib@openssh.com,zlib\ndebug2: languages ctos:\ndebug2: languages stoc:\ndebug2: first_kex_follows 0\ndebug2: reserved 0\ndebug2: peer server KEXINIT proposal\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\ndebug2: host key algorithms: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: compression ctos: none,zlib@openssh.com\ndebug2: compression stoc: none,zlib@openssh.com\ndebug2: languages ctos:\ndebug2: languages stoc:\ndebug2: first_kex_follows 0\ndebug2: reserved 0\ndebug1: kex: algorithm: curve25519-sha256\ndebug1: kex: host key algorithm: ecdsa-sha2-nistp256\ndebug1: kex: server-&gt;client cipher: chacha20-poly1305@openssh.com MAC: &lt;implicit&gt; compression: none\ndebug1: kex: client-&gt;server cipher: chacha20-poly1305@openssh.com MAC: &lt;implicit&gt; compression: none\ndebug3: send packet: type 30\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\ndebug3: receive packet: type 31\ndebug1: Server host key: ecdsa-sha2-nistp256 SHA256:QcwhazMtZl/qgVMu6FLP+vLtUEmo6yDULBaK8+4SHnI\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:5\ndebug3: load_hostkeys: loaded 1 keys from dev.sages.pl\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:6\ndebug3: load_hostkeys: loaded 1 keys from 51.83.250.141\ndebug1: Host 'example.host.com' is known and matches the ECDSA host key.\ndebug1: Found key in /path/to/known_hosts:5\ndebug3: send packet: type 21\ndebug2: set_newkeys: mode 1\ndebug1: rekey out after 134217728 blocks\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug3: receive packet: type 21\ndebug1: SSH2_MSG_NEWKEYS received\ndebug2: set_newkeys: mode 0\ndebug1: rekey in after 134217728 blocks\ndebug1: Will attempt key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\ndebug2: pubkey_prepare: done\ndebug3: send packet: type 5\ndebug3: receive packet: type 7\ndebug1: SSH2_MSG_EXT_INFO received\ndebug1: kex_input_ext_info: server-sig-algs=&lt;ssh-ed25519,sk-ssh-ed25519@openssh.com,ssh-rsa,rsa-sha2-256,rsa-sha2-512,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,webauthn-sk-ecdsa-sha2-nistp256@openssh.com&gt;\ndebug1: kex_input_ext_info: publickey-hostbound@openssh.com (unrecognised)\ndebug3: receive packet: type 6\ndebug2: service_accept: ssh-userauth\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug3: send packet: type 50\ndebug3: receive packet: type 51\ndebug1: Authentications that can continue: publickey\ndebug3: start over, passed a different list publickey\ndebug3: preferred gssapi-with-mic,publickey,keyboard-interactive,password\ndebug3: authmethod_lookup publickey\ndebug3: remaining preferred: keyboard-interactive,password\ndebug3: authmethod_is_enabled publickey\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\ndebug3: send packet: type 50\ndebug2: we sent a publickey packet, wait for reply\ndebug3: receive packet: type 60\ndebug1: Server accepts key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\ndebug3: sign_and_send_pubkey: RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU\ndebug3: sign_and_send_pubkey: signing using rsa-sha2-512 SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU\ndebug3: send packet: type 50\ndebug3: receive packet: type 52\ndebug1: Authentication succeeded (publickey).\nAuthenticated to example.host.com ([51.83.250.141]:22).\ndebug1: channel 0: new [client-session]\ndebug3: ssh_session2_open: channel_new: 0\ndebug2: channel 0: send open\ndebug3: send packet: type 90\ndebug1: Requesting no-more-sessions@openssh.com\ndebug3: send packet: type 80\ndebug1: Entering interactive session.\ndebug1: pledge: network\ndebug3: receive packet: type 80\ndebug1: client_input_global_request: rtype hostkeys-00@openssh.com want_reply 0\ndebug3: receive packet: type 4\ndebug1: Remote: /home/username/.ssh/authorized_keys:1: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding\ndebug3: receive packet: type 4\ndebug1: Remote: /home/username/.ssh/authorized_keys:1: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding\ndebug3: receive packet: type 91\ndebug2: channel_input_open_confirmation: channel 0: callback start\ndebug2: fd 3 setting TCP_NODELAY\ndebug3: ssh_packet_set_tos: set IP_TOS 0x10\ndebug2: client_session2_setup: id 0\ndebug2: channel 0: request pty-req confirm 1\ndebug3: send packet: type 98\ndebug1: Sending environment.\ndebug3: Ignored env SHELL\ndebug3: Ignored env WSL_DISTRO_NAME\ndebug3: Ignored env JAVA_HOME\ndebug3: Ignored env SDKMAN_CANDIDATES_DIR\ndebug3: Ignored env NAME\ndebug3: Ignored env PWD\ndebug3: Ignored env LOGNAME\ndebug3: Ignored env HOME\ndebug1: Sending env LANG = C.UTF-8\ndebug2: channel 0: request env confirm 0\ndebug3: send packet: type 98\ndebug3: Ignored env WSL_INTEROP\ndebug3: Ignored env LS_COLORS\ndebug3: Ignored env WAYLAND_DISPLAY\ndebug3: Ignored env SDKMAN_VERSION\ndebug3: Ignored env LESSCLOSE\ndebug3: Ignored env TERM\ndebug3: Ignored env LESSOPEN\ndebug3: Ignored env USER\ndebug3: Ignored env SDKMAN_DIR\ndebug3: Ignored env DISPLAY\ndebug3: Ignored env SHLVL\ndebug3: Ignored env SDKMAN_CANDIDATES_API\ndebug3: Ignored env XDG_RUNTIME_DIR\ndebug3: Ignored env WSLENV\ndebug3: Ignored env XDG_DATA_DIRS\ndebug3: Ignored env PATH\ndebug3: Ignored env SDKMAN_PLATFORM\ndebug3: Ignored env HOSTTYPE\ndebug3: Ignored env PULSE_SERVER\ndebug3: Ignored env _\ndebug2: channel 0: request shell confirm 1\ndebug3: send packet: type 98\ndebug2: channel_input_open_confirmation: channel 0: callback done\ndebug2: channel 0: open confirm rwindow 0 rmax 32768\ndebug3: receive packet: type 99\ndebug2: channel_input_status_confirm: type 99 id 0\ndebug2: PTY allocation request accepted on channel 0\ndebug2: channel 0: rcvd adjust 2097152\ndebug3: receive packet: type 99\ndebug2: channel_input_status_confirm: type 99 id 0\ndebug2: shell request accepted on channel 0\n</code></pre>\n"},{"tags":["java","cyclic-reference","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1459236281,"creation_date":1459236281,"answer_id":36277942,"question_id":36223752,"body_markdown":"There is no detection or special handling of cases like this in MapStruct yet, but there is a feature request for it: [#469](https://github.com/mapstruct/mapstruct/issues/469). If you got any ideas how to deal with cycles, please drop a comment at that issue.","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>There is no detection or special handling of cases like this in MapStruct yet, but there is a feature request for it: <a href=\"https://github.com/mapstruct/mapstruct/issues/469\" rel=\"noreferrer\">#469</a>. If you got any ideas how to deal with cycles, please drop a comment at that issue.</p>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1666415536,"creation_date":1487094641,"answer_id":42232940,"question_id":36223752,"body_markdown":"Notifica and Avvisinotifica are not helping me understand your models. Thus lets say you have the above Child and Father models,\r\n  \r\n    public class Child {\r\n        private int id;\r\n        private Father father;\r\n        // Empty constructor and getter/setter methods omitted.\r\n    }\r\n\r\n    public class Father {\r\n        private int x;\r\n        private List&lt;Child&gt; children;\r\n        // Empty constructor and getter/setter methods omitted.\r\n    }\r\n\r\n    public class ChildDto {\r\n        private int id;\r\n        private FatherDto father;\r\n        // Empty constructor and getter/setter methods omitted.\r\n    }\r\n\r\n    public class FatherDto {\r\n        private int id;\r\n        private List&lt;ChildDto&gt; children;\r\n        // Empty constructor and getter/setter methods omitted.\r\n    }  \r\n  \r\nYou should create a Mapper like this,\r\n  \r\n    @Mapper\r\n    public abstract class ChildMapper {\r\n\r\n        @AfterMapping\r\n        protected void ignoreFathersChildren(Child child, @MappingTarget ChildDto childDto) {\r\n            childDto.getFather().setChildren(null);\r\n        }\r\n\r\n        public abstract ChildDto myMethod(Child child);\r\n    }\r\n  \r\n\r\n\r\nInitial Version of Mapstuct\r\n===\r\n\r\nIt is better to follow the next ways. This solution assumes that the ChildDto::father property is of type Father, not FatherDto, which is not a correct data architecture.  \r\nThe [@AfterMapping](http://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after) annotation means that the method will be imported inside the generated source, after the mapping of the properties. Thus, the Mapper implementation will be like this,\r\n  \r\n    @Component\r\n    public class ChildMapperImpl extends ChildMapper {\r\n\r\n        @Override\r\n        public ChildDto myMethod(Child child) {\r\n            if ( child == null ) {\r\n                return null;\r\n            }\r\n\r\n            ChildDto childDto = new ChildDto();\r\n\r\n            childDto.setId( child.getId() );\r\n            childDto.setFather( child.getFather() );\r\n\r\n            ignoreFathersChildren( child, childDto );\r\n\r\n            return childDto;\r\n        }\r\n    }\r\n\r\nIn this implementation the child has the parent set. This means that a cycle reference exists, but using the `ignoreFathersChildren(child, childDto)` method we remove the reference (we set it as null).\r\n  \r\n\r\nUpdate 1\r\n===\r\nUsing the mapstruct version 1.2.0.Final you can do it better,\r\n  \r\n    @Mapper\r\n    public interface ChildMapper {\r\n\r\n        @Mappings({\r\n    //         @Mapping(target = &quot;father&quot;, expression = &quot;java(null)&quot;),\r\n             @Mapping(target = &quot;father&quot;, qualifiedByName = &quot;fatherToFatherDto&quot;)})\r\n        ChildDto childToChildDto(Child child);\r\n\r\n        @Named(&quot;fatherToFatherDto&quot;)\r\n        @Mappings({\r\n             @Mapping(target = &quot;children&quot;, expression = &quot;java(null)&quot;)})\r\n        FatherDto fatherToFatherDto(Father father);\r\n    }\r\n\r\n\r\nUpdate 2\r\n===\r\nUsing the mapstruct version 1.4.2.Final you can do it even better,\r\n  \r\n    @Named(&quot;FatherMapper&quot;)\r\n    @Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n    public interface FatherMapper {\r\n\r\n        @Named(&quot;toDto&quot;)\r\n        @Mappings\r\n        FatherDto toDto(Father father);\r\n\r\n        @Named(&quot;toDtoWithoutChildren&quot;)\r\n        @Mappings({\r\n             @Mapping(target = &quot;children&quot;, expression = &quot;java(null)&quot;)})\r\n        FatherDto toDtoWithoutChildren(Father father);\r\n    }\r\n  \r\n    @Named(&quot;ChildMapper&quot;)\r\n    @Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE, uses = {FatherMapper.class})\r\n    public interface ChildMapper {\r\n\r\n        @Named(&quot;toDto&quot;)\r\n        @Mappings({\r\n             @Mapping(target = &quot;father&quot;, qualifiedByName = {&quot;FatherMapper&quot;, &quot;toDtoWithoutChildren&quot;})})\r\n        ChildDto toDto(Child child);\r\n\r\n        @Named(&quot;toDtoWithoutFather&quot;)\r\n        @Mappings({\r\n             @Mapping(target = &quot;father&quot;, expression = &quot;java(null)&quot;)})\r\n        ChildDto toDtoWithoutFather(Child child);\r\n    }\r\n","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>Notifica and Avvisinotifica are not helping me understand your models. Thus lets say you have the above Child and Father models,</p>\n<pre><code>public class Child {\n    private int id;\n    private Father father;\n    // Empty constructor and getter/setter methods omitted.\n}\n\npublic class Father {\n    private int x;\n    private List&lt;Child&gt; children;\n    // Empty constructor and getter/setter methods omitted.\n}\n\npublic class ChildDto {\n    private int id;\n    private FatherDto father;\n    // Empty constructor and getter/setter methods omitted.\n}\n\npublic class FatherDto {\n    private int id;\n    private List&lt;ChildDto&gt; children;\n    // Empty constructor and getter/setter methods omitted.\n}  \n</code></pre>\n<p>You should create a Mapper like this,</p>\n<pre><code>@Mapper\npublic abstract class ChildMapper {\n\n    @AfterMapping\n    protected void ignoreFathersChildren(Child child, @MappingTarget ChildDto childDto) {\n        childDto.getFather().setChildren(null);\n    }\n\n    public abstract ChildDto myMethod(Child child);\n}\n</code></pre>\n<h1>Initial Version of Mapstuct</h1>\n<p>It is better to follow the next ways. This solution assumes that the ChildDto::father property is of type Father, not FatherDto, which is not a correct data architecture.<br />\nThe <a href=\"http://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after\" rel=\"nofollow noreferrer\">@AfterMapping</a> annotation means that the method will be imported inside the generated source, after the mapping of the properties. Thus, the Mapper implementation will be like this,</p>\n<pre><code>@Component\npublic class ChildMapperImpl extends ChildMapper {\n\n    @Override\n    public ChildDto myMethod(Child child) {\n        if ( child == null ) {\n            return null;\n        }\n\n        ChildDto childDto = new ChildDto();\n\n        childDto.setId( child.getId() );\n        childDto.setFather( child.getFather() );\n\n        ignoreFathersChildren( child, childDto );\n\n        return childDto;\n    }\n}\n</code></pre>\n<p>In this implementation the child has the parent set. This means that a cycle reference exists, but using the <code>ignoreFathersChildren(child, childDto)</code> method we remove the reference (we set it as null).</p>\n<h1>Update 1</h1>\n<p>Using the mapstruct version 1.2.0.Final you can do it better,</p>\n<pre><code>@Mapper\npublic interface ChildMapper {\n\n    @Mappings({\n//         @Mapping(target = &quot;father&quot;, expression = &quot;java(null)&quot;),\n         @Mapping(target = &quot;father&quot;, qualifiedByName = &quot;fatherToFatherDto&quot;)})\n    ChildDto childToChildDto(Child child);\n\n    @Named(&quot;fatherToFatherDto&quot;)\n    @Mappings({\n         @Mapping(target = &quot;children&quot;, expression = &quot;java(null)&quot;)})\n    FatherDto fatherToFatherDto(Father father);\n}\n</code></pre>\n<h1>Update 2</h1>\n<p>Using the mapstruct version 1.4.2.Final you can do it even better,</p>\n<pre><code>@Named(&quot;FatherMapper&quot;)\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface FatherMapper {\n\n    @Named(&quot;toDto&quot;)\n    @Mappings\n    FatherDto toDto(Father father);\n\n    @Named(&quot;toDtoWithoutChildren&quot;)\n    @Mappings({\n         @Mapping(target = &quot;children&quot;, expression = &quot;java(null)&quot;)})\n    FatherDto toDtoWithoutChildren(Father father);\n}\n\n@Named(&quot;ChildMapper&quot;)\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE, uses = {FatherMapper.class})\npublic interface ChildMapper {\n\n    @Named(&quot;toDto&quot;)\n    @Mappings({\n         @Mapping(target = &quot;father&quot;, qualifiedByName = {&quot;FatherMapper&quot;, &quot;toDtoWithoutChildren&quot;})})\n    ChildDto toDto(Child child);\n\n    @Named(&quot;toDtoWithoutFather&quot;)\n    @Mappings({\n         @Mapping(target = &quot;father&quot;, expression = &quot;java(null)&quot;)})\n    ChildDto toDtoWithoutFather(Child child);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1653630704,"creation_date":1564738080,"answer_id":57323603,"question_id":36223752,"body_markdown":"At least in mapstruct 1.3 you can use the following:\r\n\r\nThe solution is widely inspired by https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper\r\n\r\nDefine a Context class (widely inspired by https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper/CycleAvoidingMappingContext.java ):\r\n\r\n    /**\r\n     * An implementation to track cycles in graphs to be used as {@link Context} parameter.\r\n     *\r\n     */\r\n    public class CycleAvoidingMappingContext {\r\n        private Map&lt;Object, Object&gt; knownInstances = new IdentityHashMap&lt;Object, Object&gt;();\r\n    \r\n        /**\r\n         * Gets an instance out of this context if it is already mapped.\r\n         * \r\n         * @param source\r\n         *        given source\r\n         * @param targetType\r\n         *        given target type.\r\n         * @return Returns the resulting type.\r\n         */\r\n        @BeforeMapping\r\n        public &lt;T&gt; T getMappedInstance(Object source, @TargetType Class&lt;T&gt; targetType) {\r\n            return targetType.cast(knownInstances.get(source));\r\n        }\r\n    \r\n        /**\r\n         * Puts an instance into the cache, so that it can be remembered to avoid endless mapping.\r\n         * \r\n         * @param source\r\n         *        given source\r\n         * @param target\r\n         *        given target\r\n         */\r\n        @BeforeMapping\r\n        public void storeMappedInstance(Object source, @MappingTarget Object target) {\r\n            knownInstances.put( source, target );\r\n        }\r\n    }\r\n\r\nIn each mapper, which maps classes with cyclic references, add this `org.mapstruct.Context`:\r\n\r\n    /**\r\n     * Mapper. Automatically implemented by mapstruct.\r\n     * \r\n     */\r\n    @Mapper\r\n    public interface SomeObjWithCyclesMapper {\r\n   \r\n        /**\r\n         * instance.\r\n         */\r\n        SomeObjWithCyclesMapper INSTANCE = Mappers.getMapper(SomeObjWithCyclesMapper.class);\r\n    \r\n        /**\r\n         * Mapper method to map entity to domain. Automatically implemented by mapstruct.\r\n         * \r\n         * @param entity\r\n         *        given entity.\r\n         * @param context\r\n         *        context to avoid cycles.\r\n         * @return Returns the domain object.\r\n         */\r\n        SomeObjWithCycles entityToDomain(SomeObjWithCyclesEntity entity, @Context CycleAvoidingMappingContext context);\r\n    \r\n        /**\r\n         * Mapper method to map domain object to entity. Automatically implemented by mapstruct.\r\n         * \r\n         * @param domain\r\n         *        given domain object.\r\n         * @param context\r\n         *        context to avoid cycles.\r\n         * @return Returns the entity.\r\n         */\r\n        SomeObjWithCyclesEntity domainToEntity(SomeObjWithCycles domain, @Context CycleAvoidingMappingContext context);\r\n        \r\n    }\r\n\r\n**Usage (added 2021-09-21):**\r\n\r\nThen you can call the mapper method with:\r\n\r\n    SomeObjWithCyclesMapper.INSTANCE.domainToEntity(objWithCycles, new CycleAvoidingMappingContext());\r\n\r\nWhere `objWithCycles` is the object of class `SomeObjWithCycles` which you want to map.\r\n\r\n**HINT (added 2022-05-27)**\r\n\r\nStating the obvious: This solves recursion problems occurring while converting objects using mapstruct.\r\nIf you have recursion problems using other technologies, e.g. RestEasy, you have to refer to their manuals for solving problems specific to these technologies.","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>At least in mapstruct 1.3 you can use the following:</p>\n<p>The solution is widely inspired by <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper</a></p>\n<p>Define a Context class (widely inspired by <a href=\"https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper/CycleAvoidingMappingContext.java\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper/CycleAvoidingMappingContext.java</a> ):</p>\n<pre><code>/**\n * An implementation to track cycles in graphs to be used as {@link Context} parameter.\n *\n */\npublic class CycleAvoidingMappingContext {\n    private Map&lt;Object, Object&gt; knownInstances = new IdentityHashMap&lt;Object, Object&gt;();\n\n    /**\n     * Gets an instance out of this context if it is already mapped.\n     * \n     * @param source\n     *        given source\n     * @param targetType\n     *        given target type.\n     * @return Returns the resulting type.\n     */\n    @BeforeMapping\n    public &lt;T&gt; T getMappedInstance(Object source, @TargetType Class&lt;T&gt; targetType) {\n        return targetType.cast(knownInstances.get(source));\n    }\n\n    /**\n     * Puts an instance into the cache, so that it can be remembered to avoid endless mapping.\n     * \n     * @param source\n     *        given source\n     * @param target\n     *        given target\n     */\n    @BeforeMapping\n    public void storeMappedInstance(Object source, @MappingTarget Object target) {\n        knownInstances.put( source, target );\n    }\n}\n</code></pre>\n<p>In each mapper, which maps classes with cyclic references, add this <code>org.mapstruct.Context</code>:</p>\n<pre><code>/**\n * Mapper. Automatically implemented by mapstruct.\n * \n */\n@Mapper\npublic interface SomeObjWithCyclesMapper {\n\n    /**\n     * instance.\n     */\n    SomeObjWithCyclesMapper INSTANCE = Mappers.getMapper(SomeObjWithCyclesMapper.class);\n\n    /**\n     * Mapper method to map entity to domain. Automatically implemented by mapstruct.\n     * \n     * @param entity\n     *        given entity.\n     * @param context\n     *        context to avoid cycles.\n     * @return Returns the domain object.\n     */\n    SomeObjWithCycles entityToDomain(SomeObjWithCyclesEntity entity, @Context CycleAvoidingMappingContext context);\n\n    /**\n     * Mapper method to map domain object to entity. Automatically implemented by mapstruct.\n     * \n     * @param domain\n     *        given domain object.\n     * @param context\n     *        context to avoid cycles.\n     * @return Returns the entity.\n     */\n    SomeObjWithCyclesEntity domainToEntity(SomeObjWithCycles domain, @Context CycleAvoidingMappingContext context);\n    \n}\n</code></pre>\n<p><strong>Usage (added 2021-09-21):</strong></p>\n<p>Then you can call the mapper method with:</p>\n<pre><code>SomeObjWithCyclesMapper.INSTANCE.domainToEntity(objWithCycles, new CycleAvoidingMappingContext());\n</code></pre>\n<p>Where <code>objWithCycles</code> is the object of class <code>SomeObjWithCycles</code> which you want to map.</p>\n<p><strong>HINT (added 2022-05-27)</strong></p>\n<p>Stating the obvious: This solves recursion problems occurring while converting objects using mapstruct.\nIf you have recursion problems using other technologies, e.g. RestEasy, you have to refer to their manuals for solving problems specific to these technologies.</p>\n"},{"tags":[],"owner":{"account_id":19639151,"reputation":111,"user_id":14375714,"display_name":"Ivo Eersels"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1601577680,"creation_date":1601577680,"answer_id":64161430,"question_id":36223752,"body_markdown":"Actually this approach with a CycleAvoidingMappingContext didn&#39;t work for me using MapStruct version 1.3.1. As I couldn&#39;t find much working examples I dediced to post my solution here for others to find.\r\n\r\nIn case of bi-directional relationships such mappings can trigger a StackOverflowError due to circular references.\r\n\r\n**Example: classes Recipe, Book and Ingredient which are related bidirectionally 1-to-many and many-to-many.**\r\n- **A recipe has lots of ingredients, but is mentioned in only 1 book.**\r\n- **One Book has lots of recipes in it.**\r\n- **An ingredient is only used in 1 recipe** (assuming that an Ingredient also has properties which fixes its amount, unit of measure and so on so that it is indeed specific to one recipe only).\r\n\r\n````\t\t\t\r\n\tpublic class Recipe {\r\n\t\tLong id;\r\n\t\t// ... Other recipe properties go here\r\n\t\tBook book;\r\n\t\tSet&lt;Ingredient&gt; ingredients;\r\n\t}\r\n\t\r\n\tpublic class Book {\r\n\t\tLong id;\r\n\t\t// ... Other book properties go here\r\n\t\tSet&lt;Recipe&gt; recipes;\r\n\t}\r\n\t\r\n\tpublic class Ingredient {\r\n\t\tLong id;\r\n\t\t// ... Other ingredient properties go here\r\n\t\tRecipe recipe;\r\n\t}\r\n````\r\n\t\t\t\t\r\nI am assuming you would also have DTO classes with identical properties but ofcourse referring to their corresponding DTO classes.\r\n\r\nThese would be the default Mapper setups (without depending on Spring in this case) for mapping from your entity classes to your DTO classes:\r\n\t\t\t\t\t\r\n````\r\n// MapStruct can handle primitive and standard classes like String and Integer just fine, but if you are using custom complex objects it needs some instructions on how it should map these\r\n\t@Mapper(uses = {BookMapper.class, IngredientMapper.class})\r\n\tpublic interface RecipeMapper {\r\n\t\tRecipeMapper INSTANCE = Mappers.getMapper( RecipeMapper.class );\r\n\r\n\t\tRecipeDTO toDTO(Recipe recipe);\r\n\r\n\t\tRecipe toEntity(RecipeDTO recipeDTO);\r\n\t}\r\n\r\n\t@Mapper(uses = {RecipeMapper.class, IngredientMapper.class})\r\n\tpublic interface BookMapper {\r\n\t\tBookMapper INSTANCE = Mappers.getMapper( BookMapper.class );\r\n\r\n\t\tBookDTO toDTO(Book book);\r\n\r\n\t\tBook toEntity(BookDTO book);\r\n\t}\r\n\r\n\t@Mapper(uses = {RecipeMapper.class, BookMapper.class})\r\n\tpublic interface IngredientMapper {\r\n\t\tIngredientMapper INSTANCE = Mappers.getMapper( IngredientMapper.class );\r\n\r\n\t\tIngredientDTO toDTO(Ingredient ingredient);\r\n\r\n\t\tIngredient toEntity(IngredientDTO ingredientDTO);\r\n\t}\r\n````\t\t\t\t\r\nIf you would stop there and try to map the classes this way, you will get hit by the StackOverflowError due to circular references you have now defined (Recipe contains ingredients which has a property recipe which has ingredients...).\r\nSuch default Mapper setups can only be used if there is no bidirectional relationship which would trigger the inverse mapping as well.\r\n\t\t\t\t\t\r\nYou could write this down like A -&gt; B -&gt; A -&gt; B -&gt; A ...\r\nConcerning the object mapping, my experience has shown that you should be able to map this out like: A -&gt; B -&gt; A (excluding the relations this time to break the cycle)\r\n\t\t\t\tfor both Entity to DTO and DTO to Entity mappings. This enables you to:\r\n- Drill down to associated objects in the frontend: ex. display a list of ingredients for a recipe\r\n- Persist the inverse relation when saving an object: ex. If you would only map A -&gt; B. The IngredientDTOs inside RecipeDTO would not have a recipe property and when saving an ingredient you would need to pass in the recipe id as a parameter and jump through some hoops to associate the ingredient entity object with a recipe entity object before saving the ingredient entity to the database.\r\n\r\n\r\nDefining the mappings like A -&gt; B -&gt; A (excluding the relations this time to break the cycle) will boil down to defining separate mappings for when you want to exclude the related complex objects from the mapping at the point where you want to break the cycle.\r\n\r\n**@IterableMapping(qualifiedByName = &quot;&lt;MAPPING_NAME&gt;&quot;)**\r\nis used to map a collection of complex objects, which refers to a mapping for a single complex object.\r\n\r\n**@Mapping(target = &quot;PropertyName&quot;, qualifiedByName = &quot;&lt;MAPPING_NAME&gt;&quot;)**\r\ncan be used to point to an alternative mapping which excludes the inverse relationships when mapping a collection of complex objects (when you want to break the cycle)\r\n\r\n**@Mapping(target = &quot;&lt;PropertyName&gt;[.&lt;childPropertyName&gt;]&quot;, ignore = true)**\r\ncan be used to indicate that a property of an object should not be mapped at all. So this can be used to completely leave out a (collection of) complex object(s) entirely or to ignore properties inside of a single (not a collection) related complex objects directly in case they are not needed.\r\n\r\nIf you don&#39;t use the **qualifiedByName** attribute and the matching **@Named()** annotations, your mappings will not compile with an error about *Ambiguous mappings* if you have multiple methods with the same return type and input parameter types in the Mapper interface.\r\n\r\n*It may be a good practice use method names matching the @Named annotation value in case you use named mappings.*\r\n\t\t\t\t\t\r\n**So, we will note down the wanted behavior first and then code it:**\r\n\r\n    1. When mapping a Recipe, we will need to map the book property in such a way that its inverse relation to recipes is mapped without the book property the second time\r\n\t\tRecipe A -&gt; Book X \t-&gt; Recipe A (without book property value as this would close the cycle)\r\n\t\t\t-&gt; Recipe B (without book property value, as same mapping is used for all these recipes unfortunately as we don&#39;t know up front which one will cause the cyclic reference)...\r\n\t\t\t\t-&gt; Ingredients I (without recipe property value as they would all point back to A)\r\n\t\t\t\t\t\t\t\t \r\n    2. When mapping a Book, we will need to map the recipes property in such a way that its inverse relation to book isn&#39;t mapped as it will point back to the same book.\r\n\t\t\tBook X -&gt; Recipe A (without book property as this would close the cycle)\r\n\t\t\t\t\t\t-&gt; Ingredients (without recipe property as all these will point back to Recipe A)\r\n\t\t\t\t\t\t\t-&gt; Recipe B (without book property, as same mapping is used for all these and all could potentially close the cycle)\r\n\t\t\t\t\t\t\t-&gt; Recipe C\r\n\t\t\t\t\t\r\n    3. When mapping an Ingredient, we will need to map the recipe property in such a way that its inverse relation to ingredient isn&#39;t mapped as one of those ingredients will point back to the same ingredient\r\nThe book property inside the recipe will need to be mapped without the recipes property as one of those will also loop back to the recipe.\r\n\r\n````\t\t\t\t\t\t\r\n\t@Mapper(uses = {BookMapper.class, IngredientMapper.class})\r\n\tpublic interface RecipeMapper {\r\n\t\tRecipeMapper INSTANCE = Mappers.getMapper( RecipeMapper.class );\r\n\r\n\t\t@Named(&quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\t@IterableMapping(qualifiedByName = &quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\tSet&lt;RecipeDTO&gt; toDTOSetIgnoreBookAndIngredientChildRecipes(Set&lt;Recipe&gt; recipes);\r\n\r\n\t\t@Named(&quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t@IterableMapping(qualifiedByName = &quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\tSet&lt;RecipeDTO&gt; toDTOSetIgnoreIngredientsAndBookChildRecipe(Set&lt;Recipe&gt; recipes);\r\n\t\t\t\t\t\t\t\t\r\n\t\t// In this mapping we will ignore the book property and the recipe property of the Ingredients to break the mapping cyclic references when we are mapping a book object\r\n\t\t// Don&#39;t forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\r\n\t\t@Named(&quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book&quot;, ignore = true),\t\t\t\t\t\t\t\t\t\t\t\t// book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),\t\t// ingredients is a collection of complex objects, so we can&#39;t directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\r\n\t\t})\r\n\t\tRecipeDTO toDTOIgnoreBookAndIngredientChildRecipes(Recipe recipe);\r\n\r\n\t\t@Named(&quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book.recipes&quot;, ignore = true),\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, ignore = true),\r\n\t\t})\r\n\t\tRecipeDTO toDTOIgnoreIngredientsAndBookChildRecipe(Recipe recipe);\r\n\r\n\t\t// Don&#39;t forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book.recipes&quot;, ignore = true),\t\t\t\t\t\t\t\t\t\t// book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),\t\t// ingredients is a collection of complex objects, so we can&#39;t directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\r\n\t\t})\r\n\t\tRecipeDTO toDTO(Recipe recipe);\r\n\t\t\r\n\t\t@Named(&quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\t@IterableMapping(qualifiedByName = &quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\tSet&lt;Recipe&gt; toEntitySetIgnoreBookAndIngredientChildRecipes(Set&lt;RecipeDTO&gt; recipeDTOs);\r\n\t\t\r\n\t\t@Named(&quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t@IterableMapping(qualifiedByName = &quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\tSet&lt;Recipe&gt; toEntitySetIgnoreIngredientsAndBookChildRecipe(Set&lt;RecipeDTO&gt; recipeDTOs);\r\n\t\t\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book.recipes&quot;, ignore = true),\t\t\t\t\t\t\t\t\t\t// book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),\t\t// ingredients is a collection of complex objects, so we can&#39;t directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\r\n\t\t})\r\n\t\tRecipe toEntity(RecipeDTO recipeDTO);\r\n\t\t\r\n\t\t@Named(&quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book&quot;, ignore = true),\t\t\t\t\t\t\t\t\t\t\t\t// book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),\t\t// ingredients is a collection of complex objects, so we can&#39;t directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\r\n\t\t})\r\n\t\tRecipe toEntityIgnoreBookAndIngredientChildRecipes(RecipeDTO recipeDTO);\r\n\t\t\r\n\t\t\t\t\t\t\t\t@Named(&quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book.recipes&quot;, ignore = true),\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, ignore = true),\r\n\t\t})\r\n\t\tRecipe toEntityIgnoreIngredientsAndBookChildRecipe(RecipeDTO recipeDTO);\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\t@Mapper(uses = {RecipeMapper.class, IngredientMapper.class})\r\n\tpublic interface BookMapper {\r\n\t\tBookMapper INSTANCE = Mappers.getMapper( BookMapper.class );\r\n\t\t\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;),\r\n\t\t})\r\n\t\tBookDTO toDTO(Book book);\r\n\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;),\r\n\t\t})\r\n\t\tBook toEntity(BookDTO book);\r\n\t}\r\n\r\n\r\n\r\n\t@Mapper(uses = {RecipeMapper.class, BookMapper.class})\r\n\tpublic interface IngredientMapper {\r\n\t\tIngredientMapper INSTANCE = Mappers.getMapper( IngredientMapper.class );\r\n\r\n\t\t// Don&#39;t forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\r\n\t\t@Named(&quot;IngredientSetIgnoreRecipes&quot;)\r\n\t\tIterableMapping(qualifiedByName = &quot;IngredientIgnoreRecipes&quot;)\t\t\t\t\t\t\t\t// Refer to the mapping for a single object in the collection\r\n\t\tSet&lt;IngredientDTO&gt; toDTOSetIgnoreRecipes(Set&lt;Ingredient&gt; ingredients);\r\n\r\n\t\t// Don&#39;t forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\r\n\t\t@Named(&quot;IngredientIgnoreRecipes&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, ignore = true),\t\t\t\t\t\t\t\t\t\t\t// ignore the recipes property entirely\r\n\t\t})\r\n\t\tIngredientDTO toDTOIgnoreRecipes(Ingredient ingredient);\r\n\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t})\r\n\t\tIngredientDTO toDTO(Ingredient ingredient);\r\n\r\n\t\t@Named(&quot;IngredientSetIgnoreRecipes&quot;)\r\n\t\tIterableMapping(qualifiedByName = &quot;IngredientIgnoreRecipes&quot;)\t\t\t\t\t\t\t\t// Refer to the mapping for a single object in the collection\r\n\t\tSet&lt;Ingredient&gt; toEntitySetIgnoreRecipes(Set&lt;IngredientDTO&gt; ingredientDTOs);\r\n\r\n\t\t@Named(&quot;IngredientIgnoreRecipes&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, ignore = true),\r\n\t\t})\r\n\t\tIngredient toEntityIgnoreRecipes(IngredientDTO ingredientDTO);\r\n\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t})\r\n\t\tIngredient toEntityIgnoreRecipes(IngredientDTO ingredientDTO);\r\n\t}\r\n````\t\r\n\t\t\r\n\r\n**Usage**\r\n\r\n````\t\t\r\n&lt;ENTITY_NAME&gt;DTO &lt;eNTITY_NAME&gt;DTO = &lt;ENTITY_NAME&gt;Mapper.INSTANCE.toDTO( &lt;eNTITY_NAME&gt; );`\r\n````","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>Actually this approach with a CycleAvoidingMappingContext didn't work for me using MapStruct version 1.3.1. As I couldn't find much working examples I dediced to post my solution here for others to find.</p>\n<p>In case of bi-directional relationships such mappings can trigger a StackOverflowError due to circular references.</p>\n<p><strong>Example: classes Recipe, Book and Ingredient which are related bidirectionally 1-to-many and many-to-many.</strong></p>\n<ul>\n<li><strong>A recipe has lots of ingredients, but is mentioned in only 1 book.</strong></li>\n<li><strong>One Book has lots of recipes in it.</strong></li>\n<li><strong>An ingredient is only used in 1 recipe</strong> (assuming that an Ingredient also has properties which fixes its amount, unit of measure and so on so that it is indeed specific to one recipe only).</li>\n</ul>\n<pre><code>    public class Recipe {\n        Long id;\n        // ... Other recipe properties go here\n        Book book;\n        Set&lt;Ingredient&gt; ingredients;\n    }\n    \n    public class Book {\n        Long id;\n        // ... Other book properties go here\n        Set&lt;Recipe&gt; recipes;\n    }\n    \n    public class Ingredient {\n        Long id;\n        // ... Other ingredient properties go here\n        Recipe recipe;\n    }\n</code></pre>\n<p>I am assuming you would also have DTO classes with identical properties but ofcourse referring to their corresponding DTO classes.</p>\n<p>These would be the default Mapper setups (without depending on Spring in this case) for mapping from your entity classes to your DTO classes:</p>\n<pre><code>// MapStruct can handle primitive and standard classes like String and Integer just fine, but if you are using custom complex objects it needs some instructions on how it should map these\n    @Mapper(uses = {BookMapper.class, IngredientMapper.class})\n    public interface RecipeMapper {\n        RecipeMapper INSTANCE = Mappers.getMapper( RecipeMapper.class );\n\n        RecipeDTO toDTO(Recipe recipe);\n\n        Recipe toEntity(RecipeDTO recipeDTO);\n    }\n\n    @Mapper(uses = {RecipeMapper.class, IngredientMapper.class})\n    public interface BookMapper {\n        BookMapper INSTANCE = Mappers.getMapper( BookMapper.class );\n\n        BookDTO toDTO(Book book);\n\n        Book toEntity(BookDTO book);\n    }\n\n    @Mapper(uses = {RecipeMapper.class, BookMapper.class})\n    public interface IngredientMapper {\n        IngredientMapper INSTANCE = Mappers.getMapper( IngredientMapper.class );\n\n        IngredientDTO toDTO(Ingredient ingredient);\n\n        Ingredient toEntity(IngredientDTO ingredientDTO);\n    }\n</code></pre>\n<p>If you would stop there and try to map the classes this way, you will get hit by the StackOverflowError due to circular references you have now defined (Recipe contains ingredients which has a property recipe which has ingredients...).\nSuch default Mapper setups can only be used if there is no bidirectional relationship which would trigger the inverse mapping as well.</p>\n<p>You could write this down like A -&gt; B -&gt; A -&gt; B -&gt; A ...\nConcerning the object mapping, my experience has shown that you should be able to map this out like: A -&gt; B -&gt; A (excluding the relations this time to break the cycle)\nfor both Entity to DTO and DTO to Entity mappings. This enables you to:</p>\n<ul>\n<li>Drill down to associated objects in the frontend: ex. display a list of ingredients for a recipe</li>\n<li>Persist the inverse relation when saving an object: ex. If you would only map A -&gt; B. The IngredientDTOs inside RecipeDTO would not have a recipe property and when saving an ingredient you would need to pass in the recipe id as a parameter and jump through some hoops to associate the ingredient entity object with a recipe entity object before saving the ingredient entity to the database.</li>\n</ul>\n<p>Defining the mappings like A -&gt; B -&gt; A (excluding the relations this time to break the cycle) will boil down to defining separate mappings for when you want to exclude the related complex objects from the mapping at the point where you want to break the cycle.</p>\n<p><strong>@IterableMapping(qualifiedByName = &quot;&lt;MAPPING_NAME&gt;&quot;)</strong>\nis used to map a collection of complex objects, which refers to a mapping for a single complex object.</p>\n<p><strong>@Mapping(target = &quot;PropertyName&quot;, qualifiedByName = &quot;&lt;MAPPING_NAME&gt;&quot;)</strong>\ncan be used to point to an alternative mapping which excludes the inverse relationships when mapping a collection of complex objects (when you want to break the cycle)</p>\n<p><strong>@Mapping(target = &quot;[.]&quot;, ignore = true)</strong>\ncan be used to indicate that a property of an object should not be mapped at all. So this can be used to completely leave out a (collection of) complex object(s) entirely or to ignore properties inside of a single (not a collection) related complex objects directly in case they are not needed.</p>\n<p>If you don't use the <strong>qualifiedByName</strong> attribute and the matching <strong>@Named()</strong> annotations, your mappings will not compile with an error about <em>Ambiguous mappings</em> if you have multiple methods with the same return type and input parameter types in the Mapper interface.</p>\n<p><em>It may be a good practice use method names matching the @Named annotation value in case you use named mappings.</em></p>\n<p><strong>So, we will note down the wanted behavior first and then code it:</strong></p>\n<pre><code>1. When mapping a Recipe, we will need to map the book property in such a way that its inverse relation to recipes is mapped without the book property the second time\n    Recipe A -&gt; Book X  -&gt; Recipe A (without book property value as this would close the cycle)\n        -&gt; Recipe B (without book property value, as same mapping is used for all these recipes unfortunately as we don't know up front which one will cause the cyclic reference)...\n            -&gt; Ingredients I (without recipe property value as they would all point back to A)\n                             \n2. When mapping a Book, we will need to map the recipes property in such a way that its inverse relation to book isn't mapped as it will point back to the same book.\n        Book X -&gt; Recipe A (without book property as this would close the cycle)\n                    -&gt; Ingredients (without recipe property as all these will point back to Recipe A)\n                        -&gt; Recipe B (without book property, as same mapping is used for all these and all could potentially close the cycle)\n                        -&gt; Recipe C\n                \n3. When mapping an Ingredient, we will need to map the recipe property in such a way that its inverse relation to ingredient isn't mapped as one of those ingredients will point back to the same ingredient\n</code></pre>\n<p>The book property inside the recipe will need to be mapped without the recipes property as one of those will also loop back to the recipe.</p>\n<pre><code>    @Mapper(uses = {BookMapper.class, IngredientMapper.class})\n    public interface RecipeMapper {\n        RecipeMapper INSTANCE = Mappers.getMapper( RecipeMapper.class );\n\n        @Named(&quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;)\n        @IterableMapping(qualifiedByName = &quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\n        Set&lt;RecipeDTO&gt; toDTOSetIgnoreBookAndIngredientChildRecipes(Set&lt;Recipe&gt; recipes);\n\n        @Named(&quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\n        @IterableMapping(qualifiedByName = &quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\n        Set&lt;RecipeDTO&gt; toDTOSetIgnoreIngredientsAndBookChildRecipe(Set&lt;Recipe&gt; recipes);\n                                \n        // In this mapping we will ignore the book property and the recipe property of the Ingredients to break the mapping cyclic references when we are mapping a book object\n        // Don't forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\n        @Named(&quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\n        @Mappings({\n            @Mapping(target = &quot;book&quot;, ignore = true),                                               // book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\n            @Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),       // ingredients is a collection of complex objects, so we can't directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\n        })\n        RecipeDTO toDTOIgnoreBookAndIngredientChildRecipes(Recipe recipe);\n\n        @Named(&quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\n        @Mappings({\n            @Mapping(target = &quot;book.recipes&quot;, ignore = true),\n            @Mapping(target = &quot;ingredients&quot;, ignore = true),\n        })\n        RecipeDTO toDTOIgnoreIngredientsAndBookChildRecipe(Recipe recipe);\n\n        // Don't forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\n        @Mappings({\n            @Mapping(target = &quot;book.recipes&quot;, ignore = true),                                       // book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\n            @Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),       // ingredients is a collection of complex objects, so we can't directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\n        })\n        RecipeDTO toDTO(Recipe recipe);\n        \n        @Named(&quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;)\n        @IterableMapping(qualifiedByName = &quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\n        Set&lt;Recipe&gt; toEntitySetIgnoreBookAndIngredientChildRecipes(Set&lt;RecipeDTO&gt; recipeDTOs);\n        \n        @Named(&quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\n        @IterableMapping(qualifiedByName = &quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\n        Set&lt;Recipe&gt; toEntitySetIgnoreIngredientsAndBookChildRecipe(Set&lt;RecipeDTO&gt; recipeDTOs);\n        \n        @Mappings({\n            @Mapping(target = &quot;book.recipes&quot;, ignore = true),                                       // book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\n            @Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),       // ingredients is a collection of complex objects, so we can't directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\n        })\n        Recipe toEntity(RecipeDTO recipeDTO);\n        \n        @Named(&quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\n        @Mappings({\n            @Mapping(target = &quot;book&quot;, ignore = true),                                               // book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\n            @Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),       // ingredients is a collection of complex objects, so we can't directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\n        })\n        Recipe toEntityIgnoreBookAndIngredientChildRecipes(RecipeDTO recipeDTO);\n        \n                                @Named(&quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\n        @Mappings({\n            @Mapping(target = &quot;book.recipes&quot;, ignore = true),\n            @Mapping(target = &quot;ingredients&quot;, ignore = true),\n        })\n        Recipe toEntityIgnoreIngredientsAndBookChildRecipe(RecipeDTO recipeDTO);\n        \n    }\n\n\n\n    @Mapper(uses = {RecipeMapper.class, IngredientMapper.class})\n    public interface BookMapper {\n        BookMapper INSTANCE = Mappers.getMapper( BookMapper.class );\n        \n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;),\n        })\n        BookDTO toDTO(Book book);\n\n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;),\n        })\n        Book toEntity(BookDTO book);\n    }\n\n\n\n    @Mapper(uses = {RecipeMapper.class, BookMapper.class})\n    public interface IngredientMapper {\n        IngredientMapper INSTANCE = Mappers.getMapper( IngredientMapper.class );\n\n        // Don't forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\n        @Named(&quot;IngredientSetIgnoreRecipes&quot;)\n        IterableMapping(qualifiedByName = &quot;IngredientIgnoreRecipes&quot;)                                // Refer to the mapping for a single object in the collection\n        Set&lt;IngredientDTO&gt; toDTOSetIgnoreRecipes(Set&lt;Ingredient&gt; ingredients);\n\n        // Don't forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\n        @Named(&quot;IngredientIgnoreRecipes&quot;)\n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, ignore = true),                                            // ignore the recipes property entirely\n        })\n        IngredientDTO toDTOIgnoreRecipes(Ingredient ingredient);\n\n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\n        })\n        IngredientDTO toDTO(Ingredient ingredient);\n\n        @Named(&quot;IngredientSetIgnoreRecipes&quot;)\n        IterableMapping(qualifiedByName = &quot;IngredientIgnoreRecipes&quot;)                                // Refer to the mapping for a single object in the collection\n        Set&lt;Ingredient&gt; toEntitySetIgnoreRecipes(Set&lt;IngredientDTO&gt; ingredientDTOs);\n\n        @Named(&quot;IngredientIgnoreRecipes&quot;)\n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, ignore = true),\n        })\n        Ingredient toEntityIgnoreRecipes(IngredientDTO ingredientDTO);\n\n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\n        })\n        Ingredient toEntityIgnoreRecipes(IngredientDTO ingredientDTO);\n    }\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre><code>&lt;ENTITY_NAME&gt;DTO &lt;eNTITY_NAME&gt;DTO = &lt;ENTITY_NAME&gt;Mapper.INSTANCE.toDTO( &lt;eNTITY_NAME&gt; );`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3121794,"reputation":1037,"user_id":2641426,"display_name":"DependencyHell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608545404,"creation_date":1608545404,"answer_id":65390858,"question_id":36223752,"body_markdown":"The answer was not quite easy to find on this page, so I will just post what is working in my case to prevent cyclic references.\r\n\r\nAnswer from *George Siggouroglou* was working fine using following :\r\n\r\n```java\r\n@Mapping(target = &quot;primaryObject.secondaries&quot;, expression = &quot;java(null)&quot;),\r\nSecondaryObjectDto toSecondaryObjectDto(SecondaryObject source);\r\n```\r\n\r\nAnswer from *Ivo Eersel* was very complete, but I still managed to miss the solution on the first read.\r\n\r\n**So here is what I finally used :**\r\n\r\n```java\r\n@Mapping(target = &quot;primaryObject.secondaries&quot;, ignore = true)\r\nSecondaryObjectDto toSecondaryObjectDto(SecondaryObject source);\r\n```\r\n\r\n","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>The answer was not quite easy to find on this page, so I will just post what is working in my case to prevent cyclic references.</p>\n<p>Answer from <em>George Siggouroglou</em> was working fine using following :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;primaryObject.secondaries&quot;, expression = &quot;java(null)&quot;),\nSecondaryObjectDto toSecondaryObjectDto(SecondaryObject source);\n</code></pre>\n<p>Answer from <em>Ivo Eersel</em> was very complete, but I still managed to miss the solution on the first read.</p>\n<p><strong>So here is what I finally used :</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;primaryObject.secondaries&quot;, ignore = true)\nSecondaryObjectDto toSecondaryObjectDto(SecondaryObject source);\n</code></pre>\n"}],"owner":{"account_id":1264677,"reputation":3196,"user_id":1222240,"accept_rate":91,"display_name":"valepu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22373,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":42232940,"answer_count":5,"score":13,"last_activity_date":1666415536,"creation_date":1458922706,"question_id":36223752,"body_markdown":"Today I started using MapStruct to create my Model to DTO converters for my project and i was wondering if it handled cyclic references automatically but it turned out it doesn&#39;t.\r\n\r\nThis is the converter i made to test it:\r\n\r\n    package it.cdc.snp.services.rest.giudizio;\r\n    \r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.Mapping;\r\n    import org.mapstruct.Mappings;\r\n    import org.mapstruct.factory.Mappers;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import it.cdc.snp.dto.entita.Avvisinotifica;\r\n    import it.cdc.snp.dto.entita.Corrispondenza;\r\n    import it.cdc.snp.model.notifica.AvvisoDiNotificaModel;\r\n    import it.cdc.snp.model.notifica.NotificaModel;\r\n    import it.cdc.snp.model.procedimento.ProcedimentoModel;\r\n    \r\n    @Component\r\n    @Mapper(componentModel=&quot;spring&quot;)\r\n    public interface NotificaMapper {\r\n    \t\r\n    \tNotificaMapper INSTANCE = Mappers.getMapper( NotificaMapper.class );\r\n    \t\r\n    \t@Mappings({\r\n            @Mapping(source = &quot;avvisinotificas&quot;, target = &quot;avvisinotificas&quot;),\r\n        })\r\n    \tNotificaModel&lt;ProcedimentoModel&gt; corrispondenzaToNotificaModel(Corrispondenza notifica);\r\n    \t\r\n    \t@Mappings({\r\n            @Mapping(source = &quot;corrispondenza&quot;, target = &quot;notifica&quot;),\r\n        })\r\n    \tAvvisoDiNotificaModel avvisinotificaToAvvisoDiNotificaModel(Avvisinotifica avvisinotifica);\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\nThis is the test:\r\n\r\n            Notifica sourceObject1 = new Notifica();\r\n    \t\tsourceObject1.setId(new Long(1));\r\n    \t\tAvvisinotifica sourceObject2 = new Avvisinotifica();\r\n    \t\tsourceObject2.setId(new Long(11));\r\n    \t\tList&lt;Avvisinotifica&gt; tests= new ArrayList&lt;&gt;();\r\n    \t\ttests.add(sourceObject2);\r\n    \t\tsourceObject1.setAvvisinotificas(tests);\r\n    \t\tsourceObject2.setCorrispondenza(sourceObject1);\r\n    \r\n    \t\tNotificaModel destObject1 = new NotificaModel&lt;&gt;();\r\n    \t\tAvvisinotifica destObject2 = new Avvisinotifica();\r\n    \t\t\r\n    \t\tNotificaModel converted = mapper.corrispondenzaToNotificaModel(sourceObject1);\r\n\r\n\r\nNotifica, Avvisinotifica and their respective models are simple POJOs with setters and getters so i don&#39;t think it&#39;s needed to post the code (Notifica extends Corrispondenza, if you were wondering)\r\n\r\nthis code gets into an infinite cycle, nothing very surprising here (though i hoped it&#39;d handle these situations).\r\nAnd while i think i can find an elegant way to manually handle it (i was thinking about using methods with `@MappingTarget` to insert the Referenced objects ) what i was wondering is if there&#39;s some way to tell MapStruct how to automatically handle cyclic references. ","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>Today I started using MapStruct to create my Model to DTO converters for my project and i was wondering if it handled cyclic references automatically but it turned out it doesn't.</p>\n\n<p>This is the converter i made to test it:</p>\n\n<pre><code>package it.cdc.snp.services.rest.giudizio;\n\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.Mappings;\nimport org.mapstruct.factory.Mappers;\nimport org.springframework.stereotype.Component;\n\nimport it.cdc.snp.dto.entita.Avvisinotifica;\nimport it.cdc.snp.dto.entita.Corrispondenza;\nimport it.cdc.snp.model.notifica.AvvisoDiNotificaModel;\nimport it.cdc.snp.model.notifica.NotificaModel;\nimport it.cdc.snp.model.procedimento.ProcedimentoModel;\n\n@Component\n@Mapper(componentModel=\"spring\")\npublic interface NotificaMapper {\n\n    NotificaMapper INSTANCE = Mappers.getMapper( NotificaMapper.class );\n\n    @Mappings({\n        @Mapping(source = \"avvisinotificas\", target = \"avvisinotificas\"),\n    })\n    NotificaModel&lt;ProcedimentoModel&gt; corrispondenzaToNotificaModel(Corrispondenza notifica);\n\n    @Mappings({\n        @Mapping(source = \"corrispondenza\", target = \"notifica\"),\n    })\n    AvvisoDiNotificaModel avvisinotificaToAvvisoDiNotificaModel(Avvisinotifica avvisinotifica);\n\n\n}\n</code></pre>\n\n<p>This is the test:</p>\n\n<pre><code>        Notifica sourceObject1 = new Notifica();\n        sourceObject1.setId(new Long(1));\n        Avvisinotifica sourceObject2 = new Avvisinotifica();\n        sourceObject2.setId(new Long(11));\n        List&lt;Avvisinotifica&gt; tests= new ArrayList&lt;&gt;();\n        tests.add(sourceObject2);\n        sourceObject1.setAvvisinotificas(tests);\n        sourceObject2.setCorrispondenza(sourceObject1);\n\n        NotificaModel destObject1 = new NotificaModel&lt;&gt;();\n        Avvisinotifica destObject2 = new Avvisinotifica();\n\n        NotificaModel converted = mapper.corrispondenzaToNotificaModel(sourceObject1);\n</code></pre>\n\n<p>Notifica, Avvisinotifica and their respective models are simple POJOs with setters and getters so i don't think it's needed to post the code (Notifica extends Corrispondenza, if you were wondering)</p>\n\n<p>this code gets into an infinite cycle, nothing very surprising here (though i hoped it'd handle these situations).\nAnd while i think i can find an elegant way to manually handle it (i was thinking about using methods with <code>@MappingTarget</code> to insert the Referenced objects ) what i was wondering is if there's some way to tell MapStruct how to automatically handle cyclic references. </p>\n"},{"tags":["java","junit","annotations","timeout","junit5"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666415325,"creation_date":1666415325,"answer_id":74161225,"question_id":74128429,"body_markdown":"The time reported by IntelliJ IDEA may not accurately reflect the execution time of the test method. In particular, the time reported for the first test executed includes time spent setting up the test suite. You can see by adding another test method earlier in the test class that the time &quot;moves&quot; to that test, and `hundredCities` itself may very well execute within the 2ms timeout duration.\r\n\r\nYou can verify this by logging and asserting the time taken explicitly:\r\n\r\n    @Test\r\n    public void hundredCities() {\r\n        long start = System.nanoTime();\r\n        assertEquals(740,\r\n                stringAlgorithm.findTotalLengthOfStringArray(\r\n                        new String[] {\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot; })\r\n        );\r\n        long executionTime = System.nanoTime() - start;\r\n        System.out.println(Duration.ofNanos(executionTime).toMillis());\r\n        assertTrue(executionTime &lt; 2_000_000);\r\n    }\r\n\r\n\r\nOn my machine, I had to add around a thousand cities before it consistently took greater than 2ms. Of course, that threshold will vary on different hardware, operating systems, Java versions, etc.","title":"Why does my Java JUnit 5 Timeout Test PASS when the execution in milliseconds exceeds what was specified?","body":"<p>The time reported by IntelliJ IDEA may not accurately reflect the execution time of the test method. In particular, the time reported for the first test executed includes time spent setting up the test suite. You can see by adding another test method earlier in the test class that the time &quot;moves&quot; to that test, and <code>hundredCities</code> itself may very well execute within the 2ms timeout duration.</p>\n<p>You can verify this by logging and asserting the time taken explicitly:</p>\n<pre><code>@Test\npublic void hundredCities() {\n    long start = System.nanoTime();\n    assertEquals(740,\n            stringAlgorithm.findTotalLengthOfStringArray(\n                    new String[] {\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot; })\n    );\n    long executionTime = System.nanoTime() - start;\n    System.out.println(Duration.ofNanos(executionTime).toMillis());\n    assertTrue(executionTime &lt; 2_000_000);\n}\n</code></pre>\n<p>On my machine, I had to add around a thousand cities before it consistently took greater than 2ms. Of course, that threshold will vary on different hardware, operating systems, Java versions, etc.</p>\n"}],"owner":{"account_id":26673178,"reputation":15,"user_id":20284324,"display_name":"AnotherApple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74161225,"answer_count":1,"score":0,"last_activity_date":1666415325,"creation_date":1666195146,"question_id":74128429,"body_markdown":"What i&#39;m trying to do: \r\n - \r\n*Fail the test after 2 milliseconds*\r\n\r\nHere&#39;s an example of my code. \r\nIt varies between 12-22 ms.\r\nI&#39;ve discovered that if i change the value to &#39;1&#39; it will sometimes even fail at seemingly random times.. \r\n\r\n    @Test\r\n    @Timeout(unit = TimeUnit.MILLISECONDS, value = 2)\r\n\r\n    public void hundredCities() {\r\n\r\n        assertEquals(740,\r\n                stringAlgorithm.findTotalLengthOfStringArray(\r\n                        new String[] {\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot; })\r\n        );\r\n\r\n    }\r\n\r\n\r\nHowever... \r\n\r\n[Test passed][1]\r\n\r\nWhat am i doing wrong here?\r\n\r\nString algorithm code:\r\n\r\n\r\n    \r\n  public class StringAlgorithm {\r\n\r\n    public int findTotalLengthOfStringArray(String[] test) {\r\n        // String[] test = {&quot;Bananas&quot;, &quot;Apples&quot;};\r\n        String s = &quot;&quot;;\r\n\r\n        for (String i : test) {\r\n            s += i;\r\n        }\r\n\r\n        char [] c = s.toCharArray();\r\n        System.out.println(c.length);\r\n\r\n        return c.length;\r\n\r\n    }\r\n\r\n}\r\n\r\n  [1]: https://i.stack.imgur.com/PTZof.png","title":"Why does my Java JUnit 5 Timeout Test PASS when the execution in milliseconds exceeds what was specified?","body":"<h2>What i'm trying to do:</h2>\n<p><em>Fail the test after 2 milliseconds</em></p>\n<p>Here's an example of my code.\nIt varies between 12-22 ms.\nI've discovered that if i change the value to '1' it will sometimes even fail at seemingly random times..</p>\n<pre><code>@Test\n@Timeout(unit = TimeUnit.MILLISECONDS, value = 2)\n\npublic void hundredCities() {\n\n    assertEquals(740,\n            stringAlgorithm.findTotalLengthOfStringArray(\n                    new String[] {\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot; })\n    );\n\n}\n</code></pre>\n<p>However...</p>\n<p><a href=\"https://i.stack.imgur.com/PTZof.png\" rel=\"nofollow noreferrer\">Test passed</a></p>\n<p>What am i doing wrong here?</p>\n<p>String algorithm code:</p>\n<p>public class StringAlgorithm {</p>\n<pre><code>public int findTotalLengthOfStringArray(String[] test) {\n    // String[] test = {&quot;Bananas&quot;, &quot;Apples&quot;};\n    String s = &quot;&quot;;\n\n    for (String i : test) {\n        s += i;\n    }\n\n    char [] c = s.toCharArray();\n    System.out.println(c.length);\n\n    return c.length;\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","java-stream","primes","sieve","intstream"],"comments":[{"owner":{"account_id":23167396,"reputation":21,"user_id":17267123,"display_name":"Brando Jeanpier"},"score":0,"creation_date":1666287039,"post_id":74143898,"comment_id":130906830,"body_markdown":"@AlexanderIvanchenko actually if I just put a true literal in the filter method or just delete the filter method at all, I get a different input, may be I should add the output result.","body":"@AlexanderIvanchenko actually if I just put a true literal in the filter method or just delete the filter method at all, I get a different input, may be I should add the output result."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666287761,"post_id":74143898,"comment_id":130907098,"body_markdown":"I didn&#39;t see that the predicate is being altered by `peek()` because of the formating.","body":"I didn&#39;t see that the predicate is being altered by <code>peek()</code> because of the formating."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":1,"creation_date":1666373710,"post_id":74143898,"comment_id":130929954,"body_markdown":"obligatory notice that this is *not* the sieve of Eratosthenes, but rather the non-optimal version of the sieve of trial division by primes.","body":"obligatory notice that this is <i>not</i> the sieve of Eratosthenes, but rather the non-optimal version of the sieve of trial division by primes."},{"owner":{"account_id":23167396,"reputation":21,"user_id":17267123,"display_name":"Brando Jeanpier"},"score":0,"creation_date":1666413783,"post_id":74143898,"comment_id":130936625,"body_markdown":"@WillNess how would it be the optimal version of the sieve of Erastothenes? I couldn&#39;t find an implementation in Java.","body":"@WillNess how would it be the optimal version of the sieve of Erastothenes? I couldn&#39;t find an implementation in Java."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1666429512,"post_id":74143898,"comment_id":130938402,"body_markdown":"optimal trial division test-divides each number by all the primes not exceeding the number&#39;s square root. your version test-divides each number by all the primes smaller than the number itself (which is, all the primes discovered thus far in the iteration). see more [here](https://stackoverflow.com/search?tab=votes&amp;q=postponed%20user%3a849891). and again, these are _not_ sieves of _Eratosthenes_, which does _not_ test-divide numbers at all but instead counts up from a discovered prime in steps of that prime and _thus_ discovers that prime&#39;s multiples: (contd.)","body":"optimal trial division test-divides each number by all the primes not exceeding the number&#39;s square root. your version test-divides each number by all the primes smaller than the number itself (which is, all the primes discovered thus far in the iteration). see more <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=postponed%20user%3a849891\">here</a>. and again, these are <i>not</i> sieves of <i>Eratosthenes</i>, which does <i>not</i> test-divide numbers at all but instead counts up from a discovered prime in steps of that prime and <i>thus</i> discovers that prime&#39;s multiples: (contd.)"},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1666429523,"post_id":74143898,"comment_id":130938404,"body_markdown":"... ``primes = [2,3,...] `set-minus` [[2p,3p,...] FOR p IN primes]``.","body":"... <code>primes = [2,3,...] `set-minus` [[2p,3p,...] FOR p IN primes]</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666684795,"post_id":74143898,"comment_id":130989387,"body_markdown":"@Brando Jeanpier you can find a Java implementation of the Sieve of Eratosthenes in the middle of [this answer](https://stackoverflow.com/questions/48754107/making-a-parallel-intstream-more-efficient-faster/48764124#48764124:~:text=Sieve%20of%20Eratosthenes)","body":"@Brando Jeanpier you can find a Java implementation of the Sieve of Eratosthenes in the middle of <a href=\"https://stackoverflow.com/questions/48754107/making-a-parallel-intstream-more-efficient-faster/48764124#48764124:~:text=Sieve%20of%20Eratosthenes\">this answer</a>"},{"owner":{"account_id":23167396,"reputation":21,"user_id":17267123,"display_name":"Brando Jeanpier"},"score":0,"creation_date":1666721201,"post_id":74143898,"comment_id":131002180,"body_markdown":"@Holger thank you so much, I need to try it.","body":"@Holger thank you so much, I need to try it."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666373389,"creation_date":1666287671,"answer_id":74144163,"question_id":74143898,"body_markdown":"This code produces an aggregate Predicate via [`IntPredicate.and()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntPredicate.html) method, which would work this way:\r\n\r\n```\r\np = x -&gt; true; // for first stream element `2` - \r\n               //   which passes the predicate p\r\n\r\n// Predicate p is being reassigned while\r\n// peek() sees the element `2`, to\r\np = x -&gt; true &amp;&amp; x % 2 != 0\r\n\r\n// The next stream element `3` passes the updated predicate\r\n// And the predicate is being reassigned again while\r\n// peek() sees the element `3` to\r\n\r\np = x -&gt; true &amp;&amp; x % 2 != 0 &amp;&amp; x % 3 != 0\r\n\r\n// And so on...\r\n```\r\nSo every element which successfully passes the `filter` results in a new condition being appended to the current predicate via &quot;logical AND&quot; `&amp;&amp;`.\r\n\r\nAt the end of the stream execution, the predicate would consist of conditions that check the given number against all the prime number from that would be present in the result.\r\n\r\n**Note** that this hacky implementation is broken:\r\n\r\n[`peek()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#peek(java.util.function.IntConsumer)) is an operation which was introduced exclusively to support debugging. It&#39;s not meant to be used for performing actions that could affect the result of the execution. `peek` gives no guaranty regarding the order in which it will be called while executing in parallel, and in certain cases can be optimized away.","title":"How is this Eratosthenes Sieve implementation is working internally?","body":"<p>This code produces an aggregate Predicate via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntPredicate.html\" rel=\"nofollow noreferrer\"><code>IntPredicate.and()</code></a> method, which would work this way:</p>\n<pre><code>p = x -&gt; true; // for first stream element `2` - \n               //   which passes the predicate p\n\n// Predicate p is being reassigned while\n// peek() sees the element `2`, to\np = x -&gt; true &amp;&amp; x % 2 != 0\n\n// The next stream element `3` passes the updated predicate\n// And the predicate is being reassigned again while\n// peek() sees the element `3` to\n\np = x -&gt; true &amp;&amp; x % 2 != 0 &amp;&amp; x % 3 != 0\n\n// And so on...\n</code></pre>\n<p>So every element which successfully passes the <code>filter</code> results in a new condition being appended to the current predicate via &quot;logical AND&quot; <code>&amp;&amp;</code>.</p>\n<p>At the end of the stream execution, the predicate would consist of conditions that check the given number against all the prime number from that would be present in the result.</p>\n<p><strong>Note</strong> that this hacky implementation is broken:</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#peek(java.util.function.IntConsumer)\" rel=\"nofollow noreferrer\"><code>peek()</code></a> is an operation which was introduced exclusively to support debugging. It's not meant to be used for performing actions that could affect the result of the execution. <code>peek</code> gives no guaranty regarding the order in which it will be called while executing in parallel, and in certain cases can be optimized away.</p>\n"}],"owner":{"account_id":23167396,"reputation":21,"user_id":17267123,"display_name":"Brando Jeanpier"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1666414028,"creation_date":1666286334,"question_id":74143898,"body_markdown":"I found this code that seems to be the non-optimal version of the Sieve of Erastothenes, it gets the N first prime numbers into an array.\r\n\r\n    private IntPredicate p = x -&gt; true;\r\n    \r\n    private int[] primes(int n) {\r\n        \r\n        return IntStream.iterate(2, i -&gt; i + 1)\r\n            .filter(x -&gt; p.test(x))\r\n            .peek(i -&gt; p = p.and(k -&gt; k % i != 0))\r\n            .limit(n)\r\n            .toArray();\r\n    }\r\n\r\n\r\nWhat&#39;s happening internally with the `IntPredicate`? \r\n\r\n","title":"How is this Eratosthenes Sieve implementation is working internally?","body":"<p>I found this code that seems to be the non-optimal version of the Sieve of Erastothenes, it gets the N first prime numbers into an array.</p>\n<pre><code>private IntPredicate p = x -&gt; true;\n\nprivate int[] primes(int n) {\n    \n    return IntStream.iterate(2, i -&gt; i + 1)\n        .filter(x -&gt; p.test(x))\n        .peek(i -&gt; p = p.and(k -&gt; k % i != 0))\n        .limit(n)\n        .toArray();\n}\n</code></pre>\n<p>What's happening internally with the <code>IntPredicate</code>?</p>\n"},{"tags":["java","autoboxing"],"comments":[{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1666413872,"post_id":74161119,"comment_id":130936631,"body_markdown":"You should include a subsection of the code from the wrapper class, and also clarify which JDK we are referring to","body":"You should include a subsection of the code from the wrapper class, and also clarify which JDK we are referring to"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1666413894,"post_id":74161119,"comment_id":130936633,"body_markdown":"How many times in your program do you use small numbers, say 0, 1, 2, up to 10? My guess is: a lot. Now how many times do you store small numbers in collections, or use them as keys in a hashmap? Every single one of those uses would be an object allocation if not for caching.","body":"How many times in your program do you use small numbers, say 0, 1, 2, up to 10? My guess is: a lot. Now how many times do you store small numbers in collections, or use them as keys in a hashmap? Every single one of those uses would be an object allocation if not for caching."},{"owner":{"account_id":26239656,"reputation":3,"user_id":19914164,"display_name":"Grey may"},"score":0,"creation_date":1666414512,"post_id":74161119,"comment_id":130936691,"body_markdown":"So why java does not use 16 bytes? I often face with numbers more than 127.","body":"So why java does not use 16 bytes? I often face with numbers more than 127."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1666416245,"post_id":74161119,"comment_id":130936865,"body_markdown":"@ChrisMaggiulli It&#39;s actually in the Java Language Spec, not just specific JDK implementations. I&#39;m in a phone, so I can&#39;t easily look up the exact chapter/section.","body":"@ChrisMaggiulli It&#39;s actually in the Java Language Spec, not just specific JDK implementations. I&#39;m in a phone, so I can&#39;t easily look up the exact chapter/section."}],"owner":{"account_id":26239656,"reputation":3,"user_id":19914164,"display_name":"Grey may"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666416478,"answer_count":0,"score":0,"last_activity_date":1666413723,"creation_date":1666413723,"question_id":74161119,"body_markdown":"I can’t understand why in java there is a special array in the wrapper class, for Example **Integer**, where wrapper objects for primitives are stored: from -128 to 127. Why a new wrapper object not created for this range, like for other primitives? Does this array optimize the program so much? And why is the range 8 bytes, no more, no less? If someone is familiar with the history of the language, please explain this decision.","title":"Why autobox caching","body":"<p>I can’t understand why in java there is a special array in the wrapper class, for Example <strong>Integer</strong>, where wrapper objects for primitives are stored: from -128 to 127. Why a new wrapper object not created for this range, like for other primitives? Does this array optimize the program so much? And why is the range 8 bytes, no more, no less? If someone is familiar with the history of the language, please explain this decision.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1666317862,"post_id":74147998,"comment_id":130913937,"body_markdown":"Did you try to check, for example, what the value of `testCases` is after it&#39;s read? Whether the loop actually starts that many times? What the value of `stripCount` is each time through the loop? What values are put into `outlets`? Please read https://ericlippert.com/2014/03/05/how-to-debug-small-programs.","body":"Did you try to check, for example, what the value of <code>testCases</code> is after it&#39;s read? Whether the loop actually starts that many times? What the value of <code>stripCount</code> is each time through the loop? What values are put into <code>outlets</code>? Please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666325907,"post_id":74147998,"comment_id":130915030,"body_markdown":"Does your program *terminate* without printing the last line, or is it waiting for input?","body":"Does your program <i>terminate</i> without printing the last line, or is it waiting for input?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666325954,"post_id":74147998,"comment_id":130915035,"body_markdown":"Perhaps you don&#39;t have newline on the last line of your input, and aren&#39;t typing an end of file character?","body":"Perhaps you don&#39;t have newline on the last line of your input, and aren&#39;t typing an end of file character?"}],"answers":[{"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666411600,"creation_date":1666368445,"answer_id":74156383,"question_id":74147998,"body_markdown":"Kattis validates your code by inspecting your program&#39;s standard output. If even a single character is different than the judge expects, your submission will fail, and Kattis will only report &quot;Wrong answer&quot; without any reason, actual/expected diff or other diagnostics.\r\n\r\nTherefore, it&#39;s critical to pay close attention to the expected output format in the problem description and sample test cases.\r\n\r\nFor the first sample input, we&#39;re given:\r\n\r\n```none\r\n3\r\n3 2 3 4\r\n10 4 4 4 4 4 4 4 4 4 4\r\n4 10 10 10 10\r\n```\r\n\r\nAnd the expected output is:\r\n\r\n```none\r\n7\r\n31\r\n37\r\n```\r\n\r\nBut your output is different:\r\n\r\n```none\r\nNumber of outlets: 7\r\n0\r\nNumber of outlets: 31\r\n1\r\nNumber of outlets: 37\r\n2\r\n```\r\n\r\nThis contains unnecessary `&quot;Number of outlets: &quot;` prefixes as well as an `i` for each test case. Sure, to a human, this is fine, but Kattis&#39; runner program isn&#39;t smart enough to understand that you basically got it right.\r\n\r\nRemoving the `i` print and changing your result print to match what Kattis is asking for passes the submission tests:\r\n\r\n```\r\nSystem.out.println(appliances - (outlets.size() - 1));\r\n```\r\n\r\nAs for the missing last line, you&#39;re probably not flushing that final buffer in the IDE. Either add a final newline or press &lt;kbd&gt;Enter&lt;/kbd&gt; manually if you have interactive capabilities. This appears to be an environment misunderstanding, not a code problem.","title":"For loop always runs one less time then it should, due to two lines of code that appear unrelated to the for loop","body":"<p>Kattis validates your code by inspecting your program's standard output. If even a single character is different than the judge expects, your submission will fail, and Kattis will only report &quot;Wrong answer&quot; without any reason, actual/expected diff or other diagnostics.</p>\n<p>Therefore, it's critical to pay close attention to the expected output format in the problem description and sample test cases.</p>\n<p>For the first sample input, we're given:</p>\n<pre class=\"lang-none prettyprint-override\"><code>3\n3 2 3 4\n10 4 4 4 4 4 4 4 4 4 4\n4 10 10 10 10\n</code></pre>\n<p>And the expected output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>7\n31\n37\n</code></pre>\n<p>But your output is different:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Number of outlets: 7\n0\nNumber of outlets: 31\n1\nNumber of outlets: 37\n2\n</code></pre>\n<p>This contains unnecessary <code>&quot;Number of outlets: &quot;</code> prefixes as well as an <code>i</code> for each test case. Sure, to a human, this is fine, but Kattis' runner program isn't smart enough to understand that you basically got it right.</p>\n<p>Removing the <code>i</code> print and changing your result print to match what Kattis is asking for passes the submission tests:</p>\n<pre><code>System.out.println(appliances - (outlets.size() - 1));\n</code></pre>\n<p>As for the missing last line, you're probably not flushing that final buffer in the IDE. Either add a final newline or press <kbd>Enter</kbd> manually if you have interactive capabilities. This appears to be an environment misunderstanding, not a code problem.</p>\n"}],"owner":{"account_id":5963655,"reputation":27,"user_id":4688009,"display_name":"Kellen Cole"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666411600,"creation_date":1666317525,"question_id":74147998,"body_markdown":"Edit: For some reason my code works as intended in an online compiler. But in eclipse, the exact same code has the following problem.\r\n\r\nI am working on a Kattis Problem called Electrical Outlets.\r\nOn the first line of input will be the number of test cases (n). On the next n lines, each line will start with an integer k, which is the number of power strips that will follow on the line. The rest of the line will contain how many outlets each of these power strips contain. Here is my code:\r\n```\r\npublic static void main(String[] args) {\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\t\tArrayList&lt;Integer&gt; outlets = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tint testCases = scnr.nextInt();\r\n\t\tint stripCount;\r\n\t\tint appliances = 0;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; testCases; i++) {\r\n\t\t\tstripCount = scnr.nextInt();\r\n\t\t\tfor (int j = 0; j &lt; stripCount; j++) {\r\n\t\t\t\toutlets.add(scnr.nextInt());\r\n\t\t\t\tappliances += outlets.get(j);\r\n\t\t\t}\r\n\t\t\tSystem.out.print(&quot;\\nNumber of outlets: &quot; + (appliances - (outlets.size() - 1)));\r\n\t\t\tSystem.out.print(&quot;\\n&quot; + i);\r\n\t\t\toutlets.clear();\r\n\t\t\tappliances = 0;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nNow for some reason, the outer for loop always runs one less time then it should.\r\nHere is a sample input\r\n```\r\n3\r\n3 2 3 4\r\n10 4 4 4 4 4 4 4 4 4 4\r\n4 10 10 10 10\r\n```\r\nAnd expected output\r\n```\r\nNumber of outlets: 7\r\nNumber of outlets: 31\r\nNumber of outlets: 37\r\n```\r\nHowever, my output is \r\n```\r\nNumber of outlets: 7\r\nNumber of outlets: 31\r\n```\r\n\r\nSimilarly, for input\r\n```\r\n5\r\n5 4 3 2 5 6\r\n4 3 2 2 3\r\n7 4 4 4 4 4 4 4\r\n5 4 3 3 4 4\r\n8 9 9 9 9 9 9 9 9\r\n```\r\nI expect an output of \r\n```\r\nNumber of outlets: 16\r\nNumber of outlets: 7\r\nNumber of outlets: 22\r\nNumber of outlets: 14\r\nNumber of outlets: 65\r\n```\r\nBut receive an output of \r\n```\r\nNumber of outlets: 16\r\nNumber of outlets: 7\r\nNumber of outlets: 22\r\nNumber of outlets: 14\r\n```\r\n\r\nIf I comment out the following two lines contained within for loop(int j)\r\n```\r\n            for (int j = 0; j &lt; stripCount; j++) {\r\n                //outlets.add(scnr.nextInt());\r\n                //appliances += outlets.get(j);\r\n            }\r\n```\r\nAnd add print(i), the for loop iterates as many times as it should.","title":"For loop always runs one less time then it should, due to two lines of code that appear unrelated to the for loop","body":"<p>Edit: For some reason my code works as intended in an online compiler. But in eclipse, the exact same code has the following problem.</p>\n<p>I am working on a Kattis Problem called Electrical Outlets.\nOn the first line of input will be the number of test cases (n). On the next n lines, each line will start with an integer k, which is the number of power strips that will follow on the line. The rest of the line will contain how many outlets each of these power strips contain. Here is my code:</p>\n<pre><code>public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        ArrayList&lt;Integer&gt; outlets = new ArrayList&lt;&gt;();\n        \n        int testCases = scnr.nextInt();\n        int stripCount;\n        int appliances = 0;\n        \n        for (int i = 0; i &lt; testCases; i++) {\n            stripCount = scnr.nextInt();\n            for (int j = 0; j &lt; stripCount; j++) {\n                outlets.add(scnr.nextInt());\n                appliances += outlets.get(j);\n            }\n            System.out.print(&quot;\\nNumber of outlets: &quot; + (appliances - (outlets.size() - 1)));\n            System.out.print(&quot;\\n&quot; + i);\n            outlets.clear();\n            appliances = 0;\n        }\n    }\n</code></pre>\n<p>Now for some reason, the outer for loop always runs one less time then it should.\nHere is a sample input</p>\n<pre><code>3\n3 2 3 4\n10 4 4 4 4 4 4 4 4 4 4\n4 10 10 10 10\n</code></pre>\n<p>And expected output</p>\n<pre><code>Number of outlets: 7\nNumber of outlets: 31\nNumber of outlets: 37\n</code></pre>\n<p>However, my output is</p>\n<pre><code>Number of outlets: 7\nNumber of outlets: 31\n</code></pre>\n<p>Similarly, for input</p>\n<pre><code>5\n5 4 3 2 5 6\n4 3 2 2 3\n7 4 4 4 4 4 4 4\n5 4 3 3 4 4\n8 9 9 9 9 9 9 9 9\n</code></pre>\n<p>I expect an output of</p>\n<pre><code>Number of outlets: 16\nNumber of outlets: 7\nNumber of outlets: 22\nNumber of outlets: 14\nNumber of outlets: 65\n</code></pre>\n<p>But receive an output of</p>\n<pre><code>Number of outlets: 16\nNumber of outlets: 7\nNumber of outlets: 22\nNumber of outlets: 14\n</code></pre>\n<p>If I comment out the following two lines contained within for loop(int j)</p>\n<pre><code>            for (int j = 0; j &lt; stripCount; j++) {\n                //outlets.add(scnr.nextInt());\n                //appliances += outlets.get(j);\n            }\n</code></pre>\n<p>And add print(i), the for loop iterates as many times as it should.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666793130,"post_id":74160947,"comment_id":131020104,"body_markdown":"Have you tried to use `getApplicationContext()` instead?","body":"Have you tried to use <code>getApplicationContext()</code> instead?"},{"owner":{"account_id":7894864,"reputation":1,"user_id":5963901,"display_name":"Samuelkb"},"score":0,"creation_date":1666803235,"post_id":74160947,"comment_id":131024107,"body_markdown":"@AlexMamo I sent the activity as a method param from the UI package to the data package, and it worked well, the only remaining issue I have is when the task fails I can&#39;t send the error to inform the login wasn&#39;t completed.","body":"@AlexMamo I sent the activity as a method param from the UI package to the data package, and it worked well, the only remaining issue I have is when the task fails I can&#39;t send the error to inform the login wasn&#39;t completed."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666808225,"post_id":74160947,"comment_id":131025745,"body_markdown":"Maybe this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help.","body":"Maybe this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help."},{"owner":{"account_id":7894864,"reputation":1,"user_id":5963901,"display_name":"Samuelkb"},"score":0,"creation_date":1666811652,"post_id":74160947,"comment_id":131026879,"body_markdown":"@AlexMamo Thanks! It is really useful.\nEven though I have been able to run my app, I noticed that the on-complete call is async, and the Login Activity Template is not structured for that behaviour","body":"@AlexMamo Thanks! It is really useful. Even though I have been able to run my app, I noticed that the on-complete call is async, and the Login Activity Template is not structured for that behaviour"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666812298,"post_id":74160947,"comment_id":131027079,"body_markdown":"In that case, you should structure it that way.","body":"In that case, you should structure it that way."}],"owner":{"account_id":7894864,"reputation":1,"user_id":5963901,"display_name":"Samuelkb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666410741,"creation_date":1666410741,"question_id":74160947,"body_markdown":"I have an android app that I created using the Login Activity Template (New Project -&gt; Login Activity -&gt; Java, API 26), which created a scaffold with the data and ui.login packages. I&#39;m trying to implement Firebase auth with email &amp; password.\r\n\r\nFollowing the docs and also understanding the function of each class, I started touching the class LoginDataSource (from data package) and adding the following code:\r\n\r\n    public class LoginDataSource {\r\n\r\n    private static final String TAG = &quot;EmailPassword&quot;;\r\n\r\n    private FirebaseAuth mAuth;\r\n\r\n    public Result&lt;LoggedInUser&gt; login(String username, String password) {\r\n\r\n        // Initialize Firebase Auth\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        try {\r\n            mAuth.signInWithEmailAndPassword(username, password)\r\n                    .addOnCompleteListener(LoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                // Sign in success, update UI with the signed-in user&#39;s information\r\n                                Log.d(TAG, &quot;signInWithEmail:success&quot;);\r\n                                //FirebaseUser user = mAuth.getCurrentUser();\r\n                                //updateUI(user);\r\n                            } else {\r\n                                // If sign in fails, display a message to the user.\r\n                                Log.w(TAG, &quot;signInWithEmail:failure&quot;, task.getException());\r\n                                //Toast.makeText(LoginActivity.this, &quot;Authentication failed.&quot;, Toast.LENGTH_SHORT).show();\r\n                                //updateUI(null);\r\n                            }\r\n                        }\r\n                    });\r\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n            Log.d(TAG,&quot;user display name: &quot; + user.getDisplayName());\r\n            LoggedInUser appUser = new LoggedInUser( user.getUid(), user.getDisplayName());\r\n            return new Result.Success&lt;&gt;(appUser);\r\n        } catch (Exception e) {\r\n            return new Result.Error(new IOException(&quot;Error logging in&quot;, e));\r\n        }\r\n\r\nAs I understand, the addOnCompleteListener expects my activity, which lives in the ui.login package, so when I try to use it, I get the error:\r\n\r\n    &#39;com.example.appname.ui.login.LoginActivity&#39; is not an enclosing class\r\n\r\nWhen I use the ``` this ``` keyword, I get the error:\r\n\r\n    Cannot resolve method &#39;addOnCompleteListener(com.samuelkb.aipuzzles.data.LoginDataSource, anonymous com.google.android.gms.tasks.OnCompleteListener&lt;com.google.firebase.auth.AuthResult&gt;)&#39;\r\n\r\nIt makes sense to keep the logic in my data package and not in my UI package.\r\nI&#39;m unsure how I should implement Firebase in my app, so any guidance is welcome.","title":"Error &quot;is not an enclosing class&quot; while Implement Firebase Auth in a Login Activity Android Java","body":"<p>I have an android app that I created using the Login Activity Template (New Project -&gt; Login Activity -&gt; Java, API 26), which created a scaffold with the data and ui.login packages. I'm trying to implement Firebase auth with email &amp; password.</p>\n<p>Following the docs and also understanding the function of each class, I started touching the class LoginDataSource (from data package) and adding the following code:</p>\n<pre><code>public class LoginDataSource {\n\nprivate static final String TAG = &quot;EmailPassword&quot;;\n\nprivate FirebaseAuth mAuth;\n\npublic Result&lt;LoggedInUser&gt; login(String username, String password) {\n\n    // Initialize Firebase Auth\n    mAuth = FirebaseAuth.getInstance();\n\n    try {\n        mAuth.signInWithEmailAndPassword(username, password)\n                .addOnCompleteListener(LoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            // Sign in success, update UI with the signed-in user's information\n                            Log.d(TAG, &quot;signInWithEmail:success&quot;);\n                            //FirebaseUser user = mAuth.getCurrentUser();\n                            //updateUI(user);\n                        } else {\n                            // If sign in fails, display a message to the user.\n                            Log.w(TAG, &quot;signInWithEmail:failure&quot;, task.getException());\n                            //Toast.makeText(LoginActivity.this, &quot;Authentication failed.&quot;, Toast.LENGTH_SHORT).show();\n                            //updateUI(null);\n                        }\n                    }\n                });\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n        Log.d(TAG,&quot;user display name: &quot; + user.getDisplayName());\n        LoggedInUser appUser = new LoggedInUser( user.getUid(), user.getDisplayName());\n        return new Result.Success&lt;&gt;(appUser);\n    } catch (Exception e) {\n        return new Result.Error(new IOException(&quot;Error logging in&quot;, e));\n    }\n</code></pre>\n<p>As I understand, the addOnCompleteListener expects my activity, which lives in the ui.login package, so when I try to use it, I get the error:</p>\n<pre><code>'com.example.appname.ui.login.LoginActivity' is not an enclosing class\n</code></pre>\n<p>When I use the <code>this</code> keyword, I get the error:</p>\n<pre><code>Cannot resolve method 'addOnCompleteListener(com.samuelkb.aipuzzles.data.LoginDataSource, anonymous com.google.android.gms.tasks.OnCompleteListener&lt;com.google.firebase.auth.AuthResult&gt;)'\n</code></pre>\n<p>It makes sense to keep the logic in my data package and not in my UI package.\nI'm unsure how I should implement Firebase in my app, so any guidance is welcome.</p>\n"},{"tags":["java","generics","backwards-compatibility"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1666204023,"post_id":74130161,"comment_id":130882775,"body_markdown":"Because strongly enforcing generics would have meant you would have to use them.","body":"Because strongly enforcing generics would have meant you would have to use them."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1666204275,"post_id":74130161,"comment_id":130882845,"body_markdown":"If you retained generics at runtime for the new code, while still allowing to run old code without runtime generics, then you would have two slightly different implementations for everything everywhere, both in the compiler and in the JVM. That would, in the most optimistic case, roughly double the maintenance effort (in practice, it would probably make maintenance ~10x harder). There were probably million other reasons why it was done this way, I don&#39;t see how this question can be answered in the given format of SO, it&#39;s way too vague and way too broad, and invites opinion-based answers.","body":"If you retained generics at runtime for the new code, while still allowing to run old code without runtime generics, then you would have two slightly different implementations for everything everywhere, both in the compiler and in the JVM. That would, in the most optimistic case, roughly double the maintenance effort (in practice, it would probably make maintenance ~10x harder). There were probably million other reasons why it was done this way, I don&#39;t see how this question can be answered in the given format of SO, it&#39;s way too vague and way too broad, and invites opinion-based answers."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1666204809,"post_id":74130161,"comment_id":130882998,"body_markdown":"Reified generics *can* be added without breaking old code - C# did it in its second version after all, IIRC. But when Java was doing it, it&#39;s already the fifth version, and there was probably a lot more &quot;old code&quot; that they need to prevent breaking.","body":"Reified generics <i>can</i> be added without breaking old code - C# did it in its second version after all, IIRC. But when Java was doing it, it&#39;s already the fifth version, and there was probably a lot more &quot;old code&quot; that they need to prevent breaking."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1666204894,"post_id":74130161,"comment_id":130883020,"body_markdown":"@Sweeper Did they merely &quot;not break old _code_&quot;, or did they actually manage to retain compatibility with the old compiled artifacts?","body":"@Sweeper Did they merely &quot;not break old <i>code</i>&quot;, or did they actually manage to retain compatibility with the old compiled artifacts?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1666205428,"post_id":74130161,"comment_id":130883183,"body_markdown":"@AndreyTyukin That is a good question that I&#39;m not sure. Unfortunately I don&#39;t have any old binaries from that era to test. I could tell my compiler to use `-langversion:1` to compile some source, and I am able to run the binary successfully, but that doesn&#39;t really say anything, does it?","body":"@AndreyTyukin That is a good question that I&#39;m not sure. Unfortunately I don&#39;t have any old binaries from that era to test. I could tell my compiler to use <code>-langversion:1</code> to compile some source, and I am able to run the binary successfully, but that doesn&#39;t really say anything, does it?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666409234,"post_id":74130161,"comment_id":130936240,"body_markdown":"I don&#39;t think it&#39;s opinion based, because the question is about the justification actually used in fact by the designers of this feature, not a question about whether that justification is valid.","body":"I don&#39;t think it&#39;s opinion based, because the question is about the justification actually used in fact by the designers of this feature, not a question about whether that justification is valid."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666409493,"creation_date":1666409493,"answer_id":74160886,"question_id":74130161,"body_markdown":"This is discussed in the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se6/jls3.pdf), on page 57:\r\n\r\n&gt; The decision not to make all generic types reifiable is one of the most crucial, and controversial design decisions involving the language’s type system.\r\n&gt;\r\n&gt; Ultimately, the most important motivation for this decision is compatibility with existing code.\r\n&gt;\r\n&gt; Naively, the addition of new constructs such as genericity has no implications for preexisting code. The programming language per se, is compatible with earlier versions as long as every program written in the previous versions retains its meaning in the new version. However, this notion, which may be termed _language compatibility_, is of purely theoretical interest. Real programs (even trivial ones, such as &quot;Hello World&quot;) are composed of several compilation units, some of which are provided by the Java platform (such as elements of `java.lang` or `java.util`).\r\n&gt;\r\n&gt; In practice then, the minimum requirement is _platform compatibillity_ _[sic]_ - that any program written for the prior version of the platform continues to function unchanged in the new platform.\r\n&gt;\r\n&gt; One way to provide platform compatibillity is to leave existing platform functionality unchanged, only adding new functionality. For example, rather than modify the existing Collections hierarchy in `java.util`, one might introduce a new library utilizing genericity.\r\n&gt;\r\n&gt; The disadvantages of such a scheme is that it is extremely difficult for pre-existing clients of the Collection library to migrate to the new library. Collections are used to exchange data between independently developed modules; if a vendor decides to switch to the new, generic, library, that vendor must also distribute two versions of their code, to be compatible with their clients. Libraries that are dependent on other vendors code cannot be modified to use genericity until the supplier’s library is updated. If two modules are mutually dependent, the changes must be made simultaneously.\r\n&gt;\r\n&gt; Clearly, platform compatibility, as outlined above, does not provide a realistic path for adoption of a pervasive new feature such as genericity. Therefore, the design of the generic type system seeks to support _migration compatibility_. Migration compatibiliy allows the evolution of existing code to take advantage of generics without imposing dependencies between independently developed software modules.\r\n&gt;\r\n&gt; The price of migration compatibility is that a full and sound reification of the generic type system is not possible, at least while the migration is taking place.\r\n\r\nTo put it another way, _not_ erasing type parameters would require that a &quot;raw&quot; type and a parameterised type be treated as different types. This would render legacy code written with raw types non-interoperable with APIs written for generic types, and vice-versa.\r\n\r\nThere is a more detailed discussion in the paper [Making the future safe for the past:\r\nAdding Genericity to the JavaTM Programming Language\r\n](https://homepages.inf.ed.ac.uk/wadler/gj/Documents/gj-oopsla.pdf) by Gilad Bracha, Martin Odersky, David Stoutamire, and Philip Wadler. This describes the &quot;GJ&quot; project, which was the basis for the inclusion of generics in Java 5.","title":"How did type erasure in Java protect backward compatibility?","body":"<p>This is discussed in the <a href=\"https://docs.oracle.com/javase/specs/jls/se6/jls3.pdf\" rel=\"nofollow noreferrer\">Java Language Specification</a>, on page 57:</p>\n<blockquote>\n<p>The decision not to make all generic types reifiable is one of the most crucial, and controversial design decisions involving the language’s type system.</p>\n<p>Ultimately, the most important motivation for this decision is compatibility with existing code.</p>\n<p>Naively, the addition of new constructs such as genericity has no implications for preexisting code. The programming language per se, is compatible with earlier versions as long as every program written in the previous versions retains its meaning in the new version. However, this notion, which may be termed <em>language compatibility</em>, is of purely theoretical interest. Real programs (even trivial ones, such as &quot;Hello World&quot;) are composed of several compilation units, some of which are provided by the Java platform (such as elements of <code>java.lang</code> or <code>java.util</code>).</p>\n<p>In practice then, the minimum requirement is <em>platform compatibillity</em> <em>[sic]</em> - that any program written for the prior version of the platform continues to function unchanged in the new platform.</p>\n<p>One way to provide platform compatibillity is to leave existing platform functionality unchanged, only adding new functionality. For example, rather than modify the existing Collections hierarchy in <code>java.util</code>, one might introduce a new library utilizing genericity.</p>\n<p>The disadvantages of such a scheme is that it is extremely difficult for pre-existing clients of the Collection library to migrate to the new library. Collections are used to exchange data between independently developed modules; if a vendor decides to switch to the new, generic, library, that vendor must also distribute two versions of their code, to be compatible with their clients. Libraries that are dependent on other vendors code cannot be modified to use genericity until the supplier’s library is updated. If two modules are mutually dependent, the changes must be made simultaneously.</p>\n<p>Clearly, platform compatibility, as outlined above, does not provide a realistic path for adoption of a pervasive new feature such as genericity. Therefore, the design of the generic type system seeks to support <em>migration compatibility</em>. Migration compatibiliy allows the evolution of existing code to take advantage of generics without imposing dependencies between independently developed software modules.</p>\n<p>The price of migration compatibility is that a full and sound reification of the generic type system is not possible, at least while the migration is taking place.</p>\n</blockquote>\n<p>To put it another way, <em>not</em> erasing type parameters would require that a &quot;raw&quot; type and a parameterised type be treated as different types. This would render legacy code written with raw types non-interoperable with APIs written for generic types, and vice-versa.</p>\n<p>There is a more detailed discussion in the paper <a href=\"https://homepages.inf.ed.ac.uk/wadler/gj/Documents/gj-oopsla.pdf\" rel=\"nofollow noreferrer\">Making the future safe for the past:\nAdding Genericity to the JavaTM Programming Language\n</a> by Gilad Bracha, Martin Odersky, David Stoutamire, and Philip Wadler. This describes the &quot;GJ&quot; project, which was the basis for the inclusion of generics in Java 5.</p>\n"}],"owner":{"account_id":20657609,"reputation":33,"user_id":15166276,"display_name":"Perry_Y_Z"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74160886,"answer_count":1,"score":3,"last_activity_date":1666409493,"creation_date":1666203692,"question_id":74130161,"body_markdown":"I&#39;ve been learning Java generics recently, and I got to know that the reason Java adopted the type erasure approach to implementing generics is to ensure backward compatibility. \r\n\r\nBut I don&#39;t quite understand how this approach ensured backward compatibility. Since programs are not required to be generic, why having true generics will violate backward compatibility? ","title":"How did type erasure in Java protect backward compatibility?","body":"<p>I've been learning Java generics recently, and I got to know that the reason Java adopted the type erasure approach to implementing generics is to ensure backward compatibility.</p>\n<p>But I don't quite understand how this approach ensured backward compatibility. Since programs are not required to be generic, why having true generics will violate backward compatibility?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666409411,"creation_date":1666409411,"answer_id":74160880,"question_id":74160078,"body_markdown":"That could be tricky.\r\n\r\n1. you need to use specific [EntityManagerFactoryBuilderImpl constructor](https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/jpa/boot/internal/EntityManagerFactoryBuilderImpl.java#L192) to inject your own implementation of `ClassLoaderServiceImpl`\r\n2. `spring-orm` uses another constructor which does not fit your needs: [SpringHibernateJpaPersistenceProvider](https://github.com/spring-projects/spring-framework/blob/5.3.x/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/SpringHibernateJpaPersistenceProvider.java#L52) - thus, you need to override/inherit SpringHibernateJpaPersistenceProvider\r\n3. next you need to override [HibernateJpaVendorAdapter#getPersistenceProvider](https://github.com/spring-projects/spring-framework/blob/5.3.x/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/HibernateJpaVendorAdapter.java#L119)\r\n4. after that you will need to override boot auto-configurations.\r\n","title":"How do I inject Hibernate ClassLoaderService into Spring Boot?","body":"<p>That could be tricky.</p>\n<ol>\n<li>you need to use specific <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/jpa/boot/internal/EntityManagerFactoryBuilderImpl.java#L192\" rel=\"nofollow noreferrer\">EntityManagerFactoryBuilderImpl constructor</a> to inject your own implementation of <code>ClassLoaderServiceImpl</code></li>\n<li><code>spring-orm</code> uses another constructor which does not fit your needs: <a href=\"https://github.com/spring-projects/spring-framework/blob/5.3.x/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/SpringHibernateJpaPersistenceProvider.java#L52\" rel=\"nofollow noreferrer\">SpringHibernateJpaPersistenceProvider</a> - thus, you need to override/inherit SpringHibernateJpaPersistenceProvider</li>\n<li>next you need to override <a href=\"https://github.com/spring-projects/spring-framework/blob/5.3.x/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/HibernateJpaVendorAdapter.java#L119\" rel=\"nofollow noreferrer\">HibernateJpaVendorAdapter#getPersistenceProvider</a></li>\n<li>after that you will need to override boot auto-configurations.</li>\n</ol>\n"}],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74160880,"answer_count":1,"score":0,"last_activity_date":1666409411,"creation_date":1666395485,"question_id":74160078,"body_markdown":"Hi I need to pass my own `ClassLoaderServiceImpl` into Hibernate. The issue is that I cannot figure out how to pass it into Hibernate over Spring Boot. How would I do it?\r\n\r\nHere is what I got:\r\n```\r\nClassLoaderServiceImpl serviceImpl = new ClassLoaderServiceImpl(customClassLoader);\r\n// Magical code that injects serviceImpl into Spring Boot, which will give it to Hibernate\r\n```\r\nAny help is much appreciated!","title":"How do I inject Hibernate ClassLoaderService into Spring Boot?","body":"<p>Hi I need to pass my own <code>ClassLoaderServiceImpl</code> into Hibernate. The issue is that I cannot figure out how to pass it into Hibernate over Spring Boot. How would I do it?</p>\n<p>Here is what I got:</p>\n<pre><code>ClassLoaderServiceImpl serviceImpl = new ClassLoaderServiceImpl(customClassLoader);\n// Magical code that injects serviceImpl into Spring Boot, which will give it to Hibernate\n</code></pre>\n<p>Any help is much appreciated!</p>\n"},{"tags":["java","jsp-tags"],"answers":[{"tags":[],"owner":{"account_id":143302,"reputation":6277,"user_id":351548,"accept_rate":100,"display_name":"Manny"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1315794726,"creation_date":1315794726,"answer_id":7382781,"question_id":7382607,"body_markdown":"css href link is incorrect. Use relative path instead:\r\n\r\n    &lt;link href=&quot;../css/loginstyle.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;","title":"how to load CSS file into jsp","body":"<p>css href link is incorrect. Use relative path instead:</p>\n\n<pre><code>&lt;link href=\"../css/loginstyle.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355213,"reputation":1093,"user_id":1293752,"accept_rate":59,"display_name":"kamal"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1364985091,"creation_date":1364985091,"answer_id":15784968,"question_id":7382607,"body_markdown":"You can write like that. This is for whenever you change context path you don&#39;t need to modify your jsp file.\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/css/styles.css&quot; /&gt;","title":"how to load CSS file into jsp","body":"<p>You can write like that. This is for whenever you change context path you don't need to modify your jsp file.</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"${pageContext.request.contextPath}/css/styles.css\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4691046,"reputation":430,"user_id":3797176,"accept_rate":80,"display_name":"Axel Montini"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1432998635,"creation_date":1432978836,"answer_id":30544579,"question_id":7382607,"body_markdown":"I had the same problem too. Then i realized that **in the MainPageServlet the urlPatterns parameter in @WebServlet annotation contained &quot;/&quot;**, because i wanted to forward to the MainPage if the user entered the section *www.site.com/* . When i tried to open the css file from the browser, the url was www.site.com/css/desktop.css, but the page content was THE PAGE *MainPage.jsp*. So, i removed the &quot;/&quot; urlPattern and now i can use CSS files in my jsp file using one of the most common solutions (`${pageContext.request.contextPath}/css/desktop.css`).\r\nMake sure  your servlet doesn&#39;t contain the &quot;/&quot; urlPattern.\r\nI hope this worked for u too,\r\n- Axel Montini","title":"how to load CSS file into jsp","body":"<p>I had the same problem too. Then i realized that <strong>in the MainPageServlet the urlPatterns parameter in @WebServlet annotation contained \"/\"</strong>, because i wanted to forward to the MainPage if the user entered the section <em>www.site.com/</em> . When i tried to open the css file from the browser, the url was www.site.com/css/desktop.css, but the page content was THE PAGE <em>MainPage.jsp</em>. So, i removed the \"/\" urlPattern and now i can use CSS files in my jsp file using one of the most common solutions (<code>${pageContext.request.contextPath}/css/desktop.css</code>).\nMake sure  your servlet doesn't contain the \"/\" urlPattern.\nI hope this worked for u too,\n- Axel Montini</p>\n"},{"tags":[],"owner":{"account_id":11895790,"reputation":421,"user_id":8705294,"display_name":"Андрій Андрущенко"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1506886962,"creation_date":1506886962,"answer_id":46516208,"question_id":7382607,"body_markdown":"I use this version \r\n\r\n    &lt;style&gt;&lt;%@include file=&quot;/WEB-INF/css/style.css&quot;%&gt;&lt;/style&gt;","title":"how to load CSS file into jsp","body":"<p>I use this version </p>\n\n<pre><code>&lt;style&gt;&lt;%@include file=\"/WEB-INF/css/style.css\"%&gt;&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14272169,"reputation":362,"user_id":10309356,"display_name":"SAAD BELEFQIH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624756731,"creation_date":1624756731,"answer_id":68147288,"question_id":7382607,"body_markdown":"if everything seems correct, and despite it still does not work I invite you to load the statics files in the web.xml like this \r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;default&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/includes/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nafter \r\n\r\n    &lt;!-- bootstrap css --&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/includes/asserts/css/bootstrap.min.css&quot;/&gt;","title":"how to load CSS file into jsp","body":"<p>if everything seems correct, and despite it still does not work I invite you to load the statics files in the web.xml like this</p>\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;default&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/includes/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>after</p>\n<pre><code>&lt;!-- bootstrap css --&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/includes/asserts/css/bootstrap.min.css&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25851868,"reputation":11,"user_id":19585747,"display_name":"Hans Mbua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658307942,"creation_date":1658307888,"answer_id":73048766,"question_id":7382607,"body_markdown":"use this it worked for me \r\n\r\n       &lt;style&gt;&lt;%@include file=&quot;/WEB-INF/view/style/style.css&quot;%&gt;&lt;/style&gt;\r\n\r\n","title":"how to load CSS file into jsp","body":"<p>use this it worked for me</p>\n<pre><code>   &lt;style&gt;&lt;%@include file=&quot;/WEB-INF/view/style/style.css&quot;%&gt;&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20770313,"reputation":592,"user_id":15342125,"display_name":"Paul Bradbury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666407767,"creation_date":1666407767,"answer_id":74160786,"question_id":7382607,"body_markdown":"For CSS : \r\n\r\n```html\r\n&lt;link href=&quot;css/bootstrap.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\r\n```\r\n\r\nFor JS : \r\n\r\n```html\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;js/bootstrap.js&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nFiles location: \r\n```bash\r\n└───src\r\n    └───main\r\n        ├───java\r\n        └───webapp\r\n            ├───css/bootstrap.css\r\n            ├───js/bootstrap.js\r\n            ├───META-INF\r\n            └───WEB-INF/index.jsp\r\n                └───lib\r\n```\r\n\r\n[![css-js file location JSP][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X7Fa5.png","title":"how to load CSS file into jsp","body":"<p>For CSS :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;link href=&quot;css/bootstrap.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\n</code></pre>\n<p>For JS :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script type=&quot;text/javascript&quot; src=&quot;js/bootstrap.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>Files location:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>└───src\n    └───main\n        ├───java\n        └───webapp\n            ├───css/bootstrap.css\n            ├───js/bootstrap.js\n            ├───META-INF\n            └───WEB-INF/index.jsp\n                └───lib\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/X7Fa5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X7Fa5.png\" alt=\"css-js file location JSP\" /></a></p>\n"}],"owner":{"account_id":904587,"reputation":524,"user_id":939747,"accept_rate":75,"display_name":"ylnsagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194627,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":7,"score":34,"last_activity_date":1666407767,"creation_date":1315792017,"question_id":7382607,"body_markdown":"I created a jsp page as follows: \r\n\r\n    &lt;%@ page contentType=&quot;text/css&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;title&gt;Login page&lt;/title&gt;\r\n    &lt;link href=&quot;/css/loginstyle.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt; India welfare&lt;/h1&gt;\r\n    &lt;p&gt; welcome &lt;/p&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nand named it as **login.jsp**\r\n\r\nand i also created a css file called loginstyle.css and the code of the .css file is as follows:\r\n\r\n    body\r\n    {\r\n    background-color:#d0e4fe;\r\n    }\r\n    h1\r\n    {\r\n    color:orange;\r\n    text-align:center;\r\n    }\r\n    p\r\n    {\r\n    font-family:&quot;Times New Roman&quot;;\r\n    font-size:20px;\r\n    }\r\n\r\nthe directory structure for css and jsp&#39;s are as follows:\r\n**webcontent/welfare_web/css** for .css files  and\r\n**webcontent/welfare_web/login** for jsp files\r\n\r\nthe programming editor is **eclipse** and the server i am using is **tomcat 7.0**. when i am trying to run the login.jsp file using tomcat server. The css file is not showing any effect. i mean the output is normal text and is not as per the CSS file. \r\n\r\nplease help me how to make the .css file to effect the jsp file.\r\n\r\n","title":"how to load CSS file into jsp","body":"<p>I created a jsp page as follows: </p>\n\n<pre><code>&lt;%@ page contentType=\"text/css\" %&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Login page&lt;/title&gt;\n&lt;link href=\"/css/loginstyle.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt; India welfare&lt;/h1&gt;\n&lt;p&gt; welcome &lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and named it as <strong>login.jsp</strong></p>\n\n<p>and i also created a css file called loginstyle.css and the code of the .css file is as follows:</p>\n\n<pre><code>body\n{\nbackground-color:#d0e4fe;\n}\nh1\n{\ncolor:orange;\ntext-align:center;\n}\np\n{\nfont-family:\"Times New Roman\";\nfont-size:20px;\n}\n</code></pre>\n\n<p>the directory structure for css and jsp's are as follows:\n<strong>webcontent/welfare_web/css</strong> for .css files  and\n<strong>webcontent/welfare_web/login</strong> for jsp files</p>\n\n<p>the programming editor is <strong>eclipse</strong> and the server i am using is <strong>tomcat 7.0</strong>. when i am trying to run the login.jsp file using tomcat server. The css file is not showing any effect. i mean the output is normal text and is not as per the CSS file. </p>\n\n<p>please help me how to make the .css file to effect the jsp file.</p>\n"},{"tags":["java","android","kotlin","android-layout","android-imageview"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666406952,"post_id":74154208,"comment_id":130936059,"body_markdown":"updated answer you can check!","body":"updated answer you can check!"}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666406938,"creation_date":1666360113,"answer_id":74154636,"question_id":74154208,"body_markdown":"Your Image is hiding stroke border because your `drawable` or background shape of `constraint` layout have `corners` radius so if you notice in your image only corner parts are being hidden so you can fix by also adding corners to image. You can do by wrapping `ImageView` in `CardView` and giving corner radius to that cardview something like this - \r\n\r\n**UPDATED CODE :**\r\n\r\n```\r\n   &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/constraint_rt&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;@dimen/_115sdp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintDimensionRatio=&quot;W,16:9&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        android:padding=&quot;1dp&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:background=&quot;@drawable/rt_list_img_gradient_bg_with_stroke&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtpopularRT&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fontFamily=&quot;@font/worksans_semibold&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textColor=&quot;@color/klgreen&quot;\r\n            android:textSize=&quot;@dimen/_12ssp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:cardCornerRadius=&quot;10dp&quot;&gt;\r\n\r\n             &lt;ImageView\r\n              android:id=&quot;@+id/imageRt&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;match_parent&quot;\r\n              android:adjustViewBounds=&quot;true&quot;\r\n              android:scaleType=&quot;fitXY&quot;\r\n              android:visibility=&quot;gone&quot; /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n``` \r\n\r\n**INFO :**\r\n\r\nI have added `10dp` of corner radius because your shape drawable have the same radius - `10dp`.\r\n\r\nP.S - Alternative You can also use [RoundedImageView][1]\r\n\r\n\r\n  [1]: https://github.com/vinc3m1/RoundedImageView#roundedimageview","title":"Android: corner border stroke getting hidden behind imageview","body":"<p>Your Image is hiding stroke border because your <code>drawable</code> or background shape of <code>constraint</code> layout have <code>corners</code> radius so if you notice in your image only corner parts are being hidden so you can fix by also adding corners to image. You can do by wrapping <code>ImageView</code> in <code>CardView</code> and giving corner radius to that cardview something like this -</p>\n<p><strong>UPDATED CODE :</strong></p>\n<pre><code>   &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraint_rt&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;@dimen/_115sdp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintDimensionRatio=&quot;W,16:9&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:padding=&quot;1dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:background=&quot;@drawable/rt_list_img_gradient_bg_with_stroke&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtpopularRT&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/worksans_semibold&quot;\n            android:gravity=&quot;center&quot;\n            android:textColor=&quot;@color/klgreen&quot;\n            android:textSize=&quot;@dimen/_12ssp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:cardCornerRadius=&quot;10dp&quot;&gt;\n\n             &lt;ImageView\n              android:id=&quot;@+id/imageRt&quot;\n              android:layout_width=&quot;match_parent&quot;\n              android:layout_height=&quot;match_parent&quot;\n              android:adjustViewBounds=&quot;true&quot;\n              android:scaleType=&quot;fitXY&quot;\n              android:visibility=&quot;gone&quot; /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>INFO :</strong></p>\n<p>I have added <code>10dp</code> of corner radius because your shape drawable have the same radius - <code>10dp</code>.</p>\n<p>P.S - Alternative You can also use <a href=\"https://github.com/vinc3m1/RoundedImageView#roundedimageview\" rel=\"nofollow noreferrer\">RoundedImageView</a></p>\n"}],"owner":{"account_id":19223398,"reputation":200,"user_id":14046751,"display_name":"android dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74154636,"answer_count":1,"score":0,"last_activity_date":1666406938,"creation_date":1666358139,"question_id":74154208,"body_markdown":"hello I&#39;m trying to add a corner to my constraint layout so the logic is whenever from the response I&#39;m not getting the image I will show text else image but whenever the image comes corner stroke is getting hidden in the `imageview` \r\n\r\nproblem image:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhere is my code:\r\n\r\n       &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraint_rt&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;@dimen/_115sdp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintDimensionRatio=&quot;W,16:9&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:padding=&quot;1dp&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            android:background=&quot;@drawable/rt_list_img_gradient_bg_with_stroke&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/txtpopularRT&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/worksans_semibold&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:textColor=&quot;@color/klgreen&quot;\r\n                android:textSize=&quot;@dimen/_12ssp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageRt&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:adjustViewBounds=&quot;true&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n                android:visibility=&quot;gone&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\ndrawable file:-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n    &lt;gradient\r\n        android:startColor=&quot;@color/black&quot;\r\n        android:endColor=&quot;@color/new_black_1&quot;\r\n        android:angle=&quot;270&quot; /&gt;\r\n    &lt;stroke android:width=&quot;2dp&quot; android:color=&quot;@color/kred&quot; /&gt;\r\n    &lt;corners\r\n        android:radius=&quot;10dp&quot;&gt;\r\n    &lt;/corners&gt;\r\n&lt;/shape&gt;\r\n\r\n\r\nplease help me out with how can I show the stroke at the corner\r\n\r\nany help will be appreciated\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OukmH.png","title":"Android: corner border stroke getting hidden behind imageview","body":"<p>hello I'm trying to add a corner to my constraint layout so the logic is whenever from the response I'm not getting the image I will show text else image but whenever the image comes corner stroke is getting hidden in the <code>imageview</code></p>\n<p>problem image:-</p>\n<p><a href=\"https://i.stack.imgur.com/OukmH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OukmH.png\" alt=\"enter image description here\" /></a></p>\n<p>here is my code:</p>\n<pre><code>   &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraint_rt&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;@dimen/_115sdp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintDimensionRatio=&quot;W,16:9&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:padding=&quot;1dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:background=&quot;@drawable/rt_list_img_gradient_bg_with_stroke&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtpopularRT&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/worksans_semibold&quot;\n            android:gravity=&quot;center&quot;\n            android:textColor=&quot;@color/klgreen&quot;\n            android:textSize=&quot;@dimen/_12ssp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageRt&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:adjustViewBounds=&quot;true&quot;\n            android:scaleType=&quot;fitXY&quot;\n            android:visibility=&quot;gone&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>drawable file:-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:shape=&quot;rectangle&quot;&gt;\n&lt;gradient\n    android:startColor=&quot;@color/black&quot;\n    android:endColor=&quot;@color/new_black_1&quot;\n    android:angle=&quot;270&quot; /&gt;\n&lt;stroke android:width=&quot;2dp&quot; android:color=&quot;@color/kred&quot; /&gt;\n&lt;corners\n    android:radius=&quot;10dp&quot;&gt;\n&lt;/corners&gt;\n</code></pre>\n\n<p>please help me out with how can I show the stroke at the corner</p>\n<p>any help will be appreciated</p>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666172037,"post_id":74123010,"comment_id":130870572,"body_markdown":"*&quot;Exception e1 is never thrown in try block&quot;* - that means that you&#39;re trying to catch a **checked** exception which is not expected to be thrown. So why do you want to catch a checked exception which would never occur to begin with?","body":"<i>&quot;Exception e1 is never thrown in try block&quot;</i> - that means that you&#39;re trying to catch a <b>checked</b> exception which is not expected to be thrown. So why do you want to catch a checked exception which would never occur to begin with?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666172526,"post_id":74123010,"comment_id":130870773,"body_markdown":"And since method `Function.apply()` as well as all other methods of the functional interfaces doesn&#39;t declare checked exceptions, then all other exceptions you&#39;re dialing with are runtime exception. And in most cases you should not catch them because they are meant to signify that the code is malfunctioning in some way.","body":"And since method <code>Function.apply()</code> as well as all other methods of the functional interfaces doesn&#39;t declare checked exceptions, then all other exceptions you&#39;re dialing with are runtime exception. And in most cases you should not catch them because they are meant to signify that the code is malfunctioning in some way."},{"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"score":0,"creation_date":1666172527,"post_id":74123010,"comment_id":130870776,"body_markdown":"@AlexanderIvanchenko like you said it is a checked exception, but I need to catch it and do some actions according to it. It is never thrown because I am trying to call my functions with function.apply() method so It is not a good way to create a common wrapper for my functions I think.","body":"@AlexanderIvanchenko like you said it is a checked exception, but I need to catch it and do some actions according to it. It is never thrown because I am trying to call my functions with function.apply() method so It is not a good way to create a common wrapper for my functions I think."},{"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"score":2,"creation_date":1666172748,"post_id":74123010,"comment_id":130870859,"body_markdown":"You can define your own functional Interface with the `throws` declaration for the desired exception type: [See this post](https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception).","body":"You can define your own functional Interface with the <code>throws</code> declaration for the desired exception type: <a href=\"https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\">See this post</a>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666172814,"post_id":74123010,"comment_id":130870887,"body_markdown":"You probably misunderstand, it&#39;s impossible to propagate checked exception outside the `java.util.function.Function`. Even if inside a function you&#39;re invoking a method that let&#39;s say can throw an `IOException` (which is checked), you would need to catch it right on the spot. Otherwise your code would not compile.","body":"You probably misunderstand, it&#39;s impossible to propagate checked exception outside the <code>java.util.function.Function</code>. Even if inside a function you&#39;re invoking a method that let&#39;s say can throw an <code>IOException</code> (which is checked), you would need to catch it right on the spot. Otherwise your code would not compile."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666172890,"post_id":74123010,"comment_id":130870914,"body_markdown":"@AlexanderIvanchenko Not to muddy the water, but it&#39;s not impossible. Lombok&#39;s `@SneakyThrows`, for example","body":"@AlexanderIvanchenko Not to muddy the water, but it&#39;s not impossible. Lombok&#39;s <code>@SneakyThrows</code>, for example"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666173314,"post_id":74123010,"comment_id":130871039,"body_markdown":"@Michael Yep, but we can&#39;t annotate a lambda with `@SneakyThrows`. In order to use it, the function has to be implemented as a class.","body":"@Michael Yep, but we can&#39;t annotate a lambda with <code>@SneakyThrows</code>. In order to use it, the function has to be implemented as a class."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666405964,"post_id":74123010,"comment_id":130935969,"body_markdown":"In the future, it&#39;s much more convenient to provide code in your question that can be compiled, rather than pseudocode. This will increase your chances of getting a timely and high quality answer.","body":"In the future, it&#39;s much more convenient to provide code in your question that can be compiled, rather than pseudocode. This will increase your chances of getting a timely and high quality answer."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666406390,"creation_date":1666406390,"answer_id":74160726,"question_id":74123010,"body_markdown":"The issue is that `Function.apply` is not declared to throw any exceptions, so it is not generally possible to throw checked exceptions from an implementation, or to catch a checked exception from it at a call site. (Ignoring unusual workarounds as mentioned in the comments.)\r\n\r\nHowever, Java does not restrict lambda expressions to only be used with standard functional interfaces, so the best approach when you need to handle specific exception types is to create your own.\r\n\r\n    @FunctionalInterface\r\n    interface MyFunction {\r\n        ResponseType apply(ParamType param) throws Exception1, Exception2, Exception3;\r\n    }\r\n\r\nThis can be used in a similar way to `java.util.function.Function`:\r\n\r\n    public ResponseType callFunction(MyFunction function, ParamType obj) {\r\n        try{\r\n            return function.apply(obj);\r\n        }\r\n        catch (Exception1 e) { throw new RuntimeException(&quot;Exception1&quot;); }\r\n        catch (Exception2 e) { throw new RuntimeException(&quot;Exception2&quot;); }\r\n        catch (Exception3 e) { throw new RuntimeException(&quot;Exception3&quot;); }\r\n    }\r\n\r\n(Modified to throw runtime exceptions in the catch blocks so that this will compile)\r\n\r\nThe calling code is identical to any standard functional interface:\r\n\r\n        callFunction(this::functionA, obj);\r\n\r\n        callFunction(this::functionB, obj);\r\n\r\nor, equivalently:\r\n\r\n        callFunction(param -&gt; functionA(param), obj);\r\n\r\n        callFunction(param -&gt; functionB(param), obj);\r\n","title":"How to wrap different methods with same try catch block?","body":"<p>The issue is that <code>Function.apply</code> is not declared to throw any exceptions, so it is not generally possible to throw checked exceptions from an implementation, or to catch a checked exception from it at a call site. (Ignoring unusual workarounds as mentioned in the comments.)</p>\n<p>However, Java does not restrict lambda expressions to only be used with standard functional interfaces, so the best approach when you need to handle specific exception types is to create your own.</p>\n<pre><code>@FunctionalInterface\ninterface MyFunction {\n    ResponseType apply(ParamType param) throws Exception1, Exception2, Exception3;\n}\n</code></pre>\n<p>This can be used in a similar way to <code>java.util.function.Function</code>:</p>\n<pre><code>public ResponseType callFunction(MyFunction function, ParamType obj) {\n    try{\n        return function.apply(obj);\n    }\n    catch (Exception1 e) { throw new RuntimeException(&quot;Exception1&quot;); }\n    catch (Exception2 e) { throw new RuntimeException(&quot;Exception2&quot;); }\n    catch (Exception3 e) { throw new RuntimeException(&quot;Exception3&quot;); }\n}\n</code></pre>\n<p>(Modified to throw runtime exceptions in the catch blocks so that this will compile)</p>\n<p>The calling code is identical to any standard functional interface:</p>\n<pre><code>    callFunction(this::functionA, obj);\n\n    callFunction(this::functionB, obj);\n</code></pre>\n<p>or, equivalently:</p>\n<pre><code>    callFunction(param -&gt; functionA(param), obj);\n\n    callFunction(param -&gt; functionB(param), obj);\n</code></pre>\n"}],"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666406390,"creation_date":1666171721,"question_id":74123010,"body_markdown":"I have functions with the same param and response type like;\r\n\r\n    public ResponseType functionA(ParamType) throws Exception1\r\n\r\n    public ResponseType functionB(ParamType) throws Exception1\r\n\r\nand I call these functions from different places with the same repeating try/catch block. Is there any way to reduce the duplicate code?\r\n\r\n    try{\r\n        return functionA(obj);\r\n    } catch (Exception1 e) { .... }\r\n    catch (Exception2 e) { .... }\r\n    catch (Exception3 e) { .... }\r\n\r\n\r\n    try{\r\n        return functionB(obj);\r\n    } catch (Exception1 e) { .... }\r\n    catch (Exception2 e) { .... }\r\n    catch (Exception3 e) { .... }\r\nI have tried to create a function like below, but I am getting \r\n\r\n&gt; Exception e1 is never thrown in try block\r\n\r\n as expected. \r\n\r\n    public ResponseType callFunction(Function&lt;ParamType, ResponseType&gt; function, ParamType obj) {\r\n        try{\r\n            return function.apply(obj)\r\n        }catch (Exception1 e) { .... }\r\n        catch (Exception2 e) { .... }\r\n        catch (Exception3 e) { .... }\r\n    }","title":"How to wrap different methods with same try catch block?","body":"<p>I have functions with the same param and response type like;</p>\n<pre><code>public ResponseType functionA(ParamType) throws Exception1\n\npublic ResponseType functionB(ParamType) throws Exception1\n</code></pre>\n<p>and I call these functions from different places with the same repeating try/catch block. Is there any way to reduce the duplicate code?</p>\n<pre><code>try{\n    return functionA(obj);\n} catch (Exception1 e) { .... }\ncatch (Exception2 e) { .... }\ncatch (Exception3 e) { .... }\n\n\ntry{\n    return functionB(obj);\n} catch (Exception1 e) { .... }\ncatch (Exception2 e) { .... }\ncatch (Exception3 e) { .... }\n</code></pre>\n<p>I have tried to create a function like below, but I am getting</p>\n<blockquote>\n<p>Exception e1 is never thrown in try block</p>\n</blockquote>\n<p>as expected.</p>\n<pre><code>public ResponseType callFunction(Function&lt;ParamType, ResponseType&gt; function, ParamType obj) {\n    try{\n        return function.apply(obj)\n    }catch (Exception1 e) { .... }\n    catch (Exception2 e) { .... }\n    catch (Exception3 e) { .... }\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666402602,"post_id":74160388,"comment_id":130935658,"body_markdown":"What is SlideModel? Can you show its constructors?","body":"What is SlideModel? Can you show its constructors?"}],"answers":[{"tags":[],"owner":{"account_id":25740634,"reputation":1,"user_id":19494693,"display_name":"Tarun Bidaliya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666405942,"creation_date":1666405942,"answer_id":74160706,"question_id":74160388,"body_markdown":"I think the problem is with the line\r\n\r\n    imageSlider.setImageList(slideModels,ScaleTypes.CENTER_CROP);\r\n\r\nThe scaling(CENTER_CROP) of the images that you have done in the above line **shouldn&#39;t be done there**.\r\n\r\nThe scaling should be done while adding the images in the ArrayList &quot;slideModels&quot;.\r\n\r\n    slideModels.add(new SlideModel(R.drawable.devonhouse, &quot;&quot;,ScaleTypes.CENTER_CROP ));\r\n\r\nNow the final code will look something like: - \r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_home);\r\n\r\n    ImageSlider imageSlider = findViewById(R.id.slider);\r\n\r\n    List&lt;SlideModel&gt; slideModels = new ArrayList&lt;&gt;();\r\n\r\n    slideModels.add(new SlideModel(R.drawable.devonhouse, &quot;&quot;,ScaleTypes.CENTER_CROP ));\r\n\r\n    imageSlider.setImageList(slideModels);\r\n\r\n    }\r\n\r\nPlease let me know if it works.","title":"Constructor error when adding image slider","body":"<p>I think the problem is with the line</p>\n<pre><code>imageSlider.setImageList(slideModels,ScaleTypes.CENTER_CROP);\n</code></pre>\n<p>The scaling(CENTER_CROP) of the images that you have done in the above line <strong>shouldn't be done there</strong>.</p>\n<p>The scaling should be done while adding the images in the ArrayList &quot;slideModels&quot;.</p>\n<pre><code>slideModels.add(new SlideModel(R.drawable.devonhouse, &quot;&quot;,ScaleTypes.CENTER_CROP ));\n</code></pre>\n<p>Now the final code will look something like: -</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_home);\n\nImageSlider imageSlider = findViewById(R.id.slider);\n\nList&lt;SlideModel&gt; slideModels = new ArrayList&lt;&gt;();\n\nslideModels.add(new SlideModel(R.drawable.devonhouse, &quot;&quot;,ScaleTypes.CENTER_CROP ));\n\nimageSlider.setImageList(slideModels);\n\n}\n</code></pre>\n<p>Please let me know if it works.</p>\n"}],"owner":{"account_id":19580515,"reputation":1,"user_id":14329697,"display_name":"Shawn-Paul Philpotts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666405942,"creation_date":1666400002,"question_id":74160388,"body_markdown":"I&#39;m trying to add a image slider to my app but i&#39;m stuck at error &quot;Cannot resolve&quot;SlideMode(int)&quot;. I have no idea how to fix this  \r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n\r\n        ImageSlider imageSlider = findViewById(R.id.slider);\r\n\r\n        List&lt;SlideModel&gt; slideModels = new ArrayList&lt;&gt;();\r\n\r\n\r\n        slideModels.add(new SlideModel(R.drawable.devonhouse));\r\n\r\n        imageSlider.setImageList(slideModels,ScaleTypes.CENTER_CROP);\r\n\r\n\r\n    }\r\n}","title":"Constructor error when adding image slider","body":"<p>I'm trying to add a image slider to my app but i'm stuck at error &quot;Cannot resolve&quot;SlideMode(int)&quot;. I have no idea how to fix this</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home);\n\n    ImageSlider imageSlider = findViewById(R.id.slider);\n\n    List&lt;SlideModel&gt; slideModels = new ArrayList&lt;&gt;();\n\n\n    slideModels.add(new SlideModel(R.drawable.devonhouse));\n\n    imageSlider.setImageList(slideModels,ScaleTypes.CENTER_CROP);\n\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","string","java-stream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666357349,"post_id":74153861,"comment_id":130924130,"body_markdown":"No, there isn&#39;t.","body":"No, there isn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666359158,"creation_date":1666357952,"answer_id":74154164,"question_id":74153861,"body_markdown":"There&#39;s no way to implement this logic using functional features (at least in a way that could be considered to be well-readable and clean) due to the nature of the task. To join the names properly, we need to be aware of the index of the element (whether it&#39;s the last element, or if there&#39;s only one element).\r\n\r\nBut the code you&#39;ve written might be enhanced a bit:\r\n\r\n    public static String joinNames(List&lt;String&gt; names) {\r\n        \r\n        if (names.isEmpty()) throw new IllegalArgumentException(); // or return an empty string depending on your needs\r\n        \r\n        StringBuilder result = new StringBuilder();\r\n    \r\n        if (names.size() &gt; 1) {\r\n            result.append(String.join(&quot;, &quot;, names.subList(0, names.size() - 1)))\r\n                .append(&quot; and &quot;);\r\n        }\r\n    \r\n        return result.append(names.get(names.size() - 1))\r\n            .toString();\r\n    }","title":"How join strings in the list according to list size","body":"<p>There's no way to implement this logic using functional features (at least in a way that could be considered to be well-readable and clean) due to the nature of the task. To join the names properly, we need to be aware of the index of the element (whether it's the last element, or if there's only one element).</p>\n<p>But the code you've written might be enhanced a bit:</p>\n<pre><code>public static String joinNames(List&lt;String&gt; names) {\n    \n    if (names.isEmpty()) throw new IllegalArgumentException(); // or return an empty string depending on your needs\n    \n    StringBuilder result = new StringBuilder();\n\n    if (names.size() &gt; 1) {\n        result.append(String.join(&quot;, &quot;, names.subList(0, names.size() - 1)))\n            .append(&quot; and &quot;);\n    }\n\n    return result.append(names.get(names.size() - 1))\n        .toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26545592,"reputation":176,"user_id":20175711,"display_name":"Not A Number"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666361634,"creation_date":1666361634,"answer_id":74154995,"question_id":74153861,"body_markdown":"```\r\npublic static String joinNames(List&lt;String&gt; names) {\r\n    //...\r\n    return String.join(&quot;, &quot;, names.toArray(String[]::new)).replaceFirst(&quot;, (\\\\w+)$&quot;, &quot; and $1&quot;);\r\n}\r\n```\r\nor even better\r\n```\r\npublic static String joinNames(String... names) {\r\n    //...\r\n    return String.join(&quot;, &quot;, names).replaceFirst(&quot;, (\\\\w+)$&quot;, &quot; and $1&quot;);\r\n}\r\n```\r\n","title":"How join strings in the list according to list size","body":"<pre><code>public static String joinNames(List&lt;String&gt; names) {\n    //...\n    return String.join(&quot;, &quot;, names.toArray(String[]::new)).replaceFirst(&quot;, (\\\\w+)$&quot;, &quot; and $1&quot;);\n}\n</code></pre>\n<p>or even better</p>\n<pre><code>public static String joinNames(String... names) {\n    //...\n    return String.join(&quot;, &quot;, names).replaceFirst(&quot;, (\\\\w+)$&quot;, &quot; and $1&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666405305,"creation_date":1666362479,"answer_id":74155190,"question_id":74153861,"body_markdown":"**You can try in this way using StringBuilder : lastIndexOf(&quot;,&quot;)**\r\n\r\n***Approach Here,***\r\n\r\nI have first converted the given list of names into `,` separated string and then replaced the last comma with `&quot; and &quot;` with the logic below:\r\n\r\n**```sb.lastIndexOf(&quot;,&quot;)``` :** It will give the index of last `,` comma in the string, which is used in replacing the last comma separated value. e.g here is *`,John` with ` and John`*\r\n\r\n\r\n\r\n        public class Test {\r\n           public static void main(String[] args) {\r\n    \r\n            List&lt;String&gt; names = Arrays.asList(&quot;Alice&quot;,&quot;Bob&quot;,&quot;Kevin&quot;,&quot;John&quot;);\r\n            StringBuilder sb = new StringBuilder();\r\n    \r\n            if(names.size() &gt; 1) {\r\n                sb.append(String.join(&quot;,&quot;,names));\r\n                sb.replace(sb.lastIndexOf(&quot;,&quot;),sb.length(),&quot; and &quot; + sb.substring(sb.lastIndexOf(&quot;,&quot;)+1));\r\n            } else {\r\n                sb.append(names.get(0));\r\n            }\r\n            System.out.println(sb);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Alice,Bob,Kevin and John\r\n\r\n","title":"How join strings in the list according to list size","body":"<p><strong>You can try in this way using StringBuilder : lastIndexOf(&quot;,&quot;)</strong></p>\n<p><em><strong>Approach Here,</strong></em></p>\n<p>I have first converted the given list of names into <code>,</code> separated string and then replaced the last comma with <code>&quot; and &quot;</code> with the logic below:</p>\n<p><strong><code>sb.lastIndexOf(&quot;,&quot;)</code> :</strong> It will give the index of last <code>,</code> comma in the string, which is used in replacing the last comma separated value. e.g here is <em><code>,John</code> with <code> and John</code></em></p>\n<pre><code>    public class Test {\n       public static void main(String[] args) {\n\n        List&lt;String&gt; names = Arrays.asList(&quot;Alice&quot;,&quot;Bob&quot;,&quot;Kevin&quot;,&quot;John&quot;);\n        StringBuilder sb = new StringBuilder();\n\n        if(names.size() &gt; 1) {\n            sb.append(String.join(&quot;,&quot;,names));\n            sb.replace(sb.lastIndexOf(&quot;,&quot;),sb.length(),&quot; and &quot; + sb.substring(sb.lastIndexOf(&quot;,&quot;)+1));\n        } else {\n            sb.append(names.get(0));\n        }\n        System.out.println(sb);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Alice,Bob,Kevin and John\n</code></pre>\n"}],"owner":{"account_id":8199180,"reputation":890,"user_id":6171025,"display_name":"divilipir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74154164,"answer_count":3,"score":1,"last_activity_date":1666405305,"creation_date":1666356493,"question_id":74153861,"body_markdown":"I want to concatenate strings in `List` using different delimiters according to list size and element&#39;s position.\r\n\r\nHere&#39;s my code with a sample-data: \r\n\r\n```\r\nfinal List&lt;String&gt; names = Arrays.asList(&quot;Alice&quot;,&quot;Bob&quot;,&quot;Kevin&quot;);\r\n    \r\nif (names.size() &lt; 3) {\r\n    System.out.println(String.join(&quot; and &quot;, names));\r\n} else {\r\n    String joinedNames = String.join(&quot;, &quot;, names.subList(0, names.size() - 1));\r\n    joinedNames += &quot; and &quot; + names.get(names.size() - 1);\r\n    System.out.println(joinedNames);\r\n}\r\n```\r\n*Expected outputs:*\r\n```none\r\n// List of size 2\r\nAlice and Bob\r\n\r\n// List of size 3\r\nAlice, Bob and Kevin\r\n```\r\nIs there a better and more readable way to do it?","title":"How join strings in the list according to list size","body":"<p>I want to concatenate strings in <code>List</code> using different delimiters according to list size and element's position.</p>\n<p>Here's my code with a sample-data:</p>\n<pre><code>final List&lt;String&gt; names = Arrays.asList(&quot;Alice&quot;,&quot;Bob&quot;,&quot;Kevin&quot;);\n    \nif (names.size() &lt; 3) {\n    System.out.println(String.join(&quot; and &quot;, names));\n} else {\n    String joinedNames = String.join(&quot;, &quot;, names.subList(0, names.size() - 1));\n    joinedNames += &quot; and &quot; + names.get(names.size() - 1);\n    System.out.println(joinedNames);\n}\n</code></pre>\n<p><em>Expected outputs:</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>// List of size 2\nAlice and Bob\n\n// List of size 3\nAlice, Bob and Kevin\n</code></pre>\n<p>Is there a better and more readable way to do it?</p>\n"},{"tags":["java","inputstream","reactive-programming"],"comments":[{"owner":{"account_id":6151821,"reputation":4968,"user_id":4796021,"display_name":"David P&#233;rez Cabrera"},"score":1,"creation_date":1549375752,"post_id":54536217,"comment_id":95873919,"body_markdown":"Possible duplicate of [RxJava. Read file to observable](https://stackoverflow.com/questions/43442480/rxjava-read-file-to-observable)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/43442480/rxjava-read-file-to-observable\">RxJava. Read file to observable</a>"},{"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"score":0,"creation_date":1549378724,"post_id":54536217,"comment_id":95875771,"body_markdown":"I saw that question, but I could not implement Flowable.fromIterable(...) nor Observable.toIterable(...).","body":"I saw that question, but I could not implement Flowable.fromIterable(...) nor Observable.toIterable(...)."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1549376196,"creation_date":1549375823,"answer_id":54536282,"question_id":54536217,"body_markdown":"You can create a `stream` of `String` using the method [`lines`][1] of `BufferedReader`:\r\n\r\n&gt; Returns a `Stream`, the elements of which are lines read from this `BufferedReader`. \r\n\r\nwith a code similar to this one:\r\n\r\n    Stream&lt;String&gt; lines = new BufferedReader(new InputStreamReader(is, cs)).lines();\r\n\r\nSo your code should be something like:\r\n\r\n    public List&lt;Person&gt; parse(final InputStream is) throws IOException {\r\n        CharSet cs = ... // Use the right charset for your file\r\n        Stream&lt;String&gt; lines = new BufferedReader(new InputStreamReader(is, cs)).lines();\r\n        return  lines\r\n                .map(Person::new)   \r\n                .collect(toList());\r\n    }  \r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--","title":"How to create a line-based observable from InputStream?","body":"<p>You can create a <code>stream</code> of <code>String</code> using the method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--\" rel=\"nofollow noreferrer\"><code>lines</code></a> of <code>BufferedReader</code>:</p>\n\n<blockquote>\n  <p>Returns a <code>Stream</code>, the elements of which are lines read from this <code>BufferedReader</code>. </p>\n</blockquote>\n\n<p>with a code similar to this one:</p>\n\n<pre><code>Stream&lt;String&gt; lines = new BufferedReader(new InputStreamReader(is, cs)).lines();\n</code></pre>\n\n<p>So your code should be something like:</p>\n\n<pre><code>public List&lt;Person&gt; parse(final InputStream is) throws IOException {\n    CharSet cs = ... // Use the right charset for your file\n    Stream&lt;String&gt; lines = new BufferedReader(new InputStreamReader(is, cs)).lines();\n    return  lines\n            .map(Person::new)   \n            .collect(toList());\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4375565,"reputation":51,"user_id":3568707,"display_name":"Assa Lahav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610008188,"creation_date":1581944385,"answer_id":60263015,"question_id":54536217,"body_markdown":"According to your code, you don&#39;t need to implement an Observable of lines, since you want afterwards to use Java&#39;s Streams. You can&#39;t move back from Rx to java streams.&lt;p&gt;\r\nBut if you want to base completely to Observables, you can start with this:\r\n```\r\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is))) {\r\n            Observable&lt;String&gt; linesObs = Observable.from(reader.lines()::iterator);\r\n            // In rxjava v2:\r\n            // Observable&lt;String&gt; linesObs = Observable.fromIterable(reader.lines()::iterator);\r\n            ...\r\n        }\r\n```","title":"How to create a line-based observable from InputStream?","body":"<p>According to your code, you don't need to implement an Observable of lines, since you want afterwards to use Java's Streams. You can't move back from Rx to java streams.<p>\nBut if you want to base completely to Observables, you can start with this:</p>\n<pre><code>        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is))) {\n            Observable&lt;String&gt; linesObs = Observable.from(reader.lines()::iterator);\n            // In rxjava v2:\n            // Observable&lt;String&gt; linesObs = Observable.fromIterable(reader.lines()::iterator);\n            ...\n        }\n</code></pre>\n"}],"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54536282,"answer_count":2,"score":2,"last_activity_date":1666404479,"creation_date":1549375574,"question_id":54536217,"body_markdown":"Sorry for the basic question...\r\nI have a function that takes an InputStream with the content of a file, and returns a list of objects, let&#39;s say Person.\r\n\r\nEvery line of the input file contains a person, so I want to parse it by line.\r\nNothing difficult but... this time I want to use reactive programming.\r\n\r\nSomething like: \r\n\r\n    public List&lt;Person&gt; parse(final InputStream is) throws IOException {\r\n        return\r\n        //create an observable which will split the input in many lines, &quot;\\n&quot;\r\n                .map(Person::new)\r\n                .collect(toList());\r\n    }\r\n\r\nI miss the commented step, that is: creating an observable that is not byte based, but line-based.","title":"How to create a line-based observable from InputStream?","body":"<p>Sorry for the basic question...\nI have a function that takes an InputStream with the content of a file, and returns a list of objects, let's say Person.</p>\n<p>Every line of the input file contains a person, so I want to parse it by line.\nNothing difficult but... this time I want to use reactive programming.</p>\n<p>Something like:</p>\n<pre><code>public List&lt;Person&gt; parse(final InputStream is) throws IOException {\n    return\n    //create an observable which will split the input in many lines, &quot;\\n&quot;\n            .map(Person::new)\n            .collect(toList());\n}\n</code></pre>\n<p>I miss the commented step, that is: creating an observable that is not byte based, but line-based.</p>\n"},{"tags":["java","runtime","runtime.exec"],"comments":[{"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"score":6,"creation_date":1356096424,"post_id":13991007,"comment_id":19309361,"body_markdown":"What&#39;s the problem exactly, do you have an error message you can add to the question? Thanks.","body":"What&#39;s the problem exactly, do you have an error message you can add to the question? Thanks."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1356096656,"post_id":13991007,"comment_id":19309466,"body_markdown":"you said, you want to pass two parameter, but here you are showing 3 parameters","body":"you said, you want to pass two parameter, but here you are showing 3 parameters"},{"owner":{"account_id":1421913,"reputation":11238,"user_id":1346369,"accept_rate":57,"display_name":"vels4j"},"score":0,"creation_date":1356096674,"post_id":13991007,"comment_id":19309479,"body_markdown":"if *it does not* execute, what is the error ? what does your program.exe do ?","body":"if <i>it does not</i> execute, what is the error ? what does your program.exe do ?"},{"owner":{"account_id":475630,"reputation":863,"user_id":886079,"accept_rate":55,"display_name":"user886079"},"score":11,"creation_date":1447084456,"post_id":13991007,"comment_id":55000190,"body_markdown":"Why is this question closed as &quot;too localized&quot;?","body":"Why is this question closed as &quot;too localized&quot;?"},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1618092307,"post_id":13991007,"comment_id":118498801,"body_markdown":"Does this answer your question? [Java Programming: call an exe from Java and passing parameters](https://stackoverflow.com/questions/5604698/java-programming-call-an-exe-from-java-and-passing-parameters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5604698/java-programming-call-an-exe-from-java-and-passing-parameters\">Java Programming: call an exe from Java and passing parameters</a>"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1618092197,"creation_date":1356096772,"answer_id":13991125,"question_id":13991007,"body_markdown":"You might also try its more modern cousin, [`ProcessBuilder`](http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html):\r\n\r\nhttps://stackoverflow.com/questions/2876964/java-runtime-getruntime-exec-alternatives\r\n","title":"Execute external program","body":"<p>You might also try its more modern cousin, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\"><code>ProcessBuilder</code></a>:</p>\n<p><a href=\"https://stackoverflow.com/questions/2876964/java-runtime-getruntime-exec-alternatives\">Java Runtime.getRuntime().exec() alternatives</a></p>\n"},{"tags":[],"owner":{"account_id":1991410,"reputation":1365,"user_id":1785339,"display_name":"Steven"},"down_vote_count":1,"up_vote_count":80,"is_accepted":true,"score":79,"last_activity_date":1520579766,"creation_date":1356097031,"answer_id":13991171,"question_id":13991007,"body_markdown":"borrowed this shamely from [here](https://stackoverflow.com/questions/5604698/java-programming-call-an-exe-from-java-and-passing-parameters)\r\n\r\n    Process process = new ProcessBuilder(&quot;C:\\\\PathToExe\\\\MyExe.exe&quot;,&quot;param1&quot;,&quot;param2&quot;).start();\r\n    InputStream is = process.getInputStream();\r\n    InputStreamReader isr = new InputStreamReader(is);\r\n    BufferedReader br = new BufferedReader(isr);\r\n    String line;\r\n    \r\n    System.out.printf(&quot;Output of running %s is:&quot;, Arrays.toString(args));\r\n    \r\n    while ((line = br.readLine()) != null) {\r\n      System.out.println(line);\r\n    }\r\n\r\nMore information [here](http://www.rgagnon.com/javadetails/java-0014.html)\r\n\r\nOther issues on how to pass commands [here](https://stackoverflow.com/questions/9958629/executing-external-program-in-java-and-passing-commands) and [here](https://stackoverflow.com/questions/2110415/how-to-bind-a-windows-console-application-with-java-application)","title":"Execute external program","body":"<p>borrowed this shamely from <a href=\"https://stackoverflow.com/questions/5604698/java-programming-call-an-exe-from-java-and-passing-parameters\">here</a></p>\n\n<pre><code>Process process = new ProcessBuilder(\"C:\\\\PathToExe\\\\MyExe.exe\",\"param1\",\"param2\").start();\nInputStream is = process.getInputStream();\nInputStreamReader isr = new InputStreamReader(is);\nBufferedReader br = new BufferedReader(isr);\nString line;\n\nSystem.out.printf(\"Output of running %s is:\", Arrays.toString(args));\n\nwhile ((line = br.readLine()) != null) {\n  System.out.println(line);\n}\n</code></pre>\n\n<p>More information <a href=\"http://www.rgagnon.com/javadetails/java-0014.html\" rel=\"noreferrer\">here</a></p>\n\n<p>Other issues on how to pass commands <a href=\"https://stackoverflow.com/questions/9958629/executing-external-program-in-java-and-passing-commands\">here</a> and <a href=\"https://stackoverflow.com/questions/2110415/how-to-bind-a-windows-console-application-with-java-application\">here</a></p>\n"},{"tags":[],"owner":{"account_id":67484,"reputation":20119,"user_id":197473,"accept_rate":61,"display_name":"Vishal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570115788,"creation_date":1570078076,"answer_id":58212481,"question_id":13991007,"body_markdown":"```java\r\nimport java.io.*;\r\n\r\npublic class Code {\r\n  public static void main(String[] args) throws Exception {\r\n    ProcessBuilder builder = new ProcessBuilder(&quot;ls&quot;, &quot;-ltr&quot;);\r\n    Process process = builder.start();\r\n    \r\n    StringBuilder out = new StringBuilder();\r\n    try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {\r\n    \tString line = null;\r\n      while ((line = reader.readLine()) != null) {\r\n      \tout.append(line);\r\n        out.append(&quot;\\n&quot;);\r\n      }\r\n      System.out.println(out);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**[Try online][1]**\r\n\r\n\r\n  [1]: https://code.labstack.com/S2KUEMHz","title":"Execute external program","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\n\npublic class Code {\n  public static void main(String[] args) throws Exception {\n    ProcessBuilder builder = new ProcessBuilder(\"ls\", \"-ltr\");\n    Process process = builder.start();\n\n    StringBuilder out = new StringBuilder();\n    try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {\n        String line = null;\n      while ((line = reader.readLine()) != null) {\n        out.append(line);\n        out.append(\"\\n\");\n      }\n      System.out.println(out);\n    }\n  }\n}\n</code></pre>\n\n<p><strong><a href=\"https://code.labstack.com/S2KUEMHz\" rel=\"nofollow noreferrer\">Try online</a></strong></p>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653391182,"creation_date":1653391182,"answer_id":72361959,"question_id":13991007,"body_markdown":"This version is a Java 17 version using some built in convenience functions like the `xyzReader` methods and the streaming API consumption of the output. Take note that the example works for programs not running long and returning immediately when ready, so no daemons (otherwise the output processing should be done in a thread while waiting for the process to exit.).\r\n\r\nIf all the exception handling is ignored the code is really short: \r\n\r\n~~~java\r\n        Process process = new ProcessBuilder(&quot;program&quot;, &quot;param1&quot;, &quot;param2&quot;).start();\r\n        // check your program&#39;s used exit code in case or error\r\n        if (process.waitFor() != 0) {\r\n            throw new IOException(&quot;Program failed.&quot;);\r\n        }\r\n        String out;\r\n        try (BufferedReader reader = process.inputReader()) {\r\n            out = reader.lines().collect(Collectors.joining());\r\n        }\r\n~~~\r\n\r\nA more verbose version with proper error handling:\r\n\r\n~~~java\r\n        Process process;\r\n        try {\r\n            process = new ProcessBuilder(&quot;myprogram&quot;, &quot;param1&quot;,\r\n                    &quot;param2&quot;).start();\r\n            int errorCode = process.waitFor();\r\n// adjust the error code for your use case, different programs migth not use 0 as success\r\n            if (errorCode != 0) {\r\n                try (BufferedReader reader = process.errorReader(StandardCharsets.UTF_8)) {\r\n                    throw new RuntimeException(String.format(&quot;Program execution failed (code %d): %s&quot;, errorCode,\r\n                            reader.lines().collect(Collectors.joining())));\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Could not invoke program.&quot;, e);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(&quot;Could not wait for process exit.&quot;, e);\r\n        }\r\n        String output;\r\n        try (BufferedReader reader = process.inputReader()) {\r\n            output = reader.lines().collect(Collectors.joining());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Could not invoke external program.&quot;, e);\r\n        }\r\n~~~\r\n\r\nAlso take into account that maybe not the `inputReader` is used for all output, but also the `errorReader` holds some information of the program output. It can also be that programs are using the `inputReader` for the error messages instead of the `errorReader`","title":"Execute external program","body":"<p>This version is a Java 17 version using some built in convenience functions like the <code>xyzReader</code> methods and the streaming API consumption of the output. Take note that the example works for programs not running long and returning immediately when ready, so no daemons (otherwise the output processing should be done in a thread while waiting for the process to exit.).</p>\n<p>If all the exception handling is ignored the code is really short:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Process process = new ProcessBuilder(&quot;program&quot;, &quot;param1&quot;, &quot;param2&quot;).start();\n        // check your program's used exit code in case or error\n        if (process.waitFor() != 0) {\n            throw new IOException(&quot;Program failed.&quot;);\n        }\n        String out;\n        try (BufferedReader reader = process.inputReader()) {\n            out = reader.lines().collect(Collectors.joining());\n        }\n</code></pre>\n<p>A more verbose version with proper error handling:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Process process;\n        try {\n            process = new ProcessBuilder(&quot;myprogram&quot;, &quot;param1&quot;,\n                    &quot;param2&quot;).start();\n            int errorCode = process.waitFor();\n// adjust the error code for your use case, different programs migth not use 0 as success\n            if (errorCode != 0) {\n                try (BufferedReader reader = process.errorReader(StandardCharsets.UTF_8)) {\n                    throw new RuntimeException(String.format(&quot;Program execution failed (code %d): %s&quot;, errorCode,\n                            reader.lines().collect(Collectors.joining())));\n                }\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Could not invoke program.&quot;, e);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(&quot;Could not wait for process exit.&quot;, e);\n        }\n        String output;\n        try (BufferedReader reader = process.inputReader()) {\n            output = reader.lines().collect(Collectors.joining());\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Could not invoke external program.&quot;, e);\n        }\n</code></pre>\n<p>Also take into account that maybe not the <code>inputReader</code> is used for all output, but also the <code>errorReader</code> holds some information of the program output. It can also be that programs are using the <code>inputReader</code> for the error messages instead of the <code>errorReader</code></p>\n"},{"tags":[],"owner":{"account_id":16436099,"reputation":27,"user_id":12819006,"display_name":"Maj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666404365,"creation_date":1663728871,"answer_id":73794874,"question_id":13991007,"body_markdown":"new ProcessBuilder(&quot;command&quot;).inheritIO().start().waitFor();\r\n\r\nexplanation:\r\n\r\nProcessBuilder pb = new ProcessBuilder(&quot;command&quot;);\r\n\r\n&quot;command&quot;: like &quot;ls&quot;(ls command if platform supports) or &quot;javac&quot;(if java is installed)  or &quot;notepad&quot; or &quot;ping&quot; complete path to an specific program (&quot;path\\\\to\\\\autocad.exe&quot;)\r\n\r\nNow you have a process builder ready.\r\n\r\nNext you instruct that instead of dealing with all aspects relevant to input output programmatically, just you prefer to have the I/O in current terminal as usually you do in windows/linux terminal:\r\n\r\n.inheritIO();\r\n\r\nNow your process builder is even more ready.\r\n\r\nNow you have to practically make the process via: \r\n\r\n.start()\r\n\r\nNow, the process is in execution, in parallel to your java program. Opposite to an ordinary way of execution of every instruction of a program that are sequentially. \r\nThat means the computer won&#39;t finish that process and then go to the next instruction of your java program, and before finishing that process, further lines of code will be executed (concurrent programming, multithreading).\r\n\r\nIf you don&#39;t want that to happen, then you have to mention it via: \r\nwaitFor();","title":"Execute external program","body":"<p>new ProcessBuilder(&quot;command&quot;).inheritIO().start().waitFor();</p>\n<p>explanation:</p>\n<p>ProcessBuilder pb = new ProcessBuilder(&quot;command&quot;);</p>\n<p>&quot;command&quot;: like &quot;ls&quot;(ls command if platform supports) or &quot;javac&quot;(if java is installed)  or &quot;notepad&quot; or &quot;ping&quot; complete path to an specific program (&quot;path\\to\\autocad.exe&quot;)</p>\n<p>Now you have a process builder ready.</p>\n<p>Next you instruct that instead of dealing with all aspects relevant to input output programmatically, just you prefer to have the I/O in current terminal as usually you do in windows/linux terminal:</p>\n<p>.inheritIO();</p>\n<p>Now your process builder is even more ready.</p>\n<p>Now you have to practically make the process via:</p>\n<p>.start()</p>\n<p>Now, the process is in execution, in parallel to your java program. Opposite to an ordinary way of execution of every instruction of a program that are sequentially.\nThat means the computer won't finish that process and then go to the next instruction of your java program, and before finishing that process, further lines of code will be executed (concurrent programming, multithreading).</p>\n<p>If you don't want that to happen, then you have to mention it via:\nwaitFor();</p>\n"}],"owner":{"account_id":1959330,"reputation":485,"user_id":1761437,"display_name":"sqtd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166301,"favorite_count":0,"down_vote_count":4,"up_vote_count":45,"accepted_answer_id":13991171,"answer_count":5,"score":41,"last_activity_date":1666404365,"creation_date":1356096212,"question_id":13991007,"body_markdown":"I tried to make an application that calls an external program that I have to pass two parameters. It doesn&#39;t give any errors.\r\n\r\nThe `program.exe`, written in C++, takes a picture and modifies the content of a `.txt` file.\r\n\r\nThe Java program runs but it does nothing-\r\n\r\nHere is my sample code:\r\n\r\n        String[] params = new String [3];\r\n        params[0] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\program.exe&quot;;\r\n        params[1] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\images.jpg&quot;;\r\n        params[2] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\images2.txt&quot;;\r\n\t    Runtime.getRuntime().exec(params);\r\n","title":"Execute external program","body":"<p>I tried to make an application that calls an external program that I have to pass two parameters. It doesn't give any errors.</p>\n<p>The <code>program.exe</code>, written in C++, takes a picture and modifies the content of a <code>.txt</code> file.</p>\n<p>The Java program runs but it does nothing-</p>\n<p>Here is my sample code:</p>\n<pre><code>    String[] params = new String [3];\n    params[0] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\program.exe&quot;;\n    params[1] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\images.jpg&quot;;\n    params[2] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\images2.txt&quot;;\n    Runtime.getRuntime().exec(params);\n</code></pre>\n"},{"tags":["java","liferay","portlet"],"answers":[{"tags":[],"owner":{"account_id":26615249,"reputation":1,"user_id":20234769,"display_name":"alfilAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666296875,"creation_date":1666296875,"answer_id":74145833,"question_id":73732385,"body_markdown":"I had the same issue and solved it by creating a new mvc module only with the minimum amount of code (include only the files you are sharing in this post), and try to focus on making the render mapping work.\r\nAlso, if you can share your DocumentsPortlet.java to verify the &quot;javax.portlet.name&quot; property is correct.","title":"How to debug error &quot;No render mappings found for MVC render command name&quot;","body":"<p>I had the same issue and solved it by creating a new mvc module only with the minimum amount of code (include only the files you are sharing in this post), and try to focus on making the render mapping work.\nAlso, if you can share your DocumentsPortlet.java to verify the &quot;javax.portlet.name&quot; property is correct.</p>\n"},{"tags":[],"owner":{"account_id":5964690,"reputation":30,"user_id":4688739,"display_name":"bui vy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666403675,"creation_date":1666403675,"answer_id":74160583,"question_id":73732385,"body_markdown":"&gt; &quot;No render mappings found for MVC render command name&quot;\r\nindicates that there is no JSP file that **represents** the render command.\r\n\r\nWell to use MVC render commands, you need these things: \r\n\r\n - An implementation of the MVCRenderCommand interface.\r\n - A portlet render URL in your view layer.\r\n - a Component that publishes the MVCRenderCommand service, with two properties\r\n\r\nIn your case, you are missing a &quot;render&quot; jsp file.\r\nIn your `EditDocumentMVCRenderCommand`, it should be implemented something like this:\r\n\r\n    @Override\r\n    public String render(\r\n    \tRenderRequest renderRequest, RenderResponse renderResponse) {\r\n    \r\n    \treturn &quot;/edit/document.jsp&quot;;\r\n    }\r\n\r\nAnd you should have the &quot;/edit/document.jsp&quot; available to your path otherwise it will throw the error that you are experiencing. \r\n","title":"How to debug error &quot;No render mappings found for MVC render command name&quot;","body":"<blockquote>\n<p>&quot;No render mappings found for MVC render command name&quot;\nindicates that there is no JSP file that <strong>represents</strong> the render command.</p>\n</blockquote>\n<p>Well to use MVC render commands, you need these things:</p>\n<ul>\n<li>An implementation of the MVCRenderCommand interface.</li>\n<li>A portlet render URL in your view layer.</li>\n<li>a Component that publishes the MVCRenderCommand service, with two properties</li>\n</ul>\n<p>In your case, you are missing a &quot;render&quot; jsp file.\nIn your <code>EditDocumentMVCRenderCommand</code>, it should be implemented something like this:</p>\n<pre><code>@Override\npublic String render(\n    RenderRequest renderRequest, RenderResponse renderResponse) {\n\n    return &quot;/edit/document.jsp&quot;;\n}\n</code></pre>\n<p>And you should have the &quot;/edit/document.jsp&quot; available to your path otherwise it will throw the error that you are experiencing.</p>\n"}],"owner":{"account_id":26331843,"reputation":1,"user_id":19992230,"display_name":"FlyLikeAFly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666403675,"creation_date":1663249916,"question_id":73732385,"body_markdown":"I&#39;m develpoping a module for my Liferay DXP and I&#39;m struggeling with calling my renderCommands.\r\n\r\nFollowing error message occurs on the initial render and whenever I try to click a link to my RenderCommand:\r\n\r\n&gt; No render mappings found for MVC render command name\r\n&gt; &quot;/document-management/document/edit&quot; for portlet\r\n&gt; com_company_tools_manager_documents_web_portlet_DocumentsPortlet\r\n\r\nI have my &quot;view.jsp&quot; which contains the inclusion of my &quot;init.jsp&quot;, creation of renderURL and the link:\r\n\r\n    &lt;%@ include file=&quot;./init.jsp&quot; %&gt;\r\n        \r\n        &lt;portlet:renderURL var=&quot;editDocumentURL&quot;&gt;\r\n        \t&lt;portlet:param name=&quot;mvcRenderCommandName&quot; value=&quot;&lt;%=MVCCommandNames.EDIT_DOCUMENT %&gt;&quot; &gt;&lt;/portlet:param&gt;\r\n        &lt;/portlet:renderURL&gt;\r\n        \r\n    &lt;a href=&quot;${ editDocumentURL }&quot;&gt;edit documents&lt;/a&gt;\r\n\r\nThe &quot;MVCCommandNames.EDIT_DOCUMENT&quot; refers to MVCCommandNames.java:\r\n\r\n    package com.company.tools.manager.documents.web.constants;\r\n    \r\n    public class MVCCommandNames {\r\n    \tpublic static final String EDIT_DOCUMENT= &quot;/document-management/document/edit&quot;; }\r\n\r\nI&#39;m including the file in the &quot;init.jsp&quot; like so:\r\n\r\n    &lt;%@ page\r\n    \timport=&quot;com.company.tools.manager.documents.web.constants.MVCCommandNames&quot;%&gt;\r\n\r\nFinally, I have this &quot;EditDocumentMVCRenderCommand.java&quot; which should be seen as a component and be connected to the link:\r\n\r\n    package com.company.tools.manager.documents.web.portlet.action;\r\n    import com.company.tools.manager.documents.web.constants.DocumentsPortletKeys;\r\n    import com.company.tools.manager.documents.web.constants.MVCCommandNames;\r\n    import com.liferay.portal.kernel.portlet.bridges.mvc.MVCRenderCommand;\r\n    import org.osgi.service.component.annotations.Component;\r\n\r\n    @Component(immediate = true, property = { &quot;javax.portlet.name=&quot; + DocumentsPortletKeys.DOCUMENTS,\r\n    \t\t&quot;mvc.command.name=&quot; + MVCCommandNames.EDIT_DOCUMENT}, service = MVCRenderCommand.class)\r\n    public class EditDocumentMVCRenderCommand implements MVCRenderCommand { (...) }\r\n\r\nThe portlets name which is called by &quot;DocumentsPortletKeys.DOCUMENTS&quot; is defined by \r\n\r\n    package com.company.tools.manager.documents.web.constants;\r\n    \r\n    public class DocumentsPortletKeys {\r\n    \r\n    \tpublic static final String DOCUMENTS= &quot;com_company_tools_manager_documents_web_portlet_DocumentsPortlet&quot;;\r\n    }\r\n\r\nDid I forget to connect some things? How can I find out which URL the &quot;EditDocumentMVCRenderCommand.java&quot; listens to? \r\nAny other suggestions on how to approach this issue?\r\n\r\nGreetings","title":"How to debug error &quot;No render mappings found for MVC render command name&quot;","body":"<p>I'm develpoping a module for my Liferay DXP and I'm struggeling with calling my renderCommands.</p>\n<p>Following error message occurs on the initial render and whenever I try to click a link to my RenderCommand:</p>\n<blockquote>\n<p>No render mappings found for MVC render command name\n&quot;/document-management/document/edit&quot; for portlet\ncom_company_tools_manager_documents_web_portlet_DocumentsPortlet</p>\n</blockquote>\n<p>I have my &quot;view.jsp&quot; which contains the inclusion of my &quot;init.jsp&quot;, creation of renderURL and the link:</p>\n<pre><code>&lt;%@ include file=&quot;./init.jsp&quot; %&gt;\n    \n    &lt;portlet:renderURL var=&quot;editDocumentURL&quot;&gt;\n        &lt;portlet:param name=&quot;mvcRenderCommandName&quot; value=&quot;&lt;%=MVCCommandNames.EDIT_DOCUMENT %&gt;&quot; &gt;&lt;/portlet:param&gt;\n    &lt;/portlet:renderURL&gt;\n    \n&lt;a href=&quot;${ editDocumentURL }&quot;&gt;edit documents&lt;/a&gt;\n</code></pre>\n<p>The &quot;MVCCommandNames.EDIT_DOCUMENT&quot; refers to MVCCommandNames.java:</p>\n<pre><code>package com.company.tools.manager.documents.web.constants;\n\npublic class MVCCommandNames {\n    public static final String EDIT_DOCUMENT= &quot;/document-management/document/edit&quot;; }\n</code></pre>\n<p>I'm including the file in the &quot;init.jsp&quot; like so:</p>\n<pre><code>&lt;%@ page\n    import=&quot;com.company.tools.manager.documents.web.constants.MVCCommandNames&quot;%&gt;\n</code></pre>\n<p>Finally, I have this &quot;EditDocumentMVCRenderCommand.java&quot; which should be seen as a component and be connected to the link:</p>\n<pre><code>package com.company.tools.manager.documents.web.portlet.action;\nimport com.company.tools.manager.documents.web.constants.DocumentsPortletKeys;\nimport com.company.tools.manager.documents.web.constants.MVCCommandNames;\nimport com.liferay.portal.kernel.portlet.bridges.mvc.MVCRenderCommand;\nimport org.osgi.service.component.annotations.Component;\n\n@Component(immediate = true, property = { &quot;javax.portlet.name=&quot; + DocumentsPortletKeys.DOCUMENTS,\n        &quot;mvc.command.name=&quot; + MVCCommandNames.EDIT_DOCUMENT}, service = MVCRenderCommand.class)\npublic class EditDocumentMVCRenderCommand implements MVCRenderCommand { (...) }\n</code></pre>\n<p>The portlets name which is called by &quot;DocumentsPortletKeys.DOCUMENTS&quot; is defined by</p>\n<pre><code>package com.company.tools.manager.documents.web.constants;\n\npublic class DocumentsPortletKeys {\n\n    public static final String DOCUMENTS= &quot;com_company_tools_manager_documents_web_portlet_DocumentsPortlet&quot;;\n}\n</code></pre>\n<p>Did I forget to connect some things? How can I find out which URL the &quot;EditDocumentMVCRenderCommand.java&quot; listens to?\nAny other suggestions on how to approach this issue?</p>\n<p>Greetings</p>\n"},{"tags":["java","worldwind"],"answers":[{"tags":[],"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1378305806,"creation_date":1378305806,"answer_id":18616911,"question_id":18616079,"body_markdown":"This is a classpath issue of some sort. [`AbstractMethodError`][1] is thrown when the JVM tries to invoke an abstract method (which is not allowed). `DocumentBuilderFactory.setFeature(String, boolean)` is an abstract method that was added to DocumentBuilderFactory in JavaSE 5, so implementations compiled against the J2SE 1.4.2 version would not have that method and this error would occur when `setFeature(String, boolean)` was called on them. \r\n\r\nIt is possible you have a old XML library on your classpath that returned an instance for `DocumetnBuilderFactory.newInstance()`. The problem may not be with JOGL, per se, it may just be that JOGL brought in an old XML library as a dependency.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/AbstractMethodError.html%60","title":"Example WorldWind application encounters AbstractMethodError when started","body":"<p>This is a classpath issue of some sort. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/AbstractMethodError.html%60\"><code>AbstractMethodError</code></a> is thrown when the JVM tries to invoke an abstract method (which is not allowed). <code>DocumentBuilderFactory.setFeature(String, boolean)</code> is an abstract method that was added to DocumentBuilderFactory in JavaSE 5, so implementations compiled against the J2SE 1.4.2 version would not have that method and this error would occur when <code>setFeature(String, boolean)</code> was called on them. </p>\n\n<p>It is possible you have a old XML library on your classpath that returned an instance for <code>DocumetnBuilderFactory.newInstance()</code>. The problem may not be with JOGL, per se, it may just be that JOGL brought in an old XML library as a dependency.</p>\n"},{"tags":[],"owner":{"account_id":5980748,"reputation":624,"user_id":4699904,"display_name":"Fran Raga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468515204,"creation_date":1468515204,"answer_id":38379975,"question_id":18616079,"body_markdown":"You need go to class WWXML and replace:\r\n\r\n    docBuilderFactory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;,\r\n                    false);\r\n\r\nwith:\r\n\r\n    docBuilderFactory.setNamespaceAware(true);\r\n\r\nthe complete method on java is:\r\n\r\n        public static DocumentBuilder createDocumentBuilder(boolean isNamespaceAware)\r\n    {\r\n        DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n\r\n        docBuilderFactory.setNamespaceAware(isNamespaceAware);\r\n\r\n        if (Configuration.getJavaVersion() &gt;= 1.6)\r\n        {\r\n            docBuilderFactory.setNamespaceAware(true);\r\n        }\r\n\r\n        try\r\n        {\r\n            return docBuilderFactory.newDocumentBuilder();\r\n        }\r\n        catch (ParserConfigurationException e)\r\n        {\r\n            String message = Logging.getMessage(&quot;XML.ParserConfigurationException&quot;);\r\n            Logging.logger().finest(message);\r\n            throw new WWRuntimeException(e);\r\n        }\r\n    }\r\n\r\n","title":"Example WorldWind application encounters AbstractMethodError when started","body":"<p>You need go to class WWXML and replace:</p>\n\n<pre><code>docBuilderFactory.setFeature(\"http://apache.org/xml/features/nonvalidating/load-external-dtd\",\n                false);\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>docBuilderFactory.setNamespaceAware(true);\n</code></pre>\n\n<p>the complete method on java is:</p>\n\n<pre><code>    public static DocumentBuilder createDocumentBuilder(boolean isNamespaceAware)\n{\n    DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n\n    docBuilderFactory.setNamespaceAware(isNamespaceAware);\n\n    if (Configuration.getJavaVersion() &gt;= 1.6)\n    {\n        docBuilderFactory.setNamespaceAware(true);\n    }\n\n    try\n    {\n        return docBuilderFactory.newDocumentBuilder();\n    }\n    catch (ParserConfigurationException e)\n    {\n        String message = Logging.getMessage(\"XML.ParserConfigurationException\");\n        Logging.logger().finest(message);\n        throw new WWRuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":58693,"reputation":422,"user_id":175699,"accept_rate":86,"display_name":"MBraedley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18216,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":18616911,"answer_count":2,"score":8,"last_activity_date":1666403611,"creation_date":1378303598,"question_id":18616079,"body_markdown":"I&#39;ve been tasked with creating an application using the WorldWind API, and to familiarize myself with the API, I tried running the &quot;HelloWorldWind&quot; example app.  When I do, I get the following error stack:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n\t    at gov.nasa.worldwind.util.WWXML.createDocumentBuilder(WWXML.java:61)\r\n\t    at gov.nasa.worldwind.util.WWXML.openDocumentStream(WWXML.java:236)\r\n\t    at gov.nasa.worldwind.util.WWXML.openDocumentStream(WWXML.java:223)\r\n\t    at gov.nasa.worldwind.util.WWXML.openDocumentFile(WWXML.java:175)\r\n\t    at gov.nasa.worldwind.util.WWXML.openDocument(WWXML.java:148)\r\n\t    at gov.nasa.worldwind.Configuration.loadConfigDoc(Configuration.java:131)\r\n\t    at gov.nasa.worldwind.Configuration.&lt;init&gt;(Configuration.java:108)\r\n\t    at gov.nasa.worldwind.Configuration.&lt;clinit&gt;(Configuration.java:76)\r\n\t    at gov.nasa.worldwindx.examples.HelloWorldWind.main(HelloWorldWind.java:\r\n\r\n`WWXML.createDocumentBuilder` is as follows:\r\n\r\n    public static DocumentBuilder createDocumentBuilder(boolean isNamespaceAware)\r\n    {\r\n        DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n        docBuilderFactory.setNamespaceAware(isNamespaceAware);\r\n        if (Configuration.getJavaVersion() &gt;= 1.6)\r\n        {\r\n            try\r\n            {\r\n                docBuilderFactory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;,\r\n                    false);    // Not getting past here\r\n            }\r\n            catch (ParserConfigurationException e)\r\n            {   // Note it and continue on. Some Java5 parsers don&#39;t support the feature.\r\n                String message = Logging.getMessage(&quot;XML.NonvalidatingNotSupported&quot;);\r\n                Logging.logger().finest(message);\r\n            }\r\n        }\r\n        ...\r\n\r\n[Reading some stuff online](http://forum.worldwindcentral.com/showthread.php?33085-AbstractMethodError-using-Eclipse-IDE&amp;highlight=WWXML.java+apache+error), people are blaming `jogl`, since I&#39;m running on a 64-bit system, however, I already have the necessary jars in my build path.  &lt;strike&gt;Additionally, trying the URL shown above in a browser returns a 404 page, which makes me think that might be the cause&lt;/strike&gt;&lt;sup&gt;The URL is just a way to format some preferences&lt;/sup&gt;.  Since I don&#39;t have the source for `DocumentBuilderFactory.setFeature`, I can&#39;t see what&#39;s messing up in there.\r\n\r\nIs my problem actually with `jogl`, or something else?","title":"Example WorldWind application encounters AbstractMethodError when started","body":"<p>I've been tasked with creating an application using the WorldWind API, and to familiarize myself with the API, I tried running the \"HelloWorldWind\" example app.  When I do, I get the following error stack:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n    at gov.nasa.worldwind.util.WWXML.createDocumentBuilder(WWXML.java:61)\n    at gov.nasa.worldwind.util.WWXML.openDocumentStream(WWXML.java:236)\n    at gov.nasa.worldwind.util.WWXML.openDocumentStream(WWXML.java:223)\n    at gov.nasa.worldwind.util.WWXML.openDocumentFile(WWXML.java:175)\n    at gov.nasa.worldwind.util.WWXML.openDocument(WWXML.java:148)\n    at gov.nasa.worldwind.Configuration.loadConfigDoc(Configuration.java:131)\n    at gov.nasa.worldwind.Configuration.&lt;init&gt;(Configuration.java:108)\n    at gov.nasa.worldwind.Configuration.&lt;clinit&gt;(Configuration.java:76)\n    at gov.nasa.worldwindx.examples.HelloWorldWind.main(HelloWorldWind.java:\n</code></pre>\n\n<p><code>WWXML.createDocumentBuilder</code> is as follows:</p>\n\n<pre><code>public static DocumentBuilder createDocumentBuilder(boolean isNamespaceAware)\n{\n    DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n    docBuilderFactory.setNamespaceAware(isNamespaceAware);\n    if (Configuration.getJavaVersion() &gt;= 1.6)\n    {\n        try\n        {\n            docBuilderFactory.setFeature(\"http://apache.org/xml/features/nonvalidating/load-external-dtd\",\n                false);    // Not getting past here\n        }\n        catch (ParserConfigurationException e)\n        {   // Note it and continue on. Some Java5 parsers don't support the feature.\n            String message = Logging.getMessage(\"XML.NonvalidatingNotSupported\");\n            Logging.logger().finest(message);\n        }\n    }\n    ...\n</code></pre>\n\n<p><a href=\"http://forum.worldwindcentral.com/showthread.php?33085-AbstractMethodError-using-Eclipse-IDE&amp;highlight=WWXML.java+apache+error\" rel=\"noreferrer\">Reading some stuff online</a>, people are blaming <code>jogl</code>, since I'm running on a 64-bit system, however, I already have the necessary jars in my build path.  <strike>Additionally, trying the URL shown above in a browser returns a 404 page, which makes me think that might be the cause</strike><sup>The URL is just a way to format some preferences</sup>.  Since I don't have the source for <code>DocumentBuilderFactory.setFeature</code>, I can't see what's messing up in there.</p>\n\n<p>Is my problem actually with <code>jogl</code>, or something else?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634664923,"creation_date":1634634918,"answer_id":69628129,"question_id":69627767,"body_markdown":"Simply use `existsBy` method of JPA, Something like this.\r\nIt returns true, if the `CurrentAccount` exists with the given account number.\r\n\r\n``` java\r\n boolean existsCurrentAccountByAccountNumber(String accountNo);\r\n```\r\n\r\nIf you want to check with more than one parameter then do this.\r\n\r\n``` \r\nboolean existsCurrentAccountByAccountNumberAndName(String accountNo, String name);\r\n```\r\n\r\n**Service**\r\n\r\n``` java\r\n@Transactional\r\n  public ResponseEntity&lt;Object&gt; addAccount(CurrentAccount currentAccount){\r\n    if(accountRepository.existsCurrentAccountByAccountNumberAndName(currentAccount.getAccountNumber(), currentAccount.getName())){\r\n    return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST); // or anything you want to do if record is already exists.\r\n    }else{\r\n      accountRepository.save(currentAccount);\r\n      return ResponseEntity.ok(&quot;Account Accepted&quot;);\r\n   }\r\n} \r\n```\r\n\r\n","title":"How to put check if record already exist - spring boot","body":"<p>Simply use <code>existsBy</code> method of JPA, Something like this.\nIt returns true, if the <code>CurrentAccount</code> exists with the given account number.</p>\n<pre class=\"lang-java prettyprint-override\"><code> boolean existsCurrentAccountByAccountNumber(String accountNo);\n</code></pre>\n<p>If you want to check with more than one parameter then do this.</p>\n<pre><code>boolean existsCurrentAccountByAccountNumberAndName(String accountNo, String name);\n</code></pre>\n<p><strong>Service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\n  public ResponseEntity&lt;Object&gt; addAccount(CurrentAccount currentAccount){\n    if(accountRepository.existsCurrentAccountByAccountNumberAndName(currentAccount.getAccountNumber(), currentAccount.getName())){\n    return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST); // or anything you want to do if record is already exists.\n    }else{\n      accountRepository.save(currentAccount);\n      return ResponseEntity.ok(&quot;Account Accepted&quot;);\n   }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25994123,"reputation":1,"user_id":19705805,"display_name":"Cao Van Viet FX12045"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666402876,"creation_date":1666095617,"answer_id":74110864,"question_id":69627767,"body_markdown":"This is my method (Spring):\r\n\r\n    public boolean checkAccount (String email) {\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tString SQL = &quot;select * from Account where email=?&quot;;\r\n\t\t\t\tAccount account = jdbcTemplateObject.queryForObject(SQL, new Object[]{email}, new AccountMapper());\t\t\t\t\r\n\t\t\t\tif (account != null) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t} catch (EmptyResultDataAccessException e) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn false;\t\t\t\r\n    }","title":"How to put check if record already exist - spring boot","body":"<p>This is my method (Spring):</p>\n<pre><code>public boolean checkAccount (String email) {            \n        try {\n            String SQL = &quot;select * from Account where email=?&quot;;\n            Account account = jdbcTemplateObject.queryForObject(SQL, new Object[]{email}, new AccountMapper());             \n            if (account != null) {\n                return true;\n            }               \n        } catch (EmptyResultDataAccessException e) {\n            return false;\n        }\n        return false;           \n}\n</code></pre>\n"}],"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69628129,"answer_count":2,"score":0,"last_activity_date":1666402876,"creation_date":1634633352,"question_id":69627767,"body_markdown":"I&#39;m new in spring &amp; try to enhance my skill by creating little projects. In my new app I&#39;d like to put uniqueness check on accountNumber, unfortunately I did not get success. I&#39;d like to apply isPresent() method but it doesn&#39;t exist when I call it. Grateful if I get help.\r\n\r\nFollowing is my Service class where I apply logics, I also mention Rep. &amp; Ent. classes for your reference. I apply unique condition in 3rd line where find ***if ..... ***.\r\n\r\nI&#39;ve found similar question but the solution in this stack doesn&#39;t match with the way I like to do, I&#39;d like to use JPA not JPQL.\r\n\r\nAccountService\r\n\r\n    @Autowired\r\n      private AccountRepository accountRepository;\r\n\r\n    @Transactional\r\n      public ResponseEntity&lt;Object&gt; addAccount(CurrentAccount currentAccount){\r\n        **if(currentAccount.getAccountNumber().is)**\r\n        accountRepository.save(currentAccount);\r\n        return ResponseEntity.ok(&quot;Account Accepted&quot;);\r\n    } \r\n\r\n\r\n\r\nCurrentAccount\r\n\r\n    public class CurrentAccount {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;account_number&quot;)\r\n    private String accountNumber;\r\n    @Column(name = &quot;account_balance&quot;)\r\n    private Integer accountBalance;\r\n\r\nAccountRepository\r\n\r\n    public interface AccountRepository extends JpaRepository&lt;CurrentAccount, Long&gt; {\r\n        Optional&lt;CurrentAccount&gt; findByAccountNumber(String accountNumber);\r\n    }\r\n\r\n","title":"How to put check if record already exist - spring boot","body":"<p>I'm new in spring &amp; try to enhance my skill by creating little projects. In my new app I'd like to put uniqueness check on accountNumber, unfortunately I did not get success. I'd like to apply isPresent() method but it doesn't exist when I call it. Grateful if I get help.</p>\n<p>Following is my Service class where I apply logics, I also mention Rep. &amp; Ent. classes for your reference. I apply unique condition in 3rd line where find ***if ..... ***.</p>\n<p>I've found similar question but the solution in this stack doesn't match with the way I like to do, I'd like to use JPA not JPQL.</p>\n<p>AccountService</p>\n<pre><code>@Autowired\n  private AccountRepository accountRepository;\n\n@Transactional\n  public ResponseEntity&lt;Object&gt; addAccount(CurrentAccount currentAccount){\n    **if(currentAccount.getAccountNumber().is)**\n    accountRepository.save(currentAccount);\n    return ResponseEntity.ok(&quot;Account Accepted&quot;);\n} \n</code></pre>\n<p>CurrentAccount</p>\n<pre><code>public class CurrentAccount {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n@Column(name = &quot;account_number&quot;)\nprivate String accountNumber;\n@Column(name = &quot;account_balance&quot;)\nprivate Integer accountBalance;\n</code></pre>\n<p>AccountRepository</p>\n<pre><code>public interface AccountRepository extends JpaRepository&lt;CurrentAccount, Long&gt; {\n    Optional&lt;CurrentAccount&gt; findByAccountNumber(String accountNumber);\n}\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":3062553,"reputation":9128,"user_id":3347384,"accept_rate":36,"display_name":"cchantep"},"score":0,"creation_date":1510765518,"post_id":47312104,"comment_id":81577425,"body_markdown":"Why would you want to do so?","body":"Why would you want to do so?"},{"owner":{"account_id":1175860,"reputation":13758,"user_id":1151929,"accept_rate":90,"display_name":"sarveshseri"},"score":0,"creation_date":1510766709,"post_id":47312104,"comment_id":81578107,"body_markdown":"What do you even mean by &quot;But in case if class B becomes object B it won&#39;t work.&quot;?","body":"What do you even mean by &quot;But in case if class B becomes object B it won&#39;t work.&quot;?"},{"owner":{"account_id":2172,"reputation":364880,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"score":0,"creation_date":1510814235,"post_id":47312104,"comment_id":81596946,"body_markdown":"&quot;it won&#39;t work&quot; is not a precise enough error description for us to help you. *What* doesn&#39;t work? *How* doesn&#39;t it work? What trouble do you have with your code? Do you get an error message? What is the error message? Is the result you are getting not the result you are expecting? What result do you expect and why, what is the result you are getting and how do the two differ? Is the behavior you are observing not the desired behavior? What is the desired behavior and why, what is the observed behavior, and in what way do they differ?","body":"&quot;it won&#39;t work&quot; is not a precise enough error description for us to help you. <i>What</i> doesn&#39;t work? <i>How</i> doesn&#39;t it work? What trouble do you have with your code? Do you get an error message? What is the error message? Is the result you are getting not the result you are expecting? What result do you expect and why, what is the result you are getting and how do the two differ? Is the behavior you are observing not the desired behavior? What is the desired behavior and why, what is the observed behavior, and in what way do they differ?"}],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1666402342,"creation_date":1510769339,"answer_id":47314452,"question_id":47312104,"body_markdown":"If `B` is an object the following code works:\r\n\r\n    trait A\r\n    object B extends A\r\n\r\n    val `class` = Class.forName(&quot;B$&quot;)\r\n    val constructor = `class`.getDeclaredConstructors.apply(0)\r\n    constructor.setAccessible(true)\r\n    constructor.newInstance().asInstanceOf[A]\r\n\r\nBut this is literal translation of your code from class to object. Creating new instance of `B$` violates the contract that there is the only instance of an object in Scala (although some frameworks, especially Java frameworks, can break it too). So it&#39;s better to refer the instance cached in `MODULE$`\r\n\r\n    `class`.getField(&quot;MODULE$&quot;)\r\n      .get(null) // the field is static, so there&#39;s no need in instance\r\n      .asInstanceOf[A]","title":"Scala object import in runtime","body":"<p>If <code>B</code> is an object the following code works:</p>\n<pre><code>trait A\nobject B extends A\n\nval `class` = Class.forName(&quot;B$&quot;)\nval constructor = `class`.getDeclaredConstructors.apply(0)\nconstructor.setAccessible(true)\nconstructor.newInstance().asInstanceOf[A]\n</code></pre>\n<p>But this is literal translation of your code from class to object. Creating new instance of <code>B$</code> violates the contract that there is the only instance of an object in Scala (although some frameworks, especially Java frameworks, can break it too). So it's better to refer the instance cached in <code>MODULE$</code></p>\n<pre><code>`class`.getField(&quot;MODULE$&quot;)\n  .get(null) // the field is static, so there's no need in instance\n  .asInstanceOf[A]\n</code></pre>\n"}],"owner":{"account_id":9430544,"reputation":59,"user_id":7014233,"display_name":"tcafrin22"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":47314452,"answer_count":1,"score":-1,"last_activity_date":1666402342,"creation_date":1510761970,"question_id":47312104,"body_markdown":"So the question is, is it possible to import Scala object object in runtime as a usual scala class e.g.:\r\n\r\n    trait A\r\n    class B extends A\r\n    Class.forName(&quot;B&quot;).newInstance().asInstanceOf[A]\r\n\r\nBut in case if `class B` becomes `object B` it won&#39;t work.\r\nAre there any other options for Scala Object?\r\n\r\n","title":"Scala object import in runtime","body":"<p>So the question is, is it possible to import Scala object object in runtime as a usual scala class e.g.:</p>\n\n<pre><code>trait A\nclass B extends A\nClass.forName(\"B\").newInstance().asInstanceOf[A]\n</code></pre>\n\n<p>But in case if <code>class B</code> becomes <code>object B</code> it won't work.\nAre there any other options for Scala Object?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666400581,"post_id":74160342,"comment_id":130935475,"body_markdown":"In your image, is that the output you have now, or is that the output you want?","body":"In your image, is that the output you have now, or is that the output you want?"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666401595,"creation_date":1666401028,"answer_id":74160448,"question_id":74160342,"body_markdown":"Output display like this can be a bit of a dark art.  You have to be able to break it down into small bits and handle each part in turn.\r\n\r\nSo a table like this:\r\n\r\n    -------------\r\n    | 1 | 0 | 1 |\r\n    -------------\r\n\r\nHas 1 top line of dashes, three numbers surrounded by `|`, and then a final line at the bottom.  Not tested:\r\n\r\n    System.out.println( &quot;-------------&quot; );\r\n    System.out.print( &quot;|&quot; );\r\n    System.out.print( &quot; 1 &quot; );\r\n    System.out.print( &quot;|&quot; );\r\n    System.out.print( &quot; 0 &quot; );\r\n    System.out.print( &quot;|&quot; );\r\n    System.out.print( &quot; 1 &quot; );\r\n    System.out.println( &quot;|&quot; );\r\n    System.out.println( &quot;-------------&quot; );\r\n\r\nNotice I used `print` instead of `println` because otherwise I&#39;d get a blank line instead of a solid line across.  But trying to break down the problem into smaller bits like this can help you understand how to do each part.\r\n\r\nSo looking at the above, I did this (which does compile and run correctly):\r\n\r\n\r\n       public static void main( String[] args ) {\r\n          int[] binary = {1,0,1};\r\n          System.out.println( &quot;-------------&quot; );\r\n          for( int i = 0; i &lt; 3; i++ ) {\r\n             System.out.print( &quot;| &quot;+ binary[i] + &quot; &quot; );\r\n          }\r\n          System.out.println( &quot;|&quot; );\r\n          System.out.println( &quot;-------------&quot; );\r\n       }\r\n\r\nThis is obviously an assignment, so I&#39;ll let you finish the rest, but you should be able to see the pattern here.  Try working it out with some simple print statements first, then try putting those statements into a loop.\r\n","title":"how to I print a grid in java?","body":"<p>Output display like this can be a bit of a dark art.  You have to be able to break it down into small bits and handle each part in turn.</p>\n<p>So a table like this:</p>\n<pre><code>-------------\n| 1 | 0 | 1 |\n-------------\n</code></pre>\n<p>Has 1 top line of dashes, three numbers surrounded by <code>|</code>, and then a final line at the bottom.  Not tested:</p>\n<pre><code>System.out.println( &quot;-------------&quot; );\nSystem.out.print( &quot;|&quot; );\nSystem.out.print( &quot; 1 &quot; );\nSystem.out.print( &quot;|&quot; );\nSystem.out.print( &quot; 0 &quot; );\nSystem.out.print( &quot;|&quot; );\nSystem.out.print( &quot; 1 &quot; );\nSystem.out.println( &quot;|&quot; );\nSystem.out.println( &quot;-------------&quot; );\n</code></pre>\n<p>Notice I used <code>print</code> instead of <code>println</code> because otherwise I'd get a blank line instead of a solid line across.  But trying to break down the problem into smaller bits like this can help you understand how to do each part.</p>\n<p>So looking at the above, I did this (which does compile and run correctly):</p>\n<pre><code>   public static void main( String[] args ) {\n      int[] binary = {1,0,1};\n      System.out.println( &quot;-------------&quot; );\n      for( int i = 0; i &lt; 3; i++ ) {\n         System.out.print( &quot;| &quot;+ binary[i] + &quot; &quot; );\n      }\n      System.out.println( &quot;|&quot; );\n      System.out.println( &quot;-------------&quot; );\n   }\n</code></pre>\n<p>This is obviously an assignment, so I'll let you finish the rest, but you should be able to see the pattern here.  Try working it out with some simple print statements first, then try putting those statements into a loop.</p>\n"}],"owner":{"account_id":24605901,"reputation":1,"user_id":18508099,"display_name":"rookie45"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666401595,"creation_date":1666399365,"question_id":74160342,"body_markdown":"Im trying to print a 3 x 3 grid of zeros. right now im getting 9 rows of zeros in the first column\r\n\r\n    public void displayBoard() {\t\r\n    \t\r\n    \t\r\n    \t\tfor (int row = 0; row&lt;3; row++) {\r\n    \t\t\t\tfor (int column = 0; column&lt;3; column++) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;-------&quot;);\r\n    \t\t\t\t\t\tSystem.out.print(&quot;|&quot;+ board.getCell(row, column));\r\n    \t\t\t\r\n    \t\t\t\t\t\tSystem.out.println(&quot;|&quot;);\r\n    \t\t\t\t}\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t}\t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;-------&quot;);\r\n    \t}\r\n\r\n[Sample Output][1]\r\n    \t\r\n[![Sample Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PoacM.png","title":"how to I print a grid in java?","body":"<p>Im trying to print a 3 x 3 grid of zeros. right now im getting 9 rows of zeros in the first column</p>\n<pre><code>public void displayBoard() {    \n    \n    \n        for (int row = 0; row&lt;3; row++) {\n                for (int column = 0; column&lt;3; column++) {\n                        System.out.println(&quot;-------&quot;);\n                        System.out.print(&quot;|&quot;+ board.getCell(row, column));\n            \n                        System.out.println(&quot;|&quot;);\n                }   \n            \n            \n            }       \n        \n        System.out.println(&quot;-------&quot;);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PoacM.png\" rel=\"nofollow noreferrer\">Sample Output</a></p>\n<p><a href=\"https://i.stack.imgur.com/PoacM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PoacM.png\" alt=\"Sample Output\" /></a></p>\n"},{"tags":["java","recursion","postfix-notation"],"comments":[{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":2,"creation_date":1320893692,"post_id":8074416,"comment_id":9894666,"body_markdown":"The algorithm wasn&#39;t given to you in class? Wikipedia to the rescue: http://en.wikipedia.org/wiki/Reverse_Polish_notation#Postfix_algorithm","body":"The algorithm wasn&#39;t given to you in class? Wikipedia to the rescue: <a href=\"http://en.wikipedia.org/wiki/Reverse_Polish_notation#Postfix_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Reverse_Polish_notation#Postfix_algori&zwnj;&#8203;thm</a>"},{"owner":{"account_id":920936,"reputation":4940,"user_id":952658,"accept_rate":82,"display_name":"darnir"},"score":1,"creation_date":1320894179,"post_id":8074416,"comment_id":9894729,"body_markdown":"These are simple algorithms that are easily available online. Also, if the algo wasn&#39;t given to you in class, it might be for a reason. Your teacher might be wanting you to figure it out for ourself. Honestly, try figuring it out yourself, write code, and debug it before venturing out and looking for one.","body":"These are simple algorithms that are easily available online. Also, if the algo wasn&#39;t given to you in class, it might be for a reason. Your teacher might be wanting you to figure it out for ourself. Honestly, try figuring it out yourself, write code, and debug it before venturing out and looking for one."},{"owner":{"account_id":417381,"reputation":1929,"user_id":793361,"accept_rate":52,"display_name":"Keen Sage"},"score":0,"creation_date":1320894202,"post_id":8074416,"comment_id":9894732,"body_markdown":"@RayToal Thanks for the help but I wanted to do it using recursion. The implementation given in the wiki is using stack.","body":"@RayToal Thanks for the help but I wanted to do it using recursion. The implementation given in the wiki is using stack."},{"owner":{"account_id":417381,"reputation":1929,"user_id":793361,"accept_rate":52,"display_name":"Keen Sage"},"score":0,"creation_date":1320894338,"post_id":8074416,"comment_id":9894750,"body_markdown":"@darnir I was able to write the prefix version of it. But I am not able to think about the base case for this algorithm.","body":"@darnir I was able to write the prefix version of it. But I am not able to think about the base case for this algorithm."},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":0,"creation_date":1320895683,"post_id":8074416,"comment_id":9894960,"body_markdown":"Oh! I see.  You were supposed to come up with the recursive algorithm.   My bad. That is a good homework problem, asking you to map the stack operation to recursive calls.  And I see what you mean: doing it recursively for a prefix version is easier.  Do you have only binary operators here?","body":"Oh! I see.  You were supposed to come up with the recursive algorithm.   My bad. That is a good homework problem, asking you to map the stack operation to recursive calls.  And I see what you mean: doing it recursively for a prefix version is easier.  Do you have only binary operators here?"},{"owner":{"account_id":417381,"reputation":1929,"user_id":793361,"accept_rate":52,"display_name":"Keen Sage"},"score":1,"creation_date":1320897926,"post_id":8074416,"comment_id":9895255,"body_markdown":"@RayToal Yes, only binary operator","body":"@RayToal Yes, only binary operator"},{"owner":{"account_id":920936,"reputation":4940,"user_id":952658,"accept_rate":82,"display_name":"darnir"},"score":0,"creation_date":1320914489,"post_id":8074416,"comment_id":9897738,"body_markdown":"Okay, as a recursive call it would really be a good exercise. The postfix is undoubtedly a little tricky in this case.","body":"Okay, as a recursive call it would really be a good exercise. The postfix is undoubtedly a little tricky in this case."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1488155832,"post_id":8074416,"comment_id":72092628,"body_markdown":"Why? Postfix is a linear notation. No recursion required.","body":"Why? Postfix is a linear notation. No recursion required."}],"answers":[{"tags":[],"owner":{"account_id":177939,"reputation":1004,"user_id":409611,"display_name":"Jeff Grigg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1320895430,"creation_date":1320895430,"answer_id":8074640,"question_id":8074416,"body_markdown":"Doesn&#39;t strike me as a recursive-friendly problem.  But I&#39;m sure it could be done that way.\r\n\r\nTwo approaches occur to me:\r\n\r\n**Option #1:  Make functional recursion calls and returns match the stack push and pop operations described on the Wiki.**\r\n\r\nDown side to this approach is that you&#39;ll quickly find that the returned data from the function can be fairly complex.  It&#39;ll probably be an operator.  Maybe with an optional operand (IE: number).  You&#39;ll be returning structures/objects that maybe should have operations (methods) on them.\r\n\r\n**Option #2:  Each recursive call processes the next character of the input stream.**\r\n\r\nI think this approach would pass in as parameters the stack and maybe an &quot;accumulator&quot; for the current number -- to accumulate digits into a number before pushing it on the stack.  There would be one massive tail recursion numeric result returned.\r\n\r\nThis approach is really just rewriting a loop as recursion.\r\n\r\n\r\n*Either way, figuring it out yourself should be challenging and educational!*","title":"Evaluating postfix expression using recursion","body":"<p>Doesn't strike me as a recursive-friendly problem.  But I'm sure it could be done that way.</p>\n\n<p>Two approaches occur to me:</p>\n\n<p><strong>Option #1:  Make functional recursion calls and returns match the stack push and pop operations described on the Wiki.</strong></p>\n\n<p>Down side to this approach is that you'll quickly find that the returned data from the function can be fairly complex.  It'll probably be an operator.  Maybe with an optional operand (IE: number).  You'll be returning structures/objects that maybe should have operations (methods) on them.</p>\n\n<p><strong>Option #2:  Each recursive call processes the next character of the input stream.</strong></p>\n\n<p>I think this approach would pass in as parameters the stack and maybe an \"accumulator\" for the current number -- to accumulate digits into a number before pushing it on the stack.  There would be one massive tail recursion numeric result returned.</p>\n\n<p>This approach is really just rewriting a loop as recursion.</p>\n\n<p><em>Either way, figuring it out yourself should be challenging and educational!</em></p>\n"},{"tags":[],"owner":{"account_id":325186,"reputation":1201,"user_id":646210,"accept_rate":29,"display_name":"paper.plane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392622039,"creation_date":1320920718,"answer_id":8078042,"question_id":8074416,"body_markdown":"Following is a sort of pseudo code which will work for postfix expressions with +/- . I think you can further extend the idea. If you still face difficulty then mail me to 2shanks.p@gmail.com as I am not regular on this site.\r\n\r\n   \r\n\r\n    \r\n    void recursivePostfix(char* expr)  \r\n    {  \r\n    if(!expr)   return;  \r\n\r\n    bool flag=true;\r\n    static double result=0;\r\n    double v1=result, v2=0, dec=0;\r\n    char oper=&#39;0&#39;;\r\n    int i=0, state=1;\r\n\r\n    do\r\n    {\r\n        if(&#39;0&#39; != oper)\r\n        {\r\n            switch(oper)\r\n            {\r\n                case &#39;+&#39;: result=v1+v2; break;\r\n                case &#39;-&#39;: result=v1-v2; break;\r\n                case &#39;*&#39;: result=v1*v2; break;\r\n                case &#39;/&#39;: result=v1/v2; break;\r\n            }\r\n            oper = &#39;0&#39;;\r\n            v1 = result;\r\n            v2 = 0;\r\n            recursivePostfix(expr+i);\r\n        }\r\n\r\n        if(SPACE_CHAR == *(expr+i) &amp;&amp; state++)\r\n            continue;\r\n\r\n        switch(state)\r\n        {\r\n            case 1:\r\n                v1 = v1*10 + (expr[i]-&#39;0&#39;); break;\r\n            case 2:\r\n                v2 = v2*10 + (expr[i]-&#39;0&#39;); break;\r\n            case 3:\r\n                oper = *(expr+i);\r\n        }  \r\n    }while(0 != *(expr+i++));\r\n    cout &lt;&lt; result;\r\n      \r\n    }\r\n","title":"Evaluating postfix expression using recursion","body":"<p>Following is a sort of pseudo code which will work for postfix expressions with +/- . I think you can further extend the idea. If you still face difficulty then mail me to 2shanks.p@gmail.com as I am not regular on this site.</p>\n\n<pre><code>void recursivePostfix(char* expr)  \n{  \nif(!expr)   return;  \n\nbool flag=true;\nstatic double result=0;\ndouble v1=result, v2=0, dec=0;\nchar oper='0';\nint i=0, state=1;\n\ndo\n{\n    if('0' != oper)\n    {\n        switch(oper)\n        {\n            case '+': result=v1+v2; break;\n            case '-': result=v1-v2; break;\n            case '*': result=v1*v2; break;\n            case '/': result=v1/v2; break;\n        }\n        oper = '0';\n        v1 = result;\n        v2 = 0;\n        recursivePostfix(expr+i);\n    }\n\n    if(SPACE_CHAR == *(expr+i) &amp;&amp; state++)\n        continue;\n\n    switch(state)\n    {\n        case 1:\n            v1 = v1*10 + (expr[i]-'0'); break;\n        case 2:\n            v2 = v2*10 + (expr[i]-'0'); break;\n        case 3:\n            oper = *(expr+i);\n    }  \n}while(0 != *(expr+i++));\ncout &lt;&lt; result;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4800492,"reputation":643,"user_id":3877259,"display_name":"juanifioren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666401296,"creation_date":1666401296,"answer_id":74160461,"question_id":8074416,"body_markdown":"I just code this for an interview, so here is my solution using Python:\r\n\r\n    def recursive_postfix(s):\r\n        s = s.split(&#39; &#39;)\r\n        if len(s) == 1:\r\n            return s[0]\r\n        res = None\r\n        for i in range(len(s)):\r\n            if s[i] in [&#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;/&#39;]:\r\n                res = eval(f&#39;{s[i-2]}{s[i]}{s[i-1]}&#39;)\r\n                break\r\n        s = s[0:i-2] + [str(res)] + s[i+1:]\r\n        return recursive_postfix(&#39; &#39;.join(s))\r\n\r\n    assert recursive_postfix(&#39;2 2 + 1 *&#39;) == &#39;4&#39; # (2 + 2) * 1\r\n    assert recursive_postfix(&#39;3 4 2 + * 5 *&#39;) == &#39;90&#39; # 3 * (4 + 2) * 5\r\n    assert recursive_postfix(&#39;7 2 2 * -&#39;) == &#39;3&#39; # 7 - (2 * 2)\r\n","title":"Evaluating postfix expression using recursion","body":"<p>I just code this for an interview, so here is my solution using Python:</p>\n<pre><code>def recursive_postfix(s):\n    s = s.split(' ')\n    if len(s) == 1:\n        return s[0]\n    res = None\n    for i in range(len(s)):\n        if s[i] in ['+', '-', '*', '/']:\n            res = eval(f'{s[i-2]}{s[i]}{s[i-1]}')\n            break\n    s = s[0:i-2] + [str(res)] + s[i+1:]\n    return recursive_postfix(' '.join(s))\n\nassert recursive_postfix('2 2 + 1 *') == '4' # (2 + 2) * 1\nassert recursive_postfix('3 4 2 + * 5 *') == '90' # 3 * (4 + 2) * 5\nassert recursive_postfix('7 2 2 * -') == '3' # 7 - (2 * 2)\n</code></pre>\n"}],"owner":{"account_id":417381,"reputation":1929,"user_id":793361,"accept_rate":52,"display_name":"Keen Sage"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5692,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8074640,"answer_count":3,"score":2,"last_activity_date":1666401296,"creation_date":1320893127,"question_id":8074416,"body_markdown":"I need an algorithm for evaluating postfix expression using recursion. In this postfix expression an operand can be of more than one digit. A space is used to distinguish between two operands. So an expression &#39;45 68 +&#39; is valid.\r\n\r\nI thought of evaluating it in reverse direction but I think that should not be correct.\r\n\r\nCan someone help me with just the algorithm.\r\n\r\nThanks in advance.","title":"Evaluating postfix expression using recursion","body":"<p>I need an algorithm for evaluating postfix expression using recursion. In this postfix expression an operand can be of more than one digit. A space is used to distinguish between two operands. So an expression '45 68 +' is valid.</p>\n\n<p>I thought of evaluating it in reverse direction but I think that should not be correct.</p>\n\n<p>Can someone help me with just the algorithm.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","caching","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":14982647,"reputation":46,"user_id":11378735,"display_name":"JRF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665670319,"creation_date":1665670207,"answer_id":74057213,"question_id":74056684,"body_markdown":"I don&#39;t think the error is in the line you mention but in the one right after. Type returns `List`, but `List` is an interface and therefore impossible to instantiate, your mapper must be catching this exception and throwing the error.\r\n\r\nYou should try another way for getting the cache type, maybe `cache.getClass()` or something of the sort will do the trick.","title":"How to map cache to a list of DTO object?","body":"<p>I don't think the error is in the line you mention but in the one right after. Type returns <code>List</code>, but <code>List</code> is an interface and therefore impossible to instantiate, your mapper must be catching this exception and throwing the error.</p>\n<p>You should try another way for getting the cache type, maybe <code>cache.getClass()</code> or something of the sort will do the trick.</p>\n"},{"tags":[],"owner":{"account_id":10555708,"reputation":9,"user_id":7776967,"display_name":"R.I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666401150,"creation_date":1666401150,"answer_id":74160454,"question_id":74056684,"body_markdown":"I was able to resolve the issue by passing ``cache.get(SimpleKey.EMPTY).get()`` in the modelMapper instead of cache.","title":"How to map cache to a list of DTO object?","body":"<p>I was able to resolve the issue by passing <code>cache.get(SimpleKey.EMPTY).get()</code> in the modelMapper instead of cache.</p>\n"}],"owner":{"account_id":10555708,"reputation":9,"user_id":7776967,"display_name":"R.I"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666401176,"creation_date":1665668047,"question_id":74056684,"body_markdown":"I have this cache that is basically a list of a DTO:\r\n\r\nClassA:\r\n\r\n    @Cacheable(&quot;MyList&quot;)\r\n    public List&lt;MyObjectDTO&gt; setCachedList(){\r\n    return api.getList(); //call to another api to fetch that list\r\n    }\r\n\r\nClassB:\r\n\r\n    public List&lt;MyObjectDTO&gt; getCachedList(){\r\n    if(!CacheManager.getCacheNames().contains(&quot;MyList&quot;){\r\n       ClassB.setCachedList();\r\n    }\r\n    Cache cache = CacheManager.getCache(&quot;MyList&quot;);\r\n    Type listType = new TypeToken&lt;List&lt;MyObjectDTO&gt;&gt;(){}.getType(); //error occurs here\r\n    List&lt;MyObjectDTO&gt; returnList = modelMapper.map(cache, listType);\r\n    return returnList;\r\n\r\nI get the following error in above code:\r\n\r\n```Failed to instantiate instance of destination java.util.List. Ensure that java.util.List has a non-private no-argument constructor.```\r\n\r\nI saw a similar question but since I am using cache of a list, I cannot extend it to concrete class.","title":"How to map cache to a list of DTO object?","body":"<p>I have this cache that is basically a list of a DTO:</p>\n<p>ClassA:</p>\n<pre><code>@Cacheable(&quot;MyList&quot;)\npublic List&lt;MyObjectDTO&gt; setCachedList(){\nreturn api.getList(); //call to another api to fetch that list\n}\n</code></pre>\n<p>ClassB:</p>\n<pre><code>public List&lt;MyObjectDTO&gt; getCachedList(){\nif(!CacheManager.getCacheNames().contains(&quot;MyList&quot;){\n   ClassB.setCachedList();\n}\nCache cache = CacheManager.getCache(&quot;MyList&quot;);\nType listType = new TypeToken&lt;List&lt;MyObjectDTO&gt;&gt;(){}.getType(); //error occurs here\nList&lt;MyObjectDTO&gt; returnList = modelMapper.map(cache, listType);\nreturn returnList;\n</code></pre>\n<p>I get the following error in above code:</p>\n<p><code>Failed to instantiate instance of destination java.util.List. Ensure that java.util.List has a non-private no-argument constructor.</code></p>\n<p>I saw a similar question but since I am using cache of a list, I cannot extend it to concrete class.</p>\n"},{"tags":["java","android","file"],"comments":[{"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"score":0,"creation_date":1513261158,"post_id":47815512,"comment_id":82592427,"body_markdown":"did you open permission in settings of application.","body":"did you open permission in settings of application."},{"owner":{"account_id":1966708,"reputation":29,"user_id":1766768,"accept_rate":100,"display_name":"user1766768"},"score":0,"creation_date":1513261532,"post_id":47815512,"comment_id":82592660,"body_markdown":"You mean the little popup window that asks users to confirm permissions?  If so, no I didn&#39;t.  I tried: `int permissionCheck = ContextCompat.checkSelfPermission(this,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE);` but WRITE_EXTERNAL_STORAGE doesn&#39;t resolve.","body":"You mean the little popup window that asks users to confirm permissions?  If so, no I didn&#39;t.  I tried: <code>int permissionCheck = ContextCompat.checkSelfPermission(this,                 Manifest.permission.WRITE_EXTERNAL_STORAGE);</code> but WRITE_EXTERNAL_STORAGE doesn&#39;t resolve."},{"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"score":0,"creation_date":1513261684,"post_id":47815512,"comment_id":82592763,"body_markdown":"no in setting of phone, in applications you need to find your application, and then you need to find permissions, if permission is not granted, you cannot save anything to storage of phone. If this is the case i will post an answer how you can ask user if user didn&#39;t grant permission.","body":"no in setting of phone, in applications you need to find your application, and then you need to find permissions, if permission is not granted, you cannot save anything to storage of phone. If this is the case i will post an answer how you can ask user if user didn&#39;t grant permission."},{"owner":{"account_id":1966708,"reputation":29,"user_id":1766768,"accept_rate":100,"display_name":"user1766768"},"score":0,"creation_date":1513262067,"post_id":47815512,"comment_id":82593055,"body_markdown":"I added a quick/dirty permission check and allowed it.  Now I get the following exception in the onClick function: `android.os.FileUriExposedException: file:///storage/emulated/0/socks/JPEG_20171214_083623_ exposed beyond app through ClipData.Item.getUri()`","body":"I added a quick/dirty permission check and allowed it.  Now I get the following exception in the onClick function: <code>android.os.FileUriExposedException: file:&#47;&#47;&#47;storage&#47;emulated&#47;0&#47;socks&#47;JPEG_20171214_083623_ exposed beyond app through ClipData.Item.getUri()</code>"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1513266571,"post_id":47815512,"comment_id":82596209,"body_markdown":"`image.mkdirs();\n      image.createNewFile();`. Impossible code. First you create a directory . And after that you try to create a file with the same name. Impossible. Take a file explorer app and remove the directory. Adapt your code.","body":"<code>image.mkdirs();       image.createNewFile();</code>. Impossible code. First you create a directory . And after that you try to create a file with the same name. Impossible. Take a file explorer app and remove the directory. Adapt your code."}],"answers":[{"tags":[],"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1513262260,"creation_date":1513262260,"answer_id":47815909,"question_id":47815512,"body_markdown":"You need to check permission if is granted by user.\r\n    \r\n    private void checkPermission(){\r\n        if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED) {        \r\n            createFile();\r\n        } else {    \r\n            Log.v(TAG,&quot;Permission is revoked&quot;);\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);  \r\n        }\r\n    }\r\n    \r\n    \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case 0:\r\n                boolean permissionsGranted = true;\r\n                if (grantResults.length &gt; 0 &amp;&amp; permissions.length==grantResults.length) {\r\n                    for (int i = 0; i &lt; permissions.length; i++){\r\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED){\r\n                            permissionsGranted=false;\r\n                        }\r\n                    }\r\n    \r\n                } else {\r\n                    permissionsGranted=false;\r\n                }\r\n                if(permissionsGranted){\r\n                    createFile();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    \r\n    private void createFile(){\r\n       ContentResolver cr = this.getContentResolver();\r\n       Bitmap bitmap;\r\n       try{\r\n           bitmap = android.provider.MediaStore.Images.Media.getBitmap(cr, mImageUri);\r\n           mProfileImage.setImageBitmap(bitmap);\r\n           saveToFirebase(bitmap);\r\n       }catch (Exception e){\r\n         Toast.makeText(this, &quot;Failed to load&quot;, Toast.LENGTH_SHORT).show();\r\n         Log.d(&quot;DebugMySocks&quot;, &quot;Failed to load&quot;, e);\r\n       }\r\n    }\r\n    \r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        Log.d(&quot;DebugMySocks&quot;, &quot;onActivityResult in EditProfileActivity&quot;);\r\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == this.RESULT_OK) {\r\n            this.getContentResolver().notifyChange(mImageUri, null); // &lt;-- THIS IS LINE 254!\r\n            checkPermission();\r\n        }\r\n    }\r\n\r\n","title":"Android No such file or directory exception","body":"<p>You need to check permission if is granted by user.</p>\n\n<pre><code>private void checkPermission(){\n    if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED) {        \n        createFile();\n    } else {    \n        Log.v(TAG,\"Permission is revoked\");\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);  \n    }\n}\n\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case 0:\n            boolean permissionsGranted = true;\n            if (grantResults.length &gt; 0 &amp;&amp; permissions.length==grantResults.length) {\n                for (int i = 0; i &lt; permissions.length; i++){\n                    if (grantResults[i] != PackageManager.PERMISSION_GRANTED){\n                        permissionsGranted=false;\n                    }\n                }\n\n            } else {\n                permissionsGranted=false;\n            }\n            if(permissionsGranted){\n                createFile();\n            }\n            break;\n    }\n}\n\nprivate void createFile(){\n   ContentResolver cr = this.getContentResolver();\n   Bitmap bitmap;\n   try{\n       bitmap = android.provider.MediaStore.Images.Media.getBitmap(cr, mImageUri);\n       mProfileImage.setImageBitmap(bitmap);\n       saveToFirebase(bitmap);\n   }catch (Exception e){\n     Toast.makeText(this, \"Failed to load\", Toast.LENGTH_SHORT).show();\n     Log.d(\"DebugMySocks\", \"Failed to load\", e);\n   }\n}\n\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    Log.d(\"DebugMySocks\", \"onActivityResult in EditProfileActivity\");\n    if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == this.RESULT_OK) {\n        this.getContentResolver().notifyChange(mImageUri, null); // &lt;-- THIS IS LINE 254!\n        checkPermission();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22441420,"reputation":21,"user_id":16645882,"display_name":"Intraterrestrial"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666401030,"creation_date":1666401030,"answer_id":74160449,"question_id":47815512,"body_markdown":"I managed to make it work after several attempts i used the following code:\r\n```\r\nIntent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        Date dat = Calendar.getInstance().getTime();\r\n        SimpleDateFormat simpleDate =  new SimpleDateFormat(&quot;yyyy-mm-dd-hh:mm:ss&quot;);\r\n        String nameFoto = simpleDate.format(dat) + &quot;.png&quot;;\r\n        String filename = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/&quot;+ File.separator +nameFoto;\r\n        File ff = new File(filename);\r\n\r\n        try {\r\n            ff.createNewFile();\r\n            //imageUri = Uri.fromFile(ff);\r\n            imageUri = FileProvider.getUriForFile(IngresarFactura.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;,ff);\r\n            //imageUri = new Uri(filename).\r\n            if (imageUri.getPath() == null){\r\n                mensaje.setText(filename+ &quot; Error path es nulo.&quot;);\r\n            }\r\n            cameraIntent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT, imageUri);\r\n\r\n            //COMPATIBILITY\r\n            if (Build.VERSION.SDK_INT&gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                cameraIntent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n            } else {\r\n                List&lt;ResolveInfo&gt; resInfoList = IngresarFactura.this.getPackageManager().queryIntentActivities(cameraIntent, PackageManager.MATCH_DEFAULT_ONLY);\r\n                for (ResolveInfo resolveInfo : resInfoList) {\r\n                    String packageName = resolveInfo.activityInfo.packageName;\r\n                    IngresarFactura.this.grantUriPermission(packageName, imageUri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                }\r\n            }\r\n            //COMPATIBILITY\r\n            activityResultLaunch.launch(cameraIntent);\r\n        }\r\n```\r\n\r\ni got the code from several places and combined it to make it work.\r\nyou have to add a policy as it says here\r\n\r\nhttps://stackoverflow.com/a/45751453/16645882\r\n","title":"Android No such file or directory exception","body":"<p>I managed to make it work after several attempts i used the following code:</p>\n<pre><code>Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        Date dat = Calendar.getInstance().getTime();\n        SimpleDateFormat simpleDate =  new SimpleDateFormat(&quot;yyyy-mm-dd-hh:mm:ss&quot;);\n        String nameFoto = simpleDate.format(dat) + &quot;.png&quot;;\n        String filename = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/&quot;+ File.separator +nameFoto;\n        File ff = new File(filename);\n\n        try {\n            ff.createNewFile();\n            //imageUri = Uri.fromFile(ff);\n            imageUri = FileProvider.getUriForFile(IngresarFactura.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;,ff);\n            //imageUri = new Uri(filename).\n            if (imageUri.getPath() == null){\n                mensaje.setText(filename+ &quot; Error path es nulo.&quot;);\n            }\n            cameraIntent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT, imageUri);\n\n            //COMPATIBILITY\n            if (Build.VERSION.SDK_INT&gt;= Build.VERSION_CODES.LOLLIPOP) {\n                cameraIntent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n            } else {\n                List&lt;ResolveInfo&gt; resInfoList = IngresarFactura.this.getPackageManager().queryIntentActivities(cameraIntent, PackageManager.MATCH_DEFAULT_ONLY);\n                for (ResolveInfo resolveInfo : resInfoList) {\n                    String packageName = resolveInfo.activityInfo.packageName;\n                    IngresarFactura.this.grantUriPermission(packageName, imageUri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                }\n            }\n            //COMPATIBILITY\n            activityResultLaunch.launch(cameraIntent);\n        }\n</code></pre>\n<p>i got the code from several places and combined it to make it work.\nyou have to add a policy as it says here</p>\n<p><a href=\"https://stackoverflow.com/a/45751453/16645882\">https://stackoverflow.com/a/45751453/16645882</a></p>\n"}],"owner":{"account_id":1966708,"reputation":29,"user_id":1766768,"accept_rate":100,"display_name":"user1766768"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7666,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47815909,"answer_count":2,"score":1,"last_activity_date":1666401030,"creation_date":1513261042,"question_id":47815512,"body_markdown":"I&#39;m trying to follow this tutorial https://developer.android.com/training/camera/photobasics.html#TaskPath for taking an image and saving the file.  It opens the camera, I take a picture, click the check mark, then it crashes.  I have found several articles on StackOverflow and have tried all of their solutions that I could understand (which were `file.mkdirs()`, `file.getParentFile().mkdirs()`).  \r\n\r\nIt seems that, even though it&#39;s a RuntimeException, the root problem is the IOException (which I catch and print the message).  I&#39;m using Genymotion, not sure if that&#39;s relevant or not.  What have I missed that is keeping me from being able to create the file?\r\n\r\nI have added permissions to my manifest:\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nMy button click:\r\n\r\n    public void onClick(View v) {\r\n        Log.d(&quot;DebugMySocks&quot;, &quot;Change photo button clicked&quot;);\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        try {\r\n            // CHANGED THIS\r\n        \tmImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + &quot;socks&quot;, createImageFile());\r\n        \ttakePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, mImageUri);\r\n        } catch (Exception e) {\r\n    \t    Log.d(&quot;DebugMySocks&quot;, &quot;Error creating file &quot; + e.getMessage());\r\n        }\r\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n    \t    startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n        }\r\n    }\r\n\r\nand the problem code (I think):\r\n \r\n\r\n      private File createImageFile() throws IOException {\r\n        //ADDED THIS\r\n          int permissionCheck = ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n          if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                        5);\r\n          }\r\n          // Create an image file name\r\n          String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n          String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n          File storageDir = Environment.getExternalStorageDirectory();\r\n          Log.d(&quot;DebugMySocks&quot;, &quot;Storage directory is: &quot; + storageDir);\r\n          File image = new File(Environment.getExternalStorageDirectory() + File.separator + &quot;socks&quot;+ File.separator + imageFileName);\r\n          Log.d(&quot;DebugMySocks&quot;, &quot;getAbsoluteFile: &quot; + image.getAbsoluteFile());\r\n          image.getParentFile().mkdirs();\r\n          image.mkdirs();\r\n          image.createNewFile();\r\n          //File image = File.createTempFile(\r\n          //        imageFileName,  /* prefix */\r\n          //        &quot;.jpg&quot;,         /* suffix */\r\n          //        storageDir      /* directory */\r\n          //);\r\n    \r\n          // Save a file: path for use with ACTION_VIEW intents\r\n          mCurrentPhotoPath = image.getAbsolutePath();\r\n          return image;\r\n      }\r\n\r\nOutput from LogCat:\r\n\r\n    12-14 08:05:01.411 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Change photo button clicked\r\n    12-14 08:05:01.412 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Storage directory is: /storage/emulated/0\r\n    12-14 08:05:01.413 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: getAbsoluteFile: /storage/emulated/0/socks/JPEG_20171214_080501_\r\n    12-14 08:05:01.416 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Error creating file No such file or directory\r\n\r\nAnd the exception:\r\n\r\n    FATAL EXCEPTION: main\r\n    Process: com.example.kevin.moresocksplease, PID: 4967\r\n    java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=111, result=-1, data=Intent { act=inline-data (has extras) }} to activity {com.example.kevin.moresocksplease/com.example.kevin.moresocksplease.EditProfileActivity}: java.lang.NullPointerException: uri\r\n     at android.app.ActivityThread.deliverResults(ActivityThread.java:4089)\r\n     at android.app.ActivityThread.handleSendResult(ActivityThread.java:4132)\r\n     at android.app.ActivityThread.-wrap20(ActivityThread.java)\r\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1533)\r\n     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n     at android.os.Looper.loop(Looper.java:154)\r\n     at android.app.ActivityThread.main(ActivityThread.java:6119)\r\n     at java.lang.reflect.Method.invoke(Native Method)\r\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n    Caused by: java.lang.NullPointerException: uri\r\n     at com.android.internal.util.Preconditions.checkNotNull(Preconditions.java:111)\r\n     at android.content.ContentResolver.notifyChange(ContentResolver.java:1714)\r\n     at android.content.ContentResolver.notifyChange(ContentResolver.java:1693)\r\n     at com.example.kevin.moresocksplease.EditProfileActivity.onActivityResult(EditProfileActivity.java:254)\r\n     at android.app.Activity.dispatchActivityResult(Activity.java:6932)\r\n     at android.app.ActivityThread.deliverResults(ActivityThread.java:4085)\r\n     at android.app.ActivityThread.handleSendResult(ActivityThread.java:4132)&#160;\r\n     at android.app.ActivityThread.-wrap20(ActivityThread.java)&#160;\r\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1533)&#160;\r\n     at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n     at android.os.Looper.loop(Looper.java:154)&#160;\r\n     at android.app.ActivityThread.main(ActivityThread.java:6119)&#160;\r\n     at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)&#160;\r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)&#160;\r\n\r\nLastly, including because it&#39;s in the exception stack:\r\n\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    \tLog.d(&quot;DebugMySocks&quot;, &quot;onActivityResult in EditProfileActivity&quot;);\r\n    \tif (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == this.RESULT_OK) {\r\n    \t\tthis.getContentResolver().notifyChange(mImageUri, null); // &lt;-- THIS IS LINE 254!\r\n    \t\tContentResolver cr = this.getContentResolver();\r\n    \t\tBitmap bitmap;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tbitmap = android.provider.MediaStore.Images.Media.getBitmap(cr, mImageUri);\r\n    \t\t\tmProfileImage.setImageBitmap(bitmap);\r\n    \t\t\tsaveToFirebase(bitmap);\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\tToast.makeText(this, &quot;Failed to load&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\tLog.d(&quot;DebugMySocks&quot;, &quot;Failed to load&quot;, e);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAdditional links that I&#39;ve been drawing information from:\r\n\r\nhttps://stackoverflow.com/questions/1525060/file-createnewfile-thowing-ioexception-no-such-file-or-directory\r\n\r\nhttps://stackoverflow.com/questions/6448856/android-camera-intent-how-to-get-full-sized-photo\r\n\r\nEdit 1:\r\n\r\nAfter viewing this, I added logs to the mkdir requests and they both return false.  According to this gentleman, that means the directories already exist, so it&#39;s just the creation of the file that is failing?\r\n  https://stackoverflow.com/questions/3853472/creating-a-directory-in-sdcard-fails\r\n\r\n    Log.d(&quot;DebugMySocks&quot;, &quot;parentfile mkdirs: &quot; + image.getParentFile().mkdirs());\r\n    Log.d(&quot;DebugMySocks&quot;, &quot;image.mkdirs: &quot; + image.mkdirs());\r\n    Log.d(&quot;DebugMySocks&quot;, &quot;create file: &quot; + image.createNewFile());\r\n\r\n    DebugMySocks: parentfile mkdirs: false\r\n    DebugMySocks: image.mkdirs: false\r\n    DebugMySocks: Error creating file No such file or directory\r\n\r\nEdit 2:\r\nI now have:\r\n\r\n    public void onClick(View v) {\r\n                            Log.d(&quot;DebugMySocks&quot;, &quot;Change photo button clicked&quot;);\r\n                            Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                            try {\r\n                                if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED) {\r\n                                    mImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + &quot;socks&quot;, createImageFile());\r\n                                } else {\r\n                                    Log.v(&quot;DebugMySocks&quot;,&quot;Permission is revoked&quot;);\r\n                                    ActivityCompat.requestPermissions(getParent(), new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n                                }\r\n                                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, mImageUri);\r\n                            } catch (Exception e) {\r\n                                Log.d(&quot;DebugMySocks&quot;, &quot;Error creating file &quot; + e.getMessage());\r\n                            }\r\n                            if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n                                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n                            }\r\n                        }\r\n    \r\n        public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n            switch (requestCode) {\r\n                case 0:\r\n                    boolean permissionsGranted = true;\r\n                    if (grantResults.length &gt; 0 &amp;&amp; permissions.length==grantResults.length) {\r\n                        for (int i = 0; i &lt; permissions.length; i++){\r\n                            if (grantResults[i] != PackageManager.PERMISSION_GRANTED){\r\n                                permissionsGranted=false;\r\n                            }\r\n                        }\r\n    \r\n                    } else {\r\n                        permissionsGranted=false;\r\n                    }\r\n                    if(permissionsGranted){\r\n                        try {\r\n                            mImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + &quot;socks&quot;, createImageFile());\r\n                        } catch (Exception e) {\r\n                            Log.d(&quot;DebugMySocks&quot;, &quot;Permissions granted but exception happened &quot; + e.getMessage());\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\nBut I get `Error creating file Attempt to invoke virtual method &#39;android.content.res.XmlResourceParser android.content.pm.ProviderInfo.loadXmlMetaData(android.content.pm.PackageManager, java.lang.String)&#39; on a null object reference`","title":"Android No such file or directory exception","body":"<p>I'm trying to follow this tutorial <a href=\"https://developer.android.com/training/camera/photobasics.html#TaskPath\" rel=\"nofollow noreferrer\">https://developer.android.com/training/camera/photobasics.html#TaskPath</a> for taking an image and saving the file.  It opens the camera, I take a picture, click the check mark, then it crashes.  I have found several articles on StackOverflow and have tried all of their solutions that I could understand (which were <code>file.mkdirs()</code>, <code>file.getParentFile().mkdirs()</code>).  </p>\n\n<p>It seems that, even though it's a RuntimeException, the root problem is the IOException (which I catch and print the message).  I'm using Genymotion, not sure if that's relevant or not.  What have I missed that is keeping me from being able to create the file?</p>\n\n<p>I have added permissions to my manifest:</p>\n\n<pre><code>&lt;uses-feature android:name=\"android.hardware.camera\"\n    android:required=\"true\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>My button click:</p>\n\n<pre><code>public void onClick(View v) {\n    Log.d(\"DebugMySocks\", \"Change photo button clicked\");\n    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    try {\n        // CHANGED THIS\n        mImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + \"socks\", createImageFile());\n        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, mImageUri);\n    } catch (Exception e) {\n        Log.d(\"DebugMySocks\", \"Error creating file \" + e.getMessage());\n    }\n    if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n        startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n    }\n}\n</code></pre>\n\n<p>and the problem code (I think):</p>\n\n<pre><code>  private File createImageFile() throws IOException {\n    //ADDED THIS\n      int permissionCheck = ContextCompat.checkSelfPermission(this,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE);\n      if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                    5);\n      }\n      // Create an image file name\n      String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(new Date());\n      String imageFileName = \"JPEG_\" + timeStamp + \"_\";\n      File storageDir = Environment.getExternalStorageDirectory();\n      Log.d(\"DebugMySocks\", \"Storage directory is: \" + storageDir);\n      File image = new File(Environment.getExternalStorageDirectory() + File.separator + \"socks\"+ File.separator + imageFileName);\n      Log.d(\"DebugMySocks\", \"getAbsoluteFile: \" + image.getAbsoluteFile());\n      image.getParentFile().mkdirs();\n      image.mkdirs();\n      image.createNewFile();\n      //File image = File.createTempFile(\n      //        imageFileName,  /* prefix */\n      //        \".jpg\",         /* suffix */\n      //        storageDir      /* directory */\n      //);\n\n      // Save a file: path for use with ACTION_VIEW intents\n      mCurrentPhotoPath = image.getAbsolutePath();\n      return image;\n  }\n</code></pre>\n\n<p>Output from LogCat:</p>\n\n<pre><code>12-14 08:05:01.411 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Change photo button clicked\n12-14 08:05:01.412 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Storage directory is: /storage/emulated/0\n12-14 08:05:01.413 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: getAbsoluteFile: /storage/emulated/0/socks/JPEG_20171214_080501_\n12-14 08:05:01.416 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Error creating file No such file or directory\n</code></pre>\n\n<p>And the exception:</p>\n\n<pre><code>FATAL EXCEPTION: main\nProcess: com.example.kevin.moresocksplease, PID: 4967\njava.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=111, result=-1, data=Intent { act=inline-data (has extras) }} to activity {com.example.kevin.moresocksplease/com.example.kevin.moresocksplease.EditProfileActivity}: java.lang.NullPointerException: uri\n at android.app.ActivityThread.deliverResults(ActivityThread.java:4089)\n at android.app.ActivityThread.handleSendResult(ActivityThread.java:4132)\n at android.app.ActivityThread.-wrap20(ActivityThread.java)\n at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1533)\n at android.os.Handler.dispatchMessage(Handler.java:102)\n at android.os.Looper.loop(Looper.java:154)\n at android.app.ActivityThread.main(ActivityThread.java:6119)\n at java.lang.reflect.Method.invoke(Native Method)\n at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\nCaused by: java.lang.NullPointerException: uri\n at com.android.internal.util.Preconditions.checkNotNull(Preconditions.java:111)\n at android.content.ContentResolver.notifyChange(ContentResolver.java:1714)\n at android.content.ContentResolver.notifyChange(ContentResolver.java:1693)\n at com.example.kevin.moresocksplease.EditProfileActivity.onActivityResult(EditProfileActivity.java:254)\n at android.app.Activity.dispatchActivityResult(Activity.java:6932)\n at android.app.ActivityThread.deliverResults(ActivityThread.java:4085)\n at android.app.ActivityThread.handleSendResult(ActivityThread.java:4132) \n at android.app.ActivityThread.-wrap20(ActivityThread.java) \n at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1533) \n at android.os.Handler.dispatchMessage(Handler.java:102) \n at android.os.Looper.loop(Looper.java:154) \n at android.app.ActivityThread.main(ActivityThread.java:6119) \n at java.lang.reflect.Method.invoke(Native Method) \n at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886) \n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776) \n</code></pre>\n\n<p>Lastly, including because it's in the exception stack:</p>\n\n<pre><code>public void onActivityResult(int requestCode, int resultCode, Intent data) {\n    Log.d(\"DebugMySocks\", \"onActivityResult in EditProfileActivity\");\n    if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == this.RESULT_OK) {\n        this.getContentResolver().notifyChange(mImageUri, null); // &lt;-- THIS IS LINE 254!\n        ContentResolver cr = this.getContentResolver();\n        Bitmap bitmap;\n        try\n        {\n            bitmap = android.provider.MediaStore.Images.Media.getBitmap(cr, mImageUri);\n            mProfileImage.setImageBitmap(bitmap);\n            saveToFirebase(bitmap);\n        }\n        catch (Exception e)\n        {\n            Toast.makeText(this, \"Failed to load\", Toast.LENGTH_SHORT).show();\n            Log.d(\"DebugMySocks\", \"Failed to load\", e);\n        }\n    }\n}\n</code></pre>\n\n<p>Additional links that I've been drawing information from:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1525060/file-createnewfile-thowing-ioexception-no-such-file-or-directory\">File.createNewFile() thowing IOException No such file or directory</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/6448856/android-camera-intent-how-to-get-full-sized-photo\">Android Camera Intent: how to get full sized photo?</a></p>\n\n<p>Edit 1:</p>\n\n<p>After viewing this, I added logs to the mkdir requests and they both return false.  According to this gentleman, that means the directories already exist, so it's just the creation of the file that is failing?\n  <a href=\"https://stackoverflow.com/questions/3853472/creating-a-directory-in-sdcard-fails\">Creating a directory in /sdcard fails</a></p>\n\n<pre><code>Log.d(\"DebugMySocks\", \"parentfile mkdirs: \" + image.getParentFile().mkdirs());\nLog.d(\"DebugMySocks\", \"image.mkdirs: \" + image.mkdirs());\nLog.d(\"DebugMySocks\", \"create file: \" + image.createNewFile());\n\nDebugMySocks: parentfile mkdirs: false\nDebugMySocks: image.mkdirs: false\nDebugMySocks: Error creating file No such file or directory\n</code></pre>\n\n<p>Edit 2:\nI now have:</p>\n\n<pre><code>public void onClick(View v) {\n                        Log.d(\"DebugMySocks\", \"Change photo button clicked\");\n                        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                        try {\n                            if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED) {\n                                mImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + \"socks\", createImageFile());\n                            } else {\n                                Log.v(\"DebugMySocks\",\"Permission is revoked\");\n                                ActivityCompat.requestPermissions(getParent(), new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n                            }\n                            takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, mImageUri);\n                        } catch (Exception e) {\n                            Log.d(\"DebugMySocks\", \"Error creating file \" + e.getMessage());\n                        }\n                        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n                            startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n                        }\n                    }\n\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n        switch (requestCode) {\n            case 0:\n                boolean permissionsGranted = true;\n                if (grantResults.length &gt; 0 &amp;&amp; permissions.length==grantResults.length) {\n                    for (int i = 0; i &lt; permissions.length; i++){\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED){\n                            permissionsGranted=false;\n                        }\n                    }\n\n                } else {\n                    permissionsGranted=false;\n                }\n                if(permissionsGranted){\n                    try {\n                        mImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + \"socks\", createImageFile());\n                    } catch (Exception e) {\n                        Log.d(\"DebugMySocks\", \"Permissions granted but exception happened \" + e.getMessage());\n                    }\n                }\n                break;\n        }\n    }\n</code></pre>\n\n<p>But I get <code>Error creating file Attempt to invoke virtual method 'android.content.res.XmlResourceParser android.content.pm.ProviderInfo.loadXmlMetaData(android.content.pm.PackageManager, java.lang.String)' on a null object reference</code></p>\n"},{"tags":["java","playframework"],"answers":[{"tags":[],"owner":{"account_id":345434,"reputation":121,"user_id":678366,"display_name":"Felipe Bonezi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666400760,"creation_date":1666400760,"answer_id":74160430,"question_id":73476568,"body_markdown":"You can use an `Seq` approach.\r\n\r\n    play.http.filters += [ &quot;filters.HttpFilters&quot;, &quot;filters.EssentialLoggingFilter&quot; ]","title":"How to add multiple filters in PlayFramework","body":"<p>You can use an <code>Seq</code> approach.</p>\n<pre><code>play.http.filters += [ &quot;filters.HttpFilters&quot;, &quot;filters.EssentialLoggingFilter&quot; ]\n</code></pre>\n"}],"owner":{"account_id":8621268,"reputation":953,"user_id":6456107,"display_name":"Alter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666400760,"creation_date":1661358121,"question_id":73476568,"body_markdown":"I would like to know if there is a way to define and add more the one Filter to the PlayFramework configuration.\r\nI have this: `play.http.filters = &quot;filters.HttpFilters&quot; in the application.config`\r\n\r\nbut that is pointing just to one Filter class. If I add a second filter class how can I configure that in the `application.config` ?\r\n\r\nFor example, I have defined two filters in my code:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KeU7H.png","title":"How to add multiple filters in PlayFramework","body":"<p>I would like to know if there is a way to define and add more the one Filter to the PlayFramework configuration.\nI have this: <code>play.http.filters = &quot;filters.HttpFilters&quot; in the application.config</code></p>\n<p>but that is pointing just to one Filter class. If I add a second filter class how can I configure that in the <code>application.config</code> ?</p>\n<p>For example, I have defined two filters in my code:\n<a href=\"https://i.stack.imgur.com/KeU7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KeU7H.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","dictionary","groovy","stream"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648758067,"creation_date":1648758067,"answer_id":71698724,"question_id":71698179,"body_markdown":"```\r\nimport java.util.stream.Collectors\r\n\r\nList &lt; String &gt; nums = [&#39;a&#39;,&#39;b&#39;]\r\n\r\nMap&lt;String, Long&gt; counts = nums.parallelStream()\r\n  .collect( Collectors.groupingBy( {k -&gt; k.toLowerCase()}, Collectors.counting()) )\r\n```\r\n","title":"How to use parallel stream in Groovy?","body":"<pre><code>import java.util.stream.Collectors\n\nList &lt; String &gt; nums = ['a','b']\n\nMap&lt;String, Long&gt; counts = nums.parallelStream()\n  .collect( Collectors.groupingBy( {k -&gt; k.toLowerCase()}, Collectors.counting()) )\n</code></pre>\n"}],"owner":{"account_id":24738307,"reputation":82,"user_id":18625386,"display_name":"checked"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71698724,"answer_count":1,"score":-1,"last_activity_date":1666400649,"creation_date":1648755086,"question_id":71698179,"body_markdown":" I want to ask how to write the below code in Groovy.\r\n\r\n```java\r\nList &lt; String &gt; nums = [&#39;a&#39;,&#39;b&#39;]\r\n\r\nMap&lt;String, Long&gt; counts = nums.parallelStream()\r\n.collect( Collectors.groupingBy(k -&gt; k.toLowerCase(), \r\nCollectors.counting()) );          \r\n```\r\n\r\n```\r\nOutput in java: {a:1,b:1}\r\n\r\nI tried using the same but it gives error below:\r\norg.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\r\n/home/cg/root/492337/main.groovy: 7: unexpected token: -&gt; @ line 7, column 43.\r\nlect( Collectors.groupingBy(k -\\&gt; k.toLow\r\n```","title":"How to use parallel stream in Groovy?","body":"<p>I want to ask how to write the below code in Groovy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; nums = ['a','b']\n\nMap&lt;String, Long&gt; counts = nums.parallelStream()\n.collect( Collectors.groupingBy(k -&gt; k.toLowerCase(), \nCollectors.counting()) );          \n</code></pre>\n<pre><code>Output in java: {a:1,b:1}\n\nI tried using the same but it gives error below:\norg.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\n/home/cg/root/492337/main.groovy: 7: unexpected token: -&gt; @ line 7, column 43.\nlect( Collectors.groupingBy(k -\\&gt; k.toLow\n</code></pre>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":3039084,"reputation":6351,"user_id":2576531,"accept_rate":88,"display_name":"Yannic B&#252;rgmann"},"score":0,"creation_date":1445873482,"post_id":33349456,"comment_id":54494469,"body_markdown":"which spring-boot version are you using? If i remember correctly the reload of java classes is possible since 1.3.0 (only RC1 available right now). But I&#39;m not sure about this. You may verify this","body":"which spring-boot version are you using? If i remember correctly the reload of java classes is possible since 1.3.0 (only RC1 available right now). But I&#39;m not sure about this. You may verify this"},{"owner":{"account_id":1698471,"reputation":1463,"user_id":1559249,"accept_rate":50,"display_name":"集成显卡"},"score":0,"creation_date":1445874105,"post_id":33349456,"comment_id":54494949,"body_markdown":"I use Spring-boot 1.3.0RC1","body":"I use Spring-boot 1.3.0RC1"},{"owner":{"account_id":3039084,"reputation":6351,"user_id":2576531,"accept_rate":88,"display_name":"Yannic B&#252;rgmann"},"score":0,"creation_date":1445874176,"post_id":33349456,"comment_id":54495017,"body_markdown":":( Sorry then i can&#39;t tell you more. Didn&#39;t try this, yet","body":":( Sorry then i can&#39;t tell you more. Didn&#39;t try this, yet"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1536917070,"post_id":33349456,"comment_id":91604553,"body_markdown":"Maybe somehow unrelated, but autoreloading works out of the box in netbeans.","body":"Maybe somehow unrelated, but autoreloading works out of the box in netbeans."}],"answers":[{"tags":[],"owner":{"account_id":8411249,"reputation":101,"user_id":6313086,"display_name":"wang.chun"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1481283937,"creation_date":1481279583,"answer_id":41058356,"question_id":33349456,"body_markdown":"`CTRL+F9` to make project with debugging.\r\nThe idea is to make the project automatically work while not running or debugging!\r\n\r\n&gt; Setting-&gt;Build-&gt;Compiler-&gt;check Make project automatically.","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p><code>CTRL+F9</code> to make project with debugging.\nThe idea is to make the project automatically work while not running or debugging!</p>\n\n<blockquote>\n  <p>Setting->Build->Compiler->check Make project automatically.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2177963,"reputation":2109,"user_id":1928184,"accept_rate":60,"display_name":"Hocine Ben"},"down_vote_count":0,"up_vote_count":181,"is_accepted":false,"score":181,"last_activity_date":1605120881,"creation_date":1492105243,"answer_id":43398567,"question_id":33349456,"body_markdown":"First, be sure that you added `spring-boot-devtools` as dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\nSecond, verify that the option check-box `File-&gt;Setting –&gt; Build, Execution, Deployment –&gt; Compiler–&gt;`**Build project automatically** is selected.\r\n\r\nLast, press `SHIFT+CTRL+A` for Linux/Windows users or `Command+SHIFT+A` for Mac users, then type **registry** in the opened pop-up window. Scroll down to `Registry...` using the down arrow key and hit `ENTER` on `Registry...`. In the `Registry` window verify the option **compiler.automake.allow.when.app.running** is checked.\r\n\r\nIf the static files are not reloaded, press `CTRL+F9` to force a reload.\r\n\r\nThe instructions above are taken from [here][1]\r\n\r\n\r\n  [1]: https://www.mkyong.com/spring-boot/intellij-idea-spring-boot-template-reload-is-not-working/","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p>First, be sure that you added <code>spring-boot-devtools</code> as dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Second, verify that the option check-box <code>File-&gt;Setting –&gt; Build, Execution, Deployment –&gt; Compiler–&gt;</code><strong>Build project automatically</strong> is selected.</p>\n<p>Last, press <code>SHIFT+CTRL+A</code> for Linux/Windows users or <code>Command+SHIFT+A</code> for Mac users, then type <strong>registry</strong> in the opened pop-up window. Scroll down to <code>Registry...</code> using the down arrow key and hit <code>ENTER</code> on <code>Registry...</code>. In the <code>Registry</code> window verify the option <strong>compiler.automake.allow.when.app.running</strong> is checked.</p>\n<p>If the static files are not reloaded, press <code>CTRL+F9</code> to force a reload.</p>\n<p>The instructions above are taken from <a href=\"https://www.mkyong.com/spring-boot/intellij-idea-spring-boot-template-reload-is-not-working/\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":10784730,"reputation":2516,"user_id":8252883,"accept_rate":38,"display_name":"Shuai Li"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1642599142,"creation_date":1552200555,"answer_id":55085204,"question_id":33349456,"body_markdown":"For macOS\r\n\r\n1. Preference -&gt; Compiler -&gt; check &quot;Build project automatically&quot;\r\n![asds][1]\r\n\r\n2. shift + command + A \r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\ncheck `compiler.automake.allow.when.app.running`\r\n\r\nIf the static files are not reloaded, press `CTRL+F9` to force a reload.\r\n\r\n  [1]: https://i.stack.imgur.com/3Npn9.png\r\n  [2]: https://i.stack.imgur.com/lVIgo.png\r\n  [3]: https://i.stack.imgur.com/rsbxG.png","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p>For macOS</p>\n<ol>\n<li><p>Preference -&gt; Compiler -&gt; check &quot;Build project automatically&quot;\n<img src=\"https://i.stack.imgur.com/3Npn9.png\" alt=\"asds\" /></p>\n</li>\n<li><p>shift + command + A\n<a href=\"https://i.stack.imgur.com/lVIgo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lVIgo.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/rsbxG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rsbxG.png\" alt=\"enter image description here\" /></a></p>\n<p>check <code>compiler.automake.allow.when.app.running</code></p>\n<p>If the static files are not reloaded, press <code>CTRL+F9</code> to force a reload.</p>\n"},{"tags":[],"owner":{"account_id":9221177,"reputation":2302,"user_id":6850561,"display_name":"Partho"},"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1636276846,"creation_date":1629659861,"answer_id":68884460,"question_id":33349456,"body_markdown":"Note :: For who those not found that option in registry.The newer version of intellij idea for my case @Version:2021.2 the compiler.automake.allow.when.app.running option is moved to advanced settings:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ByXR8.png","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p>Note :: For who those not found that option in registry.The newer version of intellij idea for my case @Version:2021.2 the compiler.automake.allow.when.app.running option is moved to advanced settings:</p>\n<p><a href=\"https://i.stack.imgur.com/ByXR8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ByXR8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4835080,"reputation":137,"user_id":5329403,"display_name":"user5329403"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636383083,"creation_date":1636383083,"answer_id":69885468,"question_id":33349456,"body_markdown":"Possibly you could check if build is fired on any changes on **Build Tools** *settings*\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sN4iL.png","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p>Possibly you could check if build is fired on any changes on <strong>Build Tools</strong> <em>settings</em>\n<a href=\"https://i.stack.imgur.com/sN4iL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sN4iL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16056405,"reputation":59,"user_id":11588592,"display_name":"Apoorv Vardhman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666398390,"creation_date":1666398390,"answer_id":74160282,"question_id":33349456,"body_markdown":"[![intelij reload][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uGMTA.png\r\nsetting&gt;&gt;Build,Execution,Deployment&gt;&gt;Build Tools\r\n\r\n**any changes should be checked**\r\n","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p><a href=\"https://i.stack.imgur.com/uGMTA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uGMTA.png\" alt=\"intelij reload\" /></a></p>\n<p>setting&gt;&gt;Build,Execution,Deployment&gt;&gt;Build Tools</p>\n<p><strong>any changes should be checked</strong></p>\n"}],"owner":{"account_id":1698471,"reputation":1463,"user_id":1559249,"accept_rate":50,"display_name":"集成显卡"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101408,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"answer_count":6,"score":84,"last_activity_date":1666398390,"creation_date":1445873136,"question_id":33349456,"body_markdown":"I had wrote a project base on Spring-boot,tomcat,freemarker, I run it successful, but whenever I modify some templates and java class, I must restart server or use &quot;reload changed classes&quot; menu on Intellij to make the changes become effective. It wastes lots time!\r\n\r\n\r\nThen I try to use springloaded  as [the official said](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-reload-java-classes-without-restarting):\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springloaded&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;systemPath&gt;${project.basedir}/lib/springloaded-1.2.0.RELEASE.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\n   \r\nthen I rerun server, but doesn&#39;t work as expected!\r\nI still need to restart server after any change on template or class.\r\n\r\nHow could I configure the springloaded to auto reload.\r\nThanks a lot!\r\n\r\n-------------------------\r\nThe version of Spring-boot is 1.3.0RC1\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0.RC1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\nmaven version:3.2\r\njdk:1.8\r\nintellij :14.1.5\r\nos:windows 8.1 64 bit","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p>I had wrote a project base on Spring-boot,tomcat,freemarker, I run it successful, but whenever I modify some templates and java class, I must restart server or use \"reload changed classes\" menu on Intellij to make the changes become effective. It wastes lots time!</p>\n\n<p>Then I try to use springloaded  as <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-reload-java-classes-without-restarting\" rel=\"noreferrer\">the official said</a>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;springloaded&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/lib/springloaded-1.2.0.RELEASE.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>then I rerun server, but doesn't work as expected!\nI still need to restart server after any change on template or class.</p>\n\n<p>How could I configure the springloaded to auto reload.\nThanks a lot!</p>\n\n<hr>\n\n<p>The version of Spring-boot is 1.3.0RC1</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0.RC1&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>maven version:3.2\njdk:1.8\nintellij :14.1.5\nos:windows 8.1 64 bit</p>\n"},{"tags":["java","spring","jpa","datasource","spring-transactions"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1666256248,"post_id":74136436,"comment_id":130894604,"body_markdown":"Hi!Have you tried to run the test removing `@Primary` for all beans from `LmtPersistenceConfiguration`?","body":"Hi!Have you tried to run the test removing <code>@Primary</code> for all beans from <code>LmtPersistenceConfiguration</code>?"},{"owner":{"account_id":19418836,"reputation":3,"user_id":14201726,"display_name":"Rick"},"score":0,"creation_date":1666266261,"post_id":74136436,"comment_id":130898218,"body_markdown":"Hi @artiomi,\nI tried this now, but this way the application doesn&#39;t even start:\n\n`***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method entityManagerFactory in com.delta.Monitoring.Configuration.LmtPersistenceConfiguration required a bean of type &#39;org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder&#39; that could not be found.\n\n\nAction:\n\nConsider defining a bean of type &#39;org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder&#39; in your configuration.\n\n\nProcess finished with exit code 0`","body":"Hi @artiomi, I tried this now, but this way the application doesn&#39;t even start:  <code>*************************** APPLICATION FAILED TO START ***************************  Description:  Parameter 0 of method entityManagerFactory in com.delta.Monitoring.Configuration.LmtPersistenceConfigurati&zwnj;&#8203;on required a bean of type &#39;org.springframework.boot.orm.jpa.EntityManagerFactoryBuilde&zwnj;&#8203;r&#39; that could not be found.   Action:  Consider defining a bean of type &#39;org.springframework.boot.orm.jpa.EntityManagerFactoryBuilde&zwnj;&#8203;r&#39; in your configuration.   Process finished with exit code 0</code>"}],"answers":[{"tags":[],"owner":{"account_id":19418836,"reputation":3,"user_id":14201726,"display_name":"Rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666397659,"creation_date":1666378372,"answer_id":74158065,"question_id":74136436,"body_markdown":"It&#39;s quite simple and was in front of my eyes the whole time:\r\nIn the secondary data source configuration I named the entity manager factory bean &quot;entityManagerFactorySecondary&quot; but in the transaction manager method I only referred to &quot;entityManagerFactory&quot;.\r\n\r\nThis is how they must look like:\r\n\r\n```\r\nreturn builder\r\n            .dataSource(powerDataSource())\r\n            .packages(new String[]{&quot;com.delta.Monitoring.Model.PowerMonitoring&quot;})\r\n            .build();\r\n}\r\n\r\n@Bean( name = &quot;powerTransactionManager&quot;)\r\npublic PlatformTransactionManager powerTransactionManager(\r\n        final @Qualifier(&quot;entityManagerFactorySecondary&quot;) LocalContainerEntityManagerFactoryBean powerEntityManagerFactory) {\r\n    return new JpaTransactionManager(powerEntityManagerFactory.getObject());\r\n}\r\n```","title":"Spring saveAndFlush() not working with secondary data source","body":"<p>It's quite simple and was in front of my eyes the whole time:\nIn the secondary data source configuration I named the entity manager factory bean &quot;entityManagerFactorySecondary&quot; but in the transaction manager method I only referred to &quot;entityManagerFactory&quot;.</p>\n<p>This is how they must look like:</p>\n<pre><code>return builder\n            .dataSource(powerDataSource())\n            .packages(new String[]{&quot;com.delta.Monitoring.Model.PowerMonitoring&quot;})\n            .build();\n}\n\n@Bean( name = &quot;powerTransactionManager&quot;)\npublic PlatformTransactionManager powerTransactionManager(\n        final @Qualifier(&quot;entityManagerFactorySecondary&quot;) LocalContainerEntityManagerFactoryBean powerEntityManagerFactory) {\n    return new JpaTransactionManager(powerEntityManagerFactory.getObject());\n}\n</code></pre>\n"}],"owner":{"account_id":19418836,"reputation":3,"user_id":14201726,"display_name":"Rick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74158065,"answer_count":1,"score":0,"last_activity_date":1666397659,"creation_date":1666253378,"question_id":74136436,"body_markdown":"I set up a small Spring Boot project that I use for certain monitorings. It has various endpoints to receive data via webservice calls and is supposed to store them into two different databases.\r\n\r\nWhile everything works fine forthe primary data base, I cannot save data to the secondary database. Reading the existing data is working fine, but I cannot save anything. I&#39;m always getting an exception:\r\n\r\n&gt; javax.persistence.TransactionRequiredException: no transaction is in progress\r\n\r\nThis is the coding:\r\n\r\nEverything related to Light, Motion and Temperature (**LMT**) is in one database. The information for Power (**P**) is stored in a second database (where I have the issues with).\r\n\r\nMy package set up is as follows:\r\n\r\n    - [Configuration]\r\n    - [Controller]\r\n    --- [Light]\r\n    --- [Motion]\r\n    --- [Temperature]\r\n    --- [Power]\r\n    - [Model]\r\n    --- [LMT-Models]\r\n    --- [P-Models]\r\n    - [Repository]\r\n    --- [lmt]\r\n    --- [PowerMonitoring]\r\n\r\nIn my Configuration package I have two persistence classes, one for LMT and one for Power, both handling the database connections for the respective repositories. The LMT one is the primary one, the Power one the secondary (*or rather the non-primary*):\r\n\r\nPrimary data source:\r\n\r\n```\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = &quot;com.delta.Monitoring.Repository.lmt&quot;,\r\n        entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;lmtTransactionManager&quot;\r\n)\r\npublic class LmtPersistenceConfiguration {\r\n    @Bean( name = &quot;lmtDataSourceProperties&quot;)\r\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\r\n    @Primary\r\n    public DataSourceProperties lmtDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean( name = &quot;lmtDataSource&quot;)\r\n    @ConfigurationProperties(&quot;spring.datasource.configuration&quot;)\r\n    @Primary\r\n    public DataSource lmtDataSource() {\r\n        return lmtDataSourceProperties().initializeDataSourceBuilder()\r\n                .type(BasicDataSource.class).build();\r\n    }\r\n\r\n    @Bean(name = &quot;entityManagerFactory&quot;)\r\n    @Primary\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n            EntityManagerFactoryBuilder builder) {\r\n        return builder\r\n                .dataSource(lmtDataSource())\r\n                .packages(new String[]{&quot;com.delta.Monitoring.Model.lmt&quot;})\r\n                .build();\r\n    }\r\n\r\n    @Bean (name = &quot;lmtTransactionManager&quot;)\r\n    @Primary\r\n    public PlatformTransactionManager lmtTransactionManager(\r\n            final @Qualifier(&quot;entityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean lmtEntityManagerFactory) {\r\n        return new JpaTransactionManager(lmtEntityManagerFactory.getObject());\r\n    }\r\n\r\n}\r\n```\r\n\r\nSecondary data source:\r\n\r\n```\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = &quot;com.delta.Monitoring.Repository.PowerMonitoring&quot;,\r\n        entityManagerFactoryRef = &quot;entityManagerFactorySecondary&quot;,\r\n        transactionManagerRef = &quot;powerTransactionManager&quot;\r\n)\r\npublic class PowerPersistenceConfiguration {\r\n\r\n    @Bean( name = &quot;powerDataSourceProperties&quot;)\r\n    @ConfigurationProperties(&quot;spring.powerdatasource&quot;)\r\n    public DataSourceProperties powerDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean( name = &quot;powerDataSource&quot;)\r\n    @ConfigurationProperties(&quot;spring.powerdatasource.configuration&quot;)\r\n    public DataSource powerDataSource() {\r\n        return powerDataSourceProperties().initializeDataSourceBuilder()\r\n                .type(BasicDataSource.class).build();\r\n    }\r\n\r\n    @Bean(name = &quot;entityManagerFactorySecondary&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n            EntityManagerFactoryBuilder builder) {\r\n        return builder\r\n                .dataSource(powerDataSource())\r\n                .packages(new String[]{&quot;com.delta.Monitoring.Model.PowerMonitoring&quot;})\r\n                .build();\r\n    }\r\n\r\n    @Bean( name = &quot;powerTransactionManager&quot;)\r\n    public PlatformTransactionManager powerTransactionManager(\r\n            final @Qualifier(&quot;entityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean powerEntityManagerFactory) {\r\n        return new JpaTransactionManager(powerEntityManagerFactory.getObject());\r\n    }\r\n}\r\n```\r\n\r\nThis is what one of the Power-Repositories looks like. Since I&#39;m not doing anything fancy with it (yet), I just extended the JpaRepository:\r\n\r\n```\r\n@Transactional(&quot;powerTransactionManager&quot;)\r\npublic interface PowerDaysRepository extends JpaRepository&lt;PowerDay, PowerDayId&gt; {\r\n\r\n\r\n}\r\n```\r\n\r\nAnd finally, the controller, where I always get the exception:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;power&quot;)\r\npublic class PowerController {\r\n\r\n    private static final Logger myLog = LogManager.getLogger(PowerController.class);\r\n\r\n    @Autowired\r\n    PowerDayDetailsRepository powerDayDetailsRepository;\r\n\r\n    @PostMapping(&quot;/powerdaydetails&quot;)\r\n    public boolean insertPowerDayDetails(@RequestBody List&lt;PowerDayDetails&gt; powerDayDetails){\r\n        myLog.info(&quot;POST /power/powerdaydetails&quot;);\r\n        powerDayDetailsRepository.deleteAll();\r\n        //List&lt;PowerDayDetails&gt; lines = powerDayDetailsRepository.saveAllAndFlush(powerDayDetails);\r\n        List&lt;PowerDayDetails&gt; lines = powerDayDetailsRepository.saveAll(powerDayDetails);\r\n\r\n        myLog.info(&quot;Update size: &quot; + lines.size());\r\n        myLog.info(&quot;Received data: &quot; + powerDayDetails.size());\r\n\r\n        return lines.size() == powerDayDetails.size();\r\n    }\r\n}\r\n```\r\n\r\nWhen I call the /powerdaydetails-endpoint I wanted to save the respective data in the database. First delete all and then save the newly received data.\r\nWhen I use the **saveAll()** method, I am **not** getting the exception, however also **nothing** in stored in the database. This is the log:\r\n\r\n&gt; 2022-10-20 10:00:12.067  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : POST /power/powerdaydetails\r\n&gt; \r\n&gt; 2022-10-20 10:00:12.639  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : Update size: 582\r\n&gt; \r\n&gt; 2022-10-20 10:00:12.639  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : Received data: 582\r\n\r\n\r\nWhen I use the **saveAllAndFlush()** method, the above-mentioned exception occurs and - needless to say - also nothing gets stored in the database.\r\n\r\nI&#39;ve read a lot about the @Transactional and also the @Modifying topic, but that also never solved my problem. The primary data source and the respective repositories and controllers work perfectly and save all the data directly. It just seems that I have made a mistake with the second data source or haven&#39;t told Spring yet where/how to find a transaction for this.\r\n","title":"Spring saveAndFlush() not working with secondary data source","body":"<p>I set up a small Spring Boot project that I use for certain monitorings. It has various endpoints to receive data via webservice calls and is supposed to store them into two different databases.</p>\n<p>While everything works fine forthe primary data base, I cannot save data to the secondary database. Reading the existing data is working fine, but I cannot save anything. I'm always getting an exception:</p>\n<blockquote>\n<p>javax.persistence.TransactionRequiredException: no transaction is in progress</p>\n</blockquote>\n<p>This is the coding:</p>\n<p>Everything related to Light, Motion and Temperature (<strong>LMT</strong>) is in one database. The information for Power (<strong>P</strong>) is stored in a second database (where I have the issues with).</p>\n<p>My package set up is as follows:</p>\n<pre><code>- [Configuration]\n- [Controller]\n--- [Light]\n--- [Motion]\n--- [Temperature]\n--- [Power]\n- [Model]\n--- [LMT-Models]\n--- [P-Models]\n- [Repository]\n--- [lmt]\n--- [PowerMonitoring]\n</code></pre>\n<p>In my Configuration package I have two persistence classes, one for LMT and one for Power, both handling the database connections for the respective repositories. The LMT one is the primary one, the Power one the secondary (<em>or rather the non-primary</em>):</p>\n<p>Primary data source:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        basePackages = &quot;com.delta.Monitoring.Repository.lmt&quot;,\n        entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\n        transactionManagerRef = &quot;lmtTransactionManager&quot;\n)\npublic class LmtPersistenceConfiguration {\n    @Bean( name = &quot;lmtDataSourceProperties&quot;)\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\n    @Primary\n    public DataSourceProperties lmtDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean( name = &quot;lmtDataSource&quot;)\n    @ConfigurationProperties(&quot;spring.datasource.configuration&quot;)\n    @Primary\n    public DataSource lmtDataSource() {\n        return lmtDataSourceProperties().initializeDataSourceBuilder()\n                .type(BasicDataSource.class).build();\n    }\n\n    @Bean(name = &quot;entityManagerFactory&quot;)\n    @Primary\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            EntityManagerFactoryBuilder builder) {\n        return builder\n                .dataSource(lmtDataSource())\n                .packages(new String[]{&quot;com.delta.Monitoring.Model.lmt&quot;})\n                .build();\n    }\n\n    @Bean (name = &quot;lmtTransactionManager&quot;)\n    @Primary\n    public PlatformTransactionManager lmtTransactionManager(\n            final @Qualifier(&quot;entityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean lmtEntityManagerFactory) {\n        return new JpaTransactionManager(lmtEntityManagerFactory.getObject());\n    }\n\n}\n</code></pre>\n<p>Secondary data source:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        basePackages = &quot;com.delta.Monitoring.Repository.PowerMonitoring&quot;,\n        entityManagerFactoryRef = &quot;entityManagerFactorySecondary&quot;,\n        transactionManagerRef = &quot;powerTransactionManager&quot;\n)\npublic class PowerPersistenceConfiguration {\n\n    @Bean( name = &quot;powerDataSourceProperties&quot;)\n    @ConfigurationProperties(&quot;spring.powerdatasource&quot;)\n    public DataSourceProperties powerDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean( name = &quot;powerDataSource&quot;)\n    @ConfigurationProperties(&quot;spring.powerdatasource.configuration&quot;)\n    public DataSource powerDataSource() {\n        return powerDataSourceProperties().initializeDataSourceBuilder()\n                .type(BasicDataSource.class).build();\n    }\n\n    @Bean(name = &quot;entityManagerFactorySecondary&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            EntityManagerFactoryBuilder builder) {\n        return builder\n                .dataSource(powerDataSource())\n                .packages(new String[]{&quot;com.delta.Monitoring.Model.PowerMonitoring&quot;})\n                .build();\n    }\n\n    @Bean( name = &quot;powerTransactionManager&quot;)\n    public PlatformTransactionManager powerTransactionManager(\n            final @Qualifier(&quot;entityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean powerEntityManagerFactory) {\n        return new JpaTransactionManager(powerEntityManagerFactory.getObject());\n    }\n}\n</code></pre>\n<p>This is what one of the Power-Repositories looks like. Since I'm not doing anything fancy with it (yet), I just extended the JpaRepository:</p>\n<pre><code>@Transactional(&quot;powerTransactionManager&quot;)\npublic interface PowerDaysRepository extends JpaRepository&lt;PowerDay, PowerDayId&gt; {\n\n\n}\n</code></pre>\n<p>And finally, the controller, where I always get the exception:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;power&quot;)\npublic class PowerController {\n\n    private static final Logger myLog = LogManager.getLogger(PowerController.class);\n\n    @Autowired\n    PowerDayDetailsRepository powerDayDetailsRepository;\n\n    @PostMapping(&quot;/powerdaydetails&quot;)\n    public boolean insertPowerDayDetails(@RequestBody List&lt;PowerDayDetails&gt; powerDayDetails){\n        myLog.info(&quot;POST /power/powerdaydetails&quot;);\n        powerDayDetailsRepository.deleteAll();\n        //List&lt;PowerDayDetails&gt; lines = powerDayDetailsRepository.saveAllAndFlush(powerDayDetails);\n        List&lt;PowerDayDetails&gt; lines = powerDayDetailsRepository.saveAll(powerDayDetails);\n\n        myLog.info(&quot;Update size: &quot; + lines.size());\n        myLog.info(&quot;Received data: &quot; + powerDayDetails.size());\n\n        return lines.size() == powerDayDetails.size();\n    }\n}\n</code></pre>\n<p>When I call the /powerdaydetails-endpoint I wanted to save the respective data in the database. First delete all and then save the newly received data.\nWhen I use the <strong>saveAll()</strong> method, I am <strong>not</strong> getting the exception, however also <strong>nothing</strong> in stored in the database. This is the log:</p>\n<blockquote>\n<p>2022-10-20 10:00:12.067  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : POST /power/powerdaydetails</p>\n<p>2022-10-20 10:00:12.639  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : Update size: 582</p>\n<p>2022-10-20 10:00:12.639  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : Received data: 582</p>\n</blockquote>\n<p>When I use the <strong>saveAllAndFlush()</strong> method, the above-mentioned exception occurs and - needless to say - also nothing gets stored in the database.</p>\n<p>I've read a lot about the @Transactional and also the @Modifying topic, but that also never solved my problem. The primary data source and the respective repositories and controllers work perfectly and save all the data directly. It just seems that I have made a mistake with the second data source or haven't told Spring yet where/how to find a transaction for this.</p>\n"},{"tags":["java","jdbc","prepared-statement","sql-injection","jooq"],"comments":[{"owner":{"account_id":1550314,"reputation":1563,"user_id":1442870,"accept_rate":100,"display_name":"Enwired"},"score":0,"creation_date":1510609394,"post_id":47183032,"comment_id":81499277,"body_markdown":"This is not a duplicate because this is not a question about prepared statements, but a question about the JOOQ library.  The answer by \ndjkelly99 is correct.  Using JOOQ does eliminate the possibility of SQL injection as long as you do not use any of the methods annotated with `PlainSQL` which allow you to use arbitrary SQL strings.  The fact that JOOQ is safe is not because it (usually) uses prepared statements.","body":"This is not a duplicate because this is not a question about prepared statements, but a question about the JOOQ library.  The answer by  djkelly99 is correct.  Using JOOQ does eliminate the possibility of SQL injection as long as you do not use any of the methods annotated with <code>PlainSQL</code> which allow you to use arbitrary SQL strings.  The fact that JOOQ is safe is not because it (usually) uses prepared statements."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1629706576,"post_id":47183032,"comment_id":121747766,"body_markdown":"This question was closed as a duplicate, but it is asking *specifically* about jOOQ specific measures, in addition to JDBC&#39;s so I feel it&#39;s not a duplicate.","body":"This question was closed as a duplicate, but it is asking <i>specifically</i> about jOOQ specific measures, in addition to JDBC&#39;s so I feel it&#39;s not a duplicate."}],"answers":[{"tags":[],"owner":{"account_id":8653896,"reputation":590,"user_id":6478781,"display_name":"djkelly99"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1510158973,"creation_date":1510158973,"answer_id":47185017,"question_id":47183032,"body_markdown":"1) Yes, as long as you use the provided API&#39;s correctly. It is still possible to inject plain sql queries though so be careful.\r\n\r\n&gt; All methods in the jOOQ API that allow for plain (unescaped, untreated) SQL contain a warning message in their relevant Javadoc\r\n\r\n    // This query will use bind values, internally.\r\n    create.fetch(&quot;SELECT * FROM BOOK WHERE ID = ? AND TITLE = ?&quot;, 5, &quot;Animal Farm&quot;);\r\n    // This query will not use bind values, internally.\r\n    create.fetch(&quot;SELECT * FROM BOOK WHERE ID = 5 AND TITLE = &#39;Animal Farm&#39;&quot;);\r\n\r\nSee JOOQ docs here for a more in depth explanation: https://www.jooq.org/doc/3.9/manual/sql-building/bind-values/sql-injection/\r\n\r\n2) No, see above.\r\n\r\n3) Aside from that just beware of general DB security issues, such as user authentication/roles and storing sensitive data in an unecrypted format etc \r\n","title":"Using JOOQ, what more do I need to prevent sql injections","body":"<p>1) Yes, as long as you use the provided API's correctly. It is still possible to inject plain sql queries though so be careful.</p>\n\n<blockquote>\n  <p>All methods in the jOOQ API that allow for plain (unescaped, untreated) SQL contain a warning message in their relevant Javadoc</p>\n</blockquote>\n\n<pre><code>// This query will use bind values, internally.\ncreate.fetch(\"SELECT * FROM BOOK WHERE ID = ? AND TITLE = ?\", 5, \"Animal Farm\");\n// This query will not use bind values, internally.\ncreate.fetch(\"SELECT * FROM BOOK WHERE ID = 5 AND TITLE = 'Animal Farm'\");\n</code></pre>\n\n<p>See JOOQ docs here for a more in depth explanation: <a href=\"https://www.jooq.org/doc/3.9/manual/sql-building/bind-values/sql-injection/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/3.9/manual/sql-building/bind-values/sql-injection/</a></p>\n\n<p>2) No, see above.</p>\n\n<p>3) Aside from that just beware of general DB security issues, such as user authentication/roles and storing sensitive data in an unecrypted format etc </p>\n"},{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666397566,"creation_date":1510165507,"answer_id":47187051,"question_id":47183032,"body_markdown":"It&#39;s always possible to write unsafe queries, no matter what language and framework you use.\r\n\r\nThe naive way of concatenating variables into SQL creates an opportunity for SQL injection:\r\n\r\n    String unsafeString = &quot;O&#39;Reilly&quot;;\r\n    create.fetch(&quot;SELECT * FROM BOOK WHERE ID = 5 AND TITLE = &#39;&quot;+unsafeString+&quot;&#39;&quot;);\r\n    // results in SQL syntax error because of unmatched &#39; marks\r\n\r\nMerely using prepared queries does NOT make an unsafe query into a safe query.\r\n\r\nUse parameters to separate dynamic values from the SQL query. These are combined within the RDBMS at execution time. There is no way a parameter can cause an SQL injection vulnerability.\r\n\r\n    String unsafeString = &quot;O&#39;Reilly&quot;;\r\n    create.fetch(&quot;SELECT * FROM BOOK WHERE ID = 5 AND TITLE = ?&quot;, unsafeString);\r\n    // still OK\r\n\r\nWhen you use parameters, you don&#39;t need to do any escaping of the variables. In fact, you *must not,* because you&#39;ll end up with escape symbols in your data.\r\n\r\nParameters are good for combining Java variables into an SQL query, but only in the place of an SQL scalar value. That is, where you would normally use a quoted string literal, quoted date literal, or numeric literal in your SQL, you can replace it with a parameter placeholder.\r\n\r\nBut you can&#39;t use parameters for anything else in SQL:\r\n\r\n* Table names\r\n* Column names\r\n* Lists of values, for example for an `IN ( ... )` predicate—you must use one `?` placeholder per individual value in the list.\r\n* SQL expressions\r\n* SQL keywords\r\n\r\nYou might like my presentation [SQL Injection Myths and Fallacies][1] ([video][2]), or my book, [SQL Antipatterns Volume 1: Avoiding the Pitfalls of Database Programming][3]\r\n\r\n---\r\n\r\nRe comment from @rehas:\r\n\r\nIndeed, using prepared statements does *not* mean you are using parameters implicitly. I showed an example above (my first example), of concatenating an unsafe variable into an SQL string before it is sent to prepare().\r\n\r\nOnce the SQL string arrives in the RDBMS server, it has no way of knowing which parts of the string were legitimate and which parts were concatenated from unsafe variables. All it sees is one string containing an SQL statement.\r\n\r\nThe point of using parameters is to keep the (potentially unsafe) variables separated from the SQL string. Within the RDBMS server, the SQL string—still with parameter placeholders like `?`—is parsed. Once it&#39;s parsed, it won&#39;t be parsed again, so it&#39;s safe for strings like &quot;O&#39;Reilly&quot; to be bound to the parameter placeholders without risk of causing mismatched quotes or anything. A parameters is guaranteed to be treated as a single value in the SQL execution, even if the value of the parameter contains characters that would have changed the way the query was parsed, if it had been included *before* prepare().\r\n\r\nIt&#39;s not true that using prepare() means you&#39;re always using parameters.\r\n\r\nIt&#39;s accurate to say that using parameters requires use of prepare() and execute() as separate steps. But some frameworks do both steps for you. I&#39;m sure if you were to read the jOOQ source code, you&#39;d see it.\r\n\r\n  [1]: https://www.slideshare.net/billkarwin/sql-injection-myths-and-fallacies\r\n  [2]: https://www.youtube.com/watch?v=VldxqTejybk\r\n  [3]: https://pragprog.com/titles/bksap1/sql-antipatterns-volume-1/","title":"Using JOOQ, what more do I need to prevent sql injections","body":"<p>It's always possible to write unsafe queries, no matter what language and framework you use.</p>\n<p>The naive way of concatenating variables into SQL creates an opportunity for SQL injection:</p>\n<pre><code>String unsafeString = &quot;O'Reilly&quot;;\ncreate.fetch(&quot;SELECT * FROM BOOK WHERE ID = 5 AND TITLE = '&quot;+unsafeString+&quot;'&quot;);\n// results in SQL syntax error because of unmatched ' marks\n</code></pre>\n<p>Merely using prepared queries does NOT make an unsafe query into a safe query.</p>\n<p>Use parameters to separate dynamic values from the SQL query. These are combined within the RDBMS at execution time. There is no way a parameter can cause an SQL injection vulnerability.</p>\n<pre><code>String unsafeString = &quot;O'Reilly&quot;;\ncreate.fetch(&quot;SELECT * FROM BOOK WHERE ID = 5 AND TITLE = ?&quot;, unsafeString);\n// still OK\n</code></pre>\n<p>When you use parameters, you don't need to do any escaping of the variables. In fact, you <em>must not,</em> because you'll end up with escape symbols in your data.</p>\n<p>Parameters are good for combining Java variables into an SQL query, but only in the place of an SQL scalar value. That is, where you would normally use a quoted string literal, quoted date literal, or numeric literal in your SQL, you can replace it with a parameter placeholder.</p>\n<p>But you can't use parameters for anything else in SQL:</p>\n<ul>\n<li>Table names</li>\n<li>Column names</li>\n<li>Lists of values, for example for an <code>IN ( ... )</code> predicate—you must use one <code>?</code> placeholder per individual value in the list.</li>\n<li>SQL expressions</li>\n<li>SQL keywords</li>\n</ul>\n<p>You might like my presentation <a href=\"https://www.slideshare.net/billkarwin/sql-injection-myths-and-fallacies\" rel=\"nofollow noreferrer\">SQL Injection Myths and Fallacies</a> (<a href=\"https://www.youtube.com/watch?v=VldxqTejybk\" rel=\"nofollow noreferrer\">video</a>), or my book, <a href=\"https://pragprog.com/titles/bksap1/sql-antipatterns-volume-1/\" rel=\"nofollow noreferrer\">SQL Antipatterns Volume 1: Avoiding the Pitfalls of Database Programming</a></p>\n<hr />\n<p>Re comment from @rehas:</p>\n<p>Indeed, using prepared statements does <em>not</em> mean you are using parameters implicitly. I showed an example above (my first example), of concatenating an unsafe variable into an SQL string before it is sent to prepare().</p>\n<p>Once the SQL string arrives in the RDBMS server, it has no way of knowing which parts of the string were legitimate and which parts were concatenated from unsafe variables. All it sees is one string containing an SQL statement.</p>\n<p>The point of using parameters is to keep the (potentially unsafe) variables separated from the SQL string. Within the RDBMS server, the SQL string—still with parameter placeholders like <code>?</code>—is parsed. Once it's parsed, it won't be parsed again, so it's safe for strings like &quot;O'Reilly&quot; to be bound to the parameter placeholders without risk of causing mismatched quotes or anything. A parameters is guaranteed to be treated as a single value in the SQL execution, even if the value of the parameter contains characters that would have changed the way the query was parsed, if it had been included <em>before</em> prepare().</p>\n<p>It's not true that using prepare() means you're always using parameters.</p>\n<p>It's accurate to say that using parameters requires use of prepare() and execute() as separate steps. But some frameworks do both steps for you. I'm sure if you were to read the jOOQ source code, you'd see it.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629707005,"creation_date":1629707005,"answer_id":68889397,"question_id":47183032,"body_markdown":"### Little risk when using jOOQ as intended\r\n\r\nWhen you use jOOQ as intended, then you will run into little risk of SQL injection. The intended usage is:\r\n\r\n- Using [source code generation][1] to generate meta data for your tables / columns, etc.\r\n- Using the [DSL for type safe embedded SQL][2]\r\n\r\nAs others have mentioned, jOOQ will always use [bind variables][3], properly [escape all inlined values (constants, literals)][4]. But again, as others have mentioned, jOOQ still allows for using [plain SQL templating][5] for those cases where you need to work around a lack of functionality or vendor specific feature support. In those cases, you have to be as careful as with JDBC and make sure to explicitly use bind variables and avoid string concatenation, yourself.\r\n\r\n### Preventing accidents with the `PlainSQLChecker` annotation processor\r\n\r\nOne way to prevent *accidentally* using plain SQL templating, and to make sure no one on the team uses it without approval is to use [jOOQ&#39;s checker framework / error prone integration][6] and disallow all plain SQL usage by default. With Maven, you could configure this (leaving out the JDK version specific details):\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;annotationProcessors&gt;\r\n      &lt;annotationProcessor&gt;org.jooq.checker.PlainSQLChecker&lt;/annotationProcessor&gt;\r\n    &lt;/annotationProcessors&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAnd now your code using methods like [`DSL.query(String)`][7] won&#39;t compile anymore, until you explicitly allow it with the [`@Allow.PlainSQL`][8] annotation on the scope of your choice (method, class, package)\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/bind-values/indexed-parameters/\r\n  [4]: https://www.jooq.org/doc/latest/manual/sql-building/bind-values/inlined-parameters/\r\n  [5]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\r\n  [6]: https://www.jooq.org/doc/latest/manual/tools/checker-framework/\r\n  [7]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#query(java.lang.String)\r\n  [8]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Allow.PlainSQL.html","title":"Using JOOQ, what more do I need to prevent sql injections","body":"<h3>Little risk when using jOOQ as intended</h3>\n<p>When you use jOOQ as intended, then you will run into little risk of SQL injection. The intended usage is:</p>\n<ul>\n<li>Using <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/\" rel=\"nofollow noreferrer\">source code generation</a> to generate meta data for your tables / columns, etc.</li>\n<li>Using the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/\" rel=\"nofollow noreferrer\">DSL for type safe embedded SQL</a></li>\n</ul>\n<p>As others have mentioned, jOOQ will always use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/bind-values/indexed-parameters/\" rel=\"nofollow noreferrer\">bind variables</a>, properly <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/bind-values/inlined-parameters/\" rel=\"nofollow noreferrer\">escape all inlined values (constants, literals)</a>. But again, as others have mentioned, jOOQ still allows for using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating</a> for those cases where you need to work around a lack of functionality or vendor specific feature support. In those cases, you have to be as careful as with JDBC and make sure to explicitly use bind variables and avoid string concatenation, yourself.</p>\n<h3>Preventing accidents with the <code>PlainSQLChecker</code> annotation processor</h3>\n<p>One way to prevent <em>accidentally</em> using plain SQL templating, and to make sure no one on the team uses it without approval is to use <a href=\"https://www.jooq.org/doc/latest/manual/tools/checker-framework/\" rel=\"nofollow noreferrer\">jOOQ's checker framework / error prone integration</a> and disallow all plain SQL usage by default. With Maven, you could configure this (leaving out the JDK version specific details):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;annotationProcessors&gt;\n      &lt;annotationProcessor&gt;org.jooq.checker.PlainSQLChecker&lt;/annotationProcessor&gt;\n    &lt;/annotationProcessors&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And now your code using methods like <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#query(java.lang.String)\" rel=\"nofollow noreferrer\"><code>DSL.query(String)</code></a> won't compile anymore, until you explicitly allow it with the <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Allow.PlainSQL.html\" rel=\"nofollow noreferrer\"><code>@Allow.PlainSQL</code></a> annotation on the scope of your choice (method, class, package)</p>\n"}],"owner":{"account_id":9768052,"reputation":176,"user_id":7240883,"accept_rate":83,"display_name":"rehas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2318,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47185017,"answer_count":3,"score":2,"last_activity_date":1666397566,"creation_date":1510153479,"question_id":47183032,"body_markdown":"How is this a duplicate as i am specifically asking about JOOQ here?\r\n\r\nI am using JOOQ in my JAVA project to handle all my PostgreSQL queries. I read in [this][1] article that JOOQ uses prepared statements to execute all queries. \r\n\r\n1. Is it than safe to assume that I don&#39;t need to worry about SQL injection or user input when executing my queries? \r\n\r\n2. I don&#39;t need to worry about escaping the user input before giving it over to JOOQ?\r\n\r\n3. On the side note, which other vulnerabilities are there to my DB in getting user input (apart from those that are solved by prepared statements), that I should be careful of?     \r\n\r\n\r\n  [1]: https://www.javacodegeeks.com/2015/09/work-with-the-jooq-dsl.html","title":"Using JOOQ, what more do I need to prevent sql injections","body":"<p>How is this a duplicate as i am specifically asking about JOOQ here?</p>\n\n<p>I am using JOOQ in my JAVA project to handle all my PostgreSQL queries. I read in <a href=\"https://www.javacodegeeks.com/2015/09/work-with-the-jooq-dsl.html\" rel=\"nofollow noreferrer\">this</a> article that JOOQ uses prepared statements to execute all queries. </p>\n\n<ol>\n<li><p>Is it than safe to assume that I don't need to worry about SQL injection or user input when executing my queries? </p></li>\n<li><p>I don't need to worry about escaping the user input before giving it over to JOOQ?</p></li>\n<li><p>On the side note, which other vulnerabilities are there to my DB in getting user input (apart from those that are solved by prepared statements), that I should be careful of?     </p></li>\n</ol>\n"},{"tags":["java","android","firebase","authentication"],"comments":[{"owner":{"account_id":21848852,"reputation":87,"user_id":16141229,"display_name":"Ayaka_Ago"},"score":0,"creation_date":1666409168,"post_id":74160166,"comment_id":130936235,"body_markdown":"check `assert actionBar != null;` in `Login#onCreate`. Are you using a `NoActionBar` theme?","body":"check <code>assert actionBar != null;</code> in <code>Login#onCreate</code>. Are you using a <code>NoActionBar</code> theme?"},{"owner":{"account_id":26693863,"reputation":11,"user_id":20302079,"display_name":"Juan "},"score":0,"creation_date":1666447722,"post_id":74160166,"comment_id":130941676,"body_markdown":"In a Manifest? Yes I using NoActionBar","body":"In a Manifest? Yes I using NoActionBar"},{"owner":{"account_id":21848852,"reputation":87,"user_id":16141229,"display_name":"Ayaka_Ago"},"score":0,"creation_date":1666460465,"post_id":74160166,"comment_id":130944468,"body_markdown":"You should use a theme with ActionBar to let `actionBar` not null.","body":"You should use a theme with ActionBar to let <code>actionBar</code> not null."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666792961,"post_id":74160166,"comment_id":131020024,"body_markdown":"So it&#39;s an Android issue rather than a Firebase one, right?","body":"So it&#39;s an Android issue rather than a Firebase one, right?"}],"owner":{"account_id":26693863,"reputation":11,"user_id":20302079,"display_name":"Juan "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666396871,"creation_date":1666396871,"question_id":74160166,"body_markdown":"Good morning, I am an engineering student and I am developing an application to view and download wallpapers, but I have a problem, when I click on the button that takes me to log in, the application closes, I have already seen the LogCat and I do not understand the error. FireBase is used to store the data.\r\nThe application starts in a user view, but the button gives you the option to access as an administrator through a login, and that is the button that is causing problems.\r\n\r\nThis is the MainActivity Login\r\n\r\n```\r\npublic class Login extends AppCompatActivity {\r\n    EditText Correo, Contrase&#241;a;\r\n    Button Acceder;\r\n\r\n\r\n    FirebaseAuth firebaseAuth;\r\n    ProgressDialog progressDialog;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n\r\n            ActionBar actionBar = getSupportActionBar();\r\n            assert actionBar != null;\r\n            actionBar.setTitle(&quot;Inicio Sesi&#243;n&quot;);\r\n            actionBar.setDisplayHomeAsUpEnabled(true);\r\n            actionBar.setDisplayShowHomeEnabled(true);\r\n\r\n            Correo = findViewById(R.id.Correo);\r\n            Contrase&#241;a = findViewById(R.id.Contrase&#241;a);\r\n            Acceder = findViewById(R.id.Acceder);\r\n\r\n            firebaseAuth = FirebaseAuth.getInstance();\r\n\r\n            progressDialog = new ProgressDialog(Login.this);\r\n            progressDialog.setMessage(&quot;Ingresando, espere por favor&quot;);\r\n            progressDialog.setCancelable(false);\r\n\r\n            Acceder.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String correo = Correo.getText().toString();\r\n                    String contrase&#241;a = Contrase&#241;a.getText().toString();\r\n\r\n\r\n                    if (!Patterns.EMAIL_ADDRESS.matcher(correo).matches()) {\r\n\r\n                        Correo.setError(&quot;Correo Invalido&quot;);\r\n                        Correo.setFocusable(true);\r\n\r\n                    } else if (contrase&#241;a.length() &lt; 6) {\r\n\r\n                        Contrase&#241;a.setError(&quot;Contrase&#241;a debe ser mayor o igual a 6 digitos&quot;);\r\n                        Contrase&#241;a.setFocusable(true);\r\n                    } else {\r\n                        LogeoAdministradores(correo, contrase&#241;a);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        private void LogeoAdministradores (String correo, String contrase&#241;a){\r\n            progressDialog.show();\r\n            progressDialog.setCancelable(false);\r\n            firebaseAuth.signInWithEmailAndPassword(correo,contrase&#241;a)\r\n                    .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if(task.isSuccessful()){\r\n                                progressDialog.dismiss();\r\n                                FirebaseUser user = firebaseAuth.getCurrentUser();\r\n                                startActivity(new Intent(Login.this,MainActivityAdministrador.class));\r\n                                assert user != null;\r\n                                Toast.makeText(Login.this, &quot;Bienvenido (a)&quot; +user.getEmail(), Toast.LENGTH_SHORT).show();\r\n                                finish();\r\n                            }else{\r\n                                progressDialog.dismiss();\r\n                                UsuarioInvalido();\r\n                            }\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            progressDialog.dismiss();\r\n                            UsuarioInvalido();\r\n\r\n                        }\r\n                    });\r\n        }\r\n\r\n        private void UsuarioInvalido() {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(Login.this);\r\n            builder.setCancelable(false);\r\n            builder.setTitle(&quot;Ha ocurrido un error&quot;);\r\n            builder.setMessage(&quot;Verifique si el correo o contrase&#241;a son correctos&quot;)\r\n                    .setPositiveButton(&quot;Entendido&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            dialogInterface.dismiss();\r\n                        }\r\n                    }).show();\r\n        }\r\n\r\n        @Override\r\n        public boolean onSupportNavigateUp() {\r\n            onBackPressed();\r\n            return super.onSupportNavigateUp();\r\n        }\r\n\r\n}\r\n```\r\nAnd this is the error that appears in the LogCat\r\n\r\n```\r\n2022-10-21 08:56:52.718 29357-29357/com.example.wallpaper_community E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.wallpaper_community, PID: 29357\r\n    java.lang.AssertionError\r\n        at com.example.wallpaper_community.Login.onCreate(Login.java:39)\r\n        at android.app.Activity.performCreate(Activity.java:8214)\r\n        at android.app.Activity.performCreate(Activity.java:8202)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1320)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4033)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4247)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:91)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:149)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:103)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2613)\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)\r\n        at android.os.Looper.loop(Looper.java:219)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8668)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109)\r\n2022-10-21 08:56:52.737 29357-29357/com.example.wallpaper_community I/Process: Sending signal. PID: 29357 SIG: 9\r\n```\r\nI hope you can help me, in advance thank you very much for your attention and have a great day.","title":"E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.wallpaper_community, PID: 29357","body":"<p>Good morning, I am an engineering student and I am developing an application to view and download wallpapers, but I have a problem, when I click on the button that takes me to log in, the application closes, I have already seen the LogCat and I do not understand the error. FireBase is used to store the data.\nThe application starts in a user view, but the button gives you the option to access as an administrator through a login, and that is the button that is causing problems.</p>\n<p>This is the MainActivity Login</p>\n<pre><code>public class Login extends AppCompatActivity {\n    EditText Correo, Contraseña;\n    Button Acceder;\n\n\n    FirebaseAuth firebaseAuth;\n    ProgressDialog progressDialog;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n\n\n            ActionBar actionBar = getSupportActionBar();\n            assert actionBar != null;\n            actionBar.setTitle(&quot;Inicio Sesión&quot;);\n            actionBar.setDisplayHomeAsUpEnabled(true);\n            actionBar.setDisplayShowHomeEnabled(true);\n\n            Correo = findViewById(R.id.Correo);\n            Contraseña = findViewById(R.id.Contraseña);\n            Acceder = findViewById(R.id.Acceder);\n\n            firebaseAuth = FirebaseAuth.getInstance();\n\n            progressDialog = new ProgressDialog(Login.this);\n            progressDialog.setMessage(&quot;Ingresando, espere por favor&quot;);\n            progressDialog.setCancelable(false);\n\n            Acceder.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    String correo = Correo.getText().toString();\n                    String contraseña = Contraseña.getText().toString();\n\n\n                    if (!Patterns.EMAIL_ADDRESS.matcher(correo).matches()) {\n\n                        Correo.setError(&quot;Correo Invalido&quot;);\n                        Correo.setFocusable(true);\n\n                    } else if (contraseña.length() &lt; 6) {\n\n                        Contraseña.setError(&quot;Contraseña debe ser mayor o igual a 6 digitos&quot;);\n                        Contraseña.setFocusable(true);\n                    } else {\n                        LogeoAdministradores(correo, contraseña);\n                    }\n                }\n            });\n        }\n\n        private void LogeoAdministradores (String correo, String contraseña){\n            progressDialog.show();\n            progressDialog.setCancelable(false);\n            firebaseAuth.signInWithEmailAndPassword(correo,contraseña)\n                    .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                            if(task.isSuccessful()){\n                                progressDialog.dismiss();\n                                FirebaseUser user = firebaseAuth.getCurrentUser();\n                                startActivity(new Intent(Login.this,MainActivityAdministrador.class));\n                                assert user != null;\n                                Toast.makeText(Login.this, &quot;Bienvenido (a)&quot; +user.getEmail(), Toast.LENGTH_SHORT).show();\n                                finish();\n                            }else{\n                                progressDialog.dismiss();\n                                UsuarioInvalido();\n                            }\n                        }\n                    }).addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            progressDialog.dismiss();\n                            UsuarioInvalido();\n\n                        }\n                    });\n        }\n\n        private void UsuarioInvalido() {\n            AlertDialog.Builder builder = new AlertDialog.Builder(Login.this);\n            builder.setCancelable(false);\n            builder.setTitle(&quot;Ha ocurrido un error&quot;);\n            builder.setMessage(&quot;Verifique si el correo o contraseña son correctos&quot;)\n                    .setPositiveButton(&quot;Entendido&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            dialogInterface.dismiss();\n                        }\n                    }).show();\n        }\n\n        @Override\n        public boolean onSupportNavigateUp() {\n            onBackPressed();\n            return super.onSupportNavigateUp();\n        }\n\n}\n</code></pre>\n<p>And this is the error that appears in the LogCat</p>\n<pre><code>2022-10-21 08:56:52.718 29357-29357/com.example.wallpaper_community E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.wallpaper_community, PID: 29357\n    java.lang.AssertionError\n        at com.example.wallpaper_community.Login.onCreate(Login.java:39)\n        at android.app.Activity.performCreate(Activity.java:8214)\n        at android.app.Activity.performCreate(Activity.java:8202)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1320)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4033)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4247)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:91)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:149)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:103)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2613)\n        at android.os.Handler.dispatchMessage(Handler.java:110)\n        at android.os.Looper.loop(Looper.java:219)\n        at android.app.ActivityThread.main(ActivityThread.java:8668)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109)\n2022-10-21 08:56:52.737 29357-29357/com.example.wallpaper_community I/Process: Sending signal. PID: 29357 SIG: 9\n</code></pre>\n<p>I hope you can help me, in advance thank you very much for your attention and have a great day.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":4,"creation_date":1327972223,"post_id":9073150,"comment_id":11389559,"body_markdown":"This is a classic homework question. If this is indeed homework, please tag your question as such.","body":"This is a classic homework question. If this is indeed homework, please tag your question as such."},{"owner":{"account_id":931674,"reputation":6985,"user_id":961455,"accept_rate":71,"display_name":"nachito"},"score":0,"creation_date":1327972236,"post_id":9073150,"comment_id":11389564,"body_markdown":"Yup, that&#39;s your code. What&#39;s your question?","body":"Yup, that&#39;s your code. What&#39;s your question?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":9,"creation_date":1327972309,"post_id":9073150,"comment_id":11389578,"body_markdown":"@nachito: I&#39;d bet that he wonders why for example `XCIX` returns `109` instead of `99`.","body":"@nachito: I&#39;d bet that he wonders why for example <code>XCIX</code> returns <code>109</code> instead of <code>99</code>."},{"owner":{"account_id":1171586,"reputation":1866,"user_id":1148656,"accept_rate":84,"display_name":"Daniel Cook"},"score":0,"creation_date":1327972439,"post_id":9073150,"comment_id":11389594,"body_markdown":"I know why because it has both &#39;IX&#39; and &#39;XC&#39; in it... but I&#39;m not sure how to fix this..","body":"I know why because it has both &#39;IX&#39; and &#39;XC&#39; in it... but I&#39;m not sure how to fix this.."},{"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"score":1,"creation_date":1352575997,"post_id":9073150,"comment_id":18178942,"body_markdown":"Homework tag has been deprecated","body":"Homework tag has been deprecated"}],"answers":[{"tags":[],"owner":{"account_id":886478,"reputation":9207,"user_id":925806,"display_name":"Ashwinee K Jha"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1327972729,"creation_date":1327972729,"answer_id":9073237,"question_id":9073150,"body_markdown":"Following your logic of reducing 2 on IX you should reduce 20 on XC 200 on CM and so on.","title":"Converting Roman Numerals To Decimal","body":"<p>Following your logic of reducing 2 on IX you should reduce 20 on XC 200 on CM and so on.</p>\n"},{"tags":[],"owner":{"account_id":137131,"reputation":9069,"user_id":341117,"accept_rate":85,"display_name":"Ravindra Gullapalli"},"down_vote_count":2,"up_vote_count":60,"is_accepted":true,"score":58,"last_activity_date":1455917738,"creation_date":1327973477,"answer_id":9073310,"question_id":9073150,"body_markdown":"It will be good if you traverse in reverse.\r\n\r\n    public class RomanToDecimal {\r\n        public static void romanToDecimal(java.lang.String romanNumber) {\r\n            int decimal = 0;\r\n            int lastNumber = 0;\r\n            String romanNumeral = romanNumber.toUpperCase();\r\n            /* operation to be performed on upper cases even if user \r\n               enters roman values in lower case chars */\r\n            for (int x = romanNumeral.length() - 1; x &gt;= 0 ; x--) {\r\n                char convertToDecimal = romanNumeral.charAt(x);\r\n    \r\n                switch (convertToDecimal) {\r\n                    case &#39;M&#39;:\r\n                        decimal = processDecimal(1000, lastNumber, decimal);\r\n                        lastNumber = 1000;\r\n                        break;\r\n    \r\n                    case &#39;D&#39;:\r\n                        decimal = processDecimal(500, lastNumber, decimal);\r\n                        lastNumber = 500;\r\n                        break;\r\n    \r\n                    case &#39;C&#39;:\r\n                        decimal = processDecimal(100, lastNumber, decimal);\r\n                        lastNumber = 100;\r\n                        break;\r\n    \r\n                    case &#39;L&#39;:\r\n                        decimal = processDecimal(50, lastNumber, decimal);\r\n                        lastNumber = 50;\r\n                        break;\r\n    \r\n                    case &#39;X&#39;:\r\n                        decimal = processDecimal(10, lastNumber, decimal);\r\n                        lastNumber = 10;\r\n                        break;\r\n    \r\n                    case &#39;V&#39;:\r\n                        decimal = processDecimal(5, lastNumber, decimal);\r\n                        lastNumber = 5;\r\n                        break;\r\n    \r\n                    case &#39;I&#39;:\r\n                        decimal = processDecimal(1, lastNumber, decimal);\r\n                        lastNumber = 1;\r\n                        break;\r\n                }\r\n            }\r\n            System.out.println(decimal);\r\n        }\r\n    \r\n        public static int processDecimal(int decimal, int lastNumber, int lastDecimal) {\r\n            if (lastNumber &gt; decimal) {\r\n                return lastDecimal - decimal;\r\n            } else {\r\n                return lastDecimal + decimal;\r\n            }\r\n        }\r\n    \r\n        public static void main(java.lang.String args[]) {\r\n            romanToDecimal(&quot;XIV&quot;);\r\n        }\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>It will be good if you traverse in reverse.</p>\n\n<pre><code>public class RomanToDecimal {\n    public static void romanToDecimal(java.lang.String romanNumber) {\n        int decimal = 0;\n        int lastNumber = 0;\n        String romanNumeral = romanNumber.toUpperCase();\n        /* operation to be performed on upper cases even if user \n           enters roman values in lower case chars */\n        for (int x = romanNumeral.length() - 1; x &gt;= 0 ; x--) {\n            char convertToDecimal = romanNumeral.charAt(x);\n\n            switch (convertToDecimal) {\n                case 'M':\n                    decimal = processDecimal(1000, lastNumber, decimal);\n                    lastNumber = 1000;\n                    break;\n\n                case 'D':\n                    decimal = processDecimal(500, lastNumber, decimal);\n                    lastNumber = 500;\n                    break;\n\n                case 'C':\n                    decimal = processDecimal(100, lastNumber, decimal);\n                    lastNumber = 100;\n                    break;\n\n                case 'L':\n                    decimal = processDecimal(50, lastNumber, decimal);\n                    lastNumber = 50;\n                    break;\n\n                case 'X':\n                    decimal = processDecimal(10, lastNumber, decimal);\n                    lastNumber = 10;\n                    break;\n\n                case 'V':\n                    decimal = processDecimal(5, lastNumber, decimal);\n                    lastNumber = 5;\n                    break;\n\n                case 'I':\n                    decimal = processDecimal(1, lastNumber, decimal);\n                    lastNumber = 1;\n                    break;\n            }\n        }\n        System.out.println(decimal);\n    }\n\n    public static int processDecimal(int decimal, int lastNumber, int lastDecimal) {\n        if (lastNumber &gt; decimal) {\n            return lastDecimal - decimal;\n        } else {\n            return lastDecimal + decimal;\n        }\n    }\n\n    public static void main(java.lang.String args[]) {\n        romanToDecimal(\"XIV\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1073013,"reputation":3532,"user_id":1071840,"accept_rate":60,"display_name":"user1071840"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1352571898,"creation_date":1352571898,"answer_id":13324826,"question_id":9073150,"body_markdown":"How about this?\r\n\r\n    int getdec(const string&amp; input)\r\n    {\r\n      int sum=0; char prev=&#39;%&#39;;\r\n      for(int i=(input.length()-1); i&gt;=0; i--)\r\n      {\r\n        if(value(input[i])&lt;sum &amp;&amp; (input[i]!=prev))\r\n        {       sum -= value(input[i]);\r\n                prev = input[i];\r\n        }\r\n        else\r\n        {\r\n                sum += value(input[i]);\r\n                prev = input[i];\r\n        }\r\n      }\r\n      return sum;\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>How about this?</p>\n\n<pre><code>int getdec(const string&amp; input)\n{\n  int sum=0; char prev='%';\n  for(int i=(input.length()-1); i&gt;=0; i--)\n  {\n    if(value(input[i])&lt;sum &amp;&amp; (input[i]!=prev))\n    {       sum -= value(input[i]);\n            prev = input[i];\n    }\n    else\n    {\n            sum += value(input[i]);\n            prev = input[i];\n    }\n  }\n  return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1189348,"reputation":107,"user_id":1162570,"display_name":"jl1990"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361465261,"creation_date":1361465261,"answer_id":15007775,"question_id":9073150,"body_markdown":"Supposing Well-formed Roman numbers:\r\n\r\n    private static int totalValue(String val)\r\n    {\r\n        String aux=val.toUpperCase();\r\n        int sum=0, max=aux.length(), i=0;\r\n        while(i&lt;max)\r\n        {\r\n            if ((i+1)&lt;max &amp;&amp; valueOf(aux.charAt(i+1))&gt;valueOf(aux.charAt(i)))\r\n            {\r\n                sum+=valueOf(aux.charAt(i+1)) - valueOf(aux.charAt(i));\r\n                i+=2;\r\n            }\r\n            else\r\n            {\r\n                sum+=valueOf(aux.charAt(i));\r\n                i+=1;\r\n            }\r\n        }\r\n        return sum;\r\n    }\r\n\t\r\n    private static int valueOf(Character c)\r\n    {\r\n        char aux = Character.toUpperCase(c);\r\n        switch(aux)\r\n        {\r\n            case &#39;I&#39;:\r\n                return 1;\r\n            case &#39;V&#39;:\r\n                return 5;\r\n            case &#39;X&#39;:\r\n                return 10;\r\n            case &#39;L&#39;:\r\n                return 50;\r\n            case &#39;C&#39;:\r\n                return 100;\r\n            case &#39;D&#39;:\r\n                return 500;\r\n            case &#39;M&#39;:\r\n                return 1000;\r\n            default:\r\n                return 0;\r\n         }\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>Supposing Well-formed Roman numbers:</p>\n\n<pre><code>private static int totalValue(String val)\n{\n    String aux=val.toUpperCase();\n    int sum=0, max=aux.length(), i=0;\n    while(i&lt;max)\n    {\n        if ((i+1)&lt;max &amp;&amp; valueOf(aux.charAt(i+1))&gt;valueOf(aux.charAt(i)))\n        {\n            sum+=valueOf(aux.charAt(i+1)) - valueOf(aux.charAt(i));\n            i+=2;\n        }\n        else\n        {\n            sum+=valueOf(aux.charAt(i));\n            i+=1;\n        }\n    }\n    return sum;\n}\n\nprivate static int valueOf(Character c)\n{\n    char aux = Character.toUpperCase(c);\n    switch(aux)\n    {\n        case 'I':\n            return 1;\n        case 'V':\n            return 5;\n        case 'X':\n            return 10;\n        case 'L':\n            return 50;\n        case 'C':\n            return 100;\n        case 'D':\n            return 500;\n        case 'M':\n            return 1000;\n        default:\n            return 0;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2197451,"reputation":463,"user_id":2181741,"display_name":"user2181741"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363613268,"creation_date":1363613268,"answer_id":15478012,"question_id":9073150,"body_markdown":"what about this  conversion. no switch, no case at all...\r\n\r\nP.S. : I use this script from a bash shell\r\n\r\n\r\n    import sys\r\n\r\n    def RomanToNum(r):\r\n    \r\n        return {\r\n        &#39;I&#39;: 1,\r\n        &#39;V&#39;: 5,\r\n    \t&#39;X&#39;: 10,\r\n    \t&#39;L&#39;: 50,\r\n    \t&#39;C&#39;: 100,\r\n    \t&#39;D&#39;: 500,\r\n    \t&#39;M&#39;: 1000,\r\n        }[r]\r\n\r\n    #\r\n    #\r\n    #\r\n    \r\n    EOF = &quot;&lt;&quot;\r\n    Roman = sys.argv[1].upper().strip()+EOF\r\n    \r\n    num = 0\r\n    i = 0\r\n    \r\n    while True:\r\n    \r\n    \tthis = Roman[i]\r\n    \r\n    \tif this == EOF:\r\n    \t\tbreak\r\n    \r\n    \tn1 = RomanToNum(this)\r\n    \r\n    \tnext = Roman[i+1]\r\n    \r\n    \tif next == EOF:\r\n    \t\tn2 = 0\r\n    \telse:\r\n    \t\tn2 = RomanToNum(next)\r\n    \r\n    \tif n1 &lt; n2:\r\n    \t\tn1 = -1 * n1\r\n    \r\n    \tnum = num + n1\r\n    \ti = i + 1\r\n    \t\r\n    print num\r\n\r\n\r\n","title":"Converting Roman Numerals To Decimal","body":"<p>what about this  conversion. no switch, no case at all...</p>\n\n<p>P.S. : I use this script from a bash shell</p>\n\n<pre><code>import sys\n\ndef RomanToNum(r):\n\n    return {\n    'I': 1,\n    'V': 5,\n    'X': 10,\n    'L': 50,\n    'C': 100,\n    'D': 500,\n    'M': 1000,\n    }[r]\n\n#\n#\n#\n\nEOF = \"&lt;\"\nRoman = sys.argv[1].upper().strip()+EOF\n\nnum = 0\ni = 0\n\nwhile True:\n\n    this = Roman[i]\n\n    if this == EOF:\n        break\n\n    n1 = RomanToNum(this)\n\n    next = Roman[i+1]\n\n    if next == EOF:\n        n2 = 0\n    else:\n        n2 = RomanToNum(next)\n\n    if n1 &lt; n2:\n        n1 = -1 * n1\n\n    num = num + n1\n    i = i + 1\n\nprint num\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1855282,"reputation":670,"user_id":1681009,"display_name":"Shaltiel Shmidman"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1373311319,"creation_date":1373311319,"answer_id":17534350,"question_id":9073150,"body_markdown":"Try this - It is simple and compact and works quite smoothly:\r\n\r\n        public static int ToArabic(string number) {\r\n            if (number == string.Empty) return 0;\r\n            if (number.StartsWith(&quot;M&quot;)) return 1000 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;CM&quot;)) return 900 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;D&quot;)) return 500 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;CD&quot;)) return 400 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;C&quot;)) return 100 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;XC&quot;)) return 90 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;L&quot;)) return 50 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;XL&quot;)) return 40 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;X&quot;)) return 10 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;IX&quot;)) return 9 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;V&quot;)) return 5 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;IV&quot;)) return 4 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;I&quot;)) return 1 + ToArabic(number.Remove(0, 1));\r\n            throw new ArgumentOutOfRangeException(&quot;something bad happened&quot;);\r\n        }","title":"Converting Roman Numerals To Decimal","body":"<p>Try this - It is simple and compact and works quite smoothly:</p>\n\n<pre><code>    public static int ToArabic(string number) {\n        if (number == string.Empty) return 0;\n        if (number.StartsWith(\"M\")) return 1000 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"CM\")) return 900 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"D\")) return 500 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"CD\")) return 400 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"C\")) return 100 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"XC\")) return 90 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"L\")) return 50 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"XL\")) return 40 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"X\")) return 10 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"IX\")) return 9 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"V\")) return 5 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"IV\")) return 4 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"I\")) return 1 + ToArabic(number.Remove(0, 1));\n        throw new ArgumentOutOfRangeException(\"something bad happened\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398676,"reputation":1,"user_id":2851541,"display_name":"Randal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381075554,"creation_date":1381056313,"answer_id":19207956,"question_id":9073150,"body_markdown":"            public class RomInt {\r\n        String roman;\r\n        int val;\r\n    \r\n        void assign(String k)\r\n        {\r\n          roman=k;\r\n        }\r\n    \r\n        private class Literal\r\n        {\r\n            public char literal;\r\n            public int value;\r\n    \r\n            public Literal(char literal, int value)\r\n            {\r\n                this.literal = literal;\r\n                this.value = value;\r\n            }\r\n        }\r\n    \r\n        private final Literal[] ROMAN_LITERALS = new Literal[]\r\n                {\r\n                        new Literal(&#39;I&#39;, 1),\r\n                        new Literal(&#39;V&#39;, 5),\r\n                        new Literal(&#39;X&#39;, 10),\r\n                        new Literal(&#39;L&#39;, 50),\r\n                        new Literal(&#39;C&#39;, 100),\r\n                        new Literal(&#39;D&#39;, 500),\r\n                        new Literal(&#39;M&#39;, 1000)\r\n                };\r\n    \r\n        public int getVal(String s) {\r\n    \r\n           int holdValue=0;\r\n    \r\n                for (int j = 0; j &lt; ROMAN_LITERALS.length; j++)\r\n                {\r\n                    if (s.charAt(0)==ROMAN_LITERALS[j].literal)\r\n                    {\r\n                               holdValue=ROMAN_LITERALS[j].value;\r\n                                   break;\r\n                    }  //if()\r\n                }//for()\r\n    \r\n          return holdValue;\r\n        }  //getVal()\r\n        public int count()\r\n        {\r\n           int count=0;\r\n           int countA=0;\r\n           int countB=0;\r\n           int lastPosition = 0;\r\n            for(int i = 0 ; i &lt; roman.length(); i++)\r\n            {\r\n              String s1 = roman.substring(i,i+1);\r\n                int a=getVal(s1);\r\n                countA+=a;\r\n            }\r\n            for(int j=1;j&lt;roman.length();j++)\r\n            {\r\n                String s2=  roman.substring(j,j+1);\r\n                String s3=  roman.substring(j-1,j);\r\n                int b=getVal(s2);\r\n                int c=getVal(s3);\r\n                if(b&gt;c)\r\n                {\r\n                    countB+=c;\r\n                }\r\n            }\r\n            count=countA-(2*countB);\r\n            return count;\r\n            }\r\n    \r\n    \r\n        void disp()\r\n        {\r\n    \r\n             int result=count();\r\n            System.out.println(&quot;Integer equivalent of &quot;+roman+&quot; = &quot; +result);\r\n        }\r\n    \r\n    }  //RomInt---BLC","title":"Converting Roman Numerals To Decimal","body":"<pre><code>        public class RomInt {\n    String roman;\n    int val;\n\n    void assign(String k)\n    {\n      roman=k;\n    }\n\n    private class Literal\n    {\n        public char literal;\n        public int value;\n\n        public Literal(char literal, int value)\n        {\n            this.literal = literal;\n            this.value = value;\n        }\n    }\n\n    private final Literal[] ROMAN_LITERALS = new Literal[]\n            {\n                    new Literal('I', 1),\n                    new Literal('V', 5),\n                    new Literal('X', 10),\n                    new Literal('L', 50),\n                    new Literal('C', 100),\n                    new Literal('D', 500),\n                    new Literal('M', 1000)\n            };\n\n    public int getVal(String s) {\n\n       int holdValue=0;\n\n            for (int j = 0; j &lt; ROMAN_LITERALS.length; j++)\n            {\n                if (s.charAt(0)==ROMAN_LITERALS[j].literal)\n                {\n                           holdValue=ROMAN_LITERALS[j].value;\n                               break;\n                }  //if()\n            }//for()\n\n      return holdValue;\n    }  //getVal()\n    public int count()\n    {\n       int count=0;\n       int countA=0;\n       int countB=0;\n       int lastPosition = 0;\n        for(int i = 0 ; i &lt; roman.length(); i++)\n        {\n          String s1 = roman.substring(i,i+1);\n            int a=getVal(s1);\n            countA+=a;\n        }\n        for(int j=1;j&lt;roman.length();j++)\n        {\n            String s2=  roman.substring(j,j+1);\n            String s3=  roman.substring(j-1,j);\n            int b=getVal(s2);\n            int c=getVal(s3);\n            if(b&gt;c)\n            {\n                countB+=c;\n            }\n        }\n        count=countA-(2*countB);\n        return count;\n        }\n\n\n    void disp()\n    {\n\n         int result=count();\n        System.out.println(\"Integer equivalent of \"+roman+\" = \" +result);\n    }\n\n}  //RomInt---BLC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1177117,"reputation":2474,"user_id":1152843,"display_name":"Florent Roques"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493849279,"creation_date":1381879674,"answer_id":19392801,"question_id":9073150,"body_markdown":"### Imperative + recursive solutions with validation step and online testing\n\nTo avoid useless calculations and to make sure the roman numerals format is correct, we need to check the input with a regular expression.\n    \n    String regex = &quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;;\n\n- [Explanation of the regular expression in details](https://stackoverflow.com/a/267405/1152843)\n- [Explanation of the regular expression symbols used](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html)\n- [Differences between regex functions matches() and find()](https://stackoverflow.com/a/4450166/1152843)\n- [Why is MMMCMXCIX (= 3999) the maximum value with standard roman numerals notation](http://www.numere-romane.ro/reguli_scriere_cifre_numere_romane.php?lang=en)  \n  \n  \n**Imperative solution**  \n\n    public static int romanToDecimal(String s) {\n        if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n            return -1;\n\n        final Matcher matcher = Pattern.compile(&quot;M|CM|D|CD|C|XC|L|XL|X|IX|V|IV|I&quot;).matcher(s);\n        final int[] decimalValues = {1000,900,500,400,100,90,50,40,10,9,5,4,1};\n        final String[] romanNumerals = {&quot;M&quot;,&quot;CM&quot;,&quot;D&quot;,&quot;CD&quot;,&quot;C&quot;,&quot;XC&quot;,&quot;L&quot;,&quot;XL&quot;,&quot;X&quot;,&quot;IX&quot;,&quot;V&quot;,&quot;IV&quot;,&quot;I&quot;};\n        int result = 0;\n\n        while (matcher.find())\n            for (int i = 0; i &lt; romanNumerals.length; i++)\n                if (romanNumerals[i].equals(matcher.group(0)))\n                    result += decimalValues[i];\n\n        return result;\n    }\n\n[try online](http://ideone.com/tDNzVu) | [try optimized version with comments/explanation online](http://ideone.com/8FfoZr)\n \n___\n\n**UPDATE**: here are two clever recursive proposals from this thread I solved adding validation step\n\n**Recursive solution 1** ([original answer](https://stackoverflow.com/a/29218799/1152843))\n\n    public class RomanToDecimalConverter {\n        private static double evaluateNextRomanNumeral(String roman, int pos, double rightNumeral) {\n            if (pos &lt; 0) return 0;\n            char ch = roman.charAt(pos);\n            double value = Math.floor(Math.pow(10, &quot;IXCM&quot;.indexOf(ch))) + 5 * Math.floor(Math.pow(10, &quot;VLD&quot;.indexOf(ch)));\n            return value * Math.signum(value + 0.5 - rightNumeral) + evaluateNextRomanNumeral(roman, pos - 1, value);\n        }\n\n        public static int evaluateRomanNumerals(String s) {\n            if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n                return -1;\n            return (int) evaluateNextRomanNumeral(s, s.length() - 1, 0);\n        }\n    }\n\n[try online](http://ideone.com/Gq6GhY)\n    \n**Recursive solution 2** ([original answer](https://stackoverflow.com/a/17534350/1152843))\n\n    public class RomanToDecimalConverter {\n        private static int convertRec(String s) {\n            if (s.isEmpty()) return 0;\n                 if (s.startsWith(&quot;M&quot;))  return 1000 + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;CM&quot;)) return 900  + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;D&quot;))  return 500  + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;CD&quot;)) return 400  + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;C&quot;))  return 100  + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;XC&quot;)) return 90   + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;L&quot;))  return 50   + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;XL&quot;)) return 40   + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;X&quot;))  return 10   + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;IX&quot;)) return 9    + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;V&quot;))  return 5    + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;IV&quot;)) return 4    + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;I&quot;))  return 1    + convertRec(s.substring(1));\n            throw new IllegalArgumentException(&quot;Unexpected roman numerals&quot;);\n        }\n\n        public static int convert(String s) {\n            if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n                return -1;\n            return convertRec(s);\n        }\n    }\n\n[try online](http://ideone.com/YLqqXF)","title":"Converting Roman Numerals To Decimal","body":"<h3>Imperative + recursive solutions with validation step and online testing</h3>\n<p>To avoid useless calculations and to make sure the roman numerals format is correct, we need to check the input with a regular expression.</p>\n<pre><code>String regex = &quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;;\n</code></pre>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/267405/1152843\">Explanation of the regular expression in details</a></li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Explanation of the regular expression symbols used</a></li>\n<li><a href=\"https://stackoverflow.com/a/4450166/1152843\">Differences between regex functions matches() and find()</a></li>\n<li><a href=\"http://www.numere-romane.ro/reguli_scriere_cifre_numere_romane.php?lang=en\" rel=\"nofollow noreferrer\">Why is MMMCMXCIX (= 3999) the maximum value with standard roman numerals notation</a></li>\n</ul>\n<p><strong>Imperative solution</strong></p>\n<pre><code>public static int romanToDecimal(String s) {\n    if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n        return -1;\n\n    final Matcher matcher = Pattern.compile(&quot;M|CM|D|CD|C|XC|L|XL|X|IX|V|IV|I&quot;).matcher(s);\n    final int[] decimalValues = {1000,900,500,400,100,90,50,40,10,9,5,4,1};\n    final String[] romanNumerals = {&quot;M&quot;,&quot;CM&quot;,&quot;D&quot;,&quot;CD&quot;,&quot;C&quot;,&quot;XC&quot;,&quot;L&quot;,&quot;XL&quot;,&quot;X&quot;,&quot;IX&quot;,&quot;V&quot;,&quot;IV&quot;,&quot;I&quot;};\n    int result = 0;\n\n    while (matcher.find())\n        for (int i = 0; i &lt; romanNumerals.length; i++)\n            if (romanNumerals[i].equals(matcher.group(0)))\n                result += decimalValues[i];\n\n    return result;\n}\n</code></pre>\n<p><a href=\"http://ideone.com/tDNzVu\" rel=\"nofollow noreferrer\">try online</a> | <a href=\"http://ideone.com/8FfoZr\" rel=\"nofollow noreferrer\">try optimized version with comments/explanation online</a></p>\n<hr />\n<p><strong>UPDATE</strong>: here are two clever recursive proposals from this thread I solved adding validation step</p>\n<p><strong>Recursive solution 1</strong> (<a href=\"https://stackoverflow.com/a/29218799/1152843\">original answer</a>)</p>\n<pre><code>public class RomanToDecimalConverter {\n    private static double evaluateNextRomanNumeral(String roman, int pos, double rightNumeral) {\n        if (pos &lt; 0) return 0;\n        char ch = roman.charAt(pos);\n        double value = Math.floor(Math.pow(10, &quot;IXCM&quot;.indexOf(ch))) + 5 * Math.floor(Math.pow(10, &quot;VLD&quot;.indexOf(ch)));\n        return value * Math.signum(value + 0.5 - rightNumeral) + evaluateNextRomanNumeral(roman, pos - 1, value);\n    }\n\n    public static int evaluateRomanNumerals(String s) {\n        if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n            return -1;\n        return (int) evaluateNextRomanNumeral(s, s.length() - 1, 0);\n    }\n}\n</code></pre>\n<p><a href=\"http://ideone.com/Gq6GhY\" rel=\"nofollow noreferrer\">try online</a></p>\n<p><strong>Recursive solution 2</strong> (<a href=\"https://stackoverflow.com/a/17534350/1152843\">original answer</a>)</p>\n<pre><code>public class RomanToDecimalConverter {\n    private static int convertRec(String s) {\n        if (s.isEmpty()) return 0;\n             if (s.startsWith(&quot;M&quot;))  return 1000 + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;CM&quot;)) return 900  + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;D&quot;))  return 500  + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;CD&quot;)) return 400  + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;C&quot;))  return 100  + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;XC&quot;)) return 90   + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;L&quot;))  return 50   + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;XL&quot;)) return 40   + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;X&quot;))  return 10   + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;IX&quot;)) return 9    + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;V&quot;))  return 5    + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;IV&quot;)) return 4    + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;I&quot;))  return 1    + convertRec(s.substring(1));\n        throw new IllegalArgumentException(&quot;Unexpected roman numerals&quot;);\n    }\n\n    public static int convert(String s) {\n        if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n            return -1;\n        return convertRec(s);\n    }\n}\n</code></pre>\n<p><a href=\"http://ideone.com/YLqqXF\" rel=\"nofollow noreferrer\">try online</a></p>\n"},{"tags":[],"owner":{"account_id":3193857,"reputation":597,"user_id":2697512,"accept_rate":60,"display_name":"Noam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389823604,"creation_date":1389739608,"answer_id":21125653,"question_id":9073150,"body_markdown":"I find the following approach a very intuitive one:\r\n\r\n    public void makeArray(String romanNumeral){\r\n        int[] numberArray = new int[romanNumeral.length()];\r\n\r\n        for(int i=0; i&lt;romanNumeral.length();i++){\r\n            char symbol = romanNumeral.charAt(i);\r\n            switch(symbol){\r\n                case &#39;I&#39;:\r\n                    numberArray[i] = 1;\r\n                    break;\r\n                case &#39;V&#39;:\r\n                    numberArray[i] = 5;\r\n                    break;\r\n                case &#39;X&#39;:\r\n                    numberArray[i] = 10;\r\n                    break;\r\n                case &#39;L&#39;:\r\n                    numberArray[i] = 50;\r\n                    break;\r\n                case &#39;C&#39;:\r\n                    numberArray[i] = 100;\r\n                    break;  \r\n                case &#39;D&#39;:\r\n                    numberArray[i] = 500;\r\n                    break;   \r\n                case &#39;M&#39;:\r\n                    numberArray[i] = 1000;\r\n                    break;       \r\n            }\r\n        }\r\n        calculate(numberArray);\r\n    }\r\n    public static void calculate(int[] numberArray){\r\n        int theNumber = 0;\r\n        for(int n=0;n&lt;numberArray.length;n++){         \r\n            if(n !=numberArray.length-1 &amp;&amp; numberArray[n] &lt; numberArray[n+1]){\r\n                numberArray[n+1] = numberArray[n+1] - numberArray[n];\r\n                numberArray[n] = 0;                        \r\n            }                 \r\n        }\r\n        for(int num:numberArray){\r\n            theNumber += num;\r\n        }\r\n        System.out.println(&quot;Converted number: &quot; + theNumber);\r\n        \r\n    }\r\n","title":"Converting Roman Numerals To Decimal","body":"<p>I find the following approach a very intuitive one:</p>\n\n<pre><code>public void makeArray(String romanNumeral){\n    int[] numberArray = new int[romanNumeral.length()];\n\n    for(int i=0; i&lt;romanNumeral.length();i++){\n        char symbol = romanNumeral.charAt(i);\n        switch(symbol){\n            case 'I':\n                numberArray[i] = 1;\n                break;\n            case 'V':\n                numberArray[i] = 5;\n                break;\n            case 'X':\n                numberArray[i] = 10;\n                break;\n            case 'L':\n                numberArray[i] = 50;\n                break;\n            case 'C':\n                numberArray[i] = 100;\n                break;  \n            case 'D':\n                numberArray[i] = 500;\n                break;   \n            case 'M':\n                numberArray[i] = 1000;\n                break;       \n        }\n    }\n    calculate(numberArray);\n}\npublic static void calculate(int[] numberArray){\n    int theNumber = 0;\n    for(int n=0;n&lt;numberArray.length;n++){         \n        if(n !=numberArray.length-1 &amp;&amp; numberArray[n] &lt; numberArray[n+1]){\n            numberArray[n+1] = numberArray[n+1] - numberArray[n];\n            numberArray[n] = 0;                        \n        }                 \n    }\n    for(int num:numberArray){\n        theNumber += num;\n    }\n    System.out.println(\"Converted number: \" + theNumber);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4093966,"reputation":1,"user_id":3361272,"display_name":"Yash TIbrewal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393604359,"creation_date":1393516465,"answer_id":22073623,"question_id":9073150,"body_markdown":"    \r\n    //Bet no one has a smaller and easier logic than this........Open CHALLENGE!!!!!!!\r\n    import java.io.*;\r\n    class Convertion_practical_q2\r\n    {\r\n    void Decimal()throws IOException //Smaller code for convertion from roman to decimal\r\n    {\r\n        DataInputStream in=new DataInputStream(System.in);\r\n        System.out.println(&quot;Enter the number&quot;);\r\n        String num=in.readLine();\r\n        char pos[]={&#39;0&#39;,&#39;I&#39;,&#39;V&#39;,&#39;X&#39;,&#39;L&#39;,&#39;C&#39;,&#39;D&#39;,&#39;M&#39;};   \r\n        int l1=7;                           //l1 is size of pos array\r\n        String v[]={&quot;&quot;,&quot;1&quot;,&quot;5&quot;,&quot;10&quot;,&quot;50&quot;,&quot;100&quot;,&quot;500&quot;,&quot;1000&quot;};\r\n        int l=num.length();\r\n        int p=0,p1=0,sum=0;\r\n        \r\n        for(int i=l-1;i&gt;=0;i--)\r\n        {\r\n            char ch=num.charAt(i);\r\n            for(int j=1;j&lt;=l1;j++)\r\n            {\r\n                if(ch==pos[j])\r\n                p=j;\r\n            }\r\n            if(p&gt;=p1)\r\n                sum+=Integer.parseInt(v[p]);\r\n            else\r\n                sum-=Integer.parseInt(v[p]);\r\n                //System.out.println(&quot;sum =&quot;+sum+&quot;\\np=&quot;+p+&quot;\\np1=&quot;+p1);\r\n                p1=p;\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<pre><code>//Bet no one has a smaller and easier logic than this........Open CHALLENGE!!!!!!!\nimport java.io.*;\nclass Convertion_practical_q2\n{\nvoid Decimal()throws IOException //Smaller code for convertion from roman to decimal\n{\n    DataInputStream in=new DataInputStream(System.in);\n    System.out.println(\"Enter the number\");\n    String num=in.readLine();\n    char pos[]={'0','I','V','X','L','C','D','M'};   \n    int l1=7;                           //l1 is size of pos array\n    String v[]={\"\",\"1\",\"5\",\"10\",\"50\",\"100\",\"500\",\"1000\"};\n    int l=num.length();\n    int p=0,p1=0,sum=0;\n\n    for(int i=l-1;i&gt;=0;i--)\n    {\n        char ch=num.charAt(i);\n        for(int j=1;j&lt;=l1;j++)\n        {\n            if(ch==pos[j])\n            p=j;\n        }\n        if(p&gt;=p1)\n            sum+=Integer.parseInt(v[p]);\n        else\n            sum-=Integer.parseInt(v[p]);\n            //System.out.println(\"sum =\"+sum+\"\\np=\"+p+\"\\np1=\"+p1);\n            p1=p;\n    }\n    System.out.println(sum);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1244316,"reputation":1355,"user_id":1206078,"accept_rate":91,"display_name":"Francisco Guti&#233;rrez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1393920327,"creation_date":1393920327,"answer_id":22166191,"question_id":9073150,"body_markdown":"Just got it working in Java, nice job guys.\r\n\r\n        public int getDecimal (String roman) {\r\n    \t\tint decimal = 0;\r\n    \t\tint romanNumber = 0;\r\n    \t\tint prev = 0;\r\n    \t\tfor (int i = roman.length()-1; i &gt;= 0; i--){\r\n    \t\t\tromanNumber = hashRomans.get(roman.charAt(i));\r\n    \t\t\tif(romanNumber &lt; decimal &amp;&amp; romanNumber != prev ){\r\n    \t\t\t\tdecimal -= romanNumber;\r\n    \t\t\t\tprev = romanNumber;\r\n    \t\t\t} else {\r\n    \t\t\t\tdecimal += romanNumber;\r\n    \t\t\t\tprev = romanNumber;\r\n    \t\t\t}\r\n    \t\t} \r\n    \t\treturn decimal;\r\n    \t}","title":"Converting Roman Numerals To Decimal","body":"<p>Just got it working in Java, nice job guys.</p>\n\n<pre><code>    public int getDecimal (String roman) {\n        int decimal = 0;\n        int romanNumber = 0;\n        int prev = 0;\n        for (int i = roman.length()-1; i &gt;= 0; i--){\n            romanNumber = hashRomans.get(roman.charAt(i));\n            if(romanNumber &lt; decimal &amp;&amp; romanNumber != prev ){\n                decimal -= romanNumber;\n                prev = romanNumber;\n            } else {\n                decimal += romanNumber;\n                prev = romanNumber;\n            }\n        } \n        return decimal;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4502195,"reputation":1,"user_id":3660480,"display_name":"Narmadha Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401047781,"creation_date":1401045463,"answer_id":23859028,"question_id":9073150,"body_markdown":"This should work:\r\n\r\n     import java.io.*;\r\n     import java.util.Scanner;\r\n\r\n     enum RomanToNumber {\r\n     i(1), v(5), x(10), l(50), c(100); int value;\r\n     RomanToNumber (int p){value = p;}\r\n     int getValue(){return value;}\r\n     }\r\n\r\n     public class RomanToInteger {\r\n\r\n      public static void main(String[] args){\r\n         RomanToNumber n;\r\n         \r\n         System.out.println( &quot;Type a valid roman number in lower case&quot; );\r\n         \r\n         String Str = new String(new Scanner(System.in).nextLine());\r\n         int n1 = 0, theNo = 0, len = Str.length();\r\n         int[] str2No = new int [len];\r\n         \r\n         for(int i=0; i &lt; len; i++){       \r\n            n = RomanToNumber.valueOf(Str.substring(n1, ++n1));\r\n            str2No[i] = n.getValue();\r\n         }                  \r\n         \r\n         for(int j = 0; j &lt; (len-1); j++){\r\n\r\n            if( str2No[j] &gt;= str2No[j+1] ){ theNo += str2No[j]; }\r\n            else{ theNo -= str2No[j]; }\r\n         \r\n         }\r\n         System.out.println( theNo += str2No[len-1] );            \r\n         }\r\n      }","title":"Converting Roman Numerals To Decimal","body":"<p>This should work:</p>\n\n<pre><code> import java.io.*;\n import java.util.Scanner;\n\n enum RomanToNumber {\n i(1), v(5), x(10), l(50), c(100); int value;\n RomanToNumber (int p){value = p;}\n int getValue(){return value;}\n }\n\n public class RomanToInteger {\n\n  public static void main(String[] args){\n     RomanToNumber n;\n\n     System.out.println( \"Type a valid roman number in lower case\" );\n\n     String Str = new String(new Scanner(System.in).nextLine());\n     int n1 = 0, theNo = 0, len = Str.length();\n     int[] str2No = new int [len];\n\n     for(int i=0; i &lt; len; i++){       \n        n = RomanToNumber.valueOf(Str.substring(n1, ++n1));\n        str2No[i] = n.getValue();\n     }                  \n\n     for(int j = 0; j &lt; (len-1); j++){\n\n        if( str2No[j] &gt;= str2No[j+1] ){ theNo += str2No[j]; }\n        else{ theNo -= str2No[j]; }\n\n     }\n     System.out.println( theNo += str2No[len-1] );            \n     }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":275541,"reputation":2161,"user_id":568471,"accept_rate":100,"display_name":"Viren"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1405468337,"creation_date":1405468008,"answer_id":24769984,"question_id":9073150,"body_markdown":"Since most of the answers here are in Java, I&#39;m posting the answer in C++ (since I am bored right now and nothing more productive to do :) But please, no downvotes except if code is wrong. \r\nKnown-issues = will not handle overflow \r\n\r\nCode:\r\n\r\n    #include &lt;unordered_map&gt;\r\n    int convert_roman_2_int(string&amp; str)\r\n        {\r\n        int ans = 0;\r\n        if( str.length() == 0 )\r\n            {\r\n            return ans;\r\n            }\r\n\r\n        std::unordered_map&lt;char, int&gt; table;\r\n        table[&#39;I&#39;] = 1;\r\n        table[&#39;V&#39;] = 5;\r\n        table[&#39;X&#39;] = 10;\r\n        table[&#39;L&#39;] = 50;\r\n        table[&#39;C&#39;] = 100;\r\n        table[&#39;D&#39;] = 500;\r\n        table[&#39;M&#39;] = 1000;\r\n        \r\n        ans = table[ str[ str.length() - 1 ] ];\r\n        \r\n        for( int i = str.length() - 2; i &gt;= 0; i--)\r\n            {\r\n            if(table[ str[i] ] &lt; table[ str[i+1] ] )\r\n                {\r\n                ans -= table[ str[i] ];\r\n                }\r\n            else\r\n                {\r\n                ans += table[ str[i] ];\r\n                }\r\n            }\r\n            \r\n        return ans;\r\n        }\r\n\r\n// test code\r\n\r\n    void run_test_cases_convert_roman_to_int()\r\n        {\r\n        string roman = &quot;VIII&quot;;\r\n        int r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        \r\n        roman = &quot;XX&quot;;\r\n        r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        \r\n        roman = &quot;CDX&quot;; //410\r\n        r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        \r\n        roman = &quot;MCMXC&quot;; //1990\r\n        r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        \r\n        roman = &quot;MMVIII&quot;; //2008\r\n        r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        \r\n        roman = &quot;MDCLXVI&quot;; //1666\r\n        r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        }","title":"Converting Roman Numerals To Decimal","body":"<p>Since most of the answers here are in Java, I'm posting the answer in C++ (since I am bored right now and nothing more productive to do :) But please, no downvotes except if code is wrong. \nKnown-issues = will not handle overflow </p>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;unordered_map&gt;\nint convert_roman_2_int(string&amp; str)\n    {\n    int ans = 0;\n    if( str.length() == 0 )\n        {\n        return ans;\n        }\n\n    std::unordered_map&lt;char, int&gt; table;\n    table['I'] = 1;\n    table['V'] = 5;\n    table['X'] = 10;\n    table['L'] = 50;\n    table['C'] = 100;\n    table['D'] = 500;\n    table['M'] = 1000;\n\n    ans = table[ str[ str.length() - 1 ] ];\n\n    for( int i = str.length() - 2; i &gt;= 0; i--)\n        {\n        if(table[ str[i] ] &lt; table[ str[i+1] ] )\n            {\n            ans -= table[ str[i] ];\n            }\n        else\n            {\n            ans += table[ str[i] ];\n            }\n        }\n\n    return ans;\n    }\n</code></pre>\n\n<p>// test code</p>\n\n<pre><code>void run_test_cases_convert_roman_to_int()\n    {\n    string roman = \"VIII\";\n    int r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n\n    roman = \"XX\";\n    r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n\n    roman = \"CDX\"; //410\n    r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n\n    roman = \"MCMXC\"; //1990\n    r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n\n    roman = \"MMVIII\"; //2008\n    r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n\n    roman = \"MDCLXVI\"; //1666\n    r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4918053,"reputation":321,"user_id":3961448,"display_name":"batman"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1408558559,"creation_date":1408558559,"answer_id":25411754,"question_id":9073150,"body_markdown":"assuming the hash looks something like this\r\n    \r\n    Hashtable&lt;Character, Integer&gt; ht = new Hashtable&lt;Character, Integer&gt;();\r\n\t\tht.put(&#39;i&#39;,1);\r\n\t\tht.put(&#39;x&#39;,10);\r\n\t\tht.put(&#39;c&#39;,100);\r\n\t\tht.put(&#39;m&#39;,1000);\r\n\t\tht.put(&#39;v&#39;,5);\r\n\t\tht.put(&#39;l&#39;,50);\r\n\t\tht.put(&#39;d&#39;,500);\r\nthen the logic gets pretty simple going by digit right to left\r\n\t\t\t\r\n\r\n    public static int rtoi(String num)\r\n\t{\t\t\r\n        int intNum=0;\r\n\t\tint prev = 0;\r\n\t\tfor(int i = num.length()-1; i&gt;=0 ; i--)\r\n\t\t{\r\n\t\t\t\tint temp = ht.get(num.charAt(i));\r\n\t\t\t\tif(temp &lt; prev)\r\n\t\t\t\t\tintNum-=temp;\r\n\t\t\t\telse\r\n\t\t\t\t\tintNum+=temp;\r\n\t\t\t\tprev = temp;\r\n\t\t}\r\n\t\treturn intNum;\r\n\t}\t","title":"Converting Roman Numerals To Decimal","body":"<p>assuming the hash looks something like this</p>\n\n<pre><code>Hashtable&lt;Character, Integer&gt; ht = new Hashtable&lt;Character, Integer&gt;();\n    ht.put('i',1);\n    ht.put('x',10);\n    ht.put('c',100);\n    ht.put('m',1000);\n    ht.put('v',5);\n    ht.put('l',50);\n    ht.put('d',500);\n</code></pre>\n\n<p>then the logic gets pretty simple going by digit right to left</p>\n\n<pre><code>public static int rtoi(String num)\n{       \n    int intNum=0;\n    int prev = 0;\n    for(int i = num.length()-1; i&gt;=0 ; i--)\n    {\n            int temp = ht.get(num.charAt(i));\n            if(temp &lt; prev)\n                intNum-=temp;\n            else\n                intNum+=temp;\n            prev = temp;\n    }\n    return intNum;\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4621849,"reputation":530,"user_id":3746704,"display_name":"Andr&#233; Schonrock"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503167109,"creation_date":1427119532,"answer_id":29212316,"question_id":9073150,"body_markdown":"    // Author: Francisco Edmundo\r\n    private int translateNumber(String texto) {\r\n\t\tint n = 0;\r\n\t\tint numeralDaDireita = 0;\r\n\t\tfor (int i = texto.length() - 1; i &gt;= 0; i--) {\r\n\t\t\tint valor = (int) translateNumber(texto.charAt(i));\r\n\t\t\tn += valor * Math.signum(valor + 0.5 - numeralDaDireita);\r\n\t\t\tnumeralDaDireita = valor;\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\tprivate double translateNumber(char caractere) {\r\n\t\treturn Math.floor(Math.pow(10, &quot;IXCM&quot;.indexOf(caractere))) + 5 * Math.floor(Math.pow(10, &quot;VLD&quot;.indexOf(caractere)));\r\n\t}","title":"Converting Roman Numerals To Decimal","body":"<pre><code>// Author: Francisco Edmundo\nprivate int translateNumber(String texto) {\n    int n = 0;\n    int numeralDaDireita = 0;\n    for (int i = texto.length() - 1; i &gt;= 0; i--) {\n        int valor = (int) translateNumber(texto.charAt(i));\n        n += valor * Math.signum(valor + 0.5 - numeralDaDireita);\n        numeralDaDireita = valor;\n    }\n    return n;\n}\nprivate double translateNumber(char caractere) {\n    return Math.floor(Math.pow(10, \"IXCM\".indexOf(caractere))) + 5 * Math.floor(Math.pow(10, \"VLD\".indexOf(caractere)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5987370,"reputation":51,"user_id":4704524,"display_name":"Edworld"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1427142614,"creation_date":1427139115,"answer_id":29218799,"question_id":9073150,"body_markdown":"Less code, more efficient. Not so clearer, sorry!\r\n\r\n    public int evaluateRomanNumerals(String roman) {\r\n\t\treturn (int) evaluateNextRomanNumeral(roman, roman.length() - 1, 0);\r\n\t}\r\n\r\n\tprivate double evaluateNextRomanNumeral(String roman, int pos, double rightNumeral) {\r\n\t\tif (pos &lt; 0) return 0;\r\n\t\tchar ch = roman.charAt(pos);\r\n\t\tdouble value = Math.floor(Math.pow(10, &quot;IXCM&quot;.indexOf(ch))) + 5 * Math.floor(Math.pow(10, &quot;VLD&quot;.indexOf(ch)));\r\n\t\treturn value * Math.signum(value + 0.5 - rightNumeral) + evaluateNextRomanNumeral(roman, pos - 1, value);\r\n\t}","title":"Converting Roman Numerals To Decimal","body":"<p>Less code, more efficient. Not so clearer, sorry!</p>\n\n<pre><code>public int evaluateRomanNumerals(String roman) {\n    return (int) evaluateNextRomanNumeral(roman, roman.length() - 1, 0);\n}\n\nprivate double evaluateNextRomanNumeral(String roman, int pos, double rightNumeral) {\n    if (pos &lt; 0) return 0;\n    char ch = roman.charAt(pos);\n    double value = Math.floor(Math.pow(10, \"IXCM\".indexOf(ch))) + 5 * Math.floor(Math.pow(10, \"VLD\".indexOf(ch)));\n    return value * Math.signum(value + 0.5 - rightNumeral) + evaluateNextRomanNumeral(roman, pos - 1, value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5691381,"reputation":261,"user_id":4499365,"accept_rate":0,"display_name":"Amarjit Datta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435567801,"creation_date":1432468947,"answer_id":30423274,"question_id":9073150,"body_markdown":"You can check following code. This code should work on all cases. Also it checks null or empty input and faulty input (Let&#39;s say you tried with ABXI)\r\n\r\n    import java.util.HashMap;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    public class RomanToDecimal {\r\n      private HashMap&lt;Character, Integer&gt; map;\r\n      \r\n      public RomanToDecimal() {\r\n        map = new HashMap&lt;&gt;();\r\n        map.put(&#39;I&#39;, 1);\r\n        map.put(&#39;V&#39;, 5);\r\n        map.put(&#39;X&#39;, 10);\r\n        map.put(&#39;L&#39;, 50);\r\n        map.put(&#39;C&#39;, 100);\r\n        map.put(&#39;D&#39;, 500);\r\n        map.put(&#39;M&#39;, 1000);\r\n      }\r\n      \r\n      private int getRomanNumeralValue(char ch) {\r\n        if (map.containsKey(ch)) {\r\n          return map.get(ch);\r\n        }\r\n        else {\r\n          throw new RuntimeException(&quot;Roman numeral string contains invalid characters &quot; + ch);\r\n        }\r\n      }\r\n      \r\n      public int convertRomanToDecimal(final String pRomanNumeral) {\r\n        if (StringUtils.isBlank(pRomanNumeral)) {\r\n          throw new RuntimeException(&quot;Roman numeral string is either null or empty&quot;);\r\n        }\r\n        else {\r\n          int index = pRomanNumeral.length() - 1;\r\n          int result = getRomanNumeralValue(pRomanNumeral.charAt(index));\r\n          \r\n          for (int i = index - 1; i &gt;= 0; i--) {\r\n            if (getRomanNumeralValue(pRomanNumeral.charAt(i)) &gt;= getRomanNumeralValue(pRomanNumeral.charAt(i + 1))) {\r\n              result = result + getRomanNumeralValue(pRomanNumeral.charAt(i));\r\n            }\r\n            else {\r\n              result = result - getRomanNumeralValue(pRomanNumeral.charAt(i));\r\n            }\r\n          }\r\n          return result;\r\n        }\r\n      }\r\n    public static void main(String... args){\r\n    \t  System.out.println(new RomanToDecimal().convertRomanToDecimal(&quot;XCIX&quot;));\r\n      }\r\n\r\n    }\r\n","title":"Converting Roman Numerals To Decimal","body":"<p>You can check following code. This code should work on all cases. Also it checks null or empty input and faulty input (Let's say you tried with ABXI)</p>\n\n<pre><code>import java.util.HashMap;\nimport org.apache.commons.lang3.StringUtils;\n\npublic class RomanToDecimal {\n  private HashMap&lt;Character, Integer&gt; map;\n\n  public RomanToDecimal() {\n    map = new HashMap&lt;&gt;();\n    map.put('I', 1);\n    map.put('V', 5);\n    map.put('X', 10);\n    map.put('L', 50);\n    map.put('C', 100);\n    map.put('D', 500);\n    map.put('M', 1000);\n  }\n\n  private int getRomanNumeralValue(char ch) {\n    if (map.containsKey(ch)) {\n      return map.get(ch);\n    }\n    else {\n      throw new RuntimeException(\"Roman numeral string contains invalid characters \" + ch);\n    }\n  }\n\n  public int convertRomanToDecimal(final String pRomanNumeral) {\n    if (StringUtils.isBlank(pRomanNumeral)) {\n      throw new RuntimeException(\"Roman numeral string is either null or empty\");\n    }\n    else {\n      int index = pRomanNumeral.length() - 1;\n      int result = getRomanNumeralValue(pRomanNumeral.charAt(index));\n\n      for (int i = index - 1; i &gt;= 0; i--) {\n        if (getRomanNumeralValue(pRomanNumeral.charAt(i)) &gt;= getRomanNumeralValue(pRomanNumeral.charAt(i + 1))) {\n          result = result + getRomanNumeralValue(pRomanNumeral.charAt(i));\n        }\n        else {\n          result = result - getRomanNumeralValue(pRomanNumeral.charAt(i));\n        }\n      }\n      return result;\n    }\n  }\npublic static void main(String... args){\n      System.out.println(new RomanToDecimal().convertRomanToDecimal(\"XCIX\"));\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5604981,"reputation":52,"user_id":4439916,"display_name":"Jitendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439993510,"creation_date":1433791576,"answer_id":30717449,"question_id":9073150,"body_markdown":"this is very basic implementation of what you asked and working for all the test cases. If you find anything wrong in it than do mention it,i will try to make it correct also the code is in C++ .\r\n\r\n\r\n\r\n    int RomanToInt(string s){ \r\n        int len = s.length();\r\n        map&lt;char,int&gt;mp;\r\n        int decimal = 0;\r\n        mp[&#39;I&#39;] = 1;mp[&#39;V&#39;] = 5;mp[&#39;X&#39;] = 10;\r\n        mp[&#39;L&#39;] = 50;mp[&#39;C&#39;] = 100;mp[&#39;D&#39;] = 500;mp[&#39;M&#39;] = 1000;\r\n        for(int i = 0; i &lt; len ;i++){\r\n           char cur = s[i],fast = s[i+1];\r\n           int cur_val = mp[cur],fast_val = mp[fast];\r\n           if(cur_val &lt; fast_val){\r\n              decimal = decimal - cur_val;\r\n           }else{\r\n              decimal += cur_val;\r\n           }\r\n        }\r\n        return decimal;\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>this is very basic implementation of what you asked and working for all the test cases. If you find anything wrong in it than do mention it,i will try to make it correct also the code is in C++ .</p>\n\n<pre><code>int RomanToInt(string s){ \n    int len = s.length();\n    map&lt;char,int&gt;mp;\n    int decimal = 0;\n    mp['I'] = 1;mp['V'] = 5;mp['X'] = 10;\n    mp['L'] = 50;mp['C'] = 100;mp['D'] = 500;mp['M'] = 1000;\n    for(int i = 0; i &lt; len ;i++){\n       char cur = s[i],fast = s[i+1];\n       int cur_val = mp[cur],fast_val = mp[fast];\n       if(cur_val &lt; fast_val){\n          decimal = decimal - cur_val;\n       }else{\n          decimal += cur_val;\n       }\n    }\n    return decimal;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7130298,"reputation":169,"user_id":5719245,"display_name":"Dan Rothman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451206343,"creation_date":1451205404,"answer_id":34478845,"question_id":9073150,"body_markdown":"    public static int convertFromRoman(String romanNumeral)\r\n\t{\r\n\t\tCharacter[] rnChars = { &#39;M&#39;,  &#39;D&#39;, &#39;C&#39;,   &#39;L&#39;,  &#39;X&#39;,  &#39;V&#39;, &#39;I&#39; };\r\n\t\tint[] rnVals = {  1000,  500, 100,  50, 10, 5, 1 };\r\n\t\tHashMap&lt;Character, Integer&gt; valueLookup = new HashMap&lt;Character, Integer&gt;();\r\n\t\tfor (int i = 0; i &lt; rnChars.length;i++)\r\n\t\t\tvalueLookup.put(rnChars[i], rnVals[i]);\r\n\t\tint retVal = 0;\r\n\t\tfor (int i = 0; i &lt; romanNumeral.length();i++)\r\n\t\t{\r\n\t\t\tint addVal = valueLookup.get(romanNumeral.charAt(i));\r\n\t\t\tretVal += i &lt; romanNumeral.length()-1 &amp;&amp; \r\n\t\t\t\t\t  addVal &lt; valueLookup.get(romanNumeral.charAt(i+1))?\r\n\t\t\t\t\t  -addVal:addVal;\r\n\t\t}\r\n\t\treturn retVal;\r\n\t}","title":"Converting Roman Numerals To Decimal","body":"<pre><code>public static int convertFromRoman(String romanNumeral)\n{\n    Character[] rnChars = { 'M',  'D', 'C',   'L',  'X',  'V', 'I' };\n    int[] rnVals = {  1000,  500, 100,  50, 10, 5, 1 };\n    HashMap&lt;Character, Integer&gt; valueLookup = new HashMap&lt;Character, Integer&gt;();\n    for (int i = 0; i &lt; rnChars.length;i++)\n        valueLookup.put(rnChars[i], rnVals[i]);\n    int retVal = 0;\n    for (int i = 0; i &lt; romanNumeral.length();i++)\n    {\n        int addVal = valueLookup.get(romanNumeral.charAt(i));\n        retVal += i &lt; romanNumeral.length()-1 &amp;&amp; \n                  addVal &lt; valueLookup.get(romanNumeral.charAt(i+1))?\n                  -addVal:addVal;\n    }\n    return retVal;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4480570,"reputation":351,"user_id":3644744,"accept_rate":100,"display_name":"Goose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454470212,"creation_date":1454470212,"answer_id":35167974,"question_id":9073150,"body_markdown":"This is a modest variation of the recursive algorithm suggested by Sahtiel:\r\n\r\n    public static int toArabic(String number) throws Exception {\r\n    \tString[] letras = {&quot;M&quot;,&quot;CM&quot;,&quot;D&quot;,&quot;CD&quot;,&quot;C&quot;,&quot;XC&quot;,&quot;L&quot;,&quot;XL&quot;,&quot;X&quot;, &quot;IX&quot;,&quot;V&quot;,&quot;IV&quot;,&quot;I&quot;};\r\n    \tint[] valores = {1000,900,500,400,100,90,50,40,10,9,5,4,1};\r\n        \r\n    \t// here we can do even more business validations like avoiding sequences like XXXXM\r\n    \tif (number==null || number.isEmpty()) {\r\n        \treturn 0;\r\n        }\r\n        for(int i=0; i&lt;letras.length; i++) {\r\n        \tif (number.startsWith(letras[i])) {\r\n        \t\treturn valores[i] + toArabic(number.substring(letras[i].length()));\r\n        \t}\r\n        }\r\n        throw new Exception(&quot;something bad happened&quot;);\r\n    }\r\n\r\nIt uses less than 10 effective lines of code.","title":"Converting Roman Numerals To Decimal","body":"<p>This is a modest variation of the recursive algorithm suggested by Sahtiel:</p>\n\n<pre><code>public static int toArabic(String number) throws Exception {\n    String[] letras = {\"M\",\"CM\",\"D\",\"CD\",\"C\",\"XC\",\"L\",\"XL\",\"X\", \"IX\",\"V\",\"IV\",\"I\"};\n    int[] valores = {1000,900,500,400,100,90,50,40,10,9,5,4,1};\n\n    // here we can do even more business validations like avoiding sequences like XXXXM\n    if (number==null || number.isEmpty()) {\n        return 0;\n    }\n    for(int i=0; i&lt;letras.length; i++) {\n        if (number.startsWith(letras[i])) {\n            return valores[i] + toArabic(number.substring(letras[i].length()));\n        }\n    }\n    throw new Exception(\"something bad happened\");\n}\n</code></pre>\n\n<p>It uses less than 10 effective lines of code.</p>\n"},{"tags":[],"owner":{"account_id":222490,"reputation":417,"user_id":481125,"accept_rate":40,"display_name":"Big O"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468242818,"creation_date":1468242818,"answer_id":38307935,"question_id":9073150,"body_markdown":"Lets look at this problem with 3 different scenarios\r\n\r\n&gt; Scenario 1: \r\n\r\nWhen we see a pattern like the following \r\n\r\n    &#39;IIIIII&#39; or &#39;XXXXX&#39;  or &#39;CCCC&#39;\r\n\r\nwhere all characters as the same: We add the value of each characters in the pattern\r\n\r\n    &#39;IIIIII&#39; gives us &#39;6&#39;\r\n\r\n    &#39;XXXXX&#39; gives us &#39;50&#39;\r\n\r\n    &#39;CCCC&#39; gives us &#39;400&#39;\r\n\r\n&gt; Scenario 2: \r\n\r\nWhen we see any 2 consecutive characters different where first is smaller in value then the 2nd\r\n\r\n    &#39;IX&#39; or &#39;XC&#39;\r\n\r\nWe subtract the value of first from second e.g.\r\n\r\n    second:&#39;X&#39; gives us &#39;10&#39;\r\n\r\n    first: &#39;I&#39; gives us &#39;1&#39;\r\n\r\n    second  - first :  10 - 1 = 9\r\n\r\n\r\n&gt; Scenario 3: \r\n\r\nWhen we see a any 2 consecutive characters different where first is greater in value then the second\r\n\r\n    &#39;XI&#39; or &#39;CX&#39;\r\n\r\nWe add first and second e.g.\r\n\r\n    second:&#39;I&#39; gives us &#39;10&#39;\r\n    first: &#39;X&#39; gives us &#39;1&#39;\r\n    first  + second :  10 +  1 = 11\r\n\r\nNow we can find the result if we do this recursively.\r\nHere is the java implementation :\r\n\r\n\t//An array to be used for faster comparisons and reading the values\r\n\tprivate int[] letters26 = new int[26];\r\n\tprivate void init () {\r\n\t\tletters26[&#39;I&#39; - &#39;A&#39;] = 1;\r\n\t\tletters26[&#39;V&#39; - &#39;A&#39;] = 5;\r\n\t\tletters26[&#39;X&#39; - &#39;A&#39;] = 10;\r\n\t\tletters26[&#39;L&#39; - &#39;A&#39;] = 50;\r\n\t\tletters26[&#39;C&#39; - &#39;A&#39;] = 100;\r\n\t\tletters26[&#39;D&#39; - &#39;A&#39;] = 500;\r\n\t\tletters26[&#39;M&#39; - &#39;A&#39;] = 1000;\r\n\t}\r\n\t\r\n\tpublic int convertRomanToInteger(String s) {\r\n\t\t//Initialize the array\r\n\t\tinit();\r\n\t\treturn _convertRomanToInteger(s.toCharArray(), 0);\r\n\t}\r\n\r\n\t//Recursively  calls itself as long as 2 consecutive chars are different\r\n\tprivate int _convertRomanToInteger(char[] s, int index) {\r\n\t\tint ret = 0;\r\n\t\tchar pre = s[index];//Char from the given index\r\n\t\tret = _getValue(pre);\r\n\r\n\t\t//Iterate through the rest of the string \r\n\t\tfor (int i = index + 1; i &lt; s.length; i++) {\r\n\t\t\tif (compare(s[i], s[i - 1]) == 0) {\r\n                //Scenario 1:\r\n\t\t\t\t//If 2 consecutive chars are similar, just add them\t\t\t\t\r\n\t\t\t\tret += _getValue(s[i]);\r\n\t\t\t} else if (compare(s[i], s[i - 1]) &gt; 0) {\r\n                //Scenario 2:\r\n\t\t\t\t//If current char is greater than the previous e.g IX (&#39;I&#39; s[i - 1] and &#39;X&#39; s[i - 1])\r\n\t\t\t\t//We need to calculate starting from &#39;i&#39; and subtract the calculation (&#39;ret&#39;) \r\n\t\t\t\t//done so far in current call\r\n\t\t\t\treturn _convertRomanToInteger(s, i) - ret;\r\n\t\t\t} else {\r\n                //Scenario 3:\r\n\t\t\t\t//If current char is smaller than the previous e.g XI (&#39;X&#39; s[i - 1] and &#39;I&#39; s[i - 1])\r\n\t\t\t\t//We need to calculate starting from &#39;i&#39; and subtract the result \r\n\t\t\t\t//from the calculation done so far in current call\r\n\t\t\t\treturn ret + _convertRomanToInteger(s, i);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t//Helper function for comparison\r\n\tprivate int compare(char a, char b) {\r\n\t\treturn letters26[Character.toUpperCase(a) - &#39;A&#39;]\r\n\t\t\t\t- letters26[Character.toUpperCase(b) - &#39;A&#39;];\r\n\t}\r\n\r\n\tprivate int _getValue(char c) {\r\n\t\treturn letters26[Character.toUpperCase(c) - &#39;A&#39;]; \r\n\t}","title":"Converting Roman Numerals To Decimal","body":"<p>Lets look at this problem with 3 different scenarios</p>\n\n<blockquote>\n  <p>Scenario 1: </p>\n</blockquote>\n\n<p>When we see a pattern like the following </p>\n\n<pre><code>'IIIIII' or 'XXXXX'  or 'CCCC'\n</code></pre>\n\n<p>where all characters as the same: We add the value of each characters in the pattern</p>\n\n<pre><code>'IIIIII' gives us '6'\n\n'XXXXX' gives us '50'\n\n'CCCC' gives us '400'\n</code></pre>\n\n<blockquote>\n  <p>Scenario 2: </p>\n</blockquote>\n\n<p>When we see any 2 consecutive characters different where first is smaller in value then the 2nd</p>\n\n<pre><code>'IX' or 'XC'\n</code></pre>\n\n<p>We subtract the value of first from second e.g.</p>\n\n<pre><code>second:'X' gives us '10'\n\nfirst: 'I' gives us '1'\n\nsecond  - first :  10 - 1 = 9\n</code></pre>\n\n<blockquote>\n  <p>Scenario 3: </p>\n</blockquote>\n\n<p>When we see a any 2 consecutive characters different where first is greater in value then the second</p>\n\n<pre><code>'XI' or 'CX'\n</code></pre>\n\n<p>We add first and second e.g.</p>\n\n<pre><code>second:'I' gives us '10'\nfirst: 'X' gives us '1'\nfirst  + second :  10 +  1 = 11\n</code></pre>\n\n<p>Now we can find the result if we do this recursively.\nHere is the java implementation :</p>\n\n<pre><code>//An array to be used for faster comparisons and reading the values\nprivate int[] letters26 = new int[26];\nprivate void init () {\n    letters26['I' - 'A'] = 1;\n    letters26['V' - 'A'] = 5;\n    letters26['X' - 'A'] = 10;\n    letters26['L' - 'A'] = 50;\n    letters26['C' - 'A'] = 100;\n    letters26['D' - 'A'] = 500;\n    letters26['M' - 'A'] = 1000;\n}\n\npublic int convertRomanToInteger(String s) {\n    //Initialize the array\n    init();\n    return _convertRomanToInteger(s.toCharArray(), 0);\n}\n\n//Recursively  calls itself as long as 2 consecutive chars are different\nprivate int _convertRomanToInteger(char[] s, int index) {\n    int ret = 0;\n    char pre = s[index];//Char from the given index\n    ret = _getValue(pre);\n\n    //Iterate through the rest of the string \n    for (int i = index + 1; i &lt; s.length; i++) {\n        if (compare(s[i], s[i - 1]) == 0) {\n            //Scenario 1:\n            //If 2 consecutive chars are similar, just add them             \n            ret += _getValue(s[i]);\n        } else if (compare(s[i], s[i - 1]) &gt; 0) {\n            //Scenario 2:\n            //If current char is greater than the previous e.g IX ('I' s[i - 1] and 'X' s[i - 1])\n            //We need to calculate starting from 'i' and subtract the calculation ('ret') \n            //done so far in current call\n            return _convertRomanToInteger(s, i) - ret;\n        } else {\n            //Scenario 3:\n            //If current char is smaller than the previous e.g XI ('X' s[i - 1] and 'I' s[i - 1])\n            //We need to calculate starting from 'i' and subtract the result \n            //from the calculation done so far in current call\n            return ret + _convertRomanToInteger(s, i);\n        }\n    }\n    return ret;\n}\n\n//Helper function for comparison\nprivate int compare(char a, char b) {\n    return letters26[Character.toUpperCase(a) - 'A']\n            - letters26[Character.toUpperCase(b) - 'A'];\n}\n\nprivate int _getValue(char c) {\n    return letters26[Character.toUpperCase(c) - 'A']; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2664475,"reputation":766,"user_id":2303325,"accept_rate":87,"display_name":"user2303325"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579227490,"creation_date":1471969080,"answer_id":39106229,"question_id":9073150,"body_markdown":"For converting TO arabic, it works as follows: \r\n\r\ngrab the rightmost unchecked character and convert it to its numeric value using the map. If this value is less than the &quot;top&quot; value we&#39;ve seen so far, then it needs to be subtracting (e.g. IV needs to be 4, not 6), otherwise we add the value to the total and make it the new top value we&#39;ve seen so far. So, for instance, XIX works like follows: &#39;X&#39; is checked and comes out to be value of 10. That is higher than the &quot;top&quot; value seen so far, so it becomes &quot;top&quot; and we add 10 to the value. Then go to the next character and &quot;I&quot; is &lt; 10, so subtract\r\n\r\n\r\n\r\n    public class RomanNumeral {\r\n\r\n\tprivate final Map&lt;Integer, String&gt; arabicToRoman = new LinkedHashMap&lt;Integer, String&gt;();\r\n\tprivate final Map&lt;String, Integer&gt; romanToArabic = new LinkedHashMap&lt;String, Integer&gt;();\r\n\t\r\n\tpublic RomanNumeral() {\r\n\t\tarabicToRoman.put(10, &quot;X&quot;);\r\n\t\tarabicToRoman.put(9, &quot;IX&quot;);\r\n\t\tarabicToRoman.put(5, &quot;V&quot;);\r\n\t\tarabicToRoman.put(4, &quot;IV&quot;);\r\n\t\tarabicToRoman.put(1, &quot;I&quot;);\r\n\t\tromanToArabic.put(&quot;X&quot;, 10);\r\n\t\tromanToArabic.put(&quot;V&quot;, 5);\r\n\t\tromanToArabic.put(&quot;I&quot;, 1);\r\n\t}\r\n\t\r\n\tpublic String convertToRomanNumeral(int number) {\r\n\t\tString result = &quot;&quot;;\r\n\r\n\t\tfor (Integer i : arabicToRoman.keySet()) {\r\n\t\t\twhile (number &gt;= i) {\r\n\t\t\t\tresult += arabicToRoman.get(i);\r\n\t\t\t\tnumber -= i;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic String convertToArabicNumber(String romanNumeral) {\r\n\t\tint result = 0;\r\n\t\t\r\n\t\tint top = 0;\r\n\t\tfor (int i = romanNumeral.length() - 1; i &gt;= 0; i--) {\r\n\t\t\tchar current = romanNumeral.charAt(i);\r\n\t\t\tint value = romanToArabic.get(&quot;&quot; + current);\r\n\t\t\tif (value &lt; top) {\r\n\t\t\t\tresult -= value;\r\n\t\t\t} else {\r\n\t\t\t\tresult += value;\r\n\t\t\t\ttop = value;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn &quot;&quot; + result;\r\n\t}\r\n\r\n    }\r\n","title":"Converting Roman Numerals To Decimal","body":"<p>For converting TO arabic, it works as follows: </p>\n\n<p>grab the rightmost unchecked character and convert it to its numeric value using the map. If this value is less than the \"top\" value we've seen so far, then it needs to be subtracting (e.g. IV needs to be 4, not 6), otherwise we add the value to the total and make it the new top value we've seen so far. So, for instance, XIX works like follows: 'X' is checked and comes out to be value of 10. That is higher than the \"top\" value seen so far, so it becomes \"top\" and we add 10 to the value. Then go to the next character and \"I\" is &lt; 10, so subtract</p>\n\n<pre><code>public class RomanNumeral {\n\nprivate final Map&lt;Integer, String&gt; arabicToRoman = new LinkedHashMap&lt;Integer, String&gt;();\nprivate final Map&lt;String, Integer&gt; romanToArabic = new LinkedHashMap&lt;String, Integer&gt;();\n\npublic RomanNumeral() {\n    arabicToRoman.put(10, \"X\");\n    arabicToRoman.put(9, \"IX\");\n    arabicToRoman.put(5, \"V\");\n    arabicToRoman.put(4, \"IV\");\n    arabicToRoman.put(1, \"I\");\n    romanToArabic.put(\"X\", 10);\n    romanToArabic.put(\"V\", 5);\n    romanToArabic.put(\"I\", 1);\n}\n\npublic String convertToRomanNumeral(int number) {\n    String result = \"\";\n\n    for (Integer i : arabicToRoman.keySet()) {\n        while (number &gt;= i) {\n            result += arabicToRoman.get(i);\n            number -= i;\n        }\n    }\n\n    return result;\n}\n\npublic String convertToArabicNumber(String romanNumeral) {\n    int result = 0;\n\n    int top = 0;\n    for (int i = romanNumeral.length() - 1; i &gt;= 0; i--) {\n        char current = romanNumeral.charAt(i);\n        int value = romanToArabic.get(\"\" + current);\n        if (value &lt; top) {\n            result -= value;\n        } else {\n            result += value;\n            top = value;\n        }\n    }\n\n    return \"\" + result;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4937542,"reputation":1568,"user_id":3975247,"accept_rate":68,"display_name":"GA1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492001109,"creation_date":1492001109,"answer_id":43369934,"question_id":9073150,"body_markdown":"This `scala` solution might be useful:\r\n    \r\n    \r\n    class RomanNumberConverter {\r\n    \r\n      private val toArabic = Map(&#39;I&#39; -&gt; 1, &#39;V&#39; -&gt; 5, &#39;X&#39; -&gt; 10, &#39;L&#39; -&gt; 50, &#39;C&#39; -&gt; 100, &#39;D&#39; -&gt; 500, &#39;M&#39; -&gt; 1000)\r\n\r\n      // assume that correct roman number is provided\r\n      def convert(romanNumber: String): Int = {\r\n        def convert(rn: StringBuilder, lastDecimal: Int, acc: Int): Int = {\r\n          if (rn.isEmpty) acc\r\n          else {\r\n            val thisDecimal = toArabic(rn.head)\r\n            if (thisDecimal &gt; lastDecimal) convert(rn.tail, thisDecimal, acc + thisDecimal - lastDecimal - lastDecimal)\r\n            else convert(rn.tail, thisDecimal, acc + thisDecimal)\r\n          }\r\n        }\r\n    \r\n        val sb = new StringBuilder(romanNumber)\r\n        convert(sb.tail, toArabic(sb.head), toArabic(sb.head))\r\n      }\r\n    \r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>This <code>scala</code> solution might be useful:</p>\n\n<pre><code>class RomanNumberConverter {\n\n  private val toArabic = Map('I' -&gt; 1, 'V' -&gt; 5, 'X' -&gt; 10, 'L' -&gt; 50, 'C' -&gt; 100, 'D' -&gt; 500, 'M' -&gt; 1000)\n\n  // assume that correct roman number is provided\n  def convert(romanNumber: String): Int = {\n    def convert(rn: StringBuilder, lastDecimal: Int, acc: Int): Int = {\n      if (rn.isEmpty) acc\n      else {\n        val thisDecimal = toArabic(rn.head)\n        if (thisDecimal &gt; lastDecimal) convert(rn.tail, thisDecimal, acc + thisDecimal - lastDecimal - lastDecimal)\n        else convert(rn.tail, thisDecimal, acc + thisDecimal)\n      }\n    }\n\n    val sb = new StringBuilder(romanNumber)\n    convert(sb.tail, toArabic(sb.head), toArabic(sb.head))\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":426075,"reputation":1013,"user_id":807077,"display_name":"Michelin Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521132814,"creation_date":1521132814,"answer_id":49305074,"question_id":9073150,"body_markdown":"Solution using tail recursion:\r\n\r\n    import java.util.LinkedHashMap;\r\n\r\n    public class RomanNumber {\r\n\r\n    private final static LinkedHashMap&lt;String, Integer&gt; roman2number = new LinkedHashMap&lt;&gt;(); // preserve key order\r\n\r\n    static {\r\n        roman2number.put(&quot;M&quot;, 1000);\r\n        roman2number.put(&quot;CM&quot;, 900);\r\n        roman2number.put(&quot;D&quot;, 500);\r\n        roman2number.put(&quot;CD&quot;, 400);\r\n        roman2number.put(&quot;C&quot;, 100);\r\n        roman2number.put(&quot;XC&quot;, 90);\r\n        roman2number.put(&quot;L&quot;, 50);\r\n        roman2number.put(&quot;XL&quot;, 40);\r\n        roman2number.put(&quot;X&quot;, 10);\r\n        roman2number.put(&quot;IX&quot;, 9);\r\n        roman2number.put(&quot;V&quot;, 5);\r\n        roman2number.put(&quot;IV&quot;, 4);\r\n        roman2number.put(&quot;I&quot;, 1);\r\n    }\r\n\r\n    public final static Integer toDecimal(String roman) {\r\n        for (String key : roman2number.keySet()) {\r\n            if (roman.startsWith(key)) {\r\n                if (roman.equals(key)) {\r\n                    return roman2number.get(key);\r\n                }\r\n                return roman2number.get(key) + toDecimal(roman.substring(key.length()));\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    }\r\n\r\nTesting:\r\n\r\n    import junitparams.JUnitParamsRunner;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import junitparams.Parameters;\r\n    import static org.junit.Assert.assertTrue;\r\n\r\n    @RunWith(JUnitParamsRunner.class)\r\n    public class RomanNumberTest {\r\n\r\n    @Test\r\n    @Parameters({ &quot;1|I&quot;, &quot;2|II&quot;, &quot;3|III&quot;, &quot;4|IV&quot;, &quot;5|V&quot;, &quot;6|VI&quot;, &quot;7|VII&quot;, &quot;8|VIII&quot;, &quot;9|IX&quot;, &quot;10|X&quot;,\r\n            &quot;11|XI&quot;, &quot;12|XII&quot;, &quot;13|XIII&quot;, &quot;14|XIV&quot;, &quot;15|XV&quot;, &quot;16|XVI&quot;, &quot;17|XVII&quot;, &quot;18|XVIII&quot;, &quot;19|XIX&quot;,\r\n            &quot;20|XX&quot;, &quot;50|L&quot;, &quot;53|LIII&quot;, &quot;57|LVII&quot;, &quot;40|XL&quot;, &quot;49|XLIX&quot;, &quot;59|LIX&quot;, &quot;79|LXXIX&quot;, &quot;100|C&quot;, &quot;90|XC&quot;, &quot;99|XCIX&quot;,\r\n            &quot;200|CC&quot;, &quot;500|D&quot;, &quot;499|CDXCIX&quot;, &quot;999|CMXCIX&quot;, &quot;2999|MMCMXCIX&quot;, &quot;3999|MMMCMXCIX&quot;\r\n    })\r\n    public void forRomanReturnsNumber(int number, String roman) {\r\n        assertTrue(roman + &quot;-&gt;&quot; + number, RomanNumber.toDecimal(roman) == (number));\r\n    }\r\n\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>Solution using tail recursion:</p>\n\n<pre><code>import java.util.LinkedHashMap;\n\npublic class RomanNumber {\n\nprivate final static LinkedHashMap&lt;String, Integer&gt; roman2number = new LinkedHashMap&lt;&gt;(); // preserve key order\n\nstatic {\n    roman2number.put(\"M\", 1000);\n    roman2number.put(\"CM\", 900);\n    roman2number.put(\"D\", 500);\n    roman2number.put(\"CD\", 400);\n    roman2number.put(\"C\", 100);\n    roman2number.put(\"XC\", 90);\n    roman2number.put(\"L\", 50);\n    roman2number.put(\"XL\", 40);\n    roman2number.put(\"X\", 10);\n    roman2number.put(\"IX\", 9);\n    roman2number.put(\"V\", 5);\n    roman2number.put(\"IV\", 4);\n    roman2number.put(\"I\", 1);\n}\n\npublic final static Integer toDecimal(String roman) {\n    for (String key : roman2number.keySet()) {\n        if (roman.startsWith(key)) {\n            if (roman.equals(key)) {\n                return roman2number.get(key);\n            }\n            return roman2number.get(key) + toDecimal(roman.substring(key.length()));\n        }\n    }\n    return 0;\n}\n}\n</code></pre>\n\n<p>Testing:</p>\n\n<pre><code>import junitparams.JUnitParamsRunner;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport junitparams.Parameters;\nimport static org.junit.Assert.assertTrue;\n\n@RunWith(JUnitParamsRunner.class)\npublic class RomanNumberTest {\n\n@Test\n@Parameters({ \"1|I\", \"2|II\", \"3|III\", \"4|IV\", \"5|V\", \"6|VI\", \"7|VII\", \"8|VIII\", \"9|IX\", \"10|X\",\n        \"11|XI\", \"12|XII\", \"13|XIII\", \"14|XIV\", \"15|XV\", \"16|XVI\", \"17|XVII\", \"18|XVIII\", \"19|XIX\",\n        \"20|XX\", \"50|L\", \"53|LIII\", \"57|LVII\", \"40|XL\", \"49|XLIX\", \"59|LIX\", \"79|LXXIX\", \"100|C\", \"90|XC\", \"99|XCIX\",\n        \"200|CC\", \"500|D\", \"499|CDXCIX\", \"999|CMXCIX\", \"2999|MMCMXCIX\", \"3999|MMMCMXCIX\"\n})\npublic void forRomanReturnsNumber(int number, String roman) {\n    assertTrue(roman + \"-&gt;\" + number, RomanNumber.toDecimal(roman) == (number));\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11436891,"reputation":189,"user_id":8384017,"accept_rate":0,"display_name":"salma209"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1527879905,"creation_date":1527879905,"answer_id":50649684,"question_id":9073150,"body_markdown":"Here is my one...\r\n\r\n\r\n    import java.util.Scanner;\r\n    class Solution {\r\n    \r\n    public static void main(String args[]) {\r\n        \r\n         Scanner sc = new Scanner(System.in);\r\n\r\n        String num;\r\n\r\n       //  System.out.println(&quot;enter the number you want to convert from roman to integer.&quot;);\r\n\r\n         num = &quot;D&quot;;\r\n        System.out.println(&quot;length of string is &quot; + num.length());\r\n\r\n        System.out.println(&quot;the integer number is :&quot; + romanToInt(num) );\r\n    }\r\n   \r\n    public static int romanToInt(String s) {\r\n      \r\n        char I,V, X, L,C, D, M;\r\n        \r\n        char c1,c3, c2 = s.charAt(0);\r\n       // System.out.println(&quot;the c2 is : &quot; + (int)c2);\r\n        int num = 0, num1 = 0;\r\n        int j =0, k = 0, temp = 0;\r\n        \r\n         if (c2 == &#39;I&#39;) {\r\n                k = (int)c2 - 72;\r\n                System.out.println(&quot;k is I&quot; + k);\r\n            } else if(c2 == &#39;V&#39;) {\r\n                k = (int)c2 - 81;\r\n                System.out.println(&quot;K is V&quot; + k);\r\n               // return 86 - 81;\r\n            } else if (c2 == &#39;X&#39;) {\r\n                 k = (int)c2 - 78;\r\n                System.out.println(&quot;K is X&quot; + k);\r\n            } else if (c2 == &#39;L&#39;) {\r\n                k = (int)c2 - 26;\r\n                System.out.println(&quot;K is L&quot; + k);\r\n            } else if (c2 == &#39;C&#39;) {\r\n                k = (int)c2 + 33;\r\n                System.out.println(&quot;K is C&quot; + k);\r\n            } else if (c2 == &#39;D&#39;) {\r\n                 k = (int)c2 + 432;\r\n                System.out.println(&quot;K is D&quot; + k);\r\n            } else if ( c2 == &#39;M&#39;) {\r\n                 k = (int)c2 + 923;\r\n                System.out.println(&quot;K is M&quot; + k);\r\n            }\r\n         if (s.length() == 1){\r\n             num = k;\r\n           \r\n         } else {\r\n               for(int i = 1; i&lt;= s.length()-1  ; i++) {\r\n            System.out.println(&quot;i is : &quot; + i);\r\n             c1 = s.charAt(i);\r\n            if (i == s.length() - 1) {\r\n               temp = 0; \r\n            } else  {\r\n                 c3 = s.charAt(i+1);\r\n                 if (c3 == &#39;I&#39;) {\r\n               \r\n                temp = (int)c3 - 72;\r\n                System.out.println(&quot;temp is I &quot; + temp);\r\n            } else if(c3 == &#39;V&#39;) {\r\n                temp = (int)c3 - 81;\r\n                System.out.println(&quot;temp is I &quot; + temp);\r\n               // return 86 - 81;\r\n            } else if (c3 == &#39;X&#39;) {\r\n                 temp = (int)c3 - 78;\r\n                 System.out.println(&quot;temp is I &quot; + temp);\r\n            } else if (c3 == &#39;L&#39;) {\r\n                temp = (int)c3 - 26;\r\n                 System.out.println(&quot;temp is I &quot; + temp);\r\n            } else if (c3 == &#39;C&#39;) {\r\n                temp = (int)c3 + 33;\r\n                System.out.println(&quot;temp is I &quot; + temp);\r\n            } else if (c3 == &#39;D&#39;) {\r\n                 temp = (int)c3 + 432;\r\n                 System.out.println(&quot;temp is I &quot; + temp);\r\n            } else if ( c3 == &#39;M&#39;) {\r\n                 temp = (int)c3 + 923;\r\n                 System.out.println(&quot;temp is I &quot; + temp);\r\n            }\r\n            }\r\n           \r\n             \r\n            if (c1 == &#39;I&#39;) {\r\n               \r\n                j = (int)c1 - 72;\r\n                System.out.println(&quot;j is I &quot; + j);\r\n            } else if(c1 == &#39;V&#39;) {\r\n                j = (int)c1 - 81;\r\n                System.out.println(&quot;j is V &quot; + j);\r\n               // return 86 - 81;\r\n            } else if (c1 == &#39;X&#39;) {\r\n                 j = (int)c1 - 78;\r\n                System.out.println(&quot;j is X &quot; + j);\r\n            } else if (c1 == &#39;L&#39;) {\r\n                j = (int)c1 - 26;\r\n                System.out.println(&quot;j is L &quot; + j);\r\n            } else if (c1 == &#39;C&#39;) {\r\n                j = (int)c1 + 33;\r\n                System.out.println(&quot;j is C &quot; + j);\r\n            } else if (c1 == &#39;D&#39;) {\r\n                 j = (int)c1 + 432;\r\n                System.out.println(&quot;j is D &quot; + j);\r\n            } else if ( c1 == &#39;M&#39;) {\r\n                 j = (int)c1 + 923;\r\n                System.out.println(&quot;j is M &quot; + j);\r\n            }\r\n    \r\n            if ( k &lt; j &amp;&amp; j&gt;temp ) {\r\n               k = j - k ;\r\n              num = num + k;\r\n          \r\n              \r\n            } else if (j==k || j&lt;k || j&lt;temp){\r\n             \r\n                   num = num + k ; \r\n               //   k = j;\r\n            }\r\n            \r\n            if (j&gt;k ) {\r\n                k = temp;\r\n                i += 1;\r\n              \r\n                if (i == s.length()-1) {\r\n                    num = num + k;\r\n                }\r\n            } else {\r\n                k = j;\r\n                if (i == s.length()-1) {\r\n                    num = num + k;\r\n                }\r\n            \r\n            }\r\n       \r\n            \r\n        \r\n         }\r\n           \r\n      }   \r\n        \r\n        return num;                         \r\n       }\r\n    \r\n    }\r\n\r\n","title":"Converting Roman Numerals To Decimal","body":"<p>Here is my one...</p>\n\n<pre><code>import java.util.Scanner;\nclass Solution {\n\npublic static void main(String args[]) {\n\n     Scanner sc = new Scanner(System.in);\n\n    String num;\n\n   //  System.out.println(\"enter the number you want to convert from roman to integer.\");\n\n     num = \"D\";\n    System.out.println(\"length of string is \" + num.length());\n\n    System.out.println(\"the integer number is :\" + romanToInt(num) );\n}\n\npublic static int romanToInt(String s) {\n\n    char I,V, X, L,C, D, M;\n\n    char c1,c3, c2 = s.charAt(0);\n   // System.out.println(\"the c2 is : \" + (int)c2);\n    int num = 0, num1 = 0;\n    int j =0, k = 0, temp = 0;\n\n     if (c2 == 'I') {\n            k = (int)c2 - 72;\n            System.out.println(\"k is I\" + k);\n        } else if(c2 == 'V') {\n            k = (int)c2 - 81;\n            System.out.println(\"K is V\" + k);\n           // return 86 - 81;\n        } else if (c2 == 'X') {\n             k = (int)c2 - 78;\n            System.out.println(\"K is X\" + k);\n        } else if (c2 == 'L') {\n            k = (int)c2 - 26;\n            System.out.println(\"K is L\" + k);\n        } else if (c2 == 'C') {\n            k = (int)c2 + 33;\n            System.out.println(\"K is C\" + k);\n        } else if (c2 == 'D') {\n             k = (int)c2 + 432;\n            System.out.println(\"K is D\" + k);\n        } else if ( c2 == 'M') {\n             k = (int)c2 + 923;\n            System.out.println(\"K is M\" + k);\n        }\n     if (s.length() == 1){\n         num = k;\n\n     } else {\n           for(int i = 1; i&lt;= s.length()-1  ; i++) {\n        System.out.println(\"i is : \" + i);\n         c1 = s.charAt(i);\n        if (i == s.length() - 1) {\n           temp = 0; \n        } else  {\n             c3 = s.charAt(i+1);\n             if (c3 == 'I') {\n\n            temp = (int)c3 - 72;\n            System.out.println(\"temp is I \" + temp);\n        } else if(c3 == 'V') {\n            temp = (int)c3 - 81;\n            System.out.println(\"temp is I \" + temp);\n           // return 86 - 81;\n        } else if (c3 == 'X') {\n             temp = (int)c3 - 78;\n             System.out.println(\"temp is I \" + temp);\n        } else if (c3 == 'L') {\n            temp = (int)c3 - 26;\n             System.out.println(\"temp is I \" + temp);\n        } else if (c3 == 'C') {\n            temp = (int)c3 + 33;\n            System.out.println(\"temp is I \" + temp);\n        } else if (c3 == 'D') {\n             temp = (int)c3 + 432;\n             System.out.println(\"temp is I \" + temp);\n        } else if ( c3 == 'M') {\n             temp = (int)c3 + 923;\n             System.out.println(\"temp is I \" + temp);\n        }\n        }\n\n\n        if (c1 == 'I') {\n\n            j = (int)c1 - 72;\n            System.out.println(\"j is I \" + j);\n        } else if(c1 == 'V') {\n            j = (int)c1 - 81;\n            System.out.println(\"j is V \" + j);\n           // return 86 - 81;\n        } else if (c1 == 'X') {\n             j = (int)c1 - 78;\n            System.out.println(\"j is X \" + j);\n        } else if (c1 == 'L') {\n            j = (int)c1 - 26;\n            System.out.println(\"j is L \" + j);\n        } else if (c1 == 'C') {\n            j = (int)c1 + 33;\n            System.out.println(\"j is C \" + j);\n        } else if (c1 == 'D') {\n             j = (int)c1 + 432;\n            System.out.println(\"j is D \" + j);\n        } else if ( c1 == 'M') {\n             j = (int)c1 + 923;\n            System.out.println(\"j is M \" + j);\n        }\n\n        if ( k &lt; j &amp;&amp; j&gt;temp ) {\n           k = j - k ;\n          num = num + k;\n\n\n        } else if (j==k || j&lt;k || j&lt;temp){\n\n               num = num + k ; \n           //   k = j;\n        }\n\n        if (j&gt;k ) {\n            k = temp;\n            i += 1;\n\n            if (i == s.length()-1) {\n                num = num + k;\n            }\n        } else {\n            k = j;\n            if (i == s.length()-1) {\n                num = num + k;\n            }\n\n        }\n\n\n\n     }\n\n  }   \n\n    return num;                         \n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1289085,"reputation":474,"user_id":1241541,"accept_rate":46,"display_name":"redgiant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531454866,"creation_date":1531454866,"answer_id":51317502,"question_id":9073150,"body_markdown":"Full version with error checking and test all valid values in both directions (and some invalid cases).\r\n\r\n**RomanNumeral.java**\r\n \r\n    import java.util.ArrayList;\r\n    import java.util.TreeMap;\r\n    \r\n    /**\r\n     * Convert to and from a roman numeral string\r\n     */\r\n    public class RomanNumeral {\r\n    \r\n        // used for converting from arabic number\r\n        final static TreeMap&lt;Integer, String&gt; mapArabic = new TreeMap&lt;Integer, String&gt;();\r\n        // used for converting from roman numeral\r\n        final static ArrayList&lt;RomanDigit&gt; mapRoman = new ArrayList&lt;RomanDigit&gt;();\r\n        final static int MAX_ARABIC = 3999;\r\n    \r\n        static {\r\n            mapArabic.put(1000, &quot;M&quot;);\r\n            mapArabic.put(900, &quot;CM&quot;);\r\n            mapArabic.put(500, &quot;D&quot;);\r\n            mapArabic.put(400, &quot;CD&quot;);\r\n            mapArabic.put(100, &quot;C&quot;);\r\n            mapArabic.put(90, &quot;XC&quot;);\r\n            mapArabic.put(50, &quot;L&quot;);\r\n            mapArabic.put(40, &quot;XL&quot;);\r\n            mapArabic.put(10, &quot;X&quot;);\r\n            mapArabic.put(9, &quot;IX&quot;);\r\n            mapArabic.put(5, &quot;V&quot;);\r\n            mapArabic.put(4, &quot;IV&quot;);\r\n            mapArabic.put(1, &quot;I&quot;);\r\n    \r\n            mapRoman.add(new RomanDigit(&quot;M&quot;, 1000, 3, 1000));\r\n            mapRoman.add(new RomanDigit(&quot;CM&quot;, 900, 1, 90));\r\n            mapRoman.add(new RomanDigit(&quot;D&quot;, 500, 1, 100));\r\n            mapRoman.add(new RomanDigit(&quot;CD&quot;, 400, 1, 90));\r\n            mapRoman.add(new RomanDigit(&quot;C&quot;, 100, 3, 100));\r\n            mapRoman.add(new RomanDigit(&quot;XC&quot;, 90, 1, 9));\r\n            mapRoman.add(new RomanDigit(&quot;L&quot;, 50, 1, 10));\r\n            mapRoman.add(new RomanDigit(&quot;XL&quot;, 40, 1, 9));\r\n            mapRoman.add(new RomanDigit(&quot;X&quot;, 10, 3, 10));\r\n            mapRoman.add(new RomanDigit(&quot;IX&quot;, 9, 1, 0));\r\n            mapRoman.add(new RomanDigit(&quot;V&quot;, 5, 1, 1));\r\n            mapRoman.add(new RomanDigit(&quot;IV&quot;, 4, 1, 0));\r\n            mapRoman.add(new RomanDigit(&quot;I&quot;, 1, 3, 1));\r\n        }\r\n    \r\n        static final class RomanDigit {\r\n            public final String numeral;\r\n            public final int value;\r\n            public final int maxConsecutive;\r\n            public final int maxNextValue;\r\n    \r\n            public RomanDigit(String numeral, int value, int maxConsecutive, int maxNextValue) {\r\n                this.numeral = numeral;\r\n                this.value = value;\r\n                this.maxConsecutive = maxConsecutive;\r\n                this.maxNextValue = maxNextValue;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Convert an arabic integer value into a roman numeral string\r\n         *\r\n         * @param n The arabic integer value\r\n         * @return The roman numeral string\r\n         */\r\n        public final static String toRoman(int n) {\r\n            if (n &lt; 1 || n &gt; MAX_ARABIC) {\r\n                throw new NumberFormatException(String.format(&quot;Invalid arabic value: %d, must be &gt; 0 and &lt; %d&quot;, n, MAX_ARABIC));\r\n            }\r\n    \r\n            int leDigit = mapArabic.floorKey(n);\r\n            //System.out.println(&quot;\\t*** floor of &quot; + n + &quot; is &quot; + leDigit);\r\n            if (n == leDigit) {\r\n                return mapArabic.get(leDigit);\r\n            }\r\n            return mapArabic.get(leDigit) + toRoman(n - leDigit);\r\n        }\r\n    \r\n        /**\r\n         * Convert a roman numeral string into an arabic integer value\r\n         * @param s The roman numeral string\r\n         * @return The arabic integer value\r\n         */\r\n        public final static int toInt(String s) throws NumberFormatException {\r\n            if (s == null || s.length() == 0) {\r\n                throw new NumberFormatException(&quot;Invalid roman numeral: a non-empty and non-null value must be given&quot;);\r\n            }\r\n    \r\n            int i = 0;\r\n            int iconsecutive = 0; // number of consecutive same digits\r\n            int pos = 0;\r\n            int sum = 0;\r\n            RomanDigit prevDigit = null;\r\n    \r\n            while (pos &lt; s.length()) {\r\n    \r\n                RomanDigit d = mapRoman.get(i);\r\n                if (!s.startsWith(mapRoman.get(i).numeral, pos)) {\r\n                    i++;\r\n                    // this is the only place we advance which digit we are checking,\r\n                    // so if it exhausts the digits, then there is clearly a digit sequencing error or invalid digit\r\n                    if (i == mapRoman.size()) {\r\n                        throw new NumberFormatException(\r\n                                String.format(&quot;Invalid roman numeral at pos %d: invalid sequence &#39;%s&#39; following digit &#39;%s&#39;&quot;,\r\n                                        pos, s.substring(pos), prevDigit != null ? prevDigit.numeral : &quot;&quot;));\r\n                    }\r\n                    iconsecutive = 0;\r\n                    continue;\r\n                }\r\n    \r\n                // we now have the match for the next roman numeral digit to check\r\n                iconsecutive++;\r\n                if (iconsecutive &gt; d.maxConsecutive) {\r\n                    throw new NumberFormatException(\r\n                            String.format(&quot;Invalid roman numeral at pos %d: more than %d consecutive occurences of digit &#39;%s&#39;&quot;,\r\n                                    pos, d.maxConsecutive, d.numeral));\r\n                }\r\n    \r\n                // invalid to encounter a higher digit sequence than the previous digit expects to have follow it\r\n                // (any digit is valid to start a roman numeral - i.e. when prevDigit == null)\r\n                if (prevDigit != null &amp;&amp; prevDigit.maxNextValue &lt; d.value) {\r\n                    throw new NumberFormatException(\r\n                            String.format(&quot;Invalid roman numeral at pos %d: &#39;%s&#39; cannot follow &#39;%s&#39;&quot;,\r\n                                    pos, d.numeral, prevDigit.numeral));\r\n                }\r\n    \r\n                // good to sum\r\n                sum += d.value;\r\n                if (sum &gt; MAX_ARABIC) {\r\n                    throw new NumberFormatException(\r\n                            String.format(&quot;Invalid roman numeral at pos %d: adding &#39;%s&#39; exceeds the max value of %d&quot;,\r\n                                    pos, d.numeral, MAX_ARABIC));\r\n                }\r\n                pos += d.numeral.length();\r\n                prevDigit = d;\r\n            }\r\n    \r\n            return sum;\r\n        }\r\n    }\r\n\r\n**Main.java**\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            System.out.println(&quot;TEST arabic integer =&gt; roman numeral string&quot;);\r\n            for (int i = 0; i&lt;= 4000; i++) {\r\n                String s;\r\n                try {\r\n                    s = RomanNumeral.toRoman(i);\r\n                }\r\n                catch(NumberFormatException ex) {\r\n                    s = ex.getMessage();\r\n                }\r\n                System.out.println(i + &quot;\\t =\\t &quot; + s);\r\n            }\r\n    \r\n            System.out.println(&quot;TEST roman numeral string =&gt; arabic integer&quot;);\r\n            for (int i = 0; i&lt;= 4000; i++) {\r\n                String s;\r\n                String msg;\r\n                try {\r\n                    s = RomanNumeral.toRoman(i);\r\n                    int n = testToInt(s);\r\n                    assert(i == n); // ensure it is reflexively converting\r\n                }\r\n                catch (NumberFormatException ex) {\r\n                    System.out.println(ex.getMessage() + &quot;\\t =\\t toInt() skipped&quot;);\r\n                }\r\n            }\r\n    \r\n            testToInt(&quot;MMMM&quot;);\r\n            testToInt(&quot;XCX&quot;);\r\n            testToInt(&quot;CDC&quot;);\r\n            testToInt(&quot;IVI&quot;);\r\n            testToInt(&quot;XXC&quot;);\r\n            testToInt(&quot;CCD&quot;);\r\n            testToInt(&quot;MDD&quot;);\r\n            testToInt(&quot;DD&quot;);\r\n            testToInt(&quot;CLL&quot;);\r\n            testToInt(&quot;LL&quot;);\r\n            testToInt(&quot;IIX&quot;);\r\n            testToInt(&quot;IVX&quot;);\r\n            testToInt(&quot;IIXX&quot;);\r\n            testToInt(&quot;XCIX&quot;);\r\n            testToInt(&quot;XIWE&quot;);\r\n    \r\n            // Check validity via a regexp for laughs\r\n            String s = &quot;IX&quot;;\r\n            System.out.println(s + &quot; validity is &quot; + s.matches(&quot;M{0,3}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})&quot;));\r\n        }\r\n    \r\n        private final static int testToInt(String s) {\r\n            String msg;\r\n            int n=0;\r\n            try {\r\n                n = RomanNumeral.toInt(s);\r\n                msg = Integer.toString(n);\r\n            }\r\n            catch(NullPointerException | NumberFormatException ex) {\r\n                msg = ex.getMessage();\r\n            }\r\n    \r\n            System.out.println(s + &quot;\\t =\\t &quot; + msg);\r\n            return n;\r\n        }\r\n    }\r\n\r\n**Output**\r\n\r\n    TEST arabic integer =&gt; roman numeral string\r\n    0\t =\t Invalid arabic value: 0, must be &gt; 0 and &lt; 3999\r\n    1\t =\t I\r\n    2\t =\t II\r\n    3\t =\t III\r\n    4\t =\t IV\r\n    5\t =\t V\r\n    6\t =\t VI\r\n    7\t =\t VII\r\n    8\t =\t VIII\r\n    9\t =\t IX\r\n    10\t =\t X\r\n    ... [snip] ...\r\n    3988\t =\t MMMCMLXXXVIII\r\n    3989\t =\t MMMCMLXXXIX\r\n    3990\t =\t MMMCMXC\r\n    3991\t =\t MMMCMXCI\r\n    3992\t =\t MMMCMXCII\r\n    3993\t =\t MMMCMXCIII\r\n    3994\t =\t MMMCMXCIV\r\n    3995\t =\t MMMCMXCV\r\n    3996\t =\t MMMCMXCVI\r\n    3997\t =\t MMMCMXCVII\r\n    3998\t =\t MMMCMXCVIII\r\n    3999\t =\t MMMCMXCIX\r\n    4000\t =\t Invalid arabic value: 4000, must be &gt; 0 and &lt; 3999\r\n    TEST roman numeral string =&gt; arabic integer\r\n    Invalid arabic value: 0, must be &gt; 0 and &lt; 3999\t =\t toInt() skipped\r\n    I\t =\t 1\r\n    II\t =\t 2\r\n    III\t =\t 3\r\n    IV\t =\t 4\r\n    V\t =\t 5\r\n    VI\t =\t 6\r\n    VII\t =\t 7\r\n    VIII\t =\t 8\r\n    IX\t =\t 9\r\n    X\t =\t 10\r\n    ... [snip] ...\r\n    MMMCMLXXXVIII\t =\t 3988\r\n    MMMCMLXXXIX\t =\t 3989\r\n    MMMCMXC\t =\t 3990\r\n    MMMCMXCI\t =\t 3991\r\n    MMMCMXCII\t =\t 3992\r\n    MMMCMXCIII\t =\t 3993\r\n    MMMCMXCIV\t =\t 3994\r\n    MMMCMXCV\t =\t 3995\r\n    MMMCMXCVI\t =\t 3996\r\n    MMMCMXCVII\t =\t 3997\r\n    MMMCMXCVIII\t =\t 3998\r\n    MMMCMXCIX\t =\t 3999\r\n    Invalid arabic value: 4000, must be &gt; 0 and &lt; 3999\t =\t toInt() skipped\r\n    MMMM\t =\t Invalid roman numeral at pos 3: more than 3 consecutive occurences of digit &#39;M&#39;\r\n    XCX\t =\t Invalid roman numeral at pos 2: &#39;X&#39; cannot follow &#39;XC&#39;\r\n    CDC\t =\t Invalid roman numeral at pos 2: &#39;C&#39; cannot follow &#39;CD&#39;\r\n    IVI\t =\t Invalid roman numeral at pos 2: &#39;I&#39; cannot follow &#39;IV&#39;\r\n    XXC\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;C&#39; following digit &#39;X&#39;\r\n    CCD\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;D&#39; following digit &#39;C&#39;\r\n    MDD\t =\t Invalid roman numeral at pos 2: more than 1 consecutive occurences of digit &#39;D&#39;\r\n    DD\t =\t Invalid roman numeral at pos 1: more than 1 consecutive occurences of digit &#39;D&#39;\r\n    CLL\t =\t Invalid roman numeral at pos 2: more than 1 consecutive occurences of digit &#39;L&#39;\r\n    LL\t =\t Invalid roman numeral at pos 1: more than 1 consecutive occurences of digit &#39;L&#39;\r\n    IIX\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;X&#39; following digit &#39;I&#39;\r\n    IVX\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;X&#39; following digit &#39;IV&#39;\r\n    IIXX\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;XX&#39; following digit &#39;I&#39;\r\n    XCIX\t =\t 99\r\n    XIWE\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;WE&#39; following digit &#39;I&#39;\r\n    IX validity is true","title":"Converting Roman Numerals To Decimal","body":"<p>Full version with error checking and test all valid values in both directions (and some invalid cases).</p>\n\n<p><strong>RomanNumeral.java</strong></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.TreeMap;\n\n/**\n * Convert to and from a roman numeral string\n */\npublic class RomanNumeral {\n\n    // used for converting from arabic number\n    final static TreeMap&lt;Integer, String&gt; mapArabic = new TreeMap&lt;Integer, String&gt;();\n    // used for converting from roman numeral\n    final static ArrayList&lt;RomanDigit&gt; mapRoman = new ArrayList&lt;RomanDigit&gt;();\n    final static int MAX_ARABIC = 3999;\n\n    static {\n        mapArabic.put(1000, \"M\");\n        mapArabic.put(900, \"CM\");\n        mapArabic.put(500, \"D\");\n        mapArabic.put(400, \"CD\");\n        mapArabic.put(100, \"C\");\n        mapArabic.put(90, \"XC\");\n        mapArabic.put(50, \"L\");\n        mapArabic.put(40, \"XL\");\n        mapArabic.put(10, \"X\");\n        mapArabic.put(9, \"IX\");\n        mapArabic.put(5, \"V\");\n        mapArabic.put(4, \"IV\");\n        mapArabic.put(1, \"I\");\n\n        mapRoman.add(new RomanDigit(\"M\", 1000, 3, 1000));\n        mapRoman.add(new RomanDigit(\"CM\", 900, 1, 90));\n        mapRoman.add(new RomanDigit(\"D\", 500, 1, 100));\n        mapRoman.add(new RomanDigit(\"CD\", 400, 1, 90));\n        mapRoman.add(new RomanDigit(\"C\", 100, 3, 100));\n        mapRoman.add(new RomanDigit(\"XC\", 90, 1, 9));\n        mapRoman.add(new RomanDigit(\"L\", 50, 1, 10));\n        mapRoman.add(new RomanDigit(\"XL\", 40, 1, 9));\n        mapRoman.add(new RomanDigit(\"X\", 10, 3, 10));\n        mapRoman.add(new RomanDigit(\"IX\", 9, 1, 0));\n        mapRoman.add(new RomanDigit(\"V\", 5, 1, 1));\n        mapRoman.add(new RomanDigit(\"IV\", 4, 1, 0));\n        mapRoman.add(new RomanDigit(\"I\", 1, 3, 1));\n    }\n\n    static final class RomanDigit {\n        public final String numeral;\n        public final int value;\n        public final int maxConsecutive;\n        public final int maxNextValue;\n\n        public RomanDigit(String numeral, int value, int maxConsecutive, int maxNextValue) {\n            this.numeral = numeral;\n            this.value = value;\n            this.maxConsecutive = maxConsecutive;\n            this.maxNextValue = maxNextValue;\n        }\n    }\n\n    /**\n     * Convert an arabic integer value into a roman numeral string\n     *\n     * @param n The arabic integer value\n     * @return The roman numeral string\n     */\n    public final static String toRoman(int n) {\n        if (n &lt; 1 || n &gt; MAX_ARABIC) {\n            throw new NumberFormatException(String.format(\"Invalid arabic value: %d, must be &gt; 0 and &lt; %d\", n, MAX_ARABIC));\n        }\n\n        int leDigit = mapArabic.floorKey(n);\n        //System.out.println(\"\\t*** floor of \" + n + \" is \" + leDigit);\n        if (n == leDigit) {\n            return mapArabic.get(leDigit);\n        }\n        return mapArabic.get(leDigit) + toRoman(n - leDigit);\n    }\n\n    /**\n     * Convert a roman numeral string into an arabic integer value\n     * @param s The roman numeral string\n     * @return The arabic integer value\n     */\n    public final static int toInt(String s) throws NumberFormatException {\n        if (s == null || s.length() == 0) {\n            throw new NumberFormatException(\"Invalid roman numeral: a non-empty and non-null value must be given\");\n        }\n\n        int i = 0;\n        int iconsecutive = 0; // number of consecutive same digits\n        int pos = 0;\n        int sum = 0;\n        RomanDigit prevDigit = null;\n\n        while (pos &lt; s.length()) {\n\n            RomanDigit d = mapRoman.get(i);\n            if (!s.startsWith(mapRoman.get(i).numeral, pos)) {\n                i++;\n                // this is the only place we advance which digit we are checking,\n                // so if it exhausts the digits, then there is clearly a digit sequencing error or invalid digit\n                if (i == mapRoman.size()) {\n                    throw new NumberFormatException(\n                            String.format(\"Invalid roman numeral at pos %d: invalid sequence '%s' following digit '%s'\",\n                                    pos, s.substring(pos), prevDigit != null ? prevDigit.numeral : \"\"));\n                }\n                iconsecutive = 0;\n                continue;\n            }\n\n            // we now have the match for the next roman numeral digit to check\n            iconsecutive++;\n            if (iconsecutive &gt; d.maxConsecutive) {\n                throw new NumberFormatException(\n                        String.format(\"Invalid roman numeral at pos %d: more than %d consecutive occurences of digit '%s'\",\n                                pos, d.maxConsecutive, d.numeral));\n            }\n\n            // invalid to encounter a higher digit sequence than the previous digit expects to have follow it\n            // (any digit is valid to start a roman numeral - i.e. when prevDigit == null)\n            if (prevDigit != null &amp;&amp; prevDigit.maxNextValue &lt; d.value) {\n                throw new NumberFormatException(\n                        String.format(\"Invalid roman numeral at pos %d: '%s' cannot follow '%s'\",\n                                pos, d.numeral, prevDigit.numeral));\n            }\n\n            // good to sum\n            sum += d.value;\n            if (sum &gt; MAX_ARABIC) {\n                throw new NumberFormatException(\n                        String.format(\"Invalid roman numeral at pos %d: adding '%s' exceeds the max value of %d\",\n                                pos, d.numeral, MAX_ARABIC));\n            }\n            pos += d.numeral.length();\n            prevDigit = d;\n        }\n\n        return sum;\n    }\n}\n</code></pre>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        System.out.println(\"TEST arabic integer =&gt; roman numeral string\");\n        for (int i = 0; i&lt;= 4000; i++) {\n            String s;\n            try {\n                s = RomanNumeral.toRoman(i);\n            }\n            catch(NumberFormatException ex) {\n                s = ex.getMessage();\n            }\n            System.out.println(i + \"\\t =\\t \" + s);\n        }\n\n        System.out.println(\"TEST roman numeral string =&gt; arabic integer\");\n        for (int i = 0; i&lt;= 4000; i++) {\n            String s;\n            String msg;\n            try {\n                s = RomanNumeral.toRoman(i);\n                int n = testToInt(s);\n                assert(i == n); // ensure it is reflexively converting\n            }\n            catch (NumberFormatException ex) {\n                System.out.println(ex.getMessage() + \"\\t =\\t toInt() skipped\");\n            }\n        }\n\n        testToInt(\"MMMM\");\n        testToInt(\"XCX\");\n        testToInt(\"CDC\");\n        testToInt(\"IVI\");\n        testToInt(\"XXC\");\n        testToInt(\"CCD\");\n        testToInt(\"MDD\");\n        testToInt(\"DD\");\n        testToInt(\"CLL\");\n        testToInt(\"LL\");\n        testToInt(\"IIX\");\n        testToInt(\"IVX\");\n        testToInt(\"IIXX\");\n        testToInt(\"XCIX\");\n        testToInt(\"XIWE\");\n\n        // Check validity via a regexp for laughs\n        String s = \"IX\";\n        System.out.println(s + \" validity is \" + s.matches(\"M{0,3}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})\"));\n    }\n\n    private final static int testToInt(String s) {\n        String msg;\n        int n=0;\n        try {\n            n = RomanNumeral.toInt(s);\n            msg = Integer.toString(n);\n        }\n        catch(NullPointerException | NumberFormatException ex) {\n            msg = ex.getMessage();\n        }\n\n        System.out.println(s + \"\\t =\\t \" + msg);\n        return n;\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>TEST arabic integer =&gt; roman numeral string\n0    =   Invalid arabic value: 0, must be &gt; 0 and &lt; 3999\n1    =   I\n2    =   II\n3    =   III\n4    =   IV\n5    =   V\n6    =   VI\n7    =   VII\n8    =   VIII\n9    =   IX\n10   =   X\n... [snip] ...\n3988     =   MMMCMLXXXVIII\n3989     =   MMMCMLXXXIX\n3990     =   MMMCMXC\n3991     =   MMMCMXCI\n3992     =   MMMCMXCII\n3993     =   MMMCMXCIII\n3994     =   MMMCMXCIV\n3995     =   MMMCMXCV\n3996     =   MMMCMXCVI\n3997     =   MMMCMXCVII\n3998     =   MMMCMXCVIII\n3999     =   MMMCMXCIX\n4000     =   Invalid arabic value: 4000, must be &gt; 0 and &lt; 3999\nTEST roman numeral string =&gt; arabic integer\nInvalid arabic value: 0, must be &gt; 0 and &lt; 3999  =   toInt() skipped\nI    =   1\nII   =   2\nIII  =   3\nIV   =   4\nV    =   5\nVI   =   6\nVII  =   7\nVIII     =   8\nIX   =   9\nX    =   10\n... [snip] ...\nMMMCMLXXXVIII    =   3988\nMMMCMLXXXIX  =   3989\nMMMCMXC  =   3990\nMMMCMXCI     =   3991\nMMMCMXCII    =   3992\nMMMCMXCIII   =   3993\nMMMCMXCIV    =   3994\nMMMCMXCV     =   3995\nMMMCMXCVI    =   3996\nMMMCMXCVII   =   3997\nMMMCMXCVIII  =   3998\nMMMCMXCIX    =   3999\nInvalid arabic value: 4000, must be &gt; 0 and &lt; 3999   =   toInt() skipped\nMMMM     =   Invalid roman numeral at pos 3: more than 3 consecutive occurences of digit 'M'\nXCX  =   Invalid roman numeral at pos 2: 'X' cannot follow 'XC'\nCDC  =   Invalid roman numeral at pos 2: 'C' cannot follow 'CD'\nIVI  =   Invalid roman numeral at pos 2: 'I' cannot follow 'IV'\nXXC  =   Invalid roman numeral at pos 2: invalid sequence 'C' following digit 'X'\nCCD  =   Invalid roman numeral at pos 2: invalid sequence 'D' following digit 'C'\nMDD  =   Invalid roman numeral at pos 2: more than 1 consecutive occurences of digit 'D'\nDD   =   Invalid roman numeral at pos 1: more than 1 consecutive occurences of digit 'D'\nCLL  =   Invalid roman numeral at pos 2: more than 1 consecutive occurences of digit 'L'\nLL   =   Invalid roman numeral at pos 1: more than 1 consecutive occurences of digit 'L'\nIIX  =   Invalid roman numeral at pos 2: invalid sequence 'X' following digit 'I'\nIVX  =   Invalid roman numeral at pos 2: invalid sequence 'X' following digit 'IV'\nIIXX     =   Invalid roman numeral at pos 2: invalid sequence 'XX' following digit 'I'\nXCIX     =   99\nXIWE     =   Invalid roman numeral at pos 2: invalid sequence 'WE' following digit 'I'\nIX validity is true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1580007,"reputation":13268,"user_id":1465553,"accept_rate":68,"display_name":"Saurav Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567657032,"creation_date":1567657032,"answer_id":57798358,"question_id":9073150,"body_markdown":"**With only two if-statements**:\r\n*Check the match of first character on priority and if not matching, match the single first character*.\r\n\r\n\r\n    public class Solution {\r\n        private static TreeMap&lt;String, Integer&gt; numeralsAndVal;\r\n        static{\r\n            numeralsAndVal = new TreeMap&lt;&gt;();\r\n            numeralsAndVal.put(&quot;M&quot;, 1000);\r\n            numeralsAndVal.put(&quot;CM&quot;, 900);\r\n            numeralsAndVal.put(&quot;D&quot;, 500);\r\n            numeralsAndVal.put(&quot;CD&quot;, 400);\r\n            numeralsAndVal.put(&quot;C&quot;, 100);\r\n            numeralsAndVal.put(&quot;XC&quot;, 90);\r\n            numeralsAndVal.put(&quot;L&quot;, 50);\r\n            numeralsAndVal.put(&quot;XL&quot;, 40);\r\n            numeralsAndVal.put(&quot;X&quot;, 10);\r\n            numeralsAndVal.put(&quot;IX&quot;, 9);\r\n            numeralsAndVal.put(&quot;V&quot;, 5);\r\n            numeralsAndVal.put(&quot;IV&quot;, 4);\r\n            numeralsAndVal.put(&quot;I&quot;, 1);\r\n        }\r\n        public int romanToInt(String A) {\r\n            if (A.length() == 0) return 0;\r\n            if (A.length() &gt;= 2 &amp;&amp; numeralsAndVal.containsKey(A.substring(0, 2))){\r\n                return numeralsAndVal.get(A.substring(0, 2)) + romanToInt(A.substring(2));\r\n            }\r\n            return numeralsAndVal.get(A.substring(0, 1)) + romanToInt(A.substring(1));\r\n        }\r\n    }\r\n\r\n","title":"Converting Roman Numerals To Decimal","body":"<p><strong>With only two if-statements</strong>:\n<em>Check the match of first character on priority and if not matching, match the single first character</em>.</p>\n\n<pre><code>public class Solution {\n    private static TreeMap&lt;String, Integer&gt; numeralsAndVal;\n    static{\n        numeralsAndVal = new TreeMap&lt;&gt;();\n        numeralsAndVal.put(\"M\", 1000);\n        numeralsAndVal.put(\"CM\", 900);\n        numeralsAndVal.put(\"D\", 500);\n        numeralsAndVal.put(\"CD\", 400);\n        numeralsAndVal.put(\"C\", 100);\n        numeralsAndVal.put(\"XC\", 90);\n        numeralsAndVal.put(\"L\", 50);\n        numeralsAndVal.put(\"XL\", 40);\n        numeralsAndVal.put(\"X\", 10);\n        numeralsAndVal.put(\"IX\", 9);\n        numeralsAndVal.put(\"V\", 5);\n        numeralsAndVal.put(\"IV\", 4);\n        numeralsAndVal.put(\"I\", 1);\n    }\n    public int romanToInt(String A) {\n        if (A.length() == 0) return 0;\n        if (A.length() &gt;= 2 &amp;&amp; numeralsAndVal.containsKey(A.substring(0, 2))){\n            return numeralsAndVal.get(A.substring(0, 2)) + romanToInt(A.substring(2));\n        }\n        return numeralsAndVal.get(A.substring(0, 1)) + romanToInt(A.substring(1));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580937501,"creation_date":1580937501,"answer_id":60084263,"question_id":9073150,"body_markdown":"Despite the fact that a lot of solutions have been already proposed.\r\n\r\nI guess that the following one will be short and clear:\r\n\r\n    public class RomanToInteger {\r\n        public static int romanToInt(String roman) {\r\n            final Map&lt;Character, Integer&gt; map = Map.of(&#39;I&#39;, 1,\r\n                    &#39;V&#39;, 5,\r\n                    &#39;X&#39;, 10,\r\n                    &#39;L&#39;, 50,\r\n                    &#39;C&#39;, 100,\r\n                    &#39;D&#39;, 500,\r\n                    &#39;M&#39;, 1000);\r\n    \r\n            int result = 0;\r\n            for (int index = 0; index &lt; roman.length(); index++) {\r\n                final int curNumber = map.get(roman.charAt(index));\r\n    \r\n                if (index &gt; 0 &amp;&amp; curNumber &gt; map.get(roman.charAt(index - 1))) {\r\n                    // add current number &amp; remove previous one twice:\r\n                    // first: we add it before (when it was current number) and removing it for this current number\r\n                    // second: for correct conversion to roman numbers\r\n                    result += curNumber - 2 * map.get(roman.charAt(index - 1));\r\n                } else {\r\n                    result += curNumber;\r\n                }\r\n            }\r\n            System.out.printf(&quot;%8s -&gt; %4d\\n&quot;, roman, result);\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String[] romans = {&quot;I&quot;, &quot;II&quot;, &quot;III&quot;, &quot;V&quot;, &quot;X&quot;, &quot;XIV&quot;, &quot;XVII&quot;, &quot;XX&quot;, &quot;XXV&quot;,\r\n                    &quot;XXX&quot;, &quot;XXXVIII&quot;, &quot;XLIX&quot;, &quot;LXIII&quot;, &quot;LXXXI&quot;, &quot;XCVII&quot;, &quot;XCVIII&quot;, &quot;XCIX&quot;,\r\n                    &quot;C&quot;, &quot;CI&quot;, &quot;CCXLVIII&quot;, &quot;CCLIII&quot;, &quot;DCCXCIX&quot;, &quot;MCCCXXV&quot;, &quot;MCM&quot;, &quot;MM&quot;,\r\n                    &quot;MMCDLVI&quot;, &quot;MDCCXV&quot;};\r\n    \r\n            final Instant startTimeIter = Instant.now();\r\n            for (String roman : romans) {\r\n                romanToInt(roman);\r\n            }\r\n            final Instant endTimeIter = Instant.now();\r\n    \r\n            System.out.printf(&quot;Elapsed time: %d ms\\n&quot;, Duration.between(startTimeIter, endTimeIter).toMillis());\r\n        }\r\n    }\r\n\r\n***Output:***\r\n\r\n           I -&gt;    1\r\n          II -&gt;    2\r\n         III -&gt;    3\r\n         ...\r\n     MMCDLVI -&gt; 2456\r\n      MDCCXV -&gt; 1715\r\n    Elapsed time: 101 ms\r\n\r\nLogic is quite simple we just go from left to right through roman literal:\r\n\r\n- if a literal isn&#39;t first and the previous one is lower -&gt; we have to add current number to total &amp; extract the previous number twice. First time what we added this at the previous step (when it was current number). Second because it is a rule of roman literals conversion (like `IX` literal).\r\n- otherwise, just add it to the total result.","title":"Converting Roman Numerals To Decimal","body":"<p>Despite the fact that a lot of solutions have been already proposed.</p>\n\n<p>I guess that the following one will be short and clear:</p>\n\n<pre><code>public class RomanToInteger {\n    public static int romanToInt(String roman) {\n        final Map&lt;Character, Integer&gt; map = Map.of('I', 1,\n                'V', 5,\n                'X', 10,\n                'L', 50,\n                'C', 100,\n                'D', 500,\n                'M', 1000);\n\n        int result = 0;\n        for (int index = 0; index &lt; roman.length(); index++) {\n            final int curNumber = map.get(roman.charAt(index));\n\n            if (index &gt; 0 &amp;&amp; curNumber &gt; map.get(roman.charAt(index - 1))) {\n                // add current number &amp; remove previous one twice:\n                // first: we add it before (when it was current number) and removing it for this current number\n                // second: for correct conversion to roman numbers\n                result += curNumber - 2 * map.get(roman.charAt(index - 1));\n            } else {\n                result += curNumber;\n            }\n        }\n        System.out.printf(\"%8s -&gt; %4d\\n\", roman, result);\n        return result;\n    }\n\n    public static void main(String[] args) {\n        String[] romans = {\"I\", \"II\", \"III\", \"V\", \"X\", \"XIV\", \"XVII\", \"XX\", \"XXV\",\n                \"XXX\", \"XXXVIII\", \"XLIX\", \"LXIII\", \"LXXXI\", \"XCVII\", \"XCVIII\", \"XCIX\",\n                \"C\", \"CI\", \"CCXLVIII\", \"CCLIII\", \"DCCXCIX\", \"MCCCXXV\", \"MCM\", \"MM\",\n                \"MMCDLVI\", \"MDCCXV\"};\n\n        final Instant startTimeIter = Instant.now();\n        for (String roman : romans) {\n            romanToInt(roman);\n        }\n        final Instant endTimeIter = Instant.now();\n\n        System.out.printf(\"Elapsed time: %d ms\\n\", Duration.between(startTimeIter, endTimeIter).toMillis());\n    }\n}\n</code></pre>\n\n<p><strong><em>Output:</em></strong></p>\n\n<pre><code>       I -&gt;    1\n      II -&gt;    2\n     III -&gt;    3\n     ...\n MMCDLVI -&gt; 2456\n  MDCCXV -&gt; 1715\nElapsed time: 101 ms\n</code></pre>\n\n<p>Logic is quite simple we just go from left to right through roman literal:</p>\n\n<ul>\n<li>if a literal isn't first and the previous one is lower -> we have to add current number to total &amp; extract the previous number twice. First time what we added this at the previous step (when it was current number). Second because it is a rule of roman literals conversion (like <code>IX</code> literal).</li>\n<li>otherwise, just add it to the total result.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6263639,"reputation":529,"user_id":4870045,"display_name":"Imar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596390533,"creation_date":1596389941,"answer_id":63219182,"question_id":9073150,"body_markdown":"An easy solution for input in the range from 1 to 3999.\r\n\r\n        private static final Map&lt;String, Integer&gt; MAPPING = new HashMap&lt;&gt;() {{\r\n        put(&quot;I&quot;, 1);\r\n        put(&quot;V&quot;, 5);\r\n        put(&quot;X&quot;, 10);\r\n        put(&quot;L&quot;, 50);\r\n        put(&quot;C&quot;, 100);\r\n        put(&quot;D&quot;, 500);\r\n        put(&quot;M&quot;, 1000);\r\n        put(&quot;IV&quot;, 4);\r\n        put(&quot;IX&quot;, 9);\r\n        put(&quot;XL&quot;, 40);\r\n        put(&quot;XC&quot;, 90);\r\n        put(&quot;CD&quot;, 400);\r\n        put(&quot;CM&quot;, 900);\r\n    }};\r\n\r\n    public static int romanToInt(String s) {\r\n        int sum = 0;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            if (i &lt; s.length() - 1 &amp;&amp; MAPPING.containsKey(String.valueOf(s.charAt(i)) + s.charAt(i + 1))) {\r\n                sum += MAPPING.get(String.valueOf(s.charAt(i)) + s.charAt(i + 1));\r\n                i++;\r\n            } else {\r\n                sum += MAPPING.get(String.valueOf(s.charAt(i)));\r\n            }\r\n        }\r\n        return sum;\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>An easy solution for input in the range from 1 to 3999.</p>\n<pre><code>    private static final Map&lt;String, Integer&gt; MAPPING = new HashMap&lt;&gt;() {{\n    put(&quot;I&quot;, 1);\n    put(&quot;V&quot;, 5);\n    put(&quot;X&quot;, 10);\n    put(&quot;L&quot;, 50);\n    put(&quot;C&quot;, 100);\n    put(&quot;D&quot;, 500);\n    put(&quot;M&quot;, 1000);\n    put(&quot;IV&quot;, 4);\n    put(&quot;IX&quot;, 9);\n    put(&quot;XL&quot;, 40);\n    put(&quot;XC&quot;, 90);\n    put(&quot;CD&quot;, 400);\n    put(&quot;CM&quot;, 900);\n}};\n\npublic static int romanToInt(String s) {\n    int sum = 0;\n    for (int i = 0; i &lt; s.length(); i++) {\n        if (i &lt; s.length() - 1 &amp;&amp; MAPPING.containsKey(String.valueOf(s.charAt(i)) + s.charAt(i + 1))) {\n            sum += MAPPING.get(String.valueOf(s.charAt(i)) + s.charAt(i + 1));\n            i++;\n        } else {\n            sum += MAPPING.get(String.valueOf(s.charAt(i)));\n        }\n    }\n    return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26315879,"reputation":36,"user_id":19978672,"display_name":"GabrielFethi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666396359,"creation_date":1666396359,"answer_id":74160129,"question_id":9073150,"body_markdown":"The problem here is that numbers like 9 are presented in the following way\r\n\r\n```\r\nIX = 9\r\n```\r\n\r\nif we take the literal conversion by getting the sum for each number than our program would give us the following sum\r\n\r\n```\r\nI = 1\r\nX = 10\r\nX + I = 11 \r\n```\r\nwhich is not correct. \r\n\r\nWe can overcome this if we simply manipulate the Roman String.\r\n\r\nIn example:\r\n\r\n```\r\nIX = 9 would be VIIII which is 5 + 1 + 1 + 1 + 1\r\n```\r\n\r\nTherefore if we replace all the special cases in the given String, we can calculate the sum for each character.\r\n\r\nHence;\r\n\r\n````\r\nclass Solution {\r\n    \r\n    public int romanToInt(String s) {       \r\n        // Key Value pairs\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();   \r\n        map.put(&#39;I&#39;, 1);\r\n        map.put(&#39;V&#39;, 5);\r\n        map.put(&#39;X&#39;, 10);\r\n        map.put(&#39;L&#39;, 50);\r\n        map.put(&#39;C&#39;, 100);\r\n        map.put(&#39;D&#39;, 500);\r\n        map.put(&#39;M&#39;, 1000);\r\n        \r\n        // convert these to single characters\r\n        s = s.replace(&quot;IV&quot;,&quot;IIII&quot;);  \r\n        s = s.replace(&quot;IX&quot;,&quot;VIIII&quot;);  \r\n        s = s.replace(&quot;XL&quot;,&quot;XXXX&quot;);  \r\n        s = s.replace(&quot;XC&quot;,&quot;LXXXX&quot;);  \r\n        s = s.replace(&quot;CD&quot;,&quot;CCCC&quot;);  \r\n        s = s.replace(&quot;CM&quot;,&quot;DCCCC&quot;); \r\n\r\n        // total sum to be returned\r\n        int sum = 0;\r\n        \r\n        // convert s to c character array\r\n        char[] c = s.toCharArray();\r\n        \r\n        // iterate through c array and sum the numbers\r\n        for(Character ch : c){\r\n            sum = sum + map.get(ch);\r\n        }\r\n                \r\n        return sum;   \r\n    }\r\n}\r\n\r\n````","title":"Converting Roman Numerals To Decimal","body":"<p>The problem here is that numbers like 9 are presented in the following way</p>\n<pre><code>IX = 9\n</code></pre>\n<p>if we take the literal conversion by getting the sum for each number than our program would give us the following sum</p>\n<pre><code>I = 1\nX = 10\nX + I = 11 \n</code></pre>\n<p>which is not correct.</p>\n<p>We can overcome this if we simply manipulate the Roman String.</p>\n<p>In example:</p>\n<pre><code>IX = 9 would be VIIII which is 5 + 1 + 1 + 1 + 1\n</code></pre>\n<p>Therefore if we replace all the special cases in the given String, we can calculate the sum for each character.</p>\n<p>Hence;</p>\n<pre><code>class Solution {\n    \n    public int romanToInt(String s) {       \n        // Key Value pairs\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();   \n        map.put('I', 1);\n        map.put('V', 5);\n        map.put('X', 10);\n        map.put('L', 50);\n        map.put('C', 100);\n        map.put('D', 500);\n        map.put('M', 1000);\n        \n        // convert these to single characters\n        s = s.replace(&quot;IV&quot;,&quot;IIII&quot;);  \n        s = s.replace(&quot;IX&quot;,&quot;VIIII&quot;);  \n        s = s.replace(&quot;XL&quot;,&quot;XXXX&quot;);  \n        s = s.replace(&quot;XC&quot;,&quot;LXXXX&quot;);  \n        s = s.replace(&quot;CD&quot;,&quot;CCCC&quot;);  \n        s = s.replace(&quot;CM&quot;,&quot;DCCCC&quot;); \n\n        // total sum to be returned\n        int sum = 0;\n        \n        // convert s to c character array\n        char[] c = s.toCharArray();\n        \n        // iterate through c array and sum the numbers\n        for(Character ch : c){\n            sum = sum + map.get(ch);\n        }\n                \n        return sum;   \n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1171586,"reputation":1866,"user_id":1148656,"accept_rate":84,"display_name":"Daniel Cook"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110850,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":9073310,"answer_count":30,"score":41,"last_activity_date":1666396359,"creation_date":1327972124,"question_id":9073150,"body_markdown":"I have managed to get my code to convert most Roman numerals to its appropriate decimal value. But it doesn&#39;t work for some exceptional cases. Example : `XCIX` = `99` but my code prints `109`.\r\n\r\nHere is my code.\r\n\r\n    public static int romanConvert(String roman)\r\n\t{\r\n\t\tint decimal = 0;\r\n\r\n\t\tString romanNumeral = roman.toUpperCase();\r\n\t\tfor(int x = 0;x&lt;romanNumeral.length();x++)\r\n\t\t{\r\n\t\t\tchar convertToDecimal = roman.charAt(x);\r\n\r\n\t\t\tswitch (convertToDecimal)\r\n\t\t\t{\r\n\t\t\tcase &#39;M&#39;:\r\n\t\t\t\tdecimal += 1000;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;D&#39;:\r\n\t\t\t\tdecimal += 500;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;C&#39;:\r\n\t\t\t\tdecimal += 100;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;L&#39;:\r\n\t\t\t\tdecimal += 50;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;X&#39;:\r\n\t\t\t\tdecimal += 10;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;V&#39;:\r\n\t\t\t\tdecimal += 5;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;I&#39;:\r\n\t\t\t\tdecimal += 1;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;IV&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=2;\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;IX&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=2;\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;XL&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=10;\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;XC&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=10;\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;CD&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=100;\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;CM&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=100;\r\n\t\t}\r\n\t\treturn decimal;\r\n\t}","title":"Converting Roman Numerals To Decimal","body":"<p>I have managed to get my code to convert most Roman numerals to its appropriate decimal value. But it doesn't work for some exceptional cases. Example : <code>XCIX</code> = <code>99</code> but my code prints <code>109</code>.</p>\n\n<p>Here is my code.</p>\n\n<pre><code>public static int romanConvert(String roman)\n{\n    int decimal = 0;\n\n    String romanNumeral = roman.toUpperCase();\n    for(int x = 0;x&lt;romanNumeral.length();x++)\n    {\n        char convertToDecimal = roman.charAt(x);\n\n        switch (convertToDecimal)\n        {\n        case 'M':\n            decimal += 1000;\n            break;\n\n        case 'D':\n            decimal += 500;\n            break;\n\n        case 'C':\n            decimal += 100;\n            break;\n\n        case 'L':\n            decimal += 50;\n            break;\n\n        case 'X':\n            decimal += 10;\n            break;\n\n        case 'V':\n            decimal += 5;\n            break;\n\n        case 'I':\n            decimal += 1;\n            break;\n        }\n    }\n    if (romanNumeral.contains(\"IV\"))\n    {\n        decimal-=2;\n    }\n    if (romanNumeral.contains(\"IX\"))\n    {\n        decimal-=2;\n    }\n    if (romanNumeral.contains(\"XL\"))\n    {\n        decimal-=10;\n    }\n    if (romanNumeral.contains(\"XC\"))\n    {\n        decimal-=10;\n    }\n    if (romanNumeral.contains(\"CD\"))\n    {\n        decimal-=100;\n    }\n    if (romanNumeral.contains(\"CM\"))\n    {\n        decimal-=100;\n    }\n    return decimal;\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3911165,"reputation":1475,"user_id":3236455,"accept_rate":44,"display_name":"der_Fidelis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666395377,"creation_date":1666391421,"answer_id":74159715,"question_id":74158579,"body_markdown":"```java\r\ngroup.setOnCheckedChangeListener((a, b) -&gt; {\r\n       txtothers.setEnabled(!islam.isChecked() &amp;&amp; !christian.isChecked);\r\n       txtchristian.setEnabled(christian.isChecked());\r\n});\r\n```","title":"How to disable edit text after clicking radio button","body":"<pre class=\"lang-java prettyprint-override\"><code>group.setOnCheckedChangeListener((a, b) -&gt; {\n       txtothers.setEnabled(!islam.isChecked() &amp;&amp; !christian.isChecked);\n       txtchristian.setEnabled(christian.isChecked());\n});\n</code></pre>\n"}],"owner":{"account_id":26696236,"reputation":3,"user_id":20304040,"display_name":"kenneth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74159715,"answer_count":1,"score":0,"last_activity_date":1666395377,"creation_date":1666381962,"question_id":74158579,"body_markdown":"here is my xml file grouped by radiogroup &lt;/RadioGroup&gt;\r\n\r\n        &lt;RadioGroup\r\n\r\n            &lt;TextView\r\n                android:text=&quot;Religion&quot;/&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/islam&quot;\r\n                android:text=&quot;Islam&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/christian&quot;\r\n                android:text=&quot;Christian&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/txtchristian&quot;\r\n                android:hint=&quot;pls specify&quot;\r\n                android:inputType=&quot;text&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/others&quot;\r\n                android:text=&quot;Others&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/txtothers&quot;\r\n                android:hint=&quot;pls specify&quot;\r\n                android:inputType=&quot;text&quot; /&gt;\r\n        &lt;/RadioGroup&gt;\r\n\r\n&gt;what I am trying to do is to disable the edit text if they are not selected. e.g. if Islam is selected, those two edit text must be disabled.\r\n\r\n      if(islam.isChecked()){\r\n            txtothers.setEnabled(false);\r\n            txtchristian.setEnabled(false);\r\n        }\r\n        else if(christian.isChecked()){\r\n            txtothers.setEnabled(false);\r\n            txtchristian.setEnabled(true);\r\n        }\r\n        else{\r\n            txtothers.setEnabled(true);\r\n            txtchristian.setEnabled(false);\r\n        }\r\n\r\n[choose religion using radio button][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/180Zu.png","title":"How to disable edit text after clicking radio button","body":"<p>here is my xml file grouped by radiogroup </p>\n<pre><code>    &lt;RadioGroup\n\n        &lt;TextView\n            android:text=&quot;Religion&quot;/&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/islam&quot;\n            android:text=&quot;Islam&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/christian&quot;\n            android:text=&quot;Christian&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/txtchristian&quot;\n            android:hint=&quot;pls specify&quot;\n            android:inputType=&quot;text&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/others&quot;\n            android:text=&quot;Others&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/txtothers&quot;\n            android:hint=&quot;pls specify&quot;\n            android:inputType=&quot;text&quot; /&gt;\n    &lt;/RadioGroup&gt;\n</code></pre>\n<blockquote>\n<p>what I am trying to do is to disable the edit text if they are not selected. e.g. if Islam is selected, those two edit text must be disabled.</p>\n</blockquote>\n<pre><code>  if(islam.isChecked()){\n        txtothers.setEnabled(false);\n        txtchristian.setEnabled(false);\n    }\n    else if(christian.isChecked()){\n        txtothers.setEnabled(false);\n        txtchristian.setEnabled(true);\n    }\n    else{\n        txtothers.setEnabled(true);\n        txtchristian.setEnabled(false);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/180Zu.png\" rel=\"nofollow noreferrer\">choose religion using radio button</a></p>\n"},{"tags":["java","intellij-idea","import","stddraw"],"comments":[{"owner":{"account_id":99760,"reputation":978,"user_id":269300,"display_name":"Patrick McLaren"},"score":0,"creation_date":1426735827,"post_id":29136723,"comment_id":46498221,"body_markdown":"You&#39;ll want to do a static import, see this [question](http://stackoverflow.com/q/162187/269300), and http://docs.oracle.com/javase/1.5.0/docs/guide/language/static-import.html.","body":"You&#39;ll want to do a static import, see this <a href=\"http://stackoverflow.com/q/162187/269300\">question</a>, and <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/static-import.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/guide/language/&hellip;</a>."},{"owner":{"account_id":5934485,"reputation":41,"user_id":4667962,"display_name":"Morgantuan"},"score":0,"creation_date":1426741983,"post_id":29136723,"comment_id":46499627,"body_markdown":"When I do &quot;import static StdDraw;&quot; IntelliJ tells me: &quot;java: &#39;.&#39; expected&quot; on the line that I import StdDraw","body":"When I do &quot;import static StdDraw;&quot; IntelliJ tells me: &quot;java: &#39;.&#39; expected&quot; on the line that I import StdDraw"},{"owner":{"account_id":99760,"reputation":978,"user_id":269300,"display_name":"Patrick McLaren"},"score":0,"creation_date":1426742136,"post_id":29136723,"comment_id":46499664,"body_markdown":"Move StdDraw to a different package, you can&#39;t do a static import from the default package, see this [bug report](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4989710).","body":"Move StdDraw to a different package, you can&#39;t do a static import from the default package, see this <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4989710\" rel=\"nofollow noreferrer\">bug report</a>."}],"answers":[{"tags":[],"owner":{"account_id":7329780,"reputation":11,"user_id":5583090,"display_name":"Ron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447967193,"creation_date":1447964066,"answer_id":33813523,"question_id":29136723,"body_markdown":"I use StdDraw all the time\r\n\r\nUnder your package declaration, type:\r\n\r\n    import stddraw.StdDraw;\r\n\r\nthen all the stuff you need to do should work, also make sure the actual class is inside of your file correctly","title":"How to import stddraw correctly?","body":"<p>I use StdDraw all the time</p>\n\n<p>Under your package declaration, type:</p>\n\n<pre><code>import stddraw.StdDraw;\n</code></pre>\n\n<p>then all the stuff you need to do should work, also make sure the actual class is inside of your file correctly</p>\n"},{"tags":[],"owner":{"account_id":5342237,"reputation":11,"user_id":5606342,"display_name":"Amegar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449081175,"creation_date":1449077176,"answer_id":34049126,"question_id":29136723,"body_markdown":"Add this import to your class.\r\n\r\n    import static StdDraw.*;\r\n\r\nWhat it means is that all static methods of the `StdDraw` class can be used without prefixing them with `StdDraw.` It also assumes that `StdDraw` class is in the default package, which is generally frowned upon but appears to be what that library has done.","title":"How to import stddraw correctly?","body":"<p>Add this import to your class.</p>\n\n<pre><code>import static StdDraw.*;\n</code></pre>\n\n<p>What it means is that all static methods of the <code>StdDraw</code> class can be used without prefixing them with <code>StdDraw.</code> It also assumes that <code>StdDraw</code> class is in the default package, which is generally frowned upon but appears to be what that library has done.</p>\n"},{"tags":[],"owner":{"account_id":2336691,"reputation":61,"user_id":2048865,"display_name":"Phạm Dương"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1461288231,"creation_date":1461288231,"answer_id":36783125,"question_id":29136723,"body_markdown":"You can download the library stdlib.jar here: http://introcs.cs.princeton.edu/java/stdlib/\r\n\r\nThen import it follow this tutorial:https://stackoverflow.com/a/32853178/2048865\r\n","title":"How to import stddraw correctly?","body":"<p>You can download the library stdlib.jar here: <a href=\"http://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">http://introcs.cs.princeton.edu/java/stdlib/</a></p>\n\n<p>Then import it follow this tutorial:<a href=\"https://stackoverflow.com/a/32853178/2048865\">https://stackoverflow.com/a/32853178/2048865</a></p>\n"},{"tags":[],"owner":{"account_id":10416636,"reputation":1367,"user_id":7680511,"display_name":"William Hou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514053640,"creation_date":1514052039,"answer_id":47954734,"question_id":29136723,"body_markdown":"You said: \r\n\r\n------------------\r\n     What I want: Be able to write\r\n\r\n         setCanvas(500,500);\r\n\r\n     Instead of\r\n\r\n         StdDraw.setcanvas(500,500);\r\n\r\n-------------------\r\n\r\nIsn&#39;t that against the basic rules of Java? \r\n\r\nYou cannot write\r\n\r\n        setCanvas(500,500);\r\n\r\nunless you are inside the &quot;StdDraw&quot; class where other methods of the &quot;StdDraw&quot; class call the &quot;setCanvas&quot; method.\r\n\r\nOtherwise, either you have to create an instance of the &quot;StdDraw&quot; class first:\r\n\r\n        e.g. StdDraw stdDraw = new StdDraw();\r\n\r\nand then use that instance to call the method:\r\n\r\n        e.g. stdDraw.setCanvas(500,500); \r\n\r\nor you call the method this way: \r\n\r\n        StdDraw.setcanvas(500,500);\r\n\r\nThis is the basic knowledge of Java, right? \r\n\r\nBy the way, if the &quot;StdDraw&quot; class is in the same directory as class &quot;Solver&quot;, you don&#39;t have to import it to use it. \r\n\r\nI use eclipse. I put class &quot;StdDraw&quot; in the same package with other classes. This way, I don&#39;t have to use the &quot;import&quot; key word to import &quot;StdDraw&quot;. I just use the methods of &quot;StdDraw&quot; the static way. You import it only when it is not in the same package.\r\n\r\nFYI: I&#39;m reading Robert Sedgewick&#39;s &quot;Algorithms&quot;, in which I&#39;ve never seen any direct calls to methods like the way you want:\r\n\r\n     uniform(N-i); or \r\n     printf(&quot;%.2f\\n&quot;, x); or\r\n     point(x0, y0); or\r\n     line(x0, y0, x1, y1); or\r\n     circle(x, y, r); or\r\n     square(x, y, r); or\r\n     polygon(x, y); etc. etc....\r\n\r\nInstead, it&#39;s always:\r\n\r\n     StdRandom.uniform(N-i); or \r\n     StdOut.printf(&quot;%.2f\\n&quot;, x); or\r\n     StdDraw.point(x0, y0); or\r\n     StdDraw.line(x0, y0, x1, y1); or\r\n     StdDraw.circle(x, y, r); or\r\n     StdDraw.square(x, y, r); or\r\n     StdDraw.polygon(x, y); etc. etc....\r\n\r\nI hope this helps. ","title":"How to import stddraw correctly?","body":"<p>You said: </p>\n\n<hr>\n\n<pre><code> What I want: Be able to write\n\n     setCanvas(500,500);\n\n Instead of\n\n     StdDraw.setcanvas(500,500);\n</code></pre>\n\n<hr>\n\n<p>Isn't that against the basic rules of Java? </p>\n\n<p>You cannot write</p>\n\n<pre><code>    setCanvas(500,500);\n</code></pre>\n\n<p>unless you are inside the \"StdDraw\" class where other methods of the \"StdDraw\" class call the \"setCanvas\" method.</p>\n\n<p>Otherwise, either you have to create an instance of the \"StdDraw\" class first:</p>\n\n<pre><code>    e.g. StdDraw stdDraw = new StdDraw();\n</code></pre>\n\n<p>and then use that instance to call the method:</p>\n\n<pre><code>    e.g. stdDraw.setCanvas(500,500); \n</code></pre>\n\n<p>or you call the method this way: </p>\n\n<pre><code>    StdDraw.setcanvas(500,500);\n</code></pre>\n\n<p>This is the basic knowledge of Java, right? </p>\n\n<p>By the way, if the \"StdDraw\" class is in the same directory as class \"Solver\", you don't have to import it to use it. </p>\n\n<p>I use eclipse. I put class \"StdDraw\" in the same package with other classes. This way, I don't have to use the \"import\" key word to import \"StdDraw\". I just use the methods of \"StdDraw\" the static way. You import it only when it is not in the same package.</p>\n\n<p>FYI: I'm reading Robert Sedgewick's \"Algorithms\", in which I've never seen any direct calls to methods like the way you want:</p>\n\n<pre><code> uniform(N-i); or \n printf(\"%.2f\\n\", x); or\n point(x0, y0); or\n line(x0, y0, x1, y1); or\n circle(x, y, r); or\n square(x, y, r); or\n polygon(x, y); etc. etc....\n</code></pre>\n\n<p>Instead, it's always:</p>\n\n<pre><code> StdRandom.uniform(N-i); or \n StdOut.printf(\"%.2f\\n\", x); or\n StdDraw.point(x0, y0); or\n StdDraw.line(x0, y0, x1, y1); or\n StdDraw.circle(x, y, r); or\n StdDraw.square(x, y, r); or\n StdDraw.polygon(x, y); etc. etc....\n</code></pre>\n\n<p>I hope this helps. </p>\n"},{"tags":[],"owner":{"account_id":14021322,"reputation":2467,"user_id":10127472,"display_name":"Jozott"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666394976,"creation_date":1574158657,"answer_id":58931603,"question_id":29136723,"body_markdown":"You need to add Stdlib to your local libraries of your java project.\r\nStdDraw is part of this Stdlib library.\r\n\r\n 1. First you need to [download][1] the stdlib.jar file \r\n 2. Then you create a folder in your java project (name it &quot;lib&quot;)\r\n 3. Copy &amp; Paste the stdlib.jar inside the lib folder\r\n 4. Open your java project with IntelliJ. \r\n 5. Click File -&gt; Project Structure -&gt; Modules -&gt; Dependencies\r\n 6. Click on the + sign and choose Library -&gt; Java\r\n 7. Then you need to select your stdlib.jar inside your lib folder\r\n\r\nNow you can use the StdDraw class. You don&#39;t need to import the class at the top of the file.\r\n\r\n  [1]: https://introcs.cs.princeton.edu/java/stdlib/","title":"How to import stddraw correctly?","body":"<p>You need to add Stdlib to your local libraries of your java project.\nStdDraw is part of this Stdlib library.</p>\n<ol>\n<li>First you need to <a href=\"https://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">download</a> the stdlib.jar file</li>\n<li>Then you create a folder in your java project (name it &quot;lib&quot;)</li>\n<li>Copy &amp; Paste the stdlib.jar inside the lib folder</li>\n<li>Open your java project with IntelliJ.</li>\n<li>Click File -&gt; Project Structure -&gt; Modules -&gt; Dependencies</li>\n<li>Click on the + sign and choose Library -&gt; Java</li>\n<li>Then you need to select your stdlib.jar inside your lib folder</li>\n</ol>\n<p>Now you can use the StdDraw class. You don't need to import the class at the top of the file.</p>\n"}],"owner":{"account_id":5934485,"reputation":41,"user_id":4667962,"display_name":"Morgantuan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39785,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1666394976,"creation_date":1426735623,"question_id":29136723,"body_markdown":"Editor: IntelliJ CE\r\n\r\nWhat I want: Be able to write \r\n\r\n    setCanvas(500,500);\r\n\r\nInstead of\r\n\r\n    StdDraw.setcanvas(500,500);\r\n\r\nProblem: I can&#39;t figure out how to correctly import the Stddraw library. \r\nIf i simply do\r\n\r\n    import StdDraw;\r\n\r\nIntelliJ tells me &quot;StdDraw&quot; symbol cannot be resolved.\r\nIf I comment it out I can call methods from StdDraw but I have to write\r\n    StdDraw.setcanvas(500,500);\r\n\r\nStdDraw.java is in the same directory as Solver.java.\r\n\r\nCode:\r\n\r\n        import java.io.File;\r\n        import java.io.FileNotFoundException;\r\n        import java.util.ArrayList;\r\n        import java.util.Scanner;\r\n    //    import StdDraw;//StdDraw is in the same directory as Solver\r\n        \r\n    public class Solver {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Solver main is running.&quot;);\r\n\r\n            StdDraw.setCanvasSize(500, 500);\r\n            StdDraw.setPenColor(StdDraw.RED);\r\n            StdDraw.filledRectangle(0,0,10,10);\r\n         }\r\n    }\r\n\r\nI&#39;ve already tried:\r\n- Making sure Stddraw.java is in the same directory as the file I&#39;m compiling and running\r\n- Looking at http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html\r\n- Searching for COMPLETE code examples, ie. code that shows how to import the library\r\n- Searching YouTube tutorials\r\n- Reading https://www.jetbrains.com/idea/help/library.html\r\n- Fiddling around with adding stuff in front of StdDraw, eg. stblib.StdDraw","title":"How to import stddraw correctly?","body":"<p>Editor: IntelliJ CE</p>\n\n<p>What I want: Be able to write </p>\n\n<pre><code>setCanvas(500,500);\n</code></pre>\n\n<p>Instead of</p>\n\n<pre><code>StdDraw.setcanvas(500,500);\n</code></pre>\n\n<p>Problem: I can't figure out how to correctly import the Stddraw library. \nIf i simply do</p>\n\n<pre><code>import StdDraw;\n</code></pre>\n\n<p>IntelliJ tells me \"StdDraw\" symbol cannot be resolved.\nIf I comment it out I can call methods from StdDraw but I have to write\n    StdDraw.setcanvas(500,500);</p>\n\n<p>StdDraw.java is in the same directory as Solver.java.</p>\n\n<p>Code:</p>\n\n<pre><code>    import java.io.File;\n    import java.io.FileNotFoundException;\n    import java.util.ArrayList;\n    import java.util.Scanner;\n//    import StdDraw;//StdDraw is in the same directory as Solver\n\npublic class Solver {\n\n    public static void main(String[] args) {\n        System.out.println(\"Solver main is running.\");\n\n        StdDraw.setCanvasSize(500, 500);\n        StdDraw.setPenColor(StdDraw.RED);\n        StdDraw.filledRectangle(0,0,10,10);\n     }\n}\n</code></pre>\n\n<p>I've already tried:\n- Making sure Stddraw.java is in the same directory as the file I'm compiling and running\n- Looking at <a href=\"http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html\" rel=\"nofollow\">http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html</a>\n- Searching for COMPLETE code examples, ie. code that shows how to import the library\n- Searching YouTube tutorials\n- Reading <a href=\"https://www.jetbrains.com/idea/help/library.html\" rel=\"nofollow\">https://www.jetbrains.com/idea/help/library.html</a>\n- Fiddling around with adding stuff in front of StdDraw, eg. stblib.StdDraw</p>\n"},{"tags":["java","google-cloud-platform"],"comments":[{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":0,"creation_date":1666965466,"post_id":74160036,"comment_id":131065686,"body_markdown":"Hi @user2930137, Can you try this [code](https://cloud.google.com/pubsub/docs/samples/pubsub-publisher-with-compression#code-sample) to Publish messages with compression rate?","body":"Hi @user2930137, Can you try this <a href=\"https://cloud.google.com/pubsub/docs/samples/pubsub-publisher-with-compression#code-sample\" rel=\"nofollow noreferrer\">code</a> to Publish messages with compression rate?"},{"owner":{"account_id":3504217,"reputation":63,"user_id":2930137,"accept_rate":20,"display_name":"user2930137"},"score":0,"creation_date":1667535519,"post_id":74160036,"comment_id":131194232,"body_markdown":"@PrajnaRaiT I wanted to know how to know what is the message compressed size. I currently know how to compress by google but I need the compress size in order to other validations.","body":"@PrajnaRaiT I wanted to know how to know what is the message compressed size. I currently know how to compress by google but I need the compress size in order to other validations."}],"owner":{"account_id":3504217,"reputation":63,"user_id":2930137,"accept_rate":20,"display_name":"user2930137"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666394852,"creation_date":1666394852,"question_id":74160036,"body_markdown":"    Publisher publisher = Publisher.newBuilder(topicName)\r\n    \t\t\t\t\t.**setEnableCompression(true)\r\n    \t\t\t\t\t.setCompressionBytesThreshold(100000L)**\r\n    \t\t\t\t\t.build();\r\n    \r\n    ByteString data = ByteString.copyFromUtf8(aBigMessage);\r\n    \t        \t \t    PubsubMessage pubsubMessage = PubsubMessage.newBuilder()\r\n    \t        \t \t    \t\t.setData(data)\r\n    \t        \t \t    \t\t.build();\r\n    ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\r\n\r\nHow can I get the pubsubMessage compressed size before send publish?","title":"How can I get the google pubsub compress data size?","body":"<pre><code>Publisher publisher = Publisher.newBuilder(topicName)\n                    .**setEnableCompression(true)\n                    .setCompressionBytesThreshold(100000L)**\n                    .build();\n\nByteString data = ByteString.copyFromUtf8(aBigMessage);\n                        PubsubMessage pubsubMessage = PubsubMessage.newBuilder()\n                                .setData(data)\n                                .build();\nApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\n</code></pre>\n<p>How can I get the pubsubMessage compressed size before send publish?</p>\n"},{"tags":["java","database","dynamic"],"comments":[{"owner":{"account_id":960053,"reputation":838,"user_id":984618,"accept_rate":82,"display_name":"Stefan"},"score":1,"creation_date":1324407525,"post_id":8580017,"comment_id":10640683,"body_markdown":"I have used 1 and it is a pain even with materialized views. They become huge and prone to errors(DBA used =&#39;SIBLING&#39; instead of =&#39;Sibling&#39; in one of the conditions).","body":"I have used 1 and it is a pain even with materialized views. They become huge and prone to errors(DBA used =&#39;SIBLING&#39; instead of =&#39;Sibling&#39; in one of the conditions)."}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666394796,"creation_date":1324407459,"answer_id":8580512,"question_id":8580017,"body_markdown":"Your option 1 is the [Entity-Attribute-Value][1] antipattern.  \r\n\r\nSee my answer to [Product table, many kinds of product, each product has many parameters][2] and my blog post [EAV FAIL][3] for alternatives and some reasons why EAV is wrong, at least for a relational database (I cover EAV in my book, [SQL Antipatterns Volume 1: Avoiding the Pitfalls of Database Programming][4]).\r\n\r\nAlso read this article about how a similar structure nearly doomed a company: [Bad CaRMa][5].\r\n\r\nYour options 2 &amp; 3 are similar to described in [How FriendFeed uses MySQL to store schema-less data][6].  I don&#39;t know of any automatic way for an ORM to maintain that structure for you.  You do have the chore of keeping your inverted index tables in sync with your LOB data.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model\r\n  [2]: https://stackoverflow.com/a/695860/20860\r\n  [3]: https://karwin.com/blog/index.php/2009/05/21/eav-fail/\r\n  [4]: https://pragprog.com/titles/bksap1/sql-antipatterns-volume-1/\r\n  [5]: http://www.simple-talk.com/opinion/opinion-pieces/bad-carma/\r\n  [6]: http://bret.appspot.com/entry/how-friendfeed-uses-mysql","title":"Variable structure in a DB table to be read in a Web form","body":"<p>Your option 1 is the <a href=\"http://en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model\" rel=\"nofollow noreferrer\">Entity-Attribute-Value</a> antipattern.</p>\n<p>See my answer to <a href=\"https://stackoverflow.com/a/695860/20860\">Product table, many kinds of product, each product has many parameters</a> and my blog post <a href=\"https://karwin.com/blog/index.php/2009/05/21/eav-fail/\" rel=\"nofollow noreferrer\">EAV FAIL</a> for alternatives and some reasons why EAV is wrong, at least for a relational database (I cover EAV in my book, <a href=\"https://pragprog.com/titles/bksap1/sql-antipatterns-volume-1/\" rel=\"nofollow noreferrer\">SQL Antipatterns Volume 1: Avoiding the Pitfalls of Database Programming</a>).</p>\n<p>Also read this article about how a similar structure nearly doomed a company: <a href=\"http://www.simple-talk.com/opinion/opinion-pieces/bad-carma/\" rel=\"nofollow noreferrer\">Bad CaRMa</a>.</p>\n<p>Your options 2 &amp; 3 are similar to described in <a href=\"http://bret.appspot.com/entry/how-friendfeed-uses-mysql\" rel=\"nofollow noreferrer\">How FriendFeed uses MySQL to store schema-less data</a>.  I don't know of any automatic way for an ORM to maintain that structure for you.  You do have the chore of keeping your inverted index tables in sync with your LOB data.</p>\n"}],"owner":{"account_id":1116779,"reputation":104,"user_id":1105944,"accept_rate":67,"display_name":"Ema"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666394796,"creation_date":1324404888,"question_id":8580017,"body_markdown":"I have a &quot;variable&quot; structure to be put in a table DB. By &quot;variable&quot; I mean a sequence of couples field/value in which the &quot;kind&quot; of field determines the value type, I don&#39;t know exactly field order and I don&#39;t know how many times fields can repeat. Sometimes group of fields will repeat several times (it is a fiscal model).\r\n\r\nAdditional requirement: I should map these variable data into web page forms, handling some CRUD work.\r\nJQuery-ui, Struts 2, Hibernate. Preferred DBMS: MySQL.\r\n\r\nThe solutions I thought of:\r\n\r\n 1. vertical table. I could have some performance issue, which I could resolve with materialized views that &quot;pivot&quot; the rows in columns when I need massive data process. Not gone so far in this direction as it seems to be very expensive for development.\r\n 2. LOB fields. Pack my columns into one of those, perhaps having a &quot;mapping&quot; table to decode each column. My idea is to pull-out searchable fields as &quot;real&quot; columns in order to leave in the LOB just the less interesting mob of data and not to generate performance problems.\r\n 3. or better 2a. Use an xml inside the LOB field. This could be useful to pack/unpack data more comfortably, specially having to map data to a web form.\r\n\r\nWhat do you think? And more, is there some way to create automatic views from xml fields? Or better to map such data to web form? I suspect Hibernate Tools won&#39;t work in any of the cases I described.\r\n\r\nI hope I have been clear, it&#39;s still a bit confusing even to me :)","title":"Variable structure in a DB table to be read in a Web form","body":"<p>I have a \"variable\" structure to be put in a table DB. By \"variable\" I mean a sequence of couples field/value in which the \"kind\" of field determines the value type, I don't know exactly field order and I don't know how many times fields can repeat. Sometimes group of fields will repeat several times (it is a fiscal model).</p>\n\n<p>Additional requirement: I should map these variable data into web page forms, handling some CRUD work.\nJQuery-ui, Struts 2, Hibernate. Preferred DBMS: MySQL.</p>\n\n<p>The solutions I thought of:</p>\n\n<ol>\n<li>vertical table. I could have some performance issue, which I could resolve with materialized views that \"pivot\" the rows in columns when I need massive data process. Not gone so far in this direction as it seems to be very expensive for development.</li>\n<li>LOB fields. Pack my columns into one of those, perhaps having a \"mapping\" table to decode each column. My idea is to pull-out searchable fields as \"real\" columns in order to leave in the LOB just the less interesting mob of data and not to generate performance problems.</li>\n<li>or better 2a. Use an xml inside the LOB field. This could be useful to pack/unpack data more comfortably, specially having to map data to a web form.</li>\n</ol>\n\n<p>What do you think? And more, is there some way to create automatic views from xml fields? Or better to map such data to web form? I suspect Hibernate Tools won't work in any of the cases I described.</p>\n\n<p>I hope I have been clear, it's still a bit confusing even to me :)</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":23674946,"reputation":304,"user_id":17701296,"display_name":"Nadia Tarashkevich"},"score":0,"creation_date":1666393081,"post_id":74159663,"comment_id":130934535,"body_markdown":"Try pressing Shift+Shift, then type &quot;Show usages&quot; command. The result will point you to all relevant commands and settings (including shortcuts).","body":"Try pressing Shift+Shift, then type &quot;Show usages&quot; command. The result will point you to all relevant commands and settings (including shortcuts)."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1666593908,"post_id":74159663,"comment_id":130965218,"body_markdown":"Please check Inlay Hints settings under `Settings/Preferences | Editor | Inlay Hints`","body":"Please check Inlay Hints settings under <code>Settings&#47;Preferences | Editor | Inlay Hints</code>"}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666391984,"creation_date":1666391984,"answer_id":74159776,"question_id":74159663,"body_markdown":"`ctrl + b` to show usages\r\n\r\n`ctrl + alt + b` to show implementations ","title":"How to show usages in UI within Intellij IDE","body":"<p><code>ctrl + b</code> to show usages</p>\n<p><code>ctrl + alt + b</code> to show implementations</p>\n"}],"owner":{"account_id":24230686,"reputation":3,"user_id":18184487,"display_name":"ddad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74159776,"answer_count":1,"score":0,"last_activity_date":1666391984,"creation_date":1666390861,"question_id":74159663,"body_markdown":"I accidentally disabled the &quot;show usages&quot; UI feature in intellij and I cannot seem to figure out how to find it.\r\n\r\nFor example, it would sit above any fields, methods, or classes that were used within the project.\r\n\r\nSo, if I used the field in [this image][1], it would show &quot;usages&quot; which I could highlight and go to its use in the project.\r\n\r\nHow do I restore this feature?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2QBfG.png","title":"How to show usages in UI within Intellij IDE","body":"<p>I accidentally disabled the &quot;show usages&quot; UI feature in intellij and I cannot seem to figure out how to find it.</p>\n<p>For example, it would sit above any fields, methods, or classes that were used within the project.</p>\n<p>So, if I used the field in <a href=\"https://i.stack.imgur.com/2QBfG.png\" rel=\"nofollow noreferrer\">this image</a>, it would show &quot;usages&quot; which I could highlight and go to its use in the project.</p>\n<p>How do I restore this feature?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1666390662,"post_id":74159619,"comment_id":130934172,"body_markdown":"Why don&#39;t you return then?","body":"Why don&#39;t you return then?"}],"answers":[{"tags":[],"owner":{"account_id":20305274,"reputation":732,"user_id":14893722,"display_name":"timsmelik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666391185,"creation_date":1666391185,"answer_id":74159694,"question_id":74159619,"body_markdown":"Your array is of size `21` and initialized as all zeros. All numbers you don&#39;t overwrite with the user input will remain zeros, which means that in the case of your test input `5 9 2 2 1 4 5 5 -1`, you get another 12 zeros.\r\n\r\nTry placing a breakpoint after the part of the code that parses the user input and have a look at `b`.","title":"Why does my code output an extra &quot;0&quot; after finding the most frequent integer in an array?","body":"<p>Your array is of size <code>21</code> and initialized as all zeros. All numbers you don't overwrite with the user input will remain zeros, which means that in the case of your test input <code>5 9 2 2 1 4 5 5 -1</code>, you get another 12 zeros.</p>\n<p>Try placing a breakpoint after the part of the code that parses the user input and have a look at <code>b</code>.</p>\n"}],"owner":{"account_id":25490764,"reputation":21,"user_id":20304805,"display_name":"Kirito"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666391185,"creation_date":1666390435,"question_id":74159619,"body_markdown":"An example of integers entered would be: 5 9 2 2 1 4 5 5 -1 and my code&#39;s output is &quot;5 0&quot;. In this example array, I only need it to display &quot;5  &quot;. Try it yourself with any combination of integer input, ending your input with a -1 and you&#39;ll get the most frequent integer with a zero. Any ideas why my code does this?\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scnr = new Scanner(System.in); \r\n\r\n        int[] b = new int[21];\r\n\r\n        for (int i = 0; i &lt; b.length; ++i) { //integer input from user\r\n            b[i] = scnr.nextInt();\r\n            if (b[i] == -1) {    //array input stops when input is -1\r\n                break;\r\n            }\r\n        }\r\n        int maxcount = 0;\r\n        int element_having_max_freq;\r\n        for (int i = 0; i &lt; b.length; ++i) {\r\n            int count = 0;\r\n            for (int j = 0; j &lt; b.length; ++j) {\r\n                if (b[i] == b[j]) {\r\n                    count = count + 1;\r\n                }\r\n            }\r\n\r\n            if (count &gt; maxcount) {\r\n                maxcount = count;\r\n                element_having_max_freq = b[i];\r\n                System.out.println(element_having_max_freq+ &quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Why does my code output an extra &quot;0&quot; after finding the most frequent integer in an array?","body":"<p>An example of integers entered would be: 5 9 2 2 1 4 5 5 -1 and my code's output is &quot;5 0&quot;. In this example array, I only need it to display &quot;5  &quot;. Try it yourself with any combination of integer input, ending your input with a -1 and you'll get the most frequent integer with a zero. Any ideas why my code does this?</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Scanner scnr = new Scanner(System.in); \n\n        int[] b = new int[21];\n\n        for (int i = 0; i &lt; b.length; ++i) { //integer input from user\n            b[i] = scnr.nextInt();\n            if (b[i] == -1) {    //array input stops when input is -1\n                break;\n            }\n        }\n        int maxcount = 0;\n        int element_having_max_freq;\n        for (int i = 0; i &lt; b.length; ++i) {\n            int count = 0;\n            for (int j = 0; j &lt; b.length; ++j) {\n                if (b[i] == b[j]) {\n                    count = count + 1;\n                }\n            }\n\n            if (count &gt; maxcount) {\n                maxcount = count;\n                element_having_max_freq = b[i];\n                System.out.println(element_having_max_freq+ &quot; &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":2317949,"reputation":79,"user_id":2034519,"accept_rate":83,"display_name":"user2034519"},"score":0,"creation_date":1666389053,"post_id":74159347,"comment_id":130933868,"body_markdown":"yeah, the problem how do I map the List ( with just one element) in source class to TargetPhone class..","body":"yeah, the problem how do I map the List ( with just one element) in source class to TargetPhone class.."}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666391036,"creation_date":1666389245,"answer_id":74159502,"question_id":74159347,"body_markdown":"Your mapper should be defined as shown below.\r\n\r\n    @Mapper\r\n    public interface MyMapper {\r\n    \r\n        @Mapping(source=&quot;name&quot;, target=&quot;myName&quot;)\r\n        @Mapping(source=&quot;age&quot;, target=&quot;myAge&quot;)\r\n        @Mapping(source=&quot;phones&quot;, target=&quot;targetPhone&quot;)\r\n        Target sourceToTarget(Source source);\r\n    \r\n    \r\n        @Mapping(source = &quot;id&quot;, target = &quot;myId&quot;)\r\n        @Mapping(source = &quot;phoneNumber&quot;, target = &quot;myPhoneNumber&quot;)\r\n        @Mapping(source=&quot;phoneColor&quot;, target=&quot;myPhoneColor&quot;)\r\n        TargetPhone phoneToTargetPhone(Phone phone);\r\n    \r\n        default TargetPhone listPhonesToTargetPhone(List&lt;Phone&gt; phones){\r\n            return phoneToTargetPhone(phones.get(0));\r\n        }\r\n    \r\n    }\r\n\r\nWhere the default method does the magic of mapping the first element of `Phone` list to `TargetPhone`. ","title":"Map collection to an object using mapstruct","body":"<p>Your mapper should be defined as shown below.</p>\n<pre><code>@Mapper\npublic interface MyMapper {\n\n    @Mapping(source=&quot;name&quot;, target=&quot;myName&quot;)\n    @Mapping(source=&quot;age&quot;, target=&quot;myAge&quot;)\n    @Mapping(source=&quot;phones&quot;, target=&quot;targetPhone&quot;)\n    Target sourceToTarget(Source source);\n\n\n    @Mapping(source = &quot;id&quot;, target = &quot;myId&quot;)\n    @Mapping(source = &quot;phoneNumber&quot;, target = &quot;myPhoneNumber&quot;)\n    @Mapping(source=&quot;phoneColor&quot;, target=&quot;myPhoneColor&quot;)\n    TargetPhone phoneToTargetPhone(Phone phone);\n\n    default TargetPhone listPhonesToTargetPhone(List&lt;Phone&gt; phones){\n        return phoneToTargetPhone(phones.get(0));\n    }\n\n}\n</code></pre>\n<p>Where the default method does the magic of mapping the first element of <code>Phone</code> list to <code>TargetPhone</code>.</p>\n"}],"owner":{"account_id":2317949,"reputation":79,"user_id":2034519,"accept_rate":83,"display_name":"user2034519"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74159502,"answer_count":1,"score":0,"last_activity_date":1666391036,"creation_date":1666387994,"question_id":74159347,"body_markdown":"\r\nHow can I define following mapping using Mapstruct java bean mapping. The problem how do I map the List ( with just one element) in source class to TargetPhone class\r\n\r\nSource classes\r\n-----------------\r\n\r\n\tclass Source{\r\n    \tprivate String name;\r\n   \t \tprivate int age;\r\n        **This list always contain one element   \r\n        and I cannot change this behavior or structure of this class**\r\n    \tprivate List&lt;Phone&gt; phones;\r\n\t}\r\n\r\n\r\n\tclass Phone{\r\n        private Long id;\r\n        private String phoneNumber;\r\n        private String phoneColor;\r\n        // getters and setters\r\n    }\r\n\t\r\n\t\r\nTarget classes\r\n------------------\r\n\r\n\tclass Target{\r\n\t    private String myName; **--&gt;should map to Source.name**\r\n\t    private int myAge; **--&gt;should map to Source.age**\r\n\t    private TargetPhone targetPhone;\r\n\t    // getters and setters\r\n\t}\r\n\t\r\n\r\n    class TargetPhone{\r\n\t        private Long myId;  **--&gt;should map to Source.phones[0].id**\r\n\t        private String myPhoneNumber;  **--&gt;should map to Source.phones[0].phoneNumber**\r\n\t        private String myPhoneColor;  **--&gt;should map to Source.phones[0].phoneColor**\r\n\t        // getters and setters\r\n\t    }","title":"Map collection to an object using mapstruct","body":"<p>How can I define following mapping using Mapstruct java bean mapping. The problem how do I map the List ( with just one element) in source class to TargetPhone class</p>\n<h2>Source classes</h2>\n<pre><code>class Source{\n    private String name;\n    private int age;\n    **This list always contain one element   \n    and I cannot change this behavior or structure of this class**\n    private List&lt;Phone&gt; phones;\n}\n\n\nclass Phone{\n    private Long id;\n    private String phoneNumber;\n    private String phoneColor;\n    // getters and setters\n}\n</code></pre>\n<h2>Target classes</h2>\n<pre><code>class Target{\n    private String myName; **--&gt;should map to Source.name**\n    private int myAge; **--&gt;should map to Source.age**\n    private TargetPhone targetPhone;\n    // getters and setters\n}\n\n\nclass TargetPhone{\n        private Long myId;  **--&gt;should map to Source.phones[0].id**\n        private String myPhoneNumber;  **--&gt;should map to Source.phones[0].phoneNumber**\n        private String myPhoneColor;  **--&gt;should map to Source.phones[0].phoneColor**\n        // getters and setters\n    }\n</code></pre>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666390755,"post_id":74149436,"comment_id":130934191,"body_markdown":"If you cannot quickly fix-forward then perhaps the solution is to reverse your migration, and test the migration more fully in a nonprod environment.","body":"If you cannot quickly fix-forward then perhaps the solution is to reverse your migration, and test the migration more fully in a nonprod environment."},{"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"score":0,"creation_date":1666454866,"post_id":74149436,"comment_id":130943257,"body_markdown":"Reversing migration means coming back to V1.x from V2.x of h2db we have already released V2.x in our application and many of our customers have migrated to the newer version. Also, V1.x has listed vulnerabilities i.e. we have done this migration.","body":"Reversing migration means coming back to V1.x from V2.x of h2db we have already released V2.x in our application and many of our customers have migrated to the newer version. Also, V1.x has listed vulnerabilities i.e. we have done this migration."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666456979,"post_id":74149436,"comment_id":130943712,"body_markdown":"Well, I accept that you regard the migration as done, but this may be the consequences of undertaking a migration without fully testing it first. You can fix forward, but that may mean several days of downtime. The error appears to be arcane and, assuming you have already thoroughly researched the error, it may not be a trivially solveable problem.","body":"Well, I accept that you regard the migration as done, but this may be the consequences of undertaking a migration without fully testing it first. You can fix forward, but that may mean several days of downtime. The error appears to be arcane and, assuming you have already thoroughly researched the error, it may not be a trivially solveable problem."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666457075,"post_id":74149436,"comment_id":130943741,"body_markdown":"I have no specific expertise here, but there are some generally applicable fixes. Did you do a full database dump in the old version and a full database import in the new version? I wonder if there is a binary format incompatibility, and the migrate operation in your question is insufficient.","body":"I have no specific expertise here, but there are some generally applicable fixes. Did you do a full database dump in the old version and a full database import in the new version? I wonder if there is a binary format incompatibility, and the migrate operation in your question is insufficient."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666457176,"post_id":74149436,"comment_id":130943766,"body_markdown":"Do you have any commercial support for H2 that you can call upon?","body":"Do you have any commercial support for H2 that you can call upon?"},{"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"score":0,"creation_date":1666782385,"post_id":74149436,"comment_id":131016083,"body_markdown":"Yes the migration was done with great care. If there is any incompatibility then h2 would not have allowed the migration process to be successful. No i don&#39;t have any commercial support but i have raised this question on h2 github but still didn&#39;t find any solution.\n\nhttps://github.com/h2database/h2database/issues/3662\n\nApologise for the late response.","body":"Yes the migration was done with great care. If there is any incompatibility then h2 would not have allowed the migration process to be successful. No i don&#39;t have any commercial support but i have raised this question on h2 github but still didn&#39;t find any solution.  <a href=\"https://github.com/h2database/h2database/issues/3662\" rel=\"nofollow noreferrer\">github.com/h2database/h2database/issues/3662</a>  Apologise for the late response."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666798805,"post_id":74149436,"comment_id":131022476,"body_markdown":"Maybe you could get some consulting for H2 - either your account manager might be able to recommend someone, or you could find a consulting platform like AirPair, and pay on an hourly basis.","body":"Maybe you could get some consulting for H2 - either your account manager might be able to recommend someone, or you could find a consulting platform like AirPair, and pay on an hourly basis."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666798872,"post_id":74149436,"comment_id":131022511,"body_markdown":"I also suggested a full dump and restore, that might be worth looking at.","body":"I also suggested a full dump and restore, that might be worth looking at."},{"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"score":0,"creation_date":1666857062,"post_id":74149436,"comment_id":131035625,"body_markdown":"Thanks for your suggestion, will ask the same.","body":"Thanks for your suggestion, will ask the same."}],"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666390716,"creation_date":1666332817,"question_id":74149436,"body_markdown":"I have recently migrated h2db from version 1.X to version 2.X with the below steps\r\n\r\n    Step1) java -cp h2-1.4.192.jar org.h2.tools.RunScript -url jdbc:h2:./h2db -script migrate.sql\r\n\r\nSome alters in migrate.sql.\r\n\r\n    Step2) java -cp h2-1.4.192.jar org.h2.tools.Script -url jdbc:h2:./h2db -script h2db.zip -options compression zip\r\n\r\n    Step3) java -cp h2-2.1.212.jar org.h2.tools.RunScript -url jdbc:h2:./h2db -script h2db.zip -options compression zip FROM_1X\r\n\r\nAll works well and the application was started and running fine. My application uses the latest version of h2db 2.1.214 while the h2db.mv.db file was created with version 2.1.212. I restarted the application and suddenly I got the below error while it was creating the cached table. Also I tried to connect H2db with h2 console and got the same error. Screenshot attached. This issue occurs on customer production environment and now customer is not able to access the application.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nError which I am getting is when h2db file created with version 2.1.212 and also accessed by the same version\r\n\r\n    Exception in thread &quot;main&quot; **org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;Chunk 849734 not found [2.1.212/9]&quot;; SQL statement:**\r\n    CREATE CACHED TABLE &quot;PUBLIC&quot;.&quot;ABC_XYZ&quot;(\r\n        &quot;ID&quot; BIGINT SELECTIVITY 100 NOT NULL,\r\n        &quot;MACHINE_ID&quot; BIGINT SELECTIVITY 1,\r\n        &quot;WHEN_CREATED&quot; BIGINT SELECTIVITY 100 NOT NULL,\r\n        &quot;STATE&quot; INTEGER SELECTIVITY 1,\r\n        &quot;WHEN_STATE_LAST_CHANGED&quot; BIGINT SELECTIVITY 1,\r\n        &quot;WHO_CHANGED_STATE_LAST&quot; BIGINT SELECTIVITY 1\r\n    ) [50000-212]\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:554)\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n            at org.h2.message.DbException.get(DbException.java:212)\r\n            at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:170)\r\n            at org.h2.mvstore.db.Store.createTable(Store.java:220)\r\n            at org.h2.schema.Schema.createTable(Schema.java:781)\r\n            at org.h2.command.ddl.CreateTable.update(CreateTable.java:109)\r\n            at org.h2.engine.MetaRecord.prepareAndExecute(MetaRecord.java:77)\r\n            at org.h2.engine.Database.executeMeta(Database.java:660)\r\n            at org.h2.engine.Database.executeMeta(Database.java:634)\r\n            at org.h2.engine.Database.&lt;init&gt;(Database.java:357)\r\n            at org.h2.engine.Engine.openSession(Engine.java:92)\r\n            at org.h2.engine.Engine.openSession(Engine.java:222)\r\n            at org.h2.engine.Engine.createSession(Engine.java:201)\r\n            at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)\r\n            at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:122)\r\n            at org.h2.util.JdbcUtils.getConnection(JdbcUtils.java:288)\r\n            at org.h2.util.JdbcUtils.getConnection(JdbcUtils.java:270)\r\n            at org.h2.tools.Shell.runTool(Shell.java:146)\r\n            at org.h2.tools.Shell.main(Shell.java:80)\r\n    Caused by: org.h2.mvstore.MVStoreException: Chunk 849734 not found [2.1.212/9]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ohTWD.png","title":"H2db Error org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;Chunk not found&quot;","body":"<p>I have recently migrated h2db from version 1.X to version 2.X with the below steps</p>\n<pre><code>Step1) java -cp h2-1.4.192.jar org.h2.tools.RunScript -url jdbc:h2:./h2db -script migrate.sql\n</code></pre>\n<p>Some alters in migrate.sql.</p>\n<pre><code>Step2) java -cp h2-1.4.192.jar org.h2.tools.Script -url jdbc:h2:./h2db -script h2db.zip -options compression zip\n\nStep3) java -cp h2-2.1.212.jar org.h2.tools.RunScript -url jdbc:h2:./h2db -script h2db.zip -options compression zip FROM_1X\n</code></pre>\n<p>All works well and the application was started and running fine. My application uses the latest version of h2db 2.1.214 while the h2db.mv.db file was created with version 2.1.212. I restarted the application and suddenly I got the below error while it was creating the cached table. Also I tried to connect H2db with h2 console and got the same error. Screenshot attached. This issue occurs on customer production environment and now customer is not able to access the application.</p>\n<p><a href=\"https://i.stack.imgur.com/ohTWD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ohTWD.png\" alt=\"enter image description here\" /></a></p>\n<p>Error which I am getting is when h2db file created with version 2.1.212 and also accessed by the same version</p>\n<pre><code>Exception in thread &quot;main&quot; **org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;Chunk 849734 not found [2.1.212/9]&quot;; SQL statement:**\nCREATE CACHED TABLE &quot;PUBLIC&quot;.&quot;ABC_XYZ&quot;(\n    &quot;ID&quot; BIGINT SELECTIVITY 100 NOT NULL,\n    &quot;MACHINE_ID&quot; BIGINT SELECTIVITY 1,\n    &quot;WHEN_CREATED&quot; BIGINT SELECTIVITY 100 NOT NULL,\n    &quot;STATE&quot; INTEGER SELECTIVITY 1,\n    &quot;WHEN_STATE_LAST_CHANGED&quot; BIGINT SELECTIVITY 1,\n    &quot;WHO_CHANGED_STATE_LAST&quot; BIGINT SELECTIVITY 1\n) [50000-212]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:554)\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n        at org.h2.message.DbException.get(DbException.java:212)\n        at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:170)\n        at org.h2.mvstore.db.Store.createTable(Store.java:220)\n        at org.h2.schema.Schema.createTable(Schema.java:781)\n        at org.h2.command.ddl.CreateTable.update(CreateTable.java:109)\n        at org.h2.engine.MetaRecord.prepareAndExecute(MetaRecord.java:77)\n        at org.h2.engine.Database.executeMeta(Database.java:660)\n        at org.h2.engine.Database.executeMeta(Database.java:634)\n        at org.h2.engine.Database.&lt;init&gt;(Database.java:357)\n        at org.h2.engine.Engine.openSession(Engine.java:92)\n        at org.h2.engine.Engine.openSession(Engine.java:222)\n        at org.h2.engine.Engine.createSession(Engine.java:201)\n        at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)\n        at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:122)\n        at org.h2.util.JdbcUtils.getConnection(JdbcUtils.java:288)\n        at org.h2.util.JdbcUtils.getConnection(JdbcUtils.java:270)\n        at org.h2.tools.Shell.runTool(Shell.java:146)\n        at org.h2.tools.Shell.main(Shell.java:80)\nCaused by: org.h2.mvstore.MVStoreException: Chunk 849734 not found [2.1.212/9]\n</code></pre>\n"},{"tags":["java","calendar","output","user-input"],"comments":[{"owner":{"account_id":25952562,"reputation":1,"user_id":19670376,"display_name":"NEWCODE"},"score":0,"creation_date":1666378807,"post_id":74158123,"comment_id":130931410,"body_markdown":"I&#39;m sorry about the formatting issues.","body":"I&#39;m sorry about the formatting issues."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1666380363,"post_id":74158123,"comment_id":130931830,"body_markdown":"Since you mentioned already taking care of new year, it&#39;s relevant to read this if you&#39;re working with time and dates: https://gist.github.com/timvisee/fcda9bbdff88d45cc9061606b4b923ca  It&#39;s so complicated that the original Java utilities for working with time and dates had a lot of problems, and they eventually added the `java.time` package to the standard library to fix all the issues. This is not a trivial issue at all. Personally, I wouldn&#39;t attempt coding it myself from scratch as an exercise, because it sounds like torture. I&#39;d just use the `java.time` package.","body":"Since you mentioned already taking care of new year, it&#39;s relevant to read this if you&#39;re working with time and dates: <a href=\"https://gist.github.com/timvisee/fcda9bbdff88d45cc9061606b4b923ca\" rel=\"nofollow noreferrer\">gist.github.com/timvisee/fcda9bbdff88d45cc9061606b4b923ca</a>  It&#39;s so complicated that the original Java utilities for working with time and dates had a lot of problems, and they eventually added the <code>java.time</code> package to the standard library to fix all the issues. This is not a trivial issue at all. Personally, I wouldn&#39;t attempt coding it myself from scratch as an exercise, because it sounds like torture. I&#39;d just use the <code>java.time</code> package."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1666381180,"post_id":74158123,"comment_id":130932050,"body_markdown":"Also, your code is Java and has nothing to do with Javascript.","body":"Also, your code is Java and has nothing to do with Javascript."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666390598,"post_id":74158123,"comment_id":130934156,"body_markdown":"I fixed your formatting. But you can learn to do so yourself: Either indent all lines by four spaces OR wrap in a pair of triple back-ticks.","body":"I fixed your formatting. But you can learn to do so yourself: Either indent all lines by four spaces OR wrap in a pair of triple back-ticks."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666390664,"post_id":74158123,"comment_id":130934174,"body_markdown":"If doing schoolwork, **say so**. Our answers will vary accordingly. In this case, if you were doing real work we would replace all your code to use instead the built-in *java.time* classes.","body":"If doing schoolwork, <b>say so</b>. Our answers will vary accordingly. In this case, if you were doing real work we would replace all your code to use instead the built-in <i>java.time</i> classes."},{"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"score":1,"creation_date":1666635065,"post_id":74158123,"comment_id":130979191,"body_markdown":"You are sure that you want to solve the problem yourself and not rely on mature library methods of Java? Also which Java version are you using?","body":"You are sure that you want to solve the problem yourself and not rely on mature library methods of Java? Also which Java version are you using?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666387252,"creation_date":1666387252,"answer_id":74159255,"question_id":74158123,"body_markdown":"So you have a function that takes month and year and renders that month.\r\n\r\nHow about you create another function that has just the year as parameter, then loops over all months and calls the function that needs month and year as parameters. It also assembles the rendered months into a year calendar.","title":"I created a calendar that asks for a month and year. I wanted to modify it so that it asks the user for only a year and prints out all the months","body":"<p>So you have a function that takes month and year and renders that month.</p>\n<p>How about you create another function that has just the year as parameter, then loops over all months and calls the function that needs month and year as parameters. It also assembles the rendered months into a year calendar.</p>\n"}],"owner":{"account_id":25952562,"reputation":1,"user_id":19670376,"display_name":"NEWCODE"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666390561,"creation_date":1666378753,"question_id":74158123,"body_markdown":"I am a beginner coder and I have some experience with Java. \r\n\r\nI made this simple calendar program and kept changing it in the past week. I wanted to make it so that a perfect series of dates would appear when a user inputs a  month and a year. However, I wanted to change it so that the user only asks for a year and the entire sets of months are shown. \r\n\r\nFor example the code asks to enter a year: . The user must choose any year they want, (I already took care of the leap year issue), and all months from January to December must show up in order and in correct format. I tried to change my code but I keep messing up. How would I go the best way to change my code so that I can get the entire set of months in a year given by a user?\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Month\r\n{\r\n    private static final String[] MONTHS = {\r\n            &quot;&quot;, &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;,\r\n            &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;\r\n        };\r\n\r\n    private static final int[] NUMDAYS = {\r\n            0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31\r\n        };\r\n\r\n    private int month;\r\n    private int year;\r\n\r\n    public Month(int month, int year) {\r\n        this.month = month;\r\n        this.year = year;\r\n    }\r\n\r\n    public int getMonth() {\r\n        return month;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    private boolean isLeapYear() {\r\n        if(year % 400 == 0) {\r\n            return true;\r\n        }\r\n        if(year % 100 == 0) {\r\n            return false;\r\n        }\r\n        return year % 4 == 0;\r\n    }\r\n\r\n    private int getNumDays() {\r\n        if(month == 2) {\r\n            if(isLeapYear()) {\r\n                return 29;\r\n            }\r\n            else {\r\n                return 28;\r\n            }\r\n        }\r\n        else {\r\n            return NUMDAYS[month];\r\n        }\r\n    }\r\n\r\n    private int getStartDOW() {\r\n        int m, y;\r\n        if(month &lt; 3) {\r\n            m = month + 12;\r\n            y = year - 1;\r\n        }\r\n        else {\r\n            m = month;\r\n            y = year;\r\n        }\r\n        return (13 * (m + 1) / 5 + y + y / 4 - y / 100 + y / 400) % 7;\r\n    }\r\n\r\n    public void printCalendar() {\r\n        //I changed this part so that the month and year could be centered, if you have an \r\n        //easier or cleaner way to do it, I would appreciate learning it.\r\n\r\n        if(month == 2||month == 11 || month == 12 || month == 9){\r\n            System.out.println(&quot;    &quot; + MONTHS[month] + &quot; &quot; + year);\r\n        }else if(month == 3||month == 4 || month == 6 || month == 7 || month == 5){\r\n            System.out.println(&quot;      &quot; + MONTHS[month] + &quot; &quot; + year);\r\n        }else if(month == 1||month == 10 || month == 8){\r\n\r\n            //This is what I originally had System.out.println(&quot;    &quot; + MONTHS[month] + &quot; &quot; \r\n            //+ year);\r\n        }\r\n        System.out.println(&quot; S  M  T  W  T  F  S&quot;);\r\n        int dow = getStartDOW();\r\n        for(int i = 0; i &lt; dow; i++) {\r\n            System.out.print(&quot;   &quot;);\r\n        }\r\n        int numdays = getNumDays();\r\n        for(int i = 1; i &lt;= numdays; i++) {\r\n            System.out.printf(&quot;%2d &quot;, i);\r\n            if(dow == 6) {\r\n                System.out.println();\r\n                dow = 0;\r\n            }\r\n            else {\r\n                dow++;\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner s = new Scanner(System.in);\r\n        System.out.println(&quot;Enter month (1-12)&quot;);\r\n        int month = s.nextInt();\r\n        System.out.println(&quot;Enter year: &quot;);\r\n        int year = s.nextInt();\r\n        Month m = new Month(month, year);\r\n        m.printCalendar();\r\n    }\r\n}\r\n```\r\n\r\n","title":"I created a calendar that asks for a month and year. I wanted to modify it so that it asks the user for only a year and prints out all the months","body":"<p>I am a beginner coder and I have some experience with Java.</p>\n<p>I made this simple calendar program and kept changing it in the past week. I wanted to make it so that a perfect series of dates would appear when a user inputs a  month and a year. However, I wanted to change it so that the user only asks for a year and the entire sets of months are shown.</p>\n<p>For example the code asks to enter a year: . The user must choose any year they want, (I already took care of the leap year issue), and all months from January to December must show up in order and in correct format. I tried to change my code but I keep messing up. How would I go the best way to change my code so that I can get the entire set of months in a year given by a user?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Month\n{\n    private static final String[] MONTHS = {\n            &quot;&quot;, &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;,\n            &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;\n        };\n\n    private static final int[] NUMDAYS = {\n            0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31\n        };\n\n    private int month;\n    private int year;\n\n    public Month(int month, int year) {\n        this.month = month;\n        this.year = year;\n    }\n\n    public int getMonth() {\n        return month;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    private boolean isLeapYear() {\n        if(year % 400 == 0) {\n            return true;\n        }\n        if(year % 100 == 0) {\n            return false;\n        }\n        return year % 4 == 0;\n    }\n\n    private int getNumDays() {\n        if(month == 2) {\n            if(isLeapYear()) {\n                return 29;\n            }\n            else {\n                return 28;\n            }\n        }\n        else {\n            return NUMDAYS[month];\n        }\n    }\n\n    private int getStartDOW() {\n        int m, y;\n        if(month &lt; 3) {\n            m = month + 12;\n            y = year - 1;\n        }\n        else {\n            m = month;\n            y = year;\n        }\n        return (13 * (m + 1) / 5 + y + y / 4 - y / 100 + y / 400) % 7;\n    }\n\n    public void printCalendar() {\n        //I changed this part so that the month and year could be centered, if you have an \n        //easier or cleaner way to do it, I would appreciate learning it.\n\n        if(month == 2||month == 11 || month == 12 || month == 9){\n            System.out.println(&quot;    &quot; + MONTHS[month] + &quot; &quot; + year);\n        }else if(month == 3||month == 4 || month == 6 || month == 7 || month == 5){\n            System.out.println(&quot;      &quot; + MONTHS[month] + &quot; &quot; + year);\n        }else if(month == 1||month == 10 || month == 8){\n\n            //This is what I originally had System.out.println(&quot;    &quot; + MONTHS[month] + &quot; &quot; \n            //+ year);\n        }\n        System.out.println(&quot; S  M  T  W  T  F  S&quot;);\n        int dow = getStartDOW();\n        for(int i = 0; i &lt; dow; i++) {\n            System.out.print(&quot;   &quot;);\n        }\n        int numdays = getNumDays();\n        for(int i = 1; i &lt;= numdays; i++) {\n            System.out.printf(&quot;%2d &quot;, i);\n            if(dow == 6) {\n                System.out.println();\n                dow = 0;\n            }\n            else {\n                dow++;\n            }\n        }\n        System.out.println();\n    }\n\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        System.out.println(&quot;Enter month (1-12)&quot;);\n        int month = s.nextInt();\n        System.out.println(&quot;Enter year: &quot;);\n        int year = s.nextInt();\n        Month m = new Month(month, year);\n        m.printCalendar();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","reactor"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1620807155,"post_id":67499446,"comment_id":119307102,"body_markdown":"Note that your code would be easier to read as `.doOnNext(adto::consume)`.","body":"Note that your code would be easier to read as <code>.doOnNext(adto::consume)</code>."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1620816201,"post_id":67499446,"comment_id":119311163,"body_markdown":"Instead of `doOnComplete` use the `then` operator.","body":"Instead of <code>doOnComplete</code> use the <code>then</code> operator."},{"owner":{"account_id":2013227,"reputation":218,"user_id":1801173,"accept_rate":75,"display_name":"Draess"},"score":0,"creation_date":1621398201,"post_id":67499446,"comment_id":119480473,"body_markdown":"Thanks for your help, `then` did the trick. If you post an answer I will accept it as the solution.","body":"Thanks for your help, <code>then</code> did the trick. If you post an answer I will accept it as the solution."},{"owner":{"account_id":9844613,"reputation":315,"user_id":7292595,"display_name":"Brendan Kim"},"score":0,"creation_date":1666389964,"post_id":67499446,"comment_id":130934043,"body_markdown":"I appreciate Toerktumlare&#39;s help, too. Thank you. :)","body":"I appreciate Toerktumlare&#39;s help, too. Thank you. :)"}],"owner":{"account_id":2013227,"reputation":218,"user_id":1801173,"accept_rate":75,"display_name":"Draess"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666389931,"creation_date":1620806166,"question_id":67499446,"body_markdown":"I am new to spring webflux and have a problem with aggregating a flux to a Mono.\r\n\r\nProductController has a method `Flux&lt;Product&gt; get(List&lt;UUID&gt; ids)` returning a Stream of Products for a given list of ids. When all products have been fetched the flux completes.\r\n\r\nAggregator fetches a list of products, computes a new ProductAggregateDTO from the stream and sends it to an accountingService, which then processes them and assigns an UUID to the accounting process.\r\n\r\n```\r\nclass Aggregator {\r\n  Mono&lt;UUID&gt; process(List&lt;UUID&gt; ids) {\r\n    ProductAggregateDTO adto = new ProductAggregateDTO();\r\n    productAdapter.getProducts(ids)\r\n      .doOnNext(e -&gt; {\r\n        adto.consume(e);\r\n      })\r\n      .doOnComplete(() -&gt; {\r\n        Mono&lt;UUID&gt; processId = accountAdapter.process(adto);\r\n      })\r\n      .subscribe();\r\n\r\n  }\r\n}\r\n```\r\n\r\nI want to return processId from the process function. I don&#39;t think thats a big problem. But I can not find how.\r\n\r\nThanks for your help!\r\n\r\nKind Regards,\r\nAndreas\r\n","title":"return computed Mono from completing Flux","body":"<p>I am new to spring webflux and have a problem with aggregating a flux to a Mono.</p>\n<p>ProductController has a method <code>Flux&lt;Product&gt; get(List&lt;UUID&gt; ids)</code> returning a Stream of Products for a given list of ids. When all products have been fetched the flux completes.</p>\n<p>Aggregator fetches a list of products, computes a new ProductAggregateDTO from the stream and sends it to an accountingService, which then processes them and assigns an UUID to the accounting process.</p>\n<pre><code>class Aggregator {\n  Mono&lt;UUID&gt; process(List&lt;UUID&gt; ids) {\n    ProductAggregateDTO adto = new ProductAggregateDTO();\n    productAdapter.getProducts(ids)\n      .doOnNext(e -&gt; {\n        adto.consume(e);\n      })\n      .doOnComplete(() -&gt; {\n        Mono&lt;UUID&gt; processId = accountAdapter.process(adto);\n      })\n      .subscribe();\n\n  }\n}\n</code></pre>\n<p>I want to return processId from the process function. I don't think thats a big problem. But I can not find how.</p>\n<p>Thanks for your help!</p>\n<p>Kind Regards,\nAndreas</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1666370525,"post_id":74155086,"comment_id":130928953,"body_markdown":"My guess is that your project structure is different from everyone else. Try having someone create a `GitHub` repo and yall work by pulling and pushing to `GitHub`.","body":"My guess is that your project structure is different from everyone else. Try having someone create a <code>GitHub</code> repo and yall work by pulling and pushing to <code>GitHub</code>."},{"owner":{"account_id":26693439,"reputation":3,"user_id":20301666,"display_name":"Skyflooze"},"score":0,"creation_date":1666371258,"post_id":74155086,"comment_id":130929187,"body_markdown":"We already have a Github repo. Do you want us to recreate a new one ?","body":"We already have a Github repo. Do you want us to recreate a new one ?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1666380214,"post_id":74155086,"comment_id":130931791,"body_markdown":"No, You should be able to use GitHub Desktop to pull the project down. This is all assuming that you all are using the same operating system. I am not sure how it works if your different team members use different operating systems.","body":"No, You should be able to use GitHub Desktop to pull the project down. This is all assuming that you all are using the same operating system. I am not sure how it works if your different team members use different operating systems."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666389778,"creation_date":1666385931,"answer_id":74159096,"question_id":74155086,"body_markdown":"This isn&#39;t really fully answerable here in a general sense, because there are too many environmental and project-specific things that may occur.\r\n\r\nInstead, I&#39;ll provide a suggested approach for a new project:\r\n\r\n 1. Create a [new JavaFX project in Idea][1].\r\n\r\n    * Choose Maven for the build tool.\r\n    * Follow the execution instructions from the linked documentation to ensure the project runs in your environment.\r\n\r\n 2. [Share your new JavaFX project on GitHub][2].\r\n\r\n 3. [Clone the newly shared project to a new Idea project.][3]\r\n\r\n    * This is emulating somebody else checking out the project from GitHub.\r\n\r\n 4. Run the newly checked out project in your Idea environment exactly as you did for Step 1.\r\n\r\nThat is really all you need to do to use JavaFX + Idea + GitHub.\r\n\r\nA pre-existing project may require additional steps for configuration and use which may be project specific, so I can&#39;t generally advise on that.\r\n\r\n----\r\n\r\nSome comments on the approach outlined in your question:\r\n\r\n 1. You mention &quot;every time I clone it&quot;.\r\n\r\n    * You only really need to clone a project once, after that you can just [update it][4].\r\n\r\n 2. The image has a folder `${project.build.directory}`.\r\n\r\n    * That looks wrong, kind of like an expansion variable name was applied literally rather than being expanded (I don&#39;t know what you did to cause that).\r\n\r\n 3. Your resources folder isn&#39;t marked with a resources icon.\r\n\r\n    * This indicates that you haven&#39;t imported the project from Maven correctly.\r\n    * Normally Idea will recognize a Maven project and import it automatically, mapping the standard directory structure, e.g. src/main/java is Java source and src/main/resources are resources.\r\n\r\n 4. &quot;I have put the right folder in ROOT&quot;\r\n\r\n    * I am not sure what that means, but it should not be necessary to manually configure things like this.  As mentioned, Idea knows the standard Maven project structure and is able to apply it without manual intervention.\r\n\r\n 5. &quot;I created a configuration.&quot;\r\n\r\n    * You don&#39;t need to create configuration manually.\r\n    * The configuration you have created is wrong.\r\n    * If you right-click on your JavaFX application class and choose run, an appropriate run configuration for the application will be created automatically.\r\n    * The configuration does not need to specify a JavaFX SDK.\r\n    * You don&#39;t need to (and should not for this purpose), install a JavaFX SDK on your machine.\r\n    * The configuration does not need to specify a module path or modules to add.\r\n    * Idea and Maven are smart enough to know that:\r\n\r\n      * your application is modular (because you have provided a module-info.java)\r\n      * the required modules are provided as Maven dependencies (this includes the JavaFX modules that you need)\r\n      * the modules should be placed on the modulepath (Idea and Maven will do this automatically, you don&#39;t need to do anything manual for this to occur).\r\n\r\n 6. For the message &quot;The output path is not specified for module structure&quot;:\r\n\r\n    *  I don&#39;t know what this means, but, if you follow the suggested approach, you don&#39;t need to manually specify an output path, Idea and Maven will automatically assign appropriate values and use them without user intervention.\r\n\r\n 7. &quot;Error occurred during initialization of boot layer java.lang.module .FindException: Module start.structure not found&quot;\r\n\r\n    * This indicates that you have specified somewhere that a module `start.structure` should be used and either:\r\n\r\n      * Your application&#39;s module (specified in its module-info.java) is defined using a different name.\r\n      * Your application&#39;s source code is not on the module path (perhaps it is mistakenly on the classpath instead).\r\n      * Your apps module isn&#39;t [correctly added](https://stackoverflow.com/questions/62341158/why-is-add-modules-necessary-for-modules-which-are-on-the-module-path).\r\n\r\n    * Usually Idea will be smart enough to know that you have a module-info.java and therefore to place your application code on the modulepath, so you don&#39;t need to manually specify modulepath and add-modules options to find your application&#39;s module.\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/javafx.html\r\n  [2]: https://www.jetbrains.com/help/idea/manage-projects-hosted-on-github.html#share-on-GitHub\r\n  [3]: https://www.jetbrains.com/help/idea/manage-projects-hosted-on-github.html#clone-from-GitHub\r\n  [4]: https://www.jetbrains.com/help/idea/sync-with-a-remote-repository.html#update","title":"Unable to launch a java/javaFX code after a clone on IntelliJ","body":"<p>This isn't really fully answerable here in a general sense, because there are too many environmental and project-specific things that may occur.</p>\n<p>Instead, I'll provide a suggested approach for a new project:</p>\n<ol>\n<li><p>Create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project in Idea</a>.</p>\n<ul>\n<li>Choose Maven for the build tool.</li>\n<li>Follow the execution instructions from the linked documentation to ensure the project runs in your environment.</li>\n</ul>\n</li>\n<li><p><a href=\"https://www.jetbrains.com/help/idea/manage-projects-hosted-on-github.html#share-on-GitHub\" rel=\"nofollow noreferrer\">Share your new JavaFX project on GitHub</a>.</p>\n</li>\n<li><p><a href=\"https://www.jetbrains.com/help/idea/manage-projects-hosted-on-github.html#clone-from-GitHub\" rel=\"nofollow noreferrer\">Clone the newly shared project to a new Idea project.</a></p>\n<ul>\n<li>This is emulating somebody else checking out the project from GitHub.</li>\n</ul>\n</li>\n<li><p>Run the newly checked out project in your Idea environment exactly as you did for Step 1.</p>\n</li>\n</ol>\n<p>That is really all you need to do to use JavaFX + Idea + GitHub.</p>\n<p>A pre-existing project may require additional steps for configuration and use which may be project specific, so I can't generally advise on that.</p>\n<hr />\n<p>Some comments on the approach outlined in your question:</p>\n<ol>\n<li><p>You mention &quot;every time I clone it&quot;.</p>\n<ul>\n<li>You only really need to clone a project once, after that you can just <a href=\"https://www.jetbrains.com/help/idea/sync-with-a-remote-repository.html#update\" rel=\"nofollow noreferrer\">update it</a>.</li>\n</ul>\n</li>\n<li><p>The image has a folder <code>${project.build.directory}</code>.</p>\n<ul>\n<li>That looks wrong, kind of like an expansion variable name was applied literally rather than being expanded (I don't know what you did to cause that).</li>\n</ul>\n</li>\n<li><p>Your resources folder isn't marked with a resources icon.</p>\n<ul>\n<li>This indicates that you haven't imported the project from Maven correctly.</li>\n<li>Normally Idea will recognize a Maven project and import it automatically, mapping the standard directory structure, e.g. src/main/java is Java source and src/main/resources are resources.</li>\n</ul>\n</li>\n<li><p>&quot;I have put the right folder in ROOT&quot;</p>\n<ul>\n<li>I am not sure what that means, but it should not be necessary to manually configure things like this.  As mentioned, Idea knows the standard Maven project structure and is able to apply it without manual intervention.</li>\n</ul>\n</li>\n<li><p>&quot;I created a configuration.&quot;</p>\n<ul>\n<li><p>You don't need to create configuration manually.</p>\n</li>\n<li><p>The configuration you have created is wrong.</p>\n</li>\n<li><p>If you right-click on your JavaFX application class and choose run, an appropriate run configuration for the application will be created automatically.</p>\n</li>\n<li><p>The configuration does not need to specify a JavaFX SDK.</p>\n</li>\n<li><p>You don't need to (and should not for this purpose), install a JavaFX SDK on your machine.</p>\n</li>\n<li><p>The configuration does not need to specify a module path or modules to add.</p>\n</li>\n<li><p>Idea and Maven are smart enough to know that:</p>\n<ul>\n<li>your application is modular (because you have provided a module-info.java)</li>\n<li>the required modules are provided as Maven dependencies (this includes the JavaFX modules that you need)</li>\n<li>the modules should be placed on the modulepath (Idea and Maven will do this automatically, you don't need to do anything manual for this to occur).</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>For the message &quot;The output path is not specified for module structure&quot;:</p>\n<ul>\n<li>I don't know what this means, but, if you follow the suggested approach, you don't need to manually specify an output path, Idea and Maven will automatically assign appropriate values and use them without user intervention.</li>\n</ul>\n</li>\n<li><p>&quot;Error occurred during initialization of boot layer java.lang.module .FindException: Module start.structure not found&quot;</p>\n<ul>\n<li><p>This indicates that you have specified somewhere that a module <code>start.structure</code> should be used and either:</p>\n<ul>\n<li>Your application's module (specified in its module-info.java) is defined using a different name.</li>\n<li>Your application's source code is not on the module path (perhaps it is mistakenly on the classpath instead).</li>\n<li>Your apps module isn't <a href=\"https://stackoverflow.com/questions/62341158/why-is-add-modules-necessary-for-modules-which-are-on-the-module-path\">correctly added</a>.</li>\n</ul>\n</li>\n<li><p>Usually Idea will be smart enough to know that you have a module-info.java and therefore to place your application code on the modulepath, so you don't need to manually specify modulepath and add-modules options to find your application's module.</p>\n</li>\n</ul>\n</li>\n</ol>\n"}],"owner":{"account_id":26693439,"reputation":3,"user_id":20301666,"display_name":"Skyflooze"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74159096,"answer_count":1,"score":0,"last_activity_date":1666389778,"creation_date":1666361970,"question_id":74155086,"body_markdown":"It&#39;s very complicated to explain so sorry if it&#39;s not clear. Basically, I&#39;m on a group project in javaFX, and every time I clone it, my PC doesn&#39;t recognize either Java or JavaFX on THAT project exactly. All the others work fine. So I have to do a lot of manipulation each time for it to &quot;work&quot; (I explain below).\r\n\r\nAnd today I have clone because of an error. Except that impossible to make it work again.\r\n\r\nWhat I did on IntelliJ after cloning:\r\n\r\n-I reloaded the MAVEN project\r\n\r\n-I imported the java libraries\r\n\r\n-I put the right folder in ROOT\r\n\r\n[![enter image description here][1]][1]\r\n\r\n-I created the configuration\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFrom there, Java and JavaFX are recognized. After that, I have other problems. In particular that of &quot;**The output path is not specified for module structure**&quot; and after that it redirects me to **File -&gt; Project Structure -&gt; Project** and compile output. Except that in my previous problems, I didn&#39;t have to define a Compiler Output. Usually the steps above were enough. And the problem is that I have no idea what to put in this section. I searched all over the internet, but 90% of the time it&#39;s an old version of IntelliJ and it was asking them for a path. There, I am asked for a file (impossible to choose a destination path, it is greyed out). And in CTRL C + V the path directly (for example an excluded &quot;Out&quot; folder like what I have read on the internet), I have this error at launch: \r\n\r\n    Error occurred during initialization of boot layer java.lang.module .FindException: Module start.structure not found\r\n\r\nI want to re-specify that there is no error in the code, we have exactly the same with my team, and with them it works without worries.\r\n\r\nIf someone know how to resolve theses problems\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WAp57.png\r\n  [2]: https://i.stack.imgur.com/iN5LC.png","title":"Unable to launch a java/javaFX code after a clone on IntelliJ","body":"<p>It's very complicated to explain so sorry if it's not clear. Basically, I'm on a group project in javaFX, and every time I clone it, my PC doesn't recognize either Java or JavaFX on THAT project exactly. All the others work fine. So I have to do a lot of manipulation each time for it to &quot;work&quot; (I explain below).</p>\n<p>And today I have clone because of an error. Except that impossible to make it work again.</p>\n<p>What I did on IntelliJ after cloning:</p>\n<p>-I reloaded the MAVEN project</p>\n<p>-I imported the java libraries</p>\n<p>-I put the right folder in ROOT</p>\n<p><a href=\"https://i.stack.imgur.com/WAp57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WAp57.png\" alt=\"enter image description here\" /></a></p>\n<p>-I created the configuration</p>\n<p><a href=\"https://i.stack.imgur.com/iN5LC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iN5LC.png\" alt=\"enter image description here\" /></a></p>\n<p>From there, Java and JavaFX are recognized. After that, I have other problems. In particular that of &quot;<strong>The output path is not specified for module structure</strong>&quot; and after that it redirects me to <strong>File -&gt; Project Structure -&gt; Project</strong> and compile output. Except that in my previous problems, I didn't have to define a Compiler Output. Usually the steps above were enough. And the problem is that I have no idea what to put in this section. I searched all over the internet, but 90% of the time it's an old version of IntelliJ and it was asking them for a path. There, I am asked for a file (impossible to choose a destination path, it is greyed out). And in CTRL C + V the path directly (for example an excluded &quot;Out&quot; folder like what I have read on the internet), I have this error at launch:</p>\n<pre><code>Error occurred during initialization of boot layer java.lang.module .FindException: Module start.structure not found\n</code></pre>\n<p>I want to re-specify that there is no error in the code, we have exactly the same with my team, and with them it works without worries.</p>\n<p>If someone know how to resolve theses problems</p>\n"},{"tags":["java","design-patterns","immutability"],"comments":[{"owner":{"account_id":92750,"reputation":8821,"user_id":254046,"accept_rate":80,"display_name":"Javid Jamae"},"score":14,"creation_date":1285190137,"post_id":3769607,"comment_id":3994928,"body_markdown":"I&#39;m surprised nobody called this one out as a duplicate. Seems like you guys are just trying to rack up easy points... :)  (1) http://stackoverflow.com/questions/1284727/mutable-or-immutable-class (2) http://stackoverflow.com/questions/3162665/immutable-class (3) http://stackoverflow.com/questions/752280/downsides-to-immutable-objects-in-java","body":"I&#39;m surprised nobody called this one out as a duplicate. Seems like you guys are just trying to rack up easy points... :)  (1) <a href=\"http://stackoverflow.com/questions/1284727/mutable-or-immutable-class\" title=\"mutable or immutable class\">stackoverflow.com/questions/1284727/mutable-or-immutable-cla&zwnj;&#8203;ss</a> (2) <a href=\"http://stackoverflow.com/questions/3162665/immutable-class\">stackoverflow.com/questions/3162665/immutable-class</a> (3) <a href=\"http://stackoverflow.com/questions/752280/downsides-to-immutable-objects-in-java\" title=\"downsides to immutable objects in java\">stackoverflow.com/questions/752280/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1285162128,"creation_date":1285161652,"answer_id":3769629,"question_id":3769607,"body_markdown":"Java is practically  one and all references. Sometimes an instance is referenced multiple times. If you change such an instance, it would be reflected into all its references. Sometimes you simply don&#39;t want to have this to improve robustness and threadsafety. Then an immutable class is useful so that one is forced to create a **new** instance and reassign it to the current reference. This way the original instance of the other references remain untouched.\r\n\r\nImagine how Java would look like if `String` was mutable.","title":"Why do we need immutable class?","body":"<p>Java is practically  one and all references. Sometimes an instance is referenced multiple times. If you change such an instance, it would be reflected into all its references. Sometimes you simply don't want to have this to improve robustness and threadsafety. Then an immutable class is useful so that one is forced to create a <strong>new</strong> instance and reassign it to the current reference. This way the original instance of the other references remain untouched.</p>\n\n<p>Imagine how Java would look like if <code>String</code> was mutable.</p>\n"},{"tags":[],"owner":{"account_id":64324,"reputation":76480,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1285161675,"creation_date":1285161675,"answer_id":3769634,"question_id":3769607,"body_markdown":"Hashmaps are a classic example.  It&#39;s imperative that the key to a map be immutable.  If the key is not immutable, and you change a value on the key such that hashCode() would result in a new value, the map is now broken (a key is now in the wrong location in the hash table.).","title":"Why do we need immutable class?","body":"<p>Hashmaps are a classic example.  It's imperative that the key to a map be immutable.  If the key is not immutable, and you change a value on the key such that hashCode() would result in a new value, the map is now broken (a key is now in the wrong location in the hash table.).</p>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1285171935,"creation_date":1285161701,"answer_id":3769639,"question_id":3769607,"body_markdown":"Immutable classes are in general much **simpler to design, implement and use correctly**. An example is String: the implementation of `java.lang.String` is significantly simpler than that of `std::string` in C++, mostly due to its immutability.\r\n\r\nOne particular area where immutability makes an especially big difference is concurrency: **immutable objects can safely be shared among multiple threads**, whereas mutable objects must be made thread-safe via careful design and implementation - usually this is far from a trivial task.\r\n\r\n**Update:** [Effective Java 2nd Edition][1] tackles this issue in detail - see _Item 15: Minimize mutability_.\r\n\r\nSee also these related posts:\r\n\r\n- [non-technical benefits of having string-type immutable][2]\r\n- [Downsides to immutable objects in Java?][3]\r\n\r\n\r\n  [1]: http://www.amazon.co.uk/Effective-Java-Second-Joshua-Bloch/dp/0321356683\r\n  [2]: https://stackoverflow.com/questions/3584945/non-technical-benefits-of-having-string-type-immutable\r\n  [3]: https://stackoverflow.com/questions/752280/downsides-to-immutable-objects-in-java","title":"Why do we need immutable class?","body":"<p>Immutable classes are in general much <strong>simpler to design, implement and use correctly</strong>. An example is String: the implementation of <code>java.lang.String</code> is significantly simpler than that of <code>std::string</code> in C++, mostly due to its immutability.</p>\n\n<p>One particular area where immutability makes an especially big difference is concurrency: <strong>immutable objects can safely be shared among multiple threads</strong>, whereas mutable objects must be made thread-safe via careful design and implementation - usually this is far from a trivial task.</p>\n\n<p><strong>Update:</strong> <a href=\"http://www.amazon.co.uk/Effective-Java-Second-Joshua-Bloch/dp/0321356683\" rel=\"noreferrer\">Effective Java 2nd Edition</a> tackles this issue in detail - see <em>Item 15: Minimize mutability</em>.</p>\n\n<p>See also these related posts:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3584945/non-technical-benefits-of-having-string-type-immutable\">non-technical benefits of having string-type immutable</a></li>\n<li><a href=\"https://stackoverflow.com/questions/752280/downsides-to-immutable-objects-in-java\">Downsides to immutable objects in Java?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8564,"reputation":235714,"user_id":15498,"accept_rate":76,"display_name":"Damien_The_Unbeliever"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1285161735,"creation_date":1285161735,"answer_id":3769643,"question_id":3769607,"body_markdown":"We don&#39;t *need* immutable classes, per se, but they can certainly make some programming tasks easier, especially when multiple threads are involved. You don&#39;t have to perform any locking to access an immutable object, and any facts that you&#39;ve already established about such an object will continue to be true in the future.","title":"Why do we need immutable class?","body":"<p>We don't <em>need</em> immutable classes, per se, but they can certainly make some programming tasks easier, especially when multiple threads are involved. You don't have to perform any locking to access an immutable object, and any facts that you've already established about such an object will continue to be true in the future.</p>\n"},{"tags":[],"owner":{"account_id":13695,"reputation":5380,"user_id":27653,"accept_rate":92,"display_name":"Tarski"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1405706885,"creation_date":1285161875,"answer_id":3769660,"question_id":3769607,"body_markdown":"Effective Java by Joshua Bloch outlines several reasons to write immutable classes:\r\n\r\n- Simplicity - each class is in one state only\r\n- Thread Safe - because the state cannot be changed, no synchronization is required\r\n- Writing in an immutable style can lead to more robust code. Imagine if Strings weren&#39;t immutable; Any getter methods that returned a String would require the implementation to create a defensive copy before the String was returned - otherwise a client may accidentally or maliciously break that state of the object.\r\n\r\nIn general it is good practise to make an object immutable unless there are severe performance problems as a result. In such circumstances, mutable builder objects can be used to build immutable objects e.g. StringBuilder","title":"Why do we need immutable class?","body":"<p>Effective Java by Joshua Bloch outlines several reasons to write immutable classes:</p>\n\n<ul>\n<li>Simplicity - each class is in one state only</li>\n<li>Thread Safe - because the state cannot be changed, no synchronization is required</li>\n<li>Writing in an immutable style can lead to more robust code. Imagine if Strings weren't immutable; Any getter methods that returned a String would require the implementation to create a defensive copy before the String was returned - otherwise a client may accidentally or maliciously break that state of the object.</li>\n</ul>\n\n<p>In general it is good practise to make an object immutable unless there are severe performance problems as a result. In such circumstances, mutable builder objects can be used to build immutable objects e.g. StringBuilder</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1285163062,"creation_date":1285162851,"answer_id":3769830,"question_id":3769607,"body_markdown":"There are various reason for immutability:\r\n\r\n - Thread Safety: Immutable objects cannot be changed nor can its internal state change, thus there&#39;s no need to synchronise it.\r\n - It also guarantees that whatever I send through (through a network) has to come in the same state as previously sent. It means that nobody (eavesdropper) can come and add random data in my immutable set.\r\n - It&#39;s also simpler to develop. You guarantee that no subclasses will exist if an object is immutable. E.g. a `String` class.\r\n\r\nSo, if you want to send data through a network service, and you want a sense of **guarantee** that you will have your result exactly the same as what you sent, set it as immutable.","title":"Why do we need immutable class?","body":"<p>There are various reason for immutability:</p>\n\n<ul>\n<li>Thread Safety: Immutable objects cannot be changed nor can its internal state change, thus there's no need to synchronise it.</li>\n<li>It also guarantees that whatever I send through (through a network) has to come in the same state as previously sent. It means that nobody (eavesdropper) can come and add random data in my immutable set.</li>\n<li>It's also simpler to develop. You guarantee that no subclasses will exist if an object is immutable. E.g. a <code>String</code> class.</li>\n</ul>\n\n<p>So, if you want to send data through a network service, and you want a sense of <strong>guarantee</strong> that you will have your result exactly the same as what you sent, set it as immutable.</p>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1285164282,"creation_date":1285164282,"answer_id":3770037,"question_id":3769607,"body_markdown":"Let&#39;s take an extreme case: integer constants. If I write a statement like &quot;x=x+1&quot; I want to be 100% confidant that the number &quot;1&quot; will not somehow become 2, no matter what happens anywhere else in the program.\r\n\r\nNow okay, integer constants are not a class, but the concept is the same. Suppose I write:\r\n\r\n    String customerId=getCustomerId();\r\n    String customerName=getCustomerName(customerId);\r\n    String customerBalance=getCustomerBalance(customerid);\r\n\r\nLooks simple enough. But if Strings were not immutable, then I would have to consider the possibility that getCustomerName could change customerId, so that when I call getCustomerBalance, I am getting the balance for a different customer. Now you might say, &quot;Why in the world would someone writing a getCustomerName function make it change the id? That would make no sense.&quot; But that&#39;s exactly where you could get in trouble. The person writing the above code might take it as just obvious that the functions would not change the parameter. Then someone comes along who has to modify another use of that function to handle the case where where a customer has multiple accounts under the same name. And he says, &quot;Oh, here&#39;s this handy getCustomer name function that&#39;s already looking up the name. I&#39;ll just make that automatically change the id to the next account with the same name, and put it in a loop ...&quot; And then your program starts mysteriously not working. Would that be bad coding style? Probably. But it&#39;s precisely a problem in cases where the side effect is NOT obvious.\r\n\r\nImmutability simply means that a certain class of objects are constants, and we can treat them as constants.\r\n\r\n(Of course the user could assign a different &quot;constant object&quot; to a variable. Someone can write\r\n    String s=&quot;hello&quot;;\r\nand then later write\r\n    s=&quot;goodbye&quot;;\r\nUnless I make the variable final, I can&#39;t be sure that it&#39;s not being changed within my own block of code. Just like integer constants assure me that &quot;1&quot; is always the same number, but not that &quot;x=1&quot; will never be changed by writing &quot;x=2&quot;. But I can be confidant that if I have a handle to an immutable object, that no function I pass it to can change it on me, or that if I make two copies of it, that a change to the variable holding one copy will not change the other. Etc.","title":"Why do we need immutable class?","body":"<p>Let's take an extreme case: integer constants. If I write a statement like \"x=x+1\" I want to be 100% confidant that the number \"1\" will not somehow become 2, no matter what happens anywhere else in the program.</p>\n\n<p>Now okay, integer constants are not a class, but the concept is the same. Suppose I write:</p>\n\n<pre><code>String customerId=getCustomerId();\nString customerName=getCustomerName(customerId);\nString customerBalance=getCustomerBalance(customerid);\n</code></pre>\n\n<p>Looks simple enough. But if Strings were not immutable, then I would have to consider the possibility that getCustomerName could change customerId, so that when I call getCustomerBalance, I am getting the balance for a different customer. Now you might say, \"Why in the world would someone writing a getCustomerName function make it change the id? That would make no sense.\" But that's exactly where you could get in trouble. The person writing the above code might take it as just obvious that the functions would not change the parameter. Then someone comes along who has to modify another use of that function to handle the case where where a customer has multiple accounts under the same name. And he says, \"Oh, here's this handy getCustomer name function that's already looking up the name. I'll just make that automatically change the id to the next account with the same name, and put it in a loop ...\" And then your program starts mysteriously not working. Would that be bad coding style? Probably. But it's precisely a problem in cases where the side effect is NOT obvious.</p>\n\n<p>Immutability simply means that a certain class of objects are constants, and we can treat them as constants.</p>\n\n<p>(Of course the user could assign a different \"constant object\" to a variable. Someone can write\n    String s=\"hello\";\nand then later write\n    s=\"goodbye\";\nUnless I make the variable final, I can't be sure that it's not being changed within my own block of code. Just like integer constants assure me that \"1\" is always the same number, but not that \"x=1\" will never be changed by writing \"x=2\". But I can be confidant that if I have a handle to an immutable object, that no function I pass it to can change it on me, or that if I make two copies of it, that a change to the variable holding one copy will not change the other. Etc.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"down_vote_count":2,"up_vote_count":99,"is_accepted":true,"score":97,"last_activity_date":1586990308,"creation_date":1285167111,"answer_id":3770485,"question_id":3769607,"body_markdown":"The other answers seem too focused on explaining why immutability is good.  It is very good and I use it whenever possible.  *However, that is not your question*.  I&#39;ll take your question point by point to try to make sure you&#39;re getting the answers and examples you need.\r\n\r\n&gt; I am unable to get what are the scenarios where we need an immutable class.\r\n\r\n&quot;Need&quot; is a relative term here.  Immutable classes are a design pattern that, like any paradigm/pattern/tool, is there to make constructing software easier. Similarly, plenty of code was written before the OO paradigm came along, but count me among the programmers that *&quot;need&quot;* OO.  Immutable classes, like OO, aren&#39;t strictly *needed*, but I going to act like I need them.\r\n\r\n&gt; Have you ever faced any such requirement?\r\n\r\nIf you aren&#39;t looking at the objects in the problem domain with the right perspective, you may not see a *requirement* for an immutable object.  It might be easy to think that a problem domain doesn&#39;t *require* any immutable classes if you&#39;re not familiar when to use them advantageously.\r\n\r\nI often use immutable classes where I think of a given object in my problem domain as **a value or fixed instance**. This notion is sometimes dependent on perspective or viewpoint, but ideally, it will be easy to switch into the right perspective to identify good candidate objects.\r\n\r\nYou can get a better sense of where immutable objects are *really useful* (if not strictly necessary) by making sure you read up on various books/online articles to develop a good sense of how to think about immutable classes.  One good article to get you started is [Java theory and practice: To mutate or not to mutate?](http://www.ibm.com/developerworks/java/library/j-jtp02183.html)\r\n\r\nI&#39;ll try to give a couple of examples below of how one can see objects in different perspectives (mutable vs immutable) to clarify what I mean by perspective.\r\n\r\n\r\n&gt; ... can you please give us any real example where we should use this pattern.\r\n\r\nSince you asked for real examples I&#39;ll give you some, but first, let&#39;s start with some classic examples.\r\n\r\n\r\n**Classic Value Objects**\r\n\r\nStrings and integers are often thought of as values.  Therefore it&#39;s not surprising to find that String class and the Integer wrapper class (as well as the other wrapper classes) are immutable in Java.  A color is usually thought of as a value, thus the immutable Color class.\r\n\r\n**Counterexample**\r\n\r\nIn contrast, a car is not usually thought of as a value object.  Modeling a car usually means creating a class that has changing state (odometer, speed, fuel level, etc).  However, there are some domains where it car may be a value object.  For example, a car (or specifically a car model) might be thought of as a value object in an app to look up the proper motor oil for a given vehicle.\r\n\r\n**Playing Cards**\r\n\r\nEver write a playing card program?  I did.  I could have represented a playing card as a mutable object with a mutable suit and rank.  A draw-poker hand could be 5 fixed instances where replacing the 5th card in my hand would mean mutating the 5th playing card instance into a new card by changing its suit and rank ivars.\r\n\r\nHowever, I tend to think of a playing card as an immutable object that has a fixed unchanging suit and rank once created.  My draw poker hand would be 5 instances and replacing a card in my hand would involve discarding one of those instance and adding a new random instance to my hand.\r\n\r\n**Map Projection**\r\n\r\nOne last example is when I worked on some map code where the map could display itself in various [projections][1].  The original code had the map use a fixed, but mutatable projection instance (like the mutable playing card above).  Changing the map projection meant mutating the map&#39;s projection instance&#39;s ivars (projection type, center point, zoom, etc).\r\n\r\nHowever, I felt the design was simpler if I thought of a projection as an immutable value or fixed instance.  Changing the map projection meant having the map reference a different projection instance rather than mutating the map&#39;s fixed projection instance.  This also made it simpler to capture named projections such as `MERCATOR_WORLD_VIEW`.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Map_projection","title":"Why do we need immutable class?","body":"<p>The other answers seem too focused on explaining why immutability is good.  It is very good and I use it whenever possible.  <em>However, that is not your question</em>.  I'll take your question point by point to try to make sure you're getting the answers and examples you need.</p>\n\n<blockquote>\n  <p>I am unable to get what are the scenarios where we need an immutable class.</p>\n</blockquote>\n\n<p>\"Need\" is a relative term here.  Immutable classes are a design pattern that, like any paradigm/pattern/tool, is there to make constructing software easier. Similarly, plenty of code was written before the OO paradigm came along, but count me among the programmers that <em>\"need\"</em> OO.  Immutable classes, like OO, aren't strictly <em>needed</em>, but I going to act like I need them.</p>\n\n<blockquote>\n  <p>Have you ever faced any such requirement?</p>\n</blockquote>\n\n<p>If you aren't looking at the objects in the problem domain with the right perspective, you may not see a <em>requirement</em> for an immutable object.  It might be easy to think that a problem domain doesn't <em>require</em> any immutable classes if you're not familiar when to use them advantageously.</p>\n\n<p>I often use immutable classes where I think of a given object in my problem domain as <strong>a value or fixed instance</strong>. This notion is sometimes dependent on perspective or viewpoint, but ideally, it will be easy to switch into the right perspective to identify good candidate objects.</p>\n\n<p>You can get a better sense of where immutable objects are <em>really useful</em> (if not strictly necessary) by making sure you read up on various books/online articles to develop a good sense of how to think about immutable classes.  One good article to get you started is <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp02183.html\" rel=\"noreferrer\">Java theory and practice: To mutate or not to mutate?</a></p>\n\n<p>I'll try to give a couple of examples below of how one can see objects in different perspectives (mutable vs immutable) to clarify what I mean by perspective.</p>\n\n<blockquote>\n  <p>... can you please give us any real example where we should use this pattern.</p>\n</blockquote>\n\n<p>Since you asked for real examples I'll give you some, but first, let's start with some classic examples.</p>\n\n<p><strong>Classic Value Objects</strong></p>\n\n<p>Strings and integers are often thought of as values.  Therefore it's not surprising to find that String class and the Integer wrapper class (as well as the other wrapper classes) are immutable in Java.  A color is usually thought of as a value, thus the immutable Color class.</p>\n\n<p><strong>Counterexample</strong></p>\n\n<p>In contrast, a car is not usually thought of as a value object.  Modeling a car usually means creating a class that has changing state (odometer, speed, fuel level, etc).  However, there are some domains where it car may be a value object.  For example, a car (or specifically a car model) might be thought of as a value object in an app to look up the proper motor oil for a given vehicle.</p>\n\n<p><strong>Playing Cards</strong></p>\n\n<p>Ever write a playing card program?  I did.  I could have represented a playing card as a mutable object with a mutable suit and rank.  A draw-poker hand could be 5 fixed instances where replacing the 5th card in my hand would mean mutating the 5th playing card instance into a new card by changing its suit and rank ivars.</p>\n\n<p>However, I tend to think of a playing card as an immutable object that has a fixed unchanging suit and rank once created.  My draw poker hand would be 5 instances and replacing a card in my hand would involve discarding one of those instance and adding a new random instance to my hand.</p>\n\n<p><strong>Map Projection</strong></p>\n\n<p>One last example is when I worked on some map code where the map could display itself in various <a href=\"http://en.wikipedia.org/wiki/Map_projection\" rel=\"noreferrer\">projections</a>.  The original code had the map use a fixed, but mutatable projection instance (like the mutable playing card above).  Changing the map projection meant mutating the map's projection instance's ivars (projection type, center point, zoom, etc).</p>\n\n<p>However, I felt the design was simpler if I thought of a projection as an immutable value or fixed instance.  Changing the map projection meant having the map reference a different projection instance rather than mutating the map's fixed projection instance.  This also made it simpler to capture named projections such as <code>MERCATOR_WORLD_VIEW</code>.</p>\n"},{"tags":[],"owner":{"account_id":106034,"reputation":35823,"user_id":282658,"accept_rate":100,"display_name":"JUST MY correct OPINION"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1285168062,"creation_date":1285168062,"answer_id":3770650,"question_id":3769607,"body_markdown":"I&#39;m going to attack this from a different perspective.  I find immutable objects make life easier for me when reading code.\r\n\r\nIf I have a mutable object I am never sure what its value is if it&#39;s ever used outside of my immediate scope.  Let&#39;s say I create `MyMutableObject` in a method&#39;s local variables, fill it out with values, then pass it to five other methods.  ANY ONE of those methods can change my object&#39;s state, so one of two things has to occur:\r\n\r\n1. I have to keep track of the bodies of five additional methods while thinking about my code&#39;s logic.\r\n2. I have to make five wasteful defensive copies of my object to ensure that the right values get passed to each method.\r\n\r\nThe first makes reasoning about my code difficult.  The second makes my code suck in performance -- I&#39;m basically mimicking an immutable object with copy-on-write semantics anyway, but doing it all the time whether or not the called methods actually modify my object&#39;s state.\r\n\r\nIf I instead use `MyImmutableObject`, I can be assured that what I set is what the values will be for the life of my method.  There&#39;s no &quot;spooky action at a distance&quot; that will change it out from under me and there&#39;s no need for me to make defensive copies of my object before invoking the five other methods.  If the other methods want to change things for their purposes **they** have to make the copy &amp;ndash; but they only do this if they really have to make a copy (as opposed to my doing it before each and every external method call).  I spare myself the mental resources of keeping track of methods which may not even be in my current source file, and I spare the system the overhead of endlessly making unnecessary defensive copies just in case.\r\n\r\n(If I go outside of the Java world and into, say, the C++ world, among others, I can get even trickier.  I can make the objects appear as if they&#39;re mutable, but behind the scenes make them transparently clone on any kind of state change&amp;mdash;that&#39;s copy-on-write&amp;mdash;with nobody being the wiser.)","title":"Why do we need immutable class?","body":"<p>I'm going to attack this from a different perspective.  I find immutable objects make life easier for me when reading code.</p>\n\n<p>If I have a mutable object I am never sure what its value is if it's ever used outside of my immediate scope.  Let's say I create <code>MyMutableObject</code> in a method's local variables, fill it out with values, then pass it to five other methods.  ANY ONE of those methods can change my object's state, so one of two things has to occur:</p>\n\n<ol>\n<li>I have to keep track of the bodies of five additional methods while thinking about my code's logic.</li>\n<li>I have to make five wasteful defensive copies of my object to ensure that the right values get passed to each method.</li>\n</ol>\n\n<p>The first makes reasoning about my code difficult.  The second makes my code suck in performance -- I'm basically mimicking an immutable object with copy-on-write semantics anyway, but doing it all the time whether or not the called methods actually modify my object's state.</p>\n\n<p>If I instead use <code>MyImmutableObject</code>, I can be assured that what I set is what the values will be for the life of my method.  There's no \"spooky action at a distance\" that will change it out from under me and there's no need for me to make defensive copies of my object before invoking the five other methods.  If the other methods want to change things for their purposes <strong>they</strong> have to make the copy &ndash; but they only do this if they really have to make a copy (as opposed to my doing it before each and every external method call).  I spare myself the mental resources of keeping track of methods which may not even be in my current source file, and I spare the system the overhead of endlessly making unnecessary defensive copies just in case.</p>\n\n<p>(If I go outside of the Java world and into, say, the C++ world, among others, I can get even trickier.  I can make the objects appear as if they're mutable, but behind the scenes make them transparently clone on any kind of state change&mdash;that's copy-on-write&mdash;with nobody being the wiser.)</p>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285168369,"creation_date":1285168369,"answer_id":3770718,"question_id":3769607,"body_markdown":"Using the final keyword doesn&#39;t necessarily make something immutable:\r\n\r\n    public class Scratchpad {\r\n        public static void main(String[] args) throws Exception {\r\n            SomeData sd = new SomeData(&quot;foo&quot;);\r\n            System.out.println(sd.data); //prints &quot;foo&quot;\r\n            voodoo(sd, &quot;data&quot;, &quot;bar&quot;);\r\n            System.out.println(sd.data); //prints &quot;bar&quot;\r\n        }\r\n        \r\n        private static void voodoo(Object obj, String fieldName, Object value) throws Exception {\r\n            Field f = SomeData.class.getDeclaredField(&quot;data&quot;);\r\n            f.setAccessible(true);\r\n            Field modifiers = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n            modifiers.setAccessible(true);\r\n            modifiers.setInt(f, f.getModifiers() &amp; ~Modifier.FINAL);\r\n            f.set(obj, &quot;bar&quot;);\r\n        }\r\n    }\r\n    \r\n    class SomeData {\r\n        final String data;\r\n        SomeData(String data) {\r\n            this.data = data;\r\n        }\r\n    }\r\n\r\nJust an example to demonstrate that the &quot;final&quot; keyword is there to prevent programmer error, and not much more.  Whereas reassigning a value lacking a final keyword can easily happen by accident, going to this length to change a value would have to be done intentionally.  It&#39;s there for documentation and to prevent programmer error.","title":"Why do we need immutable class?","body":"<p>Using the final keyword doesn't necessarily make something immutable:</p>\n\n<pre><code>public class Scratchpad {\n    public static void main(String[] args) throws Exception {\n        SomeData sd = new SomeData(\"foo\");\n        System.out.println(sd.data); //prints \"foo\"\n        voodoo(sd, \"data\", \"bar\");\n        System.out.println(sd.data); //prints \"bar\"\n    }\n\n    private static void voodoo(Object obj, String fieldName, Object value) throws Exception {\n        Field f = SomeData.class.getDeclaredField(\"data\");\n        f.setAccessible(true);\n        Field modifiers = Field.class.getDeclaredField(\"modifiers\");\n        modifiers.setAccessible(true);\n        modifiers.setInt(f, f.getModifiers() &amp; ~Modifier.FINAL);\n        f.set(obj, \"bar\");\n    }\n}\n\nclass SomeData {\n    final String data;\n    SomeData(String data) {\n        this.data = data;\n    }\n}\n</code></pre>\n\n<p>Just an example to demonstrate that the \"final\" keyword is there to prevent programmer error, and not much more.  Whereas reassigning a value lacking a final keyword can easily happen by accident, going to this length to change a value would have to be done intentionally.  It's there for documentation and to prevent programmer error.</p>\n"},{"tags":[],"owner":{"account_id":8372,"reputation":225282,"user_id":15055,"accept_rate":80,"display_name":"Claudiu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285169232,"creation_date":1285169232,"answer_id":3770884,"question_id":3769607,"body_markdown":"Immutable data structures can also help when coding recursive algorithms. For example, say that you&#39;re trying to solve a [3SAT](http://en.wikipedia.org/wiki/Boolean_satisfiability_problem) problem. One way is to do the following:\r\n\r\n* Pick an unassigned variable.\r\n* Give it the value of TRUE. Simplify the instance by taking out clauses that are now satisfied, and recur to solve the simpler instance.\r\n* If the recursion on the TRUE case failed, then assign that variable FALSE instead. Simplify this new instance, and recur to solve it.\r\n\r\nIf you have a mutable structure to represent the problem, then when you simplify the instance in the TRUE branch, you&#39;ll either have to:\r\n\r\n* Keep track of all changes you make, and undo them all once you realize the problem can&#39;t be solved. This has large overhead because your recursion can go pretty deep, and it&#39;s tricky to code.\r\n* Make a copy of the instance, and then modify the copy. This will be slow because if your recursion is a few dozen levels deep, you&#39;ll have to make many many copies of the instance.\r\n\r\nHowever if you code it in a clever way, you can have an immutable structure, where any operation returns an updated (but still immutable) version of the problem (similar to `String.replace` - it doesn&#39;t replace the string, just gives you a new one). The naive way to implement this is to have the &quot;immutable&quot; structure just copy and make a new one on any modification, reducing it to the 2nd solution when having a mutable one, with all that overhead, but you can do it in a more efficient way.","title":"Why do we need immutable class?","body":"<p>Immutable data structures can also help when coding recursive algorithms. For example, say that you're trying to solve a <a href=\"http://en.wikipedia.org/wiki/Boolean_satisfiability_problem\" rel=\"nofollow noreferrer\">3SAT</a> problem. One way is to do the following:</p>\n\n<ul>\n<li>Pick an unassigned variable.</li>\n<li>Give it the value of TRUE. Simplify the instance by taking out clauses that are now satisfied, and recur to solve the simpler instance.</li>\n<li>If the recursion on the TRUE case failed, then assign that variable FALSE instead. Simplify this new instance, and recur to solve it.</li>\n</ul>\n\n<p>If you have a mutable structure to represent the problem, then when you simplify the instance in the TRUE branch, you'll either have to:</p>\n\n<ul>\n<li>Keep track of all changes you make, and undo them all once you realize the problem can't be solved. This has large overhead because your recursion can go pretty deep, and it's tricky to code.</li>\n<li>Make a copy of the instance, and then modify the copy. This will be slow because if your recursion is a few dozen levels deep, you'll have to make many many copies of the instance.</li>\n</ul>\n\n<p>However if you code it in a clever way, you can have an immutable structure, where any operation returns an updated (but still immutable) version of the problem (similar to <code>String.replace</code> - it doesn't replace the string, just gives you a new one). The naive way to implement this is to have the \"immutable\" structure just copy and make a new one on any modification, reducing it to the 2nd solution when having a mutable one, with all that overhead, but you can do it in a more efficient way.</p>\n"},{"tags":[],"owner":{"account_id":120551,"reputation":44739,"user_id":313063,"accept_rate":84,"display_name":"Andr&#233; Caron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285169768,"creation_date":1285169768,"answer_id":3770963,"question_id":3769607,"body_markdown":"One of the reasons for the &quot;need&quot; for immutable classes is the combination of passing everything by reference and having no support for read-only views of an object (i.e. C++&#39;s `const`).\r\n\r\nConsider the simple case of a class having support for the observer pattern:\r\n\r\n    class Person {\r\n        public string getName() { ... }\r\n        public void registerForNameChange(NameChangedObserver o) { ... }\r\n    }\r\n\r\nIf `string` were not immutable, it would be impossible for the `Person` class to implement `registerForNameChange()` correctly, because someone could write the following, effectively modifying the person&#39;s name without triggering any notification.\r\n\r\n    void foo(Person p) {\r\n        p.getName().prepend(&quot;Mr. &quot;);\r\n    }\r\n\r\nIn C++, `getName()` returning a `const std::string&amp;` has the effect of returning by reference and preventing access to mutators, meaning immutable classes are not necessary in that context. \r\n","title":"Why do we need immutable class?","body":"<p>One of the reasons for the \"need\" for immutable classes is the combination of passing everything by reference and having no support for read-only views of an object (i.e. C++'s <code>const</code>).</p>\n\n<p>Consider the simple case of a class having support for the observer pattern:</p>\n\n<pre><code>class Person {\n    public string getName() { ... }\n    public void registerForNameChange(NameChangedObserver o) { ... }\n}\n</code></pre>\n\n<p>If <code>string</code> were not immutable, it would be impossible for the <code>Person</code> class to implement <code>registerForNameChange()</code> correctly, because someone could write the following, effectively modifying the person's name without triggering any notification.</p>\n\n<pre><code>void foo(Person p) {\n    p.getName().prepend(\"Mr. \");\n}\n</code></pre>\n\n<p>In C++, <code>getName()</code> returning a <code>const std::string&amp;</code> has the effect of returning by reference and preventing access to mutators, meaning immutable classes are not necessary in that context. </p>\n"},{"tags":[],"owner":{"account_id":174354,"reputation":5300,"user_id":403661,"accept_rate":91,"display_name":"Ryan Hayes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285169916,"creation_date":1285169916,"answer_id":3770984,"question_id":3769607,"body_markdown":"They also give us a guarantee.  The guarantee of immutability means that we can expand on them and create new patters for efficiency that are otherwise not possible.\r\n\r\nhttp://en.wikipedia.org/wiki/Singleton_pattern","title":"Why do we need immutable class?","body":"<p>They also give us a guarantee.  The guarantee of immutability means that we can expand on them and create new patters for efficiency that are otherwise not possible.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Singleton_pattern</a></p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335973895,"creation_date":1335973895,"answer_id":10417281,"question_id":3769607,"body_markdown":"One feature of immutable classes which hasn&#39;t yet been called out: storing a reference to a deeply-immutable class object is an efficient means of storing all of the state contained therein.  Suppose I have a mutable object which uses a deeply-immutable object to hold 50K worth of state information.  Suppose, further, that I wish to on 25 occasions make a &quot;copy&quot; of my original (mutable) object (e.g. for an &quot;undo&quot; buffer); the state could change between copy operations, but usually doesn&#39;t.  Making a &quot;copy&quot; of the mutable object would simply require copying a reference to its immutable state, so 20 copies would simply amount to 20 references.  By contrast, if the state were held in 50K worth of mutable objects, each of the 25 copy operations would have to produce its own copy of 50K worth of data; holding all 25 copies would require holding over a meg worth of mostly-duplicated data.  Even though the first copy operation would produce a copy of the data that will never change, and the other 24 operations could in theory simply refer back to that, in most implementations there would be no way for the second object asking for a copy of the information to know that an immutable copy already exists(*).\r\n\r\n(*) One pattern that can sometimes be useful is for mutable objects to have two fields to hold their state--one in mutable form and one in immutable form.  Objects can be copied as mutable or immutable, and would begin life with one or the other reference set.  As soon as the object wants to change its state, it copies the immutable reference to the mutable one (if it hasn&#39;t been done already) and invalidates the immutable one.  When the object is copied as immutable, if its immutable reference isn&#39;t set, an immutable copy will be created and the immutable reference pointed to that.  This approach will require a few more copy operations than would a &quot;full-fledged copy on write&quot; (e.g. asking to copy an object which has been mutated since the last copy would require a copy operation, even if the original object is never again mutated) but it avoids the threading complexities that FFCOW would entail.","title":"Why do we need immutable class?","body":"<p>One feature of immutable classes which hasn't yet been called out: storing a reference to a deeply-immutable class object is an efficient means of storing all of the state contained therein.  Suppose I have a mutable object which uses a deeply-immutable object to hold 50K worth of state information.  Suppose, further, that I wish to on 25 occasions make a \"copy\" of my original (mutable) object (e.g. for an \"undo\" buffer); the state could change between copy operations, but usually doesn't.  Making a \"copy\" of the mutable object would simply require copying a reference to its immutable state, so 20 copies would simply amount to 20 references.  By contrast, if the state were held in 50K worth of mutable objects, each of the 25 copy operations would have to produce its own copy of 50K worth of data; holding all 25 copies would require holding over a meg worth of mostly-duplicated data.  Even though the first copy operation would produce a copy of the data that will never change, and the other 24 operations could in theory simply refer back to that, in most implementations there would be no way for the second object asking for a copy of the information to know that an immutable copy already exists(*).</p>\n\n<p>(*) One pattern that can sometimes be useful is for mutable objects to have two fields to hold their state--one in mutable form and one in immutable form.  Objects can be copied as mutable or immutable, and would begin life with one or the other reference set.  As soon as the object wants to change its state, it copies the immutable reference to the mutable one (if it hasn't been done already) and invalidates the immutable one.  When the object is copied as immutable, if its immutable reference isn't set, an immutable copy will be created and the immutable reference pointed to that.  This approach will require a few more copy operations than would a \"full-fledged copy on write\" (e.g. asking to copy an object which has been mutated since the last copy would require a copy operation, even if the original object is never again mutated) but it avoids the threading complexities that FFCOW would entail.</p>\n"},{"tags":[],"owner":{"account_id":2455235,"reputation":314,"user_id":2140613,"display_name":"tarikfasun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438007215,"creation_date":1438007215,"answer_id":31655835,"question_id":3769607,"body_markdown":"from Effective Java;\r\nAn immutable class is simply a class whose instances cannot be modified. All of\r\nthe information contained in each instance is provided when it is created and is\r\nfixed for the lifetime of the object. The Java platform libraries contain many\r\nimmutable classes, including String, the boxed primitive classes, and BigInte-\r\nger and BigDecimal. There are many good reasons for this: Immutable classes\r\nare easier to design, implement and use than mutable classes. They are less prone\r\nto error and are more secure.\r\n\r\n","title":"Why do we need immutable class?","body":"<p>from Effective Java;\nAn immutable class is simply a class whose instances cannot be modified. All of\nthe information contained in each instance is provided when it is created and is\nfixed for the lifetime of the object. The Java platform libraries contain many\nimmutable classes, including String, the boxed primitive classes, and BigInte-\nger and BigDecimal. There are many good reasons for this: Immutable classes\nare easier to design, implement and use than mutable classes. They are less prone\nto error and are more secure.</p>\n"},{"tags":[],"owner":{"account_id":2444028,"reputation":3478,"user_id":2131816,"display_name":"Arun Pratap Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545759593,"creation_date":1494265285,"answer_id":43854003,"question_id":3769607,"body_markdown":"By the virtue of immutability you can be sure that the behavior/state of the underlying immutable object do not to change, with that you get added advantage of performing additional operations:\r\n\r\n - You can use multiple core/processing(**concurrent/parallel processing**) with ease(as the sequence of operations will no longer matter.)\r\n   \r\n - Can do **caching** for expensive operations (as you are sure of the same   \r\n   result). \r\n          \r\n - Can do **debugging** with ease(as the history of run will not be a concern   \r\n   anymore)","title":"Why do we need immutable class?","body":"<p>By the virtue of immutability you can be sure that the behavior/state of the underlying immutable object do not to change, with that you get added advantage of performing additional operations:</p>\n\n<ul>\n<li><p>You can use multiple core/processing(<strong>concurrent/parallel processing</strong>) with ease(as the sequence of operations will no longer matter.)</p></li>\n<li><p>Can do <strong>caching</strong> for expensive operations (as you are sure of the same<br>\nresult). </p></li>\n<li><p>Can do <strong>debugging</strong> with ease(as the history of run will not be a concern<br>\nanymore)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":147167,"reputation":2559,"user_id":358099,"accept_rate":47,"display_name":"bharanitharan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515048961,"creation_date":1515048961,"answer_id":48090161,"question_id":3769607,"body_markdown":"&gt; Why Immutable class?  \r\n\r\nOnce an object is instantiated it state cannot be changed in lifetime. Which also makes it thread safe.\r\n\r\n&gt; Examples :\r\n\r\nObviously String, Integer and BigDecimal etc. Once these values are created cannot be changed in lifetime.\r\n\r\n&gt; Use-case :\r\nOnce Database connection object is created with its configuration values you might not need to change its state where you can use an immutable class\r\n\r\n","title":"Why do we need immutable class?","body":"<blockquote>\n  <p>Why Immutable class?  </p>\n</blockquote>\n\n<p>Once an object is instantiated it state cannot be changed in lifetime. Which also makes it thread safe.</p>\n\n<blockquote>\n  <p>Examples :</p>\n</blockquote>\n\n<p>Obviously String, Integer and BigDecimal etc. Once these values are created cannot be changed in lifetime.</p>\n\n<blockquote>\n  <p>Use-case :\n  Once Database connection object is created with its configuration values you might not need to change its state where you can use an immutable class</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13806588,"reputation":31,"user_id":9965281,"display_name":"Shreya Agarwal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529471012,"creation_date":1529471012,"answer_id":50940531,"question_id":3769607,"body_markdown":"Immutable objects are instances whose states do not change once initiated. \r\nThe use of such objects is requirement specific. \r\n\r\nImmutable class is good for caching purpose and it is thread safe.","title":"Why do we need immutable class?","body":"<p>Immutable objects are instances whose states do not change once initiated. \nThe use of such objects is requirement specific. </p>\n\n<p>Immutable class is good for caching purpose and it is thread safe.</p>\n"},{"tags":[],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1534884331,"creation_date":1534884331,"answer_id":51956458,"question_id":3769607,"body_markdown":"*My 2 cents for future visitors:*\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\n\r\n2 scenarios where immutable objects are good choices are:\r\n\r\n&lt;h1&gt;In multi-threading&lt;/h1&gt;\r\nConcurrency issues in multi-threaded environment can very well be solved by synchronization but synchronization is costly affair (wouldn&#39;t dig here on &quot;why&quot;), so if you are using immutable objects then there is no synchronization to solve concurrency issue because state of immutable objects cannot be changed, and if state cannot be changed then all threads can seamless access the object. **So, immutable objects makes a great choice for shared objects in multi-threaded environment.**\r\n\r\n&lt;br&gt;&lt;/br&gt;\r\n\r\n\r\n&lt;h1&gt;As key for hash based collections&lt;/h1&gt;\r\nOne of the most important thing to note when working with hash based collection is that key should be such that its `hashCode()` should always return the same value for the lifetime of the object, because if that value is changed then old entry made into the hash based collection using that object cannot be retrieved, hence it would cause memory leak. **Since state of immutable objects cannot be changed so they makes a great choice as key in hash based collection.** So, if you are using immutable object as key for hash based collection then you can be sure that there will not be any memory leak because of that (of course there can still be memory leak when the object used as key is not referenced from anywhere else, but that&#39;s not the point here).","title":"Why do we need immutable class?","body":"<p><em>My 2 cents for future visitors:</em></p>\n\n<p><br></p>\n\n<p>2 scenarios where immutable objects are good choices are:</p>\n\n<h1>In multi-threading</h1>\n\n<p>Concurrency issues in multi-threaded environment can very well be solved by synchronization but synchronization is costly affair (wouldn't dig here on \"why\"), so if you are using immutable objects then there is no synchronization to solve concurrency issue because state of immutable objects cannot be changed, and if state cannot be changed then all threads can seamless access the object. <strong>So, immutable objects makes a great choice for shared objects in multi-threaded environment.</strong></p>\n\n<p><br></p>\n\n<h1>As key for hash based collections</h1>\n\n<p>One of the most important thing to note when working with hash based collection is that key should be such that its <code>hashCode()</code> should always return the same value for the lifetime of the object, because if that value is changed then old entry made into the hash based collection using that object cannot be retrieved, hence it would cause memory leak. <strong>Since state of immutable objects cannot be changed so they makes a great choice as key in hash based collection.</strong> So, if you are using immutable object as key for hash based collection then you can be sure that there will not be any memory leak because of that (of course there can still be memory leak when the object used as key is not referenced from anywhere else, but that's not the point here).</p>\n"},{"tags":[],"owner":{"account_id":10287148,"reputation":4085,"user_id":7590031,"display_name":"Ayoub Boumzebra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666389569,"creation_date":1666389569,"answer_id":74159541,"question_id":3769607,"body_markdown":"An **immutable** class is good for **caching purposes** because you don&#39;t have to worry about the **value changes**. Another benefit of an immutable class is that it is **inherently thread-safe**, so you don&#39;t have to worry about thread safety in case of a multi-threaded environment.","title":"Why do we need immutable class?","body":"<p>An <strong>immutable</strong> class is good for <strong>caching purposes</strong> because you don't have to worry about the <strong>value changes</strong>. Another benefit of an immutable class is that it is <strong>inherently thread-safe</strong>, so you don't have to worry about thread safety in case of a multi-threaded environment.</p>\n"}],"owner":{"account_id":33759,"reputation":36049,"user_id":94813,"accept_rate":70,"display_name":"Rakesh Juyal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67705,"favorite_count":0,"down_vote_count":3,"up_vote_count":98,"accepted_answer_id":3770485,"answer_count":20,"score":95,"last_activity_date":1666389569,"creation_date":1285161478,"question_id":3769607,"body_markdown":"I am unable to get what are the scenarios where we need an immutable class.  \r\nHave you ever faced any such requirement? or can you please give us any real example where we should use this pattern.","title":"Why do we need immutable class?","body":"<p>I am unable to get what are the scenarios where we need an immutable class.<br>\nHave you ever faced any such requirement? or can you please give us any real example where we should use this pattern.</p>\n"},{"tags":["java","spring","dll"],"comments":[{"owner":{"account_id":447134,"reputation":1792,"user_id":840584,"display_name":"Ilya Lysenko"},"score":0,"creation_date":1582570621,"post_id":60378549,"comment_id":106815481,"body_markdown":"Check this solution: https://stackoverflow.com/questions/1403788/java-lang-unsatisfiedlinkerror-no-dll-in-java-library-path","body":"Check this solution: <a href=\"https://stackoverflow.com/questions/1403788/java-lang-unsatisfiedlinkerror-no-dll-in-java-library-path\" title=\"java lang unsatisfiedlinkerror no dll in java library path\">stackoverflow.com/questions/1403788/&hellip;</a>"}],"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3036,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666388603,"creation_date":1582556327,"question_id":60378549,"body_markdown":"I have a dll file used to communicate with a card reader. In normal java project, I could load and use the library normally but when I try to use the same class in a Spring Boot project, the method does not seem to work.\r\n\r\nThe class looks like this:\r\n    \r\n    public class cardfunction {\r\n\r\n\tpublic native String GetDLLVersion();\r\n\tstatic\r\n\t{\r\n\t\tSystem.loadLibrary(&quot;DoorLock&quot;);\r\n\t}\r\n\r\n\tpublic native String CancelCard();\r\n\tstatic\r\n\t{\r\n\t\tSystem.loadLibrary(&quot;DoorLock&quot;);\r\n\t}\r\n\t}\r\n\r\nThese methods works fine but if I use this class in a Spring boot project, the dll is not working any more:\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n\tpublic String home() {\r\n\t\tcardfunction fc = new cardfunction();\r\n\t\tint initialize = fc.initializeUSB();\r\n\t\tString dellVer = fc.GetDLLVersion();\r\n\t\tString hotelCode = fc.GetHotelSystemCode();\r\n\t\tfc.CloseUSB();\r\n\t\treturn &quot;initialize : &quot; + initialize + &quot; dllVer: &quot; + dellVer + &quot; hotelCode: &quot; + hotelCode;\r\n\t}\r\n\r\nThis is thrown:\r\n\r\n    java.lang.UnsatisfiedLinkError: com.hotel.card.cardfunction.initializeUSB()I\r\n\tat com.hotel.card.cardfunction.initializeUSB(Native Method) ~[classes/:na]\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rMJyc.png","title":"Can Spring boot load dll library?","body":"<p>I have a dll file used to communicate with a card reader. In normal java project, I could load and use the library normally but when I try to use the same class in a Spring Boot project, the method does not seem to work.</p>\n\n<p>The class looks like this:</p>\n\n<pre><code>public class cardfunction {\n\npublic native String GetDLLVersion();\nstatic\n{\n    System.loadLibrary(\"DoorLock\");\n}\n\npublic native String CancelCard();\nstatic\n{\n    System.loadLibrary(\"DoorLock\");\n}\n}\n</code></pre>\n\n<p>These methods works fine but if I use this class in a Spring boot project, the dll is not working any more:</p>\n\n<pre><code>@RequestMapping(\"/\")\npublic String home() {\n    cardfunction fc = new cardfunction();\n    int initialize = fc.initializeUSB();\n    String dellVer = fc.GetDLLVersion();\n    String hotelCode = fc.GetHotelSystemCode();\n    fc.CloseUSB();\n    return \"initialize : \" + initialize + \" dllVer: \" + dellVer + \" hotelCode: \" + hotelCode;\n}\n</code></pre>\n\n<p>This is thrown:</p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: com.hotel.card.cardfunction.initializeUSB()I\nat com.hotel.card.cardfunction.initializeUSB(Native Method) ~[classes/:na]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rMJyc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rMJyc.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","slack","slack-api","ngrok","slack-commands"],"answers":[{"tags":[],"owner":{"account_id":12289779,"reputation":71,"user_id":8967633,"display_name":"Deepika Karanji"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613533335,"creation_date":1613532745,"answer_id":66235359,"question_id":64337957,"body_markdown":"I was facing the exact same issue and this worked for me:\r\n\r\nIf you are running the project in an IDE, you have to figure out how to set runtime environment variables in your IDE.\r\n\r\nI used intelliJ. To set environment variable:\r\n\r\n 1. From the main menu, select Run | Edit Configurations or choose Edit\r\n    Configurations from the run/debug configurations selector on the\r\n    toolbar.\r\n 2. From the main menu, select Run | Edit Configurations or choose Edit\r\n    Configurations from the run/debug configurations selector on the\r\n    toolbar.\r\n 3. In the Run/Debug Configurations dialog, select a configuration where\r\n    you want to add the environment variables.Type the variable name and value: &lt;name&gt;=&lt;value&gt;. \r\n 4. If you want to add several variables, they should be separated with semicolons. In this case it&#39;ll be SLACK_BOT_TOKEN=xoxb.....;SLACK_SIGNING_SECRET=xxxxx\r\n\r\nAnd no, you dont need to actually verify requests etc, because the Bolt Middleware does it for you as a builtin [Request Verification class][1]\r\n\r\nYour app need not return any response manually, everything is taken care of by Bolt itself.\r\nJust setting the Env variable should be enough!\r\n\r\nHope this helps!\r\n\r\n\r\n  [1]: https://github.com/slackapi/java-slack-sdk/blob/main/bolt/src/main/java/com/slack/api/bolt/middleware/builtin/RequestVerification.java","title":"Slack App Slash Command - Invalid Signature Detected (401 Unauthorized)","body":"<p>I was facing the exact same issue and this worked for me:</p>\n<p>If you are running the project in an IDE, you have to figure out how to set runtime environment variables in your IDE.</p>\n<p>I used intelliJ. To set environment variable:</p>\n<ol>\n<li>From the main menu, select Run | Edit Configurations or choose Edit\nConfigurations from the run/debug configurations selector on the\ntoolbar.</li>\n<li>From the main menu, select Run | Edit Configurations or choose Edit\nConfigurations from the run/debug configurations selector on the\ntoolbar.</li>\n<li>In the Run/Debug Configurations dialog, select a configuration where\nyou want to add the environment variables.Type the variable name and value: =.</li>\n<li>If you want to add several variables, they should be separated with semicolons. In this case it'll be SLACK_BOT_TOKEN=xoxb.....;SLACK_SIGNING_SECRET=xxxxx</li>\n</ol>\n<p>And no, you dont need to actually verify requests etc, because the Bolt Middleware does it for you as a builtin <a href=\"https://github.com/slackapi/java-slack-sdk/blob/main/bolt/src/main/java/com/slack/api/bolt/middleware/builtin/RequestVerification.java\" rel=\"noreferrer\">Request Verification class</a></p>\n<p>Your app need not return any response manually, everything is taken care of by Bolt itself.\nJust setting the Env variable should be enough!</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":14434191,"reputation":41,"user_id":10426661,"display_name":"jsegal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2395,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1666387584,"creation_date":1602601858,"question_id":64337957,"body_markdown":"Ok, let&#39;s set the stage.\r\n\r\nI&#39;m trying to build a slack app using Java JDK 14, with gradle and ngrok. (and Slack&#39;s SDK module, Bolt)  \r\n\r\nSo far, I&#39;ve been able to include the dependencies required very easily and my issues don&#39;t seem at all associated with my dependency management. It builds. At the very least, it builds.\r\n\r\nThe slack command configuration: \r\n\r\n![The slack command configuration][1]\r\n\r\n\r\n----------\r\n\r\n\r\nSome notes, because I can&#39;t organize my thoughts for some reason. \r\n\r\n*I make sure to change the request URL each time I refresh ngrok.*\r\n\r\n*I&#39;ve verified that my slack bot token and my slack signing secret are correct.*\r\n\r\nThe main program code:\r\n\r\n    package SlackApp;\r\n    \r\n    import com.slack.api.bolt.App;\r\n    import com.slack.api.bolt.jetty.SlackAppServer;\r\n    \r\n    public class Program {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            App app = new App();\r\n    \r\n            app.command(&quot;/echo&quot;, (req, ctx) -&gt; {\r\n                return ctx.ack(&quot;:wave: testing&quot;);\r\n            });\r\n    \r\n            SlackAppServer server = new SlackAppServer(app);\r\n            \r\n            server.start();\r\n        }\r\n    }\r\n\r\nFor some reason, whenever I use the slash command in my development workspace (I haven&#39;t started doing oAuth for multiple workspaces, I&#39;m just testing stuff) the logger displays this information (which I have googled and haven&#39;t found any appropriate solution for):\r\n\r\n    INFO com.slack.api.bolt.middleware.builtin.RequestVerification - Invalid signature detected \r\n    - v0=ee1b7da78a098a8b974c119873b1782c843b8bef1dce192b68ea0df4ccf86b23\r\n\r\nThis is where I am. Slack&#39;s documentation says the process of building a slack app is the following:\r\n\r\nAll your app needs to do to handle slash command requests are:\r\n\r\n 1. Verify requests from Slack\r\n\r\n    \r\n\r\n 2. Parse the request body and check if the command is the one you’d\r\n    like to handle\r\n\r\n    \r\n\r\n 3. Build a reply message or do whatever you want to do\r\n\r\n    \r\n\r\n 4. Respond to the Slack API server with 200 OK as an acknowledgment\r\n\r\nI&#39;m not actually verifying requests from slack, but I don&#39;t think it&#39;s necessary doing so if I&#39;m just playing around. Can you offer some insight?\r\n\r\n  [1]: https://i.stack.imgur.com/wduGY.png\r\n","title":"Slack App Slash Command - Invalid Signature Detected (401 Unauthorized)","body":"<p>Ok, let's set the stage.</p>\n<p>I'm trying to build a slack app using Java JDK 14, with gradle and ngrok. (and Slack's SDK module, Bolt)</p>\n<p>So far, I've been able to include the dependencies required very easily and my issues don't seem at all associated with my dependency management. It builds. At the very least, it builds.</p>\n<p>The slack command configuration:</p>\n<p><img src=\"https://i.stack.imgur.com/wduGY.png\" alt=\"The slack command configuration\" /></p>\n<hr />\n<p>Some notes, because I can't organize my thoughts for some reason.</p>\n<p><em>I make sure to change the request URL each time I refresh ngrok.</em></p>\n<p><em>I've verified that my slack bot token and my slack signing secret are correct.</em></p>\n<p>The main program code:</p>\n<pre><code>package SlackApp;\n\nimport com.slack.api.bolt.App;\nimport com.slack.api.bolt.jetty.SlackAppServer;\n\npublic class Program {\n\n    public static void main(String[] args) throws Exception {\n        App app = new App();\n\n        app.command(&quot;/echo&quot;, (req, ctx) -&gt; {\n            return ctx.ack(&quot;:wave: testing&quot;);\n        });\n\n        SlackAppServer server = new SlackAppServer(app);\n        \n        server.start();\n    }\n}\n</code></pre>\n<p>For some reason, whenever I use the slash command in my development workspace (I haven't started doing oAuth for multiple workspaces, I'm just testing stuff) the logger displays this information (which I have googled and haven't found any appropriate solution for):</p>\n<pre><code>INFO com.slack.api.bolt.middleware.builtin.RequestVerification - Invalid signature detected \n- v0=ee1b7da78a098a8b974c119873b1782c843b8bef1dce192b68ea0df4ccf86b23\n</code></pre>\n<p>This is where I am. Slack's documentation says the process of building a slack app is the following:</p>\n<p>All your app needs to do to handle slash command requests are:</p>\n<ol>\n<li><p>Verify requests from Slack</p>\n</li>\n<li><p>Parse the request body and check if the command is the one you’d\nlike to handle</p>\n</li>\n<li><p>Build a reply message or do whatever you want to do</p>\n</li>\n<li><p>Respond to the Slack API server with 200 OK as an acknowledgment</p>\n</li>\n</ol>\n<p>I'm not actually verifying requests from slack, but I don't think it's necessary doing so if I'm just playing around. Can you offer some insight?</p>\n"},{"tags":["java","jackson","jersey","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1666384436,"post_id":74158373,"comment_id":130932910,"body_markdown":"We don&#39;t know when getEyes() is being called. It sounds odd to me that the serializer would call any getXxx() when DEserializing. Usually the setters are called when deserializing. As an aside, I would switch to using Jackson as the provider.","body":"We don&#39;t know when getEyes() is being called. It sounds odd to me that the serializer would call any getXxx() when DEserializing. Usually the setters are called when deserializing. As an aside, I would switch to using Jackson as the provider."},{"owner":{"account_id":23884636,"reputation":55,"user_id":17884919,"display_name":"Displayname"},"score":0,"creation_date":1666386498,"post_id":74158373,"comment_id":130933359,"body_markdown":"That would be in my actual method. So I invoke dog.getEyes().getSomeAttribute(). But this is null. So it did not deserialize correctly, possibly because the structure of my JSON is incorrect.","body":"That would be in my actual method. So I invoke dog.getEyes().getSomeAttribute(). But this is null. So it did not deserialize correctly, possibly because the structure of my JSON is incorrect."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1666387447,"post_id":74158373,"comment_id":130933534,"body_markdown":"I don&#39;t know how JSONB works, but with other serializers, they call the setters to populate the values. If your setters aren&#39;t named correctly, then it can&#39;t be called. Is the name value set correctly?","body":"I don&#39;t know how JSONB works, but with other serializers, they call the setters to populate the values. If your setters aren&#39;t named correctly, then it can&#39;t be called. Is the name value set correctly?"},{"owner":{"account_id":23884636,"reputation":55,"user_id":17884919,"display_name":"Displayname"},"score":0,"creation_date":1666387750,"post_id":74158373,"comment_id":130933604,"body_markdown":"My mistake, I am using Jackson (3.0.3) to be specific. I have setters and getters for all of them. They are default, so dog.getEyes() returns Eyes, which can be null if not set. Which is not setting if I keep getting a null for trying to getEyes(). Hence why I think my JSON is incorrectly formatted or something.","body":"My mistake, I am using Jackson (3.0.3) to be specific. I have setters and getters for all of them. They are default, so dog.getEyes() returns Eyes, which can be null if not set. Which is not setting if I keep getting a null for trying to getEyes(). Hence why I think my JSON is incorrectly formatted or something."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1666387861,"post_id":74158373,"comment_id":130933626,"body_markdown":"You should not have the outer object in the JSON unless you configure Jackson to use &quot;wrapped&quot; objects.","body":"You should not have the outer object in the JSON unless you configure Jackson to use &quot;wrapped&quot; objects."}],"owner":{"account_id":23884636,"reputation":55,"user_id":17884919,"display_name":"Displayname"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666387534,"creation_date":1666380405,"question_id":74158373,"body_markdown":"If I have a supertype and a subtype entity like so:\r\n\r\n    public class Eyes {\r\n        // attributes\r\n        String someAttribute;\r\n\r\n        // default construct\r\n\r\n        // getters/setters\r\n    }\r\n\r\n    public abstract class Animal {\r\n        // attributes\r\n        Eyes eyes;\r\n        String name;\r\n\r\n        // default construct\r\n\r\n        // getters/setters\r\n    }\r\n\r\n    public class Dog extends Animal {\r\n        // attributes\r\n        Something something;\r\n        String x;\r\n\r\n        // default construct\r\n\r\n        // getters/setters\r\n    }\r\n\r\nI also have an endpoint to create an Animal of type Dog:\r\n\r\n    @POST\r\n    @Consumes(&quot;application/json&quot;)\r\n    public void createDog(Dog dog) {...}\r\n\r\nI then initiate a post request like so: \r\n\r\n    {\r\n        &quot;dog&quot;: {\r\n            &quot;something&quot;: {...}, \r\n            &quot;x&quot;: &quot;awd&quot;,\r\n            &quot;eyes&quot;: { &lt;- problem\r\n                &quot;someAttribute&quot;: &quot;some string&quot;\r\n            },\r\n            &quot;name&quot;: &quot;Devi&quot;\r\n        }\r\n    }\r\n\r\nI receive an error while execute this request of this JSON body: \r\n\r\n&gt; jakarta.servlet.ServletException: java.lang.NullPointerException: Cannot invoke &quot;api.entity.Eyes.getSomeAttribute()&quot; because the return value of &quot;api.entity.Dog.getEyes()&quot; is null\r\n\r\nI am unsure if it is how I formatted my JSON that results in this error or something else. Not too sure how jsonb handles creating objects in abstract types. Setting name results in no errors in Animal. Just the Eyes are the problem when trying to set someAttribute.","title":"How to map JSON object to subclass entity?","body":"<p>If I have a supertype and a subtype entity like so:</p>\n<pre><code>public class Eyes {\n    // attributes\n    String someAttribute;\n\n    // default construct\n\n    // getters/setters\n}\n\npublic abstract class Animal {\n    // attributes\n    Eyes eyes;\n    String name;\n\n    // default construct\n\n    // getters/setters\n}\n\npublic class Dog extends Animal {\n    // attributes\n    Something something;\n    String x;\n\n    // default construct\n\n    // getters/setters\n}\n</code></pre>\n<p>I also have an endpoint to create an Animal of type Dog:</p>\n<pre><code>@POST\n@Consumes(&quot;application/json&quot;)\npublic void createDog(Dog dog) {...}\n</code></pre>\n<p>I then initiate a post request like so:</p>\n<pre><code>{\n    &quot;dog&quot;: {\n        &quot;something&quot;: {...}, \n        &quot;x&quot;: &quot;awd&quot;,\n        &quot;eyes&quot;: { &lt;- problem\n            &quot;someAttribute&quot;: &quot;some string&quot;\n        },\n        &quot;name&quot;: &quot;Devi&quot;\n    }\n}\n</code></pre>\n<p>I receive an error while execute this request of this JSON body:</p>\n<blockquote>\n<p>jakarta.servlet.ServletException: java.lang.NullPointerException: Cannot invoke &quot;api.entity.Eyes.getSomeAttribute()&quot; because the return value of &quot;api.entity.Dog.getEyes()&quot; is null</p>\n</blockquote>\n<p>I am unsure if it is how I formatted my JSON that results in this error or something else. Not too sure how jsonb handles creating objects in abstract types. Setting name results in no errors in Animal. Just the Eyes are the problem when trying to set someAttribute.</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1666387071,"post_id":74159206,"comment_id":130933463,"body_markdown":"How and where is `temp` defined?","body":"How and where is <code>temp</code> defined?"},{"owner":{"account_id":26695869,"reputation":11,"user_id":20303746,"display_name":"Zack"},"score":0,"creation_date":1666387271,"post_id":74159206,"comment_id":130933495,"body_markdown":"It&#39;s declared at the beginning of the class and then given values right before this recursive function is called","body":"It&#39;s declared at the beginning of the class and then given values right before this recursive function is called"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666387318,"post_id":74159206,"comment_id":130933507,"body_markdown":"Arrays in Java are objects. So, if you have a reference to that array outside your recursive stack, you will see those changes reflected.","body":"Arrays in Java are objects. So, if you have a reference to that array outside your recursive stack, you will see those changes reflected."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666387460,"creation_date":1666387262,"answer_id":74159256,"question_id":74159206,"body_markdown":"You have to explicitly make a copy of the array and store it.\r\n\r\nFor a two-dimensional array, this means you need an entire loop to copy the array:\r\n\r\n```\r\nint[][] copy(int[][] array) {\r\n  int[][] result = new int[array.length][];\r\n  for (int i = 0; i &lt; array.length; i++) {\r\n    result[i] = Arrays.copyOf(array[i], array[i].length);\r\n  }\r\n  return result;\r\n}\r\n```\r\n\r\nAs for _why_, remember that objects are arrays and study https://stackoverflow.com/a/40523/869736.","title":"Why do arrays in recursive function permanently change when array is recursively called? (Java)","body":"<p>You have to explicitly make a copy of the array and store it.</p>\n<p>For a two-dimensional array, this means you need an entire loop to copy the array:</p>\n<pre><code>int[][] copy(int[][] array) {\n  int[][] result = new int[array.length][];\n  for (int i = 0; i &lt; array.length; i++) {\n    result[i] = Arrays.copyOf(array[i], array[i].length);\n  }\n  return result;\n}\n</code></pre>\n<p>As for <em>why</em>, remember that objects are arrays and study <a href=\"https://stackoverflow.com/a/40523/869736\">https://stackoverflow.com/a/40523/869736</a>.</p>\n"}],"owner":{"account_id":26695869,"reputation":11,"user_id":20303746,"display_name":"Zack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1666424251,"accepted_answer_id":74159256,"answer_count":1,"score":-2,"last_activity_date":1666387460,"creation_date":1666386934,"question_id":74159206,"body_markdown":"So the goal of this code is to recursively move through a 2d array with frogs on certain cells. A frog can jump over another frog and delete it. This code is supposed to see how many different ways you can do that to get it to one frog. But after one path is found, the original array is changed and it still only has a single frog from the previous path. How do I change this so that the original array isn&#39;t affected?\r\n\r\n\r\n```\r\npublic void RecursiveFunc(Units[][] array) {\r\n\t\r\n\t\tfor(int x = 0; x &lt; array.length; x++){\r\n\t\t    for(int y = 0; y &lt; array.length; y++) {\r\n\t\t    \ttemp[x][y] = array[x][y];\r\n\t\t    }\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t//make move on temp board and recursively call again\r\n\t\tif (CheckNumberFrogs(temp) == 1 &amp;&amp; CheckLastID(temp) == getgoalLoc()) {\r\n\t\t\t\tnumOfPlans += 1;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tfor(int i= 0; i &lt; temp.length; i++){\r\n\t\t\t    for(int j = 0; j &lt; temp.length; j++){\r\n\t\t\t  \r\n\t\t\t    \tif (temp[i][j].Frog == true) {\r\n\t\t\t    \t\t//Every possible movement is done here and then recursively recalled\r\n\t\t\t    \t\t\r\n\t\t\t    \t\tif (i &gt; 1) {\r\n\t\t\t    \t\t//can go left\r\n\t\t\t    \t\t\tif (temp[i-1][j].Frog == true &amp;&amp; temp[i-2][j].Frog == false) {\r\n\t\t\t    \t\t\t\ttemp[i][j].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i-1][j].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i-2][j].setFrog();\r\n\t\t\t    \t\t\t\tRecursiveFunc(temp);\r\n\t\t\t    \t\t\t\tfor(int x = 0; x &lt; array.length; x++){\r\n\t\t\t\t\t    \t\t    for(int y = 0; y &lt; array.length; y++) {\r\n\t\t\t\t\t    \t\t    \ttemp[x][y] = array[x][y];\r\n\t\t\t\t\t    \t\t    }\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t    \t\t\t}\r\n\t\t\t    \t\t}\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\tif (i &lt; (temp.length - 2)) {\r\n\t\t\t    \t\t//can go right\r\n\t\t\t    \t\t\tif (temp[i+1][j].Frog == true &amp;&amp; temp[i+2][j].Frog == false) {\r\n\t\t\t    \t\t\t\ttemp[i][j].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i+1][j].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i+2][j].setFrog();\r\n\t\t\t    \t\t\t\tRecursiveFunc(temp);\r\n\t\t\t    \t\t\t\tfor(int x = 0; x &lt; array.length; x++){\r\n\t\t\t\t\t    \t\t    for(int y = 0; y &lt; array.length; y++) {\r\n\t\t\t\t\t    \t\t    \ttemp[x][y] = array[x][y];\r\n\t\t\t\t\t    \t\t    }\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t    \t\t\t}\r\n\t\t\t    \t\t}\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\tif (j &gt; 1) {\r\n\t\t\t    \t\t//can go down\r\n\t\t\t    \t\t\tif (temp[i][j-1].Frog == true &amp;&amp; temp[i][j-2].Frog == false) {\r\n\t\t\t    \t\t\t\ttemp[i][j].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i][j-1].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i][j-2].setFrog();\r\n\t\t\t    \t\t\t\tRecursiveFunc(temp);\r\n\t\t\t    \t\t\t\tfor(int x = 0; x &lt; array.length; x++){\r\n\t\t\t\t\t    \t\t    for(int y = 0; y &lt; array.length; y++) {\r\n\t\t\t\t\t    \t\t    \ttemp[x][y] = array[x][y];\r\n\t\t\t\t\t    \t\t    }\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t    \t\t\t}\r\n\t\t\t    \t\t}\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\tif(j &lt; (temp.length - 2)) {\r\n\t\t\t    \t\t//can go up\r\n\t\t\t    \t\t\tif (temp[i][j+1].Frog == true &amp;&amp; temp[i][j+2].Frog == false) {\r\n\t\t\t    \t\t\t\ttemp[i][j].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i][j+1].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i][j+2].setFrog();\r\n\t\t\t    \t\t\t\tRecursiveFunc(temp);\r\n\t\t\t    \t\t\t\tfor(int x = 0; x &lt; array.length; x++){\r\n\t\t\t\t\t    \t\t    for(int y = 0; y &lt; array.length; y++) {\r\n\t\t\t\t\t    \t\t    \ttemp[x][y] = array[x][y];\r\n\t\t\t\t\t    \t\t    }\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t    \t\t\t}\r\n\t\t\t    \t\t}\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\tif (i &gt; 1 &amp;&amp; j &gt; 1) {\r\n\t\t\t\t    \t\t//can go left and down (diagonal)\r\n\t\t\t    \t\t\tif (temp[i-1][j-1].Frog == true &amp;&amp; temp[i-2][j-2].Frog == false) {\r\n\t\t\t    \t\t\t\ttemp[i][j].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i-1][j-1].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i-2][j-2].setFrog();\r\n\t\t\t    \t\t\t\tRecursiveFunc(temp);\r\n\t\t\t    \t\t\t\tfor(int x = 0; x &lt; array.length; x++){\r\n\t\t\t\t\t    \t\t    for(int y = 0; y &lt; array.length; y++) {\r\n\t\t\t\t\t    \t\t    \ttemp[x][y] = array[x][y];\r\n\t\t\t\t\t    \t\t    }\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t    \t\t\t}\r\n\t\t\t\t    \t}\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\tif (i &lt; (temp.length - 2) &amp;&amp; j &gt; 1) {\r\n\t\t\t\t    \t\t//can go right and down (diagonal)\r\n\t\t\t    \t\t\tif (temp[i+1][j-1].Frog == true &amp;&amp; temp[i+2][j-2].Frog == false) {\r\n\t\t\t    \t\t\t\ttemp[i][j].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i+1][j-1].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i+2][j-2].setFrog();\r\n\t\t\t    \t\t\t\tRecursiveFunc(temp);\r\n\t\t\t    \t\t\t\tfor(int x = 0; x &lt; array.length; x++){\r\n\t\t\t\t\t    \t\t    for(int y = 0; y &lt; array.length; y++) {\r\n\t\t\t\t\t    \t\t    \ttemp[x][y] = array[x][y];\r\n\t\t\t\t\t    \t\t    }\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t    \t\t\t}\r\n\t\t\t\t    \t}\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\tif (i &gt; 1 &amp;&amp; j &lt; (temp.length - 2)) {\r\n\t\t\t    \t\t\t//can go left and up (diagonal)\r\n\t\t\t    \t\t\tif (temp[i-1][j+1].Frog == true &amp;&amp; temp[i-2][j+2].Frog == false) {\r\n\t\t\t    \t\t\t\ttemp[i][j].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i-1][j+1].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i-2][j+2].setFrog();\r\n\t\t\t    \t\t\t\tRecursiveFunc(temp);\r\n\t\t\t    \t\t\t\tfor(int x = 0; x &lt; array.length; x++){\r\n\t\t\t\t\t    \t\t    for(int y = 0; y &lt; array.length; y++) {\r\n\t\t\t\t\t    \t\t    \ttemp[x][y] = array[x][y];\r\n\t\t\t\t\t    \t\t    }\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t    \t\t\t}\r\n\t\t\t    \t\t}\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t\r\n\t\t\t    \t\tif (i &lt; (temp.length - 2) &amp;&amp; j &lt; (temp.length - 2)) {\r\n\t\t\t\t    \t\t//can go right and up (diagonal)\r\n\t\t\t    \t\t\tif (temp[i+1][j+1].Frog == true &amp;&amp; temp[i+2][j+2].Frog == false) {\r\n\t\t\t    \t\t\t\ttemp[i][j].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i+1][j+1].removeFrog();\r\n\t\t\t    \t\t\t\ttemp[i+2][j+2].setFrog();\r\n\t\t\t    \t\t\t\tRecursiveFunc(temp);\r\n\t\t\t    \t\t\t\tfor(int x = 0; x &lt; array.length; x++){\r\n\t\t\t\t\t    \t\t    for(int y = 0; y &lt; array.length; y++) {\r\n\t\t\t\t\t    \t\t    \ttemp[x][y] = array[x][y];\r\n\t\t\t\t\t    \t\t    }\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t\t\t    \t\t\r\n\t\t\t    \t\t\t}\r\n\t\t\t\t    \t}\r\n\t\t\t    \t\t\r\n\t\t\t    \t\t//end\r\n\t\t\t    \t}\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nx","title":"Why do arrays in recursive function permanently change when array is recursively called? (Java)","body":"<p>So the goal of this code is to recursively move through a 2d array with frogs on certain cells. A frog can jump over another frog and delete it. This code is supposed to see how many different ways you can do that to get it to one frog. But after one path is found, the original array is changed and it still only has a single frog from the previous path. How do I change this so that the original array isn't affected?</p>\n<pre><code>public void RecursiveFunc(Units[][] array) {\n    \n        for(int x = 0; x &lt; array.length; x++){\n            for(int y = 0; y &lt; array.length; y++) {\n                temp[x][y] = array[x][y];\n            }\n        }\n        \n        \n        //make move on temp board and recursively call again\n        if (CheckNumberFrogs(temp) == 1 &amp;&amp; CheckLastID(temp) == getgoalLoc()) {\n                numOfPlans += 1;\n        }\n        \n        \n        else {\n            \n            for(int i= 0; i &lt; temp.length; i++){\n                for(int j = 0; j &lt; temp.length; j++){\n              \n                    if (temp[i][j].Frog == true) {\n                        //Every possible movement is done here and then recursively recalled\n                        \n                        if (i &gt; 1) {\n                        //can go left\n                            if (temp[i-1][j].Frog == true &amp;&amp; temp[i-2][j].Frog == false) {\n                                temp[i][j].removeFrog();\n                                temp[i-1][j].removeFrog();\n                                temp[i-2][j].setFrog();\n                                RecursiveFunc(temp);\n                                for(int x = 0; x &lt; array.length; x++){\n                                    for(int y = 0; y &lt; array.length; y++) {\n                                        temp[x][y] = array[x][y];\n                                    }\n                                }\n                            }\n                        }\n                        \n                        \n                        \n                        if (i &lt; (temp.length - 2)) {\n                        //can go right\n                            if (temp[i+1][j].Frog == true &amp;&amp; temp[i+2][j].Frog == false) {\n                                temp[i][j].removeFrog();\n                                temp[i+1][j].removeFrog();\n                                temp[i+2][j].setFrog();\n                                RecursiveFunc(temp);\n                                for(int x = 0; x &lt; array.length; x++){\n                                    for(int y = 0; y &lt; array.length; y++) {\n                                        temp[x][y] = array[x][y];\n                                    }\n                                }\n                            }\n                        }\n                        \n                        \n                        \n                        if (j &gt; 1) {\n                        //can go down\n                            if (temp[i][j-1].Frog == true &amp;&amp; temp[i][j-2].Frog == false) {\n                                temp[i][j].removeFrog();\n                                temp[i][j-1].removeFrog();\n                                temp[i][j-2].setFrog();\n                                RecursiveFunc(temp);\n                                for(int x = 0; x &lt; array.length; x++){\n                                    for(int y = 0; y &lt; array.length; y++) {\n                                        temp[x][y] = array[x][y];\n                                    }\n                                }\n                            }\n                        }\n                        \n                        \n                        \n                        if(j &lt; (temp.length - 2)) {\n                        //can go up\n                            if (temp[i][j+1].Frog == true &amp;&amp; temp[i][j+2].Frog == false) {\n                                temp[i][j].removeFrog();\n                                temp[i][j+1].removeFrog();\n                                temp[i][j+2].setFrog();\n                                RecursiveFunc(temp);\n                                for(int x = 0; x &lt; array.length; x++){\n                                    for(int y = 0; y &lt; array.length; y++) {\n                                        temp[x][y] = array[x][y];\n                                    }\n                                }\n                            }\n                        }\n                        \n                        \n                        \n                        if (i &gt; 1 &amp;&amp; j &gt; 1) {\n                            //can go left and down (diagonal)\n                            if (temp[i-1][j-1].Frog == true &amp;&amp; temp[i-2][j-2].Frog == false) {\n                                temp[i][j].removeFrog();\n                                temp[i-1][j-1].removeFrog();\n                                temp[i-2][j-2].setFrog();\n                                RecursiveFunc(temp);\n                                for(int x = 0; x &lt; array.length; x++){\n                                    for(int y = 0; y &lt; array.length; y++) {\n                                        temp[x][y] = array[x][y];\n                                    }\n                                }\n                            }\n                        }\n                        \n                        \n                        \n                        if (i &lt; (temp.length - 2) &amp;&amp; j &gt; 1) {\n                            //can go right and down (diagonal)\n                            if (temp[i+1][j-1].Frog == true &amp;&amp; temp[i+2][j-2].Frog == false) {\n                                temp[i][j].removeFrog();\n                                temp[i+1][j-1].removeFrog();\n                                temp[i+2][j-2].setFrog();\n                                RecursiveFunc(temp);\n                                for(int x = 0; x &lt; array.length; x++){\n                                    for(int y = 0; y &lt; array.length; y++) {\n                                        temp[x][y] = array[x][y];\n                                    }\n                                }\n                            }\n                        }\n                        \n                        \n                        \n                        if (i &gt; 1 &amp;&amp; j &lt; (temp.length - 2)) {\n                            //can go left and up (diagonal)\n                            if (temp[i-1][j+1].Frog == true &amp;&amp; temp[i-2][j+2].Frog == false) {\n                                temp[i][j].removeFrog();\n                                temp[i-1][j+1].removeFrog();\n                                temp[i-2][j+2].setFrog();\n                                RecursiveFunc(temp);\n                                for(int x = 0; x &lt; array.length; x++){\n                                    for(int y = 0; y &lt; array.length; y++) {\n                                        temp[x][y] = array[x][y];\n                                    }\n                                }\n                            }\n                        }\n                        \n                        \n                        \n                        if (i &lt; (temp.length - 2) &amp;&amp; j &lt; (temp.length - 2)) {\n                            //can go right and up (diagonal)\n                            if (temp[i+1][j+1].Frog == true &amp;&amp; temp[i+2][j+2].Frog == false) {\n                                temp[i][j].removeFrog();\n                                temp[i+1][j+1].removeFrog();\n                                temp[i+2][j+2].setFrog();\n                                RecursiveFunc(temp);\n                                for(int x = 0; x &lt; array.length; x++){\n                                    for(int y = 0; y &lt; array.length; y++) {\n                                        temp[x][y] = array[x][y];\n                                    }\n                                }\n                                \n                            }\n                        }\n                        \n                        //end\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n<p>x</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1666420160,"post_id":74159202,"comment_id":130937256,"body_markdown":"This doesn&#39;t directly answer your question, but I would create a `Node` class that wraps the string and validates it. Then, `addNode`, etc take a `Node` instead of a `String` as parameters. Much simpler than implementing an annotation-based solution.","body":"This doesn&#39;t directly answer your question, but I would create a <code>Node</code> class that wraps the string and validates it. Then, <code>addNode</code>, etc take a <code>Node</code> instead of a <code>String</code> as parameters. Much simpler than implementing an annotation-based solution."},{"owner":{"account_id":15976349,"reputation":84,"user_id":11529150,"display_name":"Ivan Ivanchuk"},"score":0,"creation_date":1666428233,"post_id":74159202,"comment_id":130938249,"body_markdown":"@TimMoore yes, looks like a simplier way","body":"@TimMoore yes, looks like a simplier way"}],"owner":{"account_id":15976349,"reputation":84,"user_id":11529150,"display_name":"Ivan Ivanchuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666387228,"creation_date":1666386917,"question_id":74159202,"body_markdown":"I have a method\r\n```\r\nvoid checkNode(final String node) throws IllegalStateException {\r\n  // do some checks, if something dosn&#39;t ok throws an exception.\r\n}\r\n```\r\nTo avoid calling `checkNode()` every time on method arguments I want to make an annotation and\r\nmark the method parameter with it, say:\r\n```\r\nvoid addNode(@ValidNode final String node) throws IllegalStateException {\r\n  // some logic\r\n}\r\n```\r\nInstead of:\r\n```\r\nvoid addNode(final String node) throws IllegalStateException {\r\n  this.checkNode(node);\r\n  // some logic\r\n}\r\n```\r\n\r\nAre there ways to implement `@ValidNode` annotation?\r\nOr maybe not even an annotation, but another way to solve this problem with a method call?","title":"Calling a method to a method parameter using java annotation","body":"<p>I have a method</p>\n<pre><code>void checkNode(final String node) throws IllegalStateException {\n  // do some checks, if something dosn't ok throws an exception.\n}\n</code></pre>\n<p>To avoid calling <code>checkNode()</code> every time on method arguments I want to make an annotation and\nmark the method parameter with it, say:</p>\n<pre><code>void addNode(@ValidNode final String node) throws IllegalStateException {\n  // some logic\n}\n</code></pre>\n<p>Instead of:</p>\n<pre><code>void addNode(final String node) throws IllegalStateException {\n  this.checkNode(node);\n  // some logic\n}\n</code></pre>\n<p>Are there ways to implement <code>@ValidNode</code> annotation?\nOr maybe not even an annotation, but another way to solve this problem with a method call?</p>\n"},{"tags":["java","amazon-web-services","maven","aws-cdk"],"answers":[{"tags":[],"owner":{"account_id":16460373,"reputation":1,"user_id":11891557,"display_name":"iulspop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666386660,"creation_date":1664903128,"answer_id":73951324,"question_id":73911626,"body_markdown":"Finally the problem was with my permissions on JFrog. I was upgraded to an admin and I didn&#39;t encounter the same error during build again.","title":"Maven cannot resolve AWS-CDK dependencies (Java)","body":"<p>Finally the problem was with my permissions on JFrog. I was upgraded to an admin and I didn't encounter the same error during build again.</p>\n"}],"owner":{"account_id":16460373,"reputation":1,"user_id":11891557,"display_name":"iulspop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666386660,"creation_date":1664555516,"question_id":73911626,"body_markdown":"I&#39;m attempting to build a Maven multi-module project which uses the AWS CDK `software.amazon.awscdk` package.\r\n\r\nHowever, I consistently get a `DependencyResolutionException` error:\r\n\r\n```\r\n[ERROR] Failed to execute goal on project github-api-infrastructure: Could not resolve dependencies for project pixee:github-api-infrastructure:jar:dev: Failed to collect dependencies at software.amazon.awscdk:aws-cdk-lib:jar:2.17.0 -&gt; software.constructs:constructs:jar:[10.0.0,11.0.0): No versions available for software.constructs:constructs:jar:[10.0.0,11.0.0) within specified range -&gt; [Help 1]\r\n```\r\n\r\nThe error says it cannot find a `software.constructs` package with the right version, but it [should exist on the Maven repositories][1].\r\n\r\nI&#39;ve tried updating my Maven version, clearing the Maven cache and rebuilding, but I get the same error.\r\n\r\nThis is the only module that fails to build, so I don&#39;t expect it to be a problem listed in [`DependencyResolutionException`][2] documentation such as the connection to the remote repository being misconfigured or a network problem.\r\n\r\nThe build works on my teammates computers, but not on mine. I&#39;m not sure what could possibly be the issue, since we&#39;re on the same-ish Java (I&#39;m on 17, they have 18) version and same Maven version.\r\n\r\nNot familiar with the Java ecosystem, please let me know if additional clarification is needed.\r\n\r\nMulti-module `pom.xml`:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;x&lt;/groupId&gt;\r\n  &lt;artifactId&gt;github-api&lt;/artifactId&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  &lt;version&gt;dev&lt;/version&gt;\r\n\r\n  &lt;modules&gt;\r\n    &lt;module&gt;testutils&lt;/module&gt;\r\n    &lt;module&gt;core&lt;/module&gt;\r\n    &lt;module&gt;functions&lt;/module&gt;\r\n    &lt;module&gt;infra&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n\r\n  &lt;distributionManagement&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;central&lt;/id&gt;\r\n      &lt;name&gt;x-libs-release&lt;/name&gt;\r\n      &lt;url&gt;https://x.jfrog.io/artifactory/mailman&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/distributionManagement&gt;\r\n\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;central&lt;/id&gt;\r\n      &lt;name&gt;x-libs-release&lt;/name&gt;\r\n      &lt;url&gt;https://x.jfrog.io/artifactory/mailman&lt;/url&gt;\r\n      &lt;snapshots&gt;\r\n        &lt;enabled&gt;false&lt;/enabled&gt;\r\n      &lt;/snapshots&gt;\r\n    &lt;/repository&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;snapshots&lt;/id&gt;\r\n      &lt;name&gt;x-libs-snapshot&lt;/name&gt;\r\n      &lt;url&gt;https://x.jfrog.io/artifactory/mailman&lt;/url&gt;\r\n      &lt;snapshots&gt;\r\n        &lt;enabled&gt;true&lt;/enabled&gt;\r\n      &lt;/snapshots&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;fmt.goal&gt;format&lt;/fmt.goal&gt;\r\n\r\n    &lt;versions.fmt-maven-plugin&gt;2.18&lt;/versions.fmt-maven-plugin&gt;\r\n    &lt;versions.maven-shade-plugin&gt;3.2.4&lt;/versions.maven-shade-plugin&gt;\r\n    &lt;versions.maven-compiler-plugin&gt;3.8.1&lt;/versions.maven-compiler-plugin&gt;\r\n    &lt;versions.maven-surefire-plugin&gt;3.0.0-M4&lt;/versions.maven-surefire-plugin&gt;\r\n    &lt;versions.maven-failsafe-plugin&gt;2.22.0&lt;/versions.maven-failsafe-plugin&gt;\r\n\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\r\n    &lt;versions.jackson&gt;2.13.2&lt;/versions.jackson&gt;\r\n    &lt;versions.log4j&gt;2.17.1&lt;/versions.log4j&gt;\r\n    &lt;versions.awssdk&gt;1.12.99&lt;/versions.awssdk&gt;\r\n    &lt;versions.junit-jupiter&gt;5.7.0&lt;/versions.junit-jupiter&gt;\r\n    &lt;versions.hamcrest&gt;1.3&lt;/versions.hamcrest&gt;\r\n    &lt;versions.mockito&gt;4.3.1&lt;/versions.mockito&gt;\r\n    &lt;versions.hsqldb&gt;2.6.1&lt;/versions.hsqldb&gt;\r\n    &lt;versions.mariadb&gt;2.6.0&lt;/versions.mariadb&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${versions.maven-compiler-plugin}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n            &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n            &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;0.8.7&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;generate-code-coverage-report&lt;/id&gt;\r\n              &lt;phase&gt;test&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;report&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${versions.maven-surefire-plugin}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;com.spotify.fmt&lt;/groupId&gt;\r\n          &lt;artifactId&gt;fmt-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${versions.fmt-maven-plugin}&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;format-java&lt;/id&gt;\r\n              &lt;phase&gt;validate&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;${fmt.goal}&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${versions.maven-failsafe-plugin}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n              &lt;include&gt;**/IT&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;ci&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;property&gt;\r\n          &lt;name&gt;env.CI&lt;/name&gt;\r\n        &lt;/property&gt;\r\n      &lt;/activation&gt;\r\n      &lt;properties&gt;\r\n        &lt;fmt.goal&gt;check&lt;/fmt.goal&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nInfra module `pom.xml` (only module that fails):\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;x&lt;/groupId&gt;\r\n        &lt;artifactId&gt;github-api&lt;/artifactId&gt;\r\n        &lt;version&gt;dev&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;github-api-infrastructure&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;versions.awscdk&gt;2.17.0&lt;/versions.awscdk&gt;\r\n        &lt;versions.constructs&gt;10.0.91&lt;/versions.constructs&gt;\r\n        &lt;versions.mybatis&gt;3.3.10&lt;/versions.mybatis&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;x&lt;/groupId&gt;\r\n            &lt;artifactId&gt;github-api-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;x&lt;/groupId&gt;\r\n            &lt;artifactId&gt;github-api-testutils&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${versions.log4j}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awscdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-cdk-lib&lt;/artifactId&gt;\r\n            &lt;version&gt;${versions.awscdk}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.constructs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;constructs&lt;/artifactId&gt;\r\n            &lt;version&gt;${versions.constructs}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-migrations&lt;/artifactId&gt;\r\n            &lt;version&gt;${versions.mybatis}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${versions.mariadb}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${versions.junit-jupiter}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;${versions.junit-jupiter}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n            &lt;version&gt;${versions.hamcrest}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${versions.mockito}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n            &lt;version&gt;${versions.hsqldb}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;resource-dependencies&lt;/id&gt;\r\n                            &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;artifactItems&gt;\r\n                                    &lt;artifactItem&gt;\r\n                                        &lt;groupId&gt;x&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;github-api-functions&lt;/artifactId&gt;\r\n                                        &lt;version&gt;${parent.version}&lt;/version&gt;\r\n                                        &lt;type&gt;jar&lt;/type&gt;\r\n                                        &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n                                        &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n                                        &lt;destFileName&gt;github-api-functions.jar&lt;/destFileName&gt;\r\n                                    &lt;/artifactItem&gt;\r\n                                &lt;/artifactItems&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- Create a runnable JAR --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${versions.maven-shade-plugin}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n                                &lt;filters&gt;\r\n                                    &lt;filter&gt;\r\n                                        &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                        &lt;excludes&gt;\r\n                                            &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                        &lt;/excludes&gt;\r\n                                    &lt;/filter&gt;\r\n                                &lt;/filters&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.spotify.fmt&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fmt-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMaven version:\r\n```\r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nMaven home: /opt/maven\r\nJava version: 17.0.4, vendor: Private Build, runtime: /usr/lib/jvm/java-17-openjdk-amd64\r\nDefault locale: en, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.4.72-microsoft-standard-wsl2&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\nJava Version:\r\n```\r\nopenjdk 17.0.4 2022-07-19\r\nOpenJDK Runtime Environment (build 17.0.4+8-Ubuntu-120.04)\r\nOpenJDK 64-Bit Server VM (build 17.0.4+8-Ubuntu-120.04, mixed mode, sharing)\r\n```\r\n\r\nI&#39;m running Ubuntu 20.04.5 LTS on WSL 2.\r\n\r\n---\r\nUpdate: \r\nI tried rebuilding it yesterday and the build was successful with no errors. I didn&#39;t change anything. Perhaps the package repositories were updated?\r\n\r\nI tried rebuilding it today and I get the same error as before. I wonder if it&#39;s an error due to how Maven is configured locally on WSL. But why would it affect just this package?\r\n\r\nI&#39;m thinking now the dependency resolution fails because of something on JFrogs side.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/software.constructs/constructs\r\n  [2]: https://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException","title":"Maven cannot resolve AWS-CDK dependencies (Java)","body":"<p>I'm attempting to build a Maven multi-module project which uses the AWS CDK <code>software.amazon.awscdk</code> package.</p>\n<p>However, I consistently get a <code>DependencyResolutionException</code> error:</p>\n<pre><code>[ERROR] Failed to execute goal on project github-api-infrastructure: Could not resolve dependencies for project pixee:github-api-infrastructure:jar:dev: Failed to collect dependencies at software.amazon.awscdk:aws-cdk-lib:jar:2.17.0 -&gt; software.constructs:constructs:jar:[10.0.0,11.0.0): No versions available for software.constructs:constructs:jar:[10.0.0,11.0.0) within specified range -&gt; [Help 1]\n</code></pre>\n<p>The error says it cannot find a <code>software.constructs</code> package with the right version, but it <a href=\"https://mvnrepository.com/artifact/software.constructs/constructs\" rel=\"nofollow noreferrer\">should exist on the Maven repositories</a>.</p>\n<p>I've tried updating my Maven version, clearing the Maven cache and rebuilding, but I get the same error.</p>\n<p>This is the only module that fails to build, so I don't expect it to be a problem listed in <a href=\"https://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\" rel=\"nofollow noreferrer\"><code>DependencyResolutionException</code></a> documentation such as the connection to the remote repository being misconfigured or a network problem.</p>\n<p>The build works on my teammates computers, but not on mine. I'm not sure what could possibly be the issue, since we're on the same-ish Java (I'm on 17, they have 18) version and same Maven version.</p>\n<p>Not familiar with the Java ecosystem, please let me know if additional clarification is needed.</p>\n<p>Multi-module <code>pom.xml</code>:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;x&lt;/groupId&gt;\n  &lt;artifactId&gt;github-api&lt;/artifactId&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;version&gt;dev&lt;/version&gt;\n\n  &lt;modules&gt;\n    &lt;module&gt;testutils&lt;/module&gt;\n    &lt;module&gt;core&lt;/module&gt;\n    &lt;module&gt;functions&lt;/module&gt;\n    &lt;module&gt;infra&lt;/module&gt;\n  &lt;/modules&gt;\n\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;x-libs-release&lt;/name&gt;\n      &lt;url&gt;https://x.jfrog.io/artifactory/mailman&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/distributionManagement&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;x-libs-release&lt;/name&gt;\n      &lt;url&gt;https://x.jfrog.io/artifactory/mailman&lt;/url&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n      &lt;id&gt;snapshots&lt;/id&gt;\n      &lt;name&gt;x-libs-snapshot&lt;/name&gt;\n      &lt;url&gt;https://x.jfrog.io/artifactory/mailman&lt;/url&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;properties&gt;\n    &lt;fmt.goal&gt;format&lt;/fmt.goal&gt;\n\n    &lt;versions.fmt-maven-plugin&gt;2.18&lt;/versions.fmt-maven-plugin&gt;\n    &lt;versions.maven-shade-plugin&gt;3.2.4&lt;/versions.maven-shade-plugin&gt;\n    &lt;versions.maven-compiler-plugin&gt;3.8.1&lt;/versions.maven-compiler-plugin&gt;\n    &lt;versions.maven-surefire-plugin&gt;3.0.0-M4&lt;/versions.maven-surefire-plugin&gt;\n    &lt;versions.maven-failsafe-plugin&gt;2.22.0&lt;/versions.maven-failsafe-plugin&gt;\n\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n\n    &lt;versions.jackson&gt;2.13.2&lt;/versions.jackson&gt;\n    &lt;versions.log4j&gt;2.17.1&lt;/versions.log4j&gt;\n    &lt;versions.awssdk&gt;1.12.99&lt;/versions.awssdk&gt;\n    &lt;versions.junit-jupiter&gt;5.7.0&lt;/versions.junit-jupiter&gt;\n    &lt;versions.hamcrest&gt;1.3&lt;/versions.hamcrest&gt;\n    &lt;versions.mockito&gt;4.3.1&lt;/versions.mockito&gt;\n    &lt;versions.hsqldb&gt;2.6.1&lt;/versions.hsqldb&gt;\n    &lt;versions.mariadb&gt;2.6.0&lt;/versions.mariadb&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${versions.maven-compiler-plugin}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n            &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n            &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n          &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;0.8.7&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n              &lt;id&gt;generate-code-coverage-report&lt;/id&gt;\n              &lt;phase&gt;test&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${versions.maven-surefire-plugin}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;com.spotify.fmt&lt;/groupId&gt;\n          &lt;artifactId&gt;fmt-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${versions.fmt-maven-plugin}&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;format-java&lt;/id&gt;\n              &lt;phase&gt;validate&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;${fmt.goal}&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${versions.maven-failsafe-plugin}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;includes&gt;\n              &lt;include&gt;**/IT&lt;/include&gt;\n            &lt;/includes&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;ci&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;env.CI&lt;/name&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;properties&gt;\n        &lt;fmt.goal&gt;check&lt;/fmt.goal&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Infra module <code>pom.xml</code> (only module that fails):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;x&lt;/groupId&gt;\n        &lt;artifactId&gt;github-api&lt;/artifactId&gt;\n        &lt;version&gt;dev&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;github-api-infrastructure&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;versions.awscdk&gt;2.17.0&lt;/versions.awscdk&gt;\n        &lt;versions.constructs&gt;10.0.91&lt;/versions.constructs&gt;\n        &lt;versions.mybatis&gt;3.3.10&lt;/versions.mybatis&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;x&lt;/groupId&gt;\n            &lt;artifactId&gt;github-api-core&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;x&lt;/groupId&gt;\n            &lt;artifactId&gt;github-api-testutils&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${versions.log4j}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awscdk&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-cdk-lib&lt;/artifactId&gt;\n            &lt;version&gt;${versions.awscdk}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.constructs&lt;/groupId&gt;\n            &lt;artifactId&gt;constructs&lt;/artifactId&gt;\n            &lt;version&gt;${versions.constructs}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-migrations&lt;/artifactId&gt;\n            &lt;version&gt;${versions.mybatis}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;version&gt;${versions.mariadb}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${versions.junit-jupiter}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;${versions.junit-jupiter}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n            &lt;version&gt;${versions.hamcrest}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;${versions.mockito}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;${versions.hsqldb}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;resource-dependencies&lt;/id&gt;\n                            &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;copy&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;artifactItems&gt;\n                                    &lt;artifactItem&gt;\n                                        &lt;groupId&gt;x&lt;/groupId&gt;\n                                        &lt;artifactId&gt;github-api-functions&lt;/artifactId&gt;\n                                        &lt;version&gt;${parent.version}&lt;/version&gt;\n                                        &lt;type&gt;jar&lt;/type&gt;\n                                        &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                        &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n                                        &lt;destFileName&gt;github-api-functions.jar&lt;/destFileName&gt;\n                                    &lt;/artifactItem&gt;\n                                &lt;/artifactItems&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;!-- Create a runnable JAR --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${versions.maven-shade-plugin}&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;shade&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n                                &lt;filters&gt;\n                                    &lt;filter&gt;\n                                        &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                        &lt;excludes&gt;\n                                            &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n                                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                        &lt;/excludes&gt;\n                                    &lt;/filter&gt;\n                                &lt;/filters&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.spotify.fmt&lt;/groupId&gt;\n                &lt;artifactId&gt;fmt-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Maven version:</p>\n<pre><code>Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /opt/maven\nJava version: 17.0.4, vendor: Private Build, runtime: /usr/lib/jvm/java-17-openjdk-amd64\nDefault locale: en, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.4.72-microsoft-standard-wsl2&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>Java Version:</p>\n<pre><code>openjdk 17.0.4 2022-07-19\nOpenJDK Runtime Environment (build 17.0.4+8-Ubuntu-120.04)\nOpenJDK 64-Bit Server VM (build 17.0.4+8-Ubuntu-120.04, mixed mode, sharing)\n</code></pre>\n<p>I'm running Ubuntu 20.04.5 LTS on WSL 2.</p>\n<hr />\n<p>Update:\nI tried rebuilding it yesterday and the build was successful with no errors. I didn't change anything. Perhaps the package repositories were updated?</p>\n<p>I tried rebuilding it today and I get the same error as before. I wonder if it's an error due to how Maven is configured locally on WSL. But why would it affect just this package?</p>\n<p>I'm thinking now the dependency resolution fails because of something on JFrogs side.</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp","plugin.xml"],"comments":[{"owner":{"account_id":1507386,"reputation":1356,"user_id":1410452,"accept_rate":92,"display_name":"DrKaoliN"},"score":0,"creation_date":1469190439,"post_id":38525753,"comment_id":64447040,"body_markdown":"Maybe this could be helpful, there is a similar question: https://stackoverflow.com/questions/15877123/eclipse-rcp-programmatically-associate-file-type-with-editor .","body":"Maybe this could be helpful, there is a similar question: <a href=\"https://stackoverflow.com/questions/15877123/eclipse-rcp-programmatically-associate-file-type-with-editor\" title=\"eclipse rcp programmatically associate file type with editor\">stackoverflow.com/questions/15877123/&hellip;</a> ."}],"answers":[{"tags":[],"owner":{"account_id":1507386,"reputation":1356,"user_id":1410452,"accept_rate":92,"display_name":"DrKaoliN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469202512,"creation_date":1469192217,"answer_id":38527067,"question_id":38525753,"body_markdown":"I would try adding the following two entries in your `plugin.xml` file:\r\n\r\nFirstly, add a `contentType` plugin extension, where you specify the `file extension`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen, as you said, you need to implement the editor. Add an `editors` plugin, in which you implement your editor. Don&#39;t forget to enable the `default` option:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter that, add a new `contentTypeBinding` subnode to the edior. There you need to use the id of the content type:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAlso, do not forget to add the view in your perspective.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nP.S. I have tested this just now with a simple `TextEditor`, and it should work:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/V1FuW.png\r\n  [2]: http://i.stack.imgur.com/nXdhH.png\r\n  [3]: http://i.stack.imgur.com/gC74t.png\r\n  [4]: http://i.stack.imgur.com/O1ufu.png\r\n  [5]: http://i.stack.imgur.com/xqCsZ.png","title":"Eclipse plug-in: Custom plugin.xml like editor","body":"<p>I would try adding the following two entries in your <code>plugin.xml</code> file:</p>\n\n<p>Firstly, add a <code>contentType</code> plugin extension, where you specify the <code>file extension</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/V1FuW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V1FuW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then, as you said, you need to implement the editor. Add an <code>editors</code> plugin, in which you implement your editor. Don't forget to enable the <code>default</code> option:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nXdhH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nXdhH.png\" alt=\"enter image description here\"></a></p>\n\n<p>After that, add a new <code>contentTypeBinding</code> subnode to the edior. There you need to use the id of the content type:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gC74t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gC74t.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also, do not forget to add the view in your perspective.</p>\n\n<p><a href=\"https://i.stack.imgur.com/O1ufu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O1ufu.png\" alt=\"enter image description here\"></a></p>\n\n<p>P.S. I have tested this just now with a simple <code>TextEditor</code>, and it should work:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xqCsZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqCsZ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666385536,"creation_date":1469258536,"answer_id":38539264,"question_id":38525753,"body_markdown":"You can use `FormEditor` for this (`org.eclipse.ui.forms.editor.FormEditor`). This extends the more basic `MultiPageEditorPart`.\r\n\r\n`FormEditor` supports multiple pages, these can be form based using the `FormPage` class, or based on an ordinary text editor, or even just an arbitary set of SWT controls. So this allows you to have a arrangement like the plugin.xml editor (which is a `FormEditor`).","title":"Eclipse plug-in: Custom plugin.xml like editor","body":"<p>You can use <code>FormEditor</code> for this (<code>org.eclipse.ui.forms.editor.FormEditor</code>). This extends the more basic <code>MultiPageEditorPart</code>.</p>\n<p><code>FormEditor</code> supports multiple pages, these can be form based using the <code>FormPage</code> class, or based on an ordinary text editor, or even just an arbitary set of SWT controls. So this allows you to have a arrangement like the plugin.xml editor (which is a <code>FormEditor</code>).</p>\n"}],"owner":{"account_id":3864704,"reputation":353,"user_id":3201506,"accept_rate":100,"display_name":"Araf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":38539264,"answer_count":2,"score":0,"last_activity_date":1666385536,"creation_date":1469188253,"question_id":38525753,"body_markdown":"I&#39;ve been trying to mimic the `plugin.xml` editor in my own Eclipse plug-in. I want a graphical editor for a custom file type. The same way in which PDE has a specific form/editor to open `plugin.xml`.\r\n\r\nFrom what I understand I can implement a text `Editor` and link a file type to open in a particular editor. To add a graphical aspect I can make a `Form`.\r\n\r\nWhat I don&#39;t understand is how to link this `Form` to my custom file type.","title":"Eclipse plug-in: Custom plugin.xml like editor","body":"<p>I've been trying to mimic the <code>plugin.xml</code> editor in my own Eclipse plug-in. I want a graphical editor for a custom file type. The same way in which PDE has a specific form/editor to open <code>plugin.xml</code>.</p>\n\n<p>From what I understand I can implement a text <code>Editor</code> and link a file type to open in a particular editor. To add a graphical aspect I can make a <code>Form</code>.</p>\n\n<p>What I don't understand is how to link this <code>Form</code> to my custom file type.</p>\n"},{"tags":["java","gradle","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":16102200,"reputation":399,"user_id":11622657,"display_name":"theawesometrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666385517,"creation_date":1666385517,"answer_id":74159042,"question_id":70189571,"body_markdown":"After struggling with this same issue, I was finally able to read resource files from within an annotation processor after updating my `build.gradle` to include the following:\r\n\r\n```groovy\r\ntasks.withType(JavaCompile) {\r\n    options.sourcepath = sourceSets.main.resources.getSourceDirectories()\r\n}\r\n```\r\n\r\nAnd then within the annotation processor using:\r\n\r\n```java\r\nprocessingEnv.getFiler().getResource(StandardLocation.SOURCE_PATH, &quot;&quot;, &quot;sub/file.txt&quot;);\r\n```\r\n\r\nGradle version: 7.5.1\r\n\r\nJava version: 17","title":"Java annotation processor written using Gradle unable to read resources from src/main/resources","body":"<p>After struggling with this same issue, I was finally able to read resource files from within an annotation processor after updating my <code>build.gradle</code> to include the following:</p>\n<pre><code>tasks.withType(JavaCompile) {\n    options.sourcepath = sourceSets.main.resources.getSourceDirectories()\n}\n</code></pre>\n<p>And then within the annotation processor using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>processingEnv.getFiler().getResource(StandardLocation.SOURCE_PATH, &quot;&quot;, &quot;sub/file.txt&quot;);\n</code></pre>\n<p>Gradle version: 7.5.1</p>\n<p>Java version: 17</p>\n"}],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666385517,"creation_date":1638383874,"question_id":70189571,"body_markdown":"I&#39;m trying to create a custom annotation processor using Java on Gradle. I have a working. project set up with the processor being able to generate Java source files, etc. I am trying to read some configuration files that are going to be located in `src/main/resources` of the subproject that uses the annotation processor. Unfortunately, I have tried everything and still cannot get the processor to read files from src/main/resources.\r\n\r\nGradle version: 7.3\r\nJava version: 11\r\n\r\nIf I have a file called `sub/file.txt` under `src/main/resources`, I have tried all the below combinations.\r\n\r\n```\r\nprocessingEnv.getFiler().getResource(StandardLocation.SOURCE_PATH, &quot;sub&quot;, &quot;file.txt&quot;);\r\nprocessingEnv.getFiler().getResource(StandardLocation.SOURCE_OUTPUT, &quot;sub&quot;, &quot;file.txt&quot;);\r\nprocessingEnv.getFiler().getResource(StandardLocation.CLASS_OUTPUT, &quot;sub&quot;, &quot;file.txt&quot;);\r\nprocessingEnv.getFiler().getResource(StandardLocation.CLASS_PATH, &quot;sub&quot;, &quot;file.txt&quot;);\r\n```\r\n\r\nAnd each one produces a `NoSuchFileException`. I have even tried with empty string for the middle argument and `sub/file.txt` for the last one to no avail.\r\n\r\nI also have the below in my build.gradle\r\n\r\n```\r\ntasks.withType(JavaCompile) {\r\n    dependsOn tasks.processResources\r\n\r\n    inputs.file(layout.buildDirectory.file(&quot;resources/main/sub/file.txt&quot;))\r\n}\r\n```\r\n\r\n","title":"Java annotation processor written using Gradle unable to read resources from src/main/resources","body":"<p>I'm trying to create a custom annotation processor using Java on Gradle. I have a working. project set up with the processor being able to generate Java source files, etc. I am trying to read some configuration files that are going to be located in <code>src/main/resources</code> of the subproject that uses the annotation processor. Unfortunately, I have tried everything and still cannot get the processor to read files from src/main/resources.</p>\n<p>Gradle version: 7.3\nJava version: 11</p>\n<p>If I have a file called <code>sub/file.txt</code> under <code>src/main/resources</code>, I have tried all the below combinations.</p>\n<pre><code>processingEnv.getFiler().getResource(StandardLocation.SOURCE_PATH, &quot;sub&quot;, &quot;file.txt&quot;);\nprocessingEnv.getFiler().getResource(StandardLocation.SOURCE_OUTPUT, &quot;sub&quot;, &quot;file.txt&quot;);\nprocessingEnv.getFiler().getResource(StandardLocation.CLASS_OUTPUT, &quot;sub&quot;, &quot;file.txt&quot;);\nprocessingEnv.getFiler().getResource(StandardLocation.CLASS_PATH, &quot;sub&quot;, &quot;file.txt&quot;);\n</code></pre>\n<p>And each one produces a <code>NoSuchFileException</code>. I have even tried with empty string for the middle argument and <code>sub/file.txt</code> for the last one to no avail.</p>\n<p>I also have the below in my build.gradle</p>\n<pre><code>tasks.withType(JavaCompile) {\n    dependsOn tasks.processResources\n\n    inputs.file(layout.buildDirectory.file(&quot;resources/main/sub/file.txt&quot;))\n}\n</code></pre>\n"},{"tags":["java","garbage-collection","heap-memory","thread-local"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666387536,"post_id":74158535,"comment_id":130933559,"body_markdown":"This is pretty normal, and the reason is that the GC is really good at its job and allocating objects and quickly discarding them is exactly what the GC is optimized for.","body":"This is pretty normal, and the reason is that the GC is really good at its job and allocating objects and quickly discarding them is exactly what the GC is optimized for."},{"owner":{"account_id":26691249,"reputation":1,"user_id":20299797,"display_name":"Bresalio Nagy"},"score":0,"creation_date":1666593249,"post_id":74158535,"comment_id":130965080,"body_markdown":"@LouisWasserman, the question is why this happens here - that there are new objects allocated and then discarded -, while the code with the thread-locals should provide (according to my intention and understanding) that there should be object creation only at thread startup, and then later the existing objects should be recycled. Which part of my thread-local code does this in your opinion, that it creates a lot of new objects and then lets them be discarded by GC?...","body":"@LouisWasserman, the question is why this happens here - that there are new objects allocated and then discarded -, while the code with the thread-locals should provide (according to my intention and understanding) that there should be object creation only at thread startup, and then later the existing objects should be recycled. Which part of my thread-local code does this in your opinion, that it creates a lot of new objects and then lets them be discarded by GC?..."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666614551,"post_id":74158535,"comment_id":130971688,"body_markdown":"Are `MyComponent` instances even shared between threads?","body":"Are <code>MyComponent</code> instances even shared between threads?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1666615200,"post_id":74158535,"comment_id":130971906,"body_markdown":"@Holger since this is a Spring `@Component`, its almost for sure, a single instance per app (Spring container).","body":"@Holger since this is a Spring <code>@Component</code>, its almost for sure, a single instance per app (Spring container)."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1666615422,"post_id":74158535,"comment_id":130971985,"body_markdown":"this is somehow confusing (only the Spring wiring part). If you have your `ByteBuffer` inside the `@Component` constructor - which is a singleton, then how is any sharing supposed to happen between threads? I am confused, or you need to explain that part.","body":"this is somehow confusing (only the Spring wiring part). If you have your <code>ByteBuffer</code> inside the <code>@Component</code> constructor - which is a singleton, then how is any sharing supposed to happen between threads? I am confused, or you need to explain that part."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666623548,"post_id":74158535,"comment_id":130975291,"body_markdown":"@BresalioNagy: I&#39;m claiming that your thread-local code _doesn&#39;t_ do that, and that if you didn&#39;t use a thread-local, but allocated a fresh `ByteBuffer` every time, it&#39;d be better.","body":"@BresalioNagy: I&#39;m claiming that your thread-local code <i>doesn&#39;t</i> do that, and that if you didn&#39;t use a thread-local, but allocated a fresh <code>ByteBuffer</code> every time, it&#39;d be better."}],"owner":{"account_id":26691249,"reputation":1,"user_id":20299797,"display_name":"Bresalio Nagy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666385440,"creation_date":1666381683,"question_id":74158535,"body_markdown":"I&#39;m running an async task (defined in a method annotated with Spring&#39;s @Async annotation) on multiple parallel threads in a Spring Boot application. I use a ThreadPoolExecutor to manage threads, which is initialised with a ThreadPoolExecutorFactoryBean:\r\n\r\n```\r\n    @Bean\r\n    ThreadPoolExecutorFactoryBean myThreadPoolExecutor() {\r\n\r\n        final ThreadPoolExecutorFactoryBean factoryBean = new ThreadPoolExecutorFactoryBean();\r\n        factoryBean.setCorePoolSize(...);\r\n        factoryBean.setMaxPoolSize(...);\r\n        factoryBean.setQueueCapacity(...);\r\n        factoryBean.setKeepAliveSeconds(...);\r\n        factoryBean.setPrestartAllCoreThreads(true);\r\n        factoryBean.setAllowCoreThreadTimeOut(false);\r\n        factoryBean.setExposeUnconfigurableExecutor(true);\r\n        return factoryBean;\r\n    }\r\n```\r\n\r\nThe task uses a ByteBuffer inside. This buffer used to be defined as a local variable in the async method before.\r\n\r\nAs the app is memory-critical, I&#39;d like to decrease the heap usage of the threads as much as possible, so I try to &quot;recycle&quot; the spaces once allocated.\r\n\r\nTo achieve this, I introduced a thread-local property for the ByteBuffer (among some other previously local variables) in the @Component where the @Async method is defined:\r\n\r\n```\r\nprivate ThreadLocal&lt;ByteBuffer&gt; buffer;\r\n```\r\n\r\nThis thread-local property gets initialised in the @Component&#39;s constructor, where I allocate space for the buffer:\r\n```\r\npublic MyComponent(...) {\r\n    ...\r\n    this.buffer = ThreadLocal.withInitial(() -&gt; ByteBuffer.allocate(2048));\r\n    ...\r\n}\r\n```\r\n\r\nThis way we have to allocate buffer space only once, and the successive tasks received by the same thread should use the same space for their calculations, instead of allocating a new buffer as a local variable every time the thread receives a new task from the ThreadPoolExecutor. And as each thread has its own value of the thread-local property (maintained in its thread-local map), this solution should be thread-safe, the multiple parallel-running threads won&#39;t mess up the data in each other&#39;s buffer. (The task&#39;s code is implemented in such a way that the data written into the buffer by a previous run on the same thread, doesn&#39;t effect the current run; the async task just needs a buffer space for counting, it&#39;s not a problem for it if the buffer space already contains data from a previous run, it will rewrite it anyway. So the successive runs on the same thread don&#39;t disturb each other, either.)\r\n\r\nI read about that thread-local properties can cause a memory leak if they are not .remove()-d, because the thread-local property holds a strong reference to them. However, here, all threads in the thread pool are working continuously until the moment they die, and even their death happens very rarely (usually only when the app terminates itself). Once the threads finish the execution of one task, they will shortly receive a new one from the executor service. In this app, the threads and their thread-local properties are designed for life-long continuous usage.\r\n\r\nFrom introducing thread-local properties, we hoped decreased heap usage and GC activity. But we experience the opposite, and this is the question of the post: both heap usage &amp; minor GC collection count and time increased after deploying this change.\r\n\r\nI&#39;ve made heap dumps, and they tell that the thread-local space does get deallocated after a thread&#39;s potential death. And debugger proved that the same buffer object is indeed kept and shared between successive tasks executed by a certain thread.\r\n\r\nI&#39;ve been digging into the underlying code for a few days now, to find a root cause why it behaves this way, but I&#39;ve not found any explanation yet. I once supposed &quot;it might be because the thread-local properties might get created on the main thread instead of the worker threads&quot;, but this assumption proved wrong - they are rightfully created on each worker thread, as expected -, and in the moment, I have no further idea where else to look, what direction I should dig into even deeper. :(\r\n\r\nDoes anyone have any idea how to explain this anomaly (why thread-locals work opposite from what we would expect, why they increase heap usage and GC activity instead of decreasing it in comparison to having a local buffer variable defined in the async method)?...","title":"Java: thread-local properties - why do they increase heap usage and GC activity instead of decreasing it?","body":"<p>I'm running an async task (defined in a method annotated with Spring's @Async annotation) on multiple parallel threads in a Spring Boot application. I use a ThreadPoolExecutor to manage threads, which is initialised with a ThreadPoolExecutorFactoryBean:</p>\n<pre><code>    @Bean\n    ThreadPoolExecutorFactoryBean myThreadPoolExecutor() {\n\n        final ThreadPoolExecutorFactoryBean factoryBean = new ThreadPoolExecutorFactoryBean();\n        factoryBean.setCorePoolSize(...);\n        factoryBean.setMaxPoolSize(...);\n        factoryBean.setQueueCapacity(...);\n        factoryBean.setKeepAliveSeconds(...);\n        factoryBean.setPrestartAllCoreThreads(true);\n        factoryBean.setAllowCoreThreadTimeOut(false);\n        factoryBean.setExposeUnconfigurableExecutor(true);\n        return factoryBean;\n    }\n</code></pre>\n<p>The task uses a ByteBuffer inside. This buffer used to be defined as a local variable in the async method before.</p>\n<p>As the app is memory-critical, I'd like to decrease the heap usage of the threads as much as possible, so I try to &quot;recycle&quot; the spaces once allocated.</p>\n<p>To achieve this, I introduced a thread-local property for the ByteBuffer (among some other previously local variables) in the @Component where the @Async method is defined:</p>\n<pre><code>private ThreadLocal&lt;ByteBuffer&gt; buffer;\n</code></pre>\n<p>This thread-local property gets initialised in the @Component's constructor, where I allocate space for the buffer:</p>\n<pre><code>public MyComponent(...) {\n    ...\n    this.buffer = ThreadLocal.withInitial(() -&gt; ByteBuffer.allocate(2048));\n    ...\n}\n</code></pre>\n<p>This way we have to allocate buffer space only once, and the successive tasks received by the same thread should use the same space for their calculations, instead of allocating a new buffer as a local variable every time the thread receives a new task from the ThreadPoolExecutor. And as each thread has its own value of the thread-local property (maintained in its thread-local map), this solution should be thread-safe, the multiple parallel-running threads won't mess up the data in each other's buffer. (The task's code is implemented in such a way that the data written into the buffer by a previous run on the same thread, doesn't effect the current run; the async task just needs a buffer space for counting, it's not a problem for it if the buffer space already contains data from a previous run, it will rewrite it anyway. So the successive runs on the same thread don't disturb each other, either.)</p>\n<p>I read about that thread-local properties can cause a memory leak if they are not .remove()-d, because the thread-local property holds a strong reference to them. However, here, all threads in the thread pool are working continuously until the moment they die, and even their death happens very rarely (usually only when the app terminates itself). Once the threads finish the execution of one task, they will shortly receive a new one from the executor service. In this app, the threads and their thread-local properties are designed for life-long continuous usage.</p>\n<p>From introducing thread-local properties, we hoped decreased heap usage and GC activity. But we experience the opposite, and this is the question of the post: both heap usage &amp; minor GC collection count and time increased after deploying this change.</p>\n<p>I've made heap dumps, and they tell that the thread-local space does get deallocated after a thread's potential death. And debugger proved that the same buffer object is indeed kept and shared between successive tasks executed by a certain thread.</p>\n<p>I've been digging into the underlying code for a few days now, to find a root cause why it behaves this way, but I've not found any explanation yet. I once supposed &quot;it might be because the thread-local properties might get created on the main thread instead of the worker threads&quot;, but this assumption proved wrong - they are rightfully created on each worker thread, as expected -, and in the moment, I have no further idea where else to look, what direction I should dig into even deeper. :(</p>\n<p>Does anyone have any idea how to explain this anomaly (why thread-locals work opposite from what we would expect, why they increase heap usage and GC activity instead of decreasing it in comparison to having a local buffer variable defined in the async method)?...</p>\n"},{"tags":["java","android-studio","appium","android-uiautomator","uiautomatorviewer"],"comments":[{"owner":{"account_id":22623587,"reputation":83,"user_id":16801970,"display_name":"rohini dingankar"},"score":0,"creation_date":1662037844,"post_id":73568594,"comment_id":129917097,"body_markdown":"I changed java version to : C:\\Users\\176226&gt;java -version\nopenjdk version &quot;1.8.0-262&quot;\nOpenJDK Runtime Environment (build 1.8.0-262-b10)\nOpenJDK 64-Bit Server VM (build 25.71-b10, mixed mode)...But still have same issues","body":"I changed java version to : C:\\Users\\176226&gt;java -version openjdk version &quot;1.8.0-262&quot; OpenJDK Runtime Environment (build 1.8.0-262-b10) OpenJDK 64-Bit Server VM (build 25.71-b10, mixed mode)...But still have same issues"}],"answers":[{"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666384970,"creation_date":1666379354,"answer_id":74158207,"question_id":73568594,"body_markdown":"this was a real adventure....\r\n\r\n1. download and install specifically JDK version 8 (not JRE or any other version)\r\nhttps://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html\r\n\r\n1. add JDK8 to your environemnt path as `JAVA_HOME`..for example:\r\n    [![enter image description here][1]][1]\r\n\r\n1. make sure `%ANDROID_HOME%\\tools\\bin` is also added to your `Path` as well so that you can run `uiautomatorviewer` from any directory\r\n    [![enter image description here][2]][2]\r\n\r\n1. in terminal, run `uiautomatorviewer`\r\n\r\n  [1]: https://i.stack.imgur.com/RLR8p.png\r\n  [2]: https://i.stack.imgur.com/3YaQn.png","title":"unable to start uiautomatorviewer in windows due to classpath error","body":"<p>this was a real adventure....</p>\n<ol>\n<li><p>download and install specifically JDK version 8 (not JRE or any other version)\n<a href=\"https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html</a></p>\n</li>\n<li><p>add JDK8 to your environemnt path as <code>JAVA_HOME</code>..for example:\n<a href=\"https://i.stack.imgur.com/RLR8p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RLR8p.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>make sure <code>%ANDROID_HOME%\\tools\\bin</code> is also added to your <code>Path</code> as well so that you can run <code>uiautomatorviewer</code> from any directory\n<a href=\"https://i.stack.imgur.com/3YaQn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3YaQn.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>in terminal, run <code>uiautomatorviewer</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":22623587,"reputation":83,"user_id":16801970,"display_name":"rohini dingankar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666384970,"creation_date":1662031617,"question_id":73568594,"body_markdown":"I am unable to start uiautomatorviewer due to below error:\r\n\r\n    C:\\Users\\176226\\AppData\\Local\\Android\\Sdk\\tools\\bin&gt;uiautomatorviewer\r\n    -Djava.ext.dirs=..\\lib\\x86_64;..\\lib is not supported.  Use -classpath instead.\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nI have added all the needed paths for tools, cmd-tools and platform tools and android_home in env variables\r\n\r\nbelow are details of java version used. Can uiautomator be used without having to downgrade java version:\r\n\r\n    openjdk version &quot;17.0.2&quot; 2022-01-18 LTS\r\n    OpenJDK Runtime Environment Zulu17.32+13-CA (build 17.0.2+8-LTS)\r\n    OpenJDK 64-Bit Server VM Zulu17.32+13-CA (build 17.0.2+8-LTS, mixed mode, sharing)\r\n\r\nAppreciate help\r\n\r\n","title":"unable to start uiautomatorviewer in windows due to classpath error","body":"<p>I am unable to start uiautomatorviewer due to below error:</p>\n<pre><code>C:\\Users\\176226\\AppData\\Local\\Android\\Sdk\\tools\\bin&gt;uiautomatorviewer\n-Djava.ext.dirs=..\\lib\\x86_64;..\\lib is not supported.  Use -classpath instead.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>I have added all the needed paths for tools, cmd-tools and platform tools and android_home in env variables</p>\n<p>below are details of java version used. Can uiautomator be used without having to downgrade java version:</p>\n<pre><code>openjdk version &quot;17.0.2&quot; 2022-01-18 LTS\nOpenJDK Runtime Environment Zulu17.32+13-CA (build 17.0.2+8-LTS)\nOpenJDK 64-Bit Server VM Zulu17.32+13-CA (build 17.0.2+8-LTS, mixed mode, sharing)\n</code></pre>\n<p>Appreciate help</p>\n"},{"tags":["java","classloader","javacompiler"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666384853,"creation_date":1666384853,"answer_id":74158955,"question_id":74158508,"body_markdown":"The cast failed because the base class of `SubClass` is actually considered a different class from the &quot;`BaseClass`&quot; that you wrote in your source code. They are considered different because they are loaded by different class loaders. The base class of `SubClass` is loaded by the `URLClassLoader` you created, whereas the `BaseClass` you wrote in the source code is presumably loaded by the system class loader.\r\n\r\nTo fix this, you can set the parent class loader of the `URLClassLoader` to the same class loader as the one that loaded `BaseClass`, and only give `src/test/java` as the class path. This way, when the `URLClassLoader` loads `SubClass`, it can&#39;t find `BaseClass` in `src/test/java` and so would use the parent class loader to load it.\r\n\r\n```\r\nURLClassLoader classLoader = URLClassLoader.newInstance(\r\n    new URL[] { new File(&quot;src/test/java&quot;).toURI().toURL() }, \r\n    BaseClass.class.getClassLoader()\r\n);\r\n```","title":"ClassCastException when compiling, loading and using inherited class at runtime","body":"<p>The cast failed because the base class of <code>SubClass</code> is actually considered a different class from the &quot;<code>BaseClass</code>&quot; that you wrote in your source code. They are considered different because they are loaded by different class loaders. The base class of <code>SubClass</code> is loaded by the <code>URLClassLoader</code> you created, whereas the <code>BaseClass</code> you wrote in the source code is presumably loaded by the system class loader.</p>\n<p>To fix this, you can set the parent class loader of the <code>URLClassLoader</code> to the same class loader as the one that loaded <code>BaseClass</code>, and only give <code>src/test/java</code> as the class path. This way, when the <code>URLClassLoader</code> loads <code>SubClass</code>, it can't find <code>BaseClass</code> in <code>src/test/java</code> and so would use the parent class loader to load it.</p>\n<pre><code>URLClassLoader classLoader = URLClassLoader.newInstance(\n    new URL[] { new File(&quot;src/test/java&quot;).toURI().toURL() }, \n    BaseClass.class.getClassLoader()\n);\n</code></pre>\n"}],"owner":{"account_id":1708335,"reputation":566,"user_id":1566936,"accept_rate":75,"display_name":"Dili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74158955,"answer_count":1,"score":0,"last_activity_date":1666384853,"creation_date":1666381423,"question_id":74158508,"body_markdown":"I am trying to compile, load and use an inherited class at runtime. Here is the structure of my Java/Maven project. Note there are no .java files under `com.mycompany.model.inherited`. This is where generated class files will be placed.\r\n```\r\nsrc/main/java\r\n  com.mycompany.model.base\r\n    BaseClass.java\r\n\r\nsrc/test/java\r\n  com.mycompany.model.inherited\r\n```\r\nBaseClass.java\r\n```java\r\npackage com.mycompany.model.base;\r\n\r\npublic abstract class BaseClass {\r\n    public abstract void doWork();\r\n}\r\n```\r\nAt runtime I write the contents of an inherited class to src/test/java/com/mycompany/inherited/SubClass.java\r\n```\r\npackage com.mycompany.model.inherited;\r\n\r\nimport com.mycompany.model.BaseClass;\r\n\r\npublic class SubClass extends BaseClass {\r\n\r\n    @Override\r\n    public void doWork() {\r\n        System.out.println(&quot;SubClass is doing work.&quot;);\r\n    }\r\n}\r\n```\r\nAnd then I execute this code to compile SubClass.java, load it, create an object instance. All of that works fine. But when I try to cast it to a BaseClass I&#39;m getting a `ClassCastException` at runtime. Here&#39;s the full code.\r\n```\r\n// prepare the class file contents and write it to disk.\r\nString subClassContents =\r\n    &quot;package com.mycompany.model.inherited;\\n&quot; +\r\n    &quot;\\n&quot; +\r\n    &quot;import com.mycompany.model.base.BaseClass;\\n&quot; +\r\n    &quot;\\n&quot; +\r\n    &quot;public class SubClass extends BaseClass {\\n&quot; +\r\n    &quot;\\n&quot; +\r\n    &quot;    @Override\\n&quot; +\r\n    &quot;    public void doWork() {\\n&quot; +\r\n    &quot;        System.out.println(\\&quot;SubClass is doing work.\\&quot;);\\n&quot; +\r\n    &quot;    }\\n&quot; +\r\n    &quot;}\\n&quot;;\r\nFile file = new File(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\test\\\\java\\\\com\\\\mycompany\\\\model\\\\inherited\\\\SubClass.java&quot;);\r\nFileWriter writer = new FileWriter(file);\r\nwriter.write(subClassContents);\r\nwriter.close();\r\n\r\n// compile the class using the current classpath.\r\nFile[] files = new File[]{file};\r\nList&lt;String&gt; options = new ArrayList&lt;&gt;();\r\noptions.addAll(Arrays.asList(&quot;-classpath&quot;, System.getProperty(&quot;java.class.path&quot;)));\r\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\nStandardJavaFileManager filemanager = compiler.getStandardFileManager(null, null, null);\r\nIterable fileObjects = filemanager.getJavaFileObjects(files);\r\nJavaCompiler.CompilationTask task = compiler.getTask(null, null, null, options, null, fileObjects);\r\ntask.call();\r\n\r\n// load the class using the current classpath.\r\nString[] paths = System.getProperty(&quot;java.class.path&quot;).split(&quot;;&quot;);\r\nList&lt;URL&gt; urls = new ArrayList&lt;&gt;();\r\nurls.add(new File(&quot;src/test/java&quot;).toURI().toURL());\r\nfor (String p : paths) {\r\n    urls.add(new File(p).toURI().toURL());\r\n}\r\nURLClassLoader classLoader = URLClassLoader.newInstance(urls.stream().toArray(URL[]::new));\r\nClass&lt;?&gt; cls = Class.forName(&quot;com.mycompany.model.inherited.SubClass&quot;, true, classLoader);\r\n\r\n// use the class.\r\nBaseClass base = (BaseClass) cls.newInstance();\r\nbase.doWork();\r\n```\r\n```\r\njava.lang.ClassCastException: com.mycompany.model.inherited.SubClass cannot be cast to com.mycompany.model.base.BaseClass\r\n```\r\nIf I include src/test/java/com/mycompany/model/inherited/SubClass.java at compile time it works fine. I.e:\r\n```\r\nBaseClass base = (BaseClass) SubClass.class.getClassLoader().loadClass(&quot;com.mycompany.model.inherited.SubClass&quot;).newInstance();\r\nbase.doWork();\r\n```\r\nHoping someone can point to the issue and help me solve it. Thanks!","title":"ClassCastException when compiling, loading and using inherited class at runtime","body":"<p>I am trying to compile, load and use an inherited class at runtime. Here is the structure of my Java/Maven project. Note there are no .java files under <code>com.mycompany.model.inherited</code>. This is where generated class files will be placed.</p>\n<pre><code>src/main/java\n  com.mycompany.model.base\n    BaseClass.java\n\nsrc/test/java\n  com.mycompany.model.inherited\n</code></pre>\n<p>BaseClass.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany.model.base;\n\npublic abstract class BaseClass {\n    public abstract void doWork();\n}\n</code></pre>\n<p>At runtime I write the contents of an inherited class to src/test/java/com/mycompany/inherited/SubClass.java</p>\n<pre><code>package com.mycompany.model.inherited;\n\nimport com.mycompany.model.BaseClass;\n\npublic class SubClass extends BaseClass {\n\n    @Override\n    public void doWork() {\n        System.out.println(&quot;SubClass is doing work.&quot;);\n    }\n}\n</code></pre>\n<p>And then I execute this code to compile SubClass.java, load it, create an object instance. All of that works fine. But when I try to cast it to a BaseClass I'm getting a <code>ClassCastException</code> at runtime. Here's the full code.</p>\n<pre><code>// prepare the class file contents and write it to disk.\nString subClassContents =\n    &quot;package com.mycompany.model.inherited;\\n&quot; +\n    &quot;\\n&quot; +\n    &quot;import com.mycompany.model.base.BaseClass;\\n&quot; +\n    &quot;\\n&quot; +\n    &quot;public class SubClass extends BaseClass {\\n&quot; +\n    &quot;\\n&quot; +\n    &quot;    @Override\\n&quot; +\n    &quot;    public void doWork() {\\n&quot; +\n    &quot;        System.out.println(\\&quot;SubClass is doing work.\\&quot;);\\n&quot; +\n    &quot;    }\\n&quot; +\n    &quot;}\\n&quot;;\nFile file = new File(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\test\\\\java\\\\com\\\\mycompany\\\\model\\\\inherited\\\\SubClass.java&quot;);\nFileWriter writer = new FileWriter(file);\nwriter.write(subClassContents);\nwriter.close();\n\n// compile the class using the current classpath.\nFile[] files = new File[]{file};\nList&lt;String&gt; options = new ArrayList&lt;&gt;();\noptions.addAll(Arrays.asList(&quot;-classpath&quot;, System.getProperty(&quot;java.class.path&quot;)));\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\nStandardJavaFileManager filemanager = compiler.getStandardFileManager(null, null, null);\nIterable fileObjects = filemanager.getJavaFileObjects(files);\nJavaCompiler.CompilationTask task = compiler.getTask(null, null, null, options, null, fileObjects);\ntask.call();\n\n// load the class using the current classpath.\nString[] paths = System.getProperty(&quot;java.class.path&quot;).split(&quot;;&quot;);\nList&lt;URL&gt; urls = new ArrayList&lt;&gt;();\nurls.add(new File(&quot;src/test/java&quot;).toURI().toURL());\nfor (String p : paths) {\n    urls.add(new File(p).toURI().toURL());\n}\nURLClassLoader classLoader = URLClassLoader.newInstance(urls.stream().toArray(URL[]::new));\nClass&lt;?&gt; cls = Class.forName(&quot;com.mycompany.model.inherited.SubClass&quot;, true, classLoader);\n\n// use the class.\nBaseClass base = (BaseClass) cls.newInstance();\nbase.doWork();\n</code></pre>\n<pre><code>java.lang.ClassCastException: com.mycompany.model.inherited.SubClass cannot be cast to com.mycompany.model.base.BaseClass\n</code></pre>\n<p>If I include src/test/java/com/mycompany/model/inherited/SubClass.java at compile time it works fine. I.e:</p>\n<pre><code>BaseClass base = (BaseClass) SubClass.class.getClassLoader().loadClass(&quot;com.mycompany.model.inherited.SubClass&quot;).newInstance();\nbase.doWork();\n</code></pre>\n<p>Hoping someone can point to the issue and help me solve it. Thanks!</p>\n"},{"tags":["java","apache-spark","out-of-memory","heap-memory","pyspark"],"comments":[{"owner":{"account_id":1869340,"reputation":7103,"user_id":1691980,"accept_rate":20,"display_name":"Bruno Caceiro"},"score":0,"creation_date":1441126333,"post_id":32336915,"comment_id":52548197,"body_markdown":"Check this question http://stackoverflow.com/questions/21138751/spark-java-lang-outofmemoryerror-java-heap-space","body":"Check this question <a href=\"http://stackoverflow.com/questions/21138751/spark-java-lang-outofmemoryerror-java-heap-space\" title=\"spark java lang outofmemoryerror java heap space\">stackoverflow.com/questions/21138751/&hellip;</a>"},{"owner":{"account_id":4101520,"reputation":5059,"user_id":3413239,"accept_rate":67,"display_name":"pg2455"},"score":0,"creation_date":1441127525,"post_id":32336915,"comment_id":52548837,"body_markdown":"@bcaceiro: I see lot of spark options being set in the post. I dont use scala. I am using IPython. Do you know if I can set those options from within the shell?","body":"@bcaceiro: I see lot of spark options being set in the post. I dont use scala. I am using IPython. Do you know if I can set those options from within the shell?"},{"owner":{"account_id":4101520,"reputation":5059,"user_id":3413239,"accept_rate":67,"display_name":"pg2455"},"score":0,"creation_date":1441133966,"post_id":32336915,"comment_id":52552325,"body_markdown":"@bcaceiro : Updated the question with suggestion from the post that you directed me too. It seems like there is some problem with JVM.","body":"@bcaceiro : Updated the question with suggestion from the post that you directed me too. It seems like there is some problem with JVM."}],"answers":[{"tags":[],"owner":{"account_id":4101520,"reputation":5059,"user_id":3413239,"accept_rate":67,"display_name":"pg2455"},"down_vote_count":2,"up_vote_count":96,"is_accepted":true,"score":94,"last_activity_date":1441294923,"creation_date":1441294923,"answer_id":32380068,"question_id":32336915,"body_markdown":"After trying out loads of configuration parameters, I found that there is only one need to be changed to enable more Heap space and i.e. `spark.driver.memory`. \r\n\r\n    sudo vim $SPARK_HOME/conf/spark-defaults.conf\r\n    #uncomment the spark.driver.memory and change it according to your use. I changed it to below\r\n    spark.driver.memory 15g\r\n    # press : and then wq! to exit vim editor\r\n\r\nClose your existing spark application and re run it. You will not encounter this error again. :)\r\n","title":"PySpark: java.lang.OutofMemoryError: Java heap space","body":"<p>After trying out loads of configuration parameters, I found that there is only one need to be changed to enable more Heap space and i.e. <code>spark.driver.memory</code>. </p>\n\n<pre><code>sudo vim $SPARK_HOME/conf/spark-defaults.conf\n#uncomment the spark.driver.memory and change it according to your use. I changed it to below\nspark.driver.memory 15g\n# press : and then wq! to exit vim editor\n</code></pre>\n\n<p>Close your existing spark application and re run it. You will not encounter this error again. :)</p>\n"},{"tags":[],"owner":{"account_id":1898217,"reputation":8620,"user_id":1714692,"accept_rate":43,"display_name":"roschach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547045956,"creation_date":1547045956,"answer_id":54112928,"question_id":32336915,"body_markdown":"I had the same problem with `pyspark` (installed with `brew`). In my case it was installed on the path `/usr/local/Cellar/apache-spark`.\r\n\r\nThe only configuration file I had was in `apache-spark/2.4.0/libexec/python//test_coverage/conf/spark-defaults.conf`.\r\n\r\nAs suggested [here][1] I created the file `spark-defaults.conf` in the path `/usr/local/Cellar/apache-spark/2.4.0/libexec/conf/spark-defaults.conf` and appended to it the line `spark.driver.memory 12g`.\r\n\r\n\r\n  [1]: https://datascience.stackexchange.com/questions/8549/how-do-i-set-get-heap-size-for-spark-via-python-notebook","title":"PySpark: java.lang.OutofMemoryError: Java heap space","body":"<p>I had the same problem with <code>pyspark</code> (installed with <code>brew</code>). In my case it was installed on the path <code>/usr/local/Cellar/apache-spark</code>.</p>\n\n<p>The only configuration file I had was in <code>apache-spark/2.4.0/libexec/python//test_coverage/conf/spark-defaults.conf</code>.</p>\n\n<p>As suggested <a href=\"https://datascience.stackexchange.com/questions/8549/how-do-i-set-get-heap-size-for-spark-via-python-notebook\">here</a> I created the file <code>spark-defaults.conf</code> in the path <code>/usr/local/Cellar/apache-spark/2.4.0/libexec/conf/spark-defaults.conf</code> and appended to it the line <code>spark.driver.memory 12g</code>.</p>\n"},{"tags":[],"owner":{"account_id":4727284,"reputation":5275,"user_id":3823815,"display_name":"louis_guitton"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1581961447,"creation_date":1581961447,"answer_id":60267878,"question_id":32336915,"body_markdown":"If you&#39;re looking for the way to set this from within the script or a jupyter notebook, you can do: \r\n\r\n\r\n```python\r\nfrom pyspark.sql import SparkSession\r\n\r\nspark = SparkSession.builder \\\r\n    .master(&#39;local[*]&#39;) \\\r\n    .config(&quot;spark.driver.memory&quot;, &quot;15g&quot;) \\\r\n    .appName(&#39;my-cool-app&#39;) \\\r\n    .getOrCreate()\r\n```","title":"PySpark: java.lang.OutofMemoryError: Java heap space","body":"<p>If you're looking for the way to set this from within the script or a jupyter notebook, you can do: </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.sql import SparkSession\n\nspark = SparkSession.builder \\\n    .master('local[*]') \\\n    .config(\"spark.driver.memory\", \"15g\") \\\n    .appName('my-cool-app') \\\n    .getOrCreate()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13759671,"reputation":471,"user_id":9929724,"display_name":"Prakhar Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666384702,"creation_date":1666384702,"answer_id":74158934,"question_id":32336915,"body_markdown":"I got the same error and I just assigned memory to spark while creating session\r\n\r\n    spark = SparkSession.builder.master(&quot;local[10]&quot;).config(&quot;spark.driver.memory&quot;, &quot;10g&quot;).getOrCreate()\r\n\r\nor \r\n\r\n    SparkSession.builder.appName(&#39;test&#39;).config(&quot;spark.driver.memory&quot;, &quot;10g&quot;).getOrCreate()","title":"PySpark: java.lang.OutofMemoryError: Java heap space","body":"<p>I got the same error and I just assigned memory to spark while creating session</p>\n<pre><code>spark = SparkSession.builder.master(&quot;local[10]&quot;).config(&quot;spark.driver.memory&quot;, &quot;10g&quot;).getOrCreate()\n</code></pre>\n<p>or</p>\n<pre><code>SparkSession.builder.appName('test').config(&quot;spark.driver.memory&quot;, &quot;10g&quot;).getOrCreate()\n</code></pre>\n"}],"owner":{"account_id":4101520,"reputation":5059,"user_id":3413239,"accept_rate":67,"display_name":"pg2455"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127548,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":32380068,"answer_count":4,"score":79,"last_activity_date":1666384702,"creation_date":1441125902,"question_id":32336915,"body_markdown":"I have been using PySpark with Ipython lately on my server with 24 CPUs and 32GB RAM. Its running only on one machine. In my process, I want to collect huge amount of data as is give in below code:\r\n\r\n    train_dataRDD = (train.map(lambda x:getTagsAndText(x))\r\n    .filter(lambda x:x[-1]!=[])\r\n    .flatMap(lambda (x,text,tags): [(tag,(x,text)) for tag in tags])\r\n    .groupByKey()\r\n    .mapValues(list))\r\n\r\nWhen I do \r\n\r\n    training_data =  train_dataRDD.collectAsMap()\r\n\r\nIt gives me outOfMemory Error. `Java heap Space`. Also, I can not perform any operations on Spark after this error as it looses connection with Java. It gives `Py4JNetworkError: Cannot connect to the java server`.\r\n\r\n\r\nIt looks like heap space is small. How can I set it to bigger limits? \r\n\r\n**EDIT**:\r\n\r\nThings that I tried before running:\r\n`sc._conf.set(&#39;spark.executor.memory&#39;,&#39;32g&#39;).set(&#39;spark.driver.memory&#39;,&#39;32g&#39;).set(&#39;spark.driver.maxResultsSize&#39;,&#39;0&#39;)`\r\n\r\nI changed the spark options as per the documentation here(if you do ctrl-f and search for spark.executor.extraJavaOptions) : http://spark.apache.org/docs/1.2.1/configuration.html \r\n\r\nIt says that I can avoid OOMs by setting spark.executor.memory option. I did the same thing but it seem not be working.","title":"PySpark: java.lang.OutofMemoryError: Java heap space","body":"<p>I have been using PySpark with Ipython lately on my server with 24 CPUs and 32GB RAM. Its running only on one machine. In my process, I want to collect huge amount of data as is give in below code:</p>\n\n<pre><code>train_dataRDD = (train.map(lambda x:getTagsAndText(x))\n.filter(lambda x:x[-1]!=[])\n.flatMap(lambda (x,text,tags): [(tag,(x,text)) for tag in tags])\n.groupByKey()\n.mapValues(list))\n</code></pre>\n\n<p>When I do </p>\n\n<pre><code>training_data =  train_dataRDD.collectAsMap()\n</code></pre>\n\n<p>It gives me outOfMemory Error. <code>Java heap Space</code>. Also, I can not perform any operations on Spark after this error as it looses connection with Java. It gives <code>Py4JNetworkError: Cannot connect to the java server</code>.</p>\n\n<p>It looks like heap space is small. How can I set it to bigger limits? </p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>Things that I tried before running:\n<code>sc._conf.set('spark.executor.memory','32g').set('spark.driver.memory','32g').set('spark.driver.maxResultsSize','0')</code></p>\n\n<p>I changed the spark options as per the documentation here(if you do ctrl-f and search for spark.executor.extraJavaOptions) : <a href=\"http://spark.apache.org/docs/1.2.1/configuration.html\">http://spark.apache.org/docs/1.2.1/configuration.html</a> </p>\n\n<p>It says that I can avoid OOMs by setting spark.executor.memory option. I did the same thing but it seem not be working.</p>\n"},{"tags":["java","eclipse","command-line","remote-execution"],"comments":[{"owner":{"account_id":58020,"reputation":46890,"user_id":173773,"accept_rate":78,"display_name":"blueberryfields"},"score":0,"creation_date":1300570280,"post_id":5365025,"comment_id":6062000,"body_markdown":"Did I understand correctly - you have a program that you are compiling as part of an Eclipse project, and you are looking for a way to separate the program from the project, and then run it on a server rather than your own computer?","body":"Did I understand correctly - you have a program that you are compiling as part of an Eclipse project, and you are looking for a way to separate the program from the project, and then run it on a server rather than your own computer?"},{"owner":{"account_id":238683,"reputation":11910,"user_id":507737,"accept_rate":88,"display_name":"well actually"},"score":0,"creation_date":1300570319,"post_id":5365025,"comment_id":6062007,"body_markdown":"That is the general idea. The problem is, it relies on a jar, and a couple other things and while it would be feasible for me to make a separate copy of the project and move some things around in the code in order to run it remotely, I&#39;d rather find a different solution (if one exists of course).","body":"That is the general idea. The problem is, it relies on a jar, and a couple other things and while it would be feasible for me to make a separate copy of the project and move some things around in the code in order to run it remotely, I&#39;d rather find a different solution (if one exists of course)."},{"owner":{"account_id":58020,"reputation":46890,"user_id":173773,"accept_rate":78,"display_name":"blueberryfields"},"score":0,"creation_date":1300570556,"post_id":5365025,"comment_id":6062040,"body_markdown":"You can&#39;t just install Eclipse and the entire project on the remote server, and run it there? You can start up the whole environment and project from the command line, like so: http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F","body":"You can&#39;t just install Eclipse and the entire project on the remote server, and run it there? You can start up the whole environment and project from the command line, like so: <a href=\"http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F\" rel=\"nofollow noreferrer\">wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F</a>"}],"answers":[{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1300570432,"creation_date":1300570432,"answer_id":5365048,"question_id":5365025,"body_markdown":"Eclipse is actually all set up to export your applications as a runnable jar file, including a manifest pointing to all the necessary libraries which will also be exported. Look under the &quot;Export...&quot; wizard in the Navigator. I&#39;ve used this to export some quite complex non-RCP applications!","title":"How to run a remote Java file from command line instead of locally from Eclipse","body":"<p>Eclipse is actually all set up to export your applications as a runnable jar file, including a manifest pointing to all the necessary libraries which will also be exported. Look under the \"Export...\" wizard in the Navigator. I've used this to export some quite complex non-RCP applications!</p>\n"}],"owner":{"account_id":238683,"reputation":11910,"user_id":507737,"accept_rate":88,"display_name":"well actually"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2006,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5365048,"answer_count":1,"score":1,"last_activity_date":1666384000,"creation_date":1300570153,"question_id":5365025,"body_markdown":"I have an Eclipse project that contains a file that I would like to be able to run from the command line remotely. \r\n\r\nThe reason being, it is easier for me to run it for a long period of time if it is running remotely on some server. That way, I can run my program via screen to monitor its progress. \r\n\r\nThe problem is, all of the things that eclipse takes care of (i.e. package hierarchies, dependencies on certain libraries) is messed up if I try to compile/run this file on its own. \r\n\r\nHow could I run the file remotely without having to edit the code that already exists?","title":"How to run a remote Java file from command line instead of locally from Eclipse","body":"<p>I have an Eclipse project that contains a file that I would like to be able to run from the command line remotely.</p>\n<p>The reason being, it is easier for me to run it for a long period of time if it is running remotely on some server. That way, I can run my program via screen to monitor its progress.</p>\n<p>The problem is, all of the things that eclipse takes care of (i.e. package hierarchies, dependencies on certain libraries) is messed up if I try to compile/run this file on its own.</p>\n<p>How could I run the file remotely without having to edit the code that already exists?</p>\n"},{"tags":["java","windows","configuration","rabbitmq"],"comments":[{"owner":{"display_name":"user784540"},"score":0,"creation_date":1405497480,"post_id":24774877,"comment_id":38445929,"body_markdown":"I did not work with RabbitMQ before, so just a thought. What if you disable `guest` accounts? What if it will be necessary to login as a `regular` user, and all guests are blocked.","body":"I did not work with RabbitMQ before, so just a thought. What if you disable <code>guest</code> accounts? What if it will be necessary to login as a <code>regular</code> user, and all guests are blocked."},{"owner":{"account_id":2558390,"reputation":3993,"user_id":2219920,"accept_rate":71,"display_name":"Pulkit"},"score":0,"creation_date":1405497803,"post_id":24774877,"comment_id":38446146,"body_markdown":"ok so I tried this approach also, I deleted the &#39;guest&#39; user and then tried login using &#39;test&#39; (test user is still their). It showed &#39;Authentication Failure&#39;","body":"ok so I tried this approach also, I deleted the &#39;guest&#39; user and then tried login using &#39;test&#39; (test user is still their). It showed &#39;Authentication Failure&#39;"},{"owner":{"display_name":"user784540"},"score":0,"creation_date":1405498578,"post_id":24774877,"comment_id":38446613,"body_markdown":"Is there a standard client for RabbitMQ? If so, it is possible to login using this standard client now ?","body":"Is there a standard client for RabbitMQ? If so, it is possible to login using this standard client now ?"},{"owner":{"account_id":2558390,"reputation":3993,"user_id":2219920,"accept_rate":71,"display_name":"Pulkit"},"score":0,"creation_date":1405498839,"post_id":24774877,"comment_id":38446758,"body_markdown":"Ok will try some different approach and will let you know, Thanks @RafaelOsipov","body":"Ok will try some different approach and will let you know, Thanks @RafaelOsipov"}],"answers":[{"tags":[],"owner":{"account_id":2368861,"reputation":1591,"user_id":2073963,"display_name":"wonhee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405668192,"creation_date":1405668192,"answer_id":24819380,"question_id":24774877,"body_markdown":"Your client library(probably RabbitMQ provided client?) is using guest/guest as default username and password. Check com.rabbitmq.client.ConnectionFactory&#39;s source code, especially DEFAULT_USER and DEFAULT_PASSWORD. You might need to change it to use new id and password if you don&#39;t want to use guest/guest.","title":"RabbitMQ always connect to guest user remotely","body":"<p>Your client library(probably RabbitMQ provided client?) is using guest/guest as default username and password. Check com.rabbitmq.client.ConnectionFactory's source code, especially DEFAULT_USER and DEFAULT_PASSWORD. You might need to change it to use new id and password if you don't want to use guest/guest.</p>\n"}],"owner":{"account_id":2558390,"reputation":3993,"user_id":2219920,"accept_rate":71,"display_name":"Pulkit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2019,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666383595,"creation_date":1405496257,"question_id":24774877,"body_markdown":"If I try to connect remotely using new `admin(test)` it will connect, but if the same program is ran through a remote machine it will connect to `guest`.\r\n\r\n    ConnectionFactory factory = new ConnectionFactory();\r\n    \t\t\tfactory.setHost(&quot;192.168.1.6&quot;);\r\n    \t\t\tfactory.setUsername(&quot;test&quot;);\r\n    \t\t\tfactory.setPassword(&quot;test&quot;);\r\n     \t       //factory.setPort(5267);\r\n     \t        Connection connection = factory.newConnection();\r\n    \t\t    Channel channel = connection.createChannel();\r\n![enter image description here][1] \r\nand I am to fetch messages from my queue. My variables are set.\r\n\r\n![enter image description here][2]\r\n\r\nMy conf file is\r\n\r\n      [\r\n        {rabbit,[{loopback_users,[]}]}\r\n      ].\r\n\r\nIf I run the same program on a remote machine it will show connect as guest:\r\n![enter image description here][3]\r\n\r\nWhat is my mistake? because connecting remotely I am not able to fetch message form queue as guest user\r\n\r\nMy amqp listening port is below. Do I need to change anything here?\r\nListening ports\r\n\r\n    Protocol\tBound to\tPort\r\n    amqp\t0.0.0.0\t5672\r\n    amqp\t::\t5672\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/lJfrs.png\r\n  [2]: http://i.stack.imgur.com/UXSw8.png\r\n  [3]: http://i.stack.imgur.com/sCutq.png","title":"RabbitMQ always connect to guest user remotely","body":"<p>If I try to connect remotely using new <code>admin(test)</code> it will connect, but if the same program is ran through a remote machine it will connect to <code>guest</code>.</p>\n<pre><code>ConnectionFactory factory = new ConnectionFactory();\n            factory.setHost(&quot;192.168.1.6&quot;);\n            factory.setUsername(&quot;test&quot;);\n            factory.setPassword(&quot;test&quot;);\n           //factory.setPort(5267);\n            Connection connection = factory.newConnection();\n            Channel channel = connection.createChannel();\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/lJfrs.png\" alt=\"enter image description here\" />\nand I am to fetch messages from my queue. My variables are set.</p>\n<p><img src=\"https://i.stack.imgur.com/UXSw8.png\" alt=\"enter image description here\" /></p>\n<p>My conf file is</p>\n<pre><code>  [\n    {rabbit,[{loopback_users,[]}]}\n  ].\n</code></pre>\n<p>If I run the same program on a remote machine it will show connect as guest:\n<img src=\"https://i.stack.imgur.com/sCutq.png\" alt=\"enter image description here\" /></p>\n<p>What is my mistake? because connecting remotely I am not able to fetch message form queue as guest user</p>\n<p>My amqp listening port is below. Do I need to change anything here?\nListening ports</p>\n<pre><code>Protocol    Bound to    Port\namqp    0.0.0.0 5672\namqp    ::  5672\n</code></pre>\n"},{"tags":["python","java","postgresql"],"answers":[{"tags":[],"owner":{"account_id":5178654,"reputation":600,"user_id":8057888,"display_name":"Jonne Kleijer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666383323,"creation_date":1666383323,"answer_id":74158768,"question_id":74128783,"body_markdown":"You have the query string in the method. \r\nTwo options:\r\n\r\n1. Pass the query string as variable to the method and remove it from the method:\r\n```python\r\n...\r\ndb.run_query(&quot;drop table if EXISTS my_table&quot;)\r\n```\r\n\r\n2. Or don&#39;t add a parameter to the signature of the method:\r\n```python\r\n...\r\ndef run_query(self):\r\n...\r\n```\r\n\r\n","title":"TypeError: sqlrunner.run_query() missing 1 required positional argument: &#39;sql_string&#39;","body":"<p>You have the query string in the method.\nTwo options:</p>\n<ol>\n<li>Pass the query string as variable to the method and remove it from the method:</li>\n</ol>\n<pre class=\"lang-py prettyprint-override\"><code>...\ndb.run_query(&quot;drop table if EXISTS my_table&quot;)\n</code></pre>\n<ol start=\"2\">\n<li>Or don't add a parameter to the signature of the method:</li>\n</ol>\n<pre class=\"lang-py prettyprint-override\"><code>...\ndef run_query(self):\n...\n</code></pre>\n"}],"owner":{"account_id":25233668,"reputation":11,"user_id":19068508,"display_name":"naveen kumarp2911"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666383323,"creation_date":1666196772,"question_id":74128783,"body_markdown":"Iam getting in error while error executing I coulf not find out the issue can anyone help me with this\r\nTypeError: sqlrunner.run_query() missing 1 required positional argument: &#39;sql_string&#39;\r\n\r\n&#39;&#39;&#39;\r\n\r\n    import psycopg2\r\n\r\n    class sqlrunner():\r\n        hostname = &#39;localhost&#39;\r\n        database = &#39;postgres&#39;\r\n        username = &#39;postgres&#39;\r\n        pwd = &#39;Naveen$1234&#39;\r\n        port_id = 5432\r\n        table_name = &#39;my_table&#39;\r\n\r\n        def connect(self):\r\n            self.connect = psycopg2.connect( host = self.hostname,\r\n                                            user = self.username,\r\n                                            password = self.pwd,\r\n                                            dbname = self.database,\r\n                                            port= self.port_id )\r\n        \r\n            self.cursor=self.connect.cursor()\r\n        \r\n\r\n        def run_query(self,sql_string):\r\n            cursor=self.cursor\r\n            sql_string = &quot;drop table if EXISTS my_table&quot;\r\n            print(sql_string)\r\n            cursor.execute(sql_string)  \r\n\r\n    if __name__ == &#39;__main__&#39;:\r\n        db=sqlrunner()\r\n        db.connect()\r\n        db.run_query()\r\n\r\n&#39;&#39;&#39;","title":"TypeError: sqlrunner.run_query() missing 1 required positional argument: &#39;sql_string&#39;","body":"<p>Iam getting in error while error executing I coulf not find out the issue can anyone help me with this\nTypeError: sqlrunner.run_query() missing 1 required positional argument: 'sql_string'</p>\n<p>'''</p>\n<pre><code>import psycopg2\n\nclass sqlrunner():\n    hostname = 'localhost'\n    database = 'postgres'\n    username = 'postgres'\n    pwd = 'Naveen$1234'\n    port_id = 5432\n    table_name = 'my_table'\n\n    def connect(self):\n        self.connect = psycopg2.connect( host = self.hostname,\n                                        user = self.username,\n                                        password = self.pwd,\n                                        dbname = self.database,\n                                        port= self.port_id )\n    \n        self.cursor=self.connect.cursor()\n    \n\n    def run_query(self,sql_string):\n        cursor=self.cursor\n        sql_string = &quot;drop table if EXISTS my_table&quot;\n        print(sql_string)\n        cursor.execute(sql_string)  \n\nif __name__ == '__main__':\n    db=sqlrunner()\n    db.connect()\n    db.run_query()\n</code></pre>\n<p>'''</p>\n"},{"tags":["java","logging","tinylog"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666083843,"post_id":74099918,"comment_id":130845732,"body_markdown":"[`System.getProperty(&quot;user.home&quot;)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getProperties())!? Hi &amp; Welcome!","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\"><code>System.getProperty(&quot;user.home&quot;)</code></a>!? Hi &amp; Welcome!"}],"answers":[{"tags":[],"owner":{"account_id":7799092,"reputation":578,"user_id":5899171,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666082687,"creation_date":1666082687,"answer_id":74108135,"question_id":74099918,"body_markdown":"Your first approach is the recommended way to go. You just have to replace `${...}` with `#{...}`. The `$` prefix is for environment variables, and the `#` prefix is for system properties (see [documentation][1]).\r\n\r\n```properties\r\nwriterRollingFile.file     = #{tinylog.directory}/demo/logs/{date:yyyy-MM-dd}-log.{count}.txt\r\nwriterRollingFile.latest   = #{tinylog.directory}/demo/logs/latest.txt\r\n```\r\n\r\nAdditionally, you have to check, if you execute `System.setProperty(&quot;tinylog.directory&quot;, PathHelper.getLoggingDir())` before issuing any log entries.\r\n\r\n\r\n  [1]: https://tinylog.org/v2/configuration/#system-properties","title":"How to write rolling file to user.home directory","body":"<p>Your first approach is the recommended way to go. You just have to replace <code>${...}</code> with <code>#{...}</code>. The <code>$</code> prefix is for environment variables, and the <code>#</code> prefix is for system properties (see <a href=\"https://tinylog.org/v2/configuration/#system-properties\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n<pre><code>writerRollingFile.file     = #{tinylog.directory}/demo/logs/{date:yyyy-MM-dd}-log.{count}.txt\nwriterRollingFile.latest   = #{tinylog.directory}/demo/logs/latest.txt\n</code></pre>\n<p>Additionally, you have to check, if you execute <code>System.setProperty(&quot;tinylog.directory&quot;, PathHelper.getLoggingDir())</code> before issuing any log entries.</p>\n"}],"owner":{"account_id":26650472,"reputation":13,"user_id":20264862,"display_name":"Dirk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74108135,"answer_count":1,"score":1,"last_activity_date":1666383211,"creation_date":1666021971,"question_id":74099918,"body_markdown":"How is it possible to write the rolling files to the user.home directory.\r\n\r\nI tried so far to set an environment variable to access the path in the properties-file of tinylog:\r\n```Java\r\nSystem.setProperty(&quot;tinylog.directory&quot;, PathHelper.getLoggingDir());\r\n```\r\nResult: &#39;tinylog.directory&#39; could not be found in environment variables by tinylog.properties\r\n\r\nHere how I wrote it in the tinylog.properties:\r\n```none\r\nwriterRollingFile.file     = ${tinylog.directory}/demo/logs/{date:yyyy-MM-dd}-log.{count}.txt\r\nwriterRollingFile.latest   = ${tinylog.directory}/demo/logs/latest.txt\r\n```\r\n\r\nAnother approach was to setup tinylog by code:\r\n```java\r\nConfiguration.set(&quot;writerRollingFile.file&quot;, String.format(&quot;%1$s%2$s%3$s&quot;, PathHelper.getLoggingDir(), File.separator,  &quot;{date:yyyy-MM-dd}-log.{count}.txt&quot;));\r\nConfiguration.set(&quot;writerRollingFile.latest&quot;, String.valueOf(Paths.get(PathHelper.getLoggingDir() ,  &quot;latest.txt&quot;)));\r\n```\r\nResult: writerRollingFile.file doesn&#39;t work because tinylog has problems to write the rolling file -&gt; between Path and File writes an &quot;;&quot; -&gt; C:\\Users\\MyUserName\\demo\\logs;2022-10-17-log.0.txt\r\n\r\nThe other file, &quot;latest.txt&quot;, is created in right directory with no problems.\r\n\r\nHere how I resolve the path with the method PathHelper.getLoggingDir():\r\n```java\r\nPath pathToFile = Paths.get(sUserHomeDir, sAppName, sLoggingDir);\r\n```\r\n\r\nWould it possible to get it work with the user.home directory?\r\n\r\n\r\n\r\n\r\n\r\nThanks Martin, to replace the prefixes helped: \r\n```${...}``` with ```#{...}```\r\n\r\nMy tiny.properties file:\r\n```\r\n# rolling file\r\nwriterRollingFile          = rolling file\r\nwriterRollingFile.level    = warn\r\nwriterRollingFile.format   = {date: dd.mm.yyyy HH:mm:ss.SSS} {level}: {class}.{method}()\\t{message}\r\nwriterRollingFile.file     = #{tinylog.directory}/{date:yyyy-MM-dd}-log.{count}.txt\r\nwriterRollingFile.latest   = #{tinylog.directory}/latest.txt\r\nwriterRollingFile.charset  = UTF-8\r\nwriterRollingFile.buffered = true\r\nwriterRollingFile.policies = startup, daily: 00:00, size: 1mb\r\nwriterRollingFile.backups  = 100\r\nwriterRollingFile.convert  = gzip \r\n```\r\n\r\nand to set the property at startup:\r\n\r\n```System.setProperty(&quot;tinylog.directory&quot;, PathHelper.getLoggingDir()); ```\r\n\r\n\r\n\r\nand to get or make the directory:\r\n```java\r\n    private static final String sUserHomeDir = System.getProperty(&quot;user.home&quot;);\r\n    private static final String sAppName =  &quot;Demo&quot;;\r\n    private static final String sLoggingDir =  &quot;Logs&quot;;\r\n\r\n\r\n    public static String getLoggingDir() throws IOException {\r\n\r\n        // inserts correct file path separator on *nix and Windows\r\n        Path pathToFile = Paths.get(sUserHomeDir, sAppName, sLoggingDir);\r\n\r\n        // The Files.createDirectories creates a new directory;\r\n        // if the parent directories do not exist, they are created as well.\r\n        // The method does not thrown an exception if the directory already exist.\r\n        Files.createDirectories(pathToFile);\r\n\r\n        return pathToFile.toString();\r\n   }\r\n```\r\n","title":"How to write rolling file to user.home directory","body":"<p>How is it possible to write the rolling files to the user.home directory.</p>\n<p>I tried so far to set an environment variable to access the path in the properties-file of tinylog:</p>\n<pre><code>System.setProperty(&quot;tinylog.directory&quot;, PathHelper.getLoggingDir());\n</code></pre>\n<p>Result: 'tinylog.directory' could not be found in environment variables by tinylog.properties</p>\n<p>Here how I wrote it in the tinylog.properties:</p>\n<pre class=\"lang-none prettyprint-override\"><code>writerRollingFile.file     = ${tinylog.directory}/demo/logs/{date:yyyy-MM-dd}-log.{count}.txt\nwriterRollingFile.latest   = ${tinylog.directory}/demo/logs/latest.txt\n</code></pre>\n<p>Another approach was to setup tinylog by code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Configuration.set(&quot;writerRollingFile.file&quot;, String.format(&quot;%1$s%2$s%3$s&quot;, PathHelper.getLoggingDir(), File.separator,  &quot;{date:yyyy-MM-dd}-log.{count}.txt&quot;));\nConfiguration.set(&quot;writerRollingFile.latest&quot;, String.valueOf(Paths.get(PathHelper.getLoggingDir() ,  &quot;latest.txt&quot;)));\n</code></pre>\n<p>Result: writerRollingFile.file doesn't work because tinylog has problems to write the rolling file -&gt; between Path and File writes an &quot;;&quot; -&gt; C:\\Users\\MyUserName\\demo\\logs;2022-10-17-log.0.txt</p>\n<p>The other file, &quot;latest.txt&quot;, is created in right directory with no problems.</p>\n<p>Here how I resolve the path with the method PathHelper.getLoggingDir():</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path pathToFile = Paths.get(sUserHomeDir, sAppName, sLoggingDir);\n</code></pre>\n<p>Would it possible to get it work with the user.home directory?</p>\n<p>Thanks Martin, to replace the prefixes helped:\n<code>${...}</code> with <code>#{...}</code></p>\n<p>My tiny.properties file:</p>\n<pre><code># rolling file\nwriterRollingFile          = rolling file\nwriterRollingFile.level    = warn\nwriterRollingFile.format   = {date: dd.mm.yyyy HH:mm:ss.SSS} {level}: {class}.{method}()\\t{message}\nwriterRollingFile.file     = #{tinylog.directory}/{date:yyyy-MM-dd}-log.{count}.txt\nwriterRollingFile.latest   = #{tinylog.directory}/latest.txt\nwriterRollingFile.charset  = UTF-8\nwriterRollingFile.buffered = true\nwriterRollingFile.policies = startup, daily: 00:00, size: 1mb\nwriterRollingFile.backups  = 100\nwriterRollingFile.convert  = gzip \n</code></pre>\n<p>and to set the property at startup:</p>\n<p><code>System.setProperty(&quot;tinylog.directory&quot;, PathHelper.getLoggingDir()); </code></p>\n<p>and to get or make the directory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final String sUserHomeDir = System.getProperty(&quot;user.home&quot;);\n    private static final String sAppName =  &quot;Demo&quot;;\n    private static final String sLoggingDir =  &quot;Logs&quot;;\n\n\n    public static String getLoggingDir() throws IOException {\n\n        // inserts correct file path separator on *nix and Windows\n        Path pathToFile = Paths.get(sUserHomeDir, sAppName, sLoggingDir);\n\n        // The Files.createDirectories creates a new directory;\n        // if the parent directories do not exist, they are created as well.\n        // The method does not thrown an exception if the directory already exist.\n        Files.createDirectories(pathToFile);\n\n        return pathToFile.toString();\n   }\n</code></pre>\n"},{"tags":["java","maven","tomcat","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":2487007,"reputation":995,"user_id":2165263,"accept_rate":62,"display_name":"AMB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489683330,"creation_date":1489683330,"answer_id":42840285,"question_id":42839863,"body_markdown":"Try to undeploy the app from http://localhost:8080 , in tomcat manager, then make shutdown from tomcat/bin and finally copy the war to your webapp folder and startup tomcat again\r\n","title":"Tomcat serves old files even after removing and copying new .war file","body":"<p>Try to undeploy the app from <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a> , in tomcat manager, then make shutdown from tomcat/bin and finally copy the war to your webapp folder and startup tomcat again</p>\n"},{"tags":[],"owner":{"account_id":9496623,"reputation":476,"user_id":7059393,"display_name":"SANTOSHKUMAR SINGH"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489687603,"creation_date":1489683406,"answer_id":42840313,"question_id":42839863,"body_markdown":"Clean and rebuild your project war file.\r\n\r\nDelete the hello folder from server. Then restart the server.\r\n\r\nSometime .js is loaded from cache, try Ctrl + F5","title":"Tomcat serves old files even after removing and copying new .war file","body":"<p>Clean and rebuild your project war file.</p>\n\n<p>Delete the hello folder from server. Then restart the server.</p>\n\n<p>Sometime .js is loaded from cache, try Ctrl + F5</p>\n"},{"tags":[],"owner":{"account_id":7241240,"reputation":368,"user_id":5527531,"display_name":"opensam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489684068,"creation_date":1489684068,"answer_id":42840530,"question_id":42839863,"body_markdown":"Unzip the war at some temp location and check if the unzipped JS file is the one which you are expecting. If it is, clean the tomcat webapps directory by removing the previous version war and the unizpped directories and files from that war. After that, copy the new war into your webapps folder and start the server.\r\n\r\nOne other thing, if you are using eclipse and using external maven build then after re-building your project refresh that project in your workspace and then copy the war file.","title":"Tomcat serves old files even after removing and copying new .war file","body":"<p>Unzip the war at some temp location and check if the unzipped JS file is the one which you are expecting. If it is, clean the tomcat webapps directory by removing the previous version war and the unizpped directories and files from that war. After that, copy the new war into your webapps folder and start the server.</p>\n\n<p>One other thing, if you are using eclipse and using external maven build then after re-building your project refresh that project in your workspace and then copy the war file.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489688743,"creation_date":1489688743,"answer_id":42842075,"question_id":42839863,"body_markdown":"Tomcat isn&#39;t responsible for this. Some intermediate Web cache is doing it, or your browsser itself is caching.","title":"Tomcat serves old files even after removing and copying new .war file","body":"<p>Tomcat isn't responsible for this. Some intermediate Web cache is doing it, or your browsser itself is caching.</p>\n"},{"tags":[],"owner":{"account_id":5581139,"reputation":297,"user_id":4422974,"display_name":"Sagar Jani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490232620,"creation_date":1490232620,"answer_id":42965637,"question_id":42839863,"body_markdown":"The ideal thing to do and which I normally follow is :\r\n\r\n1. Delete temp folder\r\n2. Delete work folder\r\n3. Delete webapps/hello.war file.\r\n4. Delete webapps/hello folder","title":"Tomcat serves old files even after removing and copying new .war file","body":"<p>The ideal thing to do and which I normally follow is :</p>\n\n<ol>\n<li>Delete temp folder</li>\n<li>Delete work folder</li>\n<li>Delete webapps/hello.war file.</li>\n<li>Delete webapps/hello folder</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7433257,"reputation":49,"user_id":5653481,"display_name":"SoldierKB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652445888,"creation_date":1521757399,"answer_id":49439400,"question_id":42839863,"body_markdown":"In my case one file was stale and served old content whatever changes I did, the other one used on the same jsp page was successfully refreshed.  \r\n**Restart/Publish/Clean Tomcat work directory...** in eclipse didn&#39;t help.  \r\nThe only thing which did the trick was **cleaning the cache** in Firefox.  \r\nI still have no clue why first file was saved in cache, and the other - not.","title":"Tomcat serves old files even after removing and copying new .war file","body":"<p>In my case one file was stale and served old content whatever changes I did, the other one used on the same jsp page was successfully refreshed.<br />\n<strong>Restart/Publish/Clean Tomcat work directory...</strong> in eclipse didn't help.<br />\nThe only thing which did the trick was <strong>cleaning the cache</strong> in Firefox.<br />\nI still have no clue why first file was saved in cache, and the other - not.</p>\n"}],"owner":{"account_id":6537789,"reputation":86,"user_id":5056638,"display_name":"Srajan Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1666382662,"creation_date":1489682200,"question_id":42839863,"body_markdown":"I have a maven project ,say hello.In my /var/lib/tomcat8/webapps folder,i have placed its .war file,as hello.war.\r\n\r\nNow I made some changes to a js file,run mvn package and copied the target/hello.war to tomcat8/webapps folder.\r\nThe server still serves old JS file.\r\nThings I have tried:\r\n1.Tried opening in private window.\r\n2. Removing Catalina folder in tomcat8/work folder.\r\n3. added &lt;Resources cachingAllowed=&quot;false&quot; /&gt; to context.xml\r\n\r\nBut none of them work.Also deleted old hello.war in webapps and copied again,but still problem persists.\r\n\r\nHowever,when i tried copying it as hello1.war in webapps folder,the servers serves the new file.\r\nCan someone guide me how to solve the problem?","title":"Tomcat serves old files even after removing and copying new .war file","body":"<p>I have a maven project ,say hello.In my /var/lib/tomcat8/webapps folder,i have placed its .war file,as hello.war.</p>\n\n<p>Now I made some changes to a js file,run mvn package and copied the target/hello.war to tomcat8/webapps folder.\nThe server still serves old JS file.\nThings I have tried:\n1.Tried opening in private window.\n2. Removing Catalina folder in tomcat8/work folder.\n3. added  to context.xml</p>\n\n<p>But none of them work.Also deleted old hello.war in webapps and copied again,but still problem persists.</p>\n\n<p>However,when i tried copying it as hello1.war in webapps folder,the servers serves the new file.\nCan someone guide me how to solve the problem?</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666381350,"creation_date":1666381350,"answer_id":74158503,"question_id":74158211,"body_markdown":"The current solution is like this:\r\n\r\n    @Bean \r\n    AnnotationGatewayProxyFactoryBean myGateway() {\r\n        return new AnnotationGatewayProxyFactoryBean(MyGateway.class);\r\n    }\r\n\r\nSee its javadocs:\r\n\r\n     * A {@link GatewayProxyFactoryBean} extension for Java configuration.\r\n     * The service interface may be marked with the {@link MessagingGateway} annotation.\r\n     * Otherwise, the default state is applied.\r\n\r\nFor the whole story there is also a GH issue to consider `@Import` support for interfaces: https://github.com/spring-projects/spring-integration/issues/3923 .\r\nBut I doubt it can done since an `@Import` is a part of Spring Framework which has no knowledge about Spring Integration gateway proxy infrastructure.","title":"Is there a directive to individually import a Spring Integration gateway in Java configuration?","body":"<p>The current solution is like this:</p>\n<pre><code>@Bean \nAnnotationGatewayProxyFactoryBean myGateway() {\n    return new AnnotationGatewayProxyFactoryBean(MyGateway.class);\n}\n</code></pre>\n<p>See its javadocs:</p>\n<pre><code> * A {@link GatewayProxyFactoryBean} extension for Java configuration.\n * The service interface may be marked with the {@link MessagingGateway} annotation.\n * Otherwise, the default state is applied.\n</code></pre>\n<p>For the whole story there is also a GH issue to consider <code>@Import</code> support for interfaces: <a href=\"https://github.com/spring-projects/spring-integration/issues/3923\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration/issues/3923</a> .\nBut I doubt it can done since an <code>@Import</code> is a part of Spring Framework which has no knowledge about Spring Integration gateway proxy infrastructure.</p>\n"}],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666381350,"creation_date":1666379374,"question_id":74158211,"body_markdown":"In my Spring Boot application, I generally prefer to use `@Import` to individually activate my service beans instead of using `@ComponentScan`. I have an interface that&#39;s annotated with Spring Integration&#39;s `@MessagingGateway` and is intended to be used as an MQ entry point:\r\n\r\n```\r\n@MessagingGateway(defaultRequestChannel = CHANNEL_DISPATCH_QUEUE)\r\ninterface DispatchQueue {\r\n  public static final String CHANNEL_DISPATCH_QUEUE = &quot;dispatchQueue&quot;\r\n\r\n  void enqueue(Dispatch dispatch)\r\n}\r\n```\r\n\r\nI tried to enable this in our usual style by adding `@Import(DispatchQueue)` to a configuration class, but I get an exception saying `Specified class is an interface`.\r\n\r\nI&#39;m aware that I could use `@IntegrationComponentScan` to turn on component scanning, but is there a mechanism equivalent to `int:gateway` that would allow me to tell Spring &quot;activate this specific gateway interface&quot; from Java configuration?\r\n\r\n----------\r\nNote: An indirect solution using an `IntegrationFlow` will not work in my case because [gateways declared in `IntegrationFlow`s aren&#39;t visible to the Spring context before the flow is started](https://github.com/spring-projects/spring-integration/issues/3922); I need the typed bean in the context.","title":"Is there a directive to individually import a Spring Integration gateway in Java configuration?","body":"<p>In my Spring Boot application, I generally prefer to use <code>@Import</code> to individually activate my service beans instead of using <code>@ComponentScan</code>. I have an interface that's annotated with Spring Integration's <code>@MessagingGateway</code> and is intended to be used as an MQ entry point:</p>\n<pre><code>@MessagingGateway(defaultRequestChannel = CHANNEL_DISPATCH_QUEUE)\ninterface DispatchQueue {\n  public static final String CHANNEL_DISPATCH_QUEUE = &quot;dispatchQueue&quot;\n\n  void enqueue(Dispatch dispatch)\n}\n</code></pre>\n<p>I tried to enable this in our usual style by adding <code>@Import(DispatchQueue)</code> to a configuration class, but I get an exception saying <code>Specified class is an interface</code>.</p>\n<p>I'm aware that I could use <code>@IntegrationComponentScan</code> to turn on component scanning, but is there a mechanism equivalent to <code>int:gateway</code> that would allow me to tell Spring &quot;activate this specific gateway interface&quot; from Java configuration?</p>\n<hr />\n<p>Note: An indirect solution using an <code>IntegrationFlow</code> will not work in my case because <a href=\"https://github.com/spring-projects/spring-integration/issues/3922\" rel=\"nofollow noreferrer\">gateways declared in <code>IntegrationFlow</code>s aren't visible to the Spring context before the flow is started</a>; I need the typed bean in the context.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":7,"creation_date":1447755015,"post_id":33754034,"comment_id":55275800,"body_markdown":"The answer given are probably right, but note that, as is, your `createArray` in the second snippet does NOT compile.","body":"The answer given are probably right, but note that, as is, your <code>createArray</code> in the second snippet does NOT compile."},{"owner":{"account_id":3617971,"reputation":1737,"user_id":3017390,"accept_rate":64,"display_name":"ThinkTank"},"score":0,"creation_date":1556115777,"post_id":33754034,"comment_id":98329348,"body_markdown":"one of the Best explanations i recommend it\nhttp://tutorials.jenkov.com/java-generics/methods.html","body":"one of the Best explanations i recommend it <a href=\"http://tutorials.jenkov.com/java-generics/methods.html\" rel=\"nofollow noreferrer\">tutorials.jenkov.com/java-generics/methods.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1447754805,"creation_date":1447754805,"answer_id":33754117,"question_id":33754034,"body_markdown":"In the second method, the type parameter would be typically defined in the class declaration to which the method belongs:\r\n\r\n    class MyClass&lt;T&gt; {\r\n       public void createArray(T sample){\r\n          ArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n          list.add(sample);\r\n       }\r\n       ...\r\n    }\r\n\r\nSo the second method belongs to a generic type.\r\nThe first method is a *generic method* because it defines its own type parameter.","title":"Generic method java 6 &lt;T&gt; before return type","body":"<p>In the second method, the type parameter would be typically defined in the class declaration to which the method belongs:</p>\n\n<pre><code>class MyClass&lt;T&gt; {\n   public void createArray(T sample){\n      ArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;();\n      list.add(sample);\n   }\n   ...\n}\n</code></pre>\n\n<p>So the second method belongs to a generic type.\nThe first method is a <em>generic method</em> because it defines its own type parameter.</p>\n"},{"tags":[],"owner":{"account_id":1307328,"reputation":34488,"user_id":1256041,"accept_rate":80,"display_name":"sdgfsdh"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1447769979,"creation_date":1447754809,"answer_id":33754121,"question_id":33754034,"body_markdown":"In the first case, the generic parameter `T` is defined for the method. Other methods may have a different `T`. \r\n\r\nIn the second case, the generic parameter `T` is defined for the class or interface. All methods within that class or interface must have the same `T`. \r\n\r\nDefining a class-wide generic allows you to enforce the same type parameter on many methods. You can also have fields of the generic type. See `ArrayList&lt;t&gt;` for an example. ","title":"Generic method java 6 &lt;T&gt; before return type","body":"<p>In the first case, the generic parameter <code>T</code> is defined for the method. Other methods may have a different <code>T</code>. </p>\n\n<p>In the second case, the generic parameter <code>T</code> is defined for the class or interface. All methods within that class or interface must have the same <code>T</code>. </p>\n\n<p>Defining a class-wide generic allows you to enforce the same type parameter on many methods. You can also have fields of the generic type. See <code>ArrayList&lt;t&gt;</code> for an example. </p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1447755726,"creation_date":1447755726,"answer_id":33754468,"question_id":33754034,"body_markdown":"From the second example, I am guessing this method is defined in a generic class something like this:\r\n\r\n    class SomeClass&lt;T&gt; {\r\n      public void createArray(T sample){ ... }\r\n    }\r\n\r\nThe difference between the first and second example is that in the first example, the `T` is effectively a &quot;local&quot; type variable. You could give it a different name, e.g. `S`, to make it a little bit clearer:\r\n\r\n    class SomeClass&lt;T&gt; {\r\n      public &lt;S&gt; void createArray(S sample){ ... }\r\n    }\r\n\r\nSo, `S` and `T` are both type variables, but are unrelated. `T` is defined at class scope, and so can be used to refer to the same type amongst all methods in the class; `S` is defined only at method scope.\r\n\r\nBy using the name `T` instead of `S`, you are hiding the class-level type variable, `T`. This means that, for example, the following would not work:\r\n\r\n    class SomeClass&lt;T&gt; {\r\n      public T getWotsit() { ... }\r\n      public &lt;T&gt; void createArray(T sample){\r\n        T wotsit = getWotsit();\r\n      }\r\n    }\r\n\r\nbecause the `T` in the signature of `getWotsit` and the `T` in the variable declaration `T wotsit` potentially refer to different types; this is more clear if you use the name `S` to write the equivalent code:\r\n\r\n    class SomeClass&lt;T&gt; {\r\n      public T getWotsit() { ... }\r\n      public &lt;S&gt; void createArray(S sample){\r\n        S wotsit = getWotsit();\r\n      }\r\n    }\r\n\r\nAs far as I&#39;m aware, there is no way to refer to the class-level type variable if you&#39;ve defined a method-level type variable with the same name.\r\n\r\nHowever, both of the following would be fine:\r\n\r\n    class SomeClass&lt;T&gt; {\r\n      public T getWotsit() { ... }\r\n      // No additional type variable, so T is the class-level type variable.\r\n      public void createArray(T sample){  \r\n        T wotsit = getWotsit();\r\n      }\r\n    }\r\n\r\n    class SomeClass&lt;T&gt; {\r\n      public T getWotsit() { ... }\r\n      // Type variable has different name, so `T` is the class-level\r\n      // type variable.\r\n      public &lt;S&gt; void createArray(T sample){\r\n        T wotsit = getWotsit();\r\n      }\r\n    }","title":"Generic method java 6 &lt;T&gt; before return type","body":"<p>From the second example, I am guessing this method is defined in a generic class something like this:</p>\n\n<pre><code>class SomeClass&lt;T&gt; {\n  public void createArray(T sample){ ... }\n}\n</code></pre>\n\n<p>The difference between the first and second example is that in the first example, the <code>T</code> is effectively a \"local\" type variable. You could give it a different name, e.g. <code>S</code>, to make it a little bit clearer:</p>\n\n<pre><code>class SomeClass&lt;T&gt; {\n  public &lt;S&gt; void createArray(S sample){ ... }\n}\n</code></pre>\n\n<p>So, <code>S</code> and <code>T</code> are both type variables, but are unrelated. <code>T</code> is defined at class scope, and so can be used to refer to the same type amongst all methods in the class; <code>S</code> is defined only at method scope.</p>\n\n<p>By using the name <code>T</code> instead of <code>S</code>, you are hiding the class-level type variable, <code>T</code>. This means that, for example, the following would not work:</p>\n\n<pre><code>class SomeClass&lt;T&gt; {\n  public T getWotsit() { ... }\n  public &lt;T&gt; void createArray(T sample){\n    T wotsit = getWotsit();\n  }\n}\n</code></pre>\n\n<p>because the <code>T</code> in the signature of <code>getWotsit</code> and the <code>T</code> in the variable declaration <code>T wotsit</code> potentially refer to different types; this is more clear if you use the name <code>S</code> to write the equivalent code:</p>\n\n<pre><code>class SomeClass&lt;T&gt; {\n  public T getWotsit() { ... }\n  public &lt;S&gt; void createArray(S sample){\n    S wotsit = getWotsit();\n  }\n}\n</code></pre>\n\n<p>As far as I'm aware, there is no way to refer to the class-level type variable if you've defined a method-level type variable with the same name.</p>\n\n<p>However, both of the following would be fine:</p>\n\n<pre><code>class SomeClass&lt;T&gt; {\n  public T getWotsit() { ... }\n  // No additional type variable, so T is the class-level type variable.\n  public void createArray(T sample){  \n    T wotsit = getWotsit();\n  }\n}\n\nclass SomeClass&lt;T&gt; {\n  public T getWotsit() { ... }\n  // Type variable has different name, so `T` is the class-level\n  // type variable.\n  public &lt;S&gt; void createArray(T sample){\n    T wotsit = getWotsit();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5620735,"reputation":392,"user_id":4450673,"accept_rate":50,"display_name":"MIK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666381309,"creation_date":1666381309,"answer_id":74158499,"question_id":33754034,"body_markdown":"   In case of `public void createArray(T sample)` where `T` is defined in class definition `MyClass&lt;T&gt;` is generic for the class\r\n\r\nFor `public &lt;T&gt; void createArray(T sample){` ,  `T` is local generic for method and is not related to `T` in `MyClass&lt;T&gt;`, this `T` could be anything X,Y,Z. If you remove `&lt;T&gt;` before void, &lt;T&gt;  it is now `&lt;T&gt;` from `MyClass&lt;T&gt;` and cannot be X,Y,Z","title":"Generic method java 6 &lt;T&gt; before return type","body":"<p>In case of <code>public void createArray(T sample)</code> where <code>T</code> is defined in class definition <code>MyClass&lt;T&gt;</code> is generic for the class</p>\n<p>For <code>public &lt;T&gt; void createArray(T sample){</code> ,  <code>T</code> is local generic for method and is not related to <code>T</code> in <code>MyClass&lt;T&gt;</code>, this <code>T</code> could be anything X,Y,Z. If you remove <code>&lt;T&gt;</code> before void,   it is now <code>&lt;T&gt;</code> from <code>MyClass&lt;T&gt;</code> and cannot be X,Y,Z</p>\n"}],"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8281,"favorite_count":0,"down_vote_count":3,"up_vote_count":32,"accepted_answer_id":33754117,"answer_count":4,"score":29,"last_activity_date":1666381309,"creation_date":1447754573,"question_id":33754034,"body_markdown":"What is the difference between:\r\n\r\n    public &lt;T&gt; void createArray(T sample){\r\n    \tArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n    \tlist.add(sample);\r\n    }\r\n\r\nand\r\n\r\n    public void createArray(T sample){\r\n    \tArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n    \tlist.add(sample);\r\n    }\r\n\r\nI read that the method signature for using types should have `&lt;T&gt;` before the return type but how come I am still able to create the method without the `&lt;T&gt;`? What is the implication if I do or do not put it?","title":"Generic method java 6 &lt;T&gt; before return type","body":"<p>What is the difference between:</p>\n\n<pre><code>public &lt;T&gt; void createArray(T sample){\n    ArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;();\n    list.add(sample);\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public void createArray(T sample){\n    ArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;();\n    list.add(sample);\n}\n</code></pre>\n\n<p>I read that the method signature for using types should have <code>&lt;T&gt;</code> before the return type but how come I am still able to create the method without the <code>&lt;T&gt;</code>? What is the implication if I do or do not put it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":3,"creation_date":1666379629,"post_id":74158193,"comment_id":130931635,"body_markdown":"Your equals is broken. Equality is reflexive, symmetric and transitive. Thus from A = B and A = C follows B = C.","body":"Your equals is broken. Equality is reflexive, symmetric and transitive. Thus from A = B and A = C follows B = C."},{"owner":{"account_id":23768567,"reputation":192,"user_id":17782982,"display_name":"turbofood"},"score":0,"creation_date":1666379887,"post_id":74158193,"comment_id":130931700,"body_markdown":"I thought so. I wanted a convenient way to handle these types of objects when dealing with collections such as Sets so that I would have to reiterate over all of the elements everytime i want to add a new one in order to check this whole overriding concept","body":"I thought so. I wanted a convenient way to handle these types of objects when dealing with collections such as Sets so that I would have to reiterate over all of the elements everytime i want to add a new one in order to check this whole overriding concept"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1666380759,"post_id":74158193,"comment_id":130931927,"body_markdown":"@turbofood That clearly sounds like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). Do not implement `equals()` (and `hashcode()`) that way, that it breaks the contract of the [`java.lang.Object.equals()`](https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)) method.","body":"@turbofood That clearly sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. Do not implement <code>equals()</code> (and <code>hashcode()</code>) that way, that it breaks the contract of the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>java.lang.Object.equals()</code></a> method."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1666380841,"post_id":74158193,"comment_id":130931952,"body_markdown":"I was just going to say the same, XY Problem. Don&#39;t ask how to implement your mistaken solution to your problem, ask about your problem.","body":"I was just going to say the same, XY Problem. Don&#39;t ask how to implement your mistaken solution to your problem, ask about your problem."}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666380766,"creation_date":1666380262,"answer_id":74158353,"question_id":74158193,"body_markdown":"Yes you can achieve this. In your `equals` method, just short-circuit with a check for &quot;override&quot;.\r\n\r\n```java\r\nif (this.id.equals(&quot;override&quot;)) return true;\r\n```\r\n\r\n### Full example\r\n\r\n```java\r\npublic class Question_74158193 {\r\n    public static String OVERRIDE = &quot;override&quot;;\r\n    \r\n    static class MyObject {\r\n        private String id;\r\n        public MyObject(String id) { this.id = id; }\r\n        public MyObject() { this(OVERRIDE); }\r\n        public String getId() { return id; }\r\n      \r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 7;\r\n            hash = 31 * hash + (id == null || id.equals(OVERRIDE) ? 0 : id.hashCode());\r\n            return hash;\r\n        }\r\n      \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null) return false;\r\n            if (this.getClass() != o.getClass()) return false;\r\n            if (this.id.equals(OVERRIDE)) return true;\r\n            MyObject myObj = (MyObject) o;\r\n            return id.equals(myObj.id);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MyObject\r\n            a = new MyObject(),\r\n            b = new MyObject(&quot;1&quot;),\r\n            c = new MyObject(&quot;2&quot;),\r\n            d = new MyObject();\r\n         \r\n        System.out.println(a.equals(b)); // true\r\n        System.out.println(a.equals(c)); // true\r\n        System.out.println(b.equals(c)); // false\r\n        \r\n        System.out.println(a.hashCode()); // 217 - matches d\r\n        System.out.println(b.hashCode()); // 266\r\n        System.out.println(c.hashCode()); // 267\r\n        System.out.println(d.hashCode()); // 217 - matches a\r\n     }\r\n}\r\n```","title":"Java Is there a way to generate a hashcode() for a unique equals case?","body":"<p>Yes you can achieve this. In your <code>equals</code> method, just short-circuit with a check for &quot;override&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (this.id.equals(&quot;override&quot;)) return true;\n</code></pre>\n<h3>Full example</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Question_74158193 {\n    public static String OVERRIDE = &quot;override&quot;;\n    \n    static class MyObject {\n        private String id;\n        public MyObject(String id) { this.id = id; }\n        public MyObject() { this(OVERRIDE); }\n        public String getId() { return id; }\n      \n        @Override\n        public int hashCode() {\n            int hash = 7;\n            hash = 31 * hash + (id == null || id.equals(OVERRIDE) ? 0 : id.hashCode());\n            return hash;\n        }\n      \n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null) return false;\n            if (this.getClass() != o.getClass()) return false;\n            if (this.id.equals(OVERRIDE)) return true;\n            MyObject myObj = (MyObject) o;\n            return id.equals(myObj.id);\n        }\n    }\n\n    public static void main(String[] args) {\n        MyObject\n            a = new MyObject(),\n            b = new MyObject(&quot;1&quot;),\n            c = new MyObject(&quot;2&quot;),\n            d = new MyObject();\n         \n        System.out.println(a.equals(b)); // true\n        System.out.println(a.equals(c)); // true\n        System.out.println(b.equals(c)); // false\n        \n        System.out.println(a.hashCode()); // 217 - matches d\n        System.out.println(b.hashCode()); // 266\n        System.out.println(c.hashCode()); // 267\n        System.out.println(d.hashCode()); // 217 - matches a\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":23768567,"reputation":192,"user_id":17782982,"display_name":"turbofood"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1666380766,"creation_date":1666379227,"question_id":74158193,"body_markdown":"Say I have 3 objects A, B, &amp; C.\r\n\r\nObject A is equal to object B &amp; object C. But, objects B &amp; C are **NOT** equal. Is it possible to have a hashcode() method that supports this concept ?\r\n\r\nTo give you a real example of this type of use case say I have this object structure\r\n```\r\nclass MyObject {\r\n  String id;\r\n  // .. other fields\r\n}\r\n```\r\nMyObject A has an id = &quot;override&quot;.\r\n\r\nMyObject B has an id = &quot;1&quot;.\r\n\r\nMyObject C has an id = &quot;2&quot;.\r\n\r\nThe idea is that there is a special case whenever the id of &quot;override&quot; is found that it immediately overrides any &amp; all other MyObject&#39;s because we only want that 1 single object. However, MyObject B &amp; C don&#39;t have this &quot;override&quot; id therefore those objects should not be considered &quot;equal&quot;.","title":"Java Is there a way to generate a hashcode() for a unique equals case?","body":"<p>Say I have 3 objects A, B, &amp; C.</p>\n<p>Object A is equal to object B &amp; object C. But, objects B &amp; C are <strong>NOT</strong> equal. Is it possible to have a hashcode() method that supports this concept ?</p>\n<p>To give you a real example of this type of use case say I have this object structure</p>\n<pre><code>class MyObject {\n  String id;\n  // .. other fields\n}\n</code></pre>\n<p>MyObject A has an id = &quot;override&quot;.</p>\n<p>MyObject B has an id = &quot;1&quot;.</p>\n<p>MyObject C has an id = &quot;2&quot;.</p>\n<p>The idea is that there is a special case whenever the id of &quot;override&quot; is found that it immediately overrides any &amp; all other MyObject's because we only want that 1 single object. However, MyObject B &amp; C don't have this &quot;override&quot; id therefore those objects should not be considered &quot;equal&quot;.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666377635,"creation_date":1666377635,"answer_id":74157955,"question_id":74157689,"body_markdown":"Spring will do standard lookup for Type1, Type2, Type3 types beans in the context. If those are not found, Spring will try to create new instances using default constructor. If no default constructor, startup will fail.\r\n\r\nProbably there are some more mechanics, but basics is this.","title":"Bean creation with parameters SpringBoot","body":"<p>Spring will do standard lookup for Type1, Type2, Type3 types beans in the context. If those are not found, Spring will try to create new instances using default constructor. If no default constructor, startup will fail.</p>\n<p>Probably there are some more mechanics, but basics is this.</p>\n"},{"tags":[],"owner":{"account_id":15846606,"reputation":316,"user_id":11433749,"display_name":"Shayan Daneshvar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666380128,"creation_date":1666380128,"answer_id":74158330,"question_id":74157689,"body_markdown":"@Bean is similar to the Spring stereotypes (@Component, @Service, @Controller, @RestController, @Repository, and @Configuration).\r\n\r\nWhen you write a method with @Bean on top of it, it is similar to using one of the stereotypes on top of a class with a constructor (with @Autowired), so its dependencies can be injected via the constructor by Spring; therefore, those parameters must be Spring beans so that they can be injected into your @Bean annotated method.\r\n\r\nThe way spring understands the injection order is via a dependency graph that Spring creates and starts creating beans from classes that either have no dependencies or their dependencies have been created and are ready to be injected.","title":"Bean creation with parameters SpringBoot","body":"<p>@Bean is similar to the Spring stereotypes (@Component, @Service, @Controller, @RestController, @Repository, and @Configuration).</p>\n<p>When you write a method with @Bean on top of it, it is similar to using one of the stereotypes on top of a class with a constructor (with @Autowired), so its dependencies can be injected via the constructor by Spring; therefore, those parameters must be Spring beans so that they can be injected into your @Bean annotated method.</p>\n<p>The way spring understands the injection order is via a dependency graph that Spring creates and starts creating beans from classes that either have no dependencies or their dependencies have been created and are ready to be injected.</p>\n"}],"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74158330,"answer_count":2,"score":1,"last_activity_date":1666380128,"creation_date":1666375960,"question_id":74157689,"body_markdown":"For Bean creation in SpringBoot, we use class annotated with the @Component with some bean creation methods annotated with @Bean annotation. Now, I have always been using @Bean like this:\r\n\r\n    @Bean\r\n    public func getSome() {\r\n        return someFunc(param1, param2, param3);\r\n    }\r\n\r\nNow, what I saw in some code is this:\r\n\r\n    @Bean\r\n    public func getSome(Type1 param1, Type2 param2, Type 3 param3) {\r\n        return someFunc(param1, param2, param3);\r\n    }\r\n\r\nSo basically, Beans are created when the SpringBoot context loads. What I am confused here is ***how will SpringBoot pick up the parameters in the bean (the second example)*** .\r\n\r\nCan someone please help me understand this ?\r\n\r\nPS: Please let me know if the question is not clear. :)","title":"Bean creation with parameters SpringBoot","body":"<p>For Bean creation in SpringBoot, we use class annotated with the @Component with some bean creation methods annotated with @Bean annotation. Now, I have always been using @Bean like this:</p>\n<pre><code>@Bean\npublic func getSome() {\n    return someFunc(param1, param2, param3);\n}\n</code></pre>\n<p>Now, what I saw in some code is this:</p>\n<pre><code>@Bean\npublic func getSome(Type1 param1, Type2 param2, Type 3 param3) {\n    return someFunc(param1, param2, param3);\n}\n</code></pre>\n<p>So basically, Beans are created when the SpringBoot context loads. What I am confused here is <em><strong>how will SpringBoot pick up the parameters in the bean (the second example)</strong></em> .</p>\n<p>Can someone please help me understand this ?</p>\n<p>PS: Please let me know if the question is not clear. :)</p>\n"},{"tags":["java","mysql","security"],"comments":[{"owner":{"account_id":2521222,"reputation":302,"user_id":2191563,"display_name":"glovemobile"},"score":0,"creation_date":1632993302,"post_id":69389461,"comment_id":122645111,"body_markdown":"I suggest you use API based approach instead of making database connection directly from jar package.","body":"I suggest you use API based approach instead of making database connection directly from jar package."},{"owner":{"account_id":22903053,"reputation":1,"user_id":17041496,"display_name":"Jaremy"},"score":0,"creation_date":1632993461,"post_id":69389461,"comment_id":122645177,"body_markdown":"@glovemobile thank you for your response. Even with an api approach, the client can see how the program will communicate with the api and that means he can do it alone and get/send data. Am i wrong?","body":"@glovemobile thank you for your response. Even with an api approach, the client can see how the program will communicate with the api and that means he can do it alone and get/send data. Am i wrong?"},{"owner":{"account_id":2521222,"reputation":302,"user_id":2191563,"display_name":"glovemobile"},"score":0,"creation_date":1632993743,"post_id":69389461,"comment_id":122645294,"body_markdown":"Put credentials in API for security and monitor it with activity log if you want to be sure.","body":"Put credentials in API for security and monitor it with activity log if you want to be sure."},{"owner":{"account_id":22903053,"reputation":1,"user_id":17041496,"display_name":"Jaremy"},"score":0,"creation_date":1632993902,"post_id":69389461,"comment_id":122645354,"body_markdown":"@glovemobile I&#39;m sorry, I can&#39;t understand the whole idea. In order to put credentials in an api, I have to send them also via code in order to authenticate. Once again, we have the same problem. The code is there and anyone can see how java can send requests to an entity.","body":"@glovemobile I&#39;m sorry, I can&#39;t understand the whole idea. In order to put credentials in an api, I have to send them also via code in order to authenticate. Once again, we have the same problem. The code is there and anyone can see how java can send requests to an entity."},{"owner":{"account_id":2521222,"reputation":302,"user_id":2191563,"display_name":"glovemobile"},"score":0,"creation_date":1632994130,"post_id":69389461,"comment_id":122645443,"body_markdown":"The users of your application must be registered to your system. They will have username and password. Use username and password as API credential. This is just simple example. You can make it more complex secure if you have to.","body":"The users of your application must be registered to your system. They will have username and password. Use username and password as API credential. This is just simple example. You can make it more complex secure if you have to."},{"owner":{"account_id":22903053,"reputation":1,"user_id":17041496,"display_name":"Jaremy"},"score":0,"creation_date":1632994371,"post_id":69389461,"comment_id":122645550,"body_markdown":"@glovemobile I can see your point and thank you for answering to my questions. But this seems to be like a game where I&#39;m returning to the starting point over and over. I can reply to your post by saying &quot;What stops the client to take the code after the X button, paste it to another project and run it 50 times with the api calls and all the necessary pieces&quot;. I mean, no matters what authentication ill put on it. Since the code is visible, it means that every project can have the same way of authentication as the main one. Maybe I cant understand how it will work, I don&#39;t know.","body":"@glovemobile I can see your point and thank you for answering to my questions. But this seems to be like a game where I&#39;m returning to the starting point over and over. I can reply to your post by saying &quot;What stops the client to take the code after the X button, paste it to another project and run it 50 times with the api calls and all the necessary pieces&quot;. I mean, no matters what authentication ill put on it. Since the code is visible, it means that every project can have the same way of authentication as the main one. Maybe I cant understand how it will work, I don&#39;t know."},{"owner":{"account_id":2521222,"reputation":302,"user_id":2191563,"display_name":"glovemobile"},"score":0,"creation_date":1632994579,"post_id":69389461,"comment_id":122645639,"body_markdown":"After reading your comments, I am assuming you are protecting your code also, not only protecting your data. You can use Code Obfuscation for java, mostly paid service. Am I wrong?","body":"After reading your comments, I am assuming you are protecting your code also, not only protecting your data. You can use Code Obfuscation for java, mostly paid service. Am I wrong?"},{"owner":{"account_id":22903053,"reputation":1,"user_id":17041496,"display_name":"Jaremy"},"score":0,"creation_date":1632994989,"post_id":69389461,"comment_id":122645811,"body_markdown":"@glovemobile You are right! Just because by protecting my code, it will protect my data too. I also thought about obfuscation but everywhere (when they suggest it) I can see that even this &#39;way&#39; can show you the original code (it requires a lot of knowledge but its not impossible).","body":"@glovemobile You are right! Just because by protecting my code, it will protect my data too. I also thought about obfuscation but everywhere (when they suggest it) I can see that even this &#39;way&#39; can show you the original code (it requires a lot of knowledge but its not impossible)."},{"owner":{"account_id":2521222,"reputation":302,"user_id":2191563,"display_name":"glovemobile"},"score":0,"creation_date":1632995209,"post_id":69389461,"comment_id":122645915,"body_markdown":"Take a look https://java-source.net/open-source/obfuscators","body":"Take a look <a href=\"https://java-source.net/open-source/obfuscators\" rel=\"nofollow noreferrer\">java-source.net/open-source/obfuscators</a>"}],"owner":{"account_id":22903053,"reputation":1,"user_id":17041496,"display_name":"Jaremy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666379562,"creation_date":1632993042,"question_id":69389461,"body_markdown":"I have a database-backed GUI that will be used by clients who are not on the same network as the database where queries will be executed.\r\n\r\nHow can I build this structure for this client-to-base communication process in order to secure my credentials? \r\n\r\nMy concern is that, since the jar can be decompiled, I won&#39;t be able to secure the code from the clients.\r\n\r\nI have a couple of ideas, but they won&#39;t work:\r\n\r\n1. If I make a file that will contain the username and the password and I read them via the program so that they won&#39;t be visible in the code, the client could still read the same code, see the path of the file, and open it, revealing the credentials.\r\n\r\n2. If I encrypt the contents of the file and do the same process, the client will still see the decryption method, and can use that to create a temporary application and get the decrypted credentials.\r\n\r\n3. I could use a web server to send requests and the server connects to the database and returns the data to me in the application. But by seeing the way of communication with the web server, the client can actually take this code, create a temporary application, execute the code, and get the same result as the above two scenarios.","title":"How to secure a remote MySQL database connection against Jar decompilation?","body":"<p>I have a database-backed GUI that will be used by clients who are not on the same network as the database where queries will be executed.</p>\n<p>How can I build this structure for this client-to-base communication process in order to secure my credentials?</p>\n<p>My concern is that, since the jar can be decompiled, I won't be able to secure the code from the clients.</p>\n<p>I have a couple of ideas, but they won't work:</p>\n<ol>\n<li><p>If I make a file that will contain the username and the password and I read them via the program so that they won't be visible in the code, the client could still read the same code, see the path of the file, and open it, revealing the credentials.</p>\n</li>\n<li><p>If I encrypt the contents of the file and do the same process, the client will still see the decryption method, and can use that to create a temporary application and get the decrypted credentials.</p>\n</li>\n<li><p>I could use a web server to send requests and the server connects to the database and returns the data to me in the application. But by seeing the way of communication with the web server, the client can actually take this code, create a temporary application, execute the code, and get the same result as the above two scenarios.</p>\n</li>\n</ol>\n"},{"tags":["java","spring","file","intellij-14"],"comments":[{"owner":{"account_id":6979720,"reputation":5387,"user_id":5353128,"accept_rate":73,"display_name":"Kaushal28"},"score":1,"creation_date":1489770700,"post_id":42863382,"comment_id":72832954,"body_markdown":"post the code and error log here. NOT in images","body":"post the code and error log here. NOT in images"},{"owner":{"account_id":10394025,"reputation":469,"user_id":7664307,"display_name":"Rob_kael"},"score":0,"creation_date":1489770990,"post_id":42863382,"comment_id":72833126,"body_markdown":"Sorry about that! Will do for future questions!","body":"Sorry about that! Will do for future questions!"},{"owner":{"account_id":18618594,"reputation":158,"user_id":13569349,"display_name":"Mateus Nogueira"},"score":0,"creation_date":1661890859,"post_id":42863382,"comment_id":129878744,"body_markdown":"try to clean your build. [enter link description here](https://stackoverflow.com/questions/35409788/how-to-clean-or-clean-build-my-maven-project-in-intellij-idea)","body":"try to clean your build. <a href=\"https://stackoverflow.com/questions/35409788/how-to-clean-or-clean-build-my-maven-project-in-intellij-idea\">enter link description here</a>"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1583749791,"creation_date":1489770712,"answer_id":42863455,"question_id":42863382,"body_markdown":"What you put directly under `src/main/java` is in the default package, at the root of the classpath. It&#39;s the same for resources put under `src/main/resources`: they end up at the root of the classpath.\r\n\r\nSo the path of the resource is `app-context.xml`, not `main/resources/app-context.xml`.","title":"java.io.FileNotFoundException: class path resource cannot be opened because it does not exist","body":"<p>What you put directly under <code>src/main/java</code> is in the default package, at the root of the classpath. It's the same for resources put under <code>src/main/resources</code>: they end up at the root of the classpath.</p>\n\n<p>So the path of the resource is <code>app-context.xml</code>, not <code>main/resources/app-context.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":3270631,"reputation":3649,"user_id":2754093,"accept_rate":100,"display_name":"Mouad EL Fakir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489770743,"creation_date":1489770743,"answer_id":42863467,"question_id":42863382,"body_markdown":"Try this:\r\n\r\n    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;app-context.xml&quot;);","title":"java.io.FileNotFoundException: class path resource cannot be opened because it does not exist","body":"<p>Try this:</p>\n\n<pre><code>ApplicationContext context = new ClassPathXmlApplicationContext(\"app-context.xml\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3683349,"reputation":96,"user_id":3067754,"display_name":"Gomsy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489770836,"creation_date":1489770836,"answer_id":42863496,"question_id":42863382,"body_markdown":"The file location/path has to relative to your classpath locations. If resources directory is in your classpath you just need &quot;app-context.xml&quot; as file location.","title":"java.io.FileNotFoundException: class path resource cannot be opened because it does not exist","body":"<p>The file location/path has to relative to your classpath locations. If resources directory is in your classpath you just need \"app-context.xml\" as file location.</p>\n"},{"tags":[],"owner":{"account_id":8434198,"reputation":647,"user_id":6328841,"display_name":"Saurabh Verma"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1530269718,"creation_date":1530269718,"answer_id":51100124,"question_id":42863382,"body_markdown":"We can also try this solution \r\n\r\n    ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;classpath*:app-context.xml&quot;);\r\n\r\n in this the spring automatically finds the class in the class path itself","title":"java.io.FileNotFoundException: class path resource cannot be opened because it does not exist","body":"<p>We can also try this solution </p>\n\n<pre><code>ApplicationContext ctx = new ClassPathXmlApplicationContext(\"classpath*:app-context.xml\");\n</code></pre>\n\n<p>in this the spring automatically finds the class in the class path itself</p>\n"},{"tags":[],"owner":{"account_id":17586265,"reputation":11,"user_id":12758949,"display_name":"Turab Bajeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628660842,"creation_date":1628660842,"answer_id":68736585,"question_id":42863382,"body_markdown":"This worked for me\r\n`ApplicationContext context = new ClassPathXmlApplicationContext(&quot;app-context.xml&quot;);`","title":"java.io.FileNotFoundException: class path resource cannot be opened because it does not exist","body":"<p>This worked for me\n<code>ApplicationContext context = new ClassPathXmlApplicationContext(&quot;app-context.xml&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":18625102,"reputation":43,"user_id":13574407,"display_name":"Himanshu Gadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629808951,"creation_date":1629808951,"answer_id":68907805,"question_id":42863382,"body_markdown":"For Eclipse - \r\nFollow the path `Build path -&gt; Configure build path -&gt; go to sources -&gt; add folder` \r\nmark the resource folder where you have your XML file. \r\nNow if you try to run it will run just fine.","title":"java.io.FileNotFoundException: class path resource cannot be opened because it does not exist","body":"<p>For Eclipse -\nFollow the path <code>Build path -&gt; Configure build path -&gt; go to sources -&gt; add folder</code>\nmark the resource folder where you have your XML file.\nNow if you try to run it will run just fine.</p>\n"},{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666378896,"creation_date":1666378896,"answer_id":74158146,"question_id":42863382,"body_markdown":"You can use below to read resources. It will give input stream.\r\n\r\n    InputStream in = MyClass.class.getClassLoader().getResourceAsStream(&quot;files.properties&quot;);","title":"java.io.FileNotFoundException: class path resource cannot be opened because it does not exist","body":"<p>You can use below to read resources. It will give input stream.</p>\n<pre><code>InputStream in = MyClass.class.getClassLoader().getResourceAsStream(&quot;files.properties&quot;);\n</code></pre>\n"}],"owner":{"account_id":10394025,"reputation":469,"user_id":7664307,"display_name":"Rob_kael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250737,"favorite_count":0,"down_vote_count":2,"up_vote_count":47,"accepted_answer_id":42863455,"answer_count":7,"score":45,"last_activity_date":1666378896,"creation_date":1489770459,"question_id":42863382,"body_markdown":"I am trying to set the configuration location for my Project but I keep getting the following error:\r\n\r\n&gt; java.io.FileNotFoundException: class path resource\r\n&gt; [main/resources/app-context.xml] cannot be opened because it does not\r\n&gt; exist\r\n\r\nI have my project set up like this:\r\n\r\n![enter image description here][1]\r\n\r\nAnd I have my code set up as:\r\n\r\n    ApplicationContext context = new ClassPathXmlApplicationContext(configLocation: &quot;main/resources/app-context.xml&quot;);\r\n\r\nHow can I fix this?\r\n\r\n  [1]: https://i.stack.imgur.com/fqqSI.jpg","title":"java.io.FileNotFoundException: class path resource cannot be opened because it does not exist","body":"<p>I am trying to set the configuration location for my Project but I keep getting the following error:</p>\n\n<blockquote>\n  <p>java.io.FileNotFoundException: class path resource\n  [main/resources/app-context.xml] cannot be opened because it does not\n  exist</p>\n</blockquote>\n\n<p>I have my project set up like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/fqqSI.jpg\" alt=\"enter image description here\"></p>\n\n<p>And I have my code set up as:</p>\n\n<pre><code>ApplicationContext context = new ClassPathXmlApplicationContext(configLocation: \"main/resources/app-context.xml\");\n</code></pre>\n\n<p>How can I fix this?</p>\n"},{"tags":["java","android","time"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666381769,"post_id":74157506,"comment_id":130932184,"body_markdown":"Consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends. Use [desugaring](https://developer.android.com/studio/write/java8-support-table) in order to use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/) (for early Android versions too). It is so much nicer to work with.","body":"Consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends. Use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> in order to use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> (for early Android versions too). It is so much nicer to work with."}],"answers":[{"tags":[],"owner":{"account_id":1202427,"reputation":1281,"user_id":3085617,"display_name":"SoftwareGuy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666375837,"creation_date":1666375837,"answer_id":74157672,"question_id":74157506,"body_markdown":"When you store the time, you need to store in UTC. Retrieve it from server in UTC format. While displaying last seen , convert it to local time zone of that displaying device.","title":"different Time Zones in android","body":"<p>When you store the time, you need to store in UTC. Retrieve it from server in UTC format. While displaying last seen , convert it to local time zone of that displaying device.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666378398,"creation_date":1666376106,"answer_id":74157706,"question_id":74157506,"body_markdown":"# tl;dr\r\n\r\n    Duration.between ( then , Instant.now() ) \r\n\r\n\r\n# Details\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes. \r\n\r\nUse an offset from UTC of zero hours-minutes-seconds when capturing a moment. For that, `Instant` class. \r\n\r\n    Instant then = Instant.now() ;\r\n    …\r\n    Instant now = Instant.now() ;\r\n\r\n`Duration` class represents elapsed time on a scale of hours-minutes-seconds. \r\n\r\n    Duration d = Duration.between ( then , now ) ;\r\n\r\nNotice that no time zones were involved. \r\n\r\nTrack your date-time values as *java.time* objects, not text. Generate text only as needed for logging, debugging, and presentation to the user. \r\n\r\n----------\r\n\r\nThe *java.time* classes are built into Android 26+. For earlier Android, the “desugaring” features in the latest tooling makes available most of the *java.time* functionality. \r\n\r\n","title":"different Time Zones in android","body":"<h1>tl;dr</h1>\n<pre><code>Duration.between ( then , Instant.now() ) \n</code></pre>\n<h1>Details</h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes.</p>\n<p>Use an offset from UTC of zero hours-minutes-seconds when capturing a moment. For that, <code>Instant</code> class.</p>\n<pre><code>Instant then = Instant.now() ;\n…\nInstant now = Instant.now() ;\n</code></pre>\n<p><code>Duration</code> class represents elapsed time on a scale of hours-minutes-seconds.</p>\n<pre><code>Duration d = Duration.between ( then , now ) ;\n</code></pre>\n<p>Notice that no time zones were involved.</p>\n<p>Track your date-time values as <em>java.time</em> objects, not text. Generate text only as needed for logging, debugging, and presentation to the user.</p>\n<hr />\n<p>The <em>java.time</em> classes are built into Android 26+. For earlier Android, the “desugaring” features in the latest tooling makes available most of the <em>java.time</em> functionality.</p>\n"}],"owner":{"account_id":26472396,"reputation":63,"user_id":20112807,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666378398,"creation_date":1666374808,"question_id":74157506,"body_markdown":"my application saves local time using OnStart() method and i am using this code below to convert time to &quot;time ago&quot; but when two persons from different time zones this method does not work it always shows **incorrect** time ago \r\n\r\n    \r\n    private void updateUserStatus(String state)\r\n    {\r\n        String lastSeenTime;\r\n        Calendar calendar = Calendar.getInstance(Locale.ENGLISH);\r\n\r\n        SimpleDateFormat dateFormat  = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n        lastSeenTime = dateFormat.format(calendar.getTime());\r\n        HashMap&lt;String,Object&gt; onlineStatemap = new HashMap&lt;&gt;();\r\n        onlineStatemap.put(&quot;lastSeen&quot;, lastSeenTime);\r\n        onlineStatemap.put(&quot;state&quot;, state);\r\n        if (firebaseUser != null )\r\n        {\r\n            currentUserID = firebaseAuth.getCurrentUser().getUid();\r\n            RootRef.child(&quot;Users&quot;).child(currentUserID).child(&quot;userState&quot;).updateChildren(onlineStatemap);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    private String calculateTime(String lastSeenTT)\r\n    {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n        try {\r\n            long time = sdf.parse(lastSeenTT).getTime();\r\n            long now = System.currentTimeMillis();\r\n            CharSequence ago =\r\n                    DateUtils.getRelativeTimeSpanString(time, now, DateUtils.MINUTE_IN_MILLIS);\r\n            return ago+&quot;&quot;;\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n\r\n     String timeAgo = calculateTime(lastSeenTT);","title":"different Time Zones in android","body":"<p>my application saves local time using OnStart() method and i am using this code below to convert time to &quot;time ago&quot; but when two persons from different time zones this method does not work it always shows <strong>incorrect</strong> time ago</p>\n<pre><code>private void updateUserStatus(String state)\n{\n    String lastSeenTime;\n    Calendar calendar = Calendar.getInstance(Locale.ENGLISH);\n\n    SimpleDateFormat dateFormat  = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\n    lastSeenTime = dateFormat.format(calendar.getTime());\n    HashMap&lt;String,Object&gt; onlineStatemap = new HashMap&lt;&gt;();\n    onlineStatemap.put(&quot;lastSeen&quot;, lastSeenTime);\n    onlineStatemap.put(&quot;state&quot;, state);\n    if (firebaseUser != null )\n    {\n        currentUserID = firebaseAuth.getCurrentUser().getUid();\n        RootRef.child(&quot;Users&quot;).child(currentUserID).child(&quot;userState&quot;).updateChildren(onlineStatemap);\n\n    }\n\n}\n\n\n\nprivate String calculateTime(String lastSeenTT)\n{\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\n    try {\n        long time = sdf.parse(lastSeenTT).getTime();\n        long now = System.currentTimeMillis();\n        CharSequence ago =\n                DateUtils.getRelativeTimeSpanString(time, now, DateUtils.MINUTE_IN_MILLIS);\n        return ago+&quot;&quot;;\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    return &quot;&quot;;\n}\n\n\n String timeAgo = calculateTime(lastSeenTT);\n</code></pre>\n"},{"tags":["java","oop","variables"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1491708528,"post_id":268814,"comment_id":73670710,"body_markdown":"Note: similar things will happen for fields whose type is a primitive type.","body":"Note: similar things will happen for fields whose type is a primitive type."}],"answers":[{"tags":[],"owner":{"account_id":16217,"reputation":204,"user_id":35094,"display_name":"user35094"},"down_vote_count":6,"up_vote_count":9,"is_accepted":false,"score":3,"last_activity_date":1225981012,"creation_date":1225981012,"answer_id":268825,"question_id":268814,"body_markdown":"The compiler can figure out that c will never be set.  The b variable could be set by someone else after the constructor is called, but before doSomething().  Make b private and the compiler may be able to help.","title":"Uninitialized variables and members in Java","body":"<p>The compiler can figure out that c will never be set.  The b variable could be set by someone else after the constructor is called, but before doSomething().  Make b private and the compiler may be able to help.</p>\n"},{"tags":[],"owner":{"account_id":4394,"reputation":47462,"user_id":6568,"display_name":"Dave Costa"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1225981099,"creation_date":1225981099,"answer_id":268834,"question_id":268814,"body_markdown":"The compiler can tell from the code for doSomething() that c is declared there and never initialized.  Because it is local, there is no possibility that it is initialized elsewhere.\r\n\r\nIt can&#39;t tell when or where you are going to call doSomething().  b is a public member.  It is entirely possible that you would initialize it in other code before calling the method.","title":"Uninitialized variables and members in Java","body":"<p>The compiler can tell from the code for doSomething() that c is declared there and never initialized.  Because it is local, there is no possibility that it is initialized elsewhere.</p>\n\n<p>It can't tell when or where you are going to call doSomething().  b is a public member.  It is entirely possible that you would initialize it in other code before calling the method.</p>\n"},{"tags":[],"owner":{"account_id":182530,"reputation":29654,"user_id":417292,"accept_rate":84,"display_name":"jcoder"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1599020694,"creation_date":1225981420,"answer_id":268848,"question_id":268814,"body_markdown":"The language defines it this way.\r\n\r\nInstance variables of object type default to being initialized to null. \r\nLocal variables of object type are not initialized by default and it&#39;s a compile time error to access an undefined variable.\r\n\r\nSee section 4.12.5 for SE7 (same section still as of SE14)\r\nhttp://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5","title":"Uninitialized variables and members in Java","body":"<p>The language defines it this way.</p>\n<p>Instance variables of object type default to being initialized to null.\nLocal variables of object type are not initialized by default and it's a compile time error to access an undefined variable.</p>\n<p>See section 4.12.5 for SE7 (same section still as of SE14)\n<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5</a></p>\n"},{"tags":[],"owner":{"account_id":2047,"reputation":8017,"user_id":2819,"accept_rate":67,"display_name":"Yuval"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1666378155,"creation_date":1225982481,"answer_id":268909,"question_id":268814,"body_markdown":"Here&#39;s the deal. When you call\r\n\r\n    TestClass tc = new TestClass();\r\n\r\nthe `new` command performs four important tasks:\r\n\r\n 1. Allocates memory on the heap for the new object.\r\n 2. Initiates the class fields to their default values (numerics to 0, boolean to `false`, objects to `null`).\r\n 3. Calls the constructor (which may re-initiate the fields, or may not).\r\n 4. Returns a reference to the new object.\r\n\r\nSo your fields &#39;a&#39; and &#39;b&#39; are both initiated to `null`, and &#39;a&#39; is re-initiated in the constructor. This process is not relevant for method calling, so local variable &#39;c&#39; is *never* initialized.\r\n\r\nFor the gravely insomniac, read [this][1].\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/second_edition/html/execution.doc.html#44670","title":"Uninitialized variables and members in Java","body":"<p>Here's the deal. When you call</p>\n<pre><code>TestClass tc = new TestClass();\n</code></pre>\n<p>the <code>new</code> command performs four important tasks:</p>\n<ol>\n<li>Allocates memory on the heap for the new object.</li>\n<li>Initiates the class fields to their default values (numerics to 0, boolean to <code>false</code>, objects to <code>null</code>).</li>\n<li>Calls the constructor (which may re-initiate the fields, or may not).</li>\n<li>Returns a reference to the new object.</li>\n</ol>\n<p>So your fields 'a' and 'b' are both initiated to <code>null</code>, and 'a' is re-initiated in the constructor. This process is not relevant for method calling, so local variable 'c' is <em>never</em> initialized.</p>\n<p>For the gravely insomniac, read <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/execution.doc.html#44670\" rel=\"nofollow noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1225987158,"creation_date":1225987158,"answer_id":269234,"question_id":268814,"body_markdown":"The rules for definite assignment are quite difficult (read chapter 16 of JLS 3rd Ed). It&#39;s not practical to enforce definite assignment on fields. As it stands, it&#39;s even possible to observe final fields before they are initialised.","title":"Uninitialized variables and members in Java","body":"<p>The rules for definite assignment are quite difficult (read chapter 16 of JLS 3rd Ed). It's not practical to enforce definite assignment on fields. As it stands, it's even possible to observe final fields before they are initialised.</p>\n"},{"tags":[],"owner":{"account_id":374470,"reputation":29307,"user_id":724689,"accept_rate":84,"display_name":"kazinix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1334386765,"creation_date":1334386765,"answer_id":10151727,"question_id":268814,"body_markdown":"Member-variables are initialized to null or to their default primitive values, if they are primitives.\r\n\r\nLocal variables are UNDEFINED and are not initialized and you are responsible for setting the initial value. The compiler prevents you from using them.\r\n\r\nTherefore, b is initialized when the class TestClass is instantiated while c is undefined.\r\n\r\nNote: null is different from undefined.\r\n\r\n","title":"Uninitialized variables and members in Java","body":"<p>Member-variables are initialized to null or to their default primitive values, if they are primitives.</p>\n\n<p>Local variables are UNDEFINED and are not initialized and you are responsible for setting the initial value. The compiler prevents you from using them.</p>\n\n<p>Therefore, b is initialized when the class TestClass is instantiated while c is undefined.</p>\n\n<p>Note: null is different from undefined.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491762833,"creation_date":1485458480,"answer_id":41881281,"question_id":268814,"body_markdown":"You&#39;ve actually identified one of the bigger holes in Java&#39;s system of generally attempting to find errors at edit/compile time rather than run time because--as the accepted answer said--it&#39;s difficult to tell if b is initialized or not.\r\n\r\nThere are a few patterns to work around this flaw.  First is &quot;Final by default&quot;.  If your members were final, you would have to fill them in with the constructor--and it would use path-analysis to ensure that every possible path fills in the finals (You could still assign it &quot;Null&quot; which would defeat the purpose but at least you would be forced to recognize that you were doing it intentionally).\r\n\r\nA second approach is strict null checking.  You can turn it on in eclipse settings either by project or in default properties.  I believe it would force you to null-check your b.notify() before you call it.  This can quickly get out of hand so it tends to go with a set of annotations to make things simpler:\r\n\r\nThe annotations might have different names but in concept once you turn on strict null checking and the annotations the types of variables are &quot;nullable&quot; and &quot;NotNull&quot;.  If you try to place a Nullable into a not-null variable you must check it for null first.  Parameters and return types are also annotated so you don&#39;t have to check for null every single time you assign to a not-null variable.\r\n\r\nThere is also a &quot;NotNullByDefault&quot; package level annotation that will make the editor assume that no variable can ever have a null value unless you tag it Nullable.\r\n\r\nThese annotations mostly apply at the editor level--You can turn them on within eclipse and probably other editors--which is why they aren&#39;t necessarily standardized.  (At least last time I check, Java 8 might have some annotations I haven&#39;t found yet)\r\n\r\n","title":"Uninitialized variables and members in Java","body":"<p>You've actually identified one of the bigger holes in Java's system of generally attempting to find errors at edit/compile time rather than run time because--as the accepted answer said--it's difficult to tell if b is initialized or not.</p>\n\n<p>There are a few patterns to work around this flaw.  First is \"Final by default\".  If your members were final, you would have to fill them in with the constructor--and it would use path-analysis to ensure that every possible path fills in the finals (You could still assign it \"Null\" which would defeat the purpose but at least you would be forced to recognize that you were doing it intentionally).</p>\n\n<p>A second approach is strict null checking.  You can turn it on in eclipse settings either by project or in default properties.  I believe it would force you to null-check your b.notify() before you call it.  This can quickly get out of hand so it tends to go with a set of annotations to make things simpler:</p>\n\n<p>The annotations might have different names but in concept once you turn on strict null checking and the annotations the types of variables are \"nullable\" and \"NotNull\".  If you try to place a Nullable into a not-null variable you must check it for null first.  Parameters and return types are also annotated so you don't have to check for null every single time you assign to a not-null variable.</p>\n\n<p>There is also a \"NotNullByDefault\" package level annotation that will make the editor assume that no variable can ever have a null value unless you tag it Nullable.</p>\n\n<p>These annotations mostly apply at the editor level--You can turn them on within eclipse and probably other editors--which is why they aren't necessarily standardized.  (At least last time I check, Java 8 might have some annotations I haven't found yet)</p>\n"}],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27870,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":269234,"answer_count":7,"score":32,"last_activity_date":1666378155,"creation_date":1225980849,"question_id":268814,"body_markdown":"Consider this:\r\n\r\n    public class TestClass {\r\n\r\n\t    private String a;\r\n\t    private String b;\r\n\t\r\n\t    public TestClass()\r\n\t    {\r\n\t\ta = &quot;initialized&quot;;\r\n\t    }\r\n\t\r\n\t    public void doSomething()\r\n\t    {\r\n\t\tString c;\r\n\r\n            a.notify(); // This is fine\r\n\t\tb.notify(); // This is fine - but will end in an exception\r\n\t\tc.notify(); // &quot;Local variable c may not have been initialised&quot;\r\n\t    }\r\n\t\r\n    }\r\n\r\nI don&#39;t get it. &quot;b&quot; is never initialized but will give the same run-time error as &quot;c&quot;, which is a compile-time error. Why the difference between local variables and members?\r\n\r\n**Edit**: making the members private was my initial intention, and the question still stands...","title":"Uninitialized variables and members in Java","body":"<p>Consider this:</p>\n\n<pre><code>public class TestClass {\n\n    private String a;\n    private String b;\n\n    public TestClass()\n    {\n    a = \"initialized\";\n    }\n\n    public void doSomething()\n    {\n    String c;\n\n        a.notify(); // This is fine\n    b.notify(); // This is fine - but will end in an exception\n    c.notify(); // \"Local variable c may not have been initialised\"\n    }\n\n}\n</code></pre>\n\n<p>I don't get it. \"b\" is never initialized but will give the same run-time error as \"c\", which is a compile-time error. Why the difference between local variables and members?</p>\n\n<p><strong>Edit</strong>: making the members private was my initial intention, and the question still stands...</p>\n"},{"tags":["java","sql","postgresql"],"answers":[{"tags":[],"owner":{"account_id":10969163,"reputation":6667,"user_id":8060017,"display_name":"Edouard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666378096,"creation_date":1666377269,"answer_id":74157897,"question_id":74156263,"body_markdown":"try this :\r\n\r\n    ...\r\n    WHERE COALESCE((SELECT vote_count &lt; ? FROM guilds_polls_user_vote_count WHERE user_id = ? AND poll_id = ?), TRUE)\r\n\r\nsee test result in [dbfiddle][1]\r\n\r\n\r\n  [1]: https://dbfiddle.uk/DuDMdZdW","title":"Is there a way to avoid double select to check if not exists or value superior to n in an INSERT INTO","body":"<p>try this :</p>\n<pre><code>...\nWHERE COALESCE((SELECT vote_count &lt; ? FROM guilds_polls_user_vote_count WHERE user_id = ? AND poll_id = ?), TRUE)\n</code></pre>\n<p>see test result in <a href=\"https://dbfiddle.uk/DuDMdZdW\" rel=\"nofollow noreferrer\">dbfiddle</a></p>\n"}],"owner":{"account_id":25808699,"reputation":45,"user_id":19549839,"display_name":"Flavio Moreno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666378096,"creation_date":1666367832,"question_id":74156263,"body_markdown":"I would like to know if it&#39;s possible to avoid double select in this query to check if not exists at the same time that it checks if superior to X\r\n\r\n```java\r\nPreparedStatement preparedStatement = connection.prepareStatement(&quot;&quot;&quot;\r\n                    INSERT INTO guilds_polls_user_choices (guild_id, poll_id, choice_id, user_id)\r\n                    SELECT ?, ?, ?, ?\r\n                    WHERE (SELECT vote_count FROM guilds_polls_user_vote_count WHERE user_id = ? AND poll_id = ?) &lt; ? OR\r\n                          NOT EXISTS(SELECT 1 FROM guilds_polls_user_vote_count WHERE user_id = ? AND poll_id = ?)\r\n                    ON CONFLICT DO NOTHING;\r\n                    &quot;&quot;&quot;);\r\n```","title":"Is there a way to avoid double select to check if not exists or value superior to n in an INSERT INTO","body":"<p>I would like to know if it's possible to avoid double select in this query to check if not exists at the same time that it checks if superior to X</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement preparedStatement = connection.prepareStatement(&quot;&quot;&quot;\n                    INSERT INTO guilds_polls_user_choices (guild_id, poll_id, choice_id, user_id)\n                    SELECT ?, ?, ?, ?\n                    WHERE (SELECT vote_count FROM guilds_polls_user_vote_count WHERE user_id = ? AND poll_id = ?) &lt; ? OR\n                          NOT EXISTS(SELECT 1 FROM guilds_polls_user_vote_count WHERE user_id = ? AND poll_id = ?)\n                    ON CONFLICT DO NOTHING;\n                    &quot;&quot;&quot;);\n</code></pre>\n"},{"tags":["java","reflection","instantiationexception"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":3,"creation_date":1373016130,"post_id":17485297,"comment_id":25412424,"body_markdown":"Uhm, your inner class is not static... Is this on purpose? Coming from a C# background maybe? ;)","body":"Uhm, your inner class is not static... Is this on purpose? Coming from a C# background maybe? ;)"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":1,"creation_date":1373018600,"post_id":17485297,"comment_id":25413692,"body_markdown":"Thanks for suggesting &quot;static&quot; idea! In fact, using a static nested class instead of an inner class make my life easier.","body":"Thanks for suggesting &quot;static&quot; idea! In fact, using a static nested class instead of an inner class make my life easier."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1373018899,"post_id":17485297,"comment_id":25413850,"body_markdown":"The thing is, if an inner class is not declared static, instances of this class depend on the existence of an instance of the outer class; this is different from C# where all inner classes are &quot;static&quot; by default, and can be instantiated without a parent instance.","body":"The thing is, if an inner class is not declared static, instances of this class depend on the existence of an instance of the outer class; this is different from C# where all inner classes are &quot;static&quot; by default, and can be instantiated without a parent instance."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":131,"is_accepted":true,"score":131,"last_activity_date":1666377440,"creation_date":1373015889,"answer_id":17485341,"question_id":17485297,"body_markdown":"There&#39;s an extra &quot;hidden&quot; parameter, which is the instance of the enclosing class. You&#39;ll need to get at the constructor using [`Class.getDeclaredConstructor`][1] and then supply an instance of the enclosing class as an argument. For example:\r\n\r\n    // All exception handling omitted!\r\n    Class&lt;?&gt; enclosingClass = Class.forName(&quot;com.mycompany.Mother&quot;);\r\n    Object enclosingInstance = enclosingClass.newInstance();\r\n\r\n    Class&lt;?&gt; innerClass = Class.forName(&quot;com.mycompany.Mother$Child&quot;);\r\n    Constructor&lt;?&gt; ctor = innerClass.getDeclaredConstructor(enclosingClass);\r\n\r\n    Object innerInstance = ctor.newInstance(enclosingInstance);\r\n\r\nAlternatively, if the nested class doesn&#39;t actually need to refer to an enclosing instance, make it a nested *static* class instead:\r\n\r\n    public class Mother {\r\n         public static class Child {\r\n              public void doStuff() {\r\n                  // ...\r\n              }\r\n         }\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredConstructor%28java.lang.Class...%29","title":"How to instantiate an inner class with reflection in Java?","body":"<p>There's an extra &quot;hidden&quot; parameter, which is the instance of the enclosing class. You'll need to get at the constructor using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredConstructor%28java.lang.Class...%29\" rel=\"nofollow noreferrer\"><code>Class.getDeclaredConstructor</code></a> and then supply an instance of the enclosing class as an argument. For example:</p>\n<pre><code>// All exception handling omitted!\nClass&lt;?&gt; enclosingClass = Class.forName(&quot;com.mycompany.Mother&quot;);\nObject enclosingInstance = enclosingClass.newInstance();\n\nClass&lt;?&gt; innerClass = Class.forName(&quot;com.mycompany.Mother$Child&quot;);\nConstructor&lt;?&gt; ctor = innerClass.getDeclaredConstructor(enclosingClass);\n\nObject innerInstance = ctor.newInstance(enclosingInstance);\n</code></pre>\n<p>Alternatively, if the nested class doesn't actually need to refer to an enclosing instance, make it a nested <em>static</em> class instead:</p>\n<pre><code>public class Mother {\n     public static class Child {\n          public void doStuff() {\n              // ...\n          }\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7914493,"reputation":1,"user_id":5977414,"display_name":"Gabriel Fernandez"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1497680973,"creation_date":1497680973,"answer_id":44601535,"question_id":17485297,"body_markdown":"  This code create inner class instance.\r\n\r\n      Class childClass = Child.class;\r\n      String motherClassName = childClass.getCanonicalName().subSequence(0, childClass.getCanonicalName().length() - childClass.getSimpleName().length() - 1).toString();\r\n      Class motherClassType = Class.forName(motherClassName) ;\r\n      Mother mother = motherClassType.newInstance()\r\n      Child child = childClass.getConstructor(new Class[]{motherClassType}).newInstance(new Object[]{mother});","title":"How to instantiate an inner class with reflection in Java?","body":"<p>This code create inner class instance.</p>\n\n<pre><code>  Class childClass = Child.class;\n  String motherClassName = childClass.getCanonicalName().subSequence(0, childClass.getCanonicalName().length() - childClass.getSimpleName().length() - 1).toString();\n  Class motherClassType = Class.forName(motherClassName) ;\n  Mother mother = motherClassType.newInstance()\n  Child child = childClass.getConstructor(new Class[]{motherClassType}).newInstance(new Object[]{mother});\n</code></pre>\n"}],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41864,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":17485341,"answer_count":2,"score":70,"last_activity_date":1666377440,"creation_date":1373015756,"question_id":17485297,"body_markdown":"I try to instantiate the inner class defined in the following Java code:\r\n\r\n     public class Mother {\r\n          public class Child {\r\n              public void doStuff() {\r\n                  // ...\r\n              }\r\n          }\r\n     }\r\n\r\nWhen I try to get an instance of Child like this\r\n\r\n     Class&lt;?&gt; clazz= Class.forName(&quot;com.mycompany.Mother$Child&quot;);\r\n     Child c = clazz.newInstance();\r\n\r\nI get this exception:\r\n\r\n     java.lang.InstantiationException: com.mycompany.Mother$Child\r\n        at java.lang.Class.newInstance0(Class.java:340)\r\n        at java.lang.Class.newInstance(Class.java:308)\r\n        ...\r\n\r\nWhat am I missing ?","title":"How to instantiate an inner class with reflection in Java?","body":"<p>I try to instantiate the inner class defined in the following Java code:</p>\n\n<pre><code> public class Mother {\n      public class Child {\n          public void doStuff() {\n              // ...\n          }\n      }\n }\n</code></pre>\n\n<p>When I try to get an instance of Child like this</p>\n\n<pre><code> Class&lt;?&gt; clazz= Class.forName(\"com.mycompany.Mother$Child\");\n Child c = clazz.newInstance();\n</code></pre>\n\n<p>I get this exception:</p>\n\n<pre><code> java.lang.InstantiationException: com.mycompany.Mother$Child\n    at java.lang.Class.newInstance0(Class.java:340)\n    at java.lang.Class.newInstance(Class.java:308)\n    ...\n</code></pre>\n\n<p>What am I missing ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9051,"page":941,"page_size":100}
