{"items":[{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":29165101,"reputation":9,"user_id":22342873,"display_name":"Indunil Prasanna"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692783897,"creation_date":1692783897,"answer_id":76960157,"question_id":76959808,"body_markdown":"The error message you provided indicates that you&#39;re encountering a duplicate key violation in the &quot;employee&quot; table&#39;s primary key field. This means that you&#39;re trying to insert a record with a value for the primary key column that already exists in the table.\r\n\r\nThe error message specifically mentions &quot;Duplicate entry &#39;1&#39; for key &#39;employee.PRIMARY&#39;&quot;, which indicates that you&#39;re trying to insert a record with a value of &#39;1&#39; in the primary key column, but there is already a record with that value in the table.\r\n\r\nTo resolve this issue:\r\n\r\n1. **Check Data**: Review the data you&#39;re inserting and ensure that you&#39;re not inserting duplicate values for the primary key column.\r\n\r\n2. **Primary Key Sequence**: If the primary key is generated by a sequence or an auto-increment feature, make sure that you&#39;re not manually specifying the primary key value while inserting the record.\r\n\r\n3. **Database State**: Check the current state of the &quot;employee&quot; table to verify if there&#39;s already a record with the primary key value you&#39;re trying to insert.\r\n\r\n4. **Unique Constraint**: Ensure that the primary key column has a unique constraint defined and that there are no data integrity issues in the table.\r\n\r\n5. **Data Insertion Logic**: Double-check your code logic for inserting data into the &quot;employee&quot; table to make sure there are no unintended duplicate insertions.\r\n\r\nBy addressing these points, you should be able to resolve the duplicate key violation issue and successfully insert records into the &quot;employee&quot; table without encountering the constraint violation.","title":"Duplicate entry for primary key on abstract class","body":"<p>The error message you provided indicates that you're encountering a duplicate key violation in the &quot;employee&quot; table's primary key field. This means that you're trying to insert a record with a value for the primary key column that already exists in the table.</p>\n<p>The error message specifically mentions &quot;Duplicate entry '1' for key 'employee.PRIMARY'&quot;, which indicates that you're trying to insert a record with a value of '1' in the primary key column, but there is already a record with that value in the table.</p>\n<p>To resolve this issue:</p>\n<ol>\n<li><p><strong>Check Data</strong>: Review the data you're inserting and ensure that you're not inserting duplicate values for the primary key column.</p>\n</li>\n<li><p><strong>Primary Key Sequence</strong>: If the primary key is generated by a sequence or an auto-increment feature, make sure that you're not manually specifying the primary key value while inserting the record.</p>\n</li>\n<li><p><strong>Database State</strong>: Check the current state of the &quot;employee&quot; table to verify if there's already a record with the primary key value you're trying to insert.</p>\n</li>\n<li><p><strong>Unique Constraint</strong>: Ensure that the primary key column has a unique constraint defined and that there are no data integrity issues in the table.</p>\n</li>\n<li><p><strong>Data Insertion Logic</strong>: Double-check your code logic for inserting data into the &quot;employee&quot; table to make sure there are no unintended duplicate insertions.</p>\n</li>\n</ol>\n<p>By addressing these points, you should be able to resolve the duplicate key violation issue and successfully insert records into the &quot;employee&quot; table without encountering the constraint violation.</p>\n"},{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692784247,"creation_date":1692784247,"answer_id":76960203,"question_id":76959808,"body_markdown":"I think if you add \r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long personId;\r\nit will be ok","title":"Duplicate entry for primary key on abstract class","body":"<p>I think if you add</p>\n<pre><code>@Id\n@GeneratedValue\nprivate Long personId;\n</code></pre>\n<p>it will be ok</p>\n"},{"tags":[],"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692853513,"creation_date":1692853513,"answer_id":76966336,"question_id":76959808,"body_markdown":"The issue is to do with key generation and related to `@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)` being used with `IDENTITY` generation strategy for Id from Hibernate.\r\n\r\nThe `SEQUENCE` generation strategy is preferred and better for hibernate since it tracks the Id generation rather than the database being responsible for it.","title":"Duplicate entry for primary key on abstract class","body":"<p>The issue is to do with key generation and related to <code>@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)</code> being used with <code>IDENTITY</code> generation strategy for Id from Hibernate.</p>\n<p>The <code>SEQUENCE</code> generation strategy is preferred and better for hibernate since it tracks the Id generation rather than the database being responsible for it.</p>\n"}],"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692853513,"creation_date":1692781037,"question_id":76959808,"body_markdown":"I have a class Employee which extends Person. When I try to save a Employee I am getting an error about duplicate id (Unit Test).\r\n\r\nEnvironment:\r\nHibernate 6.2\r\nSpring Boot 3.2\r\nJava 18\r\n\r\nMy classes:\r\n\r\n**Person**\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Data\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    @Table(name=&quot;PERSON&quot;)\r\n    public abstract class Person {\r\n\r\n        @Id\r\n        @GeneratedValue\r\n        private Long personId;\r\n\r\n        @JsonBackReference\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = true)\r\n        private Check check;\r\n    }\r\n\r\nAnd \r\n\r\n**Employee**\r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class Employee extends Person {\r\n\r\n    @Column(unique = true)\r\n    private String empCode;\r\n\r\n    @JoinColumn(name =&quot;dateA&quot;)\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    private LocalDate dateA;\r\n\r\n    @Lob\r\n    private String comment;\r\n\r\n    public Pit(String empCode, LocalDate dateA, String comment) {\r\n        this.empCode = empCode;\r\n        this.dateA = dateA;\r\n        this.comment = comment;\r\n       }\r\n    }\r\n\r\nI try to instantiate a instance of Employee\r\n\r\n`Employee emp = employeeRepository.save(new Employee(&quot;XRY827&quot;, LocalDate.of(2023, 03, 28), &quot;comment&quot;));`\r\n\r\nBut I get :\r\n\r\n    could not execute statement [Duplicate entry &#39;1&#39; for key &#39;employee.PRIMARY&#39;] [insert into employee (check_id,code,comment,date_a,person_id) values (?,?,?,?,?)]; SQL [insert into employee (check_id,code,comment,date_inserted,person_id) values (?,?,?,?,?)]; constraint [employee.PRIMARY]\r\n    org.springframework.dao.DataIntegrityViolationException: could not execute statement [Duplicate entry &#39;1&#39; for key &#39;employee.PRIMARY&#39;] [insert into employee(check_id,code,comment,date_inserted,person_id) values (?,?,?,?,?)]; SQL [insert into employee (check_id,code,comment,date_inserted,person_id) values (?,?,?,?,?)]; constraint [employee.PRIMARY]\r\n\r\nFrom the SQL in the error above it looks like hibernate is trying to insert a `person_id` and a `check_id` - even though the `check_id` is optional and the `person_id` is generated?\r\n\r\nHow can I create a new Employee without error?\r\n\r\n","title":"Duplicate entry for primary key on abstract class","body":"<p>I have a class Employee which extends Person. When I try to save a Employee I am getting an error about duplicate id (Unit Test).</p>\n<p>Environment:\nHibernate 6.2\nSpring Boot 3.2\nJava 18</p>\n<p>My classes:</p>\n<p><strong>Person</strong></p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Data\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\n@Table(name=&quot;PERSON&quot;)\npublic abstract class Person {\n\n    @Id\n    @GeneratedValue\n    private Long personId;\n\n    @JsonBackReference\n    @ManyToOne(fetch = FetchType.LAZY, optional = true)\n    private Check check;\n}\n</code></pre>\n<p>And</p>\n<p><strong>Employee</strong></p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\npublic class Employee extends Person {\n\n@Column(unique = true)\nprivate String empCode;\n\n@JoinColumn(name =&quot;dateA&quot;)\n@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\nprivate LocalDate dateA;\n\n@Lob\nprivate String comment;\n\npublic Pit(String empCode, LocalDate dateA, String comment) {\n    this.empCode = empCode;\n    this.dateA = dateA;\n    this.comment = comment;\n   }\n}\n</code></pre>\n<p>I try to instantiate a instance of Employee</p>\n<p><code>Employee emp = employeeRepository.save(new Employee(&quot;XRY827&quot;, LocalDate.of(2023, 03, 28), &quot;comment&quot;));</code></p>\n<p>But I get :</p>\n<pre><code>could not execute statement [Duplicate entry '1' for key 'employee.PRIMARY'] [insert into employee (check_id,code,comment,date_a,person_id) values (?,?,?,?,?)]; SQL [insert into employee (check_id,code,comment,date_inserted,person_id) values (?,?,?,?,?)]; constraint [employee.PRIMARY]\norg.springframework.dao.DataIntegrityViolationException: could not execute statement [Duplicate entry '1' for key 'employee.PRIMARY'] [insert into employee(check_id,code,comment,date_inserted,person_id) values (?,?,?,?,?)]; SQL [insert into employee (check_id,code,comment,date_inserted,person_id) values (?,?,?,?,?)]; constraint [employee.PRIMARY]\n</code></pre>\n<p>From the SQL in the error above it looks like hibernate is trying to insert a <code>person_id</code> and a <code>check_id</code> - even though the <code>check_id</code> is optional and the <code>person_id</code> is generated?</p>\n<p>How can I create a new Employee without error?</p>\n"},{"tags":["java","mysql","jpa","orm","eclipselink"],"comments":[{"owner":{"account_id":275393,"reputation":4657,"user_id":568254,"accept_rate":60,"display_name":"Daniel B. Chapman"},"score":0,"creation_date":1346615905,"post_id":12002260,"comment_id":16403675,"body_markdown":"Is there a reason you can&#39;t just do a standard import via SQL from Old -&gt; New? Once you have completed that you simply need to adjust the Sequence so that you don&#39;t overwrite the values. After-all, its an ORM and it is reading the database.","body":"Is there a reason you can&#39;t just do a standard import via SQL from Old -&gt; New? Once you have completed that you simply need to adjust the Sequence so that you don&#39;t overwrite the values. After-all, its an ORM and it is reading the database."},{"owner":{"account_id":216313,"reputation":12017,"user_id":471478,"accept_rate":86,"display_name":"scravy"},"score":0,"creation_date":1346622535,"post_id":12002260,"comment_id":16404938,"body_markdown":"The old and the new have completely different schemas and the application is used to transform data from the one model into the other (things like one field for first and last name in the old, two fields in the new, etc.). Of course it would be an alternative option to dump the old database, create a new data script and import these; however, the app is almost complete. Besides, I&#39;d really like to know how to achieve this in general.","body":"The old and the new have completely different schemas and the application is used to transform data from the one model into the other (things like one field for first and last name in the old, two fields in the new, etc.). Of course it would be an alternative option to dump the old database, create a new data script and import these; however, the app is almost complete. Besides, I&#39;d really like to know how to achieve this in general."},{"owner":{"account_id":275393,"reputation":4657,"user_id":568254,"accept_rate":60,"display_name":"Daniel B. Chapman"},"score":0,"creation_date":1346626402,"post_id":12002260,"comment_id":16405611,"body_markdown":"Since you schemas are entirely different, why is there a problem just doing a &quot;clean&quot; import. Aka: build new entities and relationships and persist them? Where I&#39;m leading you is that I think you&#39;re barking up a difficult tree. You can, however, remove the sequence, persist everything manually, then start the sequence.","body":"Since you schemas are entirely different, why is there a problem just doing a &quot;clean&quot; import. Aka: build new entities and relationships and persist them? Where I&#39;m leading you is that I think you&#39;re barking up a difficult tree. You can, however, remove the sequence, persist everything manually, then start the sequence."},{"owner":{"account_id":4131691,"reputation":554,"user_id":3389438,"display_name":"Akzidenzgrotesk"},"score":0,"creation_date":1486295258,"post_id":12002260,"comment_id":71275504,"body_markdown":"`@GeneratedValue(strategy = GenerationType.AUTO)` did the trick in my case. Migrating the old Data first, the existing keys are kept.","body":"<code>@GeneratedValue(strategy = GenerationType.AUTO)</code> did the trick in my case. Migrating the old Data first, the existing keys are kept."}],"answers":[{"tags":[],"owner":{"account_id":1334876,"reputation":3668,"user_id":1277864,"accept_rate":70,"display_name":"Dangling Piyush"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1345192609,"creation_date":1345192609,"answer_id":12002478,"question_id":12002260,"body_markdown":"**Look for Custom Id Generator &lt;br&gt;**\r\n\r\nhttp://blog.anorakgirl.co.uk/2009/01/custom-hibernate-sequence-generator-for-id-field/\r\n\r\n**maybe this could help.**","title":"Manually specify the value of a primary key in JPA @GeneratedValue column","body":"<p><strong>Look for Custom Id Generator <br></strong></p>\n\n<p><a href=\"http://blog.anorakgirl.co.uk/2009/01/custom-hibernate-sequence-generator-for-id-field/\" rel=\"nofollow\">http://blog.anorakgirl.co.uk/2009/01/custom-hibernate-sequence-generator-for-id-field/</a></p>\n\n<p><strong>maybe this could help.</strong></p>\n"},{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1346767453,"creation_date":1346767453,"answer_id":12265188,"question_id":12002260,"body_markdown":"If you use TABLE sequencing, then EclipseLink will allow you to override the value (or SEQUENCE if your database supports this, MySQL does not).\r\n\r\nFor IDENTITY, I&#39;m not even sure that MySQL will allow you to supply your own Id, you might want to verify this.  In general I would never recommend using IDENTITY as it does not support preallocation.\r\n\r\nThere are a few issues with allowing IDENTITY to provide the id or not.  One is that two different insert SQL will need to be generated depending on the id value, as for IDENTITY the id cannot be in the insert at all.  You may wish to log a bug to have IDENTITY support user provided ids.\r\n\r\nYou should still be able to get it working with your own Sequence subclass, or possibly MySQLPlatform subclass.  You would set your MySQLPlatform subclass using the &quot;eclipselink.target-database&quot; persistence unit property.","title":"Manually specify the value of a primary key in JPA @GeneratedValue column","body":"<p>If you use TABLE sequencing, then EclipseLink will allow you to override the value (or SEQUENCE if your database supports this, MySQL does not).</p>\n\n<p>For IDENTITY, I'm not even sure that MySQL will allow you to supply your own Id, you might want to verify this.  In general I would never recommend using IDENTITY as it does not support preallocation.</p>\n\n<p>There are a few issues with allowing IDENTITY to provide the id or not.  One is that two different insert SQL will need to be generated depending on the id value, as for IDENTITY the id cannot be in the insert at all.  You may wish to log a bug to have IDENTITY support user provided ids.</p>\n\n<p>You should still be able to get it working with your own Sequence subclass, or possibly MySQLPlatform subclass.  You would set your MySQLPlatform subclass using the \"eclipselink.target-database\" persistence unit property.</p>\n"},{"tags":[],"owner":{"account_id":1014607,"reputation":4573,"user_id":1026453,"accept_rate":83,"display_name":"DuncanKinnear"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1346900745,"creation_date":1346900745,"answer_id":12292429,"question_id":12002260,"body_markdown":"I might be missing something obvious, but why not just define another Entity with the same `@Table(name=&quot;.....&quot;)` annotation, with the same fields, but make the id not generated? Then you can use that Entity for the code that copies data from the old DB to the new, and the one with the generated Id can be used for normal creates that require id generation.\r\n\r\nI can&#39;t tell you if it works with EclipseLink, but we&#39;re using Hibernate here and it doesn&#39;t seem to mind it.","title":"Manually specify the value of a primary key in JPA @GeneratedValue column","body":"<p>I might be missing something obvious, but why not just define another Entity with the same <code>@Table(name=\".....\")</code> annotation, with the same fields, but make the id not generated? Then you can use that Entity for the code that copies data from the old DB to the new, and the one with the generated Id can be used for normal creates that require id generation.</p>\n\n<p>I can't tell you if it works with EclipseLink, but we're using Hibernate here and it doesn't seem to mind it.</p>\n"},{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1486635842,"creation_date":1346961685,"answer_id":12307512,"question_id":12002260,"body_markdown":"Database-centric solution to your problem:\r\n\r\n 1. Create an auxiliary, nullable column in your table. It will hold your manually assigned ids:\r\n\r\n        CREATE TABLE `test_table`\r\n        (\r\n          `id` bigint(20) NOT NULL AUTO_INCREMENT,\r\n          `manual_id` bigint(20) NULL,\r\n          `some_other_field` varchar(200) NOT NULL,\r\n          PRIMARY KEY(id)\r\n        );\r\n\r\n 2. Map this column to a normal field in your Entity:\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name=&quot;manual_id&quot;)\r\n        private Integer manualId;\r\n \r\n 3. Create a trigger that sets the table id to the manual assigned id if it is not null:\r\n\r\n        DELIMITER //\r\n        CREATE TRIGGER `test_table_bi` BEFORE INSERT ON `test_table`\r\n          FOR EACH ROW \r\n          BEGIN\r\n            IF NEW.`manual_id` IS NOT NULL THEN \r\n        \t  SET NEW.`id` = NEW.`manual_id`;\r\n            END IF;\r\n        END;//\r\n        DELIMITER;    \r\n\r\n 4. Always use the `manualId` when you need to assign a custom id. The trigger will do the magic for you:\r\n    \r\n        testEntiy.setManualId(300);\r\n        entityManager.persist(testEntity);\r\n\r\n 5. After the database import phase, simple remove the trigger, the auxiliary column and it&#39;s mapping.\r\n\r\n        DROP TRIGGER `test_table_bi`;\r\n        ALTER TABLE `test_table` DROP COLUMN `manual_id`;\r\n\r\n\r\n----------\r\n\r\n**Warning**\r\n\r\nIf you manually specify an id greater than the current `AUTO_INCREMENT` value, the next generated `id` will jump to the value of the manually assigned id plus 1, e.g.: \r\n\r\n    INSERT INTO `test_table` (manual_id, some_other_field) VALUES (50, &#39;Something&#39;);\r\n    INSERT INTO `test_table` (manual_id, some_other_field) VALUES (NULL, &#39;Something else&#39;);\r\n    INSERT INTO `test_table` (manual_id, some_other_field) VALUES (90, &#39;Something 2&#39;);\r\n    INSERT INTO `test_table` (manual_id, some_other_field) VALUES (NULL, &#39;Something else 2&#39;);\r\n    INSERT INTO `test_table` (manual_id, some_other_field) VALUES (40, &#39;Something 3&#39;);\r\n    INSERT INTO `test_table` (manual_id, some_other_field) VALUES (NULL, &#39;Something else 3&#39;);\r\n\r\nWill wield the results:\r\n\r\n    +----+-----------+------------------+\r\n    | id | manual_id | some_other_field |\r\n    +----+-----------+------------------+\r\n    | 50 |        50 | Something        |\r\n    | 51 |      NULL | Something else   |\r\n    | 90 |        90 | Something 2      |\r\n    | 91 |      NULL | Something else 2 |\r\n    | 40 |        40 | Something 3      |\r\n    | 92 |      NULL | Something else 3 |\r\n    +----+-----------+------------------+\r\n\r\nTo avoid problems it is highly recommended to set the `AUTO_INCREMENT` column to start with a number greater than all of the existing ids in your previous database, e.g.: \r\n\r\n    ALTER TABLE `test_table` AUTO_INCREMENT = 100000;\r\n ","title":"Manually specify the value of a primary key in JPA @GeneratedValue column","body":"<p>Database-centric solution to your problem:</p>\n\n<ol>\n<li><p>Create an auxiliary, nullable column in your table. It will hold your manually assigned ids:</p>\n\n<pre><code>CREATE TABLE `test_table`\n(\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  `manual_id` bigint(20) NULL,\n  `some_other_field` varchar(200) NOT NULL,\n  PRIMARY KEY(id)\n);\n</code></pre></li>\n<li><p>Map this column to a normal field in your Entity:</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n@Column(name=\"manual_id\")\nprivate Integer manualId;\n</code></pre></li>\n<li><p>Create a trigger that sets the table id to the manual assigned id if it is not null:</p>\n\n<pre><code>DELIMITER //\nCREATE TRIGGER `test_table_bi` BEFORE INSERT ON `test_table`\n  FOR EACH ROW \n  BEGIN\n    IF NEW.`manual_id` IS NOT NULL THEN \n      SET NEW.`id` = NEW.`manual_id`;\n    END IF;\nEND;//\nDELIMITER;    \n</code></pre></li>\n<li><p>Always use the <code>manualId</code> when you need to assign a custom id. The trigger will do the magic for you:</p>\n\n<pre><code>testEntiy.setManualId(300);\nentityManager.persist(testEntity);\n</code></pre></li>\n<li><p>After the database import phase, simple remove the trigger, the auxiliary column and it's mapping.</p>\n\n<pre><code>DROP TRIGGER `test_table_bi`;\nALTER TABLE `test_table` DROP COLUMN `manual_id`;\n</code></pre></li>\n</ol>\n\n<hr>\n\n<p><strong>Warning</strong></p>\n\n<p>If you manually specify an id greater than the current <code>AUTO_INCREMENT</code> value, the next generated <code>id</code> will jump to the value of the manually assigned id plus 1, e.g.: </p>\n\n<pre><code>INSERT INTO `test_table` (manual_id, some_other_field) VALUES (50, 'Something');\nINSERT INTO `test_table` (manual_id, some_other_field) VALUES (NULL, 'Something else');\nINSERT INTO `test_table` (manual_id, some_other_field) VALUES (90, 'Something 2');\nINSERT INTO `test_table` (manual_id, some_other_field) VALUES (NULL, 'Something else 2');\nINSERT INTO `test_table` (manual_id, some_other_field) VALUES (40, 'Something 3');\nINSERT INTO `test_table` (manual_id, some_other_field) VALUES (NULL, 'Something else 3');\n</code></pre>\n\n<p>Will wield the results:</p>\n\n<pre><code>+----+-----------+------------------+\n| id | manual_id | some_other_field |\n+----+-----------+------------------+\n| 50 |        50 | Something        |\n| 51 |      NULL | Something else   |\n| 90 |        90 | Something 2      |\n| 91 |      NULL | Something else 2 |\n| 40 |        40 | Something 3      |\n| 92 |      NULL | Something else 3 |\n+----+-----------+------------------+\n</code></pre>\n\n<p>To avoid problems it is highly recommended to set the <code>AUTO_INCREMENT</code> column to start with a number greater than all of the existing ids in your previous database, e.g.: </p>\n\n<pre><code>ALTER TABLE `test_table` AUTO_INCREMENT = 100000;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1738665,"reputation":189,"user_id":1590666,"display_name":"poison"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1347117274,"creation_date":1347024327,"answer_id":12319026,"question_id":12002260,"body_markdown":"This works with eclipselink. It will create a seperate table for the sequence, but that shouldn&#39;t pose a problem.\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    @Column(name=&quot;id&quot;, insertable=true, updatable=true, unique=true, nullable=false)\r\n    private Long id;\r\n\r\nGenerationType.AUTO will choose the ideal generation strategy. Since the field is specified as  insertable and updateable, a TABLE generation strategy will be used. This means eclipselink will generate another table holding the current sequence value and generate the sequence itself instead of delegating it to the database. Since the column is declared insertable, if id is null when persisting, eclipselink will generate the id. Otherwise the existing id will be used.","title":"Manually specify the value of a primary key in JPA @GeneratedValue column","body":"<p>This works with eclipselink. It will create a seperate table for the sequence, but that shouldn't pose a problem.</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\n@Column(name=\"id\", insertable=true, updatable=true, unique=true, nullable=false)\nprivate Long id;\n</code></pre>\n\n<p>GenerationType.AUTO will choose the ideal generation strategy. Since the field is specified as  insertable and updateable, a TABLE generation strategy will be used. This means eclipselink will generate another table holding the current sequence value and generate the sequence itself instead of delegating it to the database. Since the column is declared insertable, if id is null when persisting, eclipselink will generate the id. Otherwise the existing id will be used.</p>\n"},{"tags":[],"owner":{"account_id":1512641,"reputation":305,"user_id":1414351,"display_name":"szarza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371136000,"creation_date":1371136000,"answer_id":17090561,"question_id":12002260,"body_markdown":"Using **GenerationType.SEQUENCE** with PostgreSQL and EclipseLink worked for me.\r\n\r\n1) Change\r\n \r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY) \r\n\r\n   by \r\n \r\n\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;step_id_seq&quot;)\r\n    @SequenceGenerator(name=&quot;step_id_seq&quot;, sequenceName=&quot;step_id_seq&quot;)\r\n\r\nNow, you can call sequence using NativeQuery:\r\n\r\n    return ((Vector&lt;Integer&gt;) em.createNativeQuery(&quot;select nextval(&#39;step_id_seq&#39;)::int&quot;).getSingleResult()).get(0);\r\n\r\nand set the returned Id to your Entity before call EntityManager.persist() method.\r\n\r\nHope it&#39;s not too late!","title":"Manually specify the value of a primary key in JPA @GeneratedValue column","body":"<p>Using <strong>GenerationType.SEQUENCE</strong> with PostgreSQL and EclipseLink worked for me.</p>\n\n<p>1) Change</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY) \n</code></pre>\n\n<p>by </p>\n\n<pre><code>@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=\"step_id_seq\")\n@SequenceGenerator(name=\"step_id_seq\", sequenceName=\"step_id_seq\")\n</code></pre>\n\n<p>Now, you can call sequence using NativeQuery:</p>\n\n<pre><code>return ((Vector&lt;Integer&gt;) em.createNativeQuery(\"select nextval('step_id_seq')::int\").getSingleResult()).get(0);\n</code></pre>\n\n<p>and set the returned Id to your Entity before call EntityManager.persist() method.</p>\n\n<p>Hope it's not too late!</p>\n"},{"tags":[],"owner":{"account_id":11070566,"reputation":685,"user_id":8128825,"display_name":"Barrrettt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645698108,"creation_date":1645698108,"answer_id":71250440,"question_id":12002260,"body_markdown":"My way (MySql) is deactivate GeneratedValue:\r\n\r\n    @Id\r\n    //@GeneratedValue\r\n    @Column(unique = true, nullable = false, columnDefinition =&quot;BINARY(16)&quot;)\r\n    private UUID id;\r\n\r\nAnd add in Entity:\r\n\r\n    @PrePersist\r\n    protected void onCreation() {\r\n        if (id == null) setId(UUID.randomUUID());\r\n    }\r\n\r\nNow in my code I can do (on service for example):\r\n    \r\n    String clientID = env.getParam(&quot;id&quot;);\r\n    Entity entity = entityRepository.findFirstById(UUID.fromString(clientID));\r\n    //is new?\r\n    if (entity==null){\r\n      entity = new Entity();\r\n      entity.setId(UUID.fromString(clientID));//set cumstom ID here\r\n    }\r\n\r\n    Entity entityNew = entityRepository.save(entity); //insert\r\n    if (entityNew.getId().equals(entity.getId()) ){\r\n      Log.i(&quot;OK!&quot;)\r\n    }\r\n\r\n&#128076;\r\n","title":"Manually specify the value of a primary key in JPA @GeneratedValue column","body":"<p>My way (MySql) is deactivate GeneratedValue:</p>\n<pre><code>@Id\n//@GeneratedValue\n@Column(unique = true, nullable = false, columnDefinition =&quot;BINARY(16)&quot;)\nprivate UUID id;\n</code></pre>\n<p>And add in Entity:</p>\n<pre><code>@PrePersist\nprotected void onCreation() {\n    if (id == null) setId(UUID.randomUUID());\n}\n</code></pre>\n<p>Now in my code I can do (on service for example):</p>\n<pre><code>String clientID = env.getParam(&quot;id&quot;);\nEntity entity = entityRepository.findFirstById(UUID.fromString(clientID));\n//is new?\nif (entity==null){\n  entity = new Entity();\n  entity.setId(UUID.fromString(clientID));//set cumstom ID here\n}\n\nEntity entityNew = entityRepository.save(entity); //insert\nif (entityNew.getId().equals(entity.getId()) ){\n  Log.i(&quot;OK!&quot;)\n}\n</code></pre>\n<p>ðŸ‘Œ</p>\n"},{"tags":[],"owner":{"account_id":15207672,"reputation":1864,"user_id":10973514,"display_name":"pref"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692853061,"creation_date":1692853061,"answer_id":76966318,"question_id":12002260,"body_markdown":"In my case, \r\n\r\nI commented out **@GeneratedValue** annotation line from the @Id field of my Entity\r\n\r\nand that let me to set the primary key in the object that I&#39;m persisting","title":"Manually specify the value of a primary key in JPA @GeneratedValue column","body":"<p>In my case,</p>\n<p>I commented out <strong>@GeneratedValue</strong> annotation line from the @Id field of my Entity</p>\n<p>and that let me to set the primary key in the object that I'm persisting</p>\n"}],"owner":{"account_id":216313,"reputation":12017,"user_id":471478,"accept_rate":86,"display_name":"scravy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60549,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":8,"score":35,"last_activity_date":1692853061,"creation_date":1345191707,"question_id":12002260,"body_markdown":"I&#39;m having an Entity which has a primary key / id field like the following:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\nThis works well. I&#39;m using EclipseLink to create the DDL-Schema, and the column is correctly created like so:\r\n\r\n    `id` bigint(20) NOT NULL AUTO_INCREMENT\r\n\r\nHowever, I&#39;ve got several entities for which I do want to specify the PK myself (it&#39;s a little application that transfers data from an old database to the new one we&#39;re building). If I specify the ID for the POJO (using `setId(Long id)`) and persist it, EclipseLink *does not* save it (i.e. the record is saved, but the id is auto generated by eclipseLink).\r\n\r\n__Is there a way to manually specify the value of a column which has a @GeneratedValue ?__\r\n\r\nHere some thoughts on the issue:\r\n\r\nI tried to work around the problem by not using @GeneratedValue at all, but simply manually define the column to be AUTO_INCREMENTed. However this forces me to manually provide an IDs *always*, since EclipseLink validates the primary key (so it may not be null, zero, or a negative number). The exception message reads that I should specify eclipselink.id_validation, however this does not seem to make any difference (I annotated `@PrimaryKey(validation = IdValidation.NONE)` but still got the same message).\r\n\r\n__To clarify:__ I&#39;m using EclipseLink (2.4.0) as persistence provider and I can&#39;t switch away from it (large portions of the project depend on eclipselink specific query hints, annotations, and classes).\r\n\r\n----------\r\n\r\nEDIT (In Response to the answers):\r\n\r\n__Custom Sequencing:__ I tried to implement my own sequencing. I tried subclassing DefaultSequence, but EclipseLink will tell me `Internal Exception: org.eclipse.persistence.platform.database.MySQLPlatform could not be found`. But I&#39;ve checked: The class is on the classpath.\r\n\r\nSo I subclassed another class, NativeSequence:\r\n\r\n\tpublic class MyNativeSequence extends NativeSequence {\r\n\t\r\n\t\tpublic MyNativeSequence() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\t\r\n\t\tpublic MyNativeSequence(final String name) {\r\n\t\t\tsuper(name);\r\n\t\t}\r\n\t\r\n\t\r\n\t\t@Override\r\n\t\tpublic boolean shouldAlwaysOverrideExistingValue() {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic boolean shouldAlwaysOverrideExistingValue(final String seqName) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nHowever, what I get is the following:\r\n\r\n\t\r\n\tjavax.persistence.RollbackException: Exception [EclipseLink-7197] (Eclipse Persistence Services - 2.4.0.v20120608-r11652): org.eclipse.persistence.exceptions.ValidationException\r\n\tException Description: Null or zero primary key encountered in unit of work clone [de.dfv.datenbank.domain.Mitarbeiter[ id=null ]], primary key [null]. Set descriptors IdValidation or the &quot;eclipselink.id-validation&quot; property.\r\n\t\tat org.eclipse.persistence.internal.jpa.transaction.EntityTransactionImpl.commitInternal(EntityTransactionImpl.java:102)\r\n\t\t...\r\n\tCaused by: Exception [EclipseLink-7197] (Eclipse Persistence Services - 2.4.0.v20120608-r11652): org.eclipse.persistence.exceptions.ValidationException\r\n\tException Description: Null or zero primary key encountered in unit of work clone [de.dfv.datenbank.domain.Mitarbeiter[ id=null ]], primary key [null]. Set descriptors IdValidation or the &quot;eclipselink.id-validation&quot; property.\r\n\t\tat org.eclipse.persistence.exceptions.ValidationException.nullPrimaryKeyInUnitOfWorkClone(ValidationException.java:1451)\r\n\t\t...\r\n\r\n(stack trace shortened for clarity). This is the same message which I got before. Shouldn&#39;t I subclass NativeSequence? If so, I don&#39;t know what to implement for the abstract methods in Sequence or StandardSequence.\r\n\r\nIt may also be worth noting, that simply subclassing (without overriding any methods) the class works as expected. However, returing false in `shouldAlwaysOverrideExistingValue(...)` will not generate a single value at all (I stepped through the program and `getGeneratedValue()` is not called once).\r\n\r\nAlso, when I insert like 8 entities of a certain kind within a transaction it resulted in 11 records in the database (what the hell?!).\r\n\r\n**EDIT (2012-09-01):** I still do not have a Solution for the problem, Implementing my own sequence did not solve it. What I need is a way to be able to not set an Id explicitly (so it will be auto generated) and to be able to set an Id explicitly (so it will be used for the creation of the record in the database).\r\n\r\nI tried to define the column as auto_increment myself and ommit @GeneratedValue, however Validation will kick in and not allow me to save such an entity. If I specify a value != 0 and != zero, mysql will complain for a duplicate primary key.\r\n\r\nI&#39;m running out of ideas and options to try. Any? (starting a bounty)","title":"Manually specify the value of a primary key in JPA @GeneratedValue column","body":"<p>I'm having an Entity which has a primary key / id field like the following:</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n</code></pre>\n\n<p>This works well. I'm using EclipseLink to create the DDL-Schema, and the column is correctly created like so:</p>\n\n<pre><code>`id` bigint(20) NOT NULL AUTO_INCREMENT\n</code></pre>\n\n<p>However, I've got several entities for which I do want to specify the PK myself (it's a little application that transfers data from an old database to the new one we're building). If I specify the ID for the POJO (using <code>setId(Long id)</code>) and persist it, EclipseLink <em>does not</em> save it (i.e. the record is saved, but the id is auto generated by eclipseLink).</p>\n\n<p><strong>Is there a way to manually specify the value of a column which has a @GeneratedValue ?</strong></p>\n\n<p>Here some thoughts on the issue:</p>\n\n<p>I tried to work around the problem by not using @GeneratedValue at all, but simply manually define the column to be AUTO_INCREMENTed. However this forces me to manually provide an IDs <em>always</em>, since EclipseLink validates the primary key (so it may not be null, zero, or a negative number). The exception message reads that I should specify eclipselink.id_validation, however this does not seem to make any difference (I annotated <code>@PrimaryKey(validation = IdValidation.NONE)</code> but still got the same message).</p>\n\n<p><strong>To clarify:</strong> I'm using EclipseLink (2.4.0) as persistence provider and I can't switch away from it (large portions of the project depend on eclipselink specific query hints, annotations, and classes).</p>\n\n<hr>\n\n<p>EDIT (In Response to the answers):</p>\n\n<p><strong>Custom Sequencing:</strong> I tried to implement my own sequencing. I tried subclassing DefaultSequence, but EclipseLink will tell me <code>Internal Exception: org.eclipse.persistence.platform.database.MySQLPlatform could not be found</code>. But I've checked: The class is on the classpath.</p>\n\n<p>So I subclassed another class, NativeSequence:</p>\n\n<pre><code>public class MyNativeSequence extends NativeSequence {\n\n    public MyNativeSequence() {\n        super();\n    }\n\n    public MyNativeSequence(final String name) {\n        super(name);\n    }\n\n\n    @Override\n    public boolean shouldAlwaysOverrideExistingValue() {\n        return false;\n    }\n\n    @Override\n    public boolean shouldAlwaysOverrideExistingValue(final String seqName) {\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>However, what I get is the following:</p>\n\n<pre><code>javax.persistence.RollbackException: Exception [EclipseLink-7197] (Eclipse Persistence Services - 2.4.0.v20120608-r11652): org.eclipse.persistence.exceptions.ValidationException\nException Description: Null or zero primary key encountered in unit of work clone [de.dfv.datenbank.domain.Mitarbeiter[ id=null ]], primary key [null]. Set descriptors IdValidation or the \"eclipselink.id-validation\" property.\n    at org.eclipse.persistence.internal.jpa.transaction.EntityTransactionImpl.commitInternal(EntityTransactionImpl.java:102)\n    ...\nCaused by: Exception [EclipseLink-7197] (Eclipse Persistence Services - 2.4.0.v20120608-r11652): org.eclipse.persistence.exceptions.ValidationException\nException Description: Null or zero primary key encountered in unit of work clone [de.dfv.datenbank.domain.Mitarbeiter[ id=null ]], primary key [null]. Set descriptors IdValidation or the \"eclipselink.id-validation\" property.\n    at org.eclipse.persistence.exceptions.ValidationException.nullPrimaryKeyInUnitOfWorkClone(ValidationException.java:1451)\n    ...\n</code></pre>\n\n<p>(stack trace shortened for clarity). This is the same message which I got before. Shouldn't I subclass NativeSequence? If so, I don't know what to implement for the abstract methods in Sequence or StandardSequence.</p>\n\n<p>It may also be worth noting, that simply subclassing (without overriding any methods) the class works as expected. However, returing false in <code>shouldAlwaysOverrideExistingValue(...)</code> will not generate a single value at all (I stepped through the program and <code>getGeneratedValue()</code> is not called once).</p>\n\n<p>Also, when I insert like 8 entities of a certain kind within a transaction it resulted in 11 records in the database (what the hell?!).</p>\n\n<p><strong>EDIT (2012-09-01):</strong> I still do not have a Solution for the problem, Implementing my own sequence did not solve it. What I need is a way to be able to not set an Id explicitly (so it will be auto generated) and to be able to set an Id explicitly (so it will be used for the creation of the record in the database).</p>\n\n<p>I tried to define the column as auto_increment myself and ommit @GeneratedValue, however Validation will kick in and not allow me to save such an entity. If I specify a value != 0 and != zero, mysql will complain for a duplicate primary key.</p>\n\n<p>I'm running out of ideas and options to try. Any? (starting a bounty)</p>\n"},{"tags":["java","spring","websocket","jms","broker"],"owner":{"account_id":21136269,"reputation":45,"user_id":15539664,"display_name":"theoutstandingme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692851361,"creation_date":1692849041,"question_id":76966115,"body_markdown":"I am creating a messenger. Android client is written in java and backend is also written in Java with Spring. \r\nThe client uses okhttp and retrofit.\r\nThe spring app uses boot, mvc, websocket, jms and broker.\r\nI know how to deal with boot and mvc well.\r\nBut I am just attempting to dive into jms and other stuff.\r\nI&#39;ve been struggling with those things for a while.\r\nMy context-path is &quot;gleamy&quot;. It&#39;s my app&#39;s name.\r\nEverything related to generally boot app and controllers is fine. DAOs work correctly.\r\nBut there&#39;re some issues with websocket and broker configs. I consider them troubles with paths, but I&#39;m just learning jms and sockets and don&#39;t know exactly.\r\nWhat it should be:\r\n1. Android client establishes connection with spring.\r\n2. client sends a request to the controller.\r\n3. it should be sent to another client that is in the same chat. I am attempting to send the same msg to all participants.\r\n4. client processes the msg\r\n\r\nPlease, give me a hand to deal with them.\r\n``` java\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class JmsConfig implements WebSocketMessageBrokerConfigurer{\r\n@Override\r\n\tpublic void configureMessageBroker(MessageBrokerRegistry registry)\r\n\t{\r\n\t\tregistry.setApplicationDestinationPrefixes(&quot;/gleamy&quot;);\r\n\t\tregistry.enableSimpleBroker(&quot;topic&quot;, &quot;queue&quot;);\r\n\t}\r\n\t@Override\r\n\tpublic void registerStompEndpoints(StompEndpointRegistry registry)\r\n\t{\r\n\t\tregistry.addEndpoint(&quot;/websocket&quot;);\r\n\t}\r\n\t@Override \r\n\tpublic void configureClientInboundChannel(ChannelRegistration registration)\r\n\t{\r\n\t\tregistration.interceptors(new WebSocketInterceptor());\r\n\t}\r\n\t\r\n}\r\n``` \r\n``` java\r\n@Configuration\r\n@EnableWebSocket\r\npublic class WebSocketConfig implements WebSocketConfigurer\r\n{\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(WebSocketConfig.class);\r\n\t@Override\r\n\tpublic void registerWebSocketHandlers(WebSocketHandlerRegistry registry)\r\n\t{\r\n\t\tregistry.addHandler(appWebSocketHandler(), &quot;/websocket&quot;).setAllowedOrigins(&quot;*&quot;);\r\n\t}\r\n\t@Bean\r\n\tpublic WebSocketHandler appWebSocketHandler()\r\n\t{\r\n\t\treturn new TextWebSocketHandler(){\r\n\t\t\t@Override \r\n\t\t\tprotected void handleTextMessage(WebSocketSession session, TextMessage msg)\r\n\t\t\t{\r\n\t\t\t\tlogger.info(msg.toString());\r\n\t\t\t\ttry{\r\n\t\t\t\t\tsession.sendMessage(msg);\r\n\t\t\t\t}\r\n\t\t\t\tcatch(Exception ex)\r\n\t\t\t\t{\r\n\t\t\t\t\tex.printStackTrace(System.err);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n\r\n```\r\n``` java\r\n@Service\r\n@Getter @Setter\r\npublic class MessageService {\r\n\t \r\n\tprivate final ApplicationContext appContext;\r\n\tprivate final JmsTemplate jmsTpl;\r\n\tprivate final SimpMessagingTemplate simpJms;\r\n\tprivate final Map&lt;String, AbstractDAO&gt; daos;\r\n\r\n\t@Autowired\r\n\tpublic MessageService(ApplicationContext appContext, JmsTemplate jmsTpl, SimpMessagingTemplate simpJms)\r\n\t{\r\n\t\tthis.appContext = appContext;\r\n\t\tthis.jmsTpl = jmsTpl;\r\n\t\tthis.simpJms = simpJms;\r\n\t\tdaos = new HashMap&lt;&gt;();\r\n\t\taddDAO(&quot;chatDAO&quot;,appContext.getBean(&quot;chatDAO&quot;, ChatDAO.class));\r\n\t}\r\n\t\r\n\tpublic void addDAO(String name, AbstractDAO dao)\r\n\t{\r\n\t\tdaos.put(name, dao);\r\n\t}\r\n\r\n\tpublic void notifyChatMembers(MsgInfo msg) {\r\n\t\tChatDAO chatDAO = (ChatDAO)daos.get(&quot;chatDAO&quot;);\r\n\t\tfor (Long userid : chatDAO.getUserIdsFromChat(msg.getChatid()))\r\n\t\t{\r\n\t\t\tsimpJms.convertAndSend(&quot;/topic/users/&quot; + userid, msg);\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n}\r\n```\r\n``` java\r\n@RestController\r\n@RequestMapping(&quot;/messages&quot;)\r\npublic class MessageController {\r\n    private final MessageDAO msgDAO;\r\n\tprivate final MessageService msgService;\r\n    \r\n    public MessageController(MessageDAO msgDAO, MessageService msgService)\r\n    {\r\n        this.msgDAO  = msgDAO;\r\n\t\tthis.msgService = msgService;\r\n    }\r\n    @PostMapping(&quot;/add&quot;)\r\n    @ResponseBody\r\n    public Map&lt;String, Long&gt; addMessage(@RequestBody MsgInfo msg)\r\n    {\r\n\t\tMap&lt;String, Long&gt; response = new HashMap&lt;&gt;();\r\n\t\tlong msgid = msgDAO.add(msg);\r\n\t\tresponse.put(&quot;msgid&quot;, msgid);\r\n\t\tmsgService.notifyChatMembers(msg);\r\n        return response;\r\n    }\r\n}\r\n```","title":"Client doesn&#39;t receive message from topic","body":"<p>I am creating a messenger. Android client is written in java and backend is also written in Java with Spring.\nThe client uses okhttp and retrofit.\nThe spring app uses boot, mvc, websocket, jms and broker.\nI know how to deal with boot and mvc well.\nBut I am just attempting to dive into jms and other stuff.\nI've been struggling with those things for a while.\nMy context-path is &quot;gleamy&quot;. It's my app's name.\nEverything related to generally boot app and controllers is fine. DAOs work correctly.\nBut there're some issues with websocket and broker configs. I consider them troubles with paths, but I'm just learning jms and sockets and don't know exactly.\nWhat it should be:</p>\n<ol>\n<li>Android client establishes connection with spring.</li>\n<li>client sends a request to the controller.</li>\n<li>it should be sent to another client that is in the same chat. I am attempting to send the same msg to all participants.</li>\n<li>client processes the msg</li>\n</ol>\n<p>Please, give me a hand to deal with them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class JmsConfig implements WebSocketMessageBrokerConfigurer{\n@Override\n    public void configureMessageBroker(MessageBrokerRegistry registry)\n    {\n        registry.setApplicationDestinationPrefixes(&quot;/gleamy&quot;);\n        registry.enableSimpleBroker(&quot;topic&quot;, &quot;queue&quot;);\n    }\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry)\n    {\n        registry.addEndpoint(&quot;/websocket&quot;);\n    }\n    @Override \n    public void configureClientInboundChannel(ChannelRegistration registration)\n    {\n        registration.interceptors(new WebSocketInterceptor());\n    }\n    \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer\n{\n    private static final Logger logger = LoggerFactory.getLogger(WebSocketConfig.class);\n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry)\n    {\n        registry.addHandler(appWebSocketHandler(), &quot;/websocket&quot;).setAllowedOrigins(&quot;*&quot;);\n    }\n    @Bean\n    public WebSocketHandler appWebSocketHandler()\n    {\n        return new TextWebSocketHandler(){\n            @Override \n            protected void handleTextMessage(WebSocketSession session, TextMessage msg)\n            {\n                logger.info(msg.toString());\n                try{\n                    session.sendMessage(msg);\n                }\n                catch(Exception ex)\n                {\n                    ex.printStackTrace(System.err);\n                }\n            }\n        };\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Getter @Setter\npublic class MessageService {\n     \n    private final ApplicationContext appContext;\n    private final JmsTemplate jmsTpl;\n    private final SimpMessagingTemplate simpJms;\n    private final Map&lt;String, AbstractDAO&gt; daos;\n\n    @Autowired\n    public MessageService(ApplicationContext appContext, JmsTemplate jmsTpl, SimpMessagingTemplate simpJms)\n    {\n        this.appContext = appContext;\n        this.jmsTpl = jmsTpl;\n        this.simpJms = simpJms;\n        daos = new HashMap&lt;&gt;();\n        addDAO(&quot;chatDAO&quot;,appContext.getBean(&quot;chatDAO&quot;, ChatDAO.class));\n    }\n    \n    public void addDAO(String name, AbstractDAO dao)\n    {\n        daos.put(name, dao);\n    }\n\n    public void notifyChatMembers(MsgInfo msg) {\n        ChatDAO chatDAO = (ChatDAO)daos.get(&quot;chatDAO&quot;);\n        for (Long userid : chatDAO.getUserIdsFromChat(msg.getChatid()))\n        {\n            simpJms.convertAndSend(&quot;/topic/users/&quot; + userid, msg);\n        }\n            \n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/messages&quot;)\npublic class MessageController {\n    private final MessageDAO msgDAO;\n    private final MessageService msgService;\n    \n    public MessageController(MessageDAO msgDAO, MessageService msgService)\n    {\n        this.msgDAO  = msgDAO;\n        this.msgService = msgService;\n    }\n    @PostMapping(&quot;/add&quot;)\n    @ResponseBody\n    public Map&lt;String, Long&gt; addMessage(@RequestBody MsgInfo msg)\n    {\n        Map&lt;String, Long&gt; response = new HashMap&lt;&gt;();\n        long msgid = msgDAO.add(msg);\n        response.put(&quot;msgid&quot;, msgid);\n        msgService.notifyChatMembers(msg);\n        return response;\n    }\n}\n</code></pre>\n"},{"tags":["java","quartz-scheduler","cronexpression"],"answers":[{"tags":[],"owner":{"account_id":7505413,"reputation":5686,"user_id":5702105,"display_name":"Ian Mc"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1623136235,"creation_date":1454631750,"answer_id":35214234,"question_id":35214149,"body_markdown":"The first element represents the seconds; to run at second 0 and 30 use the following:\r\n\r\n```\r\n&lt;cron-expression&gt;0/30 0/1 * 1/1 * ? *&lt;/cron-expression&gt;\r\n```","title":"cron expression for every 30 seconds in quartz scheduler?","body":"<p>The first element represents the seconds; to run at second 0 and 30 use the following:</p>\n<pre><code>&lt;cron-expression&gt;0/30 0/1 * 1/1 * ? *&lt;/cron-expression&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7162347,"reputation":75,"user_id":5472704,"accept_rate":20,"display_name":"Shailesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505975771,"creation_date":1505975639,"answer_id":46336985,"question_id":35214149,"body_markdown":"If you are using Spring framework, make use of `@PostConstruct` annotation and then `@Scheduled(cron=0 0/15 * 1/1 * ?)` to trigger now, now+15min and so on.","title":"cron expression for every 30 seconds in quartz scheduler?","body":"<p>If you are using Spring framework, make use of <code>@PostConstruct</code> annotation and then <code>@Scheduled(cron=0 0/15 * 1/1 * ?)</code> to trigger now, now+15min and so on.</p>\n"},{"tags":[],"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1692851321,"creation_date":1537221042,"answer_id":52376143,"question_id":35214149,"body_markdown":"The same effect we can reach (Quartz Spring) using simpler construction:\r\n\r\n    0/30 * * * * ? *\r\n\r\nThe last asterisk we can omit.\r\n\r\n    0/30 * * * * ?\r\n\r\n[Quartz scheduler cron trigger documentation 2.x][1]\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/documentation/quartz-2.x/tutorials/crontrigger.html","title":"cron expression for every 30 seconds in quartz scheduler?","body":"<p>The same effect we can reach (Quartz Spring) using simpler construction:</p>\n<pre><code>0/30 * * * * ? *\n</code></pre>\n<p>The last asterisk we can omit.</p>\n<pre><code>0/30 * * * * ?\n</code></pre>\n<p><a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.x/tutorials/crontrigger.html\" rel=\"nofollow noreferrer\">Quartz scheduler cron trigger documentation 2.x</a></p>\n"},{"tags":[],"owner":{"account_id":1874652,"reputation":955,"user_id":1696115,"accept_rate":0,"display_name":"Jar Yit"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1566964523,"creation_date":1566964523,"answer_id":57684846,"question_id":35214149,"body_markdown":"I hope this answer will help you. Please define the cron expression the below \r\n\r\n     0/30 * * * * ? *\r\n\r\nAnd then you go this website and test [Cron Expression Generator &amp; Explainer - Quartz][1].\r\n\r\n\r\n  [1]: https://www.freeformatter.com/cron-expression-generator-quartz.html","title":"cron expression for every 30 seconds in quartz scheduler?","body":"<p>I hope this answer will help you. Please define the cron expression the below </p>\n\n<pre><code> 0/30 * * * * ? *\n</code></pre>\n\n<p>And then you go this website and test <a href=\"https://www.freeformatter.com/cron-expression-generator-quartz.html\" rel=\"noreferrer\">Cron Expression Generator &amp; Explainer - Quartz</a>.</p>\n"}],"owner":{"account_id":2207538,"reputation":4868,"user_id":1950349,"accept_rate":82,"display_name":"user1950349"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126372,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":35214234,"answer_count":4,"score":26,"last_activity_date":1692851321,"creation_date":1454631224,"question_id":35214149,"body_markdown":"I am using Quartz Scheduler to run my jobs. I want to run my job every thirty seconds. What will be my cron expression for that?\r\n\r\nFor every one minute, I am using below cron expression:\r\n\r\n\t&lt;cron-expression&gt;0 0/1 * 1/1 * ? *&lt;/cron-expression&gt;\r\n\t\r\nWhat it will be for every thirty seconds?","title":"cron expression for every 30 seconds in quartz scheduler?","body":"<p>I am using Quartz Scheduler to run my jobs. I want to run my job every thirty seconds. What will be my cron expression for that?</p>\n\n<p>For every one minute, I am using below cron expression:</p>\n\n<pre><code>&lt;cron-expression&gt;0 0/1 * 1/1 * ? *&lt;/cron-expression&gt;\n</code></pre>\n\n<p>What it will be for every thirty seconds?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":27552468,"reputation":25,"user_id":21027269,"display_name":"arief ariefshamsuddin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692850737,"creation_date":1692850737,"answer_id":76966197,"question_id":76942418,"body_markdown":"Nevermind, i got the answer after discovering it with my colleague. I should delete `implementation project(&#39;:tcn_liftboard&#39;)` from Module-Level `build.gradle` because it has duplicate issues.","title":"Could not resolve all task dependencies for configuration &#39;:app:debugCompileClasspath&#39; in java for android","body":"<p>Nevermind, i got the answer after discovering it with my colleague. I should delete <code>implementation project(':tcn_liftboard')</code> from Module-Level <code>build.gradle</code> because it has duplicate issues.</p>\n"}],"owner":{"account_id":27552468,"reputation":25,"user_id":21027269,"display_name":"arief ariefshamsuddin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76966197,"answer_count":1,"score":0,"last_activity_date":1692850737,"creation_date":1692592515,"question_id":76942418,"body_markdown":"I am currently dealing with legacy codes in `Java for android`, however this error comes up after I have dealt with the version of the sdk.\r\n\r\n\r\n```\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all task dependencies for configuration &#39;:app:debugCompileClasspath&#39;.\r\n   &gt; Could not resolve project :tcn_liftboard.\r\n     Required by:\r\n         project :app\r\n      &gt; No matching configuration of project :tcn_liftboard was found. The consumer was configured to find an API of a component, preferably optimized for Android, as well as attribute &#39;com.android.build.api.attributes.BuildTypeAttr&#39; with value &#39;debug&#39; but:\r\n          - None of the consumable configurations have attributes.\r\n```\r\n\r\nShown below is the Project-Level `build.gradle`\r\n\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.3&#39;\r\n\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\n\r\next {\r\n    compileVersion = 31\r\n    buildVersion = &#39;27.0.3&#39;\r\n    minVersion = 18\r\n    targetVersion = 31\r\n    supportVersion = &#39;27.1.1&#39;\r\n    commonsNetVersion = &quot;3.6&quot;\r\n    glideVersion = &quot;4.8.0&quot;\r\n    traypVersion = &quot;0.12.0&quot;\r\n    gsonVersion = &quot;2.8.5&quot;\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```\r\n\r\nand this is the Module-Level `build.gradle`\r\n\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.tcn.sdk.liftdemo&quot;\r\n        minSdkVersion 18\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName &quot;1.0.1&quot;\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            android.applicationVariants.all { variant -&gt;\r\n                variant.outputs.all {\r\n                    outputFileName = &quot;TcnSdkLiftDemo-${defaultConfig.versionName}.apk&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    sourceSets {\r\n        main {\r\n            jniLibs.srcDirs = [&#39;src/main/jniLibs&#39;]\r\n            aidl.srcDirs = [&#39;src/main/aidl&#39;]\r\n        }\r\n    }\r\n}\r\n\r\nrepositories {\r\n    flatDir {\r\n        dirs &#39;libs&#39;   // aarç›®å½•\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &quot;androidx.appcompat:appcompat:1.5.1&quot;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    implementation(name: &#39;sdk_auth_lib-release&#39;, ext: &#39;aar&#39;)\r\n    implementation(name: &#39;tcn_liftboard-release&#39;, ext: &#39;aar&#39;)\r\n    implementation project(&#39;:tcn_liftboard&#39;)\r\n}\r\n\r\n```\r\n\r\n\r\nThe gradle sync worked perfectly but the error I encounter is during debugging. \r\n\r\nI tried changing `buildToolsVersion` to multiple versions, but it does not solve my problem.","title":"Could not resolve all task dependencies for configuration &#39;:app:debugCompileClasspath&#39; in java for android","body":"<p>I am currently dealing with legacy codes in <code>Java for android</code>, however this error comes up after I have dealt with the version of the sdk.</p>\n<pre><code>Could not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n&gt; Could not resolve all task dependencies for configuration ':app:debugCompileClasspath'.\n   &gt; Could not resolve project :tcn_liftboard.\n     Required by:\n         project :app\n      &gt; No matching configuration of project :tcn_liftboard was found. The consumer was configured to find an API of a component, preferably optimized for Android, as well as attribute 'com.android.build.api.attributes.BuildTypeAttr' with value 'debug' but:\n          - None of the consumable configurations have attributes.\n</code></pre>\n<p>Shown below is the Project-Level <code>build.gradle</code></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    \n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.3'\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\n\next {\n    compileVersion = 31\n    buildVersion = '27.0.3'\n    minVersion = 18\n    targetVersion = 31\n    supportVersion = '27.1.1'\n    commonsNetVersion = &quot;3.6&quot;\n    glideVersion = &quot;4.8.0&quot;\n    traypVersion = &quot;0.12.0&quot;\n    gsonVersion = &quot;2.8.5&quot;\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p>and this is the Module-Level <code>build.gradle</code></p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion &quot;30.0.3&quot;\n    defaultConfig {\n        applicationId &quot;com.tcn.sdk.liftdemo&quot;\n        minSdkVersion 18\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.0.1&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            android.applicationVariants.all { variant -&gt;\n                variant.outputs.all {\n                    outputFileName = &quot;TcnSdkLiftDemo-${defaultConfig.versionName}.apk&quot;\n                }\n            }\n        }\n    }\n    sourceSets {\n        main {\n            jniLibs.srcDirs = ['src/main/jniLibs']\n            aidl.srcDirs = ['src/main/aidl']\n        }\n    }\n}\n\nrepositories {\n    flatDir {\n        dirs 'libs'   // aarç›®å½•\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation &quot;androidx.appcompat:appcompat:1.5.1&quot;\n    testImplementation 'junit:junit:4.12'\n    implementation(name: 'sdk_auth_lib-release', ext: 'aar')\n    implementation(name: 'tcn_liftboard-release', ext: 'aar')\n    implementation project(':tcn_liftboard')\n}\n\n</code></pre>\n<p>The gradle sync worked perfectly but the error I encounter is during debugging.</p>\n<p>I tried changing <code>buildToolsVersion</code> to multiple versions, but it does not solve my problem.</p>\n"},{"tags":["java","linked-list","partition"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692829795,"post_id":76965100,"comment_id":135679048,"body_markdown":"hard without the input data.... you can try to debug it, eventually using this [Java Visualizer](https://cscircles.cemc.uwaterloo.ca/java_visualize)","body":"hard without the input data.... you can try to debug it, eventually using this <a href=\"https://cscircles.cemc.uwaterloo.ca/java_visualize\" rel=\"nofollow noreferrer\">Java Visualizer</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692832991,"post_id":76965100,"comment_id":135679348,"body_markdown":"I suspect when *transferring* a node to the lesser or greater list, its `next` is not being deleted and `less.next = great.next` will eventually create a loop","body":"I suspect when <i>transferring</i> a node to the lesser or greater list, its <code>next</code> is not being deleted and <code>less.next = great.next</code> will eventually create a loop"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692832283,"creation_date":1692830040,"answer_id":76965276,"question_id":76965100,"body_markdown":"The problem is at the end of your code:\r\n\r\nAfter the loop, `great` points to the node with the last value that was found greater (or equal) than the pivot. It should thus become the **tail** of your final list. But it might well be that in the original list it was followed by a node with a small value, and this link has not been changed.\r\n\r\nFor instance, with the input example `2â†’1` and &#119909;=2, we get this situation before the loop starts:\r\n\r\n```none\r\nlesser less\r\n   â†“     â†“\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚ val: -101 â”‚\r\nâ”‚ next: nullâ”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    \r\n                                 \r\ngreater great      head  temp\r\n   â†“      â†“         â†“     â†“\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚ val: -101 â”‚     â”‚ val: 2    â”‚     â”‚ val: 1    â”‚\r\nâ”‚ next: nullâ”‚     â”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next: nullâ”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n```\r\n\r\nAfter the first iteration:\r\n\r\n```none\r\nlesser less\r\n   â†“     â†“\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚ val: -101 â”‚\r\nâ”‚ next: nullâ”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    \r\n                                 \r\ngreater            head great        temp\r\n   â†“                 â†“    â†“            â†“\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚ val: -101 â”‚     â”‚ val: 2    â”‚     â”‚ val: 1    â”‚\r\nâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next: nullâ”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n```\r\n\r\nAfter the second iteration:\r\n\r\n```none\r\nlesser\r\n   â†“\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚ val: -101 â”‚\r\nâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ \r\n                                â”‚ \r\ngreater            head great   â”‚     less       temp==null\r\n   â†“                 â†“    â†“     â”‚       â†“\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚ val: -101 â”‚     â”‚ val: 2    â”‚ â””â”€â”€â–ºâ”‚ val: 1    â”‚\r\nâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next: nullâ”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n```\r\n\r\nAnd now the faulty statement `less.next = great.next` will introduce the loop -- the node with value 1 gets a self reference!\r\n\r\nFirst, realise that `less` is the last node of the first partition, and `great` the last node of the second partition. That means that `great.next` should be set to `null` -- it really must be the last node in the final list.\r\n\r\nSecondly, it is true that `less.next` should be updated, but it should be set to the *first* node of the second partition, which is `greater.next` (not `great.next`). \r\n\r\nCorrection:\r\n\r\n```\r\n        great.next = null; // added\r\n        less.next = greater.next; // corrected\r\n``` \r\n\r\n\r\nAfter these two statements the example will resolve to:\r\n\r\n```none\r\nlesser\r\n   â†“\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚ val: -101 â”‚\r\nâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ \r\n                                â”‚ \r\ngreater            head great   â”‚     less       temp==null\r\n   â†“                 â†“    â†“     â”‚       â†“\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚ val: -101 â”‚     â”‚ val: 2    â”‚ â””â”€â”€â–ºâ”‚ val: 1    â”‚\r\nâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next:null â”‚     â”‚ next: â”€â”  â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”Œâ”€â–ºâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”˜\r\n               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n```\r\n\r\nAnd when we return `lesser.next` (correct), the local variables run out of scope, and the above simplifies to:\r\n\r\n```none\r\n                                     (returned)     \r\n                                        â†“\r\n                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n                  â”‚ val: 2    â”‚     â”‚ val: 1    â”‚\r\n               â”Œâ”€â–ºâ”‚ next:null â”‚     â”‚ next: â”€â”  â”‚\r\n               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”˜\r\n               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n```\r\n\r\n","title":"Why is my code for partitioning a linked list returning a list with a cycle?","body":"<p>The problem is at the end of your code:</p>\n<p>After the loop, <code>great</code> points to the node with the last value that was found greater (or equal) than the pivot. It should thus become the <strong>tail</strong> of your final list. But it might well be that in the original list it was followed by a node with a small value, and this link has not been changed.</p>\n<p>For instance, with the input example <code>2â†’1</code> and ð‘¥=2, we get this situation before the loop starts:</p>\n<pre class=\"lang-none prettyprint-override\"><code>lesser less\n   â†“     â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ val: -101 â”‚\nâ”‚ next: nullâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    \n                                 \ngreater great      head  temp\n   â†“      â†“         â†“     â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ val: -101 â”‚     â”‚ val: 2    â”‚     â”‚ val: 1    â”‚\nâ”‚ next: nullâ”‚     â”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next: nullâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</code></pre>\n<p>After the first iteration:</p>\n<pre class=\"lang-none prettyprint-override\"><code>lesser less\n   â†“     â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ val: -101 â”‚\nâ”‚ next: nullâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    \n                                 \ngreater            head great        temp\n   â†“                 â†“    â†“            â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ val: -101 â”‚     â”‚ val: 2    â”‚     â”‚ val: 1    â”‚\nâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next: nullâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</code></pre>\n<p>After the second iteration:</p>\n<pre class=\"lang-none prettyprint-override\"><code>lesser\n   â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ val: -101 â”‚\nâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ \n                                â”‚ \ngreater            head great   â”‚     less       temp==null\n   â†“                 â†“    â†“     â”‚       â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ val: -101 â”‚     â”‚ val: 2    â”‚ â””â”€â”€â–ºâ”‚ val: 1    â”‚\nâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next: nullâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</code></pre>\n<p>And now the faulty statement <code>less.next = great.next</code> will introduce the loop -- the node with value 1 gets a self reference!</p>\n<p>First, realise that <code>less</code> is the last node of the first partition, and <code>great</code> the last node of the second partition. That means that <code>great.next</code> should be set to <code>null</code> -- it really must be the last node in the final list.</p>\n<p>Secondly, it is true that <code>less.next</code> should be updated, but it should be set to the <em>first</em> node of the second partition, which is <code>greater.next</code> (not <code>great.next</code>).</p>\n<p>Correction:</p>\n<pre><code>        great.next = null; // added\n        less.next = greater.next; // corrected\n</code></pre>\n<p>After these two statements the example will resolve to:</p>\n<pre class=\"lang-none prettyprint-override\"><code>lesser\n   â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ val: -101 â”‚\nâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ \n                                â”‚ \ngreater            head great   â”‚     less       temp==null\n   â†“                 â†“    â†“     â”‚       â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ val: -101 â”‚     â”‚ val: 2    â”‚ â””â”€â”€â–ºâ”‚ val: 1    â”‚\nâ”‚ next: â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ next:null â”‚     â”‚ next: â”€â”  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”Œâ”€â–ºâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”˜\n               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</code></pre>\n<p>And when we return <code>lesser.next</code> (correct), the local variables run out of scope, and the above simplifies to:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                                     (returned)     \n                                        â†“\n                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                  â”‚ val: 2    â”‚     â”‚ val: 1    â”‚\n               â”Œâ”€â–ºâ”‚ next:null â”‚     â”‚ next: â”€â”  â”‚\n               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”˜\n               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692836952,"creation_date":1692836952,"answer_id":76965606,"question_id":76965100,"body_markdown":"- `lesser` is the first part, starting with a dummy node.\r\n- `greater` is the second part, starting with a dummy node.\r\n- `less` is the tail of the first part.\r\n- `great` is the tail of the second part.\r\n\r\n_Better names would have helped._\r\n\r\nAt the end: remove the dummies and tie the  end of the tails.\r\n\r\n    great.next = null; // When a smaller followed\r\n    less.next = greater.next;\r\n    lesser = lesser.next;\r\n    return lesser;\r\n\r\nAs `less` could have been `lesser` and `great` be `greater` the order of rewiring the links is important.\r\n\r\nYou might have opted for\r\n\r\n    ListNode left = null;\r\n    ListNode leftTail = null;\r\n    ListNode right = null;\r\n    ListNode rightTail = null;\r\n\r\n    while (head != null) {\r\n        if (head.val &lt; x) {\r\n            if (left == null) {\r\n                left = head;\r\n            } else {\r\n                leftTail.next = head;\r\n            }\r\n            leftTail = head;\r\n        } else {\r\n            if (right == null) {\r\n                right = head;\r\n            } else {\r\n                rightTail.next = head;\r\n            }\r\n            rightTail = head;\r\n        }\r\n        head = head.next;\r\n    }\r\n    if (rightTail != null) {\r\n        rightTail.next = null;\r\n    }\r\n    if (leftTail != null) {\r\n        leftTail.next = right;\r\n    } else {\r\n        left = right;\r\n    }\r\n    return left;\r\n\r\nThe above one should have seen (at least once), where the LHS variable stems from a condition, the RHS being the same value.\r\nIn a language like C one would use this style, with _aliases_.","title":"Why is my code for partitioning a linked list returning a list with a cycle?","body":"<ul>\n<li><code>lesser</code> is the first part, starting with a dummy node.</li>\n<li><code>greater</code> is the second part, starting with a dummy node.</li>\n<li><code>less</code> is the tail of the first part.</li>\n<li><code>great</code> is the tail of the second part.</li>\n</ul>\n<p><em>Better names would have helped.</em></p>\n<p>At the end: remove the dummies and tie the  end of the tails.</p>\n<pre><code>great.next = null; // When a smaller followed\nless.next = greater.next;\nlesser = lesser.next;\nreturn lesser;\n</code></pre>\n<p>As <code>less</code> could have been <code>lesser</code> and <code>great</code> be <code>greater</code> the order of rewiring the links is important.</p>\n<p>You might have opted for</p>\n<pre><code>ListNode left = null;\nListNode leftTail = null;\nListNode right = null;\nListNode rightTail = null;\n\nwhile (head != null) {\n    if (head.val &lt; x) {\n        if (left == null) {\n            left = head;\n        } else {\n            leftTail.next = head;\n        }\n        leftTail = head;\n    } else {\n        if (right == null) {\n            right = head;\n        } else {\n            rightTail.next = head;\n        }\n        rightTail = head;\n    }\n    head = head.next;\n}\nif (rightTail != null) {\n    rightTail.next = null;\n}\nif (leftTail != null) {\n    leftTail.next = right;\n} else {\n    left = right;\n}\nreturn left;\n</code></pre>\n<p>The above one should have seen (at least once), where the LHS variable stems from a condition, the RHS being the same value.\nIn a language like C one would use this style, with <em>aliases</em>.</p>\n"},{"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692849409,"creation_date":1692849409,"answer_id":76966133,"question_id":76965100,"body_markdown":"I have modified your code based on your design premise.\\\r\nThe exception is you have not deal the node as a simple node ,you think you just put a node after less and great.But actually you put the linked list after the less and great so that the cycle appeared.\\\r\nThe follow is my code .\r\n\r\n    public static ListNode partition(ListNode head, int x) {\r\n            ListNode lesser = new ListNode(-101);\r\n            ListNode less = lesser;\r\n            ListNode greater = new ListNode(-101);\r\n            ListNode great = greater;\r\n            while(head!=null){\r\n                ListNode temp= head;\r\n                head = head.next;\r\n                //this is important ,to cut the list to a single node\r\n                temp.next = null;\r\n                if(temp.val&lt;x){\r\n                    less.next=temp;\r\n                    less=less.next;\r\n                }\r\n                else{\r\n                    great.next=temp;\r\n                    great=great.next;\r\n                }\r\n            }\r\n    \r\n    \r\n            less.next = greater.next;\r\n            return lesser.next;\r\n        }","title":"Why is my code for partitioning a linked list returning a list with a cycle?","body":"<p>I have modified your code based on your design premise.<br />\nThe exception is you have not deal the node as a simple node ,you think you just put a node after less and great.But actually you put the linked list after the less and great so that the cycle appeared.<br />\nThe follow is my code .</p>\n<pre><code>public static ListNode partition(ListNode head, int x) {\n        ListNode lesser = new ListNode(-101);\n        ListNode less = lesser;\n        ListNode greater = new ListNode(-101);\n        ListNode great = greater;\n        while(head!=null){\n            ListNode temp= head;\n            head = head.next;\n            //this is important ,to cut the list to a single node\n            temp.next = null;\n            if(temp.val&lt;x){\n                less.next=temp;\n                less=less.next;\n            }\n            else{\n                great.next=temp;\n                great=great.next;\n            }\n        }\n\n\n        less.next = greater.next;\n        return lesser.next;\n    }\n</code></pre>\n"}],"owner":{"account_id":27785582,"reputation":1,"user_id":21213099,"display_name":"Abhinav Bachchan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692849409,"creation_date":1692827446,"question_id":76965100,"body_markdown":"I am solving LeetCode problem [86. Partition List](https://leetcode.com/problems/partition-list/description/):\r\n\r\n&gt; Given the head of a linked list and a value `x`, partition it such that all nodes **less than** `x` come before nodes **greater than or equal** to `x`.\r\n&gt; \r\n&gt; You should **preserve** the original relative order of the nodes in each of the two partitions.\r\n&gt; \r\n&gt; ### Example 1:\r\n&gt; **Input:** `head = [1,4,3,2,5,2], x = 3`&lt;br&gt;\r\n&gt; **Output:** `[1,2,2,4,3,5]`\r\n&gt; \r\n&gt; ### Example 2:\r\n&gt; **Input:** `head = [2,1], x = 2`&lt;br&gt;\r\n&gt; **Output:** `[1,2]`\r\n&gt;  \r\n&gt; ### Constraints:\r\n&gt; * The number of nodes in the list is in the range `[0, 200]`.\r\n&gt; * `-100 &lt;= Node.val &lt;= 100`\r\n&gt; * `-200 &lt;= x &lt;= 200`\r\n\r\nMy code:\r\n\r\n```\r\n    public static ListNode partition(ListNode head, int x) {\r\n        ListNode lesser = new ListNode(-101);\r\n        ListNode less = lesser;\r\n        ListNode greater = new ListNode(-101);\r\n        ListNode great = greater;\r\n        ListNode temp= head;\r\n        while(temp!=null){\r\n            if(temp.val&lt;x){\r\n                less.next=temp;\r\n                less=less.next;\r\n            }\r\n            else{\r\n                great.next=temp;\r\n                great=great.next;\r\n            }\r\n            temp=temp.next;\r\n        }\r\n\r\n\r\n        less.next = great.next;\r\n        return lesser.next;\r\n    }\r\n```\r\n\r\nI get this error back from the tests:\r\n\r\n&gt; Error - Found cycle in the ListNode\r\n\r\nCan anybody explain why this error occurs?\r\n","title":"Why is my code for partitioning a linked list returning a list with a cycle?","body":"<p>I am solving LeetCode problem <a href=\"https://leetcode.com/problems/partition-list/description/\" rel=\"nofollow noreferrer\">86. Partition List</a>:</p>\n<blockquote>\n<p>Given the head of a linked list and a value <code>x</code>, partition it such that all nodes <strong>less than</strong> <code>x</code> come before nodes <strong>greater than or equal</strong> to <code>x</code>.</p>\n<p>You should <strong>preserve</strong> the original relative order of the nodes in each of the two partitions.</p>\n<h3>Example 1:</h3>\n<p><strong>Input:</strong> <code>head = [1,4,3,2,5,2], x = 3</code><br>\n<strong>Output:</strong> <code>[1,2,2,4,3,5]</code></p>\n<h3>Example 2:</h3>\n<p><strong>Input:</strong> <code>head = [2,1], x = 2</code><br>\n<strong>Output:</strong> <code>[1,2]</code></p>\n<h3>Constraints:</h3>\n<ul>\n<li>The number of nodes in the list is in the range <code>[0, 200]</code>.</li>\n<li><code>-100 &lt;= Node.val &lt;= 100</code></li>\n<li><code>-200 &lt;= x &lt;= 200</code></li>\n</ul>\n</blockquote>\n<p>My code:</p>\n<pre><code>    public static ListNode partition(ListNode head, int x) {\n        ListNode lesser = new ListNode(-101);\n        ListNode less = lesser;\n        ListNode greater = new ListNode(-101);\n        ListNode great = greater;\n        ListNode temp= head;\n        while(temp!=null){\n            if(temp.val&lt;x){\n                less.next=temp;\n                less=less.next;\n            }\n            else{\n                great.next=temp;\n                great=great.next;\n            }\n            temp=temp.next;\n        }\n\n\n        less.next = great.next;\n        return lesser.next;\n    }\n</code></pre>\n<p>I get this error back from the tests:</p>\n<blockquote>\n<p>Error - Found cycle in the ListNode</p>\n</blockquote>\n<p>Can anybody explain why this error occurs?</p>\n"},{"tags":["java","inputstream","jsch"],"comments":[{"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":1,"creation_date":1610097247,"post_id":25761400,"comment_id":116029348,"body_markdown":"You generally should not use &quot;shell&quot; channel to automate a command execution. Use &quot;exec&quot; channel instead. If you use &quot;shell&quot; channel, you get into troubles sooner or later. See one example of possible issues out of many, see [JSch issue - Cannot retrieve full command output](http://stackoverflow.com/q/35502600/850848).","body":"You generally should not use &quot;shell&quot; channel to automate a command execution. Use &quot;exec&quot; channel instead. If you use &quot;shell&quot; channel, you get into troubles sooner or later. See one example of possible issues out of many, see <a href=\"http://stackoverflow.com/q/35502600/850848\">JSch issue - Cannot retrieve full command output</a>."}],"answers":[{"tags":[],"owner":{"account_id":2164407,"reputation":598,"user_id":1917804,"display_name":"Vishnu Prasad Kallummel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1410775057,"creation_date":1410775057,"answer_id":25845360,"question_id":25761400,"body_markdown":"Please try the code below - tested and working\r\n\r\n        Channel channel = session.openChannel(&quot;shell&quot;);\r\n    \tOutputStream ops = channel.getOutputStream();\r\n    \tPrintStream ps = new PrintStream(ops);\r\n    \tchannel.connect();\r\n    \tps.println(&quot;pwd&quot;);\r\n    \tps.println(&quot;exit&quot;);\r\n    \tps.flush();\r\n    \tps.close();\r\n    \t\r\n    \tInputStream in = channel.getInputStream();\r\n    \tBufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n\t\tSystem.out.println(&quot;Opening...&quot;);\r\n\r\n\t\tString jarOutput;\r\n\t\twhile ((jarOutput = reader.readLine()) != null)\r\n\t\t    System.out.println(jarOutput);\r\n\t\treader.close();\r\n    \tchannel.disconnect();\r\n\r\nOutput - \r\n\r\n&gt; Opening...&lt;br&gt;\r\nuser@host:~&gt; pwd&lt;br&gt;\r\n/home/user&lt;br&gt;\r\nuser@host:~&gt;  &lt;br&gt;\r\nuser@host:~&gt; exit&lt;br&gt;\r\nlogout\r\n\r\n","title":"Jsch : Command Output unavailable","body":"<p>Please try the code below - tested and working</p>\n\n<pre><code>    Channel channel = session.openChannel(\"shell\");\n    OutputStream ops = channel.getOutputStream();\n    PrintStream ps = new PrintStream(ops);\n    channel.connect();\n    ps.println(\"pwd\");\n    ps.println(\"exit\");\n    ps.flush();\n    ps.close();\n\n    InputStream in = channel.getInputStream();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n    System.out.println(\"Opening...\");\n\n    String jarOutput;\n    while ((jarOutput = reader.readLine()) != null)\n        System.out.println(jarOutput);\n    reader.close();\n    channel.disconnect();\n</code></pre>\n\n<p>Output - </p>\n\n<blockquote>\n  <p>Opening...<br>\n  user@host:~> pwd<br>\n  /home/user<br>\n  user@host:~>  <br>\n  user@host:~> exit<br>\n  logout</p>\n</blockquote>\n"}],"owner":{"account_id":206144,"reputation":14410,"user_id":455257,"accept_rate":56,"display_name":"ayush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1848,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692848789,"creation_date":1410339911,"question_id":25761400,"body_markdown":"I am trying to use jsch to connect to a remote switch and run some command and extract the output. \r\n\r\nI am able to connect to the switch using , however the command output is not available in the inputstream. Maybe i am not doing it the right way. Here&#39;s the code\r\n\r\n        \r\n\r\n        session = jsch.getSession(&quot;user&quot;, &quot;10.0.0.0&quot;, 22);\r\n\t\tsession.setPassword(&quot;somepwd&quot;);\r\n\t\tsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\tsession.connect();\r\n\t\tSystem.out.println(&quot;connected to remote host&quot;);\r\n\t\tChannel channel = session.openChannel(&quot;shell&quot;);\r\n\r\n\t\t OutputStream ops = channel.getOutputStream();\r\n\t\t PrintStream ps = new PrintStream(ops);\r\n\t     \tchannel.connect();\r\n         \t\tps.println(&quot;show version&quot;); \r\n         \t\tps.flush();\r\n         \t\tps.close();\r\n         \t\tInputStream in=channel.getInputStream();\r\n         \t\tbyte[] bt=new byte[1024];\r\n        \r\n\r\n         \t\twhile(in.available()&gt;0)\r\n         \t\t{\r\n         \t\t\tint i=in.read(bt, 0, 1024);\r\n         \t\t\tif(i&lt;0)\r\n         \t\t\t break;\r\n            \t\t\tString str=new String(bt, 0, i);\r\n          \t\t\t//displays the output of the command executed.\r\n            \t\t\tSystem.out.print(str);\r\n\t\t        }\r\n         \t\t\r\n\t\tchannel.disconnect();\r\n        session.disconnect();\r\n\r\nWhen i debug the inputStream.isAvailable() always returns zero suggesting that there is no output from the command.  \r\n\r\nTIA!","title":"Jsch : Command Output unavailable","body":"<p>I am trying to use jsch to connect to a remote switch and run some command and extract the output. </p>\n\n<p>I am able to connect to the switch using , however the command output is not available in the inputstream. Maybe i am not doing it the right way. Here's the code</p>\n\n<pre><code>    session = jsch.getSession(\"user\", \"10.0.0.0\", 22);\n    session.setPassword(\"somepwd\");\n    session.setConfig(\"StrictHostKeyChecking\", \"no\");\n    session.connect();\n    System.out.println(\"connected to remote host\");\n    Channel channel = session.openChannel(\"shell\");\n\n     OutputStream ops = channel.getOutputStream();\n     PrintStream ps = new PrintStream(ops);\n        channel.connect();\n            ps.println(\"show version\"); \n            ps.flush();\n            ps.close();\n            InputStream in=channel.getInputStream();\n            byte[] bt=new byte[1024];\n\n\n            while(in.available()&gt;0)\n            {\n                int i=in.read(bt, 0, 1024);\n                if(i&lt;0)\n                 break;\n                    String str=new String(bt, 0, i);\n                //displays the output of the command executed.\n                    System.out.print(str);\n            }\n\n    channel.disconnect();\n    session.disconnect();\n</code></pre>\n\n<p>When i debug the inputStream.isAvailable() always returns zero suggesting that there is no output from the command.  </p>\n\n<p>TIA!</p>\n"},{"tags":["java","android","android-recyclerview","android-database"],"comments":[{"owner":{"account_id":14823820,"reputation":132,"user_id":10705313,"display_name":"pouya"},"score":0,"creation_date":1692814585,"post_id":76963835,"comment_id":135676726,"body_markdown":"provide your modal class ... if your madal has id, read the id column from your db write to your modal and then retrieve it !","body":"provide your modal class ... if your madal has id, read the id column from your db write to your modal and then retrieve it !"},{"owner":{"account_id":29285193,"reputation":1,"user_id":22436958,"display_name":"Orionbobo"},"score":0,"creation_date":1692815496,"post_id":76963835,"comment_id":135676904,"body_markdown":"@pouya I did provide the modal class, and it does have a get id/ set id","body":"@pouya I did provide the modal class, and it does have a get id/ set id"}],"answers":[{"tags":[],"owner":{"account_id":29285193,"reputation":1,"user_id":22436958,"display_name":"Orionbobo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692848645,"creation_date":1692848645,"answer_id":76966100,"question_id":76963835,"body_markdown":"I used the array id from onBindViewHolder, used CourseModal, and set the id. Then I got that id and switched cursor to use array indexing to change each record as themselves.","title":"How to retrieve database id when clicking recycler view in android studio?","body":"<p>I used the array id from onBindViewHolder, used CourseModal, and set the id. Then I got that id and switched cursor to use array indexing to change each record as themselves.</p>\n"}],"owner":{"account_id":29285193,"reputation":1,"user_id":22436958,"display_name":"Orionbobo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76966100,"answer_count":1,"score":0,"last_activity_date":1692848645,"creation_date":1692813541,"question_id":76963835,"body_markdown":"I&#39;ve been working on an android app, and I need to get the database id when I click on specific row in the recycler view. When I wrote this app previously I updated and deleted the records based on their names, however when I came back to this project I learned pretty quick that deleted or/and changed all the records with that name. Then I wrote a simple rawQuery to get the id from a name list, using cursor. Learned that, that would pull all the ids with that name but I didnt know which one to choose, (since that query would pull options for the ids I had to choose).\r\n\r\n```\r\n public Cursor getDbId(String studentName) {\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        Cursor getDb = (db.rawQuery(&quot;SELECT &quot; + ID_COL + &quot; FROM &quot; + TABLE_NAME + &quot; WHERE &quot; + NAME_COL + &quot; = ?&quot;, new String[]{studentName}));\r\n        getDb.moveToFirst();\r\n        return getDb;\r\n    }\r\n```\r\n\r\n\r\n```\r\n updateCourseBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n\r\n                if (cursor != null &amp;&amp; cursor.moveToNext()) {\r\n                    String str = cursor.getString(cursor.getColumnIndex(&quot;id&quot;));\r\n\r\n\r\n                    System.out.println(str);\r\n                    dbHandler.updateCourse(str, studentNameUpd.getText().toString(), studentSubjectUpd.getText().toString(), studentHoursUpd.getText().toString(), studentCoreUpd.getText().toString());\r\n\r\n                    // displaying a toast message that our course has been updated.\r\n                    Toast.makeText(UpdateCourseActivity.this, &quot;Course Updated..&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    // launching our main activity.\r\n                    Intent i = new Intent(UpdateCourseActivity.this, MainActivity.class);\r\n                    startActivity(i);\r\n                }\r\n                /* inside this method we are calling an update course\r\n                   method and passing all our edit text values. */\r\n\r\n            }\r\n        });\r\n```\r\n\r\n\r\n```\r\n@Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n//        Cursor cursor = dbHandler.getDbId(studentName);\r\n        /* on below line we are setting data\r\n           to our views of recycler view item. */\r\n        CourseModal modal = courseModalArrayList.get(position);\r\n\r\n        holder.studentNameRV.setText(modal.getStudentName());\r\n        holder.studentCoreRV.setText(modal.getStudentCore());\r\n        holder.studentSubjectRV.setText(modal.getStudentSubject());\r\n        holder.studentHoursRV.setText(modal.getStudentHours());\r\n\r\n\r\n\r\n        // below line is to add on click listener for our recycler view item.\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                System.out.println();\r\n\r\n;\r\n                // on below line we are calling an intent.\r\n                Intent i = new Intent(context, UpdateCourseActivity.class);\r\n\r\n                // below we are passing all our values.\r\n                i.putExtra(&quot;name&quot;, modal.getStudentName());\r\n                i.putExtra(&quot;core&quot;, modal.getStudentCore());\r\n                i.putExtra(&quot;subject&quot;, modal.getStudentSubject());\r\n                i.putExtra(&quot;hours&quot;, modal.getStudentHours());\r\n\r\n\r\n                // starting our activity.\r\n                context.startActivity(i);\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\n    public class CourseModal {\r\n\r\n    /* variables for our studentName,\r\n       description, tracks and duration, id. */\r\n    private String studentName;\r\n    private String studentSubject;\r\n    private String studentHours;\r\n    private String studentCore;\r\n\r\n    public String getStudentName() {\r\n        return studentName;\r\n    }\r\n\r\n    public void setStudentName(String studentName) {\r\n        this.studentName = studentName;\r\n    }\r\n\r\n    public String getStudentSubject() {\r\n        return studentSubject;\r\n    }\r\n\r\n    public void setStudentSubject(String studentSubject) {\r\n        this.studentSubject = studentSubject;\r\n    }\r\n\r\n    public String getStudentHours() {\r\n        return studentHours;\r\n    }\r\n\r\n    public void setStudentHours(String studentHours) {\r\n        this.studentHours = studentHours;\r\n    }\r\n\r\n    public String getStudentCore() {\r\n        return studentCore;\r\n    }\r\n\r\n    public void setStudentCore(String studentCore) {\r\n        this.studentCore = studentCore;\r\n    }\r\n\r\n    private int id;\r\n    int o = 0;\r\n    int i = 0;\r\n\r\n    // creating getter and setter methods\r\n    \r\n\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    // constructor\r\n    public CourseModal(String studentName, String studentSubject, String studentHours, String studentCore) {\r\n        this.studentName = studentName;\r\n        this.studentSubject = studentSubject;\r\n        this.studentHours = studentHours;\r\n        this.studentCore = studentCore;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\nI also did try to use the onBindViewHolder position since that would get me a position of what item i clicked. I thought that would pull from the database. However since onBindViewHolder is for me pulling an array id list, that didn&#39;t work. ","title":"How to retrieve database id when clicking recycler view in android studio?","body":"<p>I've been working on an android app, and I need to get the database id when I click on specific row in the recycler view. When I wrote this app previously I updated and deleted the records based on their names, however when I came back to this project I learned pretty quick that deleted or/and changed all the records with that name. Then I wrote a simple rawQuery to get the id from a name list, using cursor. Learned that, that would pull all the ids with that name but I didnt know which one to choose, (since that query would pull options for the ids I had to choose).</p>\n<pre><code> public Cursor getDbId(String studentName) {\n\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        Cursor getDb = (db.rawQuery(&quot;SELECT &quot; + ID_COL + &quot; FROM &quot; + TABLE_NAME + &quot; WHERE &quot; + NAME_COL + &quot; = ?&quot;, new String[]{studentName}));\n        getDb.moveToFirst();\n        return getDb;\n    }\n</code></pre>\n<pre><code> updateCourseBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n\n                if (cursor != null &amp;&amp; cursor.moveToNext()) {\n                    String str = cursor.getString(cursor.getColumnIndex(&quot;id&quot;));\n\n\n                    System.out.println(str);\n                    dbHandler.updateCourse(str, studentNameUpd.getText().toString(), studentSubjectUpd.getText().toString(), studentHoursUpd.getText().toString(), studentCoreUpd.getText().toString());\n\n                    // displaying a toast message that our course has been updated.\n                    Toast.makeText(UpdateCourseActivity.this, &quot;Course Updated..&quot;, Toast.LENGTH_SHORT).show();\n\n                    // launching our main activity.\n                    Intent i = new Intent(UpdateCourseActivity.this, MainActivity.class);\n                    startActivity(i);\n                }\n                /* inside this method we are calling an update course\n                   method and passing all our edit text values. */\n\n            }\n        });\n</code></pre>\n<pre><code>@Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n//        Cursor cursor = dbHandler.getDbId(studentName);\n        /* on below line we are setting data\n           to our views of recycler view item. */\n        CourseModal modal = courseModalArrayList.get(position);\n\n        holder.studentNameRV.setText(modal.getStudentName());\n        holder.studentCoreRV.setText(modal.getStudentCore());\n        holder.studentSubjectRV.setText(modal.getStudentSubject());\n        holder.studentHoursRV.setText(modal.getStudentHours());\n\n\n\n        // below line is to add on click listener for our recycler view item.\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                System.out.println();\n\n;\n                // on below line we are calling an intent.\n                Intent i = new Intent(context, UpdateCourseActivity.class);\n\n                // below we are passing all our values.\n                i.putExtra(&quot;name&quot;, modal.getStudentName());\n                i.putExtra(&quot;core&quot;, modal.getStudentCore());\n                i.putExtra(&quot;subject&quot;, modal.getStudentSubject());\n                i.putExtra(&quot;hours&quot;, modal.getStudentHours());\n\n\n                // starting our activity.\n                context.startActivity(i);\n            }\n        });\n    }\n</code></pre>\n<pre><code>public class CourseModal {\n\n/* variables for our studentName,\n   description, tracks and duration, id. */\nprivate String studentName;\nprivate String studentSubject;\nprivate String studentHours;\nprivate String studentCore;\n\npublic String getStudentName() {\n    return studentName;\n}\n\npublic void setStudentName(String studentName) {\n    this.studentName = studentName;\n}\n\npublic String getStudentSubject() {\n    return studentSubject;\n}\n\npublic void setStudentSubject(String studentSubject) {\n    this.studentSubject = studentSubject;\n}\n\npublic String getStudentHours() {\n    return studentHours;\n}\n\npublic void setStudentHours(String studentHours) {\n    this.studentHours = studentHours;\n}\n\npublic String getStudentCore() {\n    return studentCore;\n}\n\npublic void setStudentCore(String studentCore) {\n    this.studentCore = studentCore;\n}\n\nprivate int id;\nint o = 0;\nint i = 0;\n\n// creating getter and setter methods\n\n\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\n// constructor\npublic CourseModal(String studentName, String studentSubject, String studentHours, String studentCore) {\n    this.studentName = studentName;\n    this.studentSubject = studentSubject;\n    this.studentHours = studentHours;\n    this.studentCore = studentCore;\n}\n</code></pre>\n<p>}</p>\n<p>I also did try to use the onBindViewHolder position since that would get me a position of what item i clicked. I thought that would pull from the database. However since onBindViewHolder is for me pulling an array id list, that didn't work.</p>\n"},{"tags":["java","git","github","architecture","repository"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":0,"creation_date":1570195137,"post_id":58237041,"comment_id":102847268,"body_markdown":"Don&#39;t use git as a dependency managed.","body":"Don&#39;t use git as a dependency managed."}],"answers":[{"tags":[],"owner":{"account_id":4142918,"reputation":1714,"user_id":3397563,"accept_rate":75,"display_name":"oktapodia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570194670,"creation_date":1570194670,"answer_id":58237138,"question_id":58237041,"body_markdown":"This [thread][1] can give you the right answer of how to organize the project, but remember that it will only be an opinion based answer as there is not the best way to do it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14679614/whats-the-best-practice-for-putting-multiple-projects-in-a-git-repository","title":"Multiple projects in one repository GitHub","body":"<p>This <a href=\"https://stackoverflow.com/questions/14679614/whats-the-best-practice-for-putting-multiple-projects-in-a-git-repository\">thread</a> can give you the right answer of how to organize the project, but remember that it will only be an opinion based answer as there is not the best way to do it.</p>\n"},{"tags":[],"owner":{"account_id":12661572,"reputation":1588,"user_id":9202256,"display_name":"Shmuel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1570195412,"creation_date":1570195412,"answer_id":58237330,"question_id":58237041,"body_markdown":"You should put each of them in its own git repository.\r\n\r\nYou then can use git submodules to add depending project to another. \r\n\r\nExample:\r\nProject A will contain project B as submodule.\r\n\r\n[Read more about git submodules](https://chrisjean.com/git-submodules-adding-using-removing-and-updating/) &lt;br&gt;\r\n[Official documentation](https://git-scm.com/book/en/v2/Git-Tools-Submodules)","title":"Multiple projects in one repository GitHub","body":"<p>You should put each of them in its own git repository.</p>\n\n<p>You then can use git submodules to add depending project to another. </p>\n\n<p>Example:\nProject A will contain project B as submodule.</p>\n\n<p><a href=\"https://chrisjean.com/git-submodules-adding-using-removing-and-updating/\" rel=\"nofollow noreferrer\">Read more about git submodules</a> <br>\n<a href=\"https://git-scm.com/book/en/v2/Git-Tools-Submodules\" rel=\"nofollow noreferrer\">Official documentation</a></p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570197180,"creation_date":1570196756,"answer_id":58237685,"question_id":58237041,"body_markdown":"In fact your question could be summarized as : should I use a mono-repo approach or a multi-repo approach ?   \r\nThat is broad subject but to make things simple: it depends on the coupling level and the life cycle between these projects.  \r\n\r\nYou want to use a mono repo approach and add multiple projects in if these projects are designed to live and evolve together. For example, if only these projects have dependency between them and that when you change a dependency you will change the consumer, you have clearly no value to split out them in multiple repositories.  \r\nIt will make global source code readability weaker and commit/pull/request/merge on multiple repositories for a same use case, which makes their readability and their consistence weaker. \r\n\r\nYou want to use a multi-repo approach and to have a project by repo in if these projects are not designed to live and evolve together. For example, if some of these projects are used by other applications than those you quote, you have no value to couple the project dependency inside the repository of the consumer project  because there are other consumers, so why that consumer and not the other one ? \r\n\r\nYou have also [the super mono repo approach][1] such as that one used by Google or Facebook that adds **all** projects (or almost) in the same repository, whatever the level of coupling between projects.\r\nDoing such a thing is not simple and demands to custom finely the CDCI and the SCM tools to keep things practical and simple in spit of the repo size.\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Monorepo","title":"Multiple projects in one repository GitHub","body":"<p>In fact your question could be summarized as : should I use a mono-repo approach or a multi-repo approach ?<br>\nThat is broad subject but to make things simple: it depends on the coupling level and the life cycle between these projects.  </p>\n\n<p>You want to use a mono repo approach and add multiple projects in if these projects are designed to live and evolve together. For example, if only these projects have dependency between them and that when you change a dependency you will change the consumer, you have clearly no value to split out them in multiple repositories.<br>\nIt will make global source code readability weaker and commit/pull/request/merge on multiple repositories for a same use case, which makes their readability and their consistence weaker. </p>\n\n<p>You want to use a multi-repo approach and to have a project by repo in if these projects are not designed to live and evolve together. For example, if some of these projects are used by other applications than those you quote, you have no value to couple the project dependency inside the repository of the consumer project  because there are other consumers, so why that consumer and not the other one ? </p>\n\n<p>You have also <a href=\"https://en.wikipedia.org/wiki/Monorepo\" rel=\"nofollow noreferrer\">the super mono repo approach</a> such as that one used by Google or Facebook that adds <strong>all</strong> projects (or almost) in the same repository, whatever the level of coupling between projects.\nDoing such a thing is not simple and demands to custom finely the CDCI and the SCM tools to keep things practical and simple in spit of the repo size.</p>\n"},{"tags":[],"owner":{"account_id":22169319,"reputation":9,"user_id":16415026,"display_name":"Furkan Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654452387,"creation_date":1654241138,"answer_id":72486091,"question_id":58237041,"body_markdown":"Apologies as it&#39;s not that concrete solution to it but it does the job, what I tried is I had a situation where for some reason I had to add all the projects to one repository only so I followed the following steps :\r\n\r\n 1. Create a new repository with the main branch (Keep it Empty)\r\n 2. Create a branch from Main (Empty) with the respective project name (Create as many as branches you want with the respective projects you have)\r\n 3. Then Checkout to that branch with the command:\r\n```\r\n$git checkout -b &lt;branch_name&gt;\r\n```\r\n 4. If the origin is already there then remove it first then add the newly created remote origin with the following commands:\r\n```\r\n$ git remote rm origin  (To remove remote origin)\r\n\r\n$ git remote add origin https://github.com/&lt;USERNAME&gt;/&lt;REPO_NAME&gt;.git\r\n```\r\n 5. For authorization of the operation you need to use the following command:\r\n```\r\n$ git remote set-url origin &lt;Access_Token&gt;@github.com/&lt;USERNAME&gt;/&lt;REPO_NAME&gt;.git\r\n```\r\n 6. Now, you can push the code and files to the branch directly by the following command:\r\n```\r\n$ git push -u -f origin &lt;branch_name&gt;\r\n```\r\n 7. If the above command is throwing an error then try first adding the files by the following command and then try step 6 again.\r\n```\r\n$ git add .\r\n```\r\nThis worked for me, as whenever I want to change/pull something in any project I just clone a specific branch make changes in it and then push the changes to that specific branch only. This way you can have multiple projects under one repo. I tried this solution by myself only to bypass the tricky way of Orphan branches or having multiple Repos.\r\n\r\n","title":"Multiple projects in one repository GitHub","body":"<p>Apologies as it's not that concrete solution to it but it does the job, what I tried is I had a situation where for some reason I had to add all the projects to one repository only so I followed the following steps :</p>\n<ol>\n<li>Create a new repository with the main branch (Keep it Empty)</li>\n<li>Create a branch from Main (Empty) with the respective project name (Create as many as branches you want with the respective projects you have)</li>\n<li>Then Checkout to that branch with the command:</li>\n</ol>\n<pre><code>$git checkout -b &lt;branch_name&gt;\n</code></pre>\n<ol start=\"4\">\n<li>If the origin is already there then remove it first then add the newly created remote origin with the following commands:</li>\n</ol>\n<pre><code>$ git remote rm origin  (To remove remote origin)\n\n$ git remote add origin https://github.com/&lt;USERNAME&gt;/&lt;REPO_NAME&gt;.git\n</code></pre>\n<ol start=\"5\">\n<li>For authorization of the operation you need to use the following command:</li>\n</ol>\n<pre><code>$ git remote set-url origin &lt;Access_Token&gt;@github.com/&lt;USERNAME&gt;/&lt;REPO_NAME&gt;.git\n</code></pre>\n<ol start=\"6\">\n<li>Now, you can push the code and files to the branch directly by the following command:</li>\n</ol>\n<pre><code>$ git push -u -f origin &lt;branch_name&gt;\n</code></pre>\n<ol start=\"7\">\n<li>If the above command is throwing an error then try first adding the files by the following command and then try step 6 again.</li>\n</ol>\n<pre><code>$ git add .\n</code></pre>\n<p>This worked for me, as whenever I want to change/pull something in any project I just clone a specific branch make changes in it and then push the changes to that specific branch only. This way you can have multiple projects under one repo. I tried this solution by myself only to bypass the tricky way of Orphan branches or having multiple Repos.</p>\n"}],"owner":{"account_id":15083126,"reputation":346,"user_id":10885193,"display_name":"Jules"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10338,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":58237330,"answer_count":4,"score":3,"last_activity_date":1692847515,"creation_date":1570194283,"question_id":58237041,"body_markdown":"I have 5 java projects working together. At first I was working alone on these projects. Now someone joined me and we actually need to use GitHub to work efficiently.\r\n\r\n* Project A is let&#39;s say the master project it doesn&#39;t depend from any others.\r\n* Project B is depending from project A.\r\n* Project C is depending from B and A.\r\n* Project D etc etc.\r\n\r\nI&#39;m facing a design problem:\r\n\r\n* Should I use one git repo and put all of them together but in different folders?\r\n* Should I use different git repo and keep them independant (might be better for commiting)?\r\n* Should I use different git repo and regroup all of them in a single master git repo?","title":"Multiple projects in one repository GitHub","body":"<p>I have 5 java projects working together. At first I was working alone on these projects. Now someone joined me and we actually need to use GitHub to work efficiently.</p>\n<ul>\n<li>Project A is let's say the master project it doesn't depend from any others.</li>\n<li>Project B is depending from project A.</li>\n<li>Project C is depending from B and A.</li>\n<li>Project D etc etc.</li>\n</ul>\n<p>I'm facing a design problem:</p>\n<ul>\n<li>Should I use one git repo and put all of them together but in different folders?</li>\n<li>Should I use different git repo and keep them independant (might be better for commiting)?</li>\n<li>Should I use different git repo and regroup all of them in a single master git repo?</li>\n</ul>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":7,"creation_date":1431092402,"post_id":30125296,"comment_id":48360174,"body_markdown":"_&quot;but the syntax does not feel right&quot;_ What makes you think that? This is the usual idiom. Maybe you want to use `mapToLong` to avoid overflows, depending on the values your map can have.","body":"<i>&quot;but the syntax does not feel right&quot;</i> What makes you think that? This is the usual idiom. Maybe you want to use <code>mapToLong</code> to avoid overflows, depending on the values your map can have."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":3,"creation_date":1431093014,"post_id":30125296,"comment_id":48360589,"body_markdown":"@JBNizet I find `i -&gt; i` very clear, personally. Well, yes you need to know that the value will be automatically unboxed, but it&#39;s true since Java 5...","body":"@JBNizet I find <code>i -&gt; i</code> very clear, personally. Well, yes you need to know that the value will be automatically unboxed, but it&#39;s true since Java 5..."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1431093262,"post_id":30125296,"comment_id":48360764,"body_markdown":"@AlexisC. it&#39;s understandable because it&#39;s passed to mapToInt(), and because I&#39;m an experienced developer. But i -&gt; i, without context, looks like a noop. Integer::intValue is more verbose, but makes the unboxing operation explicit.","body":"@AlexisC. it&#39;s understandable because it&#39;s passed to mapToInt(), and because I&#39;m an experienced developer. But i -&gt; i, without context, looks like a noop. Integer::intValue is more verbose, but makes the unboxing operation explicit."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1431093541,"post_id":30125296,"comment_id":48360961,"body_markdown":"@JBNizet People that calls the method `foo(int i)` do not write `foo(myInteger.intValue());` each time they call it (or at least I expect not!!). I agree with you that `Integer::intValue` is more explicit but I think the same applies here. People should just learn it once and then you&#39;re done :-). It&#39;s not like if it was some magic obfuscation.","body":"@JBNizet People that calls the method <code>foo(int i)</code> do not write <code>foo(myInteger.intValue());</code> each time they call it (or at least I expect not!!). I agree with you that <code>Integer::intValue</code> is more explicit but I think the same applies here. People should just learn it once and then you&#39;re done :-). It&#39;s not like if it was some magic obfuscation."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1431095413,"post_id":30125296,"comment_id":48362141,"body_markdown":"@JB Nizet: well, `i -&gt; i` looks like a no-op and conceptionally, it *is* a no-op. Sure, under the hood `Integer.intValue()` gets called, but even deeper under the hood, that methods gets inlined to become exactly the no-op that it looks like in the source code. `Integer::intValue` has the bonus point of not creating a synthetic method in the byte code but itâ€™s not what should drive your decision of how to organize your source code.","body":"@JB Nizet: well, <code>i -&gt; i</code> looks like a no-op and conceptionally, it <i>is</i> a no-op. Sure, under the hood <code>Integer.intValue()</code> gets called, but even deeper under the hood, that methods gets inlined to become exactly the no-op that it looks like in the source code. <code>Integer::intValue</code> has the bonus point of not creating a synthetic method in the byte code but itâ€™s not what should drive your decision of how to organize your source code."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1431095639,"post_id":30125296,"comment_id":48362327,"body_markdown":"@Holger that&#39;s my point: it looks like a noop, and the reader thus has a good chance of asking himself why a noop is used in the code every time he/she will read that code. That&#39;s why I prefer Integer::intValue: it says exactly and explicitely what the operation is doing.","body":"@Holger that&#39;s my point: it looks like a noop, and the reader thus has a good chance of asking himself why a noop is used in the code every time he/she will read that code. That&#39;s why I prefer Integer::intValue: it says exactly and explicitely what the operation is doing."},{"owner":{"account_id":480845,"reputation":71,"user_id":894319,"display_name":"user894319twitter"},"score":0,"creation_date":1700106488,"post_id":30125296,"comment_id":136614900,"body_markdown":"Integer overflow and underflow can happen even with 1 value which is close to the limit. Comments about BigInt aren&#39;t pointless!!!","body":"Integer overflow and underflow can happen even with 1 value which is close to the limit. Comments about BigInt aren&#39;t pointless!!!"}],"answers":[{"tags":[],"owner":{"account_id":5956954,"reputation":3080,"user_id":4683264,"accept_rate":92,"display_name":"J Atkin"},"down_vote_count":0,"up_vote_count":97,"is_accepted":false,"score":97,"last_activity_date":1454445519,"creation_date":1431092703,"answer_id":30125423,"question_id":30125296,"body_markdown":"From the [docs](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html)\r\n\r\n&gt;Reduction operations\r\nA reduction operation (also called a fold) takes a sequence of input elements and combines them into a single summary result by repeated application of a combining operation, such as finding the sum or maximum of a set of numbers, or accumulating elements into a list. The streams classes have multiple forms of general reduction operations, called reduce() and collect(), as well as multiple specialized reduction forms such as sum(), max(), or count().\r\n\r\n&gt;Of course, such operations can be readily implemented as simple sequential loops, as in:\r\n\r\n\r\n&gt;     int sum = 0;\r\n    for (int x : numbers) {\r\n       sum += x;\r\n    }\r\n \r\n\r\n&gt;However, there are good reasons to prefer a reduce operation over a mutative accumulation such as the above. Not only is a reduction &quot;more abstract&quot; -- it operates on the stream as a whole rather than individual elements -- but a properly constructed reduce operation is inherently parallelizable, so long as the function(s) used to process the elements are associative and stateless. For example, given a stream of numbers for which we want to find the sum, we can write:\r\n\r\n\r\n&gt;     int sum = numbers.stream().reduce(0, (x,y) -&gt; x+y);\r\n \r\n\r\n&gt;or:\r\n\r\n\r\n&gt;     int sum = numbers.stream().reduce(0, Integer::sum);\r\n \r\n\r\n&gt;These reduction operations can run safely in parallel with almost no modification:\r\n\r\n\r\n&gt;     int sum = numbers.parallelStream().reduce(0, Integer::sum);\r\n\r\nSo, for a map you would use:\r\n\r\n    integers.values().stream().mapToInt(i -&gt; i).reduce(0, (x,y) -&gt; x+y);\r\n\r\nOr:\r\n\r\n    integers.values().stream().reduce(0, Integer::sum);\r\n\r\n ","title":"How to sum a list of integers with java streams?","body":"<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\">docs</a></p>\n\n<blockquote>\n  <p>Reduction operations\n  A reduction operation (also called a fold) takes a sequence of input elements and combines them into a single summary result by repeated application of a combining operation, such as finding the sum or maximum of a set of numbers, or accumulating elements into a list. The streams classes have multiple forms of general reduction operations, called reduce() and collect(), as well as multiple specialized reduction forms such as sum(), max(), or count().</p>\n  \n  <p>Of course, such operations can be readily implemented as simple sequential loops, as in:</p>\n\n<pre><code>int sum = 0;\nfor (int x : numbers) {\n   sum += x;\n}\n</code></pre>\n  \n  <p>However, there are good reasons to prefer a reduce operation over a mutative accumulation such as the above. Not only is a reduction \"more abstract\" -- it operates on the stream as a whole rather than individual elements -- but a properly constructed reduce operation is inherently parallelizable, so long as the function(s) used to process the elements are associative and stateless. For example, given a stream of numbers for which we want to find the sum, we can write:</p>\n\n<pre><code>int sum = numbers.stream().reduce(0, (x,y) -&gt; x+y);\n</code></pre>\n  \n  <p>or:</p>\n\n<pre><code>int sum = numbers.stream().reduce(0, Integer::sum);\n</code></pre>\n  \n  <p>These reduction operations can run safely in parallel with almost no modification:</p>\n\n<pre><code>int sum = numbers.parallelStream().reduce(0, Integer::sum);\n</code></pre>\n</blockquote>\n\n<p>So, for a map you would use:</p>\n\n<pre><code>integers.values().stream().mapToInt(i -&gt; i).reduce(0, (x,y) -&gt; x+y);\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>integers.values().stream().reduce(0, Integer::sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"down_vote_count":0,"up_vote_count":181,"is_accepted":false,"score":181,"last_activity_date":1499964643,"creation_date":1431092893,"answer_id":30125487,"question_id":30125296,"body_markdown":"I suggest 2 more options:\r\n\r\n    integers.values().stream().mapToInt(Integer::intValue).sum();\r\n    integers.values().stream().collect(Collectors.summingInt(Integer::intValue));\r\n\r\nThe second one uses [`Collectors.summingInt()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#summingInt-java.util.function.ToIntFunction-) collector, there is also a `summingLong()` collector which you would use with `mapToLong`.\r\n\r\n----\r\n\r\nAnd a third option: Java 8 introduces a very effective [`LongAdder`][1] accumulator designed to speed-up summarizing in parallel streams and multi-thread environments. Here, here&#39;s an example use:\r\n\r\n    LongAdder a = new LongAdder();\r\n    map.values().parallelStream().forEach(a::add);\r\n    sum = a.intValue();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/LongAdder.html","title":"How to sum a list of integers with java streams?","body":"<p>I suggest 2 more options:</p>\n\n<pre><code>integers.values().stream().mapToInt(Integer::intValue).sum();\nintegers.values().stream().collect(Collectors.summingInt(Integer::intValue));\n</code></pre>\n\n<p>The second one uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#summingInt-java.util.function.ToIntFunction-\" rel=\"noreferrer\"><code>Collectors.summingInt()</code></a> collector, there is also a <code>summingLong()</code> collector which you would use with <code>mapToLong</code>.</p>\n\n<hr>\n\n<p>And a third option: Java 8 introduces a very effective <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/LongAdder.html\" rel=\"noreferrer\"><code>LongAdder</code></a> accumulator designed to speed-up summarizing in parallel streams and multi-thread environments. Here, here's an example use:</p>\n\n<pre><code>LongAdder a = new LongAdder();\nmap.values().parallelStream().forEach(a::add);\nsum = a.intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5785597,"reputation":9456,"user_id":4564945,"display_name":"Necreaux"},"down_vote_count":0,"up_vote_count":640,"is_accepted":false,"score":640,"last_activity_date":1621876892,"creation_date":1431093002,"answer_id":30125523,"question_id":30125296,"body_markdown":"This will work, but the `i -&gt; i` is doing some automatic unboxing which is why it &quot;feels&quot; strange. `mapToInt` converts the stream to an `IntStream`  &quot;of primitive int-valued elements&quot;.  Either of the following will work and better explain what the compiler is doing under the hood with your original syntax:\r\n\r\n    integers.values().stream().mapToInt(i -&gt; i.intValue()).sum();\r\n    integers.values().stream().mapToInt(Integer::intValue).sum();\r\n","title":"How to sum a list of integers with java streams?","body":"<p>This will work, but the <code>i -&gt; i</code> is doing some automatic unboxing which is why it &quot;feels&quot; strange. <code>mapToInt</code> converts the stream to an <code>IntStream</code>  &quot;of primitive int-valued elements&quot;.  Either of the following will work and better explain what the compiler is doing under the hood with your original syntax:</p>\n<pre><code>integers.values().stream().mapToInt(i -&gt; i.intValue()).sum();\nintegers.values().stream().mapToInt(Integer::intValue).sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":56980,"reputation":9928,"user_id":170664,"accept_rate":48,"display_name":"Saeed Zarinfam"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1514201617,"creation_date":1453892965,"answer_id":35035659,"question_id":30125296,"body_markdown":"You can use reduce method:\r\n\r\n    long sum = result.stream().map(e -&gt; e.getCreditAmount()).reduce(0L, (x, y) -&gt; x + y);\r\n\r\nor\r\n\r\n    long sum = result.stream().map(e -&gt; e.getCreditAmount()).reduce(0L, Integer::sum);\r\n","title":"How to sum a list of integers with java streams?","body":"<p>You can use reduce method:</p>\n\n<pre><code>long sum = result.stream().map(e -&gt; e.getCreditAmount()).reduce(0L, (x, y) -&gt; x + y);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>long sum = result.stream().map(e -&gt; e.getCreditAmount()).reduce(0L, Integer::sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10960916,"reputation":296,"user_id":8054264,"display_name":"Ashish Jha"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1521355264,"creation_date":1521355193,"answer_id":49345164,"question_id":30125296,"body_markdown":"You can use collect method to add list of integers.\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(2, 4, 5, 6);\r\n    int sum = list.stream().collect(Collectors.summingInt(Integer::intValue));","title":"How to sum a list of integers with java streams?","body":"<p>You can use collect method to add list of integers.</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(2, 4, 5, 6);\nint sum = list.stream().collect(Collectors.summingInt(Integer::intValue));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7244674,"reputation":331,"user_id":5527030,"display_name":"Johnson Abraham"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1535242700,"creation_date":1535241599,"answer_id":52022173,"question_id":30125296,"body_markdown":"You can use `reduce()` to sum a list of integers.\r\n\r\n    int sum = integers.values().stream().reduce(0, Integer::sum);","title":"How to sum a list of integers with java streams?","body":"<p>You can use <code>reduce()</code> to sum a list of integers.</p>\n\n<pre><code>int sum = integers.values().stream().reduce(0, Integer::sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2310423,"reputation":1418,"user_id":2028671,"display_name":"Sachith Dickwella"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1555054326,"creation_date":1555054326,"answer_id":55646615,"question_id":30125296,"body_markdown":"This would be the shortest way to sum up `int` type array (for `long` array `LongStream`, for `double` array `DoubleStream` and so forth). Not all the primitive integer or floating point types have the `Stream` implementation though. \r\n\r\n    IntStream.of(integers).sum();","title":"How to sum a list of integers with java streams?","body":"<p>This would be the shortest way to sum up <code>int</code> type array (for <code>long</code> array <code>LongStream</code>, for <code>double</code> array <code>DoubleStream</code> and so forth). Not all the primitive integer or floating point types have the <code>Stream</code> implementation though. </p>\n\n<pre><code>IntStream.of(integers).sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1562756019,"creation_date":1562756019,"answer_id":56969167,"question_id":30125296,"body_markdown":"I have declared a list of Integers. \r\n\r\n\r\n    ArrayList&lt;Integer&gt; numberList = new ArrayList&lt;Integer&gt;(Arrays.asList(1, 2, 3, 4, 5));\r\n\r\nYou can try using these different ways below.\r\n\r\nUsing `mapToInt`\r\n\r\n    int sum = numberList.stream().mapToInt(Integer::intValue).sum();\r\n\r\nUsing `summarizingInt`\r\n\r\n    int sum = numberList.stream().collect(Collectors.summarizingInt(Integer::intValue)).getSum();\r\n\r\nUsing `reduce`\r\n\r\n    int sum = numberList.stream().reduce(Integer::sum).get().intValue();\r\n\r\n","title":"How to sum a list of integers with java streams?","body":"<p>I have declared a list of Integers. </p>\n\n<pre><code>ArrayList&lt;Integer&gt; numberList = new ArrayList&lt;Integer&gt;(Arrays.asList(1, 2, 3, 4, 5));\n</code></pre>\n\n<p>You can try using these different ways below.</p>\n\n<p>Using <code>mapToInt</code></p>\n\n<pre><code>int sum = numberList.stream().mapToInt(Integer::intValue).sum();\n</code></pre>\n\n<p>Using <code>summarizingInt</code></p>\n\n<pre><code>int sum = numberList.stream().collect(Collectors.summarizingInt(Integer::intValue)).getSum();\n</code></pre>\n\n<p>Using <code>reduce</code></p>\n\n<pre><code>int sum = numberList.stream().reduce(Integer::sum).get().intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1576595895,"creation_date":1576595895,"answer_id":59377193,"question_id":30125296,"body_markdown":"**May this help those who have objects on the list.**\r\n\r\nIf you have a list of objects and wanted to sum specific fields of this object use the below.\r\n\r\n\r\n    List&lt;ResultSom&gt; somList = MyUtil.getResultSom();\r\n    BigDecimal result= somList.stream().map(ResultSom::getNetto).reduce(\r\n                                                 BigDecimal.ZERO, BigDecimal::add);","title":"How to sum a list of integers with java streams?","body":"<p><strong>May this help those who have objects on the list.</strong></p>\n\n<p>If you have a list of objects and wanted to sum specific fields of this object use the below.</p>\n\n<pre><code>List&lt;ResultSom&gt; somList = MyUtil.getResultSom();\nBigDecimal result= somList.stream().map(ResultSom::getNetto).reduce(\n                                             BigDecimal.ZERO, BigDecimal::add);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621881306,"creation_date":1621881306,"answer_id":67677241,"question_id":30125296,"body_markdown":"Unfortunately looks like the Stream API only returns normal streams from, say, `List&lt;Integer&gt;#stream()`.  Guess they&#39;re pretty much forced to because of how generics work.  \r\n\r\nThese normal Streams are of generic objects so don&#39;t have specialized methods like `sum()` etc. so you have to use the weird re-stream &quot;looks like a no-op&quot;  conversion by default to get to those methods... `.mapToInt(i -&gt; i)`.\r\n\r\nAnother option is using &quot;[Eclipse Collections][1]&quot; which are like an expanded java Stream API\r\n\r\n `IntLists.immutable.ofAll(integers.values()).sum();`\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/javadoc/10.4.0/org/eclipse/collections/api/factory/list/primitive/ImmutableIntListFactory.html#ofAll(java.lang.Iterable)","title":"How to sum a list of integers with java streams?","body":"<p>Unfortunately looks like the Stream API only returns normal streams from, say, <code>List&lt;Integer&gt;#stream()</code>.  Guess they're pretty much forced to because of how generics work.</p>\n<p>These normal Streams are of generic objects so don't have specialized methods like <code>sum()</code> etc. so you have to use the weird re-stream &quot;looks like a no-op&quot;  conversion by default to get to those methods... <code>.mapToInt(i -&gt; i)</code>.</p>\n<p>Another option is using &quot;<a href=\"https://www.eclipse.org/collections/javadoc/10.4.0/org/eclipse/collections/api/factory/list/primitive/ImmutableIntListFactory.html#ofAll(java.lang.Iterable)\" rel=\"nofollow noreferrer\">Eclipse Collections</a>&quot; which are like an expanded java Stream API</p>\n<p><code>IntLists.immutable.ofAll(integers.values()).sum();</code></p>\n"},{"tags":[],"owner":{"account_id":482765,"reputation":4526,"user_id":897373,"accept_rate":85,"display_name":"SaÅ¡a"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649242864,"creation_date":1649241012,"answer_id":71765136,"question_id":30125296,"body_markdown":"There is one more option no one considered here and it reflects on usage of multi-core environment. If you want to use its advantages, then next code should be used instead of the other mentioned solutions:\r\n\r\n    int sum = integers.values().parallelStream().mapToInt(Integer::intValue)\r\n            .reduce(0, Integer::sum, Integer::sum);\r\n\r\nThis solution is similar to other ones, but please notice the third argument in reduce. It tells compiler what to do with partial summaries calculated in different chunks of the stream, by different threads. Also instead of `stream()`, the `parallelStream()` is used. In this case it would just summarize it. The other option to put as third argument is `(i, j) -&gt; i + j`, which means that it would add a value of a stream chunk (`j`) to the current value (`i`) and use it as a current value for the next stream chunk until all partial results are processed.\r\n\r\nEven when using plain `stream()` it is useful to tell to reduce what to do with stream chunks&#39; summaries, just in case someone, or you, would like to parallelize it in the future. The initial development is best time for that, since later on you need to remember what this is supposed to be and need to spend some time in understanding the purpose of that code again.\r\n\r\nAnd of course instead of method reference operator you can have different dialect of lambda. I prefer it this way as more compact and still easy readable.\r\n\r\nAlso remember this can be used for more complex calculations too, but always be aware there are no guarantees about sequence and deployment of stream elements to threads.","title":"How to sum a list of integers with java streams?","body":"<p>There is one more option no one considered here and it reflects on usage of multi-core environment. If you want to use its advantages, then next code should be used instead of the other mentioned solutions:</p>\n<pre><code>int sum = integers.values().parallelStream().mapToInt(Integer::intValue)\n        .reduce(0, Integer::sum, Integer::sum);\n</code></pre>\n<p>This solution is similar to other ones, but please notice the third argument in reduce. It tells compiler what to do with partial summaries calculated in different chunks of the stream, by different threads. Also instead of <code>stream()</code>, the <code>parallelStream()</code> is used. In this case it would just summarize it. The other option to put as third argument is <code>(i, j) -&gt; i + j</code>, which means that it would add a value of a stream chunk (<code>j</code>) to the current value (<code>i</code>) and use it as a current value for the next stream chunk until all partial results are processed.</p>\n<p>Even when using plain <code>stream()</code> it is useful to tell to reduce what to do with stream chunks' summaries, just in case someone, or you, would like to parallelize it in the future. The initial development is best time for that, since later on you need to remember what this is supposed to be and need to spend some time in understanding the purpose of that code again.</p>\n<p>And of course instead of method reference operator you can have different dialect of lambda. I prefer it this way as more compact and still easy readable.</p>\n<p>Also remember this can be used for more complex calculations too, but always be aware there are no guarantees about sequence and deployment of stream elements to threads.</p>\n"},{"tags":[],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669040846,"creation_date":1669040846,"answer_id":74520466,"question_id":30125296,"body_markdown":"    IntStream.of(1, 2, 23).sum();\r\n    IntStream.of(1, 2, 23,1, 2, 23,1, 2, 23).max().getAsInt();","title":"How to sum a list of integers with java streams?","body":"<pre><code>IntStream.of(1, 2, 23).sum();\nIntStream.of(1, 2, 23,1, 2, 23,1, 2, 23).max().getAsInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22100088,"reputation":31,"user_id":16356696,"display_name":"Jay Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692846942,"creation_date":1692846942,"answer_id":76966032,"question_id":30125296,"body_markdown":"Using **summingInt** \r\n\r\n    Integer sum= listInt.stream().collect(Collectors.summingInt(Integer::intValue));","title":"How to sum a list of integers with java streams?","body":"<p>Using <strong>summingInt</strong></p>\n<pre><code>Integer sum= listInt.stream().collect(Collectors.summingInt(Integer::intValue));\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561461,"favorite_count":0,"down_vote_count":0,"up_vote_count":480,"accepted_answer_id":49345164,"answer_count":13,"score":480,"last_activity_date":1692846942,"creation_date":1431092349,"question_id":30125296,"body_markdown":"I want to sum a list of Integers. It works as follows, but the syntax does not feel right. Could the code be optimized?\r\n\r\n    Map&lt;String, Integer&gt; integers;\r\n    integers.values().stream().mapToInt(i -&gt; i).sum();","title":"How to sum a list of integers with java streams?","body":"<p>I want to sum a list of Integers. It works as follows, but the syntax does not feel right. Could the code be optimized?</p>\n<pre><code>Map&lt;String, Integer&gt; integers;\nintegers.values().stream().mapToInt(i -&gt; i).sum();\n</code></pre>\n"},{"tags":["java","curl","hadoop-yarn","kerberos","kill"],"answers":[{"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692846865,"creation_date":1692846865,"answer_id":76966027,"question_id":76965536,"body_markdown":"I am not understand your kerberos implement.\\\r\nI suggest you my general implement.\\\r\nWhen you input your security authentication information,you may get a temporary authentication token, you could transfer this through the http header,and  get the http header on your java app  and then verify it with the temporary authentication token you have saved before.\\\r\nIf you really donâ€™t know how to do this implement functions ,maybe you could add more detail of your java program.Such as the java version ,your http communication framework etc.","title":"How to pass kerberos cred from Java","body":"<p>I am not understand your kerberos implement.<br />\nI suggest you my general implement.<br />\nWhen you input your security authentication information,you may get a temporary authentication token, you could transfer this through the http header,and  get the http header on your java app  and then verify it with the temporary authentication token you have saved before.<br />\nIf you really donâ€™t know how to do this implement functions ,maybe you could add more detail of your java program.Such as the java version ,your http communication framework etc.</p>\n"}],"owner":{"account_id":25954346,"reputation":19,"user_id":19671894,"display_name":"rajani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692846865,"creation_date":1692835288,"question_id":76965536,"body_markdown":"we are tyring to kill the yarn job from Java using http put call\r\nwith out kerberos it was working..\r\nbut after we enabling kerberos we are getting 403 error\r\n\r\nwe are able to generate kerberos credentials on App server. But how can we pass those credentials from java code.\r\n\r\n","title":"How to pass kerberos cred from Java","body":"<p>we are tyring to kill the yarn job from Java using http put call\nwith out kerberos it was working..\nbut after we enabling kerberos we are getting 403 error</p>\n<p>we are able to generate kerberos credentials on App server. But how can we pass those credentials from java code.</p>\n"},{"tags":["java","logging","configuration","log4j","log4j2"],"comments":[{"owner":{"account_id":37491,"reputation":2118,"user_id":107177,"display_name":"Onots"},"score":0,"creation_date":1391136775,"post_id":21471408,"comment_id":32406376,"body_markdown":"Please provide us with more information. Add some code that logs a message and possibly a sample of the actual output you have now. With more information you&#39;re likely to get more/better help!","body":"Please provide us with more information. Add some code that logs a message and possibly a sample of the actual output you have now. With more information you&#39;re likely to get more/better help!"}],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1391217974,"creation_date":1391217974,"answer_id":21492982,"question_id":21471408,"body_markdown":"Both your root logger and your named loggers are referring to the same appender. \r\nEach active logger will send an event to its appender, so the appender will receive the event multiple times, once for each logger. (The root logger will get all events, the named loggers will only get the events emitted by the Logger in your code with a matching name.)\r\n\r\nThis is called Additivity. See http://logging.apache.org/log4j/2.x/manual/configuration.html#Additivity\r\n\r\nYou can set additivity=&quot;false&quot; in the named logger config.  ","title":"My log4j2 log file always have double output of each line. How can I stop the duplication please?","body":"<p>Both your root logger and your named loggers are referring to the same appender. \nEach active logger will send an event to its appender, so the appender will receive the event multiple times, once for each logger. (The root logger will get all events, the named loggers will only get the events emitted by the Logger in your code with a matching name.)</p>\n\n<p>This is called Additivity. See <a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html#Additivity\">http://logging.apache.org/log4j/2.x/manual/configuration.html#Additivity</a></p>\n\n<p>You can set additivity=\"false\" in the named logger config.  </p>\n"},{"tags":[],"owner":{"account_id":17980360,"reputation":53,"user_id":13066866,"display_name":"shrexster42"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645550920,"creation_date":1645550920,"answer_id":71225740,"question_id":21471408,"body_markdown":"There is no need of specifying a separate appender for each named logger unless the destination is different than the root logger appender. You can also rewrite as below:\r\n\r\n```\r\n&lt;Root level=&quot;error&quot;&gt;\r\n        &lt;!-- &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt; --&gt;\r\n        &lt;AppenderRef ref=&quot;ROLLING_FILE&quot;/&gt;\r\n&lt;/Root&gt;\r\n&lt;!-- Controls packages --&gt;\r\n&lt;Logger name=&quot;com.jarmel.pharmacy.controls.BarCodeOrderServlet&quot; level=&quot;trace&quot;/&gt;\r\n        \r\n&lt;Logger name=&quot;com.jarmel.pharmacy.controls.GetCodeValues&quot; level=&quot;error&quot;/&gt;\r\n           \r\n&lt;Logger name=&quot;com.jarmel.pharmacy.controls.GetPersonnelServlet&quot; level=&quot;error&quot;/&gt;\r\n            \r\n```","title":"My log4j2 log file always have double output of each line. How can I stop the duplication please?","body":"<p>There is no need of specifying a separate appender for each named logger unless the destination is different than the root logger appender. You can also rewrite as below:</p>\n<pre><code>&lt;Root level=&quot;error&quot;&gt;\n        &lt;!-- &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt; --&gt;\n        &lt;AppenderRef ref=&quot;ROLLING_FILE&quot;/&gt;\n&lt;/Root&gt;\n&lt;!-- Controls packages --&gt;\n&lt;Logger name=&quot;com.jarmel.pharmacy.controls.BarCodeOrderServlet&quot; level=&quot;trace&quot;/&gt;\n        \n&lt;Logger name=&quot;com.jarmel.pharmacy.controls.GetCodeValues&quot; level=&quot;error&quot;/&gt;\n           \n&lt;Logger name=&quot;com.jarmel.pharmacy.controls.GetPersonnelServlet&quot; level=&quot;error&quot;/&gt;\n            \n</code></pre>\n"}],"owner":{"account_id":3941516,"reputation":279,"user_id":3255707,"display_name":"tsquare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16286,"favorite_count":0,"down_vote_count":2,"up_vote_count":28,"accepted_answer_id":21492982,"answer_count":2,"score":26,"last_activity_date":1692846241,"creation_date":1391134953,"question_id":21471408,"body_markdown":"My log4j2 log file always has double output of each line. How can I stop the duplication please?\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;properties&gt;\r\n        &lt;property name=&quot;name&quot;&gt;CernerPharmacyWebApp&lt;/property&gt;\r\n        &lt;property name=&quot;pattern&quot;&gt;%d %-5p %C{2} (%F:%L) - %m%n&lt;/property&gt;\r\n    &lt;/properties&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;ThresholdFilter level=&quot;error&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;${pattern}&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/Console&gt;\r\n        &lt;RollingFile name=&quot;ROLLING_FILE&quot; fileName=&quot;..\\logs\\${name}.log&quot;\r\n                     filePattern=&quot;..\\logs\\${name}-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;${pattern}&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy/&gt;&lt;!-- Rotated everyday --&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 50 MB --&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;error&quot;&gt;\r\n            &lt;!-- &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt; --&gt;\r\n            &lt;AppenderRef ref=&quot;ROLLING_FILE&quot;/&gt;\r\n        &lt;/Root&gt;\r\n        &lt;!-- Controls packages --&gt;\r\n        &lt;Logger name=&quot;com.jarmel.pharmacy.controls.BarCodeOrderServlet&quot; level=&quot;trace&quot;&gt;\r\n            &lt;!-- &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt; --&gt;\r\n            &lt;AppenderRef ref=&quot;ROLLING_FILE&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;com.jarmel.pharmacy.controls.GetCodeValues&quot; level=&quot;error&quot;&gt;\r\n            &lt;!-- &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt; --&gt;\r\n            &lt;AppenderRef ref=&quot;ROLLING_FILE&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;com.jarmel.pharmacy.controls.GetPersonnelServlet&quot; level=&quot;error&quot;&gt;\r\n            &lt;!-- &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt; --&gt;\r\n            &lt;AppenderRef ref=&quot;ROLLING_FILE&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n   &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n&gt; Blockquote","title":"My log4j2 log file always have double output of each line. How can I stop the duplication please?","body":"<p>My log4j2 log file always has double output of each line. How can I stop the duplication please?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;name&quot;&gt;CernerPharmacyWebApp&lt;/property&gt;\n        &lt;property name=&quot;pattern&quot;&gt;%d %-5p %C{2} (%F:%L) - %m%n&lt;/property&gt;\n    &lt;/properties&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;CONSOLE&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;ThresholdFilter level=&quot;error&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;${pattern}&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;ROLLING_FILE&quot; fileName=&quot;..\\logs\\${name}.log&quot;\n                     filePattern=&quot;..\\logs\\${name}-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;${pattern}&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy/&gt;&lt;!-- Rotated everyday --&gt;\n                    &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 50 MB --&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;error&quot;&gt;\n            &lt;!-- &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt; --&gt;\n            &lt;AppenderRef ref=&quot;ROLLING_FILE&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;!-- Controls packages --&gt;\n        &lt;Logger name=&quot;com.jarmel.pharmacy.controls.BarCodeOrderServlet&quot; level=&quot;trace&quot;&gt;\n            &lt;!-- &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt; --&gt;\n            &lt;AppenderRef ref=&quot;ROLLING_FILE&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;com.jarmel.pharmacy.controls.GetCodeValues&quot; level=&quot;error&quot;&gt;\n            &lt;!-- &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt; --&gt;\n            &lt;AppenderRef ref=&quot;ROLLING_FILE&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;com.jarmel.pharmacy.controls.GetPersonnelServlet&quot; level=&quot;error&quot;&gt;\n            &lt;!-- &lt;AppenderRef ref=&quot;CONSOLE&quot;/&gt; --&gt;\n            &lt;AppenderRef ref=&quot;ROLLING_FILE&quot;/&gt;\n        &lt;/Logger&gt;\n   &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n"},{"tags":["java","annotations","spring-security"],"answers":[{"tags":[],"owner":{"account_id":143980,"reputation":14984,"user_id":352708,"accept_rate":73,"display_name":"Slava Semushin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1692844931,"creation_date":1330723637,"answer_id":9540610,"question_id":9539936,"body_markdown":"If you change `@RolesAllowed` to `@PreAuthorize(&quot;hasAuthority(&#39;ROLE_ADMIN&#39;)&quot;)` and define `global-method-security` with `pre-post-annotations=&quot;enabled&quot;` attribute, does it work?\r\n\r\nAlso, I suppose that it&#39;s not working because you define `global-method-security` and other configuration in servlet config instead of application context.\r\n\r\nSee similar post: https://stackoverflow.com/a/2525048/352708","title":"@RolesAllowed doesn&#39;t work","body":"<p>If you change <code>@RolesAllowed</code> to <code>@PreAuthorize(&quot;hasAuthority('ROLE_ADMIN')&quot;)</code> and define <code>global-method-security</code> with <code>pre-post-annotations=&quot;enabled&quot;</code> attribute, does it work?</p>\n<p>Also, I suppose that it's not working because you define <code>global-method-security</code> and other configuration in servlet config instead of application context.</p>\n<p>See similar post: <a href=\"https://stackoverflow.com/a/2525048/352708\">https://stackoverflow.com/a/2525048/352708</a></p>\n"}],"owner":{"account_id":1288319,"reputation":9494,"user_id":1240930,"accept_rate":92,"display_name":"John Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7423,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9540610,"answer_count":1,"score":2,"last_activity_date":1692844931,"creation_date":1330720280,"question_id":9539936,"body_markdown":"I searched for the answer, but didn&#39;t find it. If I add `&lt;intercept-url pattern=&quot;/test*&quot; access=&quot;ROLE_USER&quot; /&gt;` inside the `&lt;form-login&gt;` of my spring-security.xml, everything works predictably. But if I want `@RolesAllowed(&quot;ROLE_ADMIN&quot;)` to act for the method:\r\n\r\n    @RolesAllowed(&quot;ROLE_ADMIN&quot;)\r\n    @RequestMapping(value=&quot;/test&quot;, method = RequestMethod.GET)\r\n    public String test() {\r\n        return &quot;test&quot;;\r\n    }        \r\n\r\nAnd if spring-security.xml looks like this (jsr250-annotations are enabled):\r\n\r\n    &lt;http auto-config=&quot;true&quot;&gt;\r\n        &lt;form-login login-page=&quot;/login.html&quot; \r\n                    default-target-url=&quot;/welcome.html&quot;\r\n                    authentication-failure-url=&quot;/loginfailed.html&quot; /&gt;\r\n        &lt;logout logout-success-url=&quot;/logout.html&quot; /&gt;\r\n    &lt;/http&gt;          \r\n    \r\n    &lt;authentication-manager&gt;\r\n      &lt;authentication-provider&gt;\r\n            &lt;user-service&gt;\r\n                    &lt;user name=&quot;john&quot; password=&quot;doe&quot; authorities=&quot;ROLE_ADMIN&quot; /&gt;\r\n                    &lt;user name=&quot;jane&quot; password=&quot;doe&quot; authorities=&quot;ROLE_USER&quot; /&gt;\r\n            &lt;/user-service&gt;\r\n      &lt;/authentication-provider&gt;\r\n    &lt;/authentication-manager&gt;\r\n    \r\n    &lt;global-method-security   secured-annotations=&quot;enabled&quot; jsr250-annotations=&quot;enabled&quot; /&gt;\r\n\r\nWell, in this case both John and Jane can access the test page. I think I missed something basic, the help would be appreciated.","title":"@RolesAllowed doesn&#39;t work","body":"<p>I searched for the answer, but didn't find it. If I add <code>&lt;intercept-url pattern=\"/test*\" access=\"ROLE_USER\" /&gt;</code> inside the <code>&lt;form-login&gt;</code> of my spring-security.xml, everything works predictably. But if I want <code>@RolesAllowed(\"ROLE_ADMIN\")</code> to act for the method:</p>\n\n<pre><code>@RolesAllowed(\"ROLE_ADMIN\")\n@RequestMapping(value=\"/test\", method = RequestMethod.GET)\npublic String test() {\n    return \"test\";\n}        \n</code></pre>\n\n<p>And if spring-security.xml looks like this (jsr250-annotations are enabled):</p>\n\n<pre><code>&lt;http auto-config=\"true\"&gt;\n    &lt;form-login login-page=\"/login.html\" \n                default-target-url=\"/welcome.html\"\n                authentication-failure-url=\"/loginfailed.html\" /&gt;\n    &lt;logout logout-success-url=\"/logout.html\" /&gt;\n&lt;/http&gt;          \n\n&lt;authentication-manager&gt;\n  &lt;authentication-provider&gt;\n        &lt;user-service&gt;\n                &lt;user name=\"john\" password=\"doe\" authorities=\"ROLE_ADMIN\" /&gt;\n                &lt;user name=\"jane\" password=\"doe\" authorities=\"ROLE_USER\" /&gt;\n        &lt;/user-service&gt;\n  &lt;/authentication-provider&gt;\n&lt;/authentication-manager&gt;\n\n&lt;global-method-security   secured-annotations=\"enabled\" jsr250-annotations=\"enabled\" /&gt;\n</code></pre>\n\n<p>Well, in this case both John and Jane can access the test page. I think I missed something basic, the help would be appreciated.</p>\n"},{"tags":["java","java-8","java-stream","collectors"],"comments":[{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":2,"creation_date":1450144321,"post_id":34279645,"comment_id":56301437,"body_markdown":"There is no such method that takes in multiple collectors like you&#39;re trying to do - you likely have a compile error. Spend some time reading [this streams tutorial](http://www.oracle.com/technetwork/articles/java/architect-streams-pt2-2227132.html)","body":"There is no such method that takes in multiple collectors like you&#39;re trying to do - you likely have a compile error. Spend some time reading <a href=\"http://www.oracle.com/technetwork/articles/java/architect-streams-pt2-2227132.html\" rel=\"nofollow noreferrer\">this streams tutorial</a>"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1450153845,"post_id":34279645,"comment_id":56304055,"body_markdown":"While I answered, I had to guess what exactly do you want to get. Your question would be more clear had you supplied the desired result example.","body":"While I answered, I had to guess what exactly do you want to get. Your question would be more clear had you supplied the desired result example."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1450174033,"post_id":34279645,"comment_id":56313947,"body_markdown":"As a side note, itâ€™s nonsensical to use `Collectors.counting()` when your source is a `List` you can simply call `size()` and save CPU cycles with the current (Java&#160;8) implementationâ€¦","body":"As a side note, itâ€™s nonsensical to use <code>Collectors.counting()</code> when your source is a <code>List</code> you can simply call <code>size()</code> and save CPU cycles with the current (Java 8) implementationâ€¦"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1450174973,"post_id":34279645,"comment_id":56314642,"body_markdown":"@Holger, `counting()` collector will unlikely to be improved even in future Java versions (unlike `count()` method). Even assuming [this](https://bugs.openjdk.java.net/browse/JDK-8072840) questionable feature will be implemented, collector cannot say to the stream that you don&#39;t need to iterate the input.","body":"@Holger, <code>counting()</code> collector will unlikely to be improved even in future Java versions (unlike <code>count()</code> method). Even assuming <a href=\"https://bugs.openjdk.java.net/browse/JDK-8072840\" rel=\"nofollow noreferrer\">this</a> questionable feature will be implemented, collector cannot say to the stream that you don&#39;t need to iterate the input."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1450175087,"post_id":34279645,"comment_id":56314722,"body_markdown":"@Holger, well to be precise it *will* be [improved](http://hg.openjdk.java.net/jdk9/dev/jdk/rev/1edfa4abd77a) to avoid unnecessary boxing, but it will still be O(n).","body":"@Holger, well to be precise it <i>will</i> be <a href=\"http://hg.openjdk.java.net/jdk9/dev/jdk/rev/1edfa4abd77a\" rel=\"nofollow noreferrer\">improved</a> to avoid unnecessary boxing, but it will still be O(n)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1450175349,"post_id":34279645,"comment_id":56314905,"body_markdown":"@Tagir Valeev: I canâ€™t predict how likely it is for Oracleâ€™s reference implementation, however, itâ€™s not that hard to make that improvement even without changing the API. The point is that both, `Collectors` and the `Stream` implementation reside within the same library, even within the same package. There can be any off-API communication the developers want. After all, the only thing needed is the `Stream` implementation to recognize that the specified collector is the counting collectorâ€¦ But anyway, the original statement holds, using `List.size()` is preferable over `Collectors.counting()`.","body":"@Tagir Valeev: I canâ€™t predict how likely it is for Oracleâ€™s reference implementation, however, itâ€™s not that hard to make that improvement even without changing the API. The point is that both, <code>Collectors</code> and the <code>Stream</code> implementation reside within the same library, even within the same package. There can be any off-API communication the developers want. After all, the only thing needed is the <code>Stream</code> implementation to recognize that the specified collector is the counting collectorâ€¦ But anyway, the original statement holds, using <code>List.size()</code> is preferable over <code>Collectors.counting()</code>."}],"answers":[{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1450193108,"creation_date":1450153713,"answer_id":34281140,"question_id":34279645,"body_markdown":"Note that currently you&#39;re trying to get not the max/min salary, but the Employee having such salary. If you actually want to have the max/min salary itself (number), then these characteristics could be calculated at once using `Collectors.summarizingInt()`:\r\n\r\n    IntSummaryStatistics stats = employees.stream()\r\n        .collect(Collectors.summarizingInt(Employee::getSalary));\r\n\r\nIf you want to join them to string, you may use:\r\n\r\n    String statsString = Stream.of(stats.getSum(), stats.getMax(), stats.getMin(), \r\n                                   stats.getAverage()*2, stats.getCount())\r\n                               .map(Object::toString)\r\n                               .collect(Collectors.joining(&quot;, &quot;));\r\n\r\n----\r\n\r\nIf you actually want to get an Employee with max/min salary, here `IntSummaryStatistics` will not help you. However you may create the stream of collectors instead:\r\n\r\n    String result = Stream.&lt;Collector&lt;Employee,?,?&gt;&gt;of(\r\n\t    \t\tCollectors.summingInt(Employee::getSalary),\r\n\t    \t\tCollectors.maxBy(Comparator.comparing(Employee::getSalary)),\r\n\t    \t\tCollectors.minBy(Comparator.comparing(Employee::getSalary)),\r\n\t    \t\tCollectors.averagingLong((Employee e) -&gt;e.getSalary() * 2),\r\n\t    \t\tCollectors.counting())\r\n\t    \t.map(collector -&gt; employees.stream().collect(collector))\r\n            .map(Object::toString)\r\n            .collect(Collectors.joining(&quot;, &quot;));\r\n\r\nNote that in this way you will have an output like (depending on the `Employee.toString()` implementation:\r\n\r\n    1121, Optional[Employee [salary=1000]], Optional[Employee [salary=1]], 560.5, 4\r\n\r\nDon&#39;t forget that `maxBy`/`minBy` return `Optional`.\r\n\r\n----\r\n\r\nIf you are unsatisfied with the first solution and for some reason don&#39;t want to iterate the input several times, you can create a combined collector using a method like this:\r\n\r\n    /**\r\n     * Returns a collector which joins the results of supplied collectors\r\n     * into the single string using the supplied delimiter.\r\n     */\r\n\t@SafeVarargs\r\n\tpublic static &lt;T&gt; Collector&lt;T, ?, String&gt; joining(CharSequence delimiter, \r\n\t\t\tCollector&lt;T, ?, ?&gt;... collectors) {\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tCollector&lt;T, Object, Object&gt;[] cs = (Collector&lt;T, Object, Object&gt;[]) collectors;\r\n\t\treturn Collector.&lt;T, Object[], String&gt;of(\r\n\t\t\t() -&gt; Stream.of(cs).map(c -&gt; c.supplier().get()).toArray(), \r\n\t\t\t(acc, t) -&gt; IntStream.range(0, acc.length)\r\n\t\t\t\t.forEach(idx -&gt; cs[idx].accumulator().accept(acc[idx], t)), \r\n\t\t\t(acc1, acc2) -&gt; IntStream.range(0, acc1.length)\r\n\t\t\t\t.mapToObj(idx -&gt; cs[idx].combiner().apply(acc1[idx], acc2[idx]))\r\n\t\t\t\t.toArray(), \r\n\t\t\tacc -&gt; IntStream.range(0, acc.length)\r\n\t\t\t\t.mapToObj(idx -&gt; cs[idx].finisher().apply(acc[idx]).toString())\r\n\t\t\t\t.collect(Collectors.joining(delimiter)));\r\n\t}\r\n\r\nHaving such method you can write\r\n\r\n\tString stats = employees.stream().collect(joining(&quot;, &quot;,\r\n            Collectors.summingInt(Employee::getSalary),\r\n            Collectors.maxBy(Comparator.comparing(Employee::getSalary)),\r\n            Collectors.minBy(Comparator.comparing(Employee::getSalary)),\r\n            Collectors.averagingLong((Employee e) -&gt;e.getSalary() * 2),\r\n            Collectors.counting()));\r\n","title":"Return in one string the min, max, average, sum, count of salaries with Stream and java8","body":"<p>Note that currently you're trying to get not the max/min salary, but the Employee having such salary. If you actually want to have the max/min salary itself (number), then these characteristics could be calculated at once using <code>Collectors.summarizingInt()</code>:</p>\n\n<pre><code>IntSummaryStatistics stats = employees.stream()\n    .collect(Collectors.summarizingInt(Employee::getSalary));\n</code></pre>\n\n<p>If you want to join them to string, you may use:</p>\n\n<pre><code>String statsString = Stream.of(stats.getSum(), stats.getMax(), stats.getMin(), \n                               stats.getAverage()*2, stats.getCount())\n                           .map(Object::toString)\n                           .collect(Collectors.joining(\", \"));\n</code></pre>\n\n<hr>\n\n<p>If you actually want to get an Employee with max/min salary, here <code>IntSummaryStatistics</code> will not help you. However you may create the stream of collectors instead:</p>\n\n<pre><code>String result = Stream.&lt;Collector&lt;Employee,?,?&gt;&gt;of(\n            Collectors.summingInt(Employee::getSalary),\n            Collectors.maxBy(Comparator.comparing(Employee::getSalary)),\n            Collectors.minBy(Comparator.comparing(Employee::getSalary)),\n            Collectors.averagingLong((Employee e) -&gt;e.getSalary() * 2),\n            Collectors.counting())\n        .map(collector -&gt; employees.stream().collect(collector))\n        .map(Object::toString)\n        .collect(Collectors.joining(\", \"));\n</code></pre>\n\n<p>Note that in this way you will have an output like (depending on the <code>Employee.toString()</code> implementation:</p>\n\n<pre><code>1121, Optional[Employee [salary=1000]], Optional[Employee [salary=1]], 560.5, 4\n</code></pre>\n\n<p>Don't forget that <code>maxBy</code>/<code>minBy</code> return <code>Optional</code>.</p>\n\n<hr>\n\n<p>If you are unsatisfied with the first solution and for some reason don't want to iterate the input several times, you can create a combined collector using a method like this:</p>\n\n<pre><code>/**\n * Returns a collector which joins the results of supplied collectors\n * into the single string using the supplied delimiter.\n */\n@SafeVarargs\npublic static &lt;T&gt; Collector&lt;T, ?, String&gt; joining(CharSequence delimiter, \n        Collector&lt;T, ?, ?&gt;... collectors) {\n    @SuppressWarnings(\"unchecked\")\n    Collector&lt;T, Object, Object&gt;[] cs = (Collector&lt;T, Object, Object&gt;[]) collectors;\n    return Collector.&lt;T, Object[], String&gt;of(\n        () -&gt; Stream.of(cs).map(c -&gt; c.supplier().get()).toArray(), \n        (acc, t) -&gt; IntStream.range(0, acc.length)\n            .forEach(idx -&gt; cs[idx].accumulator().accept(acc[idx], t)), \n        (acc1, acc2) -&gt; IntStream.range(0, acc1.length)\n            .mapToObj(idx -&gt; cs[idx].combiner().apply(acc1[idx], acc2[idx]))\n            .toArray(), \n        acc -&gt; IntStream.range(0, acc.length)\n            .mapToObj(idx -&gt; cs[idx].finisher().apply(acc[idx]).toString())\n            .collect(Collectors.joining(delimiter)));\n}\n</code></pre>\n\n<p>Having such method you can write</p>\n\n<pre><code>String stats = employees.stream().collect(joining(\", \",\n        Collectors.summingInt(Employee::getSalary),\n        Collectors.maxBy(Comparator.comparing(Employee::getSalary)),\n        Collectors.minBy(Comparator.comparing(Employee::getSalary)),\n        Collectors.averagingLong((Employee e) -&gt;e.getSalary() * 2),\n        Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6128151,"reputation":153,"user_id":4779332,"accept_rate":71,"display_name":"Mohamed Aziz Bessrour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450193807,"creation_date":1450193807,"answer_id":34293254,"question_id":34279645,"body_markdown":"I finally found the solution.. Thanks for trying guys\r\n\r\n    String s = employees.stream().mapToDouble(a&gt;a.getSalary()).summaryStatistics().toString();\r\n\r\nand this is the output:\r\n\r\n     DoubleSummaryStatistics{count=21, sum=17200,000000, min=100,000000,\r\n     average=819,047619, max=2100,000000}","title":"Return in one string the min, max, average, sum, count of salaries with Stream and java8","body":"<p>I finally found the solution.. Thanks for trying guys</p>\n\n<pre><code>String s = employees.stream().mapToDouble(a&gt;a.getSalary()).summaryStatistics().toString();\n</code></pre>\n\n<p>and this is the output:</p>\n\n<pre><code> DoubleSummaryStatistics{count=21, sum=17200,000000, min=100,000000,\n average=819,047619, max=2100,000000}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22100088,"reputation":31,"user_id":16356696,"display_name":"Jay Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692844524,"creation_date":1692844524,"answer_id":76965925,"question_id":34279645,"body_markdown":"We can use the below solution if we want to find only the sum of all salaries.\r\n\r\n    Integer a= emp.stream().collect(Collectors.summingInt(Employe::getSalary));","title":"Return in one string the min, max, average, sum, count of salaries with Stream and java8","body":"<p>We can use the below solution if we want to find only the sum of all salaries.</p>\n<pre><code>Integer a= emp.stream().collect(Collectors.summingInt(Employe::getSalary));\n</code></pre>\n"}],"owner":{"account_id":6128151,"reputation":153,"user_id":4779332,"accept_rate":71,"display_name":"Mohamed Aziz Bessrour"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5946,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":34281140,"answer_count":3,"score":-1,"last_activity_date":1692844524,"creation_date":1450143385,"question_id":34279645,"body_markdown":"I have a `List` of employees which are characterized by a salary. \r\nWhy this code does not work?\r\n\r\n    String joined = employees.stream().collect(\r\n        Collectors.summingInt(Employee::getSalary),\r\n        Collectors.maxBy(Comparator.comparing(Employee::getSalary)),\r\n        Collectors.minBy(Comparator.comparing(Employee::getSalary)),\r\n        Collectors.averagingLong((Employee e) -&gt;e.getSalary() * 2),\r\n        Collectors.counting(),\r\n        Collectors.joining(&quot;, &quot;));\r\n\r\nI&#39;m using a suite of collectors.\r\n","title":"Return in one string the min, max, average, sum, count of salaries with Stream and java8","body":"<p>I have a <code>List</code> of employees which are characterized by a salary. \nWhy this code does not work?</p>\n\n<pre><code>String joined = employees.stream().collect(\n    Collectors.summingInt(Employee::getSalary),\n    Collectors.maxBy(Comparator.comparing(Employee::getSalary)),\n    Collectors.minBy(Comparator.comparing(Employee::getSalary)),\n    Collectors.averagingLong((Employee e) -&gt;e.getSalary() * 2),\n    Collectors.counting(),\n    Collectors.joining(\", \"));\n</code></pre>\n\n<p>I'm using a suite of collectors.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1692840712,"post_id":76965739,"comment_id":135679976,"body_markdown":"A `java.lang.Class` represents the _class_ itself, not an _instance_ of the class. And it&#39;s a final class that inherits directly from `Object`, so it cannot ever be a `BaseHandler`.","body":"A <code>java.lang.Class</code> represents the <i>class</i> itself, not an <i>instance</i> of the class. And it&#39;s a final class that inherits directly from <code>Object</code>, so it cannot ever be a <code>BaseHandler</code>."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1692840773,"post_id":76965739,"comment_id":135679979,"body_markdown":"No, basically a `Class` is a thing by itself.  `BaseHandler` probably inherits from `Object` or some other `Handler` class.  It does not inherit from `Class`.","body":"No, basically a <code>Class</code> is a thing by itself.  <code>BaseHandler</code> probably inherits from <code>Object</code> or some other <code>Handler</code> class.  It does not inherit from <code>Class</code>."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1692841415,"post_id":76965739,"comment_id":135680028,"body_markdown":"Another way of saying this is that an object *has-a* class -- you can call `getClass` on any object.  But an object isn&#39;t *is-a* class.  That&#39;s not the relationship an object has to its class.","body":"Another way of saying this is that an object <i>has-a</i> class -- you can call <code>getClass</code> on any object.  But an object isn&#39;t <i>is-a</i> class.  That&#39;s not the relationship an object has to its class."}],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692840891,"creation_date":1692840891,"answer_id":76965756,"question_id":76965739,"body_markdown":"That code doesn&#39;t work for the same reason that\r\n\r\n```\r\nClass&lt;Integer&gt; clazz = Integer.class;\r\nInteger i = clazz;\r\n```\r\n\r\ndoesn&#39;t work, namely, that a `Class` is not an instance of the class it represents.","title":"What makes Java compiler think a parent class cannot stand for its child class","body":"<p>That code doesn't work for the same reason that</p>\n<pre><code>Class&lt;Integer&gt; clazz = Integer.class;\nInteger i = clazz;\n</code></pre>\n<p>doesn't work, namely, that a <code>Class</code> is not an instance of the class it represents.</p>\n"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76965756,"answer_count":1,"score":-2,"last_activity_date":1692840987,"creation_date":1692840514,"question_id":76965739,"body_markdown":"The following code causes error:\r\n```\r\nClass&lt;? extends BaseHandler&lt;?, ?&gt;&gt; aClass = resource.getHandler();\r\nBaseHandler&lt;?, ?&gt; baseHandler       = resource.getHandler();\r\nBaseHandler&lt;?, ?&gt; baseHandler       = (BaseHandler&lt;?, ?&gt;) resource.getHandler();;\r\n```\r\nThe first line works.\r\nThe second line and the third type forcing conversion has error:\r\n\r\n```\r\nInconvertible types; cannot cast &#39;java.lang.Class&lt;capture&lt;? extends c.c.BaseHandler&lt;?,?&gt;&gt;&gt;&#39; to &#39;c.c.BaseHandler&lt;?,?&gt;&#39;\r\n```\r\nThis is what I think:\r\n`Class&lt;? extend BaseHandler&lt;?, ?&gt;&gt;` should be a child Class type of BaseHandler. then `baseHandler` should stand for all children class. Why it has that compile error?","title":"What makes Java compiler think a parent class cannot stand for its child class","body":"<p>The following code causes error:</p>\n<pre><code>Class&lt;? extends BaseHandler&lt;?, ?&gt;&gt; aClass = resource.getHandler();\nBaseHandler&lt;?, ?&gt; baseHandler       = resource.getHandler();\nBaseHandler&lt;?, ?&gt; baseHandler       = (BaseHandler&lt;?, ?&gt;) resource.getHandler();;\n</code></pre>\n<p>The first line works.\nThe second line and the third type forcing conversion has error:</p>\n<pre><code>Inconvertible types; cannot cast 'java.lang.Class&lt;capture&lt;? extends c.c.BaseHandler&lt;?,?&gt;&gt;&gt;' to 'c.c.BaseHandler&lt;?,?&gt;'\n</code></pre>\n<p>This is what I think:\n<code>Class&lt;? extend BaseHandler&lt;?, ?&gt;&gt;</code> should be a child Class type of BaseHandler. then <code>baseHandler</code> should stand for all children class. Why it has that compile error?</p>\n"},{"tags":["java","spring-boot","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"score":0,"creation_date":1587140783,"post_id":61276120,"comment_id":108401292,"body_markdown":"Take a look at this - http://www.vinsguru.com/resilient-microservice-design-circuit-breaker-pattern/","body":"Take a look at this - <a href=\"http://www.vinsguru.com/resilient-microservice-design-circuit-breaker-pattern/\" rel=\"nofollow noreferrer\">vinsguru.com/&hellip;</a>"},{"owner":{"account_id":12911571,"reputation":833,"user_id":9337098,"display_name":"Swapnil"},"score":0,"creation_date":1587141815,"post_id":61276120,"comment_id":108401860,"body_markdown":"I checked the sample code over there. It is setting timeout in RestTemplate using RestTemplateBuilder. I am looking for the properties through resilience4j. Is it possible to do that?","body":"I checked the sample code over there. It is setting timeout in RestTemplate using RestTemplateBuilder. I am looking for the properties through resilience4j. Is it possible to do that?"}],"answers":[{"tags":[],"owner":{"account_id":16925760,"reputation":1326,"user_id":12241397,"display_name":"Gr&#233;gori Fernandes de Lima"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1631304757,"creation_date":1631298350,"answer_id":69136558,"question_id":61276120,"body_markdown":"I had to deal with the same problem as you.\r\n\r\nFor me, TimeLimiter from resilience4j solve my problem and not need to use Hystrix anymore.\r\n\r\nThis is my application.properties:\r\n\r\n    resilience4j.timelimiter.configs.default.timeout-duration=3s\r\n    resilience4j.timelimiter.instances.paymentCalc.base-config=default\r\n    # The max amount of time a call can last\r\n    resilience4j.timelimiter.instances.paymentCalc.timeout-duration=1s\r\n    # Cancel the Running Completable Futures After TimeOut.\r\n    resilience4j.timelimiter.instances.paymentCalc.cancel-running-future=true\r\n    \r\n    # Max amount of parallel executions allowed by the bulkhead\r\n    resilience4j.bulkhead.configs.default.max-concurrent-calls=2\r\n    # Max amount of time a thread should be blocked for when attempting to enter a saturated bulkhead.\r\n    resilience4j.bulkhead.configs.default.max-wait-duration=0\r\n    resilience4j.bulkhead.instances.paymentCalc.base-config=default\r\n\r\n\r\n\r\nThis is my implementation:\r\n\r\n        \r\n        // Bulkhead module is added because TimeLimiter needs separate execution thread instead of request thread\r\n        @Bulkhead(name = &quot;paymentCalc&quot;, fallbackMethod = &quot;localPaymentGenerate&quot;, type = Bulkhead.Type.THREADPOOL)\r\n    \t@TimeLimiter(name = &quot;paymentCalc&quot;, fallbackMethod = &quot;localPaymentGenerate&quot;)\r\n    \t@GetMapping(value = &quot;/{workerId}/days/{days}&quot;)\r\n    \tpublic CompletableFuture&lt;ResponseEntity&lt;Payment&gt;&gt; getPayment(@PathVariable Long workerId, @PathVariable Integer days){\r\n    \t\t\t\r\n    \t\t...\t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic CompletableFuture&lt;ResponseEntity&lt;Payment&gt;&gt; localPaymentGenerate(Long workerId, Integer days, Exception e){\r\n\t\t\t\r\n\t\t\tSystem.out.println(e.getMessage()); // prints &quot;TimeLimiter &#39;paymentCalc&#39; recorded a timeout exception&quot;\r\n\t\t\r\n\t\t\t...\r\n\t}\r\n\r\n\r\nBut, be careful, code not worked using `spring-cloud-starter-circuitbreaker-resilience4j` dependencie, and i have spent a lot time trying to solve it.\r\nThe only thing that i needed to change to make @TimeLimiter get works is to change my dependecies.\r\n\r\nI&#39;m using spring-boot `&lt;version&gt;2.5.4&lt;/version&gt;`, `&lt;java.version&gt;16&lt;/java.version&gt;` and my dependencies are:\r\n\r\n   \r\n\r\n     &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;","title":"Resilience4j - Request timeout","body":"<p>I had to deal with the same problem as you.</p>\n<p>For me, TimeLimiter from resilience4j solve my problem and not need to use Hystrix anymore.</p>\n<p>This is my application.properties:</p>\n<pre><code>resilience4j.timelimiter.configs.default.timeout-duration=3s\nresilience4j.timelimiter.instances.paymentCalc.base-config=default\n# The max amount of time a call can last\nresilience4j.timelimiter.instances.paymentCalc.timeout-duration=1s\n# Cancel the Running Completable Futures After TimeOut.\nresilience4j.timelimiter.instances.paymentCalc.cancel-running-future=true\n\n# Max amount of parallel executions allowed by the bulkhead\nresilience4j.bulkhead.configs.default.max-concurrent-calls=2\n# Max amount of time a thread should be blocked for when attempting to enter a saturated bulkhead.\nresilience4j.bulkhead.configs.default.max-wait-duration=0\nresilience4j.bulkhead.instances.paymentCalc.base-config=default\n</code></pre>\n<p>This is my implementation:</p>\n<pre><code>    // Bulkhead module is added because TimeLimiter needs separate execution thread instead of request thread\n    @Bulkhead(name = &quot;paymentCalc&quot;, fallbackMethod = &quot;localPaymentGenerate&quot;, type = Bulkhead.Type.THREADPOOL)\n    @TimeLimiter(name = &quot;paymentCalc&quot;, fallbackMethod = &quot;localPaymentGenerate&quot;)\n    @GetMapping(value = &quot;/{workerId}/days/{days}&quot;)\n    public CompletableFuture&lt;ResponseEntity&lt;Payment&gt;&gt; getPayment(@PathVariable Long workerId, @PathVariable Integer days){\n            \n        ...     \n    }\n    \n    \n    public CompletableFuture&lt;ResponseEntity&lt;Payment&gt;&gt; localPaymentGenerate(Long workerId, Integer days, Exception e){\n        \n        System.out.println(e.getMessage()); // prints &quot;TimeLimiter 'paymentCalc' recorded a timeout exception&quot;\n    \n        ...\n}\n</code></pre>\n<p>But, be careful, code not worked using <code>spring-cloud-starter-circuitbreaker-resilience4j</code> dependencie, and i have spent a lot time trying to solve it.\nThe only thing that i needed to change to make @TimeLimiter get works is to change my dependecies.</p>\n<p>I'm using spring-boot <code>&lt;version&gt;2.5.4&lt;/version&gt;</code>, <code>&lt;java.version&gt;16&lt;/java.version&gt;</code> and my dependencies are:</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n        &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12911571,"reputation":833,"user_id":9337098,"display_name":"Swapnil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9758,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1692839694,"creation_date":1587140333,"question_id":61276120,"body_markdown":"I have a service which is using Hystrix *circuit breaker* pattern and it calls 3rd party service. With the help of \r\n\r\n```java  \r\n@HystrixProperty(name = &quot;execution.isolation.thread.timeoutInMilliseconds&quot;, value = &quot;1000&quot;)\r\n```\r\nI have defined the timeout for the 3rd party service. \r\n\r\nSince the Hystrix is in maintenance mode, I am migrating from Hystrix to Resilience4j circuit breaker pattern. How can I achieve similar timeout handling in resiience4j. \r\n\r\nI got to know that similar thing can be achieved by using `@TimeLimiter` annotation which is a part of *resilience4j-timeLimiter* library. But as per [this issue][1], I have to modify the return type of my method to ```CompletableFuture```. It will involve lot of code changes to my existing service.\r\n\r\nHow can I achieve this with Resilience4j?\r\n\r\n  [1]: https://github.com/resilience4j/resilience4j/issues/849","title":"Resilience4j - Request timeout","body":"<p>I have a service which is using Hystrix <em>circuit breaker</em> pattern and it calls 3rd party service. With the help of</p>\n<pre class=\"lang-java prettyprint-override\"><code>@HystrixProperty(name = &quot;execution.isolation.thread.timeoutInMilliseconds&quot;, value = &quot;1000&quot;)\n</code></pre>\n<p>I have defined the timeout for the 3rd party service.</p>\n<p>Since the Hystrix is in maintenance mode, I am migrating from Hystrix to Resilience4j circuit breaker pattern. How can I achieve similar timeout handling in resiience4j.</p>\n<p>I got to know that similar thing can be achieved by using <code>@TimeLimiter</code> annotation which is a part of <em>resilience4j-timeLimiter</em> library. But as per <a href=\"https://github.com/resilience4j/resilience4j/issues/849\" rel=\"nofollow noreferrer\">this issue</a>, I have to modify the return type of my method to <code>CompletableFuture</code>. It will involve lot of code changes to my existing service.</p>\n<p>How can I achieve this with Resilience4j?</p>\n"},{"tags":["java","redis","jedis","nosql"],"comments":[{"owner":{"account_id":464475,"reputation":756,"user_id":868010,"accept_rate":67,"display_name":"Josh Liptzin"},"score":0,"creation_date":1399348586,"post_id":23233673,"comment_id":36012377,"body_markdown":"I am experiencing a similar issue. Trying to fix it as well, will report back with anything that works.","body":"I am experiencing a similar issue. Trying to fix it as well, will report back with anything that works."},{"owner":{"account_id":1812638,"reputation":371,"user_id":1648383,"accept_rate":100,"display_name":"Albin"},"score":0,"creation_date":1511210946,"post_id":23233673,"comment_id":81755157,"body_markdown":"is it solved ? i am facing similar issue","body":"is it solved ? i am facing similar issue"},{"owner":{"account_id":12315074,"reputation":69,"user_id":8985627,"display_name":"RakChun Jang"},"score":0,"creation_date":1511406349,"post_id":23233673,"comment_id":81849067,"body_markdown":"is this only place which using JedisWrapper?","body":"is this only place which using JedisWrapper?"}],"answers":[{"tags":[],"owner":{"account_id":4097278,"reputation":3,"user_id":3363679,"display_name":"Remya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401693956,"creation_date":1401693956,"answer_id":23989280,"question_id":23233673,"body_markdown":"In your JedisWrapper, the Jedis is created as a class variable which gets instantiated once. Please declare it inside the methods getJedis, then the problem will be solved","title":"Jedis : Could not get a resource from the pool","body":"<p>In your JedisWrapper, the Jedis is created as a class variable which gets instantiated once. Please declare it inside the methods getJedis, then the problem will be solved</p>\n"},{"tags":[],"owner":{"account_id":6745077,"reputation":294,"user_id":5196928,"accept_rate":71,"display_name":"samith kumarasingha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466423776,"creation_date":1466423776,"answer_id":37921956,"question_id":23233673,"body_markdown":"check whether you have permission to access redis through code","title":"Jedis : Could not get a resource from the pool","body":"<p>check whether you have permission to access redis through code</p>\n"}],"owner":{"account_id":423278,"reputation":19940,"user_id":802585,"accept_rate":53,"display_name":"WoooHaaaa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14526,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1692839200,"creation_date":1398219591,"question_id":23233673,"body_markdown":"## Background\r\nOur application uses `Jedis-2.2.1` and connects to `Redis-2.6`, here&#39;s how I get jedis resource : \r\n\r\n\r\n    protected static JedisWrapper getRedisUserWrite(String UDID) {\r\n            if (redisUserWritePools.get(0) == null) init();\r\n    \r\n            int hash = hash(UDID);\r\n            Jedis jedis = redisUserWritePools.get(hash).getResource();\r\n            jedis.select(dbs.get(&quot;redisUserWritePools&quot; + hash));\r\n    \r\n            return new JedisWrapper(jedis, redisUserWritePools.get(hash));\r\n        }\r\n\r\nAnd this is my `JedisWrapper`(Unify the management of resources):\r\n\r\n    public class JedisWrapper {\r\n        private Jedis jedis;\r\n        private JedisPool pool;\r\n        \r\n        public JedisWrapper(Jedis jedis, JedisPool pool) {\r\n            this.jedis = jedis;\r\n            this.pool = pool;\r\n        }\r\n    \r\n        public Jedis get(){\r\n            return this.jedis;\r\n        }\r\n        \r\n        public void returnResource() {\r\n            if(null != this.jedis){\r\n                this.pool.returnResource(this.jedis);\r\n            }\r\n        }\r\n        \r\n        public void returnBrokenResource() {\r\n            if(null != this.jedis) {\r\n                this.pool.returnBrokenResource(this.jedis);\r\n            }\r\n            this.jedis = null;\r\n        }\r\n    }\r\n\r\n\r\n`JedisWrapper` is the container if Jedis instance, here&#39;s how I use it :\r\n\r\n    private static void cacheSDKIDs(String UDID, String[] SDKIDs) {\r\n    \r\n            JedisWrapper wrapper = getRedisUserWrite(UDID);\r\n            try {\r\n                if (SDKIDs != null) {\r\n                    wrapper.get().del(UDID);\r\n                    wrapper.get().sadd(UDID, SDKIDs);\r\n                }\r\n            } catch (JedisConnectionException e) {\r\n                e.printStackTrace();\r\n                wrapper.returnBrokenResource();\r\n            }catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                wrapper.returnResource();\r\n            }\r\n        }\r\n\r\nNote that, `SKDIDs` maybe very large(e.g. could reach the maximum of 8KB).\r\n\r\n\r\n## Here&#39;s the problem\r\nEvery time I restart our application, all redis connections are normal, but several hours\r\n later, the `Could not get a resource from the pool` Exception comes out. And frequency become higher and higher, then all the connections to Redis are disconnected and can create new connection.\r\n\r\nHere&#39;s my configuration : \r\n\r\n    &lt;bean id = &quot;redisConfig&quot; class=&quot;redis.clients.jedis.JedisPoolConfig&quot;&gt;\r\n      \t&lt;property name=&quot;maxActive&quot;  value=&quot;400&quot; /&gt;\r\n        &lt;property name=&quot;maxIdle&quot; value=&quot;100&quot; /&gt;\r\n        &lt;property name=&quot;minIdle&quot; value=&quot;20&quot; /&gt;\r\n        &lt;property name=&quot;maxWait&quot; value=&quot;4000&quot; /&gt;\r\n        &lt;property name=&quot;testOnBorrow&quot;  value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;testOnReturn&quot; value=&quot;true&quot; /&gt;\r\n      &lt;/bean&gt;\r\n\r\n\r\nException Stacktrace:\r\n\r\n    Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool\r\n    \tat redis.clients.util.Pool.getResource(Pool.java:40)\r\n    \tat com.xxxice.redis.BaseRedis.getRedisUserWrite(BaseRedis.java:158)\r\n    \tat com.xxx.service.redis.DeviceRedis.cacheSDKIds(DeviceRedis.java:128)\r\n    \tat com.xxx.redis.DeviceRedis.cacheDevice(DeviceRedis.java:65)\r\n    \tat com.xxx.service.DeviceService.update(DeviceService.java:88)\r\n    \tat com.xxx.controller.Devices.update(Devices.java:25)\r\n    \t... 32 more\r\n    Caused by: java.util.NoSuchElementException: Timeout waiting for idle object\r\n    \tat org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1174)\r\n    \tat redis.clients.util.Pool.getResource(Pool.java:38)\r\n    \t... 37 more","title":"Jedis : Could not get a resource from the pool","body":"<h2>Background</h2>\n\n<p>Our application uses <code>Jedis-2.2.1</code> and connects to <code>Redis-2.6</code>, here's how I get jedis resource : </p>\n\n<pre><code>protected static JedisWrapper getRedisUserWrite(String UDID) {\n        if (redisUserWritePools.get(0) == null) init();\n\n        int hash = hash(UDID);\n        Jedis jedis = redisUserWritePools.get(hash).getResource();\n        jedis.select(dbs.get(\"redisUserWritePools\" + hash));\n\n        return new JedisWrapper(jedis, redisUserWritePools.get(hash));\n    }\n</code></pre>\n\n<p>And this is my <code>JedisWrapper</code>(Unify the management of resources):</p>\n\n<pre><code>public class JedisWrapper {\n    private Jedis jedis;\n    private JedisPool pool;\n\n    public JedisWrapper(Jedis jedis, JedisPool pool) {\n        this.jedis = jedis;\n        this.pool = pool;\n    }\n\n    public Jedis get(){\n        return this.jedis;\n    }\n\n    public void returnResource() {\n        if(null != this.jedis){\n            this.pool.returnResource(this.jedis);\n        }\n    }\n\n    public void returnBrokenResource() {\n        if(null != this.jedis) {\n            this.pool.returnBrokenResource(this.jedis);\n        }\n        this.jedis = null;\n    }\n}\n</code></pre>\n\n<p><code>JedisWrapper</code> is the container if Jedis instance, here's how I use it :</p>\n\n<pre><code>private static void cacheSDKIDs(String UDID, String[] SDKIDs) {\n\n        JedisWrapper wrapper = getRedisUserWrite(UDID);\n        try {\n            if (SDKIDs != null) {\n                wrapper.get().del(UDID);\n                wrapper.get().sadd(UDID, SDKIDs);\n            }\n        } catch (JedisConnectionException e) {\n            e.printStackTrace();\n            wrapper.returnBrokenResource();\n        }catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            wrapper.returnResource();\n        }\n    }\n</code></pre>\n\n<p>Note that, <code>SKDIDs</code> maybe very large(e.g. could reach the maximum of 8KB).</p>\n\n<h2>Here's the problem</h2>\n\n<p>Every time I restart our application, all redis connections are normal, but several hours\n later, the <code>Could not get a resource from the pool</code> Exception comes out. And frequency become higher and higher, then all the connections to Redis are disconnected and can create new connection.</p>\n\n<p>Here's my configuration : </p>\n\n<pre><code>&lt;bean id = \"redisConfig\" class=\"redis.clients.jedis.JedisPoolConfig\"&gt;\n    &lt;property name=\"maxActive\"  value=\"400\" /&gt;\n    &lt;property name=\"maxIdle\" value=\"100\" /&gt;\n    &lt;property name=\"minIdle\" value=\"20\" /&gt;\n    &lt;property name=\"maxWait\" value=\"4000\" /&gt;\n    &lt;property name=\"testOnBorrow\"  value=\"true\"/&gt;\n    &lt;property name=\"testOnReturn\" value=\"true\" /&gt;\n  &lt;/bean&gt;\n</code></pre>\n\n<p>Exception Stacktrace:</p>\n\n<pre><code>Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool\n    at redis.clients.util.Pool.getResource(Pool.java:40)\n    at com.xxxice.redis.BaseRedis.getRedisUserWrite(BaseRedis.java:158)\n    at com.xxx.service.redis.DeviceRedis.cacheSDKIds(DeviceRedis.java:128)\n    at com.xxx.redis.DeviceRedis.cacheDevice(DeviceRedis.java:65)\n    at com.xxx.service.DeviceService.update(DeviceService.java:88)\n    at com.xxx.controller.Devices.update(Devices.java:25)\n    ... 32 more\nCaused by: java.util.NoSuchElementException: Timeout waiting for idle object\n    at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1174)\n    at redis.clients.util.Pool.getResource(Pool.java:38)\n    ... 37 more\n</code></pre>\n"},{"tags":["java","maven","jax-rs","java-ee-8","payara-micro"],"answers":[{"tags":[],"owner":{"account_id":1475244,"reputation":107,"user_id":1385791,"display_name":"adoughdough"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692838458,"creation_date":1692838458,"answer_id":76965663,"question_id":76917223,"body_markdown":"I meandered my way around this same problem as below. You may want to try it too:\r\n\r\n1. Use jdk-1.8, confirm this by running the command ``java -version`` on command prompt.\r\n2. If the command returns a different version, then:\r\n**2.1.** download and install jdk-1.8.\r\n**2.2.** go to the bin folder created as a result of the installation.\r\n**2.3.** copy at least (and perhaps, javac, javaw) the file &quot;java.exe&quot; and paste it in the folder (let&#39;s call it &quot;folderA&quot;) where java looks for executables.\r\n**2.4.** on my windows machine, the &quot;folderA&quot; is in &quot;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath&quot;.\r\n**2.5** run the command in #2 above again, ensure Jdk-1.8.xxx is returned.   \r\n3. Download Payara Microedition 5.181 (not version 6.0) from here: \r\n          https://jar-download.com/artifacts/fish.payara.extras/payara-micro/5.181/source-code\r\n4. In your POM file, add the following dependencies:\r\n\r\n&gt; dependencies\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n5. Attempt to deploy your app on payara again, it should work. There&#39;s probably a better solution out there though.\r\n","title":"Java EE: Payara micro server not generating REST endpoints (404 error)","body":"<p>I meandered my way around this same problem as below. You may want to try it too:</p>\n<ol>\n<li>Use jdk-1.8, confirm this by running the command <code>java -version</code> on command prompt.</li>\n<li>If the command returns a different version, then:\n<strong>2.1.</strong> download and install jdk-1.8.\n<strong>2.2.</strong> go to the bin folder created as a result of the installation.\n<strong>2.3.</strong> copy at least (and perhaps, javac, javaw) the file &quot;java.exe&quot; and paste it in the folder (let's call it &quot;folderA&quot;) where java looks for executables.\n<strong>2.4.</strong> on my windows machine, the &quot;folderA&quot; is in &quot;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath&quot;.\n<strong>2.5</strong> run the command in #2 above again, ensure Jdk-1.8.xxx is returned.</li>\n<li>Download Payara Microedition 5.181 (not version 6.0) from here:\n<a href=\"https://jar-download.com/artifacts/fish.payara.extras/payara-micro/5.181/source-code\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/fish.payara.extras/payara-micro/5.181/source-code</a></li>\n<li>In your POM file, add the following dependencies:</li>\n</ol>\n<blockquote>\n<p>dependencies</p>\n</blockquote>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"5\">\n<li>Attempt to deploy your app on payara again, it should work. There's probably a better solution out there though.</li>\n</ol>\n"}],"owner":{"account_id":4157818,"reputation":1427,"user_id":4233030,"accept_rate":62,"display_name":"Python_user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692838458,"creation_date":1692221831,"question_id":76917223,"body_markdown":"I am new to Java EE development. I downloaded Payara micro-server 6.2023.8 and generated a simple Java EE application through the maven archetype `com.airhacks:javaee8-essentials-archetype:0.0.4` (https://github.com/AdamBien/javaee8-essentials-archetype). \r\n\r\nHowever, when I deploy the `war` file (generated through `mvn clean package`) on the server through the command: \r\n\r\n    java -jar &#39;G:\\Workspace\\payara-micro-6.2023.8.jar&#39; --deploy .\\target\\javaee-demo.war --port 8080\r\n\r\n, the REST endpoint (`http://localhost:8080/javaee-demo/resources/ping`) is not exposed and generates a `404` error when accessed via a browser. The only URL present in the logged output against &#39;`Payara Micro URLs`&#39; is `http://localhost:8080/javaee-demo`.\r\n\r\nHere&#39;s my resource (generated automatically from the archetype used):\r\n\r\n    @Path(&quot;ping&quot;)\r\n    public class PingResource {\r\n    \r\n        @Inject\r\n        @ConfigProperty(name = &quot;message&quot;)\r\n        String message;\r\n    \r\n        @GET\r\n        public String ping() {\r\n            return this.message + &quot; Jakarta EE with MicroProfile 2+!&quot;;\r\n        }\r\n    }\r\n\r\nHere&#39;s my JAX-RS configuration file:\r\n\r\n    @ApplicationPath(&quot;resources&quot;)\r\n    public class JAXRSConfiguration extends Application {\r\n    \r\n    }\r\n\r\nAnd, here&#39;s the (partial) output of running the above command:\r\n\r\n    &quot;Deployed&quot;: [\r\n        {\r\n            &quot;Name&quot;: &quot;javaee-demo&quot;,\r\n            &quot;Type&quot;: &quot;war&quot;,\r\n            &quot;Context Root&quot;: &quot;/javaee-demo&quot;\r\n        }\r\n    ]\r\n\r\n`pom.xml` file for reference:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;in.mydemoprojects&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javaee-demo&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;finalName&gt;javaee-demo&lt;/finalName&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nI looked into the other stackoverflow questions about this, but to no avail. Can someone please help me debug?","title":"Java EE: Payara micro server not generating REST endpoints (404 error)","body":"<p>I am new to Java EE development. I downloaded Payara micro-server 6.2023.8 and generated a simple Java EE application through the maven archetype <code>com.airhacks:javaee8-essentials-archetype:0.0.4</code> (<a href=\"https://github.com/AdamBien/javaee8-essentials-archetype\" rel=\"nofollow noreferrer\">https://github.com/AdamBien/javaee8-essentials-archetype</a>).</p>\n<p>However, when I deploy the <code>war</code> file (generated through <code>mvn clean package</code>) on the server through the command:</p>\n<pre><code>java -jar 'G:\\Workspace\\payara-micro-6.2023.8.jar' --deploy .\\target\\javaee-demo.war --port 8080\n</code></pre>\n<p>, the REST endpoint (<code>http://localhost:8080/javaee-demo/resources/ping</code>) is not exposed and generates a <code>404</code> error when accessed via a browser. The only URL present in the logged output against '<code>Payara Micro URLs</code>' is <code>http://localhost:8080/javaee-demo</code>.</p>\n<p>Here's my resource (generated automatically from the archetype used):</p>\n<pre><code>@Path(&quot;ping&quot;)\npublic class PingResource {\n\n    @Inject\n    @ConfigProperty(name = &quot;message&quot;)\n    String message;\n\n    @GET\n    public String ping() {\n        return this.message + &quot; Jakarta EE with MicroProfile 2+!&quot;;\n    }\n}\n</code></pre>\n<p>Here's my JAX-RS configuration file:</p>\n<pre><code>@ApplicationPath(&quot;resources&quot;)\npublic class JAXRSConfiguration extends Application {\n\n}\n</code></pre>\n<p>And, here's the (partial) output of running the above command:</p>\n<pre><code>&quot;Deployed&quot;: [\n    {\n        &quot;Name&quot;: &quot;javaee-demo&quot;,\n        &quot;Type&quot;: &quot;war&quot;,\n        &quot;Context Root&quot;: &quot;/javaee-demo&quot;\n    }\n]\n</code></pre>\n<p><code>pom.xml</code> file for reference:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;in.mydemoprojects&lt;/groupId&gt;\n    &lt;artifactId&gt;javaee-demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;javaee-demo&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I looked into the other stackoverflow questions about this, but to no avail. Can someone please help me debug?</p>\n"},{"tags":["java","wordpress","javadoc"],"answers":[{"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1407928887,"creation_date":1407928887,"answer_id":25284811,"question_id":22397028,"body_markdown":"The following worked for me:\r\n\r\nWithin my WordPress folder I created a folder _javadoc_ - right next to _wp-admin_ and the like - and dumped all the created JavaDoc-html in there. Going to _http://my-blog/javadoc_ nicely displays the docs.\r\n\r\nI&#39;m a novice in this area, so this might be inadvisable from a best practice or security point of view. I&#39;m actually very interested in an opinion on that!","title":"How to Add a Javadoc Directory to a Wordpress Site","body":"<p>The following worked for me:</p>\n\n<p>Within my WordPress folder I created a folder <em>javadoc</em> - right next to <em>wp-admin</em> and the like - and dumped all the created JavaDoc-html in there. Going to <em>http://my-blog/javadoc</em> nicely displays the docs.</p>\n\n<p>I'm a novice in this area, so this might be inadvisable from a best practice or security point of view. I'm actually very interested in an opinion on that!</p>\n"},{"tags":[],"owner":{"account_id":8864010,"reputation":23,"user_id":6619667,"display_name":"Eugenio Liguori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692836157,"creation_date":1692791242,"answer_id":76961057,"question_id":22397028,"body_markdown":"In my opinion you could create a directory in the WordPress root giving read-only permissions and place the files generated by javadoc there and then point a link to it, this is definitely the easiest way. The javadoc files are plain html, in my opinion there is not much to do in terms of security, there are no cookies, database access, but only a javascript to find in the pages. Another aspect is the SEO plugins that with this method will not insert the javadoc pages in the sitemap.xml and will have to be inserted manually.\r\n\r\nYou could insert an iframe in a post so that the javadoc is integrated into the page, but the problem with SEO plugins remains.","title":"How to Add a Javadoc Directory to a Wordpress Site","body":"<p>In my opinion you could create a directory in the WordPress root giving read-only permissions and place the files generated by javadoc there and then point a link to it, this is definitely the easiest way. The javadoc files are plain html, in my opinion there is not much to do in terms of security, there are no cookies, database access, but only a javascript to find in the pages. Another aspect is the SEO plugins that with this method will not insert the javadoc pages in the sitemap.xml and will have to be inserted manually.</p>\n<p>You could insert an iframe in a post so that the javadoc is integrated into the page, but the problem with SEO plugins remains.</p>\n"}],"owner":{"account_id":2295340,"reputation":305,"user_id":2016911,"accept_rate":20,"display_name":"Forelight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1692836157,"creation_date":1394775571,"question_id":22397028,"body_markdown":"I am hosting a Wordpress site and would like to use it to publish an open source project. I&#39;d like one of the main menu items to link to the javadoc for the project.  For those, unfamiliar with Java, javadoc is a programmatically generated directory hierarchy with many (too many to convert manually) HTML files. The root level contains the index.html file that you start with and all the references are relative to that directory. How can I hook in this structure to the WP site?  Converting each page by hand to a WP page is not an acceptable solution because there are too many of them and they change regularly.","title":"How to Add a Javadoc Directory to a Wordpress Site","body":"<p>I am hosting a Wordpress site and would like to use it to publish an open source project. I'd like one of the main menu items to link to the javadoc for the project.  For those, unfamiliar with Java, javadoc is a programmatically generated directory hierarchy with many (too many to convert manually) HTML files. The root level contains the index.html file that you start with and all the references are relative to that directory. How can I hook in this structure to the WP site?  Converting each page by hand to a WP page is not an acceptable solution because there are too many of them and they change regularly.</p>\n"},{"tags":["java","json","angular","spring-boot","date"],"comments":[{"owner":{"account_id":7507798,"reputation":883,"user_id":5703813,"accept_rate":62,"display_name":"Muhammad Usman"},"score":1,"creation_date":1565080111,"post_id":57371807,"comment_id":101228740,"body_markdown":"You are sanding date with time(2019-08-06T00:00:00.000+0000) but parsing in `LocalDate` just date.","body":"You are sanding date with time(2019-08-06T00:00:00.000+0000) but parsing in <code>LocalDate</code> just date."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1565080276,"post_id":57371807,"comment_id":101228829,"body_markdown":"`LocalDateTime` or maybe even `OffsetDateTime` should be used here...","body":"<code>LocalDateTime</code> or maybe even <code>OffsetDateTime</code> should be used here..."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1565102198,"post_id":57371807,"comment_id":101241547,"body_markdown":"The exception message mentions index 23, that is where the offset, `+0000`, is. Just an uninformed guess, it may be that parsing expected the offset to be written with a colon between hours and minutes, `+00:00`.","body":"The exception message mentions index 23, that is where the offset, <code>+0000</code>, is. Just an uninformed guess, it may be that parsing expected the offset to be written with a colon between hours and minutes, <code>+00:00</code>."}],"answers":[{"tags":[],"owner":{"account_id":18759986,"reputation":183,"user_id":13679143,"display_name":"dino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614787868,"creation_date":1614787868,"answer_id":66460791,"question_id":57371807,"body_markdown":"\r\n\r\nHow to send LocalDate and LocalDateTime from Angular to Spring\r\n\r\nnicer solution:\r\n\r\n**app.module.ts**\r\n\r\n    import {DatePipe} from &#39;@angular/common&#39;;\r\n    .\r\n    .\r\n    .\r\n    providers: [DatePipe]\r\n\r\n\r\n**app.service.ts**\r\n\r\n    import { DatePipe } from &#39;@angular/common&#39;;\r\n    \r\n     constructor( private datePipe: DatePipe) {}\r\n\r\n    public sendStuff():  Observable&lt;any&gt;{\r\n        let params = new HttpParams().set(&quot;date&quot;, this.datePipe.transform(new Date(),&quot;yyyy-MM-dd&quot;))\r\n        .set(&quot;datetime&quot;,new Date().toISOString());\r\n        return this.http.post&lt;any&gt;(&quot;urlPath../values/show&quot;, &quot;Body&quot; , {\r\n          headers: new HttpHeaders({\r\n            &#39;Accept&#39;: &#39;application/json&#39;\r\n          }),\r\n          params\r\n        }); \r\n      }\r\n\r\n  \r\nSpring Part\r\n\t\r\n    @PostMapping(path=&quot;values/show&quot;)\r\n    public Map&lt;String, Object&gt;  showValues(@RequestParam(&quot;date&quot;) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)  LocalDate date,\r\n     @RequestParam(&quot;datetime&quot;)  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)  LocalDateTime datetime) {) {\r\n    ...\r\n    }\r\n\r\nIf you just want to convert LocalDate you can leave the datePipe away and just send new Date().toISOString() from Angular. But since the Questioner especially asked for LocalDate you need some sort of Format to get this kind of Date -&gt; &quot;yyyy-MM-dd&quot; . Only with this Spring is able to do its magic.\r\n\r\nBtw. same is possivle if you just need the time (HH:mm:ss.SSSXXX) which is DateTimeFormat.ISO.TIME . \r\n\r\n\r\n**finish!**\r\n\r\n\r\n**not so nice solution and more uncomfortable -&gt; convert to String** \r\n(**not tested** since i was happy with Spring solution) \r\n \r\n**app.service.ts**\r\n\r\n    public sendStuff():  Observable&lt;any&gt;{\r\n        let params = new HttpParams().set(&quot;datetime&quot;,new Date().toLocaleString())\r\n        .set(&quot;datetime&quot;,new Date().toISOString());\r\n        return this.http.post&lt;any&gt;(&quot;urlPath../values/show&quot;, &quot;Body&quot; , {\r\n          headers: new HttpHeaders({\r\n            &#39;Accept&#39;: &#39;application/json&#39;\r\n          }),\r\n          params\r\n        }); \r\n      }\r\n\r\n Spring:\r\n \r\n\r\n\r\n    @PostMapping(path=&quot;values/show&quot;)\r\n    public Map&lt;String, Object&gt;  showValues( @RequestParam String date,  @RequestParam String datetime) {\r\n    ...\r\n    \t // code to transform String to Date copied somewhere\r\n     //Create a DateTimeFormatter with your required format:\r\n     DateTimeFormatter dateTimeFormat = new DateTimeFormatter(DateTimeFormatter.BASIC_ISO_DATE);\r\n    \r\n        //Next parse the date from the @RequestParam, specifying the TO type as a TemporalQuery:\r\n       LocalDateTime date = dateTimeFormat.parse(datetime, LocalDateTime::from);\r\n    \r\n       // some more code to transform LocalDate...\r\n    }\r\n\r\n  ","title":"How to convert Date type Angular to LocalDate in Java","body":"<p>How to send LocalDate and LocalDateTime from Angular to Spring</p>\n<p>nicer solution:</p>\n<p><strong>app.module.ts</strong></p>\n<pre><code>import {DatePipe} from '@angular/common';\n.\n.\n.\nproviders: [DatePipe]\n</code></pre>\n<p><strong>app.service.ts</strong></p>\n<pre><code>import { DatePipe } from '@angular/common';\n\n constructor( private datePipe: DatePipe) {}\n\npublic sendStuff():  Observable&lt;any&gt;{\n    let params = new HttpParams().set(&quot;date&quot;, this.datePipe.transform(new Date(),&quot;yyyy-MM-dd&quot;))\n    .set(&quot;datetime&quot;,new Date().toISOString());\n    return this.http.post&lt;any&gt;(&quot;urlPath../values/show&quot;, &quot;Body&quot; , {\n      headers: new HttpHeaders({\n        'Accept': 'application/json'\n      }),\n      params\n    }); \n  }\n</code></pre>\n<p>Spring Part</p>\n<pre><code>@PostMapping(path=&quot;values/show&quot;)\npublic Map&lt;String, Object&gt;  showValues(@RequestParam(&quot;date&quot;) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)  LocalDate date,\n @RequestParam(&quot;datetime&quot;)  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)  LocalDateTime datetime) {) {\n...\n}\n</code></pre>\n<p>If you just want to convert LocalDate you can leave the datePipe away and just send new Date().toISOString() from Angular. But since the Questioner especially asked for LocalDate you need some sort of Format to get this kind of Date -&gt; &quot;yyyy-MM-dd&quot; . Only with this Spring is able to do its magic.</p>\n<p>Btw. same is possivle if you just need the time (HH:mm:ss.SSSXXX) which is DateTimeFormat.ISO.TIME .</p>\n<p><strong>finish!</strong></p>\n<p><strong>not so nice solution and more uncomfortable -&gt; convert to String</strong>\n(<strong>not tested</strong> since i was happy with Spring solution)</p>\n<p><strong>app.service.ts</strong></p>\n<pre><code>public sendStuff():  Observable&lt;any&gt;{\n    let params = new HttpParams().set(&quot;datetime&quot;,new Date().toLocaleString())\n    .set(&quot;datetime&quot;,new Date().toISOString());\n    return this.http.post&lt;any&gt;(&quot;urlPath../values/show&quot;, &quot;Body&quot; , {\n      headers: new HttpHeaders({\n        'Accept': 'application/json'\n      }),\n      params\n    }); \n  }\n</code></pre>\n<p>Spring:</p>\n<pre><code>@PostMapping(path=&quot;values/show&quot;)\npublic Map&lt;String, Object&gt;  showValues( @RequestParam String date,  @RequestParam String datetime) {\n...\n     // code to transform String to Date copied somewhere\n //Create a DateTimeFormatter with your required format:\n DateTimeFormatter dateTimeFormat = new DateTimeFormatter(DateTimeFormatter.BASIC_ISO_DATE);\n\n    //Next parse the date from the @RequestParam, specifying the TO type as a TemporalQuery:\n   LocalDateTime date = dateTimeFormat.parse(datetime, LocalDateTime::from);\n\n   // some more code to transform LocalDate...\n}\n</code></pre>\n"}],"owner":{"account_id":13769143,"reputation":33,"user_id":9937073,"display_name":"C&#233;dric R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692835535,"creation_date":1565079765,"question_id":57371807,"body_markdown":"I have a frontend part in Angular 7 and a backend part in Java with Spring Boot framework. I want to post to my backend a Date object. In backend I have a Local Date object. I don&#39;t need LocalDateTime object\r\n\r\nmy date service in angular. I need to preserve Date type and not use string.\r\n\r\n```typescript\r\naddDate(): Observable&lt;Date&gt; {\r\n    let now = new Date();\r\n    return this.http\r\n      .post&lt;Date&gt;(&#39;/api/date&#39;, now)\r\n      .pipe(\r\n        tap(response =&gt; {\r\n          return response;\r\n        }),\r\n        catchError(error =&gt; this.notificationService.handleError(error))\r\n      );\r\n  }\r\n```\r\n\r\nmy backend service :\r\n\r\n```java\r\n\t@PostMapping\r\n\tpublic LocalDate addIrregularity(@RequestBody LocalDate date, HttpServletRequest request) {\r\n\t\tlog.info(date);\r\n\t\treturn date;\r\n\t}\r\n```\r\n\r\nAnd i have this error:\r\n\r\n&gt; 2019-08-06 08:21:02.185  WARN 1444 --- [nio-8080-exec-4]\r\n&gt; .w.s.m.s.DefaultHandlerExceptionResolver : Resolved\r\n&gt; [org.springframework.http.converter.HttpMessageNotReadableException:\r\n&gt; JSON parse error: Cannot deserialize value of type\r\n&gt; `java.time.LocalDate` from String &quot;2019-08-06T00:00:00.000+0000&quot;:\r\n&gt; Failed to deserialize java.time.LocalDate:\r\n&gt; (java.time.format.DateTimeParseException) Text\r\n&gt; &#39;2019-08-06T00:00:00.000+0000&#39; could not be parsed, unparsed text\r\n&gt; found at index 23; nested exception is\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot\r\n&gt; deserialize value of type `java.time.LocalDate` from String\r\n&gt; &quot;2019-08-06T00:00:00.000+0000&quot;: Failed to deserialize\r\n&gt; java.time.LocalDate: (java.time.format.DateTimeParseException) Text\r\n&gt; &#39;2019-08-06T00:00:00.000+0000&#39; could not be parsed, unparsed text\r\n&gt; found at index 23","title":"How to convert Date type Angular to LocalDate in Java","body":"<p>I have a frontend part in Angular 7 and a backend part in Java with Spring Boot framework. I want to post to my backend a Date object. In backend I have a Local Date object. I don't need LocalDateTime object</p>\n\n<p>my date service in angular. I need to preserve Date type and not use string.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>addDate(): Observable&lt;Date&gt; {\n    let now = new Date();\n    return this.http\n      .post&lt;Date&gt;('/api/date', now)\n      .pipe(\n        tap(response =&gt; {\n          return response;\n        }),\n        catchError(error =&gt; this.notificationService.handleError(error))\n      );\n  }\n</code></pre>\n\n<p>my backend service :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping\n    public LocalDate addIrregularity(@RequestBody LocalDate date, HttpServletRequest request) {\n        log.info(date);\n        return date;\n    }\n</code></pre>\n\n<p>And i have this error:</p>\n\n<blockquote>\n  <p>2019-08-06 08:21:02.185  WARN 1444 --- [nio-8080-exec-4]\n  .w.s.m.s.DefaultHandlerExceptionResolver : Resolved\n  [org.springframework.http.converter.HttpMessageNotReadableException:\n  JSON parse error: Cannot deserialize value of type\n  <code>java.time.LocalDate</code> from String \"2019-08-06T00:00:00.000+0000\":\n  Failed to deserialize java.time.LocalDate:\n  (java.time.format.DateTimeParseException) Text\n  '2019-08-06T00:00:00.000+0000' could not be parsed, unparsed text\n  found at index 23; nested exception is\n  com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot\n  deserialize value of type <code>java.time.LocalDate</code> from String\n  \"2019-08-06T00:00:00.000+0000\": Failed to deserialize\n  java.time.LocalDate: (java.time.format.DateTimeParseException) Text\n  '2019-08-06T00:00:00.000+0000' could not be parsed, unparsed text\n  found at index 23</p>\n</blockquote>\n"},{"tags":["java","regex","string","stringbuilder"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1692826643,"post_id":76965006,"comment_id":135678657,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour) to learn how Stack Overflow works and read [How to Ask](https://stackoverflow.com/help/how-to-ask) or how to improve the quality of your question. Then edit your question to include your full source code you have as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), which can be compiled and tested by others. Included sources [should be in text format](https://meta.stackoverflow.com/a/285557/5043481), not an image. Currently you are not asking any question.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> or how to improve the quality of your question. Then edit your question to include your full source code you have as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Included sources <a href=\"https://meta.stackoverflow.com/a/285557/5043481\">should be in text format</a>, not an image. Currently you are not asking any question."},{"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"score":2,"creation_date":1692827455,"post_id":76965006,"comment_id":135678755,"body_markdown":"If you use regular expressions, be careful about international prefixes: In your example, the prefix is just one digit long (&quot;7&quot;), but you must take in account that there are two-digit and even three-digit prefixes. To solve that, you might prepend zeroes at the begginning to fix the input string length to 13.","body":"If you use regular expressions, be careful about international prefixes: In your example, the prefix is just one digit long (&quot;7&quot;), but you must take in account that there are two-digit and even three-digit prefixes. To solve that, you might prepend zeroes at the begginning to fix the input string length to 13."},{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":0,"creation_date":1692828376,"post_id":76965006,"comment_id":135678871,"body_markdown":"Adding to what @LittleSanti said, the &quot;+7&quot; in this example is a country calling code. Not only can the length of the country calling code vary (eg: +7 vs  +44 vs +592), but the length and format of the number that comes after it also depends on the country code in use (eg: +1 uses the format &quot;+1 (XXX) XXX-XXXX&quot; while +86 uses the format &quot;+86 XXX XXXX XXXX&quot;).","body":"Adding to what @LittleSanti said, the &quot;+7&quot; in this example is a country calling code. Not only can the length of the country calling code vary (eg: +7 vs  +44 vs +592), but the length and format of the number that comes after it also depends on the country code in use (eg: +1 uses the format &quot;+1 (XXX) XXX-XXXX&quot; while +86 uses the format &quot;+86 XXX XXXX XXXX&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1692829584,"creation_date":1692827146,"answer_id":76965069,"question_id":76965006,"body_markdown":"&gt; _&#39;... I need to get a phone number as a string &quot;79991111111&quot; and convert it to this type of string &quot;+7 (999) 111-11-11&quot;. ...&#39;_\r\n\r\nYou can use the _[StringBuilder#insert](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#insert(int,char))_ method to insert a character into a _String_ value.\r\n\r\n```java\r\nStringBuilder string = new StringBuilder(&quot;79991111111&quot;);\r\nstring.insert(0, &#39;+&#39;);\r\nstring.insert(2, &quot; (&quot;);\r\nstring.insert(7, &quot;) &quot;);\r\nstring.insert(12, &#39;-&#39;);\r\nstring.insert(15, &#39;-&#39;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n+7 (999) 111-11-11\r\n```\r\n\r\nOr, you could use a _[String#substring](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#substring(int,int))_ for each part of the value.\r\n\r\n```java\r\nString string = &quot;79991111111&quot;;\r\nString[] strings = {\r\n    string.substring(0, 1),\r\n    string.substring(1, 4),\r\n    string.substring(4, 7),\r\n    string.substring(7, 9),\r\n    string.substring(9)\r\n};\r\nstring = &quot;+%s (%s) %s-%s-%s&quot;.formatted(strings);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n+7 (999) 111-11-11\r\n```\r\n\r\n&gt; _&quot;... I tried to do it via regex, but i don&#39;t know how to change string with using regex&quot;_\r\n\r\nYou can use the _[String#replaceAll](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String))_ method to capture each group of numbers, and insert values between them.\r\n\r\nSince the value will always be the same length, you can use the _wildcard_ character `.`, and capture syntax `( )`.\r\n\r\n```java\r\nString string = &quot;79991111111&quot;.replaceAll(&quot;(.)(...)(...)(..)(..)&quot;, &quot;+$1 ($2) $3-$4-$5&quot;);\r\n```\r\n\r\n","title":"How to format string in Java when the value goes from parameters?","body":"<blockquote>\n<p><em>'... I need to get a phone number as a string &quot;79991111111&quot; and convert it to this type of string &quot;+7 (999) 111-11-11&quot;. ...'</em></p>\n</blockquote>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#insert(int,char)\" rel=\"nofollow noreferrer\">StringBuilder#insert</a></em> method to insert a character into a <em>String</em> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder string = new StringBuilder(&quot;79991111111&quot;);\nstring.insert(0, '+');\nstring.insert(2, &quot; (&quot;);\nstring.insert(7, &quot;) &quot;);\nstring.insert(12, '-');\nstring.insert(15, '-');\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>+7 (999) 111-11-11\n</code></pre>\n<p>Or, you could use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#substring(int,int)\" rel=\"nofollow noreferrer\">String#substring</a></em> for each part of the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;79991111111&quot;;\nString[] strings = {\n    string.substring(0, 1),\n    string.substring(1, 4),\n    string.substring(4, 7),\n    string.substring(7, 9),\n    string.substring(9)\n};\nstring = &quot;+%s (%s) %s-%s-%s&quot;.formatted(strings);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>+7 (999) 111-11-11\n</code></pre>\n<blockquote>\n<p><em>&quot;... I tried to do it via regex, but i don't know how to change string with using regex&quot;</em></p>\n</blockquote>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String#replaceAll</a></em> method to capture each group of numbers, and insert values between them.</p>\n<p>Since the value will always be the same length, you can use the <em>wildcard</em> character <code>.</code>, and capture syntax <code>( )</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;79991111111&quot;.replaceAll(&quot;(.)(...)(...)(..)(..)&quot;, &quot;+$1 ($2) $3-$4-$5&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1692828953,"creation_date":1692827147,"answer_id":76965070,"question_id":76965006,"body_markdown":"You can use capturing groups and then replace the string as the desired pattern.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Duration;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String regex = &quot;(\\\\d)(\\\\d{3})(\\\\d{3})(\\\\d{2})(\\\\d{2})&quot;;\r\n            // Test\r\n            Stream.of(\r\n                    &quot;79991111111&quot;,\r\n                    &quot;12345678901&quot;\r\n            ).forEach(s -&gt; System.out.println(s.replaceAll(regex,&quot;+$1($2)$3-$4-$5&quot;)));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    +7(999)111-11-11\r\n    +1(234)567-89-01\r\n\r\n**Notes:** \r\n\r\n 1. There are 5 capturing groups in the regex pattern and each of them has been used with its position as a replaceable parameter in the replacement string.\r\n 2. `\\d` represents a single digit and `\\d{3}` represents three digits in the regex pattern.\r\n\r\n[Regex Demo](https://regex101.com/r/elej4P/1)","title":"How to format string in Java when the value goes from parameters?","body":"<p>You can use capturing groups and then replace the string as the desired pattern.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Duration;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        String regex = &quot;(\\\\d)(\\\\d{3})(\\\\d{3})(\\\\d{2})(\\\\d{2})&quot;;\n        // Test\n        Stream.of(\n                &quot;79991111111&quot;,\n                &quot;12345678901&quot;\n        ).forEach(s -&gt; System.out.println(s.replaceAll(regex,&quot;+$1($2)$3-$4-$5&quot;)));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>+7(999)111-11-11\n+1(234)567-89-01\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ol>\n<li>There are 5 capturing groups in the regex pattern and each of them has been used with its position as a replaceable parameter in the replacement string.</li>\n<li><code>\\d</code> represents a single digit and <code>\\d{3}</code> represents three digits in the regex pattern.</li>\n</ol>\n<p><a href=\"https://regex101.com/r/elej4P/1\" rel=\"nofollow noreferrer\">Regex Demo</a></p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1692835007,"creation_date":1692827307,"answer_id":76965087,"question_id":76965006,"body_markdown":"Make use of [`MaskFormatter`](https://docs.oracle.com/javase/jp/16/docs/api/java.desktop/javax/swing/text/MaskFormatter.html), for example...\r\n\r\n    MaskFormatter mf = new MaskFormatter(&quot;+# (###) ###-##-##&quot;);\r\n    mf.setValueContainsLiteralCharacters(false);\r\n    System.out.println(mf.valueToString(&quot;79991111111&quot;));\r\n\r\nwhich will output `+7 (999) 111-11-11`\r\n\r\n# Update\r\n\r\nYou should take a look at [Googles libphonenumber](https://github.com/google/libphonenumber) - as formatting phone numbers does not have a simple solution\r\n\r\n*(ps - I&#39;ve never used this before, this is all experimental on my part)*\r\n\r\nSo, based on the documented examples, you could do something like...\r\n\r\n    // I had to add the `+` prefix, otherwise the parsing would fail\r\n    String input = &quot;+79991111111&quot;;\r\n    PhoneNumberUtil phoneUtil = PhoneNumberUtil.getInstance();\r\n    try {\r\n        Phonenumber.PhoneNumber phoneNumber = phoneUtil.parse(input, CountryCodeSource.UNSPECIFIED.name());\r\n        System.out.println(phoneNumber);\r\n        System.out.println(phoneUtil.format(phoneNumber, PhoneNumberFormat.INTERNATIONAL));\r\n        System.out.println(phoneUtil.format(phoneNumber, PhoneNumberFormat.NATIONAL));\r\n        System.out.println(phoneUtil.format(phoneNumber, PhoneNumberFormat.E164));\r\n    } catch (NumberParseException e) {\r\n        System.err.println(&quot;NumberParseException was thrown: &quot; + e.toString());\r\n    }\r\n\r\nAnd this will print ...\r\n\r\n    +7 999 111-11-11\r\n    8 (999) 111-11-11\r\n    +79991111111\r\n\r\nAt this point you &quot;should&quot; be able to walk away, as these are using &quot;standardised&quot; formats, but, if you need to do something &quot;special&quot;, you could make use of `PhoneNumberUtil#formatByPattern`, which might look something like...\r\n\r\n    String input = &quot;+79991111111&quot;;\r\n    PhoneNumberUtil phoneUtil = PhoneNumberUtil.getInstance();\r\n    try {\r\n        NumberFormat newNumFormat = new NumberFormat();\r\n        newNumFormat.setPattern(&quot;(\\\\d{3})(\\\\d{3})(\\\\d{2})(\\\\d{2})&quot;);\r\n        newNumFormat.setFormat(&quot;($1) $2-$3-$4&quot;);\r\n\r\n        List&lt;NumberFormat&gt; newNumberFormats = new ArrayList&lt;NumberFormat&gt;();\r\n        newNumberFormats.add(newNumFormat);\r\n\r\n        String formatted = phoneUtil.formatByPattern(phoneNumber, PhoneNumberFormat.INTERNATIONAL, newNumberFormats);\r\n        System.out.println(formatted);\r\n    } catch (NumberParseException e) {\r\n        System.err.println(&quot;NumberParseException was thrown: &quot; + e.toString());\r\n    }\r\n\r\nand output something like...\r\n\r\n    +7 (999) 111-11-11\r\n\r\nwhich, again, is probably as close as you will get.\r\n\r\nPlease also remember, formatting phone numbers is not simple as there are no real &quot;standard&quot; rules across all countries ... it&#39;s a mess","title":"How to format string in Java when the value goes from parameters?","body":"<p>Make use of <a href=\"https://docs.oracle.com/javase/jp/16/docs/api/java.desktop/javax/swing/text/MaskFormatter.html\" rel=\"nofollow noreferrer\"><code>MaskFormatter</code></a>, for example...</p>\n<pre><code>MaskFormatter mf = new MaskFormatter(&quot;+# (###) ###-##-##&quot;);\nmf.setValueContainsLiteralCharacters(false);\nSystem.out.println(mf.valueToString(&quot;79991111111&quot;));\n</code></pre>\n<p>which will output <code>+7 (999) 111-11-11</code></p>\n<h1>Update</h1>\n<p>You should take a look at <a href=\"https://github.com/google/libphonenumber\" rel=\"nofollow noreferrer\">Googles libphonenumber</a> - as formatting phone numbers does not have a simple solution</p>\n<p><em>(ps - I've never used this before, this is all experimental on my part)</em></p>\n<p>So, based on the documented examples, you could do something like...</p>\n<pre><code>// I had to add the `+` prefix, otherwise the parsing would fail\nString input = &quot;+79991111111&quot;;\nPhoneNumberUtil phoneUtil = PhoneNumberUtil.getInstance();\ntry {\n    Phonenumber.PhoneNumber phoneNumber = phoneUtil.parse(input, CountryCodeSource.UNSPECIFIED.name());\n    System.out.println(phoneNumber);\n    System.out.println(phoneUtil.format(phoneNumber, PhoneNumberFormat.INTERNATIONAL));\n    System.out.println(phoneUtil.format(phoneNumber, PhoneNumberFormat.NATIONAL));\n    System.out.println(phoneUtil.format(phoneNumber, PhoneNumberFormat.E164));\n} catch (NumberParseException e) {\n    System.err.println(&quot;NumberParseException was thrown: &quot; + e.toString());\n}\n</code></pre>\n<p>And this will print ...</p>\n<pre><code>+7 999 111-11-11\n8 (999) 111-11-11\n+79991111111\n</code></pre>\n<p>At this point you &quot;should&quot; be able to walk away, as these are using &quot;standardised&quot; formats, but, if you need to do something &quot;special&quot;, you could make use of <code>PhoneNumberUtil#formatByPattern</code>, which might look something like...</p>\n<pre><code>String input = &quot;+79991111111&quot;;\nPhoneNumberUtil phoneUtil = PhoneNumberUtil.getInstance();\ntry {\n    NumberFormat newNumFormat = new NumberFormat();\n    newNumFormat.setPattern(&quot;(\\\\d{3})(\\\\d{3})(\\\\d{2})(\\\\d{2})&quot;);\n    newNumFormat.setFormat(&quot;($1) $2-$3-$4&quot;);\n\n    List&lt;NumberFormat&gt; newNumberFormats = new ArrayList&lt;NumberFormat&gt;();\n    newNumberFormats.add(newNumFormat);\n\n    String formatted = phoneUtil.formatByPattern(phoneNumber, PhoneNumberFormat.INTERNATIONAL, newNumberFormats);\n    System.out.println(formatted);\n} catch (NumberParseException e) {\n    System.err.println(&quot;NumberParseException was thrown: &quot; + e.toString());\n}\n</code></pre>\n<p>and output something like...</p>\n<pre><code>+7 (999) 111-11-11\n</code></pre>\n<p>which, again, is probably as close as you will get.</p>\n<p>Please also remember, formatting phone numbers is not simple as there are no real &quot;standard&quot; rules across all countries ... it's a mess</p>\n"}],"owner":{"account_id":29286116,"reputation":13,"user_id":22437646,"display_name":"komezh"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"closed_date":1700157135,"answer_count":3,"score":-2,"last_activity_date":1692835007,"creation_date":1692826120,"question_id":76965006,"body_markdown":"I have a problem: I need to get a phone number as a string &quot;79991111111&quot; and convert it to this type of string &quot;+7 (999) 111-11-11&quot;.\r\n\r\nAs i got it i&#39;m able to do it by using a String.format() - but in this case I need a string initially, but i know only format of expected string that comes by parameters (ex. &quot;79991111111&quot;), but not the exact string.\r\n\r\n**Summary**: I need do &quot;+7 (999) 111-11-11&quot; from &quot;79991111111&quot; and there is difference values all the time, but the same type and length.\r\n\r\nI tried to do it via regex, but i don&#39;t know how to change string with using regex","title":"How to format string in Java when the value goes from parameters?","body":"<p>I have a problem: I need to get a phone number as a string &quot;79991111111&quot; and convert it to this type of string &quot;+7 (999) 111-11-11&quot;.</p>\n<p>As i got it i'm able to do it by using a String.format() - but in this case I need a string initially, but i know only format of expected string that comes by parameters (ex. &quot;79991111111&quot;), but not the exact string.</p>\n<p><strong>Summary</strong>: I need do &quot;+7 (999) 111-11-11&quot; from &quot;79991111111&quot; and there is difference values all the time, but the same type and length.</p>\n<p>I tried to do it via regex, but i don't know how to change string with using regex</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692834918,"creation_date":1692834918,"answer_id":76965527,"question_id":76961560,"body_markdown":"The answer is that I needed to add `arguments.add(&quot;--disable-dev-shm-usage&quot;);` to the options. It works now.","title":"&#39;org.openqa.selenium.WebDriverException: unknown error: session deleted because of page crash&#39;","body":"<p>The answer is that I needed to add <code>arguments.add(&quot;--disable-dev-shm-usage&quot;);</code> to the options. It works now.</p>\n"}],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692834918,"creation_date":1692795330,"question_id":76961560,"body_markdown":"I have standalone chrome Docker image and I want to use it with Java17. My Docker file is:\r\n\r\n```\r\nFROM selenium/standalone-chrome:115.0\r\n\r\nRUN wget -O- https://apt.corretto.aws/corretto.key | sudo apt-key add -\r\n\r\nRUN sudo apt update\r\n# RUN sudo apt upgrade\r\nRUN sudo apt-get -y install software-properties-common\r\nRUN sudo add-apt-repository &#39;deb https://apt.corretto.aws stable main&#39;\r\nRUN sudo apt-get update\r\nRUN sudo apt-get install -y java-17-amazon-corretto-jdk\r\n\r\n\r\nENV CHROMEDRIVER_PORT 4444\r\nENV CHROMEDRIVER_WHITELISTED_IPS &quot;127.0.0.1&quot;\r\nENV CHROMEDRIVER_URL_BASE &#39;&#39;\r\nEXPOSE 4444\r\n\r\nEXPOSE 8080\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\n# For Testing\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;-Xmx600m&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nMy java code is\r\n```\r\n//            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/local/bin/chromedriver&quot;);\r\n\r\n            ChromeOptions chromeOptions = new ChromeOptions();\r\n//            chromeOptions.setBinary(&quot;/usr/local/bin/chrome&quot;);\r\n            chromeOptions.addArguments(&quot;--headless=new&quot;);\r\n            chromeOptions.addArguments(&quot;--no-sandbox&quot;);\r\n            chromeOptions.addArguments(&quot;--disable-gpu&quot;);\r\n            chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    WebDriver webDriver = new ChromeDriver(chromeOptions);\r\n    webDriver.get(&quot;https://www.google.com/&quot;);\r\n\r\n```\r\nI am seeing two errors:\r\n```\r\nThe chromedriver version (115.0.5790.102) detected in PATH at /usr/bin/chromedriver might not be compatible with the detected chrome version (115.0.5790.110); currently, chromedriver 115.0.5790.170 is recommended for chrome 115.*, so it is advised to delete the driver in PATH and retry\r\n```\r\nand also\r\n```\r\norg.openqa.selenium.WebDriverException: unknown error: session deleted because of page crash\r\nfrom tab crashed\r\n  (Session info: chrome=115.0.5790.110)\r\nBuild info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;17.0.8.1&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [29d1fa15d0fab05c1c479470b82aaa69, get {url=https://www.kcrg.com/2022/02/08/john-deere-acquires-majority-ownership-battery-manufacturer/}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 115.0.5790.110, chrome: {chromedriverVersion: 115.0.5790.102 (90efd4b0ad6..., userDataDir: /tmp/.org.chromium.Chromium...}, goog:chromeOptions: {debuggerAddress: localhost:43301}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: linux, proxy: Proxy(), se:cdp: ws://localhost:43301/devtoo..., se:cdpVersion: 115.0.5790.110, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\n```\r\n\r\nDoes anyone know how to diagnose/fix? ","title":"&#39;org.openqa.selenium.WebDriverException: unknown error: session deleted because of page crash&#39;","body":"<p>I have standalone chrome Docker image and I want to use it with Java17. My Docker file is:</p>\n<pre><code>FROM selenium/standalone-chrome:115.0\n\nRUN wget -O- https://apt.corretto.aws/corretto.key | sudo apt-key add -\n\nRUN sudo apt update\n# RUN sudo apt upgrade\nRUN sudo apt-get -y install software-properties-common\nRUN sudo add-apt-repository 'deb https://apt.corretto.aws stable main'\nRUN sudo apt-get update\nRUN sudo apt-get install -y java-17-amazon-corretto-jdk\n\n\nENV CHROMEDRIVER_PORT 4444\nENV CHROMEDRIVER_WHITELISTED_IPS &quot;127.0.0.1&quot;\nENV CHROMEDRIVER_URL_BASE ''\nEXPOSE 4444\n\nEXPOSE 8080\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\n# For Testing\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;-Xmx600m&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>My java code is</p>\n<pre><code>//            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/local/bin/chromedriver&quot;);\n\n            ChromeOptions chromeOptions = new ChromeOptions();\n//            chromeOptions.setBinary(&quot;/usr/local/bin/chrome&quot;);\n            chromeOptions.addArguments(&quot;--headless=new&quot;);\n            chromeOptions.addArguments(&quot;--no-sandbox&quot;);\n            chromeOptions.addArguments(&quot;--disable-gpu&quot;);\n            chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n    WebDriver webDriver = new ChromeDriver(chromeOptions);\n    webDriver.get(&quot;https://www.google.com/&quot;);\n\n</code></pre>\n<p>I am seeing two errors:</p>\n<pre><code>The chromedriver version (115.0.5790.102) detected in PATH at /usr/bin/chromedriver might not be compatible with the detected chrome version (115.0.5790.110); currently, chromedriver 115.0.5790.170 is recommended for chrome 115.*, so it is advised to delete the driver in PATH and retry\n</code></pre>\n<p>and also</p>\n<pre><code>org.openqa.selenium.WebDriverException: unknown error: session deleted because of page crash\nfrom tab crashed\n  (Session info: chrome=115.0.5790.110)\nBuild info: version: '4.11.0', revision: '040bc5406b'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '17.0.8.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [29d1fa15d0fab05c1c479470b82aaa69, get {url=https://www.kcrg.com/2022/02/08/john-deere-acquires-majority-ownership-battery-manufacturer/}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 115.0.5790.110, chrome: {chromedriverVersion: 115.0.5790.102 (90efd4b0ad6..., userDataDir: /tmp/.org.chromium.Chromium...}, goog:chromeOptions: {debuggerAddress: localhost:43301}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: linux, proxy: Proxy(), se:cdp: ws://localhost:43301/devtoo..., se:cdpVersion: 115.0.5790.110, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\n</code></pre>\n<p>Does anyone know how to diagnose/fix?</p>\n"},{"tags":["java","search","recursion","tree","binary-tree"],"comments":[{"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"score":0,"creation_date":1391841381,"post_id":21642771,"comment_id":32708487,"body_markdown":"ok..let me put it plain simple...in the code that i posted, its searching max element under the presumption of BST and not BT...right??","body":"ok..let me put it plain simple...in the code that i posted, its searching max element under the presumption of BST and not BT...right??"},{"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"score":0,"creation_date":1391841385,"post_id":21642771,"comment_id":32708491,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/47073/discussion-between-noobeditor-and-user2864740)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/47073/discussion-between-noobeditor-and-user2864740\">continue this discussion in chat</a>"}],"answers":[{"tags":[],"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1391843486,"creation_date":1391843149,"answer_id":21643109,"question_id":21642771,"body_markdown":"The difference between a [Binary Tree](http://en.wikipedia.org/wiki/Binary_tree) and [Binary *Search* Tree](http://en.wikipedia.org/wiki/Binary_search_tree) is that a BST has a guaranteed between each node and its left/right child nodes - a plain BT *has no ordering*.\r\n\r\nThe code presented will work for a plain Binary Tree because it *traverses all nodes* in a [*depth first*](http://en.wikipedia.org/wiki/Depth-first_search) manner. (If the data *was* a BST the algorithm would only need to find the &quot;rightmost&quot; node and return it&#39;s value to find the maximum value in the tree.)\r\n\r\nNow, in the BT implementation shown, each recursive function finds the maximum value of the sub-tree given by the left or right child node (the child node is root of the sub-tree) and it is this value that is returned.\r\n\r\nFor instance, consider this Binary Tree, which is not a BST in this case (from Wikipedia):\r\n\r\n![http://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/Binary_tree.svg/192px-Binary_tree.svg.png][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/HTgep.png\r\n\r\nThe call stack, as it works the way through the tree, will look like the following where `-` represents a stack level and the number represents the node.\r\n\r\n&lt;!--language:lang-none--&gt;\r\n\r\n    -2\r\n    --7 (l)\r\n    ---2 (l)\r\n    ---6 (r)\r\n    ----5 (l)\r\n    ----11 (r)\r\n    --5 (r)\r\n    ---9 (r)\r\n    ----4 (l)\r\n\r\nThe stack can only &quot;unwind&quot; when it reaches the terminal case - this *after* the maximum value of the left and right sub-trees has been computed (via recursion into `FindMaxNmb`).\r\n\r\nOn the unwinding phase ..\r\n\r\n- .. when node 11 is reached there is no right node so it returns to 6\r\n- since this finishes searching in the right sub-tree (of 6) it returns to 7\r\n- since this finishes searching in the right sub-tree (of 7) it returns to 2\r\n- since this finishes searching in the left sub-tree (of 2), the right sub-tree (5) is entered ..","title":"Find maximum element in binary tree","body":"<p>The difference between a <a href=\"http://en.wikipedia.org/wiki/Binary_tree\" rel=\"nofollow noreferrer\">Binary Tree</a> and <a href=\"http://en.wikipedia.org/wiki/Binary_search_tree\" rel=\"nofollow noreferrer\">Binary <em>Search</em> Tree</a> is that a BST has a guaranteed between each node and its left/right child nodes - a plain BT <em>has no ordering</em>.</p>\n\n<p>The code presented will work for a plain Binary Tree because it <em>traverses all nodes</em> in a <a href=\"http://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\"><em>depth first</em></a> manner. (If the data <em>was</em> a BST the algorithm would only need to find the \"rightmost\" node and return it's value to find the maximum value in the tree.)</p>\n\n<p>Now, in the BT implementation shown, each recursive function finds the maximum value of the sub-tree given by the left or right child node (the child node is root of the sub-tree) and it is this value that is returned.</p>\n\n<p>For instance, consider this Binary Tree, which is not a BST in this case (from Wikipedia):</p>\n\n<p><img src=\"https://i.stack.imgur.com/HTgep.png\" alt=\"http://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/Binary_tree.svg/192px-Binary_tree.svg.png\"></p>\n\n<p>The call stack, as it works the way through the tree, will look like the following where <code>-</code> represents a stack level and the number represents the node.</p>\n\n\n\n<pre><code>-2\n--7 (l)\n---2 (l)\n---6 (r)\n----5 (l)\n----11 (r)\n--5 (r)\n---9 (r)\n----4 (l)\n</code></pre>\n\n<p>The stack can only \"unwind\" when it reaches the terminal case - this <em>after</em> the maximum value of the left and right sub-trees has been computed (via recursion into <code>FindMaxNmb</code>).</p>\n\n<p>On the unwinding phase ..</p>\n\n<ul>\n<li>.. when node 11 is reached there is no right node so it returns to 6</li>\n<li>since this finishes searching in the right sub-tree (of 6) it returns to 7</li>\n<li>since this finishes searching in the right sub-tree (of 7) it returns to 2</li>\n<li>since this finishes searching in the left sub-tree (of 2), the right sub-tree (5) is entered ..</li>\n</ul>\n"}],"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7610,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21643109,"answer_count":1,"score":4,"last_activity_date":1692834083,"creation_date":1391840660,"question_id":21642771,"body_markdown":"I am really confused about finding an element in a `binary tree`.\r\n\r\n**Question:** When we say, search an element in a binary tree, *maximum, in this case,* do we assume that the tree is sorted???&lt;br /&gt;\r\n\r\nIf not, take a look at the below code, I got it from a book and almost every online URL suggests a similar pattern\r\n\r\n```cpp\r\nint FindMaxNmb(BinaryTreeNode root)\r\n{\r\n    int root_val, left, right, max;\r\n\tif(root != null)\r\n\t{\r\n\t    root_val = root.getData();\r\n\t\t\r\n        //recursion - this is what I don&#39;t understand\r\n\t\t\t\r\n\t\t/*\r\n\t\t* This code would have made sense if the binary tree contained\r\n\t    * Sorted elements, like  The left subtree of a node contained \r\n\t\t* Only nodes with keys less than the node&#39;s key The right subtree \r\n\t\t* of a node contained only nodes with keys greater \r\n        * than the node&#39;s key.  \r\n\t\t* */\r\n\r\n\t\tleft = FindMaxNmb(root.getLeft());\r\n\t\tright = FindMaxNmb(root.getRight());\r\n\t\t\t\r\n\t\t//Find max number\r\n\t\tif(left &gt; right)\r\n\t\t{\r\n\t\t    max = left;\r\n        }\r\n        else\r\n        {\r\n            max = right;\r\n        }\r\n\t\r\n        if(root_val &gt; max)\r\n        {\r\n            max = root_val;\r\n        }\r\n    }\r\n\treturn max;\r\n}\r\n```\r\n\r\n**What i don&#39;t understand :** take this recursion for instance \r\n`left = FindMaxNmb(root.getLeft());` this will go on calling unless it reaches the leftmost bottom leaf and then assigns the value, same is with `getRight()`....but this thing only works for the leftmost node having 2 children...how does it check the value of remaining nodes (*I am assuming that binary tree is not sorted*)\r\n\r\nI know I am missing something very obvious here...please help!!","title":"Find maximum element in binary tree","body":"<p>I am really confused about finding an element in a <code>binary tree</code>.</p>\n<p><strong>Question:</strong> When we say, search an element in a binary tree, <em>maximum, in this case,</em> do we assume that the tree is sorted???<br /></p>\n<p>If not, take a look at the below code, I got it from a book and almost every online URL suggests a similar pattern</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>int FindMaxNmb(BinaryTreeNode root)\n{\n    int root_val, left, right, max;\n    if(root != null)\n    {\n        root_val = root.getData();\n        \n        //recursion - this is what I don't understand\n            \n        /*\n        * This code would have made sense if the binary tree contained\n        * Sorted elements, like  The left subtree of a node contained \n        * Only nodes with keys less than the node's key The right subtree \n        * of a node contained only nodes with keys greater \n        * than the node's key.  \n        * */\n\n        left = FindMaxNmb(root.getLeft());\n        right = FindMaxNmb(root.getRight());\n            \n        //Find max number\n        if(left &gt; right)\n        {\n            max = left;\n        }\n        else\n        {\n            max = right;\n        }\n    \n        if(root_val &gt; max)\n        {\n            max = root_val;\n        }\n    }\n    return max;\n}\n</code></pre>\n<p><strong>What i don't understand :</strong> take this recursion for instance\n<code>left = FindMaxNmb(root.getLeft());</code> this will go on calling unless it reaches the leftmost bottom leaf and then assigns the value, same is with <code>getRight()</code>....but this thing only works for the leftmost node having 2 children...how does it check the value of remaining nodes (<em>I am assuming that binary tree is not sorted</em>)</p>\n<p>I know I am missing something very obvious here...please help!!</p>\n"},{"tags":["java","outlook"],"comments":[{"owner":{"account_id":131793,"reputation":64005,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"score":0,"creation_date":1692745856,"post_id":76957268,"comment_id":135665784,"body_markdown":"Can you log what gets passed to `new URI()`?","body":"Can you log what gets passed to <code>new URI()</code>?"},{"owner":{"account_id":10032083,"reputation":61,"user_id":7418195,"accept_rate":25,"display_name":"Nisbo"},"score":0,"creation_date":1692747806,"post_id":76957268,"comment_id":135665958,"body_markdown":"If I use \n\n`URLEncoder.encode(subject, &quot;UTF-8&quot;);`\n\nI will get\n\n`mailto:mail1@xxx.com?subject=This+is+the+subject&amp;cc=mail2@xxx.com;mail3@xxx.com&amp;body=Dear+colleagues+this+is+a`","body":"If I use   <code>URLEncoder.encode(subject, &quot;UTF-8&quot;);</code>  I will get  <code>mailto:mail1@xxx.com?subject=This+is+the+subject&amp;cc=mail2@xx&zwnj;&#8203;x.com;mail3@xxx.com&amp;&zwnj;&#8203;body=Dear+colleagues&zwnj;&#8203;+this+is+a</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1692797086,"post_id":76957268,"comment_id":135672973,"body_markdown":"Donâ€™t use URLEncoder for this;  that class is for submitting HTML form data.  The URI class properly encodes URI parts, so use `new URI(&quot;mailto&quot;, to + &quot;?subject=&quot; + subject + &quot;&amp;cc=&quot; + cc + &quot;&amp;body=&quot; + body, null)`.","body":"Donâ€™t use URLEncoder for this;  that class is for submitting HTML form data.  The URI class properly encodes URI parts, so use <code>new URI(&quot;mailto&quot;, to + &quot;?subject=&quot; + subject + &quot;&amp;cc=&quot; + cc + &quot;&amp;body=&quot; + body, null)</code>."},{"owner":{"account_id":10032083,"reputation":61,"user_id":7418195,"accept_rate":25,"display_name":"Nisbo"},"score":0,"creation_date":1692825493,"post_id":76957268,"comment_id":135678519,"body_markdown":"@VGR its working like a charm. thx a lot. :)","body":"@VGR its working like a charm. thx a lot. :)"}],"answers":[{"tags":[],"owner":{"account_id":29271617,"reputation":62,"user_id":22426243,"display_name":"NsoundarMCA"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692766162,"creation_date":1692765799,"answer_id":76958329,"question_id":76957268,"body_markdown":"you can simply replace like below it works,\r\n\r\nsubject = URLEncoder.encode(subject, &quot;UTF-8&quot;); \r\n\r\nbody = URLEncoder.encode(body, &quot;UTF-8&quot;);\r\n\r\nsubject = subject.replaceAll(&quot;\\\\\\\\+&quot;, &quot;%20&quot;);\r\n\r\nbody = body.replaceAll(&quot;\\\\\\\\+&quot;, &quot;%20&quot;);\r\n\r\n\t            ","title":"Java open outlook and fill subject and body","body":"<p>you can simply replace like below it works,</p>\n<p>subject = URLEncoder.encode(subject, &quot;UTF-8&quot;);</p>\n<p>body = URLEncoder.encode(body, &quot;UTF-8&quot;);</p>\n<p>subject = subject.replaceAll(&quot;\\\\+&quot;, &quot;%20&quot;);</p>\n<p>body = body.replaceAll(&quot;\\\\+&quot;, &quot;%20&quot;);</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692832127,"creation_date":1692832127,"answer_id":76965395,"question_id":76957268,"body_markdown":"Donâ€™t use URLEncoder for this;  that class is for submitting HTML form data.  From [the documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLEncoder.html):\r\n\r\n&gt;Utility class for HTML form encoding. This class contains static methods for converting a String to the application/x-www-form-urlencoded MIME format.\r\n\r\nFor encoding a URI, just use any of [the URI constructors](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URI.html#constructor-summary) which take more than one argument.  (The single-argument constructor, by design, expects percent-escapes to already be present.)\r\n\r\nIn your case, since mailto URIs are not hierarchical URIs, use the [three-argument constructor](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URI.html#%3Cinit%3E(java.lang.String,java.lang.String,java.lang.String)) that expects a general â€œscheme-specific partâ€:\r\n\r\n    Desktop.getDesktop().mail(\r\n        new URI(&quot;mailto&quot;, to + &quot;?subject=&quot; + subject + &quot;&amp;cc=&quot; + cc + &quot;&amp;body=&quot; + body, null));\r\n\r\nOne word of caution:  the above wonâ€™t work if any of the mail information contains `&amp;`.  In that case, youâ€™ll have to do the work yourself.  Fortunately, itâ€™s not so hard:\r\n\r\n    Formatter preenc = new Formatter();\r\n    Consumer&lt;String&gt; encoder = s -&gt; {\r\n        for (byte b : s.getBytes(StandardCharsets.UTF_8)) {\r\n            boolean unsafe = (b &lt;= 32 || b &gt;= 127 ||\r\n                &quot;&lt;&gt;#%\\&quot;{}|\\\\^[]`?&amp;=&quot;.indexOf(b) &gt;= 0);\r\n            preenc.format(unsafe ? &quot;%%%02x&quot; : &quot;%c&quot;, b);\r\n        }\r\n    };\r\n\r\n    preenc.format(&quot;%s&quot;, &quot;mailto:&quot;);\r\n    encoder.accept(to);\r\n    preenc.format(&quot;%s&quot;, &quot;?subject=&quot;);\r\n    encoder.accept(subject);\r\n    preenc.format(&quot;%s&quot;, &quot;&amp;cc=&quot;);\r\n    encoder.accept(cc);\r\n    preenc.format(&quot;%s&quot;, &quot;&amp;body=&quot;);\r\n    encoder.accept(body);\r\n\r\n    URI uri = new URI(preenc.toString());\r\n","title":"Java open outlook and fill subject and body","body":"<p>Donâ€™t use URLEncoder for this;  that class is for submitting HTML form data.  From <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLEncoder.html\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>Utility class for HTML form encoding. This class contains static methods for converting a String to the application/x-www-form-urlencoded MIME format.</p>\n</blockquote>\n<p>For encoding a URI, just use any of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URI.html#constructor-summary\" rel=\"nofollow noreferrer\">the URI constructors</a> which take more than one argument.  (The single-argument constructor, by design, expects percent-escapes to already be present.)</p>\n<p>In your case, since mailto URIs are not hierarchical URIs, use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URI.html#%3Cinit%3E(java.lang.String,java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">three-argument constructor</a> that expects a general â€œscheme-specific partâ€:</p>\n<pre><code>Desktop.getDesktop().mail(\n    new URI(&quot;mailto&quot;, to + &quot;?subject=&quot; + subject + &quot;&amp;cc=&quot; + cc + &quot;&amp;body=&quot; + body, null));\n</code></pre>\n<p>One word of caution:  the above wonâ€™t work if any of the mail information contains <code>&amp;</code>.  In that case, youâ€™ll have to do the work yourself.  Fortunately, itâ€™s not so hard:</p>\n<pre><code>Formatter preenc = new Formatter();\nConsumer&lt;String&gt; encoder = s -&gt; {\n    for (byte b : s.getBytes(StandardCharsets.UTF_8)) {\n        boolean unsafe = (b &lt;= 32 || b &gt;= 127 ||\n            &quot;&lt;&gt;#%\\&quot;{}|\\\\^[]`?&amp;=&quot;.indexOf(b) &gt;= 0);\n        preenc.format(unsafe ? &quot;%%%02x&quot; : &quot;%c&quot;, b);\n    }\n};\n\npreenc.format(&quot;%s&quot;, &quot;mailto:&quot;);\nencoder.accept(to);\npreenc.format(&quot;%s&quot;, &quot;?subject=&quot;);\nencoder.accept(subject);\npreenc.format(&quot;%s&quot;, &quot;&amp;cc=&quot;);\nencoder.accept(cc);\npreenc.format(&quot;%s&quot;, &quot;&amp;body=&quot;);\nencoder.accept(body);\n\nURI uri = new URI(preenc.toString());\n</code></pre>\n"}],"owner":{"account_id":10032083,"reputation":61,"user_id":7418195,"accept_rate":25,"display_name":"Nisbo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76965395,"answer_count":2,"score":0,"last_activity_date":1692832127,"creation_date":1692744734,"question_id":76957268,"body_markdown":"I try to open Outlook, create a new mail and fill out cc, to, subject and body\r\nSo far, it opens outlook and fill the fields for to and cc.\r\nSubject and body works only, if it contains a single word.\r\nIf there is a space, java will complain about illegal character in URL\r\nI tried to encode the URL but in this case all spaces will be shown with a + in Outlook.\r\nI tried manually to replace the space with %20 but it will show %20 in Outlock.\r\n\r\n\r\n\r\n\t\t\t\tString subject\t= &quot;This is the subject&quot;;// %20\r\n\t\t\t\tString body\t\t= &quot;Dear colleagues this is a&quot;;\r\n\t\t\t\tString to       = &quot;mail1@xxx.com&quot;;\r\n\t\t\t\tString cc\t\t= &quot;mail2@xxx.com;mail3@xxx.com&quot;;\r\n\r\n\t\t        try {\r\n\t\t\t\t\tsubject = URLEncoder.encode(subject, &quot;UTF-8&quot;);\r\n\t\t\t\t\tbody = URLEncoder.encode(body, &quot;UTF-8&quot;);\r\n\t\t\t\t} catch (UnsupportedEncodingException e2) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te2.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t        \r\n\t\t\t        \r\n\t            try {\r\n\t\t\t\t\tDesktop.getDesktop().mail( new URI( &quot;mailto:&quot; + to + &quot;?subject=&quot; + subject + &quot;&amp;cc=&quot; + cc + &quot;&amp;body=&quot; + body) );\r\n\t\t\t\t} catch (IOException e1) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t} catch (URISyntaxException e1) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\r\nMicrosoft&#174; Outlook&#174; f&#252;r Microsoft 365 MSO (Version 2302 Build 16.0.16130.20684) 64 Bit \r\n\r\nI dont want to send the mail direct with JAVA.","title":"Java open outlook and fill subject and body","body":"<p>I try to open Outlook, create a new mail and fill out cc, to, subject and body\nSo far, it opens outlook and fill the fields for to and cc.\nSubject and body works only, if it contains a single word.\nIf there is a space, java will complain about illegal character in URL\nI tried to encode the URL but in this case all spaces will be shown with a + in Outlook.\nI tried manually to replace the space with %20 but it will show %20 in Outlock.</p>\n<pre><code>            String subject  = &quot;This is the subject&quot;;// %20\n            String body     = &quot;Dear colleagues this is a&quot;;\n            String to       = &quot;mail1@xxx.com&quot;;\n            String cc       = &quot;mail2@xxx.com;mail3@xxx.com&quot;;\n\n            try {\n                subject = URLEncoder.encode(subject, &quot;UTF-8&quot;);\n                body = URLEncoder.encode(body, &quot;UTF-8&quot;);\n            } catch (UnsupportedEncodingException e2) {\n                // TODO Auto-generated catch block\n                e2.printStackTrace();\n            }\n                \n                \n            try {\n                Desktop.getDesktop().mail( new URI( &quot;mailto:&quot; + to + &quot;?subject=&quot; + subject + &quot;&amp;cc=&quot; + cc + &quot;&amp;body=&quot; + body) );\n            } catch (IOException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            } catch (URISyntaxException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n</code></pre>\n<p>MicrosoftÂ® OutlookÂ® fÃ¼r Microsoft 365 MSO (Version 2302 Build 16.0.16130.20684) 64 Bit</p>\n<p>I dont want to send the mail direct with JAVA.</p>\n"},{"tags":["java","javafx","sprite","game-physics"],"comments":[{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487215369,"post_id":42262576,"comment_id":71685591,"body_markdown":"when you call your keyboard commands you are using `object.xPosition` have you tried using `object.setLayoutX = value` , also just to note you have are using functions to try and return a value that you could get without needing to put it in a function, for example `case W:\n                keeper.setyPosition(keeper.getyPosition() - KEYBOARD_MOVEMENT_DELTA);\n                break;`\ncould just be `case W:\n                keeper.setyPosition(keeper.getLayoutY() - KEYBOARD_MOVEMENT_DELTA);\n                break;` no function required.","body":"when you call your keyboard commands you are using <code>object.xPosition</code> have you tried using <code>object.setLayoutX = value</code> , also just to note you have are using functions to try and return a value that you could get without needing to put it in a function, for example <code>case W:                 keeper.setyPosition(keeper.getyPosition() - KEYBOARD_MOVEMENT_DELTA);                 break;</code> could just be <code>case W:                 keeper.setyPosition(keeper.getLayoutY() - KEYBOARD_MOVEMENT_DELTA);                 break;</code> no function required."},{"owner":{"account_id":8557028,"reputation":21,"user_id":6412172,"accept_rate":0,"display_name":"SteveMunroe"},"score":0,"creation_date":1487258863,"post_id":42262576,"comment_id":71712410,"body_markdown":"Thankyou very much for both of the replies by the way, very kind of you. \n\nWhere would you recommend i place the object.setLayoutX = value method?","body":"Thankyou very much for both of the replies by the way, very kind of you.   Where would you recommend i place the object.setLayoutX = value method?"},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487293779,"post_id":42262576,"comment_id":71731668,"body_markdown":"you will need to put them in your level class, as that is where the WarehouseKeeper object is instantized (when it is given a place to go and what Node it needs to be one) it is possible to send the command to another class but to keep it neat your better off just doing it in the same class that it is instantized in, if you read my Answer below, you have it mostly correct you just need to change your keylisteners to use the instantized object in your level Class.","body":"you will need to put them in your level class, as that is where the WarehouseKeeper object is instantized (when it is given a place to go and what Node it needs to be one) it is possible to send the command to another class but to keep it neat your better off just doing it in the same class that it is instantized in, if you read my Answer below, you have it mostly correct you just need to change your keylisteners to use the instantized object in your level Class."},{"owner":{"account_id":8557028,"reputation":21,"user_id":6412172,"accept_rate":0,"display_name":"SteveMunroe"},"score":0,"creation_date":1487367949,"post_id":42262576,"comment_id":71770823,"body_markdown":"Thankyou so much for the help so far, you are the best!\n\nI can&#39;t seem to get it working though, did by any chance get the image to move?","body":"Thankyou so much for the help so far, you are the best!  I can&#39;t seem to get it working though, did by any chance get the image to move?"},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487544145,"post_id":42262576,"comment_id":71819995,"body_markdown":"just double checking your code, you can try parsing the Stage to the moveWareHouse function rather than the scene and put the key listener on the Stage, as that is the global container and that is where it should listen for keypresses. Also be aware it is also good practice to consume the keypress as well using in your case `event.consume();` this will make sure it doesn&#39;t do it doesn&#39;t do anything erratic afterwards. Just for diagnostic purposes, It might be worth putting a `System.out.println(&quot;*direction here* arrow pressed&quot;)` message in there to confirm that it is receiving the event.","body":"just double checking your code, you can try parsing the Stage to the moveWareHouse function rather than the scene and put the key listener on the Stage, as that is the global container and that is where it should listen for keypresses. Also be aware it is also good practice to consume the keypress as well using in your case <code>event.consume();</code> this will make sure it doesn&#39;t do it doesn&#39;t do anything erratic afterwards. Just for diagnostic purposes, It might be worth putting a <code>System.out.println(&quot;*direction here* arrow pressed&quot;)</code> message in there to confirm that it is receiving the event."},{"owner":{"account_id":8557028,"reputation":21,"user_id":6412172,"accept_rate":0,"display_name":"SteveMunroe"},"score":0,"creation_date":1487805924,"post_id":42262576,"comment_id":71955225,"body_markdown":"Thankyou for the advice, added the println on the methods :) \ni had a try and it&#39;s still not working, seems to not like theStage having an event listener on it aswell.","body":"Thankyou for the advice, added the println on the methods :)  i had a try and it&#39;s still not working, seems to not like theStage having an event listener on it aswell."},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487806583,"post_id":42262576,"comment_id":71955510,"body_markdown":"Hi Steve, if you have time I would like to move this to a chat, might be easier.","body":"Hi Steve, if you have time I would like to move this to a chat, might be easier."},{"owner":{"account_id":8557028,"reputation":21,"user_id":6412172,"accept_rate":0,"display_name":"SteveMunroe"},"score":0,"creation_date":1487807301,"post_id":42262576,"comment_id":71955798,"body_markdown":"you&#39;re amazing already. That would be fab. What would be the best way of contacting you?","body":"you&#39;re amazing already. That would be fab. What would be the best way of contacting you?"},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487808024,"post_id":42262576,"comment_id":71956046,"body_markdown":"if we keep chatting it should ask to move this to Chat.","body":"if we keep chatting it should ask to move this to Chat."},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487808085,"post_id":42262576,"comment_id":71956083,"body_markdown":"nevermind, join this chat and we can talk there. http://chat.stackoverflow.com/rooms/135908/discussion-between-travisf-and-mouseevent","body":"nevermind, join this chat and we can talk there. <a href=\"http://chat.stackoverflow.com/rooms/135908/discussion-between-travisf-and-mouseevent\">chat.stackoverflow.com/rooms/135908/&hellip;</a>"},{"owner":{"account_id":8557028,"reputation":21,"user_id":6412172,"accept_rate":0,"display_name":"SteveMunroe"},"score":0,"creation_date":1487812265,"post_id":42262576,"comment_id":71957319,"body_markdown":"hey Travis apparently i can&#39;t use the chatroom due to my reputation","body":"hey Travis apparently i can&#39;t use the chatroom due to my reputation"},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487814491,"post_id":42262576,"comment_id":71958034,"body_markdown":"Ok, does your function still look like this `private static void moveWareHouse(Scene scene, final WarehouseKeeper keeper) {` or does it look like `private static void moveWareHouse(Stage theStage, final WarehouseKeeper keeper) {` and the function caller should look like this `moveWareHouse(theStage, createKeeper());` rather than `moveWareHouse(scene, createKeeper());` the other issue is you are asking for the code `switch (event.getCode()) {` this returns a hexadecimal version of the key that was pressed but you are using switches for the physical character.","body":"Ok, does your function still look like this <code>private static void moveWareHouse(Scene scene, final WarehouseKeeper keeper) {</code> or does it look like <code>private static void moveWareHouse(Stage theStage, final WarehouseKeeper keeper) {</code> and the function caller should look like this <code>moveWareHouse(theStage, createKeeper());</code> rather than <code>moveWareHouse(scene, createKeeper());</code> the other issue is you are asking for the code <code>switch (event.getCode()) {</code> this returns a hexadecimal version of the key that was pressed but you are using switches for the physical character."},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487814603,"post_id":42262576,"comment_id":71958066,"body_markdown":"what you want is `switch (event.getCharacter()) {`","body":"what you want is <code>switch (event.getCharacter()) {</code>"},{"owner":{"account_id":8557028,"reputation":21,"user_id":6412172,"accept_rate":0,"display_name":"SteveMunroe"},"score":0,"creation_date":1487817358,"post_id":42262576,"comment_id":71958804,"body_markdown":"It is giving me an error \n&quot;The method setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;(){}) is undefined for the type Stage&quot; \n\nand the cases cannot be resolved to a variable\n&quot;W cannot be resolved to a variable&quot;","body":"It is giving me an error  &quot;The method setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;(){}) is undefined for the type Stage&quot;   and the cases cannot be resolved to a variable &quot;W cannot be resolved to a variable&quot;"},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487819962,"post_id":42262576,"comment_id":71959513,"body_markdown":"I presume you update `scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {` to `theStage.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {`","body":"I presume you update <code>scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {</code> to <code>theStage.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {</code>"},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487820068,"post_id":42262576,"comment_id":71959548,"body_markdown":"alright, try `theStage.addEventFilter(KeyEvent.KEY_RELEASED, event -&gt; {\n            event.consume();\n            /* put switch event here */\n        });`\nThe reason is because the stage does not have a function defined for it for `onKeyPress` but you can define one by filtering the event.","body":"alright, try <code>theStage.addEventFilter(KeyEvent.KEY_RELEASED, event -&gt; {             event.consume();             &#47;* put switch event here *&#47;         });</code> The reason is because the stage does not have a function defined for it for <code>onKeyPress</code> but you can define one by filtering the event."},{"owner":{"account_id":8557028,"reputation":21,"user_id":6412172,"accept_rate":0,"display_name":"SteveMunroe"},"score":0,"creation_date":1487855775,"post_id":42262576,"comment_id":71978906,"body_markdown":"Thankyou again for the reply. It is compiling now, my problem now however is getting the keeper to show on the grid so the movement can work as i noticed i was only add the image to the GridPane and not the keeper.But apparently that seems to be fairly difficult.","body":"Thankyou again for the reply. It is compiling now, my problem now however is getting the keeper to show on the grid so the movement can work as i noticed i was only add the image to the GridPane and not the keeper.But apparently that seems to be fairly difficult."},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487892824,"post_id":42262576,"comment_id":72001889,"body_markdown":"Yup, I think you may be over complicating that issue, in your public WarehouseKeeper class, you have a public function called WarehouseKeeper (I would recommend changing that function name) I would recommend building the entire object that you would like the main class (level1) to have an control, then in level1 you can call and create a warehouseKeeper through `final WarehouseKeeper wHK = new WarehouseKeeper.warehouseKeeper();` then parse that wHK to the keyEvent handler rather than it making one.","body":"Yup, I think you may be over complicating that issue, in your public WarehouseKeeper class, you have a public function called WarehouseKeeper (I would recommend changing that function name) I would recommend building the entire object that you would like the main class (level1) to have an control, then in level1 you can call and create a warehouseKeeper through <code>final WarehouseKeeper wHK = new WarehouseKeeper.warehouseKeeper();</code> then parse that wHK to the keyEvent handler rather than it making one."},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487893194,"post_id":42262576,"comment_id":72002011,"body_markdown":"so the warehouseKeeper function in the WarehouseKeeper class could return a group that is complete with image and everything that it needs, to build the keeper, instead of using `final WarehouseKeeper` you would use `final Group wHK = new WarehouseKeeper.warehouseKeeper();` then you can add that group to your level1 root (which I would also recommend is not a group it should be some sort of Pane a StackPane should suffice for your case) this way you can parse the x and y pos directly to the new object from the key events.","body":"so the warehouseKeeper function in the WarehouseKeeper class could return a group that is complete with image and everything that it needs, to build the keeper, instead of using <code>final WarehouseKeeper</code> you would use <code>final Group wHK = new WarehouseKeeper.warehouseKeeper();</code> then you can add that group to your level1 root (which I would also recommend is not a group it should be some sort of Pane a StackPane should suffice for your case) this way you can parse the x and y pos directly to the new object from the key events."},{"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"score":0,"creation_date":1487894158,"post_id":42262576,"comment_id":72002338,"body_markdown":"just in case that is a bit convoluted something like:\n\n`public Group warehouseKeeper(ImageView warehouseImage) {\nGroup tempGroup;\n/* create entire keeper image here and add to tempGroup here */\nreturn tempGroup;\n}`\n\nand in level1\n`final Group wHK = WarehouseKeeper.warehouseKeeper();\nroot.getChildren().add(wHK);\nmoveWarehouse(theStage,wHK);`\n\nand on the moveWarehouse: `protected moveWarehouse(Stage stage, Group wHK) { /* put the rest of your current code for movement here /* }`","body":"just in case that is a bit convoluted something like:  <code>public Group warehouseKeeper(ImageView warehouseImage) { Group tempGroup; &#47;* create entire keeper image here and add to tempGroup here *&#47; return tempGroup; }</code>  and in level1 <code>final Group wHK = WarehouseKeeper.warehouseKeeper(); root.getChildren().add(wHK); moveWarehouse(theStage,wHK);</code>  and on the moveWarehouse: <code>protected moveWarehouse(Stage stage, Group wHK) { &#47;* put the rest of your current code for movement here &#47;* }</code>"}],"answers":[{"tags":[],"owner":{"account_id":6590934,"reputation":469,"user_id":5092117,"accept_rate":50,"display_name":"TravisF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487895620,"creation_date":1487216416,"answer_id":42264433,"question_id":42262576,"body_markdown":"The problem may be with your understanding of how the object orientated JavaFX works, the object may be created by the WareHouseKeeper and ImageLoader class, but the object was instantized on the level class, meaning if you instantized the object on the level class it has to be moved within the level class. For example what you have is \r\n\r\n        private static void moveWareHouse(Scene scene, final WarehouseKeeper keeper) {\r\n\r\n    scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n\r\n        @Override\r\n        public void handle(KeyEvent event) {\r\n\r\n            switch (event.getCode()) {\r\n\r\n            case W:\r\n                keeper.setyPosition(keeper.getyPosition() - KEYBOARD_MOVEMENT_DELTA);\r\n                break;\r\n            case D:\r\n                keeper.setxPosition(keeper.getxPosition() + KEYBOARD_MOVEMENT_DELTA);\r\n                break;\r\n            case A:\r\n                keeper.setyPosition(keeper.getyPosition() + KEYBOARD_MOVEMENT_DELTA);\r\n                break;\r\n            case S:\r\n                keeper.setxPosition(keeper.getxPosition() - KEYBOARD_MOVEMENT_DELTA);\r\n                break;\r\n            }\r\n        }\r\n    });\r\n    }\r\n\r\nAs the object has been passed to the function you would only need to move it directly from within the level class and not from the other Classes, so this would be changed to\r\n\r\n        private static void moveWareHouse(Stage theStage, Group wHK) {\r\n\r\n            theStage.addEventFilter(KeyEvent.KEY_RELEASED, e -&gt; {\r\n            e.consume();\r\n\r\n            switch (e.getCharacter()) {\r\n\r\n            case W:\r\n                keeper.setLayoutY(keeper.getLayoutY() - KEYBOARD_MOVEMENT_DELTA);\r\n                break;\r\n            case D:\r\n                keeper.setLayoutX(keeper.getLayoutX() + KEYBOARD_MOVEMENT_DELTA);\r\n                break;\r\n            case A:\r\n                keeper.setLayoutY(keeper.getLayoutY() + KEYBOARD_MOVEMENT_DELTA);\r\n                break;\r\n            case S:\r\n                keeper.setLayoutX(keeper.getLayoutX() - KEYBOARD_MOVEMENT_DELTA);\r\n                break;\r\n            }\r\n        });\r\n    }\r\n\r\n**EDIT**\r\nI also noticed you have the Scene parsed as the key listener this would require you to click on the scene (to give it focus) before it will listen to the keys, if you set the stage as the key listener no matter where you click it will always be the root focus and always listening for keys.\r\n\r\n**EDITED FURTHER**\r\nAs I mentioned in our conversation up the top, your better off creating the entirety of the WarehouseKeeper in your WarehouseKeeper class and instantizing it into your main class (level1) this way the control of the object is within the level1 but level1 does not have all the code to create it (so if you need to modify the creation of it later or use it again you can call more of them by just creating a new instance of it and adding it to the scene) for example.\r\n\r\n    public final Group warehouseKeeper(ImageView image) {\r\n        Group tempGroup;\r\n        /* insert necessary code here to add image to group and anything else you want in the group */\r\n        return tempGroup;\r\n    }\r\n\r\nThen you can instantize it to level1 by just calling \r\n\r\n    final Group wHK = new WarehouseKeeper.warehouseKeeper();\r\n    wHK.setLayoutX(/*some init val */);\r\n    wHK.setLayoutY(/*some init val */);\r\n    root.getChildren().add(wHK);\r\n\r\n ","title":"JavaFx moving images","body":"<p>The problem may be with your understanding of how the object orientated JavaFX works, the object may be created by the WareHouseKeeper and ImageLoader class, but the object was instantized on the level class, meaning if you instantized the object on the level class it has to be moved within the level class. For example what you have is </p>\n\n<pre><code>    private static void moveWareHouse(Scene scene, final WarehouseKeeper keeper) {\n\nscene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n\n    @Override\n    public void handle(KeyEvent event) {\n\n        switch (event.getCode()) {\n\n        case W:\n            keeper.setyPosition(keeper.getyPosition() - KEYBOARD_MOVEMENT_DELTA);\n            break;\n        case D:\n            keeper.setxPosition(keeper.getxPosition() + KEYBOARD_MOVEMENT_DELTA);\n            break;\n        case A:\n            keeper.setyPosition(keeper.getyPosition() + KEYBOARD_MOVEMENT_DELTA);\n            break;\n        case S:\n            keeper.setxPosition(keeper.getxPosition() - KEYBOARD_MOVEMENT_DELTA);\n            break;\n        }\n    }\n});\n}\n</code></pre>\n\n<p>As the object has been passed to the function you would only need to move it directly from within the level class and not from the other Classes, so this would be changed to</p>\n\n<pre><code>    private static void moveWareHouse(Stage theStage, Group wHK) {\n\n        theStage.addEventFilter(KeyEvent.KEY_RELEASED, e -&gt; {\n        e.consume();\n\n        switch (e.getCharacter()) {\n\n        case W:\n            keeper.setLayoutY(keeper.getLayoutY() - KEYBOARD_MOVEMENT_DELTA);\n            break;\n        case D:\n            keeper.setLayoutX(keeper.getLayoutX() + KEYBOARD_MOVEMENT_DELTA);\n            break;\n        case A:\n            keeper.setLayoutY(keeper.getLayoutY() + KEYBOARD_MOVEMENT_DELTA);\n            break;\n        case S:\n            keeper.setLayoutX(keeper.getLayoutX() - KEYBOARD_MOVEMENT_DELTA);\n            break;\n        }\n    });\n}\n</code></pre>\n\n<p><strong>EDIT</strong>\nI also noticed you have the Scene parsed as the key listener this would require you to click on the scene (to give it focus) before it will listen to the keys, if you set the stage as the key listener no matter where you click it will always be the root focus and always listening for keys.</p>\n\n<p><strong>EDITED FURTHER</strong>\nAs I mentioned in our conversation up the top, your better off creating the entirety of the WarehouseKeeper in your WarehouseKeeper class and instantizing it into your main class (level1) this way the control of the object is within the level1 but level1 does not have all the code to create it (so if you need to modify the creation of it later or use it again you can call more of them by just creating a new instance of it and adding it to the scene) for example.</p>\n\n<pre><code>public final Group warehouseKeeper(ImageView image) {\n    Group tempGroup;\n    /* insert necessary code here to add image to group and anything else you want in the group */\n    return tempGroup;\n}\n</code></pre>\n\n<p>Then you can instantize it to level1 by just calling </p>\n\n<pre><code>final Group wHK = new WarehouseKeeper.warehouseKeeper();\nwHK.setLayoutX(/*some init val */);\nwHK.setLayoutY(/*some init val */);\nroot.getChildren().add(wHK);\n</code></pre>\n"}],"owner":{"account_id":8557028,"reputation":21,"user_id":6412172,"accept_rate":0,"display_name":"SteveMunroe"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692832095,"creation_date":1487204420,"question_id":42262576,"body_markdown":"Hello all so I&#39;m creating a simple 2D game and so far I&#39;ve had a bit of a nightmare trying to get things to communicate with each other. So far I have a &#39;main menu&#39;, &#39;game grid&#39; and a image showing on the grid. I&#39;m now tackling the movement off it but I can&#39;t seem to get it working. \r\n\r\n`application.package`\r\n\r\n`Level.class`\r\n\r\n    package application;\r\n\r\n    import javafx.event.EventHandler;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.ColumnConstraints;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.layout.RowConstraints;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.input.KeyEvent;\r\n    import javafx.scene.image.Image;\r\n\r\n    public class Level {\r\n\r\n\t// private static Array[] level1;\r\n\t// private WarehouseKeeper warehouse;\r\n\tprivate static ImageView image1 = ImageLoader.showWareHouseImage();\r\n\tprivate static final int KEYBOARD_MOVEMENT_DELTA = 2;\r\n\r\n\tpublic static void runLevel1(Stage theStage) {\r\n\r\n\t\t// ImageView image = new ImageView((Element)\r\n\t\t// ImageLoader.wareHouseImage);\r\n\r\n\t\t// WarehouseKeeper warehouse = new\r\n\t\t// WarehouseKeeper(ImageLoader.wareHouseImage);\r\n\r\n\t\tGroup root = new Group();\r\n\r\n\t\tint columnAmount = 12;\r\n\t\tint rowAmount = 12;\r\n\r\n\t\tGridPane gameGrid = new GridPane();\r\n\r\n\t\tfor (int i = 0; i &lt; columnAmount; i++) {\r\n\t\t\tColumnConstraints columnn = new ColumnConstraints(45);\r\n\t\t\tgameGrid.getColumnConstraints().add(columnn);\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; rowAmount; i++) {\r\n\r\n\t\t\tRowConstraints row = new RowConstraints(45);\r\n\t\t\tgameGrid.getRowConstraints().add(row);\r\n\t\t}\r\n\r\n\t\tgameGrid.setStyle(&quot;-fx-background-color: white; -fx-grid-lines-visible:true&quot;);\r\n\t\tScene scene = new Scene(root, (columnAmount * 40) + 66, (rowAmount * 40) + 66, Color.WHITE);\r\n\r\n\t\timage(root, gameGrid);\r\n\r\n\t\tmoveWareHouse(scene, createKeeper());\r\n\r\n\t\ttheStage.setScene(scene);\r\n\r\n\t\ttheStage.show();\r\n\r\n\t}\r\n\r\n\tprivate static void image(Group root, GridPane gameGrid) {\r\n\r\n\t\t// ImageLoader.wareHouseImage;\r\n\r\n\t\t/*\r\n\t\t * ImageView wareHouse = new ImageView(); wareHouse.setFitHeight(45);\r\n\t\t * wareHouse.setFitWidth(45);\r\n\t\t * \r\n\t\t * Image image1 = ImageLoader.showWareHouseImage();\r\n\t\t * wareHouse.setImage(image1);\r\n\t\t */\r\n\r\n\t\tImageView image1 = ImageLoader.showWareHouseImage();\r\n\r\n\t\tfinal HBox picture = new HBox();\r\n\t\tpicture.getChildren().add(image1);\r\n\r\n\t\tgameGrid.setAlignment(Pos.CENTER);\r\n\r\n\t\t// gameGrid.getChildren().add(wareHouse);\r\n\t\tgameGrid.add(picture, 7, 9);\r\n\r\n\t\troot.getChildren().add(gameGrid);\r\n\r\n\t}\r\n\r\n\tprivate static WarehouseKeeper createKeeper() {\r\n\r\n\t\tfinal WarehouseKeeper keeper = new WarehouseKeeper(image1);\r\n\r\n\t\treturn keeper;\r\n\t}\r\n\r\n\tprivate static void moveWareHouse(Scene scene, final WarehouseKeeper keeper) {\r\n\r\n\t\tscene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void handle(KeyEvent event) {\r\n\r\n\t\t\t\tswitch (event.getCode()) {\r\n\r\n\t\t\t\tcase W:\r\n\t\t\t\t\tkeeper.setyPosition(keeper.getyPosition() - KEYBOARD_MOVEMENT_DELTA);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase D:\r\n\t\t\t\t\tkeeper.setxPosition(keeper.getxPosition() + KEYBOARD_MOVEMENT_DELTA);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase A:\r\n\t\t\t\t\tkeeper.setyPosition(keeper.getyPosition() + KEYBOARD_MOVEMENT_DELTA);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S:\r\n\t\t\t\t\tkeeper.setxPosition(keeper.getxPosition() - KEYBOARD_MOVEMENT_DELTA);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t   }\r\n    }\r\n    \r\n`WarehouseKeeper.class` extends ImageLoader.\r\n\r\n    package application;\r\n\r\n    import javafx.scene.image.ImageView;\r\n\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.input.KeyEvent;\r\n\r\n    public class WarehouseKeeper extends ImageLoader {\r\n\r\n\tprivate Image playerImage;\r\n\tprivate ImageView image;\r\n\tprivate int speed;\r\n\tprivate double xPosition;\r\n\tprivate double yPosition;\r\n\r\n\tpublic WarehouseKeeper(ImageView wareHouseImage) {\r\n\r\n\t\tsuper(wareHouseImage);\r\n\r\n\t\tthis.speed = speed;\r\n\t\tthis.xPosition = xPosition;\r\n\t\tthis.yPosition = yPosition;\r\n\t\tthis.wareHouseImage.relocate(xPosition, yPosition);\r\n\r\n\t}\r\n\r\n\tpublic void updateUI() {\r\n\r\n\t\twareHouseImage.relocate(xPosition, yPosition);\r\n\r\n\t}\r\n\r\n\tpublic double getCenterX() {\r\n\r\n\t\treturn xPosition * 0.5;\r\n\r\n\t}\r\n\r\n\tpublic double getCenterY() {\r\n\r\n\t\treturn yPosition * 0.5;\r\n\r\n\t}\r\n\r\n\tpublic int getSpeed() {\r\n\t\treturn speed;\r\n\t}\r\n\r\n\tpublic void setSpeed(int speed) {\r\n\t\tthis.speed = speed;\r\n\t}\r\n\r\n\tpublic double getxPosition() {\r\n\t\treturn xPosition;\r\n\t}\r\n\r\n\t// one of the ideas i had\r\n\tpublic void setxPosition(double xPosition) {\r\n\t\tthis.xPosition = xPosition.setTranslateX(1.0);\r\n\t}\r\n\r\n\tpublic double getyPosition() {\r\n\t\treturn yPosition;\r\n\t}\r\n\r\n\tpublic void setyPosition(double d) {\r\n\t\tthis.yPosition = d + 1.0;\r\n\t}\r\n\r\n\tpublic void setTranslateY(double yPosition) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tyPosition = yPosition + 2.0;\r\n\r\n\t  }\r\n    }\r\n\r\n\r\n`ImageLoader.class`\r\n\r\n    package application;\r\n\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n\r\n    public class ImageLoader {\r\n\r\n\tprotected ImageView wareHouseImage;\r\n\tprivate Object diamondImage;\r\n\tprivate Object wallImage;\r\n\tprivate Object mapImage;\r\n\tprivate Object crateImage;\r\n\r\n\tpublic ImageLoader(ImageView wareHouseImage) {\r\n\r\n\t\tthis.wareHouseImage = showWareHouseImage();\r\n\r\n\t}\r\n\r\n\tpublic ImageView getWareHouseImage() {\r\n\t\treturn wareHouseImage;\r\n\t}\r\n\r\n\tpublic void setWareHouseImage(Image wareHouseImage) {\r\n\t\tthis.wareHouseImage = showWareHouseImage();\r\n\t}\r\n\r\n\tpublic static ImageView showWareHouseImage() {\r\n\r\n\t\tImageView wareHouse = new ImageView();\r\n\t\twareHouse.setFitHeight(45);\r\n\t\twareHouse.setFitWidth(45);\r\n\r\n\t\tImage wareHouseImage = new Image(&quot;application/warehouse.png&quot;);\r\n\t\twareHouse.setImage(wareHouseImage);\r\n\r\n\t\treturn wareHouse;\r\n\r\n\t}\r\n\r\n\tpublic Object getDiamondImage() {\r\n\r\n\t\treturn diamondImage;\r\n\r\n\t}\r\n\r\n\tpublic void setDiamondImage(Object diamondImage) {\r\n\r\n\t\tthis.diamondImage = diamondImage;\r\n\r\n\t}\r\n\r\n\tpublic Object getWallImage() {\r\n\r\n\t\treturn wallImage;\r\n\r\n\t}\r\n\r\n\tpublic void setWallImage(Object wallImage) {\r\n\r\n\t\tthis.wallImage = wallImage;\r\n\r\n\t}\r\n\r\n\tpublic Object getMapImage() {\r\n\r\n\t\treturn mapImage;\r\n\r\n\t}\r\n\r\n\tpublic void setMapImage(Object mapImage) {\r\n\r\n\t\tthis.mapImage = mapImage;\r\n\r\n\t}\r\n\r\n\tpublic Object getCrateImage() {\r\n\r\n\t\treturn crateImage;\r\n\r\n\t}\r\n\r\n\tpublic void setCrateImage(Object crateImage) {\r\n\r\n\t\tthis.crateImage = crateImage;\r\n\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"JavaFx moving images","body":"<p>Hello all so I'm creating a simple 2D game and so far I've had a bit of a nightmare trying to get things to communicate with each other. So far I have a 'main menu', 'game grid' and a image showing on the grid. I'm now tackling the movement off it but I can't seem to get it working.</p>\n<p><code>application.package</code></p>\n<p><code>Level.class</code></p>\n<pre><code>package application;\n\nimport javafx.event.EventHandler;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.ColumnConstraints;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.RowConstraints;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.Group;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.image.Image;\n\npublic class Level {\n\n// private static Array[] level1;\n// private WarehouseKeeper warehouse;\nprivate static ImageView image1 = ImageLoader.showWareHouseImage();\nprivate static final int KEYBOARD_MOVEMENT_DELTA = 2;\n\npublic static void runLevel1(Stage theStage) {\n\n    // ImageView image = new ImageView((Element)\n    // ImageLoader.wareHouseImage);\n\n    // WarehouseKeeper warehouse = new\n    // WarehouseKeeper(ImageLoader.wareHouseImage);\n\n    Group root = new Group();\n\n    int columnAmount = 12;\n    int rowAmount = 12;\n\n    GridPane gameGrid = new GridPane();\n\n    for (int i = 0; i &lt; columnAmount; i++) {\n        ColumnConstraints columnn = new ColumnConstraints(45);\n        gameGrid.getColumnConstraints().add(columnn);\n    }\n\n    for (int i = 0; i &lt; rowAmount; i++) {\n\n        RowConstraints row = new RowConstraints(45);\n        gameGrid.getRowConstraints().add(row);\n    }\n\n    gameGrid.setStyle(&quot;-fx-background-color: white; -fx-grid-lines-visible:true&quot;);\n    Scene scene = new Scene(root, (columnAmount * 40) + 66, (rowAmount * 40) + 66, Color.WHITE);\n\n    image(root, gameGrid);\n\n    moveWareHouse(scene, createKeeper());\n\n    theStage.setScene(scene);\n\n    theStage.show();\n\n}\n\nprivate static void image(Group root, GridPane gameGrid) {\n\n    // ImageLoader.wareHouseImage;\n\n    /*\n     * ImageView wareHouse = new ImageView(); wareHouse.setFitHeight(45);\n     * wareHouse.setFitWidth(45);\n     * \n     * Image image1 = ImageLoader.showWareHouseImage();\n     * wareHouse.setImage(image1);\n     */\n\n    ImageView image1 = ImageLoader.showWareHouseImage();\n\n    final HBox picture = new HBox();\n    picture.getChildren().add(image1);\n\n    gameGrid.setAlignment(Pos.CENTER);\n\n    // gameGrid.getChildren().add(wareHouse);\n    gameGrid.add(picture, 7, 9);\n\n    root.getChildren().add(gameGrid);\n\n}\n\nprivate static WarehouseKeeper createKeeper() {\n\n    final WarehouseKeeper keeper = new WarehouseKeeper(image1);\n\n    return keeper;\n}\n\nprivate static void moveWareHouse(Scene scene, final WarehouseKeeper keeper) {\n\n    scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n\n        @Override\n        public void handle(KeyEvent event) {\n\n            switch (event.getCode()) {\n\n            case W:\n                keeper.setyPosition(keeper.getyPosition() - KEYBOARD_MOVEMENT_DELTA);\n                break;\n            case D:\n                keeper.setxPosition(keeper.getxPosition() + KEYBOARD_MOVEMENT_DELTA);\n                break;\n            case A:\n                keeper.setyPosition(keeper.getyPosition() + KEYBOARD_MOVEMENT_DELTA);\n                break;\n            case S:\n                keeper.setxPosition(keeper.getxPosition() - KEYBOARD_MOVEMENT_DELTA);\n                break;\n            }\n        }\n    });\n   }\n}\n</code></pre>\n<p><code>WarehouseKeeper.class</code> extends ImageLoader.</p>\n<pre><code>package application;\n\nimport javafx.scene.image.ImageView;\n\nimport javafx.scene.image.Image;\nimport javafx.scene.input.KeyEvent;\n\npublic class WarehouseKeeper extends ImageLoader {\n\nprivate Image playerImage;\nprivate ImageView image;\nprivate int speed;\nprivate double xPosition;\nprivate double yPosition;\n\npublic WarehouseKeeper(ImageView wareHouseImage) {\n\n    super(wareHouseImage);\n\n    this.speed = speed;\n    this.xPosition = xPosition;\n    this.yPosition = yPosition;\n    this.wareHouseImage.relocate(xPosition, yPosition);\n\n}\n\npublic void updateUI() {\n\n    wareHouseImage.relocate(xPosition, yPosition);\n\n}\n\npublic double getCenterX() {\n\n    return xPosition * 0.5;\n\n}\n\npublic double getCenterY() {\n\n    return yPosition * 0.5;\n\n}\n\npublic int getSpeed() {\n    return speed;\n}\n\npublic void setSpeed(int speed) {\n    this.speed = speed;\n}\n\npublic double getxPosition() {\n    return xPosition;\n}\n\n// one of the ideas i had\npublic void setxPosition(double xPosition) {\n    this.xPosition = xPosition.setTranslateX(1.0);\n}\n\npublic double getyPosition() {\n    return yPosition;\n}\n\npublic void setyPosition(double d) {\n    this.yPosition = d + 1.0;\n}\n\npublic void setTranslateY(double yPosition) {\n    // TODO Auto-generated method stub\n\n    yPosition = yPosition + 2.0;\n\n  }\n}\n</code></pre>\n<p><code>ImageLoader.class</code></p>\n<pre><code>package application;\n\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\n\npublic class ImageLoader {\n\nprotected ImageView wareHouseImage;\nprivate Object diamondImage;\nprivate Object wallImage;\nprivate Object mapImage;\nprivate Object crateImage;\n\npublic ImageLoader(ImageView wareHouseImage) {\n\n    this.wareHouseImage = showWareHouseImage();\n\n}\n\npublic ImageView getWareHouseImage() {\n    return wareHouseImage;\n}\n\npublic void setWareHouseImage(Image wareHouseImage) {\n    this.wareHouseImage = showWareHouseImage();\n}\n\npublic static ImageView showWareHouseImage() {\n\n    ImageView wareHouse = new ImageView();\n    wareHouse.setFitHeight(45);\n    wareHouse.setFitWidth(45);\n\n    Image wareHouseImage = new Image(&quot;application/warehouse.png&quot;);\n    wareHouse.setImage(wareHouseImage);\n\n    return wareHouse;\n\n}\n\npublic Object getDiamondImage() {\n\n    return diamondImage;\n\n}\n\npublic void setDiamondImage(Object diamondImage) {\n\n    this.diamondImage = diamondImage;\n\n}\n\npublic Object getWallImage() {\n\n    return wallImage;\n\n}\n\npublic void setWallImage(Object wallImage) {\n\n    this.wallImage = wallImage;\n\n}\n\npublic Object getMapImage() {\n\n    return mapImage;\n\n}\n\npublic void setMapImage(Object mapImage) {\n\n    this.mapImage = mapImage;\n\n}\n\npublic Object getCrateImage() {\n\n    return crateImage;\n\n}\n\npublic void setCrateImage(Object crateImage) {\n\n    this.crateImage = crateImage;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-wifi","wifimanager"],"owner":{"account_id":22958037,"reputation":16,"user_id":20718499,"display_name":"Mohamed Lotfi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692831469,"creation_date":1692831469,"question_id":76965350,"body_markdown":"I building a product where we use a board running android 9. One of the programs I am building has to connect to a specific wifi device without user interactions. Most of the time it connects with no problem, but sometimes it refuses to connects whatsoever. Here is the code I use: \r\n\r\n```\r\npublic static boolean connectToWifiNetwork(String networkSSID, String networkPassword) {\r\n\r\n        if (networkSSID == null || networkSSID.equals(&quot;&quot;)) return false;\r\n        Log.v(TAG, &quot;connected name: &quot; + getConnectedWifiName());\r\n        if(getConnectedWifiName() != null &amp;&amp; getConnectedWifiName().equals(networkSSID))return true;\r\n\r\n        WifiConfiguration conf = new WifiConfiguration();\r\n        conf.SSID = &quot;\\&quot;&quot; + networkSSID + &quot;\\&quot;&quot;;   // Please note the quotes. String should contain ssid in quotes\r\n\r\n        conf.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);\r\n        conf.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);\r\n        conf.allowedProtocols.set(WifiConfiguration.Protocol.RSN);\r\n        conf.allowedProtocols.set(WifiConfiguration.Protocol.WPA);\r\n        conf.allowedAuthAlgorithms.clear();\r\n        conf.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);\r\n        conf.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP);\r\n        conf.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP40);\r\n        conf.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP104);\r\n        conf.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);\r\n        conf.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);\r\n        conf.priority = 400000; //4000;\r\n        wifiManager.addNetwork(conf);\r\n\r\n        List&lt;WifiConfiguration&gt; list = wifiManager.getConfiguredNetworks();\r\n\r\n        for (WifiConfiguration i : list) {\r\n\r\n            if (i.SSID != null &amp;&amp; i.SSID.equals(&quot;\\&quot;&quot; + networkSSID + &quot;\\&quot;&quot;)) {\r\n                wifiManager.disconnect();\r\n                wifiManager.enableNetwork(i.networkId, true);\r\n\r\n                Log.v(TAG, &quot;Trying to connect&quot;);\r\n               wifiManager.reconnect();\r\n                wifiManager.reassociate();\r\n                wifiManager.reconnect();\r\n                wifiManager.reassociate();\r\n               try {\r\n                    Thread.sleep(2000);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n        if (checkWifiConnection().equals(WifiState.CONNECTED)) return true;\r\n\r\n        return false;\r\n```\r\n\r\nIt is worth noting that this wifi device is open (meaning no password). Also, I can connect to that device using my personal phone with no problems. \r\n\r\nAny ideas how to solve this issue?\r\n\r\n\r\nI tried to change the way I connect to the wifi device, but nothing changed. ","title":"Connection to Wifi network programatically","body":"<p>I building a product where we use a board running android 9. One of the programs I am building has to connect to a specific wifi device without user interactions. Most of the time it connects with no problem, but sometimes it refuses to connects whatsoever. Here is the code I use:</p>\n<pre><code>public static boolean connectToWifiNetwork(String networkSSID, String networkPassword) {\n\n        if (networkSSID == null || networkSSID.equals(&quot;&quot;)) return false;\n        Log.v(TAG, &quot;connected name: &quot; + getConnectedWifiName());\n        if(getConnectedWifiName() != null &amp;&amp; getConnectedWifiName().equals(networkSSID))return true;\n\n        WifiConfiguration conf = new WifiConfiguration();\n        conf.SSID = &quot;\\&quot;&quot; + networkSSID + &quot;\\&quot;&quot;;   // Please note the quotes. String should contain ssid in quotes\n\n        conf.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);\n        conf.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);\n        conf.allowedProtocols.set(WifiConfiguration.Protocol.RSN);\n        conf.allowedProtocols.set(WifiConfiguration.Protocol.WPA);\n        conf.allowedAuthAlgorithms.clear();\n        conf.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);\n        conf.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP);\n        conf.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP40);\n        conf.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP104);\n        conf.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);\n        conf.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);\n        conf.priority = 400000; //4000;\n        wifiManager.addNetwork(conf);\n\n        List&lt;WifiConfiguration&gt; list = wifiManager.getConfiguredNetworks();\n\n        for (WifiConfiguration i : list) {\n\n            if (i.SSID != null &amp;&amp; i.SSID.equals(&quot;\\&quot;&quot; + networkSSID + &quot;\\&quot;&quot;)) {\n                wifiManager.disconnect();\n                wifiManager.enableNetwork(i.networkId, true);\n\n                Log.v(TAG, &quot;Trying to connect&quot;);\n               wifiManager.reconnect();\n                wifiManager.reassociate();\n                wifiManager.reconnect();\n                wifiManager.reassociate();\n               try {\n                    Thread.sleep(2000);\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n\n            }\n        }\n\n\n        if (checkWifiConnection().equals(WifiState.CONNECTED)) return true;\n\n        return false;\n</code></pre>\n<p>It is worth noting that this wifi device is open (meaning no password). Also, I can connect to that device using my personal phone with no problems.</p>\n<p>Any ideas how to solve this issue?</p>\n<p>I tried to change the way I connect to the wifi device, but nothing changed.</p>\n"},{"tags":["java","maven","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1692832542,"post_id":76965345,"comment_id":135679301,"body_markdown":"The situation is simpler than you think. The jars go where any other jar would go - into WEB-INF/lib. All you&#39;ve got to decide is where to put the native binaries and then to ensure that the library path is given in your runtime options","body":"The situation is simpler than you think. The jars go where any other jar would go - into WEB-INF/lib. All you&#39;ve got to decide is where to put the native binaries and then to ensure that the library path is given in your runtime options"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1692848336,"post_id":76965345,"comment_id":135680500,"body_markdown":"If it is similar to eclipse, by default the tomcat is &quot;cloned&quot; to a kind of temp folder. So your jars should be in that folder.  Are you using windows?","body":"If it is similar to eclipse, by default the tomcat is &quot;cloned&quot; to a kind of temp folder. So your jars should be in that folder.  Are you using windows?"},{"owner":{"account_id":72556,"reputation":959,"user_id":209452,"accept_rate":100,"display_name":"Attila Csipak"},"score":0,"creation_date":1692866580,"post_id":76965345,"comment_id":135683014,"body_markdown":"@JRichardsz Yes, IDEA runs on Windows. I&#39;m not familiar with how Tomcat launch configurations work in Eclipse, feel free to elaborate.","body":"@JRichardsz Yes, IDEA runs on Windows. I&#39;m not familiar with how Tomcat launch configurations work in Eclipse, feel free to elaborate."}],"owner":{"account_id":72556,"reputation":959,"user_id":209452,"accept_rate":100,"display_name":"Attila Csipak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692831335,"creation_date":1692831335,"question_id":76965345,"body_markdown":"I am using IntelliJ IDEA 2023.2. Maven project, single module, war packaging. I have set up a Tomcat Server run configuration for local testing. \r\n\r\nThe project has an external, properietary dependency (let&#39;s call it X), which has platform-dependent variants, so I have to use a different jar for Windows and Linux platforms. The X-win.jar is accompanied by a bunch of dll files, while the X-linux.jar is accompanied by a bunch of *.so files.\r\n\r\nSince none of these are available via online Maven repositories, I had to set up a local repository and upload various versions of library X to it. I upload separate versions for Windows and Linux platform manually after getting the files from the vendor of X. There&#39;s a separate artifact for X.jar and an X-resources.tar.gz, which contains all the native library files that X.jar is supposed to use.\r\n\r\nWhat I figured out so far:\r\n\r\n1. Add the X.jar dependency with scope=provided because it is sufficient to have the Java classes at compile time. The version is different depending on the platform used - Maven profiles and activation are used to decide between win-X.Y.Z and linux-X.Y.Z versions.\r\n\r\n2. When I put the war file on an actual server, in an actual Tomcat instance, I should add the platform specific X.jar + dll/so files to Tomcat&#39;s libraries and via that to the runtime classpath. This can be done either:\r\n\r\n - by putting all the files into $CATALINA_BASE/lib/ or\r\n - by putting them on a path which is then inserted into PATH (Windows) or LD_LIBRARY_PATH (Linux) environment variable and then passed to Tomcat.\r\n\r\nWhat I couldn&#39;t figure out is how I do this latter part (adding the platform-dependent jar + native libraries to the runtime classpath via Tomcat) in IDEA. What I tried:\r\n\r\n - Passing a -Djava.library.path VM option via Tomcat Server run configuration.\r\n - Adding X.jar and the dir with the dlls (Native Library Locations) to the Application Server Libraries section. Not very elegant because Tomcat settings are not project-specific - they will be used in other IDEA projects&#39; runconfigs, too.\r\n - Adding X.jar and the dir with the dlls (Native Library Locations) to Project Structure | Project Settings | Libraries and also to Project Structure | Project Settings | Modules | Dependencies. The latter gets erased after every Maven Project Import action, which may explain why this method did not work.\r\n\r\nNeither of the above worked. The webapp context initialization consistently throws ClassNotFound errors for a class in X.","title":"Unable to add external libraries to IDEA Tomcat runconfig&#39;s runtime classpath","body":"<p>I am using IntelliJ IDEA 2023.2. Maven project, single module, war packaging. I have set up a Tomcat Server run configuration for local testing.</p>\n<p>The project has an external, properietary dependency (let's call it X), which has platform-dependent variants, so I have to use a different jar for Windows and Linux platforms. The X-win.jar is accompanied by a bunch of dll files, while the X-linux.jar is accompanied by a bunch of *.so files.</p>\n<p>Since none of these are available via online Maven repositories, I had to set up a local repository and upload various versions of library X to it. I upload separate versions for Windows and Linux platform manually after getting the files from the vendor of X. There's a separate artifact for X.jar and an X-resources.tar.gz, which contains all the native library files that X.jar is supposed to use.</p>\n<p>What I figured out so far:</p>\n<ol>\n<li><p>Add the X.jar dependency with scope=provided because it is sufficient to have the Java classes at compile time. The version is different depending on the platform used - Maven profiles and activation are used to decide between win-X.Y.Z and linux-X.Y.Z versions.</p>\n</li>\n<li><p>When I put the war file on an actual server, in an actual Tomcat instance, I should add the platform specific X.jar + dll/so files to Tomcat's libraries and via that to the runtime classpath. This can be done either:</p>\n</li>\n</ol>\n<ul>\n<li>by putting all the files into $CATALINA_BASE/lib/ or</li>\n<li>by putting them on a path which is then inserted into PATH (Windows) or LD_LIBRARY_PATH (Linux) environment variable and then passed to Tomcat.</li>\n</ul>\n<p>What I couldn't figure out is how I do this latter part (adding the platform-dependent jar + native libraries to the runtime classpath via Tomcat) in IDEA. What I tried:</p>\n<ul>\n<li>Passing a -Djava.library.path VM option via Tomcat Server run configuration.</li>\n<li>Adding X.jar and the dir with the dlls (Native Library Locations) to the Application Server Libraries section. Not very elegant because Tomcat settings are not project-specific - they will be used in other IDEA projects' runconfigs, too.</li>\n<li>Adding X.jar and the dir with the dlls (Native Library Locations) to Project Structure | Project Settings | Libraries and also to Project Structure | Project Settings | Modules | Dependencies. The latter gets erased after every Maven Project Import action, which may explain why this method did not work.</li>\n</ul>\n<p>Neither of the above worked. The webapp context initialization consistently throws ClassNotFound errors for a class in X.</p>\n"},{"tags":["java","selenium-webdriver","testng","pom.xml"],"owner":{"account_id":20412391,"reputation":23,"user_id":14975443,"display_name":"Raza Sultan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692830740,"creation_date":1692829484,"question_id":76965239,"body_markdown":"I am not an expert in Java and learning things. Let me first let you know that I am using Selenium with Java using page object model and TestNg. Until now all the 1000+ tests run smoothly. As I am using all the following fields in my `baseTestClass` as\r\n\r\n    public static WebDriver driver;\r\n    protected static WebDriverWait wait;\r\n    protected static WebDriverWait longWait;\r\n    public static BasePage basePage;\r\n    public static AreaOfBusiness areaOfBusiness;\r\n    public static String tenantName;\r\n    public static String userRole;\r\n    public static String testType;\r\n    public static String browserName;\r\n\r\n\r\nNow my senior suggested me not use `static` fields but instead use `protected`, because I am going to use the TestNg parallel option to reduce the test suite time.   \r\n\r\nUntil now i modify the base class as follows\r\n\r\n    public class BaseTestClass {\r\n    private static final Logger logger = LoggerFactory.getLogger(BaseSeleniumTest.class);\r\n    protected String browserName;\r\n    protected String tenantName;\r\n    protected String userRole;\r\n    protected String testType;\r\n    protected AreaOfBusiness areaOfBusiness;\r\n    protected WebDriver driver;\r\n    protected WebDriverWait wait; //Explicit Wait\r\n    protected WebDriverWait longWait;\r\n    protected BasePage basePage;\r\n\r\n    @Parameters({&quot;profile&quot;, &quot;browserName&quot;, &quot;userRole&quot;, &quot;testType&quot;, &quot;areaOfBusiness&quot;, &quot;tenantName&quot;})\r\n    @BeforeTest(alwaysRun = true)\r\n    public void setup(@Optional(&quot;local&quot;) String profile, @Optional(&quot;chrome&quot;) String browserName,\r\n                      @Optional String userRole, @Optional String testType,\r\n                      @Optional(&quot;BMW&quot;) AreaOfBusiness areaOfBusiness, @Optional(&quot;Autohaus Huber&quot;) String tenantName )\r\n        throws IOException {\r\n        this.browserName = browserName;\r\n        this.userRole = userRole;\r\n        this.testType = testType;\r\n        this.tenantName = tenantName;\r\n        this.areaOfBusiness = areaOfBusiness;\r\n    \r\n\r\n        logger.atInfo().log(&quot;{}-BaseTest Setup&quot;, areaOfBusiness);\r\n        ConfigurationManager.loadProperties(profile);\r\n        driver = getOrCreateWebDriver(browserName, userRole, testType, areaOfBusiness);\r\n\r\n        this.wait = new WebDriverWait(driver, Duration.ofSeconds(10), Duration.ofSeconds(1));\r\n        this.longWait = new WebDriverWait(driver, Duration.ofSeconds(300));\r\n\r\n        // Instantiate page objects\r\n        this.basePage = new BasePage(driver);\r\n\r\n        if (BMW.equals(areaOfBusiness) &amp;&amp; !&quot;authentication&quot;.equals(testType)) {\r\n            basePage.selectTenant(tenantName);\r\n        }\r\n        logger.info(&quot;Tenant name is {}&quot;, tenantName);\r\n    }\r\n\r\n    public WebDriver createBrowserSession(String browser, String userRole, String testType,\r\n                                          AreaOfBusiness areaOfBusiness)\r\n        throws IOException {\r\n        WebDriver webDriver = switch (Browser.fromString(browser)) {\r\n            case FIREFOX -&gt; {\r\n                WebDriverManager.firefoxdriver().setup();\r\n                yield new FirefoxDriver();\r\n            }\r\n            case EDGE -&gt; {\r\n                WebDriverManager.edgedriver().setup();\r\n                yield new EdgeDriver();\r\n            }\r\n            case CHROME -&gt; {\r\n                WebDriverManager.chromedriver().setup();\r\n                yield new ChromeDriver();\r\n            }\r\n            case SAFARI -&gt; {\r\n                WebDriverManager.safaridriver().setup();\r\n                yield new SafariDriver();\r\n            }\r\n            case UNKNOWN -&gt; {\r\n                throw new RuntimeException(&quot;Browser is unknown&quot;);\r\n            }\r\n        };\r\n        //wait = new WebDriverWait(webDriver, Duration.ofSeconds(10), Duration.ofSeconds(1));\r\n        longWait = new WebDriverWait(webDriver, Duration.ofSeconds(300));\r\n        webDriver.manage().deleteAllCookies();\r\n        String backOfficeBaseUrl = ConfigurationManager.getBackOfficeBaseUrl();\r\n        webDriver.get(MessageFormat.format(backOfficeBaseUrl,\r\n            AreaOfBusiness.fromString(String.valueOf(areaOfBusiness))));\r\n        webDriver.manage().window().maximize();\r\n        //Login process\r\n        if (!&quot;authentication&quot;.equals(testType)) {\r\n            loginProcess(userRole, AreaOfBusiness.fromString(String.valueOf(areaOfBusiness)), webDriver);\r\n        }\r\n        return webDriver;\r\n    }\r\n\r\n    @AfterTest(alwaysRun = true)\r\n    public void tearDown() {\r\n        if (driver != null) {\r\n            logger.info(&quot;TearDown Called!&quot;);\r\n            logger.info(&quot;Browser Closed.&quot;);\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\nNow when I run the test suite after completion of the first test class in the &lt;test&gt; tag all these fields become `null` and I am getting `NullPointerException`\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n    \r\n    &lt;suite name=&quot;DE BMW-Autohaus Tests on Chrome browser&quot; verbose=&quot;1&quot;&gt;\r\n        &lt;parameter name=&quot;browserName&quot; value=&quot;chrome&quot;/&gt;\r\n        &lt;parameter name=&quot;areaOfBusiness&quot; value=&quot;BMW&quot;/&gt;\r\n        &lt;parameter name=&quot;tenantName&quot; value=&quot;Autohaus Huber&quot;/&gt;\r\n        &lt;listeners&gt;\r\n            &lt;listener class-name=&quot;com.myCom.selenium.util.Reporting&quot;/&gt;\r\n            &lt;listener class-name=&quot;com.myCom.selenium.util.RetryListener&quot;/&gt;\r\n        &lt;/listeners&gt;\r\n        &lt;test name=&quot;Autohaus Huber Authentication Validation, Login and Logout Tests (Chrome)&quot; enabled=&quot;false&quot;&gt;\r\n            &lt;parameter name=&quot;testType&quot; value=&quot;authentication&quot;/&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;com.myCom.selenium.testcases.logintests.LoginAndLogoutFunctionalityTest&quot;/&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n        &lt;test name=&quot;Autohaus Huber Process Owner (Administrator) User Tests (Chrome)&quot; enabled=&quot;true&quot;&gt;\r\n            &lt;parameter name=&quot;userRole&quot; value=&quot;process_owner&quot;/&gt;\r\n            &lt;groups&gt;\r\n                &lt;run&gt;\r\n                    &lt;include name=&quot;process_owner&quot;/&gt;\r\n                &lt;/run&gt;\r\n            &lt;/groups&gt;\r\n            &lt;packages&gt;\r\n                &lt;package name=&quot;com.myCom.selenium.testcases.*&quot;&gt;\r\n                    &lt;exclude name=&quot;com.myCom.selenium.testcases.chat&quot;/&gt;\r\n                &lt;/package&gt;\r\n            &lt;/packages&gt;\r\n        &lt;/test&gt;\r\n        &lt;test name=&quot;Autohaus Huber Service Advisor User Tests (Chrome)&quot; enabled=&quot;true&quot; &gt;\r\n            &lt;parameter name=&quot;userRole&quot; value=&quot;service&quot;/&gt;\r\n            &lt;groups&gt;\r\n                &lt;run&gt;\r\n                    &lt;include name=&quot;service_advisor&quot; /&gt;\r\n                &lt;/run&gt;\r\n            &lt;/groups&gt;\r\n            &lt;packages&gt;\r\n                &lt;package name=&quot;com.myCom.selenium.testcases.*&quot;&gt;\r\n                    &lt;exclude name=&quot;com.myCom.selenium.testcases.chat&quot;/&gt;\r\n                &lt;/package&gt;\r\n            &lt;/packages&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nI am not sure what I am doing wrong for reference let me give you a pageClass and testClass\r\n\r\n \r\n\r\n       @Test(groups = {PROCESS_OWNER, SERVICE_ADVISOR, SERVICE_ASSISTANT})\r\n    public class FieldsValidationTest extends BaseTestClass {\r\n        private InvoiceCreationPage invoiceCreation;\r\n        private ValidationErrorPage validationErrorPage;\r\n        private CreationDialogUtils creationDialogUtils;\r\n    \r\n        @BeforeMethod(alwaysRun = true)\r\n        public void beforeTest() {\r\n            invoiceCreation = new InvoiceCreationPage(driver);\r\n            validationErrorPage = new ValidationErrorPage(driver);\r\n            creationDialogUtils = new CreationDialogUtils();\r\n        }\r\n    \r\n        @Test(description = &quot;To test if the user does not check any of the title checks box and verify validation message&quot;\r\n                + &quot;must be displayed&quot;)\r\n        public void tc019NewCaseFieldTitleValidationTest() throws Exception {\r\n            creationDialogUtils.openInvoiceCreationDialogBox();\r\n            //Invoice creation form\r\n            //Customer data\r\n            var customerData = randomCustomerData();\r\n            customerData.setTitleIndexValue(4);\r\n            creationDialogUtils.fillCustomerData(invoiceCreation, customerData);\r\n            //Invoice data\r\n            var invoiceData = invoiceData();\r\n            creationDialogUtils.fillInvoiceDetails(invoiceCreation, invoiceData, CREATE, INVOICE_CREATION);\r\n            //Click send invoice button\r\n            invoiceCreation.clickSendButton();\r\n            //Verify validation error message\r\n            var errorMessageData = validationErrors(getErrorMessage(&quot;requiredError&quot;,\r\n                    &quot;Title&quot;));\r\n            checkValidationErrors(validationErrorPage, errorMessageData, &quot;title&quot;);\r\n            //Close the form\r\n            invoiceCreation.clickCancelButton();\r\n        }\r\n    @Test()\r\n    .....\r\n    @Test()\r\n    .\r\n    .\r\n    .\r\n    @Test() so on \r\n    \r\n    }\r\n\r\n\r\nBelow is the page object class\r\n\r\n    public class InvoiceCreationPage extends BaseTestClass {\r\n        private final Logger log = LoggerFactory.getLogger(InvoiceCreationPage.class);\r\n    \r\n        public InvoiceCreationPage(WebDriver driver) {\r\n            this.driver = driver;\r\n            initElements(driver, this);\r\n        }\r\n    \r\n        @FindBy(xpath = &quot;//a[contains(@href, &#39;./invoices&#39;)]&quot;)\r\n        WebElement invoiceModuleNavLink;\r\n        @FindBy(id = &quot;loader&quot;)\r\n        WebElement uploadSpinner;\r\n    \r\n    // Some Action methods\r\n    method1();\r\n    method2();\r\n    .\r\n    .\r\n    .\r\n    .\r\n    }\r\n\r\nIf someone helps me, how can I use all the `static` fields as `protected` and also it will be executable in parallel?\r\n\r\nI also want to achieve that every `&lt;test&gt;` tag (including all the test classes in `&lt;test&gt;` tag) runs on the same browser and the next `&lt;test&gt;` tag on its individual browser but in parallel\r\n\r\n","title":"How to run selenium test in parallel while WebDriver and required fields are Protected in Java","body":"<p>I am not an expert in Java and learning things. Let me first let you know that I am using Selenium with Java using page object model and TestNg. Until now all the 1000+ tests run smoothly. As I am using all the following fields in my <code>baseTestClass</code> as</p>\n<pre><code>public static WebDriver driver;\nprotected static WebDriverWait wait;\nprotected static WebDriverWait longWait;\npublic static BasePage basePage;\npublic static AreaOfBusiness areaOfBusiness;\npublic static String tenantName;\npublic static String userRole;\npublic static String testType;\npublic static String browserName;\n</code></pre>\n<p>Now my senior suggested me not use <code>static</code> fields but instead use <code>protected</code>, because I am going to use the TestNg parallel option to reduce the test suite time.</p>\n<p>Until now i modify the base class as follows</p>\n<pre><code>public class BaseTestClass {\nprivate static final Logger logger = LoggerFactory.getLogger(BaseSeleniumTest.class);\nprotected String browserName;\nprotected String tenantName;\nprotected String userRole;\nprotected String testType;\nprotected AreaOfBusiness areaOfBusiness;\nprotected WebDriver driver;\nprotected WebDriverWait wait; //Explicit Wait\nprotected WebDriverWait longWait;\nprotected BasePage basePage;\n\n@Parameters({&quot;profile&quot;, &quot;browserName&quot;, &quot;userRole&quot;, &quot;testType&quot;, &quot;areaOfBusiness&quot;, &quot;tenantName&quot;})\n@BeforeTest(alwaysRun = true)\npublic void setup(@Optional(&quot;local&quot;) String profile, @Optional(&quot;chrome&quot;) String browserName,\n                  @Optional String userRole, @Optional String testType,\n                  @Optional(&quot;BMW&quot;) AreaOfBusiness areaOfBusiness, @Optional(&quot;Autohaus Huber&quot;) String tenantName )\n    throws IOException {\n    this.browserName = browserName;\n    this.userRole = userRole;\n    this.testType = testType;\n    this.tenantName = tenantName;\n    this.areaOfBusiness = areaOfBusiness;\n\n\n    logger.atInfo().log(&quot;{}-BaseTest Setup&quot;, areaOfBusiness);\n    ConfigurationManager.loadProperties(profile);\n    driver = getOrCreateWebDriver(browserName, userRole, testType, areaOfBusiness);\n\n    this.wait = new WebDriverWait(driver, Duration.ofSeconds(10), Duration.ofSeconds(1));\n    this.longWait = new WebDriverWait(driver, Duration.ofSeconds(300));\n\n    // Instantiate page objects\n    this.basePage = new BasePage(driver);\n\n    if (BMW.equals(areaOfBusiness) &amp;&amp; !&quot;authentication&quot;.equals(testType)) {\n        basePage.selectTenant(tenantName);\n    }\n    logger.info(&quot;Tenant name is {}&quot;, tenantName);\n}\n\npublic WebDriver createBrowserSession(String browser, String userRole, String testType,\n                                      AreaOfBusiness areaOfBusiness)\n    throws IOException {\n    WebDriver webDriver = switch (Browser.fromString(browser)) {\n        case FIREFOX -&gt; {\n            WebDriverManager.firefoxdriver().setup();\n            yield new FirefoxDriver();\n        }\n        case EDGE -&gt; {\n            WebDriverManager.edgedriver().setup();\n            yield new EdgeDriver();\n        }\n        case CHROME -&gt; {\n            WebDriverManager.chromedriver().setup();\n            yield new ChromeDriver();\n        }\n        case SAFARI -&gt; {\n            WebDriverManager.safaridriver().setup();\n            yield new SafariDriver();\n        }\n        case UNKNOWN -&gt; {\n            throw new RuntimeException(&quot;Browser is unknown&quot;);\n        }\n    };\n    //wait = new WebDriverWait(webDriver, Duration.ofSeconds(10), Duration.ofSeconds(1));\n    longWait = new WebDriverWait(webDriver, Duration.ofSeconds(300));\n    webDriver.manage().deleteAllCookies();\n    String backOfficeBaseUrl = ConfigurationManager.getBackOfficeBaseUrl();\n    webDriver.get(MessageFormat.format(backOfficeBaseUrl,\n        AreaOfBusiness.fromString(String.valueOf(areaOfBusiness))));\n    webDriver.manage().window().maximize();\n    //Login process\n    if (!&quot;authentication&quot;.equals(testType)) {\n        loginProcess(userRole, AreaOfBusiness.fromString(String.valueOf(areaOfBusiness)), webDriver);\n    }\n    return webDriver;\n}\n\n@AfterTest(alwaysRun = true)\npublic void tearDown() {\n    if (driver != null) {\n        logger.info(&quot;TearDown Called!&quot;);\n        logger.info(&quot;Browser Closed.&quot;);\n        driver.quit();\n    }\n}\n</code></pre>\n<p>Now when I run the test suite after completion of the first test class in the  tag all these fields become <code>null</code> and I am getting <code>NullPointerException</code></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n\n&lt;suite name=&quot;DE BMW-Autohaus Tests on Chrome browser&quot; verbose=&quot;1&quot;&gt;\n    &lt;parameter name=&quot;browserName&quot; value=&quot;chrome&quot;/&gt;\n    &lt;parameter name=&quot;areaOfBusiness&quot; value=&quot;BMW&quot;/&gt;\n    &lt;parameter name=&quot;tenantName&quot; value=&quot;Autohaus Huber&quot;/&gt;\n    &lt;listeners&gt;\n        &lt;listener class-name=&quot;com.myCom.selenium.util.Reporting&quot;/&gt;\n        &lt;listener class-name=&quot;com.myCom.selenium.util.RetryListener&quot;/&gt;\n    &lt;/listeners&gt;\n    &lt;test name=&quot;Autohaus Huber Authentication Validation, Login and Logout Tests (Chrome)&quot; enabled=&quot;false&quot;&gt;\n        &lt;parameter name=&quot;testType&quot; value=&quot;authentication&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.myCom.selenium.testcases.logintests.LoginAndLogoutFunctionalityTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Autohaus Huber Process Owner (Administrator) User Tests (Chrome)&quot; enabled=&quot;true&quot;&gt;\n        &lt;parameter name=&quot;userRole&quot; value=&quot;process_owner&quot;/&gt;\n        &lt;groups&gt;\n            &lt;run&gt;\n                &lt;include name=&quot;process_owner&quot;/&gt;\n            &lt;/run&gt;\n        &lt;/groups&gt;\n        &lt;packages&gt;\n            &lt;package name=&quot;com.myCom.selenium.testcases.*&quot;&gt;\n                &lt;exclude name=&quot;com.myCom.selenium.testcases.chat&quot;/&gt;\n            &lt;/package&gt;\n        &lt;/packages&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Autohaus Huber Service Advisor User Tests (Chrome)&quot; enabled=&quot;true&quot; &gt;\n        &lt;parameter name=&quot;userRole&quot; value=&quot;service&quot;/&gt;\n        &lt;groups&gt;\n            &lt;run&gt;\n                &lt;include name=&quot;service_advisor&quot; /&gt;\n            &lt;/run&gt;\n        &lt;/groups&gt;\n        &lt;packages&gt;\n            &lt;package name=&quot;com.myCom.selenium.testcases.*&quot;&gt;\n                &lt;exclude name=&quot;com.myCom.selenium.testcases.chat&quot;/&gt;\n            &lt;/package&gt;\n        &lt;/packages&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>I am not sure what I am doing wrong for reference let me give you a pageClass and testClass</p>\n<pre><code>   @Test(groups = {PROCESS_OWNER, SERVICE_ADVISOR, SERVICE_ASSISTANT})\npublic class FieldsValidationTest extends BaseTestClass {\n    private InvoiceCreationPage invoiceCreation;\n    private ValidationErrorPage validationErrorPage;\n    private CreationDialogUtils creationDialogUtils;\n\n    @BeforeMethod(alwaysRun = true)\n    public void beforeTest() {\n        invoiceCreation = new InvoiceCreationPage(driver);\n        validationErrorPage = new ValidationErrorPage(driver);\n        creationDialogUtils = new CreationDialogUtils();\n    }\n\n    @Test(description = &quot;To test if the user does not check any of the title checks box and verify validation message&quot;\n            + &quot;must be displayed&quot;)\n    public void tc019NewCaseFieldTitleValidationTest() throws Exception {\n        creationDialogUtils.openInvoiceCreationDialogBox();\n        //Invoice creation form\n        //Customer data\n        var customerData = randomCustomerData();\n        customerData.setTitleIndexValue(4);\n        creationDialogUtils.fillCustomerData(invoiceCreation, customerData);\n        //Invoice data\n        var invoiceData = invoiceData();\n        creationDialogUtils.fillInvoiceDetails(invoiceCreation, invoiceData, CREATE, INVOICE_CREATION);\n        //Click send invoice button\n        invoiceCreation.clickSendButton();\n        //Verify validation error message\n        var errorMessageData = validationErrors(getErrorMessage(&quot;requiredError&quot;,\n                &quot;Title&quot;));\n        checkValidationErrors(validationErrorPage, errorMessageData, &quot;title&quot;);\n        //Close the form\n        invoiceCreation.clickCancelButton();\n    }\n@Test()\n.....\n@Test()\n.\n.\n.\n@Test() so on \n\n}\n</code></pre>\n<p>Below is the page object class</p>\n<pre><code>public class InvoiceCreationPage extends BaseTestClass {\n    private final Logger log = LoggerFactory.getLogger(InvoiceCreationPage.class);\n\n    public InvoiceCreationPage(WebDriver driver) {\n        this.driver = driver;\n        initElements(driver, this);\n    }\n\n    @FindBy(xpath = &quot;//a[contains(@href, './invoices')]&quot;)\n    WebElement invoiceModuleNavLink;\n    @FindBy(id = &quot;loader&quot;)\n    WebElement uploadSpinner;\n\n// Some Action methods\nmethod1();\nmethod2();\n.\n.\n.\n.\n}\n</code></pre>\n<p>If someone helps me, how can I use all the <code>static</code> fields as <code>protected</code> and also it will be executable in parallel?</p>\n<p>I also want to achieve that every <code>&lt;test&gt;</code> tag (including all the test classes in <code>&lt;test&gt;</code> tag) runs on the same browser and the next <code>&lt;test&gt;</code> tag on its individual browser but in parallel</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":5774888,"reputation":14,"user_id":4557258,"display_name":"dalcyonir"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1692830642,"creation_date":1692830642,"answer_id":76965311,"question_id":76965093,"body_markdown":"What I would do (and have done) is bypass security on unit/component tests(that need to test a class or specific layer) and add security in integration tests.","title":"Should I exclude security from controller unit tests?","body":"<p>What I would do (and have done) is bypass security on unit/component tests(that need to test a class or specific layer) and add security in integration tests.</p>\n"}],"owner":{"account_id":19159495,"reputation":25,"user_id":13995601,"display_name":"robertos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1692893715,"accepted_answer_id":76965311,"answer_count":1,"score":0,"last_activity_date":1692830642,"creation_date":1692827384,"question_id":76965093,"body_markdown":"In my Spring application, I want to write tests. So, the &quot;/companies&quot; endpoint is secured and requires an ADMIN or USER role. In unit tests, should I bypass security and focus only on the business logic, and then test with security in integration tests? Or should I rather consider security in unit tests?\r\n\r\n\r\nWithout security:\r\n```\r\n@WebMvcTest(CompanyController.class)\r\n@AutoConfigureMockMvc(addFilters = false)\r\nclass CompanyControllerTest2 {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private CompanyService companyService;\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @MockBean\r\n    private ResourceAccessHelper resourceAccessHelper;\r\n\r\n    @MockBean\r\n    private TokenAuthenticationFilter tokenAuthenticationFilter;\r\n\r\n    @Test\r\n    void shouldCreateCompany() throws Exception {\r\n        CompanyDto companyDto = CompanyDto.builder().companyName(&quot;My   Company&quot;).description(&quot;Description&quot;).build();\r\n        CompanyDto savedCompany = companyDto;\r\n        savedCompany.setId(1L);\r\n\r\n        given(companyService.saveNewCompany(companyDto)).willReturn(savedCompany);\r\n\r\n        mockMvc.perform(post(&quot;/companies&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(companyDto)))\r\n                .andExpect(status().isCreated())\r\n                .andExpect(header().exists(&quot;Location&quot;));\r\n    }\r\n}\r\n```\r\n\r\nOr use here @WithMockUser(username = &quot;user&quot;, roles = SecurityConfig.USER) for example?\r\nWhich option is a better choice?","title":"Should I exclude security from controller unit tests?","body":"<p>In my Spring application, I want to write tests. So, the &quot;/companies&quot; endpoint is secured and requires an ADMIN or USER role. In unit tests, should I bypass security and focus only on the business logic, and then test with security in integration tests? Or should I rather consider security in unit tests?</p>\n<p>Without security:</p>\n<pre><code>@WebMvcTest(CompanyController.class)\n@AutoConfigureMockMvc(addFilters = false)\nclass CompanyControllerTest2 {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private CompanyService companyService;\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @MockBean\n    private ResourceAccessHelper resourceAccessHelper;\n\n    @MockBean\n    private TokenAuthenticationFilter tokenAuthenticationFilter;\n\n    @Test\n    void shouldCreateCompany() throws Exception {\n        CompanyDto companyDto = CompanyDto.builder().companyName(&quot;My   Company&quot;).description(&quot;Description&quot;).build();\n        CompanyDto savedCompany = companyDto;\n        savedCompany.setId(1L);\n\n        given(companyService.saveNewCompany(companyDto)).willReturn(savedCompany);\n\n        mockMvc.perform(post(&quot;/companies&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(companyDto)))\n                .andExpect(status().isCreated())\n                .andExpect(header().exists(&quot;Location&quot;));\n    }\n}\n</code></pre>\n<p>Or use here @WithMockUser(username = &quot;user&quot;, roles = SecurityConfig.USER) for example?\nWhich option is a better choice?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1692173750,"post_id":76911590,"comment_id":135586469,"body_markdown":"Are you sure chrome driver is version 116? Because logs state it&#39;s 114 - `Starting ChromeDriver 114.0.5735.90`. Maybe the property for the driver file points to the wrong place?","body":"Are you sure chrome driver is version 116? Because logs state it&#39;s 114 - <code>Starting ChromeDriver 114.0.5735.90</code>. Maybe the property for the driver file points to the wrong place?"},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1693296946,"post_id":76911590,"comment_id":135738503,"body_markdown":"This is the issue regarding the ew CfT endpoint for new Chromedriver releases that also affected WebDriverManager - see answer here: https://stackoverflow.com/a/76998277/11543023","body":"This is the issue regarding the ew CfT endpoint for new Chromedriver releases that also affected WebDriverManager - see answer here: <a href=\"https://stackoverflow.com/a/76998277/11543023\">stackoverflow.com/a/76998277/11543023</a>"}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1692703569,"creation_date":1692179660,"answer_id":76912466,"question_id":76911590,"body_markdown":"**Issue:** You are using the version of selenium(`4.8.2`) which doesn&#39;t support latest browser.\r\n\r\n**Solution:** Upgrade to the latest version of selenium(`4.11.0` for JAVA and `4.11.2` for PYTHON) which supports this browser version.","title":"Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114","body":"<p><strong>Issue:</strong> You are using the version of selenium(<code>4.8.2</code>) which doesn't support latest browser.</p>\n<p><strong>Solution:</strong> Upgrade to the latest version of selenium(<code>4.11.0</code> for JAVA and <code>4.11.2</code> for PYTHON) which supports this browser version.</p>\n"},{"tags":[],"owner":{"account_id":8501978,"reputation":111,"user_id":7498831,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692252603,"creation_date":1692252603,"answer_id":76918872,"question_id":76911590,"body_markdown":"These are common problems faced by all software qa company when the chrome browser is updated.\r\nwe need to update chromedriver.exe w.r.t the chrome browser version(**version: 115 or latest**).\r\n\r\nFrom the logs we are able to observe chrome driver version is not updated:\r\n\r\nStarting  ChromeDriver:  **114.0.5735.90**\r\n\r\nCurrent browser version: **116.0.5845.97**\r\n\r\nNote: If you have already updated chrome driver and facing the same issue, then check for chromedriver.exe threads in Task manager and kill them.\r\nor execute the following command in command prompt to close all chromedriver.exe threads and build the application.\r\n&quot;**taskkill /F /IM ChromeDriver.exe /T**&quot;","title":"Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114","body":"<p>These are common problems faced by all software qa company when the chrome browser is updated.\nwe need to update chromedriver.exe w.r.t the chrome browser version(<strong>version: 115 or latest</strong>).</p>\n<p>From the logs we are able to observe chrome driver version is not updated:</p>\n<p>Starting  ChromeDriver:  <strong>114.0.5735.90</strong></p>\n<p>Current browser version: <strong>116.0.5845.97</strong></p>\n<p>Note: If you have already updated chrome driver and facing the same issue, then check for chromedriver.exe threads in Task manager and kill them.\nor execute the following command in command prompt to close all chromedriver.exe threads and build the application.\n&quot;<strong>taskkill /F /IM ChromeDriver.exe /T</strong>&quot;</p>\n"},{"tags":[],"owner":{"account_id":24021573,"reputation":1,"user_id":18003782,"display_name":"bhavin2p"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692375253,"creation_date":1692375253,"answer_id":76931006,"question_id":76911590,"body_markdown":"Upgrade the Selenium version to latest and Selenium Manager","title":"Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114","body":"<p>Upgrade the Selenium version to latest and Selenium Manager</p>\n"},{"tags":[],"owner":{"account_id":29253377,"reputation":21,"user_id":22412226,"display_name":"Pasindu Bhawantha Warnasooriya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692385186,"creation_date":1692385141,"answer_id":76931976,"question_id":76911590,"body_markdown":"Worked for me by using the latest versions\r\n\r\n**used the latest version of selenium**\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n**used the latest version of webdriver manager**\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nhttps://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\r\nhttps://github.com/bonigarcia/webdrivermanager","title":"Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114","body":"<p>Worked for me by using the latest versions</p>\n<p><strong>used the latest version of selenium</strong></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>used the latest version of webdriver manager</strong></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;5.4.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java</a>\n<a href=\"https://github.com/bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">https://github.com/bonigarcia/webdrivermanager</a></p>\n"},{"tags":[],"owner":{"account_id":28769760,"reputation":1,"user_id":22033761,"display_name":"Axy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692601195,"creation_date":1692601000,"answer_id":76943007,"question_id":76911590,"body_markdown":"update this in POM\r\n\r\nhttps://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\r\n\r\n&lt;version&gt;5.4.1&lt;/version&gt;\r\n        \r\nupdate this version ","title":"Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114","body":"<p>update this in POM</p>\n<p><a href=\"https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager</a></p>\n<p>5.4.1</p>\n<p>update this version</p>\n"},{"tags":[],"owner":{"account_id":29273335,"reputation":1,"user_id":22427623,"display_name":"Mohit Chandak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692692117,"creation_date":1692692117,"answer_id":76951341,"question_id":76911590,"body_markdown":"For me its work when i tried updating the version of selenium and  webdriver which are \r\nlatest version of selenium\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nlatest version of webdriver manager\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAlso make the file in the src\\test\\java if they are not there .","title":"Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114","body":"<p>For me its work when i tried updating the version of selenium and  webdriver which are\nlatest version of selenium</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>latest version of webdriver manager</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;5.4.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also make the file in the src\\test\\java if they are not there .</p>\n"},{"tags":[],"owner":{"account_id":25942086,"reputation":11,"user_id":19661423,"display_name":"Inna Zanko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692736584,"creation_date":1692736584,"answer_id":76956711,"question_id":76911590,"body_markdown":"if you are using selenide library also update it to the latest version 6.17.1\r\n","title":"Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114","body":"<p>if you are using selenide library also update it to the latest version 6.17.1</p>\n"},{"tags":[],"owner":{"account_id":9512991,"reputation":63,"user_id":7070360,"accept_rate":75,"display_name":"Jose Luis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692829755,"creation_date":1692829755,"answer_id":76965254,"question_id":76911590,"body_markdown":"there are a new end point to download it, that is the reason that bonigarcia lib can&#39;t download the last driver version. you can check it in the oficial page:\r\n\r\nnew page: https://googlechromelabs.github.io/chrome-for-testing/\r\n\r\noficial page:\r\nhttps://chromedriver.chromium.org/downloads\r\n\r\n[![enter image description here][1]][1]\r\nCurrent Releases\r\nIf you are using Chrome version 115 or newer, please consult the Chrome for Testing availability dashboard. This page provides convenient JSON endpoints for specific ChromeDriver version downloading.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lNmt3.png","title":"Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114","body":"<p>there are a new end point to download it, that is the reason that bonigarcia lib can't download the last driver version. you can check it in the oficial page:</p>\n<p>new page: <a href=\"https://googlechromelabs.github.io/chrome-for-testing/\" rel=\"nofollow noreferrer\">https://googlechromelabs.github.io/chrome-for-testing/</a></p>\n<p>oficial page:\n<a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a></p>\n<p><a href=\"https://i.stack.imgur.com/lNmt3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lNmt3.png\" alt=\"enter image description here\" /></a>\nCurrent Releases\nIf you are using Chrome version 115 or newer, please consult the Chrome for Testing availability dashboard. This page provides convenient JSON endpoints for specific ChromeDriver version downloading.</p>\n"}],"owner":{"account_id":29234989,"reputation":53,"user_id":22397799,"display_name":"Hrushikesh Shewale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22283,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":76912466,"answer_count":8,"score":5,"last_activity_date":1692829755,"creation_date":1692172802,"question_id":76911590,"body_markdown":"OS : Windows server\r\n\r\nLanguage : Java\r\n\r\nChrome version : 116.0.5845.97\r\n\r\nChrome driver version : 116.0.5845.96\r\n\r\n# OUTPUT : \r\n```\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 10267\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nFAILED CONFIGURATION: @BeforeMethod StartDriver\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\r\nCurrent browser version is 116.0.5845.97 with binary path C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe \r\nHost info: host: &#39;WSAMZN-5U0L0QME&#39;, ip: &#39;10.40.2.21&#39;\r\nBuild info: version: &#39;4.8.2&#39;, revision: &#39;826dbfc730&#39;\r\nSystem info: os.name: &#39;Windows Server 2019&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.2&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {acceptInsecureCerts: true, browserName: chrome, goog:chromeOptions: {args: [--disable-notifications, ----disable-gpu, --disable-blink-features, --disable-blink-features=Au..., enable-automation, --no-sandbox, --disable-setuid-sandbox, --disable-infobars, --disable-dev-shm-usage, --disable-browser-side-navi..., --force-device-scale-factor=1, --remote-allow-origins=*, start-maximized, --safebrowsing-disable-down..., safebrowsing-disable-extens...], extensions: [], prefs: {download.default_directory: D:\\SeleniumWebdriver\\backlo..., download.extensions_to_open: application/exe, download.prompt_for_download: false, safebrowsing.enabled: true}}, pageLoadStrategy: none, unhandledPromptBehavior: accept}], desiredCapabilities=Capabilities {acceptInsecureCerts: true, browserName: chrome, goog:chromeOptions: {args: [--disable-notifications, ----disable-gpu, --disable-blink-features, --disable-blink-features=Au..., enable-automation, --no-sandbox, --disable-setuid-sandbox, --disable-infobars, --disable-dev-shm-usage, --disable-browser-side-navi..., --force-device-scale-factor=1, --remote-allow-origins=*, start-maximized, --safebrowsing-disable-down..., safebrowsing-disable-extens...], extensions: [], prefs: {download.default_directory: D:\\SeleniumWebdriver\\backlo..., download.extensions_to_open: application/exe, download.prompt_for_download: false, safebrowsing.enabled: true}}, pageLoadStrategy: none, unhandledPromptBehavior: accept}}]\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\r\n\tat com.cgw.resources.Base.StartDriver(Base.java:151)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n\tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n\tat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n```","title":"Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114","body":"<p>OS : Windows server</p>\n<p>Language : Java</p>\n<p>Chrome version : 116.0.5845.97</p>\n<p>Chrome driver version : 116.0.5845.96</p>\n<h1>OUTPUT :</h1>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 10267\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nFAILED CONFIGURATION: @BeforeMethod StartDriver\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 116.0.5845.97 with binary path C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe \nHost info: host: 'WSAMZN-5U0L0QME', ip: '10.40.2.21'\nBuild info: version: '4.8.2', revision: '826dbfc730'\nSystem info: os.name: 'Windows Server 2019', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {acceptInsecureCerts: true, browserName: chrome, goog:chromeOptions: {args: [--disable-notifications, ----disable-gpu, --disable-blink-features, --disable-blink-features=Au..., enable-automation, --no-sandbox, --disable-setuid-sandbox, --disable-infobars, --disable-dev-shm-usage, --disable-browser-side-navi..., --force-device-scale-factor=1, --remote-allow-origins=*, start-maximized, --safebrowsing-disable-down..., safebrowsing-disable-extens...], extensions: [], prefs: {download.default_directory: D:\\SeleniumWebdriver\\backlo..., download.extensions_to_open: application/exe, download.prompt_for_download: false, safebrowsing.enabled: true}}, pageLoadStrategy: none, unhandledPromptBehavior: accept}], desiredCapabilities=Capabilities {acceptInsecureCerts: true, browserName: chrome, goog:chromeOptions: {args: [--disable-notifications, ----disable-gpu, --disable-blink-features, --disable-blink-features=Au..., enable-automation, --no-sandbox, --disable-setuid-sandbox, --disable-infobars, --disable-dev-shm-usage, --disable-browser-side-navi..., --force-device-scale-factor=1, --remote-allow-origins=*, start-maximized, --safebrowsing-disable-down..., safebrowsing-disable-extens...], extensions: [], prefs: {download.default_directory: D:\\SeleniumWebdriver\\backlo..., download.extensions_to_open: application/exe, download.prompt_for_download: false, safebrowsing.enabled: true}}, pageLoadStrategy: none, unhandledPromptBehavior: accept}}]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\n    at com.cgw.resources.Base.StartDriver(Base.java:151)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n    at org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:794)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n"},{"tags":["java","rest","jakarta-ee","jax-rs"],"comments":[{"owner":{"account_id":26528740,"reputation":367,"user_id":20161294,"display_name":"v-g"},"score":0,"creation_date":1692214794,"post_id":76871840,"comment_id":135594821,"body_markdown":"Is the server correctly configured to support other methods than GET? Sometimes they are dislabled because of security policies but obviously they have to be allowed if you plan to provide REST endpoints with them.","body":"Is the server correctly configured to support other methods than GET? Sometimes they are dislabled because of security policies but obviously they have to be allowed if you plan to provide REST endpoints with them."},{"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"score":0,"creation_date":1692619282,"post_id":76871840,"comment_id":135643676,"body_markdown":"They work, and the GET method also works if it&#39;s not empty (ie: `http://example.com/resource/customer/5`). But requesting an empty GET method won&#39;t work unless it&#39;s the only declared method.","body":"They work, and the GET method also works if it&#39;s not empty (ie: <code>http:&#47;&#47;example.com&#47;resource&#47;customer&#47;5</code>). But requesting an empty GET method won&#39;t work unless it&#39;s the only declared method."},{"owner":{"account_id":26528740,"reputation":367,"user_id":20161294,"display_name":"v-g"},"score":0,"creation_date":1692624731,"post_id":76871840,"comment_id":135644977,"body_markdown":"I suspect a parsing error from the web container due to the regex used, did you try to solve the problem by overloading the `getCustomer` method in an analogous way to https://stackoverflow.com/a/19660557/20161294?","body":"I suspect a parsing error from the web container due to the regex used, did you try to solve the problem by overloading the <code>getCustomer</code> method in an analogous way to <a href=\"https://stackoverflow.com/a/19660557/20161294\">stackoverflow.com/a/19660557/20161294</a>?"}],"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692829426,"creation_date":1691623777,"question_id":76871840,"body_markdown":"I&#39;m using Jakarta REST API in Jakarta EE 10 and I noticed that if I try to parse an empty `@PathParam` in a GET method it works only if there are no other REST methods in the same class.\r\n\r\nI have the following class, where the `getCustomer()` method takes the request no matter if it&#39;s empty or not. I omitted the method&#39;s body for brevity but basically it just returns a `List` of `RestCustomer` containing all of them if the request is empty or just the ones that match the request if it&#39;s not empty.\r\n\r\n\r\n```\r\n@Path(&quot;/customer/&quot;)\r\npublic class CustomerResource {\r\n\r\n    @GET @Produces(&quot;text/xml&quot;)\r\n    @Path(&quot;{query: .*}/&quot;)\r\n    public List&lt;RestCustomer&gt; getCustomer(@PathParam(&quot;query&quot;) String query) {\r\n       // method body\r\n    }\r\n}\r\n```\r\n\r\nSo far it works good. You can send the request `http://example.com/resources/customer/` or `http://example.com/resource/customer/5` and it will work both ways.\r\n\r\nBut once I add other REST methods such as PUT, POST or DELETE, the `getCustomer()` method just stops working if the request is empty and it throws an `HTTP Status 405 - Method not allowed` error. Why is this happening? Is there any way to solve it?","title":"Jakarta REST: empty @PathParam in GET method only works if there are no other methods","body":"<p>I'm using Jakarta REST API in Jakarta EE 10 and I noticed that if I try to parse an empty <code>@PathParam</code> in a GET method it works only if there are no other REST methods in the same class.</p>\n<p>I have the following class, where the <code>getCustomer()</code> method takes the request no matter if it's empty or not. I omitted the method's body for brevity but basically it just returns a <code>List</code> of <code>RestCustomer</code> containing all of them if the request is empty or just the ones that match the request if it's not empty.</p>\n<pre><code>@Path(&quot;/customer/&quot;)\npublic class CustomerResource {\n\n    @GET @Produces(&quot;text/xml&quot;)\n    @Path(&quot;{query: .*}/&quot;)\n    public List&lt;RestCustomer&gt; getCustomer(@PathParam(&quot;query&quot;) String query) {\n       // method body\n    }\n}\n</code></pre>\n<p>So far it works good. You can send the request <code>http://example.com/resources/customer/</code> or <code>http://example.com/resource/customer/5</code> and it will work both ways.</p>\n<p>But once I add other REST methods such as PUT, POST or DELETE, the <code>getCustomer()</code> method just stops working if the request is empty and it throws an <code>HTTP Status 405 - Method not allowed</code> error. Why is this happening? Is there any way to solve it?</p>\n"},{"tags":["java","recursion","search","tree"],"answers":[{"tags":[],"owner":{"account_id":11049044,"reputation":82,"user_id":8114125,"display_name":"gufidown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545519475,"creation_date":1545518896,"answer_id":53899866,"question_id":53899814,"body_markdown":"Looks like your line:\r\n `else component.getDir(name)` is not checked for a return value. No matter whether that recursive call returns a found directory or null (nothing found), the next thing will be another round in the loop.\r\n\r\nJust check whether it returns not null, then return this again.","title":"How to search in a general tree a node in Java nonrecursive","body":"<p>Looks like your line:\n <code>else component.getDir(name)</code> is not checked for a return value. No matter whether that recursive call returns a found directory or null (nothing found), the next thing will be another round in the loop.</p>\n\n<p>Just check whether it returns not null, then return this again.</p>\n"}],"owner":{"account_id":14784411,"reputation":1,"user_id":10677057,"display_name":"aki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692829221,"creation_date":1545518330,"question_id":53899814,"body_markdown":"I am new to Java so any advice would be really appreciated.  \r\nI have a tree-like File System with files and directories. I want to find a Directory by its name.\r\nComponent is an interface and both File and Directory implement it.\r\nI wrote this method in the class Directory in order to find a Directory named name. \r\n\r\n```java\r\npublic Directory getDir(String name) {\r\n    Iterator&lt;Component&gt; iterator = (Iterator&lt;Component&gt;)components.iterator();\r\n    Component component = null; \r\n    while(iterator.hasNext()) {\r\n        component = iterator.next();\r\n        if(component instanceof Directory) {\r\n            if(component.getName().equals(name))\r\n                return (Directory) component;\r\n            else component.getDir(name);\r\n         }\r\n     }\t\r\n    return null;\r\n}\r\n```\r\n\r\nSomehow, this method won&#39;t stop after finding my Directory.\r\nI tried writing &quot;`return component.getDir(name)`&quot; but it doesn&#39;t help. It won&#39;t search in every component of my node, just in the first one.\r\nWhat am I doing wrong?\r\nPlease help me.\r\nThank you","title":"How to search in a general tree a node in Java nonrecursive","body":"<p>I am new to Java so any advice would be really appreciated.<br />\nI have a tree-like File System with files and directories. I want to find a Directory by its name.\nComponent is an interface and both File and Directory implement it.\nI wrote this method in the class Directory in order to find a Directory named name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Directory getDir(String name) {\n    Iterator&lt;Component&gt; iterator = (Iterator&lt;Component&gt;)components.iterator();\n    Component component = null; \n    while(iterator.hasNext()) {\n        component = iterator.next();\n        if(component instanceof Directory) {\n            if(component.getName().equals(name))\n                return (Directory) component;\n            else component.getDir(name);\n         }\n     }  \n    return null;\n}\n</code></pre>\n<p>Somehow, this method won't stop after finding my Directory.\nI tried writing &quot;<code>return component.getDir(name)</code>&quot; but it doesn't help. It won't search in every component of my node, just in the first one.\nWhat am I doing wrong?\nPlease help me.\nThank you</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692728904,"creation_date":1692728904,"answer_id":76955986,"question_id":76955929,"body_markdown":"In your `heroesMap` class, you have defined the `id` field as an `int`:\r\n\r\n```java\r\nprivate int id;\r\n```\r\n\r\nHowever, in your `getRecord` method, you&#39;re passing a `String` as the ID:\r\n\r\n```java\r\npublic String getRecord(String id){\r\n    return this.session.get(heroesMap.class,id).toString();\r\n}\r\n```","title":"Java Hibernate Error: Provided id of the wrong type for class example4.heroesMap. Expected: class java.lang.Integer, got class java.lang.String","body":"<p>In your <code>heroesMap</code> class, you have defined the <code>id</code> field as an <code>int</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int id;\n</code></pre>\n<p>However, in your <code>getRecord</code> method, you're passing a <code>String</code> as the ID:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getRecord(String id){\n    return this.session.get(heroesMap.class,id).toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15220950,"reputation":3,"user_id":11022313,"display_name":"Traums"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692829182,"creation_date":1692728907,"answer_id":76955987,"question_id":76955929,"body_markdown":"My fault was in  `getRecord(String id)`, the parameter should be int, than it works\r\nhttps://stackoverflow.com/questions/38950884/provided-id-of-the-wrong-type-for-class-classname-expected-class-java-lang-inte","title":"Java Hibernate Error: Provided id of the wrong type for class example4.heroesMap. Expected: class java.lang.Integer, got class java.lang.String","body":"<p>My fault was in  <code>getRecord(String id)</code>, the parameter should be int, than it works\n<a href=\"https://stackoverflow.com/questions/38950884/provided-id-of-the-wrong-type-for-class-classname-expected-class-java-lang-inte\">Provided id of the wrong type for class classname Expected: class java.lang.Integer, got class java.lang.String</a></p>\n"}],"owner":{"account_id":15220950,"reputation":3,"user_id":11022313,"display_name":"Traums"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76955986,"answer_count":2,"score":0,"last_activity_date":1692829182,"creation_date":1692728397,"question_id":76955929,"body_markdown":"I have a table \r\n\r\n```\r\ncreate table heroes\r\n(\r\n    id       int          null,\r\n    name     varchar(255) null,\r\n    level    int          null,\r\n    ultimate varchar(255) null\r\n);\r\n```\r\nThen connected cfg.xml file\r\n```\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;!-- JDBC Database connection settings --&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/xxi?useSSL=false&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;admin&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;12345&lt;/property&gt;\r\n        &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;10&lt;/property&gt;\r\n        &lt;!-- Select our SQL dialect --&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n        &lt;!-- Echo the SQL to stdout --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;!-- Set the current session context --&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;validate&lt;/property&gt;\r\n\r\n        &lt;mapping class=&quot;example4.heroesMap&quot;&gt;&lt;/mapping&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\nAnd class for my DB\r\n```\r\npackage example4;\r\n\r\nimport org.hibernate.annotations.GeneratorType;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;heroes&quot;)\r\npublic class heroesMap {\r\n    @Id\r\n//    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    @Column(name = &quot;level&quot;)\r\n    private int level;\r\n    @Column(name = &quot;ultimate&quot;)\r\n    private String ultimate;\r\n}\r\n```\r\nError says that type mismatch in table definition but it looks similar, what have I done wrong?\r\nError text:  Provided id of the wrong type for class example4.heroesMap. Expected: class java.lang.Integer, got class java.lang.String\r\n\r\nI wanted to read record from the table but it keeps crashing\r\n```\r\npublic class Hibernate {\r\n    Session session;\r\n    Hibernate(){\r\n        StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\r\n                                                .configure(&quot;hibernate.cfg.xml&quot;).build();\r\n        Metadata meta = new MetadataSources(registry).getMetadataBuilder().build();\r\n        SessionFactory factory = meta.getSessionFactoryBuilder().build();\r\n        this.session = factory.openSession();\r\n    }\r\n    public String getRecord(String id){\r\n        return this.session.get(heroesMap.class,id).toString();\r\n    }\r\n    public void close(){\r\n        this.session.close();\r\n    }\r\n}\r\n```","title":"Java Hibernate Error: Provided id of the wrong type for class example4.heroesMap. Expected: class java.lang.Integer, got class java.lang.String","body":"<p>I have a table</p>\n<pre><code>create table heroes\n(\n    id       int          null,\n    name     varchar(255) null,\n    level    int          null,\n    ultimate varchar(255) null\n);\n</code></pre>\n<p>Then connected cfg.xml file</p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- JDBC Database connection settings --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/xxi?useSSL=false&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;admin&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;12345&lt;/property&gt;\n        &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\n        &lt;property name=&quot;connection.pool_size&quot;&gt;10&lt;/property&gt;\n        &lt;!-- Select our SQL dialect --&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n        &lt;!-- Echo the SQL to stdout --&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;!-- Set the current session context --&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;validate&lt;/property&gt;\n\n        &lt;mapping class=&quot;example4.heroesMap&quot;&gt;&lt;/mapping&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>And class for my DB</p>\n<pre><code>package example4;\n\nimport org.hibernate.annotations.GeneratorType;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;heroes&quot;)\npublic class heroesMap {\n    @Id\n//    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @Column(name = &quot;level&quot;)\n    private int level;\n    @Column(name = &quot;ultimate&quot;)\n    private String ultimate;\n}\n</code></pre>\n<p>Error says that type mismatch in table definition but it looks similar, what have I done wrong?\nError text:  Provided id of the wrong type for class example4.heroesMap. Expected: class java.lang.Integer, got class java.lang.String</p>\n<p>I wanted to read record from the table but it keeps crashing</p>\n<pre><code>public class Hibernate {\n    Session session;\n    Hibernate(){\n        StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\n                                                .configure(&quot;hibernate.cfg.xml&quot;).build();\n        Metadata meta = new MetadataSources(registry).getMetadataBuilder().build();\n        SessionFactory factory = meta.getSessionFactoryBuilder().build();\n        this.session = factory.openSession();\n    }\n    public String getRecord(String id){\n        return this.session.get(heroesMap.class,id).toString();\n    }\n    public void close(){\n        this.session.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","exception","junit","junit4","assert"],"comments":[{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":27,"creation_date":1358420754,"post_id":156503,"comment_id":19995904,"body_markdown":"The problem with any other approach but this is that they invariably end the test once the exception has been thrown. I, on the other hand, often still want to call `org.mockito.Mockito.verify` with various parameters to make sure that certain things happened (such that a logger service was called with the correct parameters) before the exception was thrown.","body":"The problem with any other approach but this is that they invariably end the test once the exception has been thrown. I, on the other hand, often still want to call <code>org.mockito.Mockito.verify</code> with various parameters to make sure that certain things happened (such that a logger service was called with the correct parameters) before the exception was thrown."},{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":5,"creation_date":1392810371,"post_id":156503,"comment_id":33127980,"body_markdown":"You can see how to exceptions test in JUnit wiki page https://github.com/junit-team/junit/wiki/Exception-testing","body":"You can see how to exceptions test in JUnit wiki page <a href=\"https://github.com/junit-team/junit/wiki/Exception-testing\" rel=\"nofollow noreferrer\">github.com/junit-team/junit/wiki/Exception-testing</a>"},{"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"score":6,"creation_date":1419526915,"post_id":156503,"comment_id":43715648,"body_markdown":"@ZeroOne - For that I would have two different tests- one for the exception and one to verify interaction with your mock.","body":"@ZeroOne - For that I would have two different tests- one for the exception and one to verify interaction with your mock."},{"owner":{"account_id":346348,"reputation":2620,"user_id":679822,"accept_rate":73,"display_name":"Dilini Rajapaksha"},"score":0,"creation_date":1493694337,"post_id":156503,"comment_id":74502364,"body_markdown":"There is a way to do this with JUnit 5, I have updated my answer below.","body":"There is a way to do this with JUnit 5, I have updated my answer below."},{"owner":{"account_id":4961451,"reputation":1211,"user_id":3992420,"accept_rate":50,"display_name":"Hitesh Garg"},"score":0,"creation_date":1618251131,"post_id":156503,"comment_id":118540776,"body_markdown":"Here is a nice example on [how assert that an exception is Thrown](https://www.codingeek.com/tutorials/junit/assert-exception-thrown-junit/) it in JUnit4 and JUnit5","body":"Here is a nice example on <a href=\"https://www.codingeek.com/tutorials/junit/assert-exception-thrown-junit/\" rel=\"nofollow noreferrer\">how assert that an exception is Thrown</a> it in JUnit4 and JUnit5"}],"answers":[{"tags":[],"owner":{"account_id":6685,"reputation":1940,"user_id":11347,"display_name":"Johan"},"down_vote_count":4,"up_vote_count":50,"is_accepted":false,"score":46,"last_activity_date":1593030260,"creation_date":1222844581,"answer_id":156515,"question_id":156503,"body_markdown":"How about this: catch a very general exception, make sure it makes it out of the catch block, then assert that the class of the exception is what you expect it to be.  This assert will fail if a) the exception is of the wrong type (eg. if you got a Null Pointer instead) and b) the exception wasn&#39;t ever thrown.\r\n\r\n\r\n    public void testFooThrowsIndexOutOfBoundsException() {\r\n      Throwable e = null;\r\n    \r\n      try {\r\n        foo.doStuff();\r\n      } catch (Throwable ex) {\r\n        e = ex;\r\n      }\r\n    \r\n      assertTrue(e instanceof IndexOutOfBoundsException);\r\n    }","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>How about this: catch a very general exception, make sure it makes it out of the catch block, then assert that the class of the exception is what you expect it to be.  This assert will fail if a) the exception is of the wrong type (eg. if you got a Null Pointer instead) and b) the exception wasn't ever thrown.</p>\n<pre><code>public void testFooThrowsIndexOutOfBoundsException() {\n  Throwable e = null;\n\n  try {\n    foo.doStuff();\n  } catch (Throwable ex) {\n    e = ex;\n  }\n\n  assertTrue(e instanceof IndexOutOfBoundsException);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9606,"reputation":19644,"user_id":17826,"display_name":"Mark Bessey"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1593030467,"creation_date":1222844749,"answer_id":156518,"question_id":156503,"body_markdown":"JUnit has built-in support for this, with an [&quot;expected&quot; attribute][1].\r\n\r\n\r\n  [1]: http://junit.sourceforge.net/doc/faq/faq.htm#tests_7","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>JUnit has built-in support for this, with an <a href=\"http://junit.sourceforge.net/doc/faq/faq.htm#tests_7\" rel=\"nofollow noreferrer\">&quot;expected&quot; attribute</a>.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":27,"up_vote_count":2588,"is_accepted":true,"score":2561,"last_activity_date":1666765656,"creation_date":1222845133,"answer_id":156528,"question_id":156503,"body_markdown":"It depends on the JUnit version and what assert libraries you use.\r\n\r\n* For JUnit5 and 4.13 [see answer](https://stackoverflow.com/a/2935935/2986984)\r\n* If you use AssertJ or google-truth, [see answer](https://stackoverflow.com/a/41019785/2986984)\r\n\r\nThe original answer for `JUnit &lt;= 4.12` was:\r\n\r\n```java\r\n    @Test(expected = IndexOutOfBoundsException.class)\r\n    public void testIndexOutOfBoundsException() {\r\n\r\n        ArrayList emptyList = new ArrayList();\r\n    \tObject o = emptyList.get(0);\r\n\r\n    }\r\n```\r\n\r\nThough [answer](https://stackoverflow.com/a/31826781/2986984) has more options for JUnit &lt;= 4.12.\r\n\r\nReference: \r\n\r\n* [JUnit Test-FAQ](https://junit.org/junit4/faq.html#atests_7)\r\n","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>It depends on the JUnit version and what assert libraries you use.</p>\n<ul>\n<li>For JUnit5 and 4.13 <a href=\"https://stackoverflow.com/a/2935935/2986984\">see answer</a></li>\n<li>If you use AssertJ or google-truth, <a href=\"https://stackoverflow.com/a/41019785/2986984\">see answer</a></li>\n</ul>\n<p>The original answer for <code>JUnit &lt;= 4.12</code> was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test(expected = IndexOutOfBoundsException.class)\n    public void testIndexOutOfBoundsException() {\n\n        ArrayList emptyList = new ArrayList();\n        Object o = emptyList.get(0);\n\n    }\n</code></pre>\n<p>Though <a href=\"https://stackoverflow.com/a/31826781/2986984\">answer</a> has more options for JUnit &lt;= 4.12.</p>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://junit.org/junit4/faq.html#atests_7\" rel=\"noreferrer\">JUnit Test-FAQ</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6957,"reputation":74511,"user_id":11858,"accept_rate":93,"display_name":"daveb"},"down_vote_count":5,"up_vote_count":510,"is_accepted":false,"score":505,"last_activity_date":1222853812,"creation_date":1222853506,"answer_id":156868,"question_id":156503,"body_markdown":"Be careful using expected exception, because it only asserts that the **method** threw that exception, not a **particular line of code** in the test.\r\n\r\nI tend to use this for testing parameter validation, because such methods are usually very simple, but more complex tests might better be served with:\r\n\r\n    try {\r\n        methodThatShouldThrow();\r\n        fail( &quot;My method didn&#39;t throw when I expected it to&quot; );\r\n    } catch (MyException expectedException) {\r\n    }\r\n\r\n\r\nApply judgement.\r\n","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>Be careful using expected exception, because it only asserts that the <strong>method</strong> threw that exception, not a <strong>particular line of code</strong> in the test.</p>\n\n<p>I tend to use this for testing parameter validation, because such methods are usually very simple, but more complex tests might better be served with:</p>\n\n<pre><code>try {\n    methodThatShouldThrow();\n    fail( \"My method didn't throw when I expected it to\" );\n} catch (MyException expectedException) {\n}\n</code></pre>\n\n<p>Apply judgement.</p>\n"},{"tags":[],"owner":{"account_id":34025,"reputation":23628,"user_id":95725,"display_name":"NamshubWriter"},"down_vote_count":3,"up_vote_count":1436,"is_accepted":false,"score":1433,"last_activity_date":1605839030,"creation_date":1275153383,"answer_id":2935935,"question_id":156503,"body_markdown":"**Edit:** Now that JUnit 5 and JUnit 4.13 have been released, the best option would be to use [`Assertions.assertThrows()`][1]  (for JUnit 5) and [`Assert.assertThrows()`][2] (for JUnit 4.13+). See [my other answer][3] for details.\r\n\r\n\r\nIf you haven&#39;t migrated to JUnit 5, but can use JUnit 4.7, you can use the [`ExpectedException`][4] Rule:\r\n\r\n    public class FooTest {\r\n      @Rule\r\n      public final ExpectedException exception = ExpectedException.none();\r\n\r\n      @Test\r\n      public void doStuffThrowsIndexOutOfBoundsException() {\r\n        Foo foo = new Foo();\r\n\r\n        exception.expect(IndexOutOfBoundsException.class);\r\n        foo.doStuff();\r\n      }\r\n    }\r\n\r\nThis is much better than `@Test(expected=IndexOutOfBoundsException.class)` because the test will fail if `IndexOutOfBoundsException` is thrown before `foo.doStuff()`\r\n\r\nSee [this article][5] for details.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#extensions-exception-handling\r\n  [2]: https://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThrows(java.lang.Class,%20org.junit.function.ThrowingRunnable)\r\n  [3]: https://stackoverflow.com/a/46514550/95725\r\n  [4]: http://junit.org/javadoc/latest/org/junit/rules/ExpectedException.html\r\n  [5]: http://www.infoq.com/news/2009/07/junit-4.7-rules","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p><strong>Edit:</strong> Now that JUnit 5 and JUnit 4.13 have been released, the best option would be to use <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-exception-handling\" rel=\"noreferrer\"><code>Assertions.assertThrows()</code></a>  (for JUnit 5) and <a href=\"https://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThrows(java.lang.Class,%20org.junit.function.ThrowingRunnable)\" rel=\"noreferrer\"><code>Assert.assertThrows()</code></a> (for JUnit 4.13+). See <a href=\"https://stackoverflow.com/a/46514550/95725\">my other answer</a> for details.</p>\n<p>If you haven't migrated to JUnit 5, but can use JUnit 4.7, you can use the <a href=\"http://junit.org/javadoc/latest/org/junit/rules/ExpectedException.html\" rel=\"noreferrer\"><code>ExpectedException</code></a> Rule:</p>\n<pre><code>public class FooTest {\n  @Rule\n  public final ExpectedException exception = ExpectedException.none();\n\n  @Test\n  public void doStuffThrowsIndexOutOfBoundsException() {\n    Foo foo = new Foo();\n\n    exception.expect(IndexOutOfBoundsException.class);\n    foo.doStuff();\n  }\n}\n</code></pre>\n<p>This is much better than <code>@Test(expected=IndexOutOfBoundsException.class)</code> because the test will fail if <code>IndexOutOfBoundsException</code> is thrown before <code>foo.doStuff()</code></p>\n<p>See <a href=\"http://www.infoq.com/news/2009/07/junit-4.7-rules\" rel=\"noreferrer\">this article</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":978617,"reputation":1724,"user_id":998938,"display_name":"rwitzel"},"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1319793981,"creation_date":1319793981,"answer_id":7927418,"question_id":156503,"body_markdown":"To solve the same problem I did set up a small project: \r\nhttp://code.google.com/p/catch-exception/\r\n\r\nUsing this little helper you would write\r\n\r\n    verifyException(foo, IndexOutOfBoundsException.class).doStuff();\r\n\r\nThis is less verbose than the ExpectedException rule of JUnit 4.7.\r\nIn comparison to the solution provided by skaffman, you can specify in which line of code you expect the exception. I hope this helps.","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>To solve the same problem I did set up a small project: \n<a href=\"http://code.google.com/p/catch-exception/\">http://code.google.com/p/catch-exception/</a></p>\n\n<p>Using this little helper you would write</p>\n\n<pre><code>verifyException(foo, IndexOutOfBoundsException.class).doStuff();\n</code></pre>\n\n<p>This is less verbose than the ExpectedException rule of JUnit 4.7.\nIn comparison to the solution provided by skaffman, you can specify in which line of code you expect the exception. I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":73951,"reputation":8115,"user_id":212731,"accept_rate":73,"display_name":"Hugh Perkins"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1349881364,"creation_date":1349881364,"answer_id":12822499,"question_id":156503,"body_markdown":"I tried many of the methods here, but they were either complicated or didn&#39;t quite meet my requirements.  In fact, one can write a helper method quite simply:\r\n\r\n    public class ExceptionAssertions {\r\n\t    public static void assertException(BlastContainer blastContainer ) {\r\n\t\t    boolean caughtException = false;\r\n\t\t    try {\r\n\t\t\t    blastContainer.test();\r\n\t\t    } catch( Exception e ) {\r\n\t\t\t    caughtException = true;\r\n\t\t    }\r\n\t\t    if( !caughtException ) {\r\n\t\t\t    throw new AssertionFailedError(&quot;exception expected to be thrown, but was not&quot;);\r\n\t\t    }\r\n\t    }\r\n\t    public static interface BlastContainer {\r\n\t\t    public void test() throws Exception;\r\n\t    }\r\n    }\r\n\r\nUse it like this:\r\n\r\n    assertException(new BlastContainer() {\r\n\t    @Override\r\n\t    public void test() throws Exception {\r\n\t\t    doSomethingThatShouldExceptHere();\r\n\t    }\r\n    });\r\n\r\nZero dependencies: no need for mockito, no need powermock; and works just fine with final classes.\r\n","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>I tried many of the methods here, but they were either complicated or didn't quite meet my requirements.  In fact, one can write a helper method quite simply:</p>\n\n<pre><code>public class ExceptionAssertions {\n    public static void assertException(BlastContainer blastContainer ) {\n        boolean caughtException = false;\n        try {\n            blastContainer.test();\n        } catch( Exception e ) {\n            caughtException = true;\n        }\n        if( !caughtException ) {\n            throw new AssertionFailedError(\"exception expected to be thrown, but was not\");\n        }\n    }\n    public static interface BlastContainer {\n        public void test() throws Exception;\n    }\n}\n</code></pre>\n\n<p>Use it like this:</p>\n\n<pre><code>assertException(new BlastContainer() {\n    @Override\n    public void test() throws Exception {\n        doSomethingThatShouldExceptHere();\n    }\n});\n</code></pre>\n\n<p>Zero dependencies: no need for mockito, no need powermock; and works just fine with final classes.</p>\n"},{"tags":[],"owner":{"account_id":1796997,"reputation":640,"user_id":1636207,"display_name":"John Mikic"},"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1415838061,"creation_date":1367947038,"answer_id":16424903,"question_id":156503,"body_markdown":"You can also do this:\r\n\r\n    @Test\r\n    public void testFooThrowsIndexOutOfBoundsException() {\r\n        try {\r\n            foo.doStuff();\r\n            assert false;\r\n        } catch (IndexOutOfBoundsException e) {\r\n            assert true;\r\n        }\r\n    }","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>You can also do this:</p>\n\n<pre><code>@Test\npublic void testFooThrowsIndexOutOfBoundsException() {\n    try {\n        foo.doStuff();\n        assert false;\n    } catch (IndexOutOfBoundsException e) {\n        assert true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1259280,"reputation":1361,"user_id":1218054,"display_name":"Tor P"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1456885721,"creation_date":1370463143,"answer_id":16948961,"question_id":156503,"body_markdown":"Just make a Matcher that can be turned off and on, like this:\r\n\r\n    public class ExceptionMatcher extends BaseMatcher&lt;Throwable&gt; {\r\n        private boolean active = true;\r\n        private Class&lt;? extends Throwable&gt; throwable;\r\n\t\r\n        public ExceptionMatcher(Class&lt;? extends Throwable&gt; throwable) {\r\n            this.throwable = throwable;\r\n        }\r\n\t\r\n        public void on() {\r\n            this.active = true;\r\n        }\r\n\t\r\n        public void off() {\r\n            this.active = false;\r\n        }\r\n\t\r\n        @Override\r\n        public boolean matches(Object object) {\r\n            return active &amp;&amp; throwable.isAssignableFrom(object.getClass());\r\n        }\r\n\r\n        @Override\r\n        public void describeTo(Description description) {\r\n            description.appendText(&quot;not the covered exception type&quot;);\r\n        }\r\n    }\r\n\r\nTo use it:\r\n\r\nadd `public ExpectedException exception = ExpectedException.none();`,\r\nthen:\r\n\r\n    ExceptionMatcher exMatch = new ExceptionMatcher(MyException.class);\r\n    exception.expect(exMatch);\r\n    someObject.somethingThatThrowsMyException();\r\n    exMatch.off();","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>Just make a Matcher that can be turned off and on, like this:</p>\n\n<pre><code>public class ExceptionMatcher extends BaseMatcher&lt;Throwable&gt; {\n    private boolean active = true;\n    private Class&lt;? extends Throwable&gt; throwable;\n\n    public ExceptionMatcher(Class&lt;? extends Throwable&gt; throwable) {\n        this.throwable = throwable;\n    }\n\n    public void on() {\n        this.active = true;\n    }\n\n    public void off() {\n        this.active = false;\n    }\n\n    @Override\n    public boolean matches(Object object) {\n        return active &amp;&amp; throwable.isAssignableFrom(object.getClass());\n    }\n\n    @Override\n    public void describeTo(Description description) {\n        description.appendText(\"not the covered exception type\");\n    }\n}\n</code></pre>\n\n<p>To use it:</p>\n\n<p>add <code>public ExpectedException exception = ExpectedException.none();</code>,\nthen:</p>\n\n<pre><code>ExceptionMatcher exMatch = new ExceptionMatcher(MyException.class);\nexception.expect(exMatch);\nsomeObject.somethingThatThrowsMyException();\nexMatch.off();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1187920,"reputation":607,"user_id":1161494,"accept_rate":44,"display_name":"Macchiatow"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1372755837,"creation_date":1372755837,"answer_id":17421500,"question_id":156503,"body_markdown":"In my case I always get RuntimeException from db, but messages differ. And exception need to be handled respectively. Here is how I tested it:\r\n\r\n    @Test\r\n    public void testThrowsExceptionWhenWrongSku() {\r\n\r\n        // Given\r\n        String articleSimpleSku = &quot;999-999&quot;;\r\n        int amountOfTransactions = 1;\r\n        Exception exception = null;\r\n\r\n        // When\r\n        try {\r\n            createNInboundTransactionsForSku(amountOfTransactions, articleSimpleSku);\r\n        } catch (RuntimeException e) {\r\n            exception = e;\r\n        }\r\n\r\n        // Then\r\n        shouldValidateThrowsExceptionWithMessage(exception, MESSAGE_NON_EXISTENT_SKU);\r\n    }\r\n\r\n    private void shouldValidateThrowsExceptionWithMessage(final Exception e, final String message) {\r\n        assertNotNull(e);\r\n        assertTrue(e.getMessage().contains(message));\r\n    }","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>In my case I always get RuntimeException from db, but messages differ. And exception need to be handled respectively. Here is how I tested it:</p>\n\n<pre><code>@Test\npublic void testThrowsExceptionWhenWrongSku() {\n\n    // Given\n    String articleSimpleSku = \"999-999\";\n    int amountOfTransactions = 1;\n    Exception exception = null;\n\n    // When\n    try {\n        createNInboundTransactionsForSku(amountOfTransactions, articleSimpleSku);\n    } catch (RuntimeException e) {\n        exception = e;\n    }\n\n    // Then\n    shouldValidateThrowsExceptionWithMessage(exception, MESSAGE_NON_EXISTENT_SKU);\n}\n\nprivate void shouldValidateThrowsExceptionWithMessage(final Exception e, final String message) {\n    assertNotNull(e);\n    assertTrue(e.getMessage().contains(message));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1569406200,"creation_date":1384543035,"answer_id":20008854,"question_id":156503,"body_markdown":"[BDD](http://guide.agilealliance.org/guide/gwt.html) Style Solution: [JUnit 4](http://junit.org/) + [Catch Exception][c] + [AssertJ](http://joel-costigliola.github.io/assertj/)\r\n--\r\n\r\n    import static com.googlecode.catchexception.apis.BDDCatchException.*;\r\n\r\n    @Test\r\n    public void testFooThrowsIndexOutOfBoundsException() {\r\n\r\n        when(() -&gt; foo.doStuff());\r\n\r\n        then(caughtException()).isInstanceOf(IndexOutOfBoundsException.class);\r\n\r\n    }\r\n\r\n\r\nDependencies\r\n--\r\n\r\n    eu.codearte.catch-exception:catch-exception:2.0\r\n\r\n[c]: https://github.com/Codearte/catch-exception\r\n","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<h2><a href=\"http://guide.agilealliance.org/guide/gwt.html\" rel=\"nofollow noreferrer\">BDD</a> Style Solution: <a href=\"http://junit.org/\" rel=\"nofollow noreferrer\">JUnit 4</a> + <a href=\"https://github.com/Codearte/catch-exception\" rel=\"nofollow noreferrer\">Catch Exception</a> + <a href=\"http://joel-costigliola.github.io/assertj/\" rel=\"nofollow noreferrer\">AssertJ</a></h2>\n\n<pre><code>import static com.googlecode.catchexception.apis.BDDCatchException.*;\n\n@Test\npublic void testFooThrowsIndexOutOfBoundsException() {\n\n    when(() -&gt; foo.doStuff());\n\n    then(caughtException()).isInstanceOf(IndexOutOfBoundsException.class);\n\n}\n</code></pre>\n\n<h2>Dependencies</h2>\n\n<pre><code>eu.codearte.catch-exception:catch-exception:2.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":740853,"reputation":5144,"user_id":718515,"display_name":"Rafal Borowiec"},"down_vote_count":1,"up_vote_count":224,"is_accepted":false,"score":223,"last_activity_date":1480259220,"creation_date":1404772519,"answer_id":24621006,"question_id":156503,"body_markdown":"As answered before, there are many ways of dealing with exceptions in JUnit. But with Java 8 there is another one: using Lambda Expressions. With Lambda Expressions we can achieve a syntax like this:\r\n\r\n    @Test\r\n    public void verifiesTypeAndMessage() {\r\n        assertThrown(new DummyService()::someMethod)\r\n                .isInstanceOf(RuntimeException.class)\r\n                .hasMessage(&quot;Runtime exception occurred&quot;)\r\n                .hasMessageStartingWith(&quot;Runtime&quot;)\r\n                .hasMessageEndingWith(&quot;occurred&quot;)\r\n                .hasMessageContaining(&quot;exception&quot;)\r\n                .hasNoCause();\r\n    }\r\n\r\nassertThrown accepts a functional interface, whose instances can be created with lambda expressions, method references, or constructor references. assertThrown accepting that interface will expect and be ready to handle an exception.\r\n\r\nThis is relatively simple yet powerful technique.\r\n\r\nHave a look at this blog post describing this technique: http://blog.codeleak.pl/2014/07/junit-testing-exception-with-java-8-and-lambda-expressions.html\r\n\r\nThe source code can be found here: https://github.com/kolorobot/unit-testing-demo/tree/master/src/test/java/com/github/kolorobot/exceptions/java8\r\n\r\n*Disclosure: I am the author of the blog and the project.*","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>As answered before, there are many ways of dealing with exceptions in JUnit. But with Java 8 there is another one: using Lambda Expressions. With Lambda Expressions we can achieve a syntax like this:</p>\n\n<pre><code>@Test\npublic void verifiesTypeAndMessage() {\n    assertThrown(new DummyService()::someMethod)\n            .isInstanceOf(RuntimeException.class)\n            .hasMessage(\"Runtime exception occurred\")\n            .hasMessageStartingWith(\"Runtime\")\n            .hasMessageEndingWith(\"occurred\")\n            .hasMessageContaining(\"exception\")\n            .hasNoCause();\n}\n</code></pre>\n\n<p>assertThrown accepts a functional interface, whose instances can be created with lambda expressions, method references, or constructor references. assertThrown accepting that interface will expect and be ready to handle an exception.</p>\n\n<p>This is relatively simple yet powerful technique.</p>\n\n<p>Have a look at this blog post describing this technique: <a href=\"http://blog.codeleak.pl/2014/07/junit-testing-exception-with-java-8-and-lambda-expressions.html\" rel=\"noreferrer\">http://blog.codeleak.pl/2014/07/junit-testing-exception-with-java-8-and-lambda-expressions.html</a></p>\n\n<p>The source code can be found here: <a href=\"https://github.com/kolorobot/unit-testing-demo/tree/master/src/test/java/com/github/kolorobot/exceptions/java8\" rel=\"noreferrer\">https://github.com/kolorobot/unit-testing-demo/tree/master/src/test/java/com/github/kolorobot/exceptions/java8</a></p>\n\n<p><em>Disclosure: I am the author of the blog and the project.</em></p>\n"},{"tags":[],"owner":{"account_id":1477140,"reputation":1906,"user_id":1387275,"accept_rate":100,"display_name":"Shessuky"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1513766045,"creation_date":1425900097,"answer_id":28940773,"question_id":156503,"body_markdown":"We can use an assertion fail after the method that must return an exception:\r\n  \r\n    try{\r\n       methodThatThrowMyException();\r\n       Assert.fail(&quot;MyException is not thrown !&quot;);\r\n    } catch (final Exception exception) {\r\n       // Verify if the thrown exception is instance of MyException, otherwise throws an assert failure\r\n       assertTrue(exception instanceof MyException, &quot;An exception other than MyException is thrown !&quot;);\r\n       // In case of verifying the error message\r\n       MyException myException = (MyException) exception;\r\n       assertEquals(&quot;EXPECTED ERROR MESSAGE&quot;, myException.getMessage());\r\n    }","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>We can use an assertion fail after the method that must return an exception:</p>\n\n<pre><code>try{\n   methodThatThrowMyException();\n   Assert.fail(\"MyException is not thrown !\");\n} catch (final Exception exception) {\n   // Verify if the thrown exception is instance of MyException, otherwise throws an assert failure\n   assertTrue(exception instanceof MyException, \"An exception other than MyException is thrown !\");\n   // In case of verifying the error message\n   MyException myException = (MyException) exception;\n   assertEquals(\"EXPECTED ERROR MESSAGE\", myException.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1051364,"reputation":988,"user_id":1055223,"accept_rate":92,"display_name":"Alex Collins"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1489514841,"creation_date":1426024187,"answer_id":28974751,"question_id":156503,"body_markdown":"IMHO, the best way to check for exceptions in JUnit is the try/catch/fail/assert pattern:\r\n\r\n    // this try block should be as small as possible,\r\n    // as you want to make sure you only catch exceptions from your code\r\n    try {\r\n        sut.doThing();\r\n        fail(); // fail if this does not throw any exception\r\n    } catch(MyException e) { // only catch the exception you expect,\r\n                             // otherwise you may catch an exception for a dependency unexpectedly\r\n        // a strong assertion on the message, \r\n        // in case the exception comes from anywhere an unexpected line of code,\r\n        // especially important if your checking IllegalArgumentExceptions\r\n        assertEquals(&quot;the message I get&quot;, e.getMessage()); \r\n    }\r\n\r\nThe `assertTrue` might be a bit strong for some people, so `assertThat(e.getMessage(), containsString(&quot;the message&quot;);` might be preferable.","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>IMHO, the best way to check for exceptions in JUnit is the try/catch/fail/assert pattern:</p>\n\n<pre><code>// this try block should be as small as possible,\n// as you want to make sure you only catch exceptions from your code\ntry {\n    sut.doThing();\n    fail(); // fail if this does not throw any exception\n} catch(MyException e) { // only catch the exception you expect,\n                         // otherwise you may catch an exception for a dependency unexpectedly\n    // a strong assertion on the message, \n    // in case the exception comes from anywhere an unexpected line of code,\n    // especially important if your checking IllegalArgumentExceptions\n    assertEquals(\"the message I get\", e.getMessage()); \n}\n</code></pre>\n\n<p>The <code>assertTrue</code> might be a bit strong for some people, so <code>assertThat(e.getMessage(), containsString(\"the message\");</code> might be preferable.</p>\n"},{"tags":[],"owner":{"account_id":3979051,"reputation":1626,"user_id":3281476,"accept_rate":60,"display_name":"Srini"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1432321764,"creation_date":1432321764,"answer_id":30404203,"question_id":156503,"body_markdown":"Additionally to what [NamShubWriter](https://stackoverflow.com/users/95725/namshubwriter) has said, make sure that: \r\n\r\n - The ExpectedException instance is **public** ([Related Question](https://stackoverflow.com/questions/14335558/why-rule-annotated-fields-in-junit-has-to-be-public))\r\n - The ExpectedException **isn&#39;t** instantiated in say, the @Before method. This [post](https://garygregory.wordpress.com/2011/09/25/understaning-junit-method-order-execution/) clearly explains all the intricacies of JUnit&#39;s order of execution.\r\n\r\nDo **not** do this:    \r\n  \r\n    @Rule    \r\n    public ExpectedException expectedException;\r\n    \r\n    @Before\r\n    public void setup()\r\n    {\r\n        expectedException = ExpectedException.none();\r\n    }\r\n\r\n\r\nFinally, [this](http://jakegoulding.com/blog/2012/09/26/be-careful-when-using-junit-expected-exceptions/) blog post clearly illustrates how to assert that a certain exception is thrown.","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>Additionally to what <a href=\"https://stackoverflow.com/users/95725/namshubwriter\">NamShubWriter</a> has said, make sure that: </p>\n\n<ul>\n<li>The ExpectedException instance is <strong>public</strong> (<a href=\"https://stackoverflow.com/questions/14335558/why-rule-annotated-fields-in-junit-has-to-be-public\">Related Question</a>)</li>\n<li>The ExpectedException <strong>isn't</strong> instantiated in say, the @Before method. This <a href=\"https://garygregory.wordpress.com/2011/09/25/understaning-junit-method-order-execution/\" rel=\"nofollow noreferrer\">post</a> clearly explains all the intricacies of JUnit's order of execution.</li>\n</ul>\n\n<p>Do <strong>not</strong> do this:    </p>\n\n<pre><code>@Rule    \npublic ExpectedException expectedException;\n\n@Before\npublic void setup()\n{\n    expectedException = ExpectedException.none();\n}\n</code></pre>\n\n<p>Finally, <a href=\"http://jakegoulding.com/blog/2012/09/26/be-careful-when-using-junit-expected-exceptions/\" rel=\"nofollow noreferrer\">this</a> blog post clearly illustrates how to assert that a certain exception is thrown.</p>\n"},{"tags":[],"owner":{"account_id":5116480,"reputation":3101,"user_id":4101415,"accept_rate":64,"display_name":"walsh"},"down_vote_count":0,"up_vote_count":241,"is_accepted":false,"score":241,"last_activity_date":1562252281,"creation_date":1438761950,"answer_id":31826781,"question_id":156503,"body_markdown":"in junit, there are four ways to test exception. \r\n\r\njunit5.x\r\n-\r\n\r\n* for junit5.x, you can use `assertThrows` as following\r\n\r\n        @Test\r\n        public void testFooThrowsIndexOutOfBoundsException() {\r\n            Throwable exception = assertThrows(IndexOutOfBoundsException.class, () -&gt; foo.doStuff());\r\n            assertEquals(&quot;expected messages&quot;, exception.getMessage());\r\n        }\r\n\r\njunit4.x\r\n-\r\n\r\n* for junit4.x, use the optional &#39;expected&#39; attribute of Test annonation\r\n\r\n        @Test(expected = IndexOutOfBoundsException.class)\r\n        public void testFooThrowsIndexOutOfBoundsException() {\r\n            foo.doStuff();\r\n        }\r\n\r\n* for junit4.x, use the ExpectedException rule\r\n\r\n        public class XxxTest {\r\n            @Rule\r\n            public ExpectedException thrown = ExpectedException.none();\r\n            \r\n            @Test\r\n            public void testFooThrowsIndexOutOfBoundsException() {\r\n                thrown.expect(IndexOutOfBoundsException.class)\r\n                //you can test the exception message like\r\n                thrown.expectMessage(&quot;expected messages&quot;);\r\n                foo.doStuff();\r\n            }\r\n        }\r\n\r\n* you also can use the classic try/catch way widely used under junit 3 framework\r\n\r\n        @Test\r\n        public void testFooThrowsIndexOutOfBoundsException() {\r\n            try {\r\n                foo.doStuff();\r\n                fail(&quot;expected exception was not occured.&quot;);\r\n            } catch(IndexOutOfBoundsException e) {\r\n                //if execution reaches here, \r\n                //it indicates this exception was occured.\r\n                //so we need not handle it.\r\n            }\r\n        }\r\n\r\n* so\r\n    * if you like junit 5, then you should like the 1st one\r\n    * the 2nd way is used when you only want test the type of exception\r\n    * the first and last two are used when you want test exception message further\r\n    * if you use junit 3, then the 4th one is preferred\r\n\r\n* for more info, you can read [this document](https://github.com/junit-team/junit/wiki/Exception-testing) and [junit5 user guide](https://junit.org/junit5/docs/current/user-guide/) for details.\r\n\r\n","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>in junit, there are four ways to test exception. </p>\n\n<h2>junit5.x</h2>\n\n<ul>\n<li><p>for junit5.x, you can use <code>assertThrows</code> as following</p>\n\n<pre><code>@Test\npublic void testFooThrowsIndexOutOfBoundsException() {\n    Throwable exception = assertThrows(IndexOutOfBoundsException.class, () -&gt; foo.doStuff());\n    assertEquals(\"expected messages\", exception.getMessage());\n}\n</code></pre></li>\n</ul>\n\n<h2>junit4.x</h2>\n\n<ul>\n<li><p>for junit4.x, use the optional 'expected' attribute of Test annonation</p>\n\n<pre><code>@Test(expected = IndexOutOfBoundsException.class)\npublic void testFooThrowsIndexOutOfBoundsException() {\n    foo.doStuff();\n}\n</code></pre></li>\n<li><p>for junit4.x, use the ExpectedException rule</p>\n\n<pre><code>public class XxxTest {\n    @Rule\n    public ExpectedException thrown = ExpectedException.none();\n\n    @Test\n    public void testFooThrowsIndexOutOfBoundsException() {\n        thrown.expect(IndexOutOfBoundsException.class)\n        //you can test the exception message like\n        thrown.expectMessage(\"expected messages\");\n        foo.doStuff();\n    }\n}\n</code></pre></li>\n<li><p>you also can use the classic try/catch way widely used under junit 3 framework</p>\n\n<pre><code>@Test\npublic void testFooThrowsIndexOutOfBoundsException() {\n    try {\n        foo.doStuff();\n        fail(\"expected exception was not occured.\");\n    } catch(IndexOutOfBoundsException e) {\n        //if execution reaches here, \n        //it indicates this exception was occured.\n        //so we need not handle it.\n    }\n}\n</code></pre></li>\n<li><p>so</p>\n\n<ul>\n<li>if you like junit 5, then you should like the 1st one</li>\n<li>the 2nd way is used when you only want test the type of exception</li>\n<li>the first and last two are used when you want test exception message further</li>\n<li>if you use junit 3, then the 4th one is preferred</li>\n</ul></li>\n<li><p>for more info, you can read <a href=\"https://github.com/junit-team/junit/wiki/Exception-testing\" rel=\"noreferrer\">this document</a> and <a href=\"https://junit.org/junit5/docs/current/user-guide/\" rel=\"noreferrer\">junit5 user guide</a> for details.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1619255580,"creation_date":1450464741,"answer_id":34362168,"question_id":156503,"body_markdown":"# Java 8 solution\r\n\r\nIf you would like a solution which:\r\n\r\n* Utilizes Java 8 lambdas\r\n* Does *not* depend on any JUnit magic\r\n* Allows you to check for multiple exceptions within a single test method\r\n* Checks for an exception being thrown by a specific set of lines within your test method instead of any unknown line in the entire test method\r\n* Yields the actual exception object that was thrown so that you can further examine it\r\n\r\nHere is a utility function that I wrote:\r\n\r\n    public final &lt;T extends Throwable&gt; T expectException( Class&lt;T&gt; exceptionClass, Runnable runnable )\r\n    {\r\n        try\r\n        {\r\n            runnable.run();\r\n        }\r\n        catch( Throwable throwable )\r\n        {\r\n            if( throwable instanceof AssertionError &amp;&amp; throwable.getCause() != null )\r\n                throwable = throwable.getCause(); //allows testing for &quot;assert x != null : new IllegalArgumentException();&quot;\r\n            assert exceptionClass.isInstance( throwable ) : throwable; //exception of the wrong kind was thrown.\r\n            assert throwable.getClass() == exceptionClass : throwable; //exception thrown was a subclass, but not the exact class, expected.\r\n            @SuppressWarnings( &quot;unchecked&quot; )\r\n            T result = (T)throwable;\r\n            return result;\r\n        }\r\n        assert false; //expected exception was not thrown.\r\n        return null; //to keep the compiler happy.\r\n    }\r\n\r\n([taken from my blog](http://blog.michael.gr/2014/09/assertions-and-testing.html))\r\n\r\nUse it as follows:\r\n\r\n    @Test\r\n    public void testMyFunction()\r\n    {\r\n        RuntimeException e = expectException( RuntimeException.class, () -&gt; \r\n            {\r\n                myFunction();\r\n            } );\r\n        assert e.getMessage().equals( &quot;I haz fail!&quot; );\r\n    }\r\n\r\n    public void myFunction()\r\n    {\r\n        throw new RuntimeException( &quot;I haz fail!&quot; );\r\n    }\r\n","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<h1>Java 8 solution</h1>\n<p>If you would like a solution which:</p>\n<ul>\n<li>Utilizes Java 8 lambdas</li>\n<li>Does <em>not</em> depend on any JUnit magic</li>\n<li>Allows you to check for multiple exceptions within a single test method</li>\n<li>Checks for an exception being thrown by a specific set of lines within your test method instead of any unknown line in the entire test method</li>\n<li>Yields the actual exception object that was thrown so that you can further examine it</li>\n</ul>\n<p>Here is a utility function that I wrote:</p>\n<pre><code>public final &lt;T extends Throwable&gt; T expectException( Class&lt;T&gt; exceptionClass, Runnable runnable )\n{\n    try\n    {\n        runnable.run();\n    }\n    catch( Throwable throwable )\n    {\n        if( throwable instanceof AssertionError &amp;&amp; throwable.getCause() != null )\n            throwable = throwable.getCause(); //allows testing for &quot;assert x != null : new IllegalArgumentException();&quot;\n        assert exceptionClass.isInstance( throwable ) : throwable; //exception of the wrong kind was thrown.\n        assert throwable.getClass() == exceptionClass : throwable; //exception thrown was a subclass, but not the exact class, expected.\n        @SuppressWarnings( &quot;unchecked&quot; )\n        T result = (T)throwable;\n        return result;\n    }\n    assert false; //expected exception was not thrown.\n    return null; //to keep the compiler happy.\n}\n</code></pre>\n<p>(<a href=\"http://blog.michael.gr/2014/09/assertions-and-testing.html\" rel=\"nofollow noreferrer\">taken from my blog</a>)</p>\n<p>Use it as follows:</p>\n<pre><code>@Test\npublic void testMyFunction()\n{\n    RuntimeException e = expectException( RuntimeException.class, () -&gt; \n        {\n            myFunction();\n        } );\n    assert e.getMessage().equals( &quot;I haz fail!&quot; );\n}\n\npublic void myFunction()\n{\n    throw new RuntimeException( &quot;I haz fail!&quot; );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1476210283,"creation_date":1457176044,"answer_id":35813323,"question_id":156503,"body_markdown":"Using an [AssertJ](http://joel-costigliola.github.io/assertj/) assertion, which can be used alongside JUnit:\r\n\r\n    import static org.assertj.core.api.Assertions.*;\r\n\r\n    @Test\r\n    public void testFooThrowsIndexOutOfBoundsException() {\r\n      Foo foo = new Foo();\r\n\r\n      assertThatThrownBy(() -&gt; foo.doStuff())\r\n            .isInstanceOf(IndexOutOfBoundsException.class);\r\n    }\r\n\r\nIt&#39;s better than `@Test(expected=IndexOutOfBoundsException.class)` because it guarantees the expected line in the test threw the exception and lets you check more details about the exception, such as message, easier:\r\n\r\n    assertThatThrownBy(() -&gt;\r\n           {\r\n             throw new Exception(&quot;boom!&quot;);\r\n           })\r\n        .isInstanceOf(Exception.class)\r\n        .hasMessageContaining(&quot;boom&quot;);\r\n\r\n[Maven/Gradle instructions here.](http://joel-costigliola.github.io/assertj/assertj-core-quick-start.html)","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>Using an <a href=\"http://joel-costigliola.github.io/assertj/\" rel=\"noreferrer\">AssertJ</a> assertion, which can be used alongside JUnit:</p>\n\n<pre><code>import static org.assertj.core.api.Assertions.*;\n\n@Test\npublic void testFooThrowsIndexOutOfBoundsException() {\n  Foo foo = new Foo();\n\n  assertThatThrownBy(() -&gt; foo.doStuff())\n        .isInstanceOf(IndexOutOfBoundsException.class);\n}\n</code></pre>\n\n<p>It's better than <code>@Test(expected=IndexOutOfBoundsException.class)</code> because it guarantees the expected line in the test threw the exception and lets you check more details about the exception, such as message, easier:</p>\n\n<pre><code>assertThatThrownBy(() -&gt;\n       {\n         throw new Exception(\"boom!\");\n       })\n    .isInstanceOf(Exception.class)\n    .hasMessageContaining(\"boom\");\n</code></pre>\n\n<p><a href=\"http://joel-costigliola.github.io/assertj/assertj-core-quick-start.html\" rel=\"noreferrer\">Maven/Gradle instructions here.</a></p>\n"},{"tags":[],"owner":{"account_id":6529610,"reputation":1563,"user_id":5051165,"accept_rate":67,"display_name":"Matt Welke"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1457586605,"creation_date":1457586605,"answer_id":35908056,"question_id":156503,"body_markdown":"I wanted to comment with my solution to this problem, which avoided needing any of the exception related JUnit code.\r\n\r\nI used assertTrue(boolean) combined with try/catch to look for my expected exception to be thrown. Here&#39;s an example:\r\n\r\n    public void testConstructor() {\r\n        boolean expectedExceptionThrown;\r\n        try {\r\n            // Call constructor with bad arguments\r\n            double a = 1;\r\n            double b = 2;\r\n            double c = a + b; // In my example, this is an invalid option for c\r\n            new Triangle(a, b, c);\r\n            expectedExceptionThrown = false; // because it successfully constructed the object\r\n        }\r\n        catch(IllegalArgumentException e) {\r\n            expectedExceptionThrown = true; // because I&#39;m in this catch block\r\n        }\r\n        catch(Exception e) {\r\n            expectedExceptionThrown = false; // because it threw an exception but not the one expected\r\n        }\r\n        assertTrue(expectedExceptionThrown);\r\n    }\r\n     ","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>I wanted to comment with my solution to this problem, which avoided needing any of the exception related JUnit code.</p>\n\n<p>I used assertTrue(boolean) combined with try/catch to look for my expected exception to be thrown. Here's an example:</p>\n\n<pre><code>public void testConstructor() {\n    boolean expectedExceptionThrown;\n    try {\n        // Call constructor with bad arguments\n        double a = 1;\n        double b = 2;\n        double c = a + b; // In my example, this is an invalid option for c\n        new Triangle(a, b, c);\n        expectedExceptionThrown = false; // because it successfully constructed the object\n    }\n    catch(IllegalArgumentException e) {\n        expectedExceptionThrown = true; // because I'm in this catch block\n    }\n    catch(Exception e) {\n        expectedExceptionThrown = false; // because it threw an exception but not the one expected\n    }\n    assertTrue(expectedExceptionThrown);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082613,"reputation":4508,"user_id":1079174,"display_name":"Daniel K&#228;fer"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1660950355,"creation_date":1469372431,"answer_id":38553412,"question_id":156503,"body_markdown":"## JUnit 5 Solution ##\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\n    @Test\r\n    void testFooThrowsIndexOutOfBoundsException() {    \r\n      IndexOutOfBoundsException exception = expectThrows(IndexOutOfBoundsException.class, foo::doStuff);\r\n         \r\n      assertEquals(&quot;some message&quot;, exception.getMessage());\r\n    }\r\n\r\nMore Infos about JUnit 5 on http://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<h2>JUnit 5 Solution</h2>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertThrows;\n\n@Test\nvoid testFooThrowsIndexOutOfBoundsException() {    \n  IndexOutOfBoundsException exception = expectThrows(IndexOutOfBoundsException.class, foo::doStuff);\n     \n  assertEquals(&quot;some message&quot;, exception.getMessage());\n}\n</code></pre>\n<p>More Infos about JUnit 5 on <a href=\"http://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions\" rel=\"nofollow noreferrer\">http://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions</a></p>\n"},{"tags":[],"owner":{"account_id":6220832,"reputation":165,"user_id":4840515,"display_name":"Shirsh Sinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477726458,"creation_date":1477726458,"answer_id":40317041,"question_id":156503,"body_markdown":"Take for example, you want to write Junit for below mentioned code fragment\r\n\r\n    public int divideByZeroDemo(int a,int b){\r\n\t\t\r\n\t\treturn a/b;\r\n\t}\r\n\t\r\n\tpublic void exceptionWithMessage(String [] arr){\r\n\t\t\r\n\t\tthrow new ArrayIndexOutOfBoundsException(&quot;Array is out of bound&quot;);\r\n\t}\r\n\r\nThe above code is to test for some unknown exception that may occur and the below one is to assert some exception with custom message.\r\n\r\n\r\n     @Rule\r\n\tpublic ExpectedException exception=ExpectedException.none();\r\n\t\r\n\tprivate Demo demo;\r\n\t@Before\r\n\tpublic void setup(){\r\n\t\t\r\n\t\tdemo=new Demo();\r\n\t}\r\n\t@Test(expected=ArithmeticException.class)\r\n\tpublic void testIfItThrowsAnyException() {\r\n\t\r\n\t\tdemo.divideByZeroDemo(5, 0);\r\n\t\t\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testExceptionWithMessage(){\r\n\t\t\r\n\t\t\r\n\t\texception.expectMessage(&quot;Array is out of bound&quot;);\r\n\t\texception.expect(ArrayIndexOutOfBoundsException.class);\r\n\t\tdemo.exceptionWithMessage(new String[]{&quot;This&quot;,&quot;is&quot;,&quot;a&quot;,&quot;demo&quot;});\r\n\t}","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>Take for example, you want to write Junit for below mentioned code fragment</p>\n\n<pre><code>public int divideByZeroDemo(int a,int b){\n\n    return a/b;\n}\n\npublic void exceptionWithMessage(String [] arr){\n\n    throw new ArrayIndexOutOfBoundsException(\"Array is out of bound\");\n}\n</code></pre>\n\n<p>The above code is to test for some unknown exception that may occur and the below one is to assert some exception with custom message.</p>\n\n<pre><code> @Rule\npublic ExpectedException exception=ExpectedException.none();\n\nprivate Demo demo;\n@Before\npublic void setup(){\n\n    demo=new Demo();\n}\n@Test(expected=ArithmeticException.class)\npublic void testIfItThrowsAnyException() {\n\n    demo.divideByZeroDemo(5, 0);\n\n}\n\n@Test\npublic void testExceptionWithMessage(){\n\n\n    exception.expectMessage(\"Array is out of bound\");\n    exception.expect(ArrayIndexOutOfBoundsException.class);\n    demo.exceptionWithMessage(new String[]{\"This\",\"is\",\"a\",\"demo\"});\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"down_vote_count":0,"up_vote_count":138,"is_accepted":false,"score":138,"last_activity_date":1585078021,"creation_date":1481120364,"answer_id":41019785,"question_id":156503,"body_markdown":"**tl;dr**\r\n\r\n* post-JDK8 : Use **AssertJ** or custom lambdas to assert _exceptional_ behaviour.\r\n\r\n* pre-JDK8 : I will recommend the old good `try`-`catch` block. (_Don&#39;t forget to add a `fail()` assertion before the `catch` block_)\r\n\r\n_Regardless of Junit 4 or JUnit 5._\r\n\r\n**the long story**\r\n\r\nIt is possible to write yourself a _do it yourself_ `try`-`catch` block or use the JUnit tools (`@Test(expected = ...)` or the `@Rule ExpectedException` JUnit rule feature).\r\n\r\nBut these ways are not so elegant and don&#39;t mix well _readability wise_ with other tools. Moreover, JUnit tooling does have some pitfalls.\r\n\r\n1. The `try`-`catch` block you have to write the block around the tested behavior and write the assertion in the catch block, that may be fine but many find that this style interrupts the reading flow of a test. Also, you need to write an `Assert.fail` at the end of the `try` block. Otherwise, the test may miss one side of the assertions; _PMD_, _findbugs_ or _Sonar_ will spot such issues.\r\n\r\n2. The `@Test(expected = ...)` feature is interesting as you can write less code and then writing this test is supposedly less prone to coding errors. **But** this approach is lacking in some areas.\r\n    * If the test needs to check additional things on the exception like the cause or the message (good exception messages are really important, having a precise exception type may not be enough). \r\n    * Also as the expectation is placed around in the method, depending on how the tested code is written then the wrong part of the test code can throw the exception, leading to false-positive test and I&#39;m not sure that _PMD_, _findbugs_ or _Sonar_ will give hints on such code.\r\n\r\n            @Test(expected = WantedException.class)\r\n            public void call2_should_throw_a_WantedException__not_call1() {\r\n                // init tested\r\n                tested.call1(); // may throw a WantedException\r\n    \r\n                // call to be actually tested\r\n                tested.call2(); // the call that is supposed to raise an exception\r\n            }\r\n\r\n3. The `ExpectedException` rule is also an attempt to fix the previous caveats, but it feels a bit awkward to use as it uses an expectation style, _EasyMock_ users know very well this style. It might be convenient for some, but if you follow _Behaviour Driven Development_ (BDD) or _Arrange Act Assert_ (AAA) principles the `ExpectedException` rule won&#39;t fit in those writing style. Aside from that it may suffer from the same issue as the `@Test` way, depending on where you place the expectation.\r\n\r\n\r\n        @Rule ExpectedException thrown = ExpectedException.none()\r\n\r\n        @Test\r\n        public void call2_should_throw_a_WantedException__not_call1() {\r\n            // expectations\r\n            thrown.expect(WantedException.class);\r\n            thrown.expectMessage(&quot;boom&quot;);\r\n\r\n            // init tested\r\n            tested.call1(); // may throw a WantedException\r\n    \r\n            // call to be actually tested\r\n            tested.call2(); // the call that is supposed to raise an exception\r\n        }\r\n\r\n    Even the expected exception is placed before the test statement, it breaks your reading flow if the tests follow BDD or AAA.\r\n\r\n    Also, see this [comment][1] issue on JUnit of the author of `ExpectedException`. [JUnit 4.13-beta-2][2] even deprecates this mechanism:\r\n\r\n    &gt; [Pull request #1519][3]: Deprecate ExpectedException\r\n    &gt; \r\n    &gt; The method Assert.assertThrows provides a nicer way for verifying exceptions. In addition, the use of ExpectedException is error-prone when used with other rules like TestWatcher because the order of rules is important in that case.\r\n\r\n\r\nSo these above options have all their load of caveats, and clearly not immune to coder errors.\r\n\r\n4. There&#39;s a project I became aware of after creating this answer that looks promising, it&#39;s [**catch-exception**][4].\r\n\r\n    As the description of the project says, it let a coder write in a fluent line of code catching the exception and offer this exception for the latter assertion. And you can use any assertion library like [Hamcrest][5] or [AssertJ][6].\r\n    \r\n    A rapid example taken from the home page : \r\n    \r\n        // given: an empty list\r\n        List myList = new ArrayList();\r\n        \r\n        // when: we try to get the first element of the list\r\n        when(myList).get(1);\r\n        \r\n        // then: we expect an IndexOutOfBoundsException\r\n        then(caughtException())\r\n                .isInstanceOf(IndexOutOfBoundsException.class)\r\n                .hasMessage(&quot;Index: 1, Size: 0&quot;) \r\n                .hasNoCause();\r\n    \r\n    As you can see the code is really straightforward, you catch the exception on a specific line, the `then` API is an alias that will use AssertJ APIs (similar to using `assertThat(ex).hasNoCause()...`). _At some point the project relied on FEST-Assert the ancestor of AssertJ_. **EDIT:** It seems the project is brewing a Java 8 Lambdas support.\r\n    \r\n    Currently, this library has two shortcomings : \r\n      * At the time of this writing, it is noteworthy to say this library is based on Mockito 1.x as it creates a mock of the tested object behind the scene. As Mockito is still not updated **this library cannot work with final classes or final methods**. And even if it was based on Mockito 2 in the current version, this would require to declare a global mock maker (`inline-mock-maker`), something that may not what you want, as this mock maker has different drawbacks that the regular mock maker.\r\n\r\n      * It requires yet another test dependency.\r\n    \r\n    These issues won&#39;t apply once the library supports lambdas. However, the functionality will be duplicated by the AssertJ toolset.\r\n\r\n    **Taking all into account if you don&#39;t want to use the catch-exception tool, I will recommend the old good way of the `try`-`catch` block, at least up to the JDK7. And for JDK 8 users you might prefer to use AssertJ as it offers may more than just asserting exceptions.**\r\n\r\n5. With the JDK8, lambdas enter the test scene, and they have proved to be an interesting way to assert exceptional behaviour. AssertJ has been updated to provide a nice fluent API to assert exceptional behaviour.\r\n\r\n    And a sample test with [AssertJ][7] :\r\n    \r\n        @Test\r\n        public void test_exception_approach_1() {\r\n            ...\r\n            assertThatExceptionOfType(IOException.class)\r\n                    .isThrownBy(() -&gt; someBadIOOperation())\r\n                    .withMessage(&quot;boom!&quot;); \r\n        }\r\n    \r\n        @Test\r\n        public void test_exception_approach_2() {\r\n            ...\r\n            assertThatThrownBy(() -&gt; someBadIOOperation())\r\n                    .isInstanceOf(Exception.class)\r\n                    .hasMessageContaining(&quot;boom&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test_exception_approach_3() {\r\n            ...\r\n            // when\r\n            Throwable thrown = catchThrowable(() -&gt; someBadIOOperation());\r\n    \r\n            // then\r\n            assertThat(thrown).isInstanceOf(Exception.class)\r\n                              .hasMessageContaining(&quot;boom&quot;);\r\n        }\r\n\r\n6. With a near-complete rewrite of JUnit 5, assertions have been [improved][8] a bit, they may prove interesting as an out of the box way to assert properly exception. But really the assertion API is still a bit poor, there&#39;s nothing outside [`assertThrows`][9]. \r\n\r\n        @Test\r\n        @DisplayName(&quot;throws EmptyStackException when peeked&quot;)\r\n        void throwsExceptionWhenPeeked() {\r\n            Throwable t = assertThrows(EmptyStackException.class, () -&gt; stack.peek());\r\n\r\n            Assertions.assertEquals(&quot;...&quot;, t.getMessage());\r\n        }\r\n\r\n    As you noticed `assertEquals` is still returning `void`, and as such doesn&#39;t allow chaining assertions like AssertJ.\r\n\r\n    Also if you remember name clash with `Matcher` or `Assert`, be prepared to meet the same clash with `Assertions`.\r\n\r\nI&#39;d like to conclude that today (2017-03-03) **AssertJ**&#39;s ease of use, discoverable API, the rapid pace of development and as a _de facto_ test dependency is the best solution with JDK8 regardless of the test framework (JUnit or not), prior JDKs should instead rely on **`try`-`catch`** blocks even if they feel clunky.\r\n\r\n\r\n_This answer has been copied from [another question](https://stackoverflow.com/a/17428439/48136) that don&#39;t have the same visibility, I am the same author._\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit4/issues/706#issuecomment-21385116\r\n  [2]: https://github.com/junit-team/junit4/wiki/4.13-Release-Notes\r\n  [3]: https://github.com/junit-team/junit4/pull/1519\r\n  [4]: https://github.com/Codearte/catch-exception\r\n  [5]: https://github.com/hamcrest/JavaHamcrest\r\n  [6]: https://github.com/joel-costigliola/assertj-core\r\n  [7]: http://joel-costigliola.github.io/assertj/\r\n  [8]: http://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions\r\n  [9]: http://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Assertions.html#assertThrows-java.lang.Class-org.junit.jupiter.api.function.Executable-","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p><strong>tl;dr</strong></p>\n\n<ul>\n<li><p>post-JDK8 : Use <strong>AssertJ</strong> or custom lambdas to assert <em>exceptional</em> behaviour.</p></li>\n<li><p>pre-JDK8 : I will recommend the old good <code>try</code>-<code>catch</code> block. (<em>Don't forget to add a <code>fail()</code> assertion before the <code>catch</code> block</em>)</p></li>\n</ul>\n\n<p><em>Regardless of Junit 4 or JUnit 5.</em></p>\n\n<p><strong>the long story</strong></p>\n\n<p>It is possible to write yourself a <em>do it yourself</em> <code>try</code>-<code>catch</code> block or use the JUnit tools (<code>@Test(expected = ...)</code> or the <code>@Rule ExpectedException</code> JUnit rule feature).</p>\n\n<p>But these ways are not so elegant and don't mix well <em>readability wise</em> with other tools. Moreover, JUnit tooling does have some pitfalls.</p>\n\n<ol>\n<li><p>The <code>try</code>-<code>catch</code> block you have to write the block around the tested behavior and write the assertion in the catch block, that may be fine but many find that this style interrupts the reading flow of a test. Also, you need to write an <code>Assert.fail</code> at the end of the <code>try</code> block. Otherwise, the test may miss one side of the assertions; <em>PMD</em>, <em>findbugs</em> or <em>Sonar</em> will spot such issues.</p></li>\n<li><p>The <code>@Test(expected = ...)</code> feature is interesting as you can write less code and then writing this test is supposedly less prone to coding errors. <strong>But</strong> this approach is lacking in some areas.</p>\n\n<ul>\n<li>If the test needs to check additional things on the exception like the cause or the message (good exception messages are really important, having a precise exception type may not be enough). </li>\n<li><p>Also as the expectation is placed around in the method, depending on how the tested code is written then the wrong part of the test code can throw the exception, leading to false-positive test and I'm not sure that <em>PMD</em>, <em>findbugs</em> or <em>Sonar</em> will give hints on such code.</p>\n\n<pre><code>@Test(expected = WantedException.class)\npublic void call2_should_throw_a_WantedException__not_call1() {\n    // init tested\n    tested.call1(); // may throw a WantedException\n\n    // call to be actually tested\n    tested.call2(); // the call that is supposed to raise an exception\n}\n</code></pre></li>\n</ul></li>\n<li><p>The <code>ExpectedException</code> rule is also an attempt to fix the previous caveats, but it feels a bit awkward to use as it uses an expectation style, <em>EasyMock</em> users know very well this style. It might be convenient for some, but if you follow <em>Behaviour Driven Development</em> (BDD) or <em>Arrange Act Assert</em> (AAA) principles the <code>ExpectedException</code> rule won't fit in those writing style. Aside from that it may suffer from the same issue as the <code>@Test</code> way, depending on where you place the expectation.</p>\n\n<pre><code>@Rule ExpectedException thrown = ExpectedException.none()\n\n@Test\npublic void call2_should_throw_a_WantedException__not_call1() {\n    // expectations\n    thrown.expect(WantedException.class);\n    thrown.expectMessage(\"boom\");\n\n    // init tested\n    tested.call1(); // may throw a WantedException\n\n    // call to be actually tested\n    tested.call2(); // the call that is supposed to raise an exception\n}\n</code></pre>\n\n<p>Even the expected exception is placed before the test statement, it breaks your reading flow if the tests follow BDD or AAA.</p>\n\n<p>Also, see this <a href=\"https://github.com/junit-team/junit4/issues/706#issuecomment-21385116\" rel=\"noreferrer\">comment</a> issue on JUnit of the author of <code>ExpectedException</code>. <a href=\"https://github.com/junit-team/junit4/wiki/4.13-Release-Notes\" rel=\"noreferrer\">JUnit 4.13-beta-2</a> even deprecates this mechanism:</p>\n\n<blockquote>\n  <p><a href=\"https://github.com/junit-team/junit4/pull/1519\" rel=\"noreferrer\">Pull request #1519</a>: Deprecate ExpectedException</p>\n  \n  <p>The method Assert.assertThrows provides a nicer way for verifying exceptions. In addition, the use of ExpectedException is error-prone when used with other rules like TestWatcher because the order of rules is important in that case.</p>\n</blockquote></li>\n</ol>\n\n<p>So these above options have all their load of caveats, and clearly not immune to coder errors.</p>\n\n<ol start=\"4\">\n<li><p>There's a project I became aware of after creating this answer that looks promising, it's <a href=\"https://github.com/Codearte/catch-exception\" rel=\"noreferrer\"><strong>catch-exception</strong></a>.</p>\n\n<p>As the description of the project says, it let a coder write in a fluent line of code catching the exception and offer this exception for the latter assertion. And you can use any assertion library like <a href=\"https://github.com/hamcrest/JavaHamcrest\" rel=\"noreferrer\">Hamcrest</a> or <a href=\"https://github.com/joel-costigliola/assertj-core\" rel=\"noreferrer\">AssertJ</a>.</p>\n\n<p>A rapid example taken from the home page : </p>\n\n<pre><code>// given: an empty list\nList myList = new ArrayList();\n\n// when: we try to get the first element of the list\nwhen(myList).get(1);\n\n// then: we expect an IndexOutOfBoundsException\nthen(caughtException())\n        .isInstanceOf(IndexOutOfBoundsException.class)\n        .hasMessage(\"Index: 1, Size: 0\") \n        .hasNoCause();\n</code></pre>\n\n<p>As you can see the code is really straightforward, you catch the exception on a specific line, the <code>then</code> API is an alias that will use AssertJ APIs (similar to using <code>assertThat(ex).hasNoCause()...</code>). <em>At some point the project relied on FEST-Assert the ancestor of AssertJ</em>. <strong>EDIT:</strong> It seems the project is brewing a Java 8 Lambdas support.</p>\n\n<p>Currently, this library has two shortcomings : </p>\n\n<ul>\n<li><p>At the time of this writing, it is noteworthy to say this library is based on Mockito 1.x as it creates a mock of the tested object behind the scene. As Mockito is still not updated <strong>this library cannot work with final classes or final methods</strong>. And even if it was based on Mockito 2 in the current version, this would require to declare a global mock maker (<code>inline-mock-maker</code>), something that may not what you want, as this mock maker has different drawbacks that the regular mock maker.</p></li>\n<li><p>It requires yet another test dependency.</p></li>\n</ul>\n\n<p>These issues won't apply once the library supports lambdas. However, the functionality will be duplicated by the AssertJ toolset.</p>\n\n<p><strong>Taking all into account if you don't want to use the catch-exception tool, I will recommend the old good way of the <code>try</code>-<code>catch</code> block, at least up to the JDK7. And for JDK 8 users you might prefer to use AssertJ as it offers may more than just asserting exceptions.</strong></p></li>\n<li><p>With the JDK8, lambdas enter the test scene, and they have proved to be an interesting way to assert exceptional behaviour. AssertJ has been updated to provide a nice fluent API to assert exceptional behaviour.</p>\n\n<p>And a sample test with <a href=\"http://joel-costigliola.github.io/assertj/\" rel=\"noreferrer\">AssertJ</a> :</p>\n\n<pre><code>@Test\npublic void test_exception_approach_1() {\n    ...\n    assertThatExceptionOfType(IOException.class)\n            .isThrownBy(() -&gt; someBadIOOperation())\n            .withMessage(\"boom!\"); \n}\n\n@Test\npublic void test_exception_approach_2() {\n    ...\n    assertThatThrownBy(() -&gt; someBadIOOperation())\n            .isInstanceOf(Exception.class)\n            .hasMessageContaining(\"boom\");\n}\n\n@Test\npublic void test_exception_approach_3() {\n    ...\n    // when\n    Throwable thrown = catchThrowable(() -&gt; someBadIOOperation());\n\n    // then\n    assertThat(thrown).isInstanceOf(Exception.class)\n                      .hasMessageContaining(\"boom\");\n}\n</code></pre></li>\n<li><p>With a near-complete rewrite of JUnit 5, assertions have been <a href=\"http://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions\" rel=\"noreferrer\">improved</a> a bit, they may prove interesting as an out of the box way to assert properly exception. But really the assertion API is still a bit poor, there's nothing outside <a href=\"http://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Assertions.html#assertThrows-java.lang.Class-org.junit.jupiter.api.function.Executable-\" rel=\"noreferrer\"><code>assertThrows</code></a>. </p>\n\n<pre><code>@Test\n@DisplayName(\"throws EmptyStackException when peeked\")\nvoid throwsExceptionWhenPeeked() {\n    Throwable t = assertThrows(EmptyStackException.class, () -&gt; stack.peek());\n\n    Assertions.assertEquals(\"...\", t.getMessage());\n}\n</code></pre>\n\n<p>As you noticed <code>assertEquals</code> is still returning <code>void</code>, and as such doesn't allow chaining assertions like AssertJ.</p>\n\n<p>Also if you remember name clash with <code>Matcher</code> or <code>Assert</code>, be prepared to meet the same clash with <code>Assertions</code>.</p></li>\n</ol>\n\n<p>I'd like to conclude that today (2017-03-03) <strong>AssertJ</strong>'s ease of use, discoverable API, the rapid pace of development and as a <em>de facto</em> test dependency is the best solution with JDK8 regardless of the test framework (JUnit or not), prior JDKs should instead rely on <strong><code>try</code>-<code>catch</code></strong> blocks even if they feel clunky.</p>\n\n<p><em>This answer has been copied from <a href=\"https://stackoverflow.com/a/17428439/48136\">another question</a> that don't have the same visibility, I am the same author.</em></p>\n"},{"tags":[],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481176099,"creation_date":1481176099,"answer_id":41032596,"question_id":156503,"body_markdown":"In JUnit 4 or later you can test the exceptions as follows\r\n\r\n    @Rule\r\n    public ExpectedException exceptions = ExpectedException.none();\r\n\r\n&lt;br&gt; this provides a lot of features which can be used to improve our JUnit tests. &lt;br&gt; If you see the below example I am testing 3 things on the exception.\r\n    \r\n\r\n 1. The Type of exception thrown\r\n 2. The exception Message\r\n 3. The cause of the exception\r\n\r\n&lt;br&gt;\r\n\r\n    public class MyTest {\r\n    \t\r\n    \t@Rule\r\n    \tpublic ExpectedException exceptions = ExpectedException.none();\r\n    \t\r\n    \tClassUnderTest classUnderTest;\r\n    \t\r\n    \t@Before\r\n    \tpublic void setUp() throws Exception {\r\n    \t\tclassUnderTest = new ClassUnderTest();\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testAppleisSweetAndRed() throws Exception {\r\n    \t\t\r\n    \t\texceptions.expect(Exception.class);\r\n    \t\texceptions.expectMessage(&quot;this is the exception message&quot;);\r\n    \t\texceptions.expectCause(Matchers.&lt;Throwable&gt;equalTo(exceptionCause));\r\n    \t\t\r\n    \t\tclassUnderTest.methodUnderTest(&quot;param1&quot;, &quot;param2&quot;);\r\n    \t}\r\n    \t\r\n    }","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>In JUnit 4 or later you can test the exceptions as follows</p>\n\n<pre><code>@Rule\npublic ExpectedException exceptions = ExpectedException.none();\n</code></pre>\n\n<p><br> this provides a lot of features which can be used to improve our JUnit tests. <br> If you see the below example I am testing 3 things on the exception.</p>\n\n<ol>\n<li>The Type of exception thrown</li>\n<li>The exception Message</li>\n<li>The cause of the exception</li>\n</ol>\n\n<p><br></p>\n\n<pre><code>public class MyTest {\n\n    @Rule\n    public ExpectedException exceptions = ExpectedException.none();\n\n    ClassUnderTest classUnderTest;\n\n    @Before\n    public void setUp() throws Exception {\n        classUnderTest = new ClassUnderTest();\n    }\n\n    @Test\n    public void testAppleisSweetAndRed() throws Exception {\n\n        exceptions.expect(Exception.class);\n        exceptions.expectMessage(\"this is the exception message\");\n        exceptions.expectCause(Matchers.&lt;Throwable&gt;equalTo(exceptionCause));\n\n        classUnderTest.methodUnderTest(\"param1\", \"param2\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":346348,"reputation":2620,"user_id":679822,"accept_rate":73,"display_name":"Dilini Rajapaksha"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1660950429,"creation_date":1484011783,"answer_id":41559786,"question_id":156503,"body_markdown":"**Update:** JUnit5 has an improvement for exceptions testing: `assertThrows`.\r\n\r\nThe following example is from: [Junit 5 User Guide][1]\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\n    @Test\r\n    void exceptionTesting() {\r\n        IllegalArgumentException exception = assertThrows(IllegalArgumentException.class, () -&gt; {\r\n            throw new IllegalArgumentException(&quot;a message&quot;);\r\n        });\r\n        assertEquals(&quot;a message&quot;, exception.getMessage());\r\n    }\r\n\r\n**Original answer using JUnit 4.**\r\n\r\nThere are several ways to test that an exception is thrown. I have also discussed the below options in my post [How to write great unit tests with JUnit][2]\r\n\r\nSet the `expected` parameter `@Test(expected = FileNotFoundException.class)`.\r\n\r\n    @Test(expected = FileNotFoundException.class) \r\n    public void testReadFile() { \r\n        myClass.readFile(&quot;test.txt&quot;);\r\n    }\r\n\r\nUsing `try` `catch`\r\n\r\n    public void testReadFile() { \r\n        try {\r\n            myClass.readFile(&quot;test.txt&quot;);\r\n            fail(&quot;Expected a FileNotFoundException to be thrown&quot;);\r\n        } catch (FileNotFoundException e) {\r\n            assertThat(e.getMessage(), is(&quot;The file test.txt does not exist!&quot;));\r\n        }\r\n         \r\n    }\r\n \r\nTesting with `ExpectedException` Rule.\r\n\r\n   \r\n    @Rule\r\n    public ExpectedException thrown = ExpectedException.none();\r\n\r\n    @Test\r\n    public void testReadFile() throws FileNotFoundException {\r\n        \r\n        thrown.expect(FileNotFoundException.class);\r\n        thrown.expectMessage(startsWith(&quot;The file test.txt&quot;));\r\n        myClass.readFile(&quot;test.txt&quot;);\r\n    }\r\n\r\n   \r\n\r\nYou could read more about exceptions testing in [JUnit4 wiki for Exception testing](https://github.com/junit-team/junit4/wiki/Exception-testing) and [bad.robot - Expecting Exceptions JUnit Rule](http://baddotrobot.com/blog/2012/03/27/expecting-exception-with-junit-rule/index.html).\r\n\r\n\r\n  [1]: http://junit.org/junit5/docs/current/user-guide/#extensions-exception-handling\r\n  [2]: https://javacodehouse.com/junit-tutorial","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p><strong>Update:</strong> JUnit5 has an improvement for exceptions testing: <code>assertThrows</code>.</p>\n<p>The following example is from: <a href=\"http://junit.org/junit5/docs/current/user-guide/#extensions-exception-handling\" rel=\"noreferrer\">Junit 5 User Guide</a></p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertThrows;\n\n@Test\nvoid exceptionTesting() {\n    IllegalArgumentException exception = assertThrows(IllegalArgumentException.class, () -&gt; {\n        throw new IllegalArgumentException(&quot;a message&quot;);\n    });\n    assertEquals(&quot;a message&quot;, exception.getMessage());\n}\n</code></pre>\n<p><strong>Original answer using JUnit 4.</strong></p>\n<p>There are several ways to test that an exception is thrown. I have also discussed the below options in my post <a href=\"https://javacodehouse.com/junit-tutorial\" rel=\"noreferrer\">How to write great unit tests with JUnit</a></p>\n<p>Set the <code>expected</code> parameter <code>@Test(expected = FileNotFoundException.class)</code>.</p>\n<pre><code>@Test(expected = FileNotFoundException.class) \npublic void testReadFile() { \n    myClass.readFile(&quot;test.txt&quot;);\n}\n</code></pre>\n<p>Using <code>try</code> <code>catch</code></p>\n<pre><code>public void testReadFile() { \n    try {\n        myClass.readFile(&quot;test.txt&quot;);\n        fail(&quot;Expected a FileNotFoundException to be thrown&quot;);\n    } catch (FileNotFoundException e) {\n        assertThat(e.getMessage(), is(&quot;The file test.txt does not exist!&quot;));\n    }\n     \n}\n</code></pre>\n<p>Testing with <code>ExpectedException</code> Rule.</p>\n<pre><code>@Rule\npublic ExpectedException thrown = ExpectedException.none();\n\n@Test\npublic void testReadFile() throws FileNotFoundException {\n    \n    thrown.expect(FileNotFoundException.class);\n    thrown.expectMessage(startsWith(&quot;The file test.txt&quot;));\n    myClass.readFile(&quot;test.txt&quot;);\n}\n</code></pre>\n<p>You could read more about exceptions testing in <a href=\"https://github.com/junit-team/junit4/wiki/Exception-testing\" rel=\"noreferrer\">JUnit4 wiki for Exception testing</a> and <a href=\"http://baddotrobot.com/blog/2012/03/27/expecting-exception-with-junit-rule/index.html\" rel=\"noreferrer\">bad.robot - Expecting Exceptions JUnit Rule</a>.</p>\n"},{"tags":[],"owner":{"account_id":1601401,"reputation":31,"user_id":1482358,"display_name":"fahrenx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506859418,"creation_date":1506859418,"answer_id":46512202,"question_id":156503,"body_markdown":"With Java 8 you can create a method taking a code to check and expected exception as parameters:\r\n\r\n    private void expectException(Runnable r, Class&lt;?&gt; clazz) { \r\n        try {\r\n          r.run();\r\n          fail(&quot;Expected: &quot; + clazz.getSimpleName() + &quot; but not thrown&quot;);\r\n        } catch (Exception e) {\r\n          if (!clazz.isInstance(e)) fail(&quot;Expected: &quot; + clazz.getSimpleName() + &quot; but &quot; + e.getClass().getSimpleName() + &quot; found&quot;, e);\r\n        }\r\n      }\r\n\r\nand then inside your test:\r\n\r\n    expectException(() -&gt; list.sublist(0, 2).get(2), IndexOutOfBoundsException.class);\r\n\r\n\r\nBenefits:\r\n\r\n - not relying on any library\r\n - localised check - more precise and allows to have multiple assertions like this within one test if needed\r\n - easy to use \r\n","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>With Java 8 you can create a method taking a code to check and expected exception as parameters:</p>\n\n<pre><code>private void expectException(Runnable r, Class&lt;?&gt; clazz) { \n    try {\n      r.run();\n      fail(\"Expected: \" + clazz.getSimpleName() + \" but not thrown\");\n    } catch (Exception e) {\n      if (!clazz.isInstance(e)) fail(\"Expected: \" + clazz.getSimpleName() + \" but \" + e.getClass().getSimpleName() + \" found\", e);\n    }\n  }\n</code></pre>\n\n<p>and then inside your test:</p>\n\n<pre><code>expectException(() -&gt; list.sublist(0, 2).get(2), IndexOutOfBoundsException.class);\n</code></pre>\n\n<p>Benefits:</p>\n\n<ul>\n<li>not relying on any library</li>\n<li>localised check - more precise and allows to have multiple assertions like this within one test if needed</li>\n<li>easy to use </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":34025,"reputation":23628,"user_id":95725,"display_name":"NamshubWriter"},"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1627941216,"creation_date":1506876149,"answer_id":46514550,"question_id":156503,"body_markdown":"Now that JUnit 5 and JUnit 4.13 have been released, the best option would be to use `Assertions.assertThrows()`  (for JUnit 5) and `Assert.assertThrows()` (for JUnit 4.13). See\r\nthe [JUnit 5 User Guide][1].\r\n\r\nHere is an example that  verifies an exception is thrown, and uses [Truth][2] to  make assertions on the exception message:\r\n\r\n\r\n    public class FooTest {\r\n      @Test\r\n      public void doStuffThrowsIndexOutOfBoundsException() {\r\n        Foo foo = new Foo();\r\n\r\n        IndexOutOfBoundsException e = assertThrows(\r\n            IndexOutOfBoundsException.class, foo::doStuff);\r\n\r\n        assertThat(e).hasMessageThat().contains(&quot;woops!&quot;);\r\n      }\r\n    }\r\n\r\nThe advantages over the approaches in the other answers are:\r\n\r\n 1. Built into JUnit\r\n 2. You get a useful exception message if the code in the lambda doesn&#39;t throw an exception, and a stacktrace if it throws a different exception\r\n 3. Concise\r\n 4. Allows your tests to follow Arrange-Act-Assert\r\n 5. You can precisely indicate what code you are expecting to throw the exception\r\n 6. You don&#39;t need to list the expected exception in the `throws` clause\r\n 7. You can use the assertion framework of your choice to make assertions about the caught exception\r\n\r\n\r\n\r\n  [1]: http://junit.org/junit5/docs/current/user-guide/#extensions-exception-handling\r\n  [2]: http://google.github.io/truth/\r\n","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>Now that JUnit 5 and JUnit 4.13 have been released, the best option would be to use <code>Assertions.assertThrows()</code>  (for JUnit 5) and <code>Assert.assertThrows()</code> (for JUnit 4.13). See\nthe <a href=\"http://junit.org/junit5/docs/current/user-guide/#extensions-exception-handling\" rel=\"noreferrer\">JUnit 5 User Guide</a>.</p>\n<p>Here is an example that  verifies an exception is thrown, and uses <a href=\"http://google.github.io/truth/\" rel=\"noreferrer\">Truth</a> to  make assertions on the exception message:</p>\n<pre><code>public class FooTest {\n  @Test\n  public void doStuffThrowsIndexOutOfBoundsException() {\n    Foo foo = new Foo();\n\n    IndexOutOfBoundsException e = assertThrows(\n        IndexOutOfBoundsException.class, foo::doStuff);\n\n    assertThat(e).hasMessageThat().contains(&quot;woops!&quot;);\n  }\n}\n</code></pre>\n<p>The advantages over the approaches in the other answers are:</p>\n<ol>\n<li>Built into JUnit</li>\n<li>You get a useful exception message if the code in the lambda doesn't throw an exception, and a stacktrace if it throws a different exception</li>\n<li>Concise</li>\n<li>Allows your tests to follow Arrange-Act-Assert</li>\n<li>You can precisely indicate what code you are expecting to throw the exception</li>\n<li>You don't need to list the expected exception in the <code>throws</code> clause</li>\n<li>You can use the assertion framework of your choice to make assertions about the caught exception</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5016317,"reputation":11,"user_id":4031101,"display_name":"heio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507118606,"creation_date":1507115202,"answer_id":46563308,"question_id":156503,"body_markdown":"My solution using Java 8 lambdas:\r\n\r\n    public static &lt;T extends Throwable&gt; T assertThrows(Class&lt;T&gt; expected, ThrowingRunnable action) throws Throwable {\r\n        try {\r\n            action.run();\r\n            Assert.fail(&quot;Did not throw expected &quot; + expected.getSimpleName());\r\n            return null; // never actually\r\n        } catch (Throwable actual) {\r\n            if (!expected.isAssignableFrom(actual.getClass())) { // runtime &#39;!(actual instanceof expected)&#39;\r\n                System.err.println(&quot;Threw &quot; + actual.getClass().getSimpleName() \r\n                                   + &quot;, which is not a subtype of expected &quot; \r\n                                   + expected.getSimpleName());\r\n                throw actual; // throw the unexpected Throwable for maximum transparency\r\n            } else {\r\n                return (T) actual; // return the expected Throwable for further examination\r\n            }\r\n        }\r\n    }\r\n\r\nYou have to define a FunctionalInterface, because `Runnable` doesn&#39;t declare the required `throws`.\r\n\r\n    @FunctionalInterface\r\n    public interface ThrowingRunnable {\r\n        void run() throws Throwable;\r\n    }\r\n\r\nThe method can be used as follows:\r\n\r\n    \r\n    class CustomException extends Exception {\r\n        public final String message;\r\n        public CustomException(final String message) { this.message = message;}\r\n    }\r\n    CustomException e = assertThrows(CustomException.class, () -&gt; {\r\n        throw new CustomException(&quot;Lorem Ipsum&quot;);\r\n    });\r\n    assertEquals(&quot;Lorem Ipsum&quot;, e.message);","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>My solution using Java 8 lambdas:</p>\n\n<pre><code>public static &lt;T extends Throwable&gt; T assertThrows(Class&lt;T&gt; expected, ThrowingRunnable action) throws Throwable {\n    try {\n        action.run();\n        Assert.fail(\"Did not throw expected \" + expected.getSimpleName());\n        return null; // never actually\n    } catch (Throwable actual) {\n        if (!expected.isAssignableFrom(actual.getClass())) { // runtime '!(actual instanceof expected)'\n            System.err.println(\"Threw \" + actual.getClass().getSimpleName() \n                               + \", which is not a subtype of expected \" \n                               + expected.getSimpleName());\n            throw actual; // throw the unexpected Throwable for maximum transparency\n        } else {\n            return (T) actual; // return the expected Throwable for further examination\n        }\n    }\n}\n</code></pre>\n\n<p>You have to define a FunctionalInterface, because <code>Runnable</code> doesn't declare the required <code>throws</code>.</p>\n\n<pre><code>@FunctionalInterface\npublic interface ThrowingRunnable {\n    void run() throws Throwable;\n}\n</code></pre>\n\n<p>The method can be used as follows:</p>\n\n<pre><code>class CustomException extends Exception {\n    public final String message;\n    public CustomException(final String message) { this.message = message;}\n}\nCustomException e = assertThrows(CustomException.class, () -&gt; {\n    throw new CustomException(\"Lorem Ipsum\");\n});\nassertEquals(\"Lorem Ipsum\", e.message);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10516822,"reputation":1,"user_id":7750672,"display_name":"Mohit ladia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510212184,"creation_date":1510208597,"answer_id":47195186,"question_id":156503,"body_markdown":"There are two ways of writing test case \r\n\r\n 1. Annotate the test with the exception which is thrown by the method. Something like this `@Test(expected = IndexOutOfBoundsException.class)`\r\n 2. You can simply catch the exception in the test class using the try catch block and assert on the message that is thrown from the method in test class.\r\n\r\n        try{\r\n        }\r\n        catch(exception to be thrown from method e)\r\n        {\r\n             assertEquals(&quot;message&quot;, e.getmessage());\r\n        }\r\n\r\nI hope this answers your query\r\nHappy learning...","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>There are two ways of writing test case </p>\n\n<ol>\n<li>Annotate the test with the exception which is thrown by the method. Something like this <code>@Test(expected = IndexOutOfBoundsException.class)</code></li>\n<li><p>You can simply catch the exception in the test class using the try catch block and assert on the message that is thrown from the method in test class.</p>\n\n<pre><code>try{\n}\ncatch(exception to be thrown from method e)\n{\n     assertEquals(\"message\", e.getmessage());\n}\n</code></pre></li>\n</ol>\n\n<p>I hope this answers your query\nHappy learning...</p>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1541683711,"creation_date":1516878601,"answer_id":48441467,"question_id":156503,"body_markdown":"The most flexible and elegant answer for Junit 4 I found in the [Mkyong blog][1]. It has the flexibility of the `try/catch` using the `@Rule` annotation. I like this approach because you can read specific attributes of a customized exception.\r\n\r\n    package com.mkyong;\r\n    \r\n    import com.mkyong.examples.CustomerService;\r\n    import com.mkyong.examples.exception.NameNotFoundException;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.rules.ExpectedException;\r\n    \r\n    import static org.hamcrest.CoreMatchers.containsString;\r\n    import static org.hamcrest.CoreMatchers.is;\r\n    import static org.hamcrest.Matchers.hasProperty;\r\n    \r\n    public class Exception3Test {\r\n    \r\n        @Rule\r\n        public ExpectedException thrown = ExpectedException.none();\r\n    \r\n        @Test\r\n        public void testNameNotFoundException() throws NameNotFoundException {\r\n    \r\n    \t\t//test specific type of exception\r\n            thrown.expect(NameNotFoundException.class);\r\n    \r\n    \t\t//test message\r\n            thrown.expectMessage(is(&quot;Name is empty!&quot;));\r\n    \r\n            //test detail\r\n            thrown.expect(hasProperty(&quot;errCode&quot;));  //make sure getters n setters are defined.\r\n            thrown.expect(hasProperty(&quot;errCode&quot;, is(666)));\r\n    \r\n            CustomerService cust = new CustomerService();\r\n            cust.findByName(&quot;&quot;);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://www.mkyong.com/unittest/junit-4-tutorial-2-expected-exception-test/","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>The most flexible and elegant answer for Junit 4 I found in the <a href=\"https://www.mkyong.com/unittest/junit-4-tutorial-2-expected-exception-test/\" rel=\"noreferrer\">Mkyong blog</a>. It has the flexibility of the <code>try/catch</code> using the <code>@Rule</code> annotation. I like this approach because you can read specific attributes of a customized exception.</p>\n\n<pre><code>package com.mkyong;\n\nimport com.mkyong.examples.CustomerService;\nimport com.mkyong.examples.exception.NameNotFoundException;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.ExpectedException;\n\nimport static org.hamcrest.CoreMatchers.containsString;\nimport static org.hamcrest.CoreMatchers.is;\nimport static org.hamcrest.Matchers.hasProperty;\n\npublic class Exception3Test {\n\n    @Rule\n    public ExpectedException thrown = ExpectedException.none();\n\n    @Test\n    public void testNameNotFoundException() throws NameNotFoundException {\n\n        //test specific type of exception\n        thrown.expect(NameNotFoundException.class);\n\n        //test message\n        thrown.expectMessage(is(\"Name is empty!\"));\n\n        //test detail\n        thrown.expect(hasProperty(\"errCode\"));  //make sure getters n setters are defined.\n        thrown.expect(hasProperty(\"errCode\", is(666)));\n\n        CustomerService cust = new CustomerService();\n        cust.findByName(\"\");\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":773585,"reputation":3537,"user_id":1034782,"accept_rate":25,"display_name":"Donatello"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523032345,"creation_date":1523029927,"answer_id":49696649,"question_id":156503,"body_markdown":"Junit4 solution with Java8 is to use this function:\r\n\r\n\tpublic Throwable assertThrows(Class&lt;? extends Throwable&gt; expectedException, java.util.concurrent.Callable&lt;?&gt; funky) {\r\n\t\ttry {\r\n\t\t\tfunky.call();\r\n\t\t} catch (Throwable e) {\r\n\t\t\tif (expectedException.isInstance(e)) {\r\n\t\t\t\treturn e;\r\n\t\t\t}\r\n\t\t\tthrow new AssertionError(\r\n\t\t\t\t\tString.format(&quot;Expected [%s] to be thrown, but was [%s]&quot;, expectedException, e));\r\n\t\t}\r\n\t\tthrow new AssertionError(\r\n\t\t\t\tString.format(&quot;Expected [%s] to be thrown, but nothing was thrown.&quot;, expectedException));\r\n\t}\r\n\r\nUsage is then:\r\n\r\n\t\tassertThrows(ValidationException.class,\r\n\t\t\t\t() -&gt; finalObject.checkSomething(null));\r\n\r\nNote that the only limitation is to use a `final` object reference in lambda expression.\r\nThis solution allows to continue test assertions instead of expecting thowable at method level using `@Test(expected = IndexOutOfBoundsException.class)` solution.","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>Junit4 solution with Java8 is to use this function:</p>\n\n<pre><code>public Throwable assertThrows(Class&lt;? extends Throwable&gt; expectedException, java.util.concurrent.Callable&lt;?&gt; funky) {\n    try {\n        funky.call();\n    } catch (Throwable e) {\n        if (expectedException.isInstance(e)) {\n            return e;\n        }\n        throw new AssertionError(\n                String.format(\"Expected [%s] to be thrown, but was [%s]\", expectedException, e));\n    }\n    throw new AssertionError(\n            String.format(\"Expected [%s] to be thrown, but nothing was thrown.\", expectedException));\n}\n</code></pre>\n\n<p>Usage is then:</p>\n\n<pre><code>    assertThrows(ValidationException.class,\n            () -&gt; finalObject.checkSomething(null));\n</code></pre>\n\n<p>Note that the only limitation is to use a <code>final</code> object reference in lambda expression.\nThis solution allows to continue test assertions instead of expecting thowable at method level using <code>@Test(expected = IndexOutOfBoundsException.class)</code> solution.</p>\n"},{"tags":[],"owner":{"account_id":4670913,"reputation":3692,"user_id":3782729,"display_name":"Piotr Rogowski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531913557,"creation_date":1531913557,"answer_id":51400976,"question_id":156503,"body_markdown":"I recomend library `assertj-core` to handle exception in junit test\r\n\r\nIn java 8, like this:\r\n\r\n    //given\r\n    \r\n    //when\r\n    Throwable throwable = catchThrowable(() -&gt; anyService.anyMethod(object));\r\n    \r\n    //then\r\n    AnyException anyException = (AnyException) throwable;\r\n    assertThat(anyException.getMessage()).isEqualTo(&quot;........&quot;);\r\n    assertThat(exception.getCode()).isEqualTo(&quot;.......);","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>I recomend library <code>assertj-core</code> to handle exception in junit test</p>\n\n<p>In java 8, like this:</p>\n\n<pre><code>//given\n\n//when\nThrowable throwable = catchThrowable(() -&gt; anyService.anyMethod(object));\n\n//then\nAnyException anyException = (AnyException) throwable;\nassertThat(anyException.getMessage()).isEqualTo(\"........\");\nassertThat(exception.getCode()).isEqualTo(\".......);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1533725029,"creation_date":1533725029,"answer_id":51744696,"question_id":156503,"body_markdown":"    try {\r\n        my method();\r\n        fail( &quot;This method must thrwo&quot; );\r\n    } catch (Exception ex) {\r\n        assertThat(ex.getMessage()).isEqual(myErrormsg);\r\n    }","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<pre><code>try {\n    my method();\n    fail( \"This method must thrwo\" );\n} catch (Exception ex) {\n    assertThat(ex.getMessage()).isEqual(myErrormsg);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13139344,"reputation":955,"user_id":9491394,"display_name":"MangduYogii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555419247,"creation_date":1555419247,"answer_id":55708672,"question_id":156503,"body_markdown":"        @Test(expectedException=IndexOutOfBoundsException.class) \r\n        public void  testFooThrowsIndexOutOfBoundsException() throws Exception {\r\n             doThrow(IndexOutOfBoundsException.class).when(foo).doStuff();  \r\n             try {\r\n                 foo.doStuff(); \r\n                } catch (IndexOutOfBoundsException e) {\r\n                           assertEquals(IndexOutOfBoundsException .class, ex.getCause().getClass());\r\n                          throw e;\r\n             \r\n                   }\r\n             \r\n        }\r\nHere is another way to check method thrown correct exception or not.","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<pre><code>    @Test(expectedException=IndexOutOfBoundsException.class) \n    public void  testFooThrowsIndexOutOfBoundsException() throws Exception {\n         doThrow(IndexOutOfBoundsException.class).when(foo).doStuff();  \n         try {\n             foo.doStuff(); \n            } catch (IndexOutOfBoundsException e) {\n                       assertEquals(IndexOutOfBoundsException .class, ex.getCause().getClass());\n                      throw e;\n\n               }\n\n    }\n</code></pre>\n\n<p>Here is another way to check method thrown correct exception or not.</p>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589320119,"creation_date":1589320119,"answer_id":61762605,"question_id":156503,"body_markdown":"JUnit framework has **`assertThrows()`** method:\r\n\r\n    ArithmeticException exception = assertThrows(ArithmeticException.class, () -&gt;\r\n        calculator.divide(1, 0));\r\n    assertEquals(&quot;/ by zero&quot;, exception.getMessage());\r\n\r\n\r\n* for JUnit 5 it&#39;s in [`org.junit.jupiter.api.Assertions`][1] class;\r\n* for JUnit 4.13 it&#39;s in [`org.junit.Assert`][2] class;\r\n* for earlier versions of JUnit 4: just add reference on [`org.junit.jupiter:junit-jupiter-api`][3] to your project and you&#39;ll get perfectly well working version from JUnit 5.\r\n\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable)\r\n  [2]: https://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThrows(java.lang.Class,%20org.junit.function.ThrowingRunnable)\r\n  [3]: https://search.maven.org/artifact/org.junit.jupiter/junit-jupiter-api","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>JUnit framework has <strong><code>assertThrows()</code></strong> method:</p>\n\n<pre><code>ArithmeticException exception = assertThrows(ArithmeticException.class, () -&gt;\n    calculator.divide(1, 0));\nassertEquals(\"/ by zero\", exception.getMessage());\n</code></pre>\n\n<ul>\n<li>for JUnit 5 it's in <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable)\" rel=\"nofollow noreferrer\"><code>org.junit.jupiter.api.Assertions</code></a> class;</li>\n<li>for JUnit 4.13 it's in <a href=\"https://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThrows(java.lang.Class,%20org.junit.function.ThrowingRunnable)\" rel=\"nofollow noreferrer\"><code>org.junit.Assert</code></a> class;</li>\n<li>for earlier versions of JUnit 4: just add reference on <a href=\"https://search.maven.org/artifact/org.junit.jupiter/junit-jupiter-api\" rel=\"nofollow noreferrer\"><code>org.junit.jupiter:junit-jupiter-api</code></a> to your project and you'll get perfectly well working version from JUnit 5.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4667361,"reputation":39,"user_id":3780108,"display_name":"mahb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692829156,"creation_date":1674766196,"answer_id":75251498,"question_id":156503,"body_markdown":"I would use `assertThatThrownBy`\r\n\r\n```java\r\n@Test\r\npublic void testFooThrowsIndexOutOfBoundsException() {\r\n  assertThatThrownBy(() -&gt; doStuff()).isInstanceOf(IndexOutOfBoundsException.class)\r\n}\r\n```\r\n\r\nRequires AssertJ - documentation references:\r\n\r\n - https://assertj.github.io/doc/#assertj-core-exception-assertions-assertThatThrownBy\r\n - https://www.javadoc.io/doc/org.assertj/assertj-core/3.8.0/org/assertj/core/api/Assertions.html#assertThatThrownBy-org.assertj.core.api.ThrowableAssert.ThrowingCallable-\r\n\r\n","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>I would use <code>assertThatThrownBy</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testFooThrowsIndexOutOfBoundsException() {\n  assertThatThrownBy(() -&gt; doStuff()).isInstanceOf(IndexOutOfBoundsException.class)\n}\n</code></pre>\n<p>Requires AssertJ - documentation references:</p>\n<ul>\n<li><a href=\"https://assertj.github.io/doc/#assertj-core-exception-assertions-assertThatThrownBy\" rel=\"nofollow noreferrer\">https://assertj.github.io/doc/#assertj-core-exception-assertions-assertThatThrownBy</a></li>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/3.8.0/org/assertj/core/api/Assertions.html#assertThatThrownBy-org.assertj.core.api.ThrowableAssert.ThrowingCallable-\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.assertj/assertj-core/3.8.0/org/assertj/core/api/Assertions.html#assertThatThrownBy-org.assertj.core.api.ThrowableAssert.ThrowingCallable-</a></li>\n</ul>\n"}],"owner":{"account_id":1254,"reputation":57918,"user_id":1666,"accept_rate":84,"display_name":"SCdF"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1883407,"favorite_count":0,"down_vote_count":6,"up_vote_count":2292,"accepted_answer_id":156528,"answer_count":35,"score":2286,"last_activity_date":1692829156,"creation_date":1222844168,"question_id":156503,"body_markdown":"How can I use JUnit idiomatically to test that some code throws an exception?\r\n\r\nWhile I can certainly do something like this:\r\n\r\n    @Test\r\n    public void testFooThrowsIndexOutOfBoundsException() {\r\n    \r\n        boolean thrown = false;\r\n    \r\n        try {\r\n            foo.doStuff();\r\n        } catch (IndexOutOfBoundsException e) {\r\n            thrown = true;\r\n        }\r\n    \r\n        assertTrue(thrown);\r\n    }\r\n\r\nI recall that there is an annotation or an Assert.xyz or *something* that is far less kludgy and far more in-the-spirit of JUnit for these sorts of situations.","title":"How do you assert that a certain exception is thrown in JUnit tests?","body":"<p>How can I use JUnit idiomatically to test that some code throws an exception?</p>\n<p>While I can certainly do something like this:</p>\n<pre><code>@Test\npublic void testFooThrowsIndexOutOfBoundsException() {\n\n    boolean thrown = false;\n\n    try {\n        foo.doStuff();\n    } catch (IndexOutOfBoundsException e) {\n        thrown = true;\n    }\n\n    assertTrue(thrown);\n}\n</code></pre>\n<p>I recall that there is an annotation or an Assert.xyz or <em>something</em> that is far less kludgy and far more in-the-spirit of JUnit for these sorts of situations.</p>\n"},{"tags":["java","database","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1692828482,"post_id":76964191,"comment_id":135678884,"body_markdown":"FYI: you don&#39;t need to put the `@Repository` annotation to the class, Spring knows what to do anyway when extending a `JpaRepository`.","body":"FYI: you don&#39;t need to put the <code>@Repository</code> annotation to the class, Spring knows what to do anyway when extending a <code>JpaRepository</code>."}],"owner":{"account_id":27325847,"reputation":13,"user_id":20838842,"display_name":"Mohamed Hisham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692829004,"creation_date":1692816974,"question_id":76964191,"body_markdown":"I am using JpaRepository, the problem Appears when using inside function in the repo class like this and if i use Jpa functions without custom functions it works fine \r\n\r\n```java\r\n@Repository\r\npublic interface SystemEventRepository extends JpaRepository&lt;SystemEvent, Integer&gt; {\r\n    SystemEvent findByEvent(String event);\r\n}\r\n```\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;systemEventRepository&#39; defined in repository.SystemEventRepository defined in @EnableJpaRepositories declared on AppConfig: class org.springframework.data.jpa.repository.query.AbstractJpaQuery tried to access private method &#39;void org.springframework.data.util.Lazy.&lt;init&gt;(java.util.function.Supplier)&#39; (org.springframework.data.jpa.repository.query.AbstractJpaQuery and org.springframework.data.util.Lazy are in unnamed module of loader &#39;app&#39;)\r\n```\r\n","title":"Spring-boot JpaRepository when using custom functions","body":"<p>I am using JpaRepository, the problem Appears when using inside function in the repo class like this and if i use Jpa functions without custom functions it works fine</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface SystemEventRepository extends JpaRepository&lt;SystemEvent, Integer&gt; {\n    SystemEvent findByEvent(String event);\n}\n</code></pre>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'systemEventRepository' defined in repository.SystemEventRepository defined in @EnableJpaRepositories declared on AppConfig: class org.springframework.data.jpa.repository.query.AbstractJpaQuery tried to access private method 'void org.springframework.data.util.Lazy.&lt;init&gt;(java.util.function.Supplier)' (org.springframework.data.jpa.repository.query.AbstractJpaQuery and org.springframework.data.util.Lazy are in unnamed module of loader 'app')\n</code></pre>\n"},{"tags":["java","angular","spring-boot","cors","api-gateway"],"comments":[{"owner":{"account_id":474440,"reputation":36732,"user_id":884123,"accept_rate":79,"display_name":"Matthieu Riegler"},"score":0,"creation_date":1692802552,"post_id":76962549,"comment_id":135674390,"body_markdown":"Your gateway needs to allow CORS.","body":"Your gateway needs to allow CORS."},{"owner":{"account_id":11489221,"reputation":45,"user_id":8420784,"display_name":"ahdy kefi"},"score":0,"creation_date":1692802778,"post_id":76962549,"comment_id":135674436,"body_markdown":"I already added the cors config to my api-gateway @MatthieuRiegler","body":"I already added the cors config to my api-gateway @MatthieuRiegler"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1692822992,"post_id":76962549,"comment_id":135678177,"body_markdown":"Did you try running the gateway with debug logging enabled? If thereâ€™s an error, thereâ€™s going to be corresponding logging for it. The other option is to simply debug the gateway using a debugger. Iâ€™ve had to do that in the past myself.","body":"Did you try running the gateway with debug logging enabled? If thereâ€™s an error, thereâ€™s going to be corresponding logging for it. The other option is to simply debug the gateway using a debugger. Iâ€™ve had to do that in the past myself."}],"answers":[{"tags":[],"owner":{"account_id":29285937,"reputation":36,"user_id":22437515,"display_name":"Mohamed Ali Bouali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692825360,"creation_date":1692825360,"answer_id":76964937,"question_id":76962549,"body_markdown":"please create an application.yml file in your api-gateway and place the following configuration inside. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    spring:\r\n      application:\r\n        name: gateway\r\n\r\n      cloud:\r\n        gateway:\r\n          global-cors:\r\n            corsConfigurations:\r\n              &#39;[/**]&#39;:\r\n                allowedOrigins: &quot;*&quot;\r\n                allowedMethods:\r\n                  - GET\r\n                  - POST\r\n                  - PUT\r\n                  - DELETE\r\n                  - PATCH\r\n                allowedHeaders:\r\n                  - &quot;Origin&quot;\r\n                  - &quot;Content-Type&quot;\r\n                  - &quot;Accept&quot;\r\n                  - &quot;Authorization&quot;\r\n                  - &quot;User-Key&quot;\r\n                  - &quot;Request-Tracker&quot;\r\n                  - &quot;Session-Tracker&quot;\r\n                  - &quot;X-XSRF-TOKEN&quot;\r\n                  - &quot;X-IBM-CLIENT-ID&quot;\r\n                  - &quot;Message-ID&quot;\r\n                  - &quot;X-IBM-CLIENT-SECRET&quot;\r\n          default-filters:\r\n            - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin, RETAIN_FIRST\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"[SOLVED]:&#39;Unknown Error&#39; when sending a POST request to my Spring Boot API Gateway from my Angular app and CORS is configured correctly","body":"<p>please create an application.yml file in your api-gateway and place the following configuration inside.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>spring:\n  application:\n    name: gateway\n\n  cloud:\n    gateway:\n      global-cors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: \"*\"\n            allowedMethods:\n              - GET\n              - POST\n              - PUT\n              - DELETE\n              - PATCH\n            allowedHeaders:\n              - \"Origin\"\n              - \"Content-Type\"\n              - \"Accept\"\n              - \"Authorization\"\n              - \"User-Key\"\n              - \"Request-Tracker\"\n              - \"Session-Tracker\"\n              - \"X-XSRF-TOKEN\"\n              - \"X-IBM-CLIENT-ID\"\n              - \"Message-ID\"\n              - \"X-IBM-CLIENT-SECRET\"\n      default-filters:\n        - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin, RETAIN_FIRST</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":11489221,"reputation":45,"user_id":8420784,"display_name":"ahdy kefi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76964937,"answer_count":1,"score":0,"last_activity_date":1692828828,"creation_date":1692802145,"question_id":76962549,"body_markdown":"I&#39;m &quot;Getting &#39;Http failure response for http://localhost:8080/api/user/auth/login: 0 Unknown Error&#39; when sending a POST request to my Spring Boot API Gateway from my Angular app. CORS is configured correctly, and the same request works fine when sent directly to the user-service. The API Gateway logs don&#39;t show any errors, and the browser console doesn&#39;t provide additional insights. Any suggestions on how to troubleshoot this issue?&quot;.\r\n\r\n**API Gateway application.properties**\r\n```\r\neureka.client.register-with-eureka=true\r\neureka.client.fetch-registry=true\r\nspring.application.name=api-gateway\r\neureka.client.service-url.defaultZone= http://localhost:8761/eureka\r\nserver.port=8080\r\n## LOGS\r\nlogging.level.root=INFO\r\n#class responsible for defining and identifying routes\r\nlogging.level.org.springframework.cloud.gateway.route.RouteDefinitionLocator = INFO\r\nlogging.level.org.springframework.cloud.gateway = TRACE\r\n## END LOGS\r\n\r\n## Routes\r\nspring.cloud.gateway.routes[0].id=user-service\r\nspring.cloud.gateway.routes[0].uri = lb://user-service\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/user/**\r\n\r\n```\r\n**Console error:**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mnwf1.png\r\n\r\n\r\n**API GatewayCors config**\r\n```\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class CorsConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;) // Replace with your Angular application&#39;s URL\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\r\n                .allowedHeaders(&quot;Content-Type&quot;, &quot;Authorization&quot;);\r\n    }\r\n}\r\n\r\n\r\n```\r\n**PS:** When I change the URL in my angular app to directly send a request to the user-service everything works fine.","title":"[SOLVED]:&#39;Unknown Error&#39; when sending a POST request to my Spring Boot API Gateway from my Angular app and CORS is configured correctly","body":"<p>I'm &quot;Getting 'Http failure response for http://localhost:8080/api/user/auth/login: 0 Unknown Error' when sending a POST request to my Spring Boot API Gateway from my Angular app. CORS is configured correctly, and the same request works fine when sent directly to the user-service. The API Gateway logs don't show any errors, and the browser console doesn't provide additional insights. Any suggestions on how to troubleshoot this issue?&quot;.</p>\n<p><strong>API Gateway application.properties</strong></p>\n<pre><code>eureka.client.register-with-eureka=true\neureka.client.fetch-registry=true\nspring.application.name=api-gateway\neureka.client.service-url.defaultZone= http://localhost:8761/eureka\nserver.port=8080\n## LOGS\nlogging.level.root=INFO\n#class responsible for defining and identifying routes\nlogging.level.org.springframework.cloud.gateway.route.RouteDefinitionLocator = INFO\nlogging.level.org.springframework.cloud.gateway = TRACE\n## END LOGS\n\n## Routes\nspring.cloud.gateway.routes[0].id=user-service\nspring.cloud.gateway.routes[0].uri = lb://user-service\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/user/**\n\n</code></pre>\n<p><strong>Console error:</strong>\n<a href=\"https://i.stack.imgur.com/mnwf1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mnwf1.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>API GatewayCors config</strong></p>\n<pre><code>\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;) // Replace with your Angular application's URL\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\n                .allowedHeaders(&quot;Content-Type&quot;, &quot;Authorization&quot;);\n    }\n}\n\n\n</code></pre>\n<p><strong>PS:</strong> When I change the URL in my angular app to directly send a request to the user-service everything works fine.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1692738832,"post_id":76956694,"comment_id":135665057,"body_markdown":"Try running the code in a debugger. Set a break point at `int res = 0, count [] = new int [101];` and then run the code one-step-at-a-time. At each step, check the values of the variables.","body":"Try running the code in a debugger. Set a break point at <code>int res = 0, count [] = new int [101];</code> and then run the code one-step-at-a-time. At each step, check the values of the variables."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1692739153,"post_id":76956694,"comment_id":135665094,"body_markdown":"TIL `int res = 0, count[] = new int[101];` is valid syntax.","body":"TIL <code>int res = 0, count[] = new int[101];</code> is valid syntax."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692742136,"post_id":76956694,"comment_id":135665429,"body_markdown":"The value at _count[a]_ will only increase for _a_.  Similar to what _@Shovel_Knight_ said, this would not work with negative numbers, additionally, you&#39;d have to find the maximum value first, to set the size of _count_.","body":"The value at <i>count[a]</i> will only increase for <i>a</i>.  Similar to what <i>@Shovel_Knight</i> said, this would not work with negative numbers, additionally, you&#39;d have to find the maximum value first, to set the size of <i>count</i>."}],"answers":[{"tags":[],"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692750716,"creation_date":1692738389,"answer_id":76956860,"question_id":76956694,"body_markdown":"The best way to understand how a program works is to run it in a debugger. This would allow you to see its internal state.\r\n\r\nThis particular solution works in the following way:\r\n\r\n1. When the array `count[]` is initialized, every element inside it is equal to 0.\r\n\r\n2. As the enhanced for loop `for (int a : A)` goes through the original array, every time it encounters a number, it increments `count[a]` by 1, but only *after* the assignment `res += count[a]++`.\r\n\r\nFor example, if you take one of their example arrays `{1, 2, 3, 1, 1, 3}`:\r\n\r\n`res += count[1]++` -&gt; `res == 0, count[1] == 1`\r\n\r\n`res += count[2]++` -&gt; `res == 0, count[2] == 1`\r\n\r\n`res += count[3]++` -&gt; `res == 0, count[3] == 1`\r\n\r\n`res += count[1]++` -&gt; `res == 1, count[1] == 2`\r\n\r\n`res += count[1]++` -&gt; `res == 3, count[1] == 3`\r\n\r\n`res += count[3]++` -&gt; `res == 4, count[3] == 2`\r\n\r\nIt&#39;s a clever solution but very much tailored to their particular test cases because you are limited by the size of `count[]`. What if integers inside the original array are larger than 100? What if there are negative numbers? ","title":"How count[index]++ counts the identical ekements in an array in Java?","body":"<p>The best way to understand how a program works is to run it in a debugger. This would allow you to see its internal state.</p>\n<p>This particular solution works in the following way:</p>\n<ol>\n<li><p>When the array <code>count[]</code> is initialized, every element inside it is equal to 0.</p>\n</li>\n<li><p>As the enhanced for loop <code>for (int a : A)</code> goes through the original array, every time it encounters a number, it increments <code>count[a]</code> by 1, but only <em>after</em> the assignment <code>res += count[a]++</code>.</p>\n</li>\n</ol>\n<p>For example, if you take one of their example arrays <code>{1, 2, 3, 1, 1, 3}</code>:</p>\n<p><code>res += count[1]++</code> -&gt; <code>res == 0, count[1] == 1</code></p>\n<p><code>res += count[2]++</code> -&gt; <code>res == 0, count[2] == 1</code></p>\n<p><code>res += count[3]++</code> -&gt; <code>res == 0, count[3] == 1</code></p>\n<p><code>res += count[1]++</code> -&gt; <code>res == 1, count[1] == 2</code></p>\n<p><code>res += count[1]++</code> -&gt; <code>res == 3, count[1] == 3</code></p>\n<p><code>res += count[3]++</code> -&gt; <code>res == 4, count[3] == 2</code></p>\n<p>It's a clever solution but very much tailored to their particular test cases because you are limited by the size of <code>count[]</code>. What if integers inside the original array are larger than 100? What if there are negative numbers?</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692827522,"creation_date":1692796980,"answer_id":76961781,"question_id":76956694,"body_markdown":"Consider that for any repeated values, `(e.g.1,1,1,1,1)` the count of subarrays is `1,3,6,10` for `(1,1),(1,1,1),(1,1,1,1), and (1,1,1,1,1)` respectively.  Notice the deltas between the consecutive terms for the pattern are `2,3,and 4`.  Those deltas increment by `1` so the solution for the `nth` value is `n*(n-1)/2`. Where `n = 1` initially.\r\n\r\nTo compute that solution in a loop for `5 of the same value` do it as follows;\r\n```\r\nint delta = 0;\r\nint res = 0;\r\nfor (int n = 0; n &lt; 5; n++) {\r\n   res = res + delta;\r\n   delta++;\r\n}\r\nSystem.out.println(res);\r\n```\r\nprints\r\n```\r\n10\r\n```\r\nThis is exactly what your loop is doing. But I am changing `count[]` to `delta[]` since it more describes what that array contains.\r\n- the array is initialized to `101` to access deltas for values from `0 to 100` inclusive.  By default deltas are all `0`.  They are considered the initial deltas for all possible values.\r\n- Then as you iterate them you are do the following.\r\n-  `res += delta[a]++;`  Where `a` is used as an index into it&#39;s own delta array to sum the good pairs.  It is first used as `0` since one value does not constitute a pair. It them bumps the delta by `1` for the next occurrence of the same value of `a`.\r\n\r\nSo here is a more verbose solution which does the same thing as yours.\r\n```\r\npublic static int numIdenticalPairs(int[] A) {\r\n     int res = 0;\r\n     int[] deltas = new int[101];\r\n     for (int i = 0; i &lt; A.length; i++) {\r\n         int value = A[i];          // get the value from the array\r\n         int delta = deltas[value]; // get current delta for that value\r\n         res += delta;              // adjust the pair count for all values\r\n         deltas[value] = delta + 1; // increment delta for next occurrence of value.\r\n     }\r\n     return res;\r\n}\r\n```\r\n","title":"How count[index]++ counts the identical ekements in an array in Java?","body":"<p>Consider that for any repeated values, <code>(e.g.1,1,1,1,1)</code> the count of subarrays is <code>1,3,6,10</code> for <code>(1,1),(1,1,1),(1,1,1,1), and (1,1,1,1,1)</code> respectively.  Notice the deltas between the consecutive terms for the pattern are <code>2,3,and 4</code>.  Those deltas increment by <code>1</code> so the solution for the <code>nth</code> value is <code>n*(n-1)/2</code>. Where <code>n = 1</code> initially.</p>\n<p>To compute that solution in a loop for <code>5 of the same value</code> do it as follows;</p>\n<pre><code>int delta = 0;\nint res = 0;\nfor (int n = 0; n &lt; 5; n++) {\n   res = res + delta;\n   delta++;\n}\nSystem.out.println(res);\n</code></pre>\n<p>prints</p>\n<pre><code>10\n</code></pre>\n<p>This is exactly what your loop is doing. But I am changing <code>count[]</code> to <code>delta[]</code> since it more describes what that array contains.</p>\n<ul>\n<li>the array is initialized to <code>101</code> to access deltas for values from <code>0 to 100</code> inclusive.  By default deltas are all <code>0</code>.  They are considered the initial deltas for all possible values.</li>\n<li>Then as you iterate them you are do the following.</li>\n<li><code>res += delta[a]++;</code>  Where <code>a</code> is used as an index into it's own delta array to sum the good pairs.  It is first used as <code>0</code> since one value does not constitute a pair. It them bumps the delta by <code>1</code> for the next occurrence of the same value of <code>a</code>.</li>\n</ul>\n<p>So here is a more verbose solution which does the same thing as yours.</p>\n<pre><code>public static int numIdenticalPairs(int[] A) {\n     int res = 0;\n     int[] deltas = new int[101];\n     for (int i = 0; i &lt; A.length; i++) {\n         int value = A[i];          // get the value from the array\n         int delta = deltas[value]; // get current delta for that value\n         res += delta;              // adjust the pair count for all values\n         deltas[value] = delta + 1; // increment delta for next occurrence of value.\n     }\n     return res;\n}\n</code></pre>\n"}],"owner":{"account_id":19198384,"reputation":21,"user_id":14026758,"display_name":"Quamrulssss"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1692827522,"creation_date":1692736399,"question_id":76956694,"body_markdown":"I am new in problem solving. I tried this problem from leetcode [Number of good pairs](https://leetcode.com/problems/number-of-good-pairs/description/?source=submission-ac) and I solved using double loops. But later in solutions I got a better solution.\r\nThat&#39;s my code: \r\n\r\n    `        \r\n        public int numIdenticalPairs(int[] nums) {\r\n            int count = 0;\r\n            for(int i=0; i&lt;nums.length; i++){\r\n                for(int j=i+1; j&lt;nums.length; j++){\r\n                    if(nums[i]==nums[j]){\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return count;\r\n        }\r\n    `\r\nand the better solution is this: \r\n\r\n    `    \r\n        public int numIdenticalPairs(int[] A) {\r\n            int res = 0, count[] = new int[101];\r\n            for (int a: A) {\r\n                res += count[a]++;\r\n            }\r\n            return res;\r\n        }\r\n    `\r\nBut I don&#39;t understand how count[a]++ can count all the identical elements? Can anyone explain this for me? #TIA","title":"How count[index]++ counts the identical ekements in an array in Java?","body":"<p>I am new in problem solving. I tried this problem from leetcode <a href=\"https://leetcode.com/problems/number-of-good-pairs/description/?source=submission-ac\" rel=\"nofollow noreferrer\">Number of good pairs</a> and I solved using double loops. But later in solutions I got a better solution.\nThat's my code:</p>\n<pre><code>`        \n    public int numIdenticalPairs(int[] nums) {\n        int count = 0;\n        for(int i=0; i&lt;nums.length; i++){\n            for(int j=i+1; j&lt;nums.length; j++){\n                if(nums[i]==nums[j]){\n                    count++;\n                }\n            }\n        }\n\n        return count;\n    }\n`\n</code></pre>\n<p>and the better solution is this:</p>\n<pre><code>`    \n    public int numIdenticalPairs(int[] A) {\n        int res = 0, count[] = new int[101];\n        for (int a: A) {\n            res += count[a]++;\n        }\n        return res;\n    }\n`\n</code></pre>\n<p>But I don't understand how count[a]++ can count all the identical elements? Can anyone explain this for me? #TIA</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1488472142,"creation_date":1488472142,"answer_id":42560773,"question_id":42560472,"body_markdown":"You can achieve this by adding a `@NotNull` validator to your mandatory properties. For example:\r\n\r\n    @NotNull\r\n    private String projectId;\r\n\r\n    public void setProjectId(String projectId) {\r\n        this.projectId = projectId;\r\n    }\r\n","title":"Spring Boot not failing when property is missing","body":"<p>You can achieve this by adding a <code>@NotNull</code> validator to your mandatory properties. For example:</p>\n\n<pre><code>@NotNull\nprivate String projectId;\n\npublic void setProjectId(String projectId) {\n    this.projectId = projectId;\n}\n</code></pre>\n"}],"owner":{"account_id":2228996,"reputation":15977,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2765,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":42560773,"answer_count":1,"score":6,"last_activity_date":1692827401,"creation_date":1488471307,"question_id":42560472,"body_markdown":"How can I make Spring-Boot fail during startup if any of the properties of a `@ConfigurationProperties` class is missing?\r\n\r\nIf I use `@Value(...)` instead, the auto-wiring fails as expected, but I want to centralise all properties into a `@ConfigurationProperties` class instead of using `@Value` references spread through the application.\r\n\r\nThe code:\r\n\r\n\r\n    @Component\r\n    @ConfigurationProperties(value = &quot;serving.api&quot;, ignoreUnknownFields = false)\r\n    public class ApplicationProperties {\r\n    \r\n        private String projectId;\r\n    \r\n        private String bigTableInstanceId;\r\n    \r\n        public String getProjectId() {\r\n            return projectId;\r\n        }\r\n    \r\n        public void setProjectId(String projectId) {\r\n            this.projectId = projectId;\r\n        }\r\n    \r\n        public String getBigTableInstanceId() {\r\n            return bigTableInstanceId;\r\n        }\r\n    \r\n        public void setBigTableInstanceId(String bigTableInstanceId) {\r\n            this.bigTableInstanceId = bigTableInstanceId;\r\n        }\r\n    \r\n    }","title":"Spring Boot not failing when property is missing","body":"<p>How can I make Spring-Boot fail during startup if any of the properties of a <code>@ConfigurationProperties</code> class is missing?</p>\n\n<p>If I use <code>@Value(...)</code> instead, the auto-wiring fails as expected, but I want to centralise all properties into a <code>@ConfigurationProperties</code> class instead of using <code>@Value</code> references spread through the application.</p>\n\n<p>The code:</p>\n\n<pre><code>@Component\n@ConfigurationProperties(value = \"serving.api\", ignoreUnknownFields = false)\npublic class ApplicationProperties {\n\n    private String projectId;\n\n    private String bigTableInstanceId;\n\n    public String getProjectId() {\n        return projectId;\n    }\n\n    public void setProjectId(String projectId) {\n        this.projectId = projectId;\n    }\n\n    public String getBigTableInstanceId() {\n        return bigTableInstanceId;\n    }\n\n    public void setBigTableInstanceId(String bigTableInstanceId) {\n        this.bigTableInstanceId = bigTableInstanceId;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","binary-search"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1692822365,"post_id":76964627,"comment_id":135678104,"body_markdown":"Could you please complete your code with an example array and how you call the function?","body":"Could you please complete your code with an example array and how you call the function?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":5,"creation_date":1692822733,"post_id":76964627,"comment_id":135678143,"body_markdown":"the only `return` from posted code is `-1` unless the value is found right at the start - what is happening with the values returned by the recursive calls? I recommend to remove the last `return -1;` - that one should never happen...","body":"the only <code>return</code> from posted code is <code>-1</code> unless the value is found right at the start - what is happening with the values returned by the recursive calls? I recommend to remove the last <code>return -1;</code> - that one should never happen..."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1692823186,"post_id":76964627,"comment_id":135678212,"body_markdown":"How did you try to debug your code?","body":"How did you try to debug your code?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1692823908,"post_id":76964627,"comment_id":135678310,"body_markdown":"Does this answer your question? [Recursive function in Java prints correct value but returns wrong one](https://stackoverflow.com/questions/74755285/recursive-function-in-java-prints-correct-value-but-returns-wrong-one)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74755285/recursive-function-in-java-prints-correct-value-but-returns-wrong-one\">Recursive function in Java prints correct value but returns wrong one</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692827202,"creation_date":1692827202,"answer_id":76965075,"question_id":76964627,"body_markdown":"You need to return the value from each recursive call and remove the last `return -1;` statement\r\n```\r\nint[] array = {1, 6, 7, 9, 11 , 16};\r\nfor (int target : new int[] {3, 7}) {\r\n   int index = recursiveBinarySearch(array, target, array.length, 0);\r\n   System.out.println(index &gt;= 0 ? array[index] : &quot;Target not found!&quot;);\r\n}    \r\n```\r\nprints\r\n```\r\nTarget not found!\r\n7\r\n```\r\n```\r\n\r\npublic static int recursiveBinarySearch(int array[], int key, int high, int low) {\r\n    \r\n    int mid = (high + low) / 2;\r\n    int middleNumber = array[mid];\r\n        \r\n    if (key == middleNumber )\r\n        return mid;\r\n    else if (low &gt; high)\r\n        return -1;\r\n        \r\n    else {\r\n        if (middleNumber &gt; key) {\r\n            high = mid - 1; \r\n            return recursiveBinarySearch(array, key, high, low);\r\n        }\r\n        \r\n        else {\r\n            low = mid + 1; \r\n            return recursiveBinarySearch(array, key, high, low);\r\n        }    \r\n    }\r\n}","title":"Recursive Implementation of Binary Search in Java","body":"<p>You need to return the value from each recursive call and remove the last <code>return -1;</code> statement</p>\n<pre><code>int[] array = {1, 6, 7, 9, 11 , 16};\nfor (int target : new int[] {3, 7}) {\n   int index = recursiveBinarySearch(array, target, array.length, 0);\n   System.out.println(index &gt;= 0 ? array[index] : &quot;Target not found!&quot;);\n}    \n</code></pre>\n<p>prints</p>\n<pre><code>Target not found!\n7\n</code></pre>\n<pre><code>\npublic static int recursiveBinarySearch(int array[], int key, int high, int low) {\n    \n    int mid = (high + low) / 2;\n    int middleNumber = array[mid];\n        \n    if (key == middleNumber )\n        return mid;\n    else if (low &gt; high)\n        return -1;\n        \n    else {\n        if (middleNumber &gt; key) {\n            high = mid - 1; \n            return recursiveBinarySearch(array, key, high, low);\n        }\n        \n        else {\n            low = mid + 1; \n            return recursiveBinarySearch(array, key, high, low);\n        }    \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29285838,"reputation":3,"user_id":22437441,"display_name":"Areeyoka John"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76965075,"answer_count":1,"score":-2,"last_activity_date":1692827202,"creation_date":1692821727,"question_id":76964627,"body_markdown":"I am trying to an implementation of the binary search in Java recursively.\r\n\r\n\r\nI came up with this and it only returns -1. However, I do not understand why this is the only result no matter what array I use. \r\n\r\nArray Example: array int =  {1, 6, 7, 9, 11 , 16};\r\n\r\n\r\nCall Example: recursiveBinarySearch(array, 7, array.length, 0);\r\n\r\n\r\n    public static int recursiveBinarySearch(int array[], int key, int high, int low) {\r\n\t\t\r\n\t\tint mid = (high + low) / 2;\r\n\t\tint middleNumber = array[mid];\r\n\t\t\t\r\n\t\tif (key == middleNumber )\r\n\t\t\treturn mid; \r\n\t\telse if (low &gt; high)\r\n\t\t\treturn -1;\r\n\t\t\t\r\n\t\telse {\r\n\t\t\tif (middleNumber &gt; key) {\r\n\t\t\t\thigh = mid - 1; \r\n\t\t\t\trecursiveBinarySearch(array, key, high, low);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\tlow = mid + 1; \r\n\t\t\t\trecursiveBinarySearch(array, key, high, low);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn -1;\r\n\t\t\r\n\t}","title":"Recursive Implementation of Binary Search in Java","body":"<p>I am trying to an implementation of the binary search in Java recursively.</p>\n<p>I came up with this and it only returns -1. However, I do not understand why this is the only result no matter what array I use.</p>\n<p>Array Example: array int =  {1, 6, 7, 9, 11 , 16};</p>\n<p>Call Example: recursiveBinarySearch(array, 7, array.length, 0);</p>\n<pre><code>public static int recursiveBinarySearch(int array[], int key, int high, int low) {\n    \n    int mid = (high + low) / 2;\n    int middleNumber = array[mid];\n        \n    if (key == middleNumber )\n        return mid; \n    else if (low &gt; high)\n        return -1;\n        \n    else {\n        if (middleNumber &gt; key) {\n            high = mid - 1; \n            recursiveBinarySearch(array, key, high, low);\n        }\n        \n        else {\n            low = mid + 1; \n            recursiveBinarySearch(array, key, high, low);\n        }\n        \n    }\n    \n    return -1;\n    \n}\n</code></pre>\n"},{"tags":["java","double-quotes"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1692798508,"post_id":76961640,"comment_id":135673324,"body_markdown":"Those are some rather ugly screen shots, and they can draw attention away from what you are asking. Are you able to include, in the question, body, the important and relevant information *as text*?  Images of text are [not well received](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors) here.","body":"Those are some rather ugly screen shots, and they can draw attention away from what you are asking. Are you able to include, in the question, body, the important and relevant information <i>as text</i>?  Images of text are <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">not well received</a> here."},{"owner":{"account_id":5754041,"reputation":51,"user_id":11751666,"display_name":"aaa"},"score":0,"creation_date":1692805765,"post_id":76961640,"comment_id":135675101,"body_markdown":"please ignore the screen shots and only read the code snippets I added, I think it&#39;s clear enough, please let me know if not","body":"please ignore the screen shots and only read the code snippets I added, I think it&#39;s clear enough, please let me know if not"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1692811024,"post_id":76961640,"comment_id":135676115,"body_markdown":"I can barely tell whatâ€™s happening here.  As Old Dog said, the screen shots are very hard to read.  The first screen shot has some code on lines 592 to 603, which we cannot see.  While this appears to have something to do with escape characters, I cannot tell what is a String literal and what is a printed string value.  Please provide us with lines of code, and please explain with text, not images, what the output is and how you obtained that output (such as println statements, debugger windows, etc.).","body":"I can barely tell whatâ€™s happening here.  As Old Dog said, the screen shots are very hard to read.  The first screen shot has some code on lines 592 to 603, which we cannot see.  While this appears to have something to do with escape characters, I cannot tell what is a String literal and what is a printed string value.  Please provide us with lines of code, and please explain with text, not images, what the output is and how you obtained that output (such as println statements, debugger windows, etc.)."},{"owner":{"account_id":5754041,"reputation":51,"user_id":11751666,"display_name":"aaa"},"score":0,"creation_date":1692814329,"post_id":76961640,"comment_id":135676684,"body_markdown":"@OldDogProgrammer - I updated the post, I hope it&#39;s clearer now. thanks!!","body":"@OldDogProgrammer - I updated the post, I hope it&#39;s clearer now. thanks!!"},{"owner":{"account_id":5754041,"reputation":51,"user_id":11751666,"display_name":"aaa"},"score":0,"creation_date":1692814341,"post_id":76961640,"comment_id":135676688,"body_markdown":"@VGR - I updated the post, I hope it&#39;s clearer now. thanks!!","body":"@VGR - I updated the post, I hope it&#39;s clearer now. thanks!!"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692820137,"post_id":76961640,"comment_id":135677739,"body_markdown":"I am not familiar with Velocity (though Iâ€™ve heard of it).  Is there a reason /graphQLTemplates/feedbackDataByDateRange.vm starts and ends with `&quot;`?  That fileâ€™s content is not JSON, but rather a string containing a depiction of JSON, which seems unusual to me.  If it were just regular JSON, you could get rid of most of those backslashes, which would make everything easier to understand.","body":"I am not familiar with Velocity (though Iâ€™ve heard of it).  Is there a reason /graphQLTemplates/feedbackDataByDateRange.vm starts and ends with <code>&quot;</code>?  That fileâ€™s content is not JSON, but rather a string containing a depiction of JSON, which seems unusual to me.  If it were just regular JSON, you could get rid of most of those backslashes, which would make everything easier to understand."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692825121,"creation_date":1692802491,"answer_id":76962591,"question_id":76961640,"body_markdown":"&gt; _&quot;... The api expects to receive the string in the following format (same to value when I copy from variable): ...&quot;_\r\n\r\nIt looks like the _query_ needs to be _&quot;[escaped](https://en.wikipedia.org/wiki/Escape_sequence)&quot;_.  \r\nYou&#39;ll need to add a `\\` before every `&quot;`.\r\n\r\nYou can use the _[String#replace](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence))_ method to escape the values.\r\n\r\nThis will preserve the `\\&quot;` sequences when copy and pasting the value.\r\n\r\n```java\r\nString string = &quot;{ \\&quot;query\\&quot;: \\&quot;query getMecFeedbackDataByDateRange( $filter: Filter, $numPerPage: Int!, $orderBy: [RecordOrder] ) { feedback( filter: $filter, first: $numPerPage, orderBy: $orderBy ) { nodes { e_bp_digital_uuid_txt: fieldValue(fieldId: \\\\\\&quot;e_bp_digital_uuid_txt\\\\\\&quot;) responsedate: fieldValue(fieldId: \\\\\\&quot;e_responsedate\\\\\\&quot;) } totalCount pageInfo { endCursor hasNextPage } } }\\&quot;, \\&quot;variables\\&quot;: { \\&quot;filter\\&quot;: { \\&quot;and\\&quot;: [ { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;gte\\&quot;: \\&quot;2023-08-22 01:52:15\\&quot; }, { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;lte\\&quot;: \\&quot;2023-08-24 01:57:15\\&quot; } ] }, \\&quot;numPerPage\\&quot;: 1000, \\&quot;orderBy\\&quot;: [ { \\&quot;fieldId\\&quot;: \\&quot;e_responsedate\\&quot;, \\&quot;direction\\&quot;: \\&quot;DESC\\&quot; } ] }}&quot;;\r\nstring = string.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;).replace(&quot;\\\\\\\\\\&quot;&quot;, &quot;\\\\\\\\\\\\\\&quot;&quot;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{ \\&quot;query\\&quot;: \\&quot;query getMecFeedbackDataByDateRange( $filter: Filter, $numPerPage: Int!, $orderBy: [RecordOrder] ) { feedback( filter: $filter, first: $numPerPage, orderBy: $orderBy ) { nodes { e_bp_digital_uuid_txt: fieldValue(fieldId: \\\\\\&quot;e_bp_digital_uuid_txt\\\\\\&quot;) responsedate: fieldValue(fieldId: \\\\\\&quot;e_responsedate\\\\\\&quot;) } totalCount pageInfo { endCursor hasNextPage } } }\\&quot;, \\&quot;variables\\&quot;: { \\&quot;filter\\&quot;: { \\&quot;and\\&quot;: [ { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;gte\\&quot;: \\&quot;2023-08-22 01:52:15\\&quot; }, { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;lte\\&quot;: \\&quot;2023-08-24 01:57:15\\&quot; } ] }, \\&quot;numPerPage\\&quot;: 1000, \\&quot;orderBy\\&quot;: [ { \\&quot;fieldId\\&quot;: \\&quot;e_responsedate\\&quot;, \\&quot;direction\\&quot;: \\&quot;DESC\\&quot; } ] }}\r\n```","title":"Different values when I send a string (with quotes) as a parameter and when I send as a string (take the string from parameter)","body":"<blockquote>\n<p><em>&quot;... The api expects to receive the string in the following format (same to value when I copy from variable): ...&quot;</em></p>\n</blockquote>\n<p>It looks like the <em>query</em> needs to be <em>&quot;<a href=\"https://en.wikipedia.org/wiki/Escape_sequence\" rel=\"nofollow noreferrer\">escaped</a>&quot;</em>.<br />\nYou'll need to add a <code>\\</code> before every <code>&quot;</code>.</p>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String#replace</a></em> method to escape the values.</p>\n<p>This will preserve the <code>\\&quot;</code> sequences when copy and pasting the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;{ \\&quot;query\\&quot;: \\&quot;query getMecFeedbackDataByDateRange( $filter: Filter, $numPerPage: Int!, $orderBy: [RecordOrder] ) { feedback( filter: $filter, first: $numPerPage, orderBy: $orderBy ) { nodes { e_bp_digital_uuid_txt: fieldValue(fieldId: \\\\\\&quot;e_bp_digital_uuid_txt\\\\\\&quot;) responsedate: fieldValue(fieldId: \\\\\\&quot;e_responsedate\\\\\\&quot;) } totalCount pageInfo { endCursor hasNextPage } } }\\&quot;, \\&quot;variables\\&quot;: { \\&quot;filter\\&quot;: { \\&quot;and\\&quot;: [ { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;gte\\&quot;: \\&quot;2023-08-22 01:52:15\\&quot; }, { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;lte\\&quot;: \\&quot;2023-08-24 01:57:15\\&quot; } ] }, \\&quot;numPerPage\\&quot;: 1000, \\&quot;orderBy\\&quot;: [ { \\&quot;fieldId\\&quot;: \\&quot;e_responsedate\\&quot;, \\&quot;direction\\&quot;: \\&quot;DESC\\&quot; } ] }}&quot;;\nstring = string.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;).replace(&quot;\\\\\\\\\\&quot;&quot;, &quot;\\\\\\\\\\\\\\&quot;&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{ \\&quot;query\\&quot;: \\&quot;query getMecFeedbackDataByDateRange( $filter: Filter, $numPerPage: Int!, $orderBy: [RecordOrder] ) { feedback( filter: $filter, first: $numPerPage, orderBy: $orderBy ) { nodes { e_bp_digital_uuid_txt: fieldValue(fieldId: \\\\\\&quot;e_bp_digital_uuid_txt\\\\\\&quot;) responsedate: fieldValue(fieldId: \\\\\\&quot;e_responsedate\\\\\\&quot;) } totalCount pageInfo { endCursor hasNextPage } } }\\&quot;, \\&quot;variables\\&quot;: { \\&quot;filter\\&quot;: { \\&quot;and\\&quot;: [ { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;gte\\&quot;: \\&quot;2023-08-22 01:52:15\\&quot; }, { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;lte\\&quot;: \\&quot;2023-08-24 01:57:15\\&quot; } ] }, \\&quot;numPerPage\\&quot;: 1000, \\&quot;orderBy\\&quot;: [ { \\&quot;fieldId\\&quot;: \\&quot;e_responsedate\\&quot;, \\&quot;direction\\&quot;: \\&quot;DESC\\&quot; } ] }}\n</code></pre>\n"}],"owner":{"account_id":5754041,"reputation":51,"user_id":11751666,"display_name":"aaa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692825121,"creation_date":1692795856,"question_id":76961640,"body_markdown":"I have a variable that contains string.\r\nwhen I send the variable to the api as param, I get an error.\r\n\r\nwhen I copy the value from variable and send to api, it works well. \r\n\r\nI think its related to behavior of the compiler in the context of `\\&quot;`.\r\n\r\nThe api:\r\n\r\n```\r\n    @PostMapping(value = &quot;/data/v0/query&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n    JsonNode mecGraphQLQuery(\r\n            @RequestHeader(HttpHeaders.AUTHORIZATION) String bearerToken,\r\n            @RequestBody String query\r\n    );\r\n\r\n```\r\nThe api expects to receive the &#39;query&#39; param in the following format:\r\n\r\n```\r\n &quot;{ \\&quot;query\\&quot;: \\&quot;query getMecFeedbackDataByDateRange( $filter: Filter, $numPerPage: Int!, $orderBy: [RecordOrder] ) { feedback( filter: $filter, first: $numPerPage, orderBy: $orderBy ) { nodes { e_bp_digital_uuid_txt: fieldValue(fieldId: \\\\\\&quot;e_bp_digital_uuid_txt\\\\\\&quot;) responsedate: fieldValue(fieldId: \\\\\\&quot;e_responsedate\\\\\\&quot;) } totalCount pageInfo { endCursor hasNextPage } } }\\&quot;, \\&quot;variables\\&quot;: { \\&quot;filter\\&quot;: { \\&quot;and\\&quot;: [ { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;gte\\&quot;: \\&quot;2023-08-22 01:52:15\\&quot; }, { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;lte\\&quot;: \\&quot;2023-08-24 01:57:15\\&quot; } ] }, \\&quot;numPerPage\\&quot;: 1000, \\&quot;orderBy\\&quot;: [ { \\&quot;fieldId\\&quot;: \\&quot;e_responsedate\\&quot;, \\&quot;direction\\&quot;: \\&quot;DESC\\&quot; } ] }}&quot;\r\n```\r\n\r\nI generate the value of a &#39;query&#39; param from a Velocity file:\r\n\r\n```\r\npublic String getMecFeedbackDataByDateRangeQuery(String host, String mecAccessToken, String fromDate, String toDate, Set&lt;MecField&gt; fieldNames) {\r\n        Preconditions.checkArgument(!fieldNames.isEmpty(), &quot;List of fields must not be empty!&quot;);\r\n        Map&lt;String,Object&gt; velocityContext = new HashMap&lt;&gt;();\r\n        velocityContext.put(&quot;fromDate&quot;, fromDate);\r\n        velocityContext.put(&quot;toDate&quot;, toDate);\r\n        velocityContext.put(&quot;fieldNames&quot;, fieldNames);\r\n        String query = generateGraphQLQuery(velocityContext, &quot;/graphQLTemplates/feedbackDataByDateRange.vm&quot;);\r\n        log.info(&quot;MEC GraphQL Query: &quot; + query);\r\n        return query.replace(&quot;\\n&quot;, &quot;&quot;);\r\n}\r\n\r\n\r\nString query = graphQLFeedbackClient.getMecFeedbackDataByDateRangeQuery(mecIntegrationConfiguration.getHostHeader(), mecAccessToken, fromDateAsString, toDateAsString, fieldNames);\r\n\r\n\r\n```\r\n\r\n/graphQLTemplates/feedbackDataByDateRange.vm:\r\n\r\n```\r\n&quot;{\r\n    \\&quot;query\\&quot;:\r\n      \\&quot;query getMecFeedbackDataByDateRange( $filter: Filter, $numPerPage: Int!, $orderBy: [RecordOrder] ) {\r\n        feedback(\r\n            filter: $filter,\r\n            first: $numPerPage,\r\n            orderBy: $orderBy\r\n        ) {\r\n          nodes {\r\n            #foreach ($field in $fieldNames)\r\n              $field.getField(): fieldValue(fieldId: \\\\\\&quot;$field.getField()\\\\\\&quot;)\r\n            #end\r\n            responsedate: fieldValue(fieldId: \\\\\\&quot;e_responsedate\\\\\\&quot;)\r\n          }\r\n          totalCount\r\n          pageInfo {\r\n           endCursor\r\n           hasNextPage\r\n          }\r\n        }\r\n      }\\&quot;,\r\n    \\&quot;variables\\&quot;:\r\n    {\r\n      \\&quot;filter\\&quot;: {\r\n        \\&quot;and\\&quot;: [\r\n          {\r\n            \\&quot;fieldIds\\&quot;: [\r\n              \\&quot;e_responsedate\\&quot;\r\n            ],\r\n            \\&quot;gte\\&quot;: \\&quot;$fromDate\\&quot;\r\n          },\r\n          {\r\n            \\&quot;fieldIds\\&quot;: [\r\n              \\&quot;e_responsedate\\&quot;\r\n            ],\r\n            \\&quot;lte\\&quot;: \\&quot;$toDate\\&quot;\r\n          }\r\n        ]\r\n      },\r\n    \\&quot;numPerPage\\&quot;: 1000,\r\n      \\&quot;orderBy\\&quot;: [\r\n        {\r\n          \\&quot;fieldId\\&quot;: \\&quot;e_responsedate\\&quot;,\r\n          \\&quot;direction\\&quot;: \\&quot;DESC\\&quot;\r\n        }\r\n      ]\r\n    }\r\n}&quot;\r\n```\r\n\r\nwhen I send the &#39;query&#39; variable as param to api - I get error (&#39;invalid input data&#39;):\r\n```\r\nmecApisGraphQLClient.mecGraphQLQuery(MecGraphQLClient.BEARER_PREFIX + mecAccessToken, query)\r\n```\r\n\r\nwhen I copy the data of &#39;query&#39; variable (right click on the &#39;query&#39; variable -&gt; copy value) and send as is to the api - it works fine:\r\n```\r\nmecApisGraphQLClient.mecGraphQLQuery(MecGraphQLClient.BEARER_PREFIX + mecAccessToken, &quot;{ \\&quot;query\\&quot;: \\&quot;query getMecFeedbackDataByDateRange( $filter: Filter, $numPerPage: Int!, $orderBy: [RecordOrder] ) { feedback( filter: $filter, first: $numPerPage, orderBy: $orderBy ) { nodes { e_bp_digital_uuid_txt: fieldValue(fieldId: \\\\\\&quot;e_bp_digital_uuid_txt\\\\\\&quot;) responsedate: fieldValue(fieldId: \\\\\\&quot;e_responsedate\\\\\\&quot;) } totalCount pageInfo { endCursor hasNextPage } } }\\&quot;, \\&quot;variables\\&quot;: { \\&quot;filter\\&quot;: { \\&quot;and\\&quot;: [ { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;gte\\&quot;: \\&quot;2023-08-22 01:52:15\\&quot; }, { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;lte\\&quot;: \\&quot;2023-08-24 01:57:15\\&quot; } ] }, \\&quot;numPerPage\\&quot;: 1000, \\&quot;orderBy\\&quot;: [ { \\&quot;fieldId\\&quot;: \\&quot;e_responsedate\\&quot;, \\&quot;direction\\&quot;: \\&quot;DESC\\&quot; } ] }}&quot;);\r\n```\r\n\r\n\r\n \r\nI get delta from&#39;DiffUtils.diff&#39;:\r\n[![enter image description here][5]][5]\r\n\r\n\r\n**do you know this behavior? how can I send the string as I take it from the variable?**\r\n\r\nthanks!\r\n\r\n  [5]: https://i.stack.imgur.com/bEnGW.png","title":"Different values when I send a string (with quotes) as a parameter and when I send as a string (take the string from parameter)","body":"<p>I have a variable that contains string.\nwhen I send the variable to the api as param, I get an error.</p>\n<p>when I copy the value from variable and send to api, it works well.</p>\n<p>I think its related to behavior of the compiler in the context of <code>\\&quot;</code>.</p>\n<p>The api:</p>\n<pre><code>    @PostMapping(value = &quot;/data/v0/query&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\n    JsonNode mecGraphQLQuery(\n            @RequestHeader(HttpHeaders.AUTHORIZATION) String bearerToken,\n            @RequestBody String query\n    );\n\n</code></pre>\n<p>The api expects to receive the 'query' param in the following format:</p>\n<pre><code> &quot;{ \\&quot;query\\&quot;: \\&quot;query getMecFeedbackDataByDateRange( $filter: Filter, $numPerPage: Int!, $orderBy: [RecordOrder] ) { feedback( filter: $filter, first: $numPerPage, orderBy: $orderBy ) { nodes { e_bp_digital_uuid_txt: fieldValue(fieldId: \\\\\\&quot;e_bp_digital_uuid_txt\\\\\\&quot;) responsedate: fieldValue(fieldId: \\\\\\&quot;e_responsedate\\\\\\&quot;) } totalCount pageInfo { endCursor hasNextPage } } }\\&quot;, \\&quot;variables\\&quot;: { \\&quot;filter\\&quot;: { \\&quot;and\\&quot;: [ { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;gte\\&quot;: \\&quot;2023-08-22 01:52:15\\&quot; }, { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;lte\\&quot;: \\&quot;2023-08-24 01:57:15\\&quot; } ] }, \\&quot;numPerPage\\&quot;: 1000, \\&quot;orderBy\\&quot;: [ { \\&quot;fieldId\\&quot;: \\&quot;e_responsedate\\&quot;, \\&quot;direction\\&quot;: \\&quot;DESC\\&quot; } ] }}&quot;\n</code></pre>\n<p>I generate the value of a 'query' param from a Velocity file:</p>\n<pre><code>public String getMecFeedbackDataByDateRangeQuery(String host, String mecAccessToken, String fromDate, String toDate, Set&lt;MecField&gt; fieldNames) {\n        Preconditions.checkArgument(!fieldNames.isEmpty(), &quot;List of fields must not be empty!&quot;);\n        Map&lt;String,Object&gt; velocityContext = new HashMap&lt;&gt;();\n        velocityContext.put(&quot;fromDate&quot;, fromDate);\n        velocityContext.put(&quot;toDate&quot;, toDate);\n        velocityContext.put(&quot;fieldNames&quot;, fieldNames);\n        String query = generateGraphQLQuery(velocityContext, &quot;/graphQLTemplates/feedbackDataByDateRange.vm&quot;);\n        log.info(&quot;MEC GraphQL Query: &quot; + query);\n        return query.replace(&quot;\\n&quot;, &quot;&quot;);\n}\n\n\nString query = graphQLFeedbackClient.getMecFeedbackDataByDateRangeQuery(mecIntegrationConfiguration.getHostHeader(), mecAccessToken, fromDateAsString, toDateAsString, fieldNames);\n\n\n</code></pre>\n<p>/graphQLTemplates/feedbackDataByDateRange.vm:</p>\n<pre><code>&quot;{\n    \\&quot;query\\&quot;:\n      \\&quot;query getMecFeedbackDataByDateRange( $filter: Filter, $numPerPage: Int!, $orderBy: [RecordOrder] ) {\n        feedback(\n            filter: $filter,\n            first: $numPerPage,\n            orderBy: $orderBy\n        ) {\n          nodes {\n            #foreach ($field in $fieldNames)\n              $field.getField(): fieldValue(fieldId: \\\\\\&quot;$field.getField()\\\\\\&quot;)\n            #end\n            responsedate: fieldValue(fieldId: \\\\\\&quot;e_responsedate\\\\\\&quot;)\n          }\n          totalCount\n          pageInfo {\n           endCursor\n           hasNextPage\n          }\n        }\n      }\\&quot;,\n    \\&quot;variables\\&quot;:\n    {\n      \\&quot;filter\\&quot;: {\n        \\&quot;and\\&quot;: [\n          {\n            \\&quot;fieldIds\\&quot;: [\n              \\&quot;e_responsedate\\&quot;\n            ],\n            \\&quot;gte\\&quot;: \\&quot;$fromDate\\&quot;\n          },\n          {\n            \\&quot;fieldIds\\&quot;: [\n              \\&quot;e_responsedate\\&quot;\n            ],\n            \\&quot;lte\\&quot;: \\&quot;$toDate\\&quot;\n          }\n        ]\n      },\n    \\&quot;numPerPage\\&quot;: 1000,\n      \\&quot;orderBy\\&quot;: [\n        {\n          \\&quot;fieldId\\&quot;: \\&quot;e_responsedate\\&quot;,\n          \\&quot;direction\\&quot;: \\&quot;DESC\\&quot;\n        }\n      ]\n    }\n}&quot;\n</code></pre>\n<p>when I send the 'query' variable as param to api - I get error ('invalid input data'):</p>\n<pre><code>mecApisGraphQLClient.mecGraphQLQuery(MecGraphQLClient.BEARER_PREFIX + mecAccessToken, query)\n</code></pre>\n<p>when I copy the data of 'query' variable (right click on the 'query' variable -&gt; copy value) and send as is to the api - it works fine:</p>\n<pre><code>mecApisGraphQLClient.mecGraphQLQuery(MecGraphQLClient.BEARER_PREFIX + mecAccessToken, &quot;{ \\&quot;query\\&quot;: \\&quot;query getMecFeedbackDataByDateRange( $filter: Filter, $numPerPage: Int!, $orderBy: [RecordOrder] ) { feedback( filter: $filter, first: $numPerPage, orderBy: $orderBy ) { nodes { e_bp_digital_uuid_txt: fieldValue(fieldId: \\\\\\&quot;e_bp_digital_uuid_txt\\\\\\&quot;) responsedate: fieldValue(fieldId: \\\\\\&quot;e_responsedate\\\\\\&quot;) } totalCount pageInfo { endCursor hasNextPage } } }\\&quot;, \\&quot;variables\\&quot;: { \\&quot;filter\\&quot;: { \\&quot;and\\&quot;: [ { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;gte\\&quot;: \\&quot;2023-08-22 01:52:15\\&quot; }, { \\&quot;fieldIds\\&quot;: [ \\&quot;e_responsedate\\&quot; ], \\&quot;lte\\&quot;: \\&quot;2023-08-24 01:57:15\\&quot; } ] }, \\&quot;numPerPage\\&quot;: 1000, \\&quot;orderBy\\&quot;: [ { \\&quot;fieldId\\&quot;: \\&quot;e_responsedate\\&quot;, \\&quot;direction\\&quot;: \\&quot;DESC\\&quot; } ] }}&quot;);\n</code></pre>\n<p>I get delta from'DiffUtils.diff':\n<a href=\"https://i.stack.imgur.com/bEnGW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bEnGW.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>do you know this behavior? how can I send the string as I take it from the variable?</strong></p>\n<p>thanks!</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1621891704,"post_id":67679090,"comment_id":119626180,"body_markdown":"Set the format to `..SSS&#39;Z&#39;`?","body":"Set the format to <code>..SSS&#39;Z&#39;</code>?"},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":1,"creation_date":1621941011,"post_id":67679090,"comment_id":119639723,"body_markdown":"My assumption is that this would add a static char &quot;Z&quot; regardless of the timezone?  If the timezone happened to be +1000, then it should not show Z in this case...","body":"My assumption is that this would add a static char &quot;Z&quot; regardless of the timezone?  If the timezone happened to be +1000, then it should not show Z in this case..."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1621952471,"post_id":67679090,"comment_id":119645681,"body_markdown":"See https://stackoverflow.com/q/8405087/2541560 and https://stackoverflow.com/q/7556851/2541560","body":"See <a href=\"https://stackoverflow.com/q/8405087/2541560\">stackoverflow.com/q/8405087/2541560</a> and <a href=\"https://stackoverflow.com/q/7556851/2541560\">stackoverflow.com/q/7556851/2541560</a>"},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":1,"creation_date":1621954114,"post_id":67679090,"comment_id":119646562,"body_markdown":"Thanks, but those two are both for the de-serialisation, which works fine. Its the serialization which is not working as desired.","body":"Thanks, but those two are both for the de-serialisation, which works fine. Its the serialization which is not working as desired."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1621965126,"post_id":67679090,"comment_id":119651829,"body_markdown":"That&#39;s completely irrelevant since your issue is with date formatting.","body":"That&#39;s completely irrelevant since your issue is with date formatting."},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1622017545,"post_id":67679090,"comment_id":119665766,"body_markdown":"Date formatting works fine in de-serialiseation: I can read Z ok. I just cant get gson to write it. Those posts do not address this unfortunately.","body":"Date formatting works fine in de-serialiseation: I can read Z ok. I just cant get gson to write it. Those posts do not address this unfortunately."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1622018082,"post_id":67679090,"comment_id":119666009,"body_markdown":"Unfortunately for you, I guess. Many people can get a lot of information out of them. You&#39;re not making a lot of effort to solve your own problem, are you?","body":"Unfortunately for you, I guess. Many people can get a lot of information out of them. You&#39;re not making a lot of effort to solve your own problem, are you?"}],"answers":[{"tags":[],"owner":{"account_id":112547,"reputation":6206,"user_id":296829,"accept_rate":73,"display_name":"Steve Kehlet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692824845,"creation_date":1692824845,"answer_id":76964890,"question_id":67679090,"body_markdown":"Yes, use `X`. From [the DateTimeFormatter docs](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html):\r\n\r\n```\r\n   X       zone-offset &#39;Z&#39; for zero    offset-X          Z; -08; -0830; -08:30; -083015; -08:30:15;\r\n```\r\n\r\nSo a format string like `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX` will give you a date like `2022-07-26T16:46:35.247Z`.\r\n","title":"java Gson json formatter, is it possible to ouptput Z instead of +0000?","body":"<p>Yes, use <code>X</code>. From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">the DateTimeFormatter docs</a>:</p>\n<pre><code>   X       zone-offset 'Z' for zero    offset-X          Z; -08; -0830; -08:30; -083015; -08:30:15;\n</code></pre>\n<p>So a format string like <code>yyyy-MM-dd'T'HH:mm:ss.SSSX</code> will give you a date like <code>2022-07-26T16:46:35.247Z</code>.</p>\n"}],"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692824845,"creation_date":1621891270,"question_id":67679090,"body_markdown":"I need to read in some json, sort it, then output it again.   I am using this to de-seralise and serialise the json:\r\n\r\n    \tprivate static Gson gson = new GsonBuilder()\r\n\t\t\t.setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;)\r\n\t\t\t.create();\r\n\r\nIf I parse this to a Date:\r\n\r\n    &quot;activedDate&quot;: &quot;2021-04-20T21:48:04.107Z&quot;,\r\n\r\nThen output it again as Json, I get this:\r\n\r\n    &quot;activedDate&quot;: &quot;2021-04-20T21:48:04.107+0000&quot;,\r\n\r\nBut I need it to have Z instead of +0000 if possible.\r\n\r\nIs this possible (without hacking the resultant strings)?\r\n\r\nI am forcing my laptop to UTC thusly:\r\n\r\n    java -Duser.timezone=UTC  -jar my.jar\r\n\r\n\r\n","title":"java Gson json formatter, is it possible to ouptput Z instead of +0000?","body":"<p>I need to read in some json, sort it, then output it again.   I am using this to de-seralise and serialise the json:</p>\n<pre><code>    private static Gson gson = new GsonBuilder()\n        .setDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;)\n        .create();\n</code></pre>\n<p>If I parse this to a Date:</p>\n<pre><code>&quot;activedDate&quot;: &quot;2021-04-20T21:48:04.107Z&quot;,\n</code></pre>\n<p>Then output it again as Json, I get this:</p>\n<pre><code>&quot;activedDate&quot;: &quot;2021-04-20T21:48:04.107+0000&quot;,\n</code></pre>\n<p>But I need it to have Z instead of +0000 if possible.</p>\n<p>Is this possible (without hacking the resultant strings)?</p>\n<p>I am forcing my laptop to UTC thusly:</p>\n<pre><code>java -Duser.timezone=UTC  -jar my.jar\n</code></pre>\n"},{"tags":["java","kotlin","unit-testing","error-handling","rx-java"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1692868934,"post_id":76964878,"comment_id":135683503,"body_markdown":"For example, the error handler adds the exception to a list or field. In your test method, you check the list or field and throw its content.","body":"For example, the error handler adds the exception to a list or field. In your test method, you check the list or field and throw its content."}],"owner":{"account_id":23242379,"reputation":15,"user_id":17331466,"display_name":"RAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692824745,"creation_date":1692824745,"question_id":76964878,"body_markdown":"I&#39;m writing a unit test which is testing a scenario an exception is being thrown from RX. \r\nI do have an Rx errorHandler, and I want to throw the exception in this case.\r\n```\r\nRxJavaPlugins.setErrorHandler { it : Throwable -&gt; \r\n     if(it meets the condition){\r\n         throw it\r\n     }\r\n}\r\n```\r\n\r\nHow do I catch the exception thrown in the unit test so the test passes? \r\nI keep getting &#39;UndeliverableException: The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with&#39;.","title":"Unit test an exception being thrown from RX errorHandler - kotlin/java","body":"<p>I'm writing a unit test which is testing a scenario an exception is being thrown from RX.\nI do have an Rx errorHandler, and I want to throw the exception in this case.</p>\n<pre><code>RxJavaPlugins.setErrorHandler { it : Throwable -&gt; \n     if(it meets the condition){\n         throw it\n     }\n}\n</code></pre>\n<p>How do I catch the exception thrown in the unit test so the test passes?\nI keep getting 'UndeliverableException: The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with'.</p>\n"},{"tags":["java","spring","spring-mvc","dependency-injection","spring-data-jpa"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1532585880,"post_id":51530140,"comment_id":90031878,"body_markdown":"Do you have `spring-boot-starter-data-jpa` in your dependencies (if you are using Boot) or @EnableJpaRepositories on your context configuration?","body":"Do you have <code>spring-boot-starter-data-jpa</code> in your dependencies (if you are using Boot) or @EnableJpaRepositories on your context configuration?"},{"owner":{"account_id":6660324,"reputation":785,"user_id":5139637,"accept_rate":63,"display_name":"user5139637"},"score":0,"creation_date":1532606361,"post_id":51530140,"comment_id":90044056,"body_markdown":"No, I do not have that dependency. But I am also not using @EnableJpaRepositories","body":"No, I do not have that dependency. But I am also not using @EnableJpaRepositories"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1532608380,"post_id":51530140,"comment_id":90045370,"body_markdown":"You should have one of those because that&#39;s what&#39;s creating the repositories.","body":"You should have one of those because that&#39;s what&#39;s creating the repositories."},{"owner":{"account_id":6660324,"reputation":785,"user_id":5139637,"accept_rate":63,"display_name":"user5139637"},"score":0,"creation_date":1532621609,"post_id":51530140,"comment_id":90054351,"body_markdown":"Ok. So where should I place that annotation? In my controller? Also, I am not using Spring Boot, so should I still use @EnableJpaRepositories","body":"Ok. So where should I place that annotation? In my controller? Also, I am not using Spring Boot, so should I still use @EnableJpaRepositories"},{"owner":{"account_id":8026737,"reputation":391,"user_id":6053371,"display_name":"Vlad D."},"score":0,"creation_date":1658639616,"post_id":51530140,"comment_id":129098679,"body_markdown":"It looks like your project dependencies are mismanaged, check out how to set up a basic spring-boot app with jpa and/or use &quot;start.spring.io&quot; tool to see how its pom/gradle would typically look like. \nBtw, AbstractMethodError tells that you most likely have a dependency version conflict.","body":"It looks like your project dependencies are mismanaged, check out how to set up a basic spring-boot app with jpa and/or use &quot;start.spring.io&quot; tool to see how its pom/gradle would typically look like.  Btw, AbstractMethodError tells that you most likely have a dependency version conflict."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532633846,"creation_date":1532633846,"answer_id":51546342,"question_id":51530140,"body_markdown":"You need to put a `EnableJpaRepositories` on your configuration. Just like `EnableWebMvc`. This triggers the creation of repository beans.\r\n\r\nIf you&#39;d use Spring Boot you instead could also add the `spring-boot-starter-data-jpa` dependency which does the same through some autoconfiguration magic.","title":"UnsatisfiedDependencyException : Error creating bean with name &#39;HController&#39; caused by NoSuchBeanDefinitionException:","body":"<p>You need to put a <code>EnableJpaRepositories</code> on your configuration. Just like <code>EnableWebMvc</code>. This triggers the creation of repository beans.</p>\n\n<p>If you'd use Spring Boot you instead could also add the <code>spring-boot-starter-data-jpa</code> dependency which does the same through some autoconfiguration magic.</p>\n"},{"tags":[],"owner":{"account_id":8026737,"reputation":391,"user_id":6053371,"display_name":"Vlad D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658641711,"creation_date":1658641711,"answer_id":73096073,"question_id":51530140,"body_markdown":"Before your update, you had a problem that there was no bean of type UserRepository. For it to become a bean, you need something that would pick up this repository interface and create a repository bean out of it. This is what `spring-data-jpa` module does. In your case, you seem like don&#39;t have an autoconfiguration module to do the job, so you had to enable it manually by adding `@EnableJpaRepositories`.\r\nBy adding `@EnableJpaRepositories`, you made spring to consider these repository interfaces and try to create a bean, but something went wrong... I would guess you are using `spring-data-jpa` module, and its explicitly set version is not in sync with spring core or something - make sure all your spring dependencies are always in sync.\r\n","title":"UnsatisfiedDependencyException : Error creating bean with name &#39;HController&#39; caused by NoSuchBeanDefinitionException:","body":"<p>Before your update, you had a problem that there was no bean of type UserRepository. For it to become a bean, you need something that would pick up this repository interface and create a repository bean out of it. This is what <code>spring-data-jpa</code> module does. In your case, you seem like don't have an autoconfiguration module to do the job, so you had to enable it manually by adding <code>@EnableJpaRepositories</code>.\nBy adding <code>@EnableJpaRepositories</code>, you made spring to consider these repository interfaces and try to create a bean, but something went wrong... I would guess you are using <code>spring-data-jpa</code> module, and its explicitly set version is not in sync with spring core or something - make sure all your spring dependencies are always in sync.</p>\n"}],"owner":{"account_id":6660324,"reputation":785,"user_id":5139637,"accept_rate":63,"display_name":"user5139637"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9908,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692824520,"creation_date":1532572164,"question_id":51530140,"body_markdown":"I am new to spring and I am trying to use spring&#39;s [CrudRepository][1]. I am receiving a `NoSuchBeanDefinitionException` exception when I try to auto wire a class that implements `org.springframework.data.repository.CrudRepository`. I researched my error and made sure that all my files were under the same package, but I still get this error, and I am having difficulties solving it.\r\n\r\nHere is the controller:\r\n\r\n    package com.H.spring.security.config.core;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class HController {\r\n    \r\n        @Autowired \r\n        private UserRepository userRepository;\r\n    \r\n        @GetMapping(path=&quot;/add&quot;) // Map ONLY GET Requests\r\n        public @ResponseBody String addNewUser (@RequestParam String name\r\n                , @RequestParam String email) {\r\n            User n = new User();\r\n            n.setName(name);\r\n            n.setEmail(email);\r\n            userRepository.save(n);\r\n            return &quot;Saved&quot;;\r\n        }\r\n    \r\n        @GetMapping(path=&quot;/all&quot;)\r\n        public @ResponseBody Iterable&lt;User&gt; getAllUsers() {\r\n            // This returns a JSON or XML with the users\r\n            return userRepository.findAll();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nHere is the UserRepository:\r\n\r\n    package com.H.spring.security.config.core;\r\n    \r\n    import org.springframework.data.repository.CrudRepository;\r\n   \r\n    \r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n    \r\n    }\r\n\r\nHere is my application config:\r\n\r\n    package com.H.spring.security.config.core;\r\n    \r\n    @EnableWebMvc\r\n    @Configuration\r\n    @ComponentScan({ &quot;com.H.spring.security.config.*&quot; })\r\n    @Import(value = { HSecurityConfig.class })\r\n    public class HApplicationConfig extends WebMvcConfigurerAdapter implements ApplicationContextAware{\r\n    \r\n    \tprivate ApplicationContext applicationContext;\r\n    \r\n    \t@Override\r\n    \tpublic void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n    \t\tthis.applicationContext = applicationContext;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t  public ViewResolver viewResolver() {\r\n    \t    ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n    \t    resolver.setTemplateEngine(templateEngine());\r\n    \t    resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    \t    return resolver;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t  public TemplateEngine templateEngine() {\r\n    \t    SpringTemplateEngine engine = new SpringTemplateEngine();\r\n    \t    engine.setEnableSpringELCompiler(true);\r\n    \t    engine.setTemplateResolver(templateResolver());\r\n    \t    return engine;\r\n    \t}\r\n    \r\n        @Bean\r\n        public SpringTemplateEngine templateEngine1() {\r\n            SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n            templateEngine.setTemplateResolver(templateResolver());\r\n            templateEngine.addDialect(new SpringSecurityDialect());\r\n            return templateEngine;\r\n        }\r\n    \r\n    \tprivate ITemplateResolver templateResolver() {\r\n    \t\tSpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n    \t\tresolver.setApplicationContext(applicationContext);\r\n    \t\tresolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\r\n    \t\tresolver.setTemplateMode(TemplateMode.HTML);\r\n    \t\treturn resolver;\r\n    \t}\r\n    \r\n        @Bean(name = &quot;multipartResolver&quot;)\r\n        public MultipartResolver getMultipartResolver() {\r\n            CommonsMultipartResolver resover = new CommonsMultipartResolver();\r\n            resover.setMaxUploadSize(1024 * 1024 * 1024);\r\n            return resover;\r\n        }\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic void addResourceHandlers(final ResourceHandlerRegistry registry) {\r\n    \t    registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;).setCachePeriod(0);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nBelow is the error I am receiving:\r\n\r\n    ERROR [org.springframework.web.context.ContextLoader] (ServerService Thread Pool -- 62) Context initialization failed: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;HController&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;: No qualifying bean of type [com.H.spring.security.config.core.UserRepository] found for dependency [com.H.spring.security.config.core.UserRepository]: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.H.spring.security.config.core.UserRepository] found for dependency [com.H.spring.security.config.core.UserRepository]: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:776)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\r\n    \r\n    \r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.H.spring.security.config.core.UserRepository] found for dependency [com.H.spring.security.config.core.UserRepository]: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1406)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1057)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566)\r\n    \t... 39 more\r\n\r\n\r\n\r\n\r\n**UPDATE 1**\r\n\r\nAfter adding the @EnableJpaRepositories to my configuration, I get the following error:\r\n\r\n\r\n    ERROR [org.springframework.web.context.ContextLoader] (ServerService Thread Pool -- 26) Context initialization failed: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;HController&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;: Error creating bean with name &#39;userRepository&#39;: Initialization of bean failed; nested exception is java.lang.AbstractMethodError; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Initialization of bean failed; nested exception is java.lang.AbstractMethodError\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:776)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\r\n    \tat io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:205)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:174)\r\n    \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n    \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n    \tat org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$895/773328607.call(Unknown Source)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$896/1742198405.call(Unknown Source)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$896/1742198405.call(Unknown Source)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$896/1742198405.call(Unknown Source)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$896/1742198405.call(Unknown Source)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$896/1742198405.call(Unknown Source)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:239)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:99)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \tat org.jboss.threads.JBossThread.run(JBossThread.java:320)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Initialization of bean failed; nested exception is java.lang.AbstractMethodError\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1054)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566)\r\n    \t... 41 more\r\n    Caused by: java.lang.AbstractMethodError\r\n    \tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:99)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:302)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1481)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1226)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n    \t... 51 more\r\n\r\n  [1]: https://spring.io/guides/gs/accessing-data-mysql/\r\n","title":"UnsatisfiedDependencyException : Error creating bean with name &#39;HController&#39; caused by NoSuchBeanDefinitionException:","body":"<p>I am new to spring and I am trying to use spring's <a href=\"https://spring.io/guides/gs/accessing-data-mysql/\" rel=\"nofollow noreferrer\">CrudRepository</a>. I am receiving a <code>NoSuchBeanDefinitionException</code> exception when I try to auto wire a class that implements <code>org.springframework.data.repository.CrudRepository</code>. I researched my error and made sure that all my files were under the same package, but I still get this error, and I am having difficulties solving it.</p>\n\n<p>Here is the controller:</p>\n\n<pre><code>package com.H.spring.security.config.core;\nimport javax.servlet.http.HttpServletRequest;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class HController {\n\n    @Autowired \n    private UserRepository userRepository;\n\n    @GetMapping(path=\"/add\") // Map ONLY GET Requests\n    public @ResponseBody String addNewUser (@RequestParam String name\n            , @RequestParam String email) {\n        User n = new User();\n        n.setName(name);\n        n.setEmail(email);\n        userRepository.save(n);\n        return \"Saved\";\n    }\n\n    @GetMapping(path=\"/all\")\n    public @ResponseBody Iterable&lt;User&gt; getAllUsers() {\n        // This returns a JSON or XML with the users\n        return userRepository.findAll();\n    }\n\n\n}\n</code></pre>\n\n<p>Here is the UserRepository:</p>\n\n<pre><code>package com.H.spring.security.config.core;\n\nimport org.springframework.data.repository.CrudRepository;\n\n\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n\n}\n</code></pre>\n\n<p>Here is my application config:</p>\n\n<pre><code>package com.H.spring.security.config.core;\n\n@EnableWebMvc\n@Configuration\n@ComponentScan({ \"com.H.spring.security.config.*\" })\n@Import(value = { HSecurityConfig.class })\npublic class HApplicationConfig extends WebMvcConfigurerAdapter implements ApplicationContextAware{\n\n    private ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext = applicationContext;\n    }\n\n    @Bean\n      public ViewResolver viewResolver() {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        resolver.setCharacterEncoding(\"UTF-8\");\n        return resolver;\n    }\n\n    @Bean\n      public TemplateEngine templateEngine() {\n        SpringTemplateEngine engine = new SpringTemplateEngine();\n        engine.setEnableSpringELCompiler(true);\n        engine.setTemplateResolver(templateResolver());\n        return engine;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine1() {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n        templateEngine.addDialect(new SpringSecurityDialect());\n        return templateEngine;\n    }\n\n    private ITemplateResolver templateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setApplicationContext(applicationContext);\n        resolver.setPrefix(\"/WEB-INF/templates/\");\n        resolver.setTemplateMode(TemplateMode.HTML);\n        return resolver;\n    }\n\n    @Bean(name = \"multipartResolver\")\n    public MultipartResolver getMultipartResolver() {\n        CommonsMultipartResolver resover = new CommonsMultipartResolver();\n        resover.setMaxUploadSize(1024 * 1024 * 1024);\n        return resover;\n    }\n\n\n    @Override\n    public void addResourceHandlers(final ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/resources/**\").addResourceLocations(\"/resources/\").setCachePeriod(0);\n    }\n\n}\n</code></pre>\n\n<p>Below is the error I am receiving:</p>\n\n<pre><code>ERROR [org.springframework.web.context.ContextLoader] (ServerService Thread Pool -- 62) Context initialization failed: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'HController': Unsatisfied dependency expressed through field 'userRepository': No qualifying bean of type [com.H.spring.security.config.core.UserRepository] found for dependency [com.H.spring.security.config.core.UserRepository]: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.H.spring.security.config.core.UserRepository] found for dependency [com.H.spring.security.config.core.UserRepository]: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:776)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\n\n\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [com.H.spring.security.config.core.UserRepository] found for dependency [com.H.spring.security.config.core.UserRepository]: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1406)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1057)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566)\n    ... 39 more\n</code></pre>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>After adding the @EnableJpaRepositories to my configuration, I get the following error:</p>\n\n<pre><code>ERROR [org.springframework.web.context.ContextLoader] (ServerService Thread Pool -- 26) Context initialization failed: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'HController': Unsatisfied dependency expressed through field 'userRepository': Error creating bean with name 'userRepository': Initialization of bean failed; nested exception is java.lang.AbstractMethodError; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Initialization of bean failed; nested exception is java.lang.AbstractMethodError\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:776)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\n    at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\n    at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:205)\n    at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:174)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$895/773328607.call(Unknown Source)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$896/1742198405.call(Unknown Source)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$896/1742198405.call(Unknown Source)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$896/1742198405.call(Unknown Source)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$896/1742198405.call(Unknown Source)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$896/1742198405.call(Unknown Source)\n    at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:239)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:99)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:320)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Initialization of bean failed; nested exception is java.lang.AbstractMethodError\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1054)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566)\n    ... 41 more\nCaused by: java.lang.AbstractMethodError\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:99)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:302)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1481)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1226)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    ... 51 more\n</code></pre>\n"},{"tags":["java","linux","tomcat","crash","suse"],"comments":[{"owner":{"account_id":3439841,"reputation":14084,"user_id":2882051,"display_name":"chengpohi"},"score":0,"creation_date":1437103270,"post_id":31467569,"comment_id":50901747,"body_markdown":"Have you checked your os log?","body":"Have you checked your os log?"}],"answers":[{"tags":[],"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437105742,"creation_date":1437105742,"answer_id":31468208,"question_id":31467569,"body_markdown":"Just a guess Tomcat may be crashing due to insufficient memory. You can use [Eclipse Memory Analysis][1] tool to analyse the heap dump generated.\r\nThe Eclipse Memory Analyzer is a fast and feature-rich Java heap analyzer that helps you find memory leaks and reduce memory consumption.\r\n\r\nCheck [tomcat][2] logs thoroughly. Check [here][3], [here][4] &amp; [here][5].\r\n\r\n\r\n  [1]: http://www.eclipse.org/mat/\r\n  [2]: http://voiceinitiate.com/tag/the-following-web-applications-have-an-unusually-large-number-of-active-sessions-axl-please-collect-all-of-the-tomcat-logs-for-root-cause-analysis-file-get-activelog-tomcatlogs/\r\n  [3]: https://stackoverflow.com/questions/10087032/how-to-analyze-jvm-crash-file-hs-err-pidxyz-log\r\n  [4]: https://weblogs.java.net/blog/kohsuke/archive/2009/02/crash_course_on.html\r\n  [5]: https://www.mulesoft.com/tcat/tomcat-memory","title":"How to diagnose the root cause of tomcat crash","body":"<p>Just a guess Tomcat may be crashing due to insufficient memory. You can use <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">Eclipse Memory Analysis</a> tool to analyse the heap dump generated.\nThe Eclipse Memory Analyzer is a fast and feature-rich Java heap analyzer that helps you find memory leaks and reduce memory consumption.</p>\n\n<p>Check <a href=\"http://voiceinitiate.com/tag/the-following-web-applications-have-an-unusually-large-number-of-active-sessions-axl-please-collect-all-of-the-tomcat-logs-for-root-cause-analysis-file-get-activelog-tomcatlogs/\" rel=\"nofollow noreferrer\">tomcat</a> logs thoroughly. Check <a href=\"https://stackoverflow.com/questions/10087032/how-to-analyze-jvm-crash-file-hs-err-pidxyz-log\">here</a>, <a href=\"https://weblogs.java.net/blog/kohsuke/archive/2009/02/crash_course_on.html\" rel=\"nofollow noreferrer\">here</a> &amp; <a href=\"https://www.mulesoft.com/tcat/tomcat-memory\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1386628,"reputation":8709,"user_id":1318528,"accept_rate":74,"display_name":"Jacky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692824520,"creation_date":1437100142,"question_id":31467569,"body_markdown":"I have a Tomcat server 7.0.54 running on SUSE Linux 11 SP3, which occasionally crashes.\r\n\r\nI checked the `catalina.out` file and found the log `INFO: Stopping service Catalina` which looked like Tomcat got an abnormal shutdown signal. There is no error log before this Stopping log, which is very weird. \r\n\r\nIt does not look like a JVM crash because it has a process: `pause -&gt; stop -&gt; destroy`. But it seems not to have been shut down by the `shutdown.sh` through the shutdown port normally. Because it would have an important log `org.apache.catalina.core.StandardServer await` if it had been shut down by the shutdown port. \r\n\r\nThis may have two reasons:\r\n\r\n 1. `System.exit` was executed. I checked the code and there is nothing of that kind. \r\n 2. It got a system signal, e.g. `SIGHUP`. \r\n\r\nHow to find which signal it got and which program sent the signal?\r\n\r\nAny suggestion/comments to find the root cause are appreciated. Thanks","title":"How to diagnose the root cause of tomcat crash","body":"<p>I have a Tomcat server 7.0.54 running on SUSE Linux 11 SP3, which occasionally crashes.</p>\n<p>I checked the <code>catalina.out</code> file and found the log <code>INFO: Stopping service Catalina</code> which looked like Tomcat got an abnormal shutdown signal. There is no error log before this Stopping log, which is very weird.</p>\n<p>It does not look like a JVM crash because it has a process: <code>pause -&gt; stop -&gt; destroy</code>. But it seems not to have been shut down by the <code>shutdown.sh</code> through the shutdown port normally. Because it would have an important log <code>org.apache.catalina.core.StandardServer await</code> if it had been shut down by the shutdown port.</p>\n<p>This may have two reasons:</p>\n<ol>\n<li><code>System.exit</code> was executed. I checked the code and there is nothing of that kind.</li>\n<li>It got a system signal, e.g. <code>SIGHUP</code>.</li>\n</ol>\n<p>How to find which signal it got and which program sent the signal?</p>\n<p>Any suggestion/comments to find the root cause are appreciated. Thanks</p>\n"},{"tags":["java","random","cryptography","secure-random"],"comments":[{"owner":{"account_id":4392464,"reputation":5898,"user_id":3580433,"accept_rate":89,"display_name":"Ebrahim Ghasemi"},"score":0,"creation_date":1572034019,"post_id":58304220,"comment_id":103448703,"body_markdown":"[Temporary Comment] : Dear Maarten, sorry to bother you here. Do you have any experience with chip cards that does not return any ATR? Do you have any idea which type of cards does WaveLight use in its products?","body":"[Temporary Comment] : Dear Maarten, sorry to bother you here. Do you have any experience with chip cards that does not return any ATR? Do you have any idea which type of cards does WaveLight use in its products?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1572044103,"post_id":58304220,"comment_id":103451485,"body_markdown":"14443 type B cards don&#39;t return an ATR or ATS, and work on 13.something MHz. Proximity cards should not be picked up. I think the original MiFare cards also don&#39;t use an ATS, but nowadays they generally supply a compatibility layer. No, I don&#39;t know what cards or IC&#39;s they use.","body":"14443 type B cards don&#39;t return an ATR or ATS, and work on 13.something MHz. Proximity cards should not be picked up. I think the original MiFare cards also don&#39;t use an ATS, but nowadays they generally supply a compatibility layer. No, I don&#39;t know what cards or IC&#39;s they use."},{"owner":{"account_id":4392464,"reputation":5898,"user_id":3580433,"accept_rate":89,"display_name":"Ebrahim Ghasemi"},"score":0,"creation_date":1572067367,"post_id":58304220,"comment_id":103454279,"body_markdown":"Thank you dear Marteen for the information. BTW the cards are contact.","body":"Thank you dear Marteen for the information. BTW the cards are contact."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1572108071,"post_id":58304220,"comment_id":103461919,"body_markdown":"Are you sure that there is no ATR in that case? Because it makes more sense that there are just no  *historical bytes* within the ATR.","body":"Are you sure that there is no ATR in that case? Because it makes more sense that there are just no  <i>historical bytes</i> within the ATR."},{"owner":{"account_id":4392464,"reputation":5898,"user_id":3580433,"accept_rate":89,"display_name":"Ebrahim Ghasemi"},"score":0,"creation_date":1572699723,"post_id":58304220,"comment_id":103644491,"body_markdown":"Yes dear Maarten, I&#39;m sure that there is no ATR. I guess I found something related. As soon as I get assured about it, I&#39;ll share the data with you.","body":"Yes dear Maarten, I&#39;m sure that there is no ATR. I guess I found something related. As soon as I get assured about it, I&#39;ll share the data with you."}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1570625046,"creation_date":1570625046,"answer_id":58304415,"question_id":58304220,"body_markdown":"From the [JEP](http://openjdk.java.net/jeps/273)\r\n\r\n&gt; A new [SecureRandomParameters](https://docs.oracle.com/javase/9/docs/api/java/security/SecureRandomParameters.html) interface so that additional input can be\r\n&gt; provided to the new SecureRandom methods.\r\n\r\nFrom there we get to [DrbgParameters](https://docs.oracle.com/javase/9/docs/api/java/security/DrbgParameters.html) which says\r\n\r\n&gt; **Implementation Note:**\r\n&gt; \r\n&gt; The following notes apply to the &quot;DRBG&quot; implementation in the SUN\r\n&gt; provider of the JDK reference implementation. This implementation\r\n&gt; supports the Hash_DRBG and HMAC_DRBG mechanisms with DRBG algorithm\r\n&gt; SHA-224, SHA-512/224, SHA-256, SHA-512/256, SHA-384 and SHA-512, and\r\n&gt; CTR_DRBG (both using derivation function and not using derivation\r\n&gt; function) with DRBG algorithm AES-128, AES-192 and AES-256.\r\n&gt; \r\n&gt; **The mechanism name and DRBG algorithm name are determined by the\r\n&gt; security property securerandom.drbg.config**. The default choice is\r\n&gt; Hash_DRBG with SHA-256.\r\n\r\nSo, implementation dependent and with default impl, switchable only with a property.","title":"What actual algorithm is used by SecureRandom.getInstance(&quot;DRBG&quot;)?","body":"<p>From the <a href=\"http://openjdk.java.net/jeps/273\" rel=\"nofollow noreferrer\">JEP</a></p>\n\n<blockquote>\n  <p>A new <a href=\"https://docs.oracle.com/javase/9/docs/api/java/security/SecureRandomParameters.html\" rel=\"nofollow noreferrer\">SecureRandomParameters</a> interface so that additional input can be\n  provided to the new SecureRandom methods.</p>\n</blockquote>\n\n<p>From there we get to <a href=\"https://docs.oracle.com/javase/9/docs/api/java/security/DrbgParameters.html\" rel=\"nofollow noreferrer\">DrbgParameters</a> which says</p>\n\n<blockquote>\n  <p><strong>Implementation Note:</strong></p>\n  \n  <p>The following notes apply to the \"DRBG\" implementation in the SUN\n  provider of the JDK reference implementation. This implementation\n  supports the Hash_DRBG and HMAC_DRBG mechanisms with DRBG algorithm\n  SHA-224, SHA-512/224, SHA-256, SHA-512/256, SHA-384 and SHA-512, and\n  CTR_DRBG (both using derivation function and not using derivation\n  function) with DRBG algorithm AES-128, AES-192 and AES-256.</p>\n  \n  <p><strong>The mechanism name and DRBG algorithm name are determined by the\n  security property securerandom.drbg.config</strong>. The default choice is\n  Hash_DRBG with SHA-256.</p>\n</blockquote>\n\n<p>So, implementation dependent and with default impl, switchable only with a property.</p>\n"},{"tags":[],"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570628693,"creation_date":1570625278,"answer_id":58304500,"question_id":58304220,"body_markdown":"Use Security.SetProperties before calling SecureRandom:\r\n\r\n    Security.setProperty(&quot;securerandom.drbg.config&quot;, &quot;Hash_DRBG&quot;);\r\n    \r\n    SecureRandom random = SecureRandom.getInstance(&quot;DRBG&quot;);\r\n\r\nFor more information this article provides some in-depth info:\r\nhttps://metebalci.com/blog/everything-about-javas-securerandom/","title":"What actual algorithm is used by SecureRandom.getInstance(&quot;DRBG&quot;)?","body":"<p>Use Security.SetProperties before calling SecureRandom:</p>\n\n<pre><code>Security.setProperty(\"securerandom.drbg.config\", \"Hash_DRBG\");\n\nSecureRandom random = SecureRandom.getInstance(\"DRBG\");\n</code></pre>\n\n<p>For more information this article provides some in-depth info:\n<a href=\"https://metebalci.com/blog/everything-about-javas-securerandom/\" rel=\"nofollow noreferrer\">https://metebalci.com/blog/everything-about-javas-securerandom/</a></p>\n"}],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1606,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58304415,"answer_count":2,"score":2,"last_activity_date":1692824313,"creation_date":1570624388,"question_id":58304220,"body_markdown":"Java 9 (JSR 379) [introduces the NIST DRBG&#39;s](http://cr.openjdk.java.net/~iris/se/9/java-se-9-pr-spec-01/java-se-9-spec.html#j273) as specified in [*JEP 273: DRBG-Based SecureRandom Implementations*](http://openjdk.java.net/jeps/273). \r\n\r\nHowever, the NIST document [SP 800-90Ar1](https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-90Ar1.pdf) (*NIST Special Publication 800-90A Revision 1: Recommendation for Random Number Generation Using Deterministic Random Bit  Generators*) specifies a total of three mechanisms:\r\n\r\n&gt; Implement the three DRBG mechanisms (Hash_DRBG, HMAC_DRBG, CTR_DRBG) in 800-90Ar1 (on all platforms).\r\n\r\n\r\nHowever, although you might expect that we would now have three methods to create such secure random algorithms:\r\n\r\n1. `SecureRandom.getInstance(&quot;Hash_DRBG&quot;)`\r\n2. `SecureRandom.getInstance(&quot;HMAC_DRBG&quot;)`\r\n3. `SecureRandom.getInstance(&quot;CTR_DRBG&quot;)`\r\n\r\nâ€¦ possibly with various configuration parameters, we seem to have only one:\r\n\r\n1. `SecureRandom.getInstance(&quot;DRBG&quot;)`\r\n\r\nSo how can the developer configure and detect which one of the algorithms is used?\r\n","title":"What actual algorithm is used by SecureRandom.getInstance(&quot;DRBG&quot;)?","body":"<p>Java 9 (JSR 379) <a href=\"http://cr.openjdk.java.net/%7Eiris/se/9/java-se-9-pr-spec-01/java-se-9-spec.html#j273\" rel=\"nofollow noreferrer\">introduces the NIST DRBG's</a> as specified in <a href=\"http://openjdk.java.net/jeps/273\" rel=\"nofollow noreferrer\"><em>JEP 273: DRBG-Based SecureRandom Implementations</em></a>.</p>\n<p>However, the NIST document <a href=\"https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-90Ar1.pdf\" rel=\"nofollow noreferrer\">SP 800-90Ar1</a> (<em>NIST Special Publication 800-90A Revision 1: Recommendation for Random Number Generation Using Deterministic Random Bit  Generators</em>) specifies a total of three mechanisms:</p>\n<blockquote>\n<p>Implement the three DRBG mechanisms (Hash_DRBG, HMAC_DRBG, CTR_DRBG) in 800-90Ar1 (on all platforms).</p>\n</blockquote>\n<p>However, although you might expect that we would now have three methods to create such secure random algorithms:</p>\n<ol>\n<li><code>SecureRandom.getInstance(&quot;Hash_DRBG&quot;)</code></li>\n<li><code>SecureRandom.getInstance(&quot;HMAC_DRBG&quot;)</code></li>\n<li><code>SecureRandom.getInstance(&quot;CTR_DRBG&quot;)</code></li>\n</ol>\n<p>â€¦ possibly with various configuration parameters, we seem to have only one:</p>\n<ol>\n<li><code>SecureRandom.getInstance(&quot;DRBG&quot;)</code></li>\n</ol>\n<p>So how can the developer configure and detect which one of the algorithms is used?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-play"],"comments":[{"owner":{"account_id":3788825,"reputation":23829,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"score":1,"creation_date":1587875627,"post_id":61435721,"comment_id":108678611,"body_markdown":"What do you have in your `proguard-rules.pro`? It would be great if you could post the error log if you have any.","body":"What do you have in your <code>proguard-rules.pro</code>? It would be great if you could post the error log if you have any."},{"owner":{"account_id":9299810,"reputation":141,"user_id":6905657,"display_name":"Daniel Vega"},"score":0,"creation_date":1587878569,"post_id":61435721,"comment_id":108679161,"body_markdown":"I haven&#39;t touched that file, it&#39;s all commented. The complete error log is here.[link](https://drive.google.com/open?id=17GduETo_9dP35NBIJAgZGoJjgpkdcYid) **Edit:** The error log is from the app downloaded from google play","body":"I haven&#39;t touched that file, it&#39;s all commented. The complete error log is here.<a href=\"https://drive.google.com/open?id=17GduETo_9dP35NBIJAgZGoJjgpkdcYid\" rel=\"nofollow noreferrer\">link</a> <b>Edit:</b> The error log is from the app downloaded from google play"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1587881578,"post_id":61435721,"comment_id":108679756,"body_markdown":"Most likely ProGuard is minifying your model classes, which means the app can&#39;t read them back from the database. See https://firebase.google.com/docs/database/android/start#proguard","body":"Most likely ProGuard is minifying your model classes, which means the app can&#39;t read them back from the database. See <a href=\"https://firebase.google.com/docs/database/android/start#proguard\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/start#proguard</a>"},{"owner":{"account_id":9299810,"reputation":141,"user_id":6905657,"display_name":"Daniel Vega"},"score":0,"creation_date":1587914748,"post_id":61435721,"comment_id":108691112,"body_markdown":"@FrankvanPuffelen Yes, that solved the problem, thanks. Can you add this comment as an answer so I can mark it as the correct answer?","body":"@FrankvanPuffelen Yes, that solved the problem, thanks. Can you add this comment as an answer so I can mark it as the correct answer?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1587915453,"creation_date":1587915453,"answer_id":61443478,"question_id":61435721,"body_markdown":"Most likely ProGuard is minifying your model classes, which means the app can&#39;t read them back from the database. \r\n\r\nSee:\r\n\r\n* the Firebase documentation on [configuring ProGuard](https://firebase.google.com/docs/database/android/start#proguard)\r\n* https://stackoverflow.com/questions/41650103/no-setter-field-for-found-android-firebase","title":"dataSnapshot.getValue(MyClass.class) from Firebase works fine in development but get null values after is posted on Play Store","body":"<p>Most likely ProGuard is minifying your model classes, which means the app can't read them back from the database. </p>\n\n<p>See:</p>\n\n<ul>\n<li>the Firebase documentation on <a href=\"https://firebase.google.com/docs/database/android/start#proguard\" rel=\"nofollow noreferrer\">configuring ProGuard</a></li>\n<li><a href=\"https://stackoverflow.com/questions/41650103/no-setter-field-for-found-android-firebase\">No setter/field for found Android Firebase</a></li>\n</ul>\n"}],"owner":{"account_id":9299810,"reputation":141,"user_id":6905657,"display_name":"Daniel Vega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61443478,"answer_count":1,"score":0,"last_activity_date":1692823920,"creation_date":1587874513,"question_id":61435721,"body_markdown":"I am fetching the data from firebase (Real time database) and displaying it correctly in a recyclerview. This is my code:\r\n\r\nMy class, StickerPack.class\r\n```\r\npublic class StickerPack implements Parcelable {\r\n    //Vienen de la bd\r\n        public String identifier;\r\n        public String name;\r\n        public String publisher;\r\n        public String trayImageFile;\r\n        public String publisherEmail;\r\n        public String publisherWebsite;\r\n        public String privacyPolicyWebsite;\r\n        public String licenseAgreementWebsite;\r\n        public String imageDataVersion;\r\n        public boolean avoidCache;\r\n    //Se generan dinamicamente\r\n        public String iosAppStoreLink;\r\n        public List&lt;Sticker&gt; stickers;\r\n        public long totalSize;\r\n        public String androidPlayStoreLink;\r\n        public boolean isWhitelisted;\r\n\r\n    //Constructores\r\n        public StickerPack(){}\r\n        public StickerPack(String identifier, String name, String publisher, String trayImageFile, String publisherEmail, String publisherWebsite, String privacyPolicyWebsite, String licenseAgreementWebsite, String imageDataVersion, boolean avoidCache) {\r\n            this.identifier = identifier;\r\n            this.name = name;\r\n            this.publisher = publisher;\r\n            this.trayImageFile = trayImageFile;\r\n            this.publisherEmail = publisherEmail;\r\n            this.publisherWebsite = publisherWebsite;\r\n            this.privacyPolicyWebsite = privacyPolicyWebsite;\r\n            this.licenseAgreementWebsite = licenseAgreementWebsite;\r\n            this.imageDataVersion = imageDataVersion;\r\n            this.avoidCache = avoidCache;\r\n        }\r\n        protected StickerPack(Parcel in) {\r\n            identifier = in.readString();\r\n            name = in.readString();\r\n            publisher = in.readString();\r\n            trayImageFile = in.readString();\r\n            publisherEmail = in.readString();\r\n            publisherWebsite = in.readString();\r\n            privacyPolicyWebsite = in.readString();\r\n            licenseAgreementWebsite = in.readString();\r\n            iosAppStoreLink = in.readString();\r\n            stickers = in.createTypedArrayList(Sticker.CREATOR);\r\n            totalSize = in.readLong();\r\n            androidPlayStoreLink = in.readString();\r\n            isWhitelisted = in.readByte() != 0;\r\n            imageDataVersion = in.readString();\r\n            avoidCache = in.readByte() != 0;\r\n        }\r\n\r\n    //Getter and Setters are generated by default but i will not show them to not make the post so long\r\n}\r\n```\r\nAnd im using the reference and the listeners like this, i&#39;m using two differents ways just for testing and both of them works fine\r\n\r\n```\r\n        FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\r\n        DatabaseReference databaseReference = firebaseDatabase.getReference(&quot;sticker_packs&quot;);\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                stickerPackList = new ArrayList&lt;&gt;();\r\n                for(DataSnapshot ds : dataSnapshot.getChildren()) {\r\n                    StickerPack pack = ds.getValue(StickerPack.class) ;\r\n                    StickerPackFirebase pack2 = ds.getValue(StickerPackFirebase.class) ;\r\n\r\n                    GenericTypeIndicator&lt;ArrayList&lt;StickerPack&gt;&gt; t = new GenericTypeIndicator&lt;ArrayList&lt;StickerPack&gt;&gt;() {};\r\n                    ArrayList&lt;StickerPack&gt; spl = dataSnapshot.getValue(t);\r\n\r\n                    GenericTypeIndicator&lt;StickerPack&gt; t2 = new GenericTypeIndicator&lt;StickerPack&gt;() {};\r\n                    StickerPack sp = ds.getValue(t2);\r\n\r\n\r\n                    Log.i(&quot;CARTOONLOG&quot;, &quot;value1: &quot; + Objects.requireNonNull(ds.getValue()).toString());\r\n                    Log.i(&quot;CARTOONLOG&quot;, &quot;value2: &quot; + Objects.requireNonNull(pack).name );\r\n                    Log.i(&quot;CARTOONLOG&quot;, &quot;value2: &quot; + Objects.requireNonNull(pack2).name );\r\n\r\n\r\n                    if (sp!= null){\r\n                        stickerPackList.add(sp);\r\n                        Log.i(&quot;CARTOONLOG&quot;, &quot;pack: &quot; + sp.name);\r\n                    }\r\n                }\r\n                setUpRecyclerView(stickerPackList);\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                Log.i(&quot;ERROR FIREBASE&quot;, &quot;Error trayendo los datos, firebase snapshot in stickerpacklist&quot;);\r\n            }\r\n        });\r\n\r\n        DatabaseReference databaseReference2 = firebaseDatabase.getReference(&quot;sticker_packs&quot;);\r\n        databaseReference2.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\r\n\r\n\r\n\r\n                StickerPack pack = dataSnapshot.getValue(StickerPack.class) ;\r\n                StickerPackFirebase pack2 = dataSnapshot.getValue(StickerPackFirebase.class) ;\r\n                Log.i(&quot;CARTOONLOGCHILD&quot;, &quot;value0: &quot; + Objects.requireNonNull(dataSnapshot.getValue()).toString() + &quot; string: &quot; + s);\r\n                Log.i(&quot;CARTOONLOGCHILD&quot;, &quot;value1: &quot; + Objects.requireNonNull(pack).name);\r\n                Log.i(&quot;CARTOONLOGCHILD&quot;, &quot;value2: &quot; + Objects.requireNonNull(pack2).name);\r\n\r\n\r\n            }\r\n                //The other methods are below this\r\n        });\r\n\r\n```\r\n\r\nMy data in Firebase looks like this: \r\n[![enter image description here][1]][1]\r\n\r\nThis are the logs from development enviroment:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd this are the logs from the app downloaded from google play store after i posted on internal testing:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAnd this is my config in the gradle\r\n\r\n    buildTypes {\r\n        customDebugType {\r\n            debuggable true\r\n        }\r\n        debug {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\nEdit:\r\n\r\nMaybe this is a usefull information\r\n\r\n```\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n\r\n    implementation &#39;androidx.vectordrawable:vectordrawable-animated:1.1.0&#39;\r\n    implementation &#39;androidx.browser:browser:1.2.0&#39;\r\n    implementation &#39;androidx.media:media:1.1.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n\r\n    implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-messaging:20.1.5&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.2.0&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;com.facebook.fresco:fresco:1.10.0&#39;\r\n    implementation &#39;com.facebook.fresco:webpsupport:1.10.0&#39;\r\n    implementation &#39;com.facebook.fresco:animated-webp:1.10.0&#39;\r\n    implementation &#39;com.facebook.fresco:webpsupport:1.10.0&#39;\r\n    implementation &#39;com.facebook.fresco:animated-base:1.13.0&#39;\r\n    implementation &#39;com.facebook.fresco:nativeimagetranscoder:1.12.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:19.1.0&#39;\r\n    implementation &#39;com.android.billingclient:billing:2.2.0&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-analytics:17.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-ads:19.1.0&#39;\r\n\r\n\r\n    //implementation &#39;com.firebaseui:firebase-ui-database:6.2.1&#39;\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:19.2.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:19.1.1&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-storage:6.2.1&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4RKPr.png\r\n  [2]: https://i.stack.imgur.com/qomJm.png\r\n  [3]: https://i.stack.imgur.com/DtkNE.png\r\n\r\nEdit: Images links replaced by images file","title":"dataSnapshot.getValue(MyClass.class) from Firebase works fine in development but get null values after is posted on Play Store","body":"<p>I am fetching the data from firebase (Real time database) and displaying it correctly in a recyclerview. This is my code:</p>\n<p>My class, StickerPack.class</p>\n<pre><code>public class StickerPack implements Parcelable {\n    //Vienen de la bd\n        public String identifier;\n        public String name;\n        public String publisher;\n        public String trayImageFile;\n        public String publisherEmail;\n        public String publisherWebsite;\n        public String privacyPolicyWebsite;\n        public String licenseAgreementWebsite;\n        public String imageDataVersion;\n        public boolean avoidCache;\n    //Se generan dinamicamente\n        public String iosAppStoreLink;\n        public List&lt;Sticker&gt; stickers;\n        public long totalSize;\n        public String androidPlayStoreLink;\n        public boolean isWhitelisted;\n\n    //Constructores\n        public StickerPack(){}\n        public StickerPack(String identifier, String name, String publisher, String trayImageFile, String publisherEmail, String publisherWebsite, String privacyPolicyWebsite, String licenseAgreementWebsite, String imageDataVersion, boolean avoidCache) {\n            this.identifier = identifier;\n            this.name = name;\n            this.publisher = publisher;\n            this.trayImageFile = trayImageFile;\n            this.publisherEmail = publisherEmail;\n            this.publisherWebsite = publisherWebsite;\n            this.privacyPolicyWebsite = privacyPolicyWebsite;\n            this.licenseAgreementWebsite = licenseAgreementWebsite;\n            this.imageDataVersion = imageDataVersion;\n            this.avoidCache = avoidCache;\n        }\n        protected StickerPack(Parcel in) {\n            identifier = in.readString();\n            name = in.readString();\n            publisher = in.readString();\n            trayImageFile = in.readString();\n            publisherEmail = in.readString();\n            publisherWebsite = in.readString();\n            privacyPolicyWebsite = in.readString();\n            licenseAgreementWebsite = in.readString();\n            iosAppStoreLink = in.readString();\n            stickers = in.createTypedArrayList(Sticker.CREATOR);\n            totalSize = in.readLong();\n            androidPlayStoreLink = in.readString();\n            isWhitelisted = in.readByte() != 0;\n            imageDataVersion = in.readString();\n            avoidCache = in.readByte() != 0;\n        }\n\n    //Getter and Setters are generated by default but i will not show them to not make the post so long\n}\n</code></pre>\n<p>And im using the reference and the listeners like this, i'm using two differents ways just for testing and both of them works fine</p>\n<pre><code>        FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n        DatabaseReference databaseReference = firebaseDatabase.getReference(&quot;sticker_packs&quot;);\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                stickerPackList = new ArrayList&lt;&gt;();\n                for(DataSnapshot ds : dataSnapshot.getChildren()) {\n                    StickerPack pack = ds.getValue(StickerPack.class) ;\n                    StickerPackFirebase pack2 = ds.getValue(StickerPackFirebase.class) ;\n\n                    GenericTypeIndicator&lt;ArrayList&lt;StickerPack&gt;&gt; t = new GenericTypeIndicator&lt;ArrayList&lt;StickerPack&gt;&gt;() {};\n                    ArrayList&lt;StickerPack&gt; spl = dataSnapshot.getValue(t);\n\n                    GenericTypeIndicator&lt;StickerPack&gt; t2 = new GenericTypeIndicator&lt;StickerPack&gt;() {};\n                    StickerPack sp = ds.getValue(t2);\n\n\n                    Log.i(&quot;CARTOONLOG&quot;, &quot;value1: &quot; + Objects.requireNonNull(ds.getValue()).toString());\n                    Log.i(&quot;CARTOONLOG&quot;, &quot;value2: &quot; + Objects.requireNonNull(pack).name );\n                    Log.i(&quot;CARTOONLOG&quot;, &quot;value2: &quot; + Objects.requireNonNull(pack2).name );\n\n\n                    if (sp!= null){\n                        stickerPackList.add(sp);\n                        Log.i(&quot;CARTOONLOG&quot;, &quot;pack: &quot; + sp.name);\n                    }\n                }\n                setUpRecyclerView(stickerPackList);\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Log.i(&quot;ERROR FIREBASE&quot;, &quot;Error trayendo los datos, firebase snapshot in stickerpacklist&quot;);\n            }\n        });\n\n        DatabaseReference databaseReference2 = firebaseDatabase.getReference(&quot;sticker_packs&quot;);\n        databaseReference2.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\n\n\n\n                StickerPack pack = dataSnapshot.getValue(StickerPack.class) ;\n                StickerPackFirebase pack2 = dataSnapshot.getValue(StickerPackFirebase.class) ;\n                Log.i(&quot;CARTOONLOGCHILD&quot;, &quot;value0: &quot; + Objects.requireNonNull(dataSnapshot.getValue()).toString() + &quot; string: &quot; + s);\n                Log.i(&quot;CARTOONLOGCHILD&quot;, &quot;value1: &quot; + Objects.requireNonNull(pack).name);\n                Log.i(&quot;CARTOONLOGCHILD&quot;, &quot;value2: &quot; + Objects.requireNonNull(pack2).name);\n\n\n            }\n                //The other methods are below this\n        });\n\n</code></pre>\n<p>My data in Firebase looks like this:\n<a href=\"https://i.stack.imgur.com/4RKPr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4RKPr.png\" alt=\"enter image description here\" /></a></p>\n<p>This are the logs from development enviroment:</p>\n<p><a href=\"https://i.stack.imgur.com/qomJm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qomJm.png\" alt=\"enter image description here\" /></a></p>\n<p>And this are the logs from the app downloaded from google play store after i posted on internal testing:</p>\n<p><a href=\"https://i.stack.imgur.com/DtkNE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DtkNE.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is my config in the gradle</p>\n<pre><code>buildTypes {\n    customDebugType {\n        debuggable true\n    }\n    debug {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n    release {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n<p>Edit:</p>\n<p>Maybe this is a usefull information</p>\n<pre><code>dependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n\n    implementation 'androidx.vectordrawable:vectordrawable-animated:1.1.0'\n    implementation 'androidx.browser:browser:1.2.0'\n    implementation 'androidx.media:media:1.1.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n\n    implementation 'com.google.android.material:material:1.1.0'\n\n    implementation 'com.google.firebase:firebase-messaging:20.1.5'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.facebook.fresco:fresco:1.10.0'\n    implementation 'com.facebook.fresco:webpsupport:1.10.0'\n    implementation 'com.facebook.fresco:animated-webp:1.10.0'\n    implementation 'com.facebook.fresco:webpsupport:1.10.0'\n    implementation 'com.facebook.fresco:animated-base:1.13.0'\n    implementation 'com.facebook.fresco:nativeimagetranscoder:1.12.0'\n    implementation 'com.google.android.gms:play-services-ads:19.1.0'\n    implementation 'com.android.billingclient:billing:2.2.0'\n\n    implementation 'com.google.firebase:firebase-analytics:17.3.0'\n    implementation 'com.google.firebase:firebase-ads:19.1.0'\n\n\n    //implementation 'com.firebaseui:firebase-ui-database:6.2.1'\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'com.google.firebase:firebase-database:19.2.1'\n    implementation 'com.google.firebase:firebase-storage:19.1.1'\n    implementation 'com.firebaseui:firebase-ui-storage:6.2.1'\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n\n\n}\n</code></pre>\n<p>Edit: Images links replaced by images file</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1616507,"reputation":2846,"user_id":1494048,"display_name":"mrak"},"score":0,"creation_date":1692307896,"post_id":76925185,"comment_id":135609498,"body_markdown":"Did you checked if the user in the call `createBasket` is valid (not null)?","body":"Did you checked if the user in the call <code>createBasket</code> is valid (not null)?"},{"owner":{"account_id":27898504,"reputation":19,"user_id":21303278,"display_name":"Mehmet &#214;zkan"},"score":0,"creation_date":1692308024,"post_id":76925185,"comment_id":135609519,"body_markdown":"Yes, I checked, the user that comes as a parameter to the createBasket method is not null","body":"Yes, I checked, the user that comes as a parameter to the createBasket method is not null"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692324529,"post_id":76925185,"comment_id":135611017,"body_markdown":"Before return try setting user.setBasket(basket);","body":"Before return try setting user.setBasket(basket);"},{"owner":{"account_id":27898504,"reputation":19,"user_id":21303278,"display_name":"Mehmet &#214;zkan"},"score":0,"creation_date":1692337812,"post_id":76925185,"comment_id":135611971,"body_markdown":"I&#39;m already doing that, first I do user.setBasket(basket) and then I save by returning.","body":"I&#39;m already doing that, first I do user.setBasket(basket) and then I save by returning."},{"owner":{"account_id":27898504,"reputation":19,"user_id":21303278,"display_name":"Mehmet &#214;zkan"},"score":0,"creation_date":1692359430,"post_id":76925185,"comment_id":135615689,"body_markdown":"I fixed it as he said but I still get the error.\n\nI updated the places where I fixed the code in the question. I left the error I got as a comment.","body":"I fixed it as he said but I still get the error.  I updated the places where I fixed the code in the question. I left the error I got as a comment."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692463161,"creation_date":1692341810,"answer_id":76927063,"question_id":76925185,"body_markdown":"Here is the correct way to define a bi-directional one-to-one relationship based on your question:\r\n\r\nin User entity:\r\n```\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;fk_basket_id&quot;)\r\n    @JsonManagedReference\r\n    private Basket basket;\r\n```\r\nin Basket entity:\r\n```\r\n    @OneToOne(mappedBy = &quot;basket&quot;)\r\n    @JsonBackReference\r\n    @ToString.Exclude\r\n    private User user;\r\n```\r\n*User* in this case is the owning side of the relationship. Only this table will have a foreign key column. *Basket* is a non-owning side. This table will not have (don&#39;t need) a foreign key. The rest is managed by JPA.\r\n\r\nPlease also mind the Json and ToString annotations. They are needed to avoid a circular reference causing an infinit loop and stack overflow.\r\n\r\nTo add a new basket to the a user you must set both sides. Preferably in a method like this:\r\n\r\nin User entity:\r\n```\r\n    public addBasket(Basket basket) {\r\n        setBasket(basket);\r\n        basket.setUser(this);\r\n    }\r\n```\r\n","title":"Spring Boot One to One Relation Null Error","body":"<p>Here is the correct way to define a bi-directional one-to-one relationship based on your question:</p>\n<p>in User entity:</p>\n<pre><code>    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;fk_basket_id&quot;)\n    @JsonManagedReference\n    private Basket basket;\n</code></pre>\n<p>in Basket entity:</p>\n<pre><code>    @OneToOne(mappedBy = &quot;basket&quot;)\n    @JsonBackReference\n    @ToString.Exclude\n    private User user;\n</code></pre>\n<p><em>User</em> in this case is the owning side of the relationship. Only this table will have a foreign key column. <em>Basket</em> is a non-owning side. This table will not have (don't need) a foreign key. The rest is managed by JPA.</p>\n<p>Please also mind the Json and ToString annotations. They are needed to avoid a circular reference causing an infinit loop and stack overflow.</p>\n<p>To add a new basket to the a user you must set both sides. Preferably in a method like this:</p>\n<p>in User entity:</p>\n<pre><code>    public addBasket(Basket basket) {\n        setBasket(basket);\n        basket.setUser(this);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27898504,"reputation":19,"user_id":21303278,"display_name":"Mehmet &#214;zkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692823807,"creation_date":1692684433,"answer_id":76950484,"question_id":76925185,"body_markdown":"The problem was in the `@Data` annotation of the lombok library.\r\n\r\nIt cannot do Get and Set operations.\r\n\r\nIt was necessary to add `@Getter` and `@Setter` separately as annotations instead of `@Data` annotation.","title":"Spring Boot One to One Relation Null Error","body":"<p>The problem was in the <code>@Data</code> annotation of the lombok library.</p>\n<p>It cannot do Get and Set operations.</p>\n<p>It was necessary to add <code>@Getter</code> and <code>@Setter</code> separately as annotations instead of <code>@Data</code> annotation.</p>\n"}],"owner":{"account_id":27898504,"reputation":19,"user_id":21303278,"display_name":"Mehmet &#214;zkan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76950484,"answer_count":2,"score":0,"last_activity_date":1692823807,"creation_date":1692307027,"question_id":76925185,"body_markdown":"I have a user and a basket. A user can only have 1 basket.\r\nI want to set the basket to the current user to whom I sent a request.\r\n\r\n**I have a Basket Entity.**\r\n```\r\n@Entity\r\n@Table(name = &quot;BASKETS&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Basket {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @OneToOne(mappedBy = &quot;basket&quot;)\r\n    private User user;\r\n}\r\n```\r\n**I have a User Entity**\r\n```\r\n@Entity\r\n@Table(name = &quot;USERS&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;fk_basket_id&quot;)\r\n    private Basket basket;\r\n\r\n    public User(String name, String surname ) {\r\n        this.name = name;\r\n        this.surname = surname;\r\n    }\r\n}\r\n```\r\n**I have a method:**\r\n```\r\n public Basket createBasket(User user, Long basketId) {\r\n        Basket basket = findBasketById(basketId);\r\n        if (basket == null) {\r\n            basket = new Basket();\r\n            basket.setId(basketId);\r\n            basket.setUser(user);\r\n            user.setBasket(basket);\r\n        } else {\r\n            basket.setUser(user);\r\n            user.setBasket(basket);\r\n        }\r\n        return basketRepository.save(basket);\r\n    }\r\n\r\nprotected Basket findBasketById(Long id) {\r\n        return basketRepository.findById(id)\r\n                .orElse(null);\r\n\r\n    }\r\n```\r\nI am sending a request like this to see the information of the baskets.\r\n- localhost:8080/v1/basket/getAll\r\n\r\nI am getting such a response:\r\n```\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;user&quot;: null\r\n}\r\n```\r\nAlthough basket.setUser(user) is present, the user of the basket is null.\r\n\r\nWhen I run the code in debug mode, the user of the basket appears, but the response is null.\r\n\r\nI think there is a mistake in the design but I couldn&#39;t find it.","title":"Spring Boot One to One Relation Null Error","body":"<p>I have a user and a basket. A user can only have 1 basket.\nI want to set the basket to the current user to whom I sent a request.</p>\n<p><strong>I have a Basket Entity.</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;BASKETS&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Basket {\n\n    @Id\n    private Long id;\n\n    @OneToOne(mappedBy = &quot;basket&quot;)\n    private User user;\n}\n</code></pre>\n<p><strong>I have a User Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;USERS&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;fk_basket_id&quot;)\n    private Basket basket;\n\n    public User(String name, String surname ) {\n        this.name = name;\n        this.surname = surname;\n    }\n}\n</code></pre>\n<p><strong>I have a method:</strong></p>\n<pre><code> public Basket createBasket(User user, Long basketId) {\n        Basket basket = findBasketById(basketId);\n        if (basket == null) {\n            basket = new Basket();\n            basket.setId(basketId);\n            basket.setUser(user);\n            user.setBasket(basket);\n        } else {\n            basket.setUser(user);\n            user.setBasket(basket);\n        }\n        return basketRepository.save(basket);\n    }\n\nprotected Basket findBasketById(Long id) {\n        return basketRepository.findById(id)\n                .orElse(null);\n\n    }\n</code></pre>\n<p>I am sending a request like this to see the information of the baskets.</p>\n<ul>\n<li>localhost:8080/v1/basket/getAll</li>\n</ul>\n<p>I am getting such a response:</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;user&quot;: null\n}\n</code></pre>\n<p>Although basket.setUser(user) is present, the user of the basket is null.</p>\n<p>When I run the code in debug mode, the user of the basket appears, but the response is null.</p>\n<p>I think there is a mistake in the design but I couldn't find it.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692823418,"creation_date":1692823418,"answer_id":76964784,"question_id":76964122,"body_markdown":"Rather than using a `DeferredResult`, perhaps `java.util.concurrent.CompletableFuture` would suit you. You could set the result on the future by using `complete` and you can wait for a result using `get` (optionally specifying a timeout).\r\n\r\nOne last thing: I assume that `requestList` in `RequestHolder` needs synchronization to be thread safe. The easiest thing would be `java.util.Collections.synchronizedList(new ArrayList&lt;&gt;())`.","title":"Spring DeferredResult only continue after result set or timeout","body":"<p>Rather than using a <code>DeferredResult</code>, perhaps <code>java.util.concurrent.CompletableFuture</code> would suit you. You could set the result on the future by using <code>complete</code> and you can wait for a result using <code>get</code> (optionally specifying a timeout).</p>\n<p>One last thing: I assume that <code>requestList</code> in <code>RequestHolder</code> needs synchronization to be thread safe. The easiest thing would be <code>java.util.Collections.synchronizedList(new ArrayList&lt;&gt;())</code>.</p>\n"}],"owner":{"account_id":17356198,"reputation":7,"user_id":12573522,"display_name":"Curtis_L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76964784,"answer_count":1,"score":0,"last_activity_date":1692823418,"creation_date":1692816309,"question_id":76964122,"body_markdown":"I want to have my program wait for a value that gets set at a different point in my spring program. This value could be set from an entirely different API or an event handler for example.\r\n\r\nBelow is the controller that needs to wait for the result to be set and then used to do other things.\r\n\r\n**Example.java**\r\n\r\n    @RestController\r\n    public class ExampleController {\r\n    \r\n        @Autowired\r\n        RequestHolder requestHolder;\r\n        @GetMapping(&quot;/hello&quot;)\r\n        public String hello() {\r\n    \r\n            DeferredResult myRequest = new DeferredResult&lt;&gt;();\r\n            requestHolder.addRequest(myRequest);\r\n            //wait for myRequest to be handled somehow\r\n            String myVar = (String) myRequest.getResult();\r\n    \t\t/*\r\n    \t\tmyRequest should either have timed out or have a value by this point\r\n    \t\tDo stuff with myVar\r\n    \t\t */\r\n    \r\n            return &quot;return something&quot;;\r\n        }\r\n    }\r\n\r\n**RequestHolder.java**\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.context.request.async.DeferredResult;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Component\r\n    public class RequestHolder {\r\n        private List&lt;DeferredResult&gt; requestList;\r\n    \r\n        public RequestHolder(){\r\n            this.requestList = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public void addRequest(DeferredResult request){\r\n            this.requestList.add(request);\r\n    \r\n        }\r\n    \r\n        public void clear(){\r\n            this.requestList.clear();\r\n        }\r\n    \r\n        public List&lt;DeferredResult&gt; getRequestList() {\r\n            return requestList;\r\n        }\r\n    }\r\n\r\n**RequestHandler.java**\r\n\r\n    @RestController\r\n    public class RequestHandler {\r\n        @Autowired\r\n        RequestHolder requestHolder;\r\n    \r\n        @GetMapping(&quot;/setResult&quot;)\r\n        public void setResult() {\r\n    \r\n            for (DeferredResult request: requestHolder.getRequestList()) {\r\n    \r\n                request.setResult(&quot;Hello World!&quot;);\r\n            }\r\n            requestHolder.clear();\r\n    \r\n        }\r\n    \r\n    }\r\nThe issue I currently have is that the code where myVar should have its value will run before a value is set. Is there a way to make it so it will wait for the DeferredResult to have a value or is there a different method I should use to achieve what I want?\r\n","title":"Spring DeferredResult only continue after result set or timeout","body":"<p>I want to have my program wait for a value that gets set at a different point in my spring program. This value could be set from an entirely different API or an event handler for example.</p>\n<p>Below is the controller that needs to wait for the result to be set and then used to do other things.</p>\n<p><strong>Example.java</strong></p>\n<pre><code>@RestController\npublic class ExampleController {\n\n    @Autowired\n    RequestHolder requestHolder;\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n\n        DeferredResult myRequest = new DeferredResult&lt;&gt;();\n        requestHolder.addRequest(myRequest);\n        //wait for myRequest to be handled somehow\n        String myVar = (String) myRequest.getResult();\n        /*\n        myRequest should either have timed out or have a value by this point\n        Do stuff with myVar\n         */\n\n        return &quot;return something&quot;;\n    }\n}\n</code></pre>\n<p><strong>RequestHolder.java</strong></p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.context.request.async.DeferredResult;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Component\npublic class RequestHolder {\n    private List&lt;DeferredResult&gt; requestList;\n\n    public RequestHolder(){\n        this.requestList = new ArrayList&lt;&gt;();\n    }\n\n    public void addRequest(DeferredResult request){\n        this.requestList.add(request);\n\n    }\n\n    public void clear(){\n        this.requestList.clear();\n    }\n\n    public List&lt;DeferredResult&gt; getRequestList() {\n        return requestList;\n    }\n}\n</code></pre>\n<p><strong>RequestHandler.java</strong></p>\n<pre><code>@RestController\npublic class RequestHandler {\n    @Autowired\n    RequestHolder requestHolder;\n\n    @GetMapping(&quot;/setResult&quot;)\n    public void setResult() {\n\n        for (DeferredResult request: requestHolder.getRequestList()) {\n\n            request.setResult(&quot;Hello World!&quot;);\n        }\n        requestHolder.clear();\n\n    }\n\n}\n</code></pre>\n<p>The issue I currently have is that the code where myVar should have its value will run before a value is set. Is there a way to make it so it will wait for the DeferredResult to have a value or is there a different method I should use to achieve what I want?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692817770,"creation_date":1692816113,"answer_id":76964105,"question_id":76963785,"body_markdown":"This is caused by the button losing focus because it was disabled. This causes the focus to go to the next focusable node in the scene graph, and this functionality goes through the &quot;traversal engine&quot;. And the default skin of `ScrollPane` adds [the following listener][1] to the engine:\r\n\r\n\r\n&gt;```java\r\n&gt;traversalEngine.addTraverseListener((node, bounds) -&gt; {\r\n&gt;    // auto-scroll so node is within (0,0),(contentWidth,contentHeight)\r\n&gt;    scrollBoundsIntoView(bounds);\r\n&gt;});\r\n&gt;```\r\n\r\nThis listener serves an important purpose. It allows the user to e.g., &lt;kbd&gt;Tab&lt;/kbd&gt; through controls in the scroll pane and have the scroll pane automatically scroll to make sure the newly focused control is visible. So, I would not call this behavior a bug&lt;sup&gt;1&lt;/sup&gt;. But it is also unfortunately causing your issue, because the next focused node is the first button in `vbox2`, which causes the scroll pane to scroll back up to the top after you call `sp.setVvalue(0.5)`.\r\n\r\nA workaround, at least for this example code, is to simply request a different node take focus before disabling the button. For instance, you could focus the `ScrollPane`:\r\n\r\n```java\r\nshowButton.setOnAction(e -&gt; {\r\n    sp.requestFocus();\r\n    showButton.setDisable(true);\r\n    sp.setVvalue(0.5);\r\n}\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;1. Unless you believe `ScrollPaneSkin` could implement this behavior via a different mechanism than the traversal engine.&lt;/sup&gt;\r\n\r\n\r\n\r\n  [1]: https://github.com/openjdk/jfx/blob/be2c7aea20c7752f069e526d2c3f9bea11bc1634/modules/javafx.controls/src/main/java/javafx/scene/control/skin/ScrollPaneSkin.java#L635\r\n\r\n","title":"Setting JavaFx&#39;s ScrollPane&#39;s Vvalue does not reflect change in very certain scenario","body":"<p>This is caused by the button losing focus because it was disabled. This causes the focus to go to the next focusable node in the scene graph, and this functionality goes through the &quot;traversal engine&quot;. And the default skin of <code>ScrollPane</code> adds <a href=\"https://github.com/openjdk/jfx/blob/be2c7aea20c7752f069e526d2c3f9bea11bc1634/modules/javafx.controls/src/main/java/javafx/scene/control/skin/ScrollPaneSkin.java#L635\" rel=\"nofollow noreferrer\">the following listener</a> to the engine:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>traversalEngine.addTraverseListener((node, bounds) -&gt; {\n   // auto-scroll so node is within (0,0),(contentWidth,contentHeight)\n   scrollBoundsIntoView(bounds);\n});\n</code></pre>\n</blockquote>\n<p>This listener serves an important purpose. It allows the user to e.g., <kbd>Tab</kbd> through controls in the scroll pane and have the scroll pane automatically scroll to make sure the newly focused control is visible. So, I would not call this behavior a bug<sup>1</sup>. But it is also unfortunately causing your issue, because the next focused node is the first button in <code>vbox2</code>, which causes the scroll pane to scroll back up to the top after you call <code>sp.setVvalue(0.5)</code>.</p>\n<p>A workaround, at least for this example code, is to simply request a different node take focus before disabling the button. For instance, you could focus the <code>ScrollPane</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>showButton.setOnAction(e -&gt; {\n    sp.requestFocus();\n    showButton.setDisable(true);\n    sp.setVvalue(0.5);\n}\n</code></pre>\n<hr />\n<p><sup>1. Unless you believe <code>ScrollPaneSkin</code> could implement this behavior via a different mechanism than the traversal engine.</sup></p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76964105,"answer_count":1,"score":3,"last_activity_date":1692822237,"creation_date":1692813055,"question_id":76963785,"body_markdown":"Setting Vvalue of ScrollPane does not show change if:\r\n\r\n - we change Vvalue of scrollpane inside action invoked by clicking a Button\r\n - we disable that button inside that action\r\n - scrollpane&#39;s content is complex enough\r\n\r\n*I am not sure if it is directly (or only) caused by these three conditions, but this example shows what I mean.*\r\n\r\nMinimal reproducible example:\r\n\r\n    public class Main extends Application {\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            System.out.println(System.getProperty(&quot;javafx.runtime.version&quot;));\r\n            var showButton = new Button(&quot;CLICK ME&quot;);\r\n    \r\n            var sp = new ScrollPane();\r\n    \r\n            var vbox = new VBox();\r\n            var vbox2 = new VBox();\r\n    \r\n            for (int i = 0; i &lt; 200; i++) {\r\n                vbox2.getChildren().addAll(\r\n                        new Label(&quot;dummy&quot;),\r\n                        new HBox(new HBox()),\r\n                        new GridPane(),\r\n                        new Button(&quot;dummy&quot;));\r\n            }\r\n    \r\n            showButton.setOnAction(event -&gt; {\r\n                sp.setVvalue(0.5);\r\n                // sp&#39;s Vvalue is not rendered if we disable button here while also having a complex content\r\n                // complex content created above should be enough, if not try to increase &#39;i &lt; 200&#39; to &#39;i &lt; 1000&#39; or more\r\n                showButton.setDisable(true);\r\n            });\r\n    \r\n            vbox.setPadding(new Insets(50,50,50,50));\r\n            vbox.setSpacing(50);\r\n    \r\n            vbox.getChildren().addAll(showButton, vbox2);\r\n    \r\n            sp.setContent(vbox);\r\n    \r\n            var scene = new Scene(sp);\r\n            primaryStage.setWidth(150);\r\n            primaryStage.setHeight(150);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    }\r\n\r\nStart the Application, click on the CLICK ME button and see that the scrollpane is not scrolled.\r\n\r\nIf we do not disable the button (remove line with `showButton.setDisable(true);`) inside that action or content is not complex enough (try reducing the `i` to 5) the scrollpane is scrolled normally. **EDIT:** reducing complexity by having less items in vbox2 did not play a role.\r\n\r\nHow I found this (possible) bug:\r\n\r\nIn my application I have a scenario that when user clicks a button, content is shown and scrollpane inside which the button is should be scrolled up while also disabling the button to prevent user clicking it another time. However, the scrollpane is not scrolled due to these reasons described above.\r\n\r\nWrapping setting Vvalue in another Thread with `sleep()` like so works:, **but it is not right**:\r\n\r\n        ...\r\n        new Thread(() -&gt; {\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            sp.setVvalue(0.5);\r\n        }).start();\r\n        showButton.setDisable(true);\r\n        ...\r\n\r\n\r\nI am on Kubuntu 23.04 (Linux) using JavaFX 17.0.8+1+b01","title":"Setting JavaFx&#39;s ScrollPane&#39;s Vvalue does not reflect change in very certain scenario","body":"<p>Setting Vvalue of ScrollPane does not show change if:</p>\n<ul>\n<li>we change Vvalue of scrollpane inside action invoked by clicking a Button</li>\n<li>we disable that button inside that action</li>\n<li>scrollpane's content is complex enough</li>\n</ul>\n<p><em>I am not sure if it is directly (or only) caused by these three conditions, but this example shows what I mean.</em></p>\n<p>Minimal reproducible example:</p>\n<pre><code>public class Main extends Application {\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        System.out.println(System.getProperty(&quot;javafx.runtime.version&quot;));\n        var showButton = new Button(&quot;CLICK ME&quot;);\n\n        var sp = new ScrollPane();\n\n        var vbox = new VBox();\n        var vbox2 = new VBox();\n\n        for (int i = 0; i &lt; 200; i++) {\n            vbox2.getChildren().addAll(\n                    new Label(&quot;dummy&quot;),\n                    new HBox(new HBox()),\n                    new GridPane(),\n                    new Button(&quot;dummy&quot;));\n        }\n\n        showButton.setOnAction(event -&gt; {\n            sp.setVvalue(0.5);\n            // sp's Vvalue is not rendered if we disable button here while also having a complex content\n            // complex content created above should be enough, if not try to increase 'i &lt; 200' to 'i &lt; 1000' or more\n            showButton.setDisable(true);\n        });\n\n        vbox.setPadding(new Insets(50,50,50,50));\n        vbox.setSpacing(50);\n\n        vbox.getChildren().addAll(showButton, vbox2);\n\n        sp.setContent(vbox);\n\n        var scene = new Scene(sp);\n        primaryStage.setWidth(150);\n        primaryStage.setHeight(150);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>Start the Application, click on the CLICK ME button and see that the scrollpane is not scrolled.</p>\n<p>If we do not disable the button (remove line with <code>showButton.setDisable(true);</code>) inside that action or content is not complex enough (try reducing the <code>i</code> to 5) the scrollpane is scrolled normally. <strong>EDIT:</strong> reducing complexity by having less items in vbox2 did not play a role.</p>\n<p>How I found this (possible) bug:</p>\n<p>In my application I have a scenario that when user clicks a button, content is shown and scrollpane inside which the button is should be scrolled up while also disabling the button to prevent user clicking it another time. However, the scrollpane is not scrolled due to these reasons described above.</p>\n<p>Wrapping setting Vvalue in another Thread with <code>sleep()</code> like so works:, <strong>but it is not right</strong>:</p>\n<pre><code>    ...\n    new Thread(() -&gt; {\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        sp.setVvalue(0.5);\n    }).start();\n    showButton.setDisable(true);\n    ...\n</code></pre>\n<p>I am on Kubuntu 23.04 (Linux) using JavaFX 17.0.8+1+b01</p>\n"},{"tags":["java","gradle","aspectj","java-17","jvm-arguments"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":11,"creation_date":1638540874,"post_id":70214788,"comment_id":124122892,"body_markdown":"The &quot;Unrecognized VM option &#39;CMSClassUnloadingEnabled&#39;&quot; arises because in Java 14 the CMS garbage collector was removed and the options specific to that garbage collector (like &quot;CMSClassUnloadingEnabled&quot;) are illegal for Java 14 and later. If you add this option the JVM refuses to start.","body":"The &quot;Unrecognized VM option &#39;CMSClassUnloadingEnabled&#39;&quot; arises because in Java 14 the CMS garbage collector was removed and the options specific to that garbage collector (like &quot;CMSClassUnloadingEnabled&quot;) are illegal for Java 14 and later. If you add this option the JVM refuses to start."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":4,"creation_date":1638540987,"post_id":70214788,"comment_id":124122941,"body_markdown":"The second error &quot;Unable to make field private int java.lang.reflect.Field.modifiers accessible&quot; happens because Java 17 drastically restricted access to internal fields. However, since Gradle 7.3 is compatible with Java 17 it must be an error reported from some third party plugin or from your code. Without further context this cannot be decided.","body":"The second error &quot;Unable to make field private int java.lang.reflect.Field.modifiers accessible&quot; happens because Java 17 drastically restricted access to internal fields. However, since Gradle 7.3 is compatible with Java 17 it must be an error reported from some third party plugin or from your code. Without further context this cannot be decided."},{"owner":{"account_id":8328933,"reputation":451,"user_id":6258072,"display_name":"Wiktor KÄ™ska"},"score":0,"creation_date":1638622705,"post_id":70214788,"comment_id":124139927,"body_markdown":"Yeah you are right that&#39;s because of AspectJ","body":"Yeah you are right that&#39;s because of AspectJ"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1638791168,"post_id":70214788,"comment_id":124173670,"body_markdown":"A typical case of esoteric command line options. The option `-XX:+CMSClassUnloadingEnabled` is, as the name indicates, specific to the CMS garbage collector and hence, never made any sense in combination with `-XX:+UseG1GC`, an entirely different garbage collector. So, now that the CMS collector has been removed, options related to CMS cause an error, but these options had no effect anyway when you were using G1GC. Since G1GC is the default in JDK&#160;17, you can even remove the `-XX:+UseG1GC` option.","body":"A typical case of esoteric command line options. The option <code>-XX:+CMSClassUnloadingEnabled</code> is, as the name indicates, specific to the CMS garbage collector and hence, never made any sense in combination with <code>-XX:+UseG1GC</code>, an entirely different garbage collector. So, now that the CMS collector has been removed, options related to CMS cause an error, but these options had no effect anyway when you were using G1GC. Since G1GC is the default in JDK 17, you can even remove the <code>-XX:+UseG1GC</code> option."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690088494,"creation_date":1690088494,"answer_id":76746697,"question_id":70214788,"body_markdown":"&gt;&gt; ```none\r\n&gt;&gt; Unable to make field private int java.lang.reflect.Field.modifiers accessible:\r\n&gt;&gt; module java.base does not &quot;opens java.lang.reflect&quot; to unnamed module @1b9ee3e0\r\n&gt;&gt; ```\r\n\r\n&gt; Yeah you are right that&#39;s because of AspectJ\r\n\r\nAssuming that you are using AspectJ load-time weaving (LTW) rather than compile-time weaving, maybe you ought to read the [AspectJ release notes](https://htmlpreview.github.io/?https://github.com/eclipse-aspectj/aspectj/blob/master/docs/dist/doc/README-197.html) for each version since 1.9.7, supporting Java 16+:\r\n\r\n&gt; ### Use LTW on Java 16+\r\n&gt;\r\n&gt; Please note that if you want to use load-time weaving on Java 16+, the weaving agent collides with [JEP 396 (Strongly Encapsulate JDK Internals by Default)](https://openjdk.java.net/jeps/396) and related subsequent JEPs. Therefore, you need to set the JVM parameter `--add-opens java.base/java.lang=ALL-UNNAMED` in order to enable aspect weaving. This is due to the fact that the weaver uses internal APIs for which we have not found an adequate replacement yet when defining classes in different classloaders.","title":"`Unrecognized VM option &#39;CMSClassUnloadingEnabled&#39;` after switching to java 17","body":"<blockquote>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Unable to make field private int java.lang.reflect.Field.modifiers accessible:\nmodule java.base does not &quot;opens java.lang.reflect&quot; to unnamed module @1b9ee3e0\n</code></pre>\n</blockquote>\n</blockquote>\n<blockquote>\n<p>Yeah you are right that's because of AspectJ</p>\n</blockquote>\n<p>Assuming that you are using AspectJ load-time weaving (LTW) rather than compile-time weaving, maybe you ought to read the <a href=\"https://htmlpreview.github.io/?https://github.com/eclipse-aspectj/aspectj/blob/master/docs/dist/doc/README-197.html\" rel=\"nofollow noreferrer\">AspectJ release notes</a> for each version since 1.9.7, supporting Java 16+:</p>\n<blockquote>\n<h3>Use LTW on Java 16+</h3>\n<p>Please note that if you want to use load-time weaving on Java 16+, the weaving agent collides with <a href=\"https://openjdk.java.net/jeps/396\" rel=\"nofollow noreferrer\">JEP 396 (Strongly Encapsulate JDK Internals by Default)</a> and related subsequent JEPs. Therefore, you need to set the JVM parameter <code>--add-opens java.base/java.lang=ALL-UNNAMED</code> in order to enable aspect weaving. This is due to the fact that the weaver uses internal APIs for which we have not found an adequate replacement yet when defining classes in different classloaders.</p>\n</blockquote>\n"}],"owner":{"account_id":8328933,"reputation":451,"user_id":6258072,"display_name":"Wiktor KÄ™ska"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13040,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":1,"score":17,"last_activity_date":1692820900,"creation_date":1638536744,"question_id":70214788,"body_markdown":"After changing the Java version to 17 I can&#39;t build the Gradle project.\r\n\r\nI am using Gradle 7.3.1 version and have the following line in Gradle properties:\r\n```\r\norg.gradle.jvmargs=-Dfile.encoding=UTF-8 -Xms1g -Xmx4g -XX:+UseG1GC -XX:+CMSClassUnloadingEnabled\r\n```\r\nthen I got the following error\r\n```\r\nUnrecognized VM option &#39;CMSClassUnloadingEnabled&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\nIf I remove ```-XX:+CMSClassUnloadingEnabled``` then I got this error:\r\n\r\n```\r\nUnable to make field private int java.lang.reflect.Field.modifiers accessible: module java.base does not &quot;opens java.lang.reflect&quot; to unnamed module @1b9ee3e0\r\n```","title":"`Unrecognized VM option &#39;CMSClassUnloadingEnabled&#39;` after switching to java 17","body":"<p>After changing the Java version to 17 I can't build the Gradle project.</p>\n<p>I am using Gradle 7.3.1 version and have the following line in Gradle properties:</p>\n<pre><code>org.gradle.jvmargs=-Dfile.encoding=UTF-8 -Xms1g -Xmx4g -XX:+UseG1GC -XX:+CMSClassUnloadingEnabled\n</code></pre>\n<p>then I got the following error</p>\n<pre><code>Unrecognized VM option 'CMSClassUnloadingEnabled'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>If I remove <code>-XX:+CMSClassUnloadingEnabled</code> then I got this error:</p>\n<pre><code>Unable to make field private int java.lang.reflect.Field.modifiers accessible: module java.base does not &quot;opens java.lang.reflect&quot; to unnamed module @1b9ee3e0\n</code></pre>\n"},{"tags":["java","spring","postgresql"],"comments":[{"owner":{"account_id":337407,"reputation":10009,"user_id":665657,"accept_rate":75,"display_name":"wjans"},"score":1,"creation_date":1585030804,"post_id":60824565,"comment_id":107616865,"body_markdown":"Why aren&#39;t you configuring these values in your properties already and letting autoconfiguration do this for you?","body":"Why aren&#39;t you configuring these values in your properties already and letting autoconfiguration do this for you?"}],"answers":[{"tags":[],"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585039146,"creation_date":1585035499,"answer_id":60826686,"question_id":60824565,"body_markdown":"My guess is that you&#39;re not injecting your bean in the Spring Container, so use something like this:\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        String url = &quot;jdbc:postgresql://localhost:5433/&lt;DATABASE_NAME&gt;&quot;;\r\n\r\n        String username = &lt;USERNAME&gt;;\r\n        String password = &lt;PASSWORD&gt;;\r\n\r\n        return DataSourceBuilder\r\n                .create()\r\n                .driverClassName(&quot;org.postgresql.Driver&quot;)\r\n                .url(url)\r\n                .username(username)\r\n                .password(password)\r\n                .build();\r\n    }\r\n\r\nBtw in your jdbcUrl you need to use the DatabaseName, not the TableName.\r\n\r\n**Note**: I think is better to leverage how Spring Boot already has everything auto-configured, so I suggest to you to do something like this:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)\r\n    public class DatabaseConfig extends HikariConfig {\r\n        @Bean\r\n        public DataSource dataSource() {\r\n            return new HikariDataSource(this);\r\n        }\r\n    }\r\n\r\nAnd use the following properties:\r\n\r\n    spring.datasource.hikari.jdbcUrl=jdbc:postgresql://localhost:5433/blog\r\n    spring.datasource.hikari.username=user\r\n    spring.datasource.hikari.password=user\r\n    spring.datasource.hikari.driverClassName=org.postgresql.Driver\r\n\r\nYou can check one of my working examples here: \r\nhttps://github.com/vladucuvoican/simple-blog/blob/master/src/main/resources/application.properties","title":"PSQLException: The server requested password-based authentication, but no password was provided","body":"<p>My guess is that you're not injecting your bean in the Spring Container, so use something like this:</p>\n\n<pre><code>@Bean\npublic DataSource dataSource() {\n    String url = \"jdbc:postgresql://localhost:5433/&lt;DATABASE_NAME&gt;\";\n\n    String username = &lt;USERNAME&gt;;\n    String password = &lt;PASSWORD&gt;;\n\n    return DataSourceBuilder\n            .create()\n            .driverClassName(\"org.postgresql.Driver\")\n            .url(url)\n            .username(username)\n            .password(password)\n            .build();\n}\n</code></pre>\n\n<p>Btw in your jdbcUrl you need to use the DatabaseName, not the TableName.</p>\n\n<p><strong>Note</strong>: I think is better to leverage how Spring Boot already has everything auto-configured, so I suggest to you to do something like this:</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"spring.datasource.hikari\")\npublic class DatabaseConfig extends HikariConfig {\n    @Bean\n    public DataSource dataSource() {\n        return new HikariDataSource(this);\n    }\n}\n</code></pre>\n\n<p>And use the following properties:</p>\n\n<pre><code>spring.datasource.hikari.jdbcUrl=jdbc:postgresql://localhost:5433/blog\nspring.datasource.hikari.username=user\nspring.datasource.hikari.password=user\nspring.datasource.hikari.driverClassName=org.postgresql.Driver\n</code></pre>\n\n<p>You can check one of my working examples here: \n<a href=\"https://github.com/vladucuvoican/simple-blog/blob/master/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">https://github.com/vladucuvoican/simple-blog/blob/master/src/main/resources/application.properties</a></p>\n"},{"tags":[],"owner":{"account_id":13631134,"reputation":1,"user_id":9833182,"display_name":"Krzysztof Uliasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602087206,"creation_date":1602087206,"answer_id":64248126,"question_id":60824565,"body_markdown":"The problem may be occured by beans scanning\r\n\r\nI have the same problem but logs did not indicate it.\r\n\r\nTry:\r\n\r\n    @Configuration\r\n    public class DataSourceConfig {\r\n        @Value(&quot;${spring.datasource.driver-class-name}&quot;)\r\n        private String driverClass;\r\n        @Value(&quot;${spring.datasource.data-username}&quot;)\r\n        private String url;\r\n        @Value(&quot;${spring.datasource.data-username}&quot;)\r\n        private String userName;\r\n        @Value(&quot;${spring.datasource.data-password}&quot;)\r\n        private String password;\r\n    \r\n        @Bean\r\n        public DataSource getDataSource() {\r\n            return DataSourceBuilder.create()\r\n                    .driverClassName(driverClass)\r\n                    .url(url)\r\n                    .username(userName)\r\n                    .password(password)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nIf you use SpringBoot, move to package with SpringBootApplication runner or define scanning manually ","title":"PSQLException: The server requested password-based authentication, but no password was provided","body":"<p>The problem may be occured by beans scanning</p>\n<p>I have the same problem but logs did not indicate it.</p>\n<p>Try:</p>\n<pre><code>@Configuration\npublic class DataSourceConfig {\n    @Value(&quot;${spring.datasource.driver-class-name}&quot;)\n    private String driverClass;\n    @Value(&quot;${spring.datasource.data-username}&quot;)\n    private String url;\n    @Value(&quot;${spring.datasource.data-username}&quot;)\n    private String userName;\n    @Value(&quot;${spring.datasource.data-password}&quot;)\n    private String password;\n\n    @Bean\n    public DataSource getDataSource() {\n        return DataSourceBuilder.create()\n                .driverClassName(driverClass)\n                .url(url)\n                .username(userName)\n                .password(password)\n                .build();\n    }\n}\n</code></pre>\n<p>If you use SpringBoot, move to package with SpringBootApplication runner or define scanning manually</p>\n"}],"owner":{"account_id":4579023,"reputation":1929,"user_id":6491192,"accept_rate":57,"display_name":"Adam Freymiller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11824,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692820900,"creation_date":1585020558,"question_id":60824565,"body_markdown":"I have a Spring Boot project where I&#39;m trying to connect to a local PostgreSQL database. The data source is being instantiated from DataSourceBuilder. For the purposes of this example, I have the database username, password, and database URL hard-coded (they will be passed in through properties files), and this is what the implementation looks like:\r\n\r\n    String url = &quot;jdbc:postgresql://localhost:5433/&lt;TABLENAME&gt;&quot;;\r\n\r\n    String username = &lt;USERNAME&gt;;\r\n    String password = &lt;PASSWORD&gt;;\r\n        \r\n    return DataSourceBuilder\r\n                .create()\r\n                .driverClassName(&quot;org.postgresql.Driver&quot;)\r\n                .url(url)\r\n                .username(username)\r\n                .password(password)\r\n                .build();\r\n\r\nWhen I run the Spring Application main method, the following exception is thrown:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: \r\n    The server requested password-based authentication, but no password was provided.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:534)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:141)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192)\r\n\r\nI tried changing the *postgres* user password a few times using ```sudo passwd postgres``` but that didn&#39;t seem to work. Any ideas?","title":"PSQLException: The server requested password-based authentication, but no password was provided","body":"<p>I have a Spring Boot project where I'm trying to connect to a local PostgreSQL database. The data source is being instantiated from DataSourceBuilder. For the purposes of this example, I have the database username, password, and database URL hard-coded (they will be passed in through properties files), and this is what the implementation looks like:</p>\n\n<pre><code>String url = \"jdbc:postgresql://localhost:5433/&lt;TABLENAME&gt;\";\n\nString username = &lt;USERNAME&gt;;\nString password = &lt;PASSWORD&gt;;\n\nreturn DataSourceBuilder\n            .create()\n            .driverClassName(\"org.postgresql.Driver\")\n            .url(url)\n            .username(username)\n            .password(password)\n            .build();\n</code></pre>\n\n<p>When I run the Spring Application main method, the following exception is thrown:</p>\n\n<pre><code>Caused by: org.postgresql.util.PSQLException: \nThe server requested password-based authentication, but no password was provided.\nat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:534)\nat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:141)\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192)\n</code></pre>\n\n<p>I tried changing the <em>postgres</em> user password a few times using <code>sudo passwd postgres</code> but that didn't seem to work. Any ideas?</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api"],"owner":{"account_id":15438215,"reputation":11,"user_id":11137663,"display_name":"sush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692820642,"creation_date":1692128817,"question_id":76908742,"body_markdown":"Tech stack used: Spring boot, Spring-kafka \r\n\r\nScenario: We want to have multiple kafkaconsumers to be created based on the configs provided in the properties file. There can be multiple kafka clusters, where each consumer connects to different Kafka Cluster.\r\n\r\nConsumer is created in below way: \r\n\r\n```java\r\nKafkaConsumer&lt;Object, Object&gt; kafkaConsumer = new KafkaConsumer(properties);\r\n```\r\n\r\nAbove code is placed inside the loop and based upon list of the consumer configs specified in the properties file, consumers will be created dynamically on startup of the springboot application KafkaConsumer object will be wrapped inside another class ex: ParentService. \r\n\r\nWe create multiple ParentService objects and each service object will use one KafkaConsumer object.\r\n\r\n ParentService1 -&gt; KafkaConsumer1  ParentService2 -&gt; KafkaConsumer2\r\n\r\n\r\nIssue: When KafkaConsumer1 is created, connection to the specified brokers are established successfully. Then, KafkaConsumer2 is created successfully by connecting to another set of brokers. Now, when I call poll method KafkaConsumer1, it says Connection to brokers are disconnected. And, KafkaConsumer2 is able to poll successfully.\r\n\r\n```java\r\nParentService parentService1 = new ParentService();  \r\nKafkaConsumer consumer1 = new KafkaConsumer(properties1);\r\n\r\nParentService parentService2 = new ParentService();  \r\nKafkaConsumer consumer2 = new KafkaConsumer(properties2);  \r\n\r\nconsumer1.poll();\r\n```\r\n\r\nI see below warnings in logs\r\n\r\n```log\r\norg.apache.kafka.clients.NetworkClient: Connection to node -1 (xxx) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. org.apache.kafka.clients.NetworkClient : Bootstrap broker xxx(id: -1 rack: null) disconnected\r\n\r\norg.apache.kafka.clients.NetworkClient: Connection to node -2 (xxx) terminated during authentication.  This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \r\n\r\norg.apache.kafka.clients.NetworkClient : Bootstrap broker xxx(id: -2 rack: null) disconnected]\r\n```\r\n\r\nThanks in advance!!\r\n\r\n","title":"Consumer1 gets disconnected when consumer2 establishes connection with Kafka brokers in Springboot app","body":"<p>Tech stack used: Spring boot, Spring-kafka</p>\n<p>Scenario: We want to have multiple kafkaconsumers to be created based on the configs provided in the properties file. There can be multiple kafka clusters, where each consumer connects to different Kafka Cluster.</p>\n<p>Consumer is created in below way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KafkaConsumer&lt;Object, Object&gt; kafkaConsumer = new KafkaConsumer(properties);\n</code></pre>\n<p>Above code is placed inside the loop and based upon list of the consumer configs specified in the properties file, consumers will be created dynamically on startup of the springboot application KafkaConsumer object will be wrapped inside another class ex: ParentService.</p>\n<p>We create multiple ParentService objects and each service object will use one KafkaConsumer object.</p>\n<p>ParentService1 -&gt; KafkaConsumer1  ParentService2 -&gt; KafkaConsumer2</p>\n<p>Issue: When KafkaConsumer1 is created, connection to the specified brokers are established successfully. Then, KafkaConsumer2 is created successfully by connecting to another set of brokers. Now, when I call poll method KafkaConsumer1, it says Connection to brokers are disconnected. And, KafkaConsumer2 is able to poll successfully.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ParentService parentService1 = new ParentService();  \nKafkaConsumer consumer1 = new KafkaConsumer(properties1);\n\nParentService parentService2 = new ParentService();  \nKafkaConsumer consumer2 = new KafkaConsumer(properties2);  \n\nconsumer1.poll();\n</code></pre>\n<p>I see below warnings in logs</p>\n<pre><code>org.apache.kafka.clients.NetworkClient: Connection to node -1 (xxx) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. org.apache.kafka.clients.NetworkClient : Bootstrap broker xxx(id: -1 rack: null) disconnected\n\norg.apache.kafka.clients.NetworkClient: Connection to node -2 (xxx) terminated during authentication.  This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \n\norg.apache.kafka.clients.NetworkClient : Bootstrap broker xxx(id: -2 rack: null) disconnected]\n</code></pre>\n<p>Thanks in advance!!</p>\n"},{"tags":["java","apache-kafka","deserialization"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":1,"creation_date":1691754980,"post_id":76883216,"comment_id":135538096,"body_markdown":"Does this answer your question? [Using multiple deserializers for a kafka consumer](https://stackoverflow.com/questions/40218789/using-multiple-deserializers-for-a-kafka-consumer)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40218789/using-multiple-deserializers-for-a-kafka-consumer\">Using multiple deserializers for a kafka consumer</a>"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1691756670,"post_id":76883216,"comment_id":135538396,"body_markdown":"The best and simplest way to achieve this is to configure and use two consumers.","body":"The best and simplest way to achieve this is to configure and use two consumers."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1691758446,"post_id":76883216,"comment_id":135538787,"body_markdown":"What have you tried so far? Deserializers are associated with consumers, not topics. So create two of them","body":"What have you tried so far? Deserializers are associated with consumers, not topics. So create two of them"},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1692820319,"post_id":76883216,"comment_id":135677773,"body_markdown":"Spring provides a `DelegatingByTopicDeserializer`.","body":"Spring provides a <code>DelegatingByTopicDeserializer</code>."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692820391,"creation_date":1692820391,"answer_id":76964514,"question_id":76883216,"body_markdown":"Use the `DelegatingByTopicDeserializer`.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#by-topic\r\n\r\n&gt;Starting with version 2.8, the `DelegatingByTopicSerializer` and `DelegatingByTopicDeserializer` allow selection of a serializer/deserializer based on the topic name. Regex `Pattern`s are used to lookup the instance to use. ","title":"Kafka deserializers based on Topics","body":"<p>Use the <code>DelegatingByTopicDeserializer</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#by-topic\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#by-topic</a></p>\n<blockquote>\n<p>Starting with version 2.8, the <code>DelegatingByTopicSerializer</code> and <code>DelegatingByTopicDeserializer</code> allow selection of a serializer/deserializer based on the topic name. Regex <code>Pattern</code>s are used to lookup the instance to use.</p>\n</blockquote>\n"}],"owner":{"account_id":18045956,"reputation":41,"user_id":13116949,"display_name":"Kstackr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692820391,"creation_date":1691753927,"question_id":76883216,"body_markdown":"I have two Kafka topics in my consumer application. How can I configure one topic to use  StringDeserializer (org.apache.kafka.common.serialization.StringDeserializer) and other one to use KafkaAvroDeserializer (io.confluent.kafka.serializers.KafkaAvroDeserializer)? \r\n","title":"Kafka deserializers based on Topics","body":"<p>I have two Kafka topics in my consumer application. How can I configure one topic to use  StringDeserializer (org.apache.kafka.common.serialization.StringDeserializer) and other one to use KafkaAvroDeserializer (io.confluent.kafka.serializers.KafkaAvroDeserializer)?</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1491902683,"post_id":43341819,"comment_id":73746782,"body_markdown":"`1,2` is not an array. It is 2 separate integers","body":"<code>1,2</code> is not an array. It is 2 separate integers"},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1491902711,"post_id":43341819,"comment_id":73746803,"body_markdown":"try `Arrays.asList(new int[]{1,2});`","body":"try <code>Arrays.asList(new int[]{1,2});</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":4,"creation_date":1491902878,"post_id":43341819,"comment_id":73746956,"body_markdown":"This seems to be a problem with type inference and auto-boxing. Would `Arrays.&lt;Integer&gt;asList( 1, 2 )` work?","body":"This seems to be a problem with type inference and auto-boxing. Would <code>Arrays.&lt;Integer&gt;asList( 1, 2 )</code> work?"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":2,"creation_date":1491902920,"post_id":43341819,"comment_id":73746992,"body_markdown":"But &#39;List l = Arrays.asList(1,2)&#39; It works fine with jdk1.7","body":"But &#39;List l = Arrays.asList(1,2)&#39; It works fine with jdk1.7"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":0,"creation_date":1491903022,"post_id":43341819,"comment_id":73747071,"body_markdown":"Using Arrays.asList(new int[]{1,2}); I got this error &quot;The method asList(T[]) in the type Arrays is not applicable for the arguments (int[])&quot;","body":"Using Arrays.asList(new int[]{1,2}); I got this error &quot;The method asList(T[]) in the type Arrays is not applicable for the arguments (int[])&quot;"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":0,"creation_date":1491903094,"post_id":43341819,"comment_id":73747129,"body_markdown":"@Thomas I got this error Syntax error, parameterized types are only available if source level is 1.5 or greater","body":"@Thomas I got this error Syntax error, parameterized types are only available if source level is 1.5 or greater"},{"owner":{"account_id":3883769,"reputation":2892,"user_id":3215673,"accept_rate":58,"display_name":"TheBakker"},"score":0,"creation_date":1491903166,"post_id":43341819,"comment_id":73747185,"body_markdown":"Possible duplicate of [Arrays.asList() not working as it should?](http://stackoverflow.com/questions/1467913/arrays-aslist-not-working-as-it-should)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1467913/arrays-aslist-not-working-as-it-should\">Arrays.asList() not working as it should?</a>"},{"owner":{"account_id":424109,"reputation":18176,"user_id":803925,"display_name":"nbrooks"},"score":1,"creation_date":1491903170,"post_id":43341819,"comment_id":73747190,"body_markdown":"@AmalAbidi Then your problem probably isn&#39;t with Java 8, it&#39;s that you&#39;re targeting the wrong java version. Ensure that your project is correctly setup to run with Java 8.","body":"@AmalAbidi Then your problem probably isn&#39;t with Java 8, it&#39;s that you&#39;re targeting the wrong java version. Ensure that your project is correctly setup to run with Java 8."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1491903283,"post_id":43341819,"comment_id":73747284,"body_markdown":"Can&#39;t reproduce, your code works fine: http://ideone.com/H96HuT","body":"Can&#39;t reproduce, your code works fine: <a href=\"http://ideone.com/H96HuT\" rel=\"nofollow noreferrer\">ideone.com/H96HuT</a>"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":0,"creation_date":1491903968,"post_id":43341819,"comment_id":73747835,"body_markdown":"@TheBakker no it is not","body":"@TheBakker no it is not"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":0,"creation_date":1491904193,"post_id":43341819,"comment_id":73747993,"body_markdown":"@Thomas I have checked the java version using : `System.out.println(System.getProperty(&quot;java.version&quot;));`\nit shows me in the output : **1.8.0_121**","body":"@Thomas I have checked the java version using : <code>System.out.println(System.getProperty(&quot;java.version&quot;));</code> it shows me in the output : <b>1.8.0_121</b>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1491908896,"post_id":43341819,"comment_id":73751386,"body_markdown":"&quot; parameterized types are only available if source level is 1.5 or greater&quot; - that seems to be the problem: you&#39;re using Java 8 to build but restrict the compiler to a pre-Java 5 source level and hence auto-boxing, varargs and generics are not supported and thus the compiler complains. Why are you restricting the source level in the first place?","body":"&quot; parameterized types are only available if source level is 1.5 or greater&quot; - that seems to be the problem: you&#39;re using Java 8 to build but restrict the compiler to a pre-Java 5 source level and hence auto-boxing, varargs and generics are not supported and thus the compiler complains. Why are you restricting the source level in the first place?"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":0,"creation_date":1491988346,"post_id":43341819,"comment_id":73792079,"body_markdown":"@Thomas I did not any restrcition or perhaps I did it accidentaly !\nDo you know how to eliminate this restriction in eclipse ?","body":"@Thomas I did not any restrcition or perhaps I did it accidentaly ! Do you know how to eliminate this restriction in eclipse ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1491989139,"post_id":43341819,"comment_id":73792642,"body_markdown":"Check &quot;Java Compiler&quot; in your project settings.","body":"Check &quot;Java Compiler&quot; in your project settings."}],"answers":[{"tags":[],"owner":{"account_id":10278910,"reputation":27,"user_id":7584818,"display_name":"Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608034874,"creation_date":1491919583,"answer_id":43348322,"question_id":43341819,"body_markdown":"I think you need to put an array as the parameter of asList.\r\nlike:\r\n\r\n    int[] data = {1,2,3,4,5};\r\n    List list = Arrays.asList(data);\r\n\r\n","title":"The method asList(T[]) in the type Arrays is not applicable for the arguments (int, int)","body":"<p>I think you need to put an array as the parameter of asList.\nlike:</p>\n<pre><code>int[] data = {1,2,3,4,5};\nList list = Arrays.asList(data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1524052698,"creation_date":1513608804,"answer_id":47870978,"question_id":43341819,"body_markdown":"In case anyone else comes across a similar issue, I found that I had this error because I was importing \r\n`edu.emory.mathcs.backport.java.util.Arrays;`\r\ninstead of\r\n`java.util.Arrays;`","title":"The method asList(T[]) in the type Arrays is not applicable for the arguments (int, int)","body":"<p>In case anyone else comes across a similar issue, I found that I had this error because I was importing \n<code>edu.emory.mathcs.backport.java.util.Arrays;</code>\ninstead of\n<code>java.util.Arrays;</code></p>\n"},{"tags":[],"owner":{"account_id":8899884,"reputation":180,"user_id":6643647,"display_name":"Prabu M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608034739,"creation_date":1608034739,"answer_id":65305715,"question_id":43341819,"body_markdown":"I have faced same issue like wrongly imported `org.javers.common.collection.arrays` \r\nSo removed that one and imported from Utils Arrays got ","title":"The method asList(T[]) in the type Arrays is not applicable for the arguments (int, int)","body":"<p>I have faced same issue like wrongly imported <code>org.javers.common.collection.arrays</code>\nSo removed that one and imported from Utils Arrays got</p>\n"},{"tags":[],"owner":{"account_id":13780981,"reputation":57,"user_id":9946116,"display_name":"Abhilash Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692819468,"creation_date":1692819468,"answer_id":76964436,"question_id":43341819,"body_markdown":"It&#39;s very obvious from the error statement itself. You cannot pass primitive values.\r\n\r\nBelow is the correct syntax (for modifiable list):\r\n\r\n    List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\r\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;(List.of(&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;));\r\n\r\nBelow is the correct syntax ( for unmodifiable list):\r\n\r\n        List&lt;Integer&gt; integerList = List.of(1, 2, 3, 4, 5);\r\n        List&lt;String&gt; stringList = List.of(&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;);","title":"The method asList(T[]) in the type Arrays is not applicable for the arguments (int, int)","body":"<p>It's very obvious from the error statement itself. You cannot pass primitive values.</p>\n<p>Below is the correct syntax (for modifiable list):</p>\n<pre><code>List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\nList&lt;String&gt; stringList = new ArrayList&lt;&gt;(List.of(&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;));\n</code></pre>\n<p>Below is the correct syntax ( for unmodifiable list):</p>\n<pre><code>    List&lt;Integer&gt; integerList = List.of(1, 2, 3, 4, 5);\n    List&lt;String&gt; stringList = List.of(&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;);\n</code></pre>\n"}],"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12787,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":4,"score":11,"last_activity_date":1692819468,"creation_date":1491902622,"question_id":43341819,"body_markdown":"I am using jdk1.8.0_121 on eclipse kepler (My OS is windows 7), I have created a simple project contained one class with static main method. \r\n\r\nWhen I tried to create a list as follow \r\n\r\n`List l = Arrays.asList(1,2);` \r\n\r\nI got this error : \r\n\r\n&gt; The method asList(T[]) in the type Arrays is not applicable for the\r\n&gt; arguments (int, int).\r\n\r\n","title":"The method asList(T[]) in the type Arrays is not applicable for the arguments (int, int)","body":"<p>I am using jdk1.8.0_121 on eclipse kepler (My OS is windows 7), I have created a simple project contained one class with static main method. </p>\n\n<p>When I tried to create a list as follow </p>\n\n<p><code>List l = Arrays.asList(1,2);</code> </p>\n\n<p>I got this error : </p>\n\n<blockquote>\n  <p>The method asList(T[]) in the type Arrays is not applicable for the\n  arguments (int, int).</p>\n</blockquote>\n"},{"tags":["java","arrays","java-8","java-stream"],"comments":[{"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":3,"creation_date":1397553201,"post_id":23079003,"comment_id":35272130,"body_markdown":"I&#39;d suggest you to revert the rollback as the question was more complete and showed you had tried something.","body":"I&#39;d suggest you to revert the rollback as the question was more complete and showed you had tried something."},{"owner":{"display_name":"user972946"},"score":2,"creation_date":1397553632,"post_id":23079003,"comment_id":35272430,"body_markdown":"@skiwi Thanks! but i thought the attempted code does not really add more information to the question, and nobody has screamed &quot;show us your attempt&quot; yet =)","body":"@skiwi Thanks! but i thought the attempted code does not really add more information to the question, and nobody has screamed &quot;show us your attempt&quot; yet =)"},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":20,"creation_date":1397647284,"post_id":23079003,"comment_id":35322306,"body_markdown":"@skiwi: Although I usually shout at the do-my-homework-instead-of-me questions, this particular question seems to be clearer to me without any additional mess. Let&#39;s keep it tidy.","body":"@skiwi: Although I usually shout at the do-my-homework-instead-of-me questions, this particular question seems to be clearer to me without any additional mess. Let&#39;s keep it tidy."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1585732047,"post_id":23079003,"comment_id":107862390,"body_markdown":"You can find a lot of answers and guidance in the official docs of the package: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","body":"You can find a lot of answers and guidance in the official docs of the package: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"down_vote_count":1,"up_vote_count":1595,"is_accepted":true,"score":1594,"last_activity_date":1535044174,"creation_date":1397552846,"answer_id":23079174,"question_id":23079003,"body_markdown":"The easiest method is to use the `toArray(IntFunction&lt;A[]&gt; generator)` method with an array constructor reference. This is suggested in the [API documentation for the method][1].\r\n\r\n    String[] stringArray = stringStream.toArray(String[]::new);\r\n\r\nWhat it does is find a method that takes in an integer (the size) as argument, and returns a `String[]`, which is exactly what (one of the overloads of) `new String[]` does.\r\n\r\nYou could also write your own `IntFunction`:\r\n\r\n    Stream&lt;String&gt; stringStream = ...;\r\n    String[] stringArray = stringStream.toArray(size -&gt; new String[size]);\r\n\r\nThe purpose of the `IntFunction&lt;A[]&gt; generator` is to convert an integer, the size of the array, to a new array.\r\n\r\nExample code:\r\n\r\n    Stream&lt;String&gt; stringStream = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    String[] stringArray = stringStream.toArray(size -&gt; new String[size]);\r\n    Arrays.stream(stringArray).forEach(System.out::println);\r\n\r\nPrints:\r\n\r\n    a\r\n    b\r\n    c\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-","title":"How to convert a Java 8 Stream to an Array?","body":"<p>The easiest method is to use the <code>toArray(IntFunction&lt;A[]&gt; generator)</code> method with an array constructor reference. This is suggested in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-\" rel=\"noreferrer\">API documentation for the method</a>.</p>\n\n<pre><code>String[] stringArray = stringStream.toArray(String[]::new);\n</code></pre>\n\n<p>What it does is find a method that takes in an integer (the size) as argument, and returns a <code>String[]</code>, which is exactly what (one of the overloads of) <code>new String[]</code> does.</p>\n\n<p>You could also write your own <code>IntFunction</code>:</p>\n\n<pre><code>Stream&lt;String&gt; stringStream = ...;\nString[] stringArray = stringStream.toArray(size -&gt; new String[size]);\n</code></pre>\n\n<p>The purpose of the <code>IntFunction&lt;A[]&gt; generator</code> is to convert an integer, the size of the array, to a new array.</p>\n\n<p>Example code:</p>\n\n<pre><code>Stream&lt;String&gt; stringStream = Stream.of(\"a\", \"b\", \"c\");\nString[] stringArray = stringStream.toArray(size -&gt; new String[size]);\nArrays.stream(stringArray).forEach(System.out::println);\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>a\nb\nc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7743894,"reputation":949,"user_id":5862499,"display_name":"Ida BuciÄ‡"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1601557754,"creation_date":1477661320,"answer_id":40306146,"question_id":23079003,"body_markdown":"If you want to get an array of ints, with values from 1 to 10, from a `Stream&lt;Integer&gt;`, there is `IntStream` at your disposal.\r\n\r\nHere we create a `Stream` with a `Stream.of` method and convert a `Stream&lt;Integer&gt;` to an `IntStream` using a `mapToInt`. Then we can call `IntStream`&#39;s `toArray` method.\r\n\r\n    Stream&lt;Integer&gt; stream = Stream.of(1,2,3,4,5,6,7,8,9,10);\r\n    //or use this to create our stream \r\n    //Stream&lt;Integer&gt; stream = IntStream.rangeClosed(1, 10).boxed();\r\n    int[] array =  stream.mapToInt(x -&gt; x).toArray();\r\n\r\nHere is the same thing, without the `Stream&lt;Integer&gt;`, using only the `IntStream`:\r\n\r\n    int[]array2 =  IntStream.rangeClosed(1, 10).toArray();","title":"How to convert a Java 8 Stream to an Array?","body":"<p>If you want to get an array of ints, with values from 1 to 10, from a <code>Stream&lt;Integer&gt;</code>, there is <code>IntStream</code> at your disposal.</p>\n<p>Here we create a <code>Stream</code> with a <code>Stream.of</code> method and convert a <code>Stream&lt;Integer&gt;</code> to an <code>IntStream</code> using a <code>mapToInt</code>. Then we can call <code>IntStream</code>'s <code>toArray</code> method.</p>\n<pre><code>Stream&lt;Integer&gt; stream = Stream.of(1,2,3,4,5,6,7,8,9,10);\n//or use this to create our stream \n//Stream&lt;Integer&gt; stream = IntStream.rangeClosed(1, 10).boxed();\nint[] array =  stream.mapToInt(x -&gt; x).toArray();\n</code></pre>\n<p>Here is the same thing, without the <code>Stream&lt;Integer&gt;</code>, using only the <code>IntStream</code>:</p>\n<pre><code>int[]array2 =  IntStream.rangeClosed(1, 10).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1256567,"reputation":99,"user_id":7574723,"display_name":"Thomas Pliakas"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1487251126,"creation_date":1487251126,"answer_id":42275131,"question_id":23079003,"body_markdown":"You can create a custom collector that convert a stream to array. \r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, T[]&gt; toArray( IntFunction&lt;T[]&gt; converter )\r\n    {\r\n        return Collectors.collectingAndThen( \r\n                      Collectors.toList(), \r\n                      list -&gt;list.toArray( converter.apply( list.size() ) ) );\r\n    }\r\n\r\nand a quick use\r\n\r\n    List&lt;String&gt; input = Arrays.asList( ..... );\r\n\r\n    String[] result = input.stream().\r\n             .collect( CustomCollectors.**toArray**( String[]::new ) );\r\n\r\n\r\n","title":"How to convert a Java 8 Stream to an Array?","body":"<p>You can create a custom collector that convert a stream to array. </p>\n\n<pre><code>public static &lt;T&gt; Collector&lt;T, ?, T[]&gt; toArray( IntFunction&lt;T[]&gt; converter )\n{\n    return Collectors.collectingAndThen( \n                  Collectors.toList(), \n                  list -&gt;list.toArray( converter.apply( list.size() ) ) );\n}\n</code></pre>\n\n<p>and a quick use</p>\n\n<pre><code>List&lt;String&gt; input = Arrays.asList( ..... );\n\nString[] result = input.stream().\n         .collect( CustomCollectors.**toArray**( String[]::new ) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6349088,"reputation":315,"user_id":4928723,"display_name":"Sagar Mal Shankhala"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1492244762,"creation_date":1492244451,"answer_id":43423836,"question_id":23079003,"body_markdown":"         Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3, 4, 5, 6);\r\n\r\n         Integer[] integers = stream.toArray(it-&gt;new Integer[it]);\r\n    ","title":"How to convert a Java 8 Stream to an Array?","body":"<pre><code>     Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3, 4, 5, 6);\n\n     Integer[] integers = stream.toArray(it-&gt;new Integer[it]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4852136,"reputation":2494,"user_id":3914166,"accept_rate":25,"display_name":"Bachiri Taoufiq Abderrahman"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1499965445,"creation_date":1495731436,"answer_id":44185928,"question_id":23079003,"body_markdown":"You can convert a java 8 stream to an array using this simple code block:\r\n\r\n     String[] myNewArray3 = myNewStream.toArray(String[]::new);\r\n\r\nBut let&#39;s explain things more, first, let&#39;s  Create a list of string filled with three values:\r\n\r\n    String[] stringList = {&quot;Bachiri&quot;,&quot;Taoufiq&quot;,&quot;Abderrahman&quot;};\r\n\r\nCreate a stream from the given Array :\r\n\r\n    Stream&lt;String&gt; stringStream = Arrays.stream(stringList);\r\nwe can now perform some operations on this stream Ex:\r\n\r\n    Stream&lt;String&gt; myNewStream = stringStream.map(s -&gt; s.toUpperCase());\r\n\r\nand finally convert it to a java 8 Array using these methods:\r\n\r\n1-Classic method (Functional interface)\r\n\r\n    IntFunction&lt;String[]&gt; intFunction = new IntFunction&lt;String[]&gt;() {\r\n        @Override\r\n        public String[] apply(int value) {\r\n            return new String[value];\r\n        }\r\n    };\r\n\r\n\r\n    String[] myNewArray = myNewStream.toArray(intFunction);\r\n\r\n2 -Lambda expression\r\n\r\n     String[] myNewArray2 = myNewStream.toArray(value -&gt; new String[value]);\r\n\r\n3- Method reference\r\n\r\n    String[] myNewArray3 = myNewStream.toArray(String[]::new);\r\n\r\nMethod reference Explanation:\r\n\r\nIt&#39;s another way of writing a lambda expression that it&#39;s strictly equivalent to the other. ","title":"How to convert a Java 8 Stream to an Array?","body":"<p>You can convert a java 8 stream to an array using this simple code block:</p>\n\n<pre><code> String[] myNewArray3 = myNewStream.toArray(String[]::new);\n</code></pre>\n\n<p>But let's explain things more, first, let's  Create a list of string filled with three values:</p>\n\n<pre><code>String[] stringList = {\"Bachiri\",\"Taoufiq\",\"Abderrahman\"};\n</code></pre>\n\n<p>Create a stream from the given Array :</p>\n\n<pre><code>Stream&lt;String&gt; stringStream = Arrays.stream(stringList);\n</code></pre>\n\n<p>we can now perform some operations on this stream Ex:</p>\n\n<pre><code>Stream&lt;String&gt; myNewStream = stringStream.map(s -&gt; s.toUpperCase());\n</code></pre>\n\n<p>and finally convert it to a java 8 Array using these methods:</p>\n\n<p>1-Classic method (Functional interface)</p>\n\n<pre><code>IntFunction&lt;String[]&gt; intFunction = new IntFunction&lt;String[]&gt;() {\n    @Override\n    public String[] apply(int value) {\n        return new String[value];\n    }\n};\n\n\nString[] myNewArray = myNewStream.toArray(intFunction);\n</code></pre>\n\n<p>2 -Lambda expression</p>\n\n<pre><code> String[] myNewArray2 = myNewStream.toArray(value -&gt; new String[value]);\n</code></pre>\n\n<p>3- Method reference</p>\n\n<pre><code>String[] myNewArray3 = myNewStream.toArray(String[]::new);\n</code></pre>\n\n<p>Method reference Explanation:</p>\n\n<p>It's another way of writing a lambda expression that it's strictly equivalent to the other. </p>\n"},{"tags":[],"owner":{"account_id":2269620,"reputation":463,"user_id":1997399,"display_name":"Kunda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501406395,"creation_date":1501406395,"answer_id":45398286,"question_id":23079003,"body_markdown":"Using the `toArray(IntFunction&lt;A[]&gt; generator)` method is indeed a very elegant and safe way to convert (or more correctly, collect) a Stream into an array of the same type of the Stream.\r\n\r\nHowever, if the returned array&#39;s type is not important, simply using the `toArray()` method is both easier _and_ shorter.\r\nFor example:\r\n\r\n        Stream&lt;Object&gt; args = Stream.of(BigDecimal.ONE, &quot;Two&quot;, 3);\r\n        System.out.printf(&quot;%s, %s, %s!&quot;, args.toArray());\r\n\r\n\r\n","title":"How to convert a Java 8 Stream to an Array?","body":"<p>Using the <code>toArray(IntFunction&lt;A[]&gt; generator)</code> method is indeed a very elegant and safe way to convert (or more correctly, collect) a Stream into an array of the same type of the Stream.</p>\n\n<p>However, if the returned array's type is not important, simply using the <code>toArray()</code> method is both easier <em>and</em> shorter.\nFor example:</p>\n\n<pre><code>    Stream&lt;Object&gt; args = Stream.of(BigDecimal.ONE, \"Two\", 3);\n    System.out.printf(\"%s, %s, %s!\", args.toArray());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1675239436,"creation_date":1522672787,"answer_id":49611485,"question_id":23079003,"body_markdown":"Convert text to String array where separating each value by comma, and trim every field, for example:\r\n\r\n    String[] stringArray = Arrays.stream(line.split(&quot;,&quot;))          \r\n                                 .map(String::trim)\r\n                                 .toArray(String[]::new);\r\n","title":"How to convert a Java 8 Stream to an Array?","body":"<p>Convert text to String array where separating each value by comma, and trim every field, for example:</p>\n<pre><code>String[] stringArray = Arrays.stream(line.split(&quot;,&quot;))          \n                             .map(String::trim)\n                             .toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8747724,"reputation":249,"user_id":6542309,"display_name":"Raj N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528453345,"creation_date":1528453345,"answer_id":50758505,"question_id":23079003,"body_markdown":"    Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3, 4, 5, 6);\r\n    \r\n    int[] arr=   stream.mapToInt(x-&gt;x.intValue()).toArray();","title":"How to convert a Java 8 Stream to an Array?","body":"<pre><code>Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3, 4, 5, 6);\n\nint[] arr=   stream.mapToInt(x-&gt;x.intValue()).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8684080,"reputation":3411,"user_id":6499075,"display_name":"Sma Ma"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1586181001,"creation_date":1586181001,"answer_id":61061365,"question_id":23079003,"body_markdown":"    import java.util.List;\r\n    import java.util.stream.Stream;\r\n    \r\n    class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            // Create a stream of strings from list of strings\r\n            Stream&lt;String&gt; myStreamOfStrings = List.of(&quot;lala&quot;, &quot;foo&quot;, &quot;bar&quot;).stream();\r\n    \r\n            // Convert stream to array by using toArray method\r\n            String[] myArrayOfStrings = myStreamOfStrings.toArray(String[]::new);\r\n    \r\n            // Print results\r\n            for (String string : myArrayOfStrings) {\r\n                System.out.println(string);\r\n            }\r\n        }\r\n    }\r\n\r\nTry it out online: https://repl.it/@SmaMa/Stream-to-array","title":"How to convert a Java 8 Stream to an Array?","body":"<pre><code>import java.util.List;\nimport java.util.stream.Stream;\n\nclass Main {\n\n    public static void main(String[] args) {\n        // Create a stream of strings from list of strings\n        Stream&lt;String&gt; myStreamOfStrings = List.of(\"lala\", \"foo\", \"bar\").stream();\n\n        // Convert stream to array by using toArray method\n        String[] myArrayOfStrings = myStreamOfStrings.toArray(String[]::new);\n\n        // Print results\n        for (String string : myArrayOfStrings) {\n            System.out.println(string);\n        }\n    }\n}\n</code></pre>\n\n<p>Try it out online: <a href=\"https://repl.it/@SmaMa/Stream-to-array\" rel=\"noreferrer\">https://repl.it/@SmaMa/Stream-to-array</a></p>\n"},{"tags":[],"owner":{"account_id":5519276,"reputation":41,"user_id":4382828,"display_name":"Sai Tata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692819191,"creation_date":1692817947,"answer_id":76964288,"question_id":23079003,"body_markdown":"    // create a stream of string elements\r\n    \r\n    Stream&lt;String&gt; stringStream = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\r\n    \r\n    \r\n    // convert the stream to arrays of strings\r\n    \r\n    String[] stringArray = stringStream.toArray(String[]::new);","title":"How to convert a Java 8 Stream to an Array?","body":"<pre><code>// create a stream of string elements\n\nStream&lt;String&gt; stringStream = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\n\n\n// convert the stream to arrays of strings\n\nString[] stringArray = stringStream.toArray(String[]::new);\n</code></pre>\n"}],"owner":{"display_name":"user972946"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682711,"favorite_count":0,"down_vote_count":2,"up_vote_count":1069,"accepted_answer_id":23079174,"answer_count":10,"score":1067,"last_activity_date":1692819191,"creation_date":1397552413,"question_id":23079003,"body_markdown":"What is the easiest/shortest way to convert a Java 8 `Stream` into an array?","title":"How to convert a Java 8 Stream to an Array?","body":"<p>What is the easiest/shortest way to convert a Java 8 <code>Stream</code> into an array?</p>\n"},{"tags":["java","arraylist","save","load"],"comments":[{"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1547897753,"post_id":54266421,"comment_id":95356695,"body_markdown":"You have swallowed all the exceptions. Use `ex.printStackTrace()` to display the exception information which will show you the problem.","body":"You have swallowed all the exceptions. Use <code>ex.printStackTrace()</code> to display the exception information which will show you the problem."},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547898119,"post_id":54266421,"comment_id":95356769,"body_markdown":"Using your code, I am able to add 1000 employees to a list, write to a &quot;employee.obf&quot; of size 6024 and read it back into a list, and finally assert the size. Could it be a problem with write-access?","body":"Using your code, I am able to add 1000 employees to a list, write to a &quot;employee.obf&quot; of size 6024 and read it back into a list, and finally assert the size. Could it be a problem with write-access?"},{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547901079,"post_id":54266421,"comment_id":95357482,"body_markdown":"@Jeppe If it is a problem with write-access how do I fix it?","body":"@Jeppe If it is a problem with write-access how do I fix it?"},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547901439,"post_id":54266421,"comment_id":95357573,"body_markdown":"@m.18 First try Karol&#39;s suggestion of printing the stacktrace of the exception in your writeDate-function - it should tell you exactly what the problem is.","body":"@m.18 First try Karol&#39;s suggestion of printing the stacktrace of the exception in your writeDate-function - it should tell you exactly what the problem is."},{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547921490,"post_id":54266421,"comment_id":95362874,"body_markdown":"@Jeppe ok but how should I run the function? What parameter do I pass to it?","body":"@Jeppe ok but how should I run the function? What parameter do I pass to it?"},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547922493,"post_id":54266421,"comment_id":95363171,"body_markdown":"@m.18 Are you referring to writeDate or printStackTrace?","body":"@m.18 Are you referring to writeDate or printStackTrace?"},{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547922744,"post_id":54266421,"comment_id":95363225,"body_markdown":"@Jeppe writeDate because printStackTrace is in writeDate","body":"@Jeppe writeDate because printStackTrace is in writeDate"},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547924451,"post_id":54266421,"comment_id":95363699,"body_markdown":"@m.18 I have added an answer.","body":"@m.18 I have added an answer."}],"answers":[{"tags":[],"owner":{"account_id":15156663,"reputation":71,"user_id":10937221,"display_name":"ChipLimo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547946894,"creation_date":1547901803,"answer_id":54267214,"question_id":54266421,"body_markdown":"&lt;br&gt;I tested your code but couldn&#39;t find any problem.\r\n&lt;br&gt;why don&#39;t you try to catch Throwable and check it by debugging?\r\n\r\n```\r\ntry { /* code */ }\r\ncatch (Throwable t) { t.printStackTrace(); }\r\n```","title":"How to save and load an array list of objects?","body":"<p><br>I tested your code but couldn't find any problem.\n<br>why don't you try to catch Throwable and check it by debugging?</p>\n\n<pre><code>try { /* code */ }\ncatch (Throwable t) { t.printStackTrace(); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547924386,"creation_date":1547923354,"answer_id":54270241,"question_id":54266421,"body_markdown":"This solution tests EmployeeFileHandler and shows the error if e.g the directory is not writable. Run with `javac EmployeeFileHandler.java; java -ea EmployeeFileHandler` to have it crash if assertion fails. Ensure the Person class is also Serializable.\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n\r\n    public class EmployeeFileHandler implements Serializable {\r\n        public static void main(String[] args) {\r\n            ArrayList&lt;Employees&gt; employees = new ArrayList&lt;Employees&gt;();\r\n            for (int i = 0; i &lt; 1000; i++) {\r\n                employees.add(new Employees(&quot;Name&quot; + i, &quot;Surname&quot; + i, &quot;&quot; + i, 12345678));\r\n            }        \r\n            writeDate(employees);\r\n\r\n            ArrayList&lt;Employees&gt; employees2 = new ArrayList&lt;Employees&gt;();\r\n            readData(employees2);\r\n            \r\n            assert employees.size() == employees2.size();\r\n            for (int i = 0; i &lt; 1000; i++) {\r\n                Employees e = employees2.get(i);\r\n                assert e.Name.equals(&quot;Name&quot; + i);\r\n                assert e.Surname.equals(&quot;Surname&quot; + i);\r\n                assert e.ID.equals(&quot;&quot; + i);\r\n                assert e.MobNo == 12345678;\r\n            }        \r\n        }\r\n\r\n        public static void readData(ArrayList&lt;Employees&gt; listIn) {\r\n\r\n            boolean endOfFile = false;\r\n            Employees temp;\r\n\r\n            try {\r\n\r\n                FileInputStream employeesFile = new FileInputStream(&quot;employee.obf&quot;);\r\n                ObjectInputStream employeesStream = new ObjectInputStream(employeesFile);\r\n                temp = (Employees) employeesStream.readObject();\r\n\r\n                while (endOfFile != true) {\r\n                    try {\r\n                        listIn.add(temp);\r\n                        temp = (Employees) employeesStream.readObject();\r\n                    } catch (EOFException e) {\r\n                        endOfFile = true;\r\n                    }\r\n                }\r\n                employeesStream.close();\r\n            }\r\n\r\n            catch (FileNotFoundException e) {\r\n                System.out.println(&quot;Employee file was not found&quot;);\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;Employee file could not be read&quot;);\r\n            } catch (ClassNotFoundException e) {\r\n                System.out.println(&quot;Employee class was not found&quot;);\r\n            }\r\n        }\r\n\r\n        public static void writeDate(ArrayList&lt;Employees&gt; employee) {\r\n\r\n            try {\r\n                FileOutputStream EmployeesFile = new FileOutputStream(&quot;employee.obf&quot;);\r\n                ObjectOutputStream EmployeesStream = new ObjectOutputStream(EmployeesFile);\r\n\r\n                for (Employees employees : employee) {\r\n                    EmployeesStream.writeObject(employees);\r\n                }\r\n                EmployeesStream.close();\r\n            } catch (IOException e) {\r\n                // System.out.println(&quot;Error occurred while saving&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"How to save and load an array list of objects?","body":"<p>This solution tests EmployeeFileHandler and shows the error if e.g the directory is not writable. Run with <code>javac EmployeeFileHandler.java; java -ea EmployeeFileHandler</code> to have it crash if assertion fails. Ensure the Person class is also Serializable.</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class EmployeeFileHandler implements Serializable {\n    public static void main(String[] args) {\n        ArrayList&lt;Employees&gt; employees = new ArrayList&lt;Employees&gt;();\n        for (int i = 0; i &lt; 1000; i++) {\n            employees.add(new Employees(\"Name\" + i, \"Surname\" + i, \"\" + i, 12345678));\n        }        \n        writeDate(employees);\n\n        ArrayList&lt;Employees&gt; employees2 = new ArrayList&lt;Employees&gt;();\n        readData(employees2);\n\n        assert employees.size() == employees2.size();\n        for (int i = 0; i &lt; 1000; i++) {\n            Employees e = employees2.get(i);\n            assert e.Name.equals(\"Name\" + i);\n            assert e.Surname.equals(\"Surname\" + i);\n            assert e.ID.equals(\"\" + i);\n            assert e.MobNo == 12345678;\n        }        \n    }\n\n    public static void readData(ArrayList&lt;Employees&gt; listIn) {\n\n        boolean endOfFile = false;\n        Employees temp;\n\n        try {\n\n            FileInputStream employeesFile = new FileInputStream(\"employee.obf\");\n            ObjectInputStream employeesStream = new ObjectInputStream(employeesFile);\n            temp = (Employees) employeesStream.readObject();\n\n            while (endOfFile != true) {\n                try {\n                    listIn.add(temp);\n                    temp = (Employees) employeesStream.readObject();\n                } catch (EOFException e) {\n                    endOfFile = true;\n                }\n            }\n            employeesStream.close();\n        }\n\n        catch (FileNotFoundException e) {\n            System.out.println(\"Employee file was not found\");\n        } catch (IOException e) {\n            System.out.println(\"Employee file could not be read\");\n        } catch (ClassNotFoundException e) {\n            System.out.println(\"Employee class was not found\");\n        }\n    }\n\n    public static void writeDate(ArrayList&lt;Employees&gt; employee) {\n\n        try {\n            FileOutputStream EmployeesFile = new FileOutputStream(\"employee.obf\");\n            ObjectOutputStream EmployeesStream = new ObjectOutputStream(EmployeesFile);\n\n            for (Employees employees : employee) {\n                EmployeesStream.writeObject(employees);\n            }\n            EmployeesStream.close();\n        } catch (IOException e) {\n            // System.out.println(\"Error occurred while saving\");\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25195195,"reputation":1,"user_id":19034836,"display_name":"Million Sharbe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692818585,"creation_date":1692818585,"answer_id":76964344,"question_id":54266421,"body_markdown":"you can do it like this \r\nwriting every object one by one using a loop\r\n\r\n\r\n \r\n    private static final List&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n    static File dataFile = new File(&quot;students.obf&quot;);\r\n    static File metaFile = new File(&quot;students.txt&quot;);\r\n\r\n    public static void main(String... args) throws IOException {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            Student student = new Student(&quot;id&quot; + i, &quot;name&quot; + i);\r\n            getStudents().add(student);\r\n        }\r\n        for (int i = 0; i &lt; getStudents().size(); i++) {\r\n            System.out.println(getStudents().get(i).getName());\r\n        }\r\n        writeMetaDataFile();\r\n        writeDataFile();\r\n        readDataFile();\r\n\r\n    }\r\n\r\n    private static void writeMetaDataFile() throws FileNotFoundException {\r\n        try (PrintWriter printWriter = new PrintWriter(metaFile)) {\r\n            printWriter.print(getStudents().size());\r\n        }\r\n    }\r\n\r\n    private static int readMetaDataFile() throws FileNotFoundException {\r\n        try (Scanner scanner = new Scanner(metaFile)) {\r\n            return scanner.nextInt();\r\n        }\r\n    }\r\n\r\n    private static void readDataFile() throws FileNotFoundException {\r\n        try (FileInputStream fileInputStream = new FileInputStream(dataFile)) {\r\n            try (ObjectInputStream objectInputStream = new ObjectInputStream(fileInputStream)) {\r\n                for (int i = 0; i &lt; readMetaDataFile(); i++) {\r\n                    System.out.println(objectInputStream.readObject());\r\n                }\r\n            } catch (ClassNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static void writeDataFile() throws IOException {\r\n        try (FileOutputStream fileOutputStream = new FileOutputStream(dataFile)) {\r\n            try (ObjectOutputStream objectOutputStream = new ObjectOutputStream(fileOutputStream)) {\r\n                for (int i = 0; i &lt; getStudents().size(); i++) {\r\n                    objectOutputStream.writeObject(getStudents().get(i));\r\n                    System.out.println(&quot;writing object&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static List&lt;Student&gt; getStudents() {\r\n        return students;\r\n    }\r\n\r\n\r\n    static class Student implements Serializable {\r\n        private final String name;\r\n        private final String id;\r\n\r\n        public Student(String id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n    }\r\n","title":"How to save and load an array list of objects?","body":"<p>you can do it like this\nwriting every object one by one using a loop</p>\n<pre><code>private static final List&lt;Student&gt; students = new ArrayList&lt;&gt;();\nstatic File dataFile = new File(&quot;students.obf&quot;);\nstatic File metaFile = new File(&quot;students.txt&quot;);\n\npublic static void main(String... args) throws IOException {\n    for (int i = 0; i &lt; 10; i++) {\n        Student student = new Student(&quot;id&quot; + i, &quot;name&quot; + i);\n        getStudents().add(student);\n    }\n    for (int i = 0; i &lt; getStudents().size(); i++) {\n        System.out.println(getStudents().get(i).getName());\n    }\n    writeMetaDataFile();\n    writeDataFile();\n    readDataFile();\n\n}\n\nprivate static void writeMetaDataFile() throws FileNotFoundException {\n    try (PrintWriter printWriter = new PrintWriter(metaFile)) {\n        printWriter.print(getStudents().size());\n    }\n}\n\nprivate static int readMetaDataFile() throws FileNotFoundException {\n    try (Scanner scanner = new Scanner(metaFile)) {\n        return scanner.nextInt();\n    }\n}\n\nprivate static void readDataFile() throws FileNotFoundException {\n    try (FileInputStream fileInputStream = new FileInputStream(dataFile)) {\n        try (ObjectInputStream objectInputStream = new ObjectInputStream(fileInputStream)) {\n            for (int i = 0; i &lt; readMetaDataFile(); i++) {\n                System.out.println(objectInputStream.readObject());\n            }\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n\nprivate static void writeDataFile() throws IOException {\n    try (FileOutputStream fileOutputStream = new FileOutputStream(dataFile)) {\n        try (ObjectOutputStream objectOutputStream = new ObjectOutputStream(fileOutputStream)) {\n            for (int i = 0; i &lt; getStudents().size(); i++) {\n                objectOutputStream.writeObject(getStudents().get(i));\n                System.out.println(&quot;writing object&quot;);\n            }\n        }\n    }\n}\n\npublic static List&lt;Student&gt; getStudents() {\n    return students;\n}\n\n\nstatic class Student implements Serializable {\n    private final String name;\n    private final String id;\n\n    public Student(String id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getId() {\n        return id;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54270241,"answer_count":3,"score":0,"last_activity_date":1692818585,"creation_date":1547895953,"question_id":54266421,"body_markdown":"I have a class Employees that has methods add, delete, display and search employees in an array list. Now I&#39;m trying to create a file handler to save and read this data but for some reason it isn&#39;t working and it isn&#39;t creating a file or reading it. Can anyone find a problem with my code please?\r\n\r\n","title":"How to save and load an array list of objects?","body":"<p>I have a class Employees that has methods add, delete, display and search employees in an array list. Now I'm trying to create a file handler to save and read this data but for some reason it isn't working and it isn't creating a file or reading it. Can anyone find a problem with my code please?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":189341,"reputation":1768,"user_id":428627,"display_name":"giorgiga"},"score":0,"creation_date":1518472039,"post_id":48755978,"comment_id":84513098,"body_markdown":"`System.out` prints to standard output - in order to capture that you&#39;ll need to start a new process (see `Runtime.exec`) and see what gets printed on the standard output. Do that, and you&#39;ll have tested if `System.out` works :)","body":"<code>System.out</code> prints to standard output - in order to capture that you&#39;ll need to start a new process (see <code>Runtime.exec</code>) and see what gets printed on the standard output. Do that, and you&#39;ll have tested if <code>System.out</code> works :)"},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1518472697,"post_id":48755978,"comment_id":84513405,"body_markdown":"https://stackoverflow.com/questions/1119385/junit-test-for-system-out-println","body":"<a href=\"https://stackoverflow.com/questions/1119385/junit-test-for-system-out-println\" title=\"junit test for system out println\">stackoverflow.com/questions/1119385/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1518475726,"creation_date":1518472181,"answer_id":48756084,"question_id":48755978,"body_markdown":"You could assign to the `System.out` variable a `ByteArrayOutputStream` object which you store the reference in a variable.  \r\nThen invoke your `main()` method and assert that the `String` content of the `ByteArrayOutputStream` object contains the expected `String`:\r\n\r\n    @Test\r\n    public void main() throws Exception{                \r\n        PrintStream originalOut = System.out; // to have a way to undo the binding with your `ByteArrayOutputStream` \r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        System.setOut(new PrintStream(bos));\r\n        // action\r\n        App.main(null);\r\n        // assertion\r\n        Assert.assertEquals(&quot;hello world&quot;, bos.toString());\r\n        // undo the binding in System\r\n        System.setOut(originalOut);\r\n    }\r\n\r\n**Why does it work ?**   \r\n\r\n`bos.toString()` returns the `&quot;Hello World!&quot;` `String` passed in the method under test:\r\n\r\n    System.out.println( &quot;Hello World!&quot; );\r\n\r\nas after setting `System.out` in this way :  `System.setOut(new PrintStream(bos));`, the `out` variable refers to a `PrintStream` object that decorates the `ByteArrayOutputStream` object referenced by the `bos` variable.\r\nSo any `System.out` invocations will write `byte`s in the `ByteArrayOutputStream` object.\r\n","title":"Testing a simple hello world method","body":"<p>You could assign to the <code>System.out</code> variable a <code>ByteArrayOutputStream</code> object which you store the reference in a variable.<br>\nThen invoke your <code>main()</code> method and assert that the <code>String</code> content of the <code>ByteArrayOutputStream</code> object contains the expected <code>String</code>:</p>\n\n<pre><code>@Test\npublic void main() throws Exception{                \n    PrintStream originalOut = System.out; // to have a way to undo the binding with your `ByteArrayOutputStream` \n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    System.setOut(new PrintStream(bos));\n    // action\n    App.main(null);\n    // assertion\n    Assert.assertEquals(\"hello world\", bos.toString());\n    // undo the binding in System\n    System.setOut(originalOut);\n}\n</code></pre>\n\n<p><strong>Why does it work ?</strong>   </p>\n\n<p><code>bos.toString()</code> returns the <code>\"Hello World!\"</code> <code>String</code> passed in the method under test:</p>\n\n<pre><code>System.out.println( \"Hello World!\" );\n</code></pre>\n\n<p>as after setting <code>System.out</code> in this way :  <code>System.setOut(new PrintStream(bos));</code>, the <code>out</code> variable refers to a <code>PrintStream</code> object that decorates the <code>ByteArrayOutputStream</code> object referenced by the <code>bos</code> variable.\nSo any <code>System.out</code> invocations will write <code>byte</code>s in the <code>ByteArrayOutputStream</code> object.</p>\n"},{"tags":[],"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1692818347,"creation_date":1518472382,"answer_id":48756128,"question_id":48755978,"body_markdown":"You can change your class this way \r\n\r\n\timport java.io.PrintStream;\r\n\t\r\n\tpublic class TestHelloWorld {\r\n\t\t\r\n\t\tpublic final static void main(String[] args) {\r\n\t\t\tdoPrint(System.out);\r\n\t\t}\r\n\t\t\r\n\t\tstatic void doPrint(PrintStream ps) {\r\n\t\t\tps.println(&quot;Hello World&quot;);\r\n\t\t}\r\n\t}\r\n\r\nand test the `doPrint` function by providing your own `PrintStream` you create around a `ByteArrayOutputStream`:\r\n\r\n    public void mainMethodTest() throws Exception{\r\n        ByteArrayOutputStream data = new ByteArrayOutputStream();\r\n        PrintStream ps = new PrintStream(data, true, &quot;UTF-8&quot;);\r\n        TestHelloWorld.doPrint(ps);\r\n        ps.flush();\r\n        Assert.assertEquals(&quot;Hello World&quot; + System.getProperty(&quot;line.separator&quot;), new String(data, &quot;UTF-8&quot;));\r\n    }\r\n\r\nAnother solution is to replace the system&#39;s `PrintStream` by your own:\r\n\r\n    System.setOut(new PrintStream(data, true, &quot;UTF-8&quot;));\r\n\r\nbut that&#39;s quite ugly and I try to avoid that. Above solution is more clear, easier to maintenance and you can be sure that no other part of a larger application is printing something to STDOUT while you do your test, leading to a failure of it.","title":"Testing a simple hello world method","body":"<p>You can change your class this way</p>\n<pre><code>import java.io.PrintStream;\n\npublic class TestHelloWorld {\n    \n    public final static void main(String[] args) {\n        doPrint(System.out);\n    }\n    \n    static void doPrint(PrintStream ps) {\n        ps.println(&quot;Hello World&quot;);\n    }\n}\n</code></pre>\n<p>and test the <code>doPrint</code> function by providing your own <code>PrintStream</code> you create around a <code>ByteArrayOutputStream</code>:</p>\n<pre><code>public void mainMethodTest() throws Exception{\n    ByteArrayOutputStream data = new ByteArrayOutputStream();\n    PrintStream ps = new PrintStream(data, true, &quot;UTF-8&quot;);\n    TestHelloWorld.doPrint(ps);\n    ps.flush();\n    Assert.assertEquals(&quot;Hello World&quot; + System.getProperty(&quot;line.separator&quot;), new String(data, &quot;UTF-8&quot;));\n}\n</code></pre>\n<p>Another solution is to replace the system's <code>PrintStream</code> by your own:</p>\n<pre><code>System.setOut(new PrintStream(data, true, &quot;UTF-8&quot;));\n</code></pre>\n<p>but that's quite ugly and I try to avoid that. Above solution is more clear, easier to maintenance and you can be sure that no other part of a larger application is printing something to STDOUT while you do your test, leading to a failure of it.</p>\n"},{"tags":[],"owner":{"account_id":6212045,"reputation":233,"user_id":4838060,"accept_rate":50,"display_name":"Mark D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518472603,"creation_date":1518472603,"answer_id":48756172,"question_id":48755978,"body_markdown":"You can run Junit from a main method if thats what you mean.\r\n\r\n    public static void main( String[] args )\r\n    {\r\n        JUnitCore junit = new JUnitCore(); \r\n        Result result = null;\r\n        try {        \r\n        \t result = junit.run(MyTestClass.class);\r\n        }\r\n        catch(Exception e)\r\n        {\r\n        \te.printStackTrace();\r\n        }\r\n        int passed = result.getRunCount()-result.getFailureCount();\r\n    }\r\n\r\n    public class MyTestClass{\r\n        @Test\r\n    \tpublic void testAllBrowsers(){\r\n             //test code and asserts\r\n        }\r\n    }","title":"Testing a simple hello world method","body":"<p>You can run Junit from a main method if thats what you mean.</p>\n\n<pre><code>public static void main( String[] args )\n{\n    JUnitCore junit = new JUnitCore(); \n    Result result = null;\n    try {        \n         result = junit.run(MyTestClass.class);\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n    int passed = result.getRunCount()-result.getFailureCount();\n}\n\npublic class MyTestClass{\n    @Test\n    public void testAllBrowsers(){\n         //test code and asserts\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11911046,"reputation":2034,"user_id":8716287,"accept_rate":62,"display_name":"valik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3036,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692818347,"creation_date":1518471748,"question_id":48755978,"body_markdown":"I have worked with junit test integration tests and controller tests in spring and usually we test the output of a method but when i tried to test a simple hello world in main method i had no idea how to go about it so will like to get any idea on what do write\r\n\r\n    public class App \r\n    {\r\n        public static void main( String[] args )\r\n        {\r\n            System.out.println( &quot;Hello World!&quot; );\r\n        }\r\n    }\r\nThis is the simple java class any idea how i can test it\r\nI tried to write something like this \r\n\r\n    public void mainMethodTest() throws Exception{\r\n    \r\n            System.out.println(&quot;hello world&quot;);\r\n            String[] args = null;\r\n    \r\n    \r\n            Assert.assertEquals(System.out.println(&quot;hello world&quot;),App.main(args));\r\n        }\r\n\r\n\r\n\r\n","title":"Testing a simple hello world method","body":"<p>I have worked with junit test integration tests and controller tests in spring and usually we test the output of a method but when i tried to test a simple hello world in main method i had no idea how to go about it so will like to get any idea on what do write</p>\n\n<pre><code>public class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( \"Hello World!\" );\n    }\n}\n</code></pre>\n\n<p>This is the simple java class any idea how i can test it\nI tried to write something like this </p>\n\n<pre><code>public void mainMethodTest() throws Exception{\n\n        System.out.println(\"hello world\");\n        String[] args = null;\n\n\n        Assert.assertEquals(System.out.println(\"hello world\"),App.main(args));\n    }\n</code></pre>\n"},{"tags":["java","keycloak","quarkus","vert.x"],"comments":[{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":1,"creation_date":1692871572,"post_id":76962454,"comment_id":135683995,"body_markdown":"We are discussing it, thanks","body":"We are discussing it, thanks"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1692958455,"post_id":76962454,"comment_id":135698670,"body_markdown":"FYI, https://github.com/quarkusio/quarkus/issues/35556","body":"FYI, <a href=\"https://github.com/quarkusio/quarkus/issues/35556\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/35556</a>"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1692959742,"post_id":76962454,"comment_id":135698940,"body_markdown":"Moved to https://github.com/vert-x3/vertx-web/issues/2468","body":"Moved to <a href=\"https://github.com/vert-x3/vertx-web/issues/2468\" rel=\"nofollow noreferrer\">github.com/vert-x3/vertx-web/issues/2468</a>"}],"owner":{"account_id":17329865,"reputation":146,"user_id":12553246,"display_name":"Anthony Heaney"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692818316,"creation_date":1692801504,"question_id":76962454,"body_markdown":"I have a Quarkus (3.2.4) service using keycloak (22.0.1) authorization services and &quot;quarkus.oidc&quot; that I am trying to get to use our Squid proxy.  The problem I can see in the javax.net.ssl logs is that vert.x-eventloop is attempting a SSL connection to squid. I thought the problem may have been leaving http2 enabled with vert.x, but that doesn&#39;t seem to resolve the issue.  I can see in the logs where it connects to the keycloak oidc discovery endpoint and /certs endpoint before continuing onto the client hello to Squid.  How do I stop vert.x/Quarkus from attempting SSL with my proxy?\r\n\r\njavax.net.debug:\r\n\r\n    2023-08-23 13:14:18.798,&quot;javax.net.ssl|DEBUG|71|vert.x-eventloop-thread-1|2023-08-23 13:14:18.798 GMT|SSLEngineInputRecord.java:213|READ: TLSv1.2 application_data, length = 2272&quot;\r\n    2023-08-23 13:14:18.801,javax.net.ssl|DEBUG|71|vert.x-eventloop-thread-1|2023-08-23 13:14:18.801 GMT|SSLCipher.java:1675|Plaintext after DECRYPTION (\r\n    ...\r\n    2023-08-23 13:14:20.523,javax.net.ssl|ALL|10|main|2023-08-23 13:14:20.523 GMT|SignatureScheme.java:412|Ignore disabled signature scheme: rsa_md5\r\n    2023-08-23 13:14:20.524,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.523 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: cookie&quot;\r\n    2023-08-23 13:14:20.533,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.533 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: renegotiation_info&quot;\r\n    2023-08-23 13:14:20.534,javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.533 GMT|PreSharedKeyExtension.java:661|No session to resume.\r\n    2023-08-23 13:14:20.534,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.534 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: pre_shared_key&quot;\r\n    2023-08-23 13:14:20.542,javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.541 GMT|ClientHello.java:641|Produced ClientHello handshake message (\r\n    2023-08-23 13:14:20.542,&quot;&quot;&quot;ClientHello&quot;&quot;: {&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;client version&quot;&quot;      : &quot;&quot;TLSv1.2&quot;&quot;,&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;random&quot;&quot;              : &quot;&quot;5343023433CFCA8CAB3D6C3551F79C03817BD0BEBB11679D1587FF1BEC8C1B00&quot;&quot;,&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;session id&quot;&quot;          : &quot;&quot;7092A57911F65CC5D96FF148FDFEE5BAFA63ACDE2A65AA27B504C6A3294D02E6&quot;&quot;,&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;cipher suites&quot;&quot;       : &quot;&quot;[TLS_AES_256_GCM_SHA384(0x1302), TLS_AES_128_GCM_SHA256(0x1301), TLS_CHACHA20_POLY1305_SHA256(0x1303), TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA9), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA8), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCAA), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;&quot;,&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;compression methods&quot;&quot; : &quot;&quot;00&quot;&quot;,&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;extensions&quot;&quot;          : [&quot;\r\n    2023-08-23 13:14:20.542,&quot;    &quot;&quot;server_name (0)&quot;&quot;: {&quot;\r\n    2023-08-23 13:14:20.542,&quot;      type=host_name (0), value=outboundproxy.example.domain&quot;\r\n    2023-08-23 13:14:20.542,&quot;    },&quot;\r\n    2023-08-23 13:14:20.542,&quot;    &quot;&quot;status_request (5)&quot;&quot;: {&quot;\r\n    2023-08-23 13:14:20.542,&quot;      &quot;&quot;certificate status type&quot;&quot;: ocsp&quot;\r\n    2023-08-23 13:14:20.542,&quot;      &quot;&quot;OCSP status request&quot;&quot;: {&quot;\r\n    2023-08-23 13:14:20.542,&quot;        &quot;&quot;responder_id&quot;&quot;: &lt;empty&gt;&quot;\r\n    2023-08-23 13:14:20.542,&quot;        &quot;&quot;request extensions&quot;&quot;: {&quot;\r\n    2023-08-23 13:14:20.542,          &lt;empty&gt;\r\n    2023-08-23 13:14:20.542,        }\r\n    2023-08-23 13:14:20.542,      }\r\n    2023-08-23 13:14:20.542,&quot;    }\r\n    ...\r\n\r\n\r\nsome config info:\r\n\r\n    quarkus.http.http2=false\r\n    quarkus.http.proxy.proxy-address-forwarding=true\r\n    quarkus.oidc.enabled=true\r\n    quarkus.oidc.auth-server-url=${keycloakAuthServerUrl}/realms/${keycloakRealm}\r\n    quarkus.oidc.discovery-enabled=true\r\n    quarkus.oidc.client-id=${keycloakResource}\r\n    quarkus.oidc.credentials.secret=${keycloakCredentialsSecret}\r\n    quarkus.oidc.tls.verification=none\r\n    quarkus.oidc.proxy.host=${squidProxyHost}\r\n    quarkus.oidc.proxy.port=${squidProxyPort}\r\n\r\nEdited with answer based on https://github.com/quarkusio/quarkus/issues/26577\r\n\r\nmy ${squidProxyHost} was outboundproxy.example.domain because of keycloak authorization components that separated scheme from host.  I updated \r\n\r\n    quarkus.oidc.proxy.host=${squidProxyHost}\r\n    to \r\n    quarkus.oidc.proxy.host=http://${squidProxyHost}","title":"Quarkus/Vert.x attempting to connect to proxy over SSL","body":"<p>I have a Quarkus (3.2.4) service using keycloak (22.0.1) authorization services and &quot;quarkus.oidc&quot; that I am trying to get to use our Squid proxy.  The problem I can see in the javax.net.ssl logs is that vert.x-eventloop is attempting a SSL connection to squid. I thought the problem may have been leaving http2 enabled with vert.x, but that doesn't seem to resolve the issue.  I can see in the logs where it connects to the keycloak oidc discovery endpoint and /certs endpoint before continuing onto the client hello to Squid.  How do I stop vert.x/Quarkus from attempting SSL with my proxy?</p>\n<p>javax.net.debug:</p>\n<pre><code>2023-08-23 13:14:18.798,&quot;javax.net.ssl|DEBUG|71|vert.x-eventloop-thread-1|2023-08-23 13:14:18.798 GMT|SSLEngineInputRecord.java:213|READ: TLSv1.2 application_data, length = 2272&quot;\n2023-08-23 13:14:18.801,javax.net.ssl|DEBUG|71|vert.x-eventloop-thread-1|2023-08-23 13:14:18.801 GMT|SSLCipher.java:1675|Plaintext after DECRYPTION (\n...\n2023-08-23 13:14:20.523,javax.net.ssl|ALL|10|main|2023-08-23 13:14:20.523 GMT|SignatureScheme.java:412|Ignore disabled signature scheme: rsa_md5\n2023-08-23 13:14:20.524,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.523 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: cookie&quot;\n2023-08-23 13:14:20.533,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.533 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: renegotiation_info&quot;\n2023-08-23 13:14:20.534,javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.533 GMT|PreSharedKeyExtension.java:661|No session to resume.\n2023-08-23 13:14:20.534,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.534 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: pre_shared_key&quot;\n2023-08-23 13:14:20.542,javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.541 GMT|ClientHello.java:641|Produced ClientHello handshake message (\n2023-08-23 13:14:20.542,&quot;&quot;&quot;ClientHello&quot;&quot;: {&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;client version&quot;&quot;      : &quot;&quot;TLSv1.2&quot;&quot;,&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;random&quot;&quot;              : &quot;&quot;5343023433CFCA8CAB3D6C3551F79C03817BD0BEBB11679D1587FF1BEC8C1B00&quot;&quot;,&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;session id&quot;&quot;          : &quot;&quot;7092A57911F65CC5D96FF148FDFEE5BAFA63ACDE2A65AA27B504C6A3294D02E6&quot;&quot;,&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;cipher suites&quot;&quot;       : &quot;&quot;[TLS_AES_256_GCM_SHA384(0x1302), TLS_AES_128_GCM_SHA256(0x1301), TLS_CHACHA20_POLY1305_SHA256(0x1303), TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA9), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA8), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCAA), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;&quot;,&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;compression methods&quot;&quot; : &quot;&quot;00&quot;&quot;,&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;extensions&quot;&quot;          : [&quot;\n2023-08-23 13:14:20.542,&quot;    &quot;&quot;server_name (0)&quot;&quot;: {&quot;\n2023-08-23 13:14:20.542,&quot;      type=host_name (0), value=outboundproxy.example.domain&quot;\n2023-08-23 13:14:20.542,&quot;    },&quot;\n2023-08-23 13:14:20.542,&quot;    &quot;&quot;status_request (5)&quot;&quot;: {&quot;\n2023-08-23 13:14:20.542,&quot;      &quot;&quot;certificate status type&quot;&quot;: ocsp&quot;\n2023-08-23 13:14:20.542,&quot;      &quot;&quot;OCSP status request&quot;&quot;: {&quot;\n2023-08-23 13:14:20.542,&quot;        &quot;&quot;responder_id&quot;&quot;: &lt;empty&gt;&quot;\n2023-08-23 13:14:20.542,&quot;        &quot;&quot;request extensions&quot;&quot;: {&quot;\n2023-08-23 13:14:20.542,          &lt;empty&gt;\n2023-08-23 13:14:20.542,        }\n2023-08-23 13:14:20.542,      }\n2023-08-23 13:14:20.542,&quot;    }\n...\n</code></pre>\n<p>some config info:</p>\n<pre><code>quarkus.http.http2=false\nquarkus.http.proxy.proxy-address-forwarding=true\nquarkus.oidc.enabled=true\nquarkus.oidc.auth-server-url=${keycloakAuthServerUrl}/realms/${keycloakRealm}\nquarkus.oidc.discovery-enabled=true\nquarkus.oidc.client-id=${keycloakResource}\nquarkus.oidc.credentials.secret=${keycloakCredentialsSecret}\nquarkus.oidc.tls.verification=none\nquarkus.oidc.proxy.host=${squidProxyHost}\nquarkus.oidc.proxy.port=${squidProxyPort}\n</code></pre>\n<p>Edited with answer based on <a href=\"https://github.com/quarkusio/quarkus/issues/26577\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/26577</a></p>\n<p>my ${squidProxyHost} was outboundproxy.example.domain because of keycloak authorization components that separated scheme from host.  I updated</p>\n<pre><code>quarkus.oidc.proxy.host=${squidProxyHost}\nto \nquarkus.oidc.proxy.host=http://${squidProxyHost}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","browserstack"],"comments":[{"owner":{"account_id":12979837,"reputation":62,"user_id":9398466,"display_name":"Tony_Stark"},"score":0,"creation_date":1692796025,"post_id":76961296,"comment_id":135672725,"body_markdown":"Hi there, Could you Add the IDE specs as well as the Selenium version you are using? Also, is this occurring only on some browser+OS combination?","body":"Hi there, Could you Add the IDE specs as well as the Selenium version you are using? Also, is this occurring only on some browser+OS combination?"},{"owner":{"account_id":15134876,"reputation":11,"user_id":11497925,"display_name":"krupa deshmukh"},"score":0,"creation_date":1692852217,"post_id":76961296,"comment_id":135680815,"body_markdown":"Hello , Using IntelliJ IDEA 2023.1.2 (Community Edition), Selenium-v4.8.1 and   there are multiple browsers used for this testing. 1. &quot;browserName&quot;: &quot;Chrome&quot;,&quot;deviceName&quot;: &quot;OnePlus 9&quot;,&quot;osVersion&quot;: &quot;11.0&quot;,  2. &quot;browserName&quot; :&quot;Chrome&quot;,&quot;browserVersion&quot; : &quot;114&quot;,&quot;os&quot;: &quot;windows&quot;,   3. &quot;browserName&quot;: &quot;Safari&quot;,&quot;deviceName&quot;: &quot;iPhone 14&quot;,&quot;osVersion&quot;: &quot;16.3&quot;. Also Firefox, edge safari browsers. On all I&#39;m facing this issue.","body":"Hello , Using IntelliJ IDEA 2023.1.2 (Community Edition), Selenium-v4.8.1 and   there are multiple browsers used for this testing. 1. &quot;browserName&quot;: &quot;Chrome&quot;,&quot;deviceName&quot;: &quot;OnePlus 9&quot;,&quot;osVersion&quot;: &quot;11.0&quot;,  2. &quot;browserName&quot; :&quot;Chrome&quot;,&quot;browserVersion&quot; : &quot;114&quot;,&quot;os&quot;: &quot;windows&quot;,   3. &quot;browserName&quot;: &quot;Safari&quot;,&quot;deviceName&quot;: &quot;iPhone 14&quot;,&quot;osVersion&quot;: &quot;16.3&quot;. Also Firefox, edge safari browsers. On all I&#39;m facing this issue."}],"owner":{"account_id":15134876,"reputation":11,"user_id":11497925,"display_name":"krupa deshmukh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692818208,"creation_date":1692793103,"question_id":76961296,"body_markdown":"When we try and enter below text on web via browserstack it converts the characters:\r\n```\r\n&quot;chineseSampleQuery&quot;: &quot;æˆ‘æƒ³ä¸ºæˆ‘çš„å„¿å­è´­ä¹°å¹³æ¿ç”µè„‘&quot;,\r\n&quot;koreanSampleQuery&quot;: &quot;ì•„ë“¤ì„ ìœ„í•´ íƒœë¸”ë¦¿ì„ ì‚¬ê³  ì‹¶ì–´ìš”&quot;,\r\n&quot;arabicSampleQuery&quot;: &quot;Ø£Ø±ÙŠØ¯ Ø£Ù† Ø£Ø´ØªØ±ÙŠ Ù„ÙˆØ­Ø§Ù‹ Ù„Ø§Ø¨Ù†ÙŠ&quot;,\r\n```\r\n\r\nE.g:\r\n when entered &quot;&#196; &#228; &#214; &#246; &#220; &#252; áºž &#223;&quot; it converts as &quot;&#195;â€ž &#195;&#164; &#195;â€“ &#195;&#182; &#195;Å“ &#195;&#188; &#225;&#186;Å¾ &#195;Å¸&quot; while entering to input filed. \r\nI&#39;ve tried 2 ways:\r\n\r\n\r\nany suggestion how to achieve this?\r\nScreenshot of how it&#39;s converted&#39;&#196; &#228; &#214; &#246; &#220; &#252; áºž &#223;&#39;(https://i.stack.imgur.com/UBUb7.png)\r\n\r\n\r\n1. \r\n```java\r\nString text = &quot;ì´ ì‚¬ì´íŠ¸ì—ì„œ íƒœë¸”ë¦¿ì„ êµ¬ìž…í•  ìˆ˜ ìžˆìŠµë‹ˆê¹Œ?&quot;;\r\nbyte[] utf8Bytes = text.getBytes(&quot;UTF-8&quot;); // Replace with the appropriate encoding\r\n\r\ndriver.findElement(By.id(&quot;yourInputField&quot;)).sendKeys(new String(utf8Bytes, &quot;UTF-8&quot;));\r\n```\r\n2.\r\n```java\r\nString koreanText = &quot;\\uC774 \\uC0AC\\uC774\\uD2B8\\uC5D0\\uC11C \\uD0C0\\uC785\\uB9CC \\uAD6C\\uC785\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4?&quot;;\r\n```\r\nBoth did not work.","title":"Selenium Java automation with Browserstack automate, when trying to test with international languages like Korean it converts the character on BS","body":"<p>When we try and enter below text on web via browserstack it converts the characters:</p>\n<pre><code>&quot;chineseSampleQuery&quot;: &quot;æˆ‘æƒ³ä¸ºæˆ‘çš„å„¿å­è´­ä¹°å¹³æ¿ç”µè„‘&quot;,\n&quot;koreanSampleQuery&quot;: &quot;ì•„ë“¤ì„ ìœ„í•´ íƒœë¸”ë¦¿ì„ ì‚¬ê³  ì‹¶ì–´ìš”&quot;,\n&quot;arabicSampleQuery&quot;: &quot;Ø£Ø±ÙŠØ¯ Ø£Ù† Ø£Ø´ØªØ±ÙŠ Ù„ÙˆØ­Ø§Ù‹ Ù„Ø§Ø¨Ù†ÙŠ&quot;,\n</code></pre>\n<p>E.g:\nwhen entered &quot;Ã„ Ã¤ Ã– Ã¶ Ãœ Ã¼ áºž ÃŸ&quot; it converts as &quot;Ãƒâ€ž ÃƒÂ¤ Ãƒâ€“ ÃƒÂ¶ ÃƒÅ“ ÃƒÂ¼ Ã¡ÂºÅ¾ ÃƒÅ¸&quot; while entering to input filed.\nI've tried 2 ways:</p>\n<p>any suggestion how to achieve this?\nScreenshot of how it's converted'Ã„ Ã¤ Ã– Ã¶ Ãœ Ã¼ áºž ÃŸ'(<a href=\"https://i.stack.imgur.com/UBUb7.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/UBUb7.png</a>)</p>\n<p>1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;ì´ ì‚¬ì´íŠ¸ì—ì„œ íƒœë¸”ë¦¿ì„ êµ¬ìž…í•  ìˆ˜ ìžˆìŠµë‹ˆê¹Œ?&quot;;\nbyte[] utf8Bytes = text.getBytes(&quot;UTF-8&quot;); // Replace with the appropriate encoding\n\ndriver.findElement(By.id(&quot;yourInputField&quot;)).sendKeys(new String(utf8Bytes, &quot;UTF-8&quot;));\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String koreanText = &quot;\\uC774 \\uC0AC\\uC774\\uD2B8\\uC5D0\\uC11C \\uD0C0\\uC785\\uB9CC \\uAD6C\\uC785\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4?&quot;;\n</code></pre>\n<p>Both did not work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":151952,"reputation":1977,"user_id":366132,"accept_rate":73,"display_name":"Tu Tran"},"score":3,"creation_date":1337332332,"post_id":10649782,"comment_id":13809094,"body_markdown":"The `SimpleDateFormat#format` require a `Date` instance, not `String`.\nSo you should convert the string to `Date` by `SimpleDateFormat#parse` first.","body":"The <code>SimpleDateFormat#format</code> require a <code>Date</code> instance, not <code>String</code>. So you should convert the string to <code>Date</code> by <code>SimpleDateFormat#parse</code> first."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1577281328,"post_id":10649782,"comment_id":105134855,"body_markdown":"2019 comment: You shouldnâ€™t use `SimpleDateFormat` at all anymore. That class is notoriously troublesome and long outdated. Instead use `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"2019 comment: You shouldnâ€™t use <code>SimpleDateFormat</code> at all anymore. That class is notoriously troublesome and long outdated. Instead use <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1337332251,"creation_date":1337332251,"answer_id":10649796,"question_id":10649782,"body_markdown":"You have one `DateFormat`, but you need two: one for the input, and another for the output.\r\n\r\nYou&#39;ve got one for the output, but I don&#39;t see anything that would match your input.  When you give the input string to the output format, it&#39;s no surprise that you see that exception.\r\n\r\n    DateFormat inputDateFormat = new SimpleDateFormat(&quot;yyyy-MM-ddhh:mm:ss.SSS-Z&quot;);\r\n\r\n","title":"Java : Cannot format given Object as a Date","body":"<p>You have one <code>DateFormat</code>, but you need two: one for the input, and another for the output.</p>\n\n<p>You've got one for the output, but I don't see anything that would match your input.  When you give the input string to the output format, it's no surprise that you see that exception.</p>\n\n<pre><code>DateFormat inputDateFormat = new SimpleDateFormat(\"yyyy-MM-ddhh:mm:ss.SSS-Z\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":109,"is_accepted":true,"score":108,"last_activity_date":1522847113,"creation_date":1337332413,"answer_id":10649834,"question_id":10649782,"body_markdown":"`DateFormat.format` only works on `Date` values.\r\n\r\nYou should use two SimpleDateFormat objects: one for parsing, and one for formatting. For example:\r\n\r\n    // Note, MM is months, not mm\r\n    DateFormat outputFormat = new SimpleDateFormat(&quot;MM/yyyy&quot;, Locale.US);\r\n    DateFormat inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, Locale.US);\r\n\r\n    String inputText = &quot;2012-11-17T00:00:00.000-05:00&quot;;\r\n    Date date = inputFormat.parse(inputText);\r\n    String outputText = outputFormat.format(date);\r\n\r\nEDIT: Note that you may well want to specify the time zone and/or locale in your formats, and you should *also* consider using [Joda Time][1] instead of all of this to start with - it&#39;s a much better date/time API.\r\n\r\n\r\n  [1]: http://joda-time.sf.net","title":"Java : Cannot format given Object as a Date","body":"<p><code>DateFormat.format</code> only works on <code>Date</code> values.</p>\n\n<p>You should use two SimpleDateFormat objects: one for parsing, and one for formatting. For example:</p>\n\n<pre><code>// Note, MM is months, not mm\nDateFormat outputFormat = new SimpleDateFormat(\"MM/yyyy\", Locale.US);\nDateFormat inputFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSX\", Locale.US);\n\nString inputText = \"2012-11-17T00:00:00.000-05:00\";\nDate date = inputFormat.parse(inputText);\nString outputText = outputFormat.format(date);\n</code></pre>\n\n<p>EDIT: Note that you may well want to specify the time zone and/or locale in your formats, and you should <em>also</em> consider using <a href=\"http://joda-time.sf.net\" rel=\"noreferrer\">Joda Time</a> instead of all of this to start with - it's a much better date/time API.</p>\n"},{"tags":[],"owner":{"account_id":1408752,"reputation":1082,"user_id":1335794,"accept_rate":17,"display_name":"user1335794"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337332474,"creation_date":1337332474,"answer_id":10649848,"question_id":10649782,"body_markdown":"`SimpleDateFormat.format(...)` takes a Date as parameter and format Date to String. So you need have a look API carefully","title":"Java : Cannot format given Object as a Date","body":"<p><code>SimpleDateFormat.format(...)</code> takes a Date as parameter and format Date to String. So you need have a look API carefully</p>\n"},{"tags":[],"owner":{"account_id":411865,"reputation":31703,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337332523,"creation_date":1337332523,"answer_id":10649863,"question_id":10649782,"body_markdown":"I have resolved it , this way \r\n\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    \r\n    public class DateParser {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \r\n    \t\tDateParser dateParser = new DateParser();\r\n    \t\t\r\n    \t\tString str = dateParser.getparsedDate(&quot;2012-11-17T00:00:00.000-05:00&quot;);\r\n    \t\tSystem.out.println(str);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate String getparsedDate(String date) throws Exception {\r\n    \t\tDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;, Locale.US);\r\n    \t\tString s1 = date;\r\n    \t\tString s2 = null;\r\n    \t\tDate d;\r\n    \t\ttry {\r\n    \t\t\td = sdf.parse(s1);\r\n    \t\t\ts2 = (new SimpleDateFormat(&quot;MM/yyyy&quot;)).format(d);\r\n    \r\n    \t\t} catch (ParseException e) {\r\n    \r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\treturn s2;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Java : Cannot format given Object as a Date","body":"<p>I have resolved it , this way </p>\n\n<pre><code>import java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\n\npublic class DateParser {\n\n    public static void main(String args[]) throws Exception {\n\n        DateParser dateParser = new DateParser();\n\n        String str = dateParser.getparsedDate(\"2012-11-17T00:00:00.000-05:00\");\n        System.out.println(str);\n    }\n\n\n    private String getparsedDate(String date) throws Exception {\n        DateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS\", Locale.US);\n        String s1 = date;\n        String s2 = null;\n        Date d;\n        try {\n            d = sdf.parse(s1);\n            s2 = (new SimpleDateFormat(\"MM/yyyy\")).format(d);\n\n        } catch (ParseException e) {\n\n            e.printStackTrace();\n        }\n\n        return s2;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9805303,"reputation":11,"user_id":7265240,"display_name":"Y.T Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481532677,"creation_date":1481532677,"answer_id":41097125,"question_id":10649782,"body_markdown":"    public static String showDate(){\r\n        SimpleDateFormat df=new SimpleDateFormat(&quot;\\nTimeï¼šyyyy-MM-dd HH:mm:ss&quot;);\r\n        System.out.println(df.format(new Date()));\r\n        String s=df.format(new Date());\r\n        return s;\r\n    }\r\nI think this code may solve your problem.","title":"Java : Cannot format given Object as a Date","body":"<pre><code>public static String showDate(){\n    SimpleDateFormat df=new SimpleDateFormat(\"\\nTimeï¼šyyyy-MM-dd HH:mm:ss\");\n    System.out.println(df.format(new Date()));\n    String s=df.format(new Date());\n    return s;\n}\n</code></pre>\n\n<p>I think this code may solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":11466016,"reputation":1,"user_id":8404184,"display_name":"user8404184"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501665508,"creation_date":1501661718,"answer_id":45455201,"question_id":10649782,"body_markdown":"This worked for me:\r\n\r\n    String dat=&quot;02/08/2017&quot;;\r\n\tlong date=new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(dat,newParsePosition(0)).getTime();\r\n    java.sql.Date dbDate=new java.sql.Date(date);\r\n\tSystem.out.println(dbDate);","title":"Java : Cannot format given Object as a Date","body":"<p>This worked for me:</p>\n\n<pre><code>String dat=\"02/08/2017\";\nlong date=new SimpleDateFormat(\"dd/MM/yyyy\").parse(dat,newParsePosition(0)).getTime();\njava.sql.Date dbDate=new java.sql.Date(date);\nSystem.out.println(dbDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1692817188,"creation_date":1537360053,"answer_id":52405866,"question_id":10649782,"body_markdown":"## java.time\r\n\r\nI should like to contribute the modern answer. The `SimpleDateFormat` class is notoriously troublesome, and while it was reasonable to fight oneâ€™s way through with it when this question was asked six and a half years ago, today we have much better in java.time, the modern Java date and time API. `SimpleDateFormat` and its friend `Date` are now considered long outdated, so donâ€™t use them anymore.\r\n\r\n\t\tDateTimeFormatter monthFormatter = DateTimeFormatter.ofPattern(&quot;MM/uuuu&quot;);\r\n\t\tString dateformat = &quot;2012-11-17T00:00:00.000-05:00&quot;;\r\n\t\tOffsetDateTime dateTime = OffsetDateTime.parse(dateformat);\r\n\t\tString monthYear = dateTime.format(monthFormatter);\r\n\t\tSystem.out.println(monthYear);\r\n\r\nOutput:\r\n\r\n&gt; 11/2012\r\n\r\nI am exploiting the fact that your string is in ISO 8601 format, the international standard, and that the classes of java.time parse this format as their default, that is, without any explicit formatter. Itâ€™s stil true what the other answers say, you need to parse the original string first, then format the resulting date-time object into a new string. Usually this requires two formatters, only in this case weâ€™re lucky and can do with just one formatter.\r\n\r\n## What went wrong in your code\r\n\r\n - As others have said, `SimpleDateFormat.format` cannot accept a `String` argument, also when the parameter type is declared to be `Object`.\r\n - Because of the exception you didnâ€™t get around to discovering: there is also a bug in your format pattern string, `mm/yyyy`. Lowercase `mm` os for minute of the hour. You need uppercase `MM` for month.\r\n - Finally the Java naming conventions say to use a lowercase first letter in variable names, so use lowercase `m` in `monthYear` (also because java.time includes a `YearMonth` class with uppercase `Y` and `M`, so to avoid confusion).\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use `java.time`.\r\n - [Wikipedia article: ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)","title":"Java : Cannot format given Object as a Date","body":"<h2>java.time</h2>\n<p>I should like to contribute the modern answer. The <code>SimpleDateFormat</code> class is notoriously troublesome, and while it was reasonable to fight oneâ€™s way through with it when this question was asked six and a half years ago, today we have much better in java.time, the modern Java date and time API. <code>SimpleDateFormat</code> and its friend <code>Date</code> are now considered long outdated, so donâ€™t use them anymore.</p>\n<pre><code>    DateTimeFormatter monthFormatter = DateTimeFormatter.ofPattern(&quot;MM/uuuu&quot;);\n    String dateformat = &quot;2012-11-17T00:00:00.000-05:00&quot;;\n    OffsetDateTime dateTime = OffsetDateTime.parse(dateformat);\n    String monthYear = dateTime.format(monthFormatter);\n    System.out.println(monthYear);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>11/2012</p>\n</blockquote>\n<p>I am exploiting the fact that your string is in ISO 8601 format, the international standard, and that the classes of java.time parse this format as their default, that is, without any explicit formatter. Itâ€™s stil true what the other answers say, you need to parse the original string first, then format the resulting date-time object into a new string. Usually this requires two formatters, only in this case weâ€™re lucky and can do with just one formatter.</p>\n<h2>What went wrong in your code</h2>\n<ul>\n<li>As others have said, <code>SimpleDateFormat.format</code> cannot accept a <code>String</code> argument, also when the parameter type is declared to be <code>Object</code>.</li>\n<li>Because of the exception you didnâ€™t get around to discovering: there is also a bug in your format pattern string, <code>mm/yyyy</code>. Lowercase <code>mm</code> os for minute of the hour. You need uppercase <code>MM</code> for month.</li>\n<li>Finally the Java naming conventions say to use a lowercase first letter in variable names, so use lowercase <code>m</code> in <code>monthYear</code> (also because java.time includes a <code>YearMonth</code> class with uppercase <code>Y</code> and <code>M</code>, so to avoid confusion).</li>\n</ul>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use <code>java.time</code>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692817731,"creation_date":1692817731,"answer_id":76964265,"question_id":10649782,"body_markdown":"In case you want to do it ninja style\r\n\r\n    String input = &quot;2012-11-17T00:00:00.000-05:00&quot;;\r\n    String year = input.substring(0,4);\r\n    String month = input.substring(5,7);\r\n    \r\n    String formattedDate = month + &quot;/&quot; + year;\r\n    System.out.println(formattedDate);\r\n\r\n\r\n\r\n","title":"Java : Cannot format given Object as a Date","body":"<p>In case you want to do it ninja style</p>\n<pre><code>String input = &quot;2012-11-17T00:00:00.000-05:00&quot;;\nString year = input.substring(0,4);\nString month = input.substring(5,7);\n\nString formattedDate = month + &quot;/&quot; + year;\nSystem.out.println(formattedDate);\n</code></pre>\n"}],"owner":{"account_id":411865,"reputation":31703,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246155,"favorite_count":0,"down_vote_count":1,"up_vote_count":71,"accepted_answer_id":10649834,"answer_count":8,"score":70,"last_activity_date":1692817731,"creation_date":1337332187,"question_id":10649782,"body_markdown":"I have Date in this format  (2012-11-17T00:00:00.000-05:00). I need to convert the date into this format mm/yyyy.\r\n\r\nI tried this way, but I am getting this Exception.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot format given Object as a Date\r\n    \tat java.text.DateFormat.format(Unknown Source)\r\n    \tat java.text.Format.format(Unknown Source)\r\n    \tat DateParser.main(DateParser.java:14)\r\n\r\nPlease see my code below: \r\n\r\n```java\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\npublic class DateParser {    \r\n  public static void main(String args[]) {   \r\n    String MonthYear = null;    \r\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;mm/yyyy&quot;);    \r\n    String dateformat = &quot;2012-11-17T00:00:00.000-05:00&quot;;\r\n    MonthYear = simpleDateFormat.format(dateformat);    \r\n    System.out.println(MonthYear);    \r\n  }    \r\n}\r\n```","title":"Java : Cannot format given Object as a Date","body":"<p>I have Date in this format  (2012-11-17T00:00:00.000-05:00). I need to convert the date into this format mm/yyyy.</p>\n<p>I tried this way, but I am getting this Exception.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot format given Object as a Date\n    at java.text.DateFormat.format(Unknown Source)\n    at java.text.Format.format(Unknown Source)\n    at DateParser.main(DateParser.java:14)\n</code></pre>\n<p>Please see my code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class DateParser {    \n  public static void main(String args[]) {   \n    String MonthYear = null;    \n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;mm/yyyy&quot;);    \n    String dateformat = &quot;2012-11-17T00:00:00.000-05:00&quot;;\n    MonthYear = simpleDateFormat.format(dateformat);    \n    System.out.println(MonthYear);    \n  }    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","collections","tuples"],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692817508,"creation_date":1692797454,"question_id":76961841,"body_markdown":"Hi I&#39;m trying to get specific values from a jpa repo class. By creating a interface class and appending with get methods. But I couldn&#39;t get values from it.\r\n\r\nI can see the values in debug mode. But without the key.\r\n\r\nBut while trying to access it, I&#39;m getting null in return.\r\n\r\nBellow is the code flow.\r\n\r\n**Controller Class**\r\n\r\n    public class DocumentFileSearchController \r\n    {\r\n    \t@Autowired\r\n    \tDocumentDetailService documentDetailService;\r\n    \t\r\n    \t\r\n    \t@GetMapping(&quot;/getDetails&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; getdocDetail(@RequestParam(value = &quot;sourceCaseId&quot;) String sourceCaseId,\r\n    \t\t\t\t\t\t\t\t\t\t  @RequestParam(value = &quot;mdmId&quot;) String mdmId,\r\n    \t\t\t\t\t\t\t\t\t\t  @RequestParam(value = &quot;sourceSystem&quot;) String sourceSystem) throws MissingServletRequestParameterException\r\n    \t{\r\n    \t\tList&lt;DocumentDetailsResponceModel&gt; modal = documentDetailService.getUsingSourceAndMdm(sourceSystem, mdmId);\r\n    \t\t \r\n    \t\treturn new ResponseEntity&lt;&gt;(modal, HttpStatus.OK);\r\n    \t}\r\n    }\r\n\r\nService Interface Class\r\n\r\n    public interface DocumentDetailService \r\n    {\r\n    \t\r\n    \tpublic List&lt;DocumentDetailsResponceModel&gt; getUsingSourceAndMdm(String sourceSystem, String mdmId);\r\n    \r\n    }\r\n\r\nService class\r\n\r\n\r\n    @Service\r\n    public class DocumentDetailServiceImpl implements DocumentDetailService\r\n    {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate DocumentDetailRepo docDetailRepo;\r\n    \t\r\n    \tList&lt;DocumentDetailsResponceModel&gt; docResponceModel;\r\n    \r\n    \tpublic List&lt;DocumentDetailsResponceModel&gt; getUsingSourceAndMdm(String source, String mdmId)\r\n    \t{\r\n    \t\tdocResponceModel = docDetailRepo.findBySourceCaseMdm(source, mdmId);\r\n    \t\t    \t\t\r\n    \t\treturn docResponceModel;\r\n    \t}\r\n    }\r\n\r\nI can see the values inside.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nShould I use any tupleImpl for this? Because those values are under this. But I&#39;m not familiar with this. \r\n\r\n\r\nBut getting null in response.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nRepo Class\r\n\r\n    public interface DocumentDetailRepo extends JpaRepository&lt;DmsDmDocumentDetail, Long&gt; \r\n    {\t\r\n    \t@Query(&quot;select d.documentId, d.fileName, d.mdmId, d.sourceCaseId, d.sourceSystem, d.individualId from DmsDmDocumentDetail d where d.sourceSystem = :sourceSystem and d.mdmId = :mdmId&quot;)\r\n    \tpublic List&lt;DocumentDetailsResponceModel&gt; findBySourceCaseMdm(@Param(&quot;sourceSystem&quot;) String sourceSystem, @Param(&quot;mdmId&quot;) String mdmId);\r\n    \r\n    }\r\n\r\n\r\nI tried by setting this way in query.\r\n\r\n    @Query(&quot;select new com.hhs.document.model.DocumentDetailsResponceModel(d.documentId, d.fileName, d.mdmId, d.sourceCaseId, d.sourceSystem, d.individualId) from DmsDmDocumentDetail d where d.sourceSystem = :sourceSystem and d.mdmId = :mdmId&quot;)\r\n    public List&lt;DocumentDetailsResponceModel&gt; findBySourceCaseMdm(@Param(&quot;sourceSystem&quot;) String sourceSystem, @Param(&quot;mdmId&quot;) String mdmId);\r\n\r\nBut getting the error \r\n```An Error Occured : Could not determine appropriate instantiation strategy - no matching constructor found and one or more arguments did not define alias for bean-injection```\r\n\r\nDTO class\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;dm_document_detail&quot;, schema = &quot;dms&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class DmsDmDocumentDetail \r\n    {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;document_id&quot;, unique = true, nullable = false)\r\n        private Long documentId;\r\n    \r\n    \t@Column(name = &quot;active_ind&quot;)\r\n        private String activeIndicator;\r\n    \r\n        @Column(name = &quot;create_dt&quot;)\r\n    //    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        @UpdateTimestamp\r\n        private Date createDt;\r\n    \r\n        @Column(name = &quot;create_user_id&quot;)\r\n        private String createUserId;\r\n    \r\n        @Column(name = &quot;doc_cat&quot;)\r\n        private String docCat;\r\n    \r\n        @Column(name = &quot;doc_type&quot;)\r\n        private String docType;\r\n    \r\n        @Column(name = &quot;file_name&quot;)\r\n        private String fileName;\r\n        \r\n        @Column(name = &quot;file_location&quot;)\r\n        private String fileLocation;\r\n        \r\n        @Column(name = &quot;user_file_name&quot;)\r\n        private String userFileName;\r\n    \r\n        @Column(name = &quot;individual_id&quot;)\r\n        private int individualId;\r\n    \r\n        @Column(name = &quot;source_system&quot;)\r\n        private String sourceSystem;\r\n    \r\n        @Column(name = &quot;source_case_id&quot;)\r\n        private String sourceCaseId;\r\n    \r\n        @Column(name = &quot;update_dt&quot;)\r\n    //  @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        @UpdateTimestamp\r\n        private Date updateDt;\r\n    \r\n        @Column(name = &quot;update_user_id&quot;)\r\n        private String updateUserId;\r\n        \r\n        @Column(name = &quot;screen_lable_id&quot;)\r\n        private int screenLableId;\r\n        \r\n        @Column(name = &quot;mdm_id&quot;)\r\n        private String mdmId;\r\n    }\r\n\r\n\r\nModel class to get particular column values.\r\n\r\n    public interface DocumentDetailsResponceModel \r\n    {    \t\r\n    \tLong getDocumentId();\r\n    \tString getFileName();\r\n    \tString getMdmId();\r\n    \tString getSourceCaseId();\r\n    \tString getSourceSystem();\r\n    \tInteger getIndividualId();\r\n    }\r\n\r\n\r\nThanks E&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MDCtr.png\r\n  [2]: https://i.stack.imgur.com/loP01.png\r\n  [3]: https://i.stack.imgur.com/SzozK.png","title":"Converting DTO to model. How to get values fromTupleConverter$TupleBackedMap","body":"<p>Hi I'm trying to get specific values from a jpa repo class. By creating a interface class and appending with get methods. But I couldn't get values from it.</p>\n<p>I can see the values in debug mode. But without the key.</p>\n<p>But while trying to access it, I'm getting null in return.</p>\n<p>Bellow is the code flow.</p>\n<p><strong>Controller Class</strong></p>\n<pre><code>public class DocumentFileSearchController \n{\n    @Autowired\n    DocumentDetailService documentDetailService;\n    \n    \n    @GetMapping(&quot;/getDetails&quot;)\n    public ResponseEntity&lt;?&gt; getdocDetail(@RequestParam(value = &quot;sourceCaseId&quot;) String sourceCaseId,\n                                          @RequestParam(value = &quot;mdmId&quot;) String mdmId,\n                                          @RequestParam(value = &quot;sourceSystem&quot;) String sourceSystem) throws MissingServletRequestParameterException\n    {\n        List&lt;DocumentDetailsResponceModel&gt; modal = documentDetailService.getUsingSourceAndMdm(sourceSystem, mdmId);\n         \n        return new ResponseEntity&lt;&gt;(modal, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Service Interface Class</p>\n<pre><code>public interface DocumentDetailService \n{\n    \n    public List&lt;DocumentDetailsResponceModel&gt; getUsingSourceAndMdm(String sourceSystem, String mdmId);\n\n}\n</code></pre>\n<p>Service class</p>\n<pre><code>@Service\npublic class DocumentDetailServiceImpl implements DocumentDetailService\n{\n    \n    @Autowired\n    private DocumentDetailRepo docDetailRepo;\n    \n    List&lt;DocumentDetailsResponceModel&gt; docResponceModel;\n\n    public List&lt;DocumentDetailsResponceModel&gt; getUsingSourceAndMdm(String source, String mdmId)\n    {\n        docResponceModel = docDetailRepo.findBySourceCaseMdm(source, mdmId);\n                    \n        return docResponceModel;\n    }\n}\n</code></pre>\n<p>I can see the values inside.</p>\n<p><a href=\"https://i.stack.imgur.com/MDCtr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MDCtr.png\" alt=\"enter image description here\" /></a></p>\n<p>Should I use any tupleImpl for this? Because those values are under this. But I'm not familiar with this.</p>\n<p>But getting null in response.</p>\n<p><a href=\"https://i.stack.imgur.com/SzozK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SzozK.png\" alt=\"enter image description here\" /></a></p>\n<p>Repo Class</p>\n<pre><code>public interface DocumentDetailRepo extends JpaRepository&lt;DmsDmDocumentDetail, Long&gt; \n{   \n    @Query(&quot;select d.documentId, d.fileName, d.mdmId, d.sourceCaseId, d.sourceSystem, d.individualId from DmsDmDocumentDetail d where d.sourceSystem = :sourceSystem and d.mdmId = :mdmId&quot;)\n    public List&lt;DocumentDetailsResponceModel&gt; findBySourceCaseMdm(@Param(&quot;sourceSystem&quot;) String sourceSystem, @Param(&quot;mdmId&quot;) String mdmId);\n\n}\n</code></pre>\n<p>I tried by setting this way in query.</p>\n<pre><code>@Query(&quot;select new com.hhs.document.model.DocumentDetailsResponceModel(d.documentId, d.fileName, d.mdmId, d.sourceCaseId, d.sourceSystem, d.individualId) from DmsDmDocumentDetail d where d.sourceSystem = :sourceSystem and d.mdmId = :mdmId&quot;)\npublic List&lt;DocumentDetailsResponceModel&gt; findBySourceCaseMdm(@Param(&quot;sourceSystem&quot;) String sourceSystem, @Param(&quot;mdmId&quot;) String mdmId);\n</code></pre>\n<p>But getting the error\n<code>An Error Occured : Could not determine appropriate instantiation strategy - no matching constructor found and one or more arguments did not define alias for bean-injection</code></p>\n<p>DTO class</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;dm_document_detail&quot;, schema = &quot;dms&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class DmsDmDocumentDetail \n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;document_id&quot;, unique = true, nullable = false)\n    private Long documentId;\n\n    @Column(name = &quot;active_ind&quot;)\n    private String activeIndicator;\n\n    @Column(name = &quot;create_dt&quot;)\n//    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    @UpdateTimestamp\n    private Date createDt;\n\n    @Column(name = &quot;create_user_id&quot;)\n    private String createUserId;\n\n    @Column(name = &quot;doc_cat&quot;)\n    private String docCat;\n\n    @Column(name = &quot;doc_type&quot;)\n    private String docType;\n\n    @Column(name = &quot;file_name&quot;)\n    private String fileName;\n    \n    @Column(name = &quot;file_location&quot;)\n    private String fileLocation;\n    \n    @Column(name = &quot;user_file_name&quot;)\n    private String userFileName;\n\n    @Column(name = &quot;individual_id&quot;)\n    private int individualId;\n\n    @Column(name = &quot;source_system&quot;)\n    private String sourceSystem;\n\n    @Column(name = &quot;source_case_id&quot;)\n    private String sourceCaseId;\n\n    @Column(name = &quot;update_dt&quot;)\n//  @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    @UpdateTimestamp\n    private Date updateDt;\n\n    @Column(name = &quot;update_user_id&quot;)\n    private String updateUserId;\n    \n    @Column(name = &quot;screen_lable_id&quot;)\n    private int screenLableId;\n    \n    @Column(name = &quot;mdm_id&quot;)\n    private String mdmId;\n}\n</code></pre>\n<p>Model class to get particular column values.</p>\n<pre><code>public interface DocumentDetailsResponceModel \n{       \n    Long getDocumentId();\n    String getFileName();\n    String getMdmId();\n    String getSourceCaseId();\n    String getSourceSystem();\n    Integer getIndividualId();\n}\n</code></pre>\n<p>Thanks E&gt;</p>\n"},{"tags":["java","tomcat","xampp"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1692816870,"post_id":76964174,"comment_id":135677158,"body_markdown":"Please **do not** post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please <b>do not</b> post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1692817713,"post_id":76964174,"comment_id":135677304,"body_markdown":"Make sure that Java 20 is listed *before* Java 8 in the PATH environment variable.","body":"Make sure that Java 20 is listed <i>before</i> Java 8 in the PATH environment variable."}],"owner":{"account_id":24664822,"reputation":21,"user_id":18570727,"display_name":"BS e-Learning"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692816801,"creation_date":1692816801,"question_id":76964174,"body_markdown":"I am facing a problem on loading my Java servlet using the Xampp server on Windows 11. I have installed Java 2.0 64-bit and jre 1.8 64-bit on my system.\r\nClass has been compiled by a more recent version of the Java Runtime (class file version 64.0), this version of the Java Runtime only recognizes class file versions up to 52.0 (unable to load the class.\r\n\r\nXampp server gives an error message when I try to load my Java servlet.\r\n[![enter image description here][1]][1]\r\n\r\nXampp version: 3.3.0\r\n\r\nUsing command prompt java gives version:\r\n\r\njava version &quot;20.0.1&quot; 2023-04-18\r\nJava(TM) SE Runtime Environment (build 20.0.1+9-29)\r\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)\r\n[![enter image description here][2]][2]\r\n\r\nwhereas in the system control panel Java gives:\r\nVersion 8 Update 381 (build 1.8.0_381-b-09)\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rkcg6.png\r\n  [2]: https://i.stack.imgur.com/6eZ5w.png\r\n  [3]: https://i.stack.imgur.com/JBiGV.png","title":"Class has been compiled by a more recent version of the Java Runtime (class file version 64.0), this version of the Java Runtime only recognizes","body":"<p>I am facing a problem on loading my Java servlet using the Xampp server on Windows 11. I have installed Java 2.0 64-bit and jre 1.8 64-bit on my system.\nClass has been compiled by a more recent version of the Java Runtime (class file version 64.0), this version of the Java Runtime only recognizes class file versions up to 52.0 (unable to load the class.</p>\n<p>Xampp server gives an error message when I try to load my Java servlet.\n<a href=\"https://i.stack.imgur.com/rkcg6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkcg6.png\" alt=\"enter image description here\" /></a></p>\n<p>Xampp version: 3.3.0</p>\n<p>Using command prompt java gives version:</p>\n<p>java version &quot;20.0.1&quot; 2023-04-18\nJava(TM) SE Runtime Environment (build 20.0.1+9-29)\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)\n<a href=\"https://i.stack.imgur.com/6eZ5w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6eZ5w.png\" alt=\"enter image description here\" /></a></p>\n<p>whereas in the system control panel Java gives:\nVersion 8 Update 381 (build 1.8.0_381-b-09)</p>\n<p><a href=\"https://i.stack.imgur.com/JBiGV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBiGV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":10298759,"reputation":501,"user_id":7598082,"display_name":"Dinesh Sarma"},"score":0,"creation_date":1692817955,"post_id":76964163,"comment_id":135677366,"body_markdown":"I think using sharedPreferences will help you to achieve both the scenario. First you have to store the user state data and app state when app is going to background. And when you app is on foreground then get the state data form SharedPreference and perform your actions accordingly. I hope this will help you.","body":"I think using sharedPreferences will help you to achieve both the scenario. First you have to store the user state data and app state when app is going to background. And when you app is on foreground then get the state data form SharedPreference and perform your actions accordingly. I hope this will help you."}],"owner":{"account_id":29264231,"reputation":1,"user_id":22420381,"display_name":"Samantha Roberts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692816722,"creation_date":1692816722,"question_id":76964163,"body_markdown":"I&#39;m making an app in Android Studio using Java. Whenever the app is running, but then pushed to the background (hitting the home button for example) and then returned to the foreground, the app restarts, losing the &quot;spot&quot; in the app. I&#39;m using fragments and a navigation graph to control going between. I&#39;ve tried using onStop and onSaveInstance, but haven&#39;t been able to figure out how to use them to save the actual fragment the user was on rather than just data from the fragment. I&#39;ve tried implementing a ViewModel, but again, can&#39;t figure out how to get the fragment the user was on back after the restart. I understand that the phone automatically closes some apps when they go into the background to save memory, but I want the user to still be able to return to the state it was in when they left. What is the best approach to this?","title":"Android Studio App Restarts when pushed to Background, how to save current fragment?","body":"<p>I'm making an app in Android Studio using Java. Whenever the app is running, but then pushed to the background (hitting the home button for example) and then returned to the foreground, the app restarts, losing the &quot;spot&quot; in the app. I'm using fragments and a navigation graph to control going between. I've tried using onStop and onSaveInstance, but haven't been able to figure out how to use them to save the actual fragment the user was on rather than just data from the fragment. I've tried implementing a ViewModel, but again, can't figure out how to get the fragment the user was on back after the restart. I understand that the phone automatically closes some apps when they go into the background to save memory, but I want the user to still be able to return to the state it was in when they left. What is the best approach to this?</p>\n"},{"tags":["java","spring","spring-boot","validation","hibernate-validator"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1692810665,"post_id":76963496,"comment_id":135676054,"body_markdown":"Why don&#39;t you decide inside `public boolean isValid(...)` whether to validate the one or the other way?","body":"Why don&#39;t you decide inside <code>public boolean isValid(...)</code> whether to validate the one or the other way?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1692811079,"post_id":76963496,"comment_id":135676127,"body_markdown":"No you cannot. You could determine it in your actual validator and delegate to the one you need.","body":"No you cannot. You could determine it in your actual validator and delegate to the one you need."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1692812037,"post_id":76963496,"comment_id":135676299,"body_markdown":"@M.Deinum Since you&#39;re one of the pros here around, may I ask you to provide a short code example of how you&#39;d do it exactly, thus the best and bulletproof way^^. I&#39;d just make a simple if-else-decision but who am I to tell the way...","body":"@M.Deinum Since you&#39;re one of the pros here around, may I ask you to provide a short code example of how you&#39;d do it exactly, thus the best and bulletproof way^^. I&#39;d just make a simple if-else-decision but who am I to tell the way..."},{"owner":{"account_id":9041360,"reputation":57,"user_id":6735499,"display_name":"Anton"},"score":0,"creation_date":1692817501,"post_id":76963496,"comment_id":135677262,"body_markdown":"@Slevin, that&#39;s how I did. But I was wondering if it&#39;s possible to do the way around because for my case it would make more sense to have it split.","body":"@Slevin, that&#39;s how I did. But I was wondering if it&#39;s possible to do the way around because for my case it would make more sense to have it split."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":1,"creation_date":1692825225,"post_id":76963496,"comment_id":135678488,"body_markdown":"When M.Deinum says that it&#39;s not possible, then there is no way. Sometimes you have to go along with what the universe is willing to give...","body":"When M.Deinum says that it&#39;s not possible, then there is no way. Sometimes you have to go along with what the universe is willing to give..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1692881668,"post_id":76963496,"comment_id":135686147,"body_markdown":"Annotations require static metadata, some annotations (mainly those from Spring) can have value expression or SpEL expression in the values. However the constraint annotation is not under the control of Spring (even if you would make it a component it isn&#39;t under the control of Spring!) and thus you cannot use value or SpEL expression in those annotations. Only actual classnames. You can let Spring control the instance of the validator and do the routing there, either using an if statement or using an `@Conditional` rule to register the validator to use and let the other inject it.","body":"Annotations require static metadata, some annotations (mainly those from Spring) can have value expression or SpEL expression in the values. However the constraint annotation is not under the control of Spring (even if you would make it a component it isn&#39;t under the control of Spring!) and thus you cannot use value or SpEL expression in those annotations. Only actual classnames. You can let Spring control the instance of the validator and do the routing there, either using an if statement or using an <code>@Conditional</code> rule to register the validator to use and let the other inject it."},{"owner":{"account_id":9041360,"reputation":57,"user_id":6735499,"display_name":"Anton"},"score":0,"creation_date":1692894309,"post_id":76963496,"comment_id":135689331,"body_markdown":"@M.Deinum, what you mean is inside the class (MyCustomValidator) which extends ConstraintValidator, thru @ConditionalOnProperty I would delegate injection of one of the &quot;validators&quot; implementations? Something like:\n`@Bean\n@ConditionalOnProperty(prop = true)\npublic ActualValidator()  { return new ActualValidator1(); }\n\n@Bean\n@ConditionalOnProperty(prop = false)\npublic ActualValidator() { return new ActualValidator2(); }`\nAnd within `MyCustomValidator`:\n`@Autowired\nprivate ActualValidator actualValidator;`","body":"@M.Deinum, what you mean is inside the class (MyCustomValidator) which extends ConstraintValidator, thru @ConditionalOnProperty I would delegate injection of one of the &quot;validators&quot; implementations? Something like: <code>@Bean @ConditionalOnProperty(prop = true) public ActualValidator()  { return new ActualValidator1(); }  @Bean @ConditionalOnProperty(prop = false) public ActualValidator() { return new ActualValidator2(); }</code> And within <code>MyCustomValidator</code>: <code>@Autowired private ActualValidator actualValidator;</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692901325,"post_id":76963496,"comment_id":135690853,"body_markdown":"Yup, something like that.","body":"Yup, something like that."},{"owner":{"account_id":9041360,"reputation":57,"user_id":6735499,"display_name":"Anton"},"score":0,"creation_date":1692967641,"post_id":76963496,"comment_id":135700649,"body_markdown":"@M.Deinum, thank you!","body":"@M.Deinum, thank you!"}],"owner":{"account_id":9041360,"reputation":57,"user_id":6735499,"display_name":"Anton"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692816594,"creation_date":1692810342,"question_id":76963496,"body_markdown":"The question is simple as that - is it possible to set dynamically/programmatically a validator for the javax.validation.@Constraint, based on, lets say a flag, from the properties in a Spring Boot application?\r\n\r\nMy attempt was to declare a custom Validator as interface, which extends ConstraintValidator, and then have 2 specific classes implementing it, each with its own validation method. The type to be validated is the same. But it wouldn&#39;t allow me to do that for the interface, nor abstract classes - looks like @Constraint accepts only classes that can be instantiated right away.\r\n\r\nNor I found any example for such approach.\r\n\r\nAny idea if it&#39;s even possible?","title":"Dynamically set validator for @Constraint - Spring Boot","body":"<p>The question is simple as that - is it possible to set dynamically/programmatically a validator for the javax.validation.@Constraint, based on, lets say a flag, from the properties in a Spring Boot application?</p>\n<p>My attempt was to declare a custom Validator as interface, which extends ConstraintValidator, and then have 2 specific classes implementing it, each with its own validation method. The type to be validated is the same. But it wouldn't allow me to do that for the interface, nor abstract classes - looks like @Constraint accepts only classes that can be instantiated right away.</p>\n<p>Nor I found any example for such approach.</p>\n<p>Any idea if it's even possible?</p>\n"},{"tags":["java","android","git","github","jitpack"],"comments":[{"owner":{"account_id":10038794,"reputation":802,"user_id":8229399,"display_name":"philoopher97"},"score":0,"creation_date":1692853528,"post_id":76964146,"comment_id":135680930,"body_markdown":"newer jitpack uses gradle 8. So try using `openjdk17`","body":"newer jitpack uses gradle 8. So try using <code>openjdk17</code>"},{"owner":{"account_id":18085501,"reputation":657,"user_id":13146544,"display_name":"Samudra Ganguly"},"score":0,"creation_date":1692853625,"post_id":76964146,"comment_id":135680937,"body_markdown":"You are using **buildToolsVersion=&quot;30.0.3&quot;**. Have you tried with other versions?","body":"You are using <b>buildToolsVersion=&quot;30.0.3&quot;</b>. Have you tried with other versions?"},{"owner":{"account_id":27519060,"reputation":265,"user_id":20999526,"display_name":"George"},"score":0,"creation_date":1692865554,"post_id":76964146,"comment_id":135682781,"body_markdown":"Yes, I have tried with 32.0.0 but got the same error.","body":"Yes, I have tried with 32.0.0 but got the same error."}],"owner":{"account_id":27519060,"reputation":265,"user_id":20999526,"display_name":"George"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692816495,"creation_date":1692816495,"question_id":76964146,"body_markdown":"I am trying to upload an Android library (written in Java) on **jitpack.io**. This is the **build.gradle** file of the library.\r\n\r\n    plugins {\r\n        id &#39;com.android.library&#39;\r\n        id &#39;maven-publish&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion 33\r\n        buildToolsVersion &quot;30.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            minSdkVersion 28\r\n            targetSdkVersion 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            consumerProguardFiles &quot;consumer-rules.pro&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    //    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n        implementation &#39;com.journeyapps:zxing-android-embedded:4.3.0&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    }\r\n    \r\n    publishing {\r\n        publications {\r\n            release(MavenPublication) {\r\n                groupId = &#39;com.github.my_github_id&#39;\r\n                artifactId = &#39;my_library&#39;\r\n                version = &#39;1.0&#39;\r\n    \r\n                afterEvaluate {\r\n                    from components.release\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nBut the log in jitpack shows the following:\r\n\r\n    Gradle &#39;publishToMavenLocal&#39; task not found. Please add the &#39;maven-publish&#39; or &#39;maven&#39; plugin.\r\n     See the documentation and examples: https://docs.jitpack.io\r\n    \r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n    /home/jitpack/build/upi/build.gradle has component: release\r\n    Running: ./gradlew -Pgroup=com.github.my_github_id -Pversion=1.0 publishToMavenLocal\r\n    Build-tool 32.0.0 is missing DX at /opt/android-sdk-linux/build-tools/32.0.0/dx\r\n    Build-tool 32.0.0 is missing DX at /opt/android-sdk-linux/build-tools/32.0.0/dx\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not determine the dependencies of task &#39;:upi:compileReleaseAidl&#39;.\r\n    &gt; Installed Build Tools revision 32.0.0 is corrupted. Remove and install again using the SDK Manager.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 862ms\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n    Archive: my_android_project_name:my_library:unspecified\r\n    Publication: com.github.my_github_id:my_library:1.0\r\n    Publication: my_android_project_name:my_library:unspecified\r\n    Build tool exit code: 0\r\n    Looking for artifacts...\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n    Looking for pom.xml in build directory and ~/.m2\r\n    Found artifact: com.github.my_github_id:my_library:1.0\r\n    Found artifact: my_android_project:my_library:unspecified\r\n    2023-08-23T18:28:11.758414916Z\r\n    Exit code: 0\r\n    \r\n    ERROR: No build artifacts found\r\n    Expected artifacts in: $HOME/.m2/repository/my_android_project/my_library/unspecified\r\n\r\njitpack.yml:\r\n\r\n    jdk:\r\n      - openjdk8\r\n\r\nI am using the latest version of gradle and Android Studio. I have tried looking into different solutions, but none of them works. Maybe I am missing a point, as this is the first time I am publishing a library.","title":"Uploading Android library to Jitpack gives errors","body":"<p>I am trying to upload an Android library (written in Java) on <strong>jitpack.io</strong>. This is the <strong>build.gradle</strong> file of the library.</p>\n<pre><code>plugins {\n    id 'com.android.library'\n    id 'maven-publish'\n}\n\nandroid {\n    compileSdkVersion 33\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        minSdkVersion 28\n        targetSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n//    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'com.journeyapps:zxing-android-embedded:4.3.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n\npublishing {\n    publications {\n        release(MavenPublication) {\n            groupId = 'com.github.my_github_id'\n            artifactId = 'my_library'\n            version = '1.0'\n\n            afterEvaluate {\n                from components.release\n            }\n        }\n    }\n}\n</code></pre>\n<p>But the log in jitpack shows the following:</p>\n<pre><code>Gradle 'publishToMavenLocal' task not found. Please add the 'maven-publish' or 'maven' plugin.\n See the documentation and examples: https://docs.jitpack.io\n\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\n/home/jitpack/build/upi/build.gradle has component: release\nRunning: ./gradlew -Pgroup=com.github.my_github_id -Pversion=1.0 publishToMavenLocal\nBuild-tool 32.0.0 is missing DX at /opt/android-sdk-linux/build-tools/32.0.0/dx\nBuild-tool 32.0.0 is missing DX at /opt/android-sdk-linux/build-tools/32.0.0/dx\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':upi:compileReleaseAidl'.\n&gt; Installed Build Tools revision 32.0.0 is corrupted. Remove and install again using the SDK Manager.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 862ms\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nArchive: my_android_project_name:my_library:unspecified\nPublication: com.github.my_github_id:my_library:1.0\nPublication: my_android_project_name:my_library:unspecified\nBuild tool exit code: 0\nLooking for artifacts...\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nLooking for pom.xml in build directory and ~/.m2\nFound artifact: com.github.my_github_id:my_library:1.0\nFound artifact: my_android_project:my_library:unspecified\n2023-08-23T18:28:11.758414916Z\nExit code: 0\n\nERROR: No build artifacts found\nExpected artifacts in: $HOME/.m2/repository/my_android_project/my_library/unspecified\n</code></pre>\n<p>jitpack.yml:</p>\n<pre><code>jdk:\n  - openjdk8\n</code></pre>\n<p>I am using the latest version of gradle and Android Studio. I have tried looking into different solutions, but none of them works. Maybe I am missing a point, as this is the first time I am publishing a library.</p>\n"},{"tags":["java","classloader","javassist","bytecode-manipulation","dynamic-class-loaders"],"answers":[{"tags":[],"owner":{"account_id":18897,"reputation":15976,"user_id":43786,"accept_rate":83,"display_name":"Nicholas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1584817746,"creation_date":1584817746,"answer_id":60792151,"question_id":60789950,"body_markdown":"[ClassPool][1] supports inserting, appending and removing [ClassPath][2]s.\r\nThe ClassPath can be inserted and added in the form of a String or a ClassPath implementation. Removals are only supported in the form of a ClassPath.\r\n\r\nThere are 4 supplied implementations of ClassPath:\r\n\r\n 1. ByteArrayClassPath: Supply the byte code and class name\r\n 2. ClassClassPath: Supply the Java class\r\n 3. LoaderClassPath: Supply a classloader\r\n 4. URLClassPath: Supply a URL\r\n\r\n\r\n\r\n  [1]: http://www.javassist.org/html/javassist/ClassPool.html\r\n  [2]: http://www.javassist.org/html/javassist/ClassPath.html","title":"get CtClass using specific ClassLoader","body":"<p><a href=\"http://www.javassist.org/html/javassist/ClassPool.html\" rel=\"nofollow noreferrer\">ClassPool</a> supports inserting, appending and removing <a href=\"http://www.javassist.org/html/javassist/ClassPath.html\" rel=\"nofollow noreferrer\">ClassPath</a>s.\nThe ClassPath can be inserted and added in the form of a String or a ClassPath implementation. Removals are only supported in the form of a ClassPath.</p>\n\n<p>There are 4 supplied implementations of ClassPath:</p>\n\n<ol>\n<li>ByteArrayClassPath: Supply the byte code and class name</li>\n<li>ClassClassPath: Supply the Java class</li>\n<li>LoaderClassPath: Supply a classloader</li>\n<li>URLClassPath: Supply a URL</li>\n</ol>\n"}],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60792151,"answer_count":1,"score":2,"last_activity_date":1692816120,"creation_date":1584806018,"question_id":60789950,"body_markdown":"I have a class structure like this:\r\n\r\n```java\r\npackage com.mydomain.myproject;\r\npublic class Outer{\r\n    public class Inner{\r\n        //some code\r\n    }\r\n}\r\n```\r\nNow, I can get a `CtClass` of the inner class using:\r\n```java\r\nClassPool pool=ClassPool.getDefault();\r\nCtClass innerCt=pool.getCtClass(&quot;com.mydomain.myproject.Outer$Inner&quot;);\r\n```\r\n\r\nThe problem occurs if those classes are loaded by a special `ClassLoader`.\r\n\r\n`ClassPool#getCtClass` fails because the `ClassLoader` it uses doesn&#39;t know of the class.\r\n\r\nI get the following exception:\r\n\r\n```\r\njavassist.NotFoundException: com.mydomain.myproject.Outer$Inner\r\n    at javassist.ClassPool.get(ClassPool.java:430)\r\n    at javassist.ClassPool.getCtClass(ClassPool.java:495)\r\n    at &lt;my classes&gt;\r\n```\r\n\r\nHow can I specify the `ClassLoader` for `ClassPool#getCtClass`? Can I somehow set the class loader of the `ClassPool`? I noticed that there is a `getClassLoader()` method but there doesn&#39;t seem to be a setter.","title":"get CtClass using specific ClassLoader","body":"<p>I have a class structure like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mydomain.myproject;\npublic class Outer{\n    public class Inner{\n        //some code\n    }\n}\n</code></pre>\n<p>Now, I can get a <code>CtClass</code> of the inner class using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassPool pool=ClassPool.getDefault();\nCtClass innerCt=pool.getCtClass(&quot;com.mydomain.myproject.Outer$Inner&quot;);\n</code></pre>\n<p>The problem occurs if those classes are loaded by a special <code>ClassLoader</code>.</p>\n<p><code>ClassPool#getCtClass</code> fails because the <code>ClassLoader</code> it uses doesn't know of the class.</p>\n<p>I get the following exception:</p>\n<pre><code>javassist.NotFoundException: com.mydomain.myproject.Outer$Inner\n    at javassist.ClassPool.get(ClassPool.java:430)\n    at javassist.ClassPool.getCtClass(ClassPool.java:495)\n    at &lt;my classes&gt;\n</code></pre>\n<p>How can I specify the <code>ClassLoader</code> for <code>ClassPool#getCtClass</code>? Can I somehow set the class loader of the <code>ClassPool</code>? I noticed that there is a <code>getClassLoader()</code> method but there doesn't seem to be a setter.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":362220,"reputation":604,"user_id":705296,"display_name":"Joe Sadoski"},"score":0,"creation_date":1692996511,"post_id":76957944,"comment_id":135706509,"body_markdown":"Please post code in a formatted code block, not a screenshot: [How do I format my code blocks?](https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks)","body":"Please post code in a formatted code block, not a screenshot: <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\">How do I format my code blocks?</a>"}],"owner":{"account_id":29271831,"reputation":1,"user_id":22426417,"display_name":"LinQsa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692816099,"creation_date":1692758784,"question_id":76957944,"body_markdown":"when it use `@requestpart` annotation it yields the error\r\n\r\n&gt;  No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])\r\n\r\nWhen I use `@requestparam` annotation it yields the error `Current request is not a multipart request`\r\n\r\nHow do I resolve this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pna61.png","title":"spring cloud openfeign upload file error, how to solve?","body":"<p>when it use <code>@requestpart</code> annotation it yields the error</p>\n<blockquote>\n<p>No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])</p>\n</blockquote>\n<p>When I use <code>@requestparam</code> annotation it yields the error <code>Current request is not a multipart request</code></p>\n<p>How do I resolve this?</p>\n<p><a href=\"https://i.stack.imgur.com/Pna61.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pna61.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2450090,"reputation":4212,"user_id":2136603,"accept_rate":45,"display_name":"Mubin"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1398178255,"creation_date":1398178255,"answer_id":23222960,"question_id":23222632,"body_markdown":"The hibernate property names in the configuration file are case sensitive.\r\n\r\n    &lt;property name=&quot;hibernate.connection.URL&quot;&gt;\r\n\r\nshould be \r\n\r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;","title":"java.lang.UnsupportedOperationException: The application must supply JDBC connections","body":"<p>The hibernate property names in the configuration file are case sensitive.</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.URL\"&gt;\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>&lt;property name=\"hibernate.connection.url\"&gt;\n</code></pre>\n"}],"owner":{"account_id":4208481,"reputation":666,"user_id":3446851,"accept_rate":61,"display_name":"ysfseu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58836,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":23222960,"answer_count":1,"score":26,"last_activity_date":1692815958,"creation_date":1398177424,"question_id":23222632,"body_markdown":"I wrote some code to test my configuration of Hibernate. But I come across an error message:\r\n\r\n    java.lang.UnsupportedOperationException: The application must supply JDBC connections\r\n\tat org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:61)\r\n\tat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:380)\r\n\tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:228)\r\n\tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:171)\r\n\tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67)\r\n\tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:162)\r\n\tat org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1435)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:356)\r\n\tat com.sun.proxy.$Proxy0.beginTransaction(Unknown Source)\r\nMy file structure is like below:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    src\r\n    ---test\r\n    -------Test.java(with main function)\r\n    -------User.java\r\n    -------User.hbm.xml\r\n    ----hibernate.cfg.xml\r\nThis is not a web application, it&#39;s just an ordinary java project. The hibernate.cfg.xml is like below:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n        &lt;hibernate-configuration&gt;\r\n    \r\n        &lt;session-factory&gt;\r\n            &lt;!-- Configure MySQL --&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n    \t    &lt;property name=&quot;hibernate.connection.URL&quot;&gt;jdbc:mysql://localhost:3306/mags&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;bysjysf&lt;/property&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \t    &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n       \t    &lt;!-- Mapping Files --&gt;\r\n    \t    &lt;mapping resource=&quot;test/User.hbm.xml&quot; /&gt;\r\n        &lt;/session-factory&gt;\r\n      \r\n    &lt;/hibernate-configuration&gt;\r\n\r\nThe code in main function is like below:\r\n\r\n&lt;!-- language: java --&gt;\r\n    public static void main(String[] args) {\r\n\t\tConfiguration cfg = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);         \r\n\t    StandardServiceRegistryBuilder sb = new StandardServiceRegistryBuilder();\r\n\t    sb.applySettings(cfg.getProperties());\r\n\t    StandardServiceRegistry standardServiceRegistry = sb.build();                   \r\n\t    SessionFactory sessionFactory = cfg.buildSessionFactory(standardServiceRegistry);\r\n\t    Session session = sessionFactory.getCurrentSession();\r\n\t    System.out.println(session);\r\n\t\tTransaction tx = session.beginTransaction();\r\n\t\tUser user = new User();\r\n\t\tuser.setPassword(&quot;aaaa&quot;);\r\n\t\tuser.setUsername(&quot;ysf&quot;);\r\n\t\tuser.setAuthority(1);\r\n\t\tsession.save(user);\r\n\t\ttx.commit();\r\n\t\tsession.close();\r\n\t}\r\n\r\n\r\nAccording the error message, the error occurred in \r\n`Transaction tx = session.beginTransaction();`\r\n\r\nI am a new user for Hibernate, and I have checked my configuration file many times. Could anyone help to figure out what the problem is? Thanks!\r\n\r\nThe Hibernate version is 4.3.5","title":"java.lang.UnsupportedOperationException: The application must supply JDBC connections","body":"<p>I wrote some code to test my configuration of Hibernate. But I come across an error message:</p>\n<pre><code>java.lang.UnsupportedOperationException: The application must supply JDBC connections\nat org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:61)\nat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:380)\nat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:228)\nat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:171)\nat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67)\nat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:162)\nat org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1435)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:356)\nat com.sun.proxy.$Proxy0.beginTransaction(Unknown Source)\n</code></pre>\n<p>My file structure is like below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>src\n---test\n-------Test.java(with main function)\n-------User.java\n-------User.hbm.xml\n----hibernate.cfg.xml\n</code></pre>\n<p>This is not a web application, it's just an ordinary java project. The hibernate.cfg.xml is like below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n    &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n    &lt;hibernate-configuration&gt;\n\n    &lt;session-factory&gt;\n        &lt;!-- Configure MySQL --&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.URL&quot;&gt;jdbc:mysql://localhost:3306/mags&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;bysjysf&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        &lt;!-- Mapping Files --&gt;\n        &lt;mapping resource=&quot;test/User.hbm.xml&quot; /&gt;\n    &lt;/session-factory&gt;\n  \n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>The code in main function is like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Configuration cfg = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);         \n    StandardServiceRegistryBuilder sb = new StandardServiceRegistryBuilder();\n    sb.applySettings(cfg.getProperties());\n    StandardServiceRegistry standardServiceRegistry = sb.build();                   \n    SessionFactory sessionFactory = cfg.buildSessionFactory(standardServiceRegistry);\n    Session session = sessionFactory.getCurrentSession();\n    System.out.println(session);\n    Transaction tx = session.beginTransaction();\n    User user = new User();\n    user.setPassword(&quot;aaaa&quot;);\n    user.setUsername(&quot;ysf&quot;);\n    user.setAuthority(1);\n    session.save(user);\n    tx.commit();\n    session.close();\n}\n</code></pre>\n<p>According the error message, the error occurred in\n<code>Transaction tx = session.beginTransaction();</code></p>\n<p>I am a new user for Hibernate, and I have checked my configuration file many times. Could anyone help to figure out what the problem is? Thanks!</p>\n<p>The Hibernate version is 4.3.5</p>\n"},{"tags":["java","hibernate","jpa","collections","one-to-many"],"answers":[{"tags":[],"owner":{"account_id":1578983,"reputation":22251,"user_id":1464763,"display_name":"David Levesque"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1387829525,"creation_date":1387828413,"answer_id":20750258,"question_id":20749806,"body_markdown":"You are most likely getting duplicates because when using fetch=FetchType.EAGER, Hibernate [uses an outer join][1] to fetch the data in the joined table.\r\n\r\nTry removing the eager fetching to confirm. If it is the case, you should either remove the eager fetching, keep a Set instead of a List, or write a JPQL query to retrieve exactly what you need.\r\n\r\nFrom [Hibernate doc][1]:\r\n\r\n&gt; The recommanded approach is to use LAZY on all static fetching\r\n&gt; definitions and override this choice dynamically through JP-QL.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-association-fetching","title":"Duplicates in OneToMany annotated List","body":"<p>You are most likely getting duplicates because when using fetch=FetchType.EAGER, Hibernate <a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-association-fetching\" rel=\"noreferrer\">uses an outer join</a> to fetch the data in the joined table.</p>\n\n<p>Try removing the eager fetching to confirm. If it is the case, you should either remove the eager fetching, keep a Set instead of a List, or write a JPQL query to retrieve exactly what you need.</p>\n\n<p>From <a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-association-fetching\" rel=\"noreferrer\">Hibernate doc</a>:</p>\n\n<blockquote>\n  <p>The recommanded approach is to use LAZY on all static fetching\n  definitions and override this choice dynamically through JP-QL.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11270646,"reputation":405,"user_id":8266206,"display_name":"Charden Daxicen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692815863,"creation_date":1692815863,"answer_id":76964084,"question_id":20749806,"body_markdown":"I used Set&lt;T&gt; after noticing it in @Paramvir Singh&#39;s comment.\r\nIt prevented the duplicates records\r\n\r\n    public class User  {\r\n      \r\n        @OneToMany(fetch = FetchType.EAGER)\r\n        private Set&lt;Role&gt; roles;\r\n        \r\n    }","title":"Duplicates in OneToMany annotated List","body":"<p>I used Set after noticing it in @Paramvir Singh's comment.\nIt prevented the duplicates records</p>\n<pre><code>public class User  {\n  \n    @OneToMany(fetch = FetchType.EAGER)\n    private Set&lt;Role&gt; roles;\n    \n}\n</code></pre>\n"}],"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9836,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":20750258,"answer_count":2,"score":11,"last_activity_date":1692815863,"creation_date":1387826296,"question_id":20749806,"body_markdown":"I&#39;m working on a Java project using JPA 2 + Hibernate 4.2.6 and I&#39;m getting a strange behaviour.\r\n\r\nIn my model I have two related entites: `Question` and `Answer`\r\n\r\n\t@Entity\r\n\tpublic class Question {\r\n\t\t// ...\r\n\r\n\t\t@OneToMany(mappedBy = &quot;question&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t\tprivate Set&lt;Answer&gt; answers;\r\n\t\t\r\n\t\t// ...\r\n\t}\r\n\r\n\r\n\t@Entity\r\n\tpublic class Answer {\r\n\t\t// ...\r\n\r\n\t\t@ManyToOne(optional = false)\r\n\t\t@JoinColumn(name = &quot;question_id&quot;, nullable = false)\r\n\t\tprivate Question question;\r\n\t\t\r\n\t\t// ...\r\n\t}\r\n\r\nThis works perfectly: all `Answer`s related to a certain `Question` are loaded correctly.\r\n\r\nBut now I need to change the tipe of `answers` collecton from `Set` to `List`. I changed the type and ran the application again and now I get several duplicates in `answers`...\r\nWhy is it possible? I know that `List` allows duplicates, but there are no duplicate records in my DB, so why I get these?\r\n\r\nI read about some similar bugs in previous version of Hibernate, but I expect they are solved in last version... am I wrong?\r\n\r\n**NOTE** I need to change `Set` into `List` because I need to keep information about the **order** for answers and, possibly, to change this order.","title":"Duplicates in OneToMany annotated List","body":"<p>I'm working on a Java project using JPA 2 + Hibernate 4.2.6 and I'm getting a strange behaviour.</p>\n\n<p>In my model I have two related entites: <code>Question</code> and <code>Answer</code></p>\n\n<pre><code>@Entity\npublic class Question {\n    // ...\n\n    @OneToMany(mappedBy = \"question\", cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private Set&lt;Answer&gt; answers;\n\n    // ...\n}\n\n\n@Entity\npublic class Answer {\n    // ...\n\n    @ManyToOne(optional = false)\n    @JoinColumn(name = \"question_id\", nullable = false)\n    private Question question;\n\n    // ...\n}\n</code></pre>\n\n<p>This works perfectly: all <code>Answer</code>s related to a certain <code>Question</code> are loaded correctly.</p>\n\n<p>But now I need to change the tipe of <code>answers</code> collecton from <code>Set</code> to <code>List</code>. I changed the type and ran the application again and now I get several duplicates in <code>answers</code>...\nWhy is it possible? I know that <code>List</code> allows duplicates, but there are no duplicate records in my DB, so why I get these?</p>\n\n<p>I read about some similar bugs in previous version of Hibernate, but I expect they are solved in last version... am I wrong?</p>\n\n<p><strong>NOTE</strong> I need to change <code>Set</code> into <code>List</code> because I need to keep information about the <strong>order</strong> for answers and, possibly, to change this order.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":2,"creation_date":1663567235,"post_id":73768918,"comment_id":130261353,"body_markdown":"why don&#39;t you just change your custom RedisConfig class name to something else?","body":"why don&#39;t you just change your custom RedisConfig class name to something else?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663597958,"post_id":73768918,"comment_id":130271402,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663667212,"creation_date":1663667212,"answer_id":73784708,"question_id":73768918,"body_markdown":"You can name your bean:\r\n```Java\r\n@Bean(name = &quot;anotherRedisConfig&quot;)\r\n```\r\nor easier:\r\n```Java\r\n@Bean(&quot;anotherRedisConfig&quot;)\r\n```","title":"The bean conflicts in Spring. How to solve this questionï¼Ÿ","body":"<p>You can name your bean:</p>\n<pre><code>@Bean(name = &quot;anotherRedisConfig&quot;)\n</code></pre>\n<p>or easier:</p>\n<pre><code>@Bean(&quot;anotherRedisConfig&quot;)\n</code></pre>\n"}],"owner":{"account_id":25755118,"reputation":1,"user_id":19506939,"display_name":"BIGSHAOSHI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692815789,"creation_date":1663566112,"question_id":73768918,"body_markdown":"**question:**\r\nA dependency of a project has a class with the same name as the class contained in the project itself, thus causing a conflict. How do I fix this?\r\n\r\n```\r\n2022-09-19 13:32:21,109 main ERROR o.s.boot.SpringApplication858  - Application run failed\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.learnyeai.BaseApiApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;redisConfig&#39; for bean class [com.learnyeai.common.redis.RedisConfig] conflicts with existing, non-compatible bean definition of same name and class [com.learnyeai.jsstudy.config.RedisConfig]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:181)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:315)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\r\n\tat com.learnyeai.BaseApiApplication.main(BaseApiApplication.java:18)\r\nCaused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;redisConfig&#39; for bean class [com.learnyeai.common.redis.RedisConfig] conflicts with existing, non-compatible bean definition of same name and class [com.learnyeai.jsstudy.config.RedisConfig]\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:348)\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:286)\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:287)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:242)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:167)\r\n\t... 13 common frames omitted\r\n```\r\n\r\n[com.learnyeai.common.redis.RedisConfig][1]\r\n\r\n[com.learnyeai.jsstudy.config.RedisConfig][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DuW3O.png\r\n  [2]: https://i.stack.imgur.com/O6UUW.png","title":"The bean conflicts in Spring. How to solve this questionï¼Ÿ","body":"<p><strong>question:</strong>\nA dependency of a project has a class with the same name as the class contained in the project itself, thus causing a conflict. How do I fix this?</p>\n<pre><code>2022-09-19 13:32:21,109 main ERROR o.s.boot.SpringApplication858  - Application run failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.learnyeai.BaseApiApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'redisConfig' for bean class [com.learnyeai.common.redis.RedisConfig] conflicts with existing, non-compatible bean definition of same name and class [com.learnyeai.jsstudy.config.RedisConfig]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:181)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:315)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n    at com.learnyeai.BaseApiApplication.main(BaseApiApplication.java:18)\nCaused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'redisConfig' for bean class [com.learnyeai.common.redis.RedisConfig] conflicts with existing, non-compatible bean definition of same name and class [com.learnyeai.jsstudy.config.RedisConfig]\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:348)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:286)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:287)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:242)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:167)\n    ... 13 common frames omitted\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DuW3O.png\" rel=\"nofollow noreferrer\">com.learnyeai.common.redis.RedisConfig</a></p>\n<p><a href=\"https://i.stack.imgur.com/O6UUW.png\" rel=\"nofollow noreferrer\">com.learnyeai.jsstudy.config.RedisConfig</a></p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"down_vote_count":0,"up_vote_count":124,"is_accepted":true,"score":124,"last_activity_date":1334652330,"creation_date":1334652330,"answer_id":10187954,"question_id":10186662,"body_markdown":"As that mailing list post said\r\n\r\n&gt;Invoking [`HSSFWorkbook.getBytes()`][1] does not return all of the data necessary to re-\r\nconstruct a complete Excel file.\r\n\r\nYou can use the write method with a [`ByteArrayOutputStream`][2] to get at the byte array.\r\n\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    try {\r\n        workbook.write(bos);\r\n    } finally {\r\n        bos.close();\r\n    }\r\n    byte[] bytes = bos.toByteArray();\r\n\r\n(The `close` call is not really needed for a `ByteArrayOutputStream`, but imho it is good style to include anyway in case its later changed to a different kind of stream.)\r\n\r\n [1]: http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes()\r\n [2]: http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html","title":"How can I convert POI HSSFWorkbook to bytes?","body":"<p>As that mailing list post said</p>\n\n<blockquote>\n  <p>Invoking <a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes%28%29\"><code>HSSFWorkbook.getBytes()</code></a> does not return all of the data necessary to re-\n  construct a complete Excel file.</p>\n</blockquote>\n\n<p>You can use the write method with a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html\"><code>ByteArrayOutputStream</code></a> to get at the byte array.</p>\n\n<pre><code>ByteArrayOutputStream bos = new ByteArrayOutputStream();\ntry {\n    workbook.write(bos);\n} finally {\n    bos.close();\n}\nbyte[] bytes = bos.toByteArray();\n</code></pre>\n\n<p>(The <code>close</code> call is not really needed for a <code>ByteArrayOutputStream</code>, but imho it is good style to include anyway in case its later changed to a different kind of stream.)</p>\n"},{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1334652338,"creation_date":1334652338,"answer_id":10187958,"question_id":10186662,"body_markdown":"How about:\r\n\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    workbook.write(baos);\r\n    byte[] xls = baos.toByteArray();\r\n\r\nIn order to get a full excel file out, you must call the write(OutputStream) method. If you want bytes from that, just give a ByteArrayOutputStream","title":"How can I convert POI HSSFWorkbook to bytes?","body":"<p>How about:</p>\n\n<pre><code>ByteArrayOutputStream baos = new ByteArrayOutputStream();\nworkbook.write(baos);\nbyte[] xls = baos.toByteArray();\n</code></pre>\n\n<p>In order to get a full excel file out, you must call the write(OutputStream) method. If you want bytes from that, just give a ByteArrayOutputStream</p>\n"}],"owner":{"account_id":200821,"reputation":4765,"user_id":446885,"accept_rate":93,"display_name":"Shahzeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89946,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":10187954,"answer_count":2,"score":60,"last_activity_date":1692815717,"creation_date":1334646254,"question_id":10186662,"body_markdown":"Calling Simple [`toBytes()`][1] does produce the bytes, but Excel throws Warning.\r\n\r\n&gt; Lost Document information\r\n\r\n\r\nGoogling around gave me this [link][2] and looking at [Javadocs][3] for worksheet and POI [HOW-TO][4] say similar things. Basically, I cannot get `Bytes` without losing some information and should use the `write` method instead.\r\n\r\nWhile write does work fine, I really need to send the bytes over. Is there any way I can do that? That is, get the bytes without getting any warning.\r\n\r\n\r\n  [1]: http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes%28%29\r\n  [2]: http://mail-archives.apache.org/mod_mbox/poi-user/200610.mbox/%3Cloom.20061017T235349-739@post.gmane.org%3E\r\n  [3]: http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes%28%29\r\n  [4]: http://poi.apache.org/hpsf/how-to.html","title":"How can I convert POI HSSFWorkbook to bytes?","body":"<p>Calling Simple <a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes%28%29\" rel=\"nofollow noreferrer\"><code>toBytes()</code></a> does produce the bytes, but Excel throws Warning.</p>\n<blockquote>\n<p>Lost Document information</p>\n</blockquote>\n<p>Googling around gave me this <a href=\"http://mail-archives.apache.org/mod_mbox/poi-user/200610.mbox/%3Cloom.20061017T235349-739@post.gmane.org%3E\" rel=\"nofollow noreferrer\">link</a> and looking at <a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes%28%29\" rel=\"nofollow noreferrer\">Javadocs</a> for worksheet and POI <a href=\"http://poi.apache.org/hpsf/how-to.html\" rel=\"nofollow noreferrer\">HOW-TO</a> say similar things. Basically, I cannot get <code>Bytes</code> without losing some information and should use the <code>write</code> method instead.</p>\n<p>While write does work fine, I really need to send the bytes over. Is there any way I can do that? That is, get the bytes without getting any warning.</p>\n"},{"tags":["java","android","networking","hostname","local-network"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1692816193,"post_id":76964069,"comment_id":135677039,"body_markdown":"What O/S do the laptops run?  How is your DNS setup?  At a guess you&#39;ve got a Microsoft environment and Windows is hiding some of the complexity of the network domain.","body":"What O/S do the laptops run?  How is your DNS setup?  At a guess you&#39;ve got a Microsoft environment and Windows is hiding some of the complexity of the network domain."},{"owner":{"account_id":28985227,"reputation":119,"user_id":22202172,"display_name":"Dharun"},"score":0,"creation_date":1693060024,"post_id":76964069,"comment_id":135711497,"body_markdown":"It is running windows 11 and I don&#39;t have any specific DNS setup","body":"It is running windows 11 and I don&#39;t have any specific DNS setup"},{"owner":{"account_id":5802164,"reputation":83,"user_id":4576016,"display_name":"michalp"},"score":0,"creation_date":1699456626,"post_id":76964069,"comment_id":136534191,"body_markdown":"Have you found cause for that? Not sure if my problem is similar, but I&#39;m getting similar exception only when using cellular network. On WiFi all connection are working correctly..","body":"Have you found cause for that? Not sure if my problem is similar, but I&#39;m getting similar exception only when using cellular network. On WiFi all connection are working correctly.."}],"owner":{"account_id":28985227,"reputation":119,"user_id":22202172,"display_name":"Dharun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1692815665,"creation_date":1692815665,"question_id":76964069,"body_markdown":"I&#39;ve been working on project that uses the Hostname of the device connected to a local network and resolve it into ip address.But the problem is android cannot resolve the hostname of the device connected to the same local network\r\n\r\n\r\n\r\n```\r\n   protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        new Thread( ()-&gt;{\r\n            try {\r\n                System.out.println(InetAddress.getByName(&quot;LAPJA&quot;).getHostAddress());.\r\n            } catch (UnknownHostException e) {\r\n                System.out.println(&quot;Cannot find the specified host&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n \r\n```\r\n\r\n\r\noutput:\r\n\r\n```\r\nW/System.err: java.net.UnknownHostException: Unable to resolve host &quot;LAPJA&quot;: No address associated with hostname\r\nW/System.err:     at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\r\nW/System.err:     at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\r\nW/System.err:     at java.net.InetAddress.getByName(InetAddress.java:1106)\r\nW/System.err:     at com.example.hostname.MainActivity.lambda$onCreate$0(MainActivity.java:42)\r\nW/System.err:     at com.example.hostname.MainActivity$$ExternalSyntheticLambda0.run(Unknown Source:0)\r\nW/System.err:     at java.lang.Thread.run(Thread.java:923)\r\nW/System.err: Caused by: android.system.GaiException: android_getaddrinfo failed: EAI_NODATA (No address associated with hostname)\r\nW/System.err:     at libcore.io.Linux.android_getaddrinfo(Native Method)\r\nW/System.err:     at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\r\nW/System.err:     at libcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:202)\r\nW/System.err:     at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\r\nW/System.err:     at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\r\nW/System.err: \t... 5 more\r\n```\r\n\r\nThe same program works well on laptops but throws error in when ran in android (physical device not emulator)\r\n\r\n\r\nnote: Android manifest contains \r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```","title":"Cannot resolve Ip address using hostname in android?","body":"<p>I've been working on project that uses the Hostname of the device connected to a local network and resolve it into ip address.But the problem is android cannot resolve the hostname of the device connected to the same local network</p>\n<pre><code>   protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        new Thread( ()-&gt;{\n            try {\n                System.out.println(InetAddress.getByName(&quot;LAPJA&quot;).getHostAddress());.\n            } catch (UnknownHostException e) {\n                System.out.println(&quot;Cannot find the specified host&quot;);\n                e.printStackTrace();\n            }\n        }).start();\n \n</code></pre>\n<p>output:</p>\n<pre><code>W/System.err: java.net.UnknownHostException: Unable to resolve host &quot;LAPJA&quot;: No address associated with hostname\nW/System.err:     at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\nW/System.err:     at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\nW/System.err:     at java.net.InetAddress.getByName(InetAddress.java:1106)\nW/System.err:     at com.example.hostname.MainActivity.lambda$onCreate$0(MainActivity.java:42)\nW/System.err:     at com.example.hostname.MainActivity$$ExternalSyntheticLambda0.run(Unknown Source:0)\nW/System.err:     at java.lang.Thread.run(Thread.java:923)\nW/System.err: Caused by: android.system.GaiException: android_getaddrinfo failed: EAI_NODATA (No address associated with hostname)\nW/System.err:     at libcore.io.Linux.android_getaddrinfo(Native Method)\nW/System.err:     at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\nW/System.err:     at libcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:202)\nW/System.err:     at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\nW/System.err:     at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\nW/System.err:   ... 5 more\n</code></pre>\n<p>The same program works well on laptops but throws error in when ran in android (physical device not emulator)</p>\n<p>note: Android manifest contains</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n"},{"tags":["java","json","maven","intellij-idea","javafx"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1692816396,"post_id":76964068,"comment_id":135677071,"body_markdown":"Share the code showing which imports/classes you are trying to use. There are different JSON libraries and you may be using not the one you added to the dependencies.","body":"Share the code showing which imports/classes you are trying to use. There are different JSON libraries and you may be using not the one you added to the dependencies."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1692816813,"post_id":76964068,"comment_id":135677149,"body_markdown":"Did you update `module-info.java`?","body":"Did you update <code>module-info.java</code>?"},{"owner":{"account_id":20201964,"reputation":1,"user_id":14817428,"display_name":"randomdude"},"score":2,"creation_date":1692891567,"post_id":76964068,"comment_id":135688583,"body_markdown":"@SedJ601 I love you my guy, thank you so much. While I have worked with maven before, I had no idea what the module-info.java did. Thanks, it works now","body":"@SedJ601 I love you my guy, thank you so much. While I have worked with maven before, I had no idea what the module-info.java did. Thanks, it works now"}],"owner":{"account_id":20201964,"reputation":1,"user_id":14817428,"display_name":"randomdude"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692815665,"creation_date":1692815665,"question_id":76964068,"body_markdown":"I have an issue where even if I add the dependency to the pom.xml and try importing the library it just shows errors. The dependency gets added, but I still cant use it in the classes. This is not my first maven project, nor my first time adding a dependency. I have other dependencies that work well. I have tried multiple json libraries, I have looked up a few questions here that have similar problems, but none seem to solve my issue. \r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.zoohandlung&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Main&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;ZoohandlungInfoLK&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n&lt;junit.version&gt;5.9.2&lt;/junit.version&gt;  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n-The new added dependency:\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n-\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;20&lt;/source&gt;\r\n          &lt;target&gt;20&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.8&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"Added Maven json-simple maven dependency, reloaded maven, still cant use the library in the project","body":"<p>I have an issue where even if I add the dependency to the pom.xml and try importing the library it just shows errors. The dependency gets added, but I still cant use it in the classes. This is not my first maven project, nor my first time adding a dependency. I have other dependencies that work well. I have tried multiple json libraries, I have looked up a few questions here that have similar problems, but none seem to solve my issue.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.zoohandlung&lt;/groupId&gt;\n  &lt;artifactId&gt;Main&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;ZoohandlungInfoLK&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;junit.version&gt;5.9.2&lt;/junit.version&gt;  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;20&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n-The new added dependency:\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n      &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n      &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n-\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;20&lt;/source&gt;\n          &lt;target&gt;20&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":14662806,"reputation":367,"user_id":10833767,"display_name":"Udhayakumar"},"score":0,"creation_date":1572951756,"post_id":58709907,"comment_id":103713761,"body_markdown":"i want to select if hashmap object have null value","body":"i want to select if hashmap object have null value"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1572960180,"post_id":58709907,"comment_id":103717927,"body_markdown":"If you are just interested in one key `&quot;parent_item_id&quot;`, don&#39;t stream the whole `entrySet`. If you want to test if it exists in the hashmap with the value null, write `h -&gt; h.containsKey(&quot;parent_item_id&quot;) &amp;&amp; h.get(&quot;parent_item_id&quot;) == null` for your filter lambda.","body":"If you are just interested in one key <code>&quot;parent_item_id&quot;</code>, don&#39;t stream the whole <code>entrySet</code>. If you want to test if it exists in the hashmap with the value null, write <code>h -&gt; h.containsKey(&quot;parent_item_id&quot;) &amp;&amp; h.get(&quot;parent_item_id&quot;) == null</code> for your filter lambda."}],"answers":[{"tags":[],"owner":{"account_id":4713858,"reputation":223,"user_id":3813606,"accept_rate":50,"display_name":"Reger05"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573042626,"creation_date":1572963070,"answer_id":58713166,"question_id":58709907,"body_markdown":"It you are just trying to reduce your list of hashmaps based on the presence of a value being == to 0 this will do the job. However, mapping with String, Object makes it seem like you really should be creating an object instead of a map. \r\n\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\r\n                .filter(hashmap -&gt; hashmap.containsKey(&quot;parent_item_id&quot;))\r\n                .filter(hashmap -&gt; (Integer) hashmap.get(&quot;parent_item_id&quot;) == 0)\r\n                .collect(Collectors.toList());\r\n```\r\n\r\nBased on your snippet above I am assuming parent_item_id is an integer. Another reason to switch whatever is in your map to an actual object instead of trying to model it in a map where we have to guess which type each of your values are. ","title":"How use stream filter for list of hashmap? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>It you are just trying to reduce your list of hashmaps based on the presence of a value being == to 0 this will do the job. However, mapping with String, Object makes it seem like you really should be creating an object instead of a map. </p>\n\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\n                .filter(hashmap -&gt; hashmap.containsKey(\"parent_item_id\"))\n                .filter(hashmap -&gt; (Integer) hashmap.get(\"parent_item_id\") == 0)\n                .collect(Collectors.toList());\n</code></pre>\n\n<p>Based on your snippet above I am assuming parent_item_id is an integer. Another reason to switch whatever is in your map to an actual object instead of trying to model it in a map where we have to guess which type each of your values are. </p>\n"},{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573053080,"creation_date":1572969321,"answer_id":58715007,"question_id":58709907,"body_markdown":"Well the question is not clear, hence another solution for filtering maps with `null`:\r\n\r\n    // If you are sure the key &quot;parent_item_id&quot; exists:\r\n    List&lt;HashMap&lt;String, Object&gt;&gt; reducedList = \r\n            access_collections.stream()\r\n                              .filter(m -&gt; m.get(&quot;parent_item_id&quot;) == null)\r\n                              .collect(toList());\r\n\r\n    // If you are not sure then:\r\n    List&lt;HashMap&lt;String, Object&gt;&gt; reducedList = \r\n            access_collections.stream()\r\n                              .filter(m -&gt; m.containsKey(&quot;parent_item_id&quot;) &amp;&amp; m.get(&quot;parent_item_id&quot;) == null)\r\n                              .collect(toList());","title":"How use stream filter for list of hashmap? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>Well the question is not clear, hence another solution for filtering maps with <code>null</code>:</p>\n\n<pre><code>// If you are sure the key \"parent_item_id\" exists:\nList&lt;HashMap&lt;String, Object&gt;&gt; reducedList = \n        access_collections.stream()\n                          .filter(m -&gt; m.get(\"parent_item_id\") == null)\n                          .collect(toList());\n\n// If you are not sure then:\nList&lt;HashMap&lt;String, Object&gt;&gt; reducedList = \n        access_collections.stream()\n                          .filter(m -&gt; m.containsKey(\"parent_item_id\") &amp;&amp; m.get(\"parent_item_id\") == null)\n                          .collect(toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16249442,"reputation":4026,"user_id":11733759,"display_name":"lczapski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575403834,"creation_date":1575367337,"answer_id":59154485,"question_id":58709907,"body_markdown":"Similar to other but you can use `Predicate`.\r\n```java\r\nPredicate&lt;HashMap&lt;String, Object&gt;&gt; containsKey = hashmap -&gt; hashmap.containsKey(&quot;parent_item_id&quot;);\r\nPredicate&lt;HashMap&lt;String, Object&gt;&gt; isNull = hashmap -&gt; hashmap.get(&quot;parent_item_id&quot;) == null;\r\n\r\nList&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\r\n        .filter(containsKey.and(isNull))\r\n        .collect(Collectors.toList());\r\n```\r\nOr you can use this predicat during `while (rs.next()) {` and:\r\n```java\r\nif (containsKey.and(isNull).test(returndatas)) {\r\n    resultslist.add(returndatas);\r\n}\r\n```\r\n### UPDATE\r\nBelow is only generalization that may blur the first solution (as exercise that not added anything to solution):\r\nChange `Predicate` to `BiPredicate` and have more generic solution.\r\n```java\r\nBiPredicate&lt;String, HashMap&lt;String, Object&gt;&gt; containsKey = \r\n        (label, hashmap) -&gt; hashmap.containsKey(label);\r\nBiPredicate&lt;String, HashMap&lt;String, Object&gt;&gt; isNull = \r\n        (label, hashmap) -&gt; hashmap.get(label) == null;\r\n\r\nFunction&lt;String, Predicate&lt;HashMap&lt;String, Object&gt;&gt;&gt; checkFor =\r\n        (label) -&gt; (hashmap) -&gt; containsKey.and(isNull).test(label, hashmap);\r\n\r\nPredicate&lt;HashMap&lt;String, Object&gt;&gt; checkParentItemId = checkFor.apply(&quot;parent_item_id&quot;);\r\n\r\nList&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\r\n        .filter(checkParentItemId)\r\n        .collect(Collectors.toList());\r\n```\r\nand\r\n```java\r\nif (checkFor.apply(&quot;parent_item_id&quot;).test(returndatas)) {\r\n    resultslist.add(returndatas);\r\n}\r\n```","title":"How use stream filter for list of hashmap? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>Similar to other but you can use <code>Predicate</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Predicate&lt;HashMap&lt;String, Object&gt;&gt; containsKey = hashmap -&gt; hashmap.containsKey(\"parent_item_id\");\nPredicate&lt;HashMap&lt;String, Object&gt;&gt; isNull = hashmap -&gt; hashmap.get(\"parent_item_id\") == null;\n\nList&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\n        .filter(containsKey.and(isNull))\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>Or you can use this predicat during <code>while (rs.next()) {</code> and:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (containsKey.and(isNull).test(returndatas)) {\n    resultslist.add(returndatas);\n}\n</code></pre>\n\n<h3>UPDATE</h3>\n\n<p>Below is only generalization that may blur the first solution (as exercise that not added anything to solution):\nChange <code>Predicate</code> to <code>BiPredicate</code> and have more generic solution.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>BiPredicate&lt;String, HashMap&lt;String, Object&gt;&gt; containsKey = \n        (label, hashmap) -&gt; hashmap.containsKey(label);\nBiPredicate&lt;String, HashMap&lt;String, Object&gt;&gt; isNull = \n        (label, hashmap) -&gt; hashmap.get(label) == null;\n\nFunction&lt;String, Predicate&lt;HashMap&lt;String, Object&gt;&gt;&gt; checkFor =\n        (label) -&gt; (hashmap) -&gt; containsKey.and(isNull).test(label, hashmap);\n\nPredicate&lt;HashMap&lt;String, Object&gt;&gt; checkParentItemId = checkFor.apply(\"parent_item_id\");\n\nList&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\n        .filter(checkParentItemId)\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (checkFor.apply(\"parent_item_id\").test(returndatas)) {\n    resultslist.add(returndatas);\n}\n</code></pre>\n"}],"owner":{"account_id":14662806,"reputation":367,"user_id":10833767,"display_name":"Udhayakumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9177,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1692813645,"creation_date":1572951548,"question_id":58709907,"body_markdown":"I want to filter an array list containing hash maps using the stream API.\r\n\r\n    \r\n    ArrayList&lt;HashMap&lt;String, Object&gt;&gt; resultslist = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();   \r\n    \r\n    \r\n    ResultSet rs = pstmt.executeQuery();\r\n    \r\n    while (rs.next()) {\r\n        HashMap&lt;String, Object&gt; returndatas = new HashMap&lt;String, Object&gt;();\r\n        int colcnt = rs.getMetaData().getColumnCount();\r\n        \r\n        for (int i = 1; i &lt;= colcnt; i++) {\r\n            if (rs.getObject(i) instanceof BigInteger) {\r\n                returndatas.put(rs.getMetaData().getColumnName(i), rs.getInt(i));\r\n            } else {\r\n                returndatas.put(rs.getMetaData().getColumnName(i), rs.getObject(i));\r\n            }\r\n        }\r\n        resultslist.add(returndatas);\r\n    }\r\n    \r\n\r\nThe above method gives the `resultslist`. Now I want to filter this list by some condition and collect a new array list of hash maps.\r\n\r\nFor example, I want to select hash maps that have a &quot;null&quot; value and string have &quot;parent_item_id&quot;.\r\n\r\nI tried the following.\r\n   \r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; reducedList = resultslist .stream()\r\n        .filter((HashMap&lt;String, Object&gt; hasmap) -&gt; hasmap.entrySet().stream().anyMatch(e -&gt; e.getKey().equals(&quot;parent_item_id&quot;) &amp;&amp; e.getValue().equals(0)))\r\n        .collect(Collectors.toList());\r\n\r\n\r\n**Finally, it&#39;s working**\r\n\r\n  I used this. Thankyou for all\r\n\r\n    List&lt;HashMap&lt;String, Object&gt;&gt; reducedList = resultslist.stream()\r\n                        .filter(hashmap -&gt;((hashmap.get(&quot;parent_item_id&quot;)) == null ))\r\n                        .collect(Collectors.toList());","title":"How use stream filter for list of hashmap? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>I want to filter an array list containing hash maps using the stream API.</p>\n\n<pre><code>ArrayList&lt;HashMap&lt;String, Object&gt;&gt; resultslist = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();   \n\n\nResultSet rs = pstmt.executeQuery();\n\nwhile (rs.next()) {\n    HashMap&lt;String, Object&gt; returndatas = new HashMap&lt;String, Object&gt;();\n    int colcnt = rs.getMetaData().getColumnCount();\n\n    for (int i = 1; i &lt;= colcnt; i++) {\n        if (rs.getObject(i) instanceof BigInteger) {\n            returndatas.put(rs.getMetaData().getColumnName(i), rs.getInt(i));\n        } else {\n            returndatas.put(rs.getMetaData().getColumnName(i), rs.getObject(i));\n        }\n    }\n    resultslist.add(returndatas);\n}\n</code></pre>\n\n<p>The above method gives the <code>resultslist</code>. Now I want to filter this list by some condition and collect a new array list of hash maps.</p>\n\n<p>For example, I want to select hash maps that have a \"null\" value and string have \"parent_item_id\".</p>\n\n<p>I tried the following.</p>\n\n<pre><code>    ArrayList&lt;HashMap&lt;String, Object&gt;&gt; reducedList = resultslist .stream()\n    .filter((HashMap&lt;String, Object&gt; hasmap) -&gt; hasmap.entrySet().stream().anyMatch(e -&gt; e.getKey().equals(\"parent_item_id\") &amp;&amp; e.getValue().equals(0)))\n    .collect(Collectors.toList());\n</code></pre>\n\n<p><strong>Finally, it's working</strong></p>\n\n<p>I used this. Thankyou for all</p>\n\n<pre><code>List&lt;HashMap&lt;String, Object&gt;&gt; reducedList = resultslist.stream()\n                    .filter(hashmap -&gt;((hashmap.get(\"parent_item_id\")) == null ))\n                    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","krakend"],"answers":[{"tags":[],"owner":{"account_id":895783,"reputation":1323,"user_id":933110,"display_name":"alo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692813620,"creation_date":1692813620,"answer_id":76963843,"question_id":76961550,"body_markdown":"No, it&#39;s not possible out of the box","title":"Krakend community edition don&#39;t follow redirect","body":"<p>No, it's not possible out of the box</p>\n"}],"owner":{"account_id":1985027,"reputation":672,"user_id":1780517,"display_name":"Vahe Harutyunyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76963843,"answer_count":1,"score":0,"last_activity_date":1692813620,"creation_date":1692795265,"question_id":76961550,"body_markdown":"is it possible to ask Krakend(version 1.3) community edition not follow redirect. \r\n\r\nI know it is possible for Enterprise edtion. \r\nhttps://www.krakend.io/docs/enterprise/backends/client-redirect/\r\n\r\n","title":"Krakend community edition don&#39;t follow redirect","body":"<p>is it possible to ask Krakend(version 1.3) community edition not follow redirect.</p>\n<p>I know it is possible for Enterprise edtion.\n<a href=\"https://www.krakend.io/docs/enterprise/backends/client-redirect/\" rel=\"nofollow noreferrer\">https://www.krakend.io/docs/enterprise/backends/client-redirect/</a></p>\n"},{"tags":["java","docker","tomcat","out-of-memory","amazon-ecs"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1691652098,"post_id":76873432,"comment_id":135520965,"body_markdown":"There are tools to inspect running Java applications and find out such information. From IDE debuggers to Java agents to tools like VisualVM.","body":"There are tools to inspect running Java applications and find out such information. From IDE debuggers to Java agents to tools like VisualVM."},{"owner":{"account_id":10345313,"reputation":330,"user_id":7630468,"display_name":"SwathiP"},"score":0,"creation_date":1691660413,"post_id":76873432,"comment_id":135522647,"body_markdown":"If you started noticing the problem recently, it can be due to many reasons such as new code introduced causes higher usage of heap, update of dependencies, etc. This [post](https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438) might help to understand what consumes memory in a Java process. You might also be interested in [Amazon CodeGuru Profiler](https://aws.amazon.com/blogs/devops/understanding-memory-usage-in-your-java-application-with-amazon-codeguru-profiler/) for profiling live applications.","body":"If you started noticing the problem recently, it can be due to many reasons such as new code introduced causes higher usage of heap, update of dependencies, etc. This <a href=\"https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438\">post</a> might help to understand what consumes memory in a Java process. You might also be interested in <a href=\"https://aws.amazon.com/blogs/devops/understanding-memory-usage-in-your-java-application-with-amazon-codeguru-profiler/\" rel=\"nofollow noreferrer\">Amazon CodeGuru Profiler</a> for profiling live applications."}],"answers":[{"tags":[],"owner":{"account_id":20351,"reputation":16789,"user_id":48553,"accept_rate":80,"display_name":"Steven Evers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692813367,"creation_date":1692813367,"answer_id":76963819,"question_id":76873432,"body_markdown":"This is a java debugging issue. I can&#39;t help with that, but I can help with the crashing and restarting of the task.\r\n\r\nIn the meantime, you can adjust the [Task Definition][1] for your ECS Task to have a larger Task Size for CPU/Memory so that it stabilizes while you figure out why the service is consuming more memory.\r\n\r\nYou might consider using Fargate as the capacity provider instead of launching on EC2, so that you don&#39;t have conflicts with the Task Size in the Task Definition and the size of the EC2 instances associated with your cluster. You should know that there&#39;s cost implications (in case you&#39;re trying to keep it on EC2 free tier).\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definition_parameters.html","title":"ECS service getting restarted due to OOM error &quot;Container killed due to memory usage&quot;","body":"<p>This is a java debugging issue. I can't help with that, but I can help with the crashing and restarting of the task.</p>\n<p>In the meantime, you can adjust the <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definition_parameters.html\" rel=\"nofollow noreferrer\">Task Definition</a> for your ECS Task to have a larger Task Size for CPU/Memory so that it stabilizes while you figure out why the service is consuming more memory.</p>\n<p>You might consider using Fargate as the capacity provider instead of launching on EC2, so that you don't have conflicts with the Task Size in the Task Definition and the size of the EC2 instances associated with your cluster. You should know that there's cost implications (in case you're trying to keep it on EC2 free tier).</p>\n"}],"owner":{"account_id":26760409,"reputation":1,"user_id":20358473,"display_name":"Raghav91"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692813367,"creation_date":1691652028,"question_id":76873432,"body_markdown":"I am running a java app hosted on a tomcat server inside a docker container using AWS EC2 (ECS). Recently the java app service is getting restarted after some time. After checking the ECS agent log it is showing OutOfMemoryError.\r\n\r\n**Logs:**\r\n\r\n    Level: INFO\r\n    Message: DockerGoClient: Process within container 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71 (name: &quot;my-java-app10-f8e5abadedfbd0c9d901&quot;) died due to OOM\r\n    Module: docker_client.go\r\n    \r\n    Level: INFO\r\n    Message: Handling container change event\r\n    Task: 3825f1c6-0d3d-4771-bed7-15332dab4ad9\r\n    Container: service-layer\r\n    RuntimeID: 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71\r\n    Status: STOPPED\r\n    \r\n    Level: WARN\r\n    Message: Error stopping the container; marking it as stopped anyway\r\n    Task: 3825f1c6-0d3d-4771-bed7-15332dab4ad9\r\n    Container: service-layer\r\n    RuntimeID: 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71\r\n    ErrorName: OutOfMemoryError\r\n    Error: Container killed due to memory usage\r\n\r\n\r\n\r\n\r\n\r\nI am not able to figure out which java thread/process is consuming memory. I tried below:\r\n\r\n    docker inspect &lt;containerName&gt;\r\n    docker ps --all (This shows Exited 137))\r\n\r\nChecked application logs as well where I could not see any specific calls.\r\n\r\nCan anyone give me clue how should I check which java thread/process is running constantly and consuming memory.\r\nNote that the max memory limit is 1GB and it was working fine earlier with this.","title":"ECS service getting restarted due to OOM error &quot;Container killed due to memory usage&quot;","body":"<p>I am running a java app hosted on a tomcat server inside a docker container using AWS EC2 (ECS). Recently the java app service is getting restarted after some time. After checking the ECS agent log it is showing OutOfMemoryError.</p>\n<p><strong>Logs:</strong></p>\n<pre><code>Level: INFO\nMessage: DockerGoClient: Process within container 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71 (name: &quot;my-java-app10-f8e5abadedfbd0c9d901&quot;) died due to OOM\nModule: docker_client.go\n\nLevel: INFO\nMessage: Handling container change event\nTask: 3825f1c6-0d3d-4771-bed7-15332dab4ad9\nContainer: service-layer\nRuntimeID: 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71\nStatus: STOPPED\n\nLevel: WARN\nMessage: Error stopping the container; marking it as stopped anyway\nTask: 3825f1c6-0d3d-4771-bed7-15332dab4ad9\nContainer: service-layer\nRuntimeID: 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71\nErrorName: OutOfMemoryError\nError: Container killed due to memory usage\n</code></pre>\n<p>I am not able to figure out which java thread/process is consuming memory. I tried below:</p>\n<pre><code>docker inspect &lt;containerName&gt;\ndocker ps --all (This shows Exited 137))\n</code></pre>\n<p>Checked application logs as well where I could not see any specific calls.</p>\n<p>Can anyone give me clue how should I check which java thread/process is running constantly and consuming memory.\nNote that the max memory limit is 1GB and it was working fine earlier with this.</p>\n"},{"tags":["java","jaxb"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1692785163,"post_id":76959757,"comment_id":135670543,"body_markdown":"I would stay with the 2.3.1 version as it is the latest release (regarding release date). For more details see the source code: https://github.com/javaee/jaxb-spec","body":"I would stay with the 2.3.1 version as it is the latest release (regarding release date). For more details see the source code: <a href=\"https://github.com/javaee/jaxb-spec\" rel=\"nofollow noreferrer\">github.com/javaee/jaxb-spec</a>"}],"owner":{"account_id":14847159,"reputation":168,"user_id":10722200,"display_name":"Shivaraja HN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692813239,"creation_date":1692780637,"question_id":76959757,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4b9OK.png\r\n\r\n2.4.0-b180725.0427 and 2.4.0-b180830.0359 looks stable but I want to understand why we have versions like *-b*?\r\nCan we use these version in production environment?  ","title":"Why we have central versions like 2.4.0-b180725.0427 and 2.4.0-b180830.0359 in javax.xml.bind &#187; jaxb-api dependecy?","body":"<p><a href=\"https://i.stack.imgur.com/4b9OK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4b9OK.png\" alt=\"enter image description here\" /></a></p>\n<p>2.4.0-b180725.0427 and 2.4.0-b180830.0359 looks stable but I want to understand why we have versions like <em>-b</em>?\nCan we use these version in production environment?</p>\n"},{"tags":["java","maven","gradle","javafx"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692783588,"post_id":76960030,"comment_id":135670254,"body_markdown":"i think you can do something like this [gradle-plugin-with-maven](https://stackoverflow.com/questions/27555560/how-can-i-build-a-gradle-plugin-with-maven)","body":"i think you can do something like this <a href=\"https://stackoverflow.com/questions/27555560/how-can-i-build-a-gradle-plugin-with-maven\">gradle-plugin-with-maven</a>"},{"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"score":1,"creation_date":1692785778,"post_id":76960030,"comment_id":135670630,"body_markdown":"I think it will do the job, but in the link you posted it doesn&#39;t explain how to build the gradle plugin with maven. I have made a quicksearch and all I can&#39;t find is the opposite (making a gradle plugin from a maven one).","body":"I think it will do the job, but in the link you posted it doesn&#39;t explain how to build the gradle plugin with maven. I have made a quicksearch and all I can&#39;t find is the opposite (making a gradle plugin from a maven one)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692848612,"post_id":76960030,"comment_id":135680527,"body_markdown":"Consider using the maven-javafx-plugin to create an image of the modular portions and also using the maven-assembly-plugin to copy the non-modular dependencies into the generated output, together with a shell script that places the non-modular dependencies on the classpath or modulepath.  That is a bit tricky to do but possible.  Alternatively use the ackman-jpackage-plugin to create an image using jpackage. Or switch to gradle if you want the exact functionality of the badass jlink or jpackage gradle plugins.","body":"Consider using the maven-javafx-plugin to create an image of the modular portions and also using the maven-assembly-plugin to copy the non-modular dependencies into the generated output, together with a shell script that places the non-modular dependencies on the classpath or modulepath.  That is a bit tricky to do but possible.  Alternatively use the ackman-jpackage-plugin to create an image using jpackage. Or switch to gradle if you want the exact functionality of the badass jlink or jpackage gradle plugins."}],"answers":[{"tags":[],"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692813062,"creation_date":1692813062,"answer_id":76963787,"question_id":76960030,"body_markdown":"If your question is: can I apply a Gradle plugin to a consumer project using maven as build tool, the answer is: NO. These are two different build tools, plugins are not compatible each other.\r\n\r\nYou should either convert your maven project to gradle (https://docs.gradle.org/current/userguide/migrating_from_maven.html ), or look for equivalent plugin in the maven ecosystem.\r\n","title":"Using a Gradle Plugin in Maven project","body":"<p>If your question is: can I apply a Gradle plugin to a consumer project using maven as build tool, the answer is: NO. These are two different build tools, plugins are not compatible each other.</p>\n<p>You should either convert your maven project to gradle (<a href=\"https://docs.gradle.org/current/userguide/migrating_from_maven.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/migrating_from_maven.html</a> ), or look for equivalent plugin in the maven ecosystem.</p>\n"}],"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76963787,"answer_count":1,"score":0,"last_activity_date":1692813062,"creation_date":1692782907,"question_id":76960030,"body_markdown":"I need to use this gradle plugin https://github.com/beryx/badass-runtime-plugin in my application in order to create a runtime image of my non modular Javafx application. The problem is that I&#39;m using Maven and I don&#39;t know if there&#39;s anyway to use it with Maven. \r\nCan anyone point me in the right direction?\r\nThank you very much","title":"Using a Gradle Plugin in Maven project","body":"<p>I need to use this gradle plugin <a href=\"https://github.com/beryx/badass-runtime-plugin\" rel=\"nofollow noreferrer\">https://github.com/beryx/badass-runtime-plugin</a> in my application in order to create a runtime image of my non modular Javafx application. The problem is that I'm using Maven and I don't know if there's anyway to use it with Maven.\nCan anyone point me in the right direction?\nThank you very much</p>\n"},{"tags":["java","httpurlconnection"],"comments":[{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1692813404,"post_id":76961377,"comment_id":135676516,"body_markdown":"Looks like it should work. Is the activity alive long enough for the Async task to work? Are you sure the device restarts for Post request?","body":"Looks like it should work. Is the activity alive long enough for the Async task to work? Are you sure the device restarts for Post request?"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1692813748,"post_id":76961377,"comment_id":135676590,"body_markdown":"Could even be tiny issue like one of these things are misspelled :-) session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTART or need to be URL encoded and so forth..","body":"Could even be tiny issue like one of these things are misspelled :-) session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTA&zwnj;&#8203;RT or need to be URL encoded and so forth.."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1692814279,"post_id":76961377,"comment_id":135676675,"body_markdown":"@Teddy .... the URL was masked due for privacy but I can ensure in the code it&#39;s spelled correctly...anyway I debugged the code and once arrived at the point to send the HTTP and looking at the device if it would restart but it didn&#39;t....","body":"@Teddy .... the URL was masked due for privacy but I can ensure in the code it&#39;s spelled correctly...anyway I debugged the code and once arrived at the point to send the HTTP and looking at the device if it would restart but it didn&#39;t...."},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1692814629,"post_id":76961377,"comment_id":135676739,"body_markdown":"Sorry... I ran out of ideas","body":"Sorry... I ran out of ideas"}],"answers":[{"tags":[],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692813041,"creation_date":1692813041,"answer_id":76963784,"question_id":76961377,"body_markdown":"Have you tried OkHttp library?\r\n\r\nHere is one Android POST example with OkHttp..\r\n\r\nhttps://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial ","title":"How to execute http cmmand directly with Android Java?","body":"<p>Have you tried OkHttp library?</p>\n<p>Here is one Android POST example with OkHttp..</p>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial</a></p>\n"}],"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76963784,"answer_count":1,"score":1,"last_activity_date":1692813041,"creation_date":1692793835,"question_id":76961377,"body_markdown":"I have a custom device which it&#39;s connected via hotspot with my mobile and through my app I can connect and login to that custom device correctly like :\r\n\r\n    http://x.x.x.x/cgi-bin/web.cgi?action=API&amp;action2=Login&amp;param1=username&amp;param2=password\r\n\r\nusing this connection sequence:\r\n\r\n    url = new URL(URLCommand);\r\n    connection = (HttpURLConnection) url.openConnection();\r\n    \r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9)\r\n    {\r\n    \tStrictMode.ThreadPolicy policy;\r\n    \tpolicy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    \tStrictMode.setThreadPolicy(policy);\r\n    }\r\n    \r\n    int responseCode = connection.getResponseCode();\r\n    if (responseCode == HttpURLConnection.HTTP_OK || responseCode == HttpURLConnection.HTTP_CREATED) {\r\n\r\nand I can obtain correctly `responseCode = 200` which is OK.\r\nThen I try to send another HTTP url to try to restart that custom device like:\r\n\r\n    http://x.x.x.x/cgi-bin/web.cgi?session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTART\r\n\r\nusing as POST:\r\n\r\n    url = new URL(URLCommand);\r\n    connectionForCommand = (HttpURLConnection) url.openConnection();\r\n    connectionForCommand.setRequestMethod(&quot;POST&quot;);\r\n    connectionForCommand.setDoOutput(true);\r\n    BufferedReader responseReader = new BufferedReader(new InputStreamReader(connectionForCommand.getInputStream()));\r\n    String responseData = responseReader.readLine();\r\n\r\nso I thought that `setDoOutput(true)` would &quot;execute&quot; that url and make that custom device to reboot...\r\n\r\nI tried also to put this code above inside thread using lambda as like as :\r\n\r\n    Thread = () -&gt; {}\r\n\r\nto avoid `IOException` about running it in DialogFragment&#39;s main activity but it didn&#39;t worked. \r\nIs there maybe a way to execute that http without using any third parts? Or do I have to use any only third parts to reach that goal because HttpURLConnection doesn&#39;t fit for that? Thanks! Cheers\r\n\r\n**EDIT:**\r\n\r\nI tried also using Volley library doing a StringRequest like :\r\n\r\n    new Thread(() -&gt; {\r\n    \r\n    \turlPostRequest = &quot;http://x.x.x.x/cgi-bin/web.cgi?session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTART&quot;;\r\n    \ttry{\r\n    \t\tRequestQueue arq = Volley.newRequestQueue(getContext());\r\n    \t\tarq.getCache().clear();\r\n    \r\n    \t\tStringRequest urlPostRequest = new StringRequest(Request.Method.POST, URLCommand,\r\n    \t\t\tnew Response.Listener&lt;String&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onResponse(String response) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tJSONObject obj = new JSONObject(response);\r\n    \t\t\t\t\t\tString  value= obj.getString(&quot;value&quot;);\r\n    \t\t\t\t\t\tshowAlert(&quot;LogCat&quot;, value.toString());\r\n    \t\t\t\t\t} catch(JSONException e) { e.printStackTrace(); \r\n    \t\t\t\t}\r\n    \t\t\t}, new Response.ErrorListener() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onErrorResponse(VolleyError error) {\r\n    \t\t\t\t\tshowAlert(&quot;LogCat&quot;, getActivity().getResources().getString(R.string.st_errorresponse));\r\n    \t\t\t\t}\r\n    \t\t});\r\n    \t\tarq.add(urlPostRequest);\r\n    \t} catch (Exception e) { e.printStackTrace(); }\r\n    \r\n    }).start();\r\n\r\nbut neither this way didn&#39;t worked even I settled as POST....maybe I missed something to consider?... \r\n","title":"How to execute http cmmand directly with Android Java?","body":"<p>I have a custom device which it's connected via hotspot with my mobile and through my app I can connect and login to that custom device correctly like :</p>\n<pre><code>http://x.x.x.x/cgi-bin/web.cgi?action=API&amp;action2=Login&amp;param1=username&amp;param2=password\n</code></pre>\n<p>using this connection sequence:</p>\n<pre><code>url = new URL(URLCommand);\nconnection = (HttpURLConnection) url.openConnection();\n\nif (android.os.Build.VERSION.SDK_INT &gt; 9)\n{\n    StrictMode.ThreadPolicy policy;\n    policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}\n\nint responseCode = connection.getResponseCode();\nif (responseCode == HttpURLConnection.HTTP_OK || responseCode == HttpURLConnection.HTTP_CREATED) {\n</code></pre>\n<p>and I can obtain correctly <code>responseCode = 200</code> which is OK.\nThen I try to send another HTTP url to try to restart that custom device like:</p>\n<pre><code>http://x.x.x.x/cgi-bin/web.cgi?session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTART\n</code></pre>\n<p>using as POST:</p>\n<pre><code>url = new URL(URLCommand);\nconnectionForCommand = (HttpURLConnection) url.openConnection();\nconnectionForCommand.setRequestMethod(&quot;POST&quot;);\nconnectionForCommand.setDoOutput(true);\nBufferedReader responseReader = new BufferedReader(new InputStreamReader(connectionForCommand.getInputStream()));\nString responseData = responseReader.readLine();\n</code></pre>\n<p>so I thought that <code>setDoOutput(true)</code> would &quot;execute&quot; that url and make that custom device to reboot...</p>\n<p>I tried also to put this code above inside thread using lambda as like as :</p>\n<pre><code>Thread = () -&gt; {}\n</code></pre>\n<p>to avoid <code>IOException</code> about running it in DialogFragment's main activity but it didn't worked.\nIs there maybe a way to execute that http without using any third parts? Or do I have to use any only third parts to reach that goal because HttpURLConnection doesn't fit for that? Thanks! Cheers</p>\n<p><strong>EDIT:</strong></p>\n<p>I tried also using Volley library doing a StringRequest like :</p>\n<pre><code>new Thread(() -&gt; {\n\n    urlPostRequest = &quot;http://x.x.x.x/cgi-bin/web.cgi?session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTART&quot;;\n    try{\n        RequestQueue arq = Volley.newRequestQueue(getContext());\n        arq.getCache().clear();\n\n        StringRequest urlPostRequest = new StringRequest(Request.Method.POST, URLCommand,\n            new Response.Listener&lt;String&gt;() {\n                @Override\n                public void onResponse(String response) {\n                    try {\n                        JSONObject obj = new JSONObject(response);\n                        String  value= obj.getString(&quot;value&quot;);\n                        showAlert(&quot;LogCat&quot;, value.toString());\n                    } catch(JSONException e) { e.printStackTrace(); \n                }\n            }, new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    showAlert(&quot;LogCat&quot;, getActivity().getResources().getString(R.string.st_errorresponse));\n                }\n        });\n        arq.add(urlPostRequest);\n    } catch (Exception e) { e.printStackTrace(); }\n\n}).start();\n</code></pre>\n<p>but neither this way didn't worked even I settled as POST....maybe I missed something to consider?...</p>\n"},{"tags":["java","encoding","spring-batch"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1510738927,"post_id":47303899,"comment_id":81558560,"body_markdown":"&quot;My question is that why when i try to set the itemReader encoding to utf-8 still persist ?&quot; - Um, because the file isn&#39;t in UTF-8. Its not clear what you&#39;re asking, to be honest.","body":"&quot;My question is that why when i try to set the itemReader encoding to utf-8 still persist ?&quot; - Um, because the file isn&#39;t in UTF-8. Its not clear what you&#39;re asking, to be honest."},{"owner":{"account_id":11808391,"reputation":283,"user_id":8640353,"accept_rate":76,"display_name":"Feres.o"},"score":0,"creation_date":1510739246,"post_id":47303899,"comment_id":81558747,"body_markdown":"i update the post","body":"i update the post"},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1510739296,"post_id":47303899,"comment_id":81558782,"body_markdown":"I suspect you don&#39;t understand how encodings work. If a file is encoded in ISO-8859-1 and you try to read it using UTF-8, it&#39;s a bit like trying to use a PNG reader to load a JPEG image. UTF-8 can represent every character in Unicode, but that doesn&#39;t mean you can arbitrarily use it for files that are encoded in a different encoding.","body":"I suspect you don&#39;t understand how encodings work. If a file is encoded in ISO-8859-1 and you try to read it using UTF-8, it&#39;s a bit like trying to use a PNG reader to load a JPEG image. UTF-8 can represent every character in Unicode, but that doesn&#39;t mean you can arbitrarily use it for files that are encoded in a different encoding."},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1510739357,"post_id":47303899,"comment_id":81558822,"body_markdown":"You might want to read http://csharpindepth.com/Articles/General/Unicode.aspx - it&#39;s phrased in terms of C#, but the concepts are the same.","body":"You might want to read <a href=\"http://csharpindepth.com/Articles/General/Unicode.aspx\" rel=\"nofollow noreferrer\">csharpindepth.com/Articles/General/Unicode.aspx</a> - it&#39;s phrased in terms of C#, but the concepts are the same."},{"owner":{"account_id":11808391,"reputation":283,"user_id":8640353,"accept_rate":76,"display_name":"Feres.o"},"score":0,"creation_date":1510739438,"post_id":47303899,"comment_id":81558880,"body_markdown":"Ok, so there no the concept of a global encode that is capable to read any format. i should use the same encoding as mentioned on notepadd ++","body":"Ok, so there no the concept of a global encode that is capable to read any format. i should use the same encoding as mentioned on notepadd ++"},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1510739503,"post_id":47303899,"comment_id":81558926,"body_markdown":"Well &quot;ANSI&quot; isn&#39;t a single encoding either. If you can change what&#39;s producing the CSV files to output UTF-8, that would be the best thing. But if you can&#39;t change that, you should find out what encoding it&#39;s using (without just relying on Notepad++).","body":"Well &quot;ANSI&quot; isn&#39;t a single encoding either. If you can change what&#39;s producing the CSV files to output UTF-8, that would be the best thing. But if you can&#39;t change that, you should find out what encoding it&#39;s using (without just relying on Notepad++)."},{"owner":{"account_id":11808391,"reputation":283,"user_id":8640353,"accept_rate":76,"display_name":"Feres.o"},"score":0,"creation_date":1510739602,"post_id":47303899,"comment_id":81558994,"body_markdown":"Thank you very much for your kind help and clarifications","body":"Thank you very much for your kind help and clarifications"}],"answers":[{"tags":[],"owner":{"account_id":5745135,"reputation":306,"user_id":4536579,"display_name":"zedtimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527834985,"creation_date":1527834985,"answer_id":50637423,"question_id":47303899,"body_markdown":"i use the same encoding &quot;ISO-8859-1&quot;, all character are displayed correctly.","title":"What is the proper encoding to use with item Reader","body":"<p>i use the same encoding \"ISO-8859-1\", all character are displayed correctly.</p>\n"},{"tags":[],"owner":{"account_id":7776014,"reputation":905,"user_id":5884126,"accept_rate":29,"display_name":"PixelMaster"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1692811242,"creation_date":1536774778,"answer_id":52300932,"question_id":47303899,"body_markdown":"I had the same problem. Input file is ANSI, and &quot;&#252;&quot; gets displayed as a square in the output.\r\n\r\nThat&#39;s because your input file is encoded in ANSI, but by default, [Spring Batch assumes ISO-8859-1 encoding][1] (6.6.2 FlatFileItemReader).  \r\n*Update 2023:* in newer versions, the default is UTF-8, but back when the question was posted, it was ISO-8859-1 instead, as verifiable by checking older versions of the linked document; for instance, [version 4.0.1.RELEASE][2]. I&#39;m not sure which version was current back then, but the point remains the same either way.\r\n\r\nTherefore, you have to set the encoding for your reader to &quot;Cp1252&quot; (`setEncoding(&quot;Cp1252&quot;)`) - [that&#39;s how Java refers to ANSI encoding.][3]\r\n\r\nFurthermore, you will have to set your writer&#39;s encoding to &quot;utf-8&quot;. I&#39;m not entirely sure why it doesn&#39;t work with other encodings (that are generally able to display &quot;&#252;&quot;, such as ISO-8859-1), but it works with UTF-8, so that&#39;s what I&#39;m using.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/trunk/reference/html/readersAndWriters.html\r\n  [2]: https://docs.spring.io/spring-batch/docs/4.0.1.RELEASE/reference/html/readersAndWriters.html#readersAndWriters\r\n  [3]: https://stackoverflow.com/questions/18556104/read-and-write-text-in-ansi-format","title":"What is the proper encoding to use with item Reader","body":"<p>I had the same problem. Input file is ANSI, and &quot;Ã¼&quot; gets displayed as a square in the output.</p>\n<p>That's because your input file is encoded in ANSI, but by default, <a href=\"https://docs.spring.io/spring-batch/trunk/reference/html/readersAndWriters.html\" rel=\"nofollow noreferrer\">Spring Batch assumes ISO-8859-1 encoding</a> (6.6.2 FlatFileItemReader).<br />\n<em>Update 2023:</em> in newer versions, the default is UTF-8, but back when the question was posted, it was ISO-8859-1 instead, as verifiable by checking older versions of the linked document; for instance, <a href=\"https://docs.spring.io/spring-batch/docs/4.0.1.RELEASE/reference/html/readersAndWriters.html#readersAndWriters\" rel=\"nofollow noreferrer\">version 4.0.1.RELEASE</a>. I'm not sure which version was current back then, but the point remains the same either way.</p>\n<p>Therefore, you have to set the encoding for your reader to &quot;Cp1252&quot; (<code>setEncoding(&quot;Cp1252&quot;)</code>) - <a href=\"https://stackoverflow.com/questions/18556104/read-and-write-text-in-ansi-format\">that's how Java refers to ANSI encoding.</a></p>\n<p>Furthermore, you will have to set your writer's encoding to &quot;utf-8&quot;. I'm not entirely sure why it doesn't work with other encodings (that are generally able to display &quot;Ã¼&quot;, such as ISO-8859-1), but it works with UTF-8, so that's what I'm using.</p>\n"}],"owner":{"account_id":11808391,"reputation":283,"user_id":8640353,"accept_rate":76,"display_name":"Feres.o"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9902,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1692811242,"creation_date":1510738754,"question_id":47303899,"body_markdown":"I&#39;m using spring batch to read csv files, when I open these files with Notepad++ I see that the used encode is `encode in ANSI`.\r\nNow when reading a line from a file, I notice that all accent character are not shown correctly. For example let&#39;s take this line:\r\n\r\n    Donn&#233;es issues de la reprise des donn&#233;es\r\n\r\nIt&#39;s transformed to be like this one with some special characters:\r\n \r\n[![enter image description here][1]][1]\r\n\r\nSo as first solution I set the encode for my Item Reader to `utf-8` but the problem still exist. \r\n \r\n\r\n - I thought that with `UTF-8` encoding all my accent characters will be recognized, is that not true ?  from what I heard UTF-8 is the best encoding to use to handle all character on web page for example ?\r\n\r\n\r\nAfter setting my item Reader encoding to `ISO-8859-1`: \r\n\r\n    public class TestItemReader extends FlatFileItemReader&lt;TestFileRow&gt; {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(TestItemReader.class);\r\n        public ScelleItemReader(String path) {\r\n    \r\n            this.setResource( new FileSystemResource(path + &quot;/Test.csv&quot;));\r\n            this.setEncoding(&quot;ISO-8859-1&quot;);\r\n\r\nI cant see that these character are now displayed correctly. \r\n\r\n \r\n\r\n - As output I should write with `utf-8` as encoding, did this is correct if I use `ISO-8859-1` as encoding input and `utf-8` as output?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xDjA5.png\r\n","title":"What is the proper encoding to use with item Reader","body":"<p>I'm using spring batch to read csv files, when I open these files with Notepad++ I see that the used encode is <code>encode in ANSI</code>.\nNow when reading a line from a file, I notice that all accent character are not shown correctly. For example let's take this line:</p>\n\n<pre><code>DonnÃ©es issues de la reprise des donnÃ©es\n</code></pre>\n\n<p>It's transformed to be like this one with some special characters:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xDjA5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xDjA5.png\" alt=\"enter image description here\"></a></p>\n\n<p>So as first solution I set the encode for my Item Reader to <code>utf-8</code> but the problem still exist. </p>\n\n<ul>\n<li>I thought that with <code>UTF-8</code> encoding all my accent characters will be recognized, is that not true ?  from what I heard UTF-8 is the best encoding to use to handle all character on web page for example ?</li>\n</ul>\n\n<p>After setting my item Reader encoding to <code>ISO-8859-1</code>: </p>\n\n<pre><code>public class TestItemReader extends FlatFileItemReader&lt;TestFileRow&gt; {\n\n    private static final Logger log = LoggerFactory.getLogger(TestItemReader.class);\n    public ScelleItemReader(String path) {\n\n        this.setResource( new FileSystemResource(path + \"/Test.csv\"));\n        this.setEncoding(\"ISO-8859-1\");\n</code></pre>\n\n<p>I cant see that these character are now displayed correctly. </p>\n\n<ul>\n<li>As output I should write with <code>utf-8</code> as encoding, did this is correct if I use <code>ISO-8859-1</code> as encoding input and <code>utf-8</code> as output?</li>\n</ul>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":3737085,"reputation":8812,"user_id":3107798,"accept_rate":50,"display_name":"jjbskir"},"score":0,"creation_date":1686759686,"post_id":65570934,"comment_id":134844411,"body_markdown":"Does this answer your question? [How to check if bucket already exists in AWS S3](https://stackoverflow.com/questions/62940476/how-to-check-if-bucket-already-exists-in-aws-s3)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62940476/how-to-check-if-bucket-already-exists-in-aws-s3\">How to check if bucket already exists in AWS S3</a>"}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1609801039,"creation_date":1609801039,"answer_id":65570968,"question_id":65570934,"body_markdown":"S3 doesn&#39;t have folders, it only has buckets and objects. Most developers use the `/` character to semantically organize object names, but S3 doesn&#39;t have a directory structure the way that filesystems do. In particular, there can never be such a thing as an &quot;empty directory&quot; on S3.\r\n\r\nThe closest you can do is to list based on a prefix.","title":"Check if a &quot;folder&quot; exists in S3","body":"<p>S3 doesn't have folders, it only has buckets and objects. Most developers use the <code>/</code> character to semantically organize object names, but S3 doesn't have a directory structure the way that filesystems do. In particular, there can never be such a thing as an &quot;empty directory&quot; on S3.</p>\n<p>The closest you can do is to list based on a prefix.</p>\n"},{"tags":[],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1609801865,"creation_date":1609801865,"answer_id":65571087,"question_id":65570934,"body_markdown":"The solution to this is to do:\r\n\r\n```java\r\npublic boolean isExists(String key) {\r\n    ListObjectsV2Result result = this.s3Client.listObjectsV2(this.bucketName, key);\r\n    return result.getKeyCount() &gt; 0;\r\n}\r\n```\r\n\r\nAn empty &quot;folder&quot; (virtually speaking) would return key count of 1. \r\n\r\n    ","title":"Check if a &quot;folder&quot; exists in S3","body":"<p>The solution to this is to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isExists(String key) {\n    ListObjectsV2Result result = this.s3Client.listObjectsV2(this.bucketName, key);\n    return result.getKeyCount() &gt; 0;\n}\n</code></pre>\n<p>An empty &quot;folder&quot; (virtually speaking) would return key count of 1.</p>\n"},{"tags":[],"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637035049,"creation_date":1637035049,"answer_id":69983583,"question_id":65570934,"body_markdown":"The method `listObjectsV2(bucketName, key)` in the example provided by quarks is deprecated, this is how it should be now:\r\n\r\n```java\r\n  public boolean doesKeyExist(String bucket, String key) {\r\n    ListObjectsV2Response listObjects =\r\n        s3Client.listObjectsV2(ListObjectsV2Request.builder().bucket(bucket).prefix(key).build());\r\n    return !listObjects.contents().isEmpty();\r\n  }\r\n```","title":"Check if a &quot;folder&quot; exists in S3","body":"<p>The method <code>listObjectsV2(bucketName, key)</code> in the example provided by quarks is deprecated, this is how it should be now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public boolean doesKeyExist(String bucket, String key) {\n    ListObjectsV2Response listObjects =\n        s3Client.listObjectsV2(ListObjectsV2Request.builder().bucket(bucket).prefix(key).build());\n    return !listObjects.contents().isEmpty();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2786445,"reputation":1094,"user_id":2397723,"accept_rate":54,"display_name":"Comencau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692811144,"creation_date":1692811144,"answer_id":76963568,"question_id":65570934,"body_markdown":"    /**\r\n     * Check if it exists at least 1 key in the bucket beginning with the given prefix. Functionally, it checks if a S3 &quot;folder&quot; exists.\r\n     * The given input (the prefix) S3 key must end with &quot;/&quot; to avoid accidentally handling &quot;abcd&quot; S3 object whereas we want to handle objects with &quot;abc/&quot; prefix (i.e. in the &quot;abc&quot; folder).\r\n     *\r\n     * @param bucket the S3 Bucket name\r\n     * @param prefix the prefix (can be considered as the S3 &quot;folder&quot;). Must end with &quot;/&quot;\r\n     * @return if the folder exists &lt;=&gt; if there is at least 1 S3 object with this prefix\r\n     */\r\n    public boolean prefixOrFolderExists(String bucket, String prefix) {\r\n        if (!prefix.endsWith(&quot;/&quot;)) {\r\n            throw new IllegalArgumentException(&quot;We want to check if a S3 folder exists. The S3 prefix should end with &#39;/&#39;.&quot;);\r\n        }\r\n        // just retrieve 1 key maximum with &#39;.maxKeys(1)&#39;. It is enough to check if the folder exists and it will save some bytes in the network.  \r\n        ListObjectsV2Response response = s3Client.listObjectsV2(b -&gt; b.bucket(bucket).prefix(prefix).maxKeys(1));\r\n        return response.keyCount() &gt; 0;\r\n    }","title":"Check if a &quot;folder&quot; exists in S3","body":"<pre><code>/**\n * Check if it exists at least 1 key in the bucket beginning with the given prefix. Functionally, it checks if a S3 &quot;folder&quot; exists.\n * The given input (the prefix) S3 key must end with &quot;/&quot; to avoid accidentally handling &quot;abcd&quot; S3 object whereas we want to handle objects with &quot;abc/&quot; prefix (i.e. in the &quot;abc&quot; folder).\n *\n * @param bucket the S3 Bucket name\n * @param prefix the prefix (can be considered as the S3 &quot;folder&quot;). Must end with &quot;/&quot;\n * @return if the folder exists &lt;=&gt; if there is at least 1 S3 object with this prefix\n */\npublic boolean prefixOrFolderExists(String bucket, String prefix) {\n    if (!prefix.endsWith(&quot;/&quot;)) {\n        throw new IllegalArgumentException(&quot;We want to check if a S3 folder exists. The S3 prefix should end with '/'.&quot;);\n    }\n    // just retrieve 1 key maximum with '.maxKeys(1)'. It is enough to check if the folder exists and it will save some bytes in the network.  \n    ListObjectsV2Response response = s3Client.listObjectsV2(b -&gt; b.bucket(bucket).prefix(prefix).maxKeys(1));\n    return response.keyCount() &gt; 0;\n}\n</code></pre>\n"}],"owner":{"account_id":18436169,"reputation":991,"user_id":13429959,"display_name":"Fireburn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7179,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65571087,"answer_count":4,"score":2,"last_activity_date":1692811144,"creation_date":1609800787,"question_id":65570934,"body_markdown":"I&#39;m having a bit of trouble with this code:\r\n\r\n```java\r\npublic boolean isExists(String key) {\r\n    try {\r\n        this.s3Client.getObjectMetadata(this.bucketName, key);\r\n        return true;\r\n    } catch (AmazonServiceException var3) {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nIt always returns false, even if the &quot;folder&quot; in S3 exists (either empty or non-empty), what could be wrong? \r\n\r\nThe `s3Client` in the code above is just a simple *AmazonS3* client:\r\n\r\n```java\r\nAmazonS3 s3client = AmazonS3ClientBuilder\r\n    .standard()\r\n    .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n    .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(objectStoreEndpoint, objectStoreRegion))\r\n    .build();\r\n```\r\n\r\nWhat&#39;s the proper way to **check if folder exists in S3**?","title":"Check if a &quot;folder&quot; exists in S3","body":"<p>I'm having a bit of trouble with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isExists(String key) {\n    try {\n        this.s3Client.getObjectMetadata(this.bucketName, key);\n        return true;\n    } catch (AmazonServiceException var3) {\n        return false;\n    }\n}\n</code></pre>\n<p>It always returns false, even if the &quot;folder&quot; in S3 exists (either empty or non-empty), what could be wrong?</p>\n<p>The <code>s3Client</code> in the code above is just a simple <em>AmazonS3</em> client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AmazonS3 s3client = AmazonS3ClientBuilder\n    .standard()\n    .withCredentials(new AWSStaticCredentialsProvider(credentials))\n    .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(objectStoreEndpoint, objectStoreRegion))\n    .build();\n</code></pre>\n<p>What's the proper way to <strong>check if folder exists in S3</strong>?</p>\n"},{"tags":["java","spring","spring-boot","authentication","angular7"],"comments":[{"owner":{"account_id":16282198,"reputation":11,"user_id":11757792,"display_name":"MONI SHANKAR"},"score":0,"creation_date":1562653069,"post_id":56946280,"comment_id":100432034,"body_markdown":"Which plugin should i add??","body":"Which plugin should i add??"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1562653312,"post_id":56946280,"comment_id":100432125,"body_markdown":"You shouldn&#39;t add any chrome plugin. EIther your backend API is indeed supposed, once in production, to be called from other domains/ports, and you should add CORS support on your backend API, or it shouldn&#39;t, and your development environment should thus mimic the production environment by serving the backend and the frontend from the same host/port. You typically do that by using the Angular CLI server as a proxy to your backend API. https://github.com/angular/angular-cli/blob/master/docs/documentation/stories/proxy.md","body":"You shouldn&#39;t add any chrome plugin. EIther your backend API is indeed supposed, once in production, to be called from other domains/ports, and you should add CORS support on your backend API, or it shouldn&#39;t, and your development environment should thus mimic the production environment by serving the backend and the frontend from the same host/port. You typically do that by using the Angular CLI server as a proxy to your backend API. <a href=\"https://github.com/angular/angular-cli/blob/master/docs/documentation/stories/proxy.md\" rel=\"nofollow noreferrer\">github.com/angular/angular-cli/blob/master/docs/documentatio&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1562653587,"post_id":56946280,"comment_id":100432242,"body_markdown":"@Sachi.Dila don&#39;t suggest solutions that compromise someones web security without warning them. When you install a cors plugin, you allow any site to access any other site including allowing access to gmail.com from attacker.example.com. There have been attacks like this in the past for the careless developers who don&#39;t understand why a certain protection is in place","body":"@Sachi.Dila don&#39;t suggest solutions that compromise someones web security without warning them. When you install a cors plugin, you allow any site to access any other site including allowing access to gmail.com from attacker.example.com. There have been attacks like this in the past for the careless developers who don&#39;t understand why a certain protection is in place"},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1562653626,"post_id":56946280,"comment_id":100432259,"body_markdown":"AFAIR when you want to allow authenticated access from different origins and these requests not being stopped by your browser, your backend must explicitely &quot;allow&quot; these origins telling the browser via the &quot;Access-Control-Allow-Origin&quot; header listing the allowed origins.","body":"AFAIR when you want to allow authenticated access from different origins and these requests not being stopped by your browser, your backend must explicitely &quot;allow&quot; these origins telling the browser via the &quot;Access-Control-Allow-Origin&quot; header listing the allowed origins."},{"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"score":0,"creation_date":1562654965,"post_id":56946280,"comment_id":100432882,"body_markdown":"@MONI SHANKAR please try using my code I think it solves your issue.","body":"@MONI SHANKAR please try using my code I think it solves your issue."}],"answers":[{"tags":[],"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562653332,"creation_date":1562653332,"answer_id":56946413,"question_id":56946280,"body_markdown":"I also had the same issue with angulat7 and spring boot I resolved by adding the following configuration\r\n\r\n   \r\n\r\n     @Configuration\r\n        public class SpringDataRestConfiguration extends RepositoryRestConfigurerAdapter {\r\n       \r\n        \t@Override\r\n        \tpublic void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\r\n      \r\n    \t\tconfig.getCorsRegistry().addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedHeaders(&quot;*&quot;).allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PATCH&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\r\n        \t}\r\n        \r\n        }","title":"has been blocked by CORS policy: Response to preflight request doesn&#39;t pass","body":"<p>I also had the same issue with angulat7 and spring boot I resolved by adding the following configuration</p>\n\n<pre><code> @Configuration\n    public class SpringDataRestConfiguration extends RepositoryRestConfigurerAdapter {\n\n        @Override\n        public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\n\n        config.getCorsRegistry().addMapping(\"/**\").allowedOrigins(\"*\").allowedHeaders(\"*\").allowedMethods(\"GET\", \"POST\", \"PATCH\", \"PUT\", \"DELETE\");\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5162774,"reputation":1440,"user_id":4133874,"accept_rate":100,"display_name":"Sagar Chilukuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562654391,"creation_date":1562653817,"answer_id":56946488,"question_id":56946280,"body_markdown":"You could try the following\r\nAt the top of the `controller`, you can add `@CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)` or customise if required\r\n\r\n    ...\r\n    @CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\r\n    @RestController\r\n    public class UserController {\r\n        // Methods\r\n    }\r\n    ...\r\n\r\nPlease try above solution and let me know if this doesnt work\r\n\r\n**EDIT 1:**\r\nYou could also try to create a filter with `CORS` options:\r\n\r\n    import java.io.IOException;\r\n\r\n    import javax.servlet.Filter;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.FilterConfig;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    @Order(1)\r\n    public class SimpleCORSFilter implements Filter {\r\n\r\n        private final Logger log = LoggerFactory.getLogger(SimpleCORSFilter.class);\r\n\r\n        public SimpleCORSFilter() {\r\n            log.info(&quot;SimpleCORSFilter init&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\r\n                throws IOException, ServletException {\r\n\r\n            // HttpServletRequest request = (HttpServletRequest) req;\r\n            HttpServletResponse response = (HttpServletResponse) res;\r\n\r\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n            response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me&quot;);\r\n\r\n            chain.doFilter(req, res);\r\n        }\r\n\r\n        @Override\r\n        public void init(FilterConfig filterConfig) {\r\n        }\r\n\r\n        @Override\r\n        public void destroy() {\r\n        }\r\n\r\n    }\r\n\r\nPlease try with the `filters` method and let me know if it doesn&#39;t work","title":"has been blocked by CORS policy: Response to preflight request doesn&#39;t pass","body":"<p>You could try the following\nAt the top of the <code>controller</code>, you can add <code>@CrossOrigin(origins = \"*\", allowedHeaders = \"*\")</code> or customise if required</p>\n\n<pre><code>...\n@CrossOrigin(origins = \"*\", allowedHeaders = \"*\")\n@RestController\npublic class UserController {\n    // Methods\n}\n...\n</code></pre>\n\n<p>Please try above solution and let me know if this doesnt work</p>\n\n<p><strong>EDIT 1:</strong>\nYou could also try to create a filter with <code>CORS</code> options:</p>\n\n<pre><code>import java.io.IOException;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Order(1)\npublic class SimpleCORSFilter implements Filter {\n\n    private final Logger log = LoggerFactory.getLogger(SimpleCORSFilter.class);\n\n    public SimpleCORSFilter() {\n        log.info(\"SimpleCORSFilter init\");\n    }\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\n            throws IOException, ServletException {\n\n        // HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n\n        response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n        response.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n        response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Accept, X-Requested-With, remember-me\");\n\n        chain.doFilter(req, res);\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    public void destroy() {\n    }\n\n}\n</code></pre>\n\n<p>Please try with the <code>filters</code> method and let me know if it doesn't work</p>\n"}],"owner":{"account_id":16282198,"reputation":11,"user_id":11757792,"display_name":"MONI SHANKAR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10626,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692810225,"creation_date":1562652724,"question_id":56946280,"body_markdown":"I have created one app using angular and springboot for basic authentication with spring security but i am getting 401 error ..i am novice in springboot\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SpringSecurityConfigurationBasicAuth extends WebSecurityConfigurerAdapter{ \r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.csrf().disable()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(HttpMethod.OPTIONS,&quot;/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t//.formLogin().and()\r\n\t\t\t.httpBasic();\r\n\t}\r\n}\r\n```\r\n\r\n&gt;&quot;Access to XMLHttpRequest at &#39;http://localhost:8080/hello-world/path-variable/MSD&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status.&quot;","title":"has been blocked by CORS policy: Response to preflight request doesn&#39;t pass","body":"<p>I have created one app using angular and springboot for basic authentication with spring security but i am getting 401 error ..i am novice in springboot</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfigurationBasicAuth extends WebSecurityConfigurerAdapter{ \n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .csrf().disable()\n            .authorizeRequests()\n            .antMatchers(HttpMethod.OPTIONS,\"/**\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n            //.formLogin().and()\n            .httpBasic();\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>\"Access to XMLHttpRequest at '<a href=\"http://localhost:8080/hello-world/path-variable/MSD\" rel=\"nofollow noreferrer\">http://localhost:8080/hello-world/path-variable/MSD</a>' from origin '<a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">http://localhost:4200</a>' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status.\"</p>\n</blockquote>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":380062,"reputation":829,"user_id":733840,"display_name":"teu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407963013,"creation_date":1407963013,"answer_id":25295873,"question_id":23164072,"body_markdown":"1. You can create more than 3 partitions but it&#39;s not clear what speedup you will get; depends on your network, disks, etc. With N partitions, you will want N consumer threads reading one partition each, on one or more machines.\r\n\r\n2. Are you sure that all messages are going *into* Kafka in the first place? For an async producer, you&#39;ll want request.required.acks to be -1 for the best guarantees. There is a kafka log dump tool that can be used to inspect the data on the brokers. On the consumer end, log the Kafka offsets of the messages that you read, to verify if there are skipped ones.","title":"Is this the right Kafka Consumer Config - under this Kafka setup?","body":"<ol>\n<li><p>You can create more than 3 partitions but it's not clear what speedup you will get; depends on your network, disks, etc. With N partitions, you will want N consumer threads reading one partition each, on one or more machines.</p></li>\n<li><p>Are you sure that all messages are going <em>into</em> Kafka in the first place? For an async producer, you'll want request.required.acks to be -1 for the best guarantees. There is a kafka log dump tool that can be used to inspect the data on the brokers. On the consumer end, log the Kafka offsets of the messages that you read, to verify if there are skipped ones.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2177733,"reputation":21,"user_id":1928006,"display_name":"ivivi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413880142,"creation_date":1413880142,"answer_id":26482155,"question_id":23164072,"body_markdown":"First, you can check the folder of logs which is named log.dir in server.properties at broker, you could run &quot;tail -f&quot; to check wether messages are send successfully.","title":"Is this the right Kafka Consumer Config - under this Kafka setup?","body":"<p>First, you can check the folder of logs which is named log.dir in server.properties at broker, you could run \"tail -f\" to check wether messages are send successfully.</p>\n"},{"tags":[],"owner":{"account_id":2215959,"reputation":691,"user_id":1956552,"accept_rate":100,"display_name":"Faisal Ahmed Siddiqui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461273629,"creation_date":1461174615,"answer_id":36751473,"question_id":23164072,"body_markdown":"Answer#1: yes you can create 8 partitions for 3 brokers. no. of brokers doesn&#39;t have any constraint on no. of partitions. \r\nFor example you have 8 tables you are fetching the data and submitting to topics. if your producer submitting messages to topic with key as table name and you have 8 partitions most probably each table messages going to its own partition.\r\n\r\nBy matching your number of consumers equals to number of partitions means that all consumers reading to one partitions in parallel and consuming messages.\r\n\r\nBy design i would go for 8 consumers instances with 1 thread running as same consumer group. This way one consumer instance will be assigned to one partition. if your consumer instance die then you would have only one partition data lags behind not all. \r\n\r\nAnswer#2: In your consumer code you have thread pool of size 20 reading 8 partitions mean 12 threads will remain idle. \r\nTry 8 instances running in parallel with same group.id and share your result.\r\n\r\nEdit: This is also helpful reading\r\n\r\nhttp://www.confluent.io/blog/how-to-choose-the-number-of-topicspartitions-in-a-kafka-cluster/\r\n","title":"Is this the right Kafka Consumer Config - under this Kafka setup?","body":"<p>Answer#1: yes you can create 8 partitions for 3 brokers. no. of brokers doesn't have any constraint on no. of partitions. \nFor example you have 8 tables you are fetching the data and submitting to topics. if your producer submitting messages to topic with key as table name and you have 8 partitions most probably each table messages going to its own partition.</p>\n\n<p>By matching your number of consumers equals to number of partitions means that all consumers reading to one partitions in parallel and consuming messages.</p>\n\n<p>By design i would go for 8 consumers instances with 1 thread running as same consumer group. This way one consumer instance will be assigned to one partition. if your consumer instance die then you would have only one partition data lags behind not all. </p>\n\n<p>Answer#2: In your consumer code you have thread pool of size 20 reading 8 partitions mean 12 threads will remain idle. \nTry 8 instances running in parallel with same group.id and share your result.</p>\n\n<p>Edit: This is also helpful reading</p>\n\n<p><a href=\"http://www.confluent.io/blog/how-to-choose-the-number-of-topicspartitions-in-a-kafka-cluster/\" rel=\"nofollow\">http://www.confluent.io/blog/how-to-choose-the-number-of-topicspartitions-in-a-kafka-cluster/</a></p>\n"}],"owner":{"account_id":1662612,"reputation":235,"user_id":1530594,"accept_rate":57,"display_name":"First Blood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692810225,"creation_date":1397864804,"question_id":23164072,"body_markdown":"My `Kafka Producer` is producing messages at the rate of about .. `350 mb` per `30 seconds`.. \r\n\r\n`Kafka Setup`:\r\n\r\n--&gt; `1 Zookeeper instance`\r\n\r\n--&gt; `3 Kafka Brokers`\r\n\r\n--&gt; `1 Java Producer`\r\n\r\n--&gt; `1 Java Consumer`\r\n\r\n\r\nThis is how I created `Topic and broker partitions`:\r\n\r\n`bin/kafka-topics.sh --create --zookeeper 10.10.1.5:2181 --replication-factor 1 --partitions 8 --topic test`\r\n\r\nRest of the configuration is as follows..\r\n\r\n`Producer Code`:\r\n\r\n    KeyedMessage&lt;String, byte[]&gt; publishData = new KeyedMessage&lt;String, byte[]&gt;(this.topic, data);\r\n    producer.send(publishData);\r\nHere, `data` is a `5000` length `byte[]`.\r\n\r\n`Producer Config`:\r\n\r\n    batch.size = 200\r\n    producer.type = async\r\n    sflow-topic = test\r\n    connect.timeout.ms = 10000\r\n    request.required.acks = 0\r\n    zk.connect = 10.10.1.5:2181\r\n    serializer.class = kafka.serializer.DefaultEncoder\r\n    partitioner.class = kafka.producer.DefaultPartitioner\r\n    metadata.broker.list = 10.10.1.5:9092,10.10.1.6:9092,10.10.1.7:9092\r\n\r\n\r\nI can see my producer working just fine.. Problem is with the consumer consuming the messages.. Even if the consumer is lagging behind, I do not see my messages consumed (and eventually process, and inserted in a DB) in the same/equal pace.. Also, I ran few tests on the consumer where I found that, not all the messages are consumed by my consumer.. Not sure why :(\r\n\r\n`Consumer Code`:\r\n\r\n     public class FlowConsumer {\r\n    \tprivate final String topic;\r\n    \tprivate final ExecutorService threadPool;\r\n    \tprivate final ConsumerConnector consumer;\r\n    \tprivate static AppProperties appProperties;\r\n    \tprivate final ExecutorService processDataThreadPool;\r\n    \t\r\n    \tpublic FlowConsumer() throws Exception {\r\n    \t\t/**\r\n    \t\t * Load properties configuration for flowLog4j.properties.\r\n    \t\t */\r\n    \t\tappProperties = AppProperties.loadConfiguration();\r\n    \t\t\r\n    \t\t/** Assign the flow-topic.. */\r\n    \t\tthis.topic = appProperties.getString(AppConstants.FLOW_TOPIC);\r\n    \t\tlogger.fatal(&quot;Topic : &quot;+topic);\r\n    \t\t\r\n    \t\t/** Initialize the thread pool to consume kafka byte[] streams.. */\r\n    \t\tthis.threadPool = Executors.newFixedThreadPool(20);\r\n    \t\t\r\n    \t\t/** Initialize the thread pool for processing kafka byte[] messages.. */\r\n    \t\tthis.processDataThreadPool = Executors.newFixedThreadPool(100);\r\n    \t\t\r\n    \t\t/** Fetch the Consumer Config, by reading the Flow.properties file.. */\r\n    \t\tthis.consumer = kafka.consumer.Consumer.createJavaConsumerConnector(ConsumerPropertyConfig.getConsumerConfig(appProperties));\r\n    \t\t\r\n    \t\tlogger.fatal(&quot;Consumer : &quot;+consumer);\r\n    \t\t\r\n    \t\t//new Thread(new Consumer()).start();\r\n    \t\tthreadPool.submit(new Consumer());\r\n    \t}\r\n    \t\r\n    \tpublic void shutdown() {\r\n            if (consumer != null) consumer.shutdown();\r\n            if (threadPool != null) threadPool.shutdown();\r\n            if (processDataThreadPool!= null) processDataThreadPool.shutdown();\r\n        }\r\n    \t\r\n    \tprivate class Consumer implements Runnable {\r\n    \t\t\r\n    \t\tpublic Consumer() {\r\n    \t\t\tlogger.fatal(&quot;Started Consumer Thread!&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tMap&lt;String, Integer&gt; topicCountMap = new HashMap&lt;String, Integer&gt;();\r\n    \t        Map&lt;String, List&lt;KafkaStream&lt;byte[], byte[]&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap);\r\n    \t        List&lt;KafkaStream&lt;byte[], byte[]&gt;&gt; streams = consumerMap.get(topic);\r\n    \t        for (final KafkaStream&lt;byte[], byte[]&gt; kafkaStream : streams) {\r\n    \t        \tfor (MessageAndMetadata&lt;byte[], byte[]&gt; messageAndMetadata : kafkaStream) {\r\n    \t        \t\tprocessDataThreadPool.submit(new FlowServiceImpl(messageAndMetadata.message()));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFlowConsumer consumer = new FlowConsumer();\r\n    \t\t\r\n    \t\t/*try {\r\n                Thread.sleep(10000);\r\n            } catch (InterruptedException ie) {\r\n     \r\n            }\r\n    \t\tconsumer.shutdown();*/\r\n    \t}\r\n    }\r\n\r\n`Consumer Config`:\r\n\r\n    group.id = group1\r\n    flow-topic = test\r\n    auto.offset.reset = smallest\r\n    auto.commit.interval.ms = 2000\r\n    zookeeper.connect = 10.10.1.5:2181\r\n    zookeeper.sync.time.ms = 2000\r\n    zookeeper.session.timeout.ms = 2000\r\n    zookeeper.connection.timeout.ms = 6000\r\n\r\n`Question 1`: \r\n\r\nFor 3 brokers, can/should I create more than `3` partitions? I read that more partitions means, I can add more parallelism to my consumer? But how, by using more consumer thread on a single consumer? Or by having 3 consumer instances, having 1 thread each?\r\n\r\n`Question 2`:\r\n\r\nIs my Java consumer config code `correct/wrong`? \r\n\r\nCan anyone please tell me what am I doing wrong in here?","title":"Is this the right Kafka Consumer Config - under this Kafka setup?","body":"<p>My <code>Kafka Producer</code> is producing messages at the rate of about .. <code>350 mb</code> per <code>30 seconds</code>.. </p>\n\n<p><code>Kafka Setup</code>:</p>\n\n<p>--> <code>1 Zookeeper instance</code></p>\n\n<p>--> <code>3 Kafka Brokers</code></p>\n\n<p>--> <code>1 Java Producer</code></p>\n\n<p>--> <code>1 Java Consumer</code></p>\n\n<p>This is how I created <code>Topic and broker partitions</code>:</p>\n\n<p><code>bin/kafka-topics.sh --create --zookeeper 10.10.1.5:2181 --replication-factor 1 --partitions 8 --topic test</code></p>\n\n<p>Rest of the configuration is as follows..</p>\n\n<p><code>Producer Code</code>:</p>\n\n<pre><code>KeyedMessage&lt;String, byte[]&gt; publishData = new KeyedMessage&lt;String, byte[]&gt;(this.topic, data);\nproducer.send(publishData);\n</code></pre>\n\n<p>Here, <code>data</code> is a <code>5000</code> length <code>byte[]</code>.</p>\n\n<p><code>Producer Config</code>:</p>\n\n<pre><code>batch.size = 200\nproducer.type = async\nsflow-topic = test\nconnect.timeout.ms = 10000\nrequest.required.acks = 0\nzk.connect = 10.10.1.5:2181\nserializer.class = kafka.serializer.DefaultEncoder\npartitioner.class = kafka.producer.DefaultPartitioner\nmetadata.broker.list = 10.10.1.5:9092,10.10.1.6:9092,10.10.1.7:9092\n</code></pre>\n\n<p>I can see my producer working just fine.. Problem is with the consumer consuming the messages.. Even if the consumer is lagging behind, I do not see my messages consumed (and eventually process, and inserted in a DB) in the same/equal pace.. Also, I ran few tests on the consumer where I found that, not all the messages are consumed by my consumer.. Not sure why :(</p>\n\n<p><code>Consumer Code</code>:</p>\n\n<pre><code> public class FlowConsumer {\n    private final String topic;\n    private final ExecutorService threadPool;\n    private final ConsumerConnector consumer;\n    private static AppProperties appProperties;\n    private final ExecutorService processDataThreadPool;\n\n    public FlowConsumer() throws Exception {\n        /**\n         * Load properties configuration for flowLog4j.properties.\n         */\n        appProperties = AppProperties.loadConfiguration();\n\n        /** Assign the flow-topic.. */\n        this.topic = appProperties.getString(AppConstants.FLOW_TOPIC);\n        logger.fatal(\"Topic : \"+topic);\n\n        /** Initialize the thread pool to consume kafka byte[] streams.. */\n        this.threadPool = Executors.newFixedThreadPool(20);\n\n        /** Initialize the thread pool for processing kafka byte[] messages.. */\n        this.processDataThreadPool = Executors.newFixedThreadPool(100);\n\n        /** Fetch the Consumer Config, by reading the Flow.properties file.. */\n        this.consumer = kafka.consumer.Consumer.createJavaConsumerConnector(ConsumerPropertyConfig.getConsumerConfig(appProperties));\n\n        logger.fatal(\"Consumer : \"+consumer);\n\n        //new Thread(new Consumer()).start();\n        threadPool.submit(new Consumer());\n    }\n\n    public void shutdown() {\n        if (consumer != null) consumer.shutdown();\n        if (threadPool != null) threadPool.shutdown();\n        if (processDataThreadPool!= null) processDataThreadPool.shutdown();\n    }\n\n    private class Consumer implements Runnable {\n\n        public Consumer() {\n            logger.fatal(\"Started Consumer Thread!\");\n        }\n\n        @Override\n        public void run() {\n            Map&lt;String, Integer&gt; topicCountMap = new HashMap&lt;String, Integer&gt;();\n            Map&lt;String, List&lt;KafkaStream&lt;byte[], byte[]&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap);\n            List&lt;KafkaStream&lt;byte[], byte[]&gt;&gt; streams = consumerMap.get(topic);\n            for (final KafkaStream&lt;byte[], byte[]&gt; kafkaStream : streams) {\n                for (MessageAndMetadata&lt;byte[], byte[]&gt; messageAndMetadata : kafkaStream) {\n                    processDataThreadPool.submit(new FlowServiceImpl(messageAndMetadata.message()));\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        FlowConsumer consumer = new FlowConsumer();\n\n        /*try {\n            Thread.sleep(10000);\n        } catch (InterruptedException ie) {\n\n        }\n        consumer.shutdown();*/\n    }\n}\n</code></pre>\n\n<p><code>Consumer Config</code>:</p>\n\n<pre><code>group.id = group1\nflow-topic = test\nauto.offset.reset = smallest\nauto.commit.interval.ms = 2000\nzookeeper.connect = 10.10.1.5:2181\nzookeeper.sync.time.ms = 2000\nzookeeper.session.timeout.ms = 2000\nzookeeper.connection.timeout.ms = 6000\n</code></pre>\n\n<p><code>Question 1</code>: </p>\n\n<p>For 3 brokers, can/should I create more than <code>3</code> partitions? I read that more partitions means, I can add more parallelism to my consumer? But how, by using more consumer thread on a single consumer? Or by having 3 consumer instances, having 1 thread each?</p>\n\n<p><code>Question 2</code>:</p>\n\n<p>Is my Java consumer config code <code>correct/wrong</code>? </p>\n\n<p>Can anyone please tell me what am I doing wrong in here?</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1289760752,"post_id":4178957,"comment_id":4514770,"body_markdown":"I found a hack for this (see my answer and org.life.java&#39;s answer below).  But is there a simple switch, setting, or property somewhere that will give the spinner this behavior without writing all that code?","body":"I found a hack for this (see my answer and org.life.java&#39;s answer below).  But is there a simple switch, setting, or property somewhere that will give the spinner this behavior without writing all that code?"},{"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":0,"creation_date":1289760899,"post_id":4178957,"comment_id":4514789,"body_markdown":"Do you have tried **something** before asking?","body":"Do you have tried <b>something</b> before asking?"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692810222,"creation_date":1289759713,"answer_id":4178977,"question_id":4178957,"body_markdown":"    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    public class TestSpinner extends JFrame implements MouseWheelListener\r\n    {\r\n      public TestSpinner()\r\n      {\r\n        setSize( 100, 50 );\r\n        spinner = new JSpinner();\r\n        spinner.addMouseWheelListener( this );\r\n        getContentPane().add( spinner, &quot;Center&quot; );\r\n      }\r\n      public void mouseWheelMoved( MouseWheelEvent e )\r\n      {\r\n        spinner.setValue(\r\n            new Integer( ((Integer)spinner.getValue()).intValue() - e.getWheelRotation() ) );\r\n      }\r\n      public static void main( String [] args )\r\n      {\r\n        TestSpinner t = new TestSpinner();\r\n        t.setVisible( true );\r\n      }\r\n      private JSpinner spinner;\r\n    }  \r\n\r\nSource: https://www.devx.com/tip-bank/14880/","title":"Using the mouse wheel with JSpinner in Java","body":"<pre><code>import javax.swing.*;\nimport java.awt.event.*;\npublic class TestSpinner extends JFrame implements MouseWheelListener\n{\n  public TestSpinner()\n  {\n    setSize( 100, 50 );\n    spinner = new JSpinner();\n    spinner.addMouseWheelListener( this );\n    getContentPane().add( spinner, &quot;Center&quot; );\n  }\n  public void mouseWheelMoved( MouseWheelEvent e )\n  {\n    spinner.setValue(\n        new Integer( ((Integer)spinner.getValue()).intValue() - e.getWheelRotation() ) );\n  }\n  public static void main( String [] args )\n  {\n    TestSpinner t = new TestSpinner();\n    t.setVisible( true );\n  }\n  private JSpinner spinner;\n}  \n</code></pre>\n<p>Source: <a href=\"https://www.devx.com/tip-bank/14880/\" rel=\"nofollow noreferrer\">https://www.devx.com/tip-bank/14880/</a></p>\n"},{"tags":[],"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289760624,"creation_date":1289760624,"answer_id":4179041,"question_id":4178957,"body_markdown":"    spinner.addMouseWheelListener(new MouseWheelListener() {\r\n        public void mouseWheelMoved(MouseWheelEvent mwe) {\r\n            if (mwe.getScrollType() != MouseWheelEvent.WHEEL_UNIT_SCROLL) {\r\n                return;\r\n            }\r\n            double value = (Double)spinner.getValue();\r\n            value -= mwe.getUnitsToScroll();\r\n            spinner.setValue(value);\r\n        }\r\n    });\r\n\r\nThis hack worked for me.","title":"Using the mouse wheel with JSpinner in Java","body":"<pre><code>spinner.addMouseWheelListener(new MouseWheelListener() {\n    public void mouseWheelMoved(MouseWheelEvent mwe) {\n        if (mwe.getScrollType() != MouseWheelEvent.WHEEL_UNIT_SCROLL) {\n            return;\n        }\n        double value = (Double)spinner.getValue();\n        value -= mwe.getUnitsToScroll();\n        spinner.setValue(value);\n    }\n});\n</code></pre>\n\n<p>This hack worked for me.</p>\n"}],"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2033,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692810222,"creation_date":1289759400,"question_id":4178957,"body_markdown":"I would like to use my mouse wheel to increment and decrement a JSpinner.  Is this possible?","title":"Using the mouse wheel with JSpinner in Java","body":"<p>I would like to use my mouse wheel to increment and decrement a JSpinner.  Is this possible?</p>\n"},{"tags":["java","logging","logback","logback-classic"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692814910,"post_id":76963466,"comment_id":135676795,"body_markdown":"That&#39;s because you&#39;re repeating level configurations for the root logger. Get rid of all apart from the DEBUG one. You can change the level of that as and when necessary","body":"That&#39;s because you&#39;re repeating level configurations for the root logger. Get rid of all apart from the DEBUG one. You can change the level of that as and when necessary"},{"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"score":0,"creation_date":1692854510,"post_id":76963466,"comment_id":135681037,"body_markdown":"There was only debug before. But still my logs were not recorded. @g00se","body":"There was only debug before. But still my logs were not recorded. @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692866685,"post_id":76963466,"comment_id":135683032,"body_markdown":"Works for me. Of course you didn&#39;t show its location relative to your classpath or how you&#39;re using it","body":"Works for me. Of course you didn&#39;t show its location relative to your classpath or how you&#39;re using it"},{"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"score":0,"creation_date":1692874922,"post_id":76963466,"comment_id":135684648,"body_markdown":"so how can i do this? @g00se","body":"so how can i do this? @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692878198,"post_id":76963466,"comment_id":135685337,"body_markdown":"Well you should start by providing the missing info into your question. Also check that target directory is writable by the user running the process","body":"Well you should start by providing the missing info into your question. Also check that target directory is writable by the user running the process"}],"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692810058,"creation_date":1692810058,"question_id":76963466,"body_markdown":"I am using Logback logging library on Java. I prepared the logback.xml configuration, but it does not record to the target directory I specified. I share the configuration codes with you.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration scan=&quot;true&quot;&gt;\r\n    &lt;property name=&quot;USER_HOME&quot; value=&quot;C:\\LogSs&quot; /&gt;\r\n    &lt;appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;Pattern&gt;%d %-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\r\n        &lt;file&gt;${USER_HOME}/myApp.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${USER_HOME}/application_%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;5MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n            &lt;!-- keep 30 days&#39; worth of history --&gt;\r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n\r\n        &lt;encoder&gt;\r\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;pattern&gt;%d %-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n    &lt;root level=&quot;ERROR&quot;&gt;\r\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```","title":"How can i solve this subject: Java LogBack Configuration is not working","body":"<p>I am using Logback logging library on Java. I prepared the logback.xml configuration, but it does not record to the target directory I specified. I share the configuration codes with you.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration scan=&quot;true&quot;&gt;\n    &lt;property name=&quot;USER_HOME&quot; value=&quot;C:\\LogSs&quot; /&gt;\n    &lt;appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\n            &lt;Pattern&gt;%d %-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n\n        &lt;file&gt;${USER_HOME}/myApp.log&lt;/file&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${USER_HOME}/application_%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;5MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n            &lt;!-- keep 30 days' worth of history --&gt;\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n\n        &lt;encoder&gt;\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\n            &lt;pattern&gt;%d %-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n    &lt;/root&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n    &lt;/root&gt;\n    &lt;root level=&quot;ERROR&quot;&gt;\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1692807262,"post_id":76963176,"comment_id":135675408,"body_markdown":"You can&#39;t assign an instance of type `X` to a reference of type `B` unless `X` is also a `B`.","body":"You can&#39;t assign an instance of type <code>X</code> to a reference of type <code>B</code> unless <code>X</code> is also a <code>B</code>."},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1692807350,"post_id":76963176,"comment_id":135675427,"body_markdown":"I&#39;m afraid to say I have no idea what it is you are trying to do. You write `B instanceOfBUsingX = new B() //it must use interface X` **but none of your classes implement any interface at all!**. `B` doesn&#39;t implement `X` because nowhere in your code have you told that one of your classes in the hierarchy `implements X`. So where do you expect this B that somehow implements X to come from?","body":"I&#39;m afraid to say I have no idea what it is you are trying to do. You write <code>B instanceOfBUsingX = new B() &#47;&#47;it must use interface X</code> <b>but none of your classes implement any interface at all!</b>. <code>B</code> doesn&#39;t implement <code>X</code> because nowhere in your code have you told that one of your classes in the hierarchy <code>implements X</code>. So where do you expect this B that somehow implements X to come from?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1692808018,"post_id":76963176,"comment_id":135675548,"body_markdown":"Expanding on @OHGODSPIDERS&#39;s comment: what does &quot;use interface X&quot; mean to you? I feel there&#39;s a fundamental misunderstanding here.","body":"Expanding on @OHGODSPIDERS&#39;s comment: what does &quot;use interface X&quot; mean to you? I feel there&#39;s a fundamental misunderstanding here."},{"owner":{"account_id":29262215,"reputation":23,"user_id":22418915,"display_name":"adrian quispe"},"score":0,"creation_date":1692808047,"post_id":76963176,"comment_id":135675554,"body_markdown":"A is Product, B is Milk, X is Discount, a product can have discounts or not, but only can use discounts methods if it has implemented the discount (discounts are only managed through interface)","body":"A is Product, B is Milk, X is Discount, a product can have discounts or not, but only can use discounts methods if it has implemented the discount (discounts are only managed through interface)"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1692808230,"post_id":76963176,"comment_id":135675587,"body_markdown":"Do you want some kind of duck typing, where `interface X` prescibes some `x()` method, and `class B` happens to have such method, and you really just don&#39;t want to write out the `implements X`?","body":"Do you want some kind of duck typing, where <code>interface X</code> prescibes some <code>x()</code> method, and <code>class B</code> happens to have such method, and you really just don&#39;t want to write out the <code>implements X</code>?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1692808240,"post_id":76963176,"comment_id":135675589,"body_markdown":"It sounds like you want to be able to dynamically add attributes to your instance. Inheritance can&#39;t do that â€” it&#39;s something that&#39;s checked at compile-time. I would model this using composition instead: have Product have a nullable Discount field (or possibly-empty collection, if you can have multiple discounts on a single product). You may want to model it differently altogether, too: have separate Products and Discounts (where a Discount references the Product it&#39;s for), and then at checkout time find all the Discounts that apply to a given Product, and apply them.","body":"It sounds like you want to be able to dynamically add attributes to your instance. Inheritance can&#39;t do that â€” it&#39;s something that&#39;s checked at compile-time. I would model this using composition instead: have Product have a nullable Discount field (or possibly-empty collection, if you can have multiple discounts on a single product). You may want to model it differently altogether, too: have separate Products and Discounts (where a Discount references the Product it&#39;s for), and then at checkout time find all the Discounts that apply to a given Product, and apply them."},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1692808278,"post_id":76963176,"comment_id":135675601,"body_markdown":"I think you are misunderstanding what interfaces are for. If class B implements interface X, then that is like saying &quot;B is an X&quot;. In your case &quot;Milk is a Discount&quot; does make no sense at all, hence Milk implementing Discount as an Interface makes also no sense. Milk can have a discount. So make the Discount a property of your Milk class by giving it a field `private Discount discount` for example.","body":"I think you are misunderstanding what interfaces are for. If class B implements interface X, then that is like saying &quot;B is an X&quot;. In your case &quot;Milk is a Discount&quot; does make no sense at all, hence Milk implementing Discount as an Interface makes also no sense. Milk can have a discount. So make the Discount a property of your Milk class by giving it a field <code>private Discount discount</code> for example."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1692808895,"post_id":76963176,"comment_id":135675726,"body_markdown":"Or, don&#39;t have a field to store the discount - the discount isn&#39;t a property of the item I&#39;m buying, it&#39;s a property of the collection of things I&#39;m buying, at the point I pay (e.g. think of a 3-for-2 deal - which of the items does the discount belong to?). In some sense, the discount is a property of your cart, not the items in it.","body":"Or, don&#39;t have a field to store the discount - the discount isn&#39;t a property of the item I&#39;m buying, it&#39;s a property of the collection of things I&#39;m buying, at the point I pay (e.g. think of a 3-for-2 deal - which of the items does the discount belong to?). In some sense, the discount is a property of your cart, not the items in it."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692808398,"creation_date":1692808398,"answer_id":76963296,"question_id":76963176,"body_markdown":"No, you can&#39;t implement an interface as the instance level, only the class level. The accepted solution to this problem is called the [adapter pattern](https://en.wikipedia.org/wiki/Adapter_pattern).\r\n\r\nAssume we have this pre-existing class that doesn&#39;t know about our special interface.\r\n\r\n```\r\npublic class SomeClass {\r\n\r\n  public void doTheThing() {\r\n    ...\r\n  }\r\n\r\n}\r\n```\r\n\r\nThen we want it to implement a new interface we just came up with.\r\n\r\n```\r\npublic interface CanDoTheThing {\r\n  public void doTheThing();\r\n}\r\n```\r\n\r\nThen we make a wrapper class that *contains* an instance of `SomeClass` and calls the right method.\r\n\r\n```\r\npublic class SomeClassAdapter implements CanDoTheThing {\r\n  private SomeClass impl;\r\n\r\n  public SomeClassAdapter(SomeClass impl) {\r\n    this.impl = impl;\r\n  }\r\n\r\n  @Override\r\n  public void doTheThing() {\r\n    this.impl.doTheThing();\r\n  }\r\n\r\n}\r\n```\r\n\r\nNow when we want to pass an instance `someInstance` of `SomeClass` to a function that needs an instance of `CanDoTheThing`, we instead pass `new SomeClassAdapter(someInstance)`.","title":"Create instances of a class with an without implementing an interface","body":"<p>No, you can't implement an interface as the instance level, only the class level. The accepted solution to this problem is called the <a href=\"https://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"nofollow noreferrer\">adapter pattern</a>.</p>\n<p>Assume we have this pre-existing class that doesn't know about our special interface.</p>\n<pre><code>public class SomeClass {\n\n  public void doTheThing() {\n    ...\n  }\n\n}\n</code></pre>\n<p>Then we want it to implement a new interface we just came up with.</p>\n<pre><code>public interface CanDoTheThing {\n  public void doTheThing();\n}\n</code></pre>\n<p>Then we make a wrapper class that <em>contains</em> an instance of <code>SomeClass</code> and calls the right method.</p>\n<pre><code>public class SomeClassAdapter implements CanDoTheThing {\n  private SomeClass impl;\n\n  public SomeClassAdapter(SomeClass impl) {\n    this.impl = impl;\n  }\n\n  @Override\n  public void doTheThing() {\n    this.impl.doTheThing();\n  }\n\n}\n</code></pre>\n<p>Now when we want to pass an instance <code>someInstance</code> of <code>SomeClass</code> to a function that needs an instance of <code>CanDoTheThing</code>, we instead pass <code>new SomeClassAdapter(someInstance)</code>.</p>\n"},{"tags":[],"owner":{"account_id":9141536,"reputation":111,"user_id":6799222,"accept_rate":78,"display_name":"DarioS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692809652,"creation_date":1692809652,"answer_id":76963424,"question_id":76963176,"body_markdown":"It seems like you&#39;re looking for a way to have a class that extends another class while also implementing certain interfaces, without explicitly creating a new subclass for each combination of the base class and interfaces. However, in most programming languages, including Java, you cannot directly achieve this without creating specific subclasses or modifying the class hierarchy.\r\n\r\nIn your example, if you want both instanceOfB and instanceOfBUsingX to be of the same class type and have B as their base class, while also implementing interface X in the second case, you would typically need to create a class that extends B and implements X. Here&#39;s an example in Java:\r\n\r\n    class B implements X { }\r\n    class BUsingX extends B implements X { }\r\n    B instanceOfB = new B();\r\n    BUsingX instanceOfBUsingX = new BUsingX();\r\n\r\nThis way, you would indeed need to create a separate subclass for each combination of base class and interface.\r\n\r\nAlternatively, you could consider using composition instead of inheritance. Instead of directly extending B, you could create a wrapper class that implements the required interface and internally holds an instance of B. This can help you achieve similar behavior without creating numerous subclasses:\r\n\r\n    class BWrapper implements X {\r\n    private B wrappedInstance = new B();\r\n    // Implement methods from interface X by delegating to wrappedInstance\r\n    }\r\n    BWrapper instanceOfBUsingX = new BWrapper();\r\n","title":"Create instances of a class with an without implementing an interface","body":"<p>It seems like you're looking for a way to have a class that extends another class while also implementing certain interfaces, without explicitly creating a new subclass for each combination of the base class and interfaces. However, in most programming languages, including Java, you cannot directly achieve this without creating specific subclasses or modifying the class hierarchy.</p>\n<p>In your example, if you want both instanceOfB and instanceOfBUsingX to be of the same class type and have B as their base class, while also implementing interface X in the second case, you would typically need to create a class that extends B and implements X. Here's an example in Java:</p>\n<pre><code>class B implements X { }\nclass BUsingX extends B implements X { }\nB instanceOfB = new B();\nBUsingX instanceOfBUsingX = new BUsingX();\n</code></pre>\n<p>This way, you would indeed need to create a separate subclass for each combination of base class and interface.</p>\n<p>Alternatively, you could consider using composition instead of inheritance. Instead of directly extending B, you could create a wrapper class that implements the required interface and internally holds an instance of B. This can help you achieve similar behavior without creating numerous subclasses:</p>\n<pre><code>class BWrapper implements X {\nprivate B wrappedInstance = new B();\n// Implement methods from interface X by delegating to wrappedInstance\n}\nBWrapper instanceOfBUsingX = new BWrapper();\n</code></pre>\n"}],"owner":{"account_id":29262215,"reputation":23,"user_id":22418915,"display_name":"adrian quispe"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76963296,"answer_count":2,"score":0,"last_activity_date":1692809652,"creation_date":1692807153,"question_id":76963176,"body_markdown":"Is there a way to do that without using a subclass that extends said class and using a implement?\r\n\r\nI have something like this:\r\n\r\n    abstract class A{ }\r\n    \r\n    class B extends A{ }\r\n    \r\n    class C extends A{ }\r\n    \r\n    class D extends A{ }\r\n    \r\n    Interface X { }\r\n    \r\n    Interface Y { }\r\n    \r\n    Interface Z { }\r\n    \r\n    B instanceOfB = new B() //doesn&#39;t use interface\r\n    \r\n    B instanceOfBUsingX = new B() //it must use interface X\r\n\r\nI don&#39;t want to create a `class B_using_X extends B implements X` because I would need to make every combination possible.\r\nalso both declarations must be of (or be treated as) the same class type (I think this shouldn&#39;t be a problem if I declare methods that expects A types)","title":"Create instances of a class with an without implementing an interface","body":"<p>Is there a way to do that without using a subclass that extends said class and using a implement?</p>\n<p>I have something like this:</p>\n<pre><code>abstract class A{ }\n\nclass B extends A{ }\n\nclass C extends A{ }\n\nclass D extends A{ }\n\nInterface X { }\n\nInterface Y { }\n\nInterface Z { }\n\nB instanceOfB = new B() //doesn't use interface\n\nB instanceOfBUsingX = new B() //it must use interface X\n</code></pre>\n<p>I don't want to create a <code>class B_using_X extends B implements X</code> because I would need to make every combination possible.\nalso both declarations must be of (or be treated as) the same class type (I think this shouldn't be a problem if I declare methods that expects A types)</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":12858951,"reputation":1213,"user_id":9301369,"display_name":"nickc"},"down_vote_count":2,"up_vote_count":105,"is_accepted":false,"score":103,"last_activity_date":1540212516,"creation_date":1521723925,"answer_id":49429492,"question_id":49286268,"body_markdown":"Based off this Post\r\n\r\n**Edit:**\r\nI removed the link because the thread is no longer there \r\n\r\n\r\nWhat you need to do is add this chunk of code to your build.gradle file\r\nin the android{} section\r\n\r\n    lintOptions { \r\n        checkReleaseBuilds false\r\n    }\r\n\r\nSo like this\r\n\r\n    android {\r\n        ...\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n        }\r\n    }\r\n\r\n**Update:**\r\n\r\nHere is another post talking about a similar problem. It seems like there are various reasons this error can occur. While disabling the checkReleaseBuilds will work. It&#39;s recommended to find what the problem is and fix it. Most common error seems to be missing translations in the `strings.xml` file.\r\n\r\nI recommend checking out this post for more help\r\n\r\n[https://stackoverflow.com/questions/24098494/error-when-generate-signed-apk][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24098494/error-when-generate-signed-apk","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>Based off this Post</p>\n\n<p><strong>Edit:</strong>\nI removed the link because the thread is no longer there </p>\n\n<p>What you need to do is add this chunk of code to your build.gradle file\nin the android{} section</p>\n\n<pre><code>lintOptions { \n    checkReleaseBuilds false\n}\n</code></pre>\n\n<p>So like this</p>\n\n<pre><code>android {\n    ...\n    lintOptions {\n        checkReleaseBuilds false\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>Here is another post talking about a similar problem. It seems like there are various reasons this error can occur. While disabling the checkReleaseBuilds will work. It's recommended to find what the problem is and fix it. Most common error seems to be missing translations in the <code>strings.xml</code> file.</p>\n\n<p>I recommend checking out this post for more help</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24098494/error-when-generate-signed-apk\">Error when generate signed apk</a></p>\n"},{"tags":[],"owner":{"account_id":9089962,"reputation":3525,"user_id":6766264,"accept_rate":0,"display_name":"Makvin"},"down_vote_count":7,"up_vote_count":28,"is_accepted":false,"score":21,"last_activity_date":1525339035,"creation_date":1525339035,"answer_id":50151302,"question_id":49286268,"body_markdown":"    lintOptions {\r\n            checkReleaseBuilds false\r\n            abortOnError false\r\n        }","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<pre><code>lintOptions {\n        checkReleaseBuilds false\n        abortOnError false\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7284330,"reputation":1119,"user_id":5552925,"display_name":"Ilia  Grabko"},"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1596411742,"creation_date":1544185929,"answer_id":53669619,"question_id":49286268,"body_markdown":"To find out why lint fails do this:\r\n\r\n 1. Run lintVitalRelease \r\n\r\nYou can do it from Gradle window\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n 2. Under Run tab, you will see error logs \r\n\r\n[![enter image description here][2]][2]\r\n\r\nFor me, it was wrong constraint in ConstraintLayout XML.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XM39c.png\r\n  [2]: https://i.stack.imgur.com/Twg1T.png\r\n  [3]: https://i.stack.imgur.com/lM6cQ.png","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>To find out why lint fails do this:</p>\n<ol>\n<li>Run lintVitalRelease</li>\n</ol>\n<p>You can do it from Gradle window</p>\n<p><a href=\"https://i.stack.imgur.com/XM39c.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XM39c.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Under Run tab, you will see error logs</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Twg1T.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Twg1T.png\" alt=\"enter image description here\" /></a></p>\n<p>For me, it was wrong constraint in ConstraintLayout XML.</p>\n<p><a href=\"https://i.stack.imgur.com/lM6cQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lM6cQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":151391,"reputation":3473,"user_id":365229,"accept_rate":77,"display_name":"Behrouz.M"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1551556131,"creation_date":1551556131,"answer_id":54962373,"question_id":49286268,"body_markdown":"The error report is saved to `[app module]/build/reports/lint-results-yourBuildName-fatal.html`. You can open this file in a browser to read about the errors.\r\n\r\nsrc: https://stackoverflow.com/a/50239165/365229","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>The error report is saved to <code>[app module]/build/reports/lint-results-yourBuildName-fatal.html</code>. You can open this file in a browser to read about the errors.</p>\n\n<p>src: <a href=\"https://stackoverflow.com/a/50239165/365229\">https://stackoverflow.com/a/50239165/365229</a></p>\n"},{"tags":[],"owner":{"account_id":14509776,"reputation":91,"user_id":10480536,"display_name":"Mingju Roberts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580736360,"creation_date":1580736360,"answer_id":60040197,"question_id":49286268,"body_markdown":"Make sure to have \r\n`jcenter()`\r\nin both buildscript and allprojects in your build.gradle android{} section","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>Make sure to have \n<code>jcenter()</code>\nin both buildscript and allprojects in your build.gradle android{} section</p>\n"},{"tags":[],"owner":{"account_id":17569788,"reputation":495,"user_id":12745710,"display_name":"Emmanuel Ametepee"},"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1605135046,"creation_date":1587340826,"answer_id":61313250,"question_id":49286268,"body_markdown":"Open your build.gradle file and add the code below under android:\r\n\r\n    android {\r\n    \r\n        lintOptions { \r\n          checkReleaseBuilds false \r\n        }","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>Open your build.gradle file and add the code below under android:</p>\n<pre><code>android {\n\n    lintOptions { \n      checkReleaseBuilds false \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15652788,"reputation":956,"user_id":11293861,"display_name":"Anshul Kataria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599143747,"creation_date":1599143747,"answer_id":63725897,"question_id":49286268,"body_markdown":"I was also getting an error like \r\n\r\n             &gt; Failed to transform &#39;/Users/michaelbui/Projects/counter/build/app/intermediates/flutter/debug/libs.jar&#39; using Jetifier. Reason: FileNotFoundException, message: /Users/michaelbui/Projects/counter/build/app/intermediates/flutter/debug/libs.jar (No such file or directory). (Run with --stacktrace for more details.)\r\n\r\n\r\n while building the app after the latest update, but then I disabled the lint task in android/app/build.gradle\r\n\r\n    lintOptions {\r\n        disable &#39;InvalidPackage&#39;\r\n        checkReleaseBuilds false\r\n    }\r\n\r\nand this worked for me.","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>I was also getting an error like</p>\n<pre><code>         &gt; Failed to transform '/Users/michaelbui/Projects/counter/build/app/intermediates/flutter/debug/libs.jar' using Jetifier. Reason: FileNotFoundException, message: /Users/michaelbui/Projects/counter/build/app/intermediates/flutter/debug/libs.jar (No such file or directory). (Run with --stacktrace for more details.)\n</code></pre>\n<p>while building the app after the latest update, but then I disabled the lint task in android/app/build.gradle</p>\n<pre><code>lintOptions {\n    disable 'InvalidPackage'\n    checkReleaseBuilds false\n}\n</code></pre>\n<p>and this worked for me.</p>\n"},{"tags":[],"owner":{"account_id":17858801,"reputation":77,"user_id":12972801,"display_name":"Kamran Riyaz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606470602,"creation_date":1606470602,"answer_id":65035172,"question_id":49286268,"body_markdown":"File &gt; Invalidate Caches/Restart... worked for me.","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>File &gt; Invalidate Caches/Restart... worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3009033,"reputation":1853,"user_id":2552918,"accept_rate":57,"display_name":"novas1r1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614849338,"creation_date":1614849338,"answer_id":66471945,"question_id":49286268,"body_markdown":"In my opinion don&#39;t use &quot;checkReleaseBuilds false&quot;. This broke my whole release build and I only saw a white screen.\r\n\r\nA current workaround is running:\r\n\r\n```\r\nflutter run --profile\r\nflutter run --debug\r\nflutter run --release\r\n```\r\n\r\nCurrently that&#39;s the only thing that worked for me.\r\nThere is an open issue here: https://issuetracker.google.com/issues/158753935","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>In my opinion don't use &quot;checkReleaseBuilds false&quot;. This broke my whole release build and I only saw a white screen.</p>\n<p>A current workaround is running:</p>\n<pre><code>flutter run --profile\nflutter run --debug\nflutter run --release\n</code></pre>\n<p>Currently that's the only thing that worked for me.\nThere is an open issue here: <a href=\"https://issuetracker.google.com/issues/158753935\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/158753935</a></p>\n"},{"tags":[],"owner":{"account_id":19490079,"reputation":615,"user_id":14258439,"display_name":"Kumar Santanu"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1619611011,"creation_date":1619609180,"answer_id":67299324,"question_id":49286268,"body_markdown":" **Simple and Working**\r\n\r\n*Solution 1*\r\n\r\n    android {\r\n            lintOptions {\r\n                checkReleaseBuilds false\r\n                // Or, if you prefer, you can continue to check for errors in release builds,\r\n                // but continue the build even when errors are found:\r\n                abortOnError false\r\n            }\r\n        }\r\n\r\n*Solution 2*\r\n\r\n    android {\r\n            lintOptions {\r\n                checkReleaseBuilds false\r\n                abortOnError false\r\n            }\r\n        }\r\n\r\n*Solution 3*\r\n\r\n     android {\r\n            lintOptions {\r\n               disable &#39;MissingTranslation&#39;\r\n               abortOnError false\r\n            }\r\n        }\r\n\r\n&gt; Notes: There are two type uses option -&gt;\r\n\r\n*1*\r\n   \r\n\r\n     lintOptions {\r\n            //TODO\r\n        }\r\n\r\n*2*\r\n\r\n    android {\r\n            lintOptions {\r\n               // TODO\r\n            }\r\n        }\r\n\r\n**Thank You**","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p><strong>Simple and Working</strong></p>\n<p><em>Solution 1</em></p>\n<pre><code>android {\n        lintOptions {\n            checkReleaseBuilds false\n            // Or, if you prefer, you can continue to check for errors in release builds,\n            // but continue the build even when errors are found:\n            abortOnError false\n        }\n    }\n</code></pre>\n<p><em>Solution 2</em></p>\n<pre><code>android {\n        lintOptions {\n            checkReleaseBuilds false\n            abortOnError false\n        }\n    }\n</code></pre>\n<p><em>Solution 3</em></p>\n<pre><code> android {\n        lintOptions {\n           disable 'MissingTranslation'\n           abortOnError false\n        }\n    }\n</code></pre>\n<blockquote>\n<p>Notes: There are two type uses option -&gt;</p>\n</blockquote>\n<p><em>1</em></p>\n<pre><code> lintOptions {\n        //TODO\n    }\n</code></pre>\n<p><em>2</em></p>\n<pre><code>android {\n        lintOptions {\n           // TODO\n        }\n    }\n</code></pre>\n<p><strong>Thank You</strong></p>\n"},{"tags":[],"owner":{"account_id":22235653,"reputation":1,"user_id":16471074,"display_name":"Cramos50"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626665800,"creation_date":1626665800,"answer_id":68434844,"question_id":49286268,"body_markdown":"In my case there was some typos in the manifest that caused the error, just corrected them and it compiled","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>In my case there was some typos in the manifest that caused the error, just corrected them and it compiled</p>\n"},{"tags":[],"owner":{"account_id":4877215,"reputation":2024,"user_id":4724710,"display_name":"Anubhav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628668302,"creation_date":1628668302,"answer_id":68738049,"question_id":49286268,"body_markdown":"In my case it was happening because I was using an invalid(not existing) id to constraint a view, and when I tried to create a build, it gave me the error. What you can do is execute task, \r\n    \r\n    ./gradlew assembleRelease --stacktrace\r\n\r\nThis will give you the following options, \r\n\r\nTo proceed, either fix the issues identified by lint, or modify your build script as follows:\r\n\r\n    ...\r\n    android {\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n        // Or, if you prefer, you can continue to check for errors in release builds,\r\n        // but continue the build even when errors are found:\r\n        abortOnError false\r\n    }\r\n    }\r\n\r\nIf you choose, \r\n\r\n    checkReleaseBuilds false\r\nIt will not check for errors in the release build and create a build, \r\n\r\nand if you choose, \r\n\r\n    abortOnError false\r\nIt will create a build, and as well list down the error(s). \r\n\r\nThis way you can actually correct the errors.\r\n","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>In my case it was happening because I was using an invalid(not existing) id to constraint a view, and when I tried to create a build, it gave me the error. What you can do is execute task,</p>\n<pre><code>./gradlew assembleRelease --stacktrace\n</code></pre>\n<p>This will give you the following options,</p>\n<p>To proceed, either fix the issues identified by lint, or modify your build script as follows:</p>\n<pre><code>...\nandroid {\nlintOptions {\n    checkReleaseBuilds false\n    // Or, if you prefer, you can continue to check for errors in release builds,\n    // but continue the build even when errors are found:\n    abortOnError false\n}\n}\n</code></pre>\n<p>If you choose,</p>\n<pre><code>checkReleaseBuilds false\n</code></pre>\n<p>It will not check for errors in the release build and create a build,</p>\n<p>and if you choose,</p>\n<pre><code>abortOnError false\n</code></pre>\n<p>It will create a build, and as well list down the error(s).</p>\n<p>This way you can actually correct the errors.</p>\n"},{"tags":[],"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631539388,"creation_date":1631539388,"answer_id":69163486,"question_id":49286268,"body_markdown":"I had some missing jars and behind a corporate firewall and there was an attempt to download them during `lintVitalRelease`. I disconnected from VPN, re-run, which downloaded the missing jars and all returned to normal.\r\n\r\nI knew it has to be something like that because other answers mention where error reports are generated but I had nothing generated there so it was stuck somewhere for me.","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>I had some missing jars and behind a corporate firewall and there was an attempt to download them during <code>lintVitalRelease</code>. I disconnected from VPN, re-run, which downloaded the missing jars and all returned to normal.</p>\n<p>I knew it has to be something like that because other answers mention where error reports are generated but I had nothing generated there so it was stuck somewhere for me.</p>\n"},{"tags":[],"owner":{"account_id":13012907,"reputation":3760,"user_id":9405238,"display_name":"Doan Bui"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633694373,"creation_date":1633694373,"answer_id":69495499,"question_id":49286268,"body_markdown":"If you have tried everything on Google but still can&#39;t build the release. You can follow my approach:\r\n\r\nFirstly, If the Android Studio error log contains the phrase &quot;debug/libs.jar&quot;, then you need to build --debug then --release:\r\n\r\n    flutter build apk --debug\r\n    flutter build apk --release\r\n\r\nWhat if &quot;profile/libs.jar&quot; appears\r\n, build --profile then --release:\r\n\r\n    flutter build apk --profile\r\n    flutter build apk --release\r\n\r\nIf there is an error when building debug or profile, then you continue to find that error on Google and fix it. In my case I had to remove the `permission_handler` library because it was causing the error.","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>If you have tried everything on Google but still can't build the release. You can follow my approach:</p>\n<p>Firstly, If the Android Studio error log contains the phrase &quot;debug/libs.jar&quot;, then you need to build --debug then --release:</p>\n<pre><code>flutter build apk --debug\nflutter build apk --release\n</code></pre>\n<p>What if &quot;profile/libs.jar&quot; appears\n, build --profile then --release:</p>\n<pre><code>flutter build apk --profile\nflutter build apk --release\n</code></pre>\n<p>If there is an error when building debug or profile, then you continue to find that error on Google and fix it. In my case I had to remove the <code>permission_handler</code> library because it was causing the error.</p>\n"},{"tags":[],"owner":{"account_id":21136172,"reputation":636,"user_id":15539586,"display_name":"Abdallah Abdel Aziz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692808068,"creation_date":1665610977,"answer_id":74048273,"question_id":49286268,"body_markdown":"Cleaning and rebuilding worked for me\r\n   \r\n\r\n    flutter clean\r\n    flutter build apk --release\r\n\r\n","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>Cleaning and rebuilding worked for me</p>\n<pre><code>flutter clean\nflutter build apk --release\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21304992,"reputation":329,"user_id":15680379,"display_name":"Syed Mahfuzur Rahman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1668447873,"creation_date":1668447873,"answer_id":74435817,"question_id":49286268,"body_markdown":"I have solved this by updating my ```gradle-wrapper.properties``` and ```build.gradle```.\r\n\r\nin ```gradle-wrapper.properties``` update ```distributionUrl```:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\nand ```android/build.gradle``` change the gradle version from 4.1.0 to 7.1.2\r\n\r\n    classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n\r\nHope it will help.","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>I have solved this by updating my <code>gradle-wrapper.properties</code> and <code>build.gradle</code>.</p>\n<p>in <code>gradle-wrapper.properties</code> update <code>distributionUrl</code>:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\n</code></pre>\n<p>and <code>android/build.gradle</code> change the gradle version from 4.1.0 to 7.1.2</p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.1.2'\n</code></pre>\n<p>Hope it will help.</p>\n"}],"owner":{"account_id":9755566,"reputation":1051,"user_id":9493566,"display_name":"elpatrue diab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142985,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"answer_count":16,"score":105,"last_activity_date":1692808068,"creation_date":1521055835,"question_id":49286268,"body_markdown":"Why I get this error I try to clean and rebuild application and make\r\napplication release true and I get same error\r\n\r\n&gt; Error:Execution failed for task &#39;:app:lintVitalRelease&#39;.\r\n&gt; java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &#39;26.0.2&#39;\r\n        useLibrary &#39;org.apache.http.legacy&#39;\r\n        defaultConfig {\r\n            applicationId &quot;x.x.x&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 25\r\n            versionCode 95\r\n            versionName &#39;5&#39;\r\n    \r\n            multiDexEnabled true\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        productFlavors {\r\n        }\r\n    \r\n    }\r\n    \r\n","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>Why I get this error I try to clean and rebuild application and make\napplication release true and I get same error</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:lintVitalRelease'.\n  java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $</p>\n</blockquote>\n\n<pre><code>    apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion '26.0.2'\n    useLibrary 'org.apache.http.legacy'\n    defaultConfig {\n        applicationId \"x.x.x\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 95\n        versionName '5'\n\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    productFlavors {\n    }\n\n}\n</code></pre>\n"},{"tags":["java","oop","setter","getter","abstraction"],"comments":[{"owner":{"account_id":28891,"reputation":10658,"user_id":77542,"accept_rate":100,"display_name":"Tordek"},"score":9,"creation_date":1255544974,"post_id":1568091,"comment_id":1427944,"body_markdown":"Of course, both are equally bad when the object doesn&#39;t need a property to be changed. I&#39;d rather make everything private, and then add getters if useful, and setters if needed.","body":"Of course, both are equally bad when the object doesn&#39;t need a property to be changed. I&#39;d rather make everything private, and then add getters if useful, and setters if needed."},{"owner":{"account_id":39926,"reputation":30711,"user_id":115413,"accept_rate":88,"display_name":"Christian Hayter"},"score":41,"creation_date":1255547436,"post_id":1568091,"comment_id":1428228,"body_markdown":"&quot;Accessors are evil&quot; if you happen to be writing functional code or immutable objects. If you happen to be writing stateful mutable objects, then they are pretty essential.","body":"&quot;Accessors are evil&quot; if you happen to be writing functional code or immutable objects. If you happen to be writing stateful mutable objects, then they are pretty essential."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":22,"creation_date":1255558696,"post_id":1568091,"comment_id":1429403,"body_markdown":"Tell, don&#39;t ask. http://www.pragprog.com/articles/tell-dont-ask","body":"Tell, don&#39;t ask. <a href=\"http://www.pragprog.com/articles/tell-dont-ask\" rel=\"nofollow noreferrer\">pragprog.com/articles/tell-dont-ask</a>"},{"owner":{"account_id":1329677,"reputation":5250,"user_id":1273830,"accept_rate":82,"display_name":"Prasanth"},"score":4,"creation_date":1345751137,"post_id":1568091,"comment_id":16169584,"body_markdown":"Well, I am surprised no one is talking about data synchronization. Suppose you are using `public String foo;` its not thread safe! Instead you can define `get`ter `set`ters with synchronization techniques to avoid data infidelity[i mean another thread messing up the foo]. I felt it&#39;s worth mentioning.","body":"Well, I am surprised no one is talking about data synchronization. Suppose you are using <code>public String foo;</code> its not thread safe! Instead you can define <code>get</code>ter <code>set</code>ters with synchronization techniques to avoid data infidelity[i mean another thread messing up the foo]. I felt it&#39;s worth mentioning."},{"owner":{"account_id":47491,"reputation":220823,"user_id":140719,"accept_rate":88,"display_name":"sbi"},"score":2,"creation_date":1345800194,"post_id":1568091,"comment_id":16182078,"body_markdown":"@goldenparrot: More often than never, synchronizing single accesses to an object is way to inefficient, or even prone to synchronization problems (when you need to change several properties of an object _at once_). IME, you often need to wrap operations as a whole that do multiple accesses to an object. That can only be accomplished by synchronization on the side of the users of a type.","body":"@goldenparrot: More often than never, synchronizing single accesses to an object is way to inefficient, or even prone to synchronization problems (when you need to change several properties of an object <i>at once</i>). IME, you often need to wrap operations as a whole that do multiple accesses to an object. That can only be accomplished by synchronization on the side of the users of a type."},{"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"score":1,"creation_date":1414457260,"post_id":1568091,"comment_id":41812768,"body_markdown":"Another article attempting guidelines about where and when to use getters and setters:  [Public or Private Member Variables?](http://agiletribe.wordpress.com/2014/02/07/public-or-private-member-variables/)    The principle of YAGNI guides us to not add constructs until we really know we are going to need them.","body":"Another article attempting guidelines about where and when to use getters and setters:  <a href=\"http://agiletribe.wordpress.com/2014/02/07/public-or-private-member-variables/\" rel=\"nofollow noreferrer\">Public or Private Member Variables?</a>    The principle of YAGNI guides us to not add constructs until we really know we are going to need them."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1489548181,"post_id":1568091,"comment_id":72715106,"body_markdown":"A recent question has reminded me of another reason for set-methods: the ability to trigger a [property change](https://docs.oracle.com/javase/8/docs/api/java/beans/PropertyChangeEvent.html).","body":"A recent question has reminded me of another reason for set-methods: the ability to trigger a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/beans/PropertyChangeEvent.html\" rel=\"nofollow noreferrer\">property change</a>."}],"answers":[{"tags":[],"owner":{"account_id":44712,"reputation":99786,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"down_vote_count":24,"up_vote_count":656,"is_accepted":false,"score":632,"last_activity_date":1255544599,"creation_date":1255544599,"answer_id":1568103,"question_id":1568091,"body_markdown":"Because 2 weeks (months, years) from now when you realize that your setter needs to do **more** than just set the value, you&#39;ll also realize that the property has been used directly in 238 other classes :-)","title":"Why use getters and setters/accessors?","body":"<p>Because 2 weeks (months, years) from now when you realize that your setter needs to do <strong>more</strong> than just set the value, you'll also realize that the property has been used directly in 238 other classes :-)</p>\n"},{"tags":[],"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1255544711,"creation_date":1255544711,"answer_id":1568109,"question_id":1568091,"body_markdown":"One advantage of accessors and mutators is that you can perform validation.\r\n\r\nFor example, if `foo` was public, I could easily set it to `null` and then someone else could try to call a method on the object. But it&#39;s not there anymore! With a `setFoo` method, I could ensure that `foo` was never set to `null`.\r\n\r\nAccessors and mutators also allow for encapsulation - if you aren&#39;t supposed to see the value once its set (perhaps it&#39;s set in the constructor and then used by methods, but never supposed to be changed), it will never been seen by anyone. But if you can allow other classes to see or change it, you can provide the proper accessor and/or mutator.","title":"Why use getters and setters/accessors?","body":"<p>One advantage of accessors and mutators is that you can perform validation.</p>\n\n<p>For example, if <code>foo</code> was public, I could easily set it to <code>null</code> and then someone else could try to call a method on the object. But it's not there anymore! With a <code>setFoo</code> method, I could ensure that <code>foo</code> was never set to <code>null</code>.</p>\n\n<p>Accessors and mutators also allow for encapsulation - if you aren't supposed to see the value once its set (perhaps it's set in the constructor and then used by methods, but never supposed to be changed), it will never been seen by anyone. But if you can allow other classes to see or change it, you can provide the proper accessor and/or mutator.</p>\n"},{"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"down_vote_count":7,"up_vote_count":14,"is_accepted":false,"score":7,"last_activity_date":1255544719,"creation_date":1255544719,"answer_id":1568111,"question_id":1568091,"body_markdown":"One of the basic principals of OO design: **Encapsulation!**\r\n\r\nIt gives you many benefits, one of which being that you can change the implementation of the getter/setter behind the scenes but any consumer of that value will continue to work as long as the data type remains the same.","title":"Why use getters and setters/accessors?","body":"<p>One of the basic principals of OO design: <strong>Encapsulation!</strong></p>\n\n<p>It gives you many benefits, one of which being that you can change the implementation of the getter/setter behind the scenes but any consumer of that value will continue to work as long as the data type remains the same.</p>\n"},{"tags":[],"owner":{"account_id":2550,"reputation":198074,"user_id":3560,"accept_rate":83,"display_name":"John Millikin"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1255547622,"creation_date":1255544725,"answer_id":1568112,"question_id":1568091,"body_markdown":"In languages which don&#39;t support &quot;properties&quot; (C++, Java) or require recompilation of clients when changing fields to properties (C#), using get/set methods is easier to modify. For example, adding validation logic to a setFoo method will not require changing the public interface of a class.\r\n\r\nIn languages which support &quot;real&quot; properties (Python, Ruby, maybe Smalltalk?) there is no point to get/set methods.","title":"Why use getters and setters/accessors?","body":"<p>In languages which don't support \"properties\" (C++, Java) or require recompilation of clients when changing fields to properties (C#), using get/set methods is easier to modify. For example, adding validation logic to a setFoo method will not require changing the public interface of a class.</p>\n\n<p>In languages which support \"real\" properties (Python, Ruby, maybe Smalltalk?) there is no point to get/set methods.</p>\n"},{"tags":[],"owner":{"account_id":44858,"reputation":11363,"user_id":131887,"accept_rate":92,"display_name":"Pete"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1255544759,"creation_date":1255544759,"answer_id":1568114,"question_id":1568091,"body_markdown":"Additionally, this is to &quot;future-proof&quot; your class. In particular, changing from a field to a property is an ABI break, so if you do later decide that you need more logic than just &quot;set/get the field&quot;, then you need to break ABI, which of course creates problems for anything else already compiled against your class.","title":"Why use getters and setters/accessors?","body":"<p>Additionally, this is to \"future-proof\" your class. In particular, changing from a field to a property is an ABI break, so if you do later decide that you need more logic than just \"set/get the field\", then you need to break ABI, which of course creates problems for anything else already compiled against your class.</p>\n"},{"tags":[],"owner":{"account_id":30469,"reputation":4891,"user_id":83119,"accept_rate":82,"display_name":"Peter D"},"down_vote_count":9,"up_vote_count":66,"is_accepted":false,"score":57,"last_activity_date":1255544842,"creation_date":1255544842,"answer_id":1568122,"question_id":1568091,"body_markdown":"There are many reasons. My favorite one is when you need to change the behavior or regulate what you can set on a variable. For instance, lets say you had a setSpeed(int speed) method. But you want that you can only set a maximum speed of 100. You would do something like:\r\n\r\n    public void setSpeed(int speed) {\r\n      if ( speed &gt; 100 ) {\r\n        this.speed = 100;\r\n      } else {\r\n        this.speed = speed;\r\n      }\r\n    }\r\n\r\nNow what if EVERYWHERE in your code you were using the public field and then you realized you need the above requirement? Have fun hunting down every usage of the public field instead of just modifying your setter.\r\n\r\nMy 2 cents :)","title":"Why use getters and setters/accessors?","body":"<p>There are many reasons. My favorite one is when you need to change the behavior or regulate what you can set on a variable. For instance, lets say you had a setSpeed(int speed) method. But you want that you can only set a maximum speed of 100. You would do something like:</p>\n\n<pre><code>public void setSpeed(int speed) {\n  if ( speed &gt; 100 ) {\n    this.speed = 100;\n  } else {\n    this.speed = speed;\n  }\n}\n</code></pre>\n\n<p>Now what if EVERYWHERE in your code you were using the public field and then you realized you need the above requirement? Have fun hunting down every usage of the public field instead of just modifying your setter.</p>\n\n<p>My 2 cents :)</p>\n"},{"tags":[],"owner":{"account_id":1603,"reputation":193453,"user_id":2147,"accept_rate":85,"display_name":"Jason Baker"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1255544865,"creation_date":1255544865,"answer_id":1568127,"question_id":1568091,"body_markdown":"One other use (in languages that support properties) is that setters and getters can imply that an operation is non-trivial.  Typically, you want to avoid doing anything that&#39;s computationally expensive in a property.","title":"Why use getters and setters/accessors?","body":"<p>One other use (in languages that support properties) is that setters and getters can imply that an operation is non-trivial.  Typically, you want to avoid doing anything that's computationally expensive in a property.</p>\n"},{"tags":[],"owner":{"account_id":44621,"reputation":18706,"user_id":131084,"display_name":"jcdyer"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1593894663,"creation_date":1255545121,"answer_id":1568150,"question_id":1568091,"body_markdown":"Depends on your language.  You&#39;ve tagged this &quot;object-oriented&quot; rather than &quot;Java&quot;, so I&#39;d like to point out that ChssPly76&#39;s answer is language-dependent.  In Python, for instance, there is no reason to use getters and setters.  If you need to change the behavior, you can use a property, which wraps a getter and setter around basic attribute access.  Something like this:\r\n```python\r\n class Simple(object):\r\n   def _get_value(self):\r\n       return self._value -1\r\n\r\n   def _set_value(self, new_value):\r\n       self._value = new_value + 1\r\n\r\n   def _del_value(self):\r\n       self.old_values.append(self._value)\r\n       del self._value\r\n\r\n   value = property(_get_value, _set_value, _del_value)\r\n```\r\n","title":"Why use getters and setters/accessors?","body":"<p>Depends on your language.  You've tagged this &quot;object-oriented&quot; rather than &quot;Java&quot;, so I'd like to point out that ChssPly76's answer is language-dependent.  In Python, for instance, there is no reason to use getters and setters.  If you need to change the behavior, you can use a property, which wraps a getter and setter around basic attribute access.  Something like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code> class Simple(object):\n   def _get_value(self):\n       return self._value -1\n\n   def _set_value(self, new_value):\n       self._value = new_value + 1\n\n   def _del_value(self):\n       self.old_values.append(self._value)\n       del self._value\n\n   value = property(_get_value, _set_value, _del_value)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":56909,"reputation":19748,"user_id":170443,"accept_rate":89,"display_name":"jdehaan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1255545508,"creation_date":1255545508,"answer_id":1568190,"question_id":1568091,"body_markdown":"One aspect I missed in the answers so far, the access specification:\r\n\r\n - for members you have only one access specification for both setting and getting\r\n - for setters and getters you can fine tune it and define it separately\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>One aspect I missed in the answers so far, the access specification:</p>\n\n<ul>\n<li>for members you have only one access specification for both setting and getting</li>\n<li>for setters and getters you can fine tune it and define it separately</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":32913,"reputation":129972,"user_id":91671,"accept_rate":89,"display_name":"LBushkin"},"down_vote_count":32,"up_vote_count":1239,"is_accepted":true,"score":1207,"last_activity_date":1382595937,"creation_date":1255546075,"answer_id":1568230,"question_id":1568091,"body_markdown":"**There are actually *many good reasons* to consider using accessors** rather than directly exposing fields of a class - beyond just the argument of encapsulation and making future changes easier. \r\n\r\n*Here are the some of the reasons I am aware of:*\r\n\r\n * Encapsulation of behavior associated with getting or setting the property - this allows additional functionality (like validation) to be added more easily later.\r\n * Hiding the internal representation of the property while exposing a property using an alternative representation.\r\n * Insulating your public interface from change - allowing the public interface to remain constant while the implementation changes without affecting existing consumers.\r\n * Controlling the lifetime and memory management (disposal) semantics of the property - particularly important in non-managed memory environments (like C++ or Objective-C).\r\n * Providing a debugging interception point for when a property changes at runtime - debugging when and where a property changed to a particular value can be quite difficult without this in some languages.\r\n * Improved interoperability with libraries that are designed to operate against property getter/setters - Mocking, Serialization, and WPF come to mind.\r\n * Allowing inheritors to change the semantics of how the property behaves and is exposed by overriding the getter/setter methods.\r\n * Allowing the getter/setter to be passed around as lambda expressions rather than values.\r\n * Getters and setters can allow different access levels - for example the get may be public, but the set could be protected.","title":"Why use getters and setters/accessors?","body":"<p><strong>There are actually <em>many good reasons</em> to consider using accessors</strong> rather than directly exposing fields of a class - beyond just the argument of encapsulation and making future changes easier. </p>\n\n<p><em>Here are the some of the reasons I am aware of:</em></p>\n\n<ul>\n<li>Encapsulation of behavior associated with getting or setting the property - this allows additional functionality (like validation) to be added more easily later.</li>\n<li>Hiding the internal representation of the property while exposing a property using an alternative representation.</li>\n<li>Insulating your public interface from change - allowing the public interface to remain constant while the implementation changes without affecting existing consumers.</li>\n<li>Controlling the lifetime and memory management (disposal) semantics of the property - particularly important in non-managed memory environments (like C++ or Objective-C).</li>\n<li>Providing a debugging interception point for when a property changes at runtime - debugging when and where a property changed to a particular value can be quite difficult without this in some languages.</li>\n<li>Improved interoperability with libraries that are designed to operate against property getter/setters - Mocking, Serialization, and WPF come to mind.</li>\n<li>Allowing inheritors to change the semantics of how the property behaves and is exposed by overriding the getter/setter methods.</li>\n<li>Allowing the getter/setter to be passed around as lambda expressions rather than values.</li>\n<li>Getters and setters can allow different access levels - for example the get may be public, but the set could be protected.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":40259,"reputation":6145,"user_id":116645,"accept_rate":85,"display_name":"quillbreaker"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1411150855,"creation_date":1255547310,"answer_id":1568346,"question_id":1568091,"body_markdown":"It can be useful for lazy-loading.  Say the object in question is stored in a database, and you don&#39;t want to go get it unless you need it.  If the object is retrieved by a getter, then the internal object can be null until somebody asks for it, then you can go get it on the first call to the getter.\r\n\r\nI had a base page class in a project that was handed to me that was loading some data from a couple different web service calls, but the data in those web service calls wasn&#39;t always used in all child pages.  Web services, for all of the benefits, pioneer new definitions of &quot;slow&quot;, so you don&#39;t want to make a web service call if you don&#39;t have to.\r\n\r\nI moved from public fields to getters, and now the getters check the cache, and if it&#39;s not there call the web service.  So with a little wrapping, a lot of web service calls were prevented.\r\n\r\nSo the getter saves me from trying to figure out, on each child page, what I will need.  If I need it, I call the getter, and it goes to find it for me if I don&#39;t already have it.\r\n\r\n        protected YourType _yourName = null;\r\n        public YourType YourName{\r\n          get\r\n          {\r\n            if (_yourName == null)\r\n            {\r\n              _yourName = new YourType();\r\n              return _yourName;\r\n            }\r\n          }\r\n        }\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>It can be useful for lazy-loading.  Say the object in question is stored in a database, and you don't want to go get it unless you need it.  If the object is retrieved by a getter, then the internal object can be null until somebody asks for it, then you can go get it on the first call to the getter.</p>\n\n<p>I had a base page class in a project that was handed to me that was loading some data from a couple different web service calls, but the data in those web service calls wasn't always used in all child pages.  Web services, for all of the benefits, pioneer new definitions of \"slow\", so you don't want to make a web service call if you don't have to.</p>\n\n<p>I moved from public fields to getters, and now the getters check the cache, and if it's not there call the web service.  So with a little wrapping, a lot of web service calls were prevented.</p>\n\n<p>So the getter saves me from trying to figure out, on each child page, what I will need.  If I need it, I call the getter, and it goes to find it for me if I don't already have it.</p>\n\n<pre><code>    protected YourType _yourName = null;\n    public YourType YourName{\n      get\n      {\n        if (_yourName == null)\n        {\n          _yourName = new YourType();\n          return _yourName;\n        }\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64389,"reputation":281,"user_id":190121,"display_name":"Antz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509815493,"creation_date":1255550503,"answer_id":1568629,"question_id":1568091,"body_markdown":"In an object oriented language the methods, and their access modifiers, declare the interface for that object. Between the constructor and the accessor and mutator methods it is possible for the developer to control access to the internal state of an object. If the variables are simply declared public then there is no way to regulate that access.\r\nAnd when we are using setters we can restrict the user for the input we need. Mean the feed for that very variable will come through a proper channel and the channel is predefined by us. So it&#39;s safer to use setters.\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>In an object oriented language the methods, and their access modifiers, declare the interface for that object. Between the constructor and the accessor and mutator methods it is possible for the developer to control access to the internal state of an object. If the variables are simply declared public then there is no way to regulate that access.\nAnd when we are using setters we can restrict the user for the input we need. Mean the feed for that very variable will come through a proper channel and the channel is predefined by us. So it's safer to use setters.</p>\n"},{"tags":[],"owner":{"account_id":39952,"reputation":9482,"user_id":115503,"accept_rate":93,"display_name":"Kai"},"down_vote_count":3,"up_vote_count":122,"is_accepted":false,"score":119,"last_activity_date":1255554047,"creation_date":1255554047,"answer_id":1568971,"question_id":1568091,"body_markdown":"Lots of people talk about the advantages of getters and setters but I want to play devil&#39;s advocate. Right now I&#39;m debugging a very large program where the programmers decided to make everything getters and setters. That might seem nice, but its a reverse-engineering nightmare.\r\n\r\nSay you&#39;re looking through hundreds of lines of code and you come across this:\r\n\r\n    person.name = &quot;Joe&quot;;\r\n\r\n\r\nIt&#39;s a beautifully simply piece of code until you realize its a setter. Now, you follow that setter and find that it also sets person.firstName, person.lastName, person.isHuman, person.hasReallyCommonFirstName, and calls person.update(), which sends a query out to the database, etc. Oh, that&#39;s where your memory leak was occurring.\r\n\r\nUnderstanding a local piece of code at first glance is an important property of good readability that getters and setters tend to break. That is why I try to avoid them when I can, and minimize what they do when I use them.","title":"Why use getters and setters/accessors?","body":"<p>Lots of people talk about the advantages of getters and setters but I want to play devil's advocate. Right now I'm debugging a very large program where the programmers decided to make everything getters and setters. That might seem nice, but its a reverse-engineering nightmare.</p>\n\n<p>Say you're looking through hundreds of lines of code and you come across this:</p>\n\n<pre><code>person.name = \"Joe\";\n</code></pre>\n\n<p>It's a beautifully simply piece of code until you realize its a setter. Now, you follow that setter and find that it also sets person.firstName, person.lastName, person.isHuman, person.hasReallyCommonFirstName, and calls person.update(), which sends a query out to the database, etc. Oh, that's where your memory leak was occurring.</p>\n\n<p>Understanding a local piece of code at first glance is an important property of good readability that getters and setters tend to break. That is why I try to avoid them when I can, and minimize what they do when I use them.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255560024,"creation_date":1255560024,"answer_id":1569400,"question_id":1568091,"body_markdown":"I would just like to throw the idea of annotation : @getter and @setter. With @getter, you should be able to obj = class.field but not class.field = obj. With @setter, vice versa. With @getter and @setter you should be able to do both. This would preserve encapsulation and reduce the time by not calling trivial methods at runtime.","title":"Why use getters and setters/accessors?","body":"<p>I would just like to throw the idea of annotation : @getter and @setter. With @getter, you should be able to obj = class.field but not class.field = obj. With @setter, vice versa. With @getter and @setter you should be able to do both. This would preserve encapsulation and reduce the time by not calling trivial methods at runtime.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1257630917,"creation_date":1257630917,"answer_id":1694560,"question_id":1568091,"body_markdown":"I spent quite a while thinking this over for the Java case, and I believe the real reasons are:\r\n\r\n 1. **Code to the interface, not the implementation**\r\n 1. **Interfaces only specify methods, not fields**\r\n\r\nIn other words, the only way you can specify a field in an interface is by providing a method for writing a new value and a method for reading the current value.  \r\n\r\nThose methods are the infamous getter and setter....","title":"Why use getters and setters/accessors?","body":"<p>I spent quite a while thinking this over for the Java case, and I believe the real reasons are:</p>\n\n<ol>\n<li><strong>Code to the interface, not the implementation</strong></li>\n<li><strong>Interfaces only specify methods, not fields</strong></li>\n</ol>\n\n<p>In other words, the only way you can specify a field in an interface is by providing a method for writing a new value and a method for reading the current value.  </p>\n\n<p>Those methods are the infamous getter and setter....</p>\n"},{"tags":[],"owner":{"account_id":158262,"reputation":1358,"user_id":376763,"accept_rate":100,"display_name":"ebt"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1278627447,"creation_date":1278627447,"answer_id":3208416,"question_id":1568091,"body_markdown":"I wanted to post a real world example I just finished up:\r\n\r\nbackground - I hibernate tools to generate the mappings for my database, a database I am changing as I develop. I change the database schema, push the changes and then run hibernate tools to generate the java code. All is well and good until I want to add methods to those mapped entities. If I modify the generated files, they will be overwritten every time I make a change to the database. So I extend the generated classes like this:\r\n\r\n    package com.foo.entities.custom\r\n    class User extends com.foo.entities.User{\r\n         public Integer getSomething(){\r\n             return super.getSomething();             \r\n         }\r\n         public void setSomething(Integer something){\r\n             something+=1;\r\n             super.setSomething(something); \r\n         }\r\n    }\r\n\r\nWhat I did above is override the existing methods on the super class with my new functionality (something+1) without ever touching the base class. Same scenario if you wrote a class a year ago and want to go to version 2 without changing your base classes (testing nightmare). hope that helps.","title":"Why use getters and setters/accessors?","body":"<p>I wanted to post a real world example I just finished up:</p>\n\n<p>background - I hibernate tools to generate the mappings for my database, a database I am changing as I develop. I change the database schema, push the changes and then run hibernate tools to generate the java code. All is well and good until I want to add methods to those mapped entities. If I modify the generated files, they will be overwritten every time I make a change to the database. So I extend the generated classes like this:</p>\n\n<pre><code>package com.foo.entities.custom\nclass User extends com.foo.entities.User{\n     public Integer getSomething(){\n         return super.getSomething();             \n     }\n     public void setSomething(Integer something){\n         something+=1;\n         super.setSomething(something); \n     }\n}\n</code></pre>\n\n<p>What I did above is override the existing methods on the super class with my new functionality (something+1) without ever touching the base class. Same scenario if you wrote a class a year ago and want to go to version 2 without changing your base classes (testing nightmare). hope that helps.</p>\n"},{"tags":[],"owner":{"display_name":"user595447"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1345757159,"creation_date":1332820406,"answer_id":9883172,"question_id":1568091,"body_markdown":"Thanks, that really clarified my thinking. Now here is (almost) 10 (almost) good reasons NOT to use getters and setters:\r\n\r\n1. When you realize you need to do more than just set and get the value, you can just make the field private, which will instantly tell you where you&#39;ve directly accessed it.&lt;br&gt;\r\n2. Any validation you perform in there can only be context free, which validation rarely is in practice.&lt;br&gt;\r\n3. You can change the value being set - this is an absolute nightmare when the caller passes you a value that they [shock horror] want you to store AS IS.&lt;br&gt;\r\n4. You can hide the internal representation - fantastic, so you&#39;re making sure that all these operations are symmetrical right?&lt;br&gt;\r\n5. You&#39;ve insulated your public interface from changes under the sheets - if you were designing an interface and weren&#39;t sure whether direct access to something was OK, then you should have kept designing.&lt;br&gt;\r\n6. Some libraries expect this, but not many - reflection, serialization, mock objects all work just fine with public fields.&lt;br&gt;\r\n7. Inheriting this class, you can override default functionality - in other words you can REALLY confuse callers by not only hiding the implementation but making it inconsistent.&lt;br&gt;\r\n\r\nThe last three I&#39;m just leaving (N/A or D/C)...","title":"Why use getters and setters/accessors?","body":"<p>Thanks, that really clarified my thinking. Now here is (almost) 10 (almost) good reasons NOT to use getters and setters:</p>\n\n<ol>\n<li>When you realize you need to do more than just set and get the value, you can just make the field private, which will instantly tell you where you've directly accessed it.<br></li>\n<li>Any validation you perform in there can only be context free, which validation rarely is in practice.<br></li>\n<li>You can change the value being set - this is an absolute nightmare when the caller passes you a value that they [shock horror] want you to store AS IS.<br></li>\n<li>You can hide the internal representation - fantastic, so you're making sure that all these operations are symmetrical right?<br></li>\n<li>You've insulated your public interface from changes under the sheets - if you were designing an interface and weren't sure whether direct access to something was OK, then you should have kept designing.<br></li>\n<li>Some libraries expect this, but not many - reflection, serialization, mock objects all work just fine with public fields.<br></li>\n<li>Inheriting this class, you can override default functionality - in other words you can REALLY confuse callers by not only hiding the implementation but making it inconsistent.<br></li>\n</ol>\n\n<p>The last three I'm just leaving (N/A or D/C)...</p>\n"},{"tags":[],"owner":{"account_id":892896,"reputation":524,"user_id":930828,"display_name":"andrers52"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1335812909,"creation_date":1335812231,"answer_id":10389003,"question_id":1568091,"body_markdown":"From a object orientation design standpoint both alternatives can be damaging to the maintenance of the code by weakening the encapsulation of the classes. For a discussion you can look into this excellent article: [http://typicalprogrammer.com/?p=23][1] \r\n\r\n\r\n  [1]: http://typicalprogrammer.com/?p=23","title":"Why use getters and setters/accessors?","body":"<p>From a object orientation design standpoint both alternatives can be damaging to the maintenance of the code by weakening the encapsulation of the classes. For a discussion you can look into this excellent article: <a href=\"http://typicalprogrammer.com/?p=23\" rel=\"noreferrer\">http://typicalprogrammer.com/?p=23</a> </p>\n"},{"tags":[],"owner":{"account_id":1656357,"reputation":219,"user_id":1525811,"display_name":"Mohamed"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1342282827,"creation_date":1342282827,"answer_id":11485382,"question_id":1568091,"body_markdown":"Don&#39;t use getters setters unless needed for your current delivery I.e. Don&#39;t think too much about what would happen in the future, if any thing to be changed its a change request in most of the production applications, systems.\r\n\r\nThink simple, easy, add complexity when needed.\r\n\r\nI would not take advantage of ignorance of business owners of deep technical know how just because I think it&#39;s correct or I like the approach.\r\n\r\nI have massive system written without getters setters only with access modifiers and some methods to validate n perform biz logic. If you absolutely needed the. Use anything.","title":"Why use getters and setters/accessors?","body":"<p>Don't use getters setters unless needed for your current delivery I.e. Don't think too much about what would happen in the future, if any thing to be changed its a change request in most of the production applications, systems.</p>\n\n<p>Think simple, easy, add complexity when needed.</p>\n\n<p>I would not take advantage of ignorance of business owners of deep technical know how just because I think it's correct or I like the approach.</p>\n\n<p>I have massive system written without getters setters only with access modifiers and some methods to validate n perform biz logic. If you absolutely needed the. Use anything.</p>\n"},{"tags":[],"owner":{"account_id":1633776,"reputation":3442,"user_id":1507816,"display_name":"Jorge Aguilar"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1345646861,"creation_date":1345646861,"answer_id":12075750,"question_id":1568091,"body_markdown":"Well i just want to add that even if sometimes they are necessary for the encapsulation and security of your variables/objects, if we want to code a real Object Oriented Program, then we need to **[STOP OVERUSING THE ACCESSORS][1]**, cause sometimes we depend a lot on them when is not really necessary and that makes almost the same as if we put the variables public.\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-09-2003/jw-0905-toolbox.html?page=1","title":"Why use getters and setters/accessors?","body":"<p>Well i just want to add that even if sometimes they are necessary for the encapsulation and security of your variables/objects, if we want to code a real Object Oriented Program, then we need to <strong><a href=\"http://www.javaworld.com/javaworld/jw-09-2003/jw-0905-toolbox.html?page=1\">STOP OVERUSING THE ACCESSORS</a></strong>, cause sometimes we depend a lot on them when is not really necessary and that makes almost the same as if we put the variables public.</p>\n"},{"tags":[],"owner":{"account_id":19779,"reputation":229335,"user_id":46642,"accept_rate":88,"display_name":"R. Martinho Fernandes"},"down_vote_count":2,"up_vote_count":448,"is_accepted":false,"score":446,"last_activity_date":1424179601,"creation_date":1345805713,"answer_id":12108025,"question_id":1568091,"body_markdown":"A public field is not worse than a getter/setter pair that does nothing except returning the field and assigning to it. First, it&#39;s clear that (in most languages) there is no functional difference. Any difference must be in other factors, like maintainability or readability.\r\n\r\nAn oft-mentioned advantage of getter/setter pairs, isn&#39;t. There&#39;s this claim that you can change the implementation and your clients don&#39;t have to be recompiled. Supposedly, setters let you add functionality like validation later on and your clients don&#39;t even need to know about it. However, adding validation to a setter is a change to its preconditions, **a violation of the previous contract**, which was, quite simply, &quot;you can put anything in here, and you can get that same thing later from the getter&quot;.\r\n\r\nSo, now that you broke the contract, changing every file in the codebase is something you should want to do, not avoid. If you avoid it you&#39;re making the assumption that all the code assumed the contract for those methods was different.\r\n\r\nIf that should not have been the contract, then the interface was allowing clients to put the object in invalid states. *That&#39;s the exact opposite of encapsulation* If that field could not really be set to anything from the start, why wasn&#39;t the validation there from the start?\r\n\r\nThis same argument applies to other supposed advantages of these pass-through getter/setter pairs: if you later decide to change the value being set, you&#39;re breaking the contract. If you override the default functionality in a derived class, in a way beyond a few harmless modifications (like logging or other non-observable behaviour), you&#39;re breaking the contract of the base class. That is a violation of the Liskov Substitutability Principle, which is seen as one of the tenets of OO.\r\n\r\nIf a class has these dumb getters and setters for every field, then it is a class that has no invariants whatsoever, *no contract*. Is that really object-oriented design? If all the class has is those getters and setters, it&#39;s just a dumb data holder, and dumb data holders should look like dumb data holders:\r\n\r\n&lt;!-- language: c++ --&gt;\r\n\r\n    class Foo {\r\n    public:\r\n        int DaysLeft;\r\n        int ContestantNumber;\r\n    };\r\n\r\nAdding pass-through getter/setter pairs to such a class adds no value. Other classes should provide meaningful operations, not just operations that fields already provide. That&#39;s how you can define and maintain useful invariants.\r\n\r\n&gt; **Client**: &quot;What can I do with an object of this class?&quot;  \r\n&gt; **Designer**: &quot;You can read and write several variables.&quot;  \r\n&gt; **Client**: &quot;Oh... cool, I guess?&quot;\r\n\r\nThere are reasons to use getters and setters, but if those reasons don&#39;t exist, making getter/setter pairs in the name of false encapsulation gods is not a good thing. Valid reasons to make getters or setters include the things often mentioned as the potential changes you can make later, like validation or different internal representations. Or maybe the value should be readable by clients but not writable (for example, reading the size of a dictionary), so a simple getter is a nice choice. But those reasons should be there when you make the choice, and not just as a potential thing you may want later. This is an instance of YAGNI (*You Ain&#39;t Gonna Need It*).\r\n","title":"Why use getters and setters/accessors?","body":"<p>A public field is not worse than a getter/setter pair that does nothing except returning the field and assigning to it. First, it's clear that (in most languages) there is no functional difference. Any difference must be in other factors, like maintainability or readability.</p>\n\n<p>An oft-mentioned advantage of getter/setter pairs, isn't. There's this claim that you can change the implementation and your clients don't have to be recompiled. Supposedly, setters let you add functionality like validation later on and your clients don't even need to know about it. However, adding validation to a setter is a change to its preconditions, <strong>a violation of the previous contract</strong>, which was, quite simply, \"you can put anything in here, and you can get that same thing later from the getter\".</p>\n\n<p>So, now that you broke the contract, changing every file in the codebase is something you should want to do, not avoid. If you avoid it you're making the assumption that all the code assumed the contract for those methods was different.</p>\n\n<p>If that should not have been the contract, then the interface was allowing clients to put the object in invalid states. <em>That's the exact opposite of encapsulation</em> If that field could not really be set to anything from the start, why wasn't the validation there from the start?</p>\n\n<p>This same argument applies to other supposed advantages of these pass-through getter/setter pairs: if you later decide to change the value being set, you're breaking the contract. If you override the default functionality in a derived class, in a way beyond a few harmless modifications (like logging or other non-observable behaviour), you're breaking the contract of the base class. That is a violation of the Liskov Substitutability Principle, which is seen as one of the tenets of OO.</p>\n\n<p>If a class has these dumb getters and setters for every field, then it is a class that has no invariants whatsoever, <em>no contract</em>. Is that really object-oriented design? If all the class has is those getters and setters, it's just a dumb data holder, and dumb data holders should look like dumb data holders:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>class Foo {\npublic:\n    int DaysLeft;\n    int ContestantNumber;\n};\n</code></pre>\n\n<p>Adding pass-through getter/setter pairs to such a class adds no value. Other classes should provide meaningful operations, not just operations that fields already provide. That's how you can define and maintain useful invariants.</p>\n\n<blockquote>\n  <p><strong>Client</strong>: \"What can I do with an object of this class?\"<br>\n  <strong>Designer</strong>: \"You can read and write several variables.\"<br>\n  <strong>Client</strong>: \"Oh... cool, I guess?\"</p>\n</blockquote>\n\n<p>There are reasons to use getters and setters, but if those reasons don't exist, making getter/setter pairs in the name of false encapsulation gods is not a good thing. Valid reasons to make getters or setters include the things often mentioned as the potential changes you can make later, like validation or different internal representations. Or maybe the value should be readable by clients but not writable (for example, reading the size of a dictionary), so a simple getter is a nice choice. But those reasons should be there when you make the choice, and not just as a potential thing you may want later. This is an instance of YAGNI (<em>You Ain't Gonna Need It</em>).</p>\n"},{"tags":[],"owner":{"account_id":38717,"reputation":65506,"user_id":111307,"accept_rate":78,"display_name":"bobobobo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1367719989,"creation_date":1367719672,"answer_id":16380719,"question_id":1568091,"body_markdown":"Code _evolves_.  `private` is great for when _you need data member protection_.  Eventually all classes should be sort of &quot;miniprograms&quot; that have a well-defined interface _that you can&#39;t just screw with the internals of_.\r\n\r\nThat said, _software development_ isn&#39;t about setting down that final version of the class as if you&#39;re pressing some cast iron statue on the first try.  While you&#39;re working with it, code is more like clay.  __It evolves__ as you develop it and learn more about the problem domain you are solving.  During development classes may interact with each other than they should (dependency you plan to factor out), merge together, or split apart.  So I think the debate boils down to people not wanting to religiously write\r\n\r\n    int getVar() const { return var ; }\r\n\r\nSo you have:\r\n\r\n    doSomething( obj-&gt;getVar() ) ;\r\n\r\nInstead of\r\n\r\n    doSomething( obj-&gt;var ) ;\r\n\r\nNot only is `getVar()` visually noisy, it gives this illusion that `gettingVar()` is somehow a more complex process than it really is.  How you (as the class writer) regard the sanctity of `var` is particularly confusing to a user of your class if it has a passthru setter -- then it looks like you&#39;re putting up these gates to &quot;protect&quot; something you insist is valuable, (the sanctity of `var`) but yet even you concede `var`&#39;s protection isn&#39;t worth much by the ability for anyone to just come in and `set` `var` to whatever value they want, without you even peeking at what they are doing.\r\n\r\n\r\n\r\nSo I program as follows (assuming an &quot;agile&quot; type approach -- ie when I write code not knowing _exactly_ what it will be doing/don&#39;t have time or experience to plan an elaborate waterfall style interface set):\r\n\r\n1) Start with all public members for basic objects with data and behavior.  This is why in all my C++ &quot;example&quot; code you&#39;ll notice me using `struct` instead of `class` everywhere.\r\n\r\n2) When an object&#39;s internal behavior for a data member becomes complex enough, (for example, it likes to keep an internal `std::list` in some kind of order), accessor type functions are written.  Because I&#39;m programming by myself, I don&#39;t always set the member `private` right away, but somewhere down the evolution of the class the member will be &quot;promoted&quot; to either `protected` or `private`.\r\n\r\n3) Classes that are fully fleshed out and have strict rules about their internals (ie _they_ know exactly what they are doing, and you are not to &quot;fuck&quot; (technical term) with its internals) are given the `class` designation, default private members, and only a select few members are allowed to be `public`.\r\n\r\nI find this approach allows me to avoid sitting there and religiously writing getter/setters when a lot of data members get migrated out, shifted around, etc. during the early stages of a class&#39;s evolution.","title":"Why use getters and setters/accessors?","body":"<p>Code <em>evolves</em>.  <code>private</code> is great for when <em>you need data member protection</em>.  Eventually all classes should be sort of \"miniprograms\" that have a well-defined interface <em>that you can't just screw with the internals of</em>.</p>\n\n<p>That said, <em>software development</em> isn't about setting down that final version of the class as if you're pressing some cast iron statue on the first try.  While you're working with it, code is more like clay.  <strong>It evolves</strong> as you develop it and learn more about the problem domain you are solving.  During development classes may interact with each other than they should (dependency you plan to factor out), merge together, or split apart.  So I think the debate boils down to people not wanting to religiously write</p>\n\n<pre><code>int getVar() const { return var ; }\n</code></pre>\n\n<p>So you have:</p>\n\n<pre><code>doSomething( obj-&gt;getVar() ) ;\n</code></pre>\n\n<p>Instead of</p>\n\n<pre><code>doSomething( obj-&gt;var ) ;\n</code></pre>\n\n<p>Not only is <code>getVar()</code> visually noisy, it gives this illusion that <code>gettingVar()</code> is somehow a more complex process than it really is.  How you (as the class writer) regard the sanctity of <code>var</code> is particularly confusing to a user of your class if it has a passthru setter -- then it looks like you're putting up these gates to \"protect\" something you insist is valuable, (the sanctity of <code>var</code>) but yet even you concede <code>var</code>'s protection isn't worth much by the ability for anyone to just come in and <code>set</code> <code>var</code> to whatever value they want, without you even peeking at what they are doing.</p>\n\n<p>So I program as follows (assuming an \"agile\" type approach -- ie when I write code not knowing <em>exactly</em> what it will be doing/don't have time or experience to plan an elaborate waterfall style interface set):</p>\n\n<p>1) Start with all public members for basic objects with data and behavior.  This is why in all my C++ \"example\" code you'll notice me using <code>struct</code> instead of <code>class</code> everywhere.</p>\n\n<p>2) When an object's internal behavior for a data member becomes complex enough, (for example, it likes to keep an internal <code>std::list</code> in some kind of order), accessor type functions are written.  Because I'm programming by myself, I don't always set the member <code>private</code> right away, but somewhere down the evolution of the class the member will be \"promoted\" to either <code>protected</code> or <code>private</code>.</p>\n\n<p>3) Classes that are fully fleshed out and have strict rules about their internals (ie <em>they</em> know exactly what they are doing, and you are not to \"fuck\" (technical term) with its internals) are given the <code>class</code> designation, default private members, and only a select few members are allowed to be <code>public</code>.</p>\n\n<p>I find this approach allows me to avoid sitting there and religiously writing getter/setters when a lot of data members get migrated out, shifted around, etc. during the early stages of a class's evolution.</p>\n"},{"tags":[],"owner":{"account_id":1087775,"reputation":42376,"user_id":1083093,"accept_rate":67,"display_name":"Devrath"},"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1387430524,"creation_date":1378104664,"answer_id":18567167,"question_id":1568091,"body_markdown":"## We use getters and setters:\r\n\r\n - for reusability\r\n - to perform validation in later stages of programming\r\n\r\nGetter and setter methods are public interfaces to access private class members.\r\n\r\n---\r\n\r\n## Encapsulation mantra\r\n\r\nThe encapsulation mantra is to make fields private and methods public.\r\n\r\n&gt; **Getter Methods:** _We can get access to private variables._\r\n&gt; \r\n&gt; **Setter Methods:** _We can modify private fields._\r\n\r\nEven though the getter and setter methods do not add new functionality, we can change our mind come back later to make that method\r\n\r\n - better;\r\n - safer; and\r\n - faster.\r\n\r\n----------\r\n\r\nAnywhere a value can be used, a method that returns that value can be added. Instead of:\r\n\r\n    int x = 1000 - 500\r\n\r\nuse\r\n\r\n    int x = 1000 - class_name.getValue();\r\n\r\n---\r\n\r\n## In layman&#39;s terms\r\n\r\n![Representation of &quot;Person&quot; class][1]\r\n\r\nSuppose we need to store the details of this `Person`. This `Person` has the fields `name`, `age` and `sex`. Doing this involves creating methods for `name`, `age` and `sex`. Now if we need create another person, it becomes necessary to create the methods for `name`, `age`, `sex` all over again.\r\n\r\nInstead of doing this, we can create a bean `class(Person)` with getter and setter methods.  So tomorrow we can just create objects of this Bean `class(Person class)` whenever we need to add a new person (see the figure). Thus we are reusing the fields and methods of bean class, which is much better.\r\n\r\n  [1]: http://i.stack.imgur.com/2lgj0.png","title":"Why use getters and setters/accessors?","body":"<h2>We use getters and setters:</h2>\n\n<ul>\n<li>for reusability</li>\n<li>to perform validation in later stages of programming</li>\n</ul>\n\n<p>Getter and setter methods are public interfaces to access private class members.</p>\n\n<hr>\n\n<h2>Encapsulation mantra</h2>\n\n<p>The encapsulation mantra is to make fields private and methods public.</p>\n\n<blockquote>\n  <p><strong>Getter Methods:</strong> <em>We can get access to private variables.</em></p>\n  \n  <p><strong>Setter Methods:</strong> <em>We can modify private fields.</em></p>\n</blockquote>\n\n<p>Even though the getter and setter methods do not add new functionality, we can change our mind come back later to make that method</p>\n\n<ul>\n<li>better;</li>\n<li>safer; and</li>\n<li>faster.</li>\n</ul>\n\n<hr>\n\n<p>Anywhere a value can be used, a method that returns that value can be added. Instead of:</p>\n\n<pre><code>int x = 1000 - 500\n</code></pre>\n\n<p>use</p>\n\n<pre><code>int x = 1000 - class_name.getValue();\n</code></pre>\n\n<hr>\n\n<h2>In layman's terms</h2>\n\n<p><img src=\"https://i.stack.imgur.com/2lgj0.png\" alt=\"Representation of &quot;Person&quot; class\"></p>\n\n<p>Suppose we need to store the details of this <code>Person</code>. This <code>Person</code> has the fields <code>name</code>, <code>age</code> and <code>sex</code>. Doing this involves creating methods for <code>name</code>, <code>age</code> and <code>sex</code>. Now if we need create another person, it becomes necessary to create the methods for <code>name</code>, <code>age</code>, <code>sex</code> all over again.</p>\n\n<p>Instead of doing this, we can create a bean <code>class(Person)</code> with getter and setter methods.  So tomorrow we can just create objects of this Bean <code>class(Person class)</code> whenever we need to add a new person (see the figure). Thus we are reusing the fields and methods of bean class, which is much better.</p>\n"},{"tags":[],"owner":{"account_id":3218802,"reputation":95,"user_id":2716712,"accept_rate":33,"display_name":"MongooseLover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387139488,"creation_date":1387139488,"answer_id":20599418,"question_id":1568091,"body_markdown":"I can think of one reason why you wouldn&#39;t just want everything public.\r\n\r\nFor instance, variable you never intended to use outside of the class could be accessed, even irdirectly via chain variable access (i.e.  object.item.origin.x ).  \r\n\r\nBy having mostly everything private, and only the stuff you want to extend and possibly refer to in subclasses as protected, and generally only having static final objects as public, then you can control what other programmers and programs can use in the API and what it can access and what it can&#39;t by using setters and getters to access the stuff you want the program, or indeed possibly other programmers who just happen to use your code, can modify in your program.  ","title":"Why use getters and setters/accessors?","body":"<p>I can think of one reason why you wouldn't just want everything public.</p>\n\n<p>For instance, variable you never intended to use outside of the class could be accessed, even irdirectly via chain variable access (i.e.  object.item.origin.x ).  </p>\n\n<p>By having mostly everything private, and only the stuff you want to extend and possibly refer to in subclasses as protected, and generally only having static final objects as public, then you can control what other programmers and programs can use in the API and what it can access and what it can't by using setters and getters to access the stuff you want the program, or indeed possibly other programmers who just happen to use your code, can modify in your program.  </p>\n"},{"tags":[],"owner":{"account_id":1866281,"reputation":6799,"user_id":1689770,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1396313166,"creation_date":1396313166,"answer_id":22774827,"question_id":1568091,"body_markdown":"If you want a readonly variable but don&#39;t want the client to have to change the way they access it, try this templated class:\r\n\r\n    template&lt;typename MemberOfWhichClass, typename primative&gt;\t\t\t\t\t\t\t\t\t\t\r\n    class ReadOnly {\r\n    \tfriend MemberOfWhichClass;\r\n    public:\r\n    \ttemplate&lt;typename number&gt; inline bool   operator==(const number&amp; y) const { return x == y; } \r\n    \ttemplate&lt;typename number&gt; inline number operator+ (const number&amp; y) const { return x + y; } \r\n    \ttemplate&lt;typename number&gt; inline number operator- (const number&amp; y) const { return x - y; } \r\n    \ttemplate&lt;typename number&gt; inline number operator* (const number&amp; y) const { return x * y; }  \r\n    \ttemplate&lt;typename number&gt; inline number operator/ (const number&amp; y) const { return x / y; } \r\n    \ttemplate&lt;typename number&gt; inline number operator&lt;&lt;(const number&amp; y) const { return x &lt;&lt; y; }\r\n    \ttemplate&lt;typename number&gt; inline number operator^(const number&amp; y) const  { return x^y; }\r\n    \ttemplate&lt;typename number&gt; inline number operator~() const\t\t\t\t  { return ~x; }\r\n    \ttemplate&lt;typename number&gt; inline operator number() const\t\t\t      { return x; }\r\n    protected:\r\n    \ttemplate&lt;typename number&gt; inline number operator= (const number&amp; y) { return x = y; }\t\t\r\n    \ttemplate&lt;typename number&gt; inline number operator+=(const number&amp; y) { return x += y; }\t\t\r\n    \ttemplate&lt;typename number&gt; inline number operator-=(const number&amp; y) { return x -= y; }\t\t\r\n    \ttemplate&lt;typename number&gt; inline number operator*=(const number&amp; y) { return x *= y; }\t\t\r\n    \ttemplate&lt;typename number&gt; inline number operator/=(const number&amp; y) { return x /= y; }\t\t\r\n    \tprimative x;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    };\t\t\r\n\r\n\r\nExample Use:\r\n\r\n    class Foo {\r\n    public:\r\n    \tReadOnly&lt;Foo, int&gt; cantChangeMe;\r\n    };\r\n\r\n\r\nRemember you&#39;ll need to add bitwise and unary operators as well! This is just to get you started","title":"Why use getters and setters/accessors?","body":"<p>If you want a readonly variable but don't want the client to have to change the way they access it, try this templated class:</p>\n\n<pre><code>template&lt;typename MemberOfWhichClass, typename primative&gt;                                       \nclass ReadOnly {\n    friend MemberOfWhichClass;\npublic:\n    template&lt;typename number&gt; inline bool   operator==(const number&amp; y) const { return x == y; } \n    template&lt;typename number&gt; inline number operator+ (const number&amp; y) const { return x + y; } \n    template&lt;typename number&gt; inline number operator- (const number&amp; y) const { return x - y; } \n    template&lt;typename number&gt; inline number operator* (const number&amp; y) const { return x * y; }  \n    template&lt;typename number&gt; inline number operator/ (const number&amp; y) const { return x / y; } \n    template&lt;typename number&gt; inline number operator&lt;&lt;(const number&amp; y) const { return x &lt;&lt; y; }\n    template&lt;typename number&gt; inline number operator^(const number&amp; y) const  { return x^y; }\n    template&lt;typename number&gt; inline number operator~() const                 { return ~x; }\n    template&lt;typename number&gt; inline operator number() const                  { return x; }\nprotected:\n    template&lt;typename number&gt; inline number operator= (const number&amp; y) { return x = y; }       \n    template&lt;typename number&gt; inline number operator+=(const number&amp; y) { return x += y; }      \n    template&lt;typename number&gt; inline number operator-=(const number&amp; y) { return x -= y; }      \n    template&lt;typename number&gt; inline number operator*=(const number&amp; y) { return x *= y; }      \n    template&lt;typename number&gt; inline number operator/=(const number&amp; y) { return x /= y; }      \n    primative x;                                                                                \n};      \n</code></pre>\n\n<p>Example Use:</p>\n\n<pre><code>class Foo {\npublic:\n    ReadOnly&lt;Foo, int&gt; cantChangeMe;\n};\n</code></pre>\n\n<p>Remember you'll need to add bitwise and unary operators as well! This is just to get you started</p>\n"},{"tags":[],"owner":{"account_id":305129,"reputation":86,"user_id":615080,"display_name":"GeZo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1399974455,"creation_date":1399974455,"answer_id":23627915,"question_id":1568091,"body_markdown":"There is a good reason to consider using accessors is there is no property inheritance. See next example:\r\n\r\n    public class TestPropertyOverride {\r\n        public static class A {\r\n            public int i = 0;\r\n    \r\n            public void add() {\r\n                i++;\r\n            }\r\n    \r\n            public int getI() {\r\n                return i;\r\n            }\r\n        }\r\n    \r\n        public static class B extends A {\r\n            public int i = 2;\r\n    \r\n            @Override\r\n            public void add() {\r\n                i = i + 2;\r\n            }\r\n    \r\n            @Override\r\n            public int getI() {\r\n                return i;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            A a = new B();\r\n            System.out.println(a.i);\r\n            a.add();\r\n            System.out.println(a.i);\r\n            System.out.println(a.getI());\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    0\r\n    0\r\n    4\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>There is a good reason to consider using accessors is there is no property inheritance. See next example:</p>\n\n<pre><code>public class TestPropertyOverride {\n    public static class A {\n        public int i = 0;\n\n        public void add() {\n            i++;\n        }\n\n        public int getI() {\n            return i;\n        }\n    }\n\n    public static class B extends A {\n        public int i = 2;\n\n        @Override\n        public void add() {\n            i = i + 2;\n        }\n\n        @Override\n        public int getI() {\n            return i;\n        }\n    }\n\n    public static void main(String[] args) {\n        A a = new B();\n        System.out.println(a.i);\n        a.add();\n        System.out.println(a.i);\n        System.out.println(a.getI());\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0\n0\n4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":808621,"reputation":357044,"user_id":908494,"accept_rate":25,"display_name":"abarnert"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1408423623,"creation_date":1408423623,"answer_id":25375819,"question_id":1568091,"body_markdown":"You should use getters and setters when:\r\n\r\n * You&#39;re dealing with something that is conceptually an attribute, but:\r\n  * Your language doesn&#39;t have properties (or some similar mechanism, like Tcl&#39;s variable traces), or\r\n  * Your language&#39;s property support isn&#39;t sufficient for this use case, or\r\n  * Your language&#39;s (or sometimes your framework&#39;s) idiomatic conventions encourage getters or setters for this use case.\r\n\r\nSo this is very rarely a general OO question; it&#39;s a language-specific question, with different answers for different languages (and different use cases).\r\n\r\n---\r\n\r\nFrom an OO theory point of view, getters and setters are useless. The interface of your class is what it does, not what its state is. (If not, you&#39;ve written the wrong class.) In very simple cases, where what a class does is just, e.g., represent a point in rectangular coordinates,&lt;super&gt;\\*&lt;/super&gt; the attributes are part of the interface; getters and setters just cloud that. But in anything but very simple cases, neither the attributes nor getters and setters are part of the interface.\r\n\r\nPut another way: If you believe that consumers of your class shouldn&#39;t even know that you have a `spam` attribute, much less be able to change it willy-nilly, then giving them a `set_spam` method is the last thing you want to do.\r\n\r\n&lt;sub&gt;\\* Even for that simple class, you may not necessarily want to allow setting the `x` and `y` values. If this is really a class, shouldn&#39;t it have methods like `translate`, `rotate`, etc.? If it&#39;s only a class because your language doesn&#39;t have records/structs/named tuples, then this isn&#39;t really a question of OOâ€¦&lt;/sub&gt;\r\n\r\n---\r\n\r\nBut nobody is ever doing general OO design. They&#39;re doing design, and implementation, in a specific language. And in some languages, getters and setters are far from useless.\r\n\r\nIf your language doesn&#39;t have properties, then the only way to represent something that&#39;s conceptually an attribute, but is actually computed, or validated, etc., is through getters and setters.\r\n\r\nEven if your language does have properties, there may be cases where they&#39;re insufficient or inappropriate. For example, if you want to allow subclasses to control the semantics of an attribute, in languages without dynamic access, a subclass can&#39;t substitute a computed property for an attribute.\r\n\r\nAs for the &quot;what if I want to change my implementation later?&quot; question (which is repeated multiple times in different wording in both the OP&#39;s question and the accepted answer): If it really is a pure implementation change, and you started with an attribute, you can change it to a property without affecting the interface. Unless, of course, your language doesn&#39;t support that. So this is really just the same case again.\r\n\r\nAlso, it&#39;s important to follow the idioms of the language (or framework) you&#39;re using. If you write beautiful Ruby-style code in C#, any experienced C# developer other than you is going to have trouble reading it, and that&#39;s bad. Some languages have stronger cultures around their conventions than others.â€”and it may not be a coincidence that Java and Python, which are on opposite ends of the spectrum for how idiomatic getters are, happen to have two of the strongest cultures.\r\n\r\nBeyond human readers, there will be libraries and tools that expect you to follow the conventions, and make your life harder if you don&#39;t. Hooking Interface Builder widgets to anything but ObjC properties, or using certain Java mocking libraries without getters, is just making your life more difficult. If the tools are important to you, don&#39;t fight them.","title":"Why use getters and setters/accessors?","body":"<p>You should use getters and setters when:</p>\n\n<ul>\n<li>You're dealing with something that is conceptually an attribute, but:\n<ul>\n<li>Your language doesn't have properties (or some similar mechanism, like Tcl's variable traces), or</li>\n<li>Your language's property support isn't sufficient for this use case, or</li>\n<li>Your language's (or sometimes your framework's) idiomatic conventions encourage getters or setters for this use case.</li>\n</ul></li>\n</ul>\n\n<p>So this is very rarely a general OO question; it's a language-specific question, with different answers for different languages (and different use cases).</p>\n\n<hr>\n\n<p>From an OO theory point of view, getters and setters are useless. The interface of your class is what it does, not what its state is. (If not, you've written the wrong class.) In very simple cases, where what a class does is just, e.g., represent a point in rectangular coordinates,* the attributes are part of the interface; getters and setters just cloud that. But in anything but very simple cases, neither the attributes nor getters and setters are part of the interface.</p>\n\n<p>Put another way: If you believe that consumers of your class shouldn't even know that you have a <code>spam</code> attribute, much less be able to change it willy-nilly, then giving them a <code>set_spam</code> method is the last thing you want to do.</p>\n\n<p><sub>* Even for that simple class, you may not necessarily want to allow setting the <code>x</code> and <code>y</code> values. If this is really a class, shouldn't it have methods like <code>translate</code>, <code>rotate</code>, etc.? If it's only a class because your language doesn't have records/structs/named tuples, then this isn't really a question of OOâ€¦</sub></p>\n\n<hr>\n\n<p>But nobody is ever doing general OO design. They're doing design, and implementation, in a specific language. And in some languages, getters and setters are far from useless.</p>\n\n<p>If your language doesn't have properties, then the only way to represent something that's conceptually an attribute, but is actually computed, or validated, etc., is through getters and setters.</p>\n\n<p>Even if your language does have properties, there may be cases where they're insufficient or inappropriate. For example, if you want to allow subclasses to control the semantics of an attribute, in languages without dynamic access, a subclass can't substitute a computed property for an attribute.</p>\n\n<p>As for the \"what if I want to change my implementation later?\" question (which is repeated multiple times in different wording in both the OP's question and the accepted answer): If it really is a pure implementation change, and you started with an attribute, you can change it to a property without affecting the interface. Unless, of course, your language doesn't support that. So this is really just the same case again.</p>\n\n<p>Also, it's important to follow the idioms of the language (or framework) you're using. If you write beautiful Ruby-style code in C#, any experienced C# developer other than you is going to have trouble reading it, and that's bad. Some languages have stronger cultures around their conventions than others.â€”and it may not be a coincidence that Java and Python, which are on opposite ends of the spectrum for how idiomatic getters are, happen to have two of the strongest cultures.</p>\n\n<p>Beyond human readers, there will be libraries and tools that expect you to follow the conventions, and make your life harder if you don't. Hooking Interface Builder widgets to anything but ObjC properties, or using certain Java mocking libraries without getters, is just making your life more difficult. If the tools are important to you, don't fight them.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":8,"up_vote_count":84,"is_accepted":false,"score":76,"last_activity_date":1566370900,"creation_date":1411490359,"answer_id":26000323,"question_id":1568091,"body_markdown":"In a pure object-oriented world getters and setters is a **terrible anti-pattern**. Read this article: [Getters/Setters. Evil. Period](http://www.yegor256.com/2014/09/16/getters-and-setters-are-evil.html). In a nutshell, they encourage programmers to think about objects as of data structures, and this type of thinking is pure procedural (like in COBOL or C). In an object-oriented language there are no data structures, but only objects that expose behavior (not attributes/properties!)\r\n\r\nYou may find more about them in Section 3.5 of [Elegant Objects](https://www.yegor256.com/elegant-objects.html) (my book about object-oriented programming).","title":"Why use getters and setters/accessors?","body":"<p>In a pure object-oriented world getters and setters is a <strong>terrible anti-pattern</strong>. Read this article: <a href=\"http://www.yegor256.com/2014/09/16/getters-and-setters-are-evil.html\" rel=\"noreferrer\">Getters/Setters. Evil. Period</a>. In a nutshell, they encourage programmers to think about objects as of data structures, and this type of thinking is pure procedural (like in COBOL or C). In an object-oriented language there are no data structures, but only objects that expose behavior (not attributes/properties!)</p>\n\n<p>You may find more about them in Section 3.5 of <a href=\"https://www.yegor256.com/elegant-objects.html\" rel=\"noreferrer\">Elegant Objects</a> (my book about object-oriented programming).</p>\n"},{"tags":[],"owner":{"account_id":1518433,"reputation":1029,"user_id":1418838,"display_name":"Haakon L&#248;tveit"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1676916948,"creation_date":1448807870,"answer_id":33983976,"question_id":1568091,"body_markdown":"EDIT: I answered this question because there are a bunch of people learning programming asking this, and most of the answers are very technically competent, but they&#39;re not as easy to understand if you&#39;re a newbie. We were all newbies, so I thought I&#39;d try my hand at a more newbie friendly answer.\r\n\r\nThe two main ones are polymorphism, and validation. Even if it&#39;s just a stupid data structure.\r\n\r\nLet&#39;s say we have this simple class:\r\n\r\n    public class Bottle {\r\n      public int amountOfWaterMl;\r\n      public int capacityMl;\r\n    }\r\n\r\nA very simple class that holds how much liquid is in it, and what its capacity is (in milliliters).\r\n\r\nWhat happens when I do:\r\n\r\n    Bottle bot = new Bottle();\r\n    bot.amountOfWaterMl = 1500;\r\n    bot.capacityMl = 1000;\r\n\r\nWell, you wouldn&#39;t expect that to work, right?\r\nYou want there to be some kind of sanity check. And worse, what if I never specified the maximum capacity? Oh dear, we have a problem.\r\n\r\nBut there&#39;s another problem too. What if bottles were just one type of container? What if we had several containers, all with capacities and amounts of liquid filled? If we could just make an interface, we could let the rest of our program accept that interface, and bottles, jerrycans and all sorts of stuff would just work interchangably. Wouldn&#39;t that be better? Since interfaces demand methods, this is also a good thing.\r\n\r\nWe&#39;d end up with something like:\r\n\r\n    public interface LiquidContainer {\r\n      public int getAmountMl();\r\n      public void setAmountMl(int amountMl);\r\n      public int getCapacityMl();\r\n    }\r\n\r\nGreat! And now we just change Bottle to this:\r\n\r\n    public class Bottle implements LiquidContainer {\r\n      private int capacityMl;\r\n      private int amountFilledMl;\r\n\r\n      public Bottle(int capacityMl, int amountFilledMl) {\r\n        this.capacityMl = capacityMl;\r\n        this.amountFilledMl = amountFilledMl;\r\n        checkNotOverFlow();\r\n      }\r\n\r\n      public int getAmountMl() {\r\n        return amountFilledMl;\r\n      }\r\n      \r\n      public void setAmountMl(int amountMl) {\r\n         this.amountFilled = amountMl;\r\n         checkNotOverFlow();\r\n      }\r\n      public int getCapacityMl() {\r\n        return capacityMl;\r\n      }\r\n\r\n      private void checkNotOverFlow() {\r\n        if(amountOfWaterMl &gt; capacityMl) {\r\n          throw new BottleOverflowException();\r\n        }\r\n    }\r\n\r\nI&#39;ll leave the definition of the BottleOverflowException as an exercise to the reader.\r\n\r\nNow notice how much more robust this is. We can deal with any type of container in our code now by accepting LiquidContainer instead of Bottle. And how these bottles deal with this sort of stuff can all differ. You can have bottles that write their state to disk when it changes, or bottles that save on SQL databases or GNU knows what else.\r\n\r\nAnd all these can have different ways to handle various whoopsies. The Bottle just checks and if it&#39;s overflowing it throws a RuntimeException. But that might be the wrong thing to do. \r\n(There is a useful discussion to be had about error handling, but I&#39;m keeping it very simple here on purpose. People in comments will likely point out the flaws of this simplistic approach. ;) )\r\n\r\nAnd yes, it seems like we go from a very simple idea to getting much better answers quickly.\r\n\r\nPlease note also that you can&#39;t change the capacity of a bottle. It&#39;s now set in stone. You could do this with an int by declaring it final. But if this was a list, you could empty it, add new things to it, and so on. You can&#39;t limit the access to touching the innards.\r\n\r\nThere&#39;s also the third thing that not everyone has addressed: getters and setters use method calls. That means that they look like normal methods everywhere else does. Instead of having weird specific syntax for DTOs and stuff, you have the same thing everywhere.","title":"Why use getters and setters/accessors?","body":"<p>EDIT: I answered this question because there are a bunch of people learning programming asking this, and most of the answers are very technically competent, but they're not as easy to understand if you're a newbie. We were all newbies, so I thought I'd try my hand at a more newbie friendly answer.</p>\n<p>The two main ones are polymorphism, and validation. Even if it's just a stupid data structure.</p>\n<p>Let's say we have this simple class:</p>\n<pre><code>public class Bottle {\n  public int amountOfWaterMl;\n  public int capacityMl;\n}\n</code></pre>\n<p>A very simple class that holds how much liquid is in it, and what its capacity is (in milliliters).</p>\n<p>What happens when I do:</p>\n<pre><code>Bottle bot = new Bottle();\nbot.amountOfWaterMl = 1500;\nbot.capacityMl = 1000;\n</code></pre>\n<p>Well, you wouldn't expect that to work, right?\nYou want there to be some kind of sanity check. And worse, what if I never specified the maximum capacity? Oh dear, we have a problem.</p>\n<p>But there's another problem too. What if bottles were just one type of container? What if we had several containers, all with capacities and amounts of liquid filled? If we could just make an interface, we could let the rest of our program accept that interface, and bottles, jerrycans and all sorts of stuff would just work interchangably. Wouldn't that be better? Since interfaces demand methods, this is also a good thing.</p>\n<p>We'd end up with something like:</p>\n<pre><code>public interface LiquidContainer {\n  public int getAmountMl();\n  public void setAmountMl(int amountMl);\n  public int getCapacityMl();\n}\n</code></pre>\n<p>Great! And now we just change Bottle to this:</p>\n<pre><code>public class Bottle implements LiquidContainer {\n  private int capacityMl;\n  private int amountFilledMl;\n\n  public Bottle(int capacityMl, int amountFilledMl) {\n    this.capacityMl = capacityMl;\n    this.amountFilledMl = amountFilledMl;\n    checkNotOverFlow();\n  }\n\n  public int getAmountMl() {\n    return amountFilledMl;\n  }\n  \n  public void setAmountMl(int amountMl) {\n     this.amountFilled = amountMl;\n     checkNotOverFlow();\n  }\n  public int getCapacityMl() {\n    return capacityMl;\n  }\n\n  private void checkNotOverFlow() {\n    if(amountOfWaterMl &gt; capacityMl) {\n      throw new BottleOverflowException();\n    }\n}\n</code></pre>\n<p>I'll leave the definition of the BottleOverflowException as an exercise to the reader.</p>\n<p>Now notice how much more robust this is. We can deal with any type of container in our code now by accepting LiquidContainer instead of Bottle. And how these bottles deal with this sort of stuff can all differ. You can have bottles that write their state to disk when it changes, or bottles that save on SQL databases or GNU knows what else.</p>\n<p>And all these can have different ways to handle various whoopsies. The Bottle just checks and if it's overflowing it throws a RuntimeException. But that might be the wrong thing to do.\n(There is a useful discussion to be had about error handling, but I'm keeping it very simple here on purpose. People in comments will likely point out the flaws of this simplistic approach. ;) )</p>\n<p>And yes, it seems like we go from a very simple idea to getting much better answers quickly.</p>\n<p>Please note also that you can't change the capacity of a bottle. It's now set in stone. You could do this with an int by declaring it final. But if this was a list, you could empty it, add new things to it, and so on. You can't limit the access to touching the innards.</p>\n<p>There's also the third thing that not everyone has addressed: getters and setters use method calls. That means that they look like normal methods everywhere else does. Instead of having weird specific syntax for DTOs and stuff, you have the same thing everywhere.</p>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467757955,"creation_date":1449780297,"answer_id":34211386,"question_id":1568091,"body_markdown":"**Getters** and **setters** are used to implement two of the fundamental aspects of Object Oriented Programming which are: \r\n\r\n 1. Abstraction\r\n 2. Encapsulation\r\n\r\nSuppose we have an Employee class:\r\n\r\n    package com.highmark.productConfig.types;\r\n\r\n    public class Employee {\r\n\t\r\n\t    private String firstName;\r\n\t    private String middleName;\r\n\t    private String lastName;\r\n\t\r\n\t    public String getFirstName() {\r\n\t\t  return firstName;\r\n\t    }\r\n\t    public void setFirstName(String firstName) {\r\n\t\t   this.firstName = firstName;\r\n\t    }\r\n\t    public String getMiddleName() {\r\n\t\t    return middleName;\r\n\t    }\r\n\t    public void setMiddleName(String middleName) {\r\n\t\t     this.middleName = middleName;\r\n\t    }\r\n\t    public String getLastName() {\r\n\t\t    return lastName;\r\n\t    }\r\n\t    public void setLastName(String lastName) {\r\n\t\t    this.lastName = lastName;\r\n\t    }\r\n\t\r\n\t    public String getFullName(){\r\n\t\t    return this.getFirstName() + this.getMiddleName() +  this.getLastName();\r\n\t    }\r\n     }\r\n\r\nHere the implementation details of Full Name is hidden from the user and is not accessible directly to the user, unlike a public attribute.   \r\n\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p><strong>Getters</strong> and <strong>setters</strong> are used to implement two of the fundamental aspects of Object Oriented Programming which are: </p>\n\n<ol>\n<li>Abstraction</li>\n<li>Encapsulation</li>\n</ol>\n\n<p>Suppose we have an Employee class:</p>\n\n<pre><code>package com.highmark.productConfig.types;\n\npublic class Employee {\n\n    private String firstName;\n    private String middleName;\n    private String lastName;\n\n    public String getFirstName() {\n      return firstName;\n    }\n    public void setFirstName(String firstName) {\n       this.firstName = firstName;\n    }\n    public String getMiddleName() {\n        return middleName;\n    }\n    public void setMiddleName(String middleName) {\n         this.middleName = middleName;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getFullName(){\n        return this.getFirstName() + this.getMiddleName() +  this.getLastName();\n    }\n }\n</code></pre>\n\n<p>Here the implementation details of Full Name is hidden from the user and is not accessible directly to the user, unlike a public attribute.   </p>\n"},{"tags":[],"owner":{"account_id":2030250,"reputation":438,"user_id":1814159,"accept_rate":67,"display_name":"Jean-Christophe Blanchard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454625649,"creation_date":1454625649,"answer_id":35213083,"question_id":1568091,"body_markdown":"Although not common for getter and setter, the use of these methods can also be used in AOP/proxy pattern uses.\r\neg for auditing variable you can use AOP to audit update of any value.\r\nWithout  getter/setter it&#39;s not possible except changing the code everywhere.\r\nPersonaly I have never used AOP for that, but it shows one more advantage of using getter/setter.\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>Although not common for getter and setter, the use of these methods can also be used in AOP/proxy pattern uses.\neg for auditing variable you can use AOP to audit update of any value.\nWithout  getter/setter it's not possible except changing the code everywhere.\nPersonaly I have never used AOP for that, but it shows one more advantage of using getter/setter.</p>\n"},{"tags":[],"owner":{"account_id":13781789,"reputation":652,"user_id":9946772,"display_name":"kangalio"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1525856995,"creation_date":1472583575,"answer_id":39235159,"question_id":1568091,"body_markdown":"I know it&#39;s a bit late, but I think there are some people who are interested in performance.\r\n\r\nI&#39;ve done a little performance test. I wrote a class &quot;NumberHolder&quot; which, well, holds an Integer. You can either read that Integer by using the getter method\r\n`anInstance.getNumber()` or by directly accessing the number by using `anInstance.number`. My programm reads the number 1,000,000,000 times, via both ways. That process is repeated five times and the time is printed. I&#39;ve got the following result:\r\n\r\n    Time 1: 953ms, Time 2: 741ms\r\n    Time 1: 655ms, Time 2: 743ms\r\n    Time 1: 656ms, Time 2: 634ms\r\n    Time 1: 637ms, Time 2: 629ms\r\n    Time 1: 633ms, Time 2: 625ms\r\n(Time 1 is the direct way, Time 2 is the getter)\r\n\r\nYou see, the getter is (almost) always a bit faster. Then I tried with different numbers of cycles. Instead of 1 million, I used 10 million and 0.1 million.\r\nThe results:\r\n\r\n10 million cycles: \r\n\r\n    Time 1: 6382ms, Time 2: 6351ms\r\n    Time 1: 6363ms, Time 2: 6351ms\r\n    Time 1: 6350ms, Time 2: 6363ms\r\n    Time 1: 6353ms, Time 2: 6357ms\r\n    Time 1: 6348ms, Time 2: 6354ms\r\n\r\nWith 10 million cycles, the times are almost the same.\r\nHere are 100 thousand (0.1 million) cycles:\r\n\r\n    Time 1: 77ms, Time 2: 73ms\r\n    Time 1: 94ms, Time 2: 65ms\r\n    Time 1: 67ms, Time 2: 63ms\r\n    Time 1: 65ms, Time 2: 65ms\r\n    Time 1: 66ms, Time 2: 63ms\r\n\r\nAlso with different amounts of cycles, the getter is a little bit faster than the regular way. I hope this helped you.","title":"Why use getters and setters/accessors?","body":"<p>I know it's a bit late, but I think there are some people who are interested in performance.</p>\n\n<p>I've done a little performance test. I wrote a class \"NumberHolder\" which, well, holds an Integer. You can either read that Integer by using the getter method\n<code>anInstance.getNumber()</code> or by directly accessing the number by using <code>anInstance.number</code>. My programm reads the number 1,000,000,000 times, via both ways. That process is repeated five times and the time is printed. I've got the following result:</p>\n\n<pre><code>Time 1: 953ms, Time 2: 741ms\nTime 1: 655ms, Time 2: 743ms\nTime 1: 656ms, Time 2: 634ms\nTime 1: 637ms, Time 2: 629ms\nTime 1: 633ms, Time 2: 625ms\n</code></pre>\n\n<p>(Time 1 is the direct way, Time 2 is the getter)</p>\n\n<p>You see, the getter is (almost) always a bit faster. Then I tried with different numbers of cycles. Instead of 1 million, I used 10 million and 0.1 million.\nThe results:</p>\n\n<p>10 million cycles: </p>\n\n<pre><code>Time 1: 6382ms, Time 2: 6351ms\nTime 1: 6363ms, Time 2: 6351ms\nTime 1: 6350ms, Time 2: 6363ms\nTime 1: 6353ms, Time 2: 6357ms\nTime 1: 6348ms, Time 2: 6354ms\n</code></pre>\n\n<p>With 10 million cycles, the times are almost the same.\nHere are 100 thousand (0.1 million) cycles:</p>\n\n<pre><code>Time 1: 77ms, Time 2: 73ms\nTime 1: 94ms, Time 2: 65ms\nTime 1: 67ms, Time 2: 63ms\nTime 1: 65ms, Time 2: 65ms\nTime 1: 66ms, Time 2: 63ms\n</code></pre>\n\n<p>Also with different amounts of cycles, the getter is a little bit faster than the regular way. I hope this helped you.</p>\n"},{"tags":[],"owner":{"account_id":9935363,"reputation":51,"user_id":7353877,"display_name":"Rakesh Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483459802,"creation_date":1483459802,"answer_id":41447640,"question_id":1568091,"body_markdown":"\r\n\r\nOne relatively modern advantage of getters/setters is that is makes it easier to browse code in tagged (indexed) code editors. E.g. If you want to see who sets a member, you can open the call hierarchy of the setter.\r\n\r\nOn the other hand, if the member is public, the tools don&#39;t make it possible to filter read/write access to the member. So you have to trudge though all uses of the member.\r\n","title":"Why use getters and setters/accessors?","body":"<p>One relatively modern advantage of getters/setters is that is makes it easier to browse code in tagged (indexed) code editors. E.g. If you want to see who sets a member, you can open the call hierarchy of the setter.</p>\n\n<p>On the other hand, if the member is public, the tools don't make it possible to filter read/write access to the member. So you have to trudge though all uses of the member.</p>\n"},{"tags":[],"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493699195,"creation_date":1492895230,"answer_id":43564632,"question_id":1568091,"body_markdown":"&gt; Getters and setters coming from **data hiding**. Data Hiding means We\r\n&gt; are **hiding data from outsiders** or outside person/thing cannot access\r\n&gt; our data.This is a useful feature in OOP.\r\n\r\nAs a example:\r\n\r\nIf you create a public variable, you can access that variable and change value in anywhere(any class). But if you create as private that variable cannot see/access in any class except declared class.\r\n\r\n&gt; `public` and `private` are access modifiers.\r\n\r\nSo how can we access that variable outside:\r\n\r\nThis is the place **getters** and **setters** coming from. You can declare variable as private then you can implement getter and setter for that variable.\r\n\r\nExample(Java):\r\n\r\n    private String name;\r\n    \r\n    public String getName(){\r\n       return this.name;\r\n    }\r\n    \r\n    public void setName(String name){\r\n       this.name= name;\r\n    }\r\n\r\n**Advantage:**\r\n\r\nWhen anyone want to access or change/set value to `balance` variable, he/she must have permision.\r\n\r\n    //assume we have person1 object\r\n    //to give permission to check balance\r\n    person1.getName()\r\n    \r\n    //to give permission to set balance\r\n    person1.setName()\r\n\r\n*You can set value in constructor also but when later on when you want\r\nto update/change value, you have to implement setter method.*\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<blockquote>\n  <p>Getters and setters coming from <strong>data hiding</strong>. Data Hiding means We\n  are <strong>hiding data from outsiders</strong> or outside person/thing cannot access\n  our data.This is a useful feature in OOP.</p>\n</blockquote>\n\n<p>As a example:</p>\n\n<p>If you create a public variable, you can access that variable and change value in anywhere(any class). But if you create as private that variable cannot see/access in any class except declared class.</p>\n\n<blockquote>\n  <p><code>public</code> and <code>private</code> are access modifiers.</p>\n</blockquote>\n\n<p>So how can we access that variable outside:</p>\n\n<p>This is the place <strong>getters</strong> and <strong>setters</strong> coming from. You can declare variable as private then you can implement getter and setter for that variable.</p>\n\n<p>Example(Java):</p>\n\n<pre><code>private String name;\n\npublic String getName(){\n   return this.name;\n}\n\npublic void setName(String name){\n   this.name= name;\n}\n</code></pre>\n\n<p><strong>Advantage:</strong></p>\n\n<p>When anyone want to access or change/set value to <code>balance</code> variable, he/she must have permision.</p>\n\n<pre><code>//assume we have person1 object\n//to give permission to check balance\nperson1.getName()\n\n//to give permission to set balance\nperson1.setName()\n</code></pre>\n\n<p><em>You can set value in constructor also but when later on when you want\nto update/change value, you have to implement setter method.</em></p>\n"},{"tags":[],"owner":{"account_id":19948660,"reputation":710,"user_id":14618789,"display_name":"Lakindu Hewawasam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605752703,"creation_date":1605752703,"answer_id":64904488,"question_id":1568091,"body_markdown":"From my experience, it is ideal to set variables as private and to provide accessors and modifiers to each variable.\r\n\r\nThis way, you can create read only variables, or write only variables depending on your requirements.\r\n\r\nBelow implementation shows a write only variable.\r\n\r\n    private String foo;\r\n    public void setFoo(String foo) { this.foo = foo; }\r\n    private String getFoo() { return foo; }\r\n\r\nBelow shows a read only variable.\r\n\r\n    private String foo;\r\n    private void setFoo(String foo) { this.foo = foo; }\r\n    public String getFoo() { return foo; }","title":"Why use getters and setters/accessors?","body":"<p>From my experience, it is ideal to set variables as private and to provide accessors and modifiers to each variable.</p>\n<p>This way, you can create read only variables, or write only variables depending on your requirements.</p>\n<p>Below implementation shows a write only variable.</p>\n<pre><code>private String foo;\npublic void setFoo(String foo) { this.foo = foo; }\nprivate String getFoo() { return foo; }\n</code></pre>\n<p>Below shows a read only variable.</p>\n<pre><code>private String foo;\nprivate void setFoo(String foo) { this.foo = foo; }\npublic String getFoo() { return foo; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7964707,"reputation":420,"user_id":6011410,"display_name":"aditya lath"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1617114323,"creation_date":1617114323,"answer_id":66872852,"question_id":1568091,"body_markdown":"There is a difference between DataStructure and Object.\r\n\r\nDatastructure should expose its innards and not behavior.\r\n\r\nAn Object should not expose its innards but it should expose its behavior, which is also known as the Law of Demeter\r\n\r\nMostly DTOs are considered more of a datastructure and not Object. They should only expose their data and not behavior. Having Setter/Getter in DataStructure will expose behavior instead of data inside it. This further increases the chance of violation of **Law of Demeter**. \r\n\r\nUncle Bob in his book Clean code explained the Law of Demeter.\r\n\r\n&gt; There is a well-known heuristic called the Law of Demeter that says a\r\n&gt; module should not know about the innards of the objects it\r\n&gt; manipulates. As we saw in the last section, objects hide their data\r\n&gt; and expose operations. This means that an object should not expose its\r\n&gt; internal structure through accessors because to do so is to expose,\r\n&gt; rather than to hide, its internal structure.\r\n&gt; \r\n&gt; More precisely, the Law of Demeter says that a method f of a class C\r\n&gt; should only call the methods of these:\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; - C\r\n&gt;  - An object created by f \r\n&gt;  - An object passed as an argument to f \r\n&gt;  - An object held in an instance variable of C\r\n&gt; \r\n&gt; The method should not invoke methods on objects that are returned by any of the allowed functions.\r\n&gt; In other words, talk to friends, not to strangers.\r\n\r\nSo according this, example of LoD violation is: \r\n\r\n    final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();\r\n\r\nHere, the function should call the method of its immediate friend which is ctxt here, It should not call the method of its immediate friend&#39;s friend. but this rule doesn&#39;t apply to data structure. so here if ctxt, option, scratchDir are  datastructure then why to wrap their internal data with some behavior and doing a violation of LoD.\r\n\r\nInstead, we can do something like this.\r\n\r\n    final String outputDir = ctxt.options.scratchDir.absolutePath;\r\n\r\nThis fulfills our needs and doesn&#39;t even violate LoD.\r\n\r\nInspired by Clean Code by Robert C. Martin(Uncle Bob)\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>There is a difference between DataStructure and Object.</p>\n<p>Datastructure should expose its innards and not behavior.</p>\n<p>An Object should not expose its innards but it should expose its behavior, which is also known as the Law of Demeter</p>\n<p>Mostly DTOs are considered more of a datastructure and not Object. They should only expose their data and not behavior. Having Setter/Getter in DataStructure will expose behavior instead of data inside it. This further increases the chance of violation of <strong>Law of Demeter</strong>.</p>\n<p>Uncle Bob in his book Clean code explained the Law of Demeter.</p>\n<blockquote>\n<p>There is a well-known heuristic called the Law of Demeter that says a\nmodule should not know about the innards of the objects it\nmanipulates. As we saw in the last section, objects hide their data\nand expose operations. This means that an object should not expose its\ninternal structure through accessors because to do so is to expose,\nrather than to hide, its internal structure.</p>\n<p>More precisely, the Law of Demeter says that a method f of a class C\nshould only call the methods of these:</p>\n<ul>\n<li>C</li>\n<li>An object created by f</li>\n<li>An object passed as an argument to f</li>\n<li>An object held in an instance variable of C</li>\n</ul>\n<p>The method should not invoke methods on objects that are returned by any of the allowed functions.\nIn other words, talk to friends, not to strangers.</p>\n</blockquote>\n<p>So according this, example of LoD violation is:</p>\n<pre><code>final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();\n</code></pre>\n<p>Here, the function should call the method of its immediate friend which is ctxt here, It should not call the method of its immediate friend's friend. but this rule doesn't apply to data structure. so here if ctxt, option, scratchDir are  datastructure then why to wrap their internal data with some behavior and doing a violation of LoD.</p>\n<p>Instead, we can do something like this.</p>\n<pre><code>final String outputDir = ctxt.options.scratchDir.absolutePath;\n</code></pre>\n<p>This fulfills our needs and doesn't even violate LoD.</p>\n<p>Inspired by Clean Code by Robert C. Martin(Uncle Bob)</p>\n"},{"tags":[],"owner":{"account_id":956897,"reputation":329,"user_id":982042,"display_name":"user982042"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1623130737,"creation_date":1623130737,"answer_id":67881978,"question_id":1568091,"body_markdown":"If you don&#39;t require any validations and not even need to maintain state i.e. one property depends on another so we need to maintain the state when one is change. You can keep it simple by making field public and not using getter and setters. \r\n\r\nI think OOPs complicates things as the program grows it becomes nightmare for developer to scale. \r\n\r\nA simple example; we generate c++ headers from xml. The header contains simple field which does not require any validations. But still as in OOPS accessor  are fashion we generates them  as following. \r\n\r\n    const Filed&amp; getfield() const\r\n    Field&amp; getField() \r\n    void setfield(const Field&amp; field){...} \r\n\r\nwhich is very verbose and is not required. a simple \r\n\r\n    struct \r\n    {\r\n       Field field;\r\n    };\r\n\r\n \r\nis enough and readable. \r\nFunctional programming don&#39;t have the concept of data hiding they even don&#39;t require it as they do not mutate the data.    \r\n","title":"Why use getters and setters/accessors?","body":"<p>If you don't require any validations and not even need to maintain state i.e. one property depends on another so we need to maintain the state when one is change. You can keep it simple by making field public and not using getter and setters.</p>\n<p>I think OOPs complicates things as the program grows it becomes nightmare for developer to scale.</p>\n<p>A simple example; we generate c++ headers from xml. The header contains simple field which does not require any validations. But still as in OOPS accessor  are fashion we generates them  as following.</p>\n<pre><code>const Filed&amp; getfield() const\nField&amp; getField() \nvoid setfield(const Field&amp; field){...} \n</code></pre>\n<p>which is very verbose and is not required. a simple</p>\n<pre><code>struct \n{\n   Field field;\n};\n</code></pre>\n<p>is enough and readable.\nFunctional programming don't have the concept of data hiding they even don't require it as they do not mutate the data.</p>\n"}],"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545002,"favorite_count":0,"down_vote_count":4,"up_vote_count":1865,"accepted_answer_id":1568230,"answer_count":37,"score":1861,"last_activity_date":1692807883,"creation_date":1255544456,"question_id":1568091,"body_markdown":"What&#39;s the advantage of using getters and setters - that only get and set - instead of simply using public fields for those variables?\r\n\r\nIf getters and setters are ever doing more than just the simple get/set, I can figure this one out very quickly, but I&#39;m not 100% clear on how:\r\n```java\r\npublic String foo;\r\n```\r\nis any worse than:\r\n```java\r\nprivate String foo;\r\npublic void setFoo(String foo) { this.foo = foo; }\r\npublic String getFoo() { return foo; }\r\n```\r\nWhereas the former takes a lot less boilerplate code.","title":"Why use getters and setters/accessors?","body":"<p>What's the advantage of using getters and setters - that only get and set - instead of simply using public fields for those variables?</p>\n<p>If getters and setters are ever doing more than just the simple get/set, I can figure this one out very quickly, but I'm not 100% clear on how:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String foo;\n</code></pre>\n<p>is any worse than:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String foo;\npublic void setFoo(String foo) { this.foo = foo; }\npublic String getFoo() { return foo; }\n</code></pre>\n<p>Whereas the former takes a lot less boilerplate code.</p>\n"},{"tags":["java","google-chrome","ubuntu","selenium-chromedriver"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1692840158,"post_id":76963236,"comment_id":135679931,"body_markdown":"Update chrome driver or downgrade chrome? What is unclear about the error message? Did you check [ask]?","body":"Update chrome driver or downgrade chrome? What is unclear about the error message? Did you check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>?"},{"owner":{"account_id":4294333,"reputation":61,"user_id":3509769,"display_name":"Federico"},"score":1,"creation_date":1692844355,"post_id":76963236,"comment_id":135680246,"body_markdown":"Google updated their browser to 116.0.5845..111 but failed to update the chromedriver to the same version. \nAt the moment the only change is to downgrade Google to .96 and install the chromedriver from here https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/win64/chromedriver-win64.zip","body":"Google updated their browser to 116.0.5845..111 but failed to update the chromedriver to the same version.  At the moment the only change is to downgrade Google to .96 and install the chromedriver from here <a href=\"https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/win64/chromedriver-win64.zip\" rel=\"nofollow noreferrer\">edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/&hellip;</a>"}],"owner":{"account_id":29284721,"reputation":11,"user_id":22436598,"display_name":"menslb2b"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692807854,"creation_date":1692807854,"question_id":76963236,"body_markdown":"org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 114\r\nCurrent browser version is 116.0.5845.111 \r\n\r\ntried running my test scripts but they won&#39;t run given the error above","title":"Trying to get chromedriver to work but seem to have an outdated version that is not compatible with the latest chrome, any ideas to fix this?","body":"<p>org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 116.0.5845.111</p>\n<p>tried running my test scripts but they won't run given the error above</p>\n"},{"tags":["java","generics","arraylist","junit","assertion"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1692808606,"post_id":76963230,"comment_id":135675670,"body_markdown":"You forgot to implement .equals() and .hashcode()","body":"You forgot to implement .equals() and .hashcode()"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1692811134,"post_id":76963230,"comment_id":135676137,"body_markdown":"Does this answer your question? [Why are two objects with same data not equal while using equals() method](https://stackoverflow.com/questions/17064661/why-are-two-objects-with-same-data-not-equal-while-using-equals-method)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17064661/why-are-two-objects-with-same-data-not-equal-while-using-equals-method\">Why are two objects with same data not equal while using equals() method</a>"},{"owner":{"account_id":29284633,"reputation":1,"user_id":22436524,"display_name":"xampL"},"score":0,"creation_date":1692811757,"post_id":76963230,"comment_id":135676247,"body_markdown":"@S&#246;ren I don&#39;t think I should need those? I don&#39;t understand why my testUnion() is not passing as when I print them out set3 and set4 are the same","body":"@S&#246;ren I don&#39;t think I should need those? I don&#39;t understand why my testUnion() is not passing as when I print them out set3 and set4 are the same"},{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1692812934,"post_id":76963230,"comment_id":135676457,"body_markdown":"@xampL - The answer from S&#246;ren is correct - if you don&#39;t implement equals, Java does a very simple check for equality, just checking that the references refer to the same object. Your implementation could be fairly simple as well, relying on comparing the contents of your internal lists, especially if you keep the lists sorted -- or even better, if your class wrapped a Java &#39;set&#39;?","body":"@xampL - The answer from S&#246;ren is correct - if you don&#39;t implement equals, Java does a very simple check for equality, just checking that the references refer to the same object. Your implementation could be fairly simple as well, relying on comparing the contents of your internal lists, especially if you keep the lists sorted -- or even better, if your class wrapped a Java &#39;set&#39;?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1692816917,"post_id":76963230,"comment_id":135677168,"body_markdown":"assertEquals() calls .equals()","body":"assertEquals() calls .equals()"}],"owner":{"account_id":29284633,"reputation":1,"user_id":22436524,"display_name":"xampL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692807777,"creation_date":1692807777,"question_id":76963230,"body_markdown":"When running my test file, my testUnion() and testIntersection() are failing. I have included some print statements in each for the purpose of debugging. In each of these methods, set1 and set2 are independent sets. set3 is a set with the desired outcome of the union or intersection of set1 and set2. Finally, set4 is the returned set from calling either the union or intersection operation on set1 and set2. \r\n\r\ntestUnion() seems to be behaving exactly as expected printing out set3 and set4 to be equal. However, I am still failing the assertEquals(set3, set4); and I&#39;m not sure why. I&#39;ve also tried doing assertTrue(set3 == set4); and have the same results. \r\n\r\ntestIntersection()&#39;s set4 is empty. This is because the line &quot;retval.add(element);&quot; under the GenericSet.java is never being executed but I&#39;m not sure why it is not getting past the if statement.\r\n\r\nHere is my GenericSet.java file:\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class GenericSet&lt;T&gt; {\r\n\tArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n\t\r\n\tpublic boolean add(T element) {\r\n\t\tif (list.contains(element)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlist.add(element);\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tpublic boolean contains(T element) {\r\n\t    for (T item : list) {\r\n\t        if (item.equals(element)) {\r\n\t            return true;\r\n\t        }\r\n\t    }\r\n\t    return false;\r\n\t}\r\n\r\n\t\r\n\tpublic int size() {\r\n\t\treturn list.size();\r\n\t}\r\n\t\r\n\tpublic GenericSet&lt;T&gt; union(GenericSet&lt;T&gt; set) {\r\n\t\tGenericSet&lt;T&gt; retval = new GenericSet&lt;&gt;();\r\n\t\tfor (T element : this.list) {\r\n\t\t\tretval.add(element);\r\n\t\t}\r\n\t\tfor (T element : set.list) {\r\n\t\t\tretval.add(element);\r\n\t\t}\r\n\t\t\r\n\t\treturn retval;\r\n\t}\r\n\t\r\n\tpublic GenericSet&lt;T&gt; intersection(GenericSet&lt;T&gt; set) {\r\n\t\tGenericSet&lt;T&gt; retval = new GenericSet&lt;&gt;();\r\n\t\tfor (T element : this.list) {\r\n\t\t\tif (set.contains(element)) {\r\n\t\t\t\tretval.add(element);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn retval;\r\n\t}\r\n\r\n\tpublic String toList() {\r\n\t    StringBuilder builder = new StringBuilder();\r\n\t    \r\n\t    for (T element : list) {\r\n\t        builder.append(element).append(&quot;, &quot;);\r\n\t    }\r\n\t    \r\n\t    // Remove the trailing &quot;, &quot; if there are elements\r\n\t    if (!list.isEmpty()) {\r\n\t        builder.delete(builder.length() - 2, builder.length());\r\n\t    }\r\n\t    \r\n\t    return builder.toString();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nHere is my GenericSetTest.java file which I run coverage as 1 JUnit Test on:\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass GenericSetTest {\r\n\r\n\t@Test\r\n\tvoid testAdd() {\r\n\t\tGenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\r\n\t\t/*\r\n\t\tGenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\r\n\t\tset1.add(1);\r\n\t\tset2.add(1);\r\n\t\t\r\n\t\tSystem.out.println(&quot;testAdd:&quot;);\r\n\t\tSystem.out.println(&quot;set1: &quot; + set1.toList());\r\n\t    System.out.println(&quot;set2: &quot; + set2.toList());\r\n\t    System.out.println();\r\n\t    */\r\n\t    assertTrue(set1.add(1));\r\n\t\t//assertTrue(set1.equals(set2));\r\n\t\t\r\n\t\t//set2.add(3);\r\n\t\t//assertFalse(set1 == set2);\r\n\t\t}\r\n\t\r\n\t@Test\r\n\tvoid testContains() {\r\n\t\tGenericSet&lt;Integer&gt; set = new GenericSet&lt;&gt;();\r\n\t\tset.add(1);\r\n\t\tassertEquals(true, set.contains(1));\r\n\t\tassertTrue(set.contains(1));\r\n\t\tassertFalse(set.contains(3));\r\n\t\t}\r\n\t\r\n\t@Test\r\n\tvoid testSize() {\r\n\t\tGenericSet&lt;Integer&gt; set = new GenericSet&lt;&gt;();\r\n\t\tassertTrue(set.size() == 0);\r\n\t\tset.add(1);\r\n\t\tassertTrue(set.size() == 1);\r\n\t\tset.add(4);\r\n\t\tassertTrue(set.size() == 2);\r\n\t\t}\r\n\t\r\n\t@Test\r\n\tvoid testUnion() {\r\n\t\tGenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\r\n\t\tGenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\r\n\t\tGenericSet&lt;Integer&gt; set3 = new GenericSet&lt;&gt;();\r\n\t\t\r\n\t\tset1.add(1);\r\n\t\tset1.add(2);\r\n\t\tset1.add(3);\r\n\t\t\r\n\t\tset2.add(3);\r\n\t\tset2.add(4);\r\n\r\n\t\tset3.add(1);\r\n\t\tset3.add(2);\r\n\t\tset3.add(3);\r\n\t\tset3.add(4);\r\n\t\t\r\n\t\t\r\n\t\tGenericSet&lt;Integer&gt; set4 = set1.union(set2);\r\n\t\t\r\n\t\tSystem.out.println(&quot;testUnion:&quot;);\r\n\t\tSystem.out.println(&quot;set1: &quot; + set1.toList());\r\n\t    System.out.println(&quot;set2: &quot; + set2.toList());\r\n\t\tSystem.out.println(&quot;set3: &quot; + set3.toList());\r\n\t    System.out.println(&quot;set4: &quot; + set4.toList());\r\n\t    System.out.println();\r\n\t\tassertEquals(set3, set4);\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testIntersection() {\r\n\t    GenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\r\n\t    GenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\r\n\t    GenericSet&lt;Integer&gt; set3 = new GenericSet&lt;&gt;();\r\n\t    \r\n\t    // set1 = {1, 2}\r\n\t    set1.add(1);\r\n\t    set1.add(2);\r\n\t    \r\n\t    // set2 = {3, 3}\r\n\t    set2.add(3);\r\n\t    set2.add(3);\r\n\t    \r\n\t    // set3 = {1, 2, 3}\r\n\t    set3.add(1);\r\n\t    set3.add(2);\r\n\t    set3.add(3);\r\n\t    \r\n\t    // set4 = {1, 2, 3}\r\n\t    GenericSet&lt;Integer&gt; set4 = set1.intersection(set2);\r\n\t    \r\n\t    System.out.println(&quot;testIntersection:&quot;);\r\n\t\tSystem.out.println(&quot;set1: &quot; + set1.toList());\r\n\t    System.out.println(&quot;set2: &quot; + set2.toList());\r\n\t\tSystem.out.println(&quot;set3: &quot; + set3.toList());\r\n\t    System.out.println(&quot;set4: &quot; + set4.toList());\r\n\t    System.out.println();\r\n\t    \r\n\t    // Use assertEquals to compare the content of the sets\r\n\t    assertEquals(set3, set4);\r\n\t}\r\n}\r\n```","title":"Testing GenericSet using JUnit Test","body":"<p>When running my test file, my testUnion() and testIntersection() are failing. I have included some print statements in each for the purpose of debugging. In each of these methods, set1 and set2 are independent sets. set3 is a set with the desired outcome of the union or intersection of set1 and set2. Finally, set4 is the returned set from calling either the union or intersection operation on set1 and set2.</p>\n<p>testUnion() seems to be behaving exactly as expected printing out set3 and set4 to be equal. However, I am still failing the assertEquals(set3, set4); and I'm not sure why. I've also tried doing assertTrue(set3 == set4); and have the same results.</p>\n<p>testIntersection()'s set4 is empty. This is because the line &quot;retval.add(element);&quot; under the GenericSet.java is never being executed but I'm not sure why it is not getting past the if statement.</p>\n<p>Here is my GenericSet.java file:</p>\n<pre><code>import java.util.ArrayList;\n\npublic class GenericSet&lt;T&gt; {\n    ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();\n    \n    public boolean add(T element) {\n        if (list.contains(element)) {\n            return false;\n        }\n        list.add(element);\n        return true;\n    }\n    \n    public boolean contains(T element) {\n        for (T item : list) {\n            if (item.equals(element)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    \n    public int size() {\n        return list.size();\n    }\n    \n    public GenericSet&lt;T&gt; union(GenericSet&lt;T&gt; set) {\n        GenericSet&lt;T&gt; retval = new GenericSet&lt;&gt;();\n        for (T element : this.list) {\n            retval.add(element);\n        }\n        for (T element : set.list) {\n            retval.add(element);\n        }\n        \n        return retval;\n    }\n    \n    public GenericSet&lt;T&gt; intersection(GenericSet&lt;T&gt; set) {\n        GenericSet&lt;T&gt; retval = new GenericSet&lt;&gt;();\n        for (T element : this.list) {\n            if (set.contains(element)) {\n                retval.add(element);\n            }\n        }\n        return retval;\n    }\n\n    public String toList() {\n        StringBuilder builder = new StringBuilder();\n        \n        for (T element : list) {\n            builder.append(element).append(&quot;, &quot;);\n        }\n        \n        // Remove the trailing &quot;, &quot; if there are elements\n        if (!list.isEmpty()) {\n            builder.delete(builder.length() - 2, builder.length());\n        }\n        \n        return builder.toString();\n    }\n\n}\n\n</code></pre>\n<p>Here is my GenericSetTest.java file which I run coverage as 1 JUnit Test on:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.api.Test;\n\nclass GenericSetTest {\n\n    @Test\n    void testAdd() {\n        GenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\n        /*\n        GenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\n        set1.add(1);\n        set2.add(1);\n        \n        System.out.println(&quot;testAdd:&quot;);\n        System.out.println(&quot;set1: &quot; + set1.toList());\n        System.out.println(&quot;set2: &quot; + set2.toList());\n        System.out.println();\n        */\n        assertTrue(set1.add(1));\n        //assertTrue(set1.equals(set2));\n        \n        //set2.add(3);\n        //assertFalse(set1 == set2);\n        }\n    \n    @Test\n    void testContains() {\n        GenericSet&lt;Integer&gt; set = new GenericSet&lt;&gt;();\n        set.add(1);\n        assertEquals(true, set.contains(1));\n        assertTrue(set.contains(1));\n        assertFalse(set.contains(3));\n        }\n    \n    @Test\n    void testSize() {\n        GenericSet&lt;Integer&gt; set = new GenericSet&lt;&gt;();\n        assertTrue(set.size() == 0);\n        set.add(1);\n        assertTrue(set.size() == 1);\n        set.add(4);\n        assertTrue(set.size() == 2);\n        }\n    \n    @Test\n    void testUnion() {\n        GenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\n        GenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\n        GenericSet&lt;Integer&gt; set3 = new GenericSet&lt;&gt;();\n        \n        set1.add(1);\n        set1.add(2);\n        set1.add(3);\n        \n        set2.add(3);\n        set2.add(4);\n\n        set3.add(1);\n        set3.add(2);\n        set3.add(3);\n        set3.add(4);\n        \n        \n        GenericSet&lt;Integer&gt; set4 = set1.union(set2);\n        \n        System.out.println(&quot;testUnion:&quot;);\n        System.out.println(&quot;set1: &quot; + set1.toList());\n        System.out.println(&quot;set2: &quot; + set2.toList());\n        System.out.println(&quot;set3: &quot; + set3.toList());\n        System.out.println(&quot;set4: &quot; + set4.toList());\n        System.out.println();\n        assertEquals(set3, set4);\n    }\n    \n    @Test\n    void testIntersection() {\n        GenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\n        GenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\n        GenericSet&lt;Integer&gt; set3 = new GenericSet&lt;&gt;();\n        \n        // set1 = {1, 2}\n        set1.add(1);\n        set1.add(2);\n        \n        // set2 = {3, 3}\n        set2.add(3);\n        set2.add(3);\n        \n        // set3 = {1, 2, 3}\n        set3.add(1);\n        set3.add(2);\n        set3.add(3);\n        \n        // set4 = {1, 2, 3}\n        GenericSet&lt;Integer&gt; set4 = set1.intersection(set2);\n        \n        System.out.println(&quot;testIntersection:&quot;);\n        System.out.println(&quot;set1: &quot; + set1.toList());\n        System.out.println(&quot;set2: &quot; + set2.toList());\n        System.out.println(&quot;set3: &quot; + set3.toList());\n        System.out.println(&quot;set4: &quot; + set4.toList());\n        System.out.println();\n        \n        // Use assertEquals to compare the content of the sets\n        assertEquals(set3, set4);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","thymeleaf","hapi-fhir"],"owner":{"account_id":10815338,"reputation":39157,"user_id":7954504,"accept_rate":99,"display_name":"Brad Solomon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692807579,"creation_date":1692806855,"question_id":76963134,"body_markdown":"When the project https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton is wrapped in a Spring application, the server fails to run and displays an `org.springframework.beans.factory.NoUniqueBeanDefinitionException` error.\r\n\r\n&gt; `Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;templateEngine&#39; defined in ca.uhn.fhir.to.FhirTesterMvcConfig: Unsatisfied dependency expressed through method &#39;templateEngine&#39; parameter 0; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&#39; available: expected single matching bean but found 2: templateResolver,defaultTemplateResolver`\r\n\r\nThis references `FhirTesterMvcConfig.templateResolver`, which comes from here:\r\n\r\n&gt; https://github.com/hapifhir/hapi-fhir/blob/ed616f7a6dff2ee891b39f7ed2a301d1efbbfec4/hapi-fhir-testpage-overlay/src/main/java/ca/uhn/fhir/to/FhirTesterMvcConfig.java#L46\r\n\r\nIt appears that this is related to the use of the HAPI FHIR [Web Testpage Overlay](https://hapifhir.io/hapi-fhir/docs/server_plain/web_testpage_overlay.html), but we cannot figure out how to make the method resolve to a &quot;unique&quot; bean. We have tried adding `@Primary` annotation to our FhirTesterConfig.java, but the error is unchanged. What can we do differently?\r\n\r\n**Reproducible example**\r\n\r\n1. Clone repo from https://gitlab.com/brsolomon-deloitte/hapi-fhir-overlay-mvce\r\n2. `mvn clean jetty:run`\r\n\r\nThis project is simply the original https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton wrapped in a Spring application, which was in turn created using https://start.spring.io/. \r\n\r\n```\r\n$ tree src\r\nsrc\r\nâ””â”€â”€ main\r\n    â”œâ”€â”€ java\r\n    â”‚&#160;&#160; â””â”€â”€ ca\r\n    â”‚&#160;&#160;     â””â”€â”€ uhn\r\n    â”‚&#160;&#160;         â””â”€â”€ example\r\n    â”‚&#160;&#160;             â”œâ”€â”€ app\r\n    â”‚&#160;&#160;             â”‚&#160;&#160; â”œâ”€â”€ DemoApplication.java &lt; # New\r\n    â”‚&#160;&#160;             â”‚&#160;&#160; â””â”€â”€ ServletInitializer.java &lt; # New\r\n    â”‚&#160;&#160;             â”œâ”€â”€ config\r\n    â”‚&#160;&#160;             â”‚&#160;&#160; â””â”€â”€ FhirTesterConfig.java\r\n    â”‚&#160;&#160;             â”œâ”€â”€ model\r\n    â”‚&#160;&#160;             â”‚&#160;&#160; â””â”€â”€ MyOrganization.java\r\n    â”‚&#160;&#160;             â”œâ”€â”€ provider\r\n    â”‚&#160;&#160;             â”‚&#160;&#160; â”œâ”€â”€ OrganizationResourceProvider.java\r\n    â”‚&#160;&#160;             â”‚&#160;&#160; â””â”€â”€ PatientResourceProvider.java\r\n    â”‚&#160;&#160;             â””â”€â”€ servlet\r\n    â”‚&#160;&#160;                 â””â”€â”€ ExampleRestfulServlet.java\r\n    â”œâ”€â”€ resources\r\n    â””â”€â”€ webapp\r\n        â””â”€â”€ WEB-INF\r\n            â””â”€â”€ web.xml\r\n```\r\n\r\nEnvironment info:\r\n\r\n - HAPI FHIR Version: 6.7.0-SNAPSHOT\r\n - OS: MacOS 13.5.1\r\n - Browser: Chrome\r\n\r\nFull stack trace is available here: https://gist.github.com/brsolomon-deloitte/92fa3870d7297e2c85b31d7920728c77","title":"Spring/HAPI FHIR leads to &#39;NoUniqueBeanDefinitionException: No qualifying bean&#39;","body":"<p>When the project <a href=\"https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton\" rel=\"nofollow noreferrer\">https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton</a> is wrapped in a Spring application, the server fails to run and displays an <code>org.springframework.beans.factory.NoUniqueBeanDefinitionException</code> error.</p>\n<blockquote>\n<p><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'templateEngine' defined in ca.uhn.fhir.to.FhirTesterMvcConfig: Unsatisfied dependency expressed through method 'templateEngine' parameter 0; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver' available: expected single matching bean but found 2: templateResolver,defaultTemplateResolver</code></p>\n</blockquote>\n<p>This references <code>FhirTesterMvcConfig.templateResolver</code>, which comes from here:</p>\n<blockquote>\n<p><a href=\"https://github.com/hapifhir/hapi-fhir/blob/ed616f7a6dff2ee891b39f7ed2a301d1efbbfec4/hapi-fhir-testpage-overlay/src/main/java/ca/uhn/fhir/to/FhirTesterMvcConfig.java#L46\" rel=\"nofollow noreferrer\">https://github.com/hapifhir/hapi-fhir/blob/ed616f7a6dff2ee891b39f7ed2a301d1efbbfec4/hapi-fhir-testpage-overlay/src/main/java/ca/uhn/fhir/to/FhirTesterMvcConfig.java#L46</a></p>\n</blockquote>\n<p>It appears that this is related to the use of the HAPI FHIR <a href=\"https://hapifhir.io/hapi-fhir/docs/server_plain/web_testpage_overlay.html\" rel=\"nofollow noreferrer\">Web Testpage Overlay</a>, but we cannot figure out how to make the method resolve to a &quot;unique&quot; bean. We have tried adding <code>@Primary</code> annotation to our FhirTesterConfig.java, but the error is unchanged. What can we do differently?</p>\n<p><strong>Reproducible example</strong></p>\n<ol>\n<li>Clone repo from <a href=\"https://gitlab.com/brsolomon-deloitte/hapi-fhir-overlay-mvce\" rel=\"nofollow noreferrer\">https://gitlab.com/brsolomon-deloitte/hapi-fhir-overlay-mvce</a></li>\n<li><code>mvn clean jetty:run</code></li>\n</ol>\n<p>This project is simply the original <a href=\"https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton\" rel=\"nofollow noreferrer\">https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton</a> wrapped in a Spring application, which was in turn created using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>.</p>\n<pre><code>$ tree src\nsrc\nâ””â”€â”€ main\n    â”œâ”€â”€ java\n    â”‚Â Â  â””â”€â”€ ca\n    â”‚Â Â      â””â”€â”€ uhn\n    â”‚Â Â          â””â”€â”€ example\n    â”‚Â Â              â”œâ”€â”€ app\n    â”‚Â Â              â”‚Â Â  â”œâ”€â”€ DemoApplication.java &lt; # New\n    â”‚Â Â              â”‚Â Â  â””â”€â”€ ServletInitializer.java &lt; # New\n    â”‚Â Â              â”œâ”€â”€ config\n    â”‚Â Â              â”‚Â Â  â””â”€â”€ FhirTesterConfig.java\n    â”‚Â Â              â”œâ”€â”€ model\n    â”‚Â Â              â”‚Â Â  â””â”€â”€ MyOrganization.java\n    â”‚Â Â              â”œâ”€â”€ provider\n    â”‚Â Â              â”‚Â Â  â”œâ”€â”€ OrganizationResourceProvider.java\n    â”‚Â Â              â”‚Â Â  â””â”€â”€ PatientResourceProvider.java\n    â”‚Â Â              â””â”€â”€ servlet\n    â”‚Â Â                  â””â”€â”€ ExampleRestfulServlet.java\n    â”œâ”€â”€ resources\n    â””â”€â”€ webapp\n        â””â”€â”€ WEB-INF\n            â””â”€â”€ web.xml\n</code></pre>\n<p>Environment info:</p>\n<ul>\n<li>HAPI FHIR Version: 6.7.0-SNAPSHOT</li>\n<li>OS: MacOS 13.5.1</li>\n<li>Browser: Chrome</li>\n</ul>\n<p>Full stack trace is available here: <a href=\"https://gist.github.com/brsolomon-deloitte/92fa3870d7297e2c85b31d7920728c77\" rel=\"nofollow noreferrer\">https://gist.github.com/brsolomon-deloitte/92fa3870d7297e2c85b31d7920728c77</a></p>\n"},{"tags":["java","syntax"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1692800306,"post_id":76962218,"comment_id":135673823,"body_markdown":"What is the use case that justifies not doing this in a method?","body":"What is the use case that justifies not doing this in a method?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1692800360,"post_id":76962218,"comment_id":135673835,"body_markdown":"you can use a `switch` expression, but very ugly, confusing, and why? `int c = switch (1) { default -&gt; { ... yield x; } }` (or similar like swap the case and default, )","body":"you can use a <code>switch</code> expression, but very ugly, confusing, and why? <code>int c = switch (1) { default -&gt; { ... yield x; } }</code> (or similar like swap the case and default, )"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692800787,"post_id":76962218,"comment_id":135673948,"body_markdown":"((even `switch (&quot;dummy&quot;) ...` or, to make it more confusing:  `switch(c) ...`)) -- `yield` AFAIK is only available inside a switch expression - Java Language Specification [14.21. The yield Statement](https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.21): &quot;**It is a compile-time error if a yield statement has no yield target.**&quot;","body":"((even <code>switch (&quot;dummy&quot;) ...</code> or, to make it more confusing:  <code>switch(c) ...</code>)) -- <code>yield</code> AFAIK is only available inside a switch expression - Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.21\" rel=\"nofollow noreferrer\">14.21. The yield Statement</a>: &quot;<b>It is a compile-time error if a yield statement has no yield target.</b>&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692801668,"post_id":76962218,"comment_id":135674175,"body_markdown":"*inspired* by WJS&#39; [answer](https://stackoverflow.com/a/76962371/16320675), you can also use an anonymous object: `var calc = new Object() { int it(...) { ... return result;} }; int c = calc.it(...);` - Warning: only works when using `var` -- `Object calc = new ...` will not work!","body":"<i>inspired</i> by WJS&#39; <a href=\"https://stackoverflow.com/a/76962371/16320675\">answer</a>, you can also use an anonymous object: <code>var calc = new Object() { int it(...) { ... return result;} }; int c = calc.it(...);</code> - Warning: only works when using <code>var</code> -- <code>Object calc = new ...</code> will not work!"},{"owner":{"account_id":3971503,"reputation":47,"user_id":3276002,"display_name":"andi"},"score":0,"creation_date":1692802086,"post_id":76962218,"comment_id":135674283,"body_markdown":"This is a question for possible language feature like this, not any workaround or hacks. Thanks anyways for your suggestions!","body":"This is a question for possible language feature like this, not any workaround or hacks. Thanks anyways for your suggestions!"},{"owner":{"account_id":3971503,"reputation":47,"user_id":3276002,"display_name":"andi"},"score":0,"creation_date":1692802191,"post_id":76962218,"comment_id":135674312,"body_markdown":"It would be useful to have such a language feature to be able to access all the variables from the parent scope without introducing a new method with lots of parameters. Also it should be type safe regarding exception handling. Also the inner variables should only be available inside the block and not afterwards.","body":"It would be useful to have such a language feature to be able to access all the variables from the parent scope without introducing a new method with lots of parameters. Also it should be type safe regarding exception handling. Also the inner variables should only be available inside the block and not afterwards."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692802818,"post_id":76962218,"comment_id":135674449,"body_markdown":"well, maybe the question was posted to soon to make it clear of that... &quot;*somehow create local blocks*&quot; kind of sounds like searching some hack/workaround... BTW the inner object kind of has access to the variables of the *parent*, but if you just *need* access to the variables and inner variables only available inside, a normal block will do: `int c; { ... c = ...; }` - not sure what exactly is meant by safe regarding exception handling...","body":"well, maybe the question was posted to soon to make it clear of that... &quot;<i>somehow create local blocks</i>&quot; kind of sounds like searching some hack/workaround... BTW the inner object kind of has access to the variables of the <i>parent</i>, but if you just <i>need</i> access to the variables and inner variables only available inside, a normal block will do: <code>int c; { ... c = ...; }</code> - not sure what exactly is meant by safe regarding exception handling..."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692801860,"creation_date":1692801860,"answer_id":76962504,"question_id":76962218,"body_markdown":"Not literally like you posted, but, given that there is no point to such a construct _other than_ trying to espouse a certain effect on the &#39;structure&#39; (how it looks / how the experience of that reads the code goes), I guess what you&#39;re really asking for, is: Can I make something that his this _structure_.\r\n\r\nAnd then answer is trivially yes, but it does play havoc with auto-formatter rules because they aren&#39;t designed with this &#39;style&#39; in mind.\r\n\r\nThis is perfectly valid java, and has been for 30 years; no need for new java versions, even (well, I&#39;ll use your `var` which was introduced in java 10):\r\n\r\n```\r\nint c; {\r\n  var aSquare = Math.pow(a, 2);\r\n  var bSquare = Math.pow(b, 2);\r\n  var cSquare = aSquare + bSquare;\r\n  c = Math.root(cSquare);\r\n}\r\n```\r\n\r\nYes, that&#39;s legal. There are some funky things happening here:\r\n\r\n* Yes, that&#39;s a statement (`int c;`), then a _space_, then just.. a block. It&#39;s legal to just start blocks for no reason in java.\r\n* The `aSquare`, `bSquare`, and `cSquare` variable names are scoped to this 4-liner block; the variables poof out of existence immediately after that closing brace, so you aren&#39;t &#39;infecting&#39; the outer scope with these variables and if you write another such block later in in the same method, you can again use the name `aSquare`, which would have absolutely no relationship whatsoever with _this_ `aSquare`variable.\r\n* After the block, the `c` variable has the states &#39;definitely assigned&#39;, as well as &#39;effectively final&#39;, which are both good things.\r\n* Every auto-formatter tool I know of would stick a newline after `int c;` and then stick the opening brace of the block on its own line. However, that&#39;s.. just your auto-formatter doing that. Java-the-lang-spec doesn&#39;t require this, and written like it is above, the _intent_ of that code is much more clear (namely, that the block&#39;s function is to calculate a value for c. That&#39;s the only thing it does). I don&#39;t auto-format my code. Instead I format it properly as I type. It&#39;s a habit that is effortless and has advantages (such as letting me write the above), but I can&#39;t tell you how much retraining it would take or if everybody is inclined to it; I&#39;ve been doing it for decades at this point, so I can&#39;t give meaningful insights in how one would learn it now.\r\n\r\nAlternatives on the theme are this style:\r\n\r\n```\r\npublic void foo() {\r\n  /* description of a helpery task */ {\r\n    code that does the thing\r\n  }\r\n}\r\n```\r\n\r\nThis can be better than an actual helper method in the sense that you don&#39;t need to parameterize all the context you require in this &#39;helper block&#39;. You can go real nuts and use labels if you must. This is legal:\r\n\r\n```\r\npublic void foo() {\r\n  helperyTaskDescription: {\r\n    calculations_go_here();\r\n    if (reasonToStop) break helperyTaskDescription;\r\n    more_calculations();\r\n  }\r\n}\r\n```\r\n\r\nYou must &#39;label&#39; the break or it doesn&#39;t work, but that is effectively &#39;go to closing brace of the block labelled helperyTaskDescription&#39;. You can use this style even if you don&#39;t actually break to it, though lots of linter tools will then complain about an unused label. If you find it looks great and it helps readability, there&#39;s a big caveat here in general: Writing code in a style few java programmers are familiar with has downsides - your code will be harder to share. But you have to weigh that against the benefits of tightly scoped variable names and the like.\r\n\r\nIf the question isn&#39;t about good code style and just about a pedantic/academic point to be made, I&#39;m no sure that&#39;s a good way to spend your time, but, if you must, you can introduce a pointless switch block just for the privilege of making `yield` do a thing:\r\n\r\n```\r\nint c = switch (0) {\r\n  default -&gt; {\r\n    var aSquare = Math.pow(a, 2);\r\n    var bSquare = Math.pow(b, 2);\r\n    var cSquare = aSquare + bSquare;\r\n    yield Math.root(cSquare);\r\n  }\r\n}\r\n```\r\n\r\nLooks pretty bad and that&#39;s a lot of boilerplate, and it really needs a comment because I bet the vast majority of java coders who see that will immediately be focussing on what the heck the switch is doing here and therefore require a comment explaining: _I really just wanted to be able to `yield` and I was willing to accept this disaster to do it._\r\n\r\nNB: Just to be thorough - very often the stylistically preferrably answer is to just make helper methods. `int c = deviation(a, b);` is probably the &#39;right&#39; way to do this. This doesn&#39;t just make the code itself easier to read (now you just mentally grok what &#39;deviation&#39; means and can simplify your understanding of the code, replacing the 4 lines you have with just &#39;deviation between a and b&#39;), _and_ it lets you optimize. For example, it is likely that `Math.sqrt(a * a + b * b)` is a significantly better way to do this. With a helper method you only have one place to make a change instead of search-replacing loads of code. However, not _every situation_ where you want a block to &#39;group&#39; the code together _and_ tightly scope any local vars you declare, is best tackled with a helper method. Just - this specific example you wrote probably is!","title":"Java Local Block Yield Value","body":"<p>Not literally like you posted, but, given that there is no point to such a construct <em>other than</em> trying to espouse a certain effect on the 'structure' (how it looks / how the experience of that reads the code goes), I guess what you're really asking for, is: Can I make something that his this <em>structure</em>.</p>\n<p>And then answer is trivially yes, but it does play havoc with auto-formatter rules because they aren't designed with this 'style' in mind.</p>\n<p>This is perfectly valid java, and has been for 30 years; no need for new java versions, even (well, I'll use your <code>var</code> which was introduced in java 10):</p>\n<pre><code>int c; {\n  var aSquare = Math.pow(a, 2);\n  var bSquare = Math.pow(b, 2);\n  var cSquare = aSquare + bSquare;\n  c = Math.root(cSquare);\n}\n</code></pre>\n<p>Yes, that's legal. There are some funky things happening here:</p>\n<ul>\n<li>Yes, that's a statement (<code>int c;</code>), then a <em>space</em>, then just.. a block. It's legal to just start blocks for no reason in java.</li>\n<li>The <code>aSquare</code>, <code>bSquare</code>, and <code>cSquare</code> variable names are scoped to this 4-liner block; the variables poof out of existence immediately after that closing brace, so you aren't 'infecting' the outer scope with these variables and if you write another such block later in in the same method, you can again use the name <code>aSquare</code>, which would have absolutely no relationship whatsoever with <em>this</em> <code>aSquare</code>variable.</li>\n<li>After the block, the <code>c</code> variable has the states 'definitely assigned', as well as 'effectively final', which are both good things.</li>\n<li>Every auto-formatter tool I know of would stick a newline after <code>int c;</code> and then stick the opening brace of the block on its own line. However, that's.. just your auto-formatter doing that. Java-the-lang-spec doesn't require this, and written like it is above, the <em>intent</em> of that code is much more clear (namely, that the block's function is to calculate a value for c. That's the only thing it does). I don't auto-format my code. Instead I format it properly as I type. It's a habit that is effortless and has advantages (such as letting me write the above), but I can't tell you how much retraining it would take or if everybody is inclined to it; I've been doing it for decades at this point, so I can't give meaningful insights in how one would learn it now.</li>\n</ul>\n<p>Alternatives on the theme are this style:</p>\n<pre><code>public void foo() {\n  /* description of a helpery task */ {\n    code that does the thing\n  }\n}\n</code></pre>\n<p>This can be better than an actual helper method in the sense that you don't need to parameterize all the context you require in this 'helper block'. You can go real nuts and use labels if you must. This is legal:</p>\n<pre><code>public void foo() {\n  helperyTaskDescription: {\n    calculations_go_here();\n    if (reasonToStop) break helperyTaskDescription;\n    more_calculations();\n  }\n}\n</code></pre>\n<p>You must 'label' the break or it doesn't work, but that is effectively 'go to closing brace of the block labelled helperyTaskDescription'. You can use this style even if you don't actually break to it, though lots of linter tools will then complain about an unused label. If you find it looks great and it helps readability, there's a big caveat here in general: Writing code in a style few java programmers are familiar with has downsides - your code will be harder to share. But you have to weigh that against the benefits of tightly scoped variable names and the like.</p>\n<p>If the question isn't about good code style and just about a pedantic/academic point to be made, I'm no sure that's a good way to spend your time, but, if you must, you can introduce a pointless switch block just for the privilege of making <code>yield</code> do a thing:</p>\n<pre><code>int c = switch (0) {\n  default -&gt; {\n    var aSquare = Math.pow(a, 2);\n    var bSquare = Math.pow(b, 2);\n    var cSquare = aSquare + bSquare;\n    yield Math.root(cSquare);\n  }\n}\n</code></pre>\n<p>Looks pretty bad and that's a lot of boilerplate, and it really needs a comment because I bet the vast majority of java coders who see that will immediately be focussing on what the heck the switch is doing here and therefore require a comment explaining: <em>I really just wanted to be able to <code>yield</code> and I was willing to accept this disaster to do it.</em></p>\n<p>NB: Just to be thorough - very often the stylistically preferrably answer is to just make helper methods. <code>int c = deviation(a, b);</code> is probably the 'right' way to do this. This doesn't just make the code itself easier to read (now you just mentally grok what 'deviation' means and can simplify your understanding of the code, replacing the 4 lines you have with just 'deviation between a and b'), <em>and</em> it lets you optimize. For example, it is likely that <code>Math.sqrt(a * a + b * b)</code> is a significantly better way to do this. With a helper method you only have one place to make a change instead of search-replacing loads of code. However, not <em>every situation</em> where you want a block to 'group' the code together <em>and</em> tightly scope any local vars you declare, is best tackled with a helper method. Just - this specific example you wrote probably is!</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692806345,"creation_date":1692806021,"answer_id":76963040,"question_id":76962218,"body_markdown":"&gt; _&quot;... Is it possible in Java (17) to somehow create local blocks that return/yield some value to the parent block? ...&quot;_\r\n\r\nNo, this is not part of the syntax.&amp;nbsp; I believe the recommendation is to create a method or a class.\r\n\r\nYou _could_ utilize the closure framework, and implement an interface.  \r\n_[Lambda Expressions (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)_.\r\n\r\n```java\r\ninterface Hypotenuse {\r\n    double calculate(int a, int b);\r\n}\r\n```\r\n\r\n```java\r\nvoid hypotenuse(int a, int b) {\r\n    double c = ((Hypotenuse) (x, y) -&gt; {\r\n        var aSquare = Math.pow(x, 2);\r\n        var bSquare = Math.pow(y, 2);\r\n        var cSquare = aSquare + bSquare;\r\n        return Math.sqrt(cSquare);\r\n    }).calculate(a, b);\r\n}\r\n```\r\n\r\nYou could even add the _interface_ to the method.\r\n\r\n```java\r\nvoid hypotenuse(int a, int b) {\r\n    interface Hypotenuse { double calculate(int a, int b); }\r\n    double c = ((Hypotenuse) (x, y) -&gt; {\r\n        var aSquare = Math.pow(x, 2);\r\n        var bSquare = Math.pow(y, 2);\r\n        var cSquare = aSquare + bSquare;\r\n        return Math.sqrt(cSquare);\r\n    }).calculate(a, b);\r\n}\r\n```","title":"Java Local Block Yield Value","body":"<blockquote>\n<p><em>&quot;... Is it possible in Java (17) to somehow create local blocks that return/yield some value to the parent block? ...&quot;</em></p>\n</blockquote>\n<p>No, this is not part of the syntax.Â  I believe the recommendation is to create a method or a class.</p>\n<p>You <em>could</em> utilize the closure framework, and implement an interface.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Lambda Expressions (The Javaâ„¢ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Hypotenuse {\n    double calculate(int a, int b);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>void hypotenuse(int a, int b) {\n    double c = ((Hypotenuse) (x, y) -&gt; {\n        var aSquare = Math.pow(x, 2);\n        var bSquare = Math.pow(y, 2);\n        var cSquare = aSquare + bSquare;\n        return Math.sqrt(cSquare);\n    }).calculate(a, b);\n}\n</code></pre>\n<p>You could even add the <em>interface</em> to the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void hypotenuse(int a, int b) {\n    interface Hypotenuse { double calculate(int a, int b); }\n    double c = ((Hypotenuse) (x, y) -&gt; {\n        var aSquare = Math.pow(x, 2);\n        var bSquare = Math.pow(y, 2);\n        var cSquare = aSquare + bSquare;\n        return Math.sqrt(cSquare);\n    }).calculate(a, b);\n}\n</code></pre>\n"}],"owner":{"account_id":3971503,"reputation":47,"user_id":3276002,"display_name":"andi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76963040,"answer_count":2,"score":0,"last_activity_date":1692806345,"creation_date":1692800010,"question_id":76962218,"body_markdown":"Is it possible in Java (17) to somehow create local blocks that return/yield some value to the parent block?\r\n\r\nE.g.\r\n```\r\npublic void calceSomething(int a, intb) {\r\n  int c = {\r\n    var aSquare = Math.pow(a, 2);\r\n    var bSquare = Math.pow(b, 2);\r\n    var cSquare = aSquare + bSquare;\r\n    yield Math.root(cSuare);\r\n  };\r\n  /* lets further do something with c */\r\n}\r\n```","title":"Java Local Block Yield Value","body":"<p>Is it possible in Java (17) to somehow create local blocks that return/yield some value to the parent block?</p>\n<p>E.g.</p>\n<pre><code>public void calceSomething(int a, intb) {\n  int c = {\n    var aSquare = Math.pow(a, 2);\n    var bSquare = Math.pow(b, 2);\n    var cSquare = aSquare + bSquare;\n    yield Math.root(cSuare);\n  };\n  /* lets further do something with c */\n}\n</code></pre>\n"},{"tags":["java","spring-boot","multipartform-data"],"owner":{"account_id":8936007,"reputation":1340,"user_id":6735277,"display_name":"Roberto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692806297,"creation_date":1692803232,"question_id":76962685,"body_markdown":"I have spring boot with rest controller and this controller must send in response byte[] array with custom header\r\nResponse type must be with Content-Type multipart/form-data\r\n\r\nMy RestController Like this\r\n\r\n    @PostMapping(value = &quot;/getFile&quot;,\r\n        produces = MediaType.MULTIPART_FORM_DATA_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public @ResponseBody\r\n    ResponseEntity&lt;MultipartFile&gt; getFile(@RequestHeader(&quot;id&quot;) String id) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n        var bytes = integrationServices.getBytes(id);\r\n        var multiPartFile = new SignMultiPartFile(&quot;name&quot;, bytes);\r\n        return new ResponseEntity&lt;&gt;(multiPartFile, headers, HttpStatus.OK)\r\n      \r\n    }\r\n\r\nAnd I created custom MultiPartFile object\r\n\r\n\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import java.io.*;\r\n    \r\n    public class SignMultiPartFile implements MultipartFile, Serializable {\r\n    \r\n        private final String fileName;\r\n        private final byte[] bytes;\r\n    \r\n        public SignMultiPartFile(String fileName, byte[] bytes) {\r\n            this.fileName = fileName;\r\n            this.bytes = bytes;\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return fileName;\r\n        }\r\n    \r\n        @Override\r\n        public String getOriginalFilename() {\r\n            return fileName;\r\n        }\r\n    \r\n        @Override\r\n        public String getContentType() {\r\n            return MediaType.MULTIPART_FORM_DATA_VALUE;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEmpty() {\r\n            return bytes == null || bytes.length == 0;\r\n        }\r\n    \r\n        @Override\r\n        public long getSize() {\r\n            return bytes.length;\r\n        }\r\n    \r\n        @Override\r\n        public byte[] getBytes() {\r\n            return bytes;\r\n        }\r\n    \r\n        @Override\r\n        public InputStream getInputStream() {\r\n            return  new ByteArrayInputStream(bytes);\r\n        }\r\n    \r\n        @Override\r\n        public void transferTo(File destination) throws IOException, IllegalStateException {\r\n            try(FileOutputStream fos = new FileOutputStream(destination)) {\r\n                fos.write(bytes);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nBut when try to get file, I receive error:\r\n\r\n    DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class dto.SignMultiPartFile] with preset Content-Type &#39;multipart/form-data&#39;] \\\r\n\r\n\r\nHow to fix this issue?\r\n\r\n\r\nupdate:\r\nI tried to create class like this but application doen&#39;t start with different strange reason? Is exist another way to fix issue with multipart processing?\r\n\r\n    import com.fasterxml.jackson.module.paramnames.ParameterNamesModule;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.converter.FormHttpMessageConverter;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\r\n    import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\r\n    import org.springframework.http.converter.xml.MappingJackson2XmlHttpMessageConverter;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.List;\r\n    \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\r\n                .indentOutput(true)\r\n                .dateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;))\r\n                .modulesToInstall(new ParameterNamesModule());\r\n            converters.add(new MappingJackson2HttpMessageConverter(builder.build()));\r\n            converters.add(new MappingJackson2XmlHttpMessageConverter(builder.createXmlMapper(true).build()));\r\n            converters.add(new FormHttpMessageConverter());\r\n        }\r\n    }\r\n\r\n","title":"HttpMessageNotWritableException when try to use custom MultipartFile implementation?","body":"<p>I have spring boot with rest controller and this controller must send in response byte[] array with custom header\nResponse type must be with Content-Type multipart/form-data</p>\n<p>My RestController Like this</p>\n<pre><code>@PostMapping(value = &quot;/getFile&quot;,\n    produces = MediaType.MULTIPART_FORM_DATA_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\npublic @ResponseBody\nResponseEntity&lt;MultipartFile&gt; getFile(@RequestHeader(&quot;id&quot;) String id) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n    var bytes = integrationServices.getBytes(id);\n    var multiPartFile = new SignMultiPartFile(&quot;name&quot;, bytes);\n    return new ResponseEntity&lt;&gt;(multiPartFile, headers, HttpStatus.OK)\n  \n}\n</code></pre>\n<p>And I created custom MultiPartFile object</p>\n<pre><code>import org.springframework.http.MediaType;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.*;\n\npublic class SignMultiPartFile implements MultipartFile, Serializable {\n\n    private final String fileName;\n    private final byte[] bytes;\n\n    public SignMultiPartFile(String fileName, byte[] bytes) {\n        this.fileName = fileName;\n        this.bytes = bytes;\n    }\n\n    @Override\n    public String getName() {\n        return fileName;\n    }\n\n    @Override\n    public String getOriginalFilename() {\n        return fileName;\n    }\n\n    @Override\n    public String getContentType() {\n        return MediaType.MULTIPART_FORM_DATA_VALUE;\n    }\n\n    @Override\n    public boolean isEmpty() {\n        return bytes == null || bytes.length == 0;\n    }\n\n    @Override\n    public long getSize() {\n        return bytes.length;\n    }\n\n    @Override\n    public byte[] getBytes() {\n        return bytes;\n    }\n\n    @Override\n    public InputStream getInputStream() {\n        return  new ByteArrayInputStream(bytes);\n    }\n\n    @Override\n    public void transferTo(File destination) throws IOException, IllegalStateException {\n        try(FileOutputStream fos = new FileOutputStream(destination)) {\n            fos.write(bytes);\n        }\n    }\n}\n</code></pre>\n<p>But when try to get file, I receive error:</p>\n<pre><code>DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class dto.SignMultiPartFile] with preset Content-Type 'multipart/form-data'] \\\n</code></pre>\n<p>How to fix this issue?</p>\n<p>update:\nI tried to create class like this but application doen't start with different strange reason? Is exist another way to fix issue with multipart processing?</p>\n<pre><code>import com.fasterxml.jackson.module.paramnames.ParameterNamesModule;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.converter.FormHttpMessageConverter;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\nimport org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\nimport org.springframework.http.converter.xml.MappingJackson2XmlHttpMessageConverter;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\nimport java.text.SimpleDateFormat;\nimport java.util.List;\n\n@Configuration\n@EnableWebMvc\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n            .indentOutput(true)\n            .dateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;))\n            .modulesToInstall(new ParameterNamesModule());\n        converters.add(new MappingJackson2HttpMessageConverter(builder.build()));\n        converters.add(new MappingJackson2XmlHttpMessageConverter(builder.createXmlMapper(true).build()));\n        converters.add(new FormHttpMessageConverter());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","java-8","annotations"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692806219,"post_id":76961219,"comment_id":135675199,"body_markdown":"Do you mean you have written five classes, all POJO classes?","body":"Do you mean you have written five classes, all POJO classes?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692806318,"post_id":76961219,"comment_id":135675215,"body_markdown":"Describe these classes briefly. Show contrived examples (donâ€™t just dump your actual code here).","body":"Describe these classes briefly. Show contrived examples (donâ€™t just dump your actual code here)."},{"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"score":0,"creation_date":1693332581,"post_id":76961219,"comment_id":135745932,"body_markdown":"Please share the code here, so that we can understand the scenario and can answer","body":"Please share the code here, so that we can understand the scenario and can answer"}],"owner":{"account_id":13179643,"reputation":11,"user_id":9519459,"display_name":"Aakash Jha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692806168,"creation_date":1692792560,"question_id":76961219,"body_markdown":"I have a 5 POJO where the amount field is set with different variable names and while getting data from a third party i need to write a custom converter which will convert the amount from [paise][1] to rupees for specific variable.\r\nWill custom annotation work?\r\nI donâ€™t want to override the setter method for each variable\r\n\r\nI tried overriding the setter method but if new variables are introduced again setter will have to be overriden\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Paisa","title":"Modify my POJO variable before setting it into the object of POJO","body":"<p>I have a 5 POJO where the amount field is set with different variable names and while getting data from a third party i need to write a custom converter which will convert the amount from <a href=\"https://en.wikipedia.org/wiki/Paisa\" rel=\"nofollow noreferrer\">paise</a> to rupees for specific variable.\nWill custom annotation work?\nI donâ€™t want to override the setter method for each variable</p>\n<p>I tried overriding the setter method but if new variables are introduced again setter will have to be overriden</p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud","circuit-breaker"],"owner":{"account_id":23142893,"reputation":5,"user_id":17246090,"display_name":"StuckyBoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692806109,"creation_date":1692536613,"question_id":76939514,"body_markdown":"I&#39;m really struggling to implement circuit breaker pattern correctly in my application. Here is the code I am stuck at: \r\n\r\n**ReservationController**\r\n\r\n```\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    @CircuitBreaker(name = &quot;stock_request_breaker&quot;)\r\n    public ReservationDto addReservation(@RequestBody ReservationDto reservationDto) {\r\n        return reservationService.addReservation(reservationDto);\r\n    }\r\n```\r\n\r\n**ReservationService**\r\n\r\n```\r\n    public ReservationDto addReservation(ReservationDto reservationDto) {\r\n        List&lt;String&gt; reservationBooksIsbns = reservationDto.getReservationItemList().stream().map(reservationItem -&gt; String.valueOf(reservationItem.getBookIsbn())).collect(Collectors.toList());\r\n        List&lt;StockItemResponseDto&gt; stockItemResponseDtoList = fetchItemsFromStockServiceByISBNs(reservationBooksIsbns);\r\n        if (reservationBooksIsbns.size() != stockItemResponseDtoList.size()) {\r\n            throw new ProductNotAvailableException(&quot;Not all products from the list are available in stock. Please verify your request and try again.&quot;);\r\n        }\r\n        performCheckIfThereIsEnoughItemsInStock(reservationDto, stockItemResponseDtoList);\r\n        return reservationMapper.map(saveReservationToDatabase(reservationDto));\r\n    }\r\n\r\n    private List&lt;StockItemResponseDto&gt; fetchItemsFromStockServiceByISBNs(List&lt;String&gt; isbns) {\r\n        Object[] rawResponse = webClientBuilder.build().get()\r\n                .uri(String.format(&quot;http://apiGateway/api/stock?objectIsbns=%s&quot;, String.join(&quot;,&quot;, isbns)))\r\n                .retrieve()\r\n                .onStatus(HttpStatusCode::isError, clientResponse -&gt; Mono.error(new ExternalServiceErrorException(&quot;Sorry&quot;)))\r\n                .bodyToMono(Object[].class)\r\n                .block();\r\n        return Arrays.stream(rawResponse)\r\n                .map(object -&gt; mapper.convertValue(object, StockItemResponseDto.class))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    private Reservation saveReservationToDatabase(ReservationDto reservationDto) {\r\n        Reservation reservation;\r\n        reservationDto.getReservationItemList().forEach(reservationItem -&gt; reservationItem.setTimestampFrom(Instant.now().getEpochSecond()));\r\n        reservationDto.getReservationItemList().forEach(reservationItem -&gt; reservationItem.setTimestampUntil(Instant.now().getEpochSecond() + TimeUnit.DAYS.toSeconds(1) * 30));\r\n        if (reservationRepository.findByUserEmail(reservationDto.getUserEmail()).isEmpty()) {\r\n            reservation = reservationMapper.map(reservationDto);\r\n        } else {\r\n            Optional&lt;Reservation&gt; reservationOptional = reservationRepository.findByUserEmail(reservationDto.getUserEmail());\r\n            Reservation reservationNew = reservationMapper.map(reservationDto);\r\n            reservation = reservationOptional.get();\r\n            reservation.getReservationItemList().addAll(reservationNew.getReservationItemList());\r\n        }\r\n\r\n        return reservationRepository.save(reservation);\r\n    }\r\n\r\n    private void performCheckIfThereIsEnoughItemsInStock(ReservationDto reservationDto, List&lt;StockItemResponseDto&gt; stockItemResponseDtoList) {\r\n        for (ReservationItem reservationItem : reservationDto.getReservationItemList()) {\r\n            Optional&lt;StockItemResponseDto&gt; currentStockItem = stockItemResponseDtoList.stream()\r\n                    .filter(stockItem -&gt; Objects.equals(stockItem.getIsbn(), reservationItem.getBookIsbn()))\r\n                    .distinct().findFirst();\r\n            if (currentStockItem.isEmpty()) {\r\n                throw new ProductDoesNotExistException(&quot;Product with isbn: &quot; + reservationItem.getBookIsbn() + &quot; does not exist in our stock.&quot;);\r\n            }\r\n            StockItemResponseDto stockItemResponseDto = currentStockItem.get();\r\n            if (stockItemResponseDto.getQuantityInStock() &lt; reservationItem.getQuantity()) {\r\n                throw new ProductNotAvailableException(&quot;There is not enough books in stock. Faulty ISBN:&quot; + stockItemResponseDto.getIsbn());\r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\n**Circuit breaker properties**\r\n```\r\nmanagement.endpoints.web.exposure.include=*\r\nmanagement.endpoint.health.show-details=always\r\nmanagement.health.circuitbreakers.enabled=true\r\nmanagement.health.ratelimiters.enabled=true\r\n\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.failure-rate-threshold=50\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.minimum-number-of-calls=5\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.automatic-transition-from-open-to-half-open-enabled=true\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.wait-duration-in-open-state=5s\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.permitted-number-of-calls-in-half-open-state=3\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.sliding-window-size=10\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.sliding-window-type=count_based\r\nresilience4j.circuitbreaker.configs.default.registerHealthIndicator=true\r\n```\r\n\r\nAnd the problem with this implementation is: \r\n * when I hit the endpoint &quot;addReservation&quot; with correct data and stockservice is up - everything works fine\r\n * when I hit the endpoint &quot;addReservation&quot; with correct data but stockservice is down - I get error 503 with message &quot;Sorry&quot; (as meant with onStatus isError) and after 5 requests the fastfailing starts - this is fine too\r\n * **but when i when I hit the endpoint &quot;addReservation&quot; with data that would produce the ProductNotAvailableException for example**, it also allows only 5 request before fastfailing, eventhough the communication between services works fine - it is reservationService which throws the exception so it should not trigger circuit breaker fastfailing, but it does. \r\n\r\nIs my implementation incorrect? What am I missing?\r\n\r\n\r\nUPDATE:\r\n\r\nFollowing changes worked:\r\n\r\ninstead of one fallback method I implemented 3 methods:\r\n```\r\n    public ReservationDto fallback( ReservationDto reservationDto, CallNotPermittedException connectException) {\r\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\r\n    }\r\n\r\n    public ReservationDto fallback( ReservationDto reservationDto, ConnectException connectException) {\r\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\r\n    }\r\n    public ReservationDto fallback( ReservationDto reservationDto, WebClientResponseException webClientResponseException) {\r\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\r\n    }\r\n```\r\n\r\nand added the exceptions that I&#39;m throwing (i.e. ProductNotAvailableException) to the application properties as:\r\n\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.ignore-exceptions[1]\r\n\r\nIt is working but still I would like to know opinion of someone more experienced if this is correct.","title":"Correct implementation of circuit breaker in spring boot","body":"<p>I'm really struggling to implement circuit breaker pattern correctly in my application. Here is the code I am stuck at:</p>\n<p><strong>ReservationController</strong></p>\n<pre><code>    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    @CircuitBreaker(name = &quot;stock_request_breaker&quot;)\n    public ReservationDto addReservation(@RequestBody ReservationDto reservationDto) {\n        return reservationService.addReservation(reservationDto);\n    }\n</code></pre>\n<p><strong>ReservationService</strong></p>\n<pre><code>    public ReservationDto addReservation(ReservationDto reservationDto) {\n        List&lt;String&gt; reservationBooksIsbns = reservationDto.getReservationItemList().stream().map(reservationItem -&gt; String.valueOf(reservationItem.getBookIsbn())).collect(Collectors.toList());\n        List&lt;StockItemResponseDto&gt; stockItemResponseDtoList = fetchItemsFromStockServiceByISBNs(reservationBooksIsbns);\n        if (reservationBooksIsbns.size() != stockItemResponseDtoList.size()) {\n            throw new ProductNotAvailableException(&quot;Not all products from the list are available in stock. Please verify your request and try again.&quot;);\n        }\n        performCheckIfThereIsEnoughItemsInStock(reservationDto, stockItemResponseDtoList);\n        return reservationMapper.map(saveReservationToDatabase(reservationDto));\n    }\n\n    private List&lt;StockItemResponseDto&gt; fetchItemsFromStockServiceByISBNs(List&lt;String&gt; isbns) {\n        Object[] rawResponse = webClientBuilder.build().get()\n                .uri(String.format(&quot;http://apiGateway/api/stock?objectIsbns=%s&quot;, String.join(&quot;,&quot;, isbns)))\n                .retrieve()\n                .onStatus(HttpStatusCode::isError, clientResponse -&gt; Mono.error(new ExternalServiceErrorException(&quot;Sorry&quot;)))\n                .bodyToMono(Object[].class)\n                .block();\n        return Arrays.stream(rawResponse)\n                .map(object -&gt; mapper.convertValue(object, StockItemResponseDto.class))\n                .collect(Collectors.toList());\n    }\n\n    private Reservation saveReservationToDatabase(ReservationDto reservationDto) {\n        Reservation reservation;\n        reservationDto.getReservationItemList().forEach(reservationItem -&gt; reservationItem.setTimestampFrom(Instant.now().getEpochSecond()));\n        reservationDto.getReservationItemList().forEach(reservationItem -&gt; reservationItem.setTimestampUntil(Instant.now().getEpochSecond() + TimeUnit.DAYS.toSeconds(1) * 30));\n        if (reservationRepository.findByUserEmail(reservationDto.getUserEmail()).isEmpty()) {\n            reservation = reservationMapper.map(reservationDto);\n        } else {\n            Optional&lt;Reservation&gt; reservationOptional = reservationRepository.findByUserEmail(reservationDto.getUserEmail());\n            Reservation reservationNew = reservationMapper.map(reservationDto);\n            reservation = reservationOptional.get();\n            reservation.getReservationItemList().addAll(reservationNew.getReservationItemList());\n        }\n\n        return reservationRepository.save(reservation);\n    }\n\n    private void performCheckIfThereIsEnoughItemsInStock(ReservationDto reservationDto, List&lt;StockItemResponseDto&gt; stockItemResponseDtoList) {\n        for (ReservationItem reservationItem : reservationDto.getReservationItemList()) {\n            Optional&lt;StockItemResponseDto&gt; currentStockItem = stockItemResponseDtoList.stream()\n                    .filter(stockItem -&gt; Objects.equals(stockItem.getIsbn(), reservationItem.getBookIsbn()))\n                    .distinct().findFirst();\n            if (currentStockItem.isEmpty()) {\n                throw new ProductDoesNotExistException(&quot;Product with isbn: &quot; + reservationItem.getBookIsbn() + &quot; does not exist in our stock.&quot;);\n            }\n            StockItemResponseDto stockItemResponseDto = currentStockItem.get();\n            if (stockItemResponseDto.getQuantityInStock() &lt; reservationItem.getQuantity()) {\n                throw new ProductNotAvailableException(&quot;There is not enough books in stock. Faulty ISBN:&quot; + stockItemResponseDto.getIsbn());\n            }\n\n        }\n    }\n</code></pre>\n<p><strong>Circuit breaker properties</strong></p>\n<pre><code>management.endpoints.web.exposure.include=*\nmanagement.endpoint.health.show-details=always\nmanagement.health.circuitbreakers.enabled=true\nmanagement.health.ratelimiters.enabled=true\n\nresilience4j.circuitbreaker.instances.stock_request_breaker.failure-rate-threshold=50\nresilience4j.circuitbreaker.instances.stock_request_breaker.minimum-number-of-calls=5\nresilience4j.circuitbreaker.instances.stock_request_breaker.automatic-transition-from-open-to-half-open-enabled=true\nresilience4j.circuitbreaker.instances.stock_request_breaker.wait-duration-in-open-state=5s\nresilience4j.circuitbreaker.instances.stock_request_breaker.permitted-number-of-calls-in-half-open-state=3\nresilience4j.circuitbreaker.instances.stock_request_breaker.sliding-window-size=10\nresilience4j.circuitbreaker.instances.stock_request_breaker.sliding-window-type=count_based\nresilience4j.circuitbreaker.configs.default.registerHealthIndicator=true\n</code></pre>\n<p>And the problem with this implementation is:</p>\n<ul>\n<li>when I hit the endpoint &quot;addReservation&quot; with correct data and stockservice is up - everything works fine</li>\n<li>when I hit the endpoint &quot;addReservation&quot; with correct data but stockservice is down - I get error 503 with message &quot;Sorry&quot; (as meant with onStatus isError) and after 5 requests the fastfailing starts - this is fine too</li>\n<li><strong>but when i when I hit the endpoint &quot;addReservation&quot; with data that would produce the ProductNotAvailableException for example</strong>, it also allows only 5 request before fastfailing, eventhough the communication between services works fine - it is reservationService which throws the exception so it should not trigger circuit breaker fastfailing, but it does.</li>\n</ul>\n<p>Is my implementation incorrect? What am I missing?</p>\n<p>UPDATE:</p>\n<p>Following changes worked:</p>\n<p>instead of one fallback method I implemented 3 methods:</p>\n<pre><code>    public ReservationDto fallback( ReservationDto reservationDto, CallNotPermittedException connectException) {\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\n    }\n\n    public ReservationDto fallback( ReservationDto reservationDto, ConnectException connectException) {\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\n    }\n    public ReservationDto fallback( ReservationDto reservationDto, WebClientResponseException webClientResponseException) {\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\n    }\n</code></pre>\n<p>and added the exceptions that I'm throwing (i.e. ProductNotAvailableException) to the application properties as:</p>\n<p>resilience4j.circuitbreaker.instances.stock_request_breaker.ignore-exceptions[1]</p>\n<p>It is working but still I would like to know opinion of someone more experienced if this is correct.</p>\n"},{"tags":["java","spring","methods","static"],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1314882368,"creation_date":1314882368,"answer_id":7270727,"question_id":7270681,"body_markdown":"I don&#39;t think so. A DateUtils class sounds like a pure utility class that doesn&#39;t have any side effects but just processes input parameters. That kind of functionality may as well remain in a static method. I don&#39;t think it&#39;s very likely that you&#39;ll want to mock date helper methods.","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>I don't think so. A DateUtils class sounds like a pure utility class that doesn't have any side effects but just processes input parameters. That kind of functionality may as well remain in a static method. I don't think it's very likely that you'll want to mock date helper methods.</p>\n"},{"tags":[],"owner":{"account_id":429315,"reputation":10095,"user_id":812139,"accept_rate":68,"display_name":"Mr.Eddart"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1314882595,"creation_date":1314882595,"answer_id":7270779,"question_id":7270681,"body_markdown":"It would be better to declare it as a Spring bean because the life cycle of it is then managed by Spring, and you can eventually inject dependencies, pool the object, as well as test it in a proper way, not to talk that you could use it as a regular object and pass it as parameter, redefine the method in subclasses... etc.\r\n\r\nIn short, yes it would be a better design in most cases. Nevertheless, in a case as simple as the exposed, it doesn&#39;t do a great difference.","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>It would be better to declare it as a Spring bean because the life cycle of it is then managed by Spring, and you can eventually inject dependencies, pool the object, as well as test it in a proper way, not to talk that you could use it as a regular object and pass it as parameter, redefine the method in subclasses... etc.</p>\n\n<p>In short, yes it would be a better design in most cases. Nevertheless, in a case as simple as the exposed, it doesn't do a great difference.</p>\n"},{"tags":[],"owner":{"account_id":64368,"reputation":2808,"user_id":190072,"accept_rate":50,"display_name":"Alberthoven"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1456480041,"creation_date":1456480041,"answer_id":35648309,"question_id":7270681,"body_markdown":"I agree with Sean Patrick Floyd.\r\n\r\nThis is my criterion: if the methods of the class do things only over the parameters they receive, with no external dependencies (database, file system, user config, other objects/beans, etc.), then I would do it with static methods, usually in a final class with a private constructor.\r\n\r\nOtherwise, I would implement it using a Spring bean.\r\n\r\nSo, in the case that you raise, according to this criterion, I would write a class with static methods.\r\n\r\nRegards.","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>I agree with Sean Patrick Floyd.</p>\n\n<p>This is my criterion: if the methods of the class do things only over the parameters they receive, with no external dependencies (database, file system, user config, other objects/beans, etc.), then I would do it with static methods, usually in a final class with a private constructor.</p>\n\n<p>Otherwise, I would implement it using a Spring bean.</p>\n\n<p>So, in the case that you raise, according to this criterion, I would write a class with static methods.</p>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670261212,"creation_date":1670004446,"answer_id":74659838,"question_id":7270681,"body_markdown":"A good answer in this comment https://stackoverflow.com/questions/64289009/should-i-use-static-at-all-in-spring-singleton-beans/64289179#comment131778907_64289179 \r\n\r\nstatic variable has one instance in one JVM. Singleton exists per spring context. If your application has only one context, they do the same job. \r\n\r\nBut do not mix them together. In some old projects, I see some not-pure utility class using some spring bean via ApplicationContext. It is very hard to write test case for it.\r\n","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>A good answer in this comment <a href=\"https://stackoverflow.com/questions/64289009/should-i-use-static-at-all-in-spring-singleton-beans/64289179#comment131778907_64289179\">Should I use static at all in spring singleton beans</a></p>\n<p>static variable has one instance in one JVM. Singleton exists per spring context. If your application has only one context, they do the same job.</p>\n<p>But do not mix them together. In some old projects, I see some not-pure utility class using some spring bean via ApplicationContext. It is very hard to write test case for it.</p>\n"},{"tags":[],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692806103,"creation_date":1684746993,"answer_id":76304657,"question_id":7270681,"body_markdown":"While most people here support the idea to have Util classes with static methods, instead of Spring beans, I would oppose.\r\n\r\n1. **Dependency injection** made for reason. This is the tool to replace any of Spring Bean with different implementations in case of different context. Most common is development and test context difference. But we also can have a new context in the future (production, different data transfer protocol, different database implementation etc). In this case an interface implementation bean, injected by Spring would make life much easier. \r\n\r\nDoing the opposite - using the util classes with static methods is the well known design problem called **Tight Coupling** and it leads to **Code Fragility**.\r\n\r\n2. Consider a situation where you have an utility class with static methods. At some point you need to add an injected dependency as new feature requested. All of a sudden it is not a Util but UtilBean now. So instead of adding a method to your original Util, you have to rename it and refactor all code calling it. Refactoring is cheap, right? Not so fast if you are building a library which is used in other applications and you do not have control over them. And guess what? How do you know your code today is not a compiled library dependency tomorrow? \r\n\r\nAll right, we worked hard, renamed util to bean and all is great. But we got a new feature request, and next we have to remove the method from bean. Now it does not have dependency and we need to rename bean to back util.\r\n\r\n3. If developers use Spring they often follow **MVC architecture** design. Where would be the Util class in this case? It sounds like a Service, but it appears to be something different and likely would have a separate package. Not so nice.\r\n\r\n**Bottom line =&gt; With Spring use Beans and don&#39;t mess around Utility classes with static methods.** I would say it is valid to consider with any application where dependency injection is used.\r\n\r\nHere my article regarding the problem https://medium.com/@pavlomorozov78/static-methods-in-spring-utility-classes-9994ae6aa949","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>While most people here support the idea to have Util classes with static methods, instead of Spring beans, I would oppose.</p>\n<ol>\n<li><strong>Dependency injection</strong> made for reason. This is the tool to replace any of Spring Bean with different implementations in case of different context. Most common is development and test context difference. But we also can have a new context in the future (production, different data transfer protocol, different database implementation etc). In this case an interface implementation bean, injected by Spring would make life much easier.</li>\n</ol>\n<p>Doing the opposite - using the util classes with static methods is the well known design problem called <strong>Tight Coupling</strong> and it leads to <strong>Code Fragility</strong>.</p>\n<ol start=\"2\">\n<li>Consider a situation where you have an utility class with static methods. At some point you need to add an injected dependency as new feature requested. All of a sudden it is not a Util but UtilBean now. So instead of adding a method to your original Util, you have to rename it and refactor all code calling it. Refactoring is cheap, right? Not so fast if you are building a library which is used in other applications and you do not have control over them. And guess what? How do you know your code today is not a compiled library dependency tomorrow?</li>\n</ol>\n<p>All right, we worked hard, renamed util to bean and all is great. But we got a new feature request, and next we have to remove the method from bean. Now it does not have dependency and we need to rename bean to back util.</p>\n<ol start=\"3\">\n<li>If developers use Spring they often follow <strong>MVC architecture</strong> design. Where would be the Util class in this case? It sounds like a Service, but it appears to be something different and likely would have a separate package. Not so nice.</li>\n</ol>\n<p><strong>Bottom line =&gt; With Spring use Beans and don't mess around Utility classes with static methods.</strong> I would say it is valid to consider with any application where dependency injection is used.</p>\n<p>Here my article regarding the problem <a href=\"https://medium.com/@pavlomorozov78/static-methods-in-spring-utility-classes-9994ae6aa949\" rel=\"nofollow noreferrer\">https://medium.com/@pavlomorozov78/static-methods-in-spring-utility-classes-9994ae6aa949</a></p>\n"}],"owner":{"display_name":"user481572"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63150,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":7270727,"answer_count":5,"score":80,"last_activity_date":1692806103,"creation_date":1314882129,"question_id":7270681,"body_markdown":"Let&#39;s say I have a utility class DateUtil (see below). To use this method\r\na caller method uses DateUtils.getDateAsString(aDate). Would it be better to remove\r\nthe static modifier and make DateUtil a spring bean (see DateUtilsBean) and inject it into calling classes\r\nor just leave it as is?\r\n\r\nOne disadvantage I can see with using static is issues around mocking, see https://stackoverflow.com/questions/153048/how-to-mock-with-static-methods\r\n\r\n    public class DateUtils {\r\n    \r\n    \tpublic static String getDateAsString(Date date) {\t\t\r\n    \t\tString retValue =  &quot;&quot; // do something here using date parameter\r\n    \t\treturn retValue;\r\n    \t}\r\n    }\r\n\r\nSpring Bean version\r\n\r\n    @Component\r\n    public class DateUtilsBean {\r\n    \r\n    \tpublic String getDateAsString(Date date) {\t\t\r\n    \t\tString retValue =  &quot;&quot; // do something here using date parameter\r\n    \t\treturn retValue;\r\n    \t}\r\n    }","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>Let's say I have a utility class DateUtil (see below). To use this method\na caller method uses DateUtils.getDateAsString(aDate). Would it be better to remove\nthe static modifier and make DateUtil a spring bean (see DateUtilsBean) and inject it into calling classes\nor just leave it as is?</p>\n\n<p>One disadvantage I can see with using static is issues around mocking, see <a href=\"https://stackoverflow.com/questions/153048/how-to-mock-with-static-methods\">How to mock with static methods?</a></p>\n\n<pre><code>public class DateUtils {\n\n    public static String getDateAsString(Date date) {       \n        String retValue =  \"\" // do something here using date parameter\n        return retValue;\n    }\n}\n</code></pre>\n\n<p>Spring Bean version</p>\n\n<pre><code>@Component\npublic class DateUtilsBean {\n\n    public String getDateAsString(Date date) {      \n        String retValue =  \"\" // do something here using date parameter\n        return retValue;\n    }\n}\n</code></pre>\n"},{"tags":["java","polymorphism","super"],"comments":[{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1306430380,"post_id":6142460,"comment_id":7131411,"body_markdown":"Duplicate of http://stackoverflow.com/questions/4217013/how-to-force-derived-class-to-call-super-method-like-android-does and http://stackoverflow.com/questions/3982673/force-base-method-call","body":"Duplicate of <a href=\"http://stackoverflow.com/questions/4217013/how-to-force-derived-class-to-call-super-method-like-android-does\" title=\"how to force derived class to call super method like android does\">stackoverflow.com/questions/4217013/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/3982673/force-base-method-call\" title=\"force base method call\">stackoverflow.com/questions/3982673/force-base-method-call</a>"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1306430526,"post_id":6142460,"comment_id":7131453,"body_markdown":"@Ted - the first link, you&#39;ve posted does not look like a duplicate, the other question deals with eclipse&#39;s autogenerated method stubs, the other one is about c# and not java.","body":"@Ted - the first link, you&#39;ve posted does not look like a duplicate, the other question deals with eclipse&#39;s autogenerated method stubs, the other one is about c# and not java."},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1306430958,"post_id":6142460,"comment_id":7131600,"body_markdown":"@Andreas - the answers to the first one show several ways to force calling the superclass. The second one is tagged both c# and Java, and the answers are a mix of solutions.","body":"@Andreas - the answers to the first one show several ways to force calling the superclass. The second one is tagged both c# and Java, and the answers are a mix of solutions."},{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":0,"creation_date":1306430978,"post_id":6142460,"comment_id":7131607,"body_markdown":"You probably can create your own annotation for something like this.","body":"You probably can create your own annotation for something like this."},{"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"score":0,"creation_date":1306431214,"post_id":6142460,"comment_id":7131681,"body_markdown":"@Amir - Pardon my ignorance, but how would I create an annotation to do something like this? I am very unfamiler with annotations in general.","body":"@Amir - Pardon my ignorance, but how would I create an annotation to do something like this? I am very unfamiler with annotations in general."},{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":0,"creation_date":1306431394,"post_id":6142460,"comment_id":7131728,"body_markdown":"@Aedon, pardon *my* ignorance because I&#39;m not an annotations expert.  You&#39;ll have to read up on it - but the basic idea is that your annotation will statically analyze the code for this prior to execution.","body":"@Aedon, pardon <i>my</i> ignorance because I&#39;m not an annotations expert.  You&#39;ll have to read up on it - but the basic idea is that your annotation will statically analyze the code for this prior to execution."}],"answers":[{"tags":[],"owner":{"account_id":273792,"reputation":113282,"user_id":565635,"accept_rate":89,"display_name":"orlp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306430918,"creation_date":1306430335,"answer_id":6142495,"question_id":6142460,"body_markdown":"Make the class at the top of the inheritance tree set a flag on initialization. Then a class in the bottom of the inheritance tree can check for that flag to see if the whole tree has been traversed. I would make documentation that every child of `base` should include the following init code:\r\n\r\n    super.init()\r\n    if (!_baseIsInitialized) {\r\n        // throw exception or do w/e you wish\r\n    }\r\n\r\nwhere base uses\r\n\r\n    _baseIsInitialized = true;\r\n\r\n\r\n\r\n---\r\n\r\nThe other way around, forcing your childs to call `super.init()` is a lot thougher and would most likely include ugly hacks.","title":"How do I force a polymorphic call to the super method?","body":"<p>Make the class at the top of the inheritance tree set a flag on initialization. Then a class in the bottom of the inheritance tree can check for that flag to see if the whole tree has been traversed. I would make documentation that every child of <code>base</code> should include the following init code:</p>\n\n<pre><code>super.init()\nif (!_baseIsInitialized) {\n    // throw exception or do w/e you wish\n}\n</code></pre>\n\n<p>where base uses</p>\n\n<pre><code>_baseIsInitialized = true;\n</code></pre>\n\n<hr>\n\n<p>The other way around, forcing your childs to call <code>super.init()</code> is a lot thougher and would most likely include ugly hacks.</p>\n"},{"tags":[],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306430627,"creation_date":1306430627,"answer_id":6142558,"question_id":6142460,"body_markdown":"Android actually accomplishes this in the `Activity` class.  I&#39;m not sure how or whether they had to build support into the runtime for it, but I&#39;d check out the open source code for the `Activity` class implementation.  Specifically, in any of the lifecycle methods, you have to call the corresponding super class method before you do anything otherwise it throws `SuperNotCalledException`.  \r\n\r\nFor instance, in `onCreate()`, the first thing you have to do is call `super.onCreate()`.","title":"How do I force a polymorphic call to the super method?","body":"<p>Android actually accomplishes this in the <code>Activity</code> class.  I'm not sure how or whether they had to build support into the runtime for it, but I'd check out the open source code for the <code>Activity</code> class implementation.  Specifically, in any of the lifecycle methods, you have to call the corresponding super class method before you do anything otherwise it throws <code>SuperNotCalledException</code>.  </p>\n\n<p>For instance, in <code>onCreate()</code>, the first thing you have to do is call <code>super.onCreate()</code>.</p>\n"},{"tags":[],"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1306430859,"creation_date":1306430859,"answer_id":6142621,"question_id":6142460,"body_markdown":"Rather than trying to do that -- I don&#39;t think it&#39;s achievable btw! -- how about a different approach:\r\n\r\n    abstract class Base {\r\n     public final void baseFunction() {\r\n       ...\r\n       overridenFunction(); //call the function in your base class\r\n       ...\r\n     }\r\n     \r\n     public abstract void overridenFunction();\r\n    }\r\n    ...\r\n    class Child extends Base {\r\n     public void overridenFunction() {...};\r\n    }\r\n    \r\n    ...\r\n    Base object = new Child();\r\n    object.baseFunction(); //this now calls your base class function and the overridenFunction in the child class!\r\n\r\nWould that work for you?","title":"How do I force a polymorphic call to the super method?","body":"<p>Rather than trying to do that -- I don't think it's achievable btw! -- how about a different approach:</p>\n\n<pre><code>abstract class Base {\n public final void baseFunction() {\n   ...\n   overridenFunction(); //call the function in your base class\n   ...\n }\n\n public abstract void overridenFunction();\n}\n...\nclass Child extends Base {\n public void overridenFunction() {...};\n}\n\n...\nBase object = new Child();\nobject.baseFunction(); //this now calls your base class function and the overridenFunction in the child class!\n</code></pre>\n\n<p>Would that work for you?</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1692806043,"creation_date":1306431335,"answer_id":6142716,"question_id":6142460,"body_markdown":"Here&#39;s one way to raise an exception if a derived class fails to call up to the superclass:\r\n\r\n    public class Base {\r\n        private boolean called;\r\n        public Base() { // Doesn&#39;t have to be the c&#39;tor; works elsewhere as well.\r\n                        // In fact, shouldn&#39;t call overridable methods from c&#39;tor.\r\n            called = false;\r\n            init();\r\n            if (!called) {\r\n                // throw an exception\r\n            }\r\n        }\r\n        protected void init() {\r\n            called = true;\r\n            // other stuff\r\n        }\r\n    }","title":"How do I force a polymorphic call to the super method?","body":"<p>Here's one way to raise an exception if a derived class fails to call up to the superclass:</p>\n<pre><code>public class Base {\n    private boolean called;\n    public Base() { // Doesn't have to be the c'tor; works elsewhere as well.\n                    // In fact, shouldn't call overridable methods from c'tor.\n        called = false;\n        init();\n        if (!called) {\n            // throw an exception\n        }\n    }\n    protected void init() {\n        called = true;\n        // other stuff\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315501171,"creation_date":1315501171,"answer_id":7351784,"question_id":6142460,"body_markdown":"I don&#39;t know of any way to do this with a method.\r\n\r\nHowever, note that this is exactly how constructors work. Every constructor must, directly or indirectly, call one of its superclass&#39;s constructors. This is statically guaranteed.\r\n\r\nI note that you are writing an init method. Could you refactor so that your code uses constructors rather than init methods? That would give you this behaviour right out of the gate. Some people (eg me) prefer constructors to init methods anyway, partly for just this reason.\r\n\r\nNote that using constructors rather than init methods might not mean using them on the class you&#39;re currently looking at - there might be a refactoring which moves the state needing initialisation out into a parallel class hierarchy which can use proper constructors.\r\n","title":"How do I force a polymorphic call to the super method?","body":"<p>I don't know of any way to do this with a method.</p>\n\n<p>However, note that this is exactly how constructors work. Every constructor must, directly or indirectly, call one of its superclass's constructors. This is statically guaranteed.</p>\n\n<p>I note that you are writing an init method. Could you refactor so that your code uses constructors rather than init methods? That would give you this behaviour right out of the gate. Some people (eg me) prefer constructors to init methods anyway, partly for just this reason.</p>\n\n<p>Note that using constructors rather than init methods might not mean using them on the class you're currently looking at - there might be a refactoring which moves the state needing initialisation out into a parallel class hierarchy which can use proper constructors.</p>\n"},{"tags":[],"owner":{"account_id":1804682,"reputation":32958,"user_id":1642079,"accept_rate":89,"display_name":"Chad Bingham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454106084,"creation_date":1454106084,"answer_id":35095099,"question_id":6142460,"body_markdown":"I frequently like to use this solution. It wont throw a runtime error, but it will show a syntax error:\r\n\r\n     @CallSuper\r\n     public void init() {\r\n         // do stuff\r\n     }\r\n\r\nThis is a part of Android support annotations. ","title":"How do I force a polymorphic call to the super method?","body":"<p>I frequently like to use this solution. It wont throw a runtime error, but it will show a syntax error:</p>\n\n<pre><code> @CallSuper\n public void init() {\n     // do stuff\n }\n</code></pre>\n\n<p>This is a part of Android support annotations. </p>\n"},{"tags":[],"owner":{"account_id":8488654,"reputation":582,"user_id":6365813,"accept_rate":25,"display_name":"AlxDroidDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489345867,"creation_date":1489345867,"answer_id":42751860,"question_id":6142460,"body_markdown":"Nowadays you can annotate your method with `@CallSuper`. This will Lint check that any overrides to that method calls super(). Here&#39;s an example:\r\n\r\n\t@CallSuper\r\n\tprotected void onAfterAttached(Activity activity) {\r\n\t\tif (activity instanceof ActivityMain) {\r\n\t\t\tmainActivity = (ActivityMain) activity;\r\n\t\t}\r\n\t}\r\n \r\nIn the example above, any methods in descendant classes that override onAfterAttached but do not call super will make Lint raise an error.\r\n\r\n","title":"How do I force a polymorphic call to the super method?","body":"<p>Nowadays you can annotate your method with <code>@CallSuper</code>. This will Lint check that any overrides to that method calls super(). Here's an example:</p>\n\n<pre><code>@CallSuper\nprotected void onAfterAttached(Activity activity) {\n    if (activity instanceof ActivityMain) {\n        mainActivity = (ActivityMain) activity;\n    }\n}\n</code></pre>\n\n<p>In the example above, any methods in descendant classes that override onAfterAttached but do not call super will make Lint raise an error.</p>\n"}],"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7601,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6142716,"answer_count":7,"score":13,"last_activity_date":1692806043,"creation_date":1306430138,"question_id":6142460,"body_markdown":"I have an init method that is used and overridden through out an extensive heirarchy. Each init call however extends on the work that the previous did. So naturally, I would:\r\n\r\n    @Override public void init() {\r\n       super.init();\r\n    }\r\n\r\nAnd naturally this would ensure that everything is called and instantiated. What I&#39;m wondering is: Can I create a way to ensure that the super method was called? If all of the init&#39;s are not call, there is a break down in the obejct, so I want to throw an exception or an error if somebody forgets to call `super`.\r\n\r\nTYFT ~Aedon","title":"How do I force a polymorphic call to the super method?","body":"<p>I have an init method that is used and overridden through out an extensive heirarchy. Each init call however extends on the work that the previous did. So naturally, I would:</p>\n\n<pre><code>@Override public void init() {\n   super.init();\n}\n</code></pre>\n\n<p>And naturally this would ensure that everything is called and instantiated. What I'm wondering is: Can I create a way to ensure that the super method was called? If all of the init's are not call, there is a break down in the obejct, so I want to throw an exception or an error if somebody forgets to call <code>super</code>.</p>\n\n<p>TYFT ~Aedon</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692797850,"post_id":76960975,"comment_id":135673149,"body_markdown":"You&#39;ll need to provide more logs for us to know if there actually was a retry. For example, the log could be printed and your JVM/computer could have immediately crashed, so there&#39;d be no commit","body":"You&#39;ll need to provide more logs for us to know if there actually was a retry. For example, the log could be printed and your JVM/computer could have immediately crashed, so there&#39;d be no commit"},{"owner":{"account_id":5068854,"reputation":3050,"user_id":4068218,"accept_rate":7,"display_name":"Hari Rao"},"score":0,"creation_date":1692798528,"post_id":76960975,"comment_id":135673333,"body_markdown":"@OneCricketeer I see the below in the logs\n\n\n[Consumer clientId=consumer-p-worker-50, groupId=p-worker] Group coordinator b-2.hay-kafka-l-clust.x7pgku.c4.kafka.es-west-2.amazonaws.com:9094 (id: 2147483645 rack: null) is unavailable or invalid due to cause: error response REQUEST_TIMED_OUT. isDisconnected: false. Rediscovery will be attempted.\n\n[Consumer clientId=consumer-p-worker-50, groupId=p-worker] Requesting disconnect from last known coordinator b-2.hay-kafka-l-clust.x7pgku.c4.kafka.es-west-2.amazonaws.com:9094 (id: 2147483645 rack: null)","body":"@OneCricketeer I see the below in the logs   [Consumer clientId=consumer-p-worker-50, groupId=p-worker] Group coordinator b-2.hay-kafka-l-clust.x7pgku.c4.kafka.es-west-2.amazonaws.co&zwnj;&#8203;m:9094 (id: 2147483645 rack: null) is unavailable or invalid due to cause: error response REQUEST_TIMED_OUT. isDisconnected: false. Rediscovery will be attempted.  [Consumer clientId=consumer-p-worker-50, groupId=p-worker] Requesting disconnect from last known coordinator b-2.hay-kafka-l-clust.x7pgku.c4.kafka.es-west-2.amazonaws.co&zwnj;&#8203;m:9094 (id: 2147483645 rack: null)"},{"owner":{"account_id":5068854,"reputation":3050,"user_id":4068218,"accept_rate":7,"display_name":"Hari Rao"},"score":0,"creation_date":1692798606,"post_id":76960975,"comment_id":135673359,"body_markdown":"Sorry unable to format it but when I looked at the kafka code it pretty much looks like it went thru  markCoordinatorUnknown(error); method in class AbstractCoordinator.java","body":"Sorry unable to format it but when I looked at the kafka code it pretty much looks like it went thru  markCoordinatorUnknown(error); method in class AbstractCoordinator.java"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692798714,"post_id":76960975,"comment_id":135673398,"body_markdown":"Okay, that&#39;s a retry but not directly related to consumer offset commits","body":"Okay, that&#39;s a retry but not directly related to consumer offset commits"},{"owner":{"account_id":5068854,"reputation":3050,"user_id":4068218,"accept_rate":7,"display_name":"Hari Rao"},"score":0,"creation_date":1692798972,"post_id":76960975,"comment_id":135673472,"body_markdown":"@OneCricketeer Thank u. So do you think the offsets are not commited? I am going to check in my log if the same message has appeared again for processing. It is slightly tricky though. Will give it a go.","body":"@OneCricketeer Thank u. So do you think the offsets are not commited? I am going to check in my log if the same message has appeared again for processing. It is slightly tricky though. Will give it a go."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692805932,"post_id":76960975,"comment_id":135675146,"body_markdown":"You can run `kafka-consumer-groups --describe` command to check what offsets are being committed, or not but if the Group coordinator is failing  and timing out, then I think its possible no offsets would get committed until that is healthy","body":"You can run <code>kafka-consumer-groups --describe</code> command to check what offsets are being committed, or not but if the Group coordinator is failing  and timing out, then I think its possible no offsets would get committed until that is healthy"}],"owner":{"account_id":5068854,"reputation":3050,"user_id":4068218,"accept_rate":7,"display_name":"Hari Rao"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692805995,"creation_date":1692790557,"question_id":76960975,"body_markdown":"Team,  I get the below WARNING and NOT ERROR\r\n\r\n   \r\n    \r\n\r\n    {&quot;timestamp&quot;:&quot;2023-08-23 09:36:43.300 UTC&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;thread&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#7-0-C-1&quot;,&quot;logger&quot;:&quot;org.apache.kafka.clients.consumer.internals.ConsumerCoordinator&quot;,&quot;message&quot;:&quot;[Consumer clientId=consumer-p-worker-27, groupId=p-worker] Offset commit failed on partition p-topic-name at offset 65605: The request timed out.&quot;,&quot;context&quot;:&quot;default&quot;,&quot;dd.service&quot;:&quot;p-worker&quot;}\r\n\r\n\r\nI see a no of stackoverflow questions and answers relating to the above but they are all about ERRORS and not WARNINGS\r\n\r\nI checked the Kafka code and I could see the below \r\n\r\n    if (error.exception() instanceof RetriableException) {\r\n                                log.warn(&quot;Offset commit failed on partition {} at offset {}: {}&quot;, tp, offset, error.message());\r\n                            } else {\r\n                                log.error(&quot;Offset commit failed on partition {} at offset {}: {}&quot;, tp, offset, error.message());\r\n                            }\r\n\r\n\r\nDoes this mean the error was retriable and Kafka retried it and was successful and does this mean I do not have to worry about it?\r\n\r\nAny leads are appreciated guys. Thanks","title":"KAFKA WARNING :- Offset commit failed on partition","body":"<p>Team,  I get the below WARNING and NOT ERROR</p>\n<pre><code>{&quot;timestamp&quot;:&quot;2023-08-23 09:36:43.300 UTC&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;thread&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#7-0-C-1&quot;,&quot;logger&quot;:&quot;org.apache.kafka.clients.consumer.internals.ConsumerCoordinator&quot;,&quot;message&quot;:&quot;[Consumer clientId=consumer-p-worker-27, groupId=p-worker] Offset commit failed on partition p-topic-name at offset 65605: The request timed out.&quot;,&quot;context&quot;:&quot;default&quot;,&quot;dd.service&quot;:&quot;p-worker&quot;}\n</code></pre>\n<p>I see a no of stackoverflow questions and answers relating to the above but they are all about ERRORS and not WARNINGS</p>\n<p>I checked the Kafka code and I could see the below</p>\n<pre><code>if (error.exception() instanceof RetriableException) {\n                            log.warn(&quot;Offset commit failed on partition {} at offset {}: {}&quot;, tp, offset, error.message());\n                        } else {\n                            log.error(&quot;Offset commit failed on partition {} at offset {}: {}&quot;, tp, offset, error.message());\n                        }\n</code></pre>\n<p>Does this mean the error was retriable and Kafka retried it and was successful and does this mean I do not have to worry about it?</p>\n<p>Any leads are appreciated guys. Thanks</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1692806495,"post_id":76962961,"comment_id":135675252,"body_markdown":"It may help if you explain why you think you need an array - to just determine the &quot;AgeOfTheOldest&quot; you just need an int set to -1, parse the value (as you have done) and check if it is greater than current oldest and set if it is.  With that said, one has to ask why is the name entered at all if it is not part of your output requirements?","body":"It may help if you explain why you think you need an array - to just determine the &quot;AgeOfTheOldest&quot; you just need an int set to -1, parse the value (as you have done) and check if it is greater than current oldest and set if it is.  With that said, one has to ask why is the name entered at all if it is not part of your output requirements?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692807654,"post_id":76962961,"comment_id":135675485,"body_markdown":"Add brackets, _int[] ages = { Integer.valueOf(pieces[1]) }_.","body":"Add brackets, <i>int[] ages = { Integer.valueOf(pieces[1]) }</i>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692805803,"creation_date":1692805803,"answer_id":76963015,"question_id":76962961,"body_markdown":"`Integer.valueOf(pieces[1])` will take the second string in the `pieces` array (java is 0-index based, so `pieces[0]` is the first, `pieces[1]` is the second, and so on), and converts it to one int value.\r\n\r\nYou are attempting to assign it to an array of int values.\r\n\r\nThat&#39;s not what you wrote. You wrote: Convert the second string. Not &#39;convert all of them&#39;.\r\n\r\nPerhaps you are looking for something like:\r\n\r\n```\r\nint[] ages = new int[pieces.length];\r\nfor (int i = 0; i &lt; pieces.length; i++) ages[i] = Integer.valueOf(pieces[i]);\r\n```\r\n\r\nOr perhaps:\r\n\r\n```\r\nArrays.stream(pieces)\r\n  .mapToInt(Integer::parseInt)\r\n  .toArray();\r\n```","title":"why am i not able to convert string into integer and assign it to integer array in java?","body":"<p><code>Integer.valueOf(pieces[1])</code> will take the second string in the <code>pieces</code> array (java is 0-index based, so <code>pieces[0]</code> is the first, <code>pieces[1]</code> is the second, and so on), and converts it to one int value.</p>\n<p>You are attempting to assign it to an array of int values.</p>\n<p>That's not what you wrote. You wrote: Convert the second string. Not 'convert all of them'.</p>\n<p>Perhaps you are looking for something like:</p>\n<pre><code>int[] ages = new int[pieces.length];\nfor (int i = 0; i &lt; pieces.length; i++) ages[i] = Integer.valueOf(pieces[i]);\n</code></pre>\n<p>Or perhaps:</p>\n<pre><code>Arrays.stream(pieces)\n  .mapToInt(Integer::parseInt)\n  .toArray();\n</code></pre>\n"}],"owner":{"account_id":29284356,"reputation":9,"user_id":22436299,"display_name":"itsasaddayfs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1692806438,"answer_count":1,"score":0,"last_activity_date":1692805803,"creation_date":1692805479,"question_id":76962961,"body_markdown":"i have to write a program that reads names and ages from the user until an empty line is entered. The name and age are separated by a comma.After reading all user input, the program prints the age of the oldest person. Now i&#39;m using the following method \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class AgeOfTheOldest {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        while(true){\r\n            String text = scanner.nextLine();\r\n            if(text.equals(&quot;&quot;)){\r\n                break;\r\n            }else{\r\n                String[] pieces = text.split(&quot;,&quot;);\r\n                int[] ages = Integer.valueOf(pieces[1]); \r\n                \r\n            }\r\n            \r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nBut the int[] ages line gives me this error[enter image description here](https://i.stack.imgur.com/hcywH.png)\r\nso how do i convert string values and assign it to an integer array?","title":"why am i not able to convert string into integer and assign it to integer array in java?","body":"<p>i have to write a program that reads names and ages from the user until an empty line is entered. The name and age are separated by a comma.After reading all user input, the program prints the age of the oldest person. Now i'm using the following method</p>\n<pre><code>import java.util.Scanner;\n\npublic class AgeOfTheOldest {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        while(true){\n            String text = scanner.nextLine();\n            if(text.equals(&quot;&quot;)){\n                break;\n            }else{\n                String[] pieces = text.split(&quot;,&quot;);\n                int[] ages = Integer.valueOf(pieces[1]); \n                \n            }\n            \n        }\n    }\n}\n</code></pre>\n<p>But the int[] ages line gives me this error<a href=\"https://i.stack.imgur.com/hcywH.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nso how do i convert string values and assign it to an integer array?</p>\n"},{"tags":["java","amazon-s3","aws-java-sdk-2.x"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1692810471,"post_id":76962968,"comment_id":135676014,"body_markdown":"Why is the response you received not the accurate response?","body":"Why is the response you received not the accurate response?"}],"owner":{"account_id":28620378,"reputation":13,"user_id":21913548,"display_name":"Ssk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692805551,"creation_date":1692805551,"question_id":76962968,"body_markdown":"I want to delete all the versions along with the delete marker for multiple objects from the version enabled S3 bucket with Java sdk 2.0.\r\n\r\nI&#39;m trying below code to do that\r\n\r\n```\r\n ArrayList&lt;ObjectIdentifier&gt; keys = new ArrayList&lt;&gt;();\r\n ObjectIdentifier objectId;\r\n\r\n objectId = ObjectIdentifier.builder()\r\n            .key(&quot;test2&quot;)\r\n            .build();\r\n            \r\n keys.add(objectId);\r\n\r\n objectId = ObjectIdentifier.builder()\r\n            .key(&quot;test3&quot;)\r\n            .build();\r\n            \r\n keys.add(objectId);\r\n            \r\n      \r\n            \r\nDelete del = Delete.builder()\r\n             .objects(keys)\r\n             .build();\r\n\r\ntry {\r\n    DeleteObjectsRequest multiObjectDeleteRequest = DeleteObjectsRequest.builder()\r\n                    .bucket(&quot;my-bucket&quot;)\r\n                    .delete(del)\r\n                    .build();\r\n\r\n    DeleteObjectsResponse response =s3Client.deleteObjects(multiObjectDeleteRequest);\r\n    System.out.println(response);\r\n            \r\n} catch (S3Exception e) {\r\n    System.err.println(e.awsErrorDetails().errorMessage());\r\n    System.exit(1);\r\n}\r\n```\r\n\r\nAnd I&#39;m getting below response for the same\r\n\r\n```\r\nDeleteObjectsResponse(Deleted=[DeletedObject(Key=test2, DeleteMarker=true, DeleteMarkerVersionId=abcdefgh.jkfsdglkjfsdg9gfkjh89545), DeletedObject(Key=test3, DeleteMarker=true, DeleteMarkerVersionId=.skdjgklhdfs8gfs89dhsdsda9)])\r\n```\r\nThe response is same in all below cases (just the DeleteMarkerVersionId changes on every execution.)\r\n1. I have never uploaded/put test3 object\r\n2. I have uploaded test2 object - Object is present\r\n3. test2 object is already deleted - Object is not present.\r\n\r\nHow to get the accurate response for it. \r\n\r\n","title":"Getting DeleteObjectsResponse for the objects that are not even created or present on the version enabled S3 bucket","body":"<p>I want to delete all the versions along with the delete marker for multiple objects from the version enabled S3 bucket with Java sdk 2.0.</p>\n<p>I'm trying below code to do that</p>\n<pre><code> ArrayList&lt;ObjectIdentifier&gt; keys = new ArrayList&lt;&gt;();\n ObjectIdentifier objectId;\n\n objectId = ObjectIdentifier.builder()\n            .key(&quot;test2&quot;)\n            .build();\n            \n keys.add(objectId);\n\n objectId = ObjectIdentifier.builder()\n            .key(&quot;test3&quot;)\n            .build();\n            \n keys.add(objectId);\n            \n      \n            \nDelete del = Delete.builder()\n             .objects(keys)\n             .build();\n\ntry {\n    DeleteObjectsRequest multiObjectDeleteRequest = DeleteObjectsRequest.builder()\n                    .bucket(&quot;my-bucket&quot;)\n                    .delete(del)\n                    .build();\n\n    DeleteObjectsResponse response =s3Client.deleteObjects(multiObjectDeleteRequest);\n    System.out.println(response);\n            \n} catch (S3Exception e) {\n    System.err.println(e.awsErrorDetails().errorMessage());\n    System.exit(1);\n}\n</code></pre>\n<p>And I'm getting below response for the same</p>\n<pre><code>DeleteObjectsResponse(Deleted=[DeletedObject(Key=test2, DeleteMarker=true, DeleteMarkerVersionId=abcdefgh.jkfsdglkjfsdg9gfkjh89545), DeletedObject(Key=test3, DeleteMarker=true, DeleteMarkerVersionId=.skdjgklhdfs8gfs89dhsdsda9)])\n</code></pre>\n<p>The response is same in all below cases (just the DeleteMarkerVersionId changes on every execution.)</p>\n<ol>\n<li>I have never uploaded/put test3 object</li>\n<li>I have uploaded test2 object - Object is present</li>\n<li>test2 object is already deleted - Object is not present.</li>\n</ol>\n<p>How to get the accurate response for it.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9764,"page":228,"page_size":100}
