{"items":[{"tags":["java","position","caret"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1409616089,"post_id":25613876,"comment_id":40014490,"body_markdown":"I&#39;m not sure that this possible (certainly isn&#39;t from within Java, you will need some kind of JNA/JNI integration) from a native level","body":"I&#39;m not sure that this possible (certainly isn&#39;t from within Java, you will need some kind of JNA/JNI integration) from a native level"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1409616238,"post_id":25613876,"comment_id":40014514,"body_markdown":"Okay, apparently, under windows, you might...[GUITHREADINFO](http://msdn.microsoft.com/en-us/library/windows/desktop/ms632604(v=vs.85).aspx)","body":"Okay, apparently, under windows, you might...<a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/ms632604(v=vs.85).aspx\" rel=\"nofollow noreferrer\">GUITHREADINFO</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1409616337,"post_id":25613876,"comment_id":40014531,"body_markdown":"And if you don&#39;t mind translating from C#, you could [look at this example](http://www.codeproject.com/Articles/34520/Getting-Caret-Position-Inside-Any-Application)","body":"And if you don&#39;t mind translating from C#, you could <a href=\"http://www.codeproject.com/Articles/34520/Getting-Caret-Position-Inside-Any-Application\" rel=\"nofollow noreferrer\">look at this example</a>"},{"owner":{"account_id":977948,"reputation":2634,"user_id":998415,"accept_rate":70,"display_name":"jjj"},"score":0,"creation_date":1409660211,"post_id":25613876,"comment_id":40030891,"body_markdown":"Thans MadProgrammer, I&#39;ll look into GUITHREADINFO, but I need my application to be compatible with other operating systems, not only Windows. \nDoes anyone know of any JNA/JNI integration?","body":"Thans MadProgrammer, I&#39;ll look into GUITHREADINFO, but I need my application to be compatible with other operating systems, not only Windows.  Does anyone know of any JNA/JNI integration?"}],"answers":[{"tags":[],"owner":{"account_id":4903342,"reputation":7,"user_id":3950829,"display_name":"theashman400"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1409630823,"creation_date":1409620577,"answer_id":25614578,"question_id":25613876,"body_markdown":"Basically use the .getMagicCaretPosition() function:\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.Point;\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n    import javax.swing.text.Caret;\r\n    public class CaretPos implements Runnable\r\n    {\r\n\t    JFrame frame;\r\n\t    JPanel panel;\r\n\t    JTextPane tPane;\r\n\t    Caret newCaret;\r\n\t    Point point;\r\n\r\n\t    @Override\r\n\t    public void run() {\r\n\t\t    frame = new JFrame(&quot;CaretPos&quot;);\r\n\t    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t    panel = new JPanel();\r\n    \t\ttPane = new JTextPane();\r\n\t    \tnewCaret = tPane.getCaret(); // you probably dont need to create another\r\n                                         // Caret, but i did anyway to add the listener\r\n    \t\tnewCaret.addChangeListener(new ChangeListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void stateChanged(ChangeEvent e) {\r\n    \t\t\t\tpoint = newCaret.getMagicCaretPosition();\r\n    \t\t\t\tSystem.out.println(point);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttPane.setCaret(newCaret);\r\n    \t\ttPane.setPreferredSize(new Dimension(500,500));\r\n    \t\tpanel.add(tPane);\r\n    \t\tframe.add(panel);\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tCaretPos run = new CaretPos();\r\n    \t\tSwingUtilities.invokeLater(run);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI used a JTextPane, but im sure other swing components can be used\r\n\r\nEDIT: Sorry I totally misunderstood your question. I thought you wanted to find the caret\r\nposition in ANY of YOUR programs. My bad.","title":"How to get caret position inside any application using Java?","body":"<p>Basically use the .getMagicCaretPosition() function:</p>\n\n<pre><code>import java.awt.Dimension;\nimport java.awt.Point;\n\nimport javax.swing.*;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport javax.swing.text.Caret;\npublic class CaretPos implements Runnable\n{\n    JFrame frame;\n    JPanel panel;\n    JTextPane tPane;\n    Caret newCaret;\n    Point point;\n\n    @Override\n    public void run() {\n        frame = new JFrame(\"CaretPos\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        panel = new JPanel();\n        tPane = new JTextPane();\n        newCaret = tPane.getCaret(); // you probably dont need to create another\n                                     // Caret, but i did anyway to add the listener\n        newCaret.addChangeListener(new ChangeListener() {\n\n            @Override\n            public void stateChanged(ChangeEvent e) {\n                point = newCaret.getMagicCaretPosition();\n                System.out.println(point);\n            }\n        });\n        tPane.setCaret(newCaret);\n        tPane.setPreferredSize(new Dimension(500,500));\n        panel.add(tPane);\n        frame.add(panel);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args)\n    {\n        CaretPos run = new CaretPos();\n        SwingUtilities.invokeLater(run);\n    }\n\n}\n</code></pre>\n\n<p>I used a JTextPane, but im sure other swing components can be used</p>\n\n<p>EDIT: Sorry I totally misunderstood your question. I thought you wanted to find the caret\nposition in ANY of YOUR programs. My bad.</p>\n"}],"owner":{"account_id":977948,"reputation":2634,"user_id":998415,"accept_rate":70,"display_name":"jjj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":964,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1647445864,"creation_date":1409613330,"question_id":25613876,"body_markdown":"It seemed to be such a simple question, but after a long time researching the topic, I am still not able to find any answer to this.\r\nUsing Java, I want to display a small tooltip next to a caret (text cursor) position.\r\n\r\nI need to caret position inside any application.\r\nThat means if I open Word, Notepad, Chrome browser and I start typing I need to see X &amp; Y of the cursor.\r\n\r\nAny way to do this using Java?\r\nI&#39;ve seen implementations in C# on CodeProject, but I need to do this in java.","title":"How to get caret position inside any application using Java?","body":"<p>It seemed to be such a simple question, but after a long time researching the topic, I am still not able to find any answer to this.\nUsing Java, I want to display a small tooltip next to a caret (text cursor) position.</p>\n<p>I need to caret position inside any application.\nThat means if I open Word, Notepad, Chrome browser and I start typing I need to see X &amp; Y of the cursor.</p>\n<p>Any way to do this using Java?\nI've seen implementations in C# on CodeProject, but I need to do this in java.</p>\n"},{"tags":["java","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1647456613,"post_id":71496994,"comment_id":126378766,"body_markdown":"I think this is fundamentally the same issue as in [this question](https://stackoverflow.com/q/49154772/1426891) and [answer](https://stackoverflow.com/a/49154894/1426891): in order to mock, Mockito is effectively compiling a subclass of C1 at test runtime, which (due to visibility) is inherently trickier than creating a class that implements an interface. If you agree, I&#39;ll close this question as a duplicate of that Q&amp;A.","body":"I think this is fundamentally the same issue as in <a href=\"https://stackoverflow.com/q/49154772/1426891\">this question</a> and <a href=\"https://stackoverflow.com/a/49154894/1426891\">answer</a>: in order to mock, Mockito is effectively compiling a subclass of C1 at test runtime, which (due to visibility) is inherently trickier than creating a class that implements an interface. If you agree, I&#39;ll close this question as a duplicate of that Q&amp;A."},{"owner":{"account_id":17064980,"reputation":11,"user_id":18482545,"display_name":"Funtime"},"score":0,"creation_date":1647461247,"post_id":71496994,"comment_id":126380248,"body_markdown":"Yes, agreed. Thanks for finding that.","body":"Yes, agreed. Thanks for finding that."}],"owner":{"account_id":17064980,"reputation":11,"user_id":18482545,"display_name":"Funtime"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1647461734,"answer_count":0,"score":1,"last_activity_date":1647445671,"creation_date":1647433305,"question_id":71496994,"body_markdown":"When mocking a concrete class, it appears that Mockito accesses the private member fields of the mocked class. On the project I&#39;m working upon we&#39;re actively limiting the transitivity of modules, and so if the type of the private member field is in another module which isn&#39;t visible at runtime, we get NoClassDefFoundError.\r\n\r\nFor example:\r\n    \r\n    /**\r\n     * In module M2\r\n     */\r\n    public class C2 {\r\n    }    \r\n\r\n    /**\r\n     * In module M1, module M2 is within compile scope.\r\n     */\r\n    public class C1 {\r\n      private C2;\r\n\r\n      public String hello() {\r\n        return &quot;hi&quot;;\r\n      }\r\n    }\r\n\r\n    \r\n    /**\r\n     * Module M1 is in compile scope, M2 not visible.\r\n     */\r\n    @Test\r\n    public void test() {\r\n      C1 instance = org.mockito.Mockito.mock(C1.class);\r\n    }\r\n\r\nRunning the above will result in:\r\n   \r\n\r\n    Underlying exception : java.lang.TypeNotPresentException: Type C2 not present\r\n\r\nOf course, if the interface I1 for C1 is extracted and mocked by the test, then all is well because I1 has no reference to C2.\r\n\r\nClearly there are ways around this (extracting an interface, add explicit link to module M2), but each of these approaches will require quite a lot of work. Questions are:\r\n\r\n 1. Why does Mockito to see things it shouldn&#39;t care about? \r\n 2. Is it possible / viable to stop Mockito requiring the type of\r\n    private member fields to be available at runtime?\r\n\r\n","title":"Why does Mockito require private fields of mocked classes to be on the test runtime?","body":"<p>When mocking a concrete class, it appears that Mockito accesses the private member fields of the mocked class. On the project I'm working upon we're actively limiting the transitivity of modules, and so if the type of the private member field is in another module which isn't visible at runtime, we get NoClassDefFoundError.</p>\n<p>For example:</p>\n<pre><code>/**\n * In module M2\n */\npublic class C2 {\n}    \n\n/**\n * In module M1, module M2 is within compile scope.\n */\npublic class C1 {\n  private C2;\n\n  public String hello() {\n    return &quot;hi&quot;;\n  }\n}\n\n\n/**\n * Module M1 is in compile scope, M2 not visible.\n */\n@Test\npublic void test() {\n  C1 instance = org.mockito.Mockito.mock(C1.class);\n}\n</code></pre>\n<p>Running the above will result in:</p>\n<pre><code>Underlying exception : java.lang.TypeNotPresentException: Type C2 not present\n</code></pre>\n<p>Of course, if the interface I1 for C1 is extracted and mocked by the test, then all is well because I1 has no reference to C2.</p>\n<p>Clearly there are ways around this (extracting an interface, add explicit link to module M2), but each of these approaches will require quite a lot of work. Questions are:</p>\n<ol>\n<li>Why does Mockito to see things it shouldn't care about?</li>\n<li>Is it possible / viable to stop Mockito requiring the type of\nprivate member fields to be available at runtime?</li>\n</ol>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647172969,"post_id":71455373,"comment_id":126299612,"body_markdown":"&quot;Getting the result&quot; -- you failed to explain what your results are. FWIW, [this sample Kotlin project](https://gitlab.com/commonsguy/cw-android-q/-/tree/vFINAL/AppInstaller), profiled in [this free book](https://commonsware.com/Q), demonstrates the use of `PackageInstaller`.","body":"&quot;Getting the result&quot; -- you failed to explain what your results are. FWIW, <a href=\"https://gitlab.com/commonsguy/cw-android-q/-/tree/vFINAL/AppInstaller\" rel=\"nofollow noreferrer\">this sample Kotlin project</a>, profiled in <a href=\"https://commonsware.com/Q\" rel=\"nofollow noreferrer\">this free book</a>, demonstrates the use of <code>PackageInstaller</code>."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647173577,"post_id":71455373,"comment_id":126299762,"body_markdown":"While the sample is in Kotiln, at least [the relevant book chapter is in English](https://commonsware.com/Q/pages/chap-pkg-001.html), and perhaps it will give you some ideas.","body":"While the sample is in Kotiln, at least <a href=\"https://commonsware.com/Q/pages/chap-pkg-001.html\" rel=\"nofollow noreferrer\">the relevant book chapter is in English</a>, and perhaps it will give you some ideas."},{"owner":{"account_id":24064338,"reputation":46,"user_id":18041142,"display_name":"Patsore"},"score":0,"creation_date":1647445482,"post_id":71455373,"comment_id":126374215,"body_markdown":"@CommonsWare thank you for the code sample. It appears that the reason my solution in the question didn&#39;t work was because of the emulator, rather than the code. It started working when I used one with google services installed, it looks like that&#39;s a requirement, even though it&#39;s not stated anywhere.","body":"@CommonsWare thank you for the code sample. It appears that the reason my solution in the question didn&#39;t work was because of the emulator, rather than the code. It started working when I used one with google services installed, it looks like that&#39;s a requirement, even though it&#39;s not stated anywhere."}],"answers":[{"tags":[],"owner":{"account_id":24064338,"reputation":46,"user_id":18041142,"display_name":"Patsore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647445615,"creation_date":1647445615,"answer_id":71500107,"question_id":71455373,"body_markdown":"It looks like the issue was in the fact that my emulator didn&#39;t have gapps installed, which is, even though not stated anywhere, apparently a dependency for this kind of action. Although I would recommend the chapters that CommonsWare brought up in his comment, as they were much more comprehensive than the scarce documentation.","title":"Issue installing .apk with PackageInstaller","body":"<p>It looks like the issue was in the fact that my emulator didn't have gapps installed, which is, even though not stated anywhere, apparently a dependency for this kind of action. Although I would recommend the chapters that CommonsWare brought up in his comment, as they were much more comprehensive than the scarce documentation.</p>\n"}],"owner":{"account_id":24064338,"reputation":46,"user_id":18041142,"display_name":"Patsore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71500107,"answer_count":1,"score":1,"last_activity_date":1647445615,"creation_date":1647163112,"question_id":71455373,"body_markdown":"My goal is to install an .apk file that&#39;s stored on the device. I tried using ACTION_VIEW intent, but it&#39;s deprecated as of Android 10, I believe.\r\n\r\nI&#39;ve already scoured half the web, but most answers are either using the deprecated intents, kotlin or just don&#39;t work.\r\n\r\nHere&#39;s my code\r\n\r\n```Java\r\n private void installApk() throws IOException {\r\n        if (!requireContext().getPackageManager().canRequestPackageInstalls()) {\r\n            startActivity(new Intent(\r\n                    Settings.ACTION_MANAGE_UNKNOWN_APP_SOURCES,\r\n                    Uri.parse(&quot;package:&quot; + requireContext().getPackageName())));\r\n        } else {\r\n\r\n//            Log.d(TAG, &quot;File Exists?: &quot; + outputFile.exists() + &quot; ; &quot; + outputFile.getAbsolutePath() + &quot; ; &quot; + &quot;can read?&quot; + outputFile.canRead() + &quot; ; &quot; + &quot;can write?&quot; + outputFile.canWrite());\r\n            PackageInstaller packageInstaller = requireContext().getPackageManager().getPackageInstaller();\r\n            PackageInstaller.SessionParams params = new PackageInstaller.SessionParams(PackageInstaller\r\n                    .SessionParams.MODE_FULL_INSTALL);\r\n            int sessionId = packageInstaller.createSession(params);\r\n            PackageInstaller.Session session = packageInstaller.openSession(sessionId);\r\n\r\n                addApkToInstallSession(session);\r\n\r\n                Intent callbackIntent = new Intent(requireContext(), APKInstallService.class);\r\n\r\n                PendingIntent pendingIntent = PendingIntent.getService(requireContext(), 0, callbackIntent, 0);\r\n                // This is sending the result of the installation to the APKInstallService.\r\n                IntentSender statusReceiver = pendingIntent.getIntentSender();\r\n                session.commit(statusReceiver);\r\n\r\n\r\n        }\r\n    }\r\n```\r\nThis is the method I call in my onClickListener\r\n\r\n```\r\n  private void addApkToInstallSession(PackageInstaller.Session session)\r\n            throws IOException {\r\n        try (OutputStream packageInSession = session.openWrite(&quot;package&quot;, 0, -1);\r\n             InputStream is = requireContext().getContentResolver().openInputStream(fileURI)) {\r\n            byte[] buffer = new byte[16384];\r\n            int n;\r\n            while ((n = is.read(buffer)) &gt;= 0) {\r\n                packageInSession.write(buffer, 0, n);\r\n            }\r\n        }\r\n    }\r\n```\r\nAdding the file to the session.\r\n\r\n```\r\n\r\n\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageInstaller;\r\nimport android.os.IBinder;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\npublic class APKInstallService extends Service {\r\n    private static final String TAG = &quot;APKInstallService&quot;;\r\n\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        int status = intent.getIntExtra(PackageInstaller.EXTRA_STATUS, -999);\r\n\r\n        switch (status) {\r\n            case PackageInstaller.STATUS_PENDING_USER_ACTION:\r\n                Log.d(TAG, &quot;Requesting user confirmation for installation&quot;);\r\n                // This is a way to get the intent that was passed to the service.\r\n                //Intent confirmationIntent = intent.getParcelableExtra(Intent.EXTRA_INTENT);\r\n                //confirmationIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                //try {\r\n                  //  startActivity(confirmationIntent);\r\n                //} catch (Exception e) {\r\n                    //No action\r\n\r\n//                }\r\n                break;\r\n            case PackageInstaller.STATUS_SUCCESS:\r\n                Log.d(TAG, &quot;Installation succeed&quot;);\r\n                break;\r\n            default:\r\n                Log.d(TAG, &quot;Installation failed&quot;);\r\n                break;\r\n        }\r\n        stopSelf();\r\n        return START_NOT_STICKY;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n}\r\n```\r\nGetting the result\r\n\r\nI&#39;m fairly new to coding, so sorry if this is a dumb issue","title":"Issue installing .apk with PackageInstaller","body":"<p>My goal is to install an .apk file that's stored on the device. I tried using ACTION_VIEW intent, but it's deprecated as of Android 10, I believe.</p>\n<p>I've already scoured half the web, but most answers are either using the deprecated intents, kotlin or just don't work.</p>\n<p>Here's my code</p>\n<pre><code> private void installApk() throws IOException {\n        if (!requireContext().getPackageManager().canRequestPackageInstalls()) {\n            startActivity(new Intent(\n                    Settings.ACTION_MANAGE_UNKNOWN_APP_SOURCES,\n                    Uri.parse(&quot;package:&quot; + requireContext().getPackageName())));\n        } else {\n\n//            Log.d(TAG, &quot;File Exists?: &quot; + outputFile.exists() + &quot; ; &quot; + outputFile.getAbsolutePath() + &quot; ; &quot; + &quot;can read?&quot; + outputFile.canRead() + &quot; ; &quot; + &quot;can write?&quot; + outputFile.canWrite());\n            PackageInstaller packageInstaller = requireContext().getPackageManager().getPackageInstaller();\n            PackageInstaller.SessionParams params = new PackageInstaller.SessionParams(PackageInstaller\n                    .SessionParams.MODE_FULL_INSTALL);\n            int sessionId = packageInstaller.createSession(params);\n            PackageInstaller.Session session = packageInstaller.openSession(sessionId);\n\n                addApkToInstallSession(session);\n\n                Intent callbackIntent = new Intent(requireContext(), APKInstallService.class);\n\n                PendingIntent pendingIntent = PendingIntent.getService(requireContext(), 0, callbackIntent, 0);\n                // This is sending the result of the installation to the APKInstallService.\n                IntentSender statusReceiver = pendingIntent.getIntentSender();\n                session.commit(statusReceiver);\n\n\n        }\n    }\n</code></pre>\n<p>This is the method I call in my onClickListener</p>\n<pre><code>  private void addApkToInstallSession(PackageInstaller.Session session)\n            throws IOException {\n        try (OutputStream packageInSession = session.openWrite(&quot;package&quot;, 0, -1);\n             InputStream is = requireContext().getContentResolver().openInputStream(fileURI)) {\n            byte[] buffer = new byte[16384];\n            int n;\n            while ((n = is.read(buffer)) &gt;= 0) {\n                packageInSession.write(buffer, 0, n);\n            }\n        }\n    }\n</code></pre>\n<p>Adding the file to the session.</p>\n<pre><code>\n\nimport android.app.Service;\nimport android.content.Intent;\nimport android.content.pm.PackageInstaller;\nimport android.os.IBinder;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\n\npublic class APKInstallService extends Service {\n    private static final String TAG = &quot;APKInstallService&quot;;\n\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        int status = intent.getIntExtra(PackageInstaller.EXTRA_STATUS, -999);\n\n        switch (status) {\n            case PackageInstaller.STATUS_PENDING_USER_ACTION:\n                Log.d(TAG, &quot;Requesting user confirmation for installation&quot;);\n                // This is a way to get the intent that was passed to the service.\n                //Intent confirmationIntent = intent.getParcelableExtra(Intent.EXTRA_INTENT);\n                //confirmationIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                //try {\n                  //  startActivity(confirmationIntent);\n                //} catch (Exception e) {\n                    //No action\n\n//                }\n                break;\n            case PackageInstaller.STATUS_SUCCESS:\n                Log.d(TAG, &quot;Installation succeed&quot;);\n                break;\n            default:\n                Log.d(TAG, &quot;Installation failed&quot;);\n                break;\n        }\n        stopSelf();\n        return START_NOT_STICKY;\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n}\n</code></pre>\n<p>Getting the result</p>\n<p>I'm fairly new to coding, so sorry if this is a dumb issue</p>\n"},{"tags":["java","swing","textbox","caret"],"comments":[{"owner":{"account_id":3823725,"reputation":2958,"user_id":3171100,"accept_rate":67,"display_name":"Chris Smith"},"score":0,"creation_date":1434164781,"post_id":30814666,"comment_id":49677046,"body_markdown":"I don&#39;t think that is an operating system thing, that is more of a your-job type of thing. For me, every application has a different blink rate, some blink once, then blink a bunch, others just constantly blink.","body":"I don&#39;t think that is an operating system thing, that is more of a your-job type of thing. For me, every application has a different blink rate, some blink once, then blink a bunch, others just constantly blink."},{"owner":{"account_id":1458781,"reputation":573,"user_id":1377697,"accept_rate":67,"display_name":"warren"},"score":0,"creation_date":1434165111,"post_id":30814666,"comment_id":49677087,"body_markdown":"There is indeed a configurable blink rate on most OSes","body":"There is indeed a configurable blink rate on most OSes"},{"owner":{"account_id":3823725,"reputation":2958,"user_id":3171100,"accept_rate":67,"display_name":"Chris Smith"},"score":0,"creation_date":1434165262,"post_id":30814666,"comment_id":49677109,"body_markdown":"In your question, you are asking how to access the global property for caret blink rate. As far as I know, such a property does not exist. Drawing UIs and rendering stuff is not the operating systems deal, but rather the library you are using. In this case, you are making your own so that setting is up to you!","body":"In your question, you are asking how to access the global property for caret blink rate. As far as I know, such a property does not exist. Drawing UIs and rendering stuff is not the operating systems deal, but rather the library you are using. In this case, you are making your own so that setting is up to you!"},{"owner":{"account_id":1458781,"reputation":573,"user_id":1377697,"accept_rate":67,"display_name":"warren"},"score":0,"creation_date":1434169952,"post_id":30814666,"comment_id":49677743,"body_markdown":"I edited my previous comment while the previous comment was being typed. However, for the curious, the setting in question is under keyboard properties in windows.","body":"I edited my previous comment while the previous comment was being typed. However, for the curious, the setting in question is under keyboard properties in windows."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1434292327,"creation_date":1434176618,"answer_id":30815752,"question_id":30814666,"body_markdown":"The method for configuring the cursor blink rate is highly system dependent, and there is no simple (cross-platform) way to access the rate in Java.\r\n\r\nFor example:\r\n\r\n  - On Linux - https://unix.stackexchange.com/questions/55423/how-to-change-cursor-shape-color-and-blinkrate-of-linux-console\r\n\r\n  - On Windows - https://msdn.microsoft.com/en-us/library/ms971316.aspx#atg_avoidflashing_adjusting_the_cursor_blink_rate_programmatically\r\n\r\n(These are not direct solutions ... but they illustrate the problem that you would have.)\r\n\r\n---------------------\r\n\r\nI would put this application feature into the &quot;too hard&quot; basket, especially since the benefit to most users is (IMO) marginal.","title":"access the system caret blink rate in java","body":"<p>The method for configuring the cursor blink rate is highly system dependent, and there is no simple (cross-platform) way to access the rate in Java.</p>\n\n<p>For example:</p>\n\n<ul>\n<li><p>On Linux - <a href=\"https://unix.stackexchange.com/questions/55423/how-to-change-cursor-shape-color-and-blinkrate-of-linux-console\">https://unix.stackexchange.com/questions/55423/how-to-change-cursor-shape-color-and-blinkrate-of-linux-console</a></p></li>\n<li><p>On Windows - <a href=\"https://msdn.microsoft.com/en-us/library/ms971316.aspx#atg_avoidflashing_adjusting_the_cursor_blink_rate_programmatically\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/ms971316.aspx#atg_avoidflashing_adjusting_the_cursor_blink_rate_programmatically</a></p></li>\n</ul>\n\n<p>(These are not direct solutions ... but they illustrate the problem that you would have.)</p>\n\n<hr>\n\n<p>I would put this application feature into the \"too hard\" basket, especially since the benefit to most users is (IMO) marginal.</p>\n"}],"owner":{"account_id":1458781,"reputation":573,"user_id":1377697,"accept_rate":67,"display_name":"warren"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30815752,"answer_count":1,"score":1,"last_activity_date":1647445395,"creation_date":1434164692,"question_id":30814666,"body_markdown":"I am implementing a simple embedded text editor in java. For the convenience of my users I would like to use the caret blink rate they have set as a system property in their operating system.\r\n\r\nI am not using a swing or awt text box, but rather building one from scratch.\r\n\r\nWhat is the simplest way to get at this system property?","title":"access the system caret blink rate in java","body":"<p>I am implementing a simple embedded text editor in java. For the convenience of my users I would like to use the caret blink rate they have set as a system property in their operating system.</p>\n\n<p>I am not using a swing or awt text box, but rather building one from scratch.</p>\n\n<p>What is the simplest way to get at this system property?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1645623924,"post_id":71237021,"comment_id":125921136,"body_markdown":"Can you show converter ?","body":"Can you show converter ?"},{"owner":{"account_id":5117881,"reputation":39,"user_id":4102421,"display_name":"Summit2"},"score":0,"creation_date":1645625216,"post_id":71237021,"comment_id":125921758,"body_markdown":"You mean the converter to DTO? It&#39;s irrelevant here because I checked the value of the collection field in the debugger before the Cocktail object reaches the converter and it was already empty. Actually the output of cocktail.getCocktailIngredients() was an empty collection.","body":"You mean the converter to DTO? It&#39;s irrelevant here because I checked the value of the collection field in the debugger before the Cocktail object reaches the converter and it was already empty. Actually the output of cocktail.getCocktailIngredients() was an empty collection."}],"answers":[{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647445292,"creation_date":1647445292,"answer_id":71500032,"question_id":71237021,"body_markdown":"Please try removing assignment of empty list:\r\n    \r\n     cocktailIngredients = new ArrayList&lt;&gt;(); \r\nJust keep cocktailIngredients uninitialized. Setter will do the assignment.","title":"Hibernate @OneToMany relationship is not fetched properly","body":"<p>Please try removing assignment of empty list:</p>\n<pre><code> cocktailIngredients = new ArrayList&lt;&gt;(); \n</code></pre>\n<p>Just keep cocktailIngredients uninitialized. Setter will do the assignment.</p>\n"}],"owner":{"account_id":5117881,"reputation":39,"user_id":4102421,"display_name":"Summit2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647445292,"creation_date":1645619657,"question_id":71237021,"body_markdown":"I have a one to many relationship between entities.\r\nThe first entity:\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@Getter \r\n@Setter \r\npublic class Cocktail {\r\n\t@Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(\r\n        name = &quot;uuid&quot;,\r\n        strategy = &quot;uuid2&quot;,\r\n        parameters = {\r\n            @Parameter(\r\n                name = &quot;uuid_gen_strategy_class&quot;,\r\n                value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\r\n            )\r\n        }\r\n    )\r\n\tprivate UUID id;\r\n\t\r\n\tprivate String image;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;name_id&quot;)\r\n\tprivate Label labelName;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;description_id&quot;)\r\n\tprivate Label labelDescription;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;cocktail&quot;, fetch = FetchType.EAGER)\r\n\tprivate List&lt;CocktailIngredient&gt; cocktailIngredients = new ArrayList&lt;&gt;();\r\n}\r\n```\r\nThe second entity:\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@Getter @Setter\r\npublic class CocktailIngredient {\r\n\t@Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(\r\n        name = &quot;uuid&quot;,\r\n        strategy = &quot;uuid2&quot;,\r\n        parameters = {\r\n            @Parameter(\r\n                name = &quot;uuid_gen_strategy_class&quot;,\r\n                value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\r\n            )\r\n        }\r\n    )\r\n\tprivate UUID id;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;cocktail_id&quot;)\r\n\tprivate Cocktail cocktail;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;ingredient_id&quot;)\r\n\tprivate Ingredient ingredient;\r\n\t\r\n\tprivate BigDecimal quantity;\r\n}\r\n```\r\nAnd the Spring Data repository that is loading them:\r\n```\r\n@Repository\r\npublic interface CocktailRepository extends JpaRepository&lt;Cocktail, UUID&gt;, CocktailRepositoryCustom {\r\n}\r\n```\r\nThe other related code is irrelevant to the question.\r\nThe problem is when I call the standard findAll method of CocktailRepository, the list of CocktailRepository in Cocktail is not populated, although Hibernate is querying the related entities from the database (one of the generated queries):\r\n```\r\nHibernate: \r\n    select\r\n        cocktailin0_.cocktail_id as cocktail3_1_0_,\r\n        cocktailin0_.id as id1_1_0_,\r\n        cocktailin0_.id as id1_1_1_,\r\n        cocktailin0_.cocktail_id as cocktail3_1_1_,\r\n        cocktailin0_.ingredient_id as ingredie4_1_1_,\r\n        cocktailin0_.quantity as quantity2_1_1_,\r\n        ingredient1_.id as id1_2_2_,\r\n        ingredient1_.alc as alc2_2_2_,\r\n        ingredient1_.description_id as descript4_2_2_,\r\n        ingredient1_.name_id as name_id5_2_2_,\r\n        ingredient1_.unit as unit3_2_2_,\r\n        label2_.id as id1_3_3_,\r\n        label2_.label_en as label_en2_3_3_,\r\n        label2_.label_ru as label_ru3_3_3_,\r\n        label3_.id as id1_3_4_,\r\n        label3_.label_en as label_en2_3_4_,\r\n        label3_.label_ru as label_ru3_3_4_ \r\n    from\r\n        cocktail_ingredient cocktailin0_ \r\n    left outer join\r\n        ingredient ingredient1_ \r\n            on cocktailin0_.ingredient_id=ingredient1_.id \r\n    left outer join\r\n        label label2_ \r\n            on ingredient1_.description_id=label2_.id \r\n    left outer join\r\n        label label3_ \r\n            on ingredient1_.name_id=label3_.id \r\n    where\r\n        cocktailin0_.cocktail_id=?\r\n```\r\nSo the entity collection is fetched but somewhy not assigned to the field in Cocktail. The JPA provider used is Hibernate. I&#39;ve tried debugging and what I&#39;ve seen is that the collection is not populated inside Hibernate classes, so Spring Data is not to blame here. All the code examples I&#39;ve seen state that the code like this must work, but it&#39;s not. What&#39;s wrong?\r\n\r\nUPDATE:\r\n\r\nThe result of the query in JSON from the REST Controller built on top of this code:\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;32616534-3832-3763-2d39-3332322d3131&quot;,\r\n        &quot;image&quot;: &quot;https://top10a.ru/wp-content/uploads/2019/06/3-8.jpg&quot;,\r\n        &quot;labelDTOName&quot;: {\r\n            &quot;id&quot;: &quot;a2b851d8-9094-11ec-96e5-fcaa14ac5ccc&quot;,\r\n            &quot;labelEn&quot;: &quot;Mojito&quot;,\r\n            &quot;labelRu&quot;: &quot;Мохито&quot;\r\n        },\r\n        &quot;labelDTODescription&quot;: {\r\n            &quot;id&quot;: &quot;ba2083f5-931e-11ec-96e5-fcaa14ac5ccc&quot;,\r\n            &quot;labelEn&quot;: &quot;&quot;,\r\n            &quot;labelRu&quot;: &quot;&quot;\r\n        },\r\n        &quot;cocktailIngredientsDTO&quot;: []\r\n    }\r\n]\r\n```\r\nAs you can see, the cocktailIngredientsDTO collection is empty, while it must be full.\r\n\r\nUPDATE 2:\r\nWhat if I say that the database table is created this way:\r\n```\r\nCREATE TABLE IF NOT EXISTS `cocktails`.`cocktail` (\r\n  `id` CHAR(36) NOT NULL,\r\n  `image` TINYTEXT NULL,\r\n  `name_id` CHAR(36) NOT NULL,\r\n  `description_id` CHAR(36) NOT NULL,\r\n  PRIMARY KEY (`id`),\r\n  INDEX `fk_cocktail_label1_idx` (`name_id` ASC) VISIBLE,\r\n  UNIQUE INDEX `name_id_UNIQUE` (`name_id` ASC) VISIBLE,\r\n  INDEX `fk_cocktail_label2_idx` (`description_id` ASC) VISIBLE,\r\n  UNIQUE INDEX `description_id_UNIQUE` (`description_id` ASC) VISIBLE,\r\n  CONSTRAINT `fk_cocktail_label1`\r\n    FOREIGN KEY (`name_id`)\r\n    REFERENCES `cocktails`.`label` (`id`)\r\n    ON DELETE NO ACTION\r\n    ON UPDATE NO ACTION,\r\n  CONSTRAINT `fk_cocktail_label2`\r\n    FOREIGN KEY (`description_id`)\r\n    REFERENCES `cocktails`.`label` (`id`)\r\n    ON DELETE NO ACTION\r\n    ON UPDATE NO ACTION)\r\nENGINE = InnoDB;\r\n```\r\n\r\nUPDATE 3:\r\nStill no answer. The very proof that Stackoverflow is often useless for complicated issues.","title":"Hibernate @OneToMany relationship is not fetched properly","body":"<p>I have a one to many relationship between entities.\nThe first entity:</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Getter \n@Setter \npublic class Cocktail {\n    @Id\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @GenericGenerator(\n        name = &quot;uuid&quot;,\n        strategy = &quot;uuid2&quot;,\n        parameters = {\n            @Parameter(\n                name = &quot;uuid_gen_strategy_class&quot;,\n                value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\n            )\n        }\n    )\n    private UUID id;\n    \n    private String image;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;name_id&quot;)\n    private Label labelName;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;description_id&quot;)\n    private Label labelDescription;\n    \n    @OneToMany(mappedBy = &quot;cocktail&quot;, fetch = FetchType.EAGER)\n    private List&lt;CocktailIngredient&gt; cocktailIngredients = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>The second entity:</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Getter @Setter\npublic class CocktailIngredient {\n    @Id\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @GenericGenerator(\n        name = &quot;uuid&quot;,\n        strategy = &quot;uuid2&quot;,\n        parameters = {\n            @Parameter(\n                name = &quot;uuid_gen_strategy_class&quot;,\n                value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\n            )\n        }\n    )\n    private UUID id;\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;cocktail_id&quot;)\n    private Cocktail cocktail;\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;ingredient_id&quot;)\n    private Ingredient ingredient;\n    \n    private BigDecimal quantity;\n}\n</code></pre>\n<p>And the Spring Data repository that is loading them:</p>\n<pre><code>@Repository\npublic interface CocktailRepository extends JpaRepository&lt;Cocktail, UUID&gt;, CocktailRepositoryCustom {\n}\n</code></pre>\n<p>The other related code is irrelevant to the question.\nThe problem is when I call the standard findAll method of CocktailRepository, the list of CocktailRepository in Cocktail is not populated, although Hibernate is querying the related entities from the database (one of the generated queries):</p>\n<pre><code>Hibernate: \n    select\n        cocktailin0_.cocktail_id as cocktail3_1_0_,\n        cocktailin0_.id as id1_1_0_,\n        cocktailin0_.id as id1_1_1_,\n        cocktailin0_.cocktail_id as cocktail3_1_1_,\n        cocktailin0_.ingredient_id as ingredie4_1_1_,\n        cocktailin0_.quantity as quantity2_1_1_,\n        ingredient1_.id as id1_2_2_,\n        ingredient1_.alc as alc2_2_2_,\n        ingredient1_.description_id as descript4_2_2_,\n        ingredient1_.name_id as name_id5_2_2_,\n        ingredient1_.unit as unit3_2_2_,\n        label2_.id as id1_3_3_,\n        label2_.label_en as label_en2_3_3_,\n        label2_.label_ru as label_ru3_3_3_,\n        label3_.id as id1_3_4_,\n        label3_.label_en as label_en2_3_4_,\n        label3_.label_ru as label_ru3_3_4_ \n    from\n        cocktail_ingredient cocktailin0_ \n    left outer join\n        ingredient ingredient1_ \n            on cocktailin0_.ingredient_id=ingredient1_.id \n    left outer join\n        label label2_ \n            on ingredient1_.description_id=label2_.id \n    left outer join\n        label label3_ \n            on ingredient1_.name_id=label3_.id \n    where\n        cocktailin0_.cocktail_id=?\n</code></pre>\n<p>So the entity collection is fetched but somewhy not assigned to the field in Cocktail. The JPA provider used is Hibernate. I've tried debugging and what I've seen is that the collection is not populated inside Hibernate classes, so Spring Data is not to blame here. All the code examples I've seen state that the code like this must work, but it's not. What's wrong?</p>\n<p>UPDATE:</p>\n<p>The result of the query in JSON from the REST Controller built on top of this code:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;32616534-3832-3763-2d39-3332322d3131&quot;,\n        &quot;image&quot;: &quot;https://top10a.ru/wp-content/uploads/2019/06/3-8.jpg&quot;,\n        &quot;labelDTOName&quot;: {\n            &quot;id&quot;: &quot;a2b851d8-9094-11ec-96e5-fcaa14ac5ccc&quot;,\n            &quot;labelEn&quot;: &quot;Mojito&quot;,\n            &quot;labelRu&quot;: &quot;Мохито&quot;\n        },\n        &quot;labelDTODescription&quot;: {\n            &quot;id&quot;: &quot;ba2083f5-931e-11ec-96e5-fcaa14ac5ccc&quot;,\n            &quot;labelEn&quot;: &quot;&quot;,\n            &quot;labelRu&quot;: &quot;&quot;\n        },\n        &quot;cocktailIngredientsDTO&quot;: []\n    }\n]\n</code></pre>\n<p>As you can see, the cocktailIngredientsDTO collection is empty, while it must be full.</p>\n<p>UPDATE 2:\nWhat if I say that the database table is created this way:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS `cocktails`.`cocktail` (\n  `id` CHAR(36) NOT NULL,\n  `image` TINYTEXT NULL,\n  `name_id` CHAR(36) NOT NULL,\n  `description_id` CHAR(36) NOT NULL,\n  PRIMARY KEY (`id`),\n  INDEX `fk_cocktail_label1_idx` (`name_id` ASC) VISIBLE,\n  UNIQUE INDEX `name_id_UNIQUE` (`name_id` ASC) VISIBLE,\n  INDEX `fk_cocktail_label2_idx` (`description_id` ASC) VISIBLE,\n  UNIQUE INDEX `description_id_UNIQUE` (`description_id` ASC) VISIBLE,\n  CONSTRAINT `fk_cocktail_label1`\n    FOREIGN KEY (`name_id`)\n    REFERENCES `cocktails`.`label` (`id`)\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION,\n  CONSTRAINT `fk_cocktail_label2`\n    FOREIGN KEY (`description_id`)\n    REFERENCES `cocktails`.`label` (`id`)\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION)\nENGINE = InnoDB;\n</code></pre>\n<p>UPDATE 3:\nStill no answer. The very proof that Stackoverflow is often useless for complicated issues.</p>\n"},{"tags":["java","mongodb","database-cursor"],"answers":[{"tags":[],"owner":{"account_id":228467,"reputation":1684,"user_id":490787,"display_name":"gb96"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364261850,"creation_date":1364261850,"answer_id":15627841,"question_id":15461138,"body_markdown":"I&#39;m not sure what is happening with your rare behaviour in the first part of your question, however in general it is unsafe to modify any data structure while you are iterating over it except via the Iterator.remove() method.\r\n\r\n\r\n----------\r\n\r\n\r\nThe last part of your question is indirectly answered by the following **Warning** at the top of the [API Documentation for DBCursor][1]:\r\n\r\n&gt; **Warning**: Calling toArray or length on a DBCursor will irrevocably turn it into an array. This means that, if the cursor was iterating over ten million results (which it was lazily fetching from the database), suddenly there will be a ten-million element array in memory. Before converting to an array, make sure that there are a reasonable number of results using skip() and limit().\r\n\r\nIf you read the [source code for DBCursor (line 483)][2] where it is throwing the **IllegalArgumentException** you can see that any call to DBCursor.length() turns the cursor into an array, after which time all calls to DBCursor.next() or DBCursor.hasNext() become Illegal.\r\n\r\nI think this behaviour definately violates the [Principle of Least Surprise][3].  Arrays can still have Iterators, so it would be better if the internal data structure was hidden and the Iterator methods continue to work.  Also, calling DBCursor.length() does not have to fetch any the records from the DB, I think it should behave similar to DBCursor.count() but somehow take into account limit() and skip() and then cache the result.\r\n\r\n\r\n  [1]: http://api.mongodb.org/java/current/com/mongodb/DBCursor.html\r\n  [2]: https://github.com/mongodb/mongo-java-driver/blob/master/src/main/com/mongodb/DBCursor.java#L483\r\n  [3]: http://en.wikipedia.org/wiki/Principle_of_least_astonishment","title":"Rare behavior with mongodb cursor (DBCursor) in java, even though last element is already reached","body":"<p>I'm not sure what is happening with your rare behaviour in the first part of your question, however in general it is unsafe to modify any data structure while you are iterating over it except via the Iterator.remove() method.</p>\n\n<hr>\n\n<p>The last part of your question is indirectly answered by the following <strong>Warning</strong> at the top of the <a href=\"http://api.mongodb.org/java/current/com/mongodb/DBCursor.html\" rel=\"nofollow\">API Documentation for DBCursor</a>:</p>\n\n<blockquote>\n  <p><strong>Warning</strong>: Calling toArray or length on a DBCursor will irrevocably turn it into an array. This means that, if the cursor was iterating over ten million results (which it was lazily fetching from the database), suddenly there will be a ten-million element array in memory. Before converting to an array, make sure that there are a reasonable number of results using skip() and limit().</p>\n</blockquote>\n\n<p>If you read the <a href=\"https://github.com/mongodb/mongo-java-driver/blob/master/src/main/com/mongodb/DBCursor.java#L483\" rel=\"nofollow\">source code for DBCursor (line 483)</a> where it is throwing the <strong>IllegalArgumentException</strong> you can see that any call to DBCursor.length() turns the cursor into an array, after which time all calls to DBCursor.next() or DBCursor.hasNext() become Illegal.</p>\n\n<p>I think this behaviour definately violates the <a href=\"http://en.wikipedia.org/wiki/Principle_of_least_astonishment\" rel=\"nofollow\">Principle of Least Surprise</a>.  Arrays can still have Iterators, so it would be better if the internal data structure was hidden and the Iterator methods continue to work.  Also, calling DBCursor.length() does not have to fetch any the records from the DB, I think it should behave similar to DBCursor.count() but somehow take into account limit() and skip() and then cache the result.</p>\n"},{"tags":[],"owner":{"account_id":3219982,"reputation":1283,"user_id":2717674,"accept_rate":18,"display_name":"Juhan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410756441,"creation_date":1410756441,"answer_id":25840978,"question_id":15461138,"body_markdown":"Just throw the Exception IllegalArgumentException, then you get that use of DBCursor.length()  will already converted curser into an array.So after that using hasnext(), next is illegegal. If you want to use hasnext() or next() better to remove length() before iteration.","title":"Rare behavior with mongodb cursor (DBCursor) in java, even though last element is already reached","body":"<p>Just throw the Exception IllegalArgumentException, then you get that use of DBCursor.length()  will already converted curser into an array.So after that using hasnext(), next is illegegal. If you want to use hasnext() or next() better to remove length() before iteration.</p>\n"}],"owner":{"account_id":442633,"reputation":1586,"user_id":833336,"accept_rate":43,"display_name":"emecas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4601,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1647444442,"creation_date":1363526208,"question_id":15461138,"body_markdown":"I have a collection called MyCollection that contains 200 elements in the bd MyDB in mongodb\r\n\r\n    &gt; use MyDB\r\n    switched to db MyDB \r\n    &gt; db.MyCollection.count()\r\n    200\r\n\r\nI&#39;m getting a really rare behavior, even in the different ways I have used to load the cursor and iterate on it, this is my code:\r\n\r\n    DBCollection collection = getCollection(&quot;MyBD&quot;, &quot;MyCollection&quot;);\r\n    DBCursor cursor = collection.find();\r\n    //DBCursor cursor = collection.find().limit(200); \r\n    System.out.println(&quot;Cursor length: &quot;+cursor.length());\r\n    Iterator&lt;DBObject&gt; itrc = cursor.iterator();\r\n    //while(cursor.hasNext()){\r\n    while (itrc.hasNext()) {\r\n        //DBObject obj = (DBObject)cursor.next();\r\n        DBObject obj = (DBObject)itrc.next();\r\n        //BSONObject obj2 = (BSONObject)obj.get(&quot;scores&quot;);\r\n        Integer intg = (Integer) obj.get(&quot;_id&quot;);\r\n        System.out.println(&quot;_id:&quot;+intg.toString());\r\n\r\n        // operations remove and insert  on the collection\r\n        // that affect the cursor behavior\r\n        BasicDBList bl = (BasicDBList) obj.get(&quot;fieldArray&quot;);\r\n        BasicDBObject bdo = new BasicDBObject();\r\n        bdo.put(&quot;fieldArray&quot;, bl);\r\n        Integer intid = (Integer) obj.get(&quot;_id&quot;);\r\n        bdo.put(&quot;_id&quot;, intid);\r\n        String str = (String) obj.get(&quot;fieldString&quot;);\r\n        bdo.put(&quot;fieldString&quot;, str);\r\n        collection.remove(obj);\r\n        obj=null;\r\n        collection.insert(bdo);\r\n\r\n        if(intg.intValue()==199){\r\n            System.out.println(&quot;Reached: &quot;+intg.intValue());\r\n        }\t\r\n    }\r\n\r\nThis is the output:\r\n\r\n    Cursor length: 200\r\n    _id:0 _id:1 _id:2 _id:3 _id:4 _id:5 _id:6 _id:7 _id:8 _id:9 _id:10 _id:11 _id:12 _id:13 _id:14 _id:15 _id:16 _id:17 _id:18 _id:19 _id:20 _id:21 _id:22 _id:23 _id:24 _id:25 _id:26 _id:27 _id:28 _id:29 _id:30 _id:31 _id:32 _id:33 _id:34 _id:35 _id:36 _id:37 _id:38 _id:39 _id:40 _id:41 _id:42 _id:43 _id:44 _id:45 _id:46 _id:47 _id:48 _id:49 _id:50 _id:51 _id:52 _id:53 _id:54 _id:55 _id:56 _id:57 _id:58 _id:59 _id:60 _id:61 _id:62 _id:63 _id:64 _id:65 _id:66 _id:67 _id:68 _id:69 _id:113 _id:101 _id:102 _id:103 _id:104 _id:105 _id:106 _id:107 _id:108 _id:109 _id:110 _id:111 _id:112 _id:114 _id:115 _id:116 _id:117 _id:118 _id:119 _id:120 _id:121 _id:122 _id:123 _id:124 _id:125 _id:126 _id:127 _id:128 _id:129 _id:130 _id:131 _id:132 _id:133 _id:134 _id:135 _id:136 _id:137 _id:138 _id:139 _id:140 _id:141 _id:142 _id:143 _id:144 _id:145 _id:146 _id:147 _id:148 _id:149 _id:150 _id:151 _id:152 _id:153 _id:154 _id:155 _id:156 _id:157 _id:158 _id:159 _id:160 _id:161 _id:162 _id:163 _id:164 _id:165 _id:166 _id:167 _id:168 _id:169 _id:170 _id:171 _id:172 _id:173 _id:174 _id:175 _id:176 _id:177 _id:178 _id:179 _id:180 _id:181 _id:182 _id:183 _id:184 _id:185 _id:186 _id:187 _id:188 _id:189 _id:190 _id:191 _id:192 _id:193 _id:194 _id:195 _id:196 _id:197 _id:198 _id:199\r\n    ***************************\r\n    Reached: 199\r\n    ***************************\r\n     _id:70 _id:71 _id:72 _id:73 _id:74 _id:75 _id:76 _id:77 _id:78 _id:79 _id:80 _id:81 _id:82 _id:83 _id:84 _id:85 _id:86 _id:87 _id:88 _id:89 _id:90 _id:91 _id:92 _id:93 _id:94 _id:95 _id:96 _id:97 _id:98 _id:99 _id:100_id:96 _id:97 _id:98 _id:99 _id:100\r\n\r\nAs it can see , once the limit of 200 elements is reached (element _id:199), it jumps to  the element with _id:70, then it repeats 31 additional iterations until the element _id:100 is reached, instead than finished in the right time that would be at the 200 iteration.\r\n\r\nThe alternatives: the one is commented in the code (using the cursor&#39;s method: hasNext()) and the other one that is running (using an Iterator) both have the same output.\r\n\r\nIf I remove the operations part  on the collection (remove/insert in my case), then the rare behavior does not happen. \r\n\r\nThis is the expected output:\r\n\r\n    Cursor length: 200\r\n    _id:0 _id:1 _id:2 _id:3 _id:4 _id:5 _id:6 _id:7 _id:8 _id:9 _id:10 _id:11 _id:12 _id:13 _id:14 _id:15 _id:16 _id:17 _id:18 _id:19 _id:20 _id:21 _id:22 _id:23 _id:24 _id:25 _id:26 _id:27 _id:28 _id:29 _id:30 _id:31 _id:32 _id:33 _id:34 _id:35 _id:36 _id:37 _id:38 _id:39 _id:40 _id:41 _id:42 _id:43 _id:44 _id:45 _id:46 _id:47 _id:48 _id:49 _id:50 _id:51 _id:52 _id:53 _id:54 _id:55 _id:56 _id:57 _id:58 _id:59 _id:60 _id:61 _id:62 _id:63 _id:64 _id:65 _id:66 _id:67 _id:68 _id:69 _id:113 _id:101 _id:102 _id:103 _id:104 _id:105 _id:106 _id:107 _id:108 _id:109 _id:110 _id:111 _id:112 _id:114 _id:115 _id:116 _id:117 _id:118 _id:119 _id:120 _id:121 _id:122 _id:123 _id:124 _id:125 _id:126 _id:127 _id:128 _id:129 _id:130 _id:131 _id:132 _id:133 _id:134 _id:135 _id:136 _id:137 _id:138 _id:139 _id:140 _id:141 _id:142 _id:143 _id:144 _id:145 _id:146 _id:147 _id:148 _id:149 _id:150 _id:151 _id:152 _id:153 _id:154 _id:155 _id:156 _id:157 _id:158 _id:159 _id:160 _id:161 _id:162 _id:163 _id:164 _id:165 _id:166 _id:167 _id:168 _id:169 _id:170 _id:171 _id:172 _id:173 _id:174 _id:175 _id:176 _id:177 _id:178 _id:179 _id:180 _id:181 _id:182 _id:183 _id:184 _id:185 _id:186 _id:187 _id:188 _id:189 _id:190 _id:191 _id:192 _id:193 _id:194 _id:195 _id:196 _id:197 _id:198 _id:199\r\n    ***************************\r\n    Reached: 199\r\n    ***************************\r\n\r\nI had found a [similar SO question](https://stackoverflow.com/q/12145579/833336), but it is not clear to me:\r\n\r\n - how can the operations remove/insert affect the cursor behavior in the way I have exposed before?\r\n - how  can I use the snapshot option?\r\n - thinking ahead, what about if I need to work with the ordered collection?\r\n\r\n\r\n\r\n\r\nBTW, if I use the option without iterator, like this:\r\n\r\n    while(cursor.hasNext()){\r\n        DBObject obj = (DBObject)cursor.next();\r\n\r\n - Why do I have to delete the next line?\r\n\r\n    System.out.println(&quot;Cursor length: &quot;+cursor.length());\r\n\r\nIn order to avoid the next exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: can&#39;t switch cursor access methods\r\n        at com.mongodb.DBCursor._checkType(DBCursor.java:412)\r\n        at com.mongodb.DBCursor.hasNext(DBCursor.java:483)\r\n        at tasks.UpdateRemoveHW.main(Test.java:56)","title":"Rare behavior with mongodb cursor (DBCursor) in java, even though last element is already reached","body":"<p>I have a collection called MyCollection that contains 200 elements in the bd MyDB in mongodb</p>\n\n<pre><code>&gt; use MyDB\nswitched to db MyDB \n&gt; db.MyCollection.count()\n200\n</code></pre>\n\n<p>I'm getting a really rare behavior, even in the different ways I have used to load the cursor and iterate on it, this is my code:</p>\n\n<pre><code>DBCollection collection = getCollection(\"MyBD\", \"MyCollection\");\nDBCursor cursor = collection.find();\n//DBCursor cursor = collection.find().limit(200); \nSystem.out.println(\"Cursor length: \"+cursor.length());\nIterator&lt;DBObject&gt; itrc = cursor.iterator();\n//while(cursor.hasNext()){\nwhile (itrc.hasNext()) {\n    //DBObject obj = (DBObject)cursor.next();\n    DBObject obj = (DBObject)itrc.next();\n    //BSONObject obj2 = (BSONObject)obj.get(\"scores\");\n    Integer intg = (Integer) obj.get(\"_id\");\n    System.out.println(\"_id:\"+intg.toString());\n\n    // operations remove and insert  on the collection\n    // that affect the cursor behavior\n    BasicDBList bl = (BasicDBList) obj.get(\"fieldArray\");\n    BasicDBObject bdo = new BasicDBObject();\n    bdo.put(\"fieldArray\", bl);\n    Integer intid = (Integer) obj.get(\"_id\");\n    bdo.put(\"_id\", intid);\n    String str = (String) obj.get(\"fieldString\");\n    bdo.put(\"fieldString\", str);\n    collection.remove(obj);\n    obj=null;\n    collection.insert(bdo);\n\n    if(intg.intValue()==199){\n        System.out.println(\"Reached: \"+intg.intValue());\n    }   \n}\n</code></pre>\n\n<p>This is the output:</p>\n\n<pre><code>Cursor length: 200\n_id:0 _id:1 _id:2 _id:3 _id:4 _id:5 _id:6 _id:7 _id:8 _id:9 _id:10 _id:11 _id:12 _id:13 _id:14 _id:15 _id:16 _id:17 _id:18 _id:19 _id:20 _id:21 _id:22 _id:23 _id:24 _id:25 _id:26 _id:27 _id:28 _id:29 _id:30 _id:31 _id:32 _id:33 _id:34 _id:35 _id:36 _id:37 _id:38 _id:39 _id:40 _id:41 _id:42 _id:43 _id:44 _id:45 _id:46 _id:47 _id:48 _id:49 _id:50 _id:51 _id:52 _id:53 _id:54 _id:55 _id:56 _id:57 _id:58 _id:59 _id:60 _id:61 _id:62 _id:63 _id:64 _id:65 _id:66 _id:67 _id:68 _id:69 _id:113 _id:101 _id:102 _id:103 _id:104 _id:105 _id:106 _id:107 _id:108 _id:109 _id:110 _id:111 _id:112 _id:114 _id:115 _id:116 _id:117 _id:118 _id:119 _id:120 _id:121 _id:122 _id:123 _id:124 _id:125 _id:126 _id:127 _id:128 _id:129 _id:130 _id:131 _id:132 _id:133 _id:134 _id:135 _id:136 _id:137 _id:138 _id:139 _id:140 _id:141 _id:142 _id:143 _id:144 _id:145 _id:146 _id:147 _id:148 _id:149 _id:150 _id:151 _id:152 _id:153 _id:154 _id:155 _id:156 _id:157 _id:158 _id:159 _id:160 _id:161 _id:162 _id:163 _id:164 _id:165 _id:166 _id:167 _id:168 _id:169 _id:170 _id:171 _id:172 _id:173 _id:174 _id:175 _id:176 _id:177 _id:178 _id:179 _id:180 _id:181 _id:182 _id:183 _id:184 _id:185 _id:186 _id:187 _id:188 _id:189 _id:190 _id:191 _id:192 _id:193 _id:194 _id:195 _id:196 _id:197 _id:198 _id:199\n***************************\nReached: 199\n***************************\n _id:70 _id:71 _id:72 _id:73 _id:74 _id:75 _id:76 _id:77 _id:78 _id:79 _id:80 _id:81 _id:82 _id:83 _id:84 _id:85 _id:86 _id:87 _id:88 _id:89 _id:90 _id:91 _id:92 _id:93 _id:94 _id:95 _id:96 _id:97 _id:98 _id:99 _id:100_id:96 _id:97 _id:98 _id:99 _id:100\n</code></pre>\n\n<p>As it can see , once the limit of 200 elements is reached (element _id:199), it jumps to  the element with _id:70, then it repeats 31 additional iterations until the element _id:100 is reached, instead than finished in the right time that would be at the 200 iteration.</p>\n\n<p>The alternatives: the one is commented in the code (using the cursor's method: hasNext()) and the other one that is running (using an Iterator) both have the same output.</p>\n\n<p>If I remove the operations part  on the collection (remove/insert in my case), then the rare behavior does not happen. </p>\n\n<p>This is the expected output:</p>\n\n<pre><code>Cursor length: 200\n_id:0 _id:1 _id:2 _id:3 _id:4 _id:5 _id:6 _id:7 _id:8 _id:9 _id:10 _id:11 _id:12 _id:13 _id:14 _id:15 _id:16 _id:17 _id:18 _id:19 _id:20 _id:21 _id:22 _id:23 _id:24 _id:25 _id:26 _id:27 _id:28 _id:29 _id:30 _id:31 _id:32 _id:33 _id:34 _id:35 _id:36 _id:37 _id:38 _id:39 _id:40 _id:41 _id:42 _id:43 _id:44 _id:45 _id:46 _id:47 _id:48 _id:49 _id:50 _id:51 _id:52 _id:53 _id:54 _id:55 _id:56 _id:57 _id:58 _id:59 _id:60 _id:61 _id:62 _id:63 _id:64 _id:65 _id:66 _id:67 _id:68 _id:69 _id:113 _id:101 _id:102 _id:103 _id:104 _id:105 _id:106 _id:107 _id:108 _id:109 _id:110 _id:111 _id:112 _id:114 _id:115 _id:116 _id:117 _id:118 _id:119 _id:120 _id:121 _id:122 _id:123 _id:124 _id:125 _id:126 _id:127 _id:128 _id:129 _id:130 _id:131 _id:132 _id:133 _id:134 _id:135 _id:136 _id:137 _id:138 _id:139 _id:140 _id:141 _id:142 _id:143 _id:144 _id:145 _id:146 _id:147 _id:148 _id:149 _id:150 _id:151 _id:152 _id:153 _id:154 _id:155 _id:156 _id:157 _id:158 _id:159 _id:160 _id:161 _id:162 _id:163 _id:164 _id:165 _id:166 _id:167 _id:168 _id:169 _id:170 _id:171 _id:172 _id:173 _id:174 _id:175 _id:176 _id:177 _id:178 _id:179 _id:180 _id:181 _id:182 _id:183 _id:184 _id:185 _id:186 _id:187 _id:188 _id:189 _id:190 _id:191 _id:192 _id:193 _id:194 _id:195 _id:196 _id:197 _id:198 _id:199\n***************************\nReached: 199\n***************************\n</code></pre>\n\n<p>I had found a <a href=\"https://stackoverflow.com/q/12145579/833336\">similar SO question</a>, but it is not clear to me:</p>\n\n<ul>\n<li>how can the operations remove/insert affect the cursor behavior in the way I have exposed before?</li>\n<li>how  can I use the snapshot option?</li>\n<li>thinking ahead, what about if I need to work with the ordered collection?</li>\n</ul>\n\n<p>BTW, if I use the option without iterator, like this:</p>\n\n<pre><code>while(cursor.hasNext()){\n    DBObject obj = (DBObject)cursor.next();\n</code></pre>\n\n<ul>\n<li><p>Why do I have to delete the next line?</p>\n\n<p>System.out.println(\"Cursor length: \"+cursor.length());</p></li>\n</ul>\n\n<p>In order to avoid the next exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: can't switch cursor access methods\n    at com.mongodb.DBCursor._checkType(DBCursor.java:412)\n    at com.mongodb.DBCursor.hasNext(DBCursor.java:483)\n    at tasks.UpdateRemoveHW.main(Test.java:56)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"score":0,"creation_date":1546595743,"post_id":54036507,"comment_id":94908365,"body_markdown":"see [this](https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation)","body":"see <a href=\"https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation\">this</a>"},{"owner":{"account_id":3388857,"reputation":1889,"user_id":2844215,"display_name":"IMParasharG"},"score":2,"creation_date":1546600800,"post_id":54036507,"comment_id":94911015,"body_markdown":"Check link https://www.baeldung.com/spring-scheduled-tasks and readout point number 5.","body":"Check link <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">baeldung.com/spring-scheduled-tasks</a> and readout point number 5."}],"answers":[{"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546595881,"creation_date":1546595881,"answer_id":54036625,"question_id":54036507,"body_markdown":"Instead of `fixedRate`, use `fixedDelay`:\r\n\r\n\r\n    @Scheduled(fixedDelay = 2000)\r\nThe task will run `fixedDelay` milliseconds one after another\r\n&gt; Execute the annotated method with a fixed period in milliseconds between the end of the last invocation and the start of the next.","title":"How wait @Scheduled till previous task is not finished?","body":"<p>Instead of <code>fixedRate</code>, use <code>fixedDelay</code>:</p>\n\n<pre><code>@Scheduled(fixedDelay = 2000)\n</code></pre>\n\n<p>The task will run <code>fixedDelay</code> milliseconds one after another</p>\n\n<blockquote>\n  <p>Execute the annotated method with a fixed period in milliseconds between the end of the last invocation and the start of the next.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1647444433,"creation_date":1546596101,"answer_id":54036690,"question_id":54036507,"body_markdown":"Use `fixedDelay` \r\n\r\n**fixedRate :** makes Spring run the task at every n millisecond.\r\n\r\n**fixedDelay :** specifically controls the next task execution time by delaying next task by n millisecond after the last execution finishes.\r\n\r\nIn code:\r\n\r\n    @Scheduled(fixedDelay=5000)\r\n    public void updateEmployeeInventory(){\r\n        \r\n    }    \r\n    \r\n    @Scheduled(fixedRate=5000)\r\n    public void updateEmployeeInventory(){\r\n       \r\n    }","title":"How wait @Scheduled till previous task is not finished?","body":"<p>Use <code>fixedDelay</code></p>\n<p><strong>fixedRate :</strong> makes Spring run the task at every n millisecond.</p>\n<p><strong>fixedDelay :</strong> specifically controls the next task execution time by delaying next task by n millisecond after the last execution finishes.</p>\n<p>In code:</p>\n<pre><code>@Scheduled(fixedDelay=5000)\npublic void updateEmployeeInventory(){\n    \n}    \n\n@Scheduled(fixedRate=5000)\npublic void updateEmployeeInventory(){\n   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21584320,"reputation":11,"user_id":15915047,"display_name":"Mohamed Abdullah J"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620898297,"creation_date":1620898297,"answer_id":67516946,"question_id":54036507,"body_markdown":"    @Scheduled(fixedDelay = 1000, initialDelay = 1000)\r\n\r\nYou should use the **initialDelay** prop with @scheduled annotation inorder to wait for sometime.","title":"How wait @Scheduled till previous task is not finished?","body":"<pre><code>@Scheduled(fixedDelay = 1000, initialDelay = 1000)\n</code></pre>\n<p>You should use the <strong>initialDelay</strong> prop with @scheduled annotation inorder to wait for sometime.</p>\n"}],"owner":{"account_id":14823229,"reputation":51,"user_id":10704870,"display_name":"Reema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17515,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1647444433,"creation_date":1546595440,"question_id":54036507,"body_markdown":"I want to wail my scheduler till my task is complete.if there is time for second schedule execution, it has to wait till previous task is not complete.\r\nI m using @Schedule in java Boot application.\r\nI want to insert data into data base in every 5 minutes but i want to hold my schedule till the inset data is not complete still there is a time for second execution.Demo Code \r\n\r\n    @Scheduled(fixedRate = 2000)\r\n        public void scheduleTaskWithFixedRate() {\r\n        \tlogger.info(&quot;Fixed Rate Task :: Execution Time - {}&quot;, dateTimeFormatter.format(LocalDateTime.now()) );\r\n        }","title":"How wait @Scheduled till previous task is not finished?","body":"<p>I want to wail my scheduler till my task is complete.if there is time for second schedule execution, it has to wait till previous task is not complete.\nI m using @Schedule in java Boot application.\nI want to insert data into data base in every 5 minutes but i want to hold my schedule till the inset data is not complete still there is a time for second execution.Demo Code </p>\n\n<pre><code>@Scheduled(fixedRate = 2000)\n    public void scheduleTaskWithFixedRate() {\n        logger.info(\"Fixed Rate Task :: Execution Time - {}\", dateTimeFormatter.format(LocalDateTime.now()) );\n    }\n</code></pre>\n"},{"tags":["java","loops","filewriter"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":2,"creation_date":1647446532,"post_id":71499806,"comment_id":126374655,"body_markdown":"Use `this.fileWriter.flush()` after every `this.fileWriter.write()`. If you want to add (append) lines of data to the file instead of overwriting the file contents then open the file as: `this.fileWriter = new FileWriter(this.csvFile, true);`.","body":"Use <code>this.fileWriter.flush()</code> after every <code>this.fileWriter.write()</code>. If you want to add (append) lines of data to the file instead of overwriting the file contents then open the file as: <code>this.fileWriter = new FileWriter(this.csvFile, true);</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1647446546,"post_id":71499806,"comment_id":126374663,"body_markdown":"I wouldn&#39;t keep the file open. Open in append mode and close asap in case of errors and hence data loss.","body":"I wouldn&#39;t keep the file open. Open in append mode and close asap in case of errors and hence data loss."}],"owner":{"account_id":1766239,"reputation":771,"user_id":1612060,"accept_rate":78,"display_name":"ThatQuantDude"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647444357,"creation_date":1647444357,"question_id":71499806,"body_markdown":"I am working on a debuging csv output inside an event driven java application. I define my filewriter like this on init. \r\n\r\n        public File csvFile;\r\n        public FileWriter fileWriter;\r\n\r\nthen I initialies them\r\n\r\n     this.csvFile = new File(&quot;c:\\\\missingitems.csv&quot;);\r\n        this.fileWriter = null;\r\n        try {\r\n            this.fileWriter = new FileWriter(this.csvFile);\r\n            StringBuilder line = new StringBuilder();\r\n            line.append(&quot;Date, ItemId&quot;);\r\n            line.append(&quot;\\n&quot;);\r\n            this.fileWriter.write(line.toString());\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } \r\n\r\nthen within my actual program logic this gets called for every timestep in my data\r\n\r\n    for(Long item : this.items) {\r\n                StringBuilder line = new StringBuilder();\r\n                line.append(event.getDateTime().toLocalDate().toString() + &quot;,&quot; +item.intValue());\r\n                line.append(&quot;\\n&quot;);\r\n                try {\r\n                    this.fileWriter.write(line.toString());\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\non exit of my program I call \r\n\r\n            try {\r\n            this.fileWriter.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\nHowever this seems to be only working if i close the filewriter after each append. Is there a way of keeping the file open and just append to it, I would also like to not loose my data in case my application crashes. I am a python guy and not super familiar with java.","title":"Append to csv in for loop using filewriter","body":"<p>I am working on a debuging csv output inside an event driven java application. I define my filewriter like this on init.</p>\n<pre><code>    public File csvFile;\n    public FileWriter fileWriter;\n</code></pre>\n<p>then I initialies them</p>\n<pre><code> this.csvFile = new File(&quot;c:\\\\missingitems.csv&quot;);\n    this.fileWriter = null;\n    try {\n        this.fileWriter = new FileWriter(this.csvFile);\n        StringBuilder line = new StringBuilder();\n        line.append(&quot;Date, ItemId&quot;);\n        line.append(&quot;\\n&quot;);\n        this.fileWriter.write(line.toString());\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } \n</code></pre>\n<p>then within my actual program logic this gets called for every timestep in my data</p>\n<pre><code>for(Long item : this.items) {\n            StringBuilder line = new StringBuilder();\n            line.append(event.getDateTime().toLocalDate().toString() + &quot;,&quot; +item.intValue());\n            line.append(&quot;\\n&quot;);\n            try {\n                this.fileWriter.write(line.toString());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n<p>on exit of my program I call</p>\n<pre><code>        try {\n        this.fileWriter.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>However this seems to be only working if i close the filewriter after each append. Is there a way of keeping the file open and just append to it, I would also like to not loose my data in case my application crashes. I am a python guy and not super familiar with java.</p>\n"},{"tags":["java","quarkus","resteasy","mutiny"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647343495,"post_id":71469490,"comment_id":126342225,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":15988518,"reputation":33,"user_id":11839635,"display_name":"Gleb Shakhov"},"score":0,"creation_date":1647406493,"post_id":71469490,"comment_id":126360346,"body_markdown":"Added method I wrote about","body":"Added method I wrote about"},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1647418399,"post_id":71469490,"comment_id":126363044,"body_markdown":"Use `.invoke(id -&gt; ...`) or `.onItem().transform(id -&gt; new MyResponse(id));` The method will then return a Uni&lt;MyResponse&gt;.","body":"Use <code>.invoke(id -&gt; ...</code>) or <code>.onItem().transform(id -&gt; new MyResponse(id));</code> The method will then return a Uni&lt;MyResponse&gt;."}],"answers":[{"tags":[],"owner":{"account_id":24257084,"reputation":140,"user_id":18207271,"display_name":"oaklandcorp-jkaiser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647444253,"creation_date":1647444253,"answer_id":71499771,"question_id":71469490,"body_markdown":"If you need both successful and non-successful responses to map to the same class, you could write separate transforms. One for success and one for failure.\r\n```\r\npublic static Uni&lt;RetailPlaceResponse&gt; create(PgPool client, RetailPlace retailPlace) {\r\n    return client.withTransaction(conn -&gt; conn\r\n            .preparedQuery(&quot;INSERT INTO retail_place (title) VALUES ($1) RETURNING id&quot;)\r\n            .execute(Tuple.of(retailPlace.getRetailPlaceTitle()))\r\n            .onItem().transformToUni(id -&gt; conn.\r\n                    preparedQuery(&quot;INSERT INTO retail_place_address (retail_place_id,region_code,city,locality_id,apartment,house,region,street) &quot; +\r\n                            &quot;VALUES ($1,$2,$3,$4,$5,$6,$7,$8) returning retail_place_id&quot;)\r\n                    .execute(Tuple.tuple(Arrays.asList(id.iterator().next().getLong(&quot;id&quot;), retailPlace.getRetailPlaceAddress().getRegionCode(),\r\n                            retailPlace.getRetailPlaceAddress().getCity(), retailPlace.getRetailPlaceAddress().getLocalityId(),\r\n                            retailPlace.getRetailPlaceAddress().getApartment(), retailPlace.getRetailPlaceAddress().getHouse(),\r\n                            retailPlace.getRetailPlaceAddress().getRegion(), retailPlace.getRetailPlaceAddress().getStreet())))))\r\n            .onItem().transform(pgRowSet -&gt; new RetailPlaceResponse(null, pgRowSet.iterator().next().getLong(&quot;retail_place_id&quot;), true))\r\n            .onFailure().transform(error -&gt; new RetailPlaceResponse(error.toString(), 0, false));\r\n}\r\n```","title":"How to use a variable from Uni, Mutiny","body":"<p>If you need both successful and non-successful responses to map to the same class, you could write separate transforms. One for success and one for failure.</p>\n<pre><code>public static Uni&lt;RetailPlaceResponse&gt; create(PgPool client, RetailPlace retailPlace) {\n    return client.withTransaction(conn -&gt; conn\n            .preparedQuery(&quot;INSERT INTO retail_place (title) VALUES ($1) RETURNING id&quot;)\n            .execute(Tuple.of(retailPlace.getRetailPlaceTitle()))\n            .onItem().transformToUni(id -&gt; conn.\n                    preparedQuery(&quot;INSERT INTO retail_place_address (retail_place_id,region_code,city,locality_id,apartment,house,region,street) &quot; +\n                            &quot;VALUES ($1,$2,$3,$4,$5,$6,$7,$8) returning retail_place_id&quot;)\n                    .execute(Tuple.tuple(Arrays.asList(id.iterator().next().getLong(&quot;id&quot;), retailPlace.getRetailPlaceAddress().getRegionCode(),\n                            retailPlace.getRetailPlaceAddress().getCity(), retailPlace.getRetailPlaceAddress().getLocalityId(),\n                            retailPlace.getRetailPlaceAddress().getApartment(), retailPlace.getRetailPlaceAddress().getHouse(),\n                            retailPlace.getRetailPlaceAddress().getRegion(), retailPlace.getRetailPlaceAddress().getStreet())))))\n            .onItem().transform(pgRowSet -&gt; new RetailPlaceResponse(null, pgRowSet.iterator().next().getLong(&quot;retail_place_id&quot;), true))\n            .onFailure().transform(error -&gt; new RetailPlaceResponse(error.toString(), 0, false));\n}\n</code></pre>\n"}],"owner":{"account_id":15988518,"reputation":33,"user_id":11839635,"display_name":"Gleb Shakhov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1528,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71499771,"answer_count":1,"score":1,"last_activity_date":1647444253,"creation_date":1647268616,"question_id":71469490,"body_markdown":"I created a reactive resteasy service with Quarkus and Mutiny. In POST method I insert object in my PostgreSQL table and get an Uni&lt; id &gt; in return. I need to set this id as part of my Response class which contains f.ex. &quot;id&quot;, &quot;errorCode&quot;, &quot;errorString&quot; and other variables, but I struggle as id comes as Uni object and I don&#39;t know how to extract id from it.\r\n\r\nCreate method:\r\n\r\n    \r\n\r\n  \r\n\r\n      public static Uni&lt;Long&gt; create(PgPool client, RetailPlace retailPlace) {\r\n            return client.withTransaction(conn -&gt; conn\r\n                    .preparedQuery(&quot;INSERT INTO retail_place (title) VALUES ($1) RETURNING id&quot;)\r\n                    .execute(Tuple.of(retailPlace.getRetailPlaceTitle()))\r\n                    .onItem().transformToUni(id -&gt; conn.\r\n                            preparedQuery(&quot;INSERT INTO retail_place_address (retail_place_id,region_code,city,locality_id,apartment,house,region,street) &quot; +\r\n                                    &quot;VALUES ($1,$2,$3,$4,$5,$6,$7,$8) returning retail_place_id&quot;)\r\n                            .execute(Tuple.tuple(Arrays.asList(id.iterator().next().getLong(&quot;id&quot;), retailPlace.getRetailPlaceAddress().getRegionCode(),\r\n                                    retailPlace.getRetailPlaceAddress().getCity(), retailPlace.getRetailPlaceAddress().getLocalityId(),\r\n                                    retailPlace.getRetailPlaceAddress().getApartment(), retailPlace.getRetailPlaceAddress().getHouse(),\r\n                                    retailPlace.getRetailPlaceAddress().getRegion(), retailPlace.getRetailPlaceAddress().getStreet())))))\r\n                    .onItem().transform(pgRowSet -&gt; pgRowSet.iterator().next().getLong(&quot;retail_place_id&quot;));\r\n        }\r\n\r\nI get long value of id in return. Now I need to return a RetailPlaceResponse with id value in it:\r\n\r\n    public RetailPlaceResponse(String errorCode, long id, boolean isSuccessful) {\r\n        this.errorCode = errorCode;\r\n        this.id = id;\r\n        this.isSuccessful = isSuccessful;\r\n    }\r\n","title":"How to use a variable from Uni, Mutiny","body":"<p>I created a reactive resteasy service with Quarkus and Mutiny. In POST method I insert object in my PostgreSQL table and get an Uni&lt; id &gt; in return. I need to set this id as part of my Response class which contains f.ex. &quot;id&quot;, &quot;errorCode&quot;, &quot;errorString&quot; and other variables, but I struggle as id comes as Uni object and I don't know how to extract id from it.</p>\n<p>Create method:</p>\n<pre><code>  public static Uni&lt;Long&gt; create(PgPool client, RetailPlace retailPlace) {\n        return client.withTransaction(conn -&gt; conn\n                .preparedQuery(&quot;INSERT INTO retail_place (title) VALUES ($1) RETURNING id&quot;)\n                .execute(Tuple.of(retailPlace.getRetailPlaceTitle()))\n                .onItem().transformToUni(id -&gt; conn.\n                        preparedQuery(&quot;INSERT INTO retail_place_address (retail_place_id,region_code,city,locality_id,apartment,house,region,street) &quot; +\n                                &quot;VALUES ($1,$2,$3,$4,$5,$6,$7,$8) returning retail_place_id&quot;)\n                        .execute(Tuple.tuple(Arrays.asList(id.iterator().next().getLong(&quot;id&quot;), retailPlace.getRetailPlaceAddress().getRegionCode(),\n                                retailPlace.getRetailPlaceAddress().getCity(), retailPlace.getRetailPlaceAddress().getLocalityId(),\n                                retailPlace.getRetailPlaceAddress().getApartment(), retailPlace.getRetailPlaceAddress().getHouse(),\n                                retailPlace.getRetailPlaceAddress().getRegion(), retailPlace.getRetailPlaceAddress().getStreet())))))\n                .onItem().transform(pgRowSet -&gt; pgRowSet.iterator().next().getLong(&quot;retail_place_id&quot;));\n    }\n</code></pre>\n<p>I get long value of id in return. Now I need to return a RetailPlaceResponse with id value in it:</p>\n<pre><code>public RetailPlaceResponse(String errorCode, long id, boolean isSuccessful) {\n    this.errorCode = errorCode;\n    this.id = id;\n    this.isSuccessful = isSuccessful;\n}\n</code></pre>\n"},{"tags":["java","swing","jtextarea","caret"],"answers":[{"tags":[],"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1370563240,"creation_date":1370563119,"answer_id":16974151,"question_id":16974119,"body_markdown":"Call [`textArea.setCaretColor(Color.WHITE);`](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#setCaretColor%28java.awt.Color%29) method.","title":"Change Position Marker Color in JTextArea","body":"<p>Call <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#setCaretColor%28java.awt.Color%29\"><code>textArea.setCaretColor(Color.WHITE);</code></a> method.</p>\n"}],"owner":{"account_id":2603600,"reputation":1542,"user_id":2255301,"accept_rate":84,"display_name":"nrubin29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16974151,"answer_count":1,"score":2,"last_activity_date":1647443455,"creation_date":1370562907,"question_id":16974119,"body_markdown":"I was wondering how to change the color of the position marker (the blinking I) in a JTextArea. The reason I want to do this is because I&#39;m going to have a GUI with a black background, and green text (old terminal style). I want a white or green position marker. Thanks!","title":"Change Position Marker Color in JTextArea","body":"<p>I was wondering how to change the color of the position marker (the blinking I) in a JTextArea. The reason I want to do this is because I'm going to have a GUI with a black background, and green text (old terminal style). I want a white or green position marker. Thanks!</p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647445078,"post_id":71499551,"comment_id":126374031,"body_markdown":"You are making things to complex. You already have a resource us `getInputStream` and the Spring `StreamUtils` to read the inputstream into a byte[]. Ditch the path and file stuff. As it isn&#39;t a file but a resource in your classpath ( a `java.util.File` needs to be a resource on your file system, this isn&#39;t).","body":"You are making things to complex. You already have a resource us <code>getInputStream</code> and the Spring <code>StreamUtils</code> to read the inputstream into a byte[]. Ditch the path and file stuff. As it isn&#39;t a file but a resource in your classpath ( a <code>java.util.File</code> needs to be a resource on your file system, this isn&#39;t)."},{"owner":{"account_id":17433694,"reputation":621,"user_id":12637199,"display_name":"lmasneri"},"score":0,"creation_date":1647445490,"post_id":71499551,"comment_id":126374220,"body_markdown":"@M.Deinum The problem is not the file itself because it is a valid one when I passed it to my QueryBuilder","body":"@M.Deinum The problem is not the file itself because it is a valid one when I passed it to my QueryBuilder"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647445734,"post_id":71499551,"comment_id":126374324,"body_markdown":"In the end that is your problem, also why a custom request builder seems consulted to me.","body":"In the end that is your problem, also why a custom request builder seems consulted to me."},{"owner":{"account_id":17433694,"reputation":621,"user_id":12637199,"display_name":"lmasneri"},"score":0,"creation_date":1647445999,"post_id":71499551,"comment_id":126374438,"body_markdown":"InputStream imagePath = new ClassPathResource(&quot;images/jkrowling.jpg&quot;).getInputStream();\nMockMultipartFile multipartFile = new MockMultipartFile(&quot;jkrowling.jpg&quot;, &quot;jkrowling.jpg&quot;, &quot;image/jpeg&quot;, StreamUtils.copyToByteArray(imagePath));\n\nthis is what I should do ? @M.Deinum","body":"InputStream imagePath = new ClassPathResource(&quot;images/jkrowling.jpg&quot;).getInputStream(); MockMultipartFile multipartFile = new MockMultipartFile(&quot;jkrowling.jpg&quot;, &quot;jkrowling.jpg&quot;, &quot;image/jpeg&quot;, StreamUtils.copyToByteArray(imagePath));  this is what I should do ? @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647446758,"post_id":71499551,"comment_id":126374760,"body_markdown":"Well I would just use `new MockMulitpartFile(&quot;jkrowling.jpg&quot;, imagePath)` and leave everything else be. Keep it simple.","body":"Well I would just use <code>new MockMulitpartFile(&quot;jkrowling.jpg&quot;, imagePath)</code> and leave everything else be. Keep it simple."}],"owner":{"account_id":17433694,"reputation":621,"user_id":12637199,"display_name":"lmasneri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3440,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647443430,"creation_date":1647443430,"question_id":71499551,"body_markdown":"I am using spring boot and to try my request using IT tests I use mockMvc.\r\n\r\nI am creating a MultipartFile using MockMultipartFile :\r\n\r\n    String imagePath = new ClassPathResource(&quot;images/jkrowling.jpg&quot;).getPath();\r\n        Path path = Paths.get(&quot;src/it/resources/&quot; + imagePath);\r\n        MultipartFile multipartFile = new MockMultipartFile(&quot;jkrowling.jpg&quot;, &quot;jkrowling.jpg&quot;, &quot;image/jpeg&quot;, Files.readAllBytes(path));\r\n\r\nAnd this works. I am also creating a FileRequest which is my own class who got only one property: a MultipartFile:\r\n\r\n    FileRequest fileRequest = FileRequest.builder()\r\n                .file(multipartFile)\r\n                .build();\r\nfrom the class:\r\n\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.ToString;\r\n    import lombok.extern.jackson.Jacksonized;\r\n    @Getter\r\n    @Builder\r\n    @Jacksonized\r\n    @ToString\r\n    public class FileRequest {\r\n        @NotBlank(message = &quot;L&#39;image de l&#39;auteur est obligatoire.&quot;)\r\n        private final MultipartFile file;\r\n    }\r\n\r\nAfter logging my FileRequest.getFile() this is what I have:\r\n```\r\nMultipartFileResource@82 &quot;MultipartFile resource [jkrowling.jpg]&quot;\r\nmultipartFile:MockMultipartFile@72\r\ncontent:byte[7799]@87\r\ncontentType:&quot;image/jpeg&quot;\r\nname:&quot;jkrowling.jpg&quot;\r\noriginalFilename:&quot;jkrowling.jpg&quot;\r\n```\r\n\r\nI am doing this (this is where the error appear):\r\n```\r\nmockMvc.perform(new QueryRequestBuilder(jkRowlingId, fileRequest).build())\r\n            .andExpect(status().isOk());\r\n```\r\nwith\r\n```\r\nprivate static class QueryRequestBuilder extends AbstractRequestBuilder {\r\n\r\n        private final String authorId;\r\n\r\n        private QueryRequestBuilder(String authorId, FileRequest fileRequest) throws Exception {\r\n            this.authorId = authorId;\r\n            content(fileRequest);\r\n            method(HttpMethod.POST);\r\n        }\r\n        \r\n        @Override\r\n        protected String computeUrl() {\r\n            return String.format(&quot;%s/%s/%s&quot;, AUTHORS_PREFIX, &quot;file&quot;, this.authorId);\r\n        }\r\n    }\r\n```\r\n\r\nBut I got the following error:\r\n`Unexpected IOException (of type java.io.FileNotFoundException): MultipartFile resource [jkrowling.jpg] cannot be resolved to absolute file path`\r\n\r\nHope someone already got this issue.\r\n","title":"MultipartFile resource cannot be resolved using mockMvk.perform","body":"<p>I am using spring boot and to try my request using IT tests I use mockMvc.</p>\n<p>I am creating a MultipartFile using MockMultipartFile :</p>\n<pre><code>String imagePath = new ClassPathResource(&quot;images/jkrowling.jpg&quot;).getPath();\n    Path path = Paths.get(&quot;src/it/resources/&quot; + imagePath);\n    MultipartFile multipartFile = new MockMultipartFile(&quot;jkrowling.jpg&quot;, &quot;jkrowling.jpg&quot;, &quot;image/jpeg&quot;, Files.readAllBytes(path));\n</code></pre>\n<p>And this works. I am also creating a FileRequest which is my own class who got only one property: a MultipartFile:</p>\n<pre><code>FileRequest fileRequest = FileRequest.builder()\n            .file(multipartFile)\n            .build();\n</code></pre>\n<p>from the class:</p>\n<pre><code>import lombok.Builder;\nimport lombok.Getter;\nimport lombok.ToString;\nimport lombok.extern.jackson.Jacksonized;\n@Getter\n@Builder\n@Jacksonized\n@ToString\npublic class FileRequest {\n    @NotBlank(message = &quot;L'image de l'auteur est obligatoire.&quot;)\n    private final MultipartFile file;\n}\n</code></pre>\n<p>After logging my FileRequest.getFile() this is what I have:</p>\n<pre><code>MultipartFileResource@82 &quot;MultipartFile resource [jkrowling.jpg]&quot;\nmultipartFile:MockMultipartFile@72\ncontent:byte[7799]@87\ncontentType:&quot;image/jpeg&quot;\nname:&quot;jkrowling.jpg&quot;\noriginalFilename:&quot;jkrowling.jpg&quot;\n</code></pre>\n<p>I am doing this (this is where the error appear):</p>\n<pre><code>mockMvc.perform(new QueryRequestBuilder(jkRowlingId, fileRequest).build())\n            .andExpect(status().isOk());\n</code></pre>\n<p>with</p>\n<pre><code>private static class QueryRequestBuilder extends AbstractRequestBuilder {\n\n        private final String authorId;\n\n        private QueryRequestBuilder(String authorId, FileRequest fileRequest) throws Exception {\n            this.authorId = authorId;\n            content(fileRequest);\n            method(HttpMethod.POST);\n        }\n        \n        @Override\n        protected String computeUrl() {\n            return String.format(&quot;%s/%s/%s&quot;, AUTHORS_PREFIX, &quot;file&quot;, this.authorId);\n        }\n    }\n</code></pre>\n<p>But I got the following error:\n<code>Unexpected IOException (of type java.io.FileNotFoundException): MultipartFile resource [jkrowling.jpg] cannot be resolved to absolute file path</code></p>\n<p>Hope someone already got this issue.</p>\n"},{"tags":["java","swing","jtextfield","listeners","jspinner"],"answers":[{"tags":[],"owner":{"account_id":13696,"reputation":17521,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1229645714,"creation_date":1229645714,"answer_id":379787,"question_id":379675,"body_markdown":"I know this is not the action listener...but maybe this can work for you?\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\ttext.addKeyListener( new KeyAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void keyReleased( final KeyEvent e ) {\r\n\t\t\t\tif ( e.getKeyCode() == KeyEvent.VK_ENTER ) {\r\n\t\t\t\t\tSystem.out.println( &quot;enter pressed&quot; );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\n","title":"Getting ENTER to work with a JSpinner the way it does with a JTextField","body":"<p>I know this is not the action listener...but maybe this can work for you?</p>\n\n<p><pre><code>\n    text.addKeyListener( new KeyAdapter() {\n            @Override\n            public void keyReleased( final KeyEvent e ) {\n                if ( e.getKeyCode() == KeyEvent.VK_ENTER ) {\n                    System.out.println( \"enter pressed\" );\n                }\n            }\n        } );\n</pre></code></p>\n"},{"tags":[],"owner":{"account_id":2074554,"reputation":2139,"user_id":1848286,"accept_rate":80,"display_name":"DGolberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465584393,"creation_date":1465580835,"answer_id":37754348,"question_id":379675,"body_markdown":"I just ran into an issue relating to this, myself.  In my case, I had a JSpinner with a `SpinnerNumberModel` setup so I could input numerical ID values, and then retrieve them from a remote database.  This worked all well and good with a JButton as my trigger for the query, but I wanted to be able to switch focus to the field via Tab, and hit enter, and also be able to change the value by entering an ID with numerical keys, then hit enter.\r\n\r\nThe one that was giving me the most issues was manually entering the ID with numerical keys, then pressing enter.  When I would do this, the query would still happen, but it was querying the previous ID rather than the one I just entered, so I&#39;d have to hit enter again to query the new ID (see code)\r\n\r\n\t((JSpinner.DefaultEditor) minRng.getEditor()).getTextField().addKeyListener(new KeyAdapter() {\r\n\t\t@Override\r\n\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\tif (e.getKeyCode() == KeyEvent.VK_ENTER) {\r\n\t\t\t\tqueryData();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\nand the query method:\r\n\r\n\tprivate void queryData() {\r\n\t\tint minVal = Integer.parseInt(minRng.getValue().toString());\r\n\t\tqueryDataBase(minVal);\r\n\t}\r\nIn order to fix this, all I had to do was force the query to wait to run until the spinner updated its value, which was easily done by using `SwingUtilities.invokeLater()` to force it to the end of the EDT queue, like so:\r\n\r\n\t((JSpinner.DefaultEditor) minRng.getEditor()).getTextField().addKeyListener(new KeyAdapter() {\r\n\t\t@Override\r\n\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\tif (e.getKeyCode() == KeyEvent.VK_ENTER) {\r\n\t\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tqueryData();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nThanks to the `invokeLater()` the query now happens on the new value rather than the previous one, when pressing enter, as the JSpinner has then updated its value to the newly input one.\r\n\r\nI&#39;m assuming the reason for this is that the value entered is not officially applied to the `JSpinner` until you hit enter, which also fires the key listener for the query.  The `KeyEvent` for the custom [query] key listener appears to be the first one in the queue, so it runs its code first, and THEN the `KeyEvent` for applying the value to the `JSpinner` from the internal `JFormattedTextField`, which is why it queries the old value.  `SwingUtilities.invokeLater()` just puts the query itself at the end of the queue, so it allows the other `KeyEvent` to finish its code before running the query.\r\n\r\n**Edit:**\r\n\r\nAnother way to achieve this is to request the value directly from the `JFormattedTextField` rather than the `JSpinner`, as this should also return the newly entered value since the `JFormattedTextField` contains the value you typed in, but it hasn&#39;t yet been passed to the JSpinner, which appears to be where the issue lies.\r\n\r\n\tprivate void queryData() {\r\n        JFormattedTextField tf = ((JSpinner.DefaultEditor) minRng.getEditor()).getTextField();\r\n\t\tint minVal = Integer.parseInt(tf.getText());\r\n\t\tqueryDataBase(minVal);\r\n\t}\r\nThe only problem with this method is that you then have to catch any `NumberFormatException`s, when parsing the value, where the `SwingUtilities.invokeLater()` approach allows the spinner model to remove any invalid characters, automatically, and continue with the query.\r\n\r\nAnyway, I&#39;m still somewhat inexperienced with Java, so if my understanding of this is incorrect, please let me know in the comments.","title":"Getting ENTER to work with a JSpinner the way it does with a JTextField","body":"<p>I just ran into an issue relating to this, myself.  In my case, I had a JSpinner with a <code>SpinnerNumberModel</code> setup so I could input numerical ID values, and then retrieve them from a remote database.  This worked all well and good with a JButton as my trigger for the query, but I wanted to be able to switch focus to the field via Tab, and hit enter, and also be able to change the value by entering an ID with numerical keys, then hit enter.</p>\n\n<p>The one that was giving me the most issues was manually entering the ID with numerical keys, then pressing enter.  When I would do this, the query would still happen, but it was querying the previous ID rather than the one I just entered, so I'd have to hit enter again to query the new ID (see code)</p>\n\n<pre><code>((JSpinner.DefaultEditor) minRng.getEditor()).getTextField().addKeyListener(new KeyAdapter() {\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_ENTER) {\n            queryData();\n        }\n    }\n});\n</code></pre>\n\n<p>and the query method:</p>\n\n<pre><code>private void queryData() {\n    int minVal = Integer.parseInt(minRng.getValue().toString());\n    queryDataBase(minVal);\n}\n</code></pre>\n\n<p>In order to fix this, all I had to do was force the query to wait to run until the spinner updated its value, which was easily done by using <code>SwingUtilities.invokeLater()</code> to force it to the end of the EDT queue, like so:</p>\n\n<pre><code>((JSpinner.DefaultEditor) minRng.getEditor()).getTextField().addKeyListener(new KeyAdapter() {\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_ENTER) {\n            SwingUtilities.invokeLater(new Runnable() {\n                @Override\n                public void run() {\n                    queryData();\n                }\n            });\n        }\n    }\n});\n</code></pre>\n\n<p>Thanks to the <code>invokeLater()</code> the query now happens on the new value rather than the previous one, when pressing enter, as the JSpinner has then updated its value to the newly input one.</p>\n\n<p>I'm assuming the reason for this is that the value entered is not officially applied to the <code>JSpinner</code> until you hit enter, which also fires the key listener for the query.  The <code>KeyEvent</code> for the custom [query] key listener appears to be the first one in the queue, so it runs its code first, and THEN the <code>KeyEvent</code> for applying the value to the <code>JSpinner</code> from the internal <code>JFormattedTextField</code>, which is why it queries the old value.  <code>SwingUtilities.invokeLater()</code> just puts the query itself at the end of the queue, so it allows the other <code>KeyEvent</code> to finish its code before running the query.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Another way to achieve this is to request the value directly from the <code>JFormattedTextField</code> rather than the <code>JSpinner</code>, as this should also return the newly entered value since the <code>JFormattedTextField</code> contains the value you typed in, but it hasn't yet been passed to the JSpinner, which appears to be where the issue lies.</p>\n\n<pre><code>private void queryData() {\n    JFormattedTextField tf = ((JSpinner.DefaultEditor) minRng.getEditor()).getTextField();\n    int minVal = Integer.parseInt(tf.getText());\n    queryDataBase(minVal);\n}\n</code></pre>\n\n<p>The only problem with this method is that you then have to catch any <code>NumberFormatException</code>s, when parsing the value, where the <code>SwingUtilities.invokeLater()</code> approach allows the spinner model to remove any invalid characters, automatically, and continue with the query.</p>\n\n<p>Anyway, I'm still somewhat inexperienced with Java, so if my understanding of this is incorrect, please let me know in the comments.</p>\n"},{"tags":[],"owner":{"account_id":22179694,"reputation":11,"user_id":16423599,"display_name":"gprem062"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647428780,"creation_date":1647428780,"answer_id":71495995,"question_id":379675,"body_markdown":"I think what you are asking is that when we manually edit the JSpinner shown value, it doesn&#39;t actually change it but only show as it.\r\n\r\nThe reason is that JSpinner use something called editor and has a value. The editor is responsibe for showing the current value and also, changing it (but only using arrow buttons)\r\n\r\nIf we want to edit it by ourselves then we need to use \r\n\r\n    spinner.commitEdit();\r\n\r\nHave a look into this for further knowledge, \r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/javax/swing/JSpinner.html\r\n","title":"Getting ENTER to work with a JSpinner the way it does with a JTextField","body":"<p>I think what you are asking is that when we manually edit the JSpinner shown value, it doesn't actually change it but only show as it.</p>\n<p>The reason is that JSpinner use something called editor and has a value. The editor is responsibe for showing the current value and also, changing it (but only using arrow buttons)</p>\n<p>If we want to edit it by ourselves then we need to use</p>\n<pre><code>spinner.commitEdit();\n</code></pre>\n<p>Have a look into this for further knowledge,</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JSpinner.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/swing/JSpinner.html</a></p>\n"}],"owner":{"account_id":10476,"reputation":4510,"user_id":19825,"accept_rate":98,"display_name":"Daddy Warbox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5122,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":379787,"answer_count":3,"score":5,"last_activity_date":1647443401,"creation_date":1229642376,"question_id":379675,"body_markdown":"First, to make my job explaining a bit easier, here&#39;s some of my code:\r\n\r\n    JSpinner spin = new JSpinner();\r\n    JFormattedTextField text = getTextField(spin);\r\n        \r\n    text.addActionListener(new java.awt.event.ActionListener() {\r\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                // Do stuff...\r\n        }\r\n    });\r\n\r\n   ...\r\n\r\n    private JFormattedTextField getTextField(JSpinner spinner) {\r\n        JComponent editor = spinner.getEditor();\r\n        \r\n        if (editor instanceof JSpinner.DefaultEditor) {\r\n            return ((JSpinner.DefaultEditor )editor).getTextField();\r\n        } else {\r\n            System.err.println( &quot;Unexpected editor type: &quot;\r\n                               + spinner.getEditor().getClass()\r\n                               + &quot; isn&#39;t a descendant of DefaultEditor&quot; );\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\nSo as you can see, I got that far.  And indeed, when I type in a value into the text field component of the spinner (`JFormattedTextField`), and THEN press ENTER, it works.\r\n\r\nWhat I want now is to be able to have the text field respond to ENTER without having to manually type in a new value (which sorta defeats the purpose of making a spinner out of it).  How do I do that?","title":"Getting ENTER to work with a JSpinner the way it does with a JTextField","body":"<p>First, to make my job explaining a bit easier, here's some of my code:</p>\n\n<pre><code>JSpinner spin = new JSpinner();\nJFormattedTextField text = getTextField(spin);\n\ntext.addActionListener(new java.awt.event.ActionListener() {\n    public void actionPerformed(java.awt.event.ActionEvent evt) {\n            // Do stuff...\n    }\n});\n</code></pre>\n\n<p>...</p>\n\n<pre><code>private JFormattedTextField getTextField(JSpinner spinner) {\n    JComponent editor = spinner.getEditor();\n\n    if (editor instanceof JSpinner.DefaultEditor) {\n        return ((JSpinner.DefaultEditor )editor).getTextField();\n    } else {\n        System.err.println( \"Unexpected editor type: \"\n                           + spinner.getEditor().getClass()\n                           + \" isn't a descendant of DefaultEditor\" );\n        return null;\n    }\n}\n</code></pre>\n\n<p>So as you can see, I got that far.  And indeed, when I type in a value into the text field component of the spinner (<code>JFormattedTextField</code>), and THEN press ENTER, it works.</p>\n\n<p>What I want now is to be able to have the text field respond to ENTER without having to manually type in a new value (which sorta defeats the purpose of making a spinner out of it).  How do I do that?</p>\n"},{"tags":["java","exception","compiler-errors"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1647445431,"post_id":71499416,"comment_id":126374190,"body_markdown":"I cannot reproduce your problem. If I paste your code for example into ideone it compiles and runs fine.","body":"I cannot reproduce your problem. If I paste your code for example into ideone it compiles and runs fine."},{"owner":{"account_id":22963383,"reputation":59,"user_id":17360950,"display_name":"giotto1"},"score":0,"creation_date":1647569196,"post_id":71499416,"comment_id":126410214,"body_markdown":"That is bizarre, it might be an issue with my compiler. I will try different ones then, thank you! @ThomasKl&#228;ger","body":"That is bizarre, it might be an issue with my compiler. I will try different ones then, thank you! @ThomasKl&#228;ger"}],"owner":{"account_id":22963383,"reputation":59,"user_id":17360950,"display_name":"giotto1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647442999,"creation_date":1647442999,"question_id":71499416,"body_markdown":"I&#39;m practicing writing custom exception handling code in Java and have run into a bit of an issue with the following code. It&#39;s supposed to ask the user to input a string, and if that string is empty then it will throw a custom exception. \r\n\r\n```java \r\nimport java.util.Scanner;\r\n\r\npublic class testException2 {\r\n\r\n    public static void customStringException(String s) throws NoStringException {\r\n        if (s.length() == 0) {\r\n            throw new NoStringException(&quot;customStringException&quot;);\r\n        }\r\n        System.out.println(&quot;String input found.&quot;);\r\n    }\r\n    \r\n    //THIS IS LINE 12\r\n    public static void main(String[] args) { \r\n        Scanner key = new Scanner(System.in);\r\n        System.out.println(&quot;Enter any string: &quot;);\r\n        String s = key.nextLine();\r\n        try {        \r\n            customStringException(s);\r\n        }\r\n        catch(NoStringException e) {\r\n            System.out.println(&quot;No string input found&quot;);\r\n        }\r\n        key.close();\r\n    }\r\n    \r\n}\r\n\r\n\r\nclass NoStringException extends Exception {\r\n    NoStringException(String error) {\r\n       super(error);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve successfully written similar code when it came to taking in int and double inputs, but the same is not working for string input.\r\n\r\nThe exact error I get is:\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\r\n        at testException2.main(public class testException2 {.java:12)\r\n```","title":"Why is there an unresolved compilation error? (custom exception handling)","body":"<p>I'm practicing writing custom exception handling code in Java and have run into a bit of an issue with the following code. It's supposed to ask the user to input a string, and if that string is empty then it will throw a custom exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class testException2 {\n\n    public static void customStringException(String s) throws NoStringException {\n        if (s.length() == 0) {\n            throw new NoStringException(&quot;customStringException&quot;);\n        }\n        System.out.println(&quot;String input found.&quot;);\n    }\n    \n    //THIS IS LINE 12\n    public static void main(String[] args) { \n        Scanner key = new Scanner(System.in);\n        System.out.println(&quot;Enter any string: &quot;);\n        String s = key.nextLine();\n        try {        \n            customStringException(s);\n        }\n        catch(NoStringException e) {\n            System.out.println(&quot;No string input found&quot;);\n        }\n        key.close();\n    }\n    \n}\n\n\nclass NoStringException extends Exception {\n    NoStringException(String error) {\n       super(error);\n    }\n}\n</code></pre>\n<p>I've successfully written similar code when it came to taking in int and double inputs, but the same is not working for string input.</p>\n<p>The exact error I get is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n\n        at testException2.main(public class testException2 {.java:12)\n</code></pre>\n"},{"tags":["java","spring-mvc","spring-boot","gradle"],"comments":[{"owner":{"account_id":978967,"reputation":1738,"user_id":999264,"accept_rate":39,"display_name":"John Donn"},"score":0,"creation_date":1520432336,"post_id":48721984,"comment_id":85312627,"body_markdown":"perhaps related https://dzone.com/articles/spring-boot-enablewebmvc-and-common-use-cases","body":"perhaps related <a href=\"https://dzone.com/articles/spring-boot-enablewebmvc-and-common-use-cases\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>"},{"owner":{"account_id":404984,"reputation":2612,"user_id":773623,"display_name":"Jonathan Drapeau"},"score":0,"creation_date":1536338998,"post_id":48721984,"comment_id":91402786,"body_markdown":"The [documentation explains why you should or not use the annotation](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-message-converters).","body":"The <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-message-converters\" rel=\"nofollow noreferrer\">documentation explains why you should or not use the annotation</a>."}],"answers":[{"tags":[],"owner":{"account_id":9636750,"reputation":2702,"user_id":7152558,"display_name":"Mahesh_Loya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520434361,"creation_date":1520434361,"answer_id":49154795,"question_id":48721984,"body_markdown":"It seems the issue is caused by mixing two different kind of initializers i.e WebApplicationInitializer and ApplicationContextInitializer.\r\n\r\nBoth WebApplicationInitializer and ApplicationContextInitializer serve fairly different purposes. \r\nThe **WebApplicationInitializer** is used by a Servlet Container at startup of the web application and provides a way for programmatic creating a web application(replacement for a web.xml file), \r\n\r\n**ApplicationContextInitializer** provides a hook to configure the Spring application context before it gets fully created.\r\nFor a non spring boot application/normal spring mvc app it is programmatic configuration of web.xml. like you have done in your code in WebAppInitializer.java\r\n\r\n    public class WebAppInitializer implements WebApplicationInitializer {\r\n        public void onStartup(ServletContext servletContext) throws \r\n         ServletException {  \r\n            AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext(); \r\n \r\n                ctx.register(AppConfig.class);  \r\n            ctx.setServletContext(servletContext);    \r\n            Dynamic dynamic = servletContext.addServlet(&quot;dispatcher&quot;, new \r\n                DispatcherServlet(ctx));  \r\n            dynamic.addMapping(&quot;/&quot;);  \r\n            dynamic.setLoadOnStartup(1);  \r\n       }  \r\n    }\r\n\r\n**ApplicationContextInitializer** is essentially code that gets executed before the Spring application context gets completely created. A good use case for using an ApplicationContextInitializer would be to set a Spring environment profile programmatically, along these lines.\r\n\r\nFor Spring-Boot based application then registering an ApplicationContextInitializer could be done like below:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    public class SampleWebApplication {\r\n     \r\n     public static void main(String[] args) {\r\n      new SpringApplicationBuilder(SampleWebApplication.class)\r\n        .initializers(new DemoApplicationContextInitializer())\r\n        .run(args);\r\n     }\r\n    }\r\n    \r\n    public class DemoApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n    \r\n     @Override\r\n     public void initialize(ConfigurableApplicationContext ac) {\r\n      ConfigurableEnvironment appEnvironment = ac.getEnvironment();\r\n      appEnvironment.addActiveProfile(&quot;demo&quot;);\r\n    \r\n     }\r\n    }","title":"Can&#39;t run the SPRING BOOT application with @EnableWebMvc configuration","body":"<p>It seems the issue is caused by mixing two different kind of initializers i.e WebApplicationInitializer and ApplicationContextInitializer.</p>\n\n<p>Both WebApplicationInitializer and ApplicationContextInitializer serve fairly different purposes. \nThe <strong>WebApplicationInitializer</strong> is used by a Servlet Container at startup of the web application and provides a way for programmatic creating a web application(replacement for a web.xml file), </p>\n\n<p><strong>ApplicationContextInitializer</strong> provides a hook to configure the Spring application context before it gets fully created.\nFor a non spring boot application/normal spring mvc app it is programmatic configuration of web.xml. like you have done in your code in WebAppInitializer.java</p>\n\n<pre><code>public class WebAppInitializer implements WebApplicationInitializer {\n    public void onStartup(ServletContext servletContext) throws \n     ServletException {  \n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext(); \n\n            ctx.register(AppConfig.class);  \n        ctx.setServletContext(servletContext);    \n        Dynamic dynamic = servletContext.addServlet(\"dispatcher\", new \n            DispatcherServlet(ctx));  \n        dynamic.addMapping(\"/\");  \n        dynamic.setLoadOnStartup(1);  \n   }  \n}\n</code></pre>\n\n<p><strong>ApplicationContextInitializer</strong> is essentially code that gets executed before the Spring application context gets completely created. A good use case for using an ApplicationContextInitializer would be to set a Spring environment profile programmatically, along these lines.</p>\n\n<p>For Spring-Boot based application then registering an ApplicationContextInitializer could be done like below:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\npublic class SampleWebApplication {\n\n public static void main(String[] args) {\n  new SpringApplicationBuilder(SampleWebApplication.class)\n    .initializers(new DemoApplicationContextInitializer())\n    .run(args);\n }\n}\n\npublic class DemoApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n @Override\n public void initialize(ConfigurableApplicationContext ac) {\n  ConfigurableEnvironment appEnvironment = ac.getEnvironment();\n  appEnvironment.addActiveProfile(\"demo\");\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1647442996,"creation_date":1527621264,"answer_id":50591404,"question_id":48721984,"body_markdown":"In general, the **`@EnableWebMvc` should not be used in Spring boot applications**.  I quote an [article by Boz Hogan][1]:\r\n\r\n&gt; It turns out that Spring Boot doesn’t mix well with the standard Spring MVC `@EnableWebMvc`. What happens when you add the annotation is that Spring Boot&#39;s autoconfiguration is disabled.\r\n&gt;\r\n&gt; The bad part (that wasted me a few hours) is that in no guide you can find that explicitly stated. (...)\r\n\r\nHere&#39;s a quote from the [Spring Boot documentation][2]:\r\n\r\n&gt; If you want to keep Spring Boot MVC features and you want to add additional MVC configuration (interceptors, formatters, view controllers, and other features), you can add your own `@Configuration` class of type `WebMvcConfigurer` but **without** `@EnableWebMvc`. (...)\r\n&gt;\r\n&gt; If you want to take complete control of Spring MVC, you can add your own `@Configuration` annotated with `@EnableWebMvc`.\r\n\r\nSo, to use `@EnableWebMvc` in a Spring Boot app, you need to take **complete control** of Spring MVC—I read that as *you need to be a Spring wiz*. \r\n\r\nWe had a problem with a Spring boot 1.5.9 application that had a dependency to a shared lib that contained a class annotated with `@EnableWebMvc`. Removing the annotation solved the problem.\r\n\r\n\r\n  [1]: https://dzone.com/articles/spring-boot-enablewebmvc-and-common-use-cases\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.1.x/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-auto-configuration","title":"Can&#39;t run the SPRING BOOT application with @EnableWebMvc configuration","body":"<p>In general, the <strong><code>@EnableWebMvc</code> should not be used in Spring boot applications</strong>.  I quote an <a href=\"https://dzone.com/articles/spring-boot-enablewebmvc-and-common-use-cases\" rel=\"nofollow noreferrer\">article by Boz Hogan</a>:</p>\n<blockquote>\n<p>It turns out that Spring Boot doesn’t mix well with the standard Spring MVC <code>@EnableWebMvc</code>. What happens when you add the annotation is that Spring Boot's autoconfiguration is disabled.</p>\n<p>The bad part (that wasted me a few hours) is that in no guide you can find that explicitly stated. (...)</p>\n</blockquote>\n<p>Here's a quote from the <a href=\"https://docs.spring.io/spring-boot/docs/2.1.x/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-auto-configuration\" rel=\"nofollow noreferrer\">Spring Boot documentation</a>:</p>\n<blockquote>\n<p>If you want to keep Spring Boot MVC features and you want to add additional MVC configuration (interceptors, formatters, view controllers, and other features), you can add your own <code>@Configuration</code> class of type <code>WebMvcConfigurer</code> but <strong>without</strong> <code>@EnableWebMvc</code>. (...)</p>\n<p>If you want to take complete control of Spring MVC, you can add your own <code>@Configuration</code> annotated with <code>@EnableWebMvc</code>.</p>\n</blockquote>\n<p>So, to use <code>@EnableWebMvc</code> in a Spring Boot app, you need to take <strong>complete control</strong> of Spring MVC—I read that as <em>you need to be a Spring wiz</em>.</p>\n<p>We had a problem with a Spring boot 1.5.9 application that had a dependency to a shared lib that contained a class annotated with <code>@EnableWebMvc</code>. Removing the annotation solved the problem.</p>\n"}],"owner":{"account_id":1567747,"reputation":103,"user_id":1456152,"accept_rate":43,"display_name":"Batman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647442996,"creation_date":1518274174,"question_id":48721984,"body_markdown":"I&#39;m new to spring boot and i&#39;m very much interested to learn this technology. Here is the issue,  I got one configuration file with @configuration tag. so i can&#39;t run the application when i try to add @enablemvc annotation or if i add new file with @enablemvc annoation in the spring boot application. i really appreciate if some one can help me with thisss.  \r\n\r\nlog\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;resourceHandlerMapping&#39; defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to init ResourceHttpRequestHandler; nested exception is java.lang.IllegalStateException: WebApplicationObjectSupport instance [ResourceHttpRequestHandler [locations=[class path resource [resources/], class path resource [images/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@39e6b948]]] does not run in a WebApplicationContext but in: org.springframework.context.annotation.AnnotationConfigApplicationContext@19b44076: startup date [Sat Feb 10 09:34:19 EST 2018]; root of context hierarchy\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134) [spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.configureAsChildIfNecessary(SpringApplicationBuilder.java:147) [spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:130) [spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat com.boot.main.ClientMain.main(ClientMain.java:31) [bin/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_131]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_131]\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_131]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to init ResourceHttpRequestHandler; nested exception is java.lang.IllegalStateException: WebApplicationObjectSupport instance [ResourceHttpRequestHandler [locations=[class path resource [resources/], class path resource [images/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@39e6b948]]] does not run in a WebApplicationContext but in: org.springframework.context.annotation.AnnotationConfigApplicationContext@19b44076: startup date [Sat Feb 10 09:34:19 EST 2018]; root of context hierarchy\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \t... 23 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanInitializationException: Failed to init ResourceHttpRequestHandler; nested exception is java.lang.IllegalStateException: WebApplicationObjectSupport instance [ResourceHttpRequestHandler [locations=[class path resource [resources/], class path resource [images/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@39e6b948]]] does not run in a WebApplicationContext but in: org.springframework.context.annotation.AnnotationConfigApplicationContext@19b44076: startup date [Sat Feb 10 09:34:19 EST 2018]; root of context hierarchy\r\n    \tat org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry.getHandlerMapping(ResourceHandlerRegistry.java:150) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\r\n    \tat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:446) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\r\n    \tat org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$7c7bc0fe.CGLIB$resourceHandlerMapping$28(&lt;generated&gt;) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\r\n    \tat org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$7c7bc0fe$$FastClassBySpringCGLIB$$d042f6eb.invoke(&lt;generated&gt;) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$7c7bc0fe.resourceHandlerMapping(&lt;generated&gt;) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_131]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_131]\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_131]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \t... 24 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: WebApplicationObjectSupport instance [ResourceHttpRequestHandler [locations=[class path resource [resources/], class path resource [images/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@39e6b948]]] does not run in a WebApplicationContext but in: org.springframework.context.annotation.AnnotationConfigApplicationContext@19b44076: startup date [Sat Feb 10 09:34:19 EST 2018]; root of context hierarchy\r\n    \tat org.springframework.web.context.support.WebApplicationObjectSupport.getWebApplicationContext(WebApplicationObjectSupport.java:112) ~[spring-web-4.3.12.RELEASE.jar:4.3.12.RELEASE]\r\n    \tat org.springframework.web.context.support.WebApplicationObjectSupport.getServletContext(WebApplicationObjectSupport.java:128) ~[spring-web-4.3.12.RELEASE.jar:4.3.12.RELEASE]\r\n    \tat org.springframework.web.servlet.resource.ResourceHttpRequestHandler.initContentNegotiationStrategy(ResourceHttpRequestHandler.java:306) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\r\n    \tat org.springframework.web.servlet.resource.ResourceHttpRequestHandler.afterPropertiesSet(ResourceHttpRequestHandler.java:268) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\r\n    \tat org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry.getHandlerMapping(ResourceHandlerRegistry.java:147) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\r\n    \t... 35 common frames omitted\r\n\r\n\r\nAutoConfiguration.java\r\n\r\n    @Configuration\r\n    //@EnableAutoConfiguration\r\n    @ConditionalOnClass(MyClass.class)\r\n    @EnableConfigurationProperties(MyProperties.class)\r\n    @ComponentScan({ &quot;com.boot&quot;, &quot;com.jspClient&quot; })\r\n    @SpringBootApplication\r\n    public class AutoConfiguration {\r\n    \r\n        private static Log log = LogFactory.getLog(AutoConfiguration.class);\r\n    \r\n        \r\n        \r\n        \r\n        @Bean\r\n    \tpublic ViewResolver getViewResolver() {\r\n    \t\tInternalResourceViewResolver resolver = new InternalResourceViewResolver();\r\n    \t\tresolver.setPrefix(&quot;/WEB-INF/jsp/&quot;);\r\n    \t\tresolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\tresolver.setViewClass(JstlView.class);\r\n    \t\treturn resolver;\r\n    \t}\r\n        \r\n        /*@Bean  \r\n        public UrlBasedViewResolver urlBasedViewResolver() {  \r\n          UrlBasedViewResolver resolver = new UrlBasedViewResolver();  \r\n          resolver.setPrefix(&quot;/WEB-INF/jsp/&quot;);  \r\n          resolver.setSuffix(&quot;.jsp&quot;);\r\n          resolver.setViewClass(JstlView.class);  \r\n          return resolver;  \r\n        }*/\r\n        \r\n        \r\n        //http://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/simple-mapping-exception-resolver/\r\n        //https://github.com/paulc4/mvc-exceptions/blob/master/src/main/java/demo/config/ExceptionConfiguration.java\r\n        @Bean\r\n        public SimpleMappingExceptionResolver createSimpleMappingExceptionResolver() {\r\n          SimpleMappingExceptionResolver resolver = new SimpleMappingExceptionResolver();\r\n          Properties errorMaps = new Properties();\r\n          errorMaps.setProperty(UserNotFoundException.class.getName(), &quot;myError&quot;);\r\n          errorMaps.setProperty(&quot;Exception&quot;, &quot;generic_error&quot;);\r\n          resolver.setExceptionMappings(errorMaps);\r\n          resolver.setDefaultErrorView(&quot;generic_error&quot;);\r\n          resolver.setExceptionAttribute(&quot;exc&quot;);\r\n          return resolver;\r\n       }\r\n        \r\n        @Bean\r\n        WebMvcConfigurer configurer () {\r\n            return new WebMvcConfigurerAdapter() {\r\n                @Override\r\n                public void addResourceHandlers (ResourceHandlerRegistry registry) {\r\n                \tResourceHandlerRegistration resourceRegistration  = registry\r\n                \t\t\t.addResourceHandler(&quot;/pages/**&quot;)\r\n                    \t\t.addResourceLocations(&quot;/resources/&quot;,&quot;classpath:/images/&quot;)  //Configuring Multiple Locations for a Resource\r\n                    \t\t.setCachePeriod(3600);            //The resources served will be cached in the browser for 3600 seconds\r\n                \tregistry.addResourceHandler(&quot;resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n                \t//registry.addResourceHandler(&quot;/css/**&quot;).addResourceLocations(&quot;/css/&quot;);\r\n                    //registry.addResourceHandler(&quot;/img/**&quot;).addResourceLocations(&quot;/img/&quot;);\r\n                    //registry.addResourceHandler(&quot;/js/**&quot;).addResourceLocations(&quot;/js/&quot;);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n\r\nAppConfig.java\r\n\r\n    @Configuration \r\n    @ComponentScan(&quot;com.boot.controllers&quot;) \r\n    @EnableWebMvc\r\n    public class AppConfig extends WebMvcConfigurerAdapter {  \r\n        \r\n        @Bean\r\n        public SimpleMappingExceptionResolver createSimpleMappingExceptionResolver() {\r\n          SimpleMappingExceptionResolver resolver = new SimpleMappingExceptionResolver();\r\n          Properties errorMaps = new Properties();\r\n          errorMaps.setProperty(&quot;ElectricityNotFoundException&quot;, &quot;error&quot;);\r\n          errorMaps.setProperty(&quot;NullPointerException&quot;, &quot;error&quot;);\r\n          resolver.setExceptionMappings(errorMaps);\r\n          resolver.setDefaultErrorView(&quot;globalerror&quot;);\r\n          resolver.setExceptionAttribute(&quot;exc&quot;);\r\n          return resolver;\r\n       }\r\n    }\r\n\r\n\r\nWebAppInitializer.java\r\n\r\n    public class WebAppInitializer implements WebApplicationInitializer {\r\n    \tpublic void onStartup(ServletContext servletContext) throws ServletException {  \r\n            AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();  \r\n            ctx.register(AppConfig.class);  \r\n            ctx.setServletContext(servletContext);    \r\n            Dynamic dynamic = servletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(ctx));  \r\n            dynamic.addMapping(&quot;/&quot;);  \r\n            dynamic.setLoadOnStartup(1);  \r\n       }  \r\n    } \r\n\r\n\r\nClientMain.java\r\n\r\n\r\n    @ComponentScan(&quot;com.boot&quot;) // to scan controller under com.boot -&gt; com.boot.controllers\r\n    @SpringBootApplication\r\n    public class ClientMain {\r\n    \t\r\n    \tprivate static SpringApplicationBuilder start(Class&lt;?&gt;... sources) {\r\n            return new SpringApplicationBuilder(ClientMain.class)\r\n                .child(sources);\r\n        }\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \r\n            // using just Spring alone\r\n            /*ApplicationContext context = new AnnotationConfigApplicationContext(AutoConfiguration.class);\r\n            \r\n        }\r\n    \r\n    }\r\n\r\n\r\nJspClientMain.java\r\n\r\n    @ComponentScan(&quot;com.boot&quot;) \r\n    @SpringBootApplication\r\n    public class JspClientMain {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(JspClientMain.class, args);\r\n    \t}\r\n    }\r\n\r\n","title":"Can&#39;t run the SPRING BOOT application with @EnableWebMvc configuration","body":"<p>I'm new to spring boot and i'm very much interested to learn this technology. Here is the issue,  I got one configuration file with @configuration tag. so i can't run the application when i try to add @enablemvc annotation or if i add new file with @enablemvc annoation in the spring boot application. i really appreciate if some one can help me with thisss.  </p>\n\n<p>log</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'resourceHandlerMapping' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to init ResourceHttpRequestHandler; nested exception is java.lang.IllegalStateException: WebApplicationObjectSupport instance [ResourceHttpRequestHandler [locations=[class path resource [resources/], class path resource [images/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@39e6b948]]] does not run in a WebApplicationContext but in: org.springframework.context.annotation.AnnotationConfigApplicationContext@19b44076: startup date [Sat Feb 10 09:34:19 EST 2018]; root of context hierarchy\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134) [spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.builder.SpringApplicationBuilder.configureAsChildIfNecessary(SpringApplicationBuilder.java:147) [spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:130) [spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at com.boot.main.ClientMain.main(ClientMain.java:31) [bin/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_131]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_131]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.9.RELEASE.jar:1.5.9.RELEASE]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to init ResourceHttpRequestHandler; nested exception is java.lang.IllegalStateException: WebApplicationObjectSupport instance [ResourceHttpRequestHandler [locations=[class path resource [resources/], class path resource [images/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@39e6b948]]] does not run in a WebApplicationContext but in: org.springframework.context.annotation.AnnotationConfigApplicationContext@19b44076: startup date [Sat Feb 10 09:34:19 EST 2018]; root of context hierarchy\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 23 common frames omitted\nCaused by: org.springframework.beans.factory.BeanInitializationException: Failed to init ResourceHttpRequestHandler; nested exception is java.lang.IllegalStateException: WebApplicationObjectSupport instance [ResourceHttpRequestHandler [locations=[class path resource [resources/], class path resource [images/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@39e6b948]]] does not run in a WebApplicationContext but in: org.springframework.context.annotation.AnnotationConfigApplicationContext@19b44076: startup date [Sat Feb 10 09:34:19 EST 2018]; root of context hierarchy\n    at org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry.getHandlerMapping(ResourceHandlerRegistry.java:150) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\n    at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:446) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\n    at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$7c7bc0fe.CGLIB$resourceHandlerMapping$28(&lt;generated&gt;) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\n    at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$7c7bc0fe$$FastClassBySpringCGLIB$$d042f6eb.invoke(&lt;generated&gt;) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$7c7bc0fe.resourceHandlerMapping(&lt;generated&gt;) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_131]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_131]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_131]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 24 common frames omitted\nCaused by: java.lang.IllegalStateException: WebApplicationObjectSupport instance [ResourceHttpRequestHandler [locations=[class path resource [resources/], class path resource [images/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@39e6b948]]] does not run in a WebApplicationContext but in: org.springframework.context.annotation.AnnotationConfigApplicationContext@19b44076: startup date [Sat Feb 10 09:34:19 EST 2018]; root of context hierarchy\n    at org.springframework.web.context.support.WebApplicationObjectSupport.getWebApplicationContext(WebApplicationObjectSupport.java:112) ~[spring-web-4.3.12.RELEASE.jar:4.3.12.RELEASE]\n    at org.springframework.web.context.support.WebApplicationObjectSupport.getServletContext(WebApplicationObjectSupport.java:128) ~[spring-web-4.3.12.RELEASE.jar:4.3.12.RELEASE]\n    at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.initContentNegotiationStrategy(ResourceHttpRequestHandler.java:306) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\n    at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.afterPropertiesSet(ResourceHttpRequestHandler.java:268) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\n    at org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry.getHandlerMapping(ResourceHandlerRegistry.java:147) ~[spring-webmvc-4.3.12.RELEASE.jar:4.3.12.RELEASE]\n    ... 35 common frames omitted\n</code></pre>\n\n<p>AutoConfiguration.java</p>\n\n<pre><code>@Configuration\n//@EnableAutoConfiguration\n@ConditionalOnClass(MyClass.class)\n@EnableConfigurationProperties(MyProperties.class)\n@ComponentScan({ \"com.boot\", \"com.jspClient\" })\n@SpringBootApplication\npublic class AutoConfiguration {\n\n    private static Log log = LogFactory.getLog(AutoConfiguration.class);\n\n\n\n\n    @Bean\n    public ViewResolver getViewResolver() {\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n        resolver.setPrefix(\"/WEB-INF/jsp/\");\n        resolver.setSuffix(\".jsp\");\n        resolver.setViewClass(JstlView.class);\n        return resolver;\n    }\n\n    /*@Bean  \n    public UrlBasedViewResolver urlBasedViewResolver() {  \n      UrlBasedViewResolver resolver = new UrlBasedViewResolver();  \n      resolver.setPrefix(\"/WEB-INF/jsp/\");  \n      resolver.setSuffix(\".jsp\");\n      resolver.setViewClass(JstlView.class);  \n      return resolver;  \n    }*/\n\n\n    //http://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/simple-mapping-exception-resolver/\n    //https://github.com/paulc4/mvc-exceptions/blob/master/src/main/java/demo/config/ExceptionConfiguration.java\n    @Bean\n    public SimpleMappingExceptionResolver createSimpleMappingExceptionResolver() {\n      SimpleMappingExceptionResolver resolver = new SimpleMappingExceptionResolver();\n      Properties errorMaps = new Properties();\n      errorMaps.setProperty(UserNotFoundException.class.getName(), \"myError\");\n      errorMaps.setProperty(\"Exception\", \"generic_error\");\n      resolver.setExceptionMappings(errorMaps);\n      resolver.setDefaultErrorView(\"generic_error\");\n      resolver.setExceptionAttribute(\"exc\");\n      return resolver;\n   }\n\n    @Bean\n    WebMvcConfigurer configurer () {\n        return new WebMvcConfigurerAdapter() {\n            @Override\n            public void addResourceHandlers (ResourceHandlerRegistry registry) {\n                ResourceHandlerRegistration resourceRegistration  = registry\n                        .addResourceHandler(\"/pages/**\")\n                        .addResourceLocations(\"/resources/\",\"classpath:/images/\")  //Configuring Multiple Locations for a Resource\n                        .setCachePeriod(3600);            //The resources served will be cached in the browser for 3600 seconds\n                registry.addResourceHandler(\"resources/**\").addResourceLocations(\"/resources/\");\n                //registry.addResourceHandler(\"/css/**\").addResourceLocations(\"/css/\");\n                //registry.addResourceHandler(\"/img/**\").addResourceLocations(\"/img/\");\n                //registry.addResourceHandler(\"/js/**\").addResourceLocations(\"/js/\");\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>AppConfig.java</p>\n\n<pre><code>@Configuration \n@ComponentScan(\"com.boot.controllers\") \n@EnableWebMvc\npublic class AppConfig extends WebMvcConfigurerAdapter {  \n\n    @Bean\n    public SimpleMappingExceptionResolver createSimpleMappingExceptionResolver() {\n      SimpleMappingExceptionResolver resolver = new SimpleMappingExceptionResolver();\n      Properties errorMaps = new Properties();\n      errorMaps.setProperty(\"ElectricityNotFoundException\", \"error\");\n      errorMaps.setProperty(\"NullPointerException\", \"error\");\n      resolver.setExceptionMappings(errorMaps);\n      resolver.setDefaultErrorView(\"globalerror\");\n      resolver.setExceptionAttribute(\"exc\");\n      return resolver;\n   }\n}\n</code></pre>\n\n<p>WebAppInitializer.java</p>\n\n<pre><code>public class WebAppInitializer implements WebApplicationInitializer {\n    public void onStartup(ServletContext servletContext) throws ServletException {  \n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();  \n        ctx.register(AppConfig.class);  \n        ctx.setServletContext(servletContext);    \n        Dynamic dynamic = servletContext.addServlet(\"dispatcher\", new DispatcherServlet(ctx));  \n        dynamic.addMapping(\"/\");  \n        dynamic.setLoadOnStartup(1);  \n   }  \n} \n</code></pre>\n\n<p>ClientMain.java</p>\n\n<pre><code>@ComponentScan(\"com.boot\") // to scan controller under com.boot -&gt; com.boot.controllers\n@SpringBootApplication\npublic class ClientMain {\n\n    private static SpringApplicationBuilder start(Class&lt;?&gt;... sources) {\n        return new SpringApplicationBuilder(ClientMain.class)\n            .child(sources);\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        // using just Spring alone\n        /*ApplicationContext context = new AnnotationConfigApplicationContext(AutoConfiguration.class);\n\n    }\n\n}\n</code></pre>\n\n<p>JspClientMain.java</p>\n\n<pre><code>@ComponentScan(\"com.boot\") \n@SpringBootApplication\npublic class JspClientMain {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JspClientMain.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","mockmvc"],"comments":[{"owner":{"account_id":31954,"reputation":31434,"user_id":88111,"accept_rate":89,"display_name":"Craig Otis"},"score":0,"creation_date":1559651412,"post_id":56294762,"comment_id":99481310,"body_markdown":"Yea, I&#39;m running into this too. Super annoying to have a single test failure spit out *thousands* of lines of unrelated mock request code.","body":"Yea, I&#39;m running into this too. Super annoying to have a single test failure spit out <i>thousands</i> of lines of unrelated mock request code."}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558714844,"creation_date":1558714844,"answer_id":56296329,"question_id":56294762,"body_markdown":"So I tried to dive a bit more into the `SpringBootMockMvcBuilderCustomizer` implementation and everything appears to be `private` or `protected`, preventing to reuse anything (not even sure you can reuse the `PrintingResultHandler` itself, which you are forced to extend since the only constructor is `protected`).\r\n\r\nUsing reflection is not too hard though, add this to the test:\r\n\r\n\t@Autowired\r\n\tprivate ApplicationContext context;\r\n\tprivate Runnable linesWriterClearer;\r\n\r\n\t@PostConstruct\r\n\tpublic void initLinesWriterClearer() throws NoSuchFieldException, IllegalAccessException {\r\n\t\tObject linesWriter = context.getBean(&quot;org.springframework.boot.test.autoconfigure.web.servlet.SpringBootMockMvcBuilderCustomizer$DeferredLinesWriter&quot;);\r\n\t\tField linesField = linesWriter.getClass().getDeclaredField(&quot;lines&quot;);\r\n\t\tlinesField.setAccessible(true);\r\n\t\tList&lt;?&gt; lines = (List&lt;?&gt;) linesField.get(linesWriter);\r\n\t\tlinesWriterClearer = lines::clear;\r\n\t}\r\n\r\n\t@Before\r\n\tpublic void clearLinesWriter() {\r\n\t\tlinesWriterClearer.run();\r\n\t}\r\n\r\nNot very clean and may probably break in a future version of Spring Boot, but it works.\r\n\r\nI would hope a better solution could be implemented but I&#39;m afraid it won&#39;t be possible.","title":"How to print only the requests of the failed test with @AutoConfigureMockMvc?","body":"<p>So I tried to dive a bit more into the <code>SpringBootMockMvcBuilderCustomizer</code> implementation and everything appears to be <code>private</code> or <code>protected</code>, preventing to reuse anything (not even sure you can reuse the <code>PrintingResultHandler</code> itself, which you are forced to extend since the only constructor is <code>protected</code>).</p>\n\n<p>Using reflection is not too hard though, add this to the test:</p>\n\n<pre><code>@Autowired\nprivate ApplicationContext context;\nprivate Runnable linesWriterClearer;\n\n@PostConstruct\npublic void initLinesWriterClearer() throws NoSuchFieldException, IllegalAccessException {\n    Object linesWriter = context.getBean(\"org.springframework.boot.test.autoconfigure.web.servlet.SpringBootMockMvcBuilderCustomizer$DeferredLinesWriter\");\n    Field linesField = linesWriter.getClass().getDeclaredField(\"lines\");\n    linesField.setAccessible(true);\n    List&lt;?&gt; lines = (List&lt;?&gt;) linesField.get(linesWriter);\n    linesWriterClearer = lines::clear;\n}\n\n@Before\npublic void clearLinesWriter() {\n    linesWriterClearer.run();\n}\n</code></pre>\n\n<p>Not very clean and may probably break in a future version of Spring Boot, but it works.</p>\n\n<p>I would hope a better solution could be implemented but I'm afraid it won't be possible.</p>\n"},{"tags":[],"owner":{"account_id":22752502,"reputation":11,"user_id":16912476,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647442788,"creation_date":1647297136,"answer_id":71474926,"question_id":56294762,"body_markdown":"I’m unsure if anyone is still interested into this but I remember I did this few years ago on another non Spring boot project and probably before the `printOnlyOnFailure` option was introduced but I don’t really understand why it prints every previous executed tests on `v5.0.5` (I haven’t tested higher versions)\r\n\r\nLike you I need it back on a newer project today, it took me some hours to remind how I did this, I think I found the original idea on stackoverflow too, so here is the short answer as an attempt to resurrect this excellent idea (I’m currently not in front of the sources but feel free to ask the implementation, it is possible with just Junit4 or Junit5 without reflection)\r\n\r\nShort answer :\r\n\r\n - Register a Junit5 [TestWatcher](https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/extension/TestWatcher.html)\r\n - Override the `testFailed()` method\r\n - When your JUnit test executes, store the mockmvc’s\r\n   [ResultActions](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/ResultActions.html)\r\n - On failure, call `print().handle(result.andReturn())`\r\n - Annotate your test Abstract/Config with `@AutoConfigureMockMvc(print = MockMvcPrint.NONE)`\r\n\r\nresultActions being the instance the last test failure saved.\r\n\r\nThe downside is that you have to write your test like that\r\n\r\n    result = mvc\r\n        .perform();\r\n    result\r\n        .andExpect()\r\n        .andExpect();\r\n\r\nNot perfect but I find this way more elegant than using reflection :)\r\n\r\n","title":"How to print only the requests of the failed test with @AutoConfigureMockMvc?","body":"<p>I’m unsure if anyone is still interested into this but I remember I did this few years ago on another non Spring boot project and probably before the <code>printOnlyOnFailure</code> option was introduced but I don’t really understand why it prints every previous executed tests on <code>v5.0.5</code> (I haven’t tested higher versions)</p>\n<p>Like you I need it back on a newer project today, it took me some hours to remind how I did this, I think I found the original idea on stackoverflow too, so here is the short answer as an attempt to resurrect this excellent idea (I’m currently not in front of the sources but feel free to ask the implementation, it is possible with just Junit4 or Junit5 without reflection)</p>\n<p>Short answer :</p>\n<ul>\n<li>Register a Junit5 <a href=\"https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/extension/TestWatcher.html\" rel=\"nofollow noreferrer\">TestWatcher</a></li>\n<li>Override the <code>testFailed()</code> method</li>\n<li>When your JUnit test executes, store the mockmvc’s\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/ResultActions.html\" rel=\"nofollow noreferrer\">ResultActions</a></li>\n<li>On failure, call <code>print().handle(result.andReturn())</code></li>\n<li>Annotate your test Abstract/Config with <code>@AutoConfigureMockMvc(print = MockMvcPrint.NONE)</code></li>\n</ul>\n<p>resultActions being the instance the last test failure saved.</p>\n<p>The downside is that you have to write your test like that</p>\n<pre><code>result = mvc\n    .perform();\nresult\n    .andExpect()\n    .andExpect();\n</code></pre>\n<p>Not perfect but I find this way more elegant than using reflection :)</p>\n"}],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1019,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1647442788,"creation_date":1558708418,"question_id":56294762,"body_markdown":"In our project we are using `@AutoConfigureMockMvc` with `printOnlyOnFailure` left as default, `true`.\r\n\r\nThis works fine and prints none of the requests… except if any test fails. At that point, it prints **all** requests from **ALL** tests that have been executed before. Although this might sometimes be useful, this may print an enormous amount of log, and if it happens on our CI server, the log gets truncated and we cannot even see which test failed (since the `AssertionError` is printed afterwards.\r\n\r\nEven worse: if multiple tests fail, all previous requests are printed for each failing test.\r\n\r\n**Is it possible to configure it such that it will only print the requests of the failing tests?**\r\n\r\nHere is a sample test to reproduce the problem:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public class MockMvcTest {\r\n    \t@Autowired\r\n    \tprivate MockMvc mockMvc;\r\n    \r\n    \t@Test\r\n    \tpublic void successfulTest() throws Exception {\r\n    \t\tmockMvc.perform(get(&quot;/successfulTest&quot;))\r\n    \t\t\t\t.andExpect(status().isNotFound());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void failingTest() throws Exception {\r\n    \t\tmockMvc.perform(get(&quot;/failingTest&quot;))\r\n    \t\t\t\t.andExpect(status().isOk());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void failingTest2() throws Exception {\r\n    \t\tmockMvc.perform(get(&quot;/failingTest2&quot;))\r\n    \t\t\t\t.andExpect(status().isOk());\r\n    \t}\r\n    \r\n    \t@Configuration\r\n    \tstatic class TestApplication {\r\n    \t}\r\n    }\r\n\r\nWe are using spring-boot 1.5.14 and Java 8. I also reproduced the problem with spring-boot 2.1.4.\r\n\r\nFrom what I could find, the log lines are stored in `org.springframework.boot.test.autoconfigure.web.servlet.SpringBootMockMvcBuilderCustomizer.DeferredLinesWriter.lines` and never get reset, nor does there seem to be a way to reset it – and I&#39;d prefer to avoid doing it through reflexion.","title":"How to print only the requests of the failed test with @AutoConfigureMockMvc?","body":"<p>In our project we are using <code>@AutoConfigureMockMvc</code> with <code>printOnlyOnFailure</code> left as default, <code>true</code>.</p>\n\n<p>This works fine and prints none of the requests… except if any test fails. At that point, it prints <strong>all</strong> requests from <strong>ALL</strong> tests that have been executed before. Although this might sometimes be useful, this may print an enormous amount of log, and if it happens on our CI server, the log gets truncated and we cannot even see which test failed (since the <code>AssertionError</code> is printed afterwards.</p>\n\n<p>Even worse: if multiple tests fail, all previous requests are printed for each failing test.</p>\n\n<p><strong>Is it possible to configure it such that it will only print the requests of the failing tests?</strong></p>\n\n<p>Here is a sample test to reproduce the problem:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class MockMvcTest {\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void successfulTest() throws Exception {\n        mockMvc.perform(get(\"/successfulTest\"))\n                .andExpect(status().isNotFound());\n    }\n\n    @Test\n    public void failingTest() throws Exception {\n        mockMvc.perform(get(\"/failingTest\"))\n                .andExpect(status().isOk());\n    }\n\n    @Test\n    public void failingTest2() throws Exception {\n        mockMvc.perform(get(\"/failingTest2\"))\n                .andExpect(status().isOk());\n    }\n\n    @Configuration\n    static class TestApplication {\n    }\n}\n</code></pre>\n\n<p>We are using spring-boot 1.5.14 and Java 8. I also reproduced the problem with spring-boot 2.1.4.</p>\n\n<p>From what I could find, the log lines are stored in <code>org.springframework.boot.test.autoconfigure.web.servlet.SpringBootMockMvcBuilderCustomizer.DeferredLinesWriter.lines</code> and never get reset, nor does there seem to be a way to reset it – and I'd prefer to avoid doing it through reflexion.</p>\n"},{"tags":["java","awt","mouse-cursor"],"answers":[{"tags":[],"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1402865760,"creation_date":1402865384,"answer_id":24233992,"question_id":24233542,"body_markdown":"See `cursors.properties` files that defines custom system cursors. It resides in `&lt;path_to_jre&gt;\\lib\\images\\cursors` folder. For example there is a definition of `MoveDrop.32x32`: \r\n\r\n    Cursor.MoveDrop.32x32.File=win32_MoveDrop32x32.gif\r\n    Cursor.MoveDrop.32x32.HotSpot=0,0\r\n    Cursor.MoveDrop.32x32.Name=MoveDrop32x32\r\n\r\nSee [Custom Cursor Shapes][1] article for a custom cursor definition example. \r\n\r\nNot sure there is a way to query this file for predefined system cursors. So this method may not be very useful in certain scenarios.\r\n\r\nSee [Toolkit.createCustomCursor()][2] for a simpler way to create a custom cursor. Or you can use [Cursor.getPredefinedCursor][3] to get predefined cursors.\r\n\r\n\r\n  [1]: http://www.quepublishing.com/articles/article.aspx?p=21126&amp;seqNum=3\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/awt/Toolkit.html#createCustomCursor%28java.awt.Image,%20java.awt.Point,%20java.lang.String%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/awt/Cursor.html#getPredefinedCursor%28int%29","title":"What cursors are available through Cursor.getSystemCustomCursor?","body":"<p>See <code>cursors.properties</code> files that defines custom system cursors. It resides in <code>&lt;path_to_jre&gt;\\lib\\images\\cursors</code> folder. For example there is a definition of <code>MoveDrop.32x32</code>: </p>\n\n<pre><code>Cursor.MoveDrop.32x32.File=win32_MoveDrop32x32.gif\nCursor.MoveDrop.32x32.HotSpot=0,0\nCursor.MoveDrop.32x32.Name=MoveDrop32x32\n</code></pre>\n\n<p>See <a href=\"http://www.quepublishing.com/articles/article.aspx?p=21126&amp;seqNum=3\" rel=\"noreferrer\">Custom Cursor Shapes</a> article for a custom cursor definition example. </p>\n\n<p>Not sure there is a way to query this file for predefined system cursors. So this method may not be very useful in certain scenarios.</p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Toolkit.html#createCustomCursor%28java.awt.Image,%20java.awt.Point,%20java.lang.String%29\" rel=\"noreferrer\">Toolkit.createCustomCursor()</a> for a simpler way to create a custom cursor. Or you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Cursor.html#getPredefinedCursor%28int%29\" rel=\"noreferrer\">Cursor.getPredefinedCursor</a> to get predefined cursors.</p>\n"}],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1645,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":24233992,"answer_count":1,"score":5,"last_activity_date":1647442551,"creation_date":1402862098,"question_id":24233542,"body_markdown":"`java.awt.Cursor` has a method [`getSystemCustomCursor(String name)`](http://docs.oracle.com/javase/8/docs/api/java/awt/Cursor.html#getSystemCustomCursor-java.lang.String-).\r\n\r\nThe documentation there gives only one example of a name: &quot;Invalid.16x16&quot;. That doesn&#39;t seem to work, but &quot;Invalid.32x32&quot; does. Through googling, I&#39;ve found one other example of a useful working name: &quot;MoveDrop.32x32&quot;.\r\n\r\nThis method seems like it could be useful. For example, there is no predefined &quot;working in background&quot; (mixed arrow/hourglass) cursor but perhaps it&#39;s available through this method.\r\n\r\nWhat cursor names are available, or how can I enumerate them on a particular system?","title":"What cursors are available through Cursor.getSystemCustomCursor?","body":"<p><code>java.awt.Cursor</code> has a method <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Cursor.html#getSystemCustomCursor-java.lang.String-\" rel=\"nofollow noreferrer\"><code>getSystemCustomCursor(String name)</code></a>.</p>\n<p>The documentation there gives only one example of a name: &quot;Invalid.16x16&quot;. That doesn't seem to work, but &quot;Invalid.32x32&quot; does. Through googling, I've found one other example of a useful working name: &quot;MoveDrop.32x32&quot;.</p>\n<p>This method seems like it could be useful. For example, there is no predefined &quot;working in background&quot; (mixed arrow/hourglass) cursor but perhaps it's available through this method.</p>\n<p>What cursor names are available, or how can I enumerate them on a particular system?</p>\n"},{"tags":["java","spring","spring-boot","api-gateway"],"comments":[{"owner":{"account_id":21638264,"reputation":39,"user_id":15960900,"display_name":"soham"},"score":0,"creation_date":1647471689,"post_id":71497094,"comment_id":126383041,"body_markdown":"PostMapping(value = &quot;/payments/{appointmentId}&quot;) is used as client by user and @PostMapping(value = &quot;/v1/payments/{appointmentId}&quot;) is used by feign client both are different","body":"PostMapping(value = &quot;/payments/{appointmentId}&quot;) is used as client by user and @PostMapping(value = &quot;/v1/payments/{appointmentId}&quot;) is used by feign client both are different"},{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1647501665,"post_id":71497094,"comment_id":126388236,"body_markdown":"Does https://stackoverflow.com/q/41401009/2886891, or https://stackoverflow.com/a/68351653/2886891 help?","body":"Does <a href=\"https://stackoverflow.com/q/41401009/2886891\">stackoverflow.com/q/41401009/2886891</a>, or <a href=\"https://stackoverflow.com/a/68351653/2886891\">stackoverflow.com/a/68351653/2886891</a> help?"}],"owner":{"account_id":21638264,"reputation":39,"user_id":15960900,"display_name":"soham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647442243,"creation_date":1647433695,"question_id":71497094,"body_markdown":"I am working on 3 spring boot application from which 2 applications i am using for communication between the two i am using feign client also i am 1 application for  api-gateway which has all the entries for diffrent application \r\nfeign client controller is \r\n```\r\n@Autowired\r\n    PaymentService paymentService;\r\n    @PostMapping(value = &quot;/payments/{appointmentId}&quot;)\r\n    public String changePaymentStatus(@PathVariable(name = &quot;appointmentId&quot;)String appointmentId){\r\n        paymentService.changePaymentStatus(appointmentId);\r\n        return &quot;Done&quot;;\r\n    }\r\n```\r\n\r\nhere is the feign client code\r\n```import org.springframework.cloud.openfeign.FeignClient;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\n\r\n@FeignClient(name = &quot;API-GATEWAY&quot;)\r\npublic interface AppointmentServiceClient {\r\n    @RequestMapping(value = &quot;${appointmentApp.changePaymentStatus}&quot;,method = RequestMethod.POST)\r\n    public String changePaymentStatus(@PathVariable(name = &quot;appointmentId&quot;)String appointmentId);\r\n}\r\n```  \r\nHere i have used &quot;API-GATEWAY&quot; because the there is one application running with this name and its application.yml file is here\r\n```server:\r\n  port: 9191\r\n\r\nspring:\r\n  application:\r\n    name: API-GATEWAY\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: DOCTOR-SERVICE\r\n          uri: lb://DOCTOR-SERVICE\r\n          predicates:\r\n            - Path=/doctor_app/**\r\n\r\n        - id: APPOINTMENT-SERVICE\r\n          uri: lb://APPOINTMENT-SERVICE\r\n          predicates:\r\n            - Path=/appointment_app/**\r\n\r\n        - id: USER-ON-BOARDING-SERVICE\r\n          uri: lb://USER-ON-BOARDING-SERVICE\r\n          predicates:\r\n            - Path=/user_app/**\r\n\r\n        - id: RATING-SERVICE\r\n          uri: lb://RATING-SERVICE\r\n          predicates:\r\n            - Path=/rating_app/**\r\n\r\n        - id: PAYMENT-SERVICE\r\n          uri: lb://PAYMENT-SERVICE\r\n          predicates:\r\n            - Path=/payment_app/**\r\n    discovery:\r\n      enabled: true\r\n```\r\nAlso the value in @RequestMapping of AppointmentServiceClient has application.properties as shown here\r\n\r\n```\r\nappointmentApp.address = http://APPOINTMENT-SERVICE \r\nappointmentApp.changePaymentStatus = /appointment_app/v1/payments/{appointmentId}\r\n```\r\nHere i am want to call APPOINTMENT-SERVICE through api-gateway using feign client \r\n\r\nAlso the controller method which the feign client is trying to call is \r\n```\r\n@PostMapping(value = &quot;/v1/payments/{appointmentId}&quot;)\r\n    public String changePaymentStatus(@PathVariable(name = &quot;appointmentId&quot;)String appointmentId){\r\n        appointmentService.changePaymentStatus(appointmentId);\r\n        return &quot;done&quot;;\r\n    }\r\n```\r\nBy doing a POST from postman i am getting feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://API-GATEWAY/appointment_app/v1/payments/ndjkccbc7868] [AppointmentServiceClient#changePaymentStatus(String)]: [Load balancer does not contain an instance for the service API-GATEWAY]\r\n","title":"Load balancer does not contain an instance for the service API-GATEWAY","body":"<p>I am working on 3 spring boot application from which 2 applications i am using for communication between the two i am using feign client also i am 1 application for  api-gateway which has all the entries for diffrent application\nfeign client controller is</p>\n<pre><code>@Autowired\n    PaymentService paymentService;\n    @PostMapping(value = &quot;/payments/{appointmentId}&quot;)\n    public String changePaymentStatus(@PathVariable(name = &quot;appointmentId&quot;)String appointmentId){\n        paymentService.changePaymentStatus(appointmentId);\n        return &quot;Done&quot;;\n    }\n</code></pre>\n<p>here is the feign client code</p>\n<pre><code>import org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n@FeignClient(name = &quot;API-GATEWAY&quot;)\npublic interface AppointmentServiceClient {\n    @RequestMapping(value = &quot;${appointmentApp.changePaymentStatus}&quot;,method = RequestMethod.POST)\n    public String changePaymentStatus(@PathVariable(name = &quot;appointmentId&quot;)String appointmentId);\n}\n</code></pre>\n<p>Here i have used &quot;API-GATEWAY&quot; because the there is one application running with this name and its application.yml file is here</p>\n<pre><code>  port: 9191\n\nspring:\n  application:\n    name: API-GATEWAY\n  cloud:\n    gateway:\n      routes:\n        - id: DOCTOR-SERVICE\n          uri: lb://DOCTOR-SERVICE\n          predicates:\n            - Path=/doctor_app/**\n\n        - id: APPOINTMENT-SERVICE\n          uri: lb://APPOINTMENT-SERVICE\n          predicates:\n            - Path=/appointment_app/**\n\n        - id: USER-ON-BOARDING-SERVICE\n          uri: lb://USER-ON-BOARDING-SERVICE\n          predicates:\n            - Path=/user_app/**\n\n        - id: RATING-SERVICE\n          uri: lb://RATING-SERVICE\n          predicates:\n            - Path=/rating_app/**\n\n        - id: PAYMENT-SERVICE\n          uri: lb://PAYMENT-SERVICE\n          predicates:\n            - Path=/payment_app/**\n    discovery:\n      enabled: true\n</code></pre>\n<p>Also the value in @RequestMapping of AppointmentServiceClient has application.properties as shown here</p>\n<pre><code>appointmentApp.address = http://APPOINTMENT-SERVICE \nappointmentApp.changePaymentStatus = /appointment_app/v1/payments/{appointmentId}\n</code></pre>\n<p>Here i am want to call APPOINTMENT-SERVICE through api-gateway using feign client</p>\n<p>Also the controller method which the feign client is trying to call is</p>\n<pre><code>@PostMapping(value = &quot;/v1/payments/{appointmentId}&quot;)\n    public String changePaymentStatus(@PathVariable(name = &quot;appointmentId&quot;)String appointmentId){\n        appointmentService.changePaymentStatus(appointmentId);\n        return &quot;done&quot;;\n    }\n</code></pre>\n<p>By doing a POST from postman i am getting feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://API-GATEWAY/appointment_app/v1/payments/ndjkccbc7868] [AppointmentServiceClient#changePaymentStatus(String)]: [Load balancer does not contain an instance for the service API-GATEWAY]</p>\n"},{"tags":["java","spring","heroku","spring-boot"],"comments":[{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":1,"creation_date":1437090288,"post_id":31465992,"comment_id":50898738,"body_markdown":"does your application have a `pom.xml` file in the root directory? If Heroku doesn&#39;t find one, it will give you the `no Cedar-supported app detected` error.","body":"does your application have a <code>pom.xml</code> file in the root directory? If Heroku doesn&#39;t find one, it will give you the <code>no Cedar-supported app detected</code> error."},{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":1,"creation_date":1437090332,"post_id":31465992,"comment_id":50898755,"body_markdown":"also, the `Procfile` needs to go in the root directory.","body":"also, the <code>Procfile</code> needs to go in the root directory."},{"owner":{"account_id":6473379,"reputation":195,"user_id":5012796,"accept_rate":67,"display_name":"beginnerCoder"},"score":0,"creation_date":1437155927,"post_id":31465992,"comment_id":50929020,"body_markdown":"@codefinger Okay so now I put everything in the root directory but the target folder is empty, it doesn&#39;t have the pom.xml or pom.properties. Is that normal for spring boot projects. Because it gives me the error that its unable to access the jetty-runner jar file in target/dependency. I think that has to do with my target folder being empty. How can I fix this?","body":"@codefinger Okay so now I put everything in the root directory but the target folder is empty, it doesn&#39;t have the pom.xml or pom.properties. Is that normal for spring boot projects. Because it gives me the error that its unable to access the jetty-runner jar file in target/dependency. I think that has to do with my target folder being empty. How can I fix this?"}],"answers":[{"tags":[],"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1440364230,"creation_date":1440339640,"answer_id":32167645,"question_id":31465992,"body_markdown":"I had, I believe, the same problem and it was caused by my git root directory not being the same as your project root. This was also my project structure:\r\n\r\n    -gitRoot\r\n      |___projectDirectory\r\n               |____code...\r\n               |____Procfile\r\n               |____pom.xml \r\n\r\nBecause we are using `git push heroku master` or similar, Heroku (upon receiving our project) assumes that the root directory of git is the root directory of the project. It then looks in `gitRoot` for the `pom.xml` and the `Procfile`. When it doesn&#39;t find them, you see our familiar error.\r\n\r\nI simply moved my `.git` folder and `.gitignore` file into the `projectDirectory` and ran:\r\n\r\n    git add . -A\r\n    git commit -m &quot;Move the git root down to project root.&quot;\r\n    mvn clean install\r\n    git push heroku master\r\n\r\nThat worked a treat, but don&#39;t forget to update your `.gitignore` file and clear the cache before committing next. The new project structure looked like this.\r\n\r\n    projectDirectory\r\n               |____code...\r\n               |____Procfile\r\n               |____pom.xml\r\n\r\nIn the above the `projectDirectory` is also the git root directory. \r\n\r\nI hope someone finds this helpful.","title":"Heroku cannot detect the buildpack - Spring Boot","body":"<p>I had, I believe, the same problem and it was caused by my git root directory not being the same as your project root. This was also my project structure:</p>\n\n<pre><code>-gitRoot\n  |___projectDirectory\n           |____code...\n           |____Procfile\n           |____pom.xml \n</code></pre>\n\n<p>Because we are using <code>git push heroku master</code> or similar, Heroku (upon receiving our project) assumes that the root directory of git is the root directory of the project. It then looks in <code>gitRoot</code> for the <code>pom.xml</code> and the <code>Procfile</code>. When it doesn't find them, you see our familiar error.</p>\n\n<p>I simply moved my <code>.git</code> folder and <code>.gitignore</code> file into the <code>projectDirectory</code> and ran:</p>\n\n<pre><code>git add . -A\ngit commit -m \"Move the git root down to project root.\"\nmvn clean install\ngit push heroku master\n</code></pre>\n\n<p>That worked a treat, but don't forget to update your <code>.gitignore</code> file and clear the cache before committing next. The new project structure looked like this.</p>\n\n<pre><code>projectDirectory\n           |____code...\n           |____Procfile\n           |____pom.xml\n</code></pre>\n\n<p>In the above the <code>projectDirectory</code> is also the git root directory. </p>\n\n<p>I hope someone finds this helpful.</p>\n"},{"tags":[],"owner":{"account_id":8758381,"reputation":764,"user_id":7501361,"display_name":"Nicodemus Ojwee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647441832,"creation_date":1485964386,"answer_id":41984094,"question_id":31465992,"body_markdown":"your need your war file and pom.xml in one directory and it worked.\r\nUsed dropbox to deploy\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aSXcV.png","title":"Heroku cannot detect the buildpack - Spring Boot","body":"<p>your need your war file and pom.xml in one directory and it worked.\nUsed dropbox to deploy</p>\n<p><a href=\"https://i.stack.imgur.com/aSXcV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aSXcV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6473379,"reputation":195,"user_id":5012796,"accept_rate":67,"display_name":"beginnerCoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3637,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1647441832,"creation_date":1437087779,"question_id":31465992,"body_markdown":"I&#39;m trying to deploy my web service on Heroku which is a Spring Boot project (Java) and its gives me the following error when I try to push to Heroku:\r\n\r\n    Fetching custom git buildpack... done\r\n    remote: \r\n    remote:  !     Push rejected, no Cedar-supported app detected\r\n    remote: HINT: This occurs when Heroku cannot detect the buildpack\r\n    remote:       to use for this application automatically.\r\n    remote: See https://devcenter.heroku.com/articles/buildpacks\r\n\r\nI tried using the custom build pack of Java but it still doesn&#39;t work. Does anybody have any idea on how I can fix this. Any help would be really appreciated. \r\n\r\nI also have jetty-runner dependency and plugin. I also created a Procfile which is defined as the following:\r\n\r\n    web: java $JAVA_OPTS -jar target/dependency/jetty-runner.jar --port $PORT target/*.war\r\n\r\nMy directory for the project is as follows (I don&#39;t know if this matters):\r\n\r\n    -root\r\n      |___projectDirectory\r\n      |        |____code...\r\n      |        |____Procfile\r\n      |___readme","title":"Heroku cannot detect the buildpack - Spring Boot","body":"<p>I'm trying to deploy my web service on Heroku which is a Spring Boot project (Java) and its gives me the following error when I try to push to Heroku:</p>\n\n<pre><code>Fetching custom git buildpack... done\nremote: \nremote:  !     Push rejected, no Cedar-supported app detected\nremote: HINT: This occurs when Heroku cannot detect the buildpack\nremote:       to use for this application automatically.\nremote: See https://devcenter.heroku.com/articles/buildpacks\n</code></pre>\n\n<p>I tried using the custom build pack of Java but it still doesn't work. Does anybody have any idea on how I can fix this. Any help would be really appreciated. </p>\n\n<p>I also have jetty-runner dependency and plugin. I also created a Procfile which is defined as the following:</p>\n\n<pre><code>web: java $JAVA_OPTS -jar target/dependency/jetty-runner.jar --port $PORT target/*.war\n</code></pre>\n\n<p>My directory for the project is as follows (I don't know if this matters):</p>\n\n<pre><code>-root\n  |___projectDirectory\n  |        |____code...\n  |        |____Procfile\n  |___readme\n</code></pre>\n"},{"tags":["java","file","date","time","calendar"],"answers":[{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326326102,"creation_date":1326326102,"answer_id":8828437,"question_id":8828314,"body_markdown":"Just calling several File class getters... Check the javadocs for the File class and look at this tutorial: [http://docs.oracle.com/javase/tutorial/essential/io/fileAttr.html][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/io/fileAttr.html","title":"Getting file attributes in Java","body":"<p>Just calling several File class getters... Check the javadocs for the File class and look at this tutorial: <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/fileAttr.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/io/fileAttr.html</a></p>\n"},{"tags":[],"owner":{"display_name":"user130076"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326326211,"creation_date":1326326211,"answer_id":8828450,"question_id":8828314,"body_markdown":"If you want the version of an executable file then that is almost impossible to do in the general case as there is no standard way of versioning the files (within that file format). \r\n\r\nThe other information should be easy to get. Checkout this answer:\r\n https://stackoverflow.com/questions/32586/how-to-discover-a-files-creation-time-with-java","title":"Getting file attributes in Java","body":"<p>If you want the version of an executable file then that is almost impossible to do in the general case as there is no standard way of versioning the files (within that file format). </p>\n\n<p>The other information should be easy to get. Checkout this answer:\n <a href=\"https://stackoverflow.com/questions/32586/how-to-discover-a-files-creation-time-with-java\">How to discover a File&#39;s creation time with Java?</a></p>\n"},{"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326326491,"creation_date":1326326491,"answer_id":8828480,"question_id":8828314,"body_markdown":"Look at the `java.io.File` class. It has methods like `canExecute()`, `length()`.\r\n\r\nCreation date: Read [this post][1]. \r\n\r\nEfficient way to get the file size: https://stackoverflow.com/questions/116574/java-get-file-size-efficiently\r\n\r\n\r\n  [1]: http://www.jguru.com/faq/view.jsp?EID=1297118","title":"Getting file attributes in Java","body":"<p>Look at the <code>java.io.File</code> class. It has methods like <code>canExecute()</code>, <code>length()</code>.</p>\n\n<p>Creation date: Read <a href=\"http://www.jguru.com/faq/view.jsp?EID=1297118\" rel=\"nofollow noreferrer\">this post</a>. </p>\n\n<p>Efficient way to get the file size: <a href=\"https://stackoverflow.com/questions/116574/java-get-file-size-efficiently\">java get file size efficiently</a></p>\n"},{"tags":[],"owner":{"account_id":49680,"reputation":777,"user_id":1144542,"display_name":"Chuck Adams"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1326326818,"creation_date":1326326818,"answer_id":8828517,"question_id":8828314,"body_markdown":"Presumably you&#39;re referring to NTFS Extended Attributes here, and it&#39;s only recently (as of Java SE 7) that you&#39;ve been able to get at these without some kind of windows specific JNI hackery.  This should be doable with the new NIO2 file attributes interface.  Some of these attributes, such as size, are basic attributes, while others such as version are &quot;user&quot; attributes.  \r\n\r\nProbably the best page with examples that explains the use of this API is at http://www.ibm.com/developerworks/java/library/j-nio2-2/  -- search down for &quot;File attributes&quot; if you&#39;re not interested in the examples of the other APIs.\r\n\r\n","title":"Getting file attributes in Java","body":"<p>Presumably you're referring to NTFS Extended Attributes here, and it's only recently (as of Java SE 7) that you've been able to get at these without some kind of windows specific JNI hackery.  This should be doable with the new NIO2 file attributes interface.  Some of these attributes, such as size, are basic attributes, while others such as version are \"user\" attributes.  </p>\n\n<p>Probably the best page with examples that explains the use of this API is at <a href=\"http://www.ibm.com/developerworks/java/library/j-nio2-2/\" rel=\"noreferrer\">http://www.ibm.com/developerworks/java/library/j-nio2-2/</a>  -- search down for \"File attributes\" if you're not interested in the examples of the other APIs.</p>\n"},{"tags":[],"owner":{"account_id":10719663,"reputation":21,"user_id":9117294,"display_name":"Tom Mendes Pereira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647441695,"creation_date":1647441695,"answer_id":71499068,"question_id":8828314,"body_markdown":"Simple example:\r\n\r\nYou&#39;ll need some imports...\r\n\r\n        import java.nio.file.Path;\r\n        import java.nio.file.Files;\r\n        import java.nio.file.Paths;\r\n        import java.nio.file.attribute.BasicFileAttributes;\r\n\r\n        String fileRoot = &quot;&quot;;\r\n        File file = new File(fileRoot);\r\n        if (file.isFile()) {\r\n            Path path = Paths.get(fileRoot);\r\n            BasicFileAttributes attr;\r\n            try {\r\n                attr = Files.readAttributes(path, BasicFileAttributes.class);\r\n                System.out.println(&quot;creationTime     = &quot; + attr.creationTime());\r\n                System.out.println(&quot;lastAccessTime   = &quot; + attr.lastAccessTime());\r\n                System.out.println(&quot;lastModifiedTime = &quot; + attr.lastModifiedTime());\r\n\r\n                System.out.println(&quot;isDirectory      = &quot; + attr.isDirectory());\r\n                System.out.println(&quot;isOther          = &quot; + attr.isOther());\r\n                System.out.println(&quot;isRegularFile    = &quot; + attr.isRegularFile());\r\n                System.out.println(&quot;isSymbolicLink   = &quot; + attr.isSymbolicLink());\r\n                System.out.println(&quot;size             = &quot; + attr.size());\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(MGSiap.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }","title":"Getting file attributes in Java","body":"<p>Simple example:</p>\n<p>You'll need some imports...</p>\n<pre><code>    import java.nio.file.Path;\n    import java.nio.file.Files;\n    import java.nio.file.Paths;\n    import java.nio.file.attribute.BasicFileAttributes;\n\n    String fileRoot = &quot;&quot;;\n    File file = new File(fileRoot);\n    if (file.isFile()) {\n        Path path = Paths.get(fileRoot);\n        BasicFileAttributes attr;\n        try {\n            attr = Files.readAttributes(path, BasicFileAttributes.class);\n            System.out.println(&quot;creationTime     = &quot; + attr.creationTime());\n            System.out.println(&quot;lastAccessTime   = &quot; + attr.lastAccessTime());\n            System.out.println(&quot;lastModifiedTime = &quot; + attr.lastModifiedTime());\n\n            System.out.println(&quot;isDirectory      = &quot; + attr.isDirectory());\n            System.out.println(&quot;isOther          = &quot; + attr.isOther());\n            System.out.println(&quot;isRegularFile    = &quot; + attr.isRegularFile());\n            System.out.println(&quot;isSymbolicLink   = &quot; + attr.isSymbolicLink());\n            System.out.println(&quot;size             = &quot; + attr.size());\n        } catch (IOException ex) {\n            Logger.getLogger(MGSiap.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1166073,"reputation":21,"user_id":1144342,"display_name":"user1144342"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22422,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1647441695,"creation_date":1326325217,"question_id":8828314,"body_markdown":"Given a `java.io.File` that represents a `.exe` file, how can I discover the file attributes - for example:  size and date created, and how could I discover the data in the executable properties - for example: file version?","title":"Getting file attributes in Java","body":"<p>Given a <code>java.io.File</code> that represents a <code>.exe</code> file, how can I discover the file attributes - for example:  size and date created, and how could I discover the data in the executable properties - for example: file version?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"score":0,"creation_date":1647442789,"post_id":71499059,"comment_id":126373016,"body_markdown":"What&#39;s your test device? Do you have the same problem with your Samsung or Pixel phone? in Huawei and Xiaomi devices OS kill background tasks, we have the same issue with notification.","body":"What&#39;s your test device? Do you have the same problem with your Samsung or Pixel phone? in Huawei and Xiaomi devices OS kill background tasks, we have the same issue with notification."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1647448692,"post_id":71499059,"comment_id":126375754,"body_markdown":"WorkRequests are not exact, and depend on the mysterious and undocumented &quot;battery life&quot; rating.  Have you tried tracing logs to see the status of the Work? whether it&#39;s enqueued or not?","body":"WorkRequests are not exact, and depend on the mysterious and undocumented &quot;battery life&quot; rating.  Have you tried tracing logs to see the status of the Work? whether it&#39;s enqueued or not?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647450067,"post_id":71499059,"comment_id":126376315,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"display_name":"user15787070"},"score":0,"creation_date":1647491032,"post_id":71499059,"comment_id":126386153,"body_markdown":"I am using a Samsung Phone.","body":"I am using a Samsung Phone."}],"owner":{"display_name":"user15787070"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647441668,"creation_date":1647441668,"question_id":71499059,"body_markdown":"I have implemented periodic work request to update the weather and show the notification after a fixed period of time. But, it is not working properly. One day the notifications are shown after fixed intervals but another day the notifications do not appear at all unless I open the app.\r\nCan anybody explain the possible reason for this bug?","title":"Problem with PeriodicWorkRequests using WorkManager, in android","body":"<p>I have implemented periodic work request to update the weather and show the notification after a fixed period of time. But, it is not working properly. One day the notifications are shown after fixed intervals but another day the notifications do not appear at all unless I open the app.\nCan anybody explain the possible reason for this bug?</p>\n"},{"tags":["java","generics","lambda"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647413514,"post_id":71492395,"comment_id":126361631,"body_markdown":"Please add a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) to your question.","body":"Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a> to your question."}],"answers":[{"tags":[],"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647441627,"creation_date":1647441627,"answer_id":71499045,"question_id":71492395,"body_markdown":"For anyone else suffering with this:\r\n\r\nAs the code was written above, the thenApply did not return \r\nCompletableFuture&lt;Integer&gt;, but rather CompletableFuture&lt;CompleteableFuture&lt;Integer&gt;&gt;. To flatten this, I changed thenApply to thenCompose. This yields a type CompleteableFuture&lt;Integer&gt;.\r\n\r\nIn the message:\r\n```\r\nThe method thenApply(Function&lt;? super Integer,? extends U&gt;) in the type CompletableFuture&lt;Integer&gt; is not applicable for the \r\n arguments ((&lt;no type&gt; response) -&gt; {})\r\n```\r\nThe argument Function&lt;? super Integer,? extends U&gt; does not mean what I originally thought. This somewhat Perl like expression means supply a Lambda function which takes one argument that extends or is an Integer, and return not an unknown or void. Instead the U means return a somewhat more complex type, or a nested type. \r\n\r\n\r\n```\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\npublic class StackOverflow {\r\n\t\r\n\tpublic static CompletableFuture&lt;Integer&gt; sendAsync(Integer response) {\r\n\t\treturn CompletableFuture.completedFuture(response);\r\n\t}\r\n\t\r\n    public static void main(String args[]){ \r\n        CompletableFuture&lt;Integer&gt; aFuture = \r\n                sendAsync(200)\r\n                .thenCompose(response -&gt; { // Line 5\r\n                    CompletableFuture&lt;Integer&gt; result = null; // Line 6\r\n                    if (response &gt;= 200 &amp;&amp; response &lt; 300) {\r\n                        result = CompletableFuture.supplyAsync(() -&gt; {\r\n                            return response;\r\n                        });\r\n                    } else {\r\n                        throw new RuntimeException();\r\n                    };\r\n                    return result;  \r\n                 });\r\n\r\n    }\r\n}\r\n```\r\n","title":"Easy Type erasure? of return type CompletableFuture lambda chain","body":"<p>For anyone else suffering with this:</p>\n<p>As the code was written above, the thenApply did not return\nCompletableFuture, but rather CompletableFuture&lt;CompleteableFuture&gt;. To flatten this, I changed thenApply to thenCompose. This yields a type CompleteableFuture.</p>\n<p>In the message:</p>\n<pre><code>The method thenApply(Function&lt;? super Integer,? extends U&gt;) in the type CompletableFuture&lt;Integer&gt; is not applicable for the \n arguments ((&lt;no type&gt; response) -&gt; {})\n</code></pre>\n<p>The argument Function&lt;? super Integer,? extends U&gt; does not mean what I originally thought. This somewhat Perl like expression means supply a Lambda function which takes one argument that extends or is an Integer, and return not an unknown or void. Instead the U means return a somewhat more complex type, or a nested type.</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\n\npublic class StackOverflow {\n    \n    public static CompletableFuture&lt;Integer&gt; sendAsync(Integer response) {\n        return CompletableFuture.completedFuture(response);\n    }\n    \n    public static void main(String args[]){ \n        CompletableFuture&lt;Integer&gt; aFuture = \n                sendAsync(200)\n                .thenCompose(response -&gt; { // Line 5\n                    CompletableFuture&lt;Integer&gt; result = null; // Line 6\n                    if (response &gt;= 200 &amp;&amp; response &lt; 300) {\n                        result = CompletableFuture.supplyAsync(() -&gt; {\n                            return response;\n                        });\n                    } else {\n                        throw new RuntimeException();\n                    };\n                    return result;  \n                 });\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647441627,"creation_date":1647410393,"question_id":71492395,"body_markdown":"Java says I&#39;m returning one type, but I *thought* I was returning the one on Line 6.\r\n\r\nOn Line 5: \r\n```\r\nThe method thenApply(Function&lt;? super Integer,? extends U&gt;) in the type CompletableFuture&lt;Integer&gt; is not applicable for the \r\n arguments ((&lt;no type&gt; response) -&gt; {})\r\n```\r\nIf I uncomment Line 6, it compiles, but that&#39;s because returns a null *CompletableFuture&lt;Object&gt;*. In other words, the type  *HttpResponse&lt;String&gt;* got erased from the *CompletableFuture* generic class.\r\n\r\nThis is a reduced snippet of what I&#39;m trying to do, which is to implement retry logic in an async way in a Java 11 application. I&#39;d like the *thenApply* logic to return *CompletableFuture&lt;HttpResponse&lt;String&gt;&gt;* which I&#39;ll then wrap into retry logic.\r\n\r\n```\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\npublic class StackOverflow {\r\n\t\r\n\tpublic static CompletableFuture&lt;Integer&gt; sendAsync(Integer response) {\r\n\t\treturn CompletableFuture.completedFuture(response);\r\n\t}\r\n\t\r\n    public static void main(String args[]){ \r\n        CompletableFuture&lt;Integer&gt; aFuture = \r\n                sendAsync(200)\r\n                .thenApply(response -&gt; { // Line 5\r\n                    CompletableFuture&lt;Integer&gt; result = null; // Line 6\r\n                    if (response &gt;= 200 &amp;&amp; response &lt; 300) {\r\n                        result = CompletableFuture.supplyAsync(() -&gt; {\r\n                            return response;\r\n                        });\r\n                    } else {\r\n                        throw new RuntimeException();\r\n                    };\r\n//                  return null;  \r\n                 });\r\n\r\n    }\r\n}\r\n```\r\n\r\nThanks,\r\nWoodsman\r\n","title":"Easy Type erasure? of return type CompletableFuture lambda chain","body":"<p>Java says I'm returning one type, but I <em>thought</em> I was returning the one on Line 6.</p>\n<p>On Line 5:</p>\n<pre><code>The method thenApply(Function&lt;? super Integer,? extends U&gt;) in the type CompletableFuture&lt;Integer&gt; is not applicable for the \n arguments ((&lt;no type&gt; response) -&gt; {})\n</code></pre>\n<p>If I uncomment Line 6, it compiles, but that's because returns a null <em>CompletableFuture</em>. In other words, the type  <em>HttpResponse</em> got erased from the <em>CompletableFuture</em> generic class.</p>\n<p>This is a reduced snippet of what I'm trying to do, which is to implement retry logic in an async way in a Java 11 application. I'd like the <em>thenApply</em> logic to return <em>CompletableFuture&lt;HttpResponse&gt;</em> which I'll then wrap into retry logic.</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\n\npublic class StackOverflow {\n    \n    public static CompletableFuture&lt;Integer&gt; sendAsync(Integer response) {\n        return CompletableFuture.completedFuture(response);\n    }\n    \n    public static void main(String args[]){ \n        CompletableFuture&lt;Integer&gt; aFuture = \n                sendAsync(200)\n                .thenApply(response -&gt; { // Line 5\n                    CompletableFuture&lt;Integer&gt; result = null; // Line 6\n                    if (response &gt;= 200 &amp;&amp; response &lt; 300) {\n                        result = CompletableFuture.supplyAsync(() -&gt; {\n                            return response;\n                        });\n                    } else {\n                        throw new RuntimeException();\n                    };\n//                  return null;  \n                 });\n\n    }\n}\n</code></pre>\n<p>Thanks,\nWoodsman</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":7970581,"reputation":375,"user_id":6015444,"display_name":"Touniouk"},"score":3,"creation_date":1511247911,"post_id":47407103,"comment_id":81767380,"body_markdown":"Java 8 introduced new APIs for Date and Time. You can have a quick look here: http://www.baeldung.com/java-8-date-time-intro","body":"Java 8 introduced new APIs for Date and Time. You can have a quick look here: <a href=\"http://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">baeldung.com/java-8-date-time-intro</a>"},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":1,"creation_date":1511248024,"post_id":47407103,"comment_id":81767436,"body_markdown":"you must use milli second , and if you are using threads use nanosecond","body":"you must use milli second , and if you are using threads use nanosecond"},{"owner":{"account_id":9276404,"reputation":613,"user_id":6888950,"display_name":"Francisco Valle"},"score":2,"creation_date":1511248045,"post_id":47407103,"comment_id":81767449,"body_markdown":"You have a precission of seconds. Are you sure the code is not executed in same second with milliseconds of difference?. I would recomend to use System.currentTimeMillis() to a unique part of the file name.","body":"You have a precission of seconds. Are you sure the code is not executed in same second with milliseconds of difference?. I would recomend to use System.currentTimeMillis() to a unique part of the file name."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1511249592,"post_id":47407103,"comment_id":81768228,"body_markdown":"If you want to try `java.time` already recommended by @Touniouk, to use it on Android you need [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), see [this question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project). I am not sure what accuracy it will give you, it could be finer than milliseconds.","body":"If you want to try <code>java.time</code> already recommended by @Touniouk, to use it on Android you need <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, see <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">this question: How to use ThreeTenABP in Android Project</a>. I am not sure what accuracy it will give you, it could be finer than milliseconds."}],"answers":[{"tags":[],"owner":{"account_id":3316485,"reputation":1082,"user_id":2788742,"accept_rate":100,"display_name":"Sergej"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1519300852,"creation_date":1511248019,"answer_id":47407155,"question_id":47407103,"body_markdown":"You format your time as `yyyyMMdd_HHmmss`, but the run of a loop needs just milliseconds, so use `yyyyMMdd_HHmmssSSS` to get a more acurate time.\r\n\r\nAs Jon Skeet mentions in his comment, the run of a loop could even take less than a millisecond (depending on the tasks you perform), so you could run into issues with this solution as well!","title":"New Date() object gives the same value","body":"<p>You format your time as <code>yyyyMMdd_HHmmss</code>, but the run of a loop needs just milliseconds, so use <code>yyyyMMdd_HHmmssSSS</code> to get a more acurate time.</p>\n\n<p>As Jon Skeet mentions in his comment, the run of a loop could even take less than a millisecond (depending on the tasks you perform), so you could run into issues with this solution as well!</p>\n"},{"tags":[],"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1511249068,"creation_date":1511248206,"answer_id":47407201,"question_id":47407103,"body_markdown":"Java in loop is faster than one second it will stay same\r\nto make sure its always unique **especially** in multi **threaded** function.\r\n\r\nUse somthing like this\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd.MM.yyyy HH:mm:ss:SSSSSSS&quot;);\r\n\r\n**Some hints so you wont go into much debug trouble**\r\n\r\n \r\n\r\n        printDate(&quot;dd.MM.yyyy HH:mm:ss.SSS&quot;);//02.05.2010 21:45:58.073\r\n        printDate(&quot;dd.MM.yyyy HH:mm:ss.SSSSSS&quot;);//02.05.2010 21:45:58.000073\r\n        printDate(&quot;dd.MM.yyyy HH:mm:ss.SSS&#39;000&#39;&quot;);//02.05.2010 21:45:58.073000\r\n        printDate(&quot;dd.MM.yyyy HH:mm:ss.&#39;000000&#39;&quot;);//02.05.2010 21:45:58.000000\r\n    \r\n        tryToParseDate(&quot;dd.MM.yyyy HH:mm:ss.SSS&quot;);//good\r\n        tryToParseDate(&quot;dd.MM.yyyy HH:mm:ss.SSSSSS&quot;);//good\r\n        tryToParseDate(&quot;dd.MM.yyyy HH:mm:ss.SSS&#39;000&#39;&quot;);//bad\r\n        tryToParseDate(&quot;dd.MM.yyyy HH:mm:ss.&#39;000000&#39;&quot;);//good\r\n\r\n**Reference:**\r\n\r\n*@slartidan Answer*\r\n\r\nhttps://stackoverflow.com/questions/12000673/string-date-conversion-with-nanoseconds\r\n\r\n\r\n**As Recommendation when i faced this situation :**\r\n\r\n**1)**  **If am calling from S3 AWS** \r\n\r\nfiles it should be named as unique at start of the file name it will make hashing and searching pretty fast. as from AWS S3 best practices to optimize.\r\n\r\n        public static String genarateFileName(String name) {\r\n            StringBuilder sb = new StringBuilder(name);\r\n            sb.insert(0, IdUtil.getUniqueUuid());in short to increase performance of S3 put and get etc..)\r\n            if (sb.lastIndexOf(&quot;.&quot;) != -1) {\r\n                sb.insert(sb.lastIndexOf(&quot;.&quot;), &quot;_&quot; + System.nanoTime());\r\n            } else {\r\n                sb.append(&quot;_&quot;).append(System.nanoTime());\r\n            }\r\n    \r\n            return sb.toString();\r\n        }\r\n\r\n**2)** **To generate random nano**\r\n\r\n     public static String getUniqueUuid() {\r\n            int rand = (int) (Math.random() * 100);\r\n            return Integer.toHexString(rand) + Long.toHexString(java.lang.System.nanoTime());\r\n        }\r\n\r\n**3)** I do use both random nano with random string check below generates\r\nrandom string of some length\r\n\r\n\r\n       /**\r\n         * Generate a random uuid of the specified length. Example: uuid(15) returns\r\n         * &quot;VcydxgltxrVZSTV&quot;\r\n         *\r\n         * @param len the desired number of characters\r\n         * @return \r\n         */\r\n        public static String uuid(int len) {\r\n            return uuid(len, CHARS.length);\r\n        }\r\n    \r\n        /**\r\n         * Generate a random uuid of the specified length, and radix. Examples: &lt;ul&gt;\r\n         * &lt;li&gt;uuid(8, 2) returns &quot;01001010&quot; (8 character ID, base=2) &lt;li&gt;uuid(8,\r\n         * 10) returns &quot;47473046&quot; (8 character ID, base=10) &lt;li&gt;uuid(8, 16) returns\r\n         * &quot;098F4D35&quot; (8 character ID, base=16) &lt;/ul&gt;\r\n         *\r\n         * @param len the desired number of characters\r\n         * @param radix the number of allowable values for each character (must be\r\n         * &lt;= 62)\r\n         * @return \r\n         */\r\n        public static String uuid(int len, int radix) {\r\n            if (radix &gt; CHARS.length) {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            char[] uuid = new char[len];\r\n            // Compact form\r\n            for (int i = 0; i &lt; len; i++) {\r\n                uuid[i] = CHARS[(int) (Math.random() * radix)];\r\n            }\r\n            return new String(uuid);\r\n        }","title":"New Date() object gives the same value","body":"<p>Java in loop is faster than one second it will stay same\nto make sure its always unique <strong>especially</strong> in multi <strong>threaded</strong> function.</p>\n\n<p>Use somthing like this</p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd.MM.yyyy HH:mm:ss:SSSSSSS\");\n</code></pre>\n\n<p><strong>Some hints so you wont go into much debug trouble</strong></p>\n\n<pre><code>    printDate(\"dd.MM.yyyy HH:mm:ss.SSS\");//02.05.2010 21:45:58.073\n    printDate(\"dd.MM.yyyy HH:mm:ss.SSSSSS\");//02.05.2010 21:45:58.000073\n    printDate(\"dd.MM.yyyy HH:mm:ss.SSS'000'\");//02.05.2010 21:45:58.073000\n    printDate(\"dd.MM.yyyy HH:mm:ss.'000000'\");//02.05.2010 21:45:58.000000\n\n    tryToParseDate(\"dd.MM.yyyy HH:mm:ss.SSS\");//good\n    tryToParseDate(\"dd.MM.yyyy HH:mm:ss.SSSSSS\");//good\n    tryToParseDate(\"dd.MM.yyyy HH:mm:ss.SSS'000'\");//bad\n    tryToParseDate(\"dd.MM.yyyy HH:mm:ss.'000000'\");//good\n</code></pre>\n\n<p><strong>Reference:</strong></p>\n\n<p><em>@slartidan Answer</em></p>\n\n<p><a href=\"https://stackoverflow.com/questions/12000673/string-date-conversion-with-nanoseconds\">String-Date conversion with nanoseconds </a></p>\n\n<p><strong>As Recommendation when i faced this situation :</strong></p>\n\n<p><strong>1)</strong>  <strong>If am calling from S3 AWS</strong> </p>\n\n<p>files it should be named as unique at start of the file name it will make hashing and searching pretty fast. as from AWS S3 best practices to optimize.</p>\n\n<pre><code>    public static String genarateFileName(String name) {\n        StringBuilder sb = new StringBuilder(name);\n        sb.insert(0, IdUtil.getUniqueUuid());in short to increase performance of S3 put and get etc..)\n        if (sb.lastIndexOf(\".\") != -1) {\n            sb.insert(sb.lastIndexOf(\".\"), \"_\" + System.nanoTime());\n        } else {\n            sb.append(\"_\").append(System.nanoTime());\n        }\n\n        return sb.toString();\n    }\n</code></pre>\n\n<p><strong>2)</strong> <strong>To generate random nano</strong></p>\n\n<pre><code> public static String getUniqueUuid() {\n        int rand = (int) (Math.random() * 100);\n        return Integer.toHexString(rand) + Long.toHexString(java.lang.System.nanoTime());\n    }\n</code></pre>\n\n<p><strong>3)</strong> I do use both random nano with random string check below generates\nrandom string of some length</p>\n\n<pre><code>   /**\n     * Generate a random uuid of the specified length. Example: uuid(15) returns\n     * \"VcydxgltxrVZSTV\"\n     *\n     * @param len the desired number of characters\n     * @return \n     */\n    public static String uuid(int len) {\n        return uuid(len, CHARS.length);\n    }\n\n    /**\n     * Generate a random uuid of the specified length, and radix. Examples: &lt;ul&gt;\n     * &lt;li&gt;uuid(8, 2) returns \"01001010\" (8 character ID, base=2) &lt;li&gt;uuid(8,\n     * 10) returns \"47473046\" (8 character ID, base=10) &lt;li&gt;uuid(8, 16) returns\n     * \"098F4D35\" (8 character ID, base=16) &lt;/ul&gt;\n     *\n     * @param len the desired number of characters\n     * @param radix the number of allowable values for each character (must be\n     * &lt;= 62)\n     * @return \n     */\n    public static String uuid(int len, int radix) {\n        if (radix &gt; CHARS.length) {\n            throw new IllegalArgumentException();\n        }\n        char[] uuid = new char[len];\n        // Compact form\n        for (int i = 0; i &lt; len; i++) {\n            uuid[i] = CHARS[(int) (Math.random() * radix)];\n        }\n        return new String(uuid);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511254838,"creation_date":1511249706,"answer_id":47407611,"question_id":47407103,"body_markdown":"# java.time\r\n\r\nThe modern approach uses java.time classes. \r\n\r\nThe `Instant` class represents a point on the timeline with a resolution of nanoseconds. The `Instant.now` command captures the current moment in milliseconds in Java 8, and in microseconds in Java 9 (or perhaps finer). \r\n\r\nReplace colon characters for macOS compatibility. \r\n\r\n    String filename = Instant.now().toString().replace( &quot;:&quot; , &quot;-&quot; ) + &quot;.jpeg&quot; ;\r\n\r\nNote that even with milliseconds or microseconds resolution, you may still run into collisions if running brief code on fast cores. I suggest using UUID to eliminate such risk.\r\n\r\n# UUID\r\n\r\nIf you simply want unique file names without really needing to represent the current moment in the name, then use a [UUID][1] value rather a date-time.\r\n\r\nThe [`UUID`][2] class can generate some versions such as Version 4 (mostly random):\r\n\r\n\r\n    String filename = UUID.randomUUID() + &quot;.jpeg&quot; ;\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Universally_unique_identifier\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/UUID.html","title":"New Date() object gives the same value","body":"<h1>java.time</h1>\n\n<p>The modern approach uses java.time classes. </p>\n\n<p>The <code>Instant</code> class represents a point on the timeline with a resolution of nanoseconds. The <code>Instant.now</code> command captures the current moment in milliseconds in Java 8, and in microseconds in Java 9 (or perhaps finer). </p>\n\n<p>Replace colon characters for macOS compatibility. </p>\n\n<pre><code>String filename = Instant.now().toString().replace( \":\" , \"-\" ) + \".jpeg\" ;\n</code></pre>\n\n<p>Note that even with milliseconds or microseconds resolution, you may still run into collisions if running brief code on fast cores. I suggest using UUID to eliminate such risk.</p>\n\n<h1>UUID</h1>\n\n<p>If you simply want unique file names without really needing to represent the current moment in the name, then use a <a href=\"https://en.m.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a> value rather a date-time.</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/UUID.html\" rel=\"nofollow noreferrer\"><code>UUID</code></a> class can generate some versions such as Version 4 (mostly random):</p>\n\n<pre><code>String filename = UUID.randomUUID() + \".jpeg\" ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1765805,"reputation":5354,"user_id":1611714,"display_name":"Binita Bharati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647441578,"creation_date":1647441578,"answer_id":71499023,"question_id":47407103,"body_markdown":"I see many answers pointing to use the classes from `java.time` package instead of `java.util.Date`. But, to precisely answer the question, I would say that moving to a different package will not automatically solve the problem. \r\n\r\nIn fact, the loop is running faster than the rate at which the value of `new Date()` can change. In order to see different values for invocation of `new Date()`, put a `Thread.sleep(1*60*1000)` between each iteration (The sleep value can be as per your requirement). \r\n\r\n","title":"New Date() object gives the same value","body":"<p>I see many answers pointing to use the classes from <code>java.time</code> package instead of <code>java.util.Date</code>. But, to precisely answer the question, I would say that moving to a different package will not automatically solve the problem.</p>\n<p>In fact, the loop is running faster than the rate at which the value of <code>new Date()</code> can change. In order to see different values for invocation of <code>new Date()</code>, put a <code>Thread.sleep(1*60*1000)</code> between each iteration (The sleep value can be as per your requirement).</p>\n"}],"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1399,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1647441578,"creation_date":1511247768,"question_id":47407103,"body_markdown":"I have some code that utilizes the Date object as the name of a file in order to have distinct file names every time but the strange thing is that a new Date object gives off the same `toString()` for each loop iteration. I mean, the following:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;);\r\n    String fileName = sdf.format((d = new Date())) + &quot;.jpg&quot;;\r\n    \r\n    Log.d(&quot;Date&quot;, d.toString());\r\n\r\nis executed in loops.\r\n\r\n**Side note:** Since this is related to Java API, I haven&#39;t tagged the question as that of Android but the OS that executes this code is Android.\r\n\r\nAFAIK, `new Date()` uses `System.currentTimeMilis()` as the init value, what might be reason for this unusual behavior?","title":"New Date() object gives the same value","body":"<p>I have some code that utilizes the Date object as the name of a file in order to have distinct file names every time but the strange thing is that a new Date object gives off the same <code>toString()</code> for each loop iteration. I mean, the following:</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyyMMdd_HHmmss\");\nString fileName = sdf.format((d = new Date())) + \".jpg\";\n\nLog.d(\"Date\", d.toString());\n</code></pre>\n\n<p>is executed in loops.</p>\n\n<p><strong>Side note:</strong> Since this is related to Java API, I haven't tagged the question as that of Android but the OS that executes this code is Android.</p>\n\n<p>AFAIK, <code>new Date()</code> uses <code>System.currentTimeMilis()</code> as the init value, what might be reason for this unusual behavior?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1647441697,"post_id":71499004,"comment_id":126372502,"body_markdown":"Pessimistic write locking in JPA.","body":"Pessimistic write locking in JPA."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647441793,"post_id":71499004,"comment_id":126372545,"body_markdown":"Use database locks **or** let the database generate the naturalid, (using a sequence for instance) instead of doing a `max(field) + 1)`.","body":"Use database locks <b>or</b> let the database generate the naturalid, (using a sequence for instance) instead of doing a <code>max(field) + 1)</code>."},{"owner":{"account_id":16890296,"reputation":89,"user_id":12214148,"display_name":"msts1906"},"score":0,"creation_date":1647444566,"post_id":71499004,"comment_id":126373811,"body_markdown":"Generating the key sounds more reasonable to me. I cannot find a way to &quot;reset&quot; the sequence for the second type. What I need is Type A + Number 1, 2, 3 etc. and Type B + Number 1, 2, 3 etc.","body":"Generating the key sounds more reasonable to me. I cannot find a way to &quot;reset&quot; the sequence for the second type. What I need is Type A + Number 1, 2, 3 etc. and Type B + Number 1, 2, 3 etc."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647445262,"post_id":71499004,"comment_id":126374113,"body_markdown":"Use a sequence per type.","body":"Use a sequence per type."},{"owner":{"account_id":16890296,"reputation":89,"user_id":12214148,"display_name":"msts1906"},"score":0,"creation_date":1647451077,"post_id":71499004,"comment_id":126376700,"body_markdown":"I thought about that, yet I couldn&#39;t find the JPA way to do it","body":"I thought about that, yet I couldn&#39;t find the JPA way to do it"}],"owner":{"account_id":16890296,"reputation":89,"user_id":12214148,"display_name":"msts1906"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647441486,"creation_date":1647441486,"question_id":71499004,"body_markdown":"I cannot wrap my head around the following problem:\r\n\r\nIf have a JPA Entity with a naturalId consisting of an Enum and a number meaning the combination of type and number have to be unique. No the number expresses the amount of entities of a certain Type I have in the DB. \r\n\r\nNow the user X wants to create a new Entity with Type A. The currently highest number in the DB is say 5. Meaning the user will create Type A with number 6. Problem is that user Y might want to create a new entity too. Now I have concurrent access and I don&#39;t now how to play this out.\r\n\r\nPlease note: The user gives me a list of those entities and might request to create 5 Entities of Type A and 2 of Type B (or any other number). This makes it even more complicated if I get 2 of such requests at the same time.\r\n\r\nThank you for your help :)","title":"Spring JPA Concurrency Issue with NaturalID","body":"<p>I cannot wrap my head around the following problem:</p>\n<p>If have a JPA Entity with a naturalId consisting of an Enum and a number meaning the combination of type and number have to be unique. No the number expresses the amount of entities of a certain Type I have in the DB.</p>\n<p>Now the user X wants to create a new Entity with Type A. The currently highest number in the DB is say 5. Meaning the user will create Type A with number 6. Problem is that user Y might want to create a new entity too. Now I have concurrent access and I don't now how to play this out.</p>\n<p>Please note: The user gives me a list of those entities and might request to create 5 Entities of Type A and 2 of Type B (or any other number). This makes it even more complicated if I get 2 of such requests at the same time.</p>\n<p>Thank you for your help :)</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10773670,"reputation":1213,"user_id":7926439,"display_name":"Mustapha Belmokhtar"},"score":0,"creation_date":1591544551,"post_id":62247760,"comment_id":110090404,"body_markdown":"did you check your localhost:8080 ? because the logs show  that `Started HomeFredoServciesApplication in 3.985 seconds`","body":"did you check your localhost:8080 ? because the logs show  that <code>Started HomeFredoServciesApplication in 3.985 seconds</code>"},{"owner":{"account_id":17051423,"reputation":113,"user_id":12336967,"display_name":"spiky_bulba"},"score":0,"creation_date":1591549349,"post_id":62247760,"comment_id":110092274,"body_markdown":"im actually running it in port 8081. When i run it in 8080, the logs stated that the port was already in use.","body":"im actually running it in port 8081. When i run it in 8080, the logs stated that the port was already in use."},{"owner":{"account_id":3765503,"reputation":146,"user_id":3129137,"display_name":"Mr. Jain"},"score":0,"creation_date":1591549663,"post_id":62247760,"comment_id":110092406,"body_markdown":"you can kill the port via running this command on cmd \n1. netstat -ano | findstr :PORT_NUMBER \n2. taskkill /PID PORT_NUMBER /F\nBut as per your logs your server is running on 8080","body":"you can kill the port via running this command on cmd  1. netstat -ano | findstr :PORT_NUMBER  2. taskkill /PID PORT_NUMBER /F But as per your logs your server is running on 8080"},{"owner":{"account_id":3765503,"reputation":146,"user_id":3129137,"display_name":"Mr. Jain"},"score":0,"creation_date":1591549745,"post_id":62247760,"comment_id":110092436,"body_markdown":"server does not stuck at &quot;Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;&quot; if you look closely it&#39;s INFO message","body":"server does not stuck at &quot;Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;&quot; if you look closely it&#39;s INFO message"},{"owner":{"account_id":10773670,"reputation":1213,"user_id":7926439,"display_name":"Mustapha Belmokhtar"},"score":0,"creation_date":1591552350,"post_id":62247760,"comment_id":110093486,"body_markdown":"check your hosts file, and tell whether the 127.0.0.0 is mapped to some other adresses than localhost. if so the server hangs up on trying to reach the mapped address, generally it is some of adobe addresses, I deleted that entry once and it worked","body":"check your hosts file, and tell whether the 127.0.0.0 is mapped to some other adresses than localhost. if so the server hangs up on trying to reach the mapped address, generally it is some of adobe addresses, I deleted that entry once and it worked"},{"owner":{"account_id":17051423,"reputation":113,"user_id":12336967,"display_name":"spiky_bulba"},"score":0,"creation_date":1591556896,"post_id":62247760,"comment_id":110095266,"body_markdown":"ok, now i get it....since im new to sprint tools, i though i was stuck there...Thanks all","body":"ok, now i get it....since im new to sprint tools, i though i was stuck there...Thanks all"}],"answers":[{"tags":[],"owner":{"account_id":3765503,"reputation":146,"user_id":3129137,"display_name":"Mr. Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591549218,"creation_date":1591549218,"answer_id":62248761,"question_id":62247760,"body_markdown":"try to hit http://localhost:8080/h2-console if you get response. your server is up and running. In logs it says H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:mem:b2c0eff5-9805-4a71-9f66-c6c863d910f5&#39;","title":"Spring boot application is getting stuck while running","body":"<p>try to hit <a href=\"http://localhost:8080/h2-console\" rel=\"nofollow noreferrer\">http://localhost:8080/h2-console</a> if you get response. your server is up and running. In logs it says H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:b2c0eff5-9805-4a71-9f66-c6c863d910f5'</p>\n"},{"tags":[],"owner":{"account_id":2610521,"reputation":220,"user_id":2260704,"display_name":"jpep1"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1646308834,"creation_date":1645531662,"answer_id":71221028,"question_id":62247760,"body_markdown":"I had same problem with application started by Eclipse and Spring Tool Run Configuration in Debug Mode.\r\n\r\nA breakpoint was referencing a line on some removed block code, after removing faulty breakpoint, the application start new properly again.\r\n\r\nWindow-&gt; Show View -&gt; Breakpoints","title":"Spring boot application is getting stuck while running","body":"<p>I had same problem with application started by Eclipse and Spring Tool Run Configuration in Debug Mode.</p>\n<p>A breakpoint was referencing a line on some removed block code, after removing faulty breakpoint, the application start new properly again.</p>\n<p>Window-&gt; Show View -&gt; Breakpoints</p>\n"}],"owner":{"account_id":17051423,"reputation":113,"user_id":12336967,"display_name":"spiky_bulba"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9695,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1647441196,"creation_date":1591544454,"question_id":62247760,"body_markdown":"This is my first spring-boot application. I ran a sample code and it is getting stuck at &quot;Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39; &quot;. \r\n\r\nBelow is the code\r\n\r\n```\r\npackage com.fredo.webservices.homefredoServcies;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class HomeFredoServciesApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(HomeFredoServciesApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nbelow are the logs\r\n\r\n```\r\n .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.3.0.RELEASE)\r\n\r\n2020-06-07 20:58:15.807  INFO 1496 --- [  restartedMain] c.f.w.h.HomeFredoServciesApplication     : Starting HomeFredoServciesApplication on ANGU with PID 1496 (C:\\Users\\ASUS\\Desktop\\java ms\\home-fredoServcies\\target\\classes started by Angu in C:\\Users\\ASUS\\Desktop\\java ms\\home-fredoServcies)\r\n2020-06-07 20:58:15.811  INFO 1496 --- [  restartedMain] c.f.w.h.HomeFredoServciesApplication     : No active profile set, falling back to default profiles: default\r\n2020-06-07 20:58:15.881  INFO 1496 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2020-06-07 20:58:15.882  INFO 1496 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2020-06-07 20:58:16.799  INFO 1496 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.\r\n2020-06-07 20:58:16.822  INFO 1496 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 JPA repository interfaces.\r\n2020-06-07 20:58:17.861  INFO 1496 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2020-06-07 20:58:17.876  INFO 1496 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2020-06-07 20:58:17.877  INFO 1496 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]\r\n2020-06-07 20:58:18.038  INFO 1496 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2020-06-07 20:58:18.038  INFO 1496 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2156 ms\r\n2020-06-07 20:58:18.100  INFO 1496 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2020-06-07 20:58:18.335  INFO 1496 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2020-06-07 20:58:18.342  INFO 1496 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:mem:b2c0eff5-9805-4a71-9f66-c6c863d910f5&#39;\r\n2020-06-07 20:58:18.548  INFO 1496 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n2020-06-07 20:58:18.629  INFO 1496 --- [         task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2020-06-07 20:58:18.674  WARN 1496 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2020-06-07 20:58:18.720  INFO 1496 --- [         task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final\r\n2020-06-07 20:58:18.966  INFO 1496 --- [         task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n2020-06-07 20:58:19.203  INFO 1496 --- [         task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2020-06-07 20:58:19.210  INFO 1496 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2020-06-07 20:58:19.317  INFO 1496 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2020-06-07 20:58:19.322  INFO 1496 --- [  restartedMain] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…\r\n2020-06-07 20:58:19.324  INFO 1496 --- [  restartedMain] DeferredRepositoryInitializationListener : Spring Data repositories initialized!\r\n2020-06-07 20:58:19.344  INFO 1496 --- [  restartedMain] c.f.w.h.HomeFredoServciesApplication     : Started HomeFredoServciesApplication in 3.985 seconds (JVM running for 4.795)\r\n2020-06-07 20:58:19.554  INFO 1496 --- [         task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2020-06-07 20:58:19.562  INFO 1496 --- [         task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring boot application is getting stuck while running","body":"<p>This is my first spring-boot application. I ran a sample code and it is getting stuck at \"Initialized JPA EntityManagerFactory for persistence unit 'default' \". </p>\n\n<p>Below is the code</p>\n\n<pre><code>package com.fredo.webservices.homefredoServcies;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class HomeFredoServciesApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HomeFredoServciesApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>below are the logs</p>\n\n<pre><code> .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.3.0.RELEASE)\n\n2020-06-07 20:58:15.807  INFO 1496 --- [  restartedMain] c.f.w.h.HomeFredoServciesApplication     : Starting HomeFredoServciesApplication on ANGU with PID 1496 (C:\\Users\\ASUS\\Desktop\\java ms\\home-fredoServcies\\target\\classes started by Angu in C:\\Users\\ASUS\\Desktop\\java ms\\home-fredoServcies)\n2020-06-07 20:58:15.811  INFO 1496 --- [  restartedMain] c.f.w.h.HomeFredoServciesApplication     : No active profile set, falling back to default profiles: default\n2020-06-07 20:58:15.881  INFO 1496 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2020-06-07 20:58:15.882  INFO 1496 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2020-06-07 20:58:16.799  INFO 1496 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.\n2020-06-07 20:58:16.822  INFO 1496 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 0 JPA repository interfaces.\n2020-06-07 20:58:17.861  INFO 1496 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-06-07 20:58:17.876  INFO 1496 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-06-07 20:58:17.877  INFO 1496 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]\n2020-06-07 20:58:18.038  INFO 1496 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2020-06-07 20:58:18.038  INFO 1496 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2156 ms\n2020-06-07 20:58:18.100  INFO 1496 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2020-06-07 20:58:18.335  INFO 1496 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2020-06-07 20:58:18.342  INFO 1496 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:b2c0eff5-9805-4a71-9f66-c6c863d910f5'\n2020-06-07 20:58:18.548  INFO 1496 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2020-06-07 20:58:18.629  INFO 1496 --- [         task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2020-06-07 20:58:18.674  WARN 1496 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2020-06-07 20:58:18.720  INFO 1496 --- [         task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final\n2020-06-07 20:58:18.966  INFO 1496 --- [         task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2020-06-07 20:58:19.203  INFO 1496 --- [         task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2020-06-07 20:58:19.210  INFO 1496 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2020-06-07 20:58:19.317  INFO 1496 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2020-06-07 20:58:19.322  INFO 1496 --- [  restartedMain] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…\n2020-06-07 20:58:19.324  INFO 1496 --- [  restartedMain] DeferredRepositoryInitializationListener : Spring Data repositories initialized!\n2020-06-07 20:58:19.344  INFO 1496 --- [  restartedMain] c.f.w.h.HomeFredoServciesApplication     : Started HomeFredoServciesApplication in 3.985 seconds (JVM running for 4.795)\n2020-06-07 20:58:19.554  INFO 1496 --- [         task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2020-06-07 20:58:19.562  INFO 1496 --- [         task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n</code></pre>\n"},{"tags":["java","java-stream","porting"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1647441221,"post_id":71498017,"comment_id":126372285,"body_markdown":"Questions will be received better if you include what you&#39;ve tried and where you are stuck. Currently the question isn&#39;t very generic and - as such - little use to anyone else.","body":"Questions will be received better if you include what you&#39;ve tried and where you are stuck. Currently the question isn&#39;t very generic and - as such - little use to anyone else."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1647442717,"post_id":71498017,"comment_id":126372978,"body_markdown":"It seems like variable `entityWithLatestDate` is being randomly modified. You are not checking its current value before assigning the new one. First, please explain what you are trying to achieve?","body":"It seems like variable <code>entityWithLatestDate</code> is being randomly modified. You are not checking its current value before assigning the new one. First, please explain what you are trying to achieve?"},{"owner":{"account_id":12820163,"reputation":13,"user_id":9275352,"display_name":"satya"},"score":0,"creation_date":1647445524,"post_id":71498017,"comment_id":126374237,"body_markdown":"That is a business logic","body":"That is a business logic"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1647449377,"post_id":71498017,"comment_id":126376031,"body_markdown":"Why do it all?  The logic here is easy to follow, even easier if you remove the unneeded getCertVldToDt() != null checks in the inner if&#39;s.  You don&#39;t gain anything by switching to a different methodology except added complexity.","body":"Why do it all?  The logic here is easy to follow, even easier if you remove the unneeded getCertVldToDt() != null checks in the inner if&#39;s.  You don&#39;t gain anything by switching to a different methodology except added complexity."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1647453468,"post_id":71498017,"comment_id":126377625,"body_markdown":"@satya `a business logic` - It doesn&#39;t explain why you&#39;re assigning `entityWithLatestDate` in the way that is dependent on the order of the list entities? The list is sorted?","body":"@satya <code>a business logic</code> - It doesn&#39;t explain why you&#39;re assigning <code>entityWithLatestDate</code> in the way that is dependent on the order of the list entities? The list is sorted?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647501629,"post_id":71498017,"comment_id":126388226,"body_markdown":"Asking the same question again after it getting downvoted, close voted, delete voted is **not** appreciated here at all. This community has its rules and practices, and the negative feedback you receive is intended to tell you to act differently, not to double down. Note that continuing on this path will get your account banned from asking questions at some point, so seriously: don&#39;t do that.","body":"Asking the same question again after it getting downvoted, close voted, delete voted is <b>not</b> appreciated here at all. This community has its rules and practices, and the negative feedback you receive is intended to tell you to act differently, not to double down. Note that continuing on this path will get your account banned from asking questions at some point, so seriously: don&#39;t do that."}],"answers":[{"tags":[],"owner":{"account_id":24398100,"reputation":21,"user_id":18327187,"display_name":"LordSkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647440979,"creation_date":1647440979,"answer_id":71498869,"question_id":71498017,"body_markdown":"if I understand correctly then you are just trying to find CertEntity with the latest CertVldToDt and matching CertSerNum to some baseObject. This code should do it:\r\n\r\n    entityWithLatestDate = listOfExpiredCert.stream()\r\n                .filter(Objects::nonNull)\r\n                .filter(entity -&gt; entity.getCertSerNum() != null)\r\n                .filter(entity -&gt; entity.getCertVldToDt() != null)\r\n                .filter(entity -&gt; entity.getCertSerNum().equals(baseObject.getCertSerNum()))\r\n                .filter(entity -&gt; entity.getCertVldToDt().compareTo(baseDate) &gt; 0)\r\n                .max(Comparator.comparing(CertEntity::getCertVldToDt))\r\n                .orElse(baseObject);","title":"convert from java6 to java8 using stream and filter","body":"<p>if I understand correctly then you are just trying to find CertEntity with the latest CertVldToDt and matching CertSerNum to some baseObject. This code should do it:</p>\n<pre><code>entityWithLatestDate = listOfExpiredCert.stream()\n            .filter(Objects::nonNull)\n            .filter(entity -&gt; entity.getCertSerNum() != null)\n            .filter(entity -&gt; entity.getCertVldToDt() != null)\n            .filter(entity -&gt; entity.getCertSerNum().equals(baseObject.getCertSerNum()))\n            .filter(entity -&gt; entity.getCertVldToDt().compareTo(baseDate) &gt; 0)\n            .max(Comparator.comparing(CertEntity::getCertVldToDt))\n            .orElse(baseObject);\n</code></pre>\n"}],"owner":{"account_id":12820163,"reputation":13,"user_id":9275352,"display_name":"satya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1647455365,"answer_count":1,"score":-3,"last_activity_date":1647441119,"creation_date":1647437675,"question_id":71498017,"body_markdown":"I have the below code and need to convert to java8 using stream and filter.Can someone please help?\r\n\r\n          for (CertEntity entity : listOfExpiredCert){\r\n                if (entity!=null &amp;&amp; entity.getCertVldToDt()!=null){\r\n                    if (entity.getCertSerNum()!=null &amp;&amp; entity.getCertSerNum().equals(baseObject.getCertSerNum())){\r\n                        continue;\r\n                    }\r\n                    else{\r\n                        if (entity.getCertVldToDt()!=null &amp;&amp; entity.getCertVldToDt().compareTo(baseDate)&gt;0){\r\n                            entityWithLatestDate = entity;\r\n                        }\r\n                        else if (entity.getCertVldToDt()!=null &amp;&amp; entity.getCertVldToDt().compareTo(baseDate)&lt;0){\r\n                            entityWithLatestDate = baseObject;\r\n                        }\r\n                    }\r\n                }\r\n            }","title":"convert from java6 to java8 using stream and filter","body":"<p>I have the below code and need to convert to java8 using stream and filter.Can someone please help?</p>\n<pre><code>      for (CertEntity entity : listOfExpiredCert){\n            if (entity!=null &amp;&amp; entity.getCertVldToDt()!=null){\n                if (entity.getCertSerNum()!=null &amp;&amp; entity.getCertSerNum().equals(baseObject.getCertSerNum())){\n                    continue;\n                }\n                else{\n                    if (entity.getCertVldToDt()!=null &amp;&amp; entity.getCertVldToDt().compareTo(baseDate)&gt;0){\n                        entityWithLatestDate = entity;\n                    }\n                    else if (entity.getCertVldToDt()!=null &amp;&amp; entity.getCertVldToDt().compareTo(baseDate)&lt;0){\n                        entityWithLatestDate = baseObject;\n                    }\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":14605352,"reputation":151,"user_id":10548414,"display_name":"Subham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647439061,"creation_date":1647439061,"answer_id":71498382,"question_id":71498069,"body_markdown":"In CrudserviceApplication class you mentioned base-package as \r\n\r\n    @ComponentScan(basePackages=&quot;booking.crudservice.CRUDservices&quot;)\r\n\r\nThat means spring boot will look for classes annotated with spring stereotype annotations like\r\n\r\n- @Component\r\n- @Configuration\r\n- @Controller\r\n- @RestController\r\n- @Service\r\n\r\nfor classes present inside **booking.crudservice.CRUDservices** package and its sub-packages. \r\nHowever, I can see your BookingController class is present in **booking.crudservice** package which is not a sub-package (in fact, it&#39;s parent package).\r\n\r\nThat&#39;s why spring boot is not scanning BooKingController class and hance you&#39;re getting 404. \r\n\r\nAs a fix, you can remove basePackages parameter inside @ComponentScan annotation and it&#39;ll scan all components present inside **booking.crudservice** and its sub-package(s). \r\n","title":"Spring Boot Web throws 404 with API call, correct project structure","body":"<p>In CrudserviceApplication class you mentioned base-package as</p>\n<pre><code>@ComponentScan(basePackages=&quot;booking.crudservice.CRUDservices&quot;)\n</code></pre>\n<p>That means spring boot will look for classes annotated with spring stereotype annotations like</p>\n<ul>\n<li>@Component</li>\n<li>@Configuration</li>\n<li>@Controller</li>\n<li>@RestController</li>\n<li>@Service</li>\n</ul>\n<p>for classes present inside <strong>booking.crudservice.CRUDservices</strong> package and its sub-packages.\nHowever, I can see your BookingController class is present in <strong>booking.crudservice</strong> package which is not a sub-package (in fact, it's parent package).</p>\n<p>That's why spring boot is not scanning BooKingController class and hance you're getting 404.</p>\n<p>As a fix, you can remove basePackages parameter inside @ComponentScan annotation and it'll scan all components present inside <strong>booking.crudservice</strong> and its sub-package(s).</p>\n"},{"tags":[],"owner":{"account_id":19634286,"reputation":139,"user_id":14371847,"display_name":"Venkat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647440735,"creation_date":1647439837,"answer_id":71498564,"question_id":71498069,"body_markdown":"Since your `CrudserviceApplication.class` is present in the base package itself . You don&#39;t have to use the @ComponentScan annotation. \r\n\r\nYou should be having `@Service` annotation in your service class (`CRUDServices.class`) for spring to maintain and inject it.\r\n\r\nAlso, can you verify that you&#39;re calling all your handler methods with `/bookings/yourhandlerendpoint` prefix. In your case\r\n\r\n\r\n - /bookings/{bookingID}\r\n - /bookings/allbookings\r\n - /bookings/addbooking\r\n - /bookings/bookings/{bookingID}\r\n - /bookings/bookings/{bookingID}\r\n\r\nAlso, I could see that you&#39;ve adding `/bookings` perfix twice for couple of methods.\r\n","title":"Spring Boot Web throws 404 with API call, correct project structure","body":"<p>Since your <code>CrudserviceApplication.class</code> is present in the base package itself . You don't have to use the @ComponentScan annotation.</p>\n<p>You should be having <code>@Service</code> annotation in your service class (<code>CRUDServices.class</code>) for spring to maintain and inject it.</p>\n<p>Also, can you verify that you're calling all your handler methods with <code>/bookings/yourhandlerendpoint</code> prefix. In your case</p>\n<ul>\n<li>/bookings/{bookingID}</li>\n<li>/bookings/allbookings</li>\n<li>/bookings/addbooking</li>\n<li>/bookings/bookings/{bookingID}</li>\n<li>/bookings/bookings/{bookingID}</li>\n</ul>\n<p>Also, I could see that you've adding <code>/bookings</code> perfix twice for couple of methods.</p>\n"}],"owner":{"account_id":16951964,"reputation":23,"user_id":12261262,"display_name":"hopeless"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71498564,"answer_count":2,"score":1,"last_activity_date":1647440869,"creation_date":1647437935,"question_id":71498069,"body_markdown":"**SOLVED**: Adding @Service annotation in CRUDServices.java and removing @ComponentScan in the main application solved EVERYTHING.\r\n\r\nI have a small application with Spring Boot Web, JPA and PostgreSQL database.\r\nWhen trying to call ANY of these API calls I get a 404. In another application done the same way it&#39;s successfull. All classes are in the same package and I don&#39;t get why it wouldn&#39;t find the controller (which seems to be the issue for most others with similair/same problem).\r\n\r\nIt runs on port 8081 because I have another service running on port 8080.\r\n\r\nI tried removing the ComponentScan but then get a missing bean exception. \r\nI don&#39;t get it - they are all in the same package structure? I only have ONE package and that&#39;s booking.crudservice\r\n\r\n**Main application** \r\n```\r\npackage booking.crudservice;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages=&quot;booking.crudservice.CRUDservices&quot;)\r\npublic class CrudserviceApplication\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tSpringApplication.run(CrudserviceApplication.class, args);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**Controller**\r\n\r\n```\r\npackage booking.crudservice;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n/*\r\n    This has PUT,POST, GET, DELETE requstest to the API endpoints for the CRUD operations\r\n    in CRUDservices.java\r\n */\r\n\r\n@RestController\r\n@RequestMapping(&quot;/bookings&quot;)\r\npublic class BookingController\r\n{\r\n    @Autowired\r\n    private CRUDServices services;\r\n\r\n    //Return a specific booking by ID.\r\n    @RequestMapping(&quot;/{bookingID}&quot;)\r\n    public Optional&lt;BookingEntity&gt; getBookingByID(@PathVariable String bookingID)\r\n    {\r\n        return services.getBookingByID(bookingID);\r\n    }\r\n\r\n    //Return all bookings\r\n    @RequestMapping(&quot;/allbookings&quot;)\r\n    public List&lt;BookingEntity&gt; getAllBookings()\r\n    {\r\n        return services.getAllBookings();\r\n    }\r\n\r\n    @RequestMapping(method = RequestMethod.POST, value =&quot;/addbooking&quot;)\r\n    public void addBooking(@RequestBody BookingEntity booking)\r\n    {\r\n        services.addBooking(booking);\r\n    }\r\n\r\n    //Update a given booking (with a bookingID), and replace it with new BookingEntity instance.\r\n    @RequestMapping(method = RequestMethod.PUT, value =&quot;/bookings/{bookingID}&quot;)\r\n    public void updateBooking(@RequestBody BookingEntity booking, @PathVariable String bookingID)\r\n    {\r\n        services.updateBooking(booking, bookingID);\r\n    }\r\n\r\n    //Deletes a booking with the given bookingID\r\n    @RequestMapping(method = RequestMethod.DELETE, value =&quot;/bookings/{bookingID}&quot;)\r\n    public void deleteBooking(@PathVariable String bookingID)\r\n    {\r\n        services.deleteBooking(bookingID);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;booking&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;crudservice&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;crudservice&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**application.properties file**\r\n```\r\nserver.port=8081\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/bookingDB\r\nspring.datasource.username=postgres\r\nspring.datasource.password=postgres\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL81Dialect\r\n\r\n```\r\n\r\n**CRUDServices.java**\r\n```\r\npackage booking.crudservice;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n/*\r\n    This service holds all CRUD operations performed on the database.\r\n    This utilizes the BookingRepository.java, which extends the CRUDrepository interface.\r\n    Using ORM via JPA all operations on the database can be easily performed here.\r\n    To connect to the web GET,PUT,POST and DELETE http requests will be made on all the operations via\r\n    BookingController, enabling the user and other possible services to interact with the database\r\n    using API endpoints.\r\n */\r\n\r\npublic class CRUDServices\r\n{\r\n    @Autowired\r\n    private BookingRepository repository;\r\n\r\n    //READ all bookings from DB using GET request\r\n    public List&lt;BookingEntity&gt; getAllBookings()\r\n    {\r\n        List&lt;BookingEntity&gt; bookings = new ArrayList&lt;&gt;();\r\n        repository.findAll().\r\n                forEach(bookings::add);\r\n\r\n        return bookings;\r\n    }\r\n    //SEARCH for a booking, given bookingID\r\n    public Optional&lt;BookingEntity&gt; getBookingByID(String bookingID)\r\n    {\r\n        return repository.findById(bookingID);\r\n    }\r\n\r\n    public void addBooking(BookingEntity booking)\r\n    {\r\n        repository.save(booking);\r\n    }\r\n\r\n    public void updateBooking(BookingEntity booking, String bookingID)\r\n    {\r\n        //1. Search for the given ID in the database\r\n        //2. Replace the booking object on that ID with new booking object from parameter.\r\n    }\r\n\r\n    public void deleteBooking(String bookingID)\r\n    {\r\n        repository.deleteById(bookingID);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot Web throws 404 with API call, correct project structure","body":"<p><strong>SOLVED</strong>: Adding @Service annotation in CRUDServices.java and removing @ComponentScan in the main application solved EVERYTHING.</p>\n<p>I have a small application with Spring Boot Web, JPA and PostgreSQL database.\nWhen trying to call ANY of these API calls I get a 404. In another application done the same way it's successfull. All classes are in the same package and I don't get why it wouldn't find the controller (which seems to be the issue for most others with similair/same problem).</p>\n<p>It runs on port 8081 because I have another service running on port 8080.</p>\n<p>I tried removing the ComponentScan but then get a missing bean exception.\nI don't get it - they are all in the same package structure? I only have ONE package and that's booking.crudservice</p>\n<p><strong>Main application</strong></p>\n<pre><code>package booking.crudservice;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.stereotype.Service;\n\n@SpringBootApplication\n@ComponentScan(basePackages=&quot;booking.crudservice.CRUDservices&quot;)\npublic class CrudserviceApplication\n{\n    public static void main(String[] args)\n    {\n        SpringApplication.run(CrudserviceApplication.class, args);\n    }\n}\n\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>package booking.crudservice;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\n\n/*\n    This has PUT,POST, GET, DELETE requstest to the API endpoints for the CRUD operations\n    in CRUDservices.java\n */\n\n@RestController\n@RequestMapping(&quot;/bookings&quot;)\npublic class BookingController\n{\n    @Autowired\n    private CRUDServices services;\n\n    //Return a specific booking by ID.\n    @RequestMapping(&quot;/{bookingID}&quot;)\n    public Optional&lt;BookingEntity&gt; getBookingByID(@PathVariable String bookingID)\n    {\n        return services.getBookingByID(bookingID);\n    }\n\n    //Return all bookings\n    @RequestMapping(&quot;/allbookings&quot;)\n    public List&lt;BookingEntity&gt; getAllBookings()\n    {\n        return services.getAllBookings();\n    }\n\n    @RequestMapping(method = RequestMethod.POST, value =&quot;/addbooking&quot;)\n    public void addBooking(@RequestBody BookingEntity booking)\n    {\n        services.addBooking(booking);\n    }\n\n    //Update a given booking (with a bookingID), and replace it with new BookingEntity instance.\n    @RequestMapping(method = RequestMethod.PUT, value =&quot;/bookings/{bookingID}&quot;)\n    public void updateBooking(@RequestBody BookingEntity booking, @PathVariable String bookingID)\n    {\n        services.updateBooking(booking, bookingID);\n    }\n\n    //Deletes a booking with the given bookingID\n    @RequestMapping(method = RequestMethod.DELETE, value =&quot;/bookings/{bookingID}&quot;)\n    public void deleteBooking(@PathVariable String bookingID)\n    {\n        services.deleteBooking(bookingID);\n    }\n}\n\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;booking&lt;/groupId&gt;\n    &lt;artifactId&gt;crudservice&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;crudservice&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>application.properties file</strong></p>\n<pre><code>server.port=8081\nspring.datasource.url=jdbc:postgresql://localhost:5432/bookingDB\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL81Dialect\n\n</code></pre>\n<p><strong>CRUDServices.java</strong></p>\n<pre><code>package booking.crudservice;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\n/*\n    This service holds all CRUD operations performed on the database.\n    This utilizes the BookingRepository.java, which extends the CRUDrepository interface.\n    Using ORM via JPA all operations on the database can be easily performed here.\n    To connect to the web GET,PUT,POST and DELETE http requests will be made on all the operations via\n    BookingController, enabling the user and other possible services to interact with the database\n    using API endpoints.\n */\n\npublic class CRUDServices\n{\n    @Autowired\n    private BookingRepository repository;\n\n    //READ all bookings from DB using GET request\n    public List&lt;BookingEntity&gt; getAllBookings()\n    {\n        List&lt;BookingEntity&gt; bookings = new ArrayList&lt;&gt;();\n        repository.findAll().\n                forEach(bookings::add);\n\n        return bookings;\n    }\n    //SEARCH for a booking, given bookingID\n    public Optional&lt;BookingEntity&gt; getBookingByID(String bookingID)\n    {\n        return repository.findById(bookingID);\n    }\n\n    public void addBooking(BookingEntity booking)\n    {\n        repository.save(booking);\n    }\n\n    public void updateBooking(BookingEntity booking, String bookingID)\n    {\n        //1. Search for the given ID in the database\n        //2. Replace the booking object on that ID with new booking object from parameter.\n    }\n\n    public void deleteBooking(String bookingID)\n    {\n        repository.deleteById(bookingID);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","json","gson"],"comments":[{"owner":{"account_id":8408747,"reputation":71,"user_id":6311418,"display_name":"Fahim Fahad"},"score":1,"creation_date":1643213853,"post_id":70866258,"comment_id":125281148,"body_markdown":"This is a complex structure. How about a 2 step deserialization? first step will be to use map with &lt;String, String&gt;. after that deserialize the value String again.","body":"This is a complex structure. How about a 2 step deserialization? first step will be to use map with &lt;String, String&gt;. after that deserialize the value String again."},{"owner":{"account_id":8253726,"reputation":196,"user_id":6207504,"display_name":"sh7411usa"},"score":0,"creation_date":1643215895,"post_id":70866258,"comment_id":125282164,"body_markdown":"can you demonstrate how to do that in one or two easy steps with gson?","body":"can you demonstrate how to do that in one or two easy steps with gson?"},{"owner":{"account_id":8408747,"reputation":71,"user_id":6311418,"display_name":"Fahim Fahad"},"score":0,"creation_date":1643266261,"post_id":70866258,"comment_id":125294993,"body_markdown":"Something like this:\n1st step:\npublic class responseObject {\n    String field_1;\n    String field_2;\n    Field3 field_3;\n    String field_4;\n\n    class Field3{\n        Map&lt;String, String&gt; field_3;\n    }\n    class ArrayObject{\n        String array_field_1;\n        String array_field_2;\n        String array_field_3;\n    }\n}\n\n2nd step:\nfor(String key: field_3.keySet()) {\n //apply deserialization for field_3.get(key)\n}","body":"Something like this: 1st step: public class responseObject {     String field_1;     String field_2;     Field3 field_3;     String field_4;      class Field3{         Map&lt;String, String&gt; field_3;     }     class ArrayObject{         String array_field_1;         String array_field_2;         String array_field_3;     } }  2nd step: for(String key: field_3.keySet()) {  //apply deserialization for field_3.get(key) }"}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646083048,"creation_date":1643400024,"answer_id":70899629,"question_id":70866258,"body_markdown":"This can be solved by writing a custom [`TypeAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html) for `Field3` which ignores the name of the property and only reads the value. The `TypeAdapter` has to be created by a [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html) to allow getting the delegate adapter for `ArrayObject[]`:\r\n```java\r\nclass Field3TypeAdapterFactory implements TypeAdapterFactory {\r\n    public Field3TypeAdapterFactory() {\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n        // Only support Field3 class\r\n        if (type.getRawType() != Field3.class) {\r\n            return null;\r\n        }\r\n\r\n        TypeAdapter&lt;ArrayObject[]&gt; fieldValueAdapter = gson.getAdapter(ArrayObject[].class);\r\n\r\n        // Cast is safe, check at beginning made sure type is Field3\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        TypeAdapter&lt;T&gt; adapter = (TypeAdapter&lt;T&gt;) new TypeAdapter&lt;Field3&gt;() {\r\n            @Override\r\n            public void write(JsonWriter out, Field3 value) throws IOException {\r\n                throw new UnsupportedOperationException(&quot;Serialization is not supported&quot;);\r\n            }\r\n\r\n            @Override\r\n            public Field3 read(JsonReader in) throws IOException {\r\n                if (in.peek() == JsonToken.NULL) {\r\n                    in.nextNull();\r\n                    return null;\r\n                }\r\n\r\n                in.beginObject();\r\n                // Skip the random property name\r\n                in.skipValue();\r\n                ArrayObject[] fieldValue = fieldValueAdapter.read(in);\r\n                in.endObject();\r\n\r\n                Field3 object = new Field3();\r\n                object.arrayObjects = fieldValue;\r\n                return object;\r\n            }\r\n        };\r\n        return adapter;\r\n    }\r\n}\r\n```\r\n\r\nYou can then either [register the factory with a `GsonBuilder`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#registerTypeAdapterFactory(com.google.gson.TypeAdapterFactory)), or you can annotate your `Field3` class with [`@JsonAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html). When using `@JsonAdapter` the factory class should have a no-args constructor.","title":"Deserialize JSON Array with random name - GSON","body":"<p>This can be solved by writing a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\"><code>TypeAdapter</code></a> for <code>Field3</code> which ignores the name of the property and only reads the value. The <code>TypeAdapter</code> has to be created by a <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a> to allow getting the delegate adapter for <code>ArrayObject[]</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Field3TypeAdapterFactory implements TypeAdapterFactory {\n    public Field3TypeAdapterFactory() {\n    }\n\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        // Only support Field3 class\n        if (type.getRawType() != Field3.class) {\n            return null;\n        }\n\n        TypeAdapter&lt;ArrayObject[]&gt; fieldValueAdapter = gson.getAdapter(ArrayObject[].class);\n\n        // Cast is safe, check at beginning made sure type is Field3\n        @SuppressWarnings(&quot;unchecked&quot;)\n        TypeAdapter&lt;T&gt; adapter = (TypeAdapter&lt;T&gt;) new TypeAdapter&lt;Field3&gt;() {\n            @Override\n            public void write(JsonWriter out, Field3 value) throws IOException {\n                throw new UnsupportedOperationException(&quot;Serialization is not supported&quot;);\n            }\n\n            @Override\n            public Field3 read(JsonReader in) throws IOException {\n                if (in.peek() == JsonToken.NULL) {\n                    in.nextNull();\n                    return null;\n                }\n\n                in.beginObject();\n                // Skip the random property name\n                in.skipValue();\n                ArrayObject[] fieldValue = fieldValueAdapter.read(in);\n                in.endObject();\n\n                Field3 object = new Field3();\n                object.arrayObjects = fieldValue;\n                return object;\n            }\n        };\n        return adapter;\n    }\n}\n</code></pre>\n<p>You can then either <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#registerTypeAdapterFactory(com.google.gson.TypeAdapterFactory)\" rel=\"nofollow noreferrer\">register the factory with a <code>GsonBuilder</code></a>, or you can annotate your <code>Field3</code> class with <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html\" rel=\"nofollow noreferrer\"><code>@JsonAdapter</code></a>. When using <code>@JsonAdapter</code> the factory class should have a no-args constructor.</p>\n"},{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647440390,"creation_date":1646083393,"answer_id":71301196,"question_id":70866258,"body_markdown":"\r\nYou can avoid the complexity of using a TypeAdapeter by making the type of field_3  `Map&lt;String, List&lt;ArrayObject&gt;&gt;`\r\n\r\n    public class responseObject {\r\n        String field_1;\r\n        String field_2;\r\n        Map&lt;String, List&lt;ArrayObject&gt;&gt; field_3;\r\n        String field_4;\r\n\r\n        class ArrayObject{\r\n            String array_field_1;\r\n            String array_field_2;\r\n            String array_field_3;\r\n        }\r\n    }\r\n\r\nAnd then to get the first item out of the Map without knowing its key you can use:\r\n\r\n    public List&lt;ResponseObject.ArrayObject&gt; getFirstValue(Map&lt;String, List&lt;ResponseObject.ArrayObject&gt;&gt; field_3) {\r\n        return field_3.values().iterator().next();\r\n    }","title":"Deserialize JSON Array with random name - GSON","body":"<p>You can avoid the complexity of using a TypeAdapeter by making the type of field_3  <code>Map&lt;String, List&lt;ArrayObject&gt;&gt;</code></p>\n<pre><code>public class responseObject {\n    String field_1;\n    String field_2;\n    Map&lt;String, List&lt;ArrayObject&gt;&gt; field_3;\n    String field_4;\n\n    class ArrayObject{\n        String array_field_1;\n        String array_field_2;\n        String array_field_3;\n    }\n}\n</code></pre>\n<p>And then to get the first item out of the Map without knowing its key you can use:</p>\n<pre><code>public List&lt;ResponseObject.ArrayObject&gt; getFirstValue(Map&lt;String, List&lt;ResponseObject.ArrayObject&gt;&gt; field_3) {\n    return field_3.values().iterator().next();\n}\n</code></pre>\n"}],"owner":{"account_id":8253726,"reputation":196,"user_id":6207504,"display_name":"sh7411usa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71301196,"answer_count":2,"score":0,"last_activity_date":1647440390,"creation_date":1643212136,"question_id":70866258,"body_markdown":"Am trying to deserialize a complex JSON structure using GSON. The API provider complicates things by providing an array in the results with a random name.\r\n\r\nThis is the (simplified/generified) JSON:\r\n\r\n    {\r\n        &quot;field_1&quot;: &quot;value&quot;,\r\n        &quot;field_2&quot;: &quot;value&quot;,\r\n        &quot;field_3&quot;: {\r\n            &quot;RANDOM_NAME&quot;: [\r\n                {\r\n                    &quot;array_field_1&quot;: &quot;value&quot;,\r\n                    &quot;array_field_2&quot;: &quot;value&quot;,\r\n                    &quot;array_field_3&quot;: &quot;value&quot;\r\n                },\r\n    \t\t\t{\r\n                    &quot;array_field_1&quot;: &quot;value&quot;,\r\n                    &quot;array_field_2&quot;: &quot;value&quot;,\r\n                    &quot;array_field_3&quot;: &quot;value&quot;\r\n                }\r\n            ]\r\n        },\r\n        &quot;field_4&quot;: &quot;value&quot;\r\n    }\r\n\r\nand this is the corresponding (highly simplified) POJO:\r\n\r\n    public class responseObject {\r\n        String field_1;\r\n        String field_2;\r\n        Field3 field_3;\r\n        String field_4;\r\n    \r\n        class Field3{\r\n            ArrayObject[] arrayObjects;\r\n        }\r\n        class ArrayObject{\r\n            String array_field_1;\r\n            String array_field_2;\r\n            String array_field_3;\r\n        }\r\n    }\r\n\r\nHowever, when i run `responseObject response = new Gson().fromJson(getJSON(),responseObject.class);` i get the following call stack:\r\n\r\n[![autos][1]][1]\r\n\r\nindicating that `field_3` was not properly deserialized and does not contain an array of `ArrayObject`.\r\n\r\nIn [this](https://stackoverflow.com/q/23472175) post the answers reference how to convert the data  to a map, but in my case the data structure of each item in the array is actually much larger than this simplified example, and it defeats the purpose of using GSON if i have to manually pick the data i need out of a complex list of nested maps. also having trouble getting these answers to work in my scenario where the random object is an array an not a plain json object.\r\n\r\nhow do i get the randomly named array in the JSON to properly deserialize into the variable `responseObject.Field3.arrayObjects`??\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n5brQ.png\r\n\r\n","title":"Deserialize JSON Array with random name - GSON","body":"<p>Am trying to deserialize a complex JSON structure using GSON. The API provider complicates things by providing an array in the results with a random name.</p>\n<p>This is the (simplified/generified) JSON:</p>\n<pre><code>{\n    &quot;field_1&quot;: &quot;value&quot;,\n    &quot;field_2&quot;: &quot;value&quot;,\n    &quot;field_3&quot;: {\n        &quot;RANDOM_NAME&quot;: [\n            {\n                &quot;array_field_1&quot;: &quot;value&quot;,\n                &quot;array_field_2&quot;: &quot;value&quot;,\n                &quot;array_field_3&quot;: &quot;value&quot;\n            },\n            {\n                &quot;array_field_1&quot;: &quot;value&quot;,\n                &quot;array_field_2&quot;: &quot;value&quot;,\n                &quot;array_field_3&quot;: &quot;value&quot;\n            }\n        ]\n    },\n    &quot;field_4&quot;: &quot;value&quot;\n}\n</code></pre>\n<p>and this is the corresponding (highly simplified) POJO:</p>\n<pre><code>public class responseObject {\n    String field_1;\n    String field_2;\n    Field3 field_3;\n    String field_4;\n\n    class Field3{\n        ArrayObject[] arrayObjects;\n    }\n    class ArrayObject{\n        String array_field_1;\n        String array_field_2;\n        String array_field_3;\n    }\n}\n</code></pre>\n<p>However, when i run <code>responseObject response = new Gson().fromJson(getJSON(),responseObject.class);</code> i get the following call stack:</p>\n<p><a href=\"https://i.stack.imgur.com/n5brQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n5brQ.png\" alt=\"autos\" /></a></p>\n<p>indicating that <code>field_3</code> was not properly deserialized and does not contain an array of <code>ArrayObject</code>.</p>\n<p>In <a href=\"https://stackoverflow.com/q/23472175\">this</a> post the answers reference how to convert the data  to a map, but in my case the data structure of each item in the array is actually much larger than this simplified example, and it defeats the purpose of using GSON if i have to manually pick the data i need out of a complex list of nested maps. also having trouble getting these answers to work in my scenario where the random object is an array an not a plain json object.</p>\n<p>how do i get the randomly named array in the JSON to properly deserialize into the variable <code>responseObject.Field3.arrayObjects</code>??</p>\n"},{"tags":["java","linux","swing"],"comments":[{"owner":{"account_id":1225386,"reputation":896,"user_id":1191034,"accept_rate":45,"display_name":"Vlad Topala"},"score":0,"creation_date":1403211835,"post_id":24315952,"comment_id":37583293,"body_markdown":"Could you please tell us what part exactly doesn&#39;t work on Linux?","body":"Could you please tell us what part exactly doesn&#39;t work on Linux?"},{"owner":{"account_id":2614334,"reputation":351,"user_id":2263764,"accept_rate":57,"display_name":"user2263764"},"score":0,"creation_date":1403212417,"post_id":24315952,"comment_id":37583544,"body_markdown":"Sorry...I forgot to include it. \nNow I have added the change","body":"Sorry...I forgot to include it.  Now I have added the change"},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1403213650,"post_id":24315952,"comment_id":37584100,"body_markdown":"This is just a guess, but have you tried doing `setState()` *before* `setVisible` when you de-iconify the window?","body":"This is just a guess, but have you tried doing <code>setState()</code> <i>before</i> <code>setVisible</code> when you de-iconify the window?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1403214370,"post_id":24315952,"comment_id":37584387,"body_markdown":"Have you tried it without the setState statement?","body":"Have you tried it without the setState statement?"},{"owner":{"account_id":1225386,"reputation":896,"user_id":1191034,"accept_rate":45,"display_name":"Vlad Topala"},"score":0,"creation_date":1403214530,"post_id":24315952,"comment_id":37584462,"body_markdown":"It&#39;s the same without it too.","body":"It&#39;s the same without it too."}],"answers":[{"tags":[],"owner":{"account_id":1225386,"reputation":896,"user_id":1191034,"accept_rate":45,"display_name":"Vlad Topala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1403214819,"creation_date":1403214469,"answer_id":24316767,"question_id":24315952,"body_markdown":"As Dan Getz suggests, I also thought the order of setVisible and setState should be inverted since the javadoc for setState says:\r\n\r\n&lt;p&gt;&lt;b&gt;If the frame is not visible on the\r\n     * screen&lt;/b&gt;, the events may or may not be\r\n     * generated.&lt;/p&gt;\r\nbut this didn&#39;t help.\r\n\r\nThe one thing that did help though was replacing setVisible(false) with dispose(). They are similar in that you can use setVisible(true) to reopen a disposed window. You can read more about it here: https://stackoverflow.com/questions/7256606/jdialog-setvisiblefalse-vs-dispose\r\nI&#39;ll try to find an explanation and come back with it :)\r\n\r\nSSCCE to simulate OP problem:\r\n\r\n    public class Test {\r\n        private JFrame myFrame;\r\n        public Test() {\r\n            myFrame = new JFrame();\r\n            myFrame.setVisible(true);\r\n            myFrame.setSize(300, 300);\r\n            myFrame.addWindowListener(new WindowAdapter() {\r\n                @Override\r\n                public void windowIconified(WindowEvent e) {\r\n                    PutTray();\r\n                }\r\n            });\r\n        }\r\n        private void PutTray() {\r\n            myFrame.setVisible(false); //replace with dispose(); and it&#39;s ok\r\n            Timer t = new Timer(1000, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent actionEvent) {\r\n                    myFrame.setVisible(true);\r\n                }\r\n            });\r\n            t.setRepeats(false);\r\n            t.start();\r\n        }\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n    }","title":"Java Swing, restore from system tray not working in Linux","body":"<p>As Dan Getz suggests, I also thought the order of setVisible and setState should be inverted since the javadoc for setState says:</p>\n\n<p><b>If the frame is not visible on the\n     * screen</b>, the events may or may not be\n     * generated.</p>\n\n<p>but this didn't help.</p>\n\n<p>The one thing that did help though was replacing setVisible(false) with dispose(). They are similar in that you can use setVisible(true) to reopen a disposed window. You can read more about it here: <a href=\"https://stackoverflow.com/questions/7256606/jdialog-setvisiblefalse-vs-dispose\">JDialog setVisible(false) vs dispose()</a>\nI'll try to find an explanation and come back with it :)</p>\n\n<p>SSCCE to simulate OP problem:</p>\n\n<pre><code>public class Test {\n    private JFrame myFrame;\n    public Test() {\n        myFrame = new JFrame();\n        myFrame.setVisible(true);\n        myFrame.setSize(300, 300);\n        myFrame.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowIconified(WindowEvent e) {\n                PutTray();\n            }\n        });\n    }\n    private void PutTray() {\n        myFrame.setVisible(false); //replace with dispose(); and it's ok\n        Timer t = new Timer(1000, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent actionEvent) {\n                myFrame.setVisible(true);\n            }\n        });\n        t.setRepeats(false);\n        t.start();\n    }\n    public static void main(String[] args) {\n        new Test();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22179694,"reputation":11,"user_id":16423599,"display_name":"gprem062"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647440388,"creation_date":1647439735,"answer_id":71498536,"question_id":24315952,"body_markdown":"I think you are getting it wrong!\r\n\r\nMaybe you are confused about deiconified and visibility\r\n\r\n`windowIconified()` \r\nwill be called when we click minimize button\r\n\r\nand\r\n\r\n    windowDeiconified()\r\nis called when we restore it from **taskbar** and not system tray!\r\n\r\nIn order to restore from system tray you need to use this\r\n\r\n    trayIcon.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                window.setVisible(true);\r\n            }\r\n        });\r\n\r\nBasically i don&#39;t think the difference between `dispose()` &amp; `setVisible()` will bother you in this specific problem\r\n\r\nStill, my recommendation is to use `setVisible()` here \r\n    ","title":"Java Swing, restore from system tray not working in Linux","body":"<p>I think you are getting it wrong!</p>\n<p>Maybe you are confused about deiconified and visibility</p>\n<p><code>windowIconified()</code>\nwill be called when we click minimize button</p>\n<p>and</p>\n<pre><code>windowDeiconified()\n</code></pre>\n<p>is called when we restore it from <strong>taskbar</strong> and not system tray!</p>\n<p>In order to restore from system tray you need to use this</p>\n<pre><code>trayIcon.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            window.setVisible(true);\n        }\n    });\n</code></pre>\n<p>Basically i don't think the difference between <code>dispose()</code> &amp; <code>setVisible()</code> will bother you in this specific problem</p>\n<p>Still, my recommendation is to use <code>setVisible()</code> here</p>\n"}],"owner":{"account_id":2614334,"reputation":351,"user_id":2263764,"accept_rate":57,"display_name":"user2263764"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24316767,"answer_count":2,"score":0,"last_activity_date":1647440388,"creation_date":1403210904,"question_id":24315952,"body_markdown":"I am creating an application in Java and I would like that when you minimize to an icon, the application will have to &quot;hide&quot; in the system tray. \r\nThe code I use is this: (the significant part of the code)\r\n\r\n    myFrame = new JFrame();\r\n    myFrame.addWindowListener(new WindowAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void windowIconified(WindowEvent e) {   \t\t\t\t\r\n    \t\t\t\tPutTray();\r\n    \t\t\t}\r\n    \t\t\t    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void windowDeiconified(WindowEvent e) {\r\n    \t\t\t\tSystem.out.println(&quot;Deiconified&quot;);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t});\r\n\r\nThis is a **&quot;PutTray&quot;** function:\r\n\r\n    private void PutTray()\r\n    \t{\r\n    \t\t\ttry \r\n    \t\t\t{\r\n    \t\t        tray.add(trayIcon);\t// Initialized elsewhere\r\n    \t\t        myFrame.setVisible(false);\r\n    \r\n    \t\t    } catch (AWTException e) {\r\n    \t\t        System.err.println(e);\r\n    \t\t    }\r\n    \t}\r\n\r\nTo restore (via option in the pop-up menu when you press the icon minimized):\r\n\r\n    MenuItem show = new MenuItem(&quot;Show&quot;);\r\n    \t\t    show.addActionListener(new ActionListener() {\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t    \t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tmyFrame.setVisible(true); \r\n    \t\t\t\t\tmyFrame.setState(JFrame.NORMAL);\r\n    \t\t\t\t\ttray.remove(trayIcon);\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t});\r\n\r\nThe code works perfectly on Windows 8, but it does not work on Linux (Kali Linux and even Ubuntu). \r\nWhy Windows yes and Linux no?\r\n\r\n**EDIT:**\r\n\r\nOn Linux, after you press the command to show the application, it appears for a very small moment, and then minimizes again. Basically is triggered the event &quot;windowDeiconified&quot; and immediately after the event &quot;windowIconified&quot; without taking the time to do something else and then the application is shown in the system tray.","title":"Java Swing, restore from system tray not working in Linux","body":"<p>I am creating an application in Java and I would like that when you minimize to an icon, the application will have to \"hide\" in the system tray. \nThe code I use is this: (the significant part of the code)</p>\n\n<pre><code>myFrame = new JFrame();\nmyFrame.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowIconified(WindowEvent e) {                \n                PutTray();\n            }\n\n            @Override\n            public void windowDeiconified(WindowEvent e) {\n                System.out.println(\"Deiconified\");\n\n            }\n\n        });\n</code></pre>\n\n<p>This is a <strong>\"PutTray\"</strong> function:</p>\n\n<pre><code>private void PutTray()\n    {\n            try \n            {\n                tray.add(trayIcon); // Initialized elsewhere\n                myFrame.setVisible(false);\n\n            } catch (AWTException e) {\n                System.err.println(e);\n            }\n    }\n</code></pre>\n\n<p>To restore (via option in the pop-up menu when you press the icon minimized):</p>\n\n<pre><code>MenuItem show = new MenuItem(\"Show\");\n            show.addActionListener(new ActionListener() {\n\n                @Override\n                public void actionPerformed(ActionEvent e) {\n\n\n                    myFrame.setVisible(true); \n                    myFrame.setState(JFrame.NORMAL);\n                    tray.remove(trayIcon);\n\n                }\n            });\n</code></pre>\n\n<p>The code works perfectly on Windows 8, but it does not work on Linux (Kali Linux and even Ubuntu). \nWhy Windows yes and Linux no?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>On Linux, after you press the command to show the application, it appears for a very small moment, and then minimizes again. Basically is triggered the event \"windowDeiconified\" and immediately after the event \"windowIconified\" without taking the time to do something else and then the application is shown in the system tray.</p>\n"},{"tags":["java","android","firebase-realtime-database","android-recyclerview","firebaseui"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647430376,"post_id":71496326,"comment_id":126367750,"body_markdown":"Please indicate what is the **exact** code that produces that error. Please also edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please indicate what is the <b>exact</b> code that produces that error. Please also edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1647431800,"post_id":71496326,"comment_id":126368289,"body_markdown":"the error is from that firebaseRecyclerAdapter, I am getting an error that says com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type model.DeliveredOrder @AlexMamo","body":"the error is from that firebaseRecyclerAdapter, I am getting an error that says com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type model.DeliveredOrder @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647432561,"post_id":71496326,"comment_id":126368572,"body_markdown":"At which line of code? Please also check the question in the second part of my comment.","body":"At which line of code? Please also check the question in the second part of my comment."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1647432851,"post_id":71496326,"comment_id":126368674,"body_markdown":"The logcat is not indicating the line that the issue is coming from but I know that it is from that onStart() that I have the FirebaseRecyclerAdapter which has my model and viewmodel classes","body":"The logcat is not indicating the line that the issue is coming from but I know that it is from that onStart() that I have the FirebaseRecyclerAdapter which has my model and viewmodel classes"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647440285,"creation_date":1647440285,"answer_id":71498685,"question_id":71496326,"body_markdown":"Your code tries to show this reference in a `RecyclerView`:\r\n```\r\ndeliveredOrderRef = FirebaseDatabase.getInstance().getReference().child(&quot;Delivered List&quot;);\r\n```\r\n\r\nThe `Delivered List` node in your database looks like this:\r\n\r\n  ```\r\n  &quot;Delivered List&quot; : {\r\n    &quot;address&quot; : &quot;New Airport&quot;,\r\n    &quot;city&quot; : &quot;Calabar&quot;,\r\n    &quot;deliveredDate&quot; : &quot;14 Mar, 2022&quot;,\r\n    &quot;deliveredTime&quot; : &quot;13:11:15 &quot;,\r\n    &quot;name&quot; : &quot;Elijah Ukeme&quot;,\r\n    &quot;orderedDate&quot; : &quot;12 Mar, 2022&quot;,\r\n    &quot;orderedTime&quot; : &quot;14:14:29 &quot;,\r\n    &quot;phone&quot; : &quot;08167988220&quot;,\r\n    &quot;receiversName&quot; : &quot;Joy Elijah&quot;,\r\n    &quot;totalAmount&quot; : &quot;15000&quot;\r\n  },\r\n  ```\r\n\r\nSo while it may be called a List, it actually only contains the property of a single order, which means that you can&#39;t show that as a list of orders in a recycler view. What happens is that FirebaseUI tries to parse each property (so `address`, `city`, etc) as an `Order`, which of course fails (as `&quot;New Airport&quot;` is not enough information to create an `Order` from) and that&#39;s what the error then shows.\r\n\r\n---\r\n\r\nIf you want to show the current data, you can use this trick to load the same as a list of one order:\r\n\r\n```\r\ndeliveredOrderRef = FirebaseDatabase.getInstance().getReference().orderByKey().equalTo(&quot;Delivered List&quot;);\r\n```\r\n\r\nBut the proper solution is to make the data under `Delivered List` into a real list, so:\r\n\r\n```\r\n&quot;Delivered List&quot; : {\r\n  &quot;key of first delivered order&quot;: {\r\n    &quot;address&quot; : &quot;New Airport&quot;,\r\n    &quot;city&quot; : &quot;Calabar&quot;,\r\n    &quot;deliveredDate&quot; : &quot;14 Mar, 2022&quot;,\r\n    &quot;deliveredTime&quot; : &quot;13:11:15 &quot;,\r\n    &quot;name&quot; : &quot;Elijah Ukeme&quot;,\r\n    &quot;orderedDate&quot; : &quot;12 Mar, 2022&quot;,\r\n    &quot;orderedTime&quot; : &quot;14:14:29 &quot;,\r\n    &quot;phone&quot; : &quot;08167988220&quot;,\r\n    &quot;receiversName&quot; : &quot;Joy Elijah&quot;,\r\n    &quot;totalAmount&quot; : &quot;15000&quot;\r\n  },\r\n  &quot;key of second delivered order&quot;: {\r\n    &quot;address&quot; : &quot;Another Airport&quot;,\r\n    &quot;city&quot; : &quot;Calabar&quot;,\r\n    ...\r\n  }\r\n}\r\n```\r\n","title":"How can one be able to solve incompatible type in firebase recycler view","body":"<p>Your code tries to show this reference in a <code>RecyclerView</code>:</p>\n<pre><code>deliveredOrderRef = FirebaseDatabase.getInstance().getReference().child(&quot;Delivered List&quot;);\n</code></pre>\n<p>The <code>Delivered List</code> node in your database looks like this:</p>\n<pre><code>&quot;Delivered List&quot; : {\n  &quot;address&quot; : &quot;New Airport&quot;,\n  &quot;city&quot; : &quot;Calabar&quot;,\n  &quot;deliveredDate&quot; : &quot;14 Mar, 2022&quot;,\n  &quot;deliveredTime&quot; : &quot;13:11:15 &quot;,\n  &quot;name&quot; : &quot;Elijah Ukeme&quot;,\n  &quot;orderedDate&quot; : &quot;12 Mar, 2022&quot;,\n  &quot;orderedTime&quot; : &quot;14:14:29 &quot;,\n  &quot;phone&quot; : &quot;08167988220&quot;,\n  &quot;receiversName&quot; : &quot;Joy Elijah&quot;,\n  &quot;totalAmount&quot; : &quot;15000&quot;\n},\n</code></pre>\n<p>So while it may be called a List, it actually only contains the property of a single order, which means that you can't show that as a list of orders in a recycler view. What happens is that FirebaseUI tries to parse each property (so <code>address</code>, <code>city</code>, etc) as an <code>Order</code>, which of course fails (as <code>&quot;New Airport&quot;</code> is not enough information to create an <code>Order</code> from) and that's what the error then shows.</p>\n<hr />\n<p>If you want to show the current data, you can use this trick to load the same as a list of one order:</p>\n<pre><code>deliveredOrderRef = FirebaseDatabase.getInstance().getReference().orderByKey().equalTo(&quot;Delivered List&quot;);\n</code></pre>\n<p>But the proper solution is to make the data under <code>Delivered List</code> into a real list, so:</p>\n<pre><code>&quot;Delivered List&quot; : {\n  &quot;key of first delivered order&quot;: {\n    &quot;address&quot; : &quot;New Airport&quot;,\n    &quot;city&quot; : &quot;Calabar&quot;,\n    &quot;deliveredDate&quot; : &quot;14 Mar, 2022&quot;,\n    &quot;deliveredTime&quot; : &quot;13:11:15 &quot;,\n    &quot;name&quot; : &quot;Elijah Ukeme&quot;,\n    &quot;orderedDate&quot; : &quot;12 Mar, 2022&quot;,\n    &quot;orderedTime&quot; : &quot;14:14:29 &quot;,\n    &quot;phone&quot; : &quot;08167988220&quot;,\n    &quot;receiversName&quot; : &quot;Joy Elijah&quot;,\n    &quot;totalAmount&quot; : &quot;15000&quot;\n  },\n  &quot;key of second delivered order&quot;: {\n    &quot;address&quot; : &quot;Another Airport&quot;,\n    &quot;city&quot; : &quot;Calabar&quot;,\n    ...\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647440285,"creation_date":1647430261,"question_id":71496326,"body_markdown":"I am trying to retrieve my data from the firebase but I am getting this error, I don&#39;t know how to solve it.\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.elijah.ukeme.ecommerceapp, PID: 9835\r\n        com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type model.DeliveredOrder\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n            at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n            at com.firebase.ui.database.ClassSnapshotParser.parseSnapshot(ClassSnapshotParser.java:29)\r\n            at com.firebase.ui.database.ClassSnapshotParser.parseSnapshot(ClassSnapshotParser.java:15)\r\n            at com.firebase.ui.common.BaseCachingSnapshotParser.parseSnapshot(BaseCachingSnapshotParser.java:36)\r\n            at com.firebase.ui.common.BaseObservableSnapshotArray.get(BaseObservableSnapshotArray.java:52)\r\n            at com.firebase.ui.database.FirebaseRecyclerAdapter.getItem(FirebaseRecyclerAdapter.java:108)\r\n            at com.firebase.ui.database.FirebaseRecyclerAdapter.onBindViewHolder(FirebaseRecyclerAdapter.java:148)\r\n            at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7254)\r\n            at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7337)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6194)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6460)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\r\n            at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4309)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4012)\r\n            at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4578)\r\n            at android.view.View.layout(View.java:21912)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n            at android.widget.RelativeLayout.onLayout(RelativeLayout.java:1103)\r\n            at android.view.View.layout(View.java:21912)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n            at android.view.View.layout(View.java:21912)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n            at android.view.View.layout(View.java:21912)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n            at android.view.View.layout(View.java:21912)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n            at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n            at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n            at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n            at android.view.View.layout(View.java:21912)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n            at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n            at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n            at com.android.internal.policy.DecorView.onLayout(DecorView.java:779)\r\n    E/AndroidRuntime:     at android.view.View.layout(View.java:21912)\r\n            at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n            at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3080)\r\n            at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2590)\r\n            at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1721)\r\n            at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7598)\r\n            at android.view.Choreographer$CallbackRecord.run(Choreographer.java:966)\r\n            at android.view.Choreographer.doCallbacks(Choreographer.java:790)\r\n            at android.view.Choreographer.doFrame(Choreographer.java:725)\r\n            at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:951)\r\n            at android.os.Handler.handleCallback(Handler.java:883)\r\n            at android.os.Handler.dispatchMessage(Handler.java:100)\r\n            at android.os.Looper.loop(Looper.java:214)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n\r\nThis is the activity to retrieve the data:\r\n    \r\n    public class DeliveredListActivity extends AppCompatActivity {\r\n    \r\n        private RecyclerView recyclerView;\r\n        private DatabaseReference deliveredOrderRef;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_delivered_list);\r\n            recyclerView = findViewById(R.id.recycler_view_delivered_order_list);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n            deliveredOrderRef = FirebaseDatabase.getInstance().getReference().child(&quot;Delivered List&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n    \r\n            FirebaseRecyclerOptions&lt;DeliveredOrder&gt; options = new FirebaseRecyclerOptions.Builder&lt;DeliveredOrder&gt;()\r\n                    .setQuery(deliveredOrderRef,DeliveredOrder.class)\r\n                    .build();\r\n    \r\n            FirebaseRecyclerAdapter&lt;DeliveredOrder, DeliveredViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;DeliveredOrder, DeliveredViewHolder&gt;(options) {\r\n                @Override\r\n                protected void onBindViewHolder(@NonNull DeliveredViewHolder holder, int position, @NonNull DeliveredOrder model) {\r\n    \r\n                    holder.shipperName.setText(&quot;Name: &quot;+model.getName());\r\n                    holder.phoneNumber.setText(&quot;Phone Number &quot;+model.getPhone());\r\n                    holder.receiver.setText(&quot;Received By: &quot;+model.getReceiversName());\r\n                    holder.totalPrice.setText(&quot;Total Price: &quot;+model.getTotalAmount());\r\n                    holder.addressCity.setText(&quot;Address: &quot;+model.getAddress()+&quot;, &quot;+model.getCity());\r\n                    holder.dateTime.setText(&quot;Ordered On: &quot;+model.getOrderedDate()+&quot; at &quot;+model.getOrderedTime());\r\n                    holder.dateTime2.setText(&quot;Received On: &quot;+model.getDeliveredDate()+&quot; at &quot;+model.getDeliveredTime());\r\n    \r\n                    holder.deliveredProductBtn.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            String Uid = getRef(position).getKey();\r\n                            Intent intent = new Intent(DeliveredListActivity.this, AdminUserProductActivtity.class);\r\n                            intent.putExtra(&quot;uid&quot;,Uid);\r\n                            intent.putExtra(&quot;route&quot;,&quot;Admin&quot;);\r\n                            startActivity(intent);\r\n                        }\r\n                    });\r\n    \r\n                }\r\n    \r\n                @NonNull\r\n                @Override\r\n                public DeliveredViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.delivered_order_layout,parent,false);\r\n    \r\n                    return new DeliveredViewHolder(view);\r\n                }\r\n            };\r\n            recyclerView.setAdapter(adapter);\r\n            adapter.startListening();\r\n        }\r\n    }\r\n    \r\nThis is my model class:\r\n    \r\n    public class DeliveredOrder {\r\n    \r\n        private String name;\r\n        private String phone;\r\n        private String address;\r\n        private String city;\r\n        private String totalAmount;\r\n        private String orderedDate;\r\n        private String orderedTime;\r\n        private String deliveredDate;\r\n        private String deliveredTime;\r\n        private String receiversName;\r\n    \r\n        public DeliveredOrder() {\r\n        }\r\n    \r\n        public DeliveredOrder(String name, String phone, String address, String city, String totalAmount, String orderedDate, String orderedTime, String deliveredDate, String deliveredTime, String receiversName) {\r\n            this.name = name;\r\n            this.phone = phone;\r\n            this.address = address;\r\n            this.city = city;\r\n            this.totalAmount = totalAmount;\r\n            this.orderedDate = orderedDate;\r\n            this.orderedTime = orderedTime;\r\n            this.deliveredDate = deliveredDate;\r\n            this.deliveredTime = deliveredTime;\r\n            this.receiversName = receiversName;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getPhone() {\r\n            return phone;\r\n        }\r\n    \r\n        public void setPhone(String phone) {\r\n            this.phone = phone;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    \r\n        public String getCity() {\r\n            return city;\r\n        }\r\n    \r\n        public void setCity(String city) {\r\n            this.city = city;\r\n        }\r\n    \r\n        public String getTotalAmount() {\r\n            return totalAmount;\r\n        }\r\n    \r\n        public void setTotalAmount(String totalAmount) {\r\n            this.totalAmount = totalAmount;\r\n        }\r\n    \r\n        public String getOrderedDate() {\r\n            return orderedDate;\r\n        }\r\n    \r\n        public void setOrderedDate(String orderedDate) {\r\n            this.orderedDate = orderedDate;\r\n        }\r\n    \r\n        public String getOrderedTime() {\r\n            return orderedTime;\r\n        }\r\n    \r\n        public void setOrderedTime(String orderedTime) {\r\n            this.orderedTime = orderedTime;\r\n        }\r\n    \r\n        public String getDeliveredDate() {\r\n            return deliveredDate;\r\n        }\r\n    \r\n        public void setDeliveredDate(String deliveredDate) {\r\n            this.deliveredDate = deliveredDate;\r\n        }\r\n    \r\n        public String getDeliveredTime() {\r\n            return deliveredTime;\r\n        }\r\n    \r\n        public void setDeliveredTime(String deliveredTime) {\r\n            this.deliveredTime = deliveredTime;\r\n        }\r\n    \r\n        public String getReceiversName() {\r\n            return receiversName;\r\n        }\r\n    \r\n        public void setReceiversName(String receiversName) {\r\n            this.receiversName = receiversName;\r\n        }\r\n    }\r\n    \r\n    \r\nThis is the viewHoder class:\r\n    \r\n    public class DeliveredViewHolder extends RecyclerView.ViewHolder {\r\n        public TextView shipperName, phoneNumber,totalPrice,addressCity,dateTime,dateTime2,receiver;\r\n        public Button deliveredProductBtn;\r\n        public DeliveredViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            shipperName = itemView.findViewById(R.id.delivered_order_user_name);\r\n            phoneNumber = itemView.findViewById(R.id.delivered_order_phone_number);\r\n            totalPrice = itemView.findViewById(R.id.delivered_order_total_price);\r\n            addressCity = itemView.findViewById(R.id.delivered_order_address_and_city);\r\n            dateTime = itemView.findViewById(R.id.ordered_date_and_time);\r\n            dateTime2 = itemView.findViewById(R.id.delivered_order_date_and_time);\r\n            receiver = itemView.findViewById(R.id.receivers_name_textview);\r\n            deliveredProductBtn = itemView.findViewById(R.id.btn_show_all_products_delivered);\r\n        }\r\n    }\r\n    \r\nThis is the database:\r\n    \r\n    {\r\n      &quot;Admin&quot; : {\r\n        &quot;08167988220&quot; : {\r\n          &quot;name&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;password&quot; : &quot;adminmet&quot;,\r\n          &quot;phone&quot; : &quot;08167988220&quot;\r\n        }\r\n      },\r\n      &quot;Cart List&quot; : {\r\n        &quot;Admin View&quot; : {\r\n          &quot;08167988220&quot; : {\r\n            &quot;Products&quot; : {\r\n              &quot;10 Mar, 202217:07:43 &amp;&quot; : {\r\n                &quot;date&quot; : &quot;13 Mar, 2022&quot;,\r\n                &quot;discount&quot; : &quot;&quot;,\r\n                &quot;pid&quot; : &quot;10 Mar, 202217:07:43 &amp;&quot;,\r\n                &quot;pname&quot; : &quot;Cap&quot;,\r\n                &quot;price&quot; : &quot;2000&quot;,\r\n                &quot;quantity&quot; : &quot;1&quot;,\r\n                &quot;time&quot; : &quot;12:56:00 &amp;&quot;\r\n              },\r\n              &quot;12 Mar, 202214:01:56 &amp;&quot; : {\r\n                &quot;date&quot; : &quot;12 Mar, 2022&quot;,\r\n                &quot;discount&quot; : &quot;&quot;,\r\n                &quot;pid&quot; : &quot;12 Mar, 202214:01:56 &amp;&quot;,\r\n                &quot;pname&quot; : &quot;Wristwatch&quot;,\r\n                &quot;price&quot; : &quot;5000&quot;,\r\n                &quot;quantity&quot; : &quot;1&quot;,\r\n                &quot;time&quot; : &quot;14:12:44 &amp;&quot;\r\n              },\r\n              &quot;12 Mar, 202214:04:16 &amp;&quot; : {\r\n                &quot;date&quot; : &quot;12 Mar, 2022&quot;,\r\n                &quot;discount&quot; : &quot;&quot;,\r\n                &quot;pid&quot; : &quot;12 Mar, 202214:04:16 &amp;&quot;,\r\n                &quot;pname&quot; : &quot;Headset&quot;,\r\n                &quot;price&quot; : &quot;2000&quot;,\r\n                &quot;quantity&quot; : &quot;3&quot;,\r\n                &quot;time&quot; : &quot;14:13:36 &amp;&quot;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        &quot;User View&quot; : {\r\n          &quot;08167988220&quot; : {\r\n            &quot;Products&quot; : {\r\n              &quot;10 Mar, 202217:07:43 &amp;&quot; : {\r\n                &quot;date&quot; : &quot;13 Mar, 2022&quot;,\r\n                &quot;discount&quot; : &quot;&quot;,\r\n                &quot;pid&quot; : &quot;10 Mar, 202217:07:43 &amp;&quot;,\r\n                &quot;pname&quot; : &quot;Cap&quot;,\r\n                &quot;price&quot; : &quot;2000&quot;,\r\n                &quot;quantity&quot; : &quot;1&quot;,\r\n                &quot;time&quot; : &quot;12:56:00 &amp;&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;Delivered List&quot; : {\r\n        &quot;address&quot; : &quot;New Airport&quot;,\r\n        &quot;city&quot; : &quot;Calabar&quot;,\r\n        &quot;deliveredDate&quot; : &quot;14 Mar, 2022&quot;,\r\n        &quot;deliveredTime&quot; : &quot;13:11:15 &quot;,\r\n        &quot;name&quot; : &quot;Elijah Ukeme&quot;,\r\n        &quot;orderedDate&quot; : &quot;12 Mar, 2022&quot;,\r\n        &quot;orderedTime&quot; : &quot;14:14:29 &quot;,\r\n        &quot;phone&quot; : &quot;08167988220&quot;,\r\n        &quot;receiversName&quot; : &quot;Joy Elijah&quot;,\r\n        &quot;totalAmount&quot; : &quot;15000&quot;\r\n      },\r\n      &quot;Products&quot; : {\r\n        &quot;10 Mar, 202217:07:43 &amp;&quot; : {\r\n          &quot;category&quot; : &quot;hatsCap&quot;,\r\n          &quot;date&quot; : &quot;10 Mar, 2022&quot;,\r\n          &quot;description&quot; : &quot;Cool Baby Cap&quot;,\r\n          &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1253310%20Mar%2C%20202217%3A07%3A43%20%26.jpg?alt=media&amp;token=c7d241b0-89c2-40d8-8971-6a9d38ec9ad2&quot;,\r\n          &quot;pid&quot; : &quot;10 Mar, 202217:07:43 &amp;&quot;,\r\n          &quot;price&quot; : &quot;2000&quot;,\r\n          &quot;productStatus&quot; : &quot;Approved&quot;,\r\n          &quot;product_name&quot; : &quot;Cap&quot;,\r\n          &quot;sellerAddress&quot; : &quot;New Airport&quot;,\r\n          &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\r\n          &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;sellerPhone&quot; : &quot;08167988220&quot;,\r\n          &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\r\n          &quot;time&quot; : &quot;17:07:43 &amp;&quot;\r\n        },\r\n        &quot;12 Mar, 202213:57:24 &amp;&quot; : {\r\n          &quot;category&quot; : &quot;tShirts&quot;,\r\n          &quot;date&quot; : &quot;12 Mar, 2022&quot;,\r\n          &quot;description&quot; : &quot;A pair of male shirts&quot;,\r\n          &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1253912%20Mar%2C%20202213%3A57%3A24%20%26.jpg?alt=media&amp;token=b4e4e265-17f6-44c9-a006-193750d34732&quot;,\r\n          &quot;pid&quot; : &quot;12 Mar, 202213:57:24 &amp;&quot;,\r\n          &quot;price&quot; : &quot;10000&quot;,\r\n          &quot;productStatus&quot; : &quot;Approved&quot;,\r\n          &quot;product_name&quot; : &quot;Male shirt&quot;,\r\n          &quot;sellerAddress&quot; : &quot;New Airport&quot;,\r\n          &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\r\n          &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;sellerPhone&quot; : &quot;08167988220&quot;,\r\n          &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\r\n          &quot;time&quot; : &quot;13:57:24 &amp;&quot;\r\n        },\r\n        &quot;12 Mar, 202213:59:34 &amp;&quot; : {\r\n          &quot;category&quot; : &quot;sweaters&quot;,\r\n          &quot;date&quot; : &quot;12 Mar, 2022&quot;,\r\n          &quot;description&quot; : &quot;Red color suite&quot;,\r\n          &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1254212%20Mar%2C%20202213%3A59%3A34%20%26.jpg?alt=media&amp;token=1a84d781-d256-4d7c-bff3-4a20a7041726&quot;,\r\n          &quot;pid&quot; : &quot;12 Mar, 202213:59:34 &amp;&quot;,\r\n          &quot;price&quot; : &quot;20000&quot;,\r\n          &quot;productStatus&quot; : &quot;Approved&quot;,\r\n          &quot;product_name&quot; : &quot;Male Suite&quot;,\r\n          &quot;sellerAddress&quot; : &quot;New Airport&quot;,\r\n          &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\r\n          &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;sellerPhone&quot; : &quot;08167988220&quot;,\r\n          &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\r\n          &quot;time&quot; : &quot;13:59:34 &amp;&quot;\r\n        },\r\n        &quot;12 Mar, 202214:01:56 &amp;&quot; : {\r\n          &quot;category&quot; : &quot;watches&quot;,\r\n          &quot;date&quot; : &quot;12 Mar, 2022&quot;,\r\n          &quot;description&quot; : &quot;Caret Gold Wristwatch&quot;,\r\n          &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1254012%20Mar%2C%20202214%3A01%3A56%20%26.jpg?alt=media&amp;token=2b6e8132-a627-4192-ad91-27b22b0ab869&quot;,\r\n          &quot;pid&quot; : &quot;12 Mar, 202214:01:56 &amp;&quot;,\r\n          &quot;price&quot; : &quot;5000&quot;,\r\n          &quot;productStatus&quot; : &quot;Approved&quot;,\r\n          &quot;product_name&quot; : &quot;Wristwatch&quot;,\r\n          &quot;sellerAddress&quot; : &quot;New Airport&quot;,\r\n          &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\r\n          &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;sellerPhone&quot; : &quot;08167988220&quot;,\r\n          &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\r\n          &quot;time&quot; : &quot;14:01:56 &amp;&quot;\r\n        },\r\n        &quot;12 Mar, 202214:04:16 &amp;&quot; : {\r\n          &quot;category&quot; : &quot;headSets&quot;,\r\n          &quot;date&quot; : &quot;12 Mar, 2022&quot;,\r\n          &quot;description&quot; : &quot;Red color Earphone&quot;,\r\n          &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1456112%20Mar%2C%20202214%3A04%3A16%20%26.jpg?alt=media&amp;token=d6329856-a254-4a4d-bc85-89948d3cfe85&quot;,\r\n          &quot;pid&quot; : &quot;12 Mar, 202214:04:16 &amp;&quot;,\r\n          &quot;price&quot; : &quot;2000&quot;,\r\n          &quot;productStatus&quot; : &quot;Approved&quot;,\r\n          &quot;product_name&quot; : &quot;Headset&quot;,\r\n          &quot;sellerAddress&quot; : &quot;New Airport&quot;,\r\n          &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\r\n          &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;sellerPhone&quot; : &quot;08167988220&quot;,\r\n          &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\r\n          &quot;time&quot; : &quot;14:04:16 &amp;&quot;\r\n        },\r\n        &quot;12 Mar, 202214:05:15 &amp;&quot; : {\r\n          &quot;category&quot; : &quot;bags&quot;,\r\n          &quot;date&quot; : &quot;12 Mar, 2022&quot;,\r\n          &quot;description&quot; : &quot;Female travelling bag&quot;,\r\n          &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1456012%20Mar%2C%20202214%3A05%3A15%20%26.jpg?alt=media&amp;token=687a72c6-79a2-4660-b8e6-72792bdae25d&quot;,\r\n          &quot;pid&quot; : &quot;12 Mar, 202214:05:15 &amp;&quot;,\r\n          &quot;price&quot; : &quot;3000&quot;,\r\n          &quot;productStatus&quot; : &quot;Approved&quot;,\r\n          &quot;product_name&quot; : &quot;Female bag&quot;,\r\n          &quot;sellerAddress&quot; : &quot;New Airport&quot;,\r\n          &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\r\n          &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;sellerPhone&quot; : &quot;08167988220&quot;,\r\n          &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\r\n          &quot;time&quot; : &quot;14:05:15 &amp;&quot;\r\n        },\r\n        &quot;12 Mar, 202214:06:29 &amp;&quot; : {\r\n          &quot;category&quot; : &quot;labtops&quot;,\r\n          &quot;date&quot; : &quot;12 Mar, 2022&quot;,\r\n          &quot;description&quot; : &quot;Mac pro laptop&quot;,\r\n          &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1455612%20Mar%2C%20202214%3A06%3A29%20%26.jpg?alt=media&amp;token=8797d54a-e0c9-48d4-bc95-aac5c9eb104a&quot;,\r\n          &quot;pid&quot; : &quot;12 Mar, 202214:06:29 &amp;&quot;,\r\n          &quot;price&quot; : &quot;50000&quot;,\r\n          &quot;productStatus&quot; : &quot;Approved&quot;,\r\n          &quot;product_name&quot; : &quot;Laptop&quot;,\r\n          &quot;sellerAddress&quot; : &quot;New Airport&quot;,\r\n          &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\r\n          &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;sellerPhone&quot; : &quot;08167988220&quot;,\r\n          &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\r\n          &quot;time&quot; : &quot;14:06:29 &amp;&quot;\r\n        },\r\n        &quot;12 Mar, 202214:07:20 &amp;&quot; : {\r\n          &quot;category&quot; : &quot;labtops&quot;,\r\n          &quot;date&quot; : &quot;12 Mar, 2022&quot;,\r\n          &quot;description&quot; : &quot;Apple laptop&quot;,\r\n          &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1455312%20Mar%2C%20202214%3A07%3A20%20%26.jpg?alt=media&amp;token=a5bff715-b980-4b0b-a410-8024b8b7ab01&quot;,\r\n          &quot;pid&quot; : &quot;12 Mar, 202214:07:20 &amp;&quot;,\r\n          &quot;price&quot; : &quot;100000&quot;,\r\n          &quot;productStatus&quot; : &quot;Approved&quot;,\r\n          &quot;product_name&quot; : &quot;Laptop&quot;,\r\n          &quot;sellerAddress&quot; : &quot;New Airport&quot;,\r\n          &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\r\n          &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;sellerPhone&quot; : &quot;08167988220&quot;,\r\n          &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\r\n          &quot;time&quot; : &quot;14:07:20 &amp;&quot;\r\n        },\r\n        &quot;12 Mar, 202214:08:23 &amp;&quot; : {\r\n          &quot;category&quot; : &quot;labtops&quot;,\r\n          &quot;date&quot; : &quot;12 Mar, 2022&quot;,\r\n          &quot;description&quot; : &quot;Elite Book laptop&quot;,\r\n          &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1455412%20Mar%2C%20202214%3A08%3A23%20%26.jpg?alt=media&amp;token=dd080da9-bb33-4934-8c8d-e3708bfbed0b&quot;,\r\n          &quot;pid&quot; : &quot;12 Mar, 202214:08:23 &amp;&quot;,\r\n          &quot;price&quot; : &quot;30000&quot;,\r\n          &quot;productStatus&quot; : &quot;Approved&quot;,\r\n          &quot;product_name&quot; : &quot;Laptop&quot;,\r\n          &quot;sellerAddress&quot; : &quot;New Airport&quot;,\r\n          &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\r\n          &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;sellerPhone&quot; : &quot;08167988220&quot;,\r\n          &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\r\n          &quot;time&quot; : &quot;14:08:23 &amp;&quot;\r\n        }\r\n      },\r\n      &quot;Users&quot; : {\r\n        &quot;08167988220&quot; : {\r\n          &quot;Security Questions&quot; : {\r\n            &quot;question1&quot; : &quot;Pounded yam&quot;,\r\n            &quot;question2&quot; : &quot;Madrid&quot;\r\n          },\r\n          &quot;address&quot; : &quot;New Airport, Calabar South&quot;,\r\n          &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Profile%20Pictures%2F08167988220.jpg?alt=media&amp;token=46998a82-815e-49f6-8299-cf507aa3b55c&quot;,\r\n          &quot;name&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;password&quot; : &quot;meteorologist&quot;,\r\n          &quot;phone&quot; : &quot;08167988220&quot;,\r\n          &quot;phoneOrder&quot; : &quot;08167988220&quot;\r\n        }\r\n      },\r\n      &quot;sellers&quot; : {\r\n        &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot; : {\r\n          &quot;address&quot; : &quot;New Airport&quot;,\r\n          &quot;email&quot; : &quot;elijah@gmail.com&quot;,\r\n          &quot;name&quot; : &quot;Elijah Ukeme&quot;,\r\n          &quot;password&quot; : &quot;22446688&quot;,\r\n          &quot;phone&quot; : &quot;08167988220&quot;,\r\n          &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"How can one be able to solve incompatible type in firebase recycler view","body":"<p>I am trying to retrieve my data from the firebase but I am getting this error, I don't know how to solve it.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.elijah.ukeme.ecommerceapp, PID: 9835\n    com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type model.DeliveredOrder\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\n        at com.firebase.ui.database.ClassSnapshotParser.parseSnapshot(ClassSnapshotParser.java:29)\n        at com.firebase.ui.database.ClassSnapshotParser.parseSnapshot(ClassSnapshotParser.java:15)\n        at com.firebase.ui.common.BaseCachingSnapshotParser.parseSnapshot(BaseCachingSnapshotParser.java:36)\n        at com.firebase.ui.common.BaseObservableSnapshotArray.get(BaseObservableSnapshotArray.java:52)\n        at com.firebase.ui.database.FirebaseRecyclerAdapter.getItem(FirebaseRecyclerAdapter.java:108)\n        at com.firebase.ui.database.FirebaseRecyclerAdapter.onBindViewHolder(FirebaseRecyclerAdapter.java:148)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7254)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7337)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6194)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6460)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4309)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4012)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4578)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.RelativeLayout.onLayout(RelativeLayout.java:1103)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:779)\nE/AndroidRuntime:     at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3080)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2590)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1721)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7598)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:966)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:790)\n        at android.view.Choreographer.doFrame(Choreographer.java:725)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:951)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p>This is the activity to retrieve the data:</p>\n<pre><code>public class DeliveredListActivity extends AppCompatActivity {\n\n    private RecyclerView recyclerView;\n    private DatabaseReference deliveredOrderRef;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_delivered_list);\n        recyclerView = findViewById(R.id.recycler_view_delivered_order_list);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        deliveredOrderRef = FirebaseDatabase.getInstance().getReference().child(&quot;Delivered List&quot;);\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n\n        FirebaseRecyclerOptions&lt;DeliveredOrder&gt; options = new FirebaseRecyclerOptions.Builder&lt;DeliveredOrder&gt;()\n                .setQuery(deliveredOrderRef,DeliveredOrder.class)\n                .build();\n\n        FirebaseRecyclerAdapter&lt;DeliveredOrder, DeliveredViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;DeliveredOrder, DeliveredViewHolder&gt;(options) {\n            @Override\n            protected void onBindViewHolder(@NonNull DeliveredViewHolder holder, int position, @NonNull DeliveredOrder model) {\n\n                holder.shipperName.setText(&quot;Name: &quot;+model.getName());\n                holder.phoneNumber.setText(&quot;Phone Number &quot;+model.getPhone());\n                holder.receiver.setText(&quot;Received By: &quot;+model.getReceiversName());\n                holder.totalPrice.setText(&quot;Total Price: &quot;+model.getTotalAmount());\n                holder.addressCity.setText(&quot;Address: &quot;+model.getAddress()+&quot;, &quot;+model.getCity());\n                holder.dateTime.setText(&quot;Ordered On: &quot;+model.getOrderedDate()+&quot; at &quot;+model.getOrderedTime());\n                holder.dateTime2.setText(&quot;Received On: &quot;+model.getDeliveredDate()+&quot; at &quot;+model.getDeliveredTime());\n\n                holder.deliveredProductBtn.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        String Uid = getRef(position).getKey();\n                        Intent intent = new Intent(DeliveredListActivity.this, AdminUserProductActivtity.class);\n                        intent.putExtra(&quot;uid&quot;,Uid);\n                        intent.putExtra(&quot;route&quot;,&quot;Admin&quot;);\n                        startActivity(intent);\n                    }\n                });\n\n            }\n\n            @NonNull\n            @Override\n            public DeliveredViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.delivered_order_layout,parent,false);\n\n                return new DeliveredViewHolder(view);\n            }\n        };\n        recyclerView.setAdapter(adapter);\n        adapter.startListening();\n    }\n}\n</code></pre>\n<p>This is my model class:</p>\n<pre><code>public class DeliveredOrder {\n\n    private String name;\n    private String phone;\n    private String address;\n    private String city;\n    private String totalAmount;\n    private String orderedDate;\n    private String orderedTime;\n    private String deliveredDate;\n    private String deliveredTime;\n    private String receiversName;\n\n    public DeliveredOrder() {\n    }\n\n    public DeliveredOrder(String name, String phone, String address, String city, String totalAmount, String orderedDate, String orderedTime, String deliveredDate, String deliveredTime, String receiversName) {\n        this.name = name;\n        this.phone = phone;\n        this.address = address;\n        this.city = city;\n        this.totalAmount = totalAmount;\n        this.orderedDate = orderedDate;\n        this.orderedTime = orderedTime;\n        this.deliveredDate = deliveredDate;\n        this.deliveredTime = deliveredTime;\n        this.receiversName = receiversName;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getTotalAmount() {\n        return totalAmount;\n    }\n\n    public void setTotalAmount(String totalAmount) {\n        this.totalAmount = totalAmount;\n    }\n\n    public String getOrderedDate() {\n        return orderedDate;\n    }\n\n    public void setOrderedDate(String orderedDate) {\n        this.orderedDate = orderedDate;\n    }\n\n    public String getOrderedTime() {\n        return orderedTime;\n    }\n\n    public void setOrderedTime(String orderedTime) {\n        this.orderedTime = orderedTime;\n    }\n\n    public String getDeliveredDate() {\n        return deliveredDate;\n    }\n\n    public void setDeliveredDate(String deliveredDate) {\n        this.deliveredDate = deliveredDate;\n    }\n\n    public String getDeliveredTime() {\n        return deliveredTime;\n    }\n\n    public void setDeliveredTime(String deliveredTime) {\n        this.deliveredTime = deliveredTime;\n    }\n\n    public String getReceiversName() {\n        return receiversName;\n    }\n\n    public void setReceiversName(String receiversName) {\n        this.receiversName = receiversName;\n    }\n}\n</code></pre>\n<p>This is the viewHoder class:</p>\n<pre><code>public class DeliveredViewHolder extends RecyclerView.ViewHolder {\n    public TextView shipperName, phoneNumber,totalPrice,addressCity,dateTime,dateTime2,receiver;\n    public Button deliveredProductBtn;\n    public DeliveredViewHolder(@NonNull View itemView) {\n        super(itemView);\n        shipperName = itemView.findViewById(R.id.delivered_order_user_name);\n        phoneNumber = itemView.findViewById(R.id.delivered_order_phone_number);\n        totalPrice = itemView.findViewById(R.id.delivered_order_total_price);\n        addressCity = itemView.findViewById(R.id.delivered_order_address_and_city);\n        dateTime = itemView.findViewById(R.id.ordered_date_and_time);\n        dateTime2 = itemView.findViewById(R.id.delivered_order_date_and_time);\n        receiver = itemView.findViewById(R.id.receivers_name_textview);\n        deliveredProductBtn = itemView.findViewById(R.id.btn_show_all_products_delivered);\n    }\n}\n</code></pre>\n<p>This is the database:</p>\n<pre><code>{\n  &quot;Admin&quot; : {\n    &quot;08167988220&quot; : {\n      &quot;name&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;password&quot; : &quot;adminmet&quot;,\n      &quot;phone&quot; : &quot;08167988220&quot;\n    }\n  },\n  &quot;Cart List&quot; : {\n    &quot;Admin View&quot; : {\n      &quot;08167988220&quot; : {\n        &quot;Products&quot; : {\n          &quot;10 Mar, 202217:07:43 &amp;&quot; : {\n            &quot;date&quot; : &quot;13 Mar, 2022&quot;,\n            &quot;discount&quot; : &quot;&quot;,\n            &quot;pid&quot; : &quot;10 Mar, 202217:07:43 &amp;&quot;,\n            &quot;pname&quot; : &quot;Cap&quot;,\n            &quot;price&quot; : &quot;2000&quot;,\n            &quot;quantity&quot; : &quot;1&quot;,\n            &quot;time&quot; : &quot;12:56:00 &amp;&quot;\n          },\n          &quot;12 Mar, 202214:01:56 &amp;&quot; : {\n            &quot;date&quot; : &quot;12 Mar, 2022&quot;,\n            &quot;discount&quot; : &quot;&quot;,\n            &quot;pid&quot; : &quot;12 Mar, 202214:01:56 &amp;&quot;,\n            &quot;pname&quot; : &quot;Wristwatch&quot;,\n            &quot;price&quot; : &quot;5000&quot;,\n            &quot;quantity&quot; : &quot;1&quot;,\n            &quot;time&quot; : &quot;14:12:44 &amp;&quot;\n          },\n          &quot;12 Mar, 202214:04:16 &amp;&quot; : {\n            &quot;date&quot; : &quot;12 Mar, 2022&quot;,\n            &quot;discount&quot; : &quot;&quot;,\n            &quot;pid&quot; : &quot;12 Mar, 202214:04:16 &amp;&quot;,\n            &quot;pname&quot; : &quot;Headset&quot;,\n            &quot;price&quot; : &quot;2000&quot;,\n            &quot;quantity&quot; : &quot;3&quot;,\n            &quot;time&quot; : &quot;14:13:36 &amp;&quot;\n          }\n        }\n      }\n    },\n    &quot;User View&quot; : {\n      &quot;08167988220&quot; : {\n        &quot;Products&quot; : {\n          &quot;10 Mar, 202217:07:43 &amp;&quot; : {\n            &quot;date&quot; : &quot;13 Mar, 2022&quot;,\n            &quot;discount&quot; : &quot;&quot;,\n            &quot;pid&quot; : &quot;10 Mar, 202217:07:43 &amp;&quot;,\n            &quot;pname&quot; : &quot;Cap&quot;,\n            &quot;price&quot; : &quot;2000&quot;,\n            &quot;quantity&quot; : &quot;1&quot;,\n            &quot;time&quot; : &quot;12:56:00 &amp;&quot;\n          }\n        }\n      }\n    }\n  },\n  &quot;Delivered List&quot; : {\n    &quot;address&quot; : &quot;New Airport&quot;,\n    &quot;city&quot; : &quot;Calabar&quot;,\n    &quot;deliveredDate&quot; : &quot;14 Mar, 2022&quot;,\n    &quot;deliveredTime&quot; : &quot;13:11:15 &quot;,\n    &quot;name&quot; : &quot;Elijah Ukeme&quot;,\n    &quot;orderedDate&quot; : &quot;12 Mar, 2022&quot;,\n    &quot;orderedTime&quot; : &quot;14:14:29 &quot;,\n    &quot;phone&quot; : &quot;08167988220&quot;,\n    &quot;receiversName&quot; : &quot;Joy Elijah&quot;,\n    &quot;totalAmount&quot; : &quot;15000&quot;\n  },\n  &quot;Products&quot; : {\n    &quot;10 Mar, 202217:07:43 &amp;&quot; : {\n      &quot;category&quot; : &quot;hatsCap&quot;,\n      &quot;date&quot; : &quot;10 Mar, 2022&quot;,\n      &quot;description&quot; : &quot;Cool Baby Cap&quot;,\n      &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1253310%20Mar%2C%20202217%3A07%3A43%20%26.jpg?alt=media&amp;token=c7d241b0-89c2-40d8-8971-6a9d38ec9ad2&quot;,\n      &quot;pid&quot; : &quot;10 Mar, 202217:07:43 &amp;&quot;,\n      &quot;price&quot; : &quot;2000&quot;,\n      &quot;productStatus&quot; : &quot;Approved&quot;,\n      &quot;product_name&quot; : &quot;Cap&quot;,\n      &quot;sellerAddress&quot; : &quot;New Airport&quot;,\n      &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\n      &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;sellerPhone&quot; : &quot;08167988220&quot;,\n      &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\n      &quot;time&quot; : &quot;17:07:43 &amp;&quot;\n    },\n    &quot;12 Mar, 202213:57:24 &amp;&quot; : {\n      &quot;category&quot; : &quot;tShirts&quot;,\n      &quot;date&quot; : &quot;12 Mar, 2022&quot;,\n      &quot;description&quot; : &quot;A pair of male shirts&quot;,\n      &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1253912%20Mar%2C%20202213%3A57%3A24%20%26.jpg?alt=media&amp;token=b4e4e265-17f6-44c9-a006-193750d34732&quot;,\n      &quot;pid&quot; : &quot;12 Mar, 202213:57:24 &amp;&quot;,\n      &quot;price&quot; : &quot;10000&quot;,\n      &quot;productStatus&quot; : &quot;Approved&quot;,\n      &quot;product_name&quot; : &quot;Male shirt&quot;,\n      &quot;sellerAddress&quot; : &quot;New Airport&quot;,\n      &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\n      &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;sellerPhone&quot; : &quot;08167988220&quot;,\n      &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\n      &quot;time&quot; : &quot;13:57:24 &amp;&quot;\n    },\n    &quot;12 Mar, 202213:59:34 &amp;&quot; : {\n      &quot;category&quot; : &quot;sweaters&quot;,\n      &quot;date&quot; : &quot;12 Mar, 2022&quot;,\n      &quot;description&quot; : &quot;Red color suite&quot;,\n      &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1254212%20Mar%2C%20202213%3A59%3A34%20%26.jpg?alt=media&amp;token=1a84d781-d256-4d7c-bff3-4a20a7041726&quot;,\n      &quot;pid&quot; : &quot;12 Mar, 202213:59:34 &amp;&quot;,\n      &quot;price&quot; : &quot;20000&quot;,\n      &quot;productStatus&quot; : &quot;Approved&quot;,\n      &quot;product_name&quot; : &quot;Male Suite&quot;,\n      &quot;sellerAddress&quot; : &quot;New Airport&quot;,\n      &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\n      &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;sellerPhone&quot; : &quot;08167988220&quot;,\n      &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\n      &quot;time&quot; : &quot;13:59:34 &amp;&quot;\n    },\n    &quot;12 Mar, 202214:01:56 &amp;&quot; : {\n      &quot;category&quot; : &quot;watches&quot;,\n      &quot;date&quot; : &quot;12 Mar, 2022&quot;,\n      &quot;description&quot; : &quot;Caret Gold Wristwatch&quot;,\n      &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1254012%20Mar%2C%20202214%3A01%3A56%20%26.jpg?alt=media&amp;token=2b6e8132-a627-4192-ad91-27b22b0ab869&quot;,\n      &quot;pid&quot; : &quot;12 Mar, 202214:01:56 &amp;&quot;,\n      &quot;price&quot; : &quot;5000&quot;,\n      &quot;productStatus&quot; : &quot;Approved&quot;,\n      &quot;product_name&quot; : &quot;Wristwatch&quot;,\n      &quot;sellerAddress&quot; : &quot;New Airport&quot;,\n      &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\n      &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;sellerPhone&quot; : &quot;08167988220&quot;,\n      &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\n      &quot;time&quot; : &quot;14:01:56 &amp;&quot;\n    },\n    &quot;12 Mar, 202214:04:16 &amp;&quot; : {\n      &quot;category&quot; : &quot;headSets&quot;,\n      &quot;date&quot; : &quot;12 Mar, 2022&quot;,\n      &quot;description&quot; : &quot;Red color Earphone&quot;,\n      &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1456112%20Mar%2C%20202214%3A04%3A16%20%26.jpg?alt=media&amp;token=d6329856-a254-4a4d-bc85-89948d3cfe85&quot;,\n      &quot;pid&quot; : &quot;12 Mar, 202214:04:16 &amp;&quot;,\n      &quot;price&quot; : &quot;2000&quot;,\n      &quot;productStatus&quot; : &quot;Approved&quot;,\n      &quot;product_name&quot; : &quot;Headset&quot;,\n      &quot;sellerAddress&quot; : &quot;New Airport&quot;,\n      &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\n      &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;sellerPhone&quot; : &quot;08167988220&quot;,\n      &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\n      &quot;time&quot; : &quot;14:04:16 &amp;&quot;\n    },\n    &quot;12 Mar, 202214:05:15 &amp;&quot; : {\n      &quot;category&quot; : &quot;bags&quot;,\n      &quot;date&quot; : &quot;12 Mar, 2022&quot;,\n      &quot;description&quot; : &quot;Female travelling bag&quot;,\n      &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1456012%20Mar%2C%20202214%3A05%3A15%20%26.jpg?alt=media&amp;token=687a72c6-79a2-4660-b8e6-72792bdae25d&quot;,\n      &quot;pid&quot; : &quot;12 Mar, 202214:05:15 &amp;&quot;,\n      &quot;price&quot; : &quot;3000&quot;,\n      &quot;productStatus&quot; : &quot;Approved&quot;,\n      &quot;product_name&quot; : &quot;Female bag&quot;,\n      &quot;sellerAddress&quot; : &quot;New Airport&quot;,\n      &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\n      &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;sellerPhone&quot; : &quot;08167988220&quot;,\n      &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\n      &quot;time&quot; : &quot;14:05:15 &amp;&quot;\n    },\n    &quot;12 Mar, 202214:06:29 &amp;&quot; : {\n      &quot;category&quot; : &quot;labtops&quot;,\n      &quot;date&quot; : &quot;12 Mar, 2022&quot;,\n      &quot;description&quot; : &quot;Mac pro laptop&quot;,\n      &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1455612%20Mar%2C%20202214%3A06%3A29%20%26.jpg?alt=media&amp;token=8797d54a-e0c9-48d4-bc95-aac5c9eb104a&quot;,\n      &quot;pid&quot; : &quot;12 Mar, 202214:06:29 &amp;&quot;,\n      &quot;price&quot; : &quot;50000&quot;,\n      &quot;productStatus&quot; : &quot;Approved&quot;,\n      &quot;product_name&quot; : &quot;Laptop&quot;,\n      &quot;sellerAddress&quot; : &quot;New Airport&quot;,\n      &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\n      &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;sellerPhone&quot; : &quot;08167988220&quot;,\n      &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\n      &quot;time&quot; : &quot;14:06:29 &amp;&quot;\n    },\n    &quot;12 Mar, 202214:07:20 &amp;&quot; : {\n      &quot;category&quot; : &quot;labtops&quot;,\n      &quot;date&quot; : &quot;12 Mar, 2022&quot;,\n      &quot;description&quot; : &quot;Apple laptop&quot;,\n      &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1455312%20Mar%2C%20202214%3A07%3A20%20%26.jpg?alt=media&amp;token=a5bff715-b980-4b0b-a410-8024b8b7ab01&quot;,\n      &quot;pid&quot; : &quot;12 Mar, 202214:07:20 &amp;&quot;,\n      &quot;price&quot; : &quot;100000&quot;,\n      &quot;productStatus&quot; : &quot;Approved&quot;,\n      &quot;product_name&quot; : &quot;Laptop&quot;,\n      &quot;sellerAddress&quot; : &quot;New Airport&quot;,\n      &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\n      &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;sellerPhone&quot; : &quot;08167988220&quot;,\n      &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\n      &quot;time&quot; : &quot;14:07:20 &amp;&quot;\n    },\n    &quot;12 Mar, 202214:08:23 &amp;&quot; : {\n      &quot;category&quot; : &quot;labtops&quot;,\n      &quot;date&quot; : &quot;12 Mar, 2022&quot;,\n      &quot;description&quot; : &quot;Elite Book laptop&quot;,\n      &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Product%20Images%2Fimage%3A1455412%20Mar%2C%20202214%3A08%3A23%20%26.jpg?alt=media&amp;token=dd080da9-bb33-4934-8c8d-e3708bfbed0b&quot;,\n      &quot;pid&quot; : &quot;12 Mar, 202214:08:23 &amp;&quot;,\n      &quot;price&quot; : &quot;30000&quot;,\n      &quot;productStatus&quot; : &quot;Approved&quot;,\n      &quot;product_name&quot; : &quot;Laptop&quot;,\n      &quot;sellerAddress&quot; : &quot;New Airport&quot;,\n      &quot;sellerEmail&quot; : &quot;elijah@gmail.com&quot;,\n      &quot;sellerName&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;sellerPhone&quot; : &quot;08167988220&quot;,\n      &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;,\n      &quot;time&quot; : &quot;14:08:23 &amp;&quot;\n    }\n  },\n  &quot;Users&quot; : {\n    &quot;08167988220&quot; : {\n      &quot;Security Questions&quot; : {\n        &quot;question1&quot; : &quot;Pounded yam&quot;,\n        &quot;question2&quot; : &quot;Madrid&quot;\n      },\n      &quot;address&quot; : &quot;New Airport, Calabar South&quot;,\n      &quot;image&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/ecommerce-app-c7f6b.appspot.com/o/Profile%20Pictures%2F08167988220.jpg?alt=media&amp;token=46998a82-815e-49f6-8299-cf507aa3b55c&quot;,\n      &quot;name&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;password&quot; : &quot;meteorologist&quot;,\n      &quot;phone&quot; : &quot;08167988220&quot;,\n      &quot;phoneOrder&quot; : &quot;08167988220&quot;\n    }\n  },\n  &quot;sellers&quot; : {\n    &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot; : {\n      &quot;address&quot; : &quot;New Airport&quot;,\n      &quot;email&quot; : &quot;elijah@gmail.com&quot;,\n      &quot;name&quot; : &quot;Elijah Ukeme&quot;,\n      &quot;password&quot; : &quot;22446688&quot;,\n      &quot;phone&quot; : &quot;08167988220&quot;,\n      &quot;sid&quot; : &quot;xYL8HTqwvNYGnHjemo6iKXmmdvF3&quot;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","kotlin","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1647380909,"post_id":71489365,"comment_id":126356105,"body_markdown":"If the app crashes it writes an error message and stack trace to its logcat output. Please find those and edit your question to include them.","body":"If the app crashes it writes an error message and stack trace to its logcat output. Please find those and edit your question to include them."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647429443,"post_id":71489365,"comment_id":126367385,"body_markdown":"Please edit your question and add your layout file. Please respond with @AlexMamo","body":"Please edit your question and add your layout file. Please respond with @AlexMamo"},{"owner":{"account_id":24570048,"reputation":3,"user_id":18476609,"display_name":"qwerty123456"},"score":1,"creation_date":1647440252,"post_id":71489365,"comment_id":126371849,"body_markdown":"@AlexMamo I have added the layout file to the question. The accepted answer worked and now it does not crash anymore, but thank you anyway for your interest and comment.","body":"@AlexMamo I have added the layout file to the question. The accepted answer worked and now it does not crash anymore, but thank you anyway for your interest and comment."}],"answers":[{"tags":[],"owner":{"account_id":6467782,"reputation":680,"user_id":5009024,"display_name":"lyncx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647390882,"creation_date":1647390882,"answer_id":71490548,"question_id":71489365,"body_markdown":"According to the crash logs you&#39;re using MaterialTextView rather than EditTextView. Change the type cast of `findViewById&lt;EditText&gt;(R.id.test1TextView).setText(it.get(&quot;name&quot;) as String)` to `findViewById&lt;MaterialTextView &gt;(R.id.test1TextView).setText(it.get(&quot;name&quot;) as String)` or what ever type of textview you are using. Perhaps show your xml layout to further confirm the type of view you are using.","title":"App crashes when I try to read data from Cloud Firestore","body":"<p>According to the crash logs you're using MaterialTextView rather than EditTextView. Change the type cast of <code>findViewById&lt;EditText&gt;(R.id.test1TextView).setText(it.get(&quot;name&quot;) as String)</code> to <code>findViewById&lt;MaterialTextView &gt;(R.id.test1TextView).setText(it.get(&quot;name&quot;) as String)</code> or what ever type of textview you are using. Perhaps show your xml layout to further confirm the type of view you are using.</p>\n"}],"owner":{"account_id":24570048,"reputation":3,"user_id":18476609,"display_name":"qwerty123456"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71490548,"answer_count":1,"score":0,"last_activity_date":1647440087,"creation_date":1647380573,"question_id":71489365,"body_markdown":"I am new to Kotlin, and I was trying to insert and read data from Cloud Firestore with the following code:\r\n\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import android.os.Bundle\r\n    import android.widget.Button\r\n    import android.widget.EditText\r\n    import com.google.firebase.firestore.FirebaseFirestore\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\n        private val db = FirebaseFirestore.getInstance()\r\n\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n\r\n            val insertButton = findViewById&lt;Button&gt;(R.id.insertButton)\r\n            val getButton = findViewById&lt;Button&gt;(R.id.getButton)\r\n\r\n            insertButton.setOnClickListener {\r\n                db.collection(&quot;users&quot;).document(&quot;testUser&quot;).set(\r\n                    hashMapOf(&quot;name&quot; to &quot;test1&quot;, &quot;username&quot; to &quot;test2&quot;)\r\n                )\r\n            }\r\n\r\n            getButton.setOnClickListener {\r\n                db.collection(&quot;users&quot;).document(&quot;testUser&quot;).get().addOnSuccessListener {\r\n                    findViewById&lt;EditText&gt;(R.id.test1TextView).setText(it.get(&quot;name&quot;) as String)\r\n                    findViewById&lt;EditText&gt;(R.id.test2TextView).setText(it.get(&quot;username&quot;) as         \r\n                    String)\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\nLayout file:\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;match_parent&quot;\r\n     tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/test1TextView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Test1&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/test2TextView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Test2&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/insertButton&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;insert&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/getButton&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Get&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nThe app is simple, with two buttons, one to insert on the database and the other to read from it and change some TextViews with the read data. The app looks like this: https://i.stack.imgur.com/5VLXG.png\r\n\r\nThe &quot;Insert&quot; button works fine and creates the data on the Firestore properly (Firestore image: https://i.stack.imgur.com/anapG.png). The problem comes when  the &quot;Get&quot; button is clicked and the app tries to read data from the Firestore, it simply crashes.\r\n\r\nLogcat output:\r\n\r\n    --------- beginning of crash\r\n    2022-03-15 06:04:15.889 20433-20433/com.eugenisb.testapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.eugenisb.testapp, PID: 20433\r\n    java.lang.ClassCastException: com.google.android.material.textview.MaterialTextView cannot be cast to android.widget.EditText\r\n        at com.eugenisb.testapp.MainActivity.onCreate$lambda-2$lambda-1(MainActivity.kt:28)\r\n        at com.eugenisb.testapp.MainActivity.$r8$lambda$dpktUtUdZqv_kK0jh4DAEzfEDP0(Unknown Source:0)\r\n        at com.eugenisb.testapp.MainActivity$$ExternalSyntheticLambda2.onSuccess(Unknown Source:4)\r\n        at com.google.android.gms.tasks.zzm.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n\r\nI do not know if the solution to this is trivial, but I tried searching for a solution to this and did not find it. \r\n\r\nThank you for your answers.","title":"App crashes when I try to read data from Cloud Firestore","body":"<p>I am new to Kotlin, and I was trying to insert and read data from Cloud Firestore with the following code:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.EditText\nimport com.google.firebase.firestore.FirebaseFirestore\n\nclass MainActivity : AppCompatActivity() {\n\n    private val db = FirebaseFirestore.getInstance()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val insertButton = findViewById&lt;Button&gt;(R.id.insertButton)\n        val getButton = findViewById&lt;Button&gt;(R.id.getButton)\n\n        insertButton.setOnClickListener {\n            db.collection(&quot;users&quot;).document(&quot;testUser&quot;).set(\n                hashMapOf(&quot;name&quot; to &quot;test1&quot;, &quot;username&quot; to &quot;test2&quot;)\n            )\n        }\n\n        getButton.setOnClickListener {\n            db.collection(&quot;users&quot;).document(&quot;testUser&quot;).get().addOnSuccessListener {\n                findViewById&lt;EditText&gt;(R.id.test1TextView).setText(it.get(&quot;name&quot;) as String)\n                findViewById&lt;EditText&gt;(R.id.test2TextView).setText(it.get(&quot;username&quot;) as         \n                String)\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>Layout file:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;androidx.constraintlayout.widget.ConstraintLayout \n xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n android:layout_width=&quot;match_parent&quot;\n android:layout_height=&quot;match_parent&quot;\n tools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;16dp&quot;\n    android:layout_marginTop=&quot;16dp&quot;\n    android:layout_marginEnd=&quot;16dp&quot;\n    android:orientation=&quot;vertical&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/test1TextView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Test1&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/test2TextView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Test2&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/insertButton&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;insert&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/getButton&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Get&quot; /&gt;\n&lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>The app is simple, with two buttons, one to insert on the database and the other to read from it and change some TextViews with the read data. The app looks like this: <a href=\"https://i.stack.imgur.com/5VLXG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/5VLXG.png</a></p>\n<p>The &quot;Insert&quot; button works fine and creates the data on the Firestore properly (Firestore image: <a href=\"https://i.stack.imgur.com/anapG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/anapG.png</a>). The problem comes when  the &quot;Get&quot; button is clicked and the app tries to read data from the Firestore, it simply crashes.</p>\n<p>Logcat output:</p>\n<pre><code>--------- beginning of crash\n2022-03-15 06:04:15.889 20433-20433/com.eugenisb.testapp E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.eugenisb.testapp, PID: 20433\njava.lang.ClassCastException: com.google.android.material.textview.MaterialTextView cannot be cast to android.widget.EditText\n    at com.eugenisb.testapp.MainActivity.onCreate$lambda-2$lambda-1(MainActivity.kt:28)\n    at com.eugenisb.testapp.MainActivity.$r8$lambda$dpktUtUdZqv_kK0jh4DAEzfEDP0(Unknown Source:0)\n    at com.eugenisb.testapp.MainActivity$$ExternalSyntheticLambda2.onSuccess(Unknown Source:4)\n    at com.google.android.gms.tasks.zzm.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:201)\n    at android.os.Looper.loop(Looper.java:288)\n    at android.app.ActivityThread.main(ActivityThread.java:7839)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n</code></pre>\n<p>I do not know if the solution to this is trivial, but I tried searching for a solution to this and did not find it.</p>\n<p>Thank you for your answers.</p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1626115888,"creation_date":1626115422,"answer_id":68352485,"question_id":68352367,"body_markdown":"Here is what is going on. `list` contains a reference to `l`.  So when you clear `l`, you clear the one you added to `list`.  But the reference is still there to accept new values.\r\n```\r\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\nint i=0;\r\nArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\nl.add(1);\r\nl.add(4);\r\nlist.add(i,l);\r\ni++;\r\n\r\nl.clear();    // you just deleted all the contents of list `l` but not the list `l` itself.\r\nl.add(0);\r\nl.add(4);\r\nl.add(3);\r\nl.add(2);    // now list `l` (the reference still in `list` contains 0,4,3,2\r\nlist.add(i,l); // and now list contains the same reference yet again so you get\r\n\r\nSystem.out.println(list);\r\n```\r\nprints\r\n```\r\n[[0, 4, 3, 2], [0, 4, 3, 2]]\r\n```\r\nAnd note that if you do this, `list.get(0).set(1,99)` will affect both lists because each List `l` in List `list` is a reference to the same list.\r\n```\r\n[[0, 99, 3, 2], [0, 99, 3, 2]]\r\n","title":"I&#39;m filling up an ArrayList of ArrayList&lt;Integer&gt; type . The insertion is done twice but the result reflects only the second update. Explain","body":"<p>Here is what is going on. <code>list</code> contains a reference to <code>l</code>.  So when you clear <code>l</code>, you clear the one you added to <code>list</code>.  But the reference is still there to accept new values.</p>\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\nint i=0;\nArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\nl.add(1);\nl.add(4);\nlist.add(i,l);\ni++;\n\nl.clear();    // you just deleted all the contents of list `l` but not the list `l` itself.\nl.add(0);\nl.add(4);\nl.add(3);\nl.add(2);    // now list `l` (the reference still in `list` contains 0,4,3,2\nlist.add(i,l); // and now list contains the same reference yet again so you get\n\nSystem.out.println(list);\n</code></pre>\n<p>prints</p>\n<pre><code>[[0, 4, 3, 2], [0, 4, 3, 2]]\n</code></pre>\n<p>And note that if you do this, <code>list.get(0).set(1,99)</code> will affect both lists because each List <code>l</code> in List <code>list</code> is a reference to the same list.</p>\n<pre><code>[[0, 99, 3, 2], [0, 99, 3, 2]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647440001,"creation_date":1647440001,"answer_id":71498614,"question_id":68352367,"body_markdown":"The answer of WJS is correct.\r\n\r\nJust if you wonder how to make it work the way that you expect:\r\n\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n       int i=0;\r\n       ArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n       l.add(1);\r\n       l.add(4);\r\n       list.add(i,l);\r\n       i++;\r\n\r\n       l = new ArrayList&lt;&gt;(); //Remove l.clear(); and add new instance of the ArrayList\r\n       l.add(0);\r\n       l.add(4);\r\n       l.add(3);\r\n       l.add(2);\r\n       list.add(i,l);\r\n\r\n\r\nNot to be confusing  it is better you to make a new declaration with new name like:\r\n\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    int i=0;\r\n    ArrayList&lt;Integer&gt; listFirst = new ArrayList&lt;&gt;();\r\n    listFirst.add(1);\r\n    listFirst.add(4);\r\n    list.add(i,listFirst);\r\n    i++;\r\n\r\n    ArrayList&lt;Integer&gt; listSecond = new ArrayList&lt;&gt;();\r\n    listSecond.add(0);\r\n    listSecond.add(4);\r\n    listSecond.add(3);\r\n    listSecond.add(2); \r\n    list.add(i,listSecond);\r\n\r\n    System.out.println(list);","title":"I&#39;m filling up an ArrayList of ArrayList&lt;Integer&gt; type . The insertion is done twice but the result reflects only the second update. Explain","body":"<p>The answer of WJS is correct.</p>\n<p>Just if you wonder how to make it work the way that you expect:</p>\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\n   int i=0;\n   ArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n   l.add(1);\n   l.add(4);\n   list.add(i,l);\n   i++;\n\n   l = new ArrayList&lt;&gt;(); //Remove l.clear(); and add new instance of the ArrayList\n   l.add(0);\n   l.add(4);\n   l.add(3);\n   l.add(2);\n   list.add(i,l);\n</code></pre>\n<p>Not to be confusing  it is better you to make a new declaration with new name like:</p>\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\nint i=0;\nArrayList&lt;Integer&gt; listFirst = new ArrayList&lt;&gt;();\nlistFirst.add(1);\nlistFirst.add(4);\nlist.add(i,listFirst);\ni++;\n\nArrayList&lt;Integer&gt; listSecond = new ArrayList&lt;&gt;();\nlistSecond.add(0);\nlistSecond.add(4);\nlistSecond.add(3);\nlistSecond.add(2); \nlist.add(i,listSecond);\n\nSystem.out.println(list);\n</code></pre>\n"}],"owner":{"account_id":18460813,"reputation":235,"user_id":13448373,"display_name":"newbie_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68352485,"answer_count":2,"score":3,"last_activity_date":1647440001,"creation_date":1626114780,"question_id":68352367,"body_markdown":"           ArrayList&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n           int i=0;\r\n           ArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n           l.add(1);\r\n           l.add(4);\r\n           list.add(i,l);\r\n           i++;\r\n\r\n           l.clear();\r\n           l.add(0);\r\n           l.add(4);\r\n           l.add(3);\r\n           l.add(2);\r\n           list.add(i,l);\r\n\r\nNow my list has 2 elements with same value of {0,4,3,2} . What happens to {1,4} ?","title":"I&#39;m filling up an ArrayList of ArrayList&lt;Integer&gt; type . The insertion is done twice but the result reflects only the second update. Explain","body":"<pre><code>       ArrayList&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\n       int i=0;\n       ArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n       l.add(1);\n       l.add(4);\n       list.add(i,l);\n       i++;\n\n       l.clear();\n       l.add(0);\n       l.add(4);\n       l.add(3);\n       l.add(2);\n       list.add(i,l);\n</code></pre>\n<p>Now my list has 2 elements with same value of {0,4,3,2} . What happens to {1,4} ?</p>\n"},{"tags":["java","selenium","testng"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1647440122,"post_id":71498596,"comment_id":126371795,"body_markdown":"Are you seeing/facing any error?","body":"Are you seeing/facing any error?"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1647440443,"post_id":71498596,"comment_id":126371937,"body_markdown":"I&#39;d rather verify the item name, it&#39;s description, value/price etc. in the cart using automation. Cause `isDisplayed` is just to make sure `//tr[@id=&#39;product-2&#39;]` is present in HTMLDOM or not.","body":"I&#39;d rather verify the item name, it&#39;s description, value/price etc. in the cart using automation. Cause <code>isDisplayed</code> is just to make sure <code>&#47;&#47;tr[@id=&#39;product-2&#39;]</code> is present in HTMLDOM or not."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647445292,"post_id":71498596,"comment_id":126374130,"body_markdown":"Why not get all matching elements by XPath already in a list rather than build the list on your own? You can do something like this `List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//td[contains(@id, &#39;product-&#39;)]&quot;));`","body":"Why not get all matching elements by XPath already in a list rather than build the list on your own? You can do something like this <code>List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;&#47;&#47;td[contains(@id, &#39;product-&#39;)]&quot;));</code>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647447256,"post_id":71498596,"comment_id":126375020,"body_markdown":"Also, what do you mean by &quot;_verify the number of elements_&quot;? Are you implying getting a count of how many `element.isDisplayed()` return `true`?","body":"Also, what do you mean by &quot;<i>verify the number of elements</i>&quot;? Are you implying getting a count of how many <code>element.isDisplayed()</code> return <code>true</code>?"},{"owner":{"account_id":24578062,"reputation":1,"user_id":18483613,"display_name":"Adithya Frachmansyah"},"score":0,"creation_date":1647527547,"post_id":71498596,"comment_id":126397669,"body_markdown":"@undetectedSelenium no, i think this logical error","body":"@undetectedSelenium no, i think this logical error"},{"owner":{"account_id":24578062,"reputation":1,"user_id":18483613,"display_name":"Adithya Frachmansyah"},"score":0,"creation_date":1647527615,"post_id":71498596,"comment_id":126397683,"body_markdown":"@cruisepandey hmmm nice idea","body":"@cruisepandey hmmm nice idea"},{"owner":{"account_id":24578062,"reputation":1,"user_id":18483613,"display_name":"Adithya Frachmansyah"},"score":0,"creation_date":1647527945,"post_id":71498596,"comment_id":126397826,"body_markdown":"@hfontanez thanks for your tips i&#39;ll try, &quot;verify the number of elements&quot; is i want to verify that the elements in the cart are showing, sorry for my english, i do my best.","body":"@hfontanez thanks for your tips i&#39;ll try, &quot;verify the number of elements&quot; is i want to verify that the elements in the cart are showing, sorry for my english, i do my best."}],"owner":{"account_id":24578062,"reputation":1,"user_id":18483613,"display_name":"Adithya Frachmansyah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647439958,"creation_date":1647439958,"question_id":71498596,"body_markdown":"I&#39;ve taken elements with page factory like the code below :\r\n\r\n    @FindBy (xpath = &quot;//tr[@id=&#39;product-2&#39;]&quot;)\r\n\tprivate WebElement cartPageProduct1;\r\n\t\r\n\t@FindBy (xpath = &quot;//tr[@id=&#39;product-3&#39;]&quot;)\r\n\tprivate WebElement cartPageProduct2;\r\n\r\nThe method I use to display the element is:\r\n\r\n    public void viewCartVerifyCart() {\r\n\t\tArrayList&lt;WebElement&gt; items = new ArrayList&lt;WebElement&gt;();\r\n\t\titems.add(cartPageProduct1);\r\n\t\titems.add(cartPageProduct2);\r\n\t\t\r\n\t\tfor(WebElement element : items) {\r\n\t\t\tAssert.assertEquals(true, element.isDisplayed());\r\n\t\t}\r\n\t}\r\n\r\nIs the method I&#39;m using correct to verify that the element is showing like the code above? if wrong please help me to solve it. Thanks.\r\n\r\n\r\n","title":"How to verify the number of elements that the element is displayed on Selenium with Java + TestNG?","body":"<p>I've taken elements with page factory like the code below :</p>\n<pre><code>@FindBy (xpath = &quot;//tr[@id='product-2']&quot;)\nprivate WebElement cartPageProduct1;\n\n@FindBy (xpath = &quot;//tr[@id='product-3']&quot;)\nprivate WebElement cartPageProduct2;\n</code></pre>\n<p>The method I use to display the element is:</p>\n<pre><code>public void viewCartVerifyCart() {\n    ArrayList&lt;WebElement&gt; items = new ArrayList&lt;WebElement&gt;();\n    items.add(cartPageProduct1);\n    items.add(cartPageProduct2);\n    \n    for(WebElement element : items) {\n        Assert.assertEquals(true, element.isDisplayed());\n    }\n}\n</code></pre>\n<p>Is the method I'm using correct to verify that the element is showing like the code above? if wrong please help me to solve it. Thanks.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":295009,"reputation":8407,"user_id":599192,"accept_rate":78,"display_name":"Phil Lello"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1303953374,"creation_date":1303953374,"answer_id":5812525,"question_id":5812277,"body_markdown":"The path is wrong, assuming the exceptions weren&#39;t hit.\r\n\r\nfile:/// tells the browser to look for /name\r\n\r\nopenFileOutput(fileName) tells the app to write in &amp;lt;application-files-directory&amp;gt;/fileName\r\n\r\nYour url should be &quot;file:///&quot;+[getFilesDir][1]()+File.separator+fileName\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/Context.html#getFilesDir%28%29","title":"Open Local Html File in Webview - Android","body":"<p>The path is wrong, assuming the exceptions weren't hit.</p>\n\n<p>file:/// tells the browser to look for /name</p>\n\n<p>openFileOutput(fileName) tells the app to write in &lt;application-files-directory&gt;/fileName</p>\n\n<p>Your url should be \"file:///\"+<a href=\"http://developer.android.com/reference/android/content/Context.html#getFilesDir%28%29\">getFilesDir</a>()+File.separator+fileName</p>\n"},{"tags":[],"owner":{"display_name":"Jazz"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1303963467,"creation_date":1303963467,"answer_id":5813491,"question_id":5812277,"body_markdown":"    WebView mWebView=(WebView)findViewById(R.id.mWebView);\r\n    \t\t\t\r\n    \t\t\tmWebView.loadUrl(&quot;file:///book.html&quot;);\r\n    \t\t\tmWebView.getSettings().setJavaScriptEnabled(true);\r\n    \t\t\tmWebView.getSettings().setSaveFormData(true);\r\n    \t\t\tmWebView.getSettings().setBuiltInZoomControls(true);\r\n    \t\t\tmWebView.setWebViewClient(new MyWebViewClient());\r\n    \r\n    private class MyWebViewClient extends WebViewClient \r\n    { \r\n    \t@Override \r\n    \t//show the web page in webview but not in web browser\r\n    \tpublic boolean shouldOverrideUrlLoading(WebView view, String url) { \r\n    \t\tview.loadUrl (url); \r\n    \t\treturn true;\r\n    \t}\r\n    }\r\ntry this","title":"Open Local Html File in Webview - Android","body":"<pre><code>WebView mWebView=(WebView)findViewById(R.id.mWebView);\n\n            mWebView.loadUrl(\"file:///book.html\");\n            mWebView.getSettings().setJavaScriptEnabled(true);\n            mWebView.getSettings().setSaveFormData(true);\n            mWebView.getSettings().setBuiltInZoomControls(true);\n            mWebView.setWebViewClient(new MyWebViewClient());\n\nprivate class MyWebViewClient extends WebViewClient \n{ \n    @Override \n    //show the web page in webview but not in web browser\n    public boolean shouldOverrideUrlLoading(WebView view, String url) { \n        view.loadUrl (url); \n        return true;\n    }\n}\n</code></pre>\n\n<p>try this</p>\n"},{"tags":[],"owner":{"account_id":117108,"reputation":1849,"user_id":306819,"accept_rate":65,"display_name":"siddhusingh"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1334828838,"creation_date":1325936875,"answer_id":8769436,"question_id":5812277,"body_markdown":"Actually when you open a URL using `file:///...`  \r\nThen it means that you should save the file under assets directory (say test.html ).\r\nNow suppose you have to access test.html file, you need to write like this\r\n\r\n    loadURL(&quot;file:///android_asset/test.html&#39;);\r\n","title":"Open Local Html File in Webview - Android","body":"<p>Actually when you open a URL using <code>file:///...</code><br>\nThen it means that you should save the file under assets directory (say test.html ).\nNow suppose you have to access test.html file, you need to write like this</p>\n\n<pre><code>loadURL(\"file:///android_asset/test.html');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":468724,"reputation":508,"user_id":874880,"accept_rate":80,"display_name":"sh.e.salh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538845767,"creation_date":1538845767,"answer_id":52681436,"question_id":5812277,"body_markdown":"For files that will be bundled with the application you can add an &quot;asset&quot; folder to your project by right clicking your app in the project explorer then select\r\n\r\n **New=&gt; Folder=&gt; Assets Folder**.\r\n\r\nAdd the HTML file to your asset folder then load it by:\r\n\r\n    fileView.loadUrl(&quot;file:///android_asset/&quot;+name);\r\n\r\nsame URL can be used in your HTML to link to other HTML or CSS files.","title":"Open Local Html File in Webview - Android","body":"<p>For files that will be bundled with the application you can add an \"asset\" folder to your project by right clicking your app in the project explorer then select</p>\n\n<p><strong>New=> Folder=> Assets Folder</strong>.</p>\n\n<p>Add the HTML file to your asset folder then load it by:</p>\n\n<pre><code>fileView.loadUrl(\"file:///android_asset/\"+name);\n</code></pre>\n\n<p>same URL can be used in your HTML to link to other HTML or CSS files.</p>\n"},{"tags":[],"owner":{"account_id":14355955,"reputation":67,"user_id":10369833,"display_name":"abdevwarlock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545137344,"creation_date":1545137344,"answer_id":53833378,"question_id":5812277,"body_markdown":"You can read your asset file first and then display it on webview via asd\r\nlike this\r\n\r\n            BufferedReader read = null; \r\n    StringBuilder data = new StringBuilder(); \r\n    try {\r\n                read = new BufferedReader(new InputStreamReader(getAssets().open(&quot;htmlFile.html&quot;), &quot;UTF-8&quot;)); \r\n                String webData;\r\n                while ((mLine = read.readLine()) != null) {\r\n                   data.append(mline);\r\n                } \r\n        } catch (IOException e) {\r\n                 log(&quot;,e.getmessage()) } finally {\r\n                if (reader != null) {\r\n                     try {\r\n                         reader.close();\r\n                     } catch (IOException e) {\r\n                         log(&quot;,e.getmessage())\r\n                     }\r\n                } \r\n        }\r\n\r\nand then load this data in webview\r\n\r\n    webview.loadData(data, &quot;text/html&quot;, &quot;UTF-8&quot;);\r\n\r\n","title":"Open Local Html File in Webview - Android","body":"<p>You can read your asset file first and then display it on webview via asd\nlike this</p>\n\n<pre><code>        BufferedReader read = null; \nStringBuilder data = new StringBuilder(); \ntry {\n            read = new BufferedReader(new InputStreamReader(getAssets().open(\"htmlFile.html\"), \"UTF-8\")); \n            String webData;\n            while ((mLine = read.readLine()) != null) {\n               data.append(mline);\n            } \n    } catch (IOException e) {\n             log(\",e.getmessage()) } finally {\n            if (reader != null) {\n                 try {\n                     reader.close();\n                 } catch (IOException e) {\n                     log(\",e.getmessage())\n                 }\n            } \n    }\n</code></pre>\n\n<p>and then load this data in webview</p>\n\n<pre><code>webview.loadData(data, \"text/html\", \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15850629,"reputation":359,"user_id":11436590,"display_name":"MosesK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647439677,"creation_date":1647439677,"answer_id":71498520,"question_id":5812277,"body_markdown":"Please refer to the youtube video https://youtu.be/n2KbDqoCv_Q?t=173 \r\n\r\nI&#39;ve tested its solution and it works. ","title":"Open Local Html File in Webview - Android","body":"<p>Please refer to the youtube video <a href=\"https://youtu.be/n2KbDqoCv_Q?t=173\" rel=\"nofollow noreferrer\">https://youtu.be/n2KbDqoCv_Q?t=173</a></p>\n<p>I've tested its solution and it works.</p>\n"}],"owner":{"account_id":747705,"reputation":141,"user_id":728327,"display_name":"Tony P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49655,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":6,"score":14,"last_activity_date":1647439677,"creation_date":1303950572,"question_id":5812277,"body_markdown":"I have a saved a file in the root folder and am trying to open it in a webview.\r\n\r\nThis is my code for saving:\r\n\r\n\r\n        OutputStream outstream = null;\r\n        outstream = openFileOutput(fileName ,MODE_WORLD_READABLE);\r\n    \r\n        /// if file the available for writing\r\n        if (outstream != null) {\r\n            /// prepare the file for writing\r\n            OutputStreamWriter outputreader = new OutputStreamWriter(outstream);\r\n            BufferedWriter buffwriter = new BufferedWriter(outputreader);\r\n    \r\n            /// write the result into the file\r\n            buffwriter.write(result);\r\n        }\r\n    \r\n        /// close the file\r\n        outstream.close();\r\n    \r\n    } catch (java.io.FileNotFoundException e) {\r\n        System.out.println(&quot;File not found in the writing...&quot;);\r\n    } catch (IOException e) {\r\n        System.out.println(&quot;In the writing...&quot;);\r\n    }\r\n\r\nThis is my code for recalling the file:\r\n\r\n                        fileView.getSettings().setJavaScriptEnabled(true);\r\n    \t\t\tfileView.loadUrl(&quot;file:///&quot; + name); &lt;---\r\n\r\n\r\nand inside the app it gives me a file not found error.\r\n\r\nAny insight is helpful.\r\n","title":"Open Local Html File in Webview - Android","body":"<p>I have a saved a file in the root folder and am trying to open it in a webview.</p>\n\n<p>This is my code for saving:</p>\n\n<pre><code>    OutputStream outstream = null;\n    outstream = openFileOutput(fileName ,MODE_WORLD_READABLE);\n\n    /// if file the available for writing\n    if (outstream != null) {\n        /// prepare the file for writing\n        OutputStreamWriter outputreader = new OutputStreamWriter(outstream);\n        BufferedWriter buffwriter = new BufferedWriter(outputreader);\n\n        /// write the result into the file\n        buffwriter.write(result);\n    }\n\n    /// close the file\n    outstream.close();\n\n} catch (java.io.FileNotFoundException e) {\n    System.out.println(\"File not found in the writing...\");\n} catch (IOException e) {\n    System.out.println(\"In the writing...\");\n}\n</code></pre>\n\n<p>This is my code for recalling the file:</p>\n\n<pre><code>                    fileView.getSettings().setJavaScriptEnabled(true);\n            fileView.loadUrl(\"file:///\" + name); &lt;---\n</code></pre>\n\n<p>and inside the app it gives me a file not found error.</p>\n\n<p>Any insight is helpful.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-cloud-dataflow"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1647512531,"post_id":71498499,"comment_id":126391949,"body_markdown":"According to the output of your log, SCDF is using the datasource that you specified in `--spring.datasource.url` as expected. You need to configure the step that is executing your business logic with the datasource pointing to `app_db`.","body":"According to the output of your log, SCDF is using the datasource that you specified in <code>--spring.datasource.url</code> as expected. You need to configure the step that is executing your business logic with the datasource pointing to <code>app_db</code>."}],"owner":{"account_id":10182352,"reputation":75,"user_id":7518631,"display_name":"Sasank M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647439593,"creation_date":1647439593,"question_id":71498499,"body_markdown":"I&#39;m setting up an instance of Spring Cloud Data Flow. I&#39;ve run the following commands:\r\n```\r\njava -jar spring-cloud-dataflow-server-2.9.2.jar \\\r\n--spring.cloud.dataflow.features.streams-enabled=false \\\r\n--spring.cloud.dataflow.features.schedules-enabled=true \\\r\n--spring.datasource.url=jdbc:postgresql://localhost:5432/batch \\\r\n--spring.datasource.username=postgres \\\r\n--spring.datasource.password=postgres \\\r\n--spring.datasource.driver-class-name=org.postgresql.Driver \\\r\n--spring.datasource.initialization_mode=always\r\n```\r\n\r\nI&#39;ve developed a batch job using spring batch to be deployed in this platform. The job uses two data sources: batch for Spring and task Metadata and app_db for my business logic. When I run the app locally, it persists metadata in batch and my business data in app_db, as expected. The problem is when I try to execute de job inside the Spring Cloud Dataflow. The platform overrides my configured business logic database and uses only the batch database, which is supposed to store metadata only.\r\n\r\napplication.yaml\r\n\r\n``` \r\nspring:\r\n  batch:\r\n    datasource:\r\n      url: jdbc:postgresql://localhost:5432/batch\r\n      username: postgres\r\n      password: postgres\r\n\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/app_db\r\n    username: postgres\r\n    password: postgres\r\n```\r\n\r\nDatasourceConfiguration\r\n``` \r\npublic class DatasourceConfiguration {\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\r\n    @Primary\r\n    public DataSourceProperties dataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n \r\n    @Bean\r\n    @Primary\r\n    public DataSource dataSource(DataSourceProperties dataSourceProperties) {\r\n        return dataSourceProperties.initializeDataSourceBuilder().build();\r\n    }\r\n\r\n    @Bean(name = &quot;batchDataSourceProperties&quot;)\r\n    @ConfigurationProperties(&quot;spring.batch.datasource&quot;)\r\n    public DataSourceProperties batchDataSourceProperties() {\r\n        return new BatchDataSourceProperties();\r\n    }\r\n    \r\n    @Bean(name = &quot;batchDataSource&quot;)\r\n    public DataSource batchDataSource() {\r\n        return batchDataSourceProperties.initializeDataSourceBuilder().build();\r\n    }\r\n}\r\n```\r\n\r\n``` \r\n@SpringBootApplication\r\n@EnableTask\r\n@EnableBatchProcessing\r\npublic class BatchApplication {\r\n\r\n\t@Bean\r\n\tpublic TaskConfigurer taskConfigurer(@Qualifier(&quot;batchDataSource&quot;) DataSource dataSource) {\r\n\t\treturn new DefaultTaskConfigurer(dataSource);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic BatchConfigurer batchConfigurer(@Qualifier(&quot;batchDataSource&quot;) DataSource dataSource) {\r\n\t\treturn new DefaultBatchConfigurer(dataSource);\r\n\t}\r\n    public static void main(String[] args) {\r\n\t\tSpringApplication.run(BatchApplication.class, args);\r\n\t}\r\n}\r\n```\r\nJob\r\n\r\n```\r\n@Bean\r\npublic Job startJob(JobBuilderFactory jobBuilderFactory, DataSource dataSource) {\r\n    try {                                   \r\n        System.out.println(dataSource.getConnection().getMetaData().getURL().toString());\r\n        } catch (Exception e) {\r\n          //TODO: handle exception\r\n        }\r\n}\r\n```\r\nWhen I look at the data source,``` jdbc:postgresql://localhost:5432/app_db ``` will be printed when the batch is executed from local and ``` jdbc:postgresql://localhost:5432/batch ``` will be printed when the batch (task) is executed from SCDF.\r\n\r\nI want to know how dataflow is overriding application the spring.datasource even though I am not passing any arguments while executing the task. Please suggest a solution to avoid the overriding of datasource. \r\nOne solution I am thinking of is creating AppDatasourceConfiguration(app.datasource) use it. But is there a possibility to use spring.datasource without getting overiddien by SCDF.","title":"Spring Cloud Data Flow datasources overrides spring batch app datasource","body":"<p>I'm setting up an instance of Spring Cloud Data Flow. I've run the following commands:</p>\n<pre><code>java -jar spring-cloud-dataflow-server-2.9.2.jar \\\n--spring.cloud.dataflow.features.streams-enabled=false \\\n--spring.cloud.dataflow.features.schedules-enabled=true \\\n--spring.datasource.url=jdbc:postgresql://localhost:5432/batch \\\n--spring.datasource.username=postgres \\\n--spring.datasource.password=postgres \\\n--spring.datasource.driver-class-name=org.postgresql.Driver \\\n--spring.datasource.initialization_mode=always\n</code></pre>\n<p>I've developed a batch job using spring batch to be deployed in this platform. The job uses two data sources: batch for Spring and task Metadata and app_db for my business logic. When I run the app locally, it persists metadata in batch and my business data in app_db, as expected. The problem is when I try to execute de job inside the Spring Cloud Dataflow. The platform overrides my configured business logic database and uses only the batch database, which is supposed to store metadata only.</p>\n<p>application.yaml</p>\n<pre><code>spring:\n  batch:\n    datasource:\n      url: jdbc:postgresql://localhost:5432/batch\n      username: postgres\n      password: postgres\n\n  datasource:\n    url: jdbc:postgresql://localhost:5432/app_db\n    username: postgres\n    password: postgres\n</code></pre>\n<p>DatasourceConfiguration</p>\n<pre><code>public class DatasourceConfiguration {\n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\n    @Primary\n    public DataSourceProperties dataSourceProperties() {\n        return new DataSourceProperties();\n    }\n \n    @Bean\n    @Primary\n    public DataSource dataSource(DataSourceProperties dataSourceProperties) {\n        return dataSourceProperties.initializeDataSourceBuilder().build();\n    }\n\n    @Bean(name = &quot;batchDataSourceProperties&quot;)\n    @ConfigurationProperties(&quot;spring.batch.datasource&quot;)\n    public DataSourceProperties batchDataSourceProperties() {\n        return new BatchDataSourceProperties();\n    }\n    \n    @Bean(name = &quot;batchDataSource&quot;)\n    public DataSource batchDataSource() {\n        return batchDataSourceProperties.initializeDataSourceBuilder().build();\n    }\n}\n</code></pre>\n<pre><code>@SpringBootApplication\n@EnableTask\n@EnableBatchProcessing\npublic class BatchApplication {\n\n    @Bean\n    public TaskConfigurer taskConfigurer(@Qualifier(&quot;batchDataSource&quot;) DataSource dataSource) {\n        return new DefaultTaskConfigurer(dataSource);\n    }\n\n    @Bean\n    public BatchConfigurer batchConfigurer(@Qualifier(&quot;batchDataSource&quot;) DataSource dataSource) {\n        return new DefaultBatchConfigurer(dataSource);\n    }\n    public static void main(String[] args) {\n        SpringApplication.run(BatchApplication.class, args);\n    }\n}\n</code></pre>\n<p>Job</p>\n<pre><code>@Bean\npublic Job startJob(JobBuilderFactory jobBuilderFactory, DataSource dataSource) {\n    try {                                   \n        System.out.println(dataSource.getConnection().getMetaData().getURL().toString());\n        } catch (Exception e) {\n          //TODO: handle exception\n        }\n}\n</code></pre>\n<p>When I look at the data source,<code>jdbc:postgresql://localhost:5432/app_db</code> will be printed when the batch is executed from local and <code>jdbc:postgresql://localhost:5432/batch</code> will be printed when the batch (task) is executed from SCDF.</p>\n<p>I want to know how dataflow is overriding application the spring.datasource even though I am not passing any arguments while executing the task. Please suggest a solution to avoid the overriding of datasource.\nOne solution I am thinking of is creating AppDatasourceConfiguration(app.datasource) use it. But is there a possibility to use spring.datasource without getting overiddien by SCDF.</p>\n"},{"tags":["java","for-loop","hashmap","java-stream","collectors"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647435004,"post_id":71496754,"comment_id":126369579,"body_markdown":"When you report problems like this please provide the actual error and not just the line that caused the error.  It will help others to better help you.","body":"When you report problems like this please provide the actual error and not just the line that caused the error.  It will help others to better help you."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647435127,"post_id":71496754,"comment_id":126369624,"body_markdown":"*Instead of for loop I want to use stream method*  Why?   Nothing wrong with using loops.","body":"<i>Instead of for loop I want to use stream method</i>  Why?   Nothing wrong with using loops."},{"owner":{"account_id":12596105,"reputation":473,"user_id":9160680,"display_name":"developer_user"},"score":0,"creation_date":1647435383,"post_id":71496754,"comment_id":126369745,"body_markdown":"I guess its a better way.","body":"I guess its a better way."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647439500,"creation_date":1647434432,"answer_id":71497260,"question_id":71496754,"body_markdown":"Assuming that the code you&#39;ve provided dose it&#39;s job correctly, it implies that the source list contains only one object per type, you can use `Collectors.toMap()` as shown in the code below. Otherwise, your `map.put()` is overriding values, and to resolve collisions you have to pass the third argument into `Collectors.toMap()`.\r\n\r\n    public Map&lt;String, ABCClass&lt;?&gt;&gt; getObjectBySimpleName(List&lt;ABCClass&lt;?&gt;&gt; listOfABC) {\r\n\r\n        return listOfABC.stream()\r\n                .collect(Collectors.toMap(val -&gt; ((Class&lt;?&gt;) GenericTypeResolver.resolveTypeArgument(/*...*/))\r\n                                                            .getSimpleName(),\r\n                                          Function.identity()));\r\n    }\r\n\r\n&gt;  I am getting an error: The method toMap() in the type collectors is not applicable for the arguments\r\n\r\n **1.** `GenericTypeResolver.resolve...etc. .getSuperClass()` is being passed as a `keyMapper` function into [`Collectors.toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toConcurrentMap(java.util.function.Function,java.util.function.Function)), but it&#39;s not a **function**. The correct syntax should be like this: `x -&gt; GenericTypeResolver.do(x)`. ([*take a look at this tutorial on lambda expressions*](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html))\r\n\r\n **2.** You defined the map being of type `Map&lt;String,ABCClass&lt;?&gt;&gt;`, and the type returned by `getSuperClass()` doesn&#39;t match the type of key `String` and you need to apply `getSimpleName()` to fix it. \r\n\r\n","title":"How can I convert a list of Genric Objects into a Map using streams and collectors","body":"<p>Assuming that the code you've provided dose it's job correctly, it implies that the source list contains only one object per type, you can use <code>Collectors.toMap()</code> as shown in the code below. Otherwise, your <code>map.put()</code> is overriding values, and to resolve collisions you have to pass the third argument into <code>Collectors.toMap()</code>.</p>\n<pre><code>public Map&lt;String, ABCClass&lt;?&gt;&gt; getObjectBySimpleName(List&lt;ABCClass&lt;?&gt;&gt; listOfABC) {\n\n    return listOfABC.stream()\n            .collect(Collectors.toMap(val -&gt; ((Class&lt;?&gt;) GenericTypeResolver.resolveTypeArgument(/*...*/))\n                                                        .getSimpleName(),\n                                      Function.identity()));\n}\n</code></pre>\n<blockquote>\n<p>I am getting an error: The method toMap() in the type collectors is not applicable for the arguments</p>\n</blockquote>\n<p><strong>1.</strong> <code>GenericTypeResolver.resolve...etc. .getSuperClass()</code> is being passed as a <code>keyMapper</code> function into <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toConcurrentMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Collectors.toMap()</code></a>, but it's not a <strong>function</strong>. The correct syntax should be like this: <code>x -&gt; GenericTypeResolver.do(x)</code>. (<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\"><em>take a look at this tutorial on lambda expressions</em></a>)</p>\n<p><strong>2.</strong> You defined the map being of type <code>Map&lt;String,ABCClass&lt;?&gt;&gt;</code>, and the type returned by <code>getSuperClass()</code> doesn't match the type of key <code>String</code> and you need to apply <code>getSimpleName()</code> to fix it.</p>\n"}],"owner":{"account_id":12596105,"reputation":473,"user_id":9160680,"display_name":"developer_user"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71497260,"answer_count":1,"score":0,"last_activity_date":1647439500,"creation_date":1647432136,"question_id":71496754,"body_markdown":"I have a `List` of objects that have a generic type and want to convert it into a `Map` using streams. But I need to apply ***resolver*** to resolve the type of the argument. \r\n\r\n**Code:** \r\n\r\n    private Map&lt;String,ABCClass&lt;?&gt;&gt; mapToCreate=new HashMap&lt;&gt;();\r\n    List&lt;ABCClass&lt;?&gt;&gt; listOfABC;\r\n\r\n    for(ABCClass&lt;?&gt; vals: listOfABC){\r\n       Class&lt;?&gt; typeArgument=((Class&lt;?&gt;) GenericTypeResolver.resolveTypeArgument(vals.getClass().getSuperClass(),ABCClass.class));\r\n       mapToCreate.put(typeArgument.getSimpleName(),vals);\r\n    }\r\n\r\nI want to convert the above code into enhanced format by using collectors and streams. Is it possible?\r\n\r\n**I tried this:**\r\n\r\n    mapToCreate = listOfABC.stream()\r\n                .collect(Collectors.toMap(((Class&lt;?&gt;) GenericTypeResolver.resolveTypeArgument(listOfABC.getClass().getSuperClass(), ABCClass.class), listOfABC)));\r\n\r\n\r\nI am getting an error in toMap function below line stating: \r\n\r\n&gt; The method toMap() in the type collectors is not applicable for the\r\n&gt; arguments\r\n    \r\n    \r\n    \r\n","title":"How can I convert a list of Genric Objects into a Map using streams and collectors","body":"<p>I have a <code>List</code> of objects that have a generic type and want to convert it into a <code>Map</code> using streams. But I need to apply <em><strong>resolver</strong></em> to resolve the type of the argument.</p>\n<p><strong>Code:</strong></p>\n<pre><code>private Map&lt;String,ABCClass&lt;?&gt;&gt; mapToCreate=new HashMap&lt;&gt;();\nList&lt;ABCClass&lt;?&gt;&gt; listOfABC;\n\nfor(ABCClass&lt;?&gt; vals: listOfABC){\n   Class&lt;?&gt; typeArgument=((Class&lt;?&gt;) GenericTypeResolver.resolveTypeArgument(vals.getClass().getSuperClass(),ABCClass.class));\n   mapToCreate.put(typeArgument.getSimpleName(),vals);\n}\n</code></pre>\n<p>I want to convert the above code into enhanced format by using collectors and streams. Is it possible?</p>\n<p><strong>I tried this:</strong></p>\n<pre><code>mapToCreate = listOfABC.stream()\n            .collect(Collectors.toMap(((Class&lt;?&gt;) GenericTypeResolver.resolveTypeArgument(listOfABC.getClass().getSuperClass(), ABCClass.class), listOfABC)));\n</code></pre>\n<p>I am getting an error in toMap function below line stating:</p>\n<blockquote>\n<p>The method toMap() in the type collectors is not applicable for the\narguments</p>\n</blockquote>\n"},{"tags":["java","return-value"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":4,"creation_date":1393517820,"post_id":22074173,"comment_id":33475253,"body_markdown":"What happens if `i &gt;= nums.length`?","body":"What happens if <code>i &gt;= nums.length</code>?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":2,"creation_date":1393517876,"post_id":22074173,"comment_id":33475299,"body_markdown":"Yes, but if the for loop is not executed, you return nothing. Furthermore the else in your for is not what you are looking for. Currently you will just check if the first number in the array is the value you search. Get rid of this else.","body":"Yes, but if the for loop is not executed, you return nothing. Furthermore the else in your for is not what you are looking for. Currently you will just check if the first number in the array is the value you search. Get rid of this else."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1393518241,"post_id":22074173,"comment_id":33475565,"body_markdown":"`nums[value]` is the wrong thing to return.  If the user says they want to search for 100, and 100 is in the array, what do you want to return?  The 100th element of `nums`?  Even if `nums` is only 8 elements long?  That can&#39;t work.","body":"<code>nums[value]</code> is the wrong thing to return.  If the user says they want to search for 100, and 100 is in the array, what do you want to return?  The 100th element of <code>nums</code>?  Even if <code>nums</code> is only 8 elements long?  That can&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":2332379,"reputation":1046,"user_id":2045440,"display_name":"ppawel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393517878,"creation_date":1393517878,"answer_id":22074215,"question_id":22074173,"body_markdown":"Please make sure that returned type is known when loop is skipped.","title":"This method must return a result of type int?","body":"<p>Please make sure that returned type is known when loop is skipped.</p>\n"},{"tags":[],"owner":{"account_id":1887192,"reputation":5567,"user_id":2225572,"accept_rate":67,"display_name":"Ankit Rustagi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647439276,"creation_date":1393517885,"answer_id":22074220,"question_id":22074173,"body_markdown":"if `nums` is empty, the for loop never gets executed, thus you return nothing\r\n\r\ndo this\r\n\r\n    public static int search(int[] nums)\r\n    {\r\n      Scanner keyboard = new Scanner(System.in);\r\n      System.out.println(&quot;What value do you want?&quot;);\r\n      int value = keyboard.nextInt();\r\n      for(int i=0;i&lt;nums.length;i++)\r\n      {\r\n        if(nums[i] == value)\r\n        return nums[value];\r\n        else \r\n        return -1;\r\n     }\r\n     return 0;   // default value\r\n    }\r\n","title":"This method must return a result of type int?","body":"<p>if <code>nums</code> is empty, the for loop never gets executed, thus you return nothing</p>\n<p>do this</p>\n<pre><code>public static int search(int[] nums)\n{\n  Scanner keyboard = new Scanner(System.in);\n  System.out.println(&quot;What value do you want?&quot;);\n  int value = keyboard.nextInt();\n  for(int i=0;i&lt;nums.length;i++)\n  {\n    if(nums[i] == value)\n    return nums[value];\n    else \n    return -1;\n }\n return 0;   // default value\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393517889,"creation_date":1393517889,"answer_id":22074222,"question_id":22074173,"body_markdown":"in case `nums[]` is empty array or null. (But null value makes a nullpointer exception `nums.length`.) In that case loop will not execute and it would be a void return so to avoid this situation you must declare a default return statement. ","title":"This method must return a result of type int?","body":"<p>in case <code>nums[]</code> is empty array or null. (But null value makes a nullpointer exception <code>nums.length</code>.) In that case loop will not execute and it would be a void return so to avoid this situation you must declare a default return statement. </p>\n"},{"tags":[],"owner":{"account_id":2440571,"reputation":1513,"user_id":2129224,"accept_rate":90,"display_name":"DeadlyJesus"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1393519919,"creation_date":1393517890,"answer_id":22074224,"question_id":22074173,"body_markdown":"Not all paths returns something.  \r\nYou could avoid that kind of mistake by adding a return after the `for` loop, or by using a return variable. It also look like your trying to search the array for the number the user typed. If so, you don&#39;t want the else case, or it will only check for the first number in `nums`.\r\n\r\n    public static int search(int[] nums)\r\n    {\r\n        int ret = -1;\r\n        Scanner keyboard = new Scanner(System.in);\r\n        System.out.println(&quot;What value do you want?&quot;);\r\n        int value = keyboard.nextInt();\r\n        for(int i=0;i&lt;nums.length;i++)\r\n        {\r\n           if(nums[i] == value)\r\n           {\r\n               ret = nums[value];\r\n               break;\r\n           }\r\n        }\r\n        return ret;\r\n    }\r\n","title":"This method must return a result of type int?","body":"<p>Not all paths returns something.<br>\nYou could avoid that kind of mistake by adding a return after the <code>for</code> loop, or by using a return variable. It also look like your trying to search the array for the number the user typed. If so, you don't want the else case, or it will only check for the first number in <code>nums</code>.</p>\n\n<pre><code>public static int search(int[] nums)\n{\n    int ret = -1;\n    Scanner keyboard = new Scanner(System.in);\n    System.out.println(\"What value do you want?\");\n    int value = keyboard.nextInt();\n    for(int i=0;i&lt;nums.length;i++)\n    {\n       if(nums[i] == value)\n       {\n           ret = nums[value];\n           break;\n       }\n    }\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393517906,"creation_date":1393517906,"answer_id":22074227,"question_id":22074173,"body_markdown":"Whilst your return types *inside* the loop are of type `int`, your loop isn&#39;t guaranteed to actually run, and you don&#39;t have a return value (and hence type) in the scenario that your loop *doesn&#39;t* run.","title":"This method must return a result of type int?","body":"<p>Whilst your return types <em>inside</em> the loop are of type <code>int</code>, your loop isn't guaranteed to actually run, and you don't have a return value (and hence type) in the scenario that your loop <em>doesn't</em> run.</p>\n"}],"owner":{"account_id":4083629,"reputation":73,"user_id":3353475,"accept_rate":43,"display_name":"user3353475"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1647439276,"creation_date":1393517774,"question_id":22074173,"body_markdown":"Why does it say the method must return of type int? The returns are integers\r\n\r\n    public static int search(int[] nums)\r\n    {\r\n        Scanner keyboard = new Scanner(System.in);\r\n        System.out.println(&quot;What value do you want?&quot;);\r\n        int value = keyboard.nextInt();\r\n        for(int i=0;i&lt;nums.length;i++)\r\n        {\r\n            if(nums[i] == value)\r\n                return nums[value];\r\n            else\r\n                return -1;\r\n        }\r\n    }\r\n\r\n","title":"This method must return a result of type int?","body":"<p>Why does it say the method must return of type int? The returns are integers</p>\n\n<pre><code>public static int search(int[] nums)\n{\n    Scanner keyboard = new Scanner(System.in);\n    System.out.println(\"What value do you want?\");\n    int value = keyboard.nextInt();\n    for(int i=0;i&lt;nums.length;i++)\n    {\n        if(nums[i] == value)\n            return nums[value];\n        else\n            return -1;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","junit","mockito"],"comments":[{"owner":{"account_id":5043640,"reputation":788,"user_id":4050313,"display_name":"Jayesh Choudhary"},"score":0,"creation_date":1647435184,"post_id":71496630,"comment_id":126369650,"body_markdown":"Will you please let know if ClassA is a Bean or not? Also you need to change this &#39;ClassB&lt;String, ClassC&gt;.class&#39; **with** ClassB.class.","body":"Will you please let know if ClassA is a Bean or not? Also you need to change this &#39;ClassB&lt;String, ClassC&gt;.class&#39; <b>with</b> ClassB.class."},{"owner":{"account_id":24576732,"reputation":5,"user_id":18482466,"display_name":"Bartek"},"score":0,"creation_date":1647435618,"post_id":71496630,"comment_id":126369832,"body_markdown":"ClassA is a Bean (@Component)\nAlso you need to change this &#39;ClassB&lt;String, ClassC&gt;.class&#39; with ClassB.class - after change there is info:\nRequired Type: T\nProvided:          void\nReason: no instance(s) of type variable(s) T exists so that void conforms to T","body":"ClassA is a Bean (@Component) Also you need to change this &#39;ClassB&lt;String, ClassC&gt;.class&#39; with ClassB.class - after change there is info: Required Type: T Provided:          void Reason: no instance(s) of type variable(s) T exists so that void conforms to T"}],"answers":[{"tags":[],"owner":{"account_id":5043640,"reputation":788,"user_id":4050313,"display_name":"Jayesh Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647439046,"creation_date":1647439046,"answer_id":71498378,"question_id":71496630,"body_markdown":"Okay,Here is what you need to do in Order to Solve your problem.\r\n\r\nFirst replace this line:`ClassA classA = Mockito.mock(ClassA.class);` With \r\n\r\n    @MockBean\r\n    private Class classA;\r\nAs a class level variable.\r\nAfter that you need to change your following piece of code:\r\n\r\n    ClassB&lt;String, ClassC&gt;.class\r\n\r\nTo\r\n\r\n    ClassB&lt;Mockito.anyString(), Mockito.any(ClassC.class)&gt;.class\r\n\r\nHopefully this will solve your problem. Please accept if it works.","title":"Mockito &quot;cannot select from parameterized type&quot; issue","body":"<p>Okay,Here is what you need to do in Order to Solve your problem.</p>\n<p>First replace this line:<code>ClassA classA = Mockito.mock(ClassA.class);</code> With</p>\n<pre><code>@MockBean\nprivate Class classA;\n</code></pre>\n<p>As a class level variable.\nAfter that you need to change your following piece of code:</p>\n<pre><code>ClassB&lt;String, ClassC&gt;.class\n</code></pre>\n<p>To</p>\n<pre><code>ClassB&lt;Mockito.anyString(), Mockito.any(ClassC.class)&gt;.class\n</code></pre>\n<p>Hopefully this will solve your problem. Please accept if it works.</p>\n"},{"tags":[],"owner":{"account_id":24576732,"reputation":5,"user_id":18482466,"display_name":"Bartek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647439212,"creation_date":1647439212,"answer_id":71498420,"question_id":71496630,"body_markdown":"Because this is a &quot;void&quot; that returns nothing, it is impossible for it to return a String value. Solution is: \r\nMockito.doThrow(new Exception(&quot;Error occurred&quot;)).when(classA).void(Mockito.any(ClassB.class), Mockito.any(ClassD.class)); and then \r\nclassA.void(Mockito.any(ClassB.class), Mockito.any(ClassD.class));\r\n.....\r\n&#39;voidName&#39; is a *void method* and it *cannot* be stubbed with a *return value*!\r\nVoids are usually stubbed with Throwables:\r\n    doThrow(exception).when(mock).someVoidMethod();\r\nIf you need to set the void method to do nothing you can use:\r\n    doNothing().when(mock).someVoidMethod();","title":"Mockito &quot;cannot select from parameterized type&quot; issue","body":"<p>Because this is a &quot;void&quot; that returns nothing, it is impossible for it to return a String value. Solution is:\nMockito.doThrow(new Exception(&quot;Error occurred&quot;)).when(classA).void(Mockito.any(ClassB.class), Mockito.any(ClassD.class)); and then\nclassA.void(Mockito.any(ClassB.class), Mockito.any(ClassD.class));\n.....\n'voidName' is a <em>void method</em> and it <em>cannot</em> be stubbed with a <em>return value</em>!\nVoids are usually stubbed with Throwables:\ndoThrow(exception).when(mock).someVoidMethod();\nIf you need to set the void method to do nothing you can use:\ndoNothing().when(mock).someVoidMethod();</p>\n"}],"owner":{"account_id":24576732,"reputation":5,"user_id":18482466,"display_name":"Bartek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647439212,"creation_date":1647431618,"question_id":71496630,"body_markdown":"I&#39;m trying to mock for testing purpose:\r\n\r\nClassA classA = Mockito.mock(ClassA.class);\r\n\r\nMockito.when(classA.void(Mockito.any(ClassB&lt;String, ClassC&gt;.class), Mockito.any(ClassD.class))).thenReturn(&quot;passed&quot;);\r\n\r\nbut I have info on &quot;ClassB&lt;String, ClassC&gt;&quot;:\r\ncannot select from  parameterized type.\r\n\r\nClassA void:\r\nClassA.void(@NotNull ClassB&lt;String, ClassC&gt; classB, ClassD classD){...}\r\n\r\nmockito-core-4.0.0, springboot, maven\r\n\r\nAny idea how to solve it?\r\n","title":"Mockito &quot;cannot select from parameterized type&quot; issue","body":"<p>I'm trying to mock for testing purpose:</p>\n<p>ClassA classA = Mockito.mock(ClassA.class);</p>\n<p>Mockito.when(classA.void(Mockito.any(ClassB&lt;String, ClassC&gt;.class), Mockito.any(ClassD.class))).thenReturn(&quot;passed&quot;);</p>\n<p>but I have info on &quot;ClassB&lt;String, ClassC&gt;&quot;:\ncannot select from  parameterized type.</p>\n<p>ClassA void:\nClassA.void(@NotNull ClassB&lt;String, ClassC&gt; classB, ClassD classD){...}</p>\n<p>mockito-core-4.0.0, springboot, maven</p>\n<p>Any idea how to solve it?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"score":0,"creation_date":1647442614,"post_id":71498413,"comment_id":126372932,"body_markdown":"does your StyledPlayerView is repeated in each item view?","body":"does your StyledPlayerView is repeated in each item view?"},{"owner":{"account_id":22032795,"reputation":15,"user_id":16299796,"display_name":"mike"},"score":0,"creation_date":1647443548,"post_id":71498413,"comment_id":126373370,"body_markdown":"Before I implemented the code it was somehow using the same for all the views created with videos... because when I tried to implement &quot;onDetached,&quot; and &quot;on attached&quot; the behavior affected all the views ...when I told it to stop &quot;StylePlayerView&quot; onDetached.... every view I slides passed the viewpager would stop working unless the unslided views","body":"Before I implemented the code it was somehow using the same for all the views created with videos... because when I tried to implement &quot;onDetached,&quot; and &quot;on attached&quot; the behavior affected all the views ...when I told it to stop &quot;StylePlayerView&quot; onDetached.... every view I slides passed the viewpager would stop working unless the unslided views"},{"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"score":0,"creation_date":1647444379,"post_id":71498413,"comment_id":126373720,"body_markdown":"where do you set data and bind ViewHoleder?","body":"where do you set data and bind ViewHoleder?"},{"owner":{"account_id":22032795,"reputation":15,"user_id":16299796,"display_name":"mike"},"score":0,"creation_date":1647445070,"post_id":71498413,"comment_id":126374028,"body_markdown":"Previously I was setting data in the &quot;onBind&quot; that&#39;s where I use to place all commands of the exoplayer and other information like for images and so on","body":"Previously I was setting data in the &quot;onBind&quot; that&#39;s where I use to place all commands of the exoplayer and other information like for images and so on"},{"owner":{"account_id":22032795,"reputation":15,"user_id":16299796,"display_name":"mike"},"score":0,"creation_date":1647445160,"post_id":71498413,"comment_id":126374062,"body_markdown":"It works fine but the shortcome of that approach is that u have difficulty to stop other views from playing videos when your not on the specific view","body":"It works fine but the shortcome of that approach is that u have difficulty to stop other views from playing videos when your not on the specific view"}],"owner":{"account_id":22032795,"reputation":15,"user_id":16299796,"display_name":"mike"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647439180,"creation_date":1647439180,"question_id":71498413,"body_markdown":"I am implementing exoplayer  in recyclerView in a way which stops other videos from playing when they are not in the window ,this requires me to set the stop and start command within onDetached from window using an &quot;if&quot; statement,this method is only workable when am able to get the &quot;AdapterPosition&quot; and &quot;indexOfChild&quot;....i have checked through  stackoverflow for another solution but most solutions aren&#39;t very clear on the implementation but i just need help on how i can get the adapterPosition and indexofchild within &quot;onDetachedWindow&quot; to control the plabackState of exoplayer\r\n\r\nbelow is some code from my ViewHolder to give an easy explanation on how i want to control playback state in &quot;onDetachedWindow&quot;:\r\n\r\n     class VideoViewPagerViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        CircleImageView profile;\r\n        StyledPlayerView playerView;\r\n        TextView userName;\r\n        ProgressBar progressBar;\r\n        int videoSurfaceDefaultHeight=0;\r\n        int screenDefaultHeight=0;\r\n\r\n        public VideoViewPagerViewHolder(@NonNull @NotNull View itemView) {\r\n            super(itemView);\r\n            profile = itemView.findViewById(R.id.image);\r\n            playerView = itemView.findViewById(R.id.videoView);\r\n            userName = itemView.findViewById(R.id.name);\r\n            progressBar = itemView.findViewById(R.id.progress_bar);\r\n\r\n\r\n        }\r\n\r\n        public void setData(Detail data, Integer position, SparseArray&lt;String&gt; storedMedia, SparseArray&lt;ExoPlayer&gt; storedPlayer, SparseArray&lt;StyledPlayerView&gt; playerView) {\r\n\r\n            storedMedia.append(position, data.getVideo());\r\n            storedPlayer.append(position, getVideoPlayer(itemView.getContext()));\r\n            playerView.append(position,getVideosource(itemView.getContext()));\r\n        }\r\n\r\n        private StyledPlayerView getVideosource(Context context) {\r\n            WindowManager wm=(WindowManager)context.getSystemService(Context.WINDOW_SERVICE);\r\n            Display display=wm.getDefaultDisplay();\r\n            Point size=new Point();\r\n            display.getSize(size);\r\n\r\n            videoSurfaceDefaultHeight= size.x;\r\n            screenDefaultHeight=size.y;\r\n            playerView= new StyledPlayerView(context);\r\n\r\n            playerView.setResizeMode(AspectRatioFrameLayout.RESIZE_MODE_ZOOM);\r\n            playerView.setUseController(false);\r\n            playerView.setShowBuffering(StyledPlayerView.SHOW_BUFFERING_WHEN_PLAYING);\r\n\r\n            return playerView;\r\n        }\r\n\r\n\r\n        private ExoPlayer getVideoPlayer(Context context) {\r\n\r\n            ExoPlayer  player= new ExoPlayer.Builder(context).build();\r\n\r\n            return player;\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Is there a way to get Adapter position and index of child within &quot;onDetachedFromWindow&quot;?","body":"<p>I am implementing exoplayer  in recyclerView in a way which stops other videos from playing when they are not in the window ,this requires me to set the stop and start command within onDetached from window using an &quot;if&quot; statement,this method is only workable when am able to get the &quot;AdapterPosition&quot; and &quot;indexOfChild&quot;....i have checked through  stackoverflow for another solution but most solutions aren't very clear on the implementation but i just need help on how i can get the adapterPosition and indexofchild within &quot;onDetachedWindow&quot; to control the plabackState of exoplayer</p>\n<p>below is some code from my ViewHolder to give an easy explanation on how i want to control playback state in &quot;onDetachedWindow&quot;:</p>\n<pre><code> class VideoViewPagerViewHolder extends RecyclerView.ViewHolder {\n\n    CircleImageView profile;\n    StyledPlayerView playerView;\n    TextView userName;\n    ProgressBar progressBar;\n    int videoSurfaceDefaultHeight=0;\n    int screenDefaultHeight=0;\n\n    public VideoViewPagerViewHolder(@NonNull @NotNull View itemView) {\n        super(itemView);\n        profile = itemView.findViewById(R.id.image);\n        playerView = itemView.findViewById(R.id.videoView);\n        userName = itemView.findViewById(R.id.name);\n        progressBar = itemView.findViewById(R.id.progress_bar);\n\n\n    }\n\n    public void setData(Detail data, Integer position, SparseArray&lt;String&gt; storedMedia, SparseArray&lt;ExoPlayer&gt; storedPlayer, SparseArray&lt;StyledPlayerView&gt; playerView) {\n\n        storedMedia.append(position, data.getVideo());\n        storedPlayer.append(position, getVideoPlayer(itemView.getContext()));\n        playerView.append(position,getVideosource(itemView.getContext()));\n    }\n\n    private StyledPlayerView getVideosource(Context context) {\n        WindowManager wm=(WindowManager)context.getSystemService(Context.WINDOW_SERVICE);\n        Display display=wm.getDefaultDisplay();\n        Point size=new Point();\n        display.getSize(size);\n\n        videoSurfaceDefaultHeight= size.x;\n        screenDefaultHeight=size.y;\n        playerView= new StyledPlayerView(context);\n\n        playerView.setResizeMode(AspectRatioFrameLayout.RESIZE_MODE_ZOOM);\n        playerView.setUseController(false);\n        playerView.setShowBuffering(StyledPlayerView.SHOW_BUFFERING_WHEN_PLAYING);\n\n        return playerView;\n    }\n\n\n    private ExoPlayer getVideoPlayer(Context context) {\n\n        ExoPlayer  player= new ExoPlayer.Builder(context).build();\n\n        return player;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1832012,"reputation":497,"user_id":1663215,"accept_rate":75,"display_name":"Can Bayar"},"score":0,"creation_date":1647429549,"post_id":71495935,"comment_id":126367428,"body_markdown":"Qualifier annotation is used to define custom names for your beans. While I can technically give command ids as qualifiers, that&#39;s not really what I am looking for here. I just want to know if Spring has a similar sort of mapping technique to objects of similar purposes, like enumarations.","body":"Qualifier annotation is used to define custom names for your beans. While I can technically give command ids as qualifiers, that&#39;s not really what I am looking for here. I just want to know if Spring has a similar sort of mapping technique to objects of similar purposes, like enumarations."},{"owner":{"account_id":1832012,"reputation":497,"user_id":1663215,"accept_rate":75,"display_name":"Can Bayar"},"score":0,"creation_date":1647429956,"post_id":71495935,"comment_id":126367578,"body_markdown":"And that should only return command beans, not the other beans in my system.","body":"And that should only return command beans, not the other beans in my system."}],"answers":[{"tags":[],"owner":{"account_id":10435634,"reputation":220,"user_id":7694025,"display_name":"Bessem Manita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647439123,"creation_date":1647437589,"answer_id":71497996,"question_id":71495935,"body_markdown":"**@Controller** annotation can have as parameter the bean name \r\n\r\nExample : \r\n\r\n    @Controller(&quot;1000&quot;) \r\n    public class COMMAND1{\r\n    }\r\n\r\nand then you can get instance of this bean by using his name  \r\n\r\n    Command1 cmd1=(Command1) applicationContext.getBean(&quot;1000&quot;);\r\n\r\n","title":"Mapping Spring Beans To Integer Identifiers","body":"<p><strong>@Controller</strong> annotation can have as parameter the bean name</p>\n<p>Example :</p>\n<pre><code>@Controller(&quot;1000&quot;) \npublic class COMMAND1{\n}\n</code></pre>\n<p>and then you can get instance of this bean by using his name</p>\n<pre><code>Command1 cmd1=(Command1) applicationContext.getBean(&quot;1000&quot;);\n</code></pre>\n"}],"owner":{"account_id":1832012,"reputation":497,"user_id":1663215,"accept_rate":75,"display_name":"Can Bayar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647439123,"creation_date":1647428497,"question_id":71495935,"body_markdown":"My application uses a set of **command classes with unique integer identifiers** to execute different tasks. Commands are stored in an **enum** class of form\r\n\r\n    public enum CommandType {\r\n\r\n        COMMAND1(1000, Command1.class),\r\n        COMMAND2(1001, Command2.class),\r\n        ...\r\n\r\nIn the legacy code, we were constructing the corresponding command instance using the command id when a request is received. Recently I added Spring support and now each command is marked with `@Controller` annotation. Instead of constructing a new instance, now we do\r\n\r\n    Class&lt;? extends Command&gt; commandClass = commandType.getCommandClass();    \r\n    applicationContext.getBean(commandClass);\r\n\r\nCommand ids are stored in a **hashmap** and we obtain the corresponding commands from this map\r\n\r\n    private Map&lt;Integer, CommandType&gt; commandTypeMap = new HashMap&lt;&gt;();\r\n\r\nWhat I wonder is instead of using a hashmap, can I utilize Spring. Is there an easy and graceful way to map the command beans into unique command ids in the Spring Framework, so that I can acquire the command by passing the id into Spring?","title":"Mapping Spring Beans To Integer Identifiers","body":"<p>My application uses a set of <strong>command classes with unique integer identifiers</strong> to execute different tasks. Commands are stored in an <strong>enum</strong> class of form</p>\n<pre><code>public enum CommandType {\n\n    COMMAND1(1000, Command1.class),\n    COMMAND2(1001, Command2.class),\n    ...\n</code></pre>\n<p>In the legacy code, we were constructing the corresponding command instance using the command id when a request is received. Recently I added Spring support and now each command is marked with <code>@Controller</code> annotation. Instead of constructing a new instance, now we do</p>\n<pre><code>Class&lt;? extends Command&gt; commandClass = commandType.getCommandClass();    \napplicationContext.getBean(commandClass);\n</code></pre>\n<p>Command ids are stored in a <strong>hashmap</strong> and we obtain the corresponding commands from this map</p>\n<pre><code>private Map&lt;Integer, CommandType&gt; commandTypeMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>What I wonder is instead of using a hashmap, can I utilize Spring. Is there an easy and graceful way to map the command beans into unique command ids in the Spring Framework, so that I can acquire the command by passing the id into Spring?</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1624975686,"post_id":68180164,"comment_id":120500531,"body_markdown":"if you add the property `debug=true` to your application an autoconfiguration report will be printed out that should show you all registed autoconfigurations and why they were and were not triggered","body":"if you add the property <code>debug=true</code> to your application an autoconfiguration report will be printed out that should show you all registed autoconfigurations and why they were and were not triggered"},{"owner":{"account_id":487722,"reputation":1178,"user_id":1766625,"accept_rate":74,"display_name":"kernelpanic"},"score":0,"creation_date":1624977742,"post_id":68180164,"comment_id":120501549,"body_markdown":"@DarrenForsythe the InterceptorConfig class does appear in the report under the section titled &quot;Unconditional classes&quot;","body":"@DarrenForsythe the InterceptorConfig class does appear in the report under the section titled &quot;Unconditional classes&quot;"}],"answers":[{"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624977162,"creation_date":1624976860,"answer_id":68180710,"question_id":68180164,"body_markdown":"If I understand you correctly you&#39;re trying to include a spring-boot module in another spring-boot module. This doesn&#39;t work because the way a spring boot module is compiled and packaged means you cannot treat it as a library.\r\n\r\nTo resolve this situation you need to create a new library module and extract the code you want to use in other modules to this new module.","title":"Spring Boot MVC Autoconfiguration Blocked by WebMvcConfigurationSupport","body":"<p>If I understand you correctly you're trying to include a spring-boot module in another spring-boot module. This doesn't work because the way a spring boot module is compiled and packaged means you cannot treat it as a library.</p>\n<p>To resolve this situation you need to create a new library module and extract the code you want to use in other modules to this new module.</p>\n"},{"tags":[],"owner":{"account_id":487722,"reputation":1178,"user_id":1766625,"accept_rate":74,"display_name":"kernelpanic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1630076893,"creation_date":1630076893,"answer_id":68955689,"question_id":68180164,"body_markdown":"I found that the issue was that Spring Boot disables auto-configuration for MVC components when it sees a `@Configuration` class that extends `WebMvcConfigurationSupport`.\r\n\r\nThe solution was to have the class not extend `WebMvcConfigurationSupport`. ","title":"Spring Boot MVC Autoconfiguration Blocked by WebMvcConfigurationSupport","body":"<p>I found that the issue was that Spring Boot disables auto-configuration for MVC components when it sees a <code>@Configuration</code> class that extends <code>WebMvcConfigurationSupport</code>.</p>\n<p>The solution was to have the class not extend <code>WebMvcConfigurationSupport</code>.</p>\n"},{"tags":[],"owner":{"account_id":1139871,"reputation":1,"user_id":8732587,"display_name":"Joy Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647439019,"creation_date":1647439019,"answer_id":71498371,"question_id":68180164,"body_markdown":"You can try to `implements WebMvcConfigurer` rather than `extends WebMvcConfigurationSupport`.","title":"Spring Boot MVC Autoconfiguration Blocked by WebMvcConfigurationSupport","body":"<p>You can try to <code>implements WebMvcConfigurer</code> rather than <code>extends WebMvcConfigurationSupport</code>.</p>\n"}],"owner":{"account_id":487722,"reputation":1178,"user_id":1766625,"accept_rate":74,"display_name":"kernelpanic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68955689,"answer_count":3,"score":0,"last_activity_date":1647439019,"creation_date":1624974967,"question_id":68180164,"body_markdown":"I have a library JAR that taps into Spring Boot auto-configuration in order to register an interceptor for logging purposes.  \r\n\r\nMy issue is that when I add the library as a dependency into a particular Spring Boot project, the interceptor is not registered.  It works for all of our other Spring Boot projects.  \r\n\r\nNone of my breakpoints in the library code are hit in debug mode.\r\n\r\nThe problem Spring Boot project does have `@SpringBootApplication` and has Spring MVC via `spring-boot-starter-web`.\r\n\r\nThis class extending `WebMvcConfigurationSupport` seems to be preventing my interceptor from being registered:  \r\n\r\n    @Configuration\r\n    public class JacksonHttpMessageConfig extends WebMvcConfigurationSupport\r\n    {\r\n    \r\n        @Bean\r\n        public MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter() {\r\n            MappingJackson2HttpMessageConverter jsonConverter = new MappingJackson2HttpMessageConverter();\r\n            ObjectMapper om = new ObjectMapper();\r\n            om.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            om.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n            jsonConverter.setObjectMapper(om);\r\n            return jsonConverter;\r\n        }\r\n    \r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            converters.add(mappingJackson2HttpMessageConverter());\r\n            super.addDefaultHttpMessageConverters(converters);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nWhen I delete this class, the interceptor is registered successfully.\r\n\r\nWhy is this happening and what are the approaches to fix it?","title":"Spring Boot MVC Autoconfiguration Blocked by WebMvcConfigurationSupport","body":"<p>I have a library JAR that taps into Spring Boot auto-configuration in order to register an interceptor for logging purposes.</p>\n<p>My issue is that when I add the library as a dependency into a particular Spring Boot project, the interceptor is not registered.  It works for all of our other Spring Boot projects.</p>\n<p>None of my breakpoints in the library code are hit in debug mode.</p>\n<p>The problem Spring Boot project does have <code>@SpringBootApplication</code> and has Spring MVC via <code>spring-boot-starter-web</code>.</p>\n<p>This class extending <code>WebMvcConfigurationSupport</code> seems to be preventing my interceptor from being registered:</p>\n<pre><code>@Configuration\npublic class JacksonHttpMessageConfig extends WebMvcConfigurationSupport\n{\n\n    @Bean\n    public MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter() {\n        MappingJackson2HttpMessageConverter jsonConverter = new MappingJackson2HttpMessageConverter();\n        ObjectMapper om = new ObjectMapper();\n        om.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        om.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n        jsonConverter.setObjectMapper(om);\n        return jsonConverter;\n    }\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.add(mappingJackson2HttpMessageConverter());\n        super.addDefaultHttpMessageConverters(converters);\n    }\n\n}\n</code></pre>\n<p>When I delete this class, the interceptor is registered successfully.</p>\n<p>Why is this happening and what are the approaches to fix it?</p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":1,"creation_date":1647439003,"post_id":71498130,"comment_id":126371292,"body_markdown":"Your video is probably outdated. The current Tomcat version and its JSP implementation (called Jasper) use the Eclipse JDT compiler instead of `tools.jar`. See https://tomcat.apache.org/tomcat-10.0-doc/jasper-howto.html","body":"Your video is probably outdated. The current Tomcat version and its JSP implementation (called Jasper) use the Eclipse JDT compiler instead of <code>tools.jar</code>. See <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/jasper-howto.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-10.0-doc/jasper-howto.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647438672,"creation_date":1647438672,"answer_id":71498281,"question_id":71498130,"body_markdown":"`tools.jar` ceased being a thing with JDK9. The tutorial you&#39;re reading is a decade out of date. JSPs as a technology are severely outdated as well, you may want to follow some more modern java web framework tutorial instead. JSPs mix HTML and java code and the concept of mixing different codebases to such a degree is something that even PHP (that made the model &#39;famous&#39;) has moved away from.\r\n\r\nModern style either involved static HTML that makes javascript-based requests to the server using a standard API (usually JSON based), obviating the need for JSP or any other templating engine, _or_ a much simpler template engine, such as freemarker, velocity, moustache, handlebar, or thymeleaf.\r\n\r\nIf you insist on contiuning with your tutorial, download a JDK8. [The Adoptium project](https://adoptium.net) still makes builds, as do a few other parties.\r\n","title":"Locating or downloading tools.jar file Mac","body":"<p><code>tools.jar</code> ceased being a thing with JDK9. The tutorial you're reading is a decade out of date. JSPs as a technology are severely outdated as well, you may want to follow some more modern java web framework tutorial instead. JSPs mix HTML and java code and the concept of mixing different codebases to such a degree is something that even PHP (that made the model 'famous') has moved away from.</p>\n<p>Modern style either involved static HTML that makes javascript-based requests to the server using a standard API (usually JSON based), obviating the need for JSP or any other templating engine, <em>or</em> a much simpler template engine, such as freemarker, velocity, moustache, handlebar, or thymeleaf.</p>\n<p>If you insist on contiuning with your tutorial, download a JDK8. <a href=\"https://adoptium.net\" rel=\"nofollow noreferrer\">The Adoptium project</a> still makes builds, as do a few other parties.</p>\n"}],"owner":{"account_id":13643877,"reputation":19,"user_id":9843355,"display_name":"Elec Hill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647438672,"creation_date":1647438217,"question_id":71498130,"body_markdown":"I&#39;m trying to host a jsp file with Tomcat and the YouTube videos show them copying the tools.jar file but I can&#39;t seem to find it. I downloaded the JDK 17 but no tools came with it. Is the tools named something else on Macs?","title":"Locating or downloading tools.jar file Mac","body":"<p>I'm trying to host a jsp file with Tomcat and the YouTube videos show them copying the tools.jar file but I can't seem to find it. I downloaded the JDK 17 but no tools came with it. Is the tools named something else on Macs?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1647438990,"post_id":71498266,"comment_id":126371286,"body_markdown":"And how do you close the context?","body":"And how do you close the context?"},{"owner":{"account_id":5460030,"reputation":79,"user_id":6250010,"accept_rate":0,"display_name":"Theara"},"score":0,"creation_date":1647440172,"post_id":71498266,"comment_id":126371815,"body_markdown":"@MichałKrzywański, I just test by clicking stop on IDE.","body":"@MichałKrzywański, I just test by clicking stop on IDE."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1647440396,"post_id":71498266,"comment_id":126371917,"body_markdown":"Which probably forcefully terminates the JVM, preventing any clean-up to be performed at all. What happens if you run it command line and use Ctrl+C to terminate the process?","body":"Which probably forcefully terminates the JVM, preventing any clean-up to be performed at all. What happens if you run it command line and use Ctrl+C to terminate the process?"},{"owner":{"account_id":5460030,"reputation":79,"user_id":6250010,"accept_rate":0,"display_name":"Theara"},"score":0,"creation_date":1647440772,"post_id":71498266,"comment_id":126372076,"body_markdown":"@RobSpoor, it&#39;s working if run by command line","body":"@RobSpoor, it&#39;s working if run by command line"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1647440899,"post_id":71498266,"comment_id":126372140,"body_markdown":"So your IDE indeed does not gracefully shut down your application.","body":"So your IDE indeed does not gracefully shut down your application."}],"owner":{"account_id":5460030,"reputation":79,"user_id":6250010,"accept_rate":0,"display_name":"Theara"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647438613,"creation_date":1647438613,"question_id":71498266,"body_markdown":"Any problem with spring version 2.6.4, @PreDestroy not working.\r\n\r\n@PostConstruct is working, but @PreDestroy does not work.\r\n\r\n```\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport javax.annotation.PreDestroy;\r\n\r\n\r\n@Slf4j\r\n@Component\r\npublic class RestartApplication {\r\n\r\n    @PostConstruct\r\n    public void ala() {\r\n        log.info(&quot;Running PostConstruct...&quot;);\r\n    }\r\n\r\n    @PreDestroy\r\n    public void restartApp() {\r\n        log.info(&quot;Running PreDestroy...&quot;);\r\n    }\r\n}\r\n```","title":"PreDestroy in Spring version 2.6.4 not working","body":"<p>Any problem with spring version 2.6.4, @PreDestroy not working.</p>\n<p>@PostConstruct is working, but @PreDestroy does not work.</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Component;\n\nimport javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\n\n\n@Slf4j\n@Component\npublic class RestartApplication {\n\n    @PostConstruct\n    public void ala() {\n        log.info(&quot;Running PostConstruct...&quot;);\n    }\n\n    @PreDestroy\n    public void restartApp() {\n        log.info(&quot;Running PreDestroy...&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","jenkins","junit5","flapdoodle-embed-mongo"],"owner":{"account_id":16121396,"reputation":31,"user_id":11637299,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647438514,"creation_date":1647438514,"question_id":71498226,"body_markdown":"I&#39;m running into an issue with a Spring Boot service running unit tests using JUnit5 and flapdoodle&#39;s embeddedMongo.  My unit tests were running fine previously, both locally and in Jenkins.  I&#39;m trying to update to Java 17 and Spring Boot 2.6.3, and that&#39;s where I&#39;m running into issues.  With the latest version of embeddedMongo, my unit tests run fine locally, but when I upload them to Jenkins, the first test always fails (with subsequent tests succeeding) with the following logs:\r\n\r\n```\r\n2022-03-15 18:45:10.445  INFO 624 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\r\n2022-03-15 18:45:10.472  INFO 624 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 MongoDB repository interfaces.\r\n2022-03-15 18:45:15.389  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : starting...\r\n2022-03-15 18:45:15.707  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : DownloadSize: 87554471\r\n2022-03-15 18:45:15.710  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 0 %\r\n2022-03-15 18:45:16.595  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 10 %\r\n2022-03-15 18:45:17.392  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 20 %\r\n2022-03-15 18:45:18.194  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 30 %\r\n2022-03-15 18:45:18.992  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 40 %\r\n2022-03-15 18:45:19.403  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 50 %\r\n2022-03-15 18:45:19.659  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 60 %\r\n2022-03-15 18:45:19.935  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 70 %\r\n2022-03-15 18:45:20.185  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 80 %\r\n2022-03-15 18:45:20.431  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 90 %\r\n2022-03-15 18:45:20.508  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 100 %\r\n2022-03-15 18:45:20.509  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : downloaded with 21375kb/s\r\n2022-03-15 18:45:20.510  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : finished\r\n2022-03-15 18:45:20.576  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Extract ?/.embedmongo/linux/mongodb-linux-x86_64-3.5.5.tgz : starting...\r\n2022-03-15 18:45:21.595  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Extract ?/.embedmongo/linux/mongodb-linux-x86_64-3.5.5.tgz : extract mongodb-linux-x86_64-3.5.5/bin/mongod\r\n2022-03-15 18:45:21.595  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Extract ?/.embedmongo/linux/mongodb-linux-x86_64-3.5.5.tgz : nothing left\r\n2022-03-15 18:45:21.596  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Extract ?/.embedmongo/linux/mongodb-linux-x86_64-3.5.5.tgz : finished\r\n2022-03-15 18:45:21.611 ERROR 624 --- [    Test worker] d.f.embed.process.runtime.Starter        : prepare executable\r\n\r\njava.nio.file.NoSuchFileException: ?/.embedmongo/extracted/Linux-B64--unknown---3.5.5/?/.embedmongo/extracted/Linux-B64--unknown---3.5.5/extractmongod\r\n\tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92) ~[na:na]\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106) ~[na:na]\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111) ~[na:na]\r\n\tat java.base/sun.nio.fs.UnixCopyFile.copy(UnixCopyFile.java:548) ~[na:na]\r\n\tat java.base/sun.nio.fs.UnixFileSystemProvider.copy(UnixFileSystemProvider.java:258) ~[na:na]\r\n\tat java.base/java.nio.file.Files.copy(Files.java:1305) ~[na:na]\r\n\tat de.flapdoodle.embed.process.extract.ExtractedFileSets.copy(ExtractedFileSets.java:57) ~[de.flapdoodle.embed.process-3.1.7.jar:na]\r\n\tat de.flapdoodle.embed.process.store.ExtractedArtifactStore.extractFileSet(ExtractedArtifactStore.java:110) ~[de.flapdoodle.embed.process-3.1.7.jar:na]\r\n\tat de.flapdoodle.embed.process.runtime.Starter.prepare(Starter.java:59) ~[de.flapdoodle.embed.process-3.1.7.jar:na]\r\n\tat de.flapdoodle.embed.process.runtime.Starter.prepare(Starter.java:52) ~[de.flapdoodle.embed.process-3.1.7.jar:na]\r\n\tat de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration.embeddedMongoServer(EmbeddedMongoAutoConfiguration.java:103) ~[de.flapdoodle.embed.mongo.spring-1.0.2-spring26x.jar:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n```\r\n\r\nIt looks like the embedded database is still downloading while the first test is running, but is in place for later tests.  I&#39;ve tried changing the order of tests, but got the same behavior, so it&#39;s not the specific test that runs first, it&#39;s the timing. \r\n\r\nMy tests are WebMvcTests with mongo autoconfigured:\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration\r\n@AutoConfigureDataMongo\r\n@WebMvcTest(\r\n        controllers = {\r\n                AccessorialTypeController.class,\r\n                AccessorialTypeDao.class,\r\n                ServicePermissionEvaluator.class,\r\n                MethodSecurityConfig.class,\r\n                APIExceptionHandler.class,\r\n                PatchValidator.class\r\n        },\r\n        properties = {\r\n                &quot;spring.mongodb.embedded.version=3.5.5&quot;\r\n        })\r\n```\r\n\r\nI&#39;ve tried a number of different embedded versions, and this is the closest I&#39;ve gotten it to running.  Later versions result in all of the tests failing with similar but not identical file not found exceptions, not just the first.","title":"EmbeddedMongo seeming race condition in Jenkins","body":"<p>I'm running into an issue with a Spring Boot service running unit tests using JUnit5 and flapdoodle's embeddedMongo.  My unit tests were running fine previously, both locally and in Jenkins.  I'm trying to update to Java 17 and Spring Boot 2.6.3, and that's where I'm running into issues.  With the latest version of embeddedMongo, my unit tests run fine locally, but when I upload them to Jenkins, the first test always fails (with subsequent tests succeeding) with the following logs:</p>\n<pre><code>2022-03-15 18:45:10.445  INFO 624 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\n2022-03-15 18:45:10.472  INFO 624 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 MongoDB repository interfaces.\n2022-03-15 18:45:15.389  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : starting...\n2022-03-15 18:45:15.707  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : DownloadSize: 87554471\n2022-03-15 18:45:15.710  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 0 %\n2022-03-15 18:45:16.595  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 10 %\n2022-03-15 18:45:17.392  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 20 %\n2022-03-15 18:45:18.194  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 30 %\n2022-03-15 18:45:18.992  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 40 %\n2022-03-15 18:45:19.403  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 50 %\n2022-03-15 18:45:19.659  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 60 %\n2022-03-15 18:45:19.935  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 70 %\n2022-03-15 18:45:20.185  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 80 %\n2022-03-15 18:45:20.431  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 90 %\n2022-03-15 18:45:20.508  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : 100 %\n2022-03-15 18:45:20.509  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : downloaded with 21375kb/s\n2022-03-15 18:45:20.510  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Download GenericFeatureAwareVersion{3.5.5}:Platform{operatingSystem=Linux, architecture=X86_64} : finished\n2022-03-15 18:45:20.576  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Extract ?/.embedmongo/linux/mongodb-linux-x86_64-3.5.5.tgz : starting...\n2022-03-15 18:45:21.595  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Extract ?/.embedmongo/linux/mongodb-linux-x86_64-3.5.5.tgz : extract mongodb-linux-x86_64-3.5.5/bin/mongod\n2022-03-15 18:45:21.595  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Extract ?/.embedmongo/linux/mongodb-linux-x86_64-3.5.5.tgz : nothing left\n2022-03-15 18:45:21.596  INFO 624 --- [    Test worker] d.f.e.m.s.autoconfigure.EmbeddedMongo    : Extract ?/.embedmongo/linux/mongodb-linux-x86_64-3.5.5.tgz : finished\n2022-03-15 18:45:21.611 ERROR 624 --- [    Test worker] d.f.embed.process.runtime.Starter        : prepare executable\n\njava.nio.file.NoSuchFileException: ?/.embedmongo/extracted/Linux-B64--unknown---3.5.5/?/.embedmongo/extracted/Linux-B64--unknown---3.5.5/extractmongod\n    at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92) ~[na:na]\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106) ~[na:na]\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111) ~[na:na]\n    at java.base/sun.nio.fs.UnixCopyFile.copy(UnixCopyFile.java:548) ~[na:na]\n    at java.base/sun.nio.fs.UnixFileSystemProvider.copy(UnixFileSystemProvider.java:258) ~[na:na]\n    at java.base/java.nio.file.Files.copy(Files.java:1305) ~[na:na]\n    at de.flapdoodle.embed.process.extract.ExtractedFileSets.copy(ExtractedFileSets.java:57) ~[de.flapdoodle.embed.process-3.1.7.jar:na]\n    at de.flapdoodle.embed.process.store.ExtractedArtifactStore.extractFileSet(ExtractedArtifactStore.java:110) ~[de.flapdoodle.embed.process-3.1.7.jar:na]\n    at de.flapdoodle.embed.process.runtime.Starter.prepare(Starter.java:59) ~[de.flapdoodle.embed.process-3.1.7.jar:na]\n    at de.flapdoodle.embed.process.runtime.Starter.prepare(Starter.java:52) ~[de.flapdoodle.embed.process-3.1.7.jar:na]\n    at de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration.embeddedMongoServer(EmbeddedMongoAutoConfiguration.java:103) ~[de.flapdoodle.embed.mongo.spring-1.0.2-spring26x.jar:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n</code></pre>\n<p>It looks like the embedded database is still downloading while the first test is running, but is in place for later tests.  I've tried changing the order of tests, but got the same behavior, so it's not the specific test that runs first, it's the timing.</p>\n<p>My tests are WebMvcTests with mongo autoconfigured:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration\n@AutoConfigureDataMongo\n@WebMvcTest(\n        controllers = {\n                AccessorialTypeController.class,\n                AccessorialTypeDao.class,\n                ServicePermissionEvaluator.class,\n                MethodSecurityConfig.class,\n                APIExceptionHandler.class,\n                PatchValidator.class\n        },\n        properties = {\n                &quot;spring.mongodb.embedded.version=3.5.5&quot;\n        })\n</code></pre>\n<p>I've tried a number of different embedded versions, and this is the closest I've gotten it to running.  Later versions result in all of the tests failing with similar but not identical file not found exceptions, not just the first.</p>\n"},{"tags":["java","spring","jpa"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647424909,"creation_date":1647422571,"answer_id":71494469,"question_id":71492094,"body_markdown":"First you need to include `null` fields in `ExampleMatcher` because default matcher does not include it. \r\n\r\nSecond if optional is `null` you need to exclude this field.\r\n\r\nShort, you can write a method like this:\r\n\r\n```java\r\npublic static Example&lt;User&gt; getExampleByUserFilter(UserFilter userFilter) {\r\n\r\n    User user = new User();\r\n    ExampleMatcher exampleMatcher = ExampleMatcher.matchingAll()\r\n            .withIgnorePaths(&quot;id&quot;) // (1)\r\n            .withIncludeNullValues();\r\n\r\n    Optional&lt;String&gt; optionalF1 = userFilter.getF1();\r\n    if (optionalF1.isPresent()) {\r\n        if (!optionalF1.get().isBlank()) {\r\n            user.setF1(optionalF1.get());\r\n        }\r\n    } else {\r\n        exampleMatcher = exampleMatcher.withIgnorePaths(&quot;f1&quot;);\r\n    }\r\n\r\n    Optional&lt;String&gt; optionalF2 = userFilter.getF2();\r\n    if (optionalF2.isPresent()) {\r\n        if (!optionalF2.get().isBlank()) {\r\n            user.setF2(optionalF2.get());\r\n        }\r\n    } else {\r\n        exampleMatcher = exampleMatcher.withIgnorePaths(&quot;f2&quot;);\r\n    }\r\n\r\n    // other fields ..\r\n\r\n    return Example.of(user, exampleMatcher);\r\n}\r\n```\r\nLet&#39;s make an example and look at the sql query output:\r\n\r\n```java\r\n...\r\n\r\nUserFilter userFilter1 = new UserFilter(\r\n        Optional.of(&quot;f1&quot;),\r\n        Optional.empty(),\r\n        Optional.of(&quot;f3&quot;));\r\n\r\nUserFilter userFilter2 = new UserFilter(\r\n        Optional.of(&quot;f1&quot;),\r\n        Optional.of(&quot;&quot;),\r\n        Optional.of(&quot;f3&quot;));\r\n\r\nuserRepository\r\n        .findAll(getExampleByUserFilter(userFilter1));\r\nuserRepository\r\n        .findAll(getExampleByUserFilter(userFilter2));\r\n...\r\n\r\n```\r\n\r\nThe console output for this example:\r\n\r\n```sql\r\nHibernate: select ... from user user0_ \r\n    where user0_.f1=? and user0_.f3=?\r\nHibernate: select ... from user user0_ \r\n    where user0_.f1=? and user0_.f3=? and (user0_.f2 is null)\r\n```\r\n\r\n*(1) The important thing here is that you need to eliminate all the fields that you will not use in the filter with `withIgnorePaths(...)` in the first step.*\r\n\r\n**`OR`**\r\n\r\nI recommend using [`Specifications and Querydsl`][1] for such conditional operations. \r\n\r\nYou can extends from `JpaSpecificationExecutor` too and get the `Predicate` with `QueryByExamplePredicateBuilder` from `Example`.\r\n\r\n  [1]: https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/","title":"Optional parameter in query method with explicit null support in Spring JPA","body":"<p>First you need to include <code>null</code> fields in <code>ExampleMatcher</code> because default matcher does not include it.</p>\n<p>Second if optional is <code>null</code> you need to exclude this field.</p>\n<p>Short, you can write a method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Example&lt;User&gt; getExampleByUserFilter(UserFilter userFilter) {\n\n    User user = new User();\n    ExampleMatcher exampleMatcher = ExampleMatcher.matchingAll()\n            .withIgnorePaths(&quot;id&quot;) // (1)\n            .withIncludeNullValues();\n\n    Optional&lt;String&gt; optionalF1 = userFilter.getF1();\n    if (optionalF1.isPresent()) {\n        if (!optionalF1.get().isBlank()) {\n            user.setF1(optionalF1.get());\n        }\n    } else {\n        exampleMatcher = exampleMatcher.withIgnorePaths(&quot;f1&quot;);\n    }\n\n    Optional&lt;String&gt; optionalF2 = userFilter.getF2();\n    if (optionalF2.isPresent()) {\n        if (!optionalF2.get().isBlank()) {\n            user.setF2(optionalF2.get());\n        }\n    } else {\n        exampleMatcher = exampleMatcher.withIgnorePaths(&quot;f2&quot;);\n    }\n\n    // other fields ..\n\n    return Example.of(user, exampleMatcher);\n}\n</code></pre>\n<p>Let's make an example and look at the sql query output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n\nUserFilter userFilter1 = new UserFilter(\n        Optional.of(&quot;f1&quot;),\n        Optional.empty(),\n        Optional.of(&quot;f3&quot;));\n\nUserFilter userFilter2 = new UserFilter(\n        Optional.of(&quot;f1&quot;),\n        Optional.of(&quot;&quot;),\n        Optional.of(&quot;f3&quot;));\n\nuserRepository\n        .findAll(getExampleByUserFilter(userFilter1));\nuserRepository\n        .findAll(getExampleByUserFilter(userFilter2));\n...\n\n</code></pre>\n<p>The console output for this example:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: select ... from user user0_ \n    where user0_.f1=? and user0_.f3=?\nHibernate: select ... from user user0_ \n    where user0_.f1=? and user0_.f3=? and (user0_.f2 is null)\n</code></pre>\n<p><em>(1) The important thing here is that you need to eliminate all the fields that you will not use in the filter with <code>withIgnorePaths(...)</code> in the first step.</em></p>\n<p><strong><code>OR</code></strong></p>\n<p>I recommend using <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"nofollow noreferrer\"><code>Specifications and Querydsl</code></a> for such conditional operations.</p>\n<p>You can extends from <code>JpaSpecificationExecutor</code> too and get the <code>Predicate</code> with <code>QueryByExamplePredicateBuilder</code> from <code>Example</code>.</p>\n"}],"owner":{"account_id":10866188,"reputation":845,"user_id":16493687,"display_name":"LightSith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647438275,"creation_date":1647407862,"question_id":71492094,"body_markdown":"As shown in this [answer][1], I want to ignore the fields which are not specified in filter but I also want a way to explicitly specify if a field is null.\r\n\r\nBasically something like this:\r\n\r\n```java\r\nclass User {\r\n\tString f1;\r\n\tString f2;\r\n\tString f2;\r\n}\r\n\r\nclass UserFilter {\r\n\tOptional&lt;String&gt; f1;\r\n\tOptional&lt;String&gt; f2;\r\n\tOptional&lt;String&gt; f3;\r\n}\r\n\r\nclass UserService {\r\n\tList&lt;User&gt; findBy(UserFilter u){\r\n\t\tuserRepository.findAll(Example.of(user));\r\n\t}\r\n}\r\n```\r\n\r\nIf `Optional&lt;String&gt;` is null then it should ignore that field but if its not null and is empty then I should explicitly check for nullability condition in database.\r\n\r\ne.g If `f1` and `f3` are not null and not empty and `f2` is null then it should `findby` `f1` and `f3` and ignore `f2`&#39;s value but if `f2`&#39;s value is not null and is empty then  it should return entities who&#39;s `f2` is null in database.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50792199/16493687","title":"Optional parameter in query method with explicit null support in Spring JPA","body":"<p>As shown in this <a href=\"https://stackoverflow.com/a/50792199/16493687\">answer</a>, I want to ignore the fields which are not specified in filter but I also want a way to explicitly specify if a field is null.</p>\n<p>Basically something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class User {\n    String f1;\n    String f2;\n    String f2;\n}\n\nclass UserFilter {\n    Optional&lt;String&gt; f1;\n    Optional&lt;String&gt; f2;\n    Optional&lt;String&gt; f3;\n}\n\nclass UserService {\n    List&lt;User&gt; findBy(UserFilter u){\n        userRepository.findAll(Example.of(user));\n    }\n}\n</code></pre>\n<p>If <code>Optional&lt;String&gt;</code> is null then it should ignore that field but if its not null and is empty then I should explicitly check for nullability condition in database.</p>\n<p>e.g If <code>f1</code> and <code>f3</code> are not null and not empty and <code>f2</code> is null then it should <code>findby</code> <code>f1</code> and <code>f3</code> and ignore <code>f2</code>'s value but if <code>f2</code>'s value is not null and is empty then  it should return entities who's <code>f2</code> is null in database.</p>\n"},{"tags":["java","docker","sftp","apache-mina","jimfs"],"comments":[{"owner":{"account_id":6179876,"reputation":530,"user_id":4815713,"display_name":"Paul Georg Podlech"},"score":0,"creation_date":1647332677,"post_id":71478923,"comment_id":126338292,"body_markdown":"That&#39;s very hard to diagnose with the info you&#39;re giving. However, to me this looks like the source file for the PUT is not found. Did you verify the file exists (or is created in the right location) inside the container?","body":"That&#39;s very hard to diagnose with the info you&#39;re giving. However, to me this looks like the source file for the PUT is not found. Did you verify the file exists (or is created in the right location) inside the container?"},{"owner":{"account_id":24562144,"reputation":1,"user_id":18469730,"display_name":"Markus"},"score":0,"creation_date":1647333694,"post_id":71478923,"comment_id":126338676,"body_markdown":"Thank you for your answer! I&#39;ll do my best to provide all information necessary.\nThe file is created by the spring boot application and uploaded right after creation. The upload (to remote sftp, not the mina sshd) worked for years and works locally fine - so yes, the file exists in the container (&quot;real&quot; filesystem, not in the jimfs).\n\nAlso, the error message is generated by the sftp server, not our sftp client.","body":"Thank you for your answer! I&#39;ll do my best to provide all information necessary. The file is created by the spring boot application and uploaded right after creation. The upload (to remote sftp, not the mina sshd) worked for years and works locally fine - so yes, the file exists in the container (&quot;real&quot; filesystem, not in the jimfs).  Also, the error message is generated by the sftp server, not our sftp client."},{"owner":{"account_id":6179876,"reputation":530,"user_id":4815713,"display_name":"Paul Georg Podlech"},"score":0,"creation_date":1647411536,"post_id":71478923,"comment_id":126361229,"body_markdown":"It would be best, if you could try to boil down your code to a minimal example. There&#39;s no way to understand how you start the sshd, create the file or call the PUT command.","body":"It would be best, if you could try to boil down your code to a minimal example. There&#39;s no way to understand how you start the sshd, create the file or call the PUT command."},{"owner":{"account_id":24562144,"reputation":1,"user_id":18469730,"display_name":"Markus"},"score":0,"creation_date":1647438202,"post_id":71478923,"comment_id":126370920,"body_markdown":"You are right. I added the server startup code (applicationListener) and the sftpClient","body":"You are right. I added the server startup code (applicationListener) and the sftpClient"},{"owner":{"account_id":6179876,"reputation":530,"user_id":4815713,"display_name":"Paul Georg Podlech"},"score":0,"creation_date":1647498952,"post_id":71478923,"comment_id":126387544,"body_markdown":"Which values do you use for destination? Maybe the directory you try to upload to is missing.","body":"Which values do you use for destination? Maybe the directory you try to upload to is missing."},{"owner":{"account_id":24562144,"reputation":1,"user_id":18469730,"display_name":"Markus"},"score":0,"creation_date":1647505120,"post_id":71478923,"comment_id":126389325,"body_markdown":"destination is /temp/filename.csv. I also thought of this and wasn&#39;t sure if the directory has to be created before uploading a file. But it works locally on my machine but not in the docker container. A missing directory or file would make sense if the file system wasn&#39;t a virtual one. As far as I understood, it should make no difference if it runs on my machine or in the docker container.","body":"destination is /temp/filename.csv. I also thought of this and wasn&#39;t sure if the directory has to be created before uploading a file. But it works locally on my machine but not in the docker container. A missing directory or file would make sense if the file system wasn&#39;t a virtual one. As far as I understood, it should make no difference if it runs on my machine or in the docker container."},{"owner":{"account_id":6179876,"reputation":530,"user_id":4815713,"display_name":"Paul Georg Podlech"},"score":0,"creation_date":1647582140,"post_id":71478923,"comment_id":126412036,"body_markdown":"I would try to create the directory beforehand nontheless to be sure.","body":"I would try to create the directory beforehand nontheless to be sure."},{"owner":{"account_id":24562144,"reputation":1,"user_id":18469730,"display_name":"Markus"},"score":1,"creation_date":1647847270,"post_id":71478923,"comment_id":126464598,"body_markdown":"That actually worked! I can&#39;t really see why creating the directory manually is necessary in the container but not locally (especially as the file system is virtual). Maybe the sftp server&#39;s privileges are restricted in the container... whatever the reason is: thank you for your help!!","body":"That actually worked! I can&#39;t really see why creating the directory manually is necessary in the container but not locally (especially as the file system is virtual). Maybe the sftp server&#39;s privileges are restricted in the container... whatever the reason is: thank you for your help!!"}],"owner":{"account_id":24562144,"reputation":1,"user_id":18469730,"display_name":"Markus"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647438120,"creation_date":1647332085,"question_id":71478923,"body_markdown":"I&#39;m dealing with a tough one:\r\n\r\nFor testing purposes I use Apache Mina SSHD and JIMFS to mock a remote sftp server - only locally and in test environment. Never in production.\r\n\r\nIn my Spring Boot application I start a Apache Mina sshd during application startup. I create a virtual filesystem with jimfs (tried unix and osX) for the `FileSystemFactory`. \r\nMy business code calls a remote sftp server in production and in test environment it calls the mina sshd server on localhost instead.\r\nIt does nothing else than uploading a file to the sftp server.\r\n\r\nThis works very well on my machine locally but i get a &quot;file or directory not found&quot; error message when I run this in our test environment (a docker container).\r\n\r\n```\r\ncom.jcraft.jsch.SftpException: No such file or directory\r\n\tat com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2873)\r\n\tat com.jcraft.jsch.ChannelSftp._put(ChannelSftp.java:594)\r\n\tat com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:475)\r\n\tat com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:365)\r\n\tat our.service.core.client.sftp.SftpClient.upload(SftpClient.java:89)\r\n```\r\n\r\nCreation of JIMFS file system during Application startup:\r\n```\r\npublic class MockSftpServerInitializer implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n\r\n  @Override\r\n  public void onApplicationEvent(ApplicationReadyEvent event) {\r\n    \r\n    SshServer sshd = SshServer.setUpDefaultServer();\r\n\r\n    sshd.setHost(&quot;localhost&quot;);\r\n    sshd.setPort(1234);\r\n\tsshd.setCommandFactory(new ScpCommandFactory());\r\n\tsshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(new File(&quot;host-key.ser&quot;)));\r\n    sshd.setPublickeyAuthenticator(getPublickeyAuthenticator());\r\n    sshd.setFileSystemFactory(getInMemoryFileSystemFactory());\r\n\tList&lt;NamedFactory&lt;Command&gt;&gt; sftpCommandFactory = new ArrayList&lt;&gt;();\r\n    sftpCommandFactory.add(new SftpSubsystemFactory());\r\n    sshd.setSubsystemFactories(sftpCommandFactory);\r\n\t\r\n    try {\r\n      sshd.start();\r\n    } catch (Exception e) {\r\n      throw new RuntimeException(&quot;Unable to start sshd&quot;, e);\r\n    }\r\n  }\r\n  \r\n  private FileSystemFactory getInMemoryFileSystemFactory() {\r\n    return session -&gt; getInMemoryFileSystem();\r\n  }\r\n\r\n  private FileSystem getInMemoryFileSystem() {\r\n    return Jimfs.newFileSystem(\r\n        Configuration.osX()\r\n            .toBuilder()\r\n            .setWorkingDirectory(&quot;/&quot;)\r\n            .setMaxSize(1024*1024*4)\r\n            .setDefaultAttributeValue(&quot;posix:permissions&quot;, &quot;rwxrw-rw-&quot;)\r\n            .setAttributeViews(&quot;basic&quot;, &quot;owner&quot;, &quot;posix&quot;, &quot;unix&quot;, &quot;acl&quot;, &quot;user&quot;)\r\n            .build());\r\n  }\r\n  \r\n\r\n}\r\n```\r\nFile upload:\r\n```\r\npublic class SftpClient {\r\n\r\n  public boolean upload(String source, String destination) {\r\n\r\n    Session session = null;\r\n    ChannelSftp sftpChannel = null;\r\n\r\n    try {\r\n      sftpProvider.addIdentity(&quot;Identity&quot;, privateKey.getBytes(), publicKey.getBytes(), null);\r\n      session = sftpProvider.getSession(username, host, port);\r\n      session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\r\n      session.connect();\r\n\r\n      Channel channel = session.openChannel(&quot;sftp&quot;);\r\n      channel.connect();\r\n\r\n      sftpChannel = (ChannelSftp) channel;\r\n      sftpChannel.put(source, destination);\r\n\r\n      log.info(&quot;Successful upload of file {} to SFTP server {}.&quot;, source, host);\r\n\r\n      return true;\r\n    } catch (SftpException | JSchException ex) {\r\n      log.error(&quot;Failed upload of file {} to SFTP server {}.&quot;, source, host);\r\n      log.error(&quot;{}&quot;, ex);\r\n      return false;\r\n    } finally {\r\n      if (sftpChannel != null) {\r\n        sftpChannel.disconnect();\r\n      }\r\n      if (session != null) {\r\n        session.disconnect();\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nI&#39;m grateful for any hint on why this works locally but not in our docker container.\r\n","title":"Sftp fileupload not working with Apache MINA SSHD and JIMFS in Docker Container","body":"<p>I'm dealing with a tough one:</p>\n<p>For testing purposes I use Apache Mina SSHD and JIMFS to mock a remote sftp server - only locally and in test environment. Never in production.</p>\n<p>In my Spring Boot application I start a Apache Mina sshd during application startup. I create a virtual filesystem with jimfs (tried unix and osX) for the <code>FileSystemFactory</code>.\nMy business code calls a remote sftp server in production and in test environment it calls the mina sshd server on localhost instead.\nIt does nothing else than uploading a file to the sftp server.</p>\n<p>This works very well on my machine locally but i get a &quot;file or directory not found&quot; error message when I run this in our test environment (a docker container).</p>\n<pre><code>com.jcraft.jsch.SftpException: No such file or directory\n    at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2873)\n    at com.jcraft.jsch.ChannelSftp._put(ChannelSftp.java:594)\n    at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:475)\n    at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:365)\n    at our.service.core.client.sftp.SftpClient.upload(SftpClient.java:89)\n</code></pre>\n<p>Creation of JIMFS file system during Application startup:</p>\n<pre><code>public class MockSftpServerInitializer implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n  @Override\n  public void onApplicationEvent(ApplicationReadyEvent event) {\n    \n    SshServer sshd = SshServer.setUpDefaultServer();\n\n    sshd.setHost(&quot;localhost&quot;);\n    sshd.setPort(1234);\n    sshd.setCommandFactory(new ScpCommandFactory());\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(new File(&quot;host-key.ser&quot;)));\n    sshd.setPublickeyAuthenticator(getPublickeyAuthenticator());\n    sshd.setFileSystemFactory(getInMemoryFileSystemFactory());\n    List&lt;NamedFactory&lt;Command&gt;&gt; sftpCommandFactory = new ArrayList&lt;&gt;();\n    sftpCommandFactory.add(new SftpSubsystemFactory());\n    sshd.setSubsystemFactories(sftpCommandFactory);\n    \n    try {\n      sshd.start();\n    } catch (Exception e) {\n      throw new RuntimeException(&quot;Unable to start sshd&quot;, e);\n    }\n  }\n  \n  private FileSystemFactory getInMemoryFileSystemFactory() {\n    return session -&gt; getInMemoryFileSystem();\n  }\n\n  private FileSystem getInMemoryFileSystem() {\n    return Jimfs.newFileSystem(\n        Configuration.osX()\n            .toBuilder()\n            .setWorkingDirectory(&quot;/&quot;)\n            .setMaxSize(1024*1024*4)\n            .setDefaultAttributeValue(&quot;posix:permissions&quot;, &quot;rwxrw-rw-&quot;)\n            .setAttributeViews(&quot;basic&quot;, &quot;owner&quot;, &quot;posix&quot;, &quot;unix&quot;, &quot;acl&quot;, &quot;user&quot;)\n            .build());\n  }\n  \n\n}\n</code></pre>\n<p>File upload:</p>\n<pre><code>public class SftpClient {\n\n  public boolean upload(String source, String destination) {\n\n    Session session = null;\n    ChannelSftp sftpChannel = null;\n\n    try {\n      sftpProvider.addIdentity(&quot;Identity&quot;, privateKey.getBytes(), publicKey.getBytes(), null);\n      session = sftpProvider.getSession(username, host, port);\n      session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n\n      session.connect();\n\n      Channel channel = session.openChannel(&quot;sftp&quot;);\n      channel.connect();\n\n      sftpChannel = (ChannelSftp) channel;\n      sftpChannel.put(source, destination);\n\n      log.info(&quot;Successful upload of file {} to SFTP server {}.&quot;, source, host);\n\n      return true;\n    } catch (SftpException | JSchException ex) {\n      log.error(&quot;Failed upload of file {} to SFTP server {}.&quot;, source, host);\n      log.error(&quot;{}&quot;, ex);\n      return false;\n    } finally {\n      if (sftpChannel != null) {\n        sftpChannel.disconnect();\n      }\n      if (session != null) {\n        session.disconnect();\n      }\n    }\n  }\n}\n</code></pre>\n<p>I'm grateful for any hint on why this works locally but not in our docker container.</p>\n"},{"tags":["java","xpath"],"comments":[{"owner":{"display_name":"user357812"},"score":0,"creation_date":1302019367,"post_id":5553814,"comment_id":6316146,"body_markdown":"It&#39;s posible with any inplementation following [DOM Level 3 XPath](http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ANY-TYPE)","body":"It&#39;s posible with any inplementation following <a href=\"http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ANY-TYPE\" rel=\"nofollow noreferrer\">DOM Level 3 XPath</a>"},{"owner":{"account_id":16519,"reputation":10181,"user_id":36071,"accept_rate":68,"display_name":"Yoni"},"score":0,"creation_date":1302028004,"post_id":5553814,"comment_id":6318441,"body_markdown":"Hey Alejandro, this is very useful input. I found that Xalan 2.7.1 has this class XPathEvaluatorImpl which provides the functionality you mention, so I can use it directly (not through javax factory api). If you add your comment as an answer I&#39;ll accept it.","body":"Hey Alejandro, this is very useful input. I found that Xalan 2.7.1 has this class XPathEvaluatorImpl which provides the functionality you mention, so I can use it directly (not through javax factory api). If you add your comment as an answer I&#39;ll accept it."},{"owner":{"display_name":"user357812"},"score":0,"creation_date":1302028228,"post_id":5553814,"comment_id":6318505,"body_markdown":"You can answer your own questions. At the end, you are who found the XPath engine implementing DOM XPath for your language.","body":"You can answer your own questions. At the end, you are who found the XPath engine implementing DOM XPath for your language."}],"answers":[{"tags":[],"owner":{"account_id":354814,"reputation":12916,"user_id":693387,"display_name":"Tomasz Stanczak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302025371,"creation_date":1302025371,"answer_id":5556099,"question_id":5553814,"body_markdown":"Re: getting a String - if the expression references a NodeSet you get its textual representation. It might be someling like this:\r\n\r\n&lt;a&gt;this&lt;b&gt;that&lt;/b&gt;&lt;/a&gt;\r\n\r\nreads as a String &quot;thisthat&quot; with or without whitespaces depending on the configuration. You will not know without trying out.\r\n\r\nPersonally I prefer Dom4J because you&#39;re in charge of what you receive using methods like booleanValueOf, numberValueOf, selectNodes, selectSingleNode. And the code gets clear: it says what you want to get so it&#39;s easy to understand.","title":"XPathExpression dynamic return value","body":"<p>Re: getting a String - if the expression references a NodeSet you get its textual representation. It might be someling like this:</p>\n\n<p>this<b>that</b></p>\n\n<p>reads as a String \"thisthat\" with or without whitespaces depending on the configuration. You will not know without trying out.</p>\n\n<p>Personally I prefer Dom4J because you're in charge of what you receive using methods like booleanValueOf, numberValueOf, selectNodes, selectSingleNode. And the code gets clear: it says what you want to get so it's easy to understand.</p>\n"},{"tags":[],"owner":{"account_id":16519,"reputation":10181,"user_id":36071,"accept_rate":68,"display_name":"Yoni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1302154402,"creation_date":1302154402,"answer_id":5576458,"question_id":5553814,"body_markdown":"Following Alejandro&#39;s hint about [DOM Level 3 XPath][1], I found out that Xalan 2.7.1 already supports it.\r\n\r\nI used the class `XPathEvaluatorImpl` of Xalan. It works great, and I can specify `ANY-TYPE` as the return value. The only downside is that this functionality is not exposed in the standard javax api, at least not in Java 6.\r\n\r\n\r\n  [1]: http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ANY-TYPE","title":"XPathExpression dynamic return value","body":"<p>Following Alejandro's hint about <a href=\"http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ANY-TYPE\" rel=\"nofollow\">DOM Level 3 XPath</a>, I found out that Xalan 2.7.1 already supports it.</p>\n\n<p>I used the class <code>XPathEvaluatorImpl</code> of Xalan. It works great, and I can specify <code>ANY-TYPE</code> as the return value. The only downside is that this functionality is not exposed in the standard javax api, at least not in Java 6.</p>\n"},{"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647438103,"creation_date":1647436603,"answer_id":71497785,"question_id":5553814,"body_markdown":"\r\nYou can first use `xpathExpression.evaluateExpression(doc).type().name()` ( `java &gt;=9` ) which will return a value among: `BOOLEAN`, `NUMBER`, `STRING`,`NODESET`,`NODE`. Then you can create a branch for each case to select the appropriate QName to pass in `evaluate()`.\r\n\r\nNote: it happens that the names of the `enum` returned by `xpathExpression.evaluateExpression(doc).type()` match exactly the values of `XPathConstants.*.getLocalPart()` so you can use the code like below:\r\n\r\n```java\r\n\r\nXPathEvaluationResult xpathEvalResult =  xpathExpression.evaluateExpression(xmlDocument);\r\n\r\nString xpathTypeName = xpathEvalResult.type().name();\r\n\r\nif(xpathTypeName.equals(XPathConstants.NODESET.getLocalPart())){ //e.g. xpath: /elem1/*\r\n     NodeList nodeList = (NodeList)expr.evaluate(xmlDocument, XPathConstants.NODESET);\r\n     for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n        retVal += convertNodeToString(nodeList.item(i))+&quot;\\n===\\n&quot;;\r\n     }\r\n}else if(xpathTypeName.equals(XPathConstants.STRING.getLocalPart())){ //e.g. xpath: name(/elem1/*)\r\n    retVal = (String)expr.evaluate(xmlDocument, XPathConstants.STRING);\r\n}else if(xpathTypeName.equals(XPathConstants.NUMBER.getLocalPart())){ //e.g. xpath: count(/elem1/*)\r\n     retVal = ((Number)expr.evaluate(xmlDocument, XPathConstants.NUMBER)).toString();\r\n}else if(xpathTypeName.equals(XPathConstants.BOOLEAN.getLocalPart())){ //e.g. xpath: contains(elem1, &#39;sth&#39;)\r\n     retVal = ((Boolean)expr.evaluate(xmlDocument, XPathConstants.BOOLEAN)).toString();\r\n}else if(xpathTypeName.equals(XPathConstants.NODE.getLocalPart())){ //e.g. xpath: fixme: find one\r\n     retVal = convertNodeToString((Node)expr.evaluate(xmlDocument, XPathConstants.NODE));\r\n}else{\r\n    throw new RuntimeException(&quot;Unexpected xpath type name: &quot;+xpathTypeName+&quot;. This should normally not happen&quot;);\r\n}\r\n\r\n\r\n```\r\n\r\n**Note that the above works with standard java library (no need for extra artifacts).** Tested with jdk17 but should work with any jdk &gt;=9.\r\n\r\n\r\nSee also my related answer [here](https://stackoverflow.com/a/71069845/1555615)","title":"XPathExpression dynamic return value","body":"<p>You can first use <code>xpathExpression.evaluateExpression(doc).type().name()</code> ( <code>java &gt;=9</code> ) which will return a value among: <code>BOOLEAN</code>, <code>NUMBER</code>, <code>STRING</code>,<code>NODESET</code>,<code>NODE</code>. Then you can create a branch for each case to select the appropriate QName to pass in <code>evaluate()</code>.</p>\n<p>Note: it happens that the names of the <code>enum</code> returned by <code>xpathExpression.evaluateExpression(doc).type()</code> match exactly the values of <code>XPathConstants.*.getLocalPart()</code> so you can use the code like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nXPathEvaluationResult xpathEvalResult =  xpathExpression.evaluateExpression(xmlDocument);\n\nString xpathTypeName = xpathEvalResult.type().name();\n\nif(xpathTypeName.equals(XPathConstants.NODESET.getLocalPart())){ //e.g. xpath: /elem1/*\n     NodeList nodeList = (NodeList)expr.evaluate(xmlDocument, XPathConstants.NODESET);\n     for (int i = 0; i &lt; nodeList.getLength(); i++) {\n        retVal += convertNodeToString(nodeList.item(i))+&quot;\\n===\\n&quot;;\n     }\n}else if(xpathTypeName.equals(XPathConstants.STRING.getLocalPart())){ //e.g. xpath: name(/elem1/*)\n    retVal = (String)expr.evaluate(xmlDocument, XPathConstants.STRING);\n}else if(xpathTypeName.equals(XPathConstants.NUMBER.getLocalPart())){ //e.g. xpath: count(/elem1/*)\n     retVal = ((Number)expr.evaluate(xmlDocument, XPathConstants.NUMBER)).toString();\n}else if(xpathTypeName.equals(XPathConstants.BOOLEAN.getLocalPart())){ //e.g. xpath: contains(elem1, 'sth')\n     retVal = ((Boolean)expr.evaluate(xmlDocument, XPathConstants.BOOLEAN)).toString();\n}else if(xpathTypeName.equals(XPathConstants.NODE.getLocalPart())){ //e.g. xpath: fixme: find one\n     retVal = convertNodeToString((Node)expr.evaluate(xmlDocument, XPathConstants.NODE));\n}else{\n    throw new RuntimeException(&quot;Unexpected xpath type name: &quot;+xpathTypeName+&quot;. This should normally not happen&quot;);\n}\n\n\n</code></pre>\n<p><strong>Note that the above works with standard java library (no need for extra artifacts).</strong> Tested with jdk17 but should work with any jdk &gt;=9.</p>\n<p>See also my related answer <a href=\"https://stackoverflow.com/a/71069845/1555615\">here</a></p>\n"}],"owner":{"account_id":16519,"reputation":10181,"user_id":36071,"accept_rate":68,"display_name":"Yoni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5576458,"answer_count":3,"score":2,"last_activity_date":1647438103,"creation_date":1302014890,"question_id":5553814,"body_markdown":"I need to evaluate an xpath expression without knowing its return value in advance. I don&#39;t care about the distinction between a Node and a NodeSet, but I do care about NodeSet versus a String or a number.\r\n\r\nFor example, an xpath with a `sum` or `concat` function can return a number or a string (or boolean). An xpath with a regular xml path returns a nodeset, potentially with only one node.\r\n\r\nHow can I call the `XPathExpression.evaluate()` function (javadoc [here][1])? I don&#39;t know what QName to pass to it as the second parameter. The class `XPathConstants` contains the closed list of constants allowed (these are Node, NodeSet, String, Number and Boolean).\r\n\r\nIs it possible to specify an &quot;all&quot; or &quot;don&#39;t care&quot; value and then inspect the returned object for its type?\r\n\r\nI thought maybe to use the overloaded version of this function, which always return a String. However, I don&#39;t see how this will work if the xpath expression is meant to return a node set.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/xml/xpath/XPathExpression.html#evaluate%28java.lang.Object,%20javax.xml.namespace.QName%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/javax/xml/xpath/XPathConstants.html","title":"XPathExpression dynamic return value","body":"<p>I need to evaluate an xpath expression without knowing its return value in advance. I don't care about the distinction between a Node and a NodeSet, but I do care about NodeSet versus a String or a number.</p>\n\n<p>For example, an xpath with a <code>sum</code> or <code>concat</code> function can return a number or a string (or boolean). An xpath with a regular xml path returns a nodeset, potentially with only one node.</p>\n\n<p>How can I call the <code>XPathExpression.evaluate()</code> function (javadoc <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/xpath/XPathExpression.html#evaluate%28java.lang.Object,%20javax.xml.namespace.QName%29\" rel=\"nofollow\">here</a>)? I don't know what QName to pass to it as the second parameter. The class <code>XPathConstants</code> contains the closed list of constants allowed (these are Node, NodeSet, String, Number and Boolean).</p>\n\n<p>Is it possible to specify an \"all\" or \"don't care\" value and then inspect the returned object for its type?</p>\n\n<p>I thought maybe to use the overloaded version of this function, which always return a String. However, I don't see how this will work if the xpath expression is meant to return a node set.</p>\n"},{"tags":["java","concurrentmodificationexception"],"answers":[{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647436677,"creation_date":1647436677,"answer_id":71497803,"question_id":71497090,"body_markdown":"You get `ConcurrentModificationException` because you try to remove element while you are using `for` operator. So I think the line in your code `nodes.remove(n2);` can lead to this exception. You can use Iterator or just to gather the elements for removal in another Collection and then remove it. For more information: https://www.baeldung.com/java-concurrentmodificationexception","title":"ConcurrentModificationException thrown by crop(x) and a.setFrom()","body":"<p>You get <code>ConcurrentModificationException</code> because you try to remove element while you are using <code>for</code> operator. So I think the line in your code <code>nodes.remove(n2);</code> can lead to this exception. You can use Iterator or just to gather the elements for removal in another Collection and then remove it. For more information: <a href=\"https://www.baeldung.com/java-concurrentmodificationexception\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-concurrentmodificationexception</a></p>\n"}],"owner":{"account_id":5250647,"reputation":1,"user_id":4195004,"display_name":"Nareya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647437860,"creation_date":1647433685,"question_id":71497090,"body_markdown":"I am current lost in that problem. I have read a lot here about other problems with ConcurrentModificationException, but can&#39;t resolve my problem. Maybe i don&#39;t see the wood for the trees. I hope you can help me. The method is\r\n```\r\npublic void crop(PesNode n) {\r\n\tfor (int ii = n.getPostNodes().size()-1; ii &gt;= 0; ii--) {\r\n\t\tfor (int i = ii-1; i &gt;= 0; i--) {\r\n\t\t\tPesNode n1=n.getPostNodes().get(i);\r\n\t\t\tPesNode n2=n.getPostNodes().get(ii);\r\n\t\t\tif (n1.getName().equals(n2.getName())) {\r\n\t\t\t\t\r\n\t\t\t\tboolean merge=true;\r\n\t\t\t\tfor (PesNode node : n1.getPreNodes()) {\r\n\t\t\t\t\tif (!n2.getPreNodes().contains(node)) {\r\n\t\t\t\t\t\tmerge=false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor (PesNode node : n2.getPreNodes()) {\r\n\t\t\t\t\tif (!n1.getPreNodes().contains(node)) {\r\n\t\t\t\t\t\tmerge=false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (merge) {\r\n\t\t\t\t\t//Merge n1 and n2\r\n\t\t\t\t\t\r\n\t\t\t\t\t//for(Iterator&lt;PesArc&gt; itPesArc = n2.getPost().iterator(); itPesArc.hasNext();) { PesArc a = itPesArc.next();\r\n\t\t\t\t\tfor(PesArc a : n2.getPost()) {\r\n\t\t\t\t\t\ta.setFrom(n1);\r\n\t\t\t\t\t\tn1.getPost().add(a);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//for(Iterator&lt;PesArc&gt; itPesArc = n2.getPost().iterator(); itPesArc.hasNext();) { PesArc a = itPesArc.next();\r\n\t\t\t\t\tfor(PesArc a : n2.getPre()) {\r\n\t\t\t\t\t\tarcs.remove(a);\r\n\t\t\t\t\t\ta.getFrom().getPost().remove(a);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//for(Iterator&lt;Integer&gt; it = n2.getCoset().iterator(); it.hasNext();) { int j = it.next();\r\n\t\t\t\t\tfor (int j : n2.getCoset()) {\r\n\t\t\t\t\t\tif (!n1.getCoset().contains(j)) {\r\n\t\t\t\t\t\t\tn1.getCoset().add(j);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnodes.remove(n2);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//n2.getPost().removeIf(Objects::isNull);\r\n\t\t\t\t\t//n2.getPre().removeIf(Objects::isNull);\r\n\t\t\t\t\t//n2.getCoset().removeIf(Objects::isNull);\r\n\t\t\t\t\ti=0;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfor (PesNode x : n.getPostNodes()) {\r\n\t\tcrop(x);\r\n\t}\r\n```\r\nThe errors comes from the &quot;crop(x)&quot; at the end and pops up at &quot;a.setFrom(n1);&quot;\r\nI dont understand why this happens, because every for loop comes to its ends before the next one starts. I also tried to use iterators instead of the for loops, without any solution. What do I wrong? ","title":"ConcurrentModificationException thrown by crop(x) and a.setFrom()","body":"<p>I am current lost in that problem. I have read a lot here about other problems with ConcurrentModificationException, but can't resolve my problem. Maybe i don't see the wood for the trees. I hope you can help me. The method is</p>\n<pre><code>public void crop(PesNode n) {\n    for (int ii = n.getPostNodes().size()-1; ii &gt;= 0; ii--) {\n        for (int i = ii-1; i &gt;= 0; i--) {\n            PesNode n1=n.getPostNodes().get(i);\n            PesNode n2=n.getPostNodes().get(ii);\n            if (n1.getName().equals(n2.getName())) {\n                \n                boolean merge=true;\n                for (PesNode node : n1.getPreNodes()) {\n                    if (!n2.getPreNodes().contains(node)) {\n                        merge=false;\n                    }\n                }\n                for (PesNode node : n2.getPreNodes()) {\n                    if (!n1.getPreNodes().contains(node)) {\n                        merge=false;\n                    }\n                }\n                \n                if (merge) {\n                    //Merge n1 and n2\n                    \n                    //for(Iterator&lt;PesArc&gt; itPesArc = n2.getPost().iterator(); itPesArc.hasNext();) { PesArc a = itPesArc.next();\n                    for(PesArc a : n2.getPost()) {\n                        a.setFrom(n1);\n                        n1.getPost().add(a);\n                        \n                    }\n                    //for(Iterator&lt;PesArc&gt; itPesArc = n2.getPost().iterator(); itPesArc.hasNext();) { PesArc a = itPesArc.next();\n                    for(PesArc a : n2.getPre()) {\n                        arcs.remove(a);\n                        a.getFrom().getPost().remove(a);\n                    }\n                    //for(Iterator&lt;Integer&gt; it = n2.getCoset().iterator(); it.hasNext();) { int j = it.next();\n                    for (int j : n2.getCoset()) {\n                        if (!n1.getCoset().contains(j)) {\n                            n1.getCoset().add(j);\n                        }\n                    }\n\n                    nodes.remove(n2);\n                    \n                    //n2.getPost().removeIf(Objects::isNull);\n                    //n2.getPre().removeIf(Objects::isNull);\n                    //n2.getCoset().removeIf(Objects::isNull);\n                    i=0;\n                }\n\n            }\n\n        }\n\n    }\n\n    for (PesNode x : n.getPostNodes()) {\n        crop(x);\n    }\n</code></pre>\n<p>The errors comes from the &quot;crop(x)&quot; at the end and pops up at &quot;a.setFrom(n1);&quot;\nI dont understand why this happens, because every for loop comes to its ends before the next one starts. I also tried to use iterators instead of the for loops, without any solution. What do I wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1647437802,"post_id":71497982,"comment_id":126370740,"body_markdown":"[How do I copy a 2 Dimensional array in Java?](https://stackoverflow.com/questions/5617016/how-do-i-copy-a-2-dimensional-array-in-java)","body":"<a href=\"https://stackoverflow.com/questions/5617016/how-do-i-copy-a-2-dimensional-array-in-java\">How do I copy a 2 Dimensional array in Java?</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647437811,"post_id":71497982,"comment_id":126370744,"body_markdown":"You either need to clone / copy the return value of `getBoard()` (or change `getBoard()` to return a copy), change `SudokuBoard` to use a new array for each `fillBoard()` call, or create a new `SudokuBoard`.","body":"You either need to clone / copy the return value of <code>getBoard()</code> (or change <code>getBoard()</code> to return a copy), change <code>SudokuBoard</code> to use a new array for each <code>fillBoard()</code> call, or create a new <code>SudokuBoard</code>."}],"owner":{"account_id":24520392,"reputation":87,"user_id":18433524,"display_name":"Feldmarshall"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647437703,"answer_count":0,"score":0,"last_activity_date":1647437686,"creation_date":1647437534,"question_id":71497982,"body_markdown":"I have an algorithm to generate a solved Sudoku board. In my tests I want to check whether two subsequent calls to the `fillBoard()` method, generate a different board, with this code:\r\n\r\n    SudokuBoard sb = new SudokuBoard();\r\n    sb.fillBoard();\r\n    int [][] board1 = sb.getBoard();\r\n    sb.fillBoard();\r\n    int [][] board2 = sb.getBoard();\r\n    int same = 0;\r\n\r\n    for(int i = 0; i &lt; 9; i++)\r\n    {\r\n        for(int y = 0; y &lt; 9; y++)\r\n        {\r\n            if(board1[i][y] == board2[i][y])\r\n                same++;\r\n        }\r\n    }\r\n    assertTrue(same &lt; 10);\r\n\r\nWhen I assign `sb.getBoard()` to `board2`, `board1` changes as well. How can that be solved?","title":"Assigning the same object after changes, modifies the first assignment","body":"<p>I have an algorithm to generate a solved Sudoku board. In my tests I want to check whether two subsequent calls to the <code>fillBoard()</code> method, generate a different board, with this code:</p>\n<pre><code>SudokuBoard sb = new SudokuBoard();\nsb.fillBoard();\nint [][] board1 = sb.getBoard();\nsb.fillBoard();\nint [][] board2 = sb.getBoard();\nint same = 0;\n\nfor(int i = 0; i &lt; 9; i++)\n{\n    for(int y = 0; y &lt; 9; y++)\n    {\n        if(board1[i][y] == board2[i][y])\n            same++;\n    }\n}\nassertTrue(same &lt; 10);\n</code></pre>\n<p>When I assign <code>sb.getBoard()</code> to <code>board2</code>, <code>board1</code> changes as well. How can that be solved?</p>\n"},{"tags":["java","algorithm","time-complexity","quicksort","java-14"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1647432497,"post_id":71496763,"comment_id":126368544,"body_markdown":"maybe they not using quickSort now? there are few sort algorithms that are quicker than quickSort https://www.geeksforgeeks.org/time-complexities-of-all-sorting-algorithms/","body":"maybe they not using quickSort now? there are few sort algorithms that are quicker than quickSort <a href=\"https://www.geeksforgeeks.org/time-complexities-of-all-sorting-algorithms/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/time-complexities-of-all-sorting-algorithm&zwnj;&#8203;s</a>"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":2,"creation_date":1647432665,"post_id":71496763,"comment_id":126368604,"body_markdown":"I&#39;m not sure about Java 14 but in 17 in doc about Arrays.sort there is written that it&#39;s using Dual-Pivot quicksort which is faster than one pivot quick sort. quote from doc &quot;The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch. This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.&quot;","body":"I&#39;m not sure about Java 14 but in 17 in doc about Arrays.sort there is written that it&#39;s using Dual-Pivot quicksort which is faster than one pivot quick sort. quote from doc &quot;The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch. This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.&quot;"},{"owner":{"account_id":3283174,"reputation":3350,"user_id":2763256,"accept_rate":86,"display_name":"Kacy"},"score":0,"creation_date":1647432728,"post_id":71496763,"comment_id":126368622,"body_markdown":"@Szprota21 Both versions of the docs I linked say, *The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch.* And yes I believe 14-17 are identical. My question is the same.","body":"@Szprota21 Both versions of the docs I linked say, <i>The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch.</i> And yes I believe 14-17 are identical. My question is the same."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":3,"creation_date":1647433138,"post_id":71496763,"comment_id":126368798,"body_markdown":"You need to go deeper. Into DualPivotQuicksort.sort(a, 0, 0, a.length);\nYou will see that it has different implementation from java 7 to 13 when if complexity becomes close to n^2 it will switch to quicksort but quicksort have worst complexity of n^2 and from java 14 it switches to heapsort which have complexity of nlogn","body":"You need to go deeper. Into DualPivotQuicksort.sort(a, 0, 0, a.length); You will see that it has different implementation from java 7 to 13 when if complexity becomes close to n^2 it will switch to quicksort but quicksort have worst complexity of n^2 and from java 14 it switches to heapsort which have complexity of nlogn"},{"owner":{"account_id":3283174,"reputation":3350,"user_id":2763256,"accept_rate":86,"display_name":"Kacy"},"score":0,"creation_date":1647433814,"post_id":71496763,"comment_id":126369090,"body_markdown":"@Szprota21 Holy cow you&#39;re right I just found this: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/DualPivotQuicksort.java\n\nThere&#39;s a comment that says, &quot;Switch to heap sort if execution time is becoming quadratic.&quot;\n\nThank you for clearing this up, I&#39;ve been scratching my head about this for a while. If you want to post an answer I&#39;ll accept it.","body":"@Szprota21 Holy cow you&#39;re right I just found this: <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/DualPivotQuicksort.java\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.base/share/class&zwnj;&#8203;es/&hellip;</a>  There&#39;s a comment that says, &quot;Switch to heap sort if execution time is becoming quadratic.&quot;  Thank you for clearing this up, I&#39;ve been scratching my head about this for a while. If you want to post an answer I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1647436804,"creation_date":1647434161,"answer_id":71497202,"question_id":71496763,"body_markdown":"You need to check deeper implementation of  Arrays.sort(int[]).\r\n\r\nInside there is a function DualPivotQuicksort.sort(...) which is used for sorting. \r\n\r\nYou can see in java 7 to 13 that function have a fail safe mechanism which changes sorting type if complexity is near O(n^2), it&#39;s changing to QuickSort which average complexity is O(n log n) but it&#39;s worst is O(n^2) that&#39;s why in javaDoc description says &quot;many data sets&quot;.\r\n\r\nOn the other hand since java 14 fail safe for higher complexity is changing sort algorithm to heapsort which have worst complexity of O(n log n) so it never will be slower than that.","title":"What is the worst case time complexity of Java 14+ Arrays.sort( int[] )?","body":"<p>You need to check deeper implementation of  Arrays.sort(int[]).</p>\n<p>Inside there is a function DualPivotQuicksort.sort(...) which is used for sorting.</p>\n<p>You can see in java 7 to 13 that function have a fail safe mechanism which changes sorting type if complexity is near O(n^2), it's changing to QuickSort which average complexity is O(n log n) but it's worst is O(n^2) that's why in javaDoc description says &quot;many data sets&quot;.</p>\n<p>On the other hand since java 14 fail safe for higher complexity is changing sort algorithm to heapsort which have worst complexity of O(n log n) so it never will be slower than that.</p>\n"}],"owner":{"account_id":3283174,"reputation":3350,"user_id":2763256,"accept_rate":86,"display_name":"Kacy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71497202,"answer_count":1,"score":2,"last_activity_date":1647436804,"creation_date":1647432187,"question_id":71496763,"body_markdown":"While I know this seems obvious I&#39;ll explain my confusion. I&#39;ve always thought of Quicksort&#39;s worst case time complexity as O(n^2). The documentation for [Arrays.sort(int\\[\\])][1] from Java 7 to Java 13 says: \r\n*This algorithm offers O(n log(n)) performance on **many** data sets that cause other quicksorts to degrade to quadratic performance, and is typically faster than traditional (one-pivot) Quicksort implementations.*\r\n\r\nThe keyword here is &quot;many&quot;, so I assume O(n log(n)) here refers to the average case, and there still exists data sets that result in a worst case of O(n^2).\r\n\r\nBut in Java 14 and up, the documentation for [Arrays.sort(int\\[\\])][2] says:\r\n*This algorithm offers O(n log(n)) performance on **all** data sets*.\r\n\r\nSo is the worst case for this improved implementation of Quicksort now O(n log(n)) ? Someone please clarify.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Arrays.html#sort(int%5B%5D)\r\n  [2]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Arrays.html#sort(int%5B%5D)","title":"What is the worst case time complexity of Java 14+ Arrays.sort( int[] )?","body":"<p>While I know this seems obvious I'll explain my confusion. I've always thought of Quicksort's worst case time complexity as O(n^2). The documentation for <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Arrays.html#sort(int%5B%5D)\" rel=\"nofollow noreferrer\">Arrays.sort(int[])</a> from Java 7 to Java 13 says:\n<em>This algorithm offers O(n log(n)) performance on <strong>many</strong> data sets that cause other quicksorts to degrade to quadratic performance, and is typically faster than traditional (one-pivot) Quicksort implementations.</em></p>\n<p>The keyword here is &quot;many&quot;, so I assume O(n log(n)) here refers to the average case, and there still exists data sets that result in a worst case of O(n^2).</p>\n<p>But in Java 14 and up, the documentation for <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Arrays.html#sort(int%5B%5D)\" rel=\"nofollow noreferrer\">Arrays.sort(int[])</a> says:\n<em>This algorithm offers O(n log(n)) performance on <strong>all</strong> data sets</em>.</p>\n<p>So is the worst case for this improved implementation of Quicksort now O(n log(n)) ? Someone please clarify.</p>\n"},{"tags":["java","date","logging","java.util.logging"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647436732,"creation_date":1480938519,"answer_id":40973594,"question_id":40973434,"body_markdown":"Use `%1$tL`:\r\n\r\n    java.util.logging.SimpleFormatter.format=%1$tb %1$td, %1$tY %1$tl:%1$tM:%1$tS.%1$tL %1$Tp %2$s%n%4$s: %5$s%n\r\n                                                                                    ^^^\r\n\r\nI based this answer off [this SO question][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9186682/how-to-configure-glassfish-logging-to-show-milliseconds-in-timestamps","title":"java.util.logging.SimpleFormatter.format for milliseconds","body":"<p>Use <code>%1$tL</code>:</p>\n<pre><code>java.util.logging.SimpleFormatter.format=%1$tb %1$td, %1$tY %1$tl:%1$tM:%1$tS.%1$tL %1$Tp %2$s%n%4$s: %5$s%n\n                                                                                ^^^\n</code></pre>\n<p>I based this answer off <a href=\"https://stackoverflow.com/questions/9186682/how-to-configure-glassfish-logging-to-show-milliseconds-in-timestamps\">this SO question</a>.</p>\n"},{"tags":[],"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1480938802,"creation_date":1480938802,"answer_id":40973683,"question_id":40973434,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html shows all possible formatting options, which are used also by the `SimpleFormatter`.\r\n\r\nSo in your case it is `%1$tL` for the milliseconds.","title":"java.util.logging.SimpleFormatter.format for milliseconds","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html</a> shows all possible formatting options, which are used also by the <code>SimpleFormatter</code>.</p>\n\n<p>So in your case it is <code>%1$tL</code> for the milliseconds.</p>\n"}],"owner":{"account_id":8597032,"reputation":576,"user_id":6439767,"accept_rate":58,"display_name":"Minato Namikaze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10072,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40973683,"answer_count":2,"score":2,"last_activity_date":1647436732,"creation_date":1480937966,"question_id":40973434,"body_markdown":"I am using JUL for logging, I have a properties file. I want to log datetime in milliseconds in my log file. \r\n\r\nThis is my property:\r\n\r\n    java.util.logging.SimpleFormatter.format=%1$tb %1$td, %1$tY %1$tl:%1$tM:%1$tS %1$Tp %2$s%n%4$s: %5$s%n\r\n\r\nAbove logs something like this:\r\n\r\n    Dec 05, 2016 5:08:06 PM ...\r\n\r\nHow can I also show millisecond?","title":"java.util.logging.SimpleFormatter.format for milliseconds","body":"<p>I am using JUL for logging, I have a properties file. I want to log datetime in milliseconds in my log file. </p>\n\n<p>This is my property:</p>\n\n<pre><code>java.util.logging.SimpleFormatter.format=%1$tb %1$td, %1$tY %1$tl:%1$tM:%1$tS %1$Tp %2$s%n%4$s: %5$s%n\n</code></pre>\n\n<p>Above logs something like this:</p>\n\n<pre><code>Dec 05, 2016 5:08:06 PM ...\n</code></pre>\n\n<p>How can I also show millisecond?</p>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1647434835,"post_id":71497322,"comment_id":126369502,"body_markdown":"create an interface with one method and pass it as argument to your desired function then call it&#39;s method inside this function","body":"create an interface with one method and pass it as argument to your desired function then call it&#39;s method inside this function"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1647434988,"post_id":71497322,"comment_id":126369566,"body_markdown":"Does this answer your question? [Java Pass Method as Parameter](https://stackoverflow.com/questions/2186931/java-pass-method-as-parameter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2186931/java-pass-method-as-parameter\">Java Pass Method as Parameter</a>"},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1647435053,"post_id":71497322,"comment_id":126369597,"body_markdown":"Unrelated, but I&#39;m not convinced that &quot;first name ends with -a&quot; reliably tells you whether it&#39;s a male or female name.","body":"Unrelated, but I&#39;m not convinced that &quot;first name ends with -a&quot; reliably tells you whether it&#39;s a male or female name."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1647435266,"post_id":71497322,"comment_id":126369692,"body_markdown":"@jsheeran in Poland that&#39;s 99.9% true","body":"@jsheeran in Poland that&#39;s 99.9% true"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":3,"creation_date":1647435569,"post_id":71497322,"comment_id":126369812,"body_markdown":"Why are you using `p -&gt; Boolean.parseBoolean(String.valueOf(p.getFirstName().endsWith(&quot;a&quot;)))` and not just `p -&gt; p.getFirstName().endsWith(&quot;a&quot;)`? The conversion of boolean to String to boolean is unnecessary.","body":"Why are you using <code>p -&gt; Boolean.parseBoolean(String.valueOf(p.getFirstName().endsWit&zwnj;&#8203;h(&quot;a&quot;)))</code> and not just <code>p -&gt; p.getFirstName().endsWith(&quot;a&quot;)</code>? The conversion of boolean to String to boolean is unnecessary."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647436618,"creation_date":1647435470,"answer_id":71497519,"question_id":71497322,"body_markdown":"```\r\nPredicate&lt;Person&gt; p = p-&gt; Boolean.parseBoolean(String.valueOf(p.getFirstName().endsWith(&quot;a&quot;)));\r\n```\r\n\r\n`Predicate&lt;Person&gt;` is just a type. There&#39;s not much difference between the above and `String x = &quot;hello&quot;;`. You can make a method that accepts that type as param:\r\n\r\n```\r\npublic double getAverageAge(List&lt;Person&gt; list, Predicate&lt;Person&gt; filter) {\r\n  return list\r\n            .stream()\r\n            .filter(filter) \r\n            .mapToDouble(Person::getAge)\r\n            .average()\r\n            .orElse(0);\r\n```\r\n\r\nNB: You have null tourette, it&#39;s a formula for writing lots of code that is impossible to test. Don&#39;t do it. Love the NPE. The correct response to someone invoking this method passing in `null` for a list is to __crash__ with an NPE: null is best treated as &#39;unset&#39; / &#39;unknown&#39;, and it is not possible to get the average age of an unknown list. The answer is not 0. The answer is &#175;\\\\_(ツ)_/&#175;.\r\n\r\nSimilarly, if somehow a `null` got into your list of persons, then the age of that person is also unknown. It is not possible to determine the average age of a batch of persons when one of the persons in there is a complete unknown, again, just NPEing is in fact the right response.\r\n\r\nThe best way to deal with null in java is to use the tools to your advantage: If the NullPointerException is in fact the best thing that could happen, you&#39;re doing it right.\r\n","title":"How to pass function as method parameter?","body":"<pre><code>Predicate&lt;Person&gt; p = p-&gt; Boolean.parseBoolean(String.valueOf(p.getFirstName().endsWith(&quot;a&quot;)));\n</code></pre>\n<p><code>Predicate&lt;Person&gt;</code> is just a type. There's not much difference between the above and <code>String x = &quot;hello&quot;;</code>. You can make a method that accepts that type as param:</p>\n<pre><code>public double getAverageAge(List&lt;Person&gt; list, Predicate&lt;Person&gt; filter) {\n  return list\n            .stream()\n            .filter(filter) \n            .mapToDouble(Person::getAge)\n            .average()\n            .orElse(0);\n</code></pre>\n<p>NB: You have null tourette, it's a formula for writing lots of code that is impossible to test. Don't do it. Love the NPE. The correct response to someone invoking this method passing in <code>null</code> for a list is to <strong>crash</strong> with an NPE: null is best treated as 'unset' / 'unknown', and it is not possible to get the average age of an unknown list. The answer is not 0. The answer is ¯\\<em>(ツ)</em>/¯.</p>\n<p>Similarly, if somehow a <code>null</code> got into your list of persons, then the age of that person is also unknown. It is not possible to determine the average age of a batch of persons when one of the persons in there is a complete unknown, again, just NPEing is in fact the right response.</p>\n<p>The best way to deal with null in java is to use the tools to your advantage: If the NullPointerException is in fact the best thing that could happen, you're doing it right.</p>\n"}],"owner":{"account_id":24577358,"reputation":1,"user_id":18483015,"display_name":"Hubert Jarczyński"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647436618,"creation_date":1647434681,"question_id":71497322,"body_markdown":"I have 2 methods for getting average age of woman, and second for getting average age of man. I need to do one method to agregate this 2 methods. \r\n\r\nThis method as first parameter should have list of person, and as a second parameter function what will decide if we are looking for man or woman average age.\r\n\r\nThis is my methods:\r\n\r\n    public double getMenAverageAge(List&lt;Person&gt; personList){\r\n        return Optional.ofNullable(personList)\r\n                .orElseGet(ArrayList::new)\r\n                .stream()\r\n                .filter(Objects::nonNull)\r\n                .filter(p -&gt; !Boolean.parseBoolean(String.valueOf(p.getFirstName().endsWith(&quot;a&quot;))))\r\n                .mapToDouble(Person::getAge)\r\n                .average()\r\n                .orElse(0);\r\n    }\r\n\r\n    public double getAverageWomenAge(List&lt;Person&gt; personList){\r\n        return Optional.ofNullable(personList)\r\n                .orElseGet(ArrayList::new)\r\n                .stream()\r\n                .filter(Objects::nonNull)\r\n                .filter(p-&gt; Boolean.parseBoolean(String.valueOf(p.getFirstName().endsWith(&quot;a&quot;))))\r\n                .mapToDouble(Person::getAge)\r\n                .average()\r\n                .orElse(0);\r\n    }\r\n\r\nAny ideas?","title":"How to pass function as method parameter?","body":"<p>I have 2 methods for getting average age of woman, and second for getting average age of man. I need to do one method to agregate this 2 methods.</p>\n<p>This method as first parameter should have list of person, and as a second parameter function what will decide if we are looking for man or woman average age.</p>\n<p>This is my methods:</p>\n<pre><code>public double getMenAverageAge(List&lt;Person&gt; personList){\n    return Optional.ofNullable(personList)\n            .orElseGet(ArrayList::new)\n            .stream()\n            .filter(Objects::nonNull)\n            .filter(p -&gt; !Boolean.parseBoolean(String.valueOf(p.getFirstName().endsWith(&quot;a&quot;))))\n            .mapToDouble(Person::getAge)\n            .average()\n            .orElse(0);\n}\n\npublic double getAverageWomenAge(List&lt;Person&gt; personList){\n    return Optional.ofNullable(personList)\n            .orElseGet(ArrayList::new)\n            .stream()\n            .filter(Objects::nonNull)\n            .filter(p-&gt; Boolean.parseBoolean(String.valueOf(p.getFirstName().endsWith(&quot;a&quot;))))\n            .mapToDouble(Person::getAge)\n            .average()\n            .orElse(0);\n}\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","scala","playframework-2.0"],"comments":[{"owner":{"account_id":1588132,"reputation":23181,"user_id":1472049,"accept_rate":100,"display_name":"serejja"},"score":1,"creation_date":1397036584,"post_id":22958559,"comment_id":35053048,"body_markdown":"How much requests do you fire? Just an assumption - maybe you get kicked for exceeding the request limit?","body":"How much requests do you fire? Just an assumption - maybe you get kicked for exceeding the request limit?"},{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":0,"creation_date":1397038934,"post_id":22958559,"comment_id":35054564,"body_markdown":"@serejja it is just a single request, and I have this problem on different services hosting images. Maybe you can try yourself doing a single `new java.net.URL(url).openStream()` on this url and see by yourself this is not a spam protection","body":"@serejja it is just a single request, and I have this problem on different services hosting images. Maybe you can try yourself doing a single <code>new java.net.URL(url).openStream()</code> on this url and see by yourself this is not a spam protection"},{"owner":{"account_id":1065580,"reputation":55625,"user_id":1066240,"accept_rate":77,"display_name":"biesior"},"score":0,"creation_date":1397041206,"post_id":22958559,"comment_id":35056150,"body_markdown":"Some image hosters trying to avoid bots from downloading images, so if they realize that request isn&#39;t sent from browser they just response with 403 status, try to check if ie pure curl request from commandline  gives you correct image","body":"Some image hosters trying to avoid bots from downloading images, so if they realize that request isn&#39;t sent from browser they just response with 403 status, try to check if ie pure curl request from commandline  gives you correct image"},{"owner":{"account_id":1072342,"reputation":18061,"user_id":1071311,"display_name":"Carsten"},"score":0,"creation_date":1397043122,"post_id":22958559,"comment_id":35057495,"body_markdown":"@biesior The URL in the question works without a problem if I just download the image with `curl`.","body":"@biesior The URL in the question works without a problem if I just download the image with <code>curl</code>."},{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":0,"creation_date":1397046446,"post_id":22958559,"comment_id":35060057,"body_markdown":"@Carsten @biesior the default user agent used by AHC seems to be `NING/1.0`. I don&#39;t know which user agent is used by `openStream()`","body":"@Carsten @biesior the default user agent used by AHC seems to be <code>NING&#47;1.0</code>. I don&#39;t know which user agent is used by <code>openStream()</code>"},{"owner":{"account_id":57700,"reputation":347,"user_id":172851,"display_name":"ouertani"},"score":0,"creation_date":1397050045,"post_id":22958559,"comment_id":35062868,"body_markdown":"@SebastienLorber openStream() seems to be User-Agent: Java/1.7.0_21\\r\\n for example","body":"@SebastienLorber openStream() seems to be User-Agent: Java/1.7.0_21\\r\\n for example"},{"owner":{"account_id":57700,"reputation":347,"user_id":172851,"display_name":"ouertani"},"score":0,"creation_date":1397051205,"post_id":22958559,"comment_id":35063812,"body_markdown":"While curl uses curl/7.32.0 as UserAgent.","body":"While curl uses curl/7.32.0 as UserAgent."}],"answers":[{"tags":[],"owner":{"account_id":57700,"reputation":347,"user_id":172851,"display_name":"ouertani"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1397052477,"creation_date":1397050814,"answer_id":22964395,"question_id":22958559,"body_markdown":"As mentioned, some hoster prevent this intrusion using some header like UserAgent :\r\n\r\nThis doesn&#39;t work :\r\n\r\n   \r\n\r\n       val urls = &quot;&quot;&quot;http://blog.zenika.com/themes/Zenika/img/zenika.gif&quot;&quot;&quot;\r\n      val url = new URL(urls)\r\n      val urlConnection = url.openConnection() \r\n      val inputStream = urlConnection.getInputStream()\r\n      val bufferedReader = new BufferedReader(new InputStreamReader(inputStream))\r\n\r\nThis works :\r\n\r\n    val urls = &quot;&quot;&quot;http://blog.zenika.com/themes/Zenika/img/zenika.gif&quot;&quot;&quot;\r\n    val url = new URL(urls)\r\n    val urlConnection = url.openConnection()   \r\n\turlConnection.setRequestProperty(&quot;User-Agent&quot;, &quot;&quot;&quot;NING/1.0&quot;&quot;&quot;) \r\n    val inputStream = urlConnection.getInputStream()\r\n    val bufferedReader = new BufferedReader(new InputStreamReader(inputStream))","title":"403 when trying to download a remote image","body":"<p>As mentioned, some hoster prevent this intrusion using some header like UserAgent :</p>\n\n<p>This doesn't work :</p>\n\n<pre><code>   val urls = \"\"\"http://blog.zenika.com/themes/Zenika/img/zenika.gif\"\"\"\n  val url = new URL(urls)\n  val urlConnection = url.openConnection() \n  val inputStream = urlConnection.getInputStream()\n  val bufferedReader = new BufferedReader(new InputStreamReader(inputStream))\n</code></pre>\n\n<p>This works :</p>\n\n<pre><code>val urls = \"\"\"http://blog.zenika.com/themes/Zenika/img/zenika.gif\"\"\"\nval url = new URL(urls)\nval urlConnection = url.openConnection()   \nurlConnection.setRequestProperty(\"User-Agent\", \"\"\"NING/1.0\"\"\") \nval inputStream = urlConnection.getInputStream()\nval bufferedReader = new BufferedReader(new InputStreamReader(inputStream))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19199415,"reputation":83,"user_id":14027644,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647436524,"creation_date":1647436524,"answer_id":71497758,"question_id":22958559,"body_markdown":"I have added the &quot;User-Agent&quot;, it still didn&#39;t work.","title":"403 when trying to download a remote image","body":"<p>I have added the &quot;User-Agent&quot;, it still didn't work.</p>\n"}],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4990,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":22964395,"answer_count":2,"score":6,"last_activity_date":1647436524,"creation_date":1397036416,"question_id":22958559,"body_markdown":"I am trying to download pictures from some urls. For some pictures it works fine, but for others I get 403 errors.\r\n\r\n\r\nFor exemple, this one: [http://blog.zenika.com/themes/Zenika/img/zenika.gif][1]\r\n\r\nThis picture access does not require any authentication. You can click yourself on the link and verify that it is available to your browser with a 200 status code.\r\n\r\n\r\nThe following code produces an exception: `new java.net.URL(url).openStream()`. Same for `org.apache.commons.io.FileUtils.copyURLToFile(new java.net.URL(url), tmp)` whichs uses the same `openStream()` metho under the hood.\r\n\r\n    java.io.IOException: Server returned HTTP response code: 403 for URL: http://blog.zenika.com/themes/Zenika/img/zenika.gif\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1626) ~[na:1.7.0_45]\r\n\tat java.net.URL.openStream(URL.java:1037) ~[na:1.7.0_45]\r\n\tat services.impl.DefaultStampleServiceComponent$RemoteImgUrlFilter$class.downloadAsTemporaryFile(DefaultStampleServiceComponent.scala:548) [classes/:na]\r\n\tat services.impl.DefaultStampleServiceComponent$RemoteImgUrlFilter$class.services$impl$DefaultStampleServiceComponent$RemoteImgUrlFilter$$handleImageUrl(DefaultStampleServiceComponent.scala:523) [classes/:na]\r\n\r\n\r\n\r\n-----------------------------------------------------------\r\n\r\nI develop with Scala / Play Framework. I tried to use the built-in AsyncHttpClient.\r\n\r\n    // TODO it could be better to use itetarees on the GET call becase I think AHC load the whole body in memory\r\n    WS.url(url).get.flatMap { res =&gt;\r\n      if (res.status &gt;= 200 &amp;&amp; res.status &lt; 300) {\r\n        val bodyStream = res.getAHCResponse.getResponseBodyAsStream\r\n        val futureFile = TryUtils.tryToFuture(createTemporaryFile(bodyStream))\r\n        play.api.Logger.info(s&quot;Successfully downloaded file $filename with status code ${res.status}&quot;)\r\n        futureFile\r\n      } else {\r\n        Future.failed(new RuntimeException(s&quot;Download of file $filename returned status code ${res.status}&quot;))\r\n      }\r\n    } recover {\r\n      case NonFatal(e) =&gt; throw new RuntimeException(s&quot;Could not downloadAsTemporaryFile url=$url&quot;, e)\r\n    }\r\n\r\nWith this AHC code, it works fine. Can someone explain this behavior and why I got a 403 error with the `URL.openStream()` method?\r\n\r\n\r\n  [1]: http://blog.zenika.com/themes/Zenika/img/zenika.gif","title":"403 when trying to download a remote image","body":"<p>I am trying to download pictures from some urls. For some pictures it works fine, but for others I get 403 errors.</p>\n\n<p>For exemple, this one: <a href=\"http://blog.zenika.com/themes/Zenika/img/zenika.gif\">http://blog.zenika.com/themes/Zenika/img/zenika.gif</a></p>\n\n<p>This picture access does not require any authentication. You can click yourself on the link and verify that it is available to your browser with a 200 status code.</p>\n\n<p>The following code produces an exception: <code>new java.net.URL(url).openStream()</code>. Same for <code>org.apache.commons.io.FileUtils.copyURLToFile(new java.net.URL(url), tmp)</code> whichs uses the same <code>openStream()</code> metho under the hood.</p>\n\n<pre><code>java.io.IOException: Server returned HTTP response code: 403 for URL: http://blog.zenika.com/themes/Zenika/img/zenika.gif\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1626) ~[na:1.7.0_45]\nat java.net.URL.openStream(URL.java:1037) ~[na:1.7.0_45]\nat services.impl.DefaultStampleServiceComponent$RemoteImgUrlFilter$class.downloadAsTemporaryFile(DefaultStampleServiceComponent.scala:548) [classes/:na]\nat services.impl.DefaultStampleServiceComponent$RemoteImgUrlFilter$class.services$impl$DefaultStampleServiceComponent$RemoteImgUrlFilter$$handleImageUrl(DefaultStampleServiceComponent.scala:523) [classes/:na]\n</code></pre>\n\n<hr>\n\n<p>I develop with Scala / Play Framework. I tried to use the built-in AsyncHttpClient.</p>\n\n<pre><code>// TODO it could be better to use itetarees on the GET call becase I think AHC load the whole body in memory\nWS.url(url).get.flatMap { res =&gt;\n  if (res.status &gt;= 200 &amp;&amp; res.status &lt; 300) {\n    val bodyStream = res.getAHCResponse.getResponseBodyAsStream\n    val futureFile = TryUtils.tryToFuture(createTemporaryFile(bodyStream))\n    play.api.Logger.info(s\"Successfully downloaded file $filename with status code ${res.status}\")\n    futureFile\n  } else {\n    Future.failed(new RuntimeException(s\"Download of file $filename returned status code ${res.status}\"))\n  }\n} recover {\n  case NonFatal(e) =&gt; throw new RuntimeException(s\"Could not downloadAsTemporaryFile url=$url\", e)\n}\n</code></pre>\n\n<p>With this AHC code, it works fine. Can someone explain this behavior and why I got a 403 error with the <code>URL.openStream()</code> method?</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647436455,"creation_date":1647436455,"answer_id":71497743,"question_id":71496012,"body_markdown":"`equals()` : method would compare two strings, and would return _true_ if the strings are equal, _false_ if not.\r\n\r\nSo _`getPageSource.equal(&quot;Ski&quot;)`_ will return **true** / **false** incase of exact match.\r\n\r\n_`contains()`_ : method checks whether the string contains a sequence of characters. This method returns _true_ if the characters exist and _false_ if not.\r\n\r\nSo _`getPageSource.contains(&quot;Ski&quot;)`_ will return **true** / **false** incase of partial match. \r\n\r\nAs **`Ski`** is present in both `Ski` and `Ski Boots` hence you there are two matches.","title":"How to use getPageSource method while page contains 2 texts and same starting 3 charactres (ex : Ski, Ski Boot)?","body":"<p><code>equals()</code> : method would compare two strings, and would return <em>true</em> if the strings are equal, <em>false</em> if not.</p>\n<p>So <em><code>getPageSource.equal(&quot;Ski&quot;)</code></em> will return <strong>true</strong> / <strong>false</strong> incase of exact match.</p>\n<p><em><code>contains()</code></em> : method checks whether the string contains a sequence of characters. This method returns <em>true</em> if the characters exist and <em>false</em> if not.</p>\n<p>So <em><code>getPageSource.contains(&quot;Ski&quot;)</code></em> will return <strong>true</strong> / <strong>false</strong> incase of partial match.</p>\n<p>As <strong><code>Ski</code></strong> is present in both <code>Ski</code> and <code>Ski Boots</code> hence you there are two matches.</p>\n"}],"owner":{"account_id":24576406,"reputation":1,"user_id":18482168,"display_name":"Hakeem S.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647436455,"creation_date":1647428836,"question_id":71496012,"body_markdown":"I used getPageSource() method to find text in a page but the problem is, if the page contains like Ski and Ski Boots. I need to find Ski but it returns with Ski Boot. Can I use getPageSource.equal(&quot;Ski&quot;) method instead of using getPageSource.contains(&quot;Ski&quot;)?","title":"How to use getPageSource method while page contains 2 texts and same starting 3 charactres (ex : Ski, Ski Boot)?","body":"<p>I used getPageSource() method to find text in a page but the problem is, if the page contains like Ski and Ski Boots. I need to find Ski but it returns with Ski Boot. Can I use getPageSource.equal(&quot;Ski&quot;) method instead of using getPageSource.contains(&quot;Ski&quot;)?</p>\n"},{"tags":["java","performance","memory-leaks","jmc","jfr"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1617650777,"post_id":66957896,"comment_id":118357908,"body_markdown":"Does this help http://hirt.se/blog/?p=1055","body":"Does this help <a href=\"http://hirt.se/blog/?p=1055\" rel=\"nofollow noreferrer\">hirt.se/blog/?p=1055</a>"}],"answers":[{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647436449,"creation_date":1617674372,"answer_id":66961813,"question_id":66957896,"body_markdown":"JMC options, such as &quot;Object Types + Allocation Stack Traces + Path to GC Root&quot;, can be set on command line from JDK 17:\r\n\r\n    memory-leaks=&lt;off|types|stack-traces|gc-roots&gt; \r\n\r\nFor example:\r\n\r\n    $ java -XX:StartFlightRecording:memory-leaks=gc-roots \r\n    \r\n    $ jcmd &lt;pid&gt; JFR.start memory-leaks=gc-roots \r\n \r\n\r\nFor release prior to JDK 17, there are three ways:\r\n\r\n1) In JMC, right-click on the application and choose &quot;Start Flight Recording&quot; in the JVM Browser. On the second page in the recording wizard, select &quot;Object Types + Allocation Stack Traces + Path to GC Root&quot; from the &quot;Memory Leak Detection setting&quot; and click finish to start the recording.\r\n\r\n2) If you are starting the recording from the shell, select Window -&gt; &quot;Flight Recording Template Manager&quot; in the JMC top menu, duplicate the configuration and click Edit. make sure &quot;Object Types + Allocation Stack Traces + Path to GC Root&quot; is selected from the &quot;Memory Leak Detection setting&quot; and export the configuration file. Then you can use the file like this.\r\n\r\n    $ java -XX:StartFlightRecording:settings=custom.jfc ...\r\n\r\nOn an already running instance:          \r\n\r\n    $ jcmd &lt;pid&gt; JFR.start settings=custom.jfc\r\n\r\n3) The third way, and perhaps easiest, is to use the profile template to enable allocation stack trace and set the path-to-gc-roots option directly:\r\n\r\n\r\n    $ java -XX:StartFlightRecording:settings=profile,path-to-gc-roots=true ...\r\n\r\nOn an already running instance:\r\n\r\n    $ jcmd &lt;pid&gt; JFR.start settings=profile path-to-gc-roots=true\r\n\r\n\r\n","title":"How to enable Object Types + Allocation Stack Traces + Path to GC Root in Java Mission Control","body":"<p>JMC options, such as &quot;Object Types + Allocation Stack Traces + Path to GC Root&quot;, can be set on command line from JDK 17:</p>\n<pre><code>memory-leaks=&lt;off|types|stack-traces|gc-roots&gt; \n</code></pre>\n<p>For example:</p>\n<pre><code>$ java -XX:StartFlightRecording:memory-leaks=gc-roots \n\n$ jcmd &lt;pid&gt; JFR.start memory-leaks=gc-roots \n</code></pre>\n<p>For release prior to JDK 17, there are three ways:</p>\n<ol>\n<li><p>In JMC, right-click on the application and choose &quot;Start Flight Recording&quot; in the JVM Browser. On the second page in the recording wizard, select &quot;Object Types + Allocation Stack Traces + Path to GC Root&quot; from the &quot;Memory Leak Detection setting&quot; and click finish to start the recording.</p>\n</li>\n<li><p>If you are starting the recording from the shell, select Window -&gt; &quot;Flight Recording Template Manager&quot; in the JMC top menu, duplicate the configuration and click Edit. make sure &quot;Object Types + Allocation Stack Traces + Path to GC Root&quot; is selected from the &quot;Memory Leak Detection setting&quot; and export the configuration file. Then you can use the file like this.</p>\n<p>$ java -XX:StartFlightRecording:settings=custom.jfc ...</p>\n</li>\n</ol>\n<p>On an already running instance:</p>\n<pre><code>$ jcmd &lt;pid&gt; JFR.start settings=custom.jfc\n</code></pre>\n<ol start=\"3\">\n<li><p>The third way, and perhaps easiest, is to use the profile template to enable allocation stack trace and set the path-to-gc-roots option directly:</p>\n<p>$ java -XX:StartFlightRecording:settings=profile,path-to-gc-roots=true ...</p>\n</li>\n</ol>\n<p>On an already running instance:</p>\n<pre><code>$ jcmd &lt;pid&gt; JFR.start settings=profile path-to-gc-roots=true\n</code></pre>\n"}],"owner":{"account_id":3493305,"reputation":101,"user_id":2922338,"display_name":"Vignesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1049,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647436449,"creation_date":1617647319,"question_id":66957896,"body_markdown":"I&#39;m trying to analyse memory leak using java mission control, I wanted to find the reference to the classes from which the object are getting created, looks like I have to enable the below properties to get that details from Live Object details, but I&#39;m unable to find this settings or not sure from where I should enable this, can anyone help me here?\r\n\r\n&quot;Before starting a flight recording, make sure that the option Object Types + Allocation Stack Traces + Path to GC Root is selected from the Memory Leak Detection setting.&quot;\r\n\r\nbelow live objects is coming as empty so unable to find which class is responsible for creating the objects that are there in memory\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GHFw0.png","title":"How to enable Object Types + Allocation Stack Traces + Path to GC Root in Java Mission Control","body":"<p>I'm trying to analyse memory leak using java mission control, I wanted to find the reference to the classes from which the object are getting created, looks like I have to enable the below properties to get that details from Live Object details, but I'm unable to find this settings or not sure from where I should enable this, can anyone help me here?</p>\n<p>&quot;Before starting a flight recording, make sure that the option Object Types + Allocation Stack Traces + Path to GC Root is selected from the Memory Leak Detection setting.&quot;</p>\n<p>below live objects is coming as empty so unable to find which class is responsible for creating the objects that are there in memory</p>\n<p><a href=\"https://i.stack.imgur.com/GHFw0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GHFw0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","google-cloud-storage","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1647049020,"post_id":71443676,"comment_id":126282637,"body_markdown":"who calls this function, what is &quot;storage&quot;, what is &quot;bos&quot;. Dont subscribe, use FlatMap and return a Mono&lt;Void&gt; from the function","body":"who calls this function, what is &quot;storage&quot;, what is &quot;bos&quot;. Dont subscribe, use FlatMap and return a Mono&lt;Void&gt; from the function"}],"answers":[{"tags":[],"owner":{"account_id":24207922,"reputation":76,"user_id":18164852,"display_name":"Jonathan Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647436010,"creation_date":1647436010,"answer_id":71497643,"question_id":71443676,"body_markdown":"Finally i get the solution. I change the subscribe to map, then i get the last response from the flux and with that i subscribe the response to upload the data to google cloud store with the Storage interface (package from google to use their api)\r\n\r\n    private Storage storage;\r\n\r\n    private void uploadToGoogleCloudStorage(FilePart filePart, BlobInfo blobInfo) throws IOException {\r\n        try (ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\r\n            filePart.content()\r\n                    .map(dataBuffer -&gt; {\r\n                        byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n                        dataBuffer.read(bytes);\r\n                        DataBufferUtils.release(dataBuffer);\r\n                        try {\r\n                            bos.write(bytes);\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        return bos;\r\n                    }).last().subscribe(data -&gt; {\r\n                        try {\r\n                            storage.createFrom(blobInfo, new ByteArrayInputStream(bos.toByteArray()));\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    });\r\n        }\r\n\r\n    }","title":"Wait subscribe method to get all data into array","body":"<p>Finally i get the solution. I change the subscribe to map, then i get the last response from the flux and with that i subscribe the response to upload the data to google cloud store with the Storage interface (package from google to use their api)</p>\n<pre><code>private Storage storage;\n\nprivate void uploadToGoogleCloudStorage(FilePart filePart, BlobInfo blobInfo) throws IOException {\n    try (ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\n        filePart.content()\n                .map(dataBuffer -&gt; {\n                    byte[] bytes = new byte[dataBuffer.readableByteCount()];\n                    dataBuffer.read(bytes);\n                    DataBufferUtils.release(dataBuffer);\n                    try {\n                        bos.write(bytes);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                    return bos;\n                }).last().subscribe(data -&gt; {\n                    try {\n                        storage.createFrom(blobInfo, new ByteArrayInputStream(bos.toByteArray()));\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                });\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24207922,"reputation":76,"user_id":18164852,"display_name":"Jonathan Luke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71497643,"answer_count":1,"score":-1,"last_activity_date":1647436010,"creation_date":1647026555,"question_id":71443676,"body_markdown":"I have an endpoint that its purpose is to receive a csv file, make a couple of changes to its name and then send this to a method to upload all the data it contains in a single file to Google Cloud as plain text.\r\n\r\nThe file can have more than 100,000 records, so when parsing it I have to save all the data in a variable and after that save it in Google Cloud. Today I can do it, but I am overwriting all the time the same file because I don&#39;t know how to indicate in the method to wait for the complete process of the subscribe and after that upload the file, so every time data is added to the array the file is uploaded again.\r\n\r\nAlthough the method complies with the idea, I want to improve the performance of this, since to upload a file of only 2 mb with 100,000 records is taking approximately 15 minutes. Any idea?\r\n\r\n    private Storage storage;\r\n\r\n    private void uploadToGoogleCloudStorage(FilePart filePart, BlobInfo blobInfo) throws IOException {\r\n        try (ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\r\n            filePart.content()\r\n                    .subscribe(dataBuffer -&gt; {\r\n                        byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n                        dataBuffer.read(bytes);\r\n                        DataBufferUtils.release(dataBuffer);\r\n                        try {\r\n                            bos.write(bytes);\r\n                            storage.createFrom(blobInfo, new ByteArrayInputStream(bos.toByteArray()));\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    });\r\n\r\n        }\r\n    }\r\n\r\n","title":"Wait subscribe method to get all data into array","body":"<p>I have an endpoint that its purpose is to receive a csv file, make a couple of changes to its name and then send this to a method to upload all the data it contains in a single file to Google Cloud as plain text.</p>\n<p>The file can have more than 100,000 records, so when parsing it I have to save all the data in a variable and after that save it in Google Cloud. Today I can do it, but I am overwriting all the time the same file because I don't know how to indicate in the method to wait for the complete process of the subscribe and after that upload the file, so every time data is added to the array the file is uploaded again.</p>\n<p>Although the method complies with the idea, I want to improve the performance of this, since to upload a file of only 2 mb with 100,000 records is taking approximately 15 minutes. Any idea?</p>\n<pre><code>private Storage storage;\n\nprivate void uploadToGoogleCloudStorage(FilePart filePart, BlobInfo blobInfo) throws IOException {\n    try (ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\n        filePart.content()\n                .subscribe(dataBuffer -&gt; {\n                    byte[] bytes = new byte[dataBuffer.readableByteCount()];\n                    dataBuffer.read(bytes);\n                    DataBufferUtils.release(dataBuffer);\n                    try {\n                        bos.write(bytes);\n                        storage.createFrom(blobInfo, new ByteArrayInputStream(bos.toByteArray()));\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","joptionpane","virtual-keyboard"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1647434664,"post_id":71497258,"comment_id":126369429,"body_markdown":"most touch panels have system keyboards for things like that. Don&#39;t you have access to touch panels that you are describing?","body":"most touch panels have system keyboards for things like that. Don&#39;t you have access to touch panels that you are describing?"},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1647435006,"post_id":71497258,"comment_id":126369580,"body_markdown":"@Szprota21 this application for POS machines used in retail stores. Vitual Keyboard that you are talking about belong to different application which handles transaction. This one is a utility application for which I can&#39;t used Virtual Keyboard which is used for transaction. There&#39;s no other keyboard accessible from machine.","body":"@Szprota21 this application for POS machines used in retail stores. Vitual Keyboard that you are talking about belong to different application which handles transaction. This one is a utility application for which I can&#39;t used Virtual Keyboard which is used for transaction. There&#39;s no other keyboard accessible from machine."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1647435168,"post_id":71497258,"comment_id":126369637,"body_markdown":"then you will need to make your own keyboard. Or check this or other premade dependencies https://github.com/comtel2000/fx-experience","body":"then you will need to make your own keyboard. Or check this or other premade dependencies <a href=\"https://github.com/comtel2000/fx-experience\" rel=\"nofollow noreferrer\">github.com/comtel2000/fx-experience</a>"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1647448667,"post_id":71497258,"comment_id":126375745,"body_markdown":"@Szprota21 said what I was going to say: That it&#39;s almost certain that you can get a visual keyboard on GitHub","body":"@Szprota21 said what I was going to say: That it&#39;s almost certain that you can get a visual keyboard on GitHub"}],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647435053,"creation_date":1647434417,"question_id":71497258,"body_markdown":"In my swing application on clicking a button, an InputDialog box gets poped up to get the user&#39;s input which is number only. This application will run on touch panels.\r\n\r\nDoes Swing provide a prebuilt virtual keyboard which I can use when the cursor is on InputDialog Textfield or do I have to create a custom keyboard explicitly?\r\n\r\n","title":"How to show a virtual keyboard for InputDialog?","body":"<p>In my swing application on clicking a button, an InputDialog box gets poped up to get the user's input which is number only. This application will run on touch panels.</p>\n<p>Does Swing provide a prebuilt virtual keyboard which I can use when the cursor is on InputDialog Textfield or do I have to create a custom keyboard explicitly?</p>\n"},{"tags":["java","android","unity-game-engine","java-11","openjdk-11"],"comments":[{"owner":{"account_id":79179,"reputation":4750,"user_id":224734,"accept_rate":80,"display_name":"frankhermes"},"score":0,"creation_date":1647515567,"post_id":71497212,"comment_id":126392960,"body_markdown":"Why? Upgrading these tools probably won&#39;t help as Unity expects specific versions to be there, otherwise builds will fail.","body":"Why? Upgrading these tools probably won&#39;t help as Unity expects specific versions to be there, otherwise builds will fail."}],"owner":{"account_id":7127941,"reputation":409,"user_id":5450254,"accept_rate":0,"display_name":"alphanso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1677,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647434937,"creation_date":1647434183,"question_id":71497212,"body_markdown":"I want to update gradle plugin to 7.0 and above and jdk version to 11 from 1.8.\r\n\r\n\r\nIn prefernces -&gt; external tools I want to update to jdk 11 how can I do that?","title":"How to update openJDK to version 11 in unity editor plugin","body":"<p>I want to update gradle plugin to 7.0 and above and jdk version to 11 from 1.8.</p>\n<p>In prefernces -&gt; external tools I want to update to jdk 11 how can I do that?</p>\n"},{"tags":["java","algorithm","permutation"],"answers":[{"tags":[],"owner":{"account_id":86219,"reputation":35532,"user_id":239916,"accept_rate":90,"display_name":"Thomas Eding"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280252504,"creation_date":1280252504,"answer_id":3346318,"question_id":3346249,"body_markdown":"Here&#39;s the logic you want.\r\n\r\n    function subsequences (arr) {  \r\n      arr.sort ();\r\n      var subseqs = [];\r\n      for (var i = 0; i &lt; arr.length; ++i) {\r\n        for (var j = i; j &lt; arr.length; ++j) {\r\n          subseqs.push (&quot;&quot; + arr [i] + &quot;-&quot; + arr [j]);\r\n        }\r\n      }\r\n      return subseqs;\r\n    }","title":"Java algorithm for all-pairs","body":"<p>Here's the logic you want.</p>\n\n<pre><code>function subsequences (arr) {  \n  arr.sort ();\n  var subseqs = [];\n  for (var i = 0; i &lt; arr.length; ++i) {\n    for (var j = i; j &lt; arr.length; ++j) {\n      subseqs.push (\"\" + arr [i] + \"-\" + arr [j]);\n    }\n  }\n  return subseqs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":79637,"reputation":10143,"user_id":225667,"accept_rate":94,"display_name":"Gopi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1280252646,"creation_date":1280252646,"answer_id":3346339,"question_id":3346249,"body_markdown":"Below function should do this\r\n\r\n\r\n      private void printPermutations(int[] numbers) {\r\n        for(int i=0;i&lt;numbers.length; i++) {\r\n          for (int j=i; j&lt;numbers.length; j++) {\r\n            System.out.println(&quot;[&quot; + numbers[i] + &quot;-&quot;+ numbers[j] +&quot;]&quot;);\r\n          }\r\n        }\r\n      }\r\n\r\nExample call to this function\r\n\r\n    int[] numbers={1,2,3};\r\n    printPermutations(numbers);\r\n\r\n","title":"Java algorithm for all-pairs","body":"<p>Below function should do this</p>\n\n<pre><code>  private void printPermutations(int[] numbers) {\n    for(int i=0;i&lt;numbers.length; i++) {\n      for (int j=i; j&lt;numbers.length; j++) {\n        System.out.println(\"[\" + numbers[i] + \"-\"+ numbers[j] +\"]\");\n      }\n    }\n  }\n</code></pre>\n\n<p>Example call to this function</p>\n\n<pre><code>int[] numbers={1,2,3};\nprintPermutations(numbers);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":119546,"reputation":14777,"user_id":311304,"accept_rate":95,"display_name":"Justin Garrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1280252906,"creation_date":1280252906,"answer_id":3346364,"question_id":3346249,"body_markdown":"Sounds like homework...but here it is anyway.  Obviously you can do without an ArrayList, etc. - just quick and dirty.\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class Test {\r\n\r\n    public static void main(String[] args) {\r\n        int[] input = {1, 3, 5};\r\n        ArrayList&lt;String&gt; output = new ArrayList&lt;String&gt;();\r\n        int n = input.length;\r\n        \r\n        for (int left = 0; left &lt; n; left++) {\r\n            output.add(&quot;[&quot;+input[left]+&quot;-&quot;+input[left]+&quot;]&quot;);\r\n            for (int right = left + 1; right &lt; n; right++) {\r\n                output.add(&quot;[&quot;+input[left]+&quot;-&quot;+input[right]+&quot;]&quot;);\r\n            }\r\n        }\r\n        \r\n            System.out.println(output.toString());\r\n        }\r\n    }\r\n\r\n","title":"Java algorithm for all-pairs","body":"<p>Sounds like homework...but here it is anyway.  Obviously you can do without an ArrayList, etc. - just quick and dirty.</p>\n\n<pre><code>import java.util.ArrayList;\n\npublic class Test {\n\npublic static void main(String[] args) {\n    int[] input = {1, 3, 5};\n    ArrayList&lt;String&gt; output = new ArrayList&lt;String&gt;();\n    int n = input.length;\n\n    for (int left = 0; left &lt; n; left++) {\n        output.add(\"[\"+input[left]+\"-\"+input[left]+\"]\");\n        for (int right = left + 1; right &lt; n; right++) {\n            output.add(\"[\"+input[left]+\"-\"+input[right]+\"]\");\n        }\n    }\n\n        System.out.println(output.toString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8717,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3346339,"answer_count":3,"score":5,"last_activity_date":1647434759,"creation_date":1280251988,"question_id":3346249,"body_markdown":"Given a collection of integers, what&#39;s a Java algorithm that will give all pairs of items as follows..\r\n\r\nGiven the example collection: [1,3,5], we&#39;d want the output: \r\n\r\n    [1-1]\r\n    [3-3]\r\n    [5-5]\r\n    \r\n    [1-3]\r\n    [1-5]\r\n    [3-5]\r\n\r\nNote that ordering is not important, so we want one of [1-3], [3-1] but not both.\r\n\r\nThis should work with a collection of n numbers, not just the the three numbers as in this example.\r\n\r\n\r\n\r\n","title":"Java algorithm for all-pairs","body":"<p>Given a collection of integers, what's a Java algorithm that will give all pairs of items as follows..</p>\n<p>Given the example collection: [1,3,5], we'd want the output:</p>\n<pre><code>[1-1]\n[3-3]\n[5-5]\n\n[1-3]\n[1-5]\n[3-5]\n</code></pre>\n<p>Note that ordering is not important, so we want one of [1-3], [3-1] but not both.</p>\n<p>This should work with a collection of n numbers, not just the the three numbers as in this example.</p>\n"},{"tags":["java","selenium","xpath"],"comments":[{"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"score":1,"creation_date":1647435538,"post_id":71497122,"comment_id":126369801,"body_markdown":"If I not accept an answer, maybe it was not solving my issue I will recheck the questions and will accept.","body":"If I not accept an answer, maybe it was not solving my issue I will recheck the questions and will accept."}],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647434046,"creation_date":1647434046,"answer_id":71497169,"question_id":71497122,"body_markdown":"You can use this xpath\r\n\r\n    //a[contains(text(),&#39;Samsung GALAXY Note 10.1&#39;)]/../following-sibling::td[last()]//input[@type=&#39;checkbox&#39;]\r\n\r\nYou are looking for `Samsung Galaxy Note 10.1`, instead, it is `Samsung GALAXY Note 10.1`\r\n\r\nif this is unique `//a[contains(text(),&#39;Samsung GALAXY Note 10.1&#39;)]` then the XPath provided by me should work. ","title":"Locating element in the dom with parent selenium xpath","body":"<p>You can use this xpath</p>\n<pre><code>//a[contains(text(),'Samsung GALAXY Note 10.1')]/../following-sibling::td[last()]//input[@type='checkbox']\n</code></pre>\n<p>You are looking for <code>Samsung Galaxy Note 10.1</code>, instead, it is <code>Samsung GALAXY Note 10.1</code></p>\n<p>if this is unique <code>//a[contains(text(),'Samsung GALAXY Note 10.1')]</code> then the XPath provided by me should work.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647434672,"creation_date":1647434342,"answer_id":71497244,"question_id":71497122,"body_markdown":"The element is a [JavaScript](https://www.javascript.com/) enabled element so to click() on the element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the _`elementToBeClickable()`_ and you can use either of the following [_locator strategy_](https://stackoverflow.com/questions/48054321/of-the-many-findelements-by-functions-in-selenium-when-would-you-use-one-over):\r\n           \t\r\n- Using _xpath_ and _index_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[contains(., &#39;Samsung GALAXY Note 10.1&#39;)]//following::td[12]//input[starts-with(@id, &#39;ContentModify&#39;) and @type=&#39;checkbox&#39;]&quot;))).click();\r\n\r\n- Using _xpath_ and _last()_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//tr[@class=&#39;ContentRowOdd&#39;]/td[.//a[contains(., &#39;Samsung GALAXY Note 10.1&#39;)]]//following::td[last()]//input[starts-with(@id, &#39;ContentModify&#39;) and @type=&#39;checkbox&#39;]&quot;))).click();","title":"Locating element in the dom with parent selenium xpath","body":"<p>The element is a <a href=\"https://www.javascript.com/\" rel=\"nofollow noreferrer\">JavaScript</a> enabled element so to click() on the element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <em><code>elementToBeClickable()</code></em> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48054321/of-the-many-findelements-by-functions-in-selenium-when-would-you-use-one-over\"><em>locator strategy</em></a>:</p>\n<ul>\n<li><p>Using <em>xpath</em> and <em>index</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[contains(., 'Samsung GALAXY Note 10.1')]//following::td[12]//input[starts-with(@id, 'ContentModify') and @type='checkbox']&quot;))).click();\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <em>last()</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//tr[@class='ContentRowOdd']/td[.//a[contains(., 'Samsung GALAXY Note 10.1')]]//following::td[last()]//input[starts-with(@id, 'ContentModify') and @type='checkbox']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71497169,"answer_count":2,"score":1,"last_activity_date":1647434672,"creation_date":1647433813,"question_id":71497122,"body_markdown":"I am trying to select a checkbox from table td element, but Selenium is not finding the element, this is my xpath locator `&quot;//*/td/a[contains(.,&#39;Samsung Galaxy Note 10.1&#39;)]//parent::td[last()]/input[@type=&#39;checkbox&#39;]&quot;`. I need to click on input filed with type checkbox, depending on the text in the with the Galaxy text.\r\n\r\n[![Dom][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qtcml.png","title":"Locating element in the dom with parent selenium xpath","body":"<p>I am trying to select a checkbox from table td element, but Selenium is not finding the element, this is my xpath locator <code>&quot;//*/td/a[contains(.,'Samsung Galaxy Note 10.1')]//parent::td[last()]/input[@type='checkbox']&quot;</code>. I need to click on input filed with type checkbox, depending on the text in the with the Galaxy text.</p>\n<p><a href=\"https://i.stack.imgur.com/qtcml.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qtcml.png\" alt=\"Dom\" /></a></p>\n"},{"tags":["java","java-native-interface","graalvm","gluonfx"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1647427107,"post_id":71493744,"comment_id":126366365,"body_markdown":"Basically the problem is that dll file is not added to the native image. You need to add *.dll to the resourcesList or run `mvn gluonfx:runagent` first, and then build again. However, it is possible that the dll is not extracted from the jar. Some libraries have a way so set an alternative path with a system.properties.","body":"Basically the problem is that dll file is not added to the native image. You need to add *.dll to the resourcesList or run <code>mvn gluonfx:runagent</code> first, and then build again. However, it is possible that the dll is not extracted from the jar. Some libraries have a way so set an alternative path with a system.properties."}],"answers":[{"tags":[],"owner":{"account_id":15772565,"reputation":165,"user_id":11381193,"display_name":"Ikaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647434555,"creation_date":1647434555,"answer_id":71497291,"question_id":71493744,"body_markdown":"Solved after comment of @JosePereda. \r\n\r\nBy running ```mvn gluonfx:runagent``` the necessary configuration was automatically added to **resources/META-INF.nativeimages/** files. \r\nAfter that compiled again with ```mvn gluonfx:build``` and the app run successfully and I was able to query the function.\r\n\r\n\r\n@JosePereda Thanks one more time crack! ","title":"jnidispatch.dll not found in resource path after compile to native with gluonfx","body":"<p>Solved after comment of @JosePereda.</p>\n<p>By running <code>mvn gluonfx:runagent</code> the necessary configuration was automatically added to <strong>resources/META-INF.nativeimages/</strong> files.\nAfter that compiled again with <code>mvn gluonfx:build</code> and the app run successfully and I was able to query the function.</p>\n<p>@JosePereda Thanks one more time crack!</p>\n"}],"owner":{"account_id":15772565,"reputation":165,"user_id":11381193,"display_name":"Ikaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71497291,"answer_count":1,"score":0,"last_activity_date":1647434555,"creation_date":1647419026,"question_id":71493744,"body_markdown":"I&#39;m compiling to native a javafx app using gluonfx plugin.\r\nTo perform some network functions I needed to add some **pcap** dependencies, I tested in debug mode and everything goes fine. But after compile to native I have the following error when I try to use the implemented function:\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.util.ServiceConfigurationError: pcap.spi.Service: Provider pcap.jdk7.internal.DefaultService could not be instantiated\r\n     at java.util.ServiceLoader.fail(ServiceLoader.java:582)\r\n     at java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:804)\r\n     at java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\r\n     at java.util.ServiceLoader$3.next(ServiceLoader.java:1395)\r\n     at pcap.spi.Service$Creator.&lt;clinit&gt;(Service.java:343)\r\n     at [project path].VdsConfiguratorService.getNetworkInterfaces(VdsConfiguratorService.java:27)\r\n     at [project path].vdsswitchconfig.VdsSwitchConfigurator.&lt;init&gt;(VdsSwitchConfigurator.java:20)\r\n     at [project path].GuiExtraStarter.show(GuiExtraStarter.java:84)\r\n     at [project path].FxMainMenu.lambda$updateContent$7(FxMainMenu.java:80)\r\n     at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n     at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n     at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n     at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n     at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n     at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n     at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n     at javafx.event.Event.fireEvent(Event.java:198)\r\n     at javafx.scene.control.MenuItem.fire(MenuItem.java:459)\r\n     at com.sun.javafx.scene.control.ContextMenuContent$MenuItemContainer.doSelect(ContextMenuContent.java:1385)\r\n     at com.sun.javafx.scene.control.ContextMenuContent$MenuItemContainer.lambda$createChildren$12(ContextMenuContent.java:1338)\r\n     at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n     at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n     at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n     at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n     at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n     at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n     at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n     at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n     at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n     at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n     at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n     at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n     at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n     at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n     at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n     at javafx.event.Event.fireEvent(Event.java:198)\r\n     at javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\r\n     at javafx.scene.Scene.processMouseEvent(Scene.java:1874)\r\n     at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\r\n     at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n     at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n     at java.security.AccessController.doPrivileged(AccessController.java:107)\r\n     at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n     at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n     at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n     at com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n     at com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n     at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST_View_notifyMouse_4f1a8388c3763e6ef91b5795c9a3bb669af40a28(JNIJavaCallWrappers.java:0)\r\n     at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\r\n     at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n     at java.lang.Thread.run(Thread.java:829)\r\n     at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:597)\r\n     at com.oracle.svm.core.windows.WindowsJavaThreads.osThreadStartRoutine(WindowsJavaThreads.java:140)\r\nCaused by: java.lang.UnsatisfiedLinkError: Native library (com/sun/jna/win32-x86-64/jnidispatch.dll) not found in resource path ()\r\n     at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1033)\r\n     at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:989)\r\n     at com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\r\n     at com.sun.jna.Structure.setAlignType(Structure.java:291)\r\n     at com.sun.jna.Structure.&lt;init&gt;(Structure.java:208)\r\n     at com.sun.jna.Structure.&lt;init&gt;(Structure.java:204)\r\n     at com.sun.jna.Structure.&lt;init&gt;(Structure.java:191)\r\n     at com.sun.jna.Structure.&lt;init&gt;(Structure.java:183)\r\n     at pcap.jdk7.internal.NativeMappings$ErrorBuffer.&lt;init&gt;(NativeMappings.java:734)\r\n     at pcap.jdk7.internal.NativeMappings$ErrorBuffer.&lt;init&gt;(NativeMappings.java:731)\r\n     at pcap.jdk7.internal.DefaultService.&lt;init&gt;(DefaultService.java:33)\r\n     at java.lang.reflect.Constructor.newInstance(Constructor.java:490)                                                                                           \r\n     at java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\r\n     ... 51 more     \r\n```\r\n\r\n**Code that fails:**\r\n```\r\nvar service = Service.Creator.create(&quot;PcapService&quot;); **//This line throws the exception**\r\nfor (Interface device : service.interfaces()) {\r\n  ...\r\n}\r\n\r\n``` \r\n\r\n**Dependencies added:**\r\n\r\n```\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;     \r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;com.ardikars.pcap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pcap&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.1&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n&lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n       &lt;groupId&gt;com.ardikars.pcap&lt;/groupId&gt;\r\n       &lt;artifactId&gt;pcap-jdk7&lt;/artifactId&gt;\r\n   &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nThanks in advance! \r\n","title":"jnidispatch.dll not found in resource path after compile to native with gluonfx","body":"<p>I'm compiling to native a javafx app using gluonfx plugin.\nTo perform some network functions I needed to add some <strong>pcap</strong> dependencies, I tested in debug mode and everything goes fine. But after compile to native I have the following error when I try to use the implemented function:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.util.ServiceConfigurationError: pcap.spi.Service: Provider pcap.jdk7.internal.DefaultService could not be instantiated\n     at java.util.ServiceLoader.fail(ServiceLoader.java:582)\n     at java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:804)\n     at java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\n     at java.util.ServiceLoader$3.next(ServiceLoader.java:1395)\n     at pcap.spi.Service$Creator.&lt;clinit&gt;(Service.java:343)\n     at [project path].VdsConfiguratorService.getNetworkInterfaces(VdsConfiguratorService.java:27)\n     at [project path].vdsswitchconfig.VdsSwitchConfigurator.&lt;init&gt;(VdsSwitchConfigurator.java:20)\n     at [project path].GuiExtraStarter.show(GuiExtraStarter.java:84)\n     at [project path].FxMainMenu.lambda$updateContent$7(FxMainMenu.java:80)\n     at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n     at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n     at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n     at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n     at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n     at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n     at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n     at javafx.event.Event.fireEvent(Event.java:198)\n     at javafx.scene.control.MenuItem.fire(MenuItem.java:459)\n     at com.sun.javafx.scene.control.ContextMenuContent$MenuItemContainer.doSelect(ContextMenuContent.java:1385)\n     at com.sun.javafx.scene.control.ContextMenuContent$MenuItemContainer.lambda$createChildren$12(ContextMenuContent.java:1338)\n     at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n     at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n     at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n     at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n     at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n     at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n     at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n     at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n     at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n     at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n     at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n     at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n     at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n     at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n     at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n     at javafx.event.Event.fireEvent(Event.java:198)\n     at javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\n     at javafx.scene.Scene.processMouseEvent(Scene.java:1874)\n     at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\n     at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n     at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n     at java.security.AccessController.doPrivileged(AccessController.java:107)\n     at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n     at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n     at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n     at com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n     at com.sun.glass.ui.View.notifyMouse(View.java:937)\n     at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST_View_notifyMouse_4f1a8388c3763e6ef91b5795c9a3bb669af40a28(JNIJavaCallWrappers.java:0)\n     at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\n     at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n     at java.lang.Thread.run(Thread.java:829)\n     at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:597)\n     at com.oracle.svm.core.windows.WindowsJavaThreads.osThreadStartRoutine(WindowsJavaThreads.java:140)\nCaused by: java.lang.UnsatisfiedLinkError: Native library (com/sun/jna/win32-x86-64/jnidispatch.dll) not found in resource path ()\n     at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1033)\n     at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:989)\n     at com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\n     at com.sun.jna.Structure.setAlignType(Structure.java:291)\n     at com.sun.jna.Structure.&lt;init&gt;(Structure.java:208)\n     at com.sun.jna.Structure.&lt;init&gt;(Structure.java:204)\n     at com.sun.jna.Structure.&lt;init&gt;(Structure.java:191)\n     at com.sun.jna.Structure.&lt;init&gt;(Structure.java:183)\n     at pcap.jdk7.internal.NativeMappings$ErrorBuffer.&lt;init&gt;(NativeMappings.java:734)\n     at pcap.jdk7.internal.NativeMappings$ErrorBuffer.&lt;init&gt;(NativeMappings.java:731)\n     at pcap.jdk7.internal.DefaultService.&lt;init&gt;(DefaultService.java:33)\n     at java.lang.reflect.Constructor.newInstance(Constructor.java:490)                                                                                           \n     at java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\n     ... 51 more     \n</code></pre>\n<p><strong>Code that fails:</strong></p>\n<pre><code>var service = Service.Creator.create(&quot;PcapService&quot;); **//This line throws the exception**\nfor (Interface device : service.interfaces()) {\n  ...\n}\n\n</code></pre>\n<p><strong>Dependencies added:</strong></p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;     \n     &lt;dependency&gt;\n        &lt;groupId&gt;com.ardikars.pcap&lt;/groupId&gt;\n        &lt;artifactId&gt;pcap&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n     &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;com.ardikars.pcap&lt;/groupId&gt;\n       &lt;artifactId&gt;pcap-jdk7&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1647434799,"post_id":71497172,"comment_id":126369483,"body_markdown":"If it were possible for MessageDigest to take an enum value, it would show up in [MessageDigest documentation](https://docs.oracle.com/javase/8/docs/api/java/security/MessageDigest.html).  There is therefore no such thing.   As for &quot;why&quot; - ask the implementors.  But I&#39;d guess it&#39;s because the class is extensible to any algorithm that someone wants to provide.","body":"If it were possible for MessageDigest to take an enum value, it would show up in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/MessageDigest.html\" rel=\"nofollow noreferrer\">MessageDigest documentation</a>.  There is therefore no such thing.   As for &quot;why&quot; - ask the implementors.  But I&#39;d guess it&#39;s because the class is extensible to any algorithm that someone wants to provide."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1647435075,"post_id":71497172,"comment_id":126369607,"body_markdown":"Whether  ENCRYPT.SHA_256 is more &#39;readable&#39; than &quot;SHA-256&quot; is a matter of opinion.  I do not find it so.","body":"Whether  ENCRYPT.SHA_256 is more &#39;readable&#39; than &quot;SHA-256&quot; is a matter of opinion.  I do not find it so."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1647437582,"post_id":71497172,"comment_id":126370640,"body_markdown":"Side note: instead of `Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1)` you can simply use `String.format(&quot;%02x&quot;, bytes[i])`. When using JDK&#160;17, you could replace the entire loop with `String generatedPassword = HexFormat.of().formatHex(bytes);`","body":"Side note: instead of <code>Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1)</code> you can simply use <code>String.format(&quot;%02x&quot;, bytes[i])</code>. When using JDK 17, you could replace the entire loop with <code>String generatedPassword = HexFormat.of().formatHex(bytes);</code>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1647438304,"post_id":71497172,"comment_id":126370964,"body_markdown":"You can have multiple providers, which contribute hashing algorithms that are not supported or required by default. Using an enum would restrict this to only the defaults include (or required) by the Java specification.","body":"You can have multiple providers, which contribute hashing algorithms that are not supported or required by default. Using an enum would restrict this to only the defaults include (or required) by the Java specification."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1647447845,"post_id":71497172,"comment_id":126375345,"body_markdown":"And the string doesn&#39;t have to be constant. Currently-used digest algorithms are mostly simple, but signature algorithms are usually &quot;{hash}withRSA&quot;, &quot;{hash}withECDSA&quot;, &quot;{hash}withECDSAinP1363&quot; etc where hash} varies depending on the key and/or the data -- that would be hard with an enum. Ciphers and key derivations are similar though sometimes using parameters instead of or in addition to naming, MACs and key agreements less so.","body":"And the string doesn&#39;t have to be constant. Currently-used digest algorithms are mostly simple, but signature algorithms are usually &quot;{hash}withRSA&quot;, &quot;{hash}withECDSA&quot;, &quot;{hash}withECDSAinP1363&quot; etc where hash} varies depending on the key and/or the data -- that would be hard with an enum. Ciphers and key derivations are similar though sometimes using parameters instead of or in addition to naming, MACs and key agreements less so."}],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1647434617,"answer_count":0,"score":2,"last_activity_date":1647434456,"creation_date":1647434058,"question_id":71497172,"body_markdown":"I found when I use a algorithm to hash text in java, I have to transfer a const value like `SHA-256` into the function like this:\r\n\r\n\r\n\r\n\r\n    public static String getHashText(String passwordToHash,String algorithm) {\r\n            String generatedPassword = null;\r\n            try {\r\n                MessageDigest md = MessageDigest.getInstance(algorithm);\r\n                byte[] bytes = md.digest(passwordToHash.getBytes(StandardCharsets.UTF_8));\r\n                StringBuilder sb = new StringBuilder();\r\n                for (int i = 0; i &lt; bytes.length; i++) {\r\n                    sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n                }\r\n                generatedPassword = sb.toString();\r\n            } catch (NoSuchAlgorithmException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return generatedPassword;\r\n        }\r\n\r\n\r\nwe should pass the const algorithm name like this:\r\n\r\n\r\n\r\n    String hashedRefreshToken = MD5Utils.getHashText(request.getRefresh_token(),&quot;SHA-256&quot;);\r\n\r\n\r\n\r\nI was wonder is there a system Enum for the encrypt algorithm so that I could do it like this:\r\n\r\n\r\n    String hashedRefreshToken = MD5Utils.getHashText(request.getRefresh_token(),ENCRYPT.SHA-256);\r\n\r\n\r\n\r\nthis would be more readable code, I found a class `MessageDigest` but that named `SHA256` not `SHA-256`. is there any system enum for it? why did not have enum? why we need to pass a const string into?\r\n\r\n\r\n","title":"the enum for encrypt algorithm name in java","body":"<p>I found when I use a algorithm to hash text in java, I have to transfer a const value like <code>SHA-256</code> into the function like this:</p>\n<pre><code>public static String getHashText(String passwordToHash,String algorithm) {\n        String generatedPassword = null;\n        try {\n            MessageDigest md = MessageDigest.getInstance(algorithm);\n            byte[] bytes = md.digest(passwordToHash.getBytes(StandardCharsets.UTF_8));\n            StringBuilder sb = new StringBuilder();\n            for (int i = 0; i &lt; bytes.length; i++) {\n                sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\n            }\n            generatedPassword = sb.toString();\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        }\n        return generatedPassword;\n    }\n</code></pre>\n<p>we should pass the const algorithm name like this:</p>\n<pre><code>String hashedRefreshToken = MD5Utils.getHashText(request.getRefresh_token(),&quot;SHA-256&quot;);\n</code></pre>\n<p>I was wonder is there a system Enum for the encrypt algorithm so that I could do it like this:</p>\n<pre><code>String hashedRefreshToken = MD5Utils.getHashText(request.getRefresh_token(),ENCRYPT.SHA-256);\n</code></pre>\n<p>this would be more readable code, I found a class <code>MessageDigest</code> but that named <code>SHA256</code> not <code>SHA-256</code>. is there any system enum for it? why did not have enum? why we need to pass a const string into?</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647433154,"creation_date":1647433154,"answer_id":71496961,"question_id":71496623,"body_markdown":"Make sure you use the URL encoding of `#`, which is `%23` when calling the endpoints. Otherwise, the characters after the `#` will not be considered.\r\n\r\nMaking a request to `/camunda/app/welcome/default/#!/welcome` without properly encoding will be interpreted as a request to `/camunda/app/welcome/default/`. Since that endpoint doesn&#39;t require authentication then anyone will be allowed to access it.\r\n\r\nSince all endpoints except `/camunda/app/welcome/default/#!/login` require authentication you condense your `HttpSecurity` configuration. I&#39;ll rewrite it below using the lambda style configuration to make it more readable:\r\n\r\n```java\r\nhttp\r\n    // no need to add requestMatchers since you aren&#39;t changing the default configuration\r\n    .authorizeRequests(authz -&gt; authz\r\n        .antMatchers(&quot;/camunda/app/welcome/default/#!/login&quot;).permitAll()\r\n        .anyRequest().authenticated() // any request that does not match the above rule ^ will require an authenticated user\r\n    )\r\n    .oauth2Login(...)\r\n    .logout(...)\r\n```","title":"How to secure some URLS while keeping others without authentication?","body":"<p>Make sure you use the URL encoding of <code>#</code>, which is <code>%23</code> when calling the endpoints. Otherwise, the characters after the <code>#</code> will not be considered.</p>\n<p>Making a request to <code>/camunda/app/welcome/default/#!/welcome</code> without properly encoding will be interpreted as a request to <code>/camunda/app/welcome/default/</code>. Since that endpoint doesn't require authentication then anyone will be allowed to access it.</p>\n<p>Since all endpoints except <code>/camunda/app/welcome/default/#!/login</code> require authentication you condense your <code>HttpSecurity</code> configuration. I'll rewrite it below using the lambda style configuration to make it more readable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    // no need to add requestMatchers since you aren't changing the default configuration\n    .authorizeRequests(authz -&gt; authz\n        .antMatchers(&quot;/camunda/app/welcome/default/#!/login&quot;).permitAll()\n        .anyRequest().authenticated() // any request that does not match the above rule ^ will require an authenticated user\n    )\n    .oauth2Login(...)\n    .logout(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4218279,"reputation":1719,"user_id":3453727,"display_name":"Alex Chernyshev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647433838,"creation_date":1647433838,"answer_id":71497127,"question_id":71496623,"body_markdown":"Sadly to say, but that will not work, because there is actually only one url:\r\n\r\n/camunda/app/welcome/default/\r\n\r\nand parts after &#39;#&#39; symbol are called &#39;anchors&#39;:\r\n\r\n#!/welcome,\r\n#!/dashboard,\r\n\r\nAnchors are not processed on backend, because they point to some place in html document that was loaded on client side.\r\n\r\nhttps://www.w3docs.com/snippets/html/how-to-create-an-anchor-link-to-jump-to-a-specific-part-of-a-page.html\r\n\r\nSo you cant solve it by Spring only, there must be some frontend logic.\r\n\r\nAlso these two masks:\r\n\r\n/camunda/app/tasklist/**, and\r\n/camunda/app/admin/**\r\n\r\n\r\ncould be covered by Spring Boot, because point to different urls, not anchors.\r\n","title":"How to secure some URLS while keeping others without authentication?","body":"<p>Sadly to say, but that will not work, because there is actually only one url:</p>\n<p>/camunda/app/welcome/default/</p>\n<p>and parts after '#' symbol are called 'anchors':</p>\n<p>#!/welcome,\n#!/dashboard,</p>\n<p>Anchors are not processed on backend, because they point to some place in html document that was loaded on client side.</p>\n<p><a href=\"https://www.w3docs.com/snippets/html/how-to-create-an-anchor-link-to-jump-to-a-specific-part-of-a-page.html\" rel=\"nofollow noreferrer\">https://www.w3docs.com/snippets/html/how-to-create-an-anchor-link-to-jump-to-a-specific-part-of-a-page.html</a></p>\n<p>So you cant solve it by Spring only, there must be some frontend logic.</p>\n<p>Also these two masks:</p>\n<p>/camunda/app/tasklist/<strong>, and\n/camunda/app/admin/</strong></p>\n<p>could be covered by Spring Boot, because point to different urls, not anchors.</p>\n"}],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71497127,"answer_count":2,"score":0,"last_activity_date":1647433838,"creation_date":1647431580,"question_id":71496623,"body_markdown":"I have a Spring Boot based application. I want the URL `/camunda/app/welcome/default/#!/login` to be accessible without any authentication, while the URLs\r\n\r\n * `/camunda/app/welcome/default/#!/welcome`,\r\n * `/camunda/app/welcome/default/#!/dashboard`,\r\n * `/camunda/app/tasklist/**`, and\r\n * `/camunda/app/admin/**`\r\n\r\nmust be secured (i. e. only authenticated users should be able to access them).\r\n\r\nTo achieve this, I wrote the following configuration:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class MyConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.requestMatchers()\r\n\t\t\t.and()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(&quot;/camunda/app/welcome/default/#!/login&quot;).permitAll()\r\n\t\t\t.antMatchers(&quot;/camunda/app/welcome/default/#!/welcome&quot;,\r\n\t\t\t\t&quot;/camunda/app/welcome/default/#!/dashboard&quot;,\r\n\t\t\t\t&quot;/camunda/app/tasklist/**&quot;,\r\n\t\t\t\t&quot;/camunda/app/admin/**&quot;, \r\n\t\t\t\t&quot;/oauth2/authorization/**&quot;,\r\n\t\t\t\t&quot;/oauth2/code/myredirecturl&quot;)\r\n\t\t\t.authenticated()\r\n\t\t\t.and()\r\n\t\t\t.oauth2Login(...)\r\n\t\t\t.logout()\r\n\t\t\t\t.logoutRequestMatcher(...)\r\n\t\t\t\t.logoutSuccessHandler(...);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHowever with this configuration unauthenticated users can access URLs that are supposed to be protected (`/camunda/app/welcome/default/#!/welcome`, `/camunda/app/welcome/default/#!/dashboard`, `/camunda/app/tasklist/**`, `/camunda/app/admin/**`).\r\n\r\nWhat is wrong with my configuration and how can I fix it?","title":"How to secure some URLS while keeping others without authentication?","body":"<p>I have a Spring Boot based application. I want the URL <code>/camunda/app/welcome/default/#!/login</code> to be accessible without any authentication, while the URLs</p>\n<ul>\n<li><code>/camunda/app/welcome/default/#!/welcome</code>,</li>\n<li><code>/camunda/app/welcome/default/#!/dashboard</code>,</li>\n<li><code>/camunda/app/tasklist/**</code>, and</li>\n<li><code>/camunda/app/admin/**</code></li>\n</ul>\n<p>must be secured (i. e. only authenticated users should be able to access them).</p>\n<p>To achieve this, I wrote the following configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MyConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .requestMatchers()\n            .and()\n            .authorizeRequests()\n            .antMatchers(&quot;/camunda/app/welcome/default/#!/login&quot;).permitAll()\n            .antMatchers(&quot;/camunda/app/welcome/default/#!/welcome&quot;,\n                &quot;/camunda/app/welcome/default/#!/dashboard&quot;,\n                &quot;/camunda/app/tasklist/**&quot;,\n                &quot;/camunda/app/admin/**&quot;, \n                &quot;/oauth2/authorization/**&quot;,\n                &quot;/oauth2/code/myredirecturl&quot;)\n            .authenticated()\n            .and()\n            .oauth2Login(...)\n            .logout()\n                .logoutRequestMatcher(...)\n                .logoutSuccessHandler(...);\n    }\n\n}\n</code></pre>\n<p>However with this configuration unauthenticated users can access URLs that are supposed to be protected (<code>/camunda/app/welcome/default/#!/welcome</code>, <code>/camunda/app/welcome/default/#!/dashboard</code>, <code>/camunda/app/tasklist/**</code>, <code>/camunda/app/admin/**</code>).</p>\n<p>What is wrong with my configuration and how can I fix it?</p>\n"},{"tags":["java","spring-boot","authentication","spring-security","interceptor"],"comments":[{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1647432439,"post_id":71496671,"comment_id":126368527,"body_markdown":"what you are trying to achieve here by trying to send dynamic username and password.","body":"what you are trying to achieve here by trying to send dynamic username and password."}],"owner":{"account_id":24362890,"reputation":63,"user_id":18297003,"display_name":"Ultivic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647433303,"creation_date":1647431796,"question_id":71496671,"body_markdown":" I Want to send username and password dynamically each time i get it from DTO Body when Api hit.\r\n\r\ncan anyone explain me. how i can send dynamic username and password into BasicAuthInterceptor each time when username and password comes from method DTO  RequestBody through cron.\r\n\r\nhere BasicInterceptor config is placed in a different service.\r\n    \r\n\r\n```    \r\npublic class LOCBasicAuthFeignClientConfiguration {\r\n\r\n    @Bean\r\n    public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\r\n        return new BasicAuthRequestInterceptor(&quot;username&quot;, &quot;password&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public Client feignClient()\r\n    {\r\n        return new Client.Default(getSSLSocketFactory(), new NoopHostnameVerifier());\r\n    }\r\n\r\n    private SSLSocketFactory getSSLSocketFactory() {\r\n        try {\r\n            TrustStrategy acceptingTrustStrategy = (chain, authType) -&gt; true;\r\n\r\n            SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\r\n            return sslContext.getSocketFactory();\r\n        } catch (Exception ignored) {\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\nhere is the configuration file\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.orderapi.config&quot;)\r\n    @EnableFeignClients(&quot;com.orderapi.api&quot;)\r\n    public class OrderSharedConfigurationReference {}\r\n\r\n\r\n\r\n\r\nI get username and password from an api.i want to set username and password which i get from api into this method dynamically.\r\n\r\n    \r\n\r\n       @Bean\r\n       public BasicAuthRequestInterceptor \r\n       basicAuthRequestInterceptor() {\r\n       return new BasicAuthRequestInterceptor(&quot;username&quot;, \r\n       &quot;password&quot;);\r\n       }\r\n\r\n","title":"BasicAuthRequestInterceptor Send Dynamic username and password from RequestBody of a DTO","body":"<p>I Want to send username and password dynamically each time i get it from DTO Body when Api hit.</p>\n<p>can anyone explain me. how i can send dynamic username and password into BasicAuthInterceptor each time when username and password comes from method DTO  RequestBody through cron.</p>\n<p>here BasicInterceptor config is placed in a different service.</p>\n<pre><code>public class LOCBasicAuthFeignClientConfiguration {\n\n    @Bean\n    public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\n        return new BasicAuthRequestInterceptor(&quot;username&quot;, &quot;password&quot;);\n    }\n\n    @Bean\n    public Client feignClient()\n    {\n        return new Client.Default(getSSLSocketFactory(), new NoopHostnameVerifier());\n    }\n\n    private SSLSocketFactory getSSLSocketFactory() {\n        try {\n            TrustStrategy acceptingTrustStrategy = (chain, authType) -&gt; true;\n\n            SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\n            return sslContext.getSocketFactory();\n        } catch (Exception ignored) {\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>here is the configuration file</p>\n<pre><code>@Configuration\n@ComponentScan(&quot;com.orderapi.config&quot;)\n@EnableFeignClients(&quot;com.orderapi.api&quot;)\npublic class OrderSharedConfigurationReference {}\n</code></pre>\n<p>I get username and password from an api.i want to set username and password which i get from api into this method dynamically.</p>\n<pre><code>   @Bean\n   public BasicAuthRequestInterceptor \n   basicAuthRequestInterceptor() {\n   return new BasicAuthRequestInterceptor(&quot;username&quot;, \n   &quot;password&quot;);\n   }\n</code></pre>\n"},{"tags":["java","oracle","jar","liquibase"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1581941981,"post_id":60261906,"comment_id":106593620,"body_markdown":"Did you try `--classpath=ojdbc8.jar;orai18n.jar`","body":"Did you try <code>--classpath=ojdbc8.jar;orai18n.jar</code>"},{"owner":{"account_id":16501291,"reputation":23,"user_id":11922534,"display_name":"Timur"},"score":0,"creation_date":1581949412,"post_id":60261906,"comment_id":106597827,"body_markdown":"@a_horse_with_no_name it didn&#39;t work","body":"@a_horse_with_no_name it didn&#39;t work"},{"owner":{"account_id":6542,"reputation":8830,"user_id":11051,"accept_rate":67,"display_name":"SteveDonie"},"score":0,"creation_date":1581955145,"post_id":60261906,"comment_id":106600999,"body_markdown":"Are you onj Windows or Linux? On Linux, the classpath separator is `:`\n\nThe other option is to just put the driver jar and the `oai18n.jar` in the `&lt;liquibase_home&gt;/lib` directory. All jars in that directory are added the the classpath by the liquibase shell script.","body":"Are you onj Windows or Linux? On Linux, the classpath separator is <code>:</code>  The other option is to just put the driver jar and the <code>oai18n.jar</code> in the <code>&lt;liquibase_home&gt;&#47;lib</code> directory. All jars in that directory are added the the classpath by the liquibase shell script."},{"owner":{"account_id":6542,"reputation":8830,"user_id":11051,"accept_rate":67,"display_name":"SteveDonie"},"score":0,"creation_date":1581955217,"post_id":60261906,"comment_id":106601038,"body_markdown":"Also, it may be that the error is coming from the database side rather than the client side. I&#39;d need to see a fuller stack trace to tell whether that was the case though.","body":"Also, it may be that the error is coming from the database side rather than the client side. I&#39;d need to see a fuller stack trace to tell whether that was the case though."},{"owner":{"account_id":16501291,"reputation":23,"user_id":11922534,"display_name":"Timur"},"score":0,"creation_date":1582010485,"post_id":60261906,"comment_id":106618448,"body_markdown":"@SteveDonie I use Windows. I put all jar files in the &lt;liquibase_home&gt;/lib, but i also can&#39;t run command. I added full stack trace in main question","body":"@SteveDonie I use Windows. I put all jar files in the &lt;liquibase_home&gt;/lib, but i also can&#39;t run command. I added full stack trace in main question"},{"owner":{"account_id":6542,"reputation":8830,"user_id":11051,"accept_rate":67,"display_name":"SteveDonie"},"score":0,"creation_date":1582038499,"post_id":60261906,"comment_id":106633965,"body_markdown":"I really am not sure how to help here. It appears that your database is set up to use the bulgarian character encoding, `CL8MSWIN1251` and I don&#39;t know if Liquibase will even work with that.","body":"I really am not sure how to help here. It appears that your database is set up to use the bulgarian character encoding, <code>CL8MSWIN1251</code> and I don&#39;t know if Liquibase will even work with that."},{"owner":{"account_id":16501291,"reputation":23,"user_id":11922534,"display_name":"Timur"},"score":1,"creation_date":1582103834,"post_id":60261906,"comment_id":106657823,"body_markdown":"@SteveDonie i fix this problem. I changed NLS LANG in DB server.","body":"@SteveDonie i fix this problem. I changed NLS LANG in DB server."}],"answers":[{"tags":[],"owner":{"account_id":16501291,"reputation":23,"user_id":11922534,"display_name":"Timur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1582103895,"creation_date":1582103895,"answer_id":60296745,"question_id":60261906,"body_markdown":"i fix this problem. I changed NLS LANG in DB server.","title":"liquibase and orai18n.jar","body":"<p>i fix this problem. I changed NLS LANG in DB server.</p>\n"},{"tags":[],"owner":{"account_id":17295938,"reputation":69,"user_id":13218437,"display_name":"Daniil Baev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647433104,"creation_date":1647433104,"answer_id":71496950,"question_id":60261906,"body_markdown":"Just add:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;orai18n&lt;/artifactId&gt;\r\n        &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"liquibase and orai18n.jar","body":"<p>Just add:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;orai18n&lt;/artifactId&gt;\n    &lt;version&gt;19.3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16501291,"reputation":23,"user_id":11922534,"display_name":"Timur"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2913,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60296745,"answer_count":2,"score":1,"last_activity_date":1647433104,"creation_date":1581940559,"question_id":60261906,"body_markdown":"I can&#39;t run this\r\n```none\r\nliquibase --driver=oracle.jdbc.OracleDriver --classpath=ojdbc8.jar --url=&quot;jdbc:oracle:thin:@host:port:sid&quot; --changeLogFile=db.xml --username=name --password=psw generateChangeLog\r\n```\r\n\r\nI get an error \r\n\r\n&gt; &quot;Unexpected error running Liquibase:\r\n&gt; liquibase.exception.DatabaseException: java.sql.SQLException:\r\n&gt; Unsupported code table (add orai18n.jar to the class route):\r\n&gt; CL8MSWIN1251&quot;\r\n\r\nFull stack error\r\n&gt;Liquibase Community 3.8.0 by Datical\r\nUnexpected error running Liquibase: liquibase.exception.DatabaseException: java.sql.SQLException: Неподдерживаемая кодовая таблица (добавьте orai18n.jar в маршрут классов): CL8MSWIN1251\r\nliquibase.exception.LiquibaseException: liquibase.command.CommandExecutionException: liquibase.exception.DatabaseException: java.sql.SQLException: Неподдерживаемая кодовая таблица (добавьте orai18n.jar в маршрут классов): CL8MSWIN1251\r\n        at liquibase.integration.commandline.CommandLineUtils.doGenerateChangeLog(CommandLineUtils.java:282) ~[liquibase.jar:na]\r\n        at liquibase.integration.commandline.Main.doMigration(Main.java:1060) [liquibase.jar:na]\r\n        at liquibase.integration.commandline.Main.run(Main.java:209) [liquibase.jar:na]\r\n        at liquibase.integration.commandline.Main.main(Main.java:132) [liquibase.jar:na]\r\nCaused by: liquibase.command.CommandExecutionException: liquibase.exception.DatabaseException: java.sql.SQLException: Неподдерживаемая кодовая таблица (добавьте orai18n.jar в маршрут классов): CL8MSWIN1251\r\n        at liquibase.command.AbstractCommand.execute(AbstractCommand.java:24) ~[liquibase.jar:na]\r\n        at liquibase.integration.commandline.CommandLineUtils.doGenerateChangeLog(CommandLineUtils.java:280) ~[liquibase.jar:na]\r\n        ... 3 common frames omitted\r\nCaused by: liquibase.exception.DatabaseException: java.sql.SQLException: Неподдерживаемая кодовая таблица (добавьте orai18n.jar в маршрут классов): CL8MSWIN1251\r\n        at liquibase.snapshot.jvm.CatalogSnapshotGenerator.snapshotObject(CatalogSnapshotGenerator.java:47) ~[liquibase.jar:na]\r\n        at liquibase.snapshot.jvm.JdbcSnapshotGenerator.snapshot(JdbcSnapshotGenerator.java:66) ~[liquibase.jar:na]\r\n        at liquibase.snapshot.SnapshotGeneratorChain.snapshot(SnapshotGeneratorChain.java:49) ~[liquibase.jar:na]\r\n        at liquibase.snapshot.jvm.JdbcSnapshotGenerator.snapshot(JdbcSnapshotGenerator.java:69) ~[liquibase.jar:na]\r\n        at liquibase.snapshot.SnapshotGeneratorChain.snapshot(SnapshotGeneratorChain.java:49) ~[liquibase.jar:na]\r\n        at liquibase.snapshot.DatabaseSnapshot.include(DatabaseSnapshot.java:315) ~[liquibase.jar:na]\r\n        at liquibase.snapshot.DatabaseSnapshot.init(DatabaseSnapshot.java:100) ~[liquibase.jar:na]\r\n        at liquibase.snapshot.DatabaseSnapshot.&lt;init&gt;(DatabaseSnapshot.java:59) ~[liquibase.jar:na]\r\n        at liquibase.snapshot.JdbcDatabaseSnapshot.&lt;init&gt;(JdbcDatabaseSnapshot.java:39) ~[liquibase.jar:na]\r\n        at liquibase.snapshot.SnapshotGeneratorFactory.createSnapshot(SnapshotGeneratorFactory.java:217) ~[liquibase.jar:na]\r\n        at liquibase.snapshot.SnapshotGeneratorFactory.createSnapshot(SnapshotGeneratorFactory.java:190) ~[liquibase.jar:na]\r\n        at liquibase.command.core.DiffCommand.createReferenceSnapshot(DiffCommand.java:221) ~[liquibase.jar:na]\r\n        at liquibase.command.core.DiffCommand.createDiffResult(DiffCommand.java:143) ~[liquibase.jar:na]\r\n        at liquibase.command.core.GenerateChangeLogCommand.run(GenerateChangeLogCommand.java:46) ~[liquibase.jar:na]\r\n        at liquibase.command.AbstractCommand.execute(AbstractCommand.java:19) ~[liquibase.jar:na]\r\n        ... 4 common frames omitted\r\nCaused by: java.sql.SQLException: Неподдерживаемая кодовая таблица (добавьте orai18n.jar в маршрут классов): CL8MSWIN1251\r\n        at oracle.sql.CharacterSetUnknown.failCharsetUnknown(CharacterSetFactoryThin.java:233) ~[ojdbc8.jar:19.3.0.0.0]\r\n        at oracle.sql.CharacterSetUnknown.convert(CharacterSetFactoryThin.java:194) ~[ojdbc8.jar:19.3.0.0.0]\r\n        at oracle.jdbc.driver.PhysicalConnection.throughDbCharset(PhysicalConnection.java:10365) ~[ojdbc8.jar:19.3.0.0.0]\r\n        at oracle.jdbc.driver.PhysicalConnection.enquoteIdentifier(PhysicalConnection.java:10442) ~[ojdbc8.jar:19.3.0.0.0]\r\n        at oracle.jdbc.driver.OracleStatement.enquoteIdentifier(OracleStatement.java:6452) ~[ojdbc8.jar:19.3.0.0.0]\r\n        at oracle.jdbc.driver.OracleStatement.getColumnIndex(OracleStatement.java:3853) ~[ojdbc8.jar:19.3.0.0.0]\r\n        at oracle.jdbc.driver.InsensitiveScrollableResultSet.findColumn(InsensitiveScrollableResultSet.java:270) ~[ojdbc8.jar:19.3.0.0.0]\r\n        at oracle.jdbc.driver.GeneratedResultSet.getString(GeneratedResultSet.java:596) ~[ojdbc8.jar:19.3.0.0.0]\r\n        at liquibase.snapshot.jvm.JdbcSnapshotGenerator.getDatabaseCatalogNames(JdbcSnapshotGenerator.java:149) ~[liquibase.jar:na]\r\n        at liquibase.snapshot.jvm.CatalogSnapshotGenerator.snapshotObject(CatalogSnapshotGenerator.java:35) ~[liquibase.jar:na]\r\n        ... 18 common frames omitte\r\n\r\nHow to fix this?","title":"liquibase and orai18n.jar","body":"<p>I can't run this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>liquibase --driver=oracle.jdbc.OracleDriver --classpath=ojdbc8.jar --url=\"jdbc:oracle:thin:@host:port:sid\" --changeLogFile=db.xml --username=name --password=psw generateChangeLog\n</code></pre>\n\n<p>I get an error </p>\n\n<blockquote>\n  <p>\"Unexpected error running Liquibase:\n  liquibase.exception.DatabaseException: java.sql.SQLException:\n  Unsupported code table (add orai18n.jar to the class route):\n  CL8MSWIN1251\"</p>\n</blockquote>\n\n<p>Full stack error</p>\n\n<blockquote>\n  <p>Liquibase Community 3.8.0 by Datical\n  Unexpected error running Liquibase: liquibase.exception.DatabaseException: java.sql.SQLException: Неподдерживаемая кодовая таблица (добавьте orai18n.jar в маршрут классов): CL8MSWIN1251\n  liquibase.exception.LiquibaseException: liquibase.command.CommandExecutionException: liquibase.exception.DatabaseException: java.sql.SQLException: Неподдерживаемая кодовая таблица (добавьте orai18n.jar в маршрут классов): CL8MSWIN1251\n          at liquibase.integration.commandline.CommandLineUtils.doGenerateChangeLog(CommandLineUtils.java:282) ~[liquibase.jar:na]\n          at liquibase.integration.commandline.Main.doMigration(Main.java:1060) [liquibase.jar:na]\n          at liquibase.integration.commandline.Main.run(Main.java:209) [liquibase.jar:na]\n          at liquibase.integration.commandline.Main.main(Main.java:132) [liquibase.jar:na]\n  Caused by: liquibase.command.CommandExecutionException: liquibase.exception.DatabaseException: java.sql.SQLException: Неподдерживаемая кодовая таблица (добавьте orai18n.jar в маршрут классов): CL8MSWIN1251\n          at liquibase.command.AbstractCommand.execute(AbstractCommand.java:24) ~[liquibase.jar:na]\n          at liquibase.integration.commandline.CommandLineUtils.doGenerateChangeLog(CommandLineUtils.java:280) ~[liquibase.jar:na]\n          ... 3 common frames omitted\n  Caused by: liquibase.exception.DatabaseException: java.sql.SQLException: Неподдерживаемая кодовая таблица (добавьте orai18n.jar в маршрут классов): CL8MSWIN1251\n          at liquibase.snapshot.jvm.CatalogSnapshotGenerator.snapshotObject(CatalogSnapshotGenerator.java:47) ~[liquibase.jar:na]\n          at liquibase.snapshot.jvm.JdbcSnapshotGenerator.snapshot(JdbcSnapshotGenerator.java:66) ~[liquibase.jar:na]\n          at liquibase.snapshot.SnapshotGeneratorChain.snapshot(SnapshotGeneratorChain.java:49) ~[liquibase.jar:na]\n          at liquibase.snapshot.jvm.JdbcSnapshotGenerator.snapshot(JdbcSnapshotGenerator.java:69) ~[liquibase.jar:na]\n          at liquibase.snapshot.SnapshotGeneratorChain.snapshot(SnapshotGeneratorChain.java:49) ~[liquibase.jar:na]\n          at liquibase.snapshot.DatabaseSnapshot.include(DatabaseSnapshot.java:315) ~[liquibase.jar:na]\n          at liquibase.snapshot.DatabaseSnapshot.init(DatabaseSnapshot.java:100) ~[liquibase.jar:na]\n          at liquibase.snapshot.DatabaseSnapshot.(DatabaseSnapshot.java:59) ~[liquibase.jar:na]\n          at liquibase.snapshot.JdbcDatabaseSnapshot.(JdbcDatabaseSnapshot.java:39) ~[liquibase.jar:na]\n          at liquibase.snapshot.SnapshotGeneratorFactory.createSnapshot(SnapshotGeneratorFactory.java:217) ~[liquibase.jar:na]\n          at liquibase.snapshot.SnapshotGeneratorFactory.createSnapshot(SnapshotGeneratorFactory.java:190) ~[liquibase.jar:na]\n          at liquibase.command.core.DiffCommand.createReferenceSnapshot(DiffCommand.java:221) ~[liquibase.jar:na]\n          at liquibase.command.core.DiffCommand.createDiffResult(DiffCommand.java:143) ~[liquibase.jar:na]\n          at liquibase.command.core.GenerateChangeLogCommand.run(GenerateChangeLogCommand.java:46) ~[liquibase.jar:na]\n          at liquibase.command.AbstractCommand.execute(AbstractCommand.java:19) ~[liquibase.jar:na]\n          ... 4 common frames omitted\n  Caused by: java.sql.SQLException: Неподдерживаемая кодовая таблица (добавьте orai18n.jar в маршрут классов): CL8MSWIN1251\n          at oracle.sql.CharacterSetUnknown.failCharsetUnknown(CharacterSetFactoryThin.java:233) ~[ojdbc8.jar:19.3.0.0.0]\n          at oracle.sql.CharacterSetUnknown.convert(CharacterSetFactoryThin.java:194) ~[ojdbc8.jar:19.3.0.0.0]\n          at oracle.jdbc.driver.PhysicalConnection.throughDbCharset(PhysicalConnection.java:10365) ~[ojdbc8.jar:19.3.0.0.0]\n          at oracle.jdbc.driver.PhysicalConnection.enquoteIdentifier(PhysicalConnection.java:10442) ~[ojdbc8.jar:19.3.0.0.0]\n          at oracle.jdbc.driver.OracleStatement.enquoteIdentifier(OracleStatement.java:6452) ~[ojdbc8.jar:19.3.0.0.0]\n          at oracle.jdbc.driver.OracleStatement.getColumnIndex(OracleStatement.java:3853) ~[ojdbc8.jar:19.3.0.0.0]\n          at oracle.jdbc.driver.InsensitiveScrollableResultSet.findColumn(InsensitiveScrollableResultSet.java:270) ~[ojdbc8.jar:19.3.0.0.0]\n          at oracle.jdbc.driver.GeneratedResultSet.getString(GeneratedResultSet.java:596) ~[ojdbc8.jar:19.3.0.0.0]\n          at liquibase.snapshot.jvm.JdbcSnapshotGenerator.getDatabaseCatalogNames(JdbcSnapshotGenerator.java:149) ~[liquibase.jar:na]\n          at liquibase.snapshot.jvm.CatalogSnapshotGenerator.snapshotObject(CatalogSnapshotGenerator.java:35) ~[liquibase.jar:na]\n          ... 18 common frames omitte</p>\n</blockquote>\n\n<p>How to fix this?</p>\n"},{"tags":["java","list","date","sorting","object"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1647430885,"post_id":71496341,"comment_id":126367931,"body_markdown":"Are you using Java 8  or higher? Is there a reason why you still using `Date` instead of `LocalDate` from the `java.time` API?","body":"Are you using Java 8  or higher? Is there a reason why you still using <code>Date</code> instead of <code>LocalDate</code> from the <code>java.time</code> API?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1647432182,"post_id":71496341,"comment_id":126368424,"body_markdown":"I recommend you don’t use `Date`, `Calendar` and `SimpleDateFormat`. Those classes are poorly designed and long outdated, the last in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>Date</code>, <code>Calendar</code> and <code>SimpleDateFormat</code>. Those classes are poorly designed and long outdated, the last in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1647432338,"post_id":71496341,"comment_id":126368493,"body_markdown":"*they say that the Date comparator is deprecated* Which comparator? I don’t see any in your code?","body":"<i>they say that the Date comparator is deprecated</i> Which comparator? I don’t see any in your code?"},{"owner":{"account_id":4155307,"reputation":638,"user_id":10032647,"display_name":"Mouna Camelia Hammoudi"},"score":0,"creation_date":1647432911,"post_id":71496341,"comment_id":126368704,"body_markdown":"I updated my description, I tried some different code and it does not return the list sorted","body":"I updated my description, I tried some different code and it does not return the list sorted"},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1647433722,"post_id":71496341,"comment_id":126369051,"body_markdown":"I executed the code in my machine looks good to me, where do you have the issue?","body":"I executed the code in my machine looks good to me, where do you have the issue?"},{"owner":{"account_id":4155307,"reputation":638,"user_id":10032647,"display_name":"Mouna Camelia Hammoudi"},"score":0,"creation_date":1647433774,"post_id":71496341,"comment_id":126369070,"body_markdown":"no issue I fixed it on my own","body":"no issue I fixed it on my own"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1647446512,"post_id":71496341,"comment_id":126374649,"body_markdown":"Good to read, glad on your behalf. Please delete the question if you don’t need it. (Or if you think your solution will be useful for others, post it as an answer to your own question.)","body":"Good to read, glad on your behalf. Please delete the question if you don’t need it. (Or if you think your solution will be useful for others, post it as an answer to your own question.)"}],"owner":{"account_id":4155307,"reputation":638,"user_id":10032647,"display_name":"Mouna Camelia Hammoudi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647432811,"creation_date":1647430318,"question_id":71496341,"body_markdown":"I am reading a CSV file and I am converting each row into an object of Type Obj, here is my Obj class below. The problem is that I would like to sort my ObjList based on the date attribute but this does not work. I am using this code to sort my list but it&#39;s not working, how can I fix this?\r\n\r\n \r\n\r\n    List&lt;Obj&gt; sorted = objList.stream().sorted(\r\n                    (a,b)-&gt;\r\n            {\r\n            \r\n                    return a.getDate().compareTo(b.getDate());\r\n                \r\n            }\r\n            ).collect(Collectors.toList());\r\n\r\n\r\nThe whole Obj class: \r\n\r\n    package yas;\r\n    \r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    import yas.SimpleTesing.DateItem;\r\n    \r\n    public class Obj{\r\n    \t\tString law=&quot;&quot;; \r\n    \t\tString school=&quot;&quot;; \r\n    \t\tpublic Date date=null; \r\n    \t\t\r\n    \t\tpublic Date getDate() {\r\n    \t\t\treturn date;\r\n    \t\t}\r\n    \t\tpublic void setDate(Date date) {\r\n    \t\t\tthis.date = date;\r\n    \t\t}\r\n    \t\tCalendar cal= null; \r\n    \t\tpublic Obj() {\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;Obj [law=&quot; + law + &quot;, school=&quot; + school + &quot;, Calendatr=&quot; + cal + &quot;]&quot;;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t} \r\n\r\n\r\nHere is the file doing the reading process \r\n  package yas;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.Calendar;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.Date;\r\n    import java.util.GregorianCalendar;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import yas.SimpleTesing.SortByDate;\r\n    \r\n    public class main {\r\n    \t static List&lt;Obj&gt; objList= new ArrayList&lt;Obj&gt;(); \r\n    \tpublic static void main(String[] args) throws IOException, ParseException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tInputStream inputStream = null;\r\n    \t\t String file =&quot;C:\\\\Users\\\\mouh\\\\eclipse-workspace\\\\yas\\\\src\\\\yas\\\\masters&quot;;\r\n    \t     \r\n    \t     BufferedReader reader = new BufferedReader(new FileReader(file));\r\n    \t     String currentLine = reader.readLine();\r\n    \t     SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/M/yyyy&quot;);\r\n    \t    \r\n    \t     String date = sdf.format(new Date());\r\n    \t     while ((currentLine = reader.readLine()) != null) {\r\n    \r\n    \t    \t   \r\n    \t    \t    \r\n    \t    \t    if(currentLine.contains(&quot;/&quot;)){\r\n    \t    \t    \t Obj obj = new Obj(); \r\n    \t\t    \t    System.out.println(currentLine);\r\n    \t\t    \t    String[] elems = currentLine.split(&quot;,&quot;); \r\n    \t\t    \t    obj.law=elems[0]; \r\n    \t\t    \t    obj.school=elems[1];\r\n    \t\t    \t    Date mydate = sdf.parse(elems[2]);\r\n    \r\n    \t\t    \t    obj.date=mydate; \r\n    \t\t    \t    Calendar myCal = new GregorianCalendar();\r\n    \t\t    \t    myCal.setTime(mydate);\r\n    \t\t    \t    obj.cal=myCal; \r\n    \t\t    \t    objList.add(obj); \r\n    \r\n    \r\n    \t    \t    }\r\n    \t     }\r\n    \t     \r\n    \t     \r\n    \t     \r\n    \t     \r\n    //\t     System.out.println(currentLine);\r\n    \t     reader.close();\r\n    \t     \r\n    \t     \r\n    \t      List&lt;Obj&gt; sorted = objList.stream().sorted(\r\n\t                (a,b)-&gt;\r\n\t        {\r\n\t           \r\n\t                return a.getDate().compareTo(b.getDate());\r\n\t            \r\n\t        }\r\n\t        ).collect(Collectors.toList());\r\n\t     \r\n\r\n\t     \r\n\t     // sotrted \r\n\t     for(Obj obj: sorted) {\r\n\t    \t System.out.println(obj.toString()); \r\n\t     }\r\n    \t     \r\n    \t    \r\n    \t   \r\n    \r\n    \t}\r\n    \r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\nHere is my CSV file masters: \r\n\r\n    DROIT P&#201;NAL,a,date\r\n    Droit p&#233;nal et sciences criminelles,Universit&#233; de Grenoble,4/4/2022\r\n    M1 Droit p&#233;nal fondamental,Panth&#233;on-Sorbonne,3/4/2022\r\n    Droit p&#233;nal et sciences criminelles,Universit&#233; Paris 1 Panth&#233;on-Sorbonne,3/4/2022\r\n    Droit p&#233;nal et sciences criminelles,Universit&#233; Toulouse Capitole,\r\n    Droit p&#233;nal et sciences criminelles parcours criminologie,Panth&#233;on-Assas,9/5/2022\r\n    Droit p&#233;nal et sciences criminelles parcours droit p&#233;nal et sciences p&#233;nales,Panth&#233;on-Assas,9/5/2022\r\n    Droit p&#233;nal et sciences criminelles,Facult&#233; d&#39;Aix-Marseille,9/5/2022\r\n    Criminologie,Facult&#233; de Bordeaux,21/3/2022\r\n    Droti de l&#39;execution des peines et droits de l&#39;homme,Facult&#233; de bordeaux,21/3/2022\r\n    Droit p&#233;nal et carri&#232;res judiciaires,Facult&#233; de Nantes,21/3/2022\r\n    Droit p&#233;nal et sciences criminelles,Facult&#233; de Montpellier,19/5/2022\r\n    Criminologie,Facult&#233; de Bordeaux,21/3/2022\r\n    Criminologie et victimologie,Facult&#233; de Poitiers,9/5/2022\r\n    Droit p&#233;nal approfondi,Facult&#233; de Bordeaux,21/3/2022\r\n    M2 Droit et justice p&#233;nale,Facult&#233; de Poitiers,9/5/2022\r\n    Droit p&#233;nal et sciences criminelles,Universit&#233; de Nancy,17/6/2022\r\n    Droit p&#233;nal des affaires publiques et priv&#233;e,Faculte de Toulouse Capitole,1/5/2022\r\n    Droit p&#233;nal europ&#233;en et international,Facult&#233; de Bordeaux,21/3/2022\r\n    Droit p&#233;nal et sciences criminelles programme franco-qu&#233;b&#233;cois,Facult&#233; de Toulouse,\r\n    Criminologie,Facult&#233; de Strasbourg,27/5/2022\r\n    Sciences sociales et criminologie,Facult&#233; de Nantes,21/3/2022\r\n    Droit p&#233;nal appliqu&#233;,Facult&#233; de Strasbourg,27/5/2022\r\n    Pratique du droit p&#233;nal des affaires,UPEC,3/6/2022\r\n    P&#233;nologie,Unviersit&#233; Lyon III,10/5/2022\r\n    Droit p&#233;nal fondamental,Unviersit&#233; Lyon III,10/5/2022\r\n    Droit p&#233;nal et sciences criminelles,Universit&#233; de Clermont Auvergne,\r\n    M1 droit p&#233;nal et sciences criminelles,Facult&#233; de Lille,\r\n    Droit p&#233;nal et judiciaire,Universit&#233; de Reims Champagne-Ardenne,20/5/2022\r\n    &quot;Droit p&#233;nal traitement criminologique et psychologie forensique&quot;,Universit&#233; de Reims Champagne-Ardenne,20/5/2022\r\n    Droit p&#233;nal,Universit&#233; de Reims Champagne-Ardenne,20/5/2022\r\n    Droit p&#233;nal fondamental et compar&#233; franco-allemand,Facult&#233; de Strasbourg,27/5/2022\r\n    Droit p&#233;nal,Universit&#233; de Picardie Jules-Verne,\r\n    Droit p&#233;nal &#233;conomique et de la conformit&#233;,Facult&#233; de Nanterre,7/6/2022\r\n    Droit p&#233;nal et politiques criminelles,Facult&#233; de Nanterre,7/6/2022\r\n    Droit p&#233;nal international compar&#233;,Facult&#233; de Nanterre,7/6/2022\r\n    Droit p&#233;nal compar&#233;,Universit&#233; de Bordeaux,23/3/2022\r\n    Droit p&#233;nal et sciences criminelles,Universit&#233; de Pau et des pays de l&#39;Adour,\r\n    M2 Criminologie,Panth&#233;on-Assas,\r\n    M2 Justice P&#233;nale internationale,Panth&#233;on-Assas,\r\n    M2 Droit p&#233;nal et sciences p&#233;nales,Panth&#233;on-Assas,\r\n    Sciences criminologiques (M2),Facult&#233; d&#39;Aix-Marseille,9/5/2022\r\n    M2 Lutte contre la criminalit&#233; finani&#232;re et organis&#233;e,Facult&#233; d&#39;Aix-Marseille,9/5/2022\r\n    M2 Droit de l&#39;execution des peines,Facult&#233; d&#39;Aix-Marseille,9/5/2022\r\n    M2 Sciences p&#233;nales,Facult&#233; d&#39;Aix-Marseille,9/5/2022\r\n    M2 Droit de l&#39;execution des peines,Facult&#233; d&#39;Aix-Marseille,9/5/2022\r\n    M2 Droit p&#233;nal et international des affaires,Panth&#233;on-Sorbonne,3/4/2022\r\n    M2 Criminologie,Facult&#233; de Bordeaux,13/5/2022\r\n    M2 Droit p&#233;nal approfondi,Universit&#233; de Lorraine,\r\n    M2 Etudes p&#233;nales et criminelles,Facult&#233; de Lille,\r\n    M2 Justice p&#233;nale internationale,Facult&#233; de Lille,\r\n    ,,\r\n    S&#201;CURIT&#201; ET D&#201;FENSE,,\r\n    S&#233;curit&#233; internationale et d&#233;fense,Unviersit&#233; Lyon III,\r\n    Droit public parcours s&#233;curit&#233; et d&#233;fense,Panth&#233;on-Assas,\r\n    &quot;S&#233;curit&#233; internationale cyber-s&#233;curit&#233; et d&#233;fense&quot;,Universit&#233; de Grenoble,4/4/2022\r\n    Droit er administration de la d&#233;fense,Facult&#233; d&#39;Aix-Marseille,9/5/2022\r\n    Droit public parcours s&#233;curit&#233; int&#233;rieure,Universit&#233; de Nice,20/5/2022\r\n    S&#233;curit&#233; Int&#233;rieure,Facult&#233; d&#39;Aix-Marseille,9/5/2022\r\n    S&#233;curit&#233; int&#233;rieure,Unviersit&#233; Lyon III,10/5/2022\r\n    &quot;M2 S&#233;curit&#233; internationale d&#233;fense et intelligence &#233;conomique&quot;,Universit&#233; C&#244;te d&#39;Azur,10/6/2022\r\n    M2 S&#233;curit&#233; int&#233;rieure,Universit&#233; C&#244;te d&#39;Azur,10/6/2022\r\n    ,,\r\n    DROIT SOCIAL,,\r\n    Droit social,Paris-Saclay,15/6/2022\r\n    Droit social,UPEC,\r\n    Droit social g&#233;n&#233;ral,Panth&#233;on-Assas,\r\n    Protection sociale et r&#233;mun&#233;ration (alternance),Panth&#233;on-Assas,9/5/2022\r\n    Droit et pratiques des relations de travail (DPRT) (alternance),Panth&#233;on-Assas,9/5/2022\r\n    Droit du travail,Universit&#233; de Reims Champagne-Ardenne,20/5/2022\r\n    Droit social et de la sant&#233;,Universit&#233; de Nantes,21/3/2022\r\n    Droit social,Facult&#233; d&#39;Aix-Marseille,9/5/2022\r\n    Droit social,Universit&#233; de Rennes,\r\n    Droit social,Universit&#233; de Bordeaux,18/3/2022\r\n    Droit social,Universit&#233; de Strasbourg,\r\n    Droit social,Universit&#233; de Montpellier,\r\n    Droit social,Universit&#233; de Clermont Auvergne,14/5/2022\r\n    Droit social,Unviersit&#233; Lyon III,\r\n    Droit social,Universit&#233; de Toulon,9/5/2022\r\n    Droit social,Universit&#233; de Nanterre,\r\n    Droit social,Universit&#233; de Cergy-Pontoise,\r\n    Droit et gestion des personnes du secteur sanitaire et social,Universit&#233; de Toulon,9/5/2022\r\n    Droit de la protection sociale d&#39;entreprise,Panth&#233;on-Sorbonne,\r\n    Droit du travail et de la protection sociale,Facult&#233; de Bordeaux,18/3/2022\r\n    Droit social et relations sociales dans l&#39;entreprise,Facult&#233; de Sorbonne Paris-Nord,\r\n    Relations professionnelles,Facult&#233; de Nanterre,\r\n    Gestion des ressources humaines - stage,Facult&#233; de Nanterre,\r\n    Gestion des ressources humaines - contrat d&#39;apprentissage et de professionnalisation,Facult&#233; de Nanterre,\r\n    Droit social - analyse et pratique,Facult&#233; de Nanterre,7/6/2022\r\n    Protection sociale et sant&#233; - stage,Facult&#233; de Nanterre,\r\n    Protection sociale et sant&#233; - apprentissage,Facult&#233; de Nanterre,\r\n    Protection sociale et sant&#233; - recherche,Facult&#233; de Nanterre,\r\n    &quot;Droit social interne, europ&#233;en et international&quot;,Facult&#233; de Strasbourg,\r\n    Master droit et management social de l&#39;entreprise,Facult&#233; de Toulouse,\r\n    &quot;Master droit du travail,emploi et protection sociale&quot;,Facult&#233; de Toulouse,\r\n    Droit social,Facult&#233; de Nancy,17/5/2022\r\n    Master droit social et gestion des ressources humaines,Universit&#233; d&#39;Orl&#233;ans,\r\n    Droit social,Facult&#233; d&#39;Amiens,\r\n    Droit social franco-italien,Universit&#233; de Cergy-Pontoise,\r\n    Droit social compar&#233;,Universit&#233; de Bordeaux,23/3/2022\r\n    Droit et sciences du travail europ&#233;en,Facult&#233; de Toulouse,\r\n    Droit de la protection sociale d&#39;entreprise,Ecole de droit de la Sorbonne,\r\n    Droit social et relations sociales dans l&#39;entreprise,Paris 13-Descartes,10/5/2022\r\n    Droit social et de la sant&#233;,Facult&#233; de Nantes,21/3/2022\r\n    Droit social et ressources humaines,Facult&#233; de Mulhouse,\r\n    Droit du travail et de l&#39;emploi et de la protection sociale,Facult&#233; de Toulouse,\r\n    Analyse et pratique,Facult&#233; de Nanterre,\r\n    ,,\r\n    M2 Droit social approfondi,Facult&#233; de Nantes,18/3/2022\r\n    Droit social et management des ressources humaines M2,Facult&#233; de Nantes,\r\n    Droit de l&#39;entreprise,Universit&#233; de Pau et des pays de l&#39;Adour,\r\n    Management et administration des entreprises,Universit&#233; de Pau et des pays de l&#39;Adour,\r\n    Management sectoriel,Universit&#233; de Pau et des pays de l&#39;Adour,\r\n    ,,\r\n    ,,\r\n    DROIT DES AFFAIRES,,\r\n    Droit des affaires approfondi,Unviersit&#233; Lyon III,10/5/2022\r\n    Restructuration et traitement des entreprises en difficult&#233;,Unviersit&#233; Lyon III,\r\n    Ethique et droit des affaires,Facult&#233; de Cergy-Pontoise,11/5/2022\r\n    Droit des affaires,Sorbonne-Paris nord,\r\n    Droit des affaires,Panth&#233;on-Assas,9/5/2022\r\n    Droit des affaires et droit fiscal - sp&#233;cialit&#233; droit des affaires et fiscalit&#233;,Panth&#233;on-Assas,9/5/2022\r\n    Droit des affaires et droit fiscal - sp&#233;cialit&#233; droit fiscal,Panth&#233;on-Assas,9/5/2022\r\n    Droit des affaires et droit fiscal - sp&#233;cialit&#233; fiscalit&#233; internationale,Panth&#233;on-Assas,9/5/2022\r\n    Droit des affaires et &#233;conomie,Panth&#233;on-Assas,9/5/2022\r\n    Droit des affaires et management / MBA,Panth&#233;on-Assas,9/5/2022\r\n    Droit des affaires internationales,Panth&#233;on-Assas,9/5/2022\r\n    Droit europ&#233;en des affaires et de la concurrence,Panth&#233;on-Assas,9/5/2022\r\n    Droit priv&#233; et public des affaires (r&#233;serv&#233; aux sportifs de haut niveau),Panth&#233;on-Assas,9/5/2022\r\n    Droit des affaires parcours juriste d&#39;affaires,Panth&#233;on-Assas,9/5/2022\r\n    Droit des affaires parcours techniques de restructuration des entreprises en difficult&#233;,Panth&#233;on-Assas,9/5/2022\r\n    M2 Droit des affaires et &#233;conomie,Panth&#233;on-Assas,\r\n    Droit des affaires,Paris-saclay,14/6/2022\r\n    Droit des affaires,Universite de Cote d&#39;Azur,\r\n    Droit des affaires,Universit&#233; de Nantes,21/3/2022\r\n    Droit des affaires,Universit&#233; de Lorraine,\r\n    Droit des affaires,Universit&#233; de Poitiers,9/5/2022\r\n    Droit des affaires,Facult&#233; de Rennes,\r\n    Droit des affaires,Universit&#233; d&#39;Angers,13/5/2022\r\n    Droit des affaires et fiscalit&#233;,Paris Dauphine,1/6/2022\r\n    Droit des affaires,Universit&#233; Lumi&#232;re Lyon II,\r\n    Droit des affaires parcours juriste d&#39;affaires,Universit&#233; Paris Descartes,\r\n    Droit des affaires parcours juriste d&#39;affaires europ&#233;en,Universit&#233; Paris Descartes,\r\n    Droit des affaires parcours juristes d&#39;affaires international,Universit&#233; Paris Descartes,\r\n    Droit des affaires parcours juriste d&#39;affaires fiscalites,Universit&#233; Paris Descartes,\r\n    &quot;Droit des affaires parcours banque et finance, droit et r&#233;gulation du syst&#232;me bancaire&quot;,Universit&#233; Paris Descartes,\r\n    Parcours Banking et Finance (Abu Dhabi ),Universit&#233; Paris Descartes,\r\n    Droit des affaires parcours affaires sant&#233;,Facult&#233; de Saint-Etienne,8/4/2022\r\n    Droit des affaires parcours droit et entreprise / juriste d&#39;affaires,Facult&#233; de Saint-Etienne,8/4/2022\r\n    Droit des affaires parcours RH de l&#39;entreprise et droit social,Facult&#233; de Saint-Etienne,8/4/2022\r\n    Contentieux des affaires,Facult&#233; de Nanterre,7/6/2022\r\n    Droit fondamental de l&#39;entreprise,Facult&#233; de Nanterre,7/6/2022\r\n    Droit des structures et des activit&#233;s de l&#39;entreprise,Facult&#233; de Nanterre,7/6/2022\r\n    Droit fiscal de l&#39;entreprise,Facult&#233; de Nanterre,7/6/2022\r\n    Administration et liquidation des entreprises en difficult&#233;,Universit&#233; d&#39;Aix-Marseille,9/5/2022\r\n    Droit des affaires,Universit&#233; d&#39;Aix-Marseille,9/5/2022\r\n    Droit fiscal,Universit&#233; d&#39;Aix-Marseille,9/5/2022\r\n    Juriste europ&#233;en des affaires,Facult&#233; de Nanterre,7/6/2022\r\n    Analyse et pratique du droit des affaires (apprentissage),Facult&#233; de Nanterre,7/6/2022\r\n    Gestion juridique de l&#39;entreprise,Facult&#233; de Nanterre,7/6/2022\r\n    Analyse et pratique du droit des affaires (apprentissage),Facult&#233; de Nanterre,28/4/2022\r\n    Contentieux des affaires,Facult&#233; de Nanterre,28/4/2022\r\n    Droit des structures et des activit&#233;s de l&#39;entreprise,Facult&#233; de Nanterre,28/4/2022\r\n    Droit fondamental de l&#39;entreprise,Facult&#233; de Nanterre,28/4/2022\r\n    Droit fiscal de l&#39;entreprise,Facult&#233; de Nanterre,28/4/2022\r\n    Juriste europ&#233;en des affaires,Facult&#233; de Nanterre,28/4/2022\r\n    Administration et liquidations d&#39;entreprises en difficult&#233;s,Facult&#233; Toulouse,\r\n    double master Droit et gestion des entreprises / Droit des affaires,Universit&#233; de Toulouse 1 Capitole,15/4/2022\r\n    Droit des affaires,Universit&#233; de Reims Champagne-Ardenne,\r\n    Administration et liquidation d&#39;entreprises en difficult&#233; (Apprentissage),Panth&#233;on-Sorbonne,3/4/2022\r\n    Droit de l&#39;entreprise,Panth&#233;on-Sorbonne,3/4/2022\r\n    Droit des affaires,Panth&#233;on-Sorbonne,3/4/2022\r\n    Droit fiscal,Panth&#233;on-Sorbonne,7/6/2022\r\n    Droit international des affaires,Panth&#233;on-Sorbonne,3/4/2022\r\n    Droit des affaires parcours HEC,Panth&#233;on-Sorbonne,22/4/2022\r\n    Droit bancaire et financier,Panth&#233;on-Sorbonne,3/4/2022\r\n    Contrats et contentieux d&#39;affaires,Universit&#233; de Caen,25/5/2022\r\n    Juriste conseil d&#39;entreprise,Universit&#233; de Caen,25/5/2022\r\n    Droit des affaires compar&#233;,Universit&#233; de Bordeaux,23/3/2022\r\n    Droit des affaires,Universit&#233; Grenoble Alpes,\r\n    Droit des affaires et fiscalit&#233;,Universit&#233; d&#39;Orl&#233;ans,\r\n    Droit et r&#233;gulation du syst&#232;me &#233;conomique,Paris Descartes,14/6/2022\r\n    Juriste d&#39;affaires,Paris Descartes,12/6/2022\r\n    Juriste d&#39;affaires europ&#233;en,Paris Descartes,14/6/2022\r\n    Juriste d&#39;affaires international,Paris Descartes,14/6/2022\r\n    Juriste fiscaliste,Paris Descartes,14/6/2022\r\n    Droit des affaires,Universit&#233; de Nancy,17/6/2022\r\n    Droit fiscal des affaires,Universit&#233; de Lille,\r\n    Droit des affaires,Universit&#233; C&#244;te d&#39;Azur,20/5/2022\r\n    M2 Droit bancaire et fintech,Universit&#233; C&#244;te d&#39;Azur,10/6/2022\r\n    M2 Droit algorithmique et gouvernance des donn&#233;es,Universit&#233; C&#244;te d&#39;Azur,10/6/2022\r\n    M2 Droit de la propri&#233;t&#233; intellectuelle et des nouvelles technologies,Universit&#233; C&#244;te d&#39;Azur,10/6/2022\r\n    M2 Droit &#233;conomique,Universit&#233; C&#244;te d&#39;Azur,10/6/2022\r\n    M2 Juriste d&#39;affaires,Universit&#233; C&#244;te d&#39;Azur,10/6/2022\r\n    M2 Juriste des risques et du d&#233;veloppement durable,Universit&#233; C&#244;te d&#39;Azur,10/6/2022\r\n    M2 Juriste du sport,Universit&#233; C&#244;te d&#39;Azur,10/6/2022\r\n    ","title":"Sort by date Objects read from CSV","body":"<p>I am reading a CSV file and I am converting each row into an object of Type Obj, here is my Obj class below. The problem is that I would like to sort my ObjList based on the date attribute but this does not work. I am using this code to sort my list but it's not working, how can I fix this?</p>\n<pre><code>List&lt;Obj&gt; sorted = objList.stream().sorted(\n                (a,b)-&gt;\n        {\n        \n                return a.getDate().compareTo(b.getDate());\n            \n        }\n        ).collect(Collectors.toList());\n</code></pre>\n<p>The whole Obj class:</p>\n<pre><code>package yas;\n\nimport java.util.Calendar;\nimport java.util.Date;\n\nimport yas.SimpleTesing.DateItem;\n\npublic class Obj{\n        String law=&quot;&quot;; \n        String school=&quot;&quot;; \n        public Date date=null; \n        \n        public Date getDate() {\n            return date;\n        }\n        public void setDate(Date date) {\n            this.date = date;\n        }\n        Calendar cal= null; \n        public Obj() {\n            \n        }\n        @Override\n        public String toString() {\n            return &quot;Obj [law=&quot; + law + &quot;, school=&quot; + school + &quot;, Calendatr=&quot; + cal + &quot;]&quot;;\n        }\n        \n        \n        \n    } \n</code></pre>\n<p>Here is the file doing the reading process\npackage yas;</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Date;\nimport java.util.GregorianCalendar;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport yas.SimpleTesing.SortByDate;\n\npublic class main {\n     static List&lt;Obj&gt; objList= new ArrayList&lt;Obj&gt;(); \n    public static void main(String[] args) throws IOException, ParseException {\n        // TODO Auto-generated method stub\n        InputStream inputStream = null;\n         String file =&quot;C:\\\\Users\\\\mouh\\\\eclipse-workspace\\\\yas\\\\src\\\\yas\\\\masters&quot;;\n         \n         BufferedReader reader = new BufferedReader(new FileReader(file));\n         String currentLine = reader.readLine();\n         SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/M/yyyy&quot;);\n        \n         String date = sdf.format(new Date());\n         while ((currentLine = reader.readLine()) != null) {\n\n               \n                \n                if(currentLine.contains(&quot;/&quot;)){\n                     Obj obj = new Obj(); \n                    System.out.println(currentLine);\n                    String[] elems = currentLine.split(&quot;,&quot;); \n                    obj.law=elems[0]; \n                    obj.school=elems[1];\n                    Date mydate = sdf.parse(elems[2]);\n\n                    obj.date=mydate; \n                    Calendar myCal = new GregorianCalendar();\n                    myCal.setTime(mydate);\n                    obj.cal=myCal; \n                    objList.add(obj); \n\n\n                }\n         }\n         \n         \n         \n         \n//       System.out.println(currentLine);\n         reader.close();\n         \n         \n          List&lt;Obj&gt; sorted = objList.stream().sorted(\n                (a,b)-&gt;\n        {\n           \n                return a.getDate().compareTo(b.getDate());\n            \n        }\n        ).collect(Collectors.toList());\n     \n\n     \n     // sotrted \n     for(Obj obj: sorted) {\n         System.out.println(obj.toString()); \n     }\n         \n        \n       \n\n    }\n\n    \n    \n}\n</code></pre>\n<p>Here is my CSV file masters:</p>\n<pre><code>DROIT PÉNAL,a,date\nDroit pénal et sciences criminelles,Université de Grenoble,4/4/2022\nM1 Droit pénal fondamental,Panthéon-Sorbonne,3/4/2022\nDroit pénal et sciences criminelles,Université Paris 1 Panthéon-Sorbonne,3/4/2022\nDroit pénal et sciences criminelles,Université Toulouse Capitole,\nDroit pénal et sciences criminelles parcours criminologie,Panthéon-Assas,9/5/2022\nDroit pénal et sciences criminelles parcours droit pénal et sciences pénales,Panthéon-Assas,9/5/2022\nDroit pénal et sciences criminelles,Faculté d'Aix-Marseille,9/5/2022\nCriminologie,Faculté de Bordeaux,21/3/2022\nDroti de l'execution des peines et droits de l'homme,Faculté de bordeaux,21/3/2022\nDroit pénal et carrières judiciaires,Faculté de Nantes,21/3/2022\nDroit pénal et sciences criminelles,Faculté de Montpellier,19/5/2022\nCriminologie,Faculté de Bordeaux,21/3/2022\nCriminologie et victimologie,Faculté de Poitiers,9/5/2022\nDroit pénal approfondi,Faculté de Bordeaux,21/3/2022\nM2 Droit et justice pénale,Faculté de Poitiers,9/5/2022\nDroit pénal et sciences criminelles,Université de Nancy,17/6/2022\nDroit pénal des affaires publiques et privée,Faculte de Toulouse Capitole,1/5/2022\nDroit pénal européen et international,Faculté de Bordeaux,21/3/2022\nDroit pénal et sciences criminelles programme franco-québécois,Faculté de Toulouse,\nCriminologie,Faculté de Strasbourg,27/5/2022\nSciences sociales et criminologie,Faculté de Nantes,21/3/2022\nDroit pénal appliqué,Faculté de Strasbourg,27/5/2022\nPratique du droit pénal des affaires,UPEC,3/6/2022\nPénologie,Unviersité Lyon III,10/5/2022\nDroit pénal fondamental,Unviersité Lyon III,10/5/2022\nDroit pénal et sciences criminelles,Université de Clermont Auvergne,\nM1 droit pénal et sciences criminelles,Faculté de Lille,\nDroit pénal et judiciaire,Université de Reims Champagne-Ardenne,20/5/2022\n&quot;Droit pénal traitement criminologique et psychologie forensique&quot;,Université de Reims Champagne-Ardenne,20/5/2022\nDroit pénal,Université de Reims Champagne-Ardenne,20/5/2022\nDroit pénal fondamental et comparé franco-allemand,Faculté de Strasbourg,27/5/2022\nDroit pénal,Université de Picardie Jules-Verne,\nDroit pénal économique et de la conformité,Faculté de Nanterre,7/6/2022\nDroit pénal et politiques criminelles,Faculté de Nanterre,7/6/2022\nDroit pénal international comparé,Faculté de Nanterre,7/6/2022\nDroit pénal comparé,Université de Bordeaux,23/3/2022\nDroit pénal et sciences criminelles,Université de Pau et des pays de l'Adour,\nM2 Criminologie,Panthéon-Assas,\nM2 Justice Pénale internationale,Panthéon-Assas,\nM2 Droit pénal et sciences pénales,Panthéon-Assas,\nSciences criminologiques (M2),Faculté d'Aix-Marseille,9/5/2022\nM2 Lutte contre la criminalité finanière et organisée,Faculté d'Aix-Marseille,9/5/2022\nM2 Droit de l'execution des peines,Faculté d'Aix-Marseille,9/5/2022\nM2 Sciences pénales,Faculté d'Aix-Marseille,9/5/2022\nM2 Droit de l'execution des peines,Faculté d'Aix-Marseille,9/5/2022\nM2 Droit pénal et international des affaires,Panthéon-Sorbonne,3/4/2022\nM2 Criminologie,Faculté de Bordeaux,13/5/2022\nM2 Droit pénal approfondi,Université de Lorraine,\nM2 Etudes pénales et criminelles,Faculté de Lille,\nM2 Justice pénale internationale,Faculté de Lille,\n,,\nSÉCURITÉ ET DÉFENSE,,\nSécurité internationale et défense,Unviersité Lyon III,\nDroit public parcours sécurité et défense,Panthéon-Assas,\n&quot;Sécurité internationale cyber-sécurité et défense&quot;,Université de Grenoble,4/4/2022\nDroit er administration de la défense,Faculté d'Aix-Marseille,9/5/2022\nDroit public parcours sécurité intérieure,Université de Nice,20/5/2022\nSécurité Intérieure,Faculté d'Aix-Marseille,9/5/2022\nSécurité intérieure,Unviersité Lyon III,10/5/2022\n&quot;M2 Sécurité internationale défense et intelligence économique&quot;,Université Côte d'Azur,10/6/2022\nM2 Sécurité intérieure,Université Côte d'Azur,10/6/2022\n,,\nDROIT SOCIAL,,\nDroit social,Paris-Saclay,15/6/2022\nDroit social,UPEC,\nDroit social général,Panthéon-Assas,\nProtection sociale et rémunération (alternance),Panthéon-Assas,9/5/2022\nDroit et pratiques des relations de travail (DPRT) (alternance),Panthéon-Assas,9/5/2022\nDroit du travail,Université de Reims Champagne-Ardenne,20/5/2022\nDroit social et de la santé,Université de Nantes,21/3/2022\nDroit social,Faculté d'Aix-Marseille,9/5/2022\nDroit social,Université de Rennes,\nDroit social,Université de Bordeaux,18/3/2022\nDroit social,Université de Strasbourg,\nDroit social,Université de Montpellier,\nDroit social,Université de Clermont Auvergne,14/5/2022\nDroit social,Unviersité Lyon III,\nDroit social,Université de Toulon,9/5/2022\nDroit social,Université de Nanterre,\nDroit social,Université de Cergy-Pontoise,\nDroit et gestion des personnes du secteur sanitaire et social,Université de Toulon,9/5/2022\nDroit de la protection sociale d'entreprise,Panthéon-Sorbonne,\nDroit du travail et de la protection sociale,Faculté de Bordeaux,18/3/2022\nDroit social et relations sociales dans l'entreprise,Faculté de Sorbonne Paris-Nord,\nRelations professionnelles,Faculté de Nanterre,\nGestion des ressources humaines - stage,Faculté de Nanterre,\nGestion des ressources humaines - contrat d'apprentissage et de professionnalisation,Faculté de Nanterre,\nDroit social - analyse et pratique,Faculté de Nanterre,7/6/2022\nProtection sociale et santé - stage,Faculté de Nanterre,\nProtection sociale et santé - apprentissage,Faculté de Nanterre,\nProtection sociale et santé - recherche,Faculté de Nanterre,\n&quot;Droit social interne, européen et international&quot;,Faculté de Strasbourg,\nMaster droit et management social de l'entreprise,Faculté de Toulouse,\n&quot;Master droit du travail,emploi et protection sociale&quot;,Faculté de Toulouse,\nDroit social,Faculté de Nancy,17/5/2022\nMaster droit social et gestion des ressources humaines,Université d'Orléans,\nDroit social,Faculté d'Amiens,\nDroit social franco-italien,Université de Cergy-Pontoise,\nDroit social comparé,Université de Bordeaux,23/3/2022\nDroit et sciences du travail européen,Faculté de Toulouse,\nDroit de la protection sociale d'entreprise,Ecole de droit de la Sorbonne,\nDroit social et relations sociales dans l'entreprise,Paris 13-Descartes,10/5/2022\nDroit social et de la santé,Faculté de Nantes,21/3/2022\nDroit social et ressources humaines,Faculté de Mulhouse,\nDroit du travail et de l'emploi et de la protection sociale,Faculté de Toulouse,\nAnalyse et pratique,Faculté de Nanterre,\n,,\nM2 Droit social approfondi,Faculté de Nantes,18/3/2022\nDroit social et management des ressources humaines M2,Faculté de Nantes,\nDroit de l'entreprise,Université de Pau et des pays de l'Adour,\nManagement et administration des entreprises,Université de Pau et des pays de l'Adour,\nManagement sectoriel,Université de Pau et des pays de l'Adour,\n,,\n,,\nDROIT DES AFFAIRES,,\nDroit des affaires approfondi,Unviersité Lyon III,10/5/2022\nRestructuration et traitement des entreprises en difficulté,Unviersité Lyon III,\nEthique et droit des affaires,Faculté de Cergy-Pontoise,11/5/2022\nDroit des affaires,Sorbonne-Paris nord,\nDroit des affaires,Panthéon-Assas,9/5/2022\nDroit des affaires et droit fiscal - spécialité droit des affaires et fiscalité,Panthéon-Assas,9/5/2022\nDroit des affaires et droit fiscal - spécialité droit fiscal,Panthéon-Assas,9/5/2022\nDroit des affaires et droit fiscal - spécialité fiscalité internationale,Panthéon-Assas,9/5/2022\nDroit des affaires et économie,Panthéon-Assas,9/5/2022\nDroit des affaires et management / MBA,Panthéon-Assas,9/5/2022\nDroit des affaires internationales,Panthéon-Assas,9/5/2022\nDroit européen des affaires et de la concurrence,Panthéon-Assas,9/5/2022\nDroit privé et public des affaires (réservé aux sportifs de haut niveau),Panthéon-Assas,9/5/2022\nDroit des affaires parcours juriste d'affaires,Panthéon-Assas,9/5/2022\nDroit des affaires parcours techniques de restructuration des entreprises en difficulté,Panthéon-Assas,9/5/2022\nM2 Droit des affaires et économie,Panthéon-Assas,\nDroit des affaires,Paris-saclay,14/6/2022\nDroit des affaires,Universite de Cote d'Azur,\nDroit des affaires,Université de Nantes,21/3/2022\nDroit des affaires,Université de Lorraine,\nDroit des affaires,Université de Poitiers,9/5/2022\nDroit des affaires,Faculté de Rennes,\nDroit des affaires,Université d'Angers,13/5/2022\nDroit des affaires et fiscalité,Paris Dauphine,1/6/2022\nDroit des affaires,Université Lumière Lyon II,\nDroit des affaires parcours juriste d'affaires,Université Paris Descartes,\nDroit des affaires parcours juriste d'affaires européen,Université Paris Descartes,\nDroit des affaires parcours juristes d'affaires international,Université Paris Descartes,\nDroit des affaires parcours juriste d'affaires fiscalites,Université Paris Descartes,\n&quot;Droit des affaires parcours banque et finance, droit et régulation du système bancaire&quot;,Université Paris Descartes,\nParcours Banking et Finance (Abu Dhabi ),Université Paris Descartes,\nDroit des affaires parcours affaires santé,Faculté de Saint-Etienne,8/4/2022\nDroit des affaires parcours droit et entreprise / juriste d'affaires,Faculté de Saint-Etienne,8/4/2022\nDroit des affaires parcours RH de l'entreprise et droit social,Faculté de Saint-Etienne,8/4/2022\nContentieux des affaires,Faculté de Nanterre,7/6/2022\nDroit fondamental de l'entreprise,Faculté de Nanterre,7/6/2022\nDroit des structures et des activités de l'entreprise,Faculté de Nanterre,7/6/2022\nDroit fiscal de l'entreprise,Faculté de Nanterre,7/6/2022\nAdministration et liquidation des entreprises en difficulté,Université d'Aix-Marseille,9/5/2022\nDroit des affaires,Université d'Aix-Marseille,9/5/2022\nDroit fiscal,Université d'Aix-Marseille,9/5/2022\nJuriste européen des affaires,Faculté de Nanterre,7/6/2022\nAnalyse et pratique du droit des affaires (apprentissage),Faculté de Nanterre,7/6/2022\nGestion juridique de l'entreprise,Faculté de Nanterre,7/6/2022\nAnalyse et pratique du droit des affaires (apprentissage),Faculté de Nanterre,28/4/2022\nContentieux des affaires,Faculté de Nanterre,28/4/2022\nDroit des structures et des activités de l'entreprise,Faculté de Nanterre,28/4/2022\nDroit fondamental de l'entreprise,Faculté de Nanterre,28/4/2022\nDroit fiscal de l'entreprise,Faculté de Nanterre,28/4/2022\nJuriste européen des affaires,Faculté de Nanterre,28/4/2022\nAdministration et liquidations d'entreprises en difficultés,Faculté Toulouse,\ndouble master Droit et gestion des entreprises / Droit des affaires,Université de Toulouse 1 Capitole,15/4/2022\nDroit des affaires,Université de Reims Champagne-Ardenne,\nAdministration et liquidation d'entreprises en difficulté (Apprentissage),Panthéon-Sorbonne,3/4/2022\nDroit de l'entreprise,Panthéon-Sorbonne,3/4/2022\nDroit des affaires,Panthéon-Sorbonne,3/4/2022\nDroit fiscal,Panthéon-Sorbonne,7/6/2022\nDroit international des affaires,Panthéon-Sorbonne,3/4/2022\nDroit des affaires parcours HEC,Panthéon-Sorbonne,22/4/2022\nDroit bancaire et financier,Panthéon-Sorbonne,3/4/2022\nContrats et contentieux d'affaires,Université de Caen,25/5/2022\nJuriste conseil d'entreprise,Université de Caen,25/5/2022\nDroit des affaires comparé,Université de Bordeaux,23/3/2022\nDroit des affaires,Université Grenoble Alpes,\nDroit des affaires et fiscalité,Université d'Orléans,\nDroit et régulation du système économique,Paris Descartes,14/6/2022\nJuriste d'affaires,Paris Descartes,12/6/2022\nJuriste d'affaires européen,Paris Descartes,14/6/2022\nJuriste d'affaires international,Paris Descartes,14/6/2022\nJuriste fiscaliste,Paris Descartes,14/6/2022\nDroit des affaires,Université de Nancy,17/6/2022\nDroit fiscal des affaires,Université de Lille,\nDroit des affaires,Université Côte d'Azur,20/5/2022\nM2 Droit bancaire et fintech,Université Côte d'Azur,10/6/2022\nM2 Droit algorithmique et gouvernance des données,Université Côte d'Azur,10/6/2022\nM2 Droit de la propriété intellectuelle et des nouvelles technologies,Université Côte d'Azur,10/6/2022\nM2 Droit économique,Université Côte d'Azur,10/6/2022\nM2 Juriste d'affaires,Université Côte d'Azur,10/6/2022\nM2 Juriste des risques et du développement durable,Université Côte d'Azur,10/6/2022\nM2 Juriste du sport,Université Côte d'Azur,10/6/2022\n</code></pre>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1647429385,"post_id":71495985,"comment_id":126367360,"body_markdown":"Your JDBC driver doesn&#39;t allow passing those properties in the connection URL?","body":"Your JDBC driver doesn&#39;t allow passing those properties in the connection URL?"},{"owner":{"account_id":24576325,"reputation":1,"user_id":18482100,"display_name":"Argamea"},"score":0,"creation_date":1647514515,"post_id":71495985,"comment_id":126392632,"body_markdown":"Unfortunately no, for two reasons. \n1 - These properties can only be passed with a Properties object which I cannot do with the querying tool I am trying to setup\n2 - The querying tool itself does not allow to use ? and &amp; in their JDBC URL.... Which is the dumbest thing I&#39;ve seen :D","body":"Unfortunately no, for two reasons.  1 - These properties can only be passed with a Properties object which I cannot do with the querying tool I am trying to setup 2 - The querying tool itself does not allow to use ? and &amp; in their JDBC URL.... Which is the dumbest thing I&#39;ve seen :D"}],"owner":{"account_id":24576325,"reputation":1,"user_id":18482100,"display_name":"Argamea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647432788,"creation_date":1647428733,"question_id":71495985,"body_markdown":"I have a proprietary JDBC driver provided by an editor for their product.\r\nProblem is, I need to use that driver in another product which does not allow me to pass JDBC properties. And of course I am required to pass some properties.\r\n\r\nSo my idea is to create a custom driver that would act as a wrapper to the JDBC driver that I need to use; the only twist would be that the custom driver I build, would pass those properties (hardcoded).\r\n\r\nWhat would be the best way to achieve that? Just extend the original driver and overload the connection methods? \r\n\r\nUgly solution I know, but no choice at this point.\r\n\r\n","title":"Overload JDBC driver","body":"<p>I have a proprietary JDBC driver provided by an editor for their product.\nProblem is, I need to use that driver in another product which does not allow me to pass JDBC properties. And of course I am required to pass some properties.</p>\n<p>So my idea is to create a custom driver that would act as a wrapper to the JDBC driver that I need to use; the only twist would be that the custom driver I build, would pass those properties (hardcoded).</p>\n<p>What would be the best way to achieve that? Just extend the original driver and overload the connection methods?</p>\n<p>Ugly solution I know, but no choice at this point.</p>\n"},{"tags":["java","plugins","desktop-application","auto-update"],"answers":[{"tags":[],"owner":{"account_id":10727,"reputation":10685,"user_id":20390,"accept_rate":70,"display_name":"Ma99uS"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1330667911,"creation_date":1227192152,"answer_id":305489,"question_id":305461,"body_markdown":"Have you looked at the [Java Web Start][1]? It checks for updated module on the server and downloads it only if required otherwise things are cached locally on the client PC and starts from there.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/javaws/developersguide/faq.html","title":"&quot;Automatic updates&quot; for Java (desktop) application?","body":"<p>Have you looked at the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/javaws/developersguide/faq.html\" rel=\"noreferrer\">Java Web Start</a>? It checks for updated module on the server and downloads it only if required otherwise things are cached locally on the client PC and starts from there.</p>\n"},{"tags":[],"owner":{"account_id":2202,"reputation":24331,"user_id":3029,"accept_rate":63,"display_name":"davetron5000"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1227196163,"creation_date":1227196163,"answer_id":305745,"question_id":305461,"body_markdown":"Web Start is great if you have infrequent updates and good bandwidth.\r\n\r\nIf not, however, you need something else.  I worked on a project where we had frequent updates and horrible bandwidth.  We rolled our own classfile server; the startup code would talk to the server to see if updates were needed on a per-class basis.  If so, the changed classes were downloaded and the application continued as normal.\r\n\r\nIt was actually not terribly complicated, so don&#39;t be afraid to roll your own if existing tools don&#39;t work.","title":"&quot;Automatic updates&quot; for Java (desktop) application?","body":"<p>Web Start is great if you have infrequent updates and good bandwidth.</p>\n\n<p>If not, however, you need something else.  I worked on a project where we had frequent updates and horrible bandwidth.  We rolled our own classfile server; the startup code would talk to the server to see if updates were needed on a per-class basis.  If so, the changed classes were downloaded and the application continued as normal.</p>\n\n<p>It was actually not terribly complicated, so don't be afraid to roll your own if existing tools don't work.</p>\n"},{"tags":[],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1227199777,"creation_date":1227199777,"answer_id":306014,"question_id":305461,"body_markdown":"I believe install4J now offers this functionality as part of their install builder (http://www.ej-technologies.com/products/install4j/overview.html) We&#39;ve been wanting to check it out but haven&#39;t had a chance yet.","title":"&quot;Automatic updates&quot; for Java (desktop) application?","body":"<p>I believe install4J now offers this functionality as part of their install builder (<a href=\"http://www.ej-technologies.com/products/install4j/overview.html\" rel=\"noreferrer\">http://www.ej-technologies.com/products/install4j/overview.html</a>) We've been wanting to check it out but haven't had a chance yet.</p>\n"},{"tags":[],"owner":{"account_id":19267,"reputation":5479,"user_id":45018,"accept_rate":73,"display_name":"Yang Meyer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1229429349,"creation_date":1229429349,"answer_id":371110,"question_id":305461,"body_markdown":"Take a look at [Equinox p2][1], which is probably what you meant by &quot;Eclipse RCP&#39;s OSGi stuff&quot;... AFAIK you *will* need to OSGi-ify your app to use p2 (which at the very least means making your whole application one big bundle).\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/Equinox_p2","title":"&quot;Automatic updates&quot; for Java (desktop) application?","body":"<p>Take a look at <a href=\"http://wiki.eclipse.org/Equinox_p2\" rel=\"nofollow noreferrer\">Equinox p2</a>, which is probably what you meant by \"Eclipse RCP's OSGi stuff\"... AFAIK you <em>will</em> need to OSGi-ify your app to use p2 (which at the very least means making your whole application one big bundle).</p>\n"},{"tags":[],"owner":{"account_id":7559823,"reputation":69,"user_id":6881084,"display_name":"Robert Makritsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647432463,"creation_date":1647432463,"answer_id":71496821,"question_id":305461,"body_markdown":"It is not like plugin system. But it has updating and installing function for desktop app. You can look by link [this][1]\r\n\r\n\r\n  [1]: https://github.com/gdevby/desktop-starter-launch-update-bootstrap","title":"&quot;Automatic updates&quot; for Java (desktop) application?","body":"<p>It is not like plugin system. But it has updating and installing function for desktop app. You can look by link <a href=\"https://github.com/gdevby/desktop-starter-launch-update-bootstrap\" rel=\"nofollow noreferrer\">this</a></p>\n"}],"owner":{"account_id":17533,"reputation":5283,"user_id":39334,"accept_rate":81,"display_name":"stolsvik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18463,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":5,"score":28,"last_activity_date":1647432463,"creation_date":1227191716,"question_id":305461,"body_markdown":"What system do you recommend for implementing &quot;automatic updates&quot; for some java (desktop) application? I&#39;d also want to have module/plugin installation and update. Think Eclipse and Firefox.\r\n\r\nI&#39;m aware of Eclipse RCP&#39;s OSGi stuff, and also NetBeans RCP has something here. Do one have to buy wholly into their respective RCP stuff to use their module and automatic update systems?\r\n\r\nAre there other options?","title":"&quot;Automatic updates&quot; for Java (desktop) application?","body":"<p>What system do you recommend for implementing \"automatic updates\" for some java (desktop) application? I'd also want to have module/plugin installation and update. Think Eclipse and Firefox.</p>\n\n<p>I'm aware of Eclipse RCP's OSGi stuff, and also NetBeans RCP has something here. Do one have to buy wholly into their respective RCP stuff to use their module and automatic update systems?</p>\n\n<p>Are there other options?</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1647427027,"post_id":71495354,"comment_id":126366323,"body_markdown":"I don&#39;t think that query would find out on its own that the first few fields could be packed into an `Utilisateur` object. Instead you probably have a number (`obj[0]`, `BigInteger` as the message says, which is probably `u.id`) and 3 strings (`obj[1]` is probably `u.centre_rc`, then `obj[2]` is probably `u.numero_rc`, and `obj[3]` may be `o.centre_rc`).","body":"I don&#39;t think that query would find out on its own that the first few fields could be packed into an <code>Utilisateur</code> object. Instead you probably have a number (<code>obj[0]</code>, <code>BigInteger</code> as the message says, which is probably <code>u.id</code>) and 3 strings (<code>obj[1]</code> is probably <code>u.centre_rc</code>, then <code>obj[2]</code> is probably <code>u.numero_rc</code>, and <code>obj[3]</code> may be <code>o.centre_rc</code>)."},{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":0,"creation_date":1647427948,"post_id":71495354,"comment_id":126366747,"body_markdown":"@tevemadar yeah I got it, please any suggestion to fix this ?","body":"@tevemadar yeah I got it, please any suggestion to fix this ?"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1647429218,"post_id":71495354,"comment_id":126367280,"body_markdown":"I think you need to `select u, o.centre_rc` to get the Utilisateur-Object as first element in the array","body":"I think you need to <code>select u, o.centre_rc</code> to get the Utilisateur-Object as first element in the array"},{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":0,"creation_date":1647430190,"post_id":71495354,"comment_id":126367686,"body_markdown":"@Turo it gives me this error `could not prepare statement; SQL [select u, o.centre_rc from utilisateur u inner join operateur o on o.id=u.operateur_id limit ?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement`","body":"@Turo it gives me this error <code>could not prepare statement; SQL [select u, o.centre_rc from utilisateur u inner join operateur o on o.id=u.operateur_id limit ?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement</code>"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1647603561,"post_id":71495354,"comment_id":126417983,"body_markdown":"Ah, sorry for the late reply, didn&#39;t see the native query=true. Has to be a JPA Query with Cclass name and membe name...","body":"Ah, sorry for the late reply, didn&#39;t see the native query=true. Has to be a JPA Query with Cclass name and membe name..."}],"answers":[{"tags":[],"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647427087,"creation_date":1647427087,"answer_id":71495573,"question_id":71495354,"body_markdown":"`findAllOperateurs` doesn&#39;t return an array with first object is a Utilisateur and second object is a String like that.\r\n\r\nWhen you run this query directly in DB, each row it returns is an element in the `page` array.\r\n\r\nBy accessing `obj[0]`, you&#39;re accessing the first column of the row which is the id of type BigInteger, you can&#39;t cast a BigInteger to Utilisateur.\r\n\r\nYou can cast `obj` Utilisateur.","title":"class java.math.BigInteger cannot be cast to class : use @query to get records from two diffrent tables","body":"<p><code>findAllOperateurs</code> doesn't return an array with first object is a Utilisateur and second object is a String like that.</p>\n<p>When you run this query directly in DB, each row it returns is an element in the <code>page</code> array.</p>\n<p>By accessing <code>obj[0]</code>, you're accessing the first column of the row which is the id of type BigInteger, you can't cast a BigInteger to Utilisateur.</p>\n<p>You can cast <code>obj</code> Utilisateur.</p>\n"}],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647431992,"creation_date":1647426200,"question_id":71495354,"body_markdown":"I need to get a custom json containing the fields of the class **Utilisateur** plus a fied (centre_rc) of another class **Operateur**\r\nI tried ti implement this using @Transient with centre_rc in Utilisateur.java but my json is always null. Now i tried to get Object[] in UtilisateurRepository.java (the code is shown below) but I get this error `class java.math.BigInteger cannot be cast to class com.mycompany.myapp.domain.Utilisateur (java.math.BigInteger is in module java.base of loader &#39;bootstrap&#39;; com.mycompany.myapp.domain.Utilisateur is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @51ff3ed4)`\r\n\r\nhere is **Utilisateur** class\r\n``` \r\n@Entity\r\n@Table(name = &quot;utilisateur&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class Utilisateur implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;nom_utilisateur&quot;)\r\n    private String nomUtilisateur;\r\n\r\n    @Column(name = &quot;prenom&quot;)\r\n    private String prenom;\r\n\r\n    @Column(name = &quot;nom&quot;)\r\n    private String nom;\r\n\r\n    @Column(name = &quot;date_inscription&quot;)\r\n    private LocalDate dateInscription;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n    /*\r\n    @Transient\r\n    @JsonSerialize\r\n    private String centre_rc;\r\n    */\r\n\r\n    @ManyToOne\r\n    @JsonIgnoreProperties(value = { &quot;utilisateurs&quot; }, allowSetters = true)\r\n    private Operateur operateur;\r\n\r\n    //getters &amp; setters\r\n}\r\n```\r\nhere is **Operateur** class\r\n```\r\n@Entity\r\n@Table(name = &quot;operateur&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class Operateur implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;centre_rc&quot;)\r\n    private String centreRc;\r\n\r\n    @Column(name = &quot;numero_rc&quot;)\r\n    private String numeroRc;\r\n\r\n    @OneToMany(mappedBy = &quot;operateur&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    @JsonIgnoreProperties(value = { &quot;operateur&quot; }, allowSetters = true)\r\n    private Set&lt;Utilisateur&gt; utilisateurs = new HashSet&lt;&gt;();\r\n    //getters &amp; setters\r\n}\r\n```\r\nIn UtilisateurRepository.java here is my SQL query:\r\n```\r\n@Query(value = &quot;select u.*, o.centre_rc from utilisateur u inner join operateur o on o.id=u.operateur_id&quot;, nativeQuery = true)\r\n    Page&lt;Object[]&gt; findAllOperateurs(Pageable pageable);\r\n```\r\n\r\nIn UtilisateurResource.java\r\n```\r\n @GetMapping(&quot;/utilisateursOperateurs&quot;)\r\n    public ResponseEntity&lt;List&lt;Object[]&gt;&gt; getAllUtilisateursCalledOperateurs(\r\n        @org.springdoc.api.annotations.ParameterObject Pageable pageable\r\n    ) {\r\n        log.debug(&quot;REST request to get a page of Utilisateurs Operateurs&quot;);\r\n        Page&lt;Object[]&gt; page = utilisateurRepository.findAllOperateurs(pageable);\r\n        for(Object[] obj : page){\r\n            Utilisateur utilisateur = (Utilisateur) obj[0];\r\n            String centre_rc = (String) obj[1];\r\n        }\r\n        HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\r\n        return ResponseEntity.ok().headers(headers).body(page.getContent());\r\n    }\r\n```\r\n\r\n**UPDATE**\r\nI tried @Transient field called centre_rc in Utilisateur class but the json return null for this field","title":"class java.math.BigInteger cannot be cast to class : use @query to get records from two diffrent tables","body":"<p>I need to get a custom json containing the fields of the class <strong>Utilisateur</strong> plus a fied (centre_rc) of another class <strong>Operateur</strong>\nI tried ti implement this using @Transient with centre_rc in Utilisateur.java but my json is always null. Now i tried to get Object[] in UtilisateurRepository.java (the code is shown below) but I get this error <code>class java.math.BigInteger cannot be cast to class com.mycompany.myapp.domain.Utilisateur (java.math.BigInteger is in module java.base of loader 'bootstrap'; com.mycompany.myapp.domain.Utilisateur is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @51ff3ed4)</code></p>\n<p>here is <strong>Utilisateur</strong> class</p>\n<pre><code>@Entity\n@Table(name = &quot;utilisateur&quot;)\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Utilisateur implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;nom_utilisateur&quot;)\n    private String nomUtilisateur;\n\n    @Column(name = &quot;prenom&quot;)\n    private String prenom;\n\n    @Column(name = &quot;nom&quot;)\n    private String nom;\n\n    @Column(name = &quot;date_inscription&quot;)\n    private LocalDate dateInscription;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n    /*\n    @Transient\n    @JsonSerialize\n    private String centre_rc;\n    */\n\n    @ManyToOne\n    @JsonIgnoreProperties(value = { &quot;utilisateurs&quot; }, allowSetters = true)\n    private Operateur operateur;\n\n    //getters &amp; setters\n}\n</code></pre>\n<p>here is <strong>Operateur</strong> class</p>\n<pre><code>@Entity\n@Table(name = &quot;operateur&quot;)\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Operateur implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;centre_rc&quot;)\n    private String centreRc;\n\n    @Column(name = &quot;numero_rc&quot;)\n    private String numeroRc;\n\n    @OneToMany(mappedBy = &quot;operateur&quot;)\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n    @JsonIgnoreProperties(value = { &quot;operateur&quot; }, allowSetters = true)\n    private Set&lt;Utilisateur&gt; utilisateurs = new HashSet&lt;&gt;();\n    //getters &amp; setters\n}\n</code></pre>\n<p>In UtilisateurRepository.java here is my SQL query:</p>\n<pre><code>@Query(value = &quot;select u.*, o.centre_rc from utilisateur u inner join operateur o on o.id=u.operateur_id&quot;, nativeQuery = true)\n    Page&lt;Object[]&gt; findAllOperateurs(Pageable pageable);\n</code></pre>\n<p>In UtilisateurResource.java</p>\n<pre><code> @GetMapping(&quot;/utilisateursOperateurs&quot;)\n    public ResponseEntity&lt;List&lt;Object[]&gt;&gt; getAllUtilisateursCalledOperateurs(\n        @org.springdoc.api.annotations.ParameterObject Pageable pageable\n    ) {\n        log.debug(&quot;REST request to get a page of Utilisateurs Operateurs&quot;);\n        Page&lt;Object[]&gt; page = utilisateurRepository.findAllOperateurs(pageable);\n        for(Object[] obj : page){\n            Utilisateur utilisateur = (Utilisateur) obj[0];\n            String centre_rc = (String) obj[1];\n        }\n        HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\n        return ResponseEntity.ok().headers(headers).body(page.getContent());\n    }\n</code></pre>\n<p><strong>UPDATE</strong>\nI tried @Transient field called centre_rc in Utilisateur class but the json return null for this field</p>\n"},{"tags":["java","unit-testing","testing","junit","mockito"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1647430983,"post_id":71496398,"comment_id":126367969,"body_markdown":"Ideally you should write one separate test for each different scenario. For things that need to be set up every time, you can use `@Before` in your test class.","body":"Ideally you should write one separate test for each different scenario. For things that need to be set up every time, you can use <code>@Before</code> in your test class."},{"owner":{"display_name":"user18243566"},"score":0,"creation_date":1647431509,"post_id":71496398,"comment_id":126368167,"body_markdown":"@QBrute Thanks, but I mean not general things that can be collected in `@Before` section. So, do you mean that I need to perform assertions for `employeeService.save()` part even if I test the first or the third condition? Or just verify it is called or not according to the situation. Any idea?","body":"@QBrute Thanks, but I mean not general things that can be collected in <code>@Before</code> section. So, do you mean that I need to perform assertions for <code>employeeService.save()</code> part even if I test the first or the third condition? Or just verify it is called or not according to the situation. Any idea?"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647431863,"creation_date":1647431064,"answer_id":71496523,"question_id":71496398,"body_markdown":"You should not try to test your code line by line, but with cases that cover a single meaningful scenario. So if you already have a case which checks a condition, you don&#39;t have to repeat those asserts in other test cases.\r\n\r\nIn your example I think these could be the core cases:\r\n\r\n1. if the UUID does not exist, an exception is thrown and the employee is not saved\r\n2. if the UUID exists, all the employee fields are saved correctly\r\n3. if the employee is saved, but the employee&#39;s department does not exist an exception is thrown  \r\n\r\nTo test them you could do something like this:\r\n\r\n\r\n    EmployeeService employeeService = mock(EmployeeService.class);\r\n\r\ncase 1:\r\n\r\n    when(employeeService.existsByUuid(employeeUuid)).thenReturn(false);   \r\n    try {\r\n        testObject.create(request);\r\n        fail();\r\n    }\r\n    catch(EntityNotFoundException e) {\r\n        verify(employeeService, never()).save(...);\r\n    }\r\n\r\ncase 2:\r\n\r\n    when(employeeService.existsByUuid(employeeUuid)).thenReturn(true); \r\n    when(employeeService.existsByUuid(departmentUuid)).thenReturn(true);    \r\n    testObject.create(request);\r\n    verify(employeeService).save(field1, field2, ...);\r\n\r\ncase 3: \r\n\r\n    when(employeeService.existsByUuid(employeeUuid)).thenReturn(true);   \r\n    when(employeeService.existsByUuid(departmentUuid)).thenReturn(false);   \r\n    try {\r\n        testObject.create(request);\r\n        fail();\r\n    }\r\n    catch(EntityNotFoundException e) {\r\n        // success\r\n    }\r\n\r\nBTW you can also indicate expected exceptions in the @Test annotation, but then you cannot do any further checking on the results:\r\n\r\n    @Test(expected = EntityNotFoundException.class)\r\n    public void test3() {\r\n        when(employeeService.existsByUuid(employeeUuid)).thenReturn(true);   \r\n        when(employeeService.existsByUuid(departmentUuid)).thenReturn(false);   \r\n        testObject.create(request);\r\n    }\r\n","title":"Unit Test for multiple condition in Java?","body":"<p>You should not try to test your code line by line, but with cases that cover a single meaningful scenario. So if you already have a case which checks a condition, you don't have to repeat those asserts in other test cases.</p>\n<p>In your example I think these could be the core cases:</p>\n<ol>\n<li>if the UUID does not exist, an exception is thrown and the employee is not saved</li>\n<li>if the UUID exists, all the employee fields are saved correctly</li>\n<li>if the employee is saved, but the employee's department does not exist an exception is thrown</li>\n</ol>\n<p>To test them you could do something like this:</p>\n<pre><code>EmployeeService employeeService = mock(EmployeeService.class);\n</code></pre>\n<p>case 1:</p>\n<pre><code>when(employeeService.existsByUuid(employeeUuid)).thenReturn(false);   \ntry {\n    testObject.create(request);\n    fail();\n}\ncatch(EntityNotFoundException e) {\n    verify(employeeService, never()).save(...);\n}\n</code></pre>\n<p>case 2:</p>\n<pre><code>when(employeeService.existsByUuid(employeeUuid)).thenReturn(true); \nwhen(employeeService.existsByUuid(departmentUuid)).thenReturn(true);    \ntestObject.create(request);\nverify(employeeService).save(field1, field2, ...);\n</code></pre>\n<p>case 3:</p>\n<pre><code>when(employeeService.existsByUuid(employeeUuid)).thenReturn(true);   \nwhen(employeeService.existsByUuid(departmentUuid)).thenReturn(false);   \ntry {\n    testObject.create(request);\n    fail();\n}\ncatch(EntityNotFoundException e) {\n    // success\n}\n</code></pre>\n<p>BTW you can also indicate expected exceptions in the @Test annotation, but then you cannot do any further checking on the results:</p>\n<pre><code>@Test(expected = EntityNotFoundException.class)\npublic void test3() {\n    when(employeeService.existsByUuid(employeeUuid)).thenReturn(true);   \n    when(employeeService.existsByUuid(departmentUuid)).thenReturn(false);   \n    testObject.create(request);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647431743,"creation_date":1647431743,"answer_id":71496658,"question_id":71496398,"body_markdown":"You can use mockito verify and assert throws to test your objectives something like below\r\n\r\n        @Test\r\n        public void testOne(){\r\n            when(employeeService.existsByUuid(uuid)).thenReturn(false);\r\n    \r\n            assertThrows(EntityNotFoundException.class, () -&gt; {\r\n                create(request);\r\n            });\r\n    \r\n            verify(employeeService, times(0)).save(eq(empObj));\r\n            verify(departmentService, times(0)).existsByUuid(eq(departmentObj));\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        @Test\r\n        public void testTwo(){\r\n            when(employeeService.existsByUuid(uuid)).thenReturn(true);\r\n             when(departmentService.existsByUuid(uuid)).thenReturn(true);\r\n    \r\n            create(request);\r\n    \r\n            verify(employeeService, times(1)).save(eq(empObj));\r\n            verify(departmentService, times(1)).existsByUuid(eq(departmentObj));\r\n        }\r\n    \r\n        @Test\r\n        public void testThree(){\r\n            when(employeeService.existsByUuid(uuid)).thenReturn(true);\r\n            when(departmentService.existsByUuid(uuid)).thenReturn(false);\r\n    \r\n            assertThrows(EntityNotFoundException.class, () -&gt; {\r\n                create(request);\r\n            });\r\n    \r\n            verify(employeeService, times(1)).save(eq(empObj));\r\n            verify(departmentService, times(1)).existsByUuid(eq(departmentObj));\r\n        }","title":"Unit Test for multiple condition in Java?","body":"<p>You can use mockito verify and assert throws to test your objectives something like below</p>\n<pre><code>    @Test\n    public void testOne(){\n        when(employeeService.existsByUuid(uuid)).thenReturn(false);\n\n        assertThrows(EntityNotFoundException.class, () -&gt; {\n            create(request);\n        });\n\n        verify(employeeService, times(0)).save(eq(empObj));\n        verify(departmentService, times(0)).existsByUuid(eq(departmentObj));\n    }\n\n\n\n\n    @Test\n    public void testTwo(){\n        when(employeeService.existsByUuid(uuid)).thenReturn(true);\n         when(departmentService.existsByUuid(uuid)).thenReturn(true);\n\n        create(request);\n\n        verify(employeeService, times(1)).save(eq(empObj));\n        verify(departmentService, times(1)).existsByUuid(eq(departmentObj));\n    }\n\n    @Test\n    public void testThree(){\n        when(employeeService.existsByUuid(uuid)).thenReturn(true);\n        when(departmentService.existsByUuid(uuid)).thenReturn(false);\n\n        assertThrows(EntityNotFoundException.class, () -&gt; {\n            create(request);\n        });\n\n        verify(employeeService, times(1)).save(eq(empObj));\n        verify(departmentService, times(1)).existsByUuid(eq(departmentObj));\n    }\n</code></pre>\n"}],"owner":{"display_name":"user18243566"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2410,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71496658,"answer_count":2,"score":-1,"last_activity_date":1647431863,"creation_date":1647430573,"question_id":71496398,"body_markdown":"I am new in Unit Testing and I have sometimes such situations with multiple conditions. However, I am not sure if I re-mock or verify the same cases for each test. \r\n\r\nFor example, I am trying to write Unit Tests for the following service method:\r\n\r\n```\r\npublic void create(Request request) {\r\n    \r\n    // code omitted\r\n\r\n    if (!employeeService.existsByUuid(uuid)) {\r\n        throw new EntityNotFoundException(&quot;Not found&quot;);\r\n    }\r\n\r\n    EmployeeDTO employee = employeeService.save(...);\r\n    \r\n    if (!departmentService.existsByUuid(employee.getDepartment())) {\r\n        throw new EntityNotFoundException(&quot;Not found&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI think I need to write my tests for the following scenarios:\r\n\r\n**1.** when `employeeService.existsByUuid(uuid) == false`, then throw new EntityNotFoundException. then verify `employeeService.save()` and `departmentService.existsByUuid()` is never called. \r\n\r\n**2.** when `employeeService.existsByUuid(uuid) == true` then `employeeService.save()` is called and I assert the values. and then verify `employeeService.save()` and `departmentService.existsByUuid()` is never called. \r\n\r\n**3.** when `departmentService.existsByUuid() == false` then throw new EntityNotFoundException. At this stage, I also mock `employeeService.existsByUuid(uuid)` as `true` so that test passes the first condition. However, I am not sure if do I need to assert the second part; `employeeService.save()` is called and I assert the values. Do I assert of the returned values or just verify that method is called 1 time. Because I already asserted its value and the 3rd test is just for the 3rd condition. \r\n\r\nAny idea for this kind of scenarios when we have multiple condition and may need to re-test the same condition again and again? \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unit Test for multiple condition in Java?","body":"<p>I am new in Unit Testing and I have sometimes such situations with multiple conditions. However, I am not sure if I re-mock or verify the same cases for each test.</p>\n<p>For example, I am trying to write Unit Tests for the following service method:</p>\n<pre><code>public void create(Request request) {\n    \n    // code omitted\n\n    if (!employeeService.existsByUuid(uuid)) {\n        throw new EntityNotFoundException(&quot;Not found&quot;);\n    }\n\n    EmployeeDTO employee = employeeService.save(...);\n    \n    if (!departmentService.existsByUuid(employee.getDepartment())) {\n        throw new EntityNotFoundException(&quot;Not found&quot;);\n    }\n}\n</code></pre>\n<p>I think I need to write my tests for the following scenarios:</p>\n<p><strong>1.</strong> when <code>employeeService.existsByUuid(uuid) == false</code>, then throw new EntityNotFoundException. then verify <code>employeeService.save()</code> and <code>departmentService.existsByUuid()</code> is never called.</p>\n<p><strong>2.</strong> when <code>employeeService.existsByUuid(uuid) == true</code> then <code>employeeService.save()</code> is called and I assert the values. and then verify <code>employeeService.save()</code> and <code>departmentService.existsByUuid()</code> is never called.</p>\n<p><strong>3.</strong> when <code>departmentService.existsByUuid() == false</code> then throw new EntityNotFoundException. At this stage, I also mock <code>employeeService.existsByUuid(uuid)</code> as <code>true</code> so that test passes the first condition. However, I am not sure if do I need to assert the second part; <code>employeeService.save()</code> is called and I assert the values. Do I assert of the returned values or just verify that method is called 1 time. Because I already asserted its value and the 3rd test is just for the 3rd condition.</p>\n<p>Any idea for this kind of scenarios when we have multiple condition and may need to re-test the same condition again and again?</p>\n"},{"tags":["java","database","race-condition"],"answers":[{"tags":[],"owner":{"account_id":15121473,"reputation":945,"user_id":10912170,"display_name":"Sha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647431745,"creation_date":1647431745,"answer_id":71496659,"question_id":71473782,"body_markdown":"Use **syncronized** in java.\r\n\r\n    public List activeRoles(userId) {\r\n       var roles = repository.findAllRolesOfUser(userId);\r\n    \r\n       if (roles == null) {\r\n          var role = new Role(&quot;DEFAULT&quot;, userId);\r\n          save(role);\r\n          \r\n          return Arrays.asList(role)\r\n       } else {\r\n          return roles;\r\n       }\r\n    }\r\n\r\n    private syncronized void save(data) {\r\n         var role = repository.findBy(...);\r\n         \r\n         if (!role) {\r\n            repository.save(data);\r\n         }\r\n    }","title":"Race Condition On Save Event","body":"<p>Use <strong>syncronized</strong> in java.</p>\n<pre><code>public List activeRoles(userId) {\n   var roles = repository.findAllRolesOfUser(userId);\n\n   if (roles == null) {\n      var role = new Role(&quot;DEFAULT&quot;, userId);\n      save(role);\n      \n      return Arrays.asList(role)\n   } else {\n      return roles;\n   }\n}\n\nprivate syncronized void save(data) {\n     var role = repository.findBy(...);\n     \n     if (!role) {\n        repository.save(data);\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":15121473,"reputation":945,"user_id":10912170,"display_name":"Sha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71496659,"answer_count":1,"score":0,"last_activity_date":1647431745,"creation_date":1647289207,"question_id":71473782,"body_markdown":"I have two different endpoints like:\r\n\r\n    endpoint1 =&gt; /api/user\r\n    endpoint2 =&gt; /api/user/roles\r\n\r\nImagine that these two endpoints call same method at the same time.\r\n\r\n    public List activeRoles(userId) {\r\n       var roles = repository.findAllRolesOfUser(userId);\r\n    \r\n       if (roles == null) {\r\n          var role = new Role(&quot;DEFAULT&quot;, userId);\r\n          repository.save(role);\r\n          \r\n          return Arrays.asList(role)\r\n       } else {\r\n          return roles;\r\n       }\r\n    }\r\n\r\nWhen I call activeRoles(userId) method from endpoint1 and endpoint2 at the same time, it causes race condition and &quot;DEFAULT&quot; role is created twice in the database. Is there a way to avoid it?\r\n\r\nNote: I cannot use unique constraint.","title":"Race Condition On Save Event","body":"<p>I have two different endpoints like:</p>\n<pre><code>endpoint1 =&gt; /api/user\nendpoint2 =&gt; /api/user/roles\n</code></pre>\n<p>Imagine that these two endpoints call same method at the same time.</p>\n<pre><code>public List activeRoles(userId) {\n   var roles = repository.findAllRolesOfUser(userId);\n\n   if (roles == null) {\n      var role = new Role(&quot;DEFAULT&quot;, userId);\n      repository.save(role);\n      \n      return Arrays.asList(role)\n   } else {\n      return roles;\n   }\n}\n</code></pre>\n<p>When I call activeRoles(userId) method from endpoint1 and endpoint2 at the same time, it causes race condition and &quot;DEFAULT&quot; role is created twice in the database. Is there a way to avoid it?</p>\n<p>Note: I cannot use unique constraint.</p>\n"},{"tags":["java","memory-leaks","garbage-collection","axis","finalizer"],"owner":{"account_id":2091022,"reputation":856,"user_id":1860867,"accept_rate":40,"display_name":"ptha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647431259,"creation_date":1647431259,"question_id":71496559,"body_markdown":"We have a **JBoss JDK 7** application server in production, that is slowing down over time, the number of connections increasing (as processing time increases) eventually the server needs to be restarted and the cycle starts again.\r\n\r\nUsing **GCViewer** on the GC log looks like this:  \r\n\r\n[![GCViewer][1]][1]  \r\n\r\nUsing **Eclipse MAT** on a heap dump, **Leak Suspects** shows this:  \r\n\r\n[![MAT Leak Suspects][2]][2]  \r\n\r\nThe main leak suspect is: **java.lang.ref.Finalizer** using **37.57% (501.7 MB)**.  \r\nIf I then click on **Details** -&gt; **All Accumulated Objects by Class** and then filter by the class name **MessageContext**.  \r\nI can the right click on **org.apache.axis.MessageContext** and select **Calculate Precise Retained Size**.  \r\n\r\n[![Finalizer MessageContext Retained Size][3]][3]  \r\n\r\nThis shows a **Retained Heap** of **419.81 MB**.  \r\nThis would appear to be the majority of the **501.7 MB**.  \r\nThe **org.apache.axis.MessageContext** class is contained in the **axis-1.4.jar** used by our application.\r\n\r\nLooking at the **Java Basics** -&gt; **Finalizer Overview**  \r\n\r\n[![MAT Finalizer Overview][4]][4] \r\n\r\nThe Finalizer thread does not seem to be blocked  \r\n\r\n[![MAT Finalizer thread details][5]][5]\r\n\r\nSo my questions are:\r\n\r\n 1. Are my steps to calculate that the majority of memory held by Finalizers for **org.apache.axis.MessageContext** objects correct?\r\n\r\n 2. Is the Finalizer holding many org.apache.axis.MessageContext objects something I should  investigate further? The application is a rule engine processing XML messages, sending them from one thread to another so this is possibly how it would look under heavy load. In a separate heap dump the primary Leak Suspect **java.lang.ref.Finalizer** was **922.68 MB (56.17%)**, in that case the Retained heap for **org.apache.axis.MessageContext** objects was **771 MB**.\r\n\r\n 3. What other steps using MAT or other can I use to narrow down this issue? Is there any way to determine that the application is overloaded, has too many long running requests, rather than there is an inherent memory leak? There are other servers running the same application that are not exhibiting this behaviour.\r\n\r\nAny help on the above questions would be appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/ukM6Z.png\r\n  [2]: https://i.stack.imgur.com/OLcLQ.png\r\n  [3]: https://i.stack.imgur.com/SWsqc.png\r\n  [4]: https://i.stack.imgur.com/YVJFb.png\r\n  [5]: https://i.stack.imgur.com/7bRE1.png","title":"Finalizer Memory Leak or overloaded server","body":"<p>We have a <strong>JBoss JDK 7</strong> application server in production, that is slowing down over time, the number of connections increasing (as processing time increases) eventually the server needs to be restarted and the cycle starts again.</p>\n<p>Using <strong>GCViewer</strong> on the GC log looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/ukM6Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ukM6Z.png\" alt=\"GCViewer\" /></a></p>\n<p>Using <strong>Eclipse MAT</strong> on a heap dump, <strong>Leak Suspects</strong> shows this:</p>\n<p><a href=\"https://i.stack.imgur.com/OLcLQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OLcLQ.png\" alt=\"MAT Leak Suspects\" /></a></p>\n<p>The main leak suspect is: <strong>java.lang.ref.Finalizer</strong> using <strong>37.57% (501.7 MB)</strong>.<br />\nIf I then click on <strong>Details</strong> -&gt; <strong>All Accumulated Objects by Class</strong> and then filter by the class name <strong>MessageContext</strong>.<br />\nI can the right click on <strong>org.apache.axis.MessageContext</strong> and select <strong>Calculate Precise Retained Size</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/SWsqc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SWsqc.png\" alt=\"Finalizer MessageContext Retained Size\" /></a></p>\n<p>This shows a <strong>Retained Heap</strong> of <strong>419.81 MB</strong>.<br />\nThis would appear to be the majority of the <strong>501.7 MB</strong>.<br />\nThe <strong>org.apache.axis.MessageContext</strong> class is contained in the <strong>axis-1.4.jar</strong> used by our application.</p>\n<p>Looking at the <strong>Java Basics</strong> -&gt; <strong>Finalizer Overview</strong></p>\n<p><a href=\"https://i.stack.imgur.com/YVJFb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVJFb.png\" alt=\"MAT Finalizer Overview\" /></a></p>\n<p>The Finalizer thread does not seem to be blocked</p>\n<p><a href=\"https://i.stack.imgur.com/7bRE1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7bRE1.png\" alt=\"MAT Finalizer thread details\" /></a></p>\n<p>So my questions are:</p>\n<ol>\n<li><p>Are my steps to calculate that the majority of memory held by Finalizers for <strong>org.apache.axis.MessageContext</strong> objects correct?</p>\n</li>\n<li><p>Is the Finalizer holding many org.apache.axis.MessageContext objects something I should  investigate further? The application is a rule engine processing XML messages, sending them from one thread to another so this is possibly how it would look under heavy load. In a separate heap dump the primary Leak Suspect <strong>java.lang.ref.Finalizer</strong> was <strong>922.68 MB (56.17%)</strong>, in that case the Retained heap for <strong>org.apache.axis.MessageContext</strong> objects was <strong>771 MB</strong>.</p>\n</li>\n<li><p>What other steps using MAT or other can I use to narrow down this issue? Is there any way to determine that the application is overloaded, has too many long running requests, rather than there is an inherent memory leak? There are other servers running the same application that are not exhibiting this behaviour.</p>\n</li>\n</ol>\n<p>Any help on the above questions would be appreciated.</p>\n"},{"tags":["java","dependency-injection","guice"],"comments":[{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":1,"creation_date":1647189797,"post_id":71433671,"comment_id":126303499,"body_markdown":"If you&#39;re using the @Provides then yes, it&#39;s just collecting dust.  If your company takes a stance that you&#39;ll never switch away from the provider, then you probably want to keep things consistent and remove them.","body":"If you&#39;re using the @Provides then yes, it&#39;s just collecting dust.  If your company takes a stance that you&#39;ll never switch away from the provider, then you probably want to keep things consistent and remove them."},{"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"score":0,"creation_date":1647208886,"post_id":71433671,"comment_id":126307673,"body_markdown":"Thanks @kendavidson .Yes I think it’s be better to remove these ‘@Inject’ to keep things clean","body":"Thanks @kendavidson .Yes I think it’s be better to remove these ‘@Inject’ to keep things clean"},{"owner":{"account_id":2693471,"reputation":51,"user_id":2326168,"accept_rate":50,"display_name":"Deepak"},"score":1,"creation_date":1647293682,"post_id":71433671,"comment_id":126331018,"body_markdown":"You need `@Inject` if you were defining a binding in the configure method instead of creating a Provider for this class. \n\nWhen you define a binding in the configure method, you are telling Guice to instantiate the object for you. That is when it looks for a constructor with `@Inject` to figure out what dependencies it has to Inject to construct that object. In case of Provider, you are creating the object yourself by passing all the dependencies required for that class as arguments. So, `@Inject` has no meaning at that case.","body":"You need <code>@Inject</code> if you were defining a binding in the configure method instead of creating a Provider for this class.   When you define a binding in the configure method, you are telling Guice to instantiate the object for you. That is when it looks for a constructor with <code>@Inject</code> to figure out what dependencies it has to Inject to construct that object. In case of Provider, you are creating the object yourself by passing all the dependencies required for that class as arguments. So, <code>@Inject</code> has no meaning at that case."}],"answers":[{"tags":[],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647431090,"creation_date":1647431090,"answer_id":71496531,"question_id":71433671,"body_markdown":"Quoting @Deepak&#39;s comment as the answer:\r\n\r\n&gt;You need @Inject if you were defining a binding in the configure method instead of creating a Provider for this class. When you define a binding in the configure method, you are telling Guice to instantiate the object for you. That is when it looks for a constructor with @Inject to figure out what dependencies it has to Inject to construct that object. In case of Provider, you are creating the object yourself by passing all the dependencies required for that class as arguments. So, @Inject has no meaning at that case","title":"Guice: what happens when I have excessive @Inject on a constructor","body":"<p>Quoting @Deepak's comment as the answer:</p>\n<blockquote>\n<p>You need @Inject if you were defining a binding in the configure method instead of creating a Provider for this class. When you define a binding in the configure method, you are telling Guice to instantiate the object for you. That is when it looks for a constructor with @Inject to figure out what dependencies it has to Inject to construct that object. In case of Provider, you are creating the object yourself by passing all the dependencies required for that class as arguments. So, @Inject has no meaning at that case</p>\n</blockquote>\n"}],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71496531,"answer_count":1,"score":0,"last_activity_date":1647431090,"creation_date":1646973180,"question_id":71433671,"body_markdown":"I have a class `SomeClass` and a `SomeModule` to register it with Guice.   \r\n\r\nI found out that the constructor `SomeClass` is only called by `SomeModule`, and that `SomeModule` is the only place where binding for `SomeClass` happens.   \r\n\r\nThis means that the `@Inject` on `SomeClass`&#39;s constructor is not needed since `prop1` and `prop2` are injected inside `SomeModule` and passed to the constructor. And the testing also seems to prove my findings.     \r\n    \r\n\r\nMy question is that what Guice will do when it sees a `@Inject` like this?  \r\nAlso what side effect will there be if I have an excessive `@Inject`?   \r\n\r\n```java\r\npublic static class SomeModule extends PrivateModule {\r\n\r\n    @Provides\r\n    @Singleton\r\n    @Exposed\r\n    private SomeClass someClass( SomeObject prop1, String prop2) {\r\n        return new SomeClass(prop1, prop2);\r\n    }\r\n}\r\n\r\n\r\npublic class SomeClass {\r\n\r\n    @Inject // unnecessary\r\n    public SomeClass(SomeObject prop1, String prop2){\r\n        ...\r\n    }\r\n}\r\n\r\n```\r\n\r\nIf my understanding is correct, you `@Inject` a constructor when you want to inject objects managed by Guice into the parameters of the constructor.   \r\ne.g. if I have `bind(SomeClass.class).in(Singleton.class)` and bindings for `prop1` and `prop2`, it makes sense to `@Inject` `SomeClass` constructor in order to inject `prop1` and `prop2` into the constructor.   \r\nBut since this isn&#39;t the case, this makes the `@Inject` here unnecessary\r\n\r\nCheers","title":"Guice: what happens when I have excessive @Inject on a constructor","body":"<p>I have a class <code>SomeClass</code> and a <code>SomeModule</code> to register it with Guice.</p>\n<p>I found out that the constructor <code>SomeClass</code> is only called by <code>SomeModule</code>, and that <code>SomeModule</code> is the only place where binding for <code>SomeClass</code> happens.</p>\n<p>This means that the <code>@Inject</code> on <code>SomeClass</code>'s constructor is not needed since <code>prop1</code> and <code>prop2</code> are injected inside <code>SomeModule</code> and passed to the constructor. And the testing also seems to prove my findings.</p>\n<p>My question is that what Guice will do when it sees a <code>@Inject</code> like this?<br />\nAlso what side effect will there be if I have an excessive <code>@Inject</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class SomeModule extends PrivateModule {\n\n    @Provides\n    @Singleton\n    @Exposed\n    private SomeClass someClass( SomeObject prop1, String prop2) {\n        return new SomeClass(prop1, prop2);\n    }\n}\n\n\npublic class SomeClass {\n\n    @Inject // unnecessary\n    public SomeClass(SomeObject prop1, String prop2){\n        ...\n    }\n}\n\n</code></pre>\n<p>If my understanding is correct, you <code>@Inject</code> a constructor when you want to inject objects managed by Guice into the parameters of the constructor.<br />\ne.g. if I have <code>bind(SomeClass.class).in(Singleton.class)</code> and bindings for <code>prop1</code> and <code>prop2</code>, it makes sense to <code>@Inject</code> <code>SomeClass</code> constructor in order to inject <code>prop1</code> and <code>prop2</code> into the constructor.<br />\nBut since this isn't the case, this makes the <code>@Inject</code> here unnecessary</p>\n<p>Cheers</p>\n"},{"tags":["java","recursion","return"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1500230325,"post_id":45130465,"comment_id":77233434,"body_markdown":"the push is the final statement as only the `else` part of the `if` statement follows. So it return at the call site.","body":"the push is the final statement as only the <code>else</code> part of the <code>if</code> statement follows. So it return at the call site."},{"owner":{"account_id":14493021,"reputation":1,"user_id":10468588,"display_name":"Rahul"},"score":0,"creation_date":1621888398,"post_id":45130465,"comment_id":119635187,"body_markdown":"In this question you are not required to add a return because the flow of code will either execute the if block or else block in each recursion call.","body":"In this question you are not required to add a return because the flow of code will either execute the if block or else block in each recursion call."},{"owner":{"account_id":21991662,"reputation":1,"user_id":16264923,"display_name":"ROSHAN RAUT"},"score":0,"creation_date":1628321133,"post_id":45130465,"comment_id":123067964,"body_markdown":"The time complexity will be O(n) as n element removals are required for each insertion. Space complexity will be O(n) as n recursion stack calls are required.","body":"The time complexity will be O(n) as n element removals are required for each insertion. Space complexity will be O(n) as n recursion stack calls are required."}],"answers":[{"tags":[],"owner":{"account_id":10043372,"reputation":314,"user_id":8314123,"display_name":"karran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1500222059,"creation_date":1500222059,"answer_id":45130786,"question_id":45130465,"body_markdown":"The `insert_at_bottom` is a void function. This type of function does not need a return statement. So, as soon as it executes:\r\n\r\n    if(st.isEmpty())\r\n      st.push(x);\r\n\r\nIt does not have anything to return, does not have anything else to execute and stops its recursion. To illustrate, the execution order would be something like this.\r\n\r\n    char a = st.peek();\r\n    st.pop();\r\n    char a2 = st.peek();\r\n    st.pop();\r\n    char a3 = st.peek();\r\n    st.pop();\r\n    st.push(x);\r\n    st.push(a3);\r\n    st.push(a2);\r\n    st.push(a);","title":"Inserting at the end of stack","body":"<p>The <code>insert_at_bottom</code> is a void function. This type of function does not need a return statement. So, as soon as it executes:</p>\n\n<pre><code>if(st.isEmpty())\n  st.push(x);\n</code></pre>\n\n<p>It does not have anything to return, does not have anything else to execute and stops its recursion. To illustrate, the execution order would be something like this.</p>\n\n<pre><code>char a = st.peek();\nst.pop();\nchar a2 = st.peek();\nst.pop();\nchar a3 = st.peek();\nst.pop();\nst.push(x);\nst.push(a3);\nst.push(a2);\nst.push(a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20189442,"reputation":1,"user_id":14808020,"display_name":"Saniya Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621489835,"creation_date":1607694154,"answer_id":65252461,"question_id":45130465,"body_markdown":"No, you don&#39;t necessarily require a return statement as there are no statements in the if block after \r\n\r\n`if(st.isEmpty())\r\n  st.push(x);`\r\n\r\nis executed.\r\n \r\nThe code will perform the same whether we write a return statement or not.\r\n","title":"Inserting at the end of stack","body":"<p>No, you don't necessarily require a return statement as there are no statements in the if block after</p>\n<p><code>if(st.isEmpty()) st.push(x);</code></p>\n<p>is executed.</p>\n<p>The code will perform the same whether we write a return statement or not.</p>\n"},{"tags":[],"owner":{"account_id":18795104,"reputation":26,"user_id":13706752,"display_name":"Vipin Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609255513,"creation_date":1609241520,"answer_id":65491449,"question_id":45130465,"body_markdown":"There are two reasons why `return` is not required.\r\n\r\n1. Since the function is of type void we do not need to return anything.\r\n\r\n2. In case you are thinking that after `if(st.isEmpty()) st.push(x);` remaining part of code will execute then there is else part which will not execute and hence recursion stack will automatically return to the previous call; ","title":"Inserting at the end of stack","body":"<p>There are two reasons why <code>return</code> is not required.</p>\n<ol>\n<li><p>Since the function is of type void we do not need to return anything.</p>\n</li>\n<li><p>In case you are thinking that after <code>if(st.isEmpty()) st.push(x);</code> remaining part of code will execute then there is else part which will not execute and hence recursion stack will automatically return to the previous call;</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20389809,"reputation":1,"user_id":14957964,"display_name":"Aman kashyap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614967708,"creation_date":1614967708,"answer_id":66497515,"question_id":45130465,"body_markdown":"Here we will not require any return statement as we know, the recursion call return there where it was called...\r\n`char a = st.peek();`\r\n`st.pop();`\r\n`insert_at_bottom(x);`\r\n`st.push(a);`\r\n\r\nIn this case, `insert _at_ bottom(x)` will call itself and will return until it reaches its base case.","title":"Inserting at the end of stack","body":"<p>Here we will not require any return statement as we know, the recursion call return there where it was called...\n<code>char a = st.peek();</code>\n<code>st.pop();</code>\n<code>insert_at_bottom(x);</code>\n<code>st.push(a);</code></p>\n<p>In this case, <code>insert _at_ bottom(x)</code> will call itself and will return until it reaches its base case.</p>\n"},{"tags":[],"owner":{"account_id":18557296,"reputation":1,"user_id":13522056,"display_name":"Tejas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621464582,"creation_date":1621464582,"answer_id":67611894,"question_id":45130465,"body_markdown":"if you are using C/C++/java, you can add a return statement that is returning essentially nothing (because the prototype or the return type of function `insert_at_bottom` is void), like:\r\n\r\n    if(st.isEmpty())\r\n    {\r\n      st.push(x);\r\n      return;\r\n    }\r\n\r\nHowever, I must point out that since you are using the if...else statement, the flow of control would itself return from the current function-call-stack even if you don&#39;t use a return statement because after executing the if or else statement, the control would reach at the end of the function.\r\n","title":"Inserting at the end of stack","body":"<p>if you are using C/C++/java, you can add a return statement that is returning essentially nothing (because the prototype or the return type of function <code>insert_at_bottom</code> is void), like:</p>\n<pre><code>if(st.isEmpty())\n{\n  st.push(x);\n  return;\n}\n</code></pre>\n<p>However, I must point out that since you are using the if...else statement, the flow of control would itself return from the current function-call-stack even if you don't use a return statement because after executing the if or else statement, the control would reach at the end of the function.</p>\n"},{"tags":[],"owner":{"account_id":15870267,"reputation":39,"user_id":11451130,"display_name":"Nishant Patel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1621659690,"creation_date":1621659690,"answer_id":67646275,"question_id":45130465,"body_markdown":"    if(st.isEmpty()){\r\n      st.push(x);\r\n      return;\r\n    }\r\n\r\n \r\n\r\nI think we should add a return after adding the element because writing just return means control back cursor to calling function without executing futhure code. and because of the recursion we need a base case also","title":"Inserting at the end of stack","body":"<pre><code>if(st.isEmpty()){\n  st.push(x);\n  return;\n}\n</code></pre>\n<p>I think we should add a return after adding the element because writing just return means control back cursor to calling function without executing futhure code. and because of the recursion we need a base case also</p>\n"},{"tags":[],"owner":{"account_id":22141916,"reputation":1,"user_id":16391841,"display_name":"Harsh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625579087,"creation_date":1625579087,"answer_id":68271728,"question_id":45130465,"body_markdown":"You must have added return statement in the base case.\r\nBut here..\r\n\r\nSince all the other code is in else statement, base case will skip all of that and reach the end of the code anyways, forcing it to return automatically.","title":"Inserting at the end of stack","body":"<p>You must have added return statement in the base case.\nBut here..</p>\n<p>Since all the other code is in else statement, base case will skip all of that and reach the end of the code anyways, forcing it to return automatically.</p>\n"},{"tags":[],"owner":{"account_id":22413479,"reputation":1,"user_id":16621891,"display_name":"Decostar Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634455501,"creation_date":1634455501,"answer_id":69602171,"question_id":45130465,"body_markdown":"return keyword is not used because the algorithm is in if else block .  When the stack is empty than the if part is evaluated and else is not evaluated. Then the control  goes after the else statement. There are no statements to execute after else block so automatically algorithm returns.\r\n\r\nEven if you write &#39;return&#39; keyword after if-else block the output would be same. Also if return type is void and you not write &#39;return&#39; keyword than automatically the call would be over after the control reaches to end of the algorithm and the call returns;","title":"Inserting at the end of stack","body":"<p>return keyword is not used because the algorithm is in if else block .  When the stack is empty than the if part is evaluated and else is not evaluated. Then the control  goes after the else statement. There are no statements to execute after else block so automatically algorithm returns.</p>\n<p>Even if you write 'return' keyword after if-else block the output would be same. Also if return type is void and you not write 'return' keyword than automatically the call would be over after the control reaches to end of the algorithm and the call returns;</p>\n"},{"tags":[],"owner":{"account_id":13394461,"reputation":52,"user_id":9665866,"display_name":"ankit_vd"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647430744,"creation_date":1647430744,"answer_id":71496434,"question_id":45130465,"body_markdown":"Why we don&#39;t need a return statement is because:\r\n1. The ```stack.push(x)``` is inside if block and thus the execution will not go in the else block and will return back to the previous call after this statement.\r\n2. Also this looks like a code in java. And in java the **Stack object&#39;s reference is passed as value in function call**. So during recursion call as the values are being pushed and popped, the stack will automatically keep on updating. So need need to return any stack object also.","title":"Inserting at the end of stack","body":"<p>Why we don't need a return statement is because:</p>\n<ol>\n<li>The <code>stack.push(x)</code> is inside if block and thus the execution will not go in the else block and will return back to the previous call after this statement.</li>\n<li>Also this looks like a code in java. And in java the <strong>Stack object's reference is passed as value in function call</strong>. So during recursion call as the values are being pushed and popped, the stack will automatically keep on updating. So need need to return any stack object also.</li>\n</ol>\n"}],"owner":{"account_id":8620498,"reputation":481,"user_id":6455600,"display_name":"vvv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32221,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":9,"score":10,"last_activity_date":1647430744,"creation_date":1500220045,"question_id":45130465,"body_markdown":"    static void insert_at_bottom(char x){\r\n \r\n        if(st.isEmpty())\r\n            st.push(x);\r\n \r\n        else{\r\n            /* All items are held in Function Call Stack until we\r\n               reach end of the stack. When the stack becomes\r\n               empty, the st.size() becomes 0, the\r\n               above if part is executed and the item is inserted\r\n               at the bottom */\r\n                \r\n            char a = st.peek();\r\n            st.pop();\r\n            insert_at_bottom(x);\r\n \r\n            //push all the items held in Function Call Stack\r\n            //once the item is inserted at the bottom\r\n            st.push(a);\r\n        }\r\n    }\r\n\r\nIn the above code, I have a question about this step:\r\n\r\n    if(st.isEmpty())\r\n            st.push(x);\r\n \r\nDon&#39;t we require a return statement after `st.push(x)`?\r\n\r\nI mean that in recursion stack when that condition is satisfied i.e. when the stack is empty, it would push x into the stack, but how would it return to the previous call without the return statement?","title":"Inserting at the end of stack","body":"<pre><code>static void insert_at_bottom(char x){\n\n    if(st.isEmpty())\n        st.push(x);\n\n    else{\n        /* All items are held in Function Call Stack until we\n           reach end of the stack. When the stack becomes\n           empty, the st.size() becomes 0, the\n           above if part is executed and the item is inserted\n           at the bottom */\n\n        char a = st.peek();\n        st.pop();\n        insert_at_bottom(x);\n\n        //push all the items held in Function Call Stack\n        //once the item is inserted at the bottom\n        st.push(a);\n    }\n}\n</code></pre>\n\n<p>In the above code, I have a question about this step:</p>\n\n<pre><code>if(st.isEmpty())\n        st.push(x);\n</code></pre>\n\n<p>Don't we require a return statement after <code>st.push(x)</code>?</p>\n\n<p>I mean that in recursion stack when that condition is satisfied i.e. when the stack is empty, it would push x into the stack, but how would it return to the previous call without the return statement?</p>\n"},{"tags":["java","mongodb","spring-boot","mongock"],"answers":[{"tags":[],"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1626191613,"creation_date":1626191613,"answer_id":68365738,"question_id":68361033,"body_markdown":"Mongock currently doesn&#39;t provide a schema validation mechanism. However, the team is considering to add as a patch after version 5 is released","title":"java mongo json schema validation","body":"<p>Mongock currently doesn't provide a schema validation mechanism. However, the team is considering to add as a patch after version 5 is released</p>\n"},{"tags":[],"owner":{"account_id":19918374,"reputation":451,"user_id":14594800,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647430164,"creation_date":1647430164,"answer_id":71496308,"question_id":68361033,"body_markdown":"As this may be a helpful information on this topic - it&#39;s possible to add validation rules when creating the collection using Mongock. What works for me:\r\n\r\n    mongoTemplate.createCollection(FileInfo.class, CollectionOptions.empty()\r\n            .validator(Validator.schema(MongoJsonSchema.builder()\r\n                    .required(&quot;fileStatus&quot;, &quot;path&quot;)\r\n                    .build())));\r\n\r\nWill make this two fields required.\r\n","title":"java mongo json schema validation","body":"<p>As this may be a helpful information on this topic - it's possible to add validation rules when creating the collection using Mongock. What works for me:</p>\n<pre><code>mongoTemplate.createCollection(FileInfo.class, CollectionOptions.empty()\n        .validator(Validator.schema(MongoJsonSchema.builder()\n                .required(&quot;fileStatus&quot;, &quot;path&quot;)\n                .build())));\n</code></pre>\n<p>Will make this two fields required.</p>\n"}],"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68365738,"answer_count":2,"score":1,"last_activity_date":1647430164,"creation_date":1626173525,"question_id":68361033,"body_markdown":"I would like to know if mongock supports synthax such as:\r\n\r\n     &quot;allOf&quot;: [{ &quot;$ref&quot;: &quot;/schema/base&quot; }]\r\n\r\nwhen it build the validation during the collection creation or if you know a library that can be used to &quot;merge&quot; all the references in a unique big json schema that can be given as input to the Document used for the validation.\r\n\r\nThe code I&#39;m using to validate a collection is:\r\n\r\n        String jsonString = readJsonFile(fileName);\r\n\r\n        Document doc = Document.parse(jsonString);\r\n\r\n        ValidationOptions validationOptions = new ValidationOptions();\r\n        validationOptions.validator(doc);\r\n        validationOptions.validationAction(ValidationAction.ERROR);\r\n        validationOptions.validationLevel(ValidationLevel.STRICT);\r\n        CreateCollectionOptions cco = new CreateCollectionOptions();\r\n        cco.validationOptions(validationOptions);\r\n\r\nAs you can see for now I&#39;m simply reading the json schema from the file and parse it with the Document object.\r\n\r\nI would like to keep the json schema simpler as possible to be human readable and I have objects that extends others, so it would be easier to have separated json schema files to represent the super objects.\r\n\r\nI&#39;m using java 1.13 and spring boot 2.4.2.","title":"java mongo json schema validation","body":"<p>I would like to know if mongock supports synthax such as:</p>\n<pre><code> &quot;allOf&quot;: [{ &quot;$ref&quot;: &quot;/schema/base&quot; }]\n</code></pre>\n<p>when it build the validation during the collection creation or if you know a library that can be used to &quot;merge&quot; all the references in a unique big json schema that can be given as input to the Document used for the validation.</p>\n<p>The code I'm using to validate a collection is:</p>\n<pre><code>    String jsonString = readJsonFile(fileName);\n\n    Document doc = Document.parse(jsonString);\n\n    ValidationOptions validationOptions = new ValidationOptions();\n    validationOptions.validator(doc);\n    validationOptions.validationAction(ValidationAction.ERROR);\n    validationOptions.validationLevel(ValidationLevel.STRICT);\n    CreateCollectionOptions cco = new CreateCollectionOptions();\n    cco.validationOptions(validationOptions);\n</code></pre>\n<p>As you can see for now I'm simply reading the json schema from the file and parse it with the Document object.</p>\n<p>I would like to keep the json schema simpler as possible to be human readable and I have objects that extends others, so it would be easier to have separated json schema files to represent the super objects.</p>\n<p>I'm using java 1.13 and spring boot 2.4.2.</p>\n"},{"tags":["java","datetime","java-8","datetime-format"],"comments":[{"owner":{"account_id":4540045,"reputation":1159,"user_id":3688170,"display_name":"Salvatore Pannozzo Capodiferro"},"score":0,"creation_date":1605240352,"post_id":27454025,"comment_id":114596593,"body_markdown":"why are you using LocalDateTime without a time?","body":"why are you using LocalDateTime without a time?"}],"answers":[{"tags":[],"owner":{"account_id":1174716,"reputation":6432,"user_id":1840412,"accept_rate":77,"display_name":"retrography"},"down_vote_count":2,"up_vote_count":258,"is_accepted":true,"score":256,"last_activity_date":1418430020,"creation_date":1418430020,"answer_id":27454146,"question_id":27454025,"body_markdown":"It turns out Java does not accept a bare Date value as DateTime. Using LocalDate instead of LocalDateTime solves the issue:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n    LocalDate dt = LocalDate.parse(&quot;20140218&quot;, formatter);","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>It turns out Java does not accept a bare Date value as DateTime. Using LocalDate instead of LocalDateTime solves the issue:</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyyMMdd\");\nLocalDate dt = LocalDate.parse(\"20140218\", formatter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216162,"reputation":2783,"user_id":471227,"accept_rate":63,"display_name":"Tom B"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1422315196,"creation_date":1422315196,"answer_id":28160750,"question_id":27454025,"body_markdown":"This is a really unclear and unhelpful error message. After much trial and error I found that `LocalDateTime` will give the above error if you do not attempt to parse a time. By using `LocalDate` instead, it works without erroring.\r\n\r\nThis is poorly documented and the related exception is very unhelpful.","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>This is a really unclear and unhelpful error message. After much trial and error I found that <code>LocalDateTime</code> will give the above error if you do not attempt to parse a time. By using <code>LocalDate</code> instead, it works without erroring.</p>\n\n<p>This is poorly documented and the related exception is very unhelpful.</p>\n"},{"tags":[],"owner":{"account_id":2367470,"reputation":1257,"user_id":2072903,"display_name":"&#216;yvind Mo"},"down_vote_count":1,"up_vote_count":110,"is_accepted":false,"score":109,"last_activity_date":1530625707,"creation_date":1443699207,"answer_id":32886576,"question_id":27454025,"body_markdown":"If you really need to transform a date to a LocalDateTime object, you could use the LocalDate.atStartOfDay(). This will give you a LocalDateTime object at the specified date, having the hour, minute and second fields set to 0: \r\n\r\n    final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n    LocalDateTime time = LocalDate.parse(&quot;20140218&quot;, formatter).atStartOfDay();","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>If you really need to transform a date to a LocalDateTime object, you could use the LocalDate.atStartOfDay(). This will give you a LocalDateTime object at the specified date, having the hour, minute and second fields set to 0: </p>\n\n<pre><code>final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyyMMdd\");\nLocalDateTime time = LocalDate.parse(\"20140218\", formatter).atStartOfDay();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3219233,"reputation":901,"user_id":2717055,"display_name":"Iulian David"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1647429946,"creation_date":1474794714,"answer_id":39685202,"question_id":27454025,"body_markdown":"For what is worth if anyone should read again this topic(like me) the correct answer would be in `DateTimeFormatter` definition, e.g.:\r\n\r\n    private static DateTimeFormatter DATE_FORMAT =  \r\n                new DateTimeFormatterBuilder().appendPattern(&quot;dd/MM/yyyy[ [HH][:mm][:ss][.SSS]]&quot;)\r\n                .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n                .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n                .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\r\n                .toFormatter(); \r\n\r\nOne should set the optional fields if they will appear. And the rest of code should be exactly the same.\r\n\r\nEdit : usefull thing from wittyameta comment : \r\n\r\n&gt; Remember to add the parseDefaulting AFTER you have called appendPattern. Otherwise it&#39;ll give DateTimeParseException","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>For what is worth if anyone should read again this topic(like me) the correct answer would be in <code>DateTimeFormatter</code> definition, e.g.:</p>\n<pre><code>private static DateTimeFormatter DATE_FORMAT =  \n            new DateTimeFormatterBuilder().appendPattern(&quot;dd/MM/yyyy[ [HH][:mm][:ss][.SSS]]&quot;)\n            .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n            .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n            .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n            .toFormatter(); \n</code></pre>\n<p>One should set the optional fields if they will appear. And the rest of code should be exactly the same.</p>\n<p>Edit : usefull thing from wittyameta comment :</p>\n<blockquote>\n<p>Remember to add the parseDefaulting AFTER you have called appendPattern. Otherwise it'll give DateTimeParseException</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1493367021,"creation_date":1493367021,"answer_id":43675230,"question_id":27454025,"body_markdown":"Expanding on [retrography&#39;s answer](https://stackoverflow.com/a/27454146/1333157)..: I had this same problem even when using `LocalDate` and not `LocalDateTime`. The issue was that I had created my `DateTimeFormatter` using `.withResolverStyle(ResolverStyle.STRICT);`, so I had to use date pattern `uuuuMMdd` instead of `yyyyMMdd` (i.e. &quot;year&quot; instead of &quot;year-of-era&quot;)!\r\n\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n      .parseStrict()\r\n      .appendPattern(&quot;uuuuMMdd&quot;)\r\n      .toFormatter()\r\n      .withResolverStyle(ResolverStyle.STRICT);\r\n    LocalDate dt = LocalDate.parse(&quot;20140218&quot;, formatter);\r\n\r\n(This solution was originally a comment to retrography&#39;s answer, but I was encouraged to post it as a stand-alone answer because it apparently works really well for many people.)","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>Expanding on <a href=\"https://stackoverflow.com/a/27454146/1333157\">retrography's answer</a>..: I had this same problem even when using <code>LocalDate</code> and not <code>LocalDateTime</code>. The issue was that I had created my <code>DateTimeFormatter</code> using <code>.withResolverStyle(ResolverStyle.STRICT);</code>, so I had to use date pattern <code>uuuuMMdd</code> instead of <code>yyyyMMdd</code> (i.e. \"year\" instead of \"year-of-era\")!</p>\n\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n  .parseStrict()\n  .appendPattern(\"uuuuMMdd\")\n  .toFormatter()\n  .withResolverStyle(ResolverStyle.STRICT);\nLocalDate dt = LocalDate.parse(\"20140218\", formatter);\n</code></pre>\n\n<p>(This solution was originally a comment to retrography's answer, but I was encouraged to post it as a stand-alone answer because it apparently works really well for many people.)</p>\n"},{"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1528794853,"creation_date":1520847482,"answer_id":49232011,"question_id":27454025,"body_markdown":"If the date String does not include any value for hours, minutes and etc you cannot directly convert this to a `LocalDateTime`. You can only convert it to a `LocalDate`, because the string **only** **represent** the **year,month and date** components it would be the correct thing to do.\r\n\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n    LocalDate ld = LocalDate.parse(&quot;20180306&quot;, dtf); // 2018-03-06\r\n\r\nAnyway you can convert this to `LocalDateTime`.\r\n\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n    LocalDate ld = LocalDate.parse(&quot;20180306&quot;, dtf);\r\n    LocalDateTime ldt = LocalDateTime.of(ld, LocalTime.of(0,0)); // 2018-03-06T00:00","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>If the date String does not include any value for hours, minutes and etc you cannot directly convert this to a <code>LocalDateTime</code>. You can only convert it to a <code>LocalDate</code>, because the string <strong>only</strong> <strong>represent</strong> the <strong>year,month and date</strong> components it would be the correct thing to do.</p>\n\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"yyyyMMdd\");\nLocalDate ld = LocalDate.parse(\"20180306\", dtf); // 2018-03-06\n</code></pre>\n\n<p>Anyway you can convert this to <code>LocalDateTime</code>.</p>\n\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"yyyyMMdd\");\nLocalDate ld = LocalDate.parse(\"20180306\", dtf);\nLocalDateTime ldt = LocalDateTime.of(ld, LocalTime.of(0,0)); // 2018-03-06T00:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1379686,"reputation":2270,"user_id":1312971,"accept_rate":100,"display_name":"mawburn"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1527022176,"creation_date":1526584711,"answer_id":50399049,"question_id":27454025,"body_markdown":"For anyone who landed here with this error, like I did:\r\n\r\n`Unable to obtain LocalDateTime from TemporalAccessor: {HourOfAmPm=0, MinuteOfHour=0}`\r\n\r\nIt came from a the following line: \r\n\r\n    LocalDateTime.parse(date, DateTimeFormatter.ofPattern(&quot;M/d/yy h:mm&quot;));\r\n\r\nIt turned out that it was because I was using a 12hr Hour pattern on a 0 hour, instead of a 24hr pattern. \r\n\r\n\r\nChanging the hour to 24hr pattern by using a capital H fixes it:\r\n\r\n    LocalDateTime.parse(date, DateTimeFormatter.ofPattern(&quot;M/d/yy H:mm&quot;));","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>For anyone who landed here with this error, like I did:</p>\n\n<p><code>Unable to obtain LocalDateTime from TemporalAccessor: {HourOfAmPm=0, MinuteOfHour=0}</code></p>\n\n<p>It came from a the following line: </p>\n\n<pre><code>LocalDateTime.parse(date, DateTimeFormatter.ofPattern(\"M/d/yy h:mm\"));\n</code></pre>\n\n<p>It turned out that it was because I was using a 12hr Hour pattern on a 0 hour, instead of a 24hr pattern. </p>\n\n<p>Changing the hour to 24hr pattern by using a capital H fixes it:</p>\n\n<pre><code>LocalDateTime.parse(date, DateTimeFormatter.ofPattern(\"M/d/yy H:mm\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14705923,"reputation":9,"user_id":10620654,"display_name":"Vinay Kasarla"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1541633108,"creation_date":1541624990,"answer_id":53197854,"question_id":27454025,"body_markdown":"  \r\nTry this one:\r\n\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy&quot;); \r\n    LocalDate fromLocalDate = LocalDate.parse(fromdstrong textate, dateTimeFormatter);\r\n\r\nYou can add any format you want. That works for me!\r\n","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>Try this one:</p>\n\n<pre><code>DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(\"MM-dd-yyyy\"); \nLocalDate fromLocalDate = LocalDate.parse(fromdstrong textate, dateTimeFormatter);\n</code></pre>\n\n<p>You can add any format you want. That works for me!</p>\n"},{"tags":[],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1543936900,"creation_date":1543936900,"answer_id":53616125,"question_id":27454025,"body_markdown":"This works fine\r\n\r\n    public class DateDemo {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy hh:mm&quot;);\r\n    \t\tString date = &quot;16-08-2018 12:10&quot;;\r\n    \t\tLocalDate localDate = LocalDate.parse(date, formatter);\r\n    \t\tSystem.out.println(&quot;VALUE=&quot;+localDate);\r\n    \t\t\r\n    \t\tDateTimeFormatter formatter1 = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm&quot;);\r\n    \t\tLocalDateTime parse = LocalDateTime.parse(date, formatter1);\r\n    \t\tSystem.out.println(&quot;VALUE1=&quot;+parse);\r\n    \t}\r\n    }\r\n\r\noutput:\r\n\r\n    VALUE=2018-08-16\r\n    VALUE1=2018-08-16T12:10","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>This works fine</p>\n\n<pre><code>public class DateDemo {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"dd-MM-yyyy hh:mm\");\n        String date = \"16-08-2018 12:10\";\n        LocalDate localDate = LocalDate.parse(date, formatter);\n        System.out.println(\"VALUE=\"+localDate);\n\n        DateTimeFormatter formatter1 = DateTimeFormatter.ofPattern(\"dd-MM-yyyy HH:mm\");\n        LocalDateTime parse = LocalDateTime.parse(date, formatter1);\n        System.out.println(\"VALUE1=\"+parse);\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>VALUE=2018-08-16\nVALUE1=2018-08-16T12:10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1300889,"reputation":125,"user_id":1250830,"display_name":"beefsupreme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623184881,"creation_date":1623184881,"answer_id":67894311,"question_id":27454025,"body_markdown":"I arrived at this problem because my input string didn&#39;t have a year in it:\r\n\r\ninput string:  `Tuesday, June 8 at 10:00 PM`  \r\nformatter:  `DateTimeFormatter.ofPattern(&quot;EEEE, MMMM d &#39;at&#39; h:mm a&quot;, Locale.US);`\r\n\r\nI knew the year so I just appended it to get:\r\n\r\ninput string:  `Tuesday, June 8 at 6:30 PM 2021`  \r\nformatter:  `DateTimeFormatter.ofPattern(&quot;EEEE, MMMM d &#39;at&#39; h:mm a uuuu&quot;, Locale.US);`\r\n","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>I arrived at this problem because my input string didn't have a year in it:</p>\n<p>input string:  <code>Tuesday, June 8 at 10:00 PM</code><br />\nformatter:  <code>DateTimeFormatter.ofPattern(&quot;EEEE, MMMM d 'at' h:mm a&quot;, Locale.US);</code></p>\n<p>I knew the year so I just appended it to get:</p>\n<p>input string:  <code>Tuesday, June 8 at 6:30 PM 2021</code><br />\nformatter:  <code>DateTimeFormatter.ofPattern(&quot;EEEE, MMMM d 'at' h:mm a uuuu&quot;, Locale.US);</code></p>\n"},{"tags":[],"owner":{"display_name":"user486631"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633945073,"creation_date":1633945073,"answer_id":69524075,"question_id":27454025,"body_markdown":"     DateTimeFormatter format = new DateTimeFormatterBuilder()\r\n                                .appendPattern(&quot;yyyy-MM-dd&quot;)\r\n                                .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n                                .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n                                .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\r\n                                .parseDefaulting(ChronoField.MILLI_OF_SECOND, 0)\r\n                                .toFormatter();\r\n\r\nWorks for me ","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<pre><code> DateTimeFormatter format = new DateTimeFormatterBuilder()\n                            .appendPattern(&quot;yyyy-MM-dd&quot;)\n                            .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n                            .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n                            .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n                            .parseDefaulting(ChronoField.MILLI_OF_SECOND, 0)\n                            .toFormatter();\n</code></pre>\n<p>Works for me</p>\n"},{"tags":[],"owner":{"account_id":11248576,"reputation":31,"user_id":8250455,"display_name":"Uhyon Chung"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635986627,"creation_date":1635986627,"answer_id":69833324,"question_id":27454025,"body_markdown":"In cases where you simply want to take a format (whether or not it has time) and want to parse to a LocalDateTime, you can do the following.\r\n\r\n``` lang-java\r\nLocalDateTime parseDateTime(String dateTime, DateTimeFormatter fmt) {\r\n  return fmt.parse(dateTime, t -&gt; {\r\n    LocalDate date = t.query(TemporalQueries.localDate());\r\n    LocalTime time = t.query(TemporalQueries.localTime());\r\n    return LocalDateTime.of(date, time != null ? time : LocalTime.MIDNIGHT);\r\n  });\r\n}\r\n```\r\nI needed this because I was getting the date/time pattern as a parameter for a custom Spark UDF.","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>In cases where you simply want to take a format (whether or not it has time) and want to parse to a LocalDateTime, you can do the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime parseDateTime(String dateTime, DateTimeFormatter fmt) {\n  return fmt.parse(dateTime, t -&gt; {\n    LocalDate date = t.query(TemporalQueries.localDate());\n    LocalTime time = t.query(TemporalQueries.localTime());\n    return LocalDateTime.of(date, time != null ? time : LocalTime.MIDNIGHT);\n  });\n}\n</code></pre>\n<p>I needed this because I was getting the date/time pattern as a parameter for a custom Spark UDF.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636194532,"creation_date":1636194532,"answer_id":69863175,"question_id":27454025,"body_markdown":"# You do not need to define a `DateTimeFormatter`\r\n\r\nYou do not need to define a `DateTimeFormatter` to parse the given date string. You can use the OOTB (Out-Of-The-Box), `DateTimeFormatter.BASIC_ISO_DATE` to parse it.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tLocalDate date = LocalDate.parse(&quot;20140218&quot;, DateTimeFormatter.BASIC_ISO_DATE);\r\n    \t\tSystem.out.println(date);\r\n    \r\n    \t\t// In case you need an instance of LocalDateTime\r\n    \t\tLocalDateTime ldt = date.atTime(LocalTime.MIN);\r\n    \t\tSystem.out.println(ldt);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2014-02-18\r\n    2014-02-18T00:00\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary). Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/MNxwV7","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<h1>You do not need to define a <code>DateTimeFormatter</code></h1>\n<p>You do not need to define a <code>DateTimeFormatter</code> to parse the given date string. You can use the OOTB (Out-Of-The-Box), <code>DateTimeFormatter.BASIC_ISO_DATE</code> to parse it.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n    public static void main(String[] args) {\n        LocalDate date = LocalDate.parse(&quot;20140218&quot;, DateTimeFormatter.BASIC_ISO_DATE);\n        System.out.println(date);\n\n        // In case you need an instance of LocalDateTime\n        LocalDateTime ldt = date.atTime(LocalTime.MIN);\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2014-02-18\n2014-02-18T00:00\n</code></pre>\n<p><a href=\"https://ideone.com/MNxwV7\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"noreferrer\">support for <code>java.time</code></a>. Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC.\n</sup></p>\n"}],"owner":{"account_id":1174716,"reputation":6432,"user_id":1840412,"accept_rate":77,"display_name":"retrography"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259858,"favorite_count":0,"down_vote_count":1,"up_vote_count":250,"accepted_answer_id":27454146,"answer_count":13,"score":249,"last_activity_date":1647429946,"creation_date":1418429044,"question_id":27454025,"body_markdown":"I am simply trying to convert a date string into a DateTime object in Java 8. Upon running the following lines:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n    LocalDateTime dt = LocalDateTime.parse(&quot;20140218&quot;, formatter);\r\n\r\nI get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: \r\n    Text &#39;20140218&#39; could not be parsed: \r\n    Unable to obtain LocalDateTime from TemporalAccessor: \r\n    {},ISO resolved to 2014-02-18 of type java.time.format.Parsed\r\n    \tat java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1918)\r\n    \tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1853)\r\n    \tat java.time.LocalDateTime.parse(LocalDateTime.java:492)\r\n\r\nThe syntax is identical to what has been suggested [here][1], yet I am served with an exception. I am using `JDK-8u25`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22463062/how-to-parse-format-dates-with-localdatetime-java-8","title":"Unable to obtain LocalDateTime from TemporalAccessor when parsing LocalDateTime (Java 8)","body":"<p>I am simply trying to convert a date string into a DateTime object in Java 8. Upon running the following lines:</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyyMMdd\");\nLocalDateTime dt = LocalDateTime.parse(\"20140218\", formatter);\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.time.format.DateTimeParseException: \nText '20140218' could not be parsed: \nUnable to obtain LocalDateTime from TemporalAccessor: \n{},ISO resolved to 2014-02-18 of type java.time.format.Parsed\n    at java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1918)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1853)\n    at java.time.LocalDateTime.parse(LocalDateTime.java:492)\n</code></pre>\n\n<p>The syntax is identical to what has been suggested <a href=\"https://stackoverflow.com/questions/22463062/how-to-parse-format-dates-with-localdatetime-java-8\">here</a>, yet I am served with an exception. I am using <code>JDK-8u25</code>.</p>\n"},{"tags":["java","string","if-statement","split","contains"],"comments":[{"owner":{"account_id":14627561,"reputation":1444,"user_id":10564458,"display_name":"Daniel"},"score":0,"creation_date":1647428891,"post_id":71495984,"comment_id":126367145,"body_markdown":"if `URL[i].contains(&quot;.-&quot;)` is true, `URL[i].contains(&quot;-&quot;)` is also always true, thus `} else if (URL[i].contains(&quot;.-&quot;)){` is never executed. Put that statement above the first if statement","body":"if <code>URL[i].contains(&quot;.-&quot;)</code> is true, <code>URL[i].contains(&quot;-&quot;)</code> is also always true, thus <code>} else if (URL[i].contains(&quot;.-&quot;)){</code> is never executed. Put that statement above the first if statement"},{"owner":{"account_id":24562998,"reputation":15,"user_id":18470479,"display_name":"Noo 730"},"score":0,"creation_date":1647429117,"post_id":71495984,"comment_id":126367225,"body_markdown":"I changed like: 1st is if (URL[i].contains(&quot;.-&quot;)) and 2nd is else if (URL[i].contains(&quot;-&quot;)  but same result. Can you update my code for me to clarify?","body":"I changed like: 1st is if (URL[i].contains(&quot;.-&quot;)) and 2nd is else if (URL[i].contains(&quot;-&quot;)  but same result. Can you update my code for me to clarify?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":3,"creation_date":1647429126,"post_id":71495984,"comment_id":126367230,"body_markdown":"You could use the overloaded method [`split(String regex, int limit)`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-)) with a limit of `2`. Then there is no need for the additional `if` checks.","body":"You could use the overloaded method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-\" rel=\"nofollow noreferrer\"><code>split(String regex, int limit)</code></a>) with a limit of <code>2</code>. Then there is no need for the additional <code>if</code> checks."},{"owner":{"account_id":24562998,"reputation":15,"user_id":18470479,"display_name":"Noo 730"},"score":0,"creation_date":1647429343,"post_id":71495984,"comment_id":126367337,"body_markdown":"Actually I need to find word after the last &quot;-&quot; characters from left or first character from the right condition.  So (13-adana-demirspor can ignore). Like 15-y.-malatyaspor - will be MALATYASPOR only is fine for me.","body":"Actually I need to find word after the last &quot;-&quot; characters from left or first character from the right condition.  So (13-adana-demirspor can ignore). Like 15-y.-malatyaspor - will be MALATYASPOR only is fine for me."}],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647429919,"creation_date":1647429275,"answer_id":71496104,"question_id":71495984,"body_markdown":"it looks like you just want to split on the first occurence. for this you can use the second parameter of `split` and set that to 2. So like\r\n\r\n    if (URL[i].contains(&quot;-&quot;)) {\r\n        String[] divide = URL[i].split(&quot;-&quot;, 2);\r\n        team = divide[1];\r\n        System.out.println(&quot;     &quot; + team.toUpperCase());\r\n    } else {\r\n        team = null;\r\n    }\r\n\r\nto get the last part instead you could do\r\n\r\n    if (URL[i].contains(&quot;-&quot;)) {\r\n        String[] divide = URL[i].split(&quot;-&quot;);\r\n        team = divide[divide.length - 1];\r\n        System.out.println(&quot;     &quot; + team.toUpperCase());\r\n    } else {\r\n        team = null;\r\n    }","title":"How to splitting different special characters in Java with using if contains?","body":"<p>it looks like you just want to split on the first occurence. for this you can use the second parameter of <code>split</code> and set that to 2. So like</p>\n<pre><code>if (URL[i].contains(&quot;-&quot;)) {\n    String[] divide = URL[i].split(&quot;-&quot;, 2);\n    team = divide[1];\n    System.out.println(&quot;     &quot; + team.toUpperCase());\n} else {\n    team = null;\n}\n</code></pre>\n<p>to get the last part instead you could do</p>\n<pre><code>if (URL[i].contains(&quot;-&quot;)) {\n    String[] divide = URL[i].split(&quot;-&quot;);\n    team = divide[divide.length - 1];\n    System.out.println(&quot;     &quot; + team.toUpperCase());\n} else {\n    team = null;\n}\n</code></pre>\n"}],"owner":{"account_id":24562998,"reputation":15,"user_id":18470479,"display_name":"Noo 730"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71496104,"answer_count":1,"score":0,"last_activity_date":1647429919,"creation_date":1647428721,"question_id":71495984,"body_markdown":"I have “-“ characters in my strings as below.\r\nI am using if contains “-“ and splitting correctly. But some string values are also “-“ characters in different indexes.\r\nI tried to use 2nd if contains “.-“ cannot solve the issue as well.\r\nSo have can I get correct outputs without “-“ characters perfectly?\r\n\r\n13-adana-demirspor -&gt; has 2 “-“ characters.\r\n\r\n15-y.-malatyaspor -&gt; has “-“ characters too.\r\n\r\n1st and 2nd strings makes problem for splitting.\r\n\r\nAnd others has only one “-“ character and no issue.\r\n\r\nMy Code is: \r\n\r\n    final String [] URL  = {\r\n\t\t\t\t&quot;13-adana-demirspor&quot;,\r\n\t\t\t\t&quot;14-fenerbahce&quot;,\r\n\t\t\t\t&quot;15-y.-malatyaspor&quot;,\r\n\t\t\t\t&quot;16-trabzonspor&quot;,\r\n\t\t\t\t&quot;17-sivasspor&quot;,\r\n\t\t\t\t&quot;18-konyaspor&quot;,\r\n\t\t\t\t&quot;19-giresunspor&quot;,        \r\n\t\t\t\t&quot;20-galatasaray&quot;\r\n\t\t      };\r\n\r\n            for(int i=0; i&lt;URL.length; i++)\r\n\r\n    \t\tString team;\r\n\r\n\t\tif (URL[i].contains(&quot;-&quot;)) {\r\n\t\t\tString[] divide = URL[i].split(&quot;-&quot;);\r\n\t\t\tteam = divide[1];\r\n\t\t\tSystem.out.println(&quot;     &quot; + team.toUpperCase());\r\n\r\n\t\t} else if (URL[i].contains(&quot;.-&quot;)){\r\n\t\t\tString[] divide = URL[i].split(&quot;.-&quot;);\r\n\t\t\tteam = divide[2];\r\n\t\t\tSystem.out.println(&quot;     &quot; + team.toUpperCase());\r\n\r\n\t\t}else {\r\n\t\t\tteam = null;\r\n\t\t}\r\n\r\nMy Output is: \r\n\r\nADANA ** missing second word\r\n\r\nFENERBAHCE\r\n\r\nY. ** missing second word\r\n\r\nTRABZONSPOR\r\n\r\nSIVASSPOR\r\n\r\nKONYASPOR\r\n\r\nGIRESUNSPOR\r\n\r\nGALATASARAY\r\n\r\nThanks for your help.","title":"How to splitting different special characters in Java with using if contains?","body":"<p>I have “-“ characters in my strings as below.\nI am using if contains “-“ and splitting correctly. But some string values are also “-“ characters in different indexes.\nI tried to use 2nd if contains “.-“ cannot solve the issue as well.\nSo have can I get correct outputs without “-“ characters perfectly?</p>\n<p>13-adana-demirspor -&gt; has 2 “-“ characters.</p>\n<p>15-y.-malatyaspor -&gt; has “-“ characters too.</p>\n<p>1st and 2nd strings makes problem for splitting.</p>\n<p>And others has only one “-“ character and no issue.</p>\n<p>My Code is:</p>\n<pre><code>final String [] URL  = {\n            &quot;13-adana-demirspor&quot;,\n            &quot;14-fenerbahce&quot;,\n            &quot;15-y.-malatyaspor&quot;,\n            &quot;16-trabzonspor&quot;,\n            &quot;17-sivasspor&quot;,\n            &quot;18-konyaspor&quot;,\n            &quot;19-giresunspor&quot;,        \n            &quot;20-galatasaray&quot;\n          };\n\n        for(int i=0; i&lt;URL.length; i++)\n\n        String team;\n\n    if (URL[i].contains(&quot;-&quot;)) {\n        String[] divide = URL[i].split(&quot;-&quot;);\n        team = divide[1];\n        System.out.println(&quot;     &quot; + team.toUpperCase());\n\n    } else if (URL[i].contains(&quot;.-&quot;)){\n        String[] divide = URL[i].split(&quot;.-&quot;);\n        team = divide[2];\n        System.out.println(&quot;     &quot; + team.toUpperCase());\n\n    }else {\n        team = null;\n    }\n</code></pre>\n<p>My Output is:</p>\n<p>ADANA ** missing second word</p>\n<p>FENERBAHCE</p>\n<p>Y. ** missing second word</p>\n<p>TRABZONSPOR</p>\n<p>SIVASSPOR</p>\n<p>KONYASPOR</p>\n<p>GIRESUNSPOR</p>\n<p>GALATASARAY</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","hibernate","keycloak","quarkus"],"answers":[{"tags":[],"owner":{"account_id":23452450,"reputation":31,"user_id":17508429,"display_name":"nostra83"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647429914,"creation_date":1647429914,"answer_id":71496251,"question_id":71267230,"body_markdown":"Additional Persistence Units are not supported in Keycloak 17.0.0 with Quarkus. \r\nThis should be fixed in Keycloak 18.0.0: https://github.com/keycloak/keycloak/pull/10581.\r\n","title":"Register additional persistence unit in Keycloak Quarkus","body":"<p>Additional Persistence Units are not supported in Keycloak 17.0.0 with Quarkus.\nThis should be fixed in Keycloak 18.0.0: <a href=\"https://github.com/keycloak/keycloak/pull/10581\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak/pull/10581</a>.</p>\n"}],"owner":{"account_id":23452450,"reputation":31,"user_id":17508429,"display_name":"nostra83"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71496251,"answer_count":1,"score":1,"last_activity_date":1647429914,"creation_date":1645798882,"question_id":71267230,"body_markdown":"We have a custom keyloak user storage provide to use our proprietary user database for authentication.\r\n\r\nThis works perfectly fine with the WildFly based Keycloak. Since Keycloak will drop WildFly support in june 2022 according to their release notes, I am currently trying to get it running in the new, Quarkus based Keycloak distribution.\r\n\r\nFirst I had to remove all dependencies provided by Quarkus since those lead to class loader issues. But now I am stuck with this error when I try to start Keycloak with the command  `./kc.sh start-dev  --log-level=ERROR`:\r\n```\r\nUpdating the configuration and installing your custom providers, if any. Please wait.\r\nERROR: Unexpected error when starting the server in (development) mode\r\nERROR: Failed to start quarkus\r\nERROR: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\nERROR: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\nFor more details run the same command passing the &#39;--verbose&#39; option. Also you can use &#39;--help&#39; to see the details about the usage of the particular command.\r\n```\r\n\r\nAnd &#39;hibernate.dialect&#39; is set in persistence.xml and configuring a persistance unit in persistence.xml should be supported according to quarkus documentation :\r\n\r\n```\r\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n             version=&quot;2.1&quot;&gt;\r\n    &lt;persistence-unit name=&quot;example-pu&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;com.example.keycloak.provider.db.entity.Benutzer&lt;/class&gt;\r\n        &lt;class&gt;com.example.keycloak.provider.db.entity.BenutzerWithSource&lt;/class&gt;\r\n        &lt;class&gt;com.example.keycloak.provider.db.entity.Rolle&lt;/class&gt;\r\n        &lt;class&gt;com.example.keycloak.provider.db.entity.Parameter&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.OracleDialect&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nConfiguring the dialect in an application.properties (according to https://quarkus.io/guides/hibernate-orm#multiple-persistence-units) file in the delivery didn&#39;t change the behavior as well: \r\n`quarkus.hibernate-orm.&quot;example-pu&quot;.hibernate-dialect=org.hibernate.dialect.OracleDialect`\r\n\r\nWhat am I missing?","title":"Register additional persistence unit in Keycloak Quarkus","body":"<p>We have a custom keyloak user storage provide to use our proprietary user database for authentication.</p>\n<p>This works perfectly fine with the WildFly based Keycloak. Since Keycloak will drop WildFly support in june 2022 according to their release notes, I am currently trying to get it running in the new, Quarkus based Keycloak distribution.</p>\n<p>First I had to remove all dependencies provided by Quarkus since those lead to class loader issues. But now I am stuck with this error when I try to start Keycloak with the command  <code>./kc.sh start-dev  --log-level=ERROR</code>:</p>\n<pre><code>Updating the configuration and installing your custom providers, if any. Please wait.\nERROR: Unexpected error when starting the server in (development) mode\nERROR: Failed to start quarkus\nERROR: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\nERROR: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\nFor more details run the same command passing the '--verbose' option. Also you can use '--help' to see the details about the usage of the particular command.\n</code></pre>\n<p>And 'hibernate.dialect' is set in persistence.xml and configuring a persistance unit in persistence.xml should be supported according to quarkus documentation :</p>\n<pre><code>&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\n             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\n             version=&quot;2.1&quot;&gt;\n    &lt;persistence-unit name=&quot;example-pu&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;com.example.keycloak.provider.db.entity.Benutzer&lt;/class&gt;\n        &lt;class&gt;com.example.keycloak.provider.db.entity.BenutzerWithSource&lt;/class&gt;\n        &lt;class&gt;com.example.keycloak.provider.db.entity.Rolle&lt;/class&gt;\n        &lt;class&gt;com.example.keycloak.provider.db.entity.Parameter&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.OracleDialect&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>Configuring the dialect in an application.properties (according to <a href=\"https://quarkus.io/guides/hibernate-orm#multiple-persistence-units\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/hibernate-orm#multiple-persistence-units</a>) file in the delivery didn't change the behavior as well:\n<code>quarkus.hibernate-orm.&quot;example-pu&quot;.hibernate-dialect=org.hibernate.dialect.OracleDialect</code></p>\n<p>What am I missing?</p>\n"},{"tags":["java","oop","types","enums","data-modeling"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1646962119,"post_id":71432460,"comment_id":126259232,"body_markdown":"Nah, you&#39;ve got the right idea.  Don&#39;t overoptimize by trying to avoid allocating the pairs as objects.  The one alternative might be to use an `EnumMap&lt;EnumA, EnumMap&lt;EnumB, ValueHolder&gt;&gt;`.","body":"Nah, you&#39;ve got the right idea.  Don&#39;t overoptimize by trying to avoid allocating the pairs as objects.  The one alternative might be to use an <code>EnumMap&lt;EnumA, EnumMap&lt;EnumB, ValueHolder&gt;&gt;</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646962171,"post_id":71432460,"comment_id":126259242,"body_markdown":"How about making `PairWithValue` an enum? And you could validate the pairings in a static block if you want.","body":"How about making <code>PairWithValue</code> an enum? And you could validate the pairings in a static block if you want."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1646962208,"post_id":71432460,"comment_id":126259247,"body_markdown":"@shmosel, how does that make sense with the &quot;arbitrary int and string&quot; values?","body":"@shmosel, how does that make sense with the &quot;arbitrary int and string&quot; values?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646962415,"post_id":71432460,"comment_id":126259276,"body_markdown":"@LouisWasserman I&#39;m not sure what you&#39;re quoting. I assumed they&#39;re constant values. But the question is not very clear. Some sample code would definitely help.","body":"@LouisWasserman I&#39;m not sure what you&#39;re quoting. I assumed they&#39;re constant values. But the question is not very clear. Some sample code would definitely help."},{"owner":{"account_id":16811323,"reputation":161,"user_id":12154272,"display_name":"Sophie Bushchak"},"score":0,"creation_date":1646963380,"post_id":71432460,"comment_id":126259428,"body_markdown":"@shmosel I updated the question, I think I overexplained some things and was confusing in other bits about what I was actually asking.","body":"@shmosel I updated the question, I think I overexplained some things and was confusing in other bits about what I was actually asking."}],"owner":{"account_id":16811323,"reputation":161,"user_id":12154272,"display_name":"Sophie Bushchak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647428694,"creation_date":1646959682,"question_id":71432460,"body_markdown":"I have 2 enums, and a combination of each enum value with each other enum value exists. So for example with my 2 enums of 5 possible values each, that is 25 possible combinations. I want a way for an object instance of a class to &quot;have&quot; a value for each combination.\r\n\r\nI am a little bit stumped on how to do it. I think it&#39;s a class design problem and I&#39;m forgetting something obvious. So far what I thought of is to use a Map in Java that holds basically a pair.. The class has a value for an enum A and a value for an enum B, and its equality comparison compares whether the value for both enums are the same.\r\nSo (in code):\r\n\r\n    class EnumPair {\r\n        EnumA a;\r\n        EnumB b;\r\n    }\r\n\r\n    // with equals() implemented\r\n\r\nThen I use a map that holds the pair class as a key and then a value as a value for the key.. This allows me to associate value payloads to the pairs. But I&#39;m not sure if what I&#39;m doing is correct? What I have is:\r\n\r\n        class EnumPair {\r\n            EnumA a;\r\n            EnumB b;\r\n        }\r\n        \r\n        class ValueHolder {\r\n            int someInt;\r\n            String someText;\r\n        }\r\n    \r\n    Map&lt;EnumPair, ValueHolder&gt; = new HashMap&lt;&gt;();\r\n\r\nIs the map the right way to go about it? Because there are also a limited amount of combinations possible for the EnumPair since it is a combination of one enum and another enum. Because enums have finite definitions, there are a limited amount of combinations possible. In this instance it would be 25 combinations. This would mean that it&#39;s sort of a waste to generate up to 25 objects containing a pair of enums per map for the pairs when technically only 25 possible combinations exist, and only the values differ per instance of a map holding these combinations.\r\n\r\nI don&#39;t know how I would model this without the map though. I think the map might be in the right direction, but where could limited existing pairs live in the code? I feel like I am missing some key piece of theory or forgetting some way to design classes or data types, because I am puzzled on how to do this. I feel like generics might be in the realm of the solution but I just can&#39;t wrap my head around it.\r\n","title":"Holding unique pairs of enums and associating values to them","body":"<p>I have 2 enums, and a combination of each enum value with each other enum value exists. So for example with my 2 enums of 5 possible values each, that is 25 possible combinations. I want a way for an object instance of a class to &quot;have&quot; a value for each combination.</p>\n<p>I am a little bit stumped on how to do it. I think it's a class design problem and I'm forgetting something obvious. So far what I thought of is to use a Map in Java that holds basically a pair.. The class has a value for an enum A and a value for an enum B, and its equality comparison compares whether the value for both enums are the same.\nSo (in code):</p>\n<pre><code>class EnumPair {\n    EnumA a;\n    EnumB b;\n}\n\n// with equals() implemented\n</code></pre>\n<p>Then I use a map that holds the pair class as a key and then a value as a value for the key.. This allows me to associate value payloads to the pairs. But I'm not sure if what I'm doing is correct? What I have is:</p>\n<pre><code>    class EnumPair {\n        EnumA a;\n        EnumB b;\n    }\n    \n    class ValueHolder {\n        int someInt;\n        String someText;\n    }\n\nMap&lt;EnumPair, ValueHolder&gt; = new HashMap&lt;&gt;();\n</code></pre>\n<p>Is the map the right way to go about it? Because there are also a limited amount of combinations possible for the EnumPair since it is a combination of one enum and another enum. Because enums have finite definitions, there are a limited amount of combinations possible. In this instance it would be 25 combinations. This would mean that it's sort of a waste to generate up to 25 objects containing a pair of enums per map for the pairs when technically only 25 possible combinations exist, and only the values differ per instance of a map holding these combinations.</p>\n<p>I don't know how I would model this without the map though. I think the map might be in the right direction, but where could limited existing pairs live in the code? I feel like I am missing some key piece of theory or forgetting some way to design classes or data types, because I am puzzled on how to do this. I feel like generics might be in the realm of the solution but I just can't wrap my head around it.</p>\n"},{"tags":["java","loops","recursion"],"comments":[{"owner":{"account_id":3614660,"reputation":10861,"user_id":3014866,"accept_rate":96,"display_name":"Rudziankoŭ"},"score":0,"creation_date":1459257827,"post_id":36285176,"comment_id":60197061,"body_markdown":"I will put here solution for Java 8 using streams. Just in case: `Arrays.asList(numbers).stream().min(Integer::compareTo).get();`","body":"I will put here solution for Java 8 using streams. Just in case: <code>Arrays.asList(numbers).stream().min(Integer::compareTo).get(&zwnj;&#8203;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":5280912,"reputation":784,"user_id":4216318,"display_name":"Ali Helmy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647428495,"creation_date":1459257656,"answer_id":36285554,"question_id":36285176,"body_markdown":"First thing you should consider when using recursion is the exit state; which means when the function will be exit\r\n   \r\n     public static int findMin(int[] numbers, int startIndex, int endIndex) {\r\n        \tif(startIndex == endIndex){\r\n        \t\treturn numbers[startIndex];\r\n        \t}\r\n        \tint min = findMin(numbers, startIndex+1, endIndex);\r\n        \treturn  numbers[startIndex] &lt; min ? numbers[startIndex] : min ;\r\n    }","title":"Recursive function without loop","body":"<p>First thing you should consider when using recursion is the exit state; which means when the function will be exit</p>\n<pre><code> public static int findMin(int[] numbers, int startIndex, int endIndex) {\n        if(startIndex == endIndex){\n            return numbers[startIndex];\n        }\n        int min = findMin(numbers, startIndex+1, endIndex);\n        return  numbers[startIndex] &lt; min ? numbers[startIndex] : min ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5145131,"reputation":5992,"user_id":4121347,"accept_rate":82,"display_name":"dryairship"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459257944,"creation_date":1459257944,"answer_id":36285677,"question_id":36285176,"body_markdown":"This should work:\r\n\r\n    int min(int a[]){ //Here you only need to supply the array.\r\n        return min(a, 0, a[0]);\r\n    }\r\n\r\n    int min(int[] a, int i, int min)\r\n    {\r\n        if(i==a.length-1)\r\n            return  (a[i]&lt;min)?a[i]:min;\r\n        else\r\n            return min(a, i+1, (a[i]&lt;min)?a[i]:min);\r\n    }","title":"Recursive function without loop","body":"<p>This should work:</p>\n\n<pre><code>int min(int a[]){ //Here you only need to supply the array.\n    return min(a, 0, a[0]);\n}\n\nint min(int[] a, int i, int min)\n{\n    if(i==a.length-1)\n        return  (a[i]&lt;min)?a[i]:min;\n    else\n        return min(a, i+1, (a[i]&lt;min)?a[i]:min);\n}\n</code></pre>\n"}],"owner":{"account_id":1842614,"reputation":1815,"user_id":1671718,"accept_rate":49,"display_name":"mungaih pk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3513,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":36285554,"answer_count":2,"score":-2,"last_activity_date":1647428495,"creation_date":1459256768,"question_id":36285176,"body_markdown":"I have a problem  want to solve. I have an array of integers from which I want to get the minimum integer. I have also been given a function definition which am supposed to adhere to. I am not supposed to use a loop or a static variable in my solution. How can I solve this? Here is my function.\r\n\r\n    public static int findMin(int[] numbers, int startIndex, int endIndex){}\r\n\r\nPlease assist. I have tried this implementation with a loop.\r\n\r\n    public static int findMin(int[] numbers, int startIndex, int endIndex) {\r\n        int min = 0;\r\n        for (int count = startIndex; count &lt;= endIndex; count++) {\r\n            if (numbers[count] &lt; min) {\r\n                min = numbers[count];\r\n            }\r\n        }\r\n        return min;\r\n    }\r\n","title":"Recursive function without loop","body":"<p>I have a problem  want to solve. I have an array of integers from which I want to get the minimum integer. I have also been given a function definition which am supposed to adhere to. I am not supposed to use a loop or a static variable in my solution. How can I solve this? Here is my function.</p>\n\n<pre><code>public static int findMin(int[] numbers, int startIndex, int endIndex){}\n</code></pre>\n\n<p>Please assist. I have tried this implementation with a loop.</p>\n\n<pre><code>public static int findMin(int[] numbers, int startIndex, int endIndex) {\n    int min = 0;\n    for (int count = startIndex; count &lt;= endIndex; count++) {\n        if (numbers[count] &lt; min) {\n            min = numbers[count];\n        }\n    }\n    return min;\n}\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","amazon-elastic-beanstalk"],"answers":[{"tags":[],"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647169727,"creation_date":1647169727,"answer_id":71456142,"question_id":71456051,"body_markdown":"You have to modify your `.platform` as shown in the [docs](https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/platforms-linux-extend.html).\r\n\r\nFor example, you could have the following `.platform/nginx/conf.d/myconfig.conf` with content:\r\n\r\n```\r\nclient_max_body_size 20M;\r\n```\r\n","title":"How to solve 413 request entity too large","body":"<p>You have to modify your <code>.platform</code> as shown in the <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/platforms-linux-extend.html\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>For example, you could have the following <code>.platform/nginx/conf.d/myconfig.conf</code> with content:</p>\n<pre><code>client_max_body_size 20M;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6919785,"reputation":203,"user_id":5312823,"accept_rate":45,"display_name":"semiColon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647170146,"creation_date":1647170146,"answer_id":71456203,"question_id":71456051,"body_markdown":"I struggled with this for so long until I came across this post:\r\n\r\nhttps://medium.com/@robin.srimal/how-to-fix-a-413-request-entity-too-large-error-on-aws-elastic-beanstalk-ac2bb15f244d\r\n\r\nCouple things to watch out for here, if your server is restarted or you deploy a new version etc, then your nginx server will also reset and you will need to perform these changes again. Also periodically, AWS seems to reset your EC2 instance address, not sure why, but you need to perform these changes again afterwards. There must be a way of making these changes permanent but I haven&#39;t figured that part out yet.","title":"How to solve 413 request entity too large","body":"<p>I struggled with this for so long until I came across this post:</p>\n<p><a href=\"https://medium.com/@robin.srimal/how-to-fix-a-413-request-entity-too-large-error-on-aws-elastic-beanstalk-ac2bb15f244d\" rel=\"nofollow noreferrer\">https://medium.com/@robin.srimal/how-to-fix-a-413-request-entity-too-large-error-on-aws-elastic-beanstalk-ac2bb15f244d</a></p>\n<p>Couple things to watch out for here, if your server is restarted or you deploy a new version etc, then your nginx server will also reset and you will need to perform these changes again. Also periodically, AWS seems to reset your EC2 instance address, not sure why, but you need to perform these changes again afterwards. There must be a way of making these changes permanent but I haven't figured that part out yet.</p>\n"},{"tags":[],"owner":{"account_id":19634326,"reputation":33,"user_id":14371875,"display_name":"OmarMalek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647428167,"creation_date":1647428167,"answer_id":71495843,"question_id":71456051,"body_markdown":"I find the solution thanks for helping...\r\n1-I connect to my EC2 instance throw the &quot;connect&quot; button, a terminal appears. \r\n2-I edit this file: etc/nginx/nginx.conf \r\n3- Add this line:client_max_body_size 10M;\r\nand it works fine.\r\nthank you all ;\r\n","title":"How to solve 413 request entity too large","body":"<p>I find the solution thanks for helping...\n1-I connect to my EC2 instance throw the &quot;connect&quot; button, a terminal appears.\n2-I edit this file: etc/nginx/nginx.conf\n3- Add this line:client_max_body_size 10M;\nand it works fine.\nthank you all ;</p>\n"}],"owner":{"account_id":19634326,"reputation":33,"user_id":14371875,"display_name":"OmarMalek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4226,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71456142,"answer_count":3,"score":3,"last_activity_date":1647428167,"creation_date":1647169127,"question_id":71456051,"body_markdown":"When I post a form with an image taken from my phone I reserve the error &quot;413 request entity too large&quot; I realize that an image included in the form taken by the phone camera is too large, and the server rejects the request... but how can I fix this issue, I&#39;m using Java Spring framework, and MySQL database, all of this handled with Amazon aws services.","title":"How to solve 413 request entity too large","body":"<p>When I post a form with an image taken from my phone I reserve the error &quot;413 request entity too large&quot; I realize that an image included in the form taken by the phone camera is too large, and the server rejects the request... but how can I fix this issue, I'm using Java Spring framework, and MySQL database, all of this handled with Amazon aws services.</p>\n"},{"tags":["java","google-api","download","google-drive-api","google-api-java-client"],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647427812,"creation_date":1647427812,"answer_id":71495747,"question_id":71495296,"body_markdown":"The [file.get][1] method does return the file data, however only for binary file types. that is what this error message its telling you.\r\n\r\n&gt;Only files with binary content can be downloaded. Use Export with Docs Editors files.\r\n\r\n\r\n    String fileId = &quot;0BwwA4oUTeiV1UVNwOHItT0xfa2M&quot;;\r\n    OutputStream outputStream = new ByteArrayOutputStream();\r\n    driveService.files().get(fileId)\r\n        .executeMediaAndDownloadTo(outputStream);\r\n\r\n\r\nAll other file types those being google docs, google sheets. check this page for more: [mimetype](https://developers.google.com/drive/api/v3/mime-types)\r\n\r\nNeed to be exported from the google mime type to a standard mime type. If you check the [manage-downloads#java](https://developers.google.com/drive/api/v3/manage-downloads#java) page you will find a documented example of how to use this method.\r\n\r\n\r\n    String fileId = &quot;1ZdR3L3qP4Bkq8noWLJHSr_iBau0DNT4Kli4SxNc2YEo&quot;;\r\n    OutputStream outputStream = new ByteArrayOutputStream();\r\n    driveService.files().export(fileId, &quot;application/pdf&quot;)\r\n        .executeMediaAndDownloadTo(outputStream);\r\n\r\n\r\nThe trick with this method is to ensure you are setting the correct [mimetype](https://developers.google.com/drive/api/v3/mime-types)\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/v3/reference/files/get#response","title":"java google drive API unable to download binary file","body":"<p>The <a href=\"https://developers.google.com/drive/api/v3/reference/files/get#response\" rel=\"nofollow noreferrer\">file.get</a> method does return the file data, however only for binary file types. that is what this error message its telling you.</p>\n<blockquote>\n<p>Only files with binary content can be downloaded. Use Export with Docs Editors files.</p>\n</blockquote>\n<pre><code>String fileId = &quot;0BwwA4oUTeiV1UVNwOHItT0xfa2M&quot;;\nOutputStream outputStream = new ByteArrayOutputStream();\ndriveService.files().get(fileId)\n    .executeMediaAndDownloadTo(outputStream);\n</code></pre>\n<p>All other file types those being google docs, google sheets. check this page for more: <a href=\"https://developers.google.com/drive/api/v3/mime-types\" rel=\"nofollow noreferrer\">mimetype</a></p>\n<p>Need to be exported from the google mime type to a standard mime type. If you check the <a href=\"https://developers.google.com/drive/api/v3/manage-downloads#java\" rel=\"nofollow noreferrer\">manage-downloads#java</a> page you will find a documented example of how to use this method.</p>\n<pre><code>String fileId = &quot;1ZdR3L3qP4Bkq8noWLJHSr_iBau0DNT4Kli4SxNc2YEo&quot;;\nOutputStream outputStream = new ByteArrayOutputStream();\ndriveService.files().export(fileId, &quot;application/pdf&quot;)\n    .executeMediaAndDownloadTo(outputStream);\n</code></pre>\n<p>The trick with this method is to ensure you are setting the correct <a href=\"https://developers.google.com/drive/api/v3/mime-types\" rel=\"nofollow noreferrer\">mimetype</a></p>\n"}],"owner":{"account_id":2783308,"reputation":2051,"user_id":2395365,"accept_rate":27,"display_name":"user2395365"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1485,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71495747,"answer_count":1,"score":2,"last_activity_date":1647428082,"creation_date":1647425955,"question_id":71495296,"body_markdown":"I have working code to list the files in my Google Drive folder containing binary files but I&#39;m getting an error when trying to download:\r\n\r\n    GET https://www.googleapis.com/download/drive/v3/files/1udFizffA_0M4jSUBJbDI6uNVdPVhdymW?alt=media\r\n    {\r\n      &quot;code&quot; : 403,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;location&quot; : &quot;alt&quot;,\r\n        &quot;locationType&quot; : &quot;parameter&quot;,\r\n        &quot;message&quot; : &quot;Only files with binary content can be downloaded. Use Export with Docs Editors files.&quot;,\r\n        &quot;reason&quot; : &quot;fileNotDownloadable&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Only files with binary content can be downloaded. Use Export with Docs Editors files.&quot;\r\n    }\r\n\r\nThe relevant code is as follows:\r\n\r\n    Drive.Files f = driveService.files();\r\n    HttpResponse httpResponse = null;\r\n    Drive.Files.Get get = f.get(file.getId());\r\n    httpResponse = get.executeMedia();\r\n    \r\nI also tried export using:\r\n\r\n    httpResponse = f.export(file.getId(),&quot;application/octet-stream&quot;).executeMedia();\r\n\r\nwhich didn&#39;t work either.\r\n\r\nCan someone please help me figure out what I&#39;m missing. \r\n","title":"java google drive API unable to download binary file","body":"<p>I have working code to list the files in my Google Drive folder containing binary files but I'm getting an error when trying to download:</p>\n<pre><code>GET https://www.googleapis.com/download/drive/v3/files/1udFizffA_0M4jSUBJbDI6uNVdPVhdymW?alt=media\n{\n  &quot;code&quot; : 403,\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;location&quot; : &quot;alt&quot;,\n    &quot;locationType&quot; : &quot;parameter&quot;,\n    &quot;message&quot; : &quot;Only files with binary content can be downloaded. Use Export with Docs Editors files.&quot;,\n    &quot;reason&quot; : &quot;fileNotDownloadable&quot;\n  } ],\n  &quot;message&quot; : &quot;Only files with binary content can be downloaded. Use Export with Docs Editors files.&quot;\n}\n</code></pre>\n<p>The relevant code is as follows:</p>\n<pre><code>Drive.Files f = driveService.files();\nHttpResponse httpResponse = null;\nDrive.Files.Get get = f.get(file.getId());\nhttpResponse = get.executeMedia();\n</code></pre>\n<p>I also tried export using:</p>\n<pre><code>httpResponse = f.export(file.getId(),&quot;application/octet-stream&quot;).executeMedia();\n</code></pre>\n<p>which didn't work either.</p>\n<p>Can someone please help me figure out what I'm missing.</p>\n"},{"tags":["java","functional-programming","option-type"],"answers":[{"tags":[],"owner":{"account_id":1437377,"reputation":488,"user_id":1358457,"accept_rate":83,"display_name":"epdittmer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647427971,"creation_date":1647389845,"answer_id":71490441,"question_id":71490385,"body_markdown":"Personally, I would not pass an `Optional` as parameter in this case.\r\n\r\nIn this case, I would code it like \r\n\r\n```\r\nvar projects = Optional.of(&quot;the-analyst-id&quot;)\r\n     .map(id -&gt; getProjectsByAnalist(id))\r\n     .orElseGet(()-&gt; getAllProjects());\r\n```\r\nYou can optionally wrap that in a function (like you did before).\r\n\r\nMethod `ifPresentOrElse()` *does not return a value* and is mainly an operator meant for running side effects.\r\n\r\nThe `.map().orElseGet()` idiom is the similar, but *returns the value*.","title":"Optional variable take action based on its value","body":"<p>Personally, I would not pass an <code>Optional</code> as parameter in this case.</p>\n<p>In this case, I would code it like</p>\n<pre><code>var projects = Optional.of(&quot;the-analyst-id&quot;)\n     .map(id -&gt; getProjectsByAnalist(id))\n     .orElseGet(()-&gt; getAllProjects());\n</code></pre>\n<p>You can optionally wrap that in a function (like you did before).</p>\n<p>Method <code>ifPresentOrElse()</code> <em>does not return a value</em> and is mainly an operator meant for running side effects.</p>\n<p>The <code>.map().orElseGet()</code> idiom is the similar, but <em>returns the value</em>.</p>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71490441,"answer_count":1,"score":1,"last_activity_date":1647427971,"creation_date":1647389086,"question_id":71490385,"body_markdown":"I have a method which takes an Optional parameter and returns a list. I&#39;ll populate the list based on whether the Optional parameter is empty or not. What&#39;s the most accepted/standard way if any to write the following\r\n\r\n&gt;     public List&lt;ProjectDTO&gt; getProjects(Optional&lt;String&gt; analystId) {\r\n&gt;         List&lt;ProjectDTO&gt; projects = new ArrayList&lt;&gt;();\r\n&gt;     \r\n&gt;         analystId.ifPresentOrElse(\r\n&gt;                 t -&gt; projects.addAll(getProjectsByAnalyst(analystId)),\r\n&gt;                 () -&gt; projects.addAll(getAllProjects())\r\n&gt;         );\r\n&gt;     \r\n&gt;         return projects;\r\n&gt;     }\r\n\r\n\r\nThis code works, however I was wondering if there&#39;s a better way to do it","title":"Optional variable take action based on its value","body":"<p>I have a method which takes an Optional parameter and returns a list. I'll populate the list based on whether the Optional parameter is empty or not. What's the most accepted/standard way if any to write the following</p>\n<blockquote>\n<pre><code>public List&lt;ProjectDTO&gt; getProjects(Optional&lt;String&gt; analystId) {\n    List&lt;ProjectDTO&gt; projects = new ArrayList&lt;&gt;();\n\n    analystId.ifPresentOrElse(\n            t -&gt; projects.addAll(getProjectsByAnalyst(analystId)),\n            () -&gt; projects.addAll(getAllProjects())\n    );\n\n    return projects;\n}\n</code></pre>\n</blockquote>\n<p>This code works, however I was wondering if there's a better way to do it</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1647378782,"post_id":71488908,"comment_id":126355526,"body_markdown":"I think you need to get a little bit more understand about how JPA works with the entities. I can start with all operations on entities are performed in memory until the time comes to actually commit the transaction which is also part of your problem. JPA caches the entities so it can use reuse an object that was not previously persisted. It obviously depends on your project specific configuration for it. It is hard to know for sure what is happening without seeing the whole flow. But my best guess is that you are facing a problem related to what I explained above.","body":"I think you need to get a little bit more understand about how JPA works with the entities. I can start with all operations on entities are performed in memory until the time comes to actually commit the transaction which is also part of your problem. JPA caches the entities so it can use reuse an object that was not previously persisted. It obviously depends on your project specific configuration for it. It is hard to know for sure what is happening without seeing the whole flow. But my best guess is that you are facing a problem related to what I explained above."},{"owner":{"account_id":10498535,"reputation":101,"user_id":7737913,"display_name":"appatuck3r"},"score":0,"creation_date":1647379284,"post_id":71488908,"comment_id":126355672,"body_markdown":"Ok, I tried using flush() before the repo.find call. But as i understand that is only relevant with the persisting action for the entity?","body":"Ok, I tried using flush() before the repo.find call. But as i understand that is only relevant with the persisting action for the entity?"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1647381026,"post_id":71488908,"comment_id":126356134,"body_markdown":"Yes, therefore try using it where you are actually persisting the list. Probably on that `updateQuestionStatus` method ?","body":"Yes, therefore try using it where you are actually persisting the list. Probably on that <code>updateQuestionStatus</code> method ?"},{"owner":{"account_id":10498535,"reputation":101,"user_id":7737913,"display_name":"appatuck3r"},"score":0,"creation_date":1647382666,"post_id":71488908,"comment_id":126356513,"body_markdown":"Thats my problem i donot persist this entity i check if values are present in another table by passing this questionId and if present i update the status here in question as INPROGRESS. else it would be null.\n\nSo basically the values in question table wont change and i dont persist it at anytime i only fetch the question records by id whenever necessary.","body":"Thats my problem i donot persist this entity i check if values are present in another table by passing this questionId and if present i update the status here in question as INPROGRESS. else it would be null.  So basically the values in question table wont change and i dont persist it at anytime i only fetch the question records by id whenever necessary."}],"answers":[{"tags":[],"owner":{"account_id":10498535,"reputation":101,"user_id":7737913,"display_name":"appatuck3r"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647427937,"creation_date":1647427937,"answer_id":71495781,"question_id":71488908,"body_markdown":"I was able to fix the issue by clearing the entity manager right before the `findAllById` call. This seems to break the reference to the previously fetched objects allowing me to add new instances to every element in the loop. \r\n\r\nThough am not facing any other issues in the code or object retrieval/persist due to this, i am not 100% sure that this is the correct solution. \r\n\r\nFor now my issue is solved. \r\n```\r\n@Autowired\r\nEntityManager em;\r\n\r\nfor (Category category : categories) {\r\n    List&lt;Question&gt; questions = new ArrayList&lt;&gt;();\r\n    //Clearing the entityManager instance.\r\n    em.clear();\r\n    questions = questionRepo.findAllById(category.getQuestionIds());\r\n    category.setQuestions(questions);\r\n    category.setStatus(updateQuestionStatus(questions));\r\n    catList.add(category);\r\n}\r\n```\r\n\r\nAny better solutions or implementations welcome. Thanks.\r\n","title":"JPA repo is not fetching fresh Data when calling findAllById the previous data is only present in the referenced variable","body":"<p>I was able to fix the issue by clearing the entity manager right before the <code>findAllById</code> call. This seems to break the reference to the previously fetched objects allowing me to add new instances to every element in the loop.</p>\n<p>Though am not facing any other issues in the code or object retrieval/persist due to this, i am not 100% sure that this is the correct solution.</p>\n<p>For now my issue is solved.</p>\n<pre><code>@Autowired\nEntityManager em;\n\nfor (Category category : categories) {\n    List&lt;Question&gt; questions = new ArrayList&lt;&gt;();\n    //Clearing the entityManager instance.\n    em.clear();\n    questions = questionRepo.findAllById(category.getQuestionIds());\n    category.setQuestions(questions);\n    category.setStatus(updateQuestionStatus(questions));\n    catList.add(category);\n}\n</code></pre>\n<p>Any better solutions or implementations welcome. Thanks.</p>\n"}],"owner":{"account_id":10498535,"reputation":101,"user_id":7737913,"display_name":"appatuck3r"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71495781,"answer_count":1,"score":1,"last_activity_date":1647427937,"creation_date":1647377704,"question_id":71488908,"body_markdown":"Am trying to fetch category wise questions and pass the categoryList to another object called Location like below\r\n\r\n```\r\nLocation:\r\n{\r\n List&lt;Category&gt; categoryList;\r\n}\r\n\r\nCategory:\r\n{\r\n List&lt;Question&gt; questions;\r\n Status status;\r\n}\r\n```\r\n```\r\nfor (Category category : categories) {\r\n\tList&lt;Question&gt; questions = new ArrayList&lt;&gt;();\r\n\tquestions = questionRepo.findAllById(category.getQuestionIds());\r\n\tcategory.setQuestions(questions);\r\n\tcategory.setStatus(updateQuestionStatus(questions));\r\n\tcatList.add(category);\r\n}\r\n```\r\nWhile trying to fetch the data from a table in loop. The JPA repo&#39;s `findAllById()` is returning the correct data in the first iteration.Where in my DB the status will always be `null`.\r\nI fetch the questions list and based on some logic i update the status to `INPROGRESS` or `TODO`\r\n\r\nIn the next Iteration instead of fetching a new set of data its just returning the previously created instance of the `questions` variable where the status is already set from the previous iteration instead of `null`.\r\n\r\nSo in the end say all the five Location objects having the same CategoryList&#39;s questions.\r\n\r\nI debugged my code and zeroed in on this line the repo query call, which is Spring JPA not my implementation.\r\n```\r\nquestions = questionRepo.findAllById(category.getQuestionIds());\r\n```\r\nIn the line before this on debug the questions is `[]` as expected.\r\nBut when this line is executed i get a copy of the previously altered questions. with status as `INPROGRESS` or `TODO` that i set.\r\n\r\nI tried lots of things like addAll into a new list etc still no luck. Please help. Thanks in Advance.\r\n\r\n### UPDATE: ###\r\n\r\n\r\nSharing the Question Entity for better help.\r\n```\r\n@Entity\r\n@Table(name = &quot;m_question&quot;)\r\n@Data\r\n@EqualsAndHashCode(callSuper = false)\r\n@JsonInclude(value = Include.NON_NULL)\r\n@JsonIgnoreProperties(value = { &quot;addedBy&quot;, &quot;addedOn&quot;, &quot;updatedBy&quot;, &quot;updatedOn&quot;,&quot;deleted&quot; })\r\npublic class Question extends Auditable&lt;String&gt; {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;m_question_id&quot;)\r\n\tprivate int mQuestionId;\r\n\t\r\n\t@Column(name = &quot;m_q_category_id&quot;)\r\n\tprivate int mQCategoryId;\r\n\t\r\n\t@Column(name = &quot;category_code&quot;)\r\n\tprivate String categoryCode;\r\n\t\r\n\t@Column(name = &quot;m_q_section_id&quot;)\r\n\tprivate int mQSectionId;\r\n\t\r\n\t@Column(name = &quot;section_code&quot;)\r\n\tprivate String sectionCode;\r\n\t\r\n\t@Column(name = &quot;question_display&quot;)\r\n\tprivate String questionDisplay;\r\n\t\r\n\t@Column(name = &quot;max_mark&quot;)\r\n\tprivate int maxMark;\r\n\t\r\n\t@Column(name = &quot;more_info&quot;)\r\n\tprivate String moreInfo;\r\n\t\r\n\t@Column(name = &quot;special_info&quot;)\r\n\tprivate String specialInfo;\r\n\t\r\n\t@Column(name = &quot;option_type&quot;)\r\n\tprivate String optionType;\r\n\t\r\n\t@Column(name = &quot;display_order&quot;)\r\n\tprivate Integer displayOrder;\r\n\t\r\n\t@Column(name = &quot;is_deleted&quot;)\r\n\tprivate boolean isDeleted;\r\n\t\r\n\t@Column(name = &quot;question_condition&quot;)\r\n\tprivate String questionCondition;\r\n\t\r\n\t@Transient\r\n\tprivate QuestionStatus status;\r\n\t\r\n\t@Transient\r\n\t@JsonSerialize\r\n\t@JsonDeserialize\r\n\tprivate List&lt;Option&gt; options;\r\n}\r\n```\r\nSo as shown above the Question entity doesnt change much in table values. But when i fetch those questions i check if any options relevant to the question are present and update the status field to `TODO` or `INPROGRESS` which should initially be null but not.\r\n\r\nI even tried fetching all the questions (around 500) of them initially and putting them in a map and fetching when required from the map still the same issue is there.\r\n\r\nAm not sure what I am doing wrong here.","title":"JPA repo is not fetching fresh Data when calling findAllById the previous data is only present in the referenced variable","body":"<p>Am trying to fetch category wise questions and pass the categoryList to another object called Location like below</p>\n<pre><code>Location:\n{\n List&lt;Category&gt; categoryList;\n}\n\nCategory:\n{\n List&lt;Question&gt; questions;\n Status status;\n}\n</code></pre>\n<pre><code>for (Category category : categories) {\n    List&lt;Question&gt; questions = new ArrayList&lt;&gt;();\n    questions = questionRepo.findAllById(category.getQuestionIds());\n    category.setQuestions(questions);\n    category.setStatus(updateQuestionStatus(questions));\n    catList.add(category);\n}\n</code></pre>\n<p>While trying to fetch the data from a table in loop. The JPA repo's <code>findAllById()</code> is returning the correct data in the first iteration.Where in my DB the status will always be <code>null</code>.\nI fetch the questions list and based on some logic i update the status to <code>INPROGRESS</code> or <code>TODO</code></p>\n<p>In the next Iteration instead of fetching a new set of data its just returning the previously created instance of the <code>questions</code> variable where the status is already set from the previous iteration instead of <code>null</code>.</p>\n<p>So in the end say all the five Location objects having the same CategoryList's questions.</p>\n<p>I debugged my code and zeroed in on this line the repo query call, which is Spring JPA not my implementation.</p>\n<pre><code>questions = questionRepo.findAllById(category.getQuestionIds());\n</code></pre>\n<p>In the line before this on debug the questions is <code>[]</code> as expected.\nBut when this line is executed i get a copy of the previously altered questions. with status as <code>INPROGRESS</code> or <code>TODO</code> that i set.</p>\n<p>I tried lots of things like addAll into a new list etc still no luck. Please help. Thanks in Advance.</p>\n<h3>UPDATE:</h3>\n<p>Sharing the Question Entity for better help.</p>\n<pre><code>@Entity\n@Table(name = &quot;m_question&quot;)\n@Data\n@EqualsAndHashCode(callSuper = false)\n@JsonInclude(value = Include.NON_NULL)\n@JsonIgnoreProperties(value = { &quot;addedBy&quot;, &quot;addedOn&quot;, &quot;updatedBy&quot;, &quot;updatedOn&quot;,&quot;deleted&quot; })\npublic class Question extends Auditable&lt;String&gt; {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;m_question_id&quot;)\n    private int mQuestionId;\n    \n    @Column(name = &quot;m_q_category_id&quot;)\n    private int mQCategoryId;\n    \n    @Column(name = &quot;category_code&quot;)\n    private String categoryCode;\n    \n    @Column(name = &quot;m_q_section_id&quot;)\n    private int mQSectionId;\n    \n    @Column(name = &quot;section_code&quot;)\n    private String sectionCode;\n    \n    @Column(name = &quot;question_display&quot;)\n    private String questionDisplay;\n    \n    @Column(name = &quot;max_mark&quot;)\n    private int maxMark;\n    \n    @Column(name = &quot;more_info&quot;)\n    private String moreInfo;\n    \n    @Column(name = &quot;special_info&quot;)\n    private String specialInfo;\n    \n    @Column(name = &quot;option_type&quot;)\n    private String optionType;\n    \n    @Column(name = &quot;display_order&quot;)\n    private Integer displayOrder;\n    \n    @Column(name = &quot;is_deleted&quot;)\n    private boolean isDeleted;\n    \n    @Column(name = &quot;question_condition&quot;)\n    private String questionCondition;\n    \n    @Transient\n    private QuestionStatus status;\n    \n    @Transient\n    @JsonSerialize\n    @JsonDeserialize\n    private List&lt;Option&gt; options;\n}\n</code></pre>\n<p>So as shown above the Question entity doesnt change much in table values. But when i fetch those questions i check if any options relevant to the question are present and update the status field to <code>TODO</code> or <code>INPROGRESS</code> which should initially be null but not.</p>\n<p>I even tried fetching all the questions (around 500) of them initially and putting them in a map and fetching when required from the map still the same issue is there.</p>\n<p>Am not sure what I am doing wrong here.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2876818,"reputation":643,"user_id":2468639,"display_name":"Anil Kumar Athuluri"},"score":0,"creation_date":1501599988,"post_id":45428826,"comment_id":77843961,"body_markdown":"If my answer provided you the solution, please accept it.","body":"If my answer provided you the solution, please accept it."}],"answers":[{"tags":[],"owner":{"account_id":9592064,"reputation":5123,"user_id":7122593,"accept_rate":78,"display_name":"Barath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501560637,"creation_date":1501560637,"answer_id":45428847,"question_id":45428826,"body_markdown":"Missing stereotype annotation on top of class \r\n\r\n\r\n    @Component\r\n    public class EntityManager {\r\n    \r\n        @Value(&quot;${language}&quot;)\r\n        private static String newLang;\r\n    \r\n        public EntityManager(){\r\n            System.out.println(&quot;langauge is: &quot; + newLang);\r\n        }\r\n    }\r\n\r\n","title":"Reading values from application.properties Spring Boot","body":"<p>Missing stereotype annotation on top of class </p>\n\n<pre><code>@Component\npublic class EntityManager {\n\n    @Value(\"${language}\")\n    private static String newLang;\n\n    public EntityManager(){\n        System.out.println(\"langauge is: \" + newLang);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11408727,"reputation":413,"user_id":8363483,"display_name":"Mayank Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501561093,"creation_date":1501561093,"answer_id":45428900,"question_id":45428826,"body_markdown":"you can try to use `@PropertySource` and give it the path to property file, you can find the sample below:\r\n\r\n    @Component\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class EntityManager {\r\n    \r\n        @Value(&quot;${language}&quot;)\r\n        private static String newLang;\r\n    \r\n        public EntityManager(){\r\n            System.out.println(&quot;langauge is: &quot; + newLang);\r\n        }\r\n    }\r\n\r\n","title":"Reading values from application.properties Spring Boot","body":"<p>you can try to use <code>@PropertySource</code> and give it the path to property file, you can find the sample below:</p>\n\n<pre><code>@Component\n@PropertySource(\"classpath:application.properties\")\npublic class EntityManager {\n\n    @Value(\"${language}\")\n    private static String newLang;\n\n    public EntityManager(){\n        System.out.println(\"langauge is: \" + newLang);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mišić"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501565262,"creation_date":1501565262,"answer_id":45429597,"question_id":45428826,"body_markdown":"Probably not the exact solution you&#39;re looking for, but you can also declare a property source bean:\r\n\r\nhttps://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html","title":"Reading values from application.properties Spring Boot","body":"<p>Probably not the exact solution you're looking for, but you can also declare a property source bean:</p>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html</a></p>\n"},{"tags":[],"owner":{"account_id":2876818,"reputation":643,"user_id":2468639,"display_name":"Anil Kumar Athuluri"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1501566347,"creation_date":1501566347,"answer_id":45429793,"question_id":45428826,"body_markdown":"It can be achieved in multiple ways, refer below.\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class EntityManager {\r\n    \r\n        @Value(&quot;${language}&quot;)\r\n        private static String newLang;\r\n    \r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertyConfigInDev() {\r\n            return new PropertySourcesPlaceholderConfigurer();\r\n        }\r\n    \r\n    }\r\nOR\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class EntityManager {\r\n    \r\n        @Autowired\r\n        private Environment env;\r\n    \r\n        public void readProperty() {\r\n            env.getProperty(&quot;language&quot;);\r\n        }\r\n    \r\n    }","title":"Reading values from application.properties Spring Boot","body":"<p>It can be achieved in multiple ways, refer below.</p>\n\n<pre><code>@Configuration\n@PropertySource(\"classpath:application.properties\")\npublic class EntityManager {\n\n    @Value(\"${language}\")\n    private static String newLang;\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertyConfigInDev() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>@Configuration\n@PropertySource(\"classpath:application.properties\")\npublic class EntityManager {\n\n    @Autowired\n    private Environment env;\n\n    public void readProperty() {\n        env.getProperty(\"language\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3755177,"reputation":1320,"user_id":3121683,"accept_rate":64,"display_name":"Karan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501608770,"creation_date":1501608770,"answer_id":45444352,"question_id":45428826,"body_markdown":"OK I figured it out with acts of desperation. I added the\r\n    \r\n    @PropertySource(&quot;classpath:application.properties&quot;) \r\nattribute but it still wasn&#39;t working for some reason. \r\n\r\n***I then deleted the &quot;static&quot; modifier and it worked!*** \r\n\r\nI am not sure why it works without &quot;static&quot; being there but it does. If can explain it to me that would be wonderful because this is all confusing.","title":"Reading values from application.properties Spring Boot","body":"<p>OK I figured it out with acts of desperation. I added the</p>\n\n<pre><code>@PropertySource(\"classpath:application.properties\") \n</code></pre>\n\n<p>attribute but it still wasn't working for some reason. </p>\n\n<p><strong><em>I then deleted the \"static\" modifier and it worked!</em></strong> </p>\n\n<p>I am not sure why it works without \"static\" being there but it does. If can explain it to me that would be wonderful because this is all confusing.</p>\n"},{"tags":[],"owner":{"account_id":2093803,"reputation":439,"user_id":1863021,"display_name":"Mayank Madhav"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510959749,"creation_date":1510957687,"answer_id":47360211,"question_id":45428826,"body_markdown":"Sometimes, the classpath entry for `src/main/resources` contains an exclude tag. If `application.properties` is present in this list of excluded items then `@PropertySource(&quot;classpath:application.properties&quot;)` will not be able to find the property file.\r\n\r\nEither remove the exclude entry from `[.classpath][1]` file for `src/main/resources` manually, or use the Configure build path option in Eclipse and go to Source tab. Then remove the exclude entry from `src`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YsZG8.jpg","title":"Reading values from application.properties Spring Boot","body":"<p>Sometimes, the classpath entry for <code>src/main/resources</code> contains an exclude tag. If <code>application.properties</code> is present in this list of excluded items then <code>@PropertySource(\"classpath:application.properties\")</code> will not be able to find the property file.</p>\n\n<p>Either remove the exclude entry from <code>[.classpath][1]</code> file for <code>src/main/resources</code> manually, or use the Configure build path option in Eclipse and go to Source tab. Then remove the exclude entry from <code>src</code>.</p>\n"},{"tags":[],"owner":{"account_id":9288521,"reputation":128,"user_id":6897598,"display_name":"BazSTR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512487922,"creation_date":1512487922,"answer_id":47657255,"question_id":45428826,"body_markdown":"create you beans\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class ApplicationBeansConfig {\r\n    \r\n        @Autowired\r\n        Environment env;\r\n    \r\n        @Bean\r\n        public IApplicationBeanService getService(){\r\n            return new ApplicationBeansService(env);\r\n        }\r\n    }\r\n\r\nand then in service costructor\r\n\r\n    @Service\r\n    public class ApplicationBeansService implements IApplicationBeanService {\r\n    ...\r\n       public ApplicationBeansService(Environment env){\r\n          ...\r\n          String value = env.getProperty(&quot;your.value&quot;)\r\n          ...\r\n       }\r\n    ...\r\n    }\r\n\r\ndon&#39;t forget fill your application.properties:\r\n\r\n    your.value = some-string-value","title":"Reading values from application.properties Spring Boot","body":"<p>create you beans</p>\n\n<pre><code>@Configuration\n@PropertySource(\"classpath:application.properties\")\npublic class ApplicationBeansConfig {\n\n    @Autowired\n    Environment env;\n\n    @Bean\n    public IApplicationBeanService getService(){\n        return new ApplicationBeansService(env);\n    }\n}\n</code></pre>\n\n<p>and then in service costructor</p>\n\n<pre><code>@Service\npublic class ApplicationBeansService implements IApplicationBeanService {\n...\n   public ApplicationBeansService(Environment env){\n      ...\n      String value = env.getProperty(\"your.value\")\n      ...\n   }\n...\n}\n</code></pre>\n\n<p>don't forget fill your application.properties:</p>\n\n<pre><code>your.value = some-string-value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5810210,"reputation":97,"user_id":4581551,"display_name":"Anindya Mukherjee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1526952904,"creation_date":1526951703,"answer_id":50458472,"question_id":45428826,"body_markdown":"If you are using Spring boot you do not need `@PropertySource(&quot;classpath:application.properties&quot;)` if you are using spring boot starter parent , just remove the `static` keyword and it should start working.","title":"Reading values from application.properties Spring Boot","body":"<p>If you are using Spring boot you do not need <code>@PropertySource(\"classpath:application.properties\")</code> if you are using spring boot starter parent , just remove the <code>static</code> keyword and it should start working.</p>\n"},{"tags":[],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529913708,"creation_date":1529913708,"answer_id":51018742,"question_id":45428826,"body_markdown":"in my case, the same problem had a slightly different cause - i had a class with a static instance variable (the old usual way we used to implement a Singleton pattern), into which i wanted to inject an entry from application.properties (probably the &quot;static&quot; thing was why the property could not be found - with no errors no anything :/). \r\n\r\nmoreover this class was in a totally different package from the class declared as @SpringBootApplication. i understood that package names and locations have to be taken into serious consideration with Spring Boot and automatic component scanning. my 5 cent","title":"Reading values from application.properties Spring Boot","body":"<p>in my case, the same problem had a slightly different cause - i had a class with a static instance variable (the old usual way we used to implement a Singleton pattern), into which i wanted to inject an entry from application.properties (probably the \"static\" thing was why the property could not be found - with no errors no anything :/). </p>\n\n<p>moreover this class was in a totally different package from the class declared as @SpringBootApplication. i understood that package names and locations have to be taken into serious consideration with Spring Boot and automatic component scanning. my 5 cent</p>\n"},{"tags":[],"owner":{"account_id":14965942,"reputation":457,"user_id":10804175,"display_name":"VC2019"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547502073,"creation_date":1547502073,"answer_id":54189588,"question_id":45428826,"body_markdown":"As provided in the 2nd answer above I was indeed using the spring boot, so  removed the static keyword and that resolved my issue. Make sure you don&#39;t have static for the property defined with @Value. ","title":"Reading values from application.properties Spring Boot","body":"<p>As provided in the 2nd answer above I was indeed using the spring boot, so  removed the static keyword and that resolved my issue. Make sure you don't have static for the property defined with @Value. </p>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613554897,"creation_date":1613554897,"answer_id":66239312,"question_id":45428826,"body_markdown":"The value from the properties file is ALWAYS null IF you are trying to read it BEFORE the Spring Bean has been fully initialized, for example, when calling the value from the constructor. This was the case for me.\r\n\r\nTo get past this, use the @PostConstruct annotation like this:\r\n\r\n    @Configuration\r\n    public class CustomConfiguration {\r\n\r\n\r\n         Logger logger = Logger.getLogger(CustomConfiguration.class.getSimpleName());\r\n\r\n         @Value(&quot;${test.value}&quot;)\r\n         private String testValue;\r\n\r\n          @PostConstruct\r\n          public void initializeApplication() {\r\n            logger.info(&quot;============================================&gt;&quot;+testValue);\r\n          }\r\n\r\n\r\nJust make sure you are not trying to use the value of `testValue` anywhere else before `initializeApplication` is called.","title":"Reading values from application.properties Spring Boot","body":"<p>The value from the properties file is ALWAYS null IF you are trying to read it BEFORE the Spring Bean has been fully initialized, for example, when calling the value from the constructor. This was the case for me.</p>\n<p>To get past this, use the @PostConstruct annotation like this:</p>\n<pre><code>@Configuration\npublic class CustomConfiguration {\n\n\n     Logger logger = Logger.getLogger(CustomConfiguration.class.getSimpleName());\n\n     @Value(&quot;${test.value}&quot;)\n     private String testValue;\n\n      @PostConstruct\n      public void initializeApplication() {\n        logger.info(&quot;============================================&gt;&quot;+testValue);\n      }\n</code></pre>\n<p>Just make sure you are not trying to use the value of <code>testValue</code> anywhere else before <code>initializeApplication</code> is called.</p>\n"},{"tags":[],"owner":{"account_id":7113726,"reputation":95,"user_id":5440748,"accept_rate":25,"display_name":"pallavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647427876,"creation_date":1647427876,"answer_id":71495766,"question_id":45428826,"body_markdown":"You do not need to specify the properties file if you are using the default ```application.properties``` file in src/main/resources directory. It will be auto-detected.\r\n\r\nYou need to add ```@Value``` in the constructor as the value injection doesn&#39;t happen before constructor is called.\r\n```    \r\n    private static String newLang;\r\n\r\n    public EntityManager(@Value(&quot;${language}&quot;) newLang){\r\n        this.newLang=newLang;\r\n    }\r\n```\r\n","title":"Reading values from application.properties Spring Boot","body":"<p>You do not need to specify the properties file if you are using the default <code>application.properties</code> file in src/main/resources directory. It will be auto-detected.</p>\n<p>You need to add <code>@Value</code> in the constructor as the value injection doesn't happen before constructor is called.</p>\n<pre><code>    private static String newLang;\n\n    public EntityManager(@Value(&quot;${language}&quot;) newLang){\n        this.newLang=newLang;\n    }\n</code></pre>\n"}],"owner":{"account_id":3755177,"reputation":1320,"user_id":3121683,"accept_rate":64,"display_name":"Karan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73072,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":12,"score":6,"last_activity_date":1647427876,"creation_date":1501560511,"question_id":45428826,"body_markdown":"My Spring boot app has this application structure:\r\n\r\n - src\r\n     - main\r\n        - java\r\n        - resources\r\n            - application.properties\r\n\r\nThis is my application.properties file:\r\n\r\n    logging.level.org.springframework=TRACE\r\n    logging.level.org.hibernate=ERROR\r\n    spring.resources.chain.strategy.content.enabled=true\r\n    spring.resources.chain.strategy.content.paths=/**\r\n    #spring.resources.chain.cache=false\r\n    #spring.resources.chain.html-application-cache=false\r\n    #spring.headers.cache=false\r\n    language=java\r\n\r\nI have a class which requires the use of that language=java property. This is how I am trying to use it:\r\n\r\n    \r\n    public class EntityManager {\r\n        \r\n        @Value(&quot;${language}&quot;)\r\n\t    private static String newLang;\r\n\r\n        public EntityManager(){\r\n\t\t    System.out.println(&quot;langauge is: &quot; + newLang);\r\n\t    }\r\n    }\r\n\r\n\r\nThat printed **value is always &quot;null&quot;** for some reason! I have also tried putting this on top of the class declaration:\r\n\r\n    @PropertySource(value = &quot;classpath:application.properties&quot;)\r\n","title":"Reading values from application.properties Spring Boot","body":"<p>My Spring boot app has this application structure:</p>\n\n<ul>\n<li>src\n\n<ul>\n<li>main\n\n<ul>\n<li>java</li>\n<li>resources\n\n<ul>\n<li>application.properties</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>This is my application.properties file:</p>\n\n<pre><code>logging.level.org.springframework=TRACE\nlogging.level.org.hibernate=ERROR\nspring.resources.chain.strategy.content.enabled=true\nspring.resources.chain.strategy.content.paths=/**\n#spring.resources.chain.cache=false\n#spring.resources.chain.html-application-cache=false\n#spring.headers.cache=false\nlanguage=java\n</code></pre>\n\n<p>I have a class which requires the use of that language=java property. This is how I am trying to use it:</p>\n\n<pre><code>public class EntityManager {\n\n    @Value(\"${language}\")\n    private static String newLang;\n\n    public EntityManager(){\n        System.out.println(\"langauge is: \" + newLang);\n    }\n}\n</code></pre>\n\n<p>That printed <strong>value is always \"null\"</strong> for some reason! I have also tried putting this on top of the class declaration:</p>\n\n<pre><code>@PropertySource(value = \"classpath:application.properties\")\n</code></pre>\n"},{"tags":["java","list","properties","sum"],"answers":[{"tags":[],"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647375837,"creation_date":1647375837,"answer_id":71488576,"question_id":71488390,"body_markdown":"We can use java 8 reduce to accomplish this fairly trivially. \r\n\r\n```java\r\n        List&lt;Obj&gt; objList = List.of(new Obj(12.9, 3.4, 38.6, 0.3), new Obj(0.123, 95.4, 23.0, 7.56));\r\n        Obj total = objList.stream().reduce(new Obj(), (subtotal, element) -&gt; {\r\n            subtotal.setProp1(subtotal.getProp1() + element.getProp1());\r\n            subtotal.setProp2(subtotal.getProp2() + element.getProp2());\r\n            subtotal.setProp3(subtotal.getProp3() + element.getProp3());\r\n            subtotal.setProp4(subtotal.getProp4() + element.getProp4());\r\n            return subtotal;\r\n        });\r\n```\r\nThis makes use of passing reduce a new Object that has initial values of 0 for all of your doubles, then we use an accumulator to update the value, reducing it to 1 value. ","title":"How to efficiently sum values of the same properties from multiple objects into a new object in Java","body":"<p>We can use java 8 reduce to accomplish this fairly trivially.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List&lt;Obj&gt; objList = List.of(new Obj(12.9, 3.4, 38.6, 0.3), new Obj(0.123, 95.4, 23.0, 7.56));\n        Obj total = objList.stream().reduce(new Obj(), (subtotal, element) -&gt; {\n            subtotal.setProp1(subtotal.getProp1() + element.getProp1());\n            subtotal.setProp2(subtotal.getProp2() + element.getProp2());\n            subtotal.setProp3(subtotal.getProp3() + element.getProp3());\n            subtotal.setProp4(subtotal.getProp4() + element.getProp4());\n            return subtotal;\n        });\n</code></pre>\n<p>This makes use of passing reduce a new Object that has initial values of 0 for all of your doubles, then we use an accumulator to update the value, reducing it to 1 value.</p>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647376023,"creation_date":1647376023,"answer_id":71488620,"question_id":71488390,"body_markdown":"I&#39;d create a no-arg constructor and a merge() method\r\n\r\n    public Obj merge(Obj o) {\r\n        if (o != null) {\r\n            this.prop1 += o.prop1;\r\n            //etc etc\r\n        }\r\n        return this;\r\n    }\r\n\r\nthen to get the summation:\r\n\r\n    Obj sum = new Obj();\r\n    for (Obj o : list) {\r\n       sum.merge(o);\r\n    }","title":"How to efficiently sum values of the same properties from multiple objects into a new object in Java","body":"<p>I'd create a no-arg constructor and a merge() method</p>\n<pre><code>public Obj merge(Obj o) {\n    if (o != null) {\n        this.prop1 += o.prop1;\n        //etc etc\n    }\n    return this;\n}\n</code></pre>\n<p>then to get the summation:</p>\n<pre><code>Obj sum = new Obj();\nfor (Obj o : list) {\n   sum.merge(o);\n}\n</code></pre>\n"}],"owner":{"account_id":6523278,"reputation":183,"user_id":5046797,"accept_rate":100,"display_name":"razoes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1647419341,"accepted_answer_id":71488576,"answer_count":2,"score":-1,"last_activity_date":1647427751,"creation_date":1647374750,"question_id":71488390,"body_markdown":"Lets say I have a Class Obj.\r\n```\r\npublic class Obj {\r\n  private double prop1;\r\n  private double prop2;\r\n  private double prop3;\r\n  private double prop4;\r\n\r\n  // assume getters, setters and constructors are created\r\n}\r\n```\r\n\r\nAnd a List&lt;Obj&gt; with multiple instances in it (in this example only two).\r\n```\r\nList&lt;Obj&gt; objList = List.of(new Obj(12.9, 3.4, 38.6, 0.3), new Obj(0.123, 95.4, 23.0, 7.56));\r\n```\r\n\r\nWhat would be the most efficient way to end up with an object that has the sum of the values of the same properties from all the instances in the List?\r\n```\r\nObj{13.023, 98.8, 61.6, 7.86}\r\n```","title":"How to efficiently sum values of the same properties from multiple objects into a new object in Java","body":"<p>Lets say I have a Class Obj.</p>\n<pre><code>public class Obj {\n  private double prop1;\n  private double prop2;\n  private double prop3;\n  private double prop4;\n\n  // assume getters, setters and constructors are created\n}\n</code></pre>\n<p>And a List with multiple instances in it (in this example only two).</p>\n<pre><code>List&lt;Obj&gt; objList = List.of(new Obj(12.9, 3.4, 38.6, 0.3), new Obj(0.123, 95.4, 23.0, 7.56));\n</code></pre>\n<p>What would be the most efficient way to end up with an object that has the sum of the values of the same properties from all the instances in the List?</p>\n<pre><code>Obj{13.023, 98.8, 61.6, 7.86}\n</code></pre>\n"},{"tags":["java","rest","server"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647428103,"post_id":71495708,"comment_id":126366811,"body_markdown":"Are you explicitly looking for a standalone server? As you can write unit tests without doing so, see https://www.baeldung.com/jersey-test for example. You absolutely do **not** need to first deploy your code into some EAR/WAR/WHATEWAR/... you can do a &quot;full&quot; REST request call right out of JUnit ... when using such a framework.","body":"Are you explicitly looking for a standalone server? As you can write unit tests without doing so, see <a href=\"https://www.baeldung.com/jersey-test\" rel=\"nofollow noreferrer\">baeldung.com/jersey-test</a> for example. You absolutely do <b>not</b> need to first deploy your code into some EAR/WAR/WHATEWAR/... you can do a &quot;full&quot; REST request call right out of JUnit ... when using such a framework."},{"owner":{"account_id":14924054,"reputation":73,"user_id":10775482,"display_name":"Venkat Chidambaram"},"score":0,"creation_date":1647430878,"post_id":71495708,"comment_id":126367929,"body_markdown":"@GhostCat Unfortunately, yes. The high-level view of this project is to increase code coverage for some complex server code that hits Netlify APIs. My task is to mock the Netilfy server responses with a server that gives the static response and write tests to increase code coverage for the server code.","body":"@GhostCat Unfortunately, yes. The high-level view of this project is to increase code coverage for some complex server code that hits Netlify APIs. My task is to mock the Netilfy server responses with a server that gives the static response and write tests to increase code coverage for the server code."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647431442,"post_id":71495708,"comment_id":126368142,"body_markdown":"Well, then just turn to your favorite search engine and search for &quot;wildfly demo application&quot; ... http://www.mastertheboss.com/jboss-frameworks/resteasy/wildfly-hello-world/ ... thing is: you are expected to do research before posting your question. Do you actually think you are the first person wondering how to deploy a service with wildfly? Wildfly even has their own github with just that: examples! https://github.com/wildfly/quickstart ... so, there is really no need to ask people here to write down *another* tutorial for you.","body":"Well, then just turn to your favorite search engine and search for &quot;wildfly demo application&quot; ... <a href=\"http://www.mastertheboss.com/jboss-frameworks/resteasy/wildfly-hello-world/\" rel=\"nofollow noreferrer\">mastertheboss.com/jboss-frameworks/resteasy/wildfly-hello-wo&zwnj;&#8203;rld</a> ... thing is: you are expected to do research before posting your question. Do you actually think you are the first person wondering how to deploy a service with wildfly? Wildfly even has their own github with just that: examples! <a href=\"https://github.com/wildfly/quickstart\" rel=\"nofollow noreferrer\">github.com/wildfly/quickstart</a> ... so, there is really no need to ask people here to write down <i>another</i> tutorial for you."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647431948,"post_id":71495708,"comment_id":126368341,"body_markdown":"And note, that isn&#39;t meant to be an attack. Just an observation: almost all basic things are covered somewhere. It should always be your first impulse to search for tutorials for example. Asking other people to explain stuff that is documented slows you down, too.","body":"And note, that isn&#39;t meant to be an attack. Just an observation: almost all basic things are covered somewhere. It should always be your first impulse to search for tutorials for example. Asking other people to explain stuff that is documented slows you down, too."}],"owner":{"account_id":14924054,"reputation":73,"user_id":10775482,"display_name":"Venkat Chidambaram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647427643,"creation_date":1647427643,"question_id":71495708,"body_markdown":"I have written an interface and an implementation class - which exposes a few REST endpoints (eg. /mock/abc/user) and returns some static values as json response. How do I bundle these code into an ear/war and deploy them in a lightweight standalone server such as Wildfly. \r\n\r\n**Interface**\r\n\r\n    \r\n    @Path(&quot;/mock/server&quot;)\r\n    public interface MockServer{\r\n    \r\n           @Path(&quot;/user&quot;)\r\n           @GET\r\n           @Produces({MimeTypes.APPLICATION_JSON})\r\n           Response getUserDetails();\r\n    }\r\n\r\n**Impl Class**\r\n\r\n    public class MockServerImpl implements MockServer{\r\n        @Override\r\n        public Response getUserDetails() {\r\n        ...\r\n        }\r\n\r\nI am supposed to deploy it in a separate server and hit these endpoints from my JUnit tests.","title":"How do I convert a basic server code that exposes a few REST endpoints and provides static response into an ear and deploy it in a lightweight server?","body":"<p>I have written an interface and an implementation class - which exposes a few REST endpoints (eg. /mock/abc/user) and returns some static values as json response. How do I bundle these code into an ear/war and deploy them in a lightweight standalone server such as Wildfly.</p>\n<p><strong>Interface</strong></p>\n<pre><code>@Path(&quot;/mock/server&quot;)\npublic interface MockServer{\n\n       @Path(&quot;/user&quot;)\n       @GET\n       @Produces({MimeTypes.APPLICATION_JSON})\n       Response getUserDetails();\n}\n</code></pre>\n<p><strong>Impl Class</strong></p>\n<pre><code>public class MockServerImpl implements MockServer{\n    @Override\n    public Response getUserDetails() {\n    ...\n    }\n</code></pre>\n<p>I am supposed to deploy it in a separate server and hit these endpoints from my JUnit tests.</p>\n"},{"tags":["java","android","android-studio","gradle","build.gradle"],"comments":[{"owner":{"account_id":1979244,"reputation":1418,"user_id":1776243,"display_name":"Ram"},"score":0,"creation_date":1562567640,"post_id":56059689,"comment_id":100399840,"body_markdown":"have you got any solution?","body":"have you got any solution?"}],"answers":[{"tags":[],"owner":{"account_id":15903872,"reputation":188,"user_id":11475585,"display_name":"Abiram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557721913,"creation_date":1557721913,"answer_id":56105783,"question_id":56059689,"body_markdown":"The problem is not with the build,it was in the code. I fixed this issue by replacing \r\n\r\n        catch (MalformedURLException paramVarArgs1)\r\n            {\r\n                for (;;) {} //which can only exit by throwing an exception\r\n            }\r\n            catch (IOException paramVarArgs1)\r\n            {\r\n\r\n                for (;;) {} //which can only exit by throwing an exception\r\n            }\r\n\r\nto \r\n\r\n      catch (MalformedURLException paramVarArgs1)\r\n            {\r\n                System.out.println(&quot;Caught in main(MalformedURLException).&quot;+paramVarArgs1); //anything that can throw an exception\r\n            }\r\n            catch (IOException paramVarArgs1)\r\n            {\r\n\r\n                System.out.println(&quot;Caught in main(IOException).&quot;+paramVarArgs1); //anything that can throw an exception\r\n            }","title":"Execution failed for task &#39;:app:transformClassesAndResourcesWithR8ForRelease&#39; while generating signed apk/bundle","body":"<p>The problem is not with the build,it was in the code. I fixed this issue by replacing </p>\n\n<pre><code>    catch (MalformedURLException paramVarArgs1)\n        {\n            for (;;) {} //which can only exit by throwing an exception\n        }\n        catch (IOException paramVarArgs1)\n        {\n\n            for (;;) {} //which can only exit by throwing an exception\n        }\n</code></pre>\n\n<p>to </p>\n\n<pre><code>  catch (MalformedURLException paramVarArgs1)\n        {\n            System.out.println(\"Caught in main(MalformedURLException).\"+paramVarArgs1); //anything that can throw an exception\n        }\n        catch (IOException paramVarArgs1)\n        {\n\n            System.out.println(\"Caught in main(IOException).\"+paramVarArgs1); //anything that can throw an exception\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8953873,"reputation":17297,"user_id":6678991,"accept_rate":75,"display_name":"Mahdi-Malv"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1647427626,"creation_date":1569052728,"answer_id":58038362,"question_id":56059689,"body_markdown":"In my case adding\r\n\r\n```groovy\r\nandroid.enableR8 = false\r\n```\r\nin `gradle.properties` fixed the problem.  \r\n&gt; **NOTE**: This is a temp solution and should not be considered as a savior solution.","title":"Execution failed for task &#39;:app:transformClassesAndResourcesWithR8ForRelease&#39; while generating signed apk/bundle","body":"<p>In my case adding</p>\n<pre><code>android.enableR8 = false\n</code></pre>\n<p>in <code>gradle.properties</code> fixed the problem.</p>\n<blockquote>\n<p><strong>NOTE</strong>: This is a temp solution and should not be considered as a savior solution.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17974759,"reputation":628,"user_id":13062632,"display_name":"Abdullah Ansari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632522467,"creation_date":1632522152,"answer_id":69321616,"question_id":56059689,"body_markdown":"Actually there is a problem with new release of firebase library\r\nFollow these steps it works for me,\r\n 1. Manually delete &quot;react-native-firebase&quot; folder from &quot;node_modules&quot;.\r\n 2. Go to android folder run this command from terminal `./gradlew clean`\r\n 3. Try generating apk again.","title":"Execution failed for task &#39;:app:transformClassesAndResourcesWithR8ForRelease&#39; while generating signed apk/bundle","body":"<p>Actually there is a problem with new release of firebase library\nFollow these steps it works for me,</p>\n<ol>\n<li>Manually delete &quot;react-native-firebase&quot; folder from &quot;node_modules&quot;.</li>\n<li>Go to android folder run this command from terminal <code>./gradlew clean</code></li>\n<li>Try generating apk again.</li>\n</ol>\n"}],"owner":{"account_id":15903872,"reputation":188,"user_id":11475585,"display_name":"Abiram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11098,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1647427626,"creation_date":1557405658,"question_id":56059689,"body_markdown":"The program compiles fine and I can generate unsigned apk. But  `&quot;Execution failed for task &#39;:app:transformClassesAndResourcesWithR8ForRelease&#39;&quot; `while generating signed apk\r\n\r\nI have already set `multiDexEnabled = true` and `android.enableR8 = true`. Even `android.enableR8 = false` did not work. \r\n\r\n```\r\norg.gradle.execution.MultipleBuildFailures: Build completed with 1 failures.\r\n\tat org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:386)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:247)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:159)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:134)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:58)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:55)\r\n\tat org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:82)\r\n\tat org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:75)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:183)\r\n\tat org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\r\n\tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:75)\r\n\tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:55)\r\n\tat org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:54)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:58)\r\n\tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:49)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:46)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:46)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\r\n\tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n\tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n\tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformClassesAndResourcesWithR8ForRelease&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:95)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:91)\r\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:119)\r\n\tat org.gradle.api.internal.tasks.execution.ResolvePreviousStateExecuter.execute(ResolvePreviousStateExecuter.java:43)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:93)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:45)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:94)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:67)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\r\n\t... 6 more\r\nCaused by: java.lang.NullPointerException\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:598)\r\n\tat java.util.concurrent.ForkJoinTask.get(ForkJoinTask.java:1005)\r\n\tat com.android.tools.r8.utils.ThreadUtils.awaitFutures(ThreadUtils.java:21)\r\n\tat com.android.tools.r8.ir.conversion.CallGraph.forEachMethod(CallGraph.java:472)\r\n\tat com.android.tools.r8.ir.conversion.IRConverter.optimize(IRConverter.java:549)\r\n\tat com.android.tools.r8.R8.run(R8.java:508)\r\n\tat com.android.tools.r8.R8.run(R8.java:251)\r\n\tat com.android.tools.r8.R8.lambda$runForTesting$1(R8.java:242)\r\n\tat com.android.tools.r8.utils.ExceptionUtils.withCompilationHandler(ExceptionUtils.java:62)\r\n\tat com.android.tools.r8.utils.ExceptionUtils.withR8CompilationHandler(ExceptionUtils.java:50)\r\n\tat com.android.tools.r8.R8.runForTesting(R8.java:238)\r\n\tat com.android.tools.r8.R8.run(R8.java:148)\r\n\tat com.android.builder.dexing.R8Tool.runR8(r8Tool.kt:189)\r\n\tat com.android.build.gradle.internal.transforms.R8Transform.transform(R8Transform.kt:260)\r\n\tat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:239)\r\n\tat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:235)\r\n\tat com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\r\n\tat com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:230)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n\tat org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:47)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:41)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:284)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:273)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:258)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$200(ExecuteActionsTaskExecuter.java:67)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:145)\r\n\tat org.gradle.internal.execution.impl.steps.ExecuteStep.execute(ExecuteStep.java:49)\r\n\tat org.gradle.internal.execution.impl.steps.CancelExecutionStep.execute(CancelExecutionStep.java:34)\r\n\tat org.gradle.internal.execution.impl.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:69)\r\n\tat org.gradle.internal.execution.impl.steps.TimeoutStep.execute(TimeoutStep.java:49)\r\n\tat org.gradle.internal.execution.impl.steps.CatchExceptionStep.execute(CatchExceptionStep.java:33)\r\n\tat org.gradle.internal.execution.impl.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\r\n\tat org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:43)\r\n\tat org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:29)\r\n\tat org.gradle.internal.execution.impl.steps.CacheStep.executeWithoutCache(CacheStep.java:134)\r\n\tat org.gradle.internal.execution.impl.steps.CacheStep.lambda$execute$3(CacheStep.java:83)\r\n\tat java.util.Optional.orElseGet(Optional.java:267)\r\n\tat org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:82)\r\n\tat org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:36)\r\n\tat org.gradle.internal.execution.impl.steps.PrepareCachingStep.execute(PrepareCachingStep.java:33)\r\n\tat org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:38)\r\n\tat org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:23)\r\n\tat org.gradle.internal.execution.impl.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:96)\r\n\tat org.gradle.internal.execution.impl.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:89)\r\n\tat java.util.Optional.map(Optional.java:215)\r\n\tat org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\r\n\tat org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\r\n\tat org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:34)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:91)\r\n\t... 35 more\r\n\tSuppressed: java.util.concurrent.ExecutionException: java.lang.NullPointerException\r\n\t\tat java.util.concurrent.ForkJoinTask.get(ForkJoinTask.java:1006)\r\n\t\t... 92 more\r\n\t[CIRCULAR REFERENCE:java.lang.NullPointerException]\r\nCaused by: java.lang.NullPointerException\r\n\tat com.android.tools.r8.ir.optimize.CodeRewriter.workaroundExceptionTargetingLoopHeaderBug(CodeRewriter.java:3839)\r\n\tat com.android.tools.r8.ir.conversion.IRConverter.performRegisterAllocation(IRConverter.java:1251)\r\n\tat com.android.tools.r8.ir.conversion.IRConverter.finalizeToDex(IRConverter.java:1207)\r\n\tat com.android.tools.r8.ir.conversion.IRConverter.finalizeIR(IRConverter.java:1181)\r\n\tat com.android.tools.r8.ir.conversion.IRConverter.rewriteCode(IRConverter.java:1122)\r\n\tat com.android.tools.r8.ir.conversion.IRConverter.processMethod(IRConverter.java:805)\r\n\tat com.android.tools.r8.ir.conversion.IRConverter.lambda$optimize$5(IRConverter.java:551)\r\n\tat com.android.tools.r8.ir.conversion.CallGraph.lambda$forEachMethod$6(CallGraph.java:468)\r\n\tat java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n\r\n\r\n```\r\n\r\nHere is my build.gradle (Module: app)\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 28\r\n    buildToolsVersion &#39;28.0.3&#39;\r\n    defaultConfig {\r\n        applicationId &quot;com.microsoft.abiram.gkm&quot;\r\n        minSdkVersion 18\r\n        targetSdkVersion 28\r\n        versionCode 26\r\n        versionName &quot;1.7&quot;\r\n        multiDexEnabled true\r\n        vectorDrawables.useSupportLibrary = true\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:16.0.8&#39;\r\n    implementation &#39;io.branch.sdk.android:library:3.1.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:16.2.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:16.0.1&#39;\r\n    implementation &#39;pl.droidsonroids.gif:android-gif-drawable:1.2.16&#39;\r\n    implementation &#39;com.google.firebase:firebase-config:16.5.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:17.6.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.1.0-alpha05&#39;\r\n    implementation &#39;com.github.paolorotolo:expandableheightlistview:1.0.0&#39;\r\n    implementation &#39;com.github.GrenderG:Toasty:1.4.1&#39;\r\n    implementation &#39;com.getkeepsafe.taptargetview:taptargetview:1.12.0&#39;\r\n    implementation &#39;com.github.AppIntro:AppIntro:v5.1.0&#39;\r\n    implementation &#39;com.tapadoo.android:alerter:4.0.2&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;com.gdacciaro:iosdialog:1.0.3&#39;\r\n\r\n}\r\n```\r\n\r\nbuild.grade (Project)\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.4.0&#39;\r\n        \r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n        classpath &#39;com.google.gms:google-services:4.2.0&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\nsubprojects\r\n        {\r\n            project.configurations.all {\r\n                resolutionStrategy.eachDependency { details -&gt;\r\n                    if (details.requested.group == &#39;com.android.support&#39;\r\n                            &amp;&amp; !details.requested.name.contains(&#39;multidex&#39;) ) {\r\n                        details.useVersion &quot;26.1.0&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\ngradle.properties\r\n\r\n````\r\n# Project-wide Gradle settings.\r\n# IDE (e.g. Android Studio) users:\r\n# Gradle settings configured through the IDE *will override*\r\n# any settings specified in this file.\r\n# For more details on how to configure your build environment visit\r\n# http://www.gradle.org/docs/current/userguide/build_environment.html\r\n# Specifies the JVM arguments used for the daemon process.\r\n# The setting is particularly useful for tweaking memory settings.\r\norg.gradle.jvmargs=-Xmx1536m\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\nandroid.enableR8 = true\r\nmultiDexEnabled = true\r\n# When configured, Gradle will run in incubating parallel mode.\r\n# This option should only be used with decoupled projects. More details, visit\r\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n# org.gradle.parallel=true\r\n\r\n````","title":"Execution failed for task &#39;:app:transformClassesAndResourcesWithR8ForRelease&#39; while generating signed apk/bundle","body":"<p>The program compiles fine and I can generate unsigned apk. But  <code>\"Execution failed for task ':app:transformClassesAndResourcesWithR8ForRelease'\"</code>while generating signed apk</p>\n\n<p>I have already set <code>multiDexEnabled = true</code> and <code>android.enableR8 = true</code>. Even <code>android.enableR8 = false</code> did not work. </p>\n\n<pre><code>org.gradle.execution.MultipleBuildFailures: Build completed with 1 failures.\n    at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:386)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:247)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:159)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:134)\n    at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:58)\n    at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:55)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:82)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:183)\n    at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:75)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:55)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:54)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:58)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:49)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:46)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:46)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformClassesAndResourcesWithR8ForRelease'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:95)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:119)\n    at org.gradle.api.internal.tasks.execution.ResolvePreviousStateExecuter.execute(ResolvePreviousStateExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:93)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:45)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:94)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:67)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\n    ... 6 more\nCaused by: java.lang.NullPointerException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:598)\n    at java.util.concurrent.ForkJoinTask.get(ForkJoinTask.java:1005)\n    at com.android.tools.r8.utils.ThreadUtils.awaitFutures(ThreadUtils.java:21)\n    at com.android.tools.r8.ir.conversion.CallGraph.forEachMethod(CallGraph.java:472)\n    at com.android.tools.r8.ir.conversion.IRConverter.optimize(IRConverter.java:549)\n    at com.android.tools.r8.R8.run(R8.java:508)\n    at com.android.tools.r8.R8.run(R8.java:251)\n    at com.android.tools.r8.R8.lambda$runForTesting$1(R8.java:242)\n    at com.android.tools.r8.utils.ExceptionUtils.withCompilationHandler(ExceptionUtils.java:62)\n    at com.android.tools.r8.utils.ExceptionUtils.withR8CompilationHandler(ExceptionUtils.java:50)\n    at com.android.tools.r8.R8.runForTesting(R8.java:238)\n    at com.android.tools.r8.R8.run(R8.java:148)\n    at com.android.builder.dexing.R8Tool.runR8(r8Tool.kt:189)\n    at com.android.build.gradle.internal.transforms.R8Transform.transform(R8Transform.kt:260)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:239)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:235)\n    at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n    at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:230)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:47)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:41)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:284)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:273)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:258)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$200(ExecuteActionsTaskExecuter.java:67)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:145)\n    at org.gradle.internal.execution.impl.steps.ExecuteStep.execute(ExecuteStep.java:49)\n    at org.gradle.internal.execution.impl.steps.CancelExecutionStep.execute(CancelExecutionStep.java:34)\n    at org.gradle.internal.execution.impl.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:69)\n    at org.gradle.internal.execution.impl.steps.TimeoutStep.execute(TimeoutStep.java:49)\n    at org.gradle.internal.execution.impl.steps.CatchExceptionStep.execute(CatchExceptionStep.java:33)\n    at org.gradle.internal.execution.impl.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\n    at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:43)\n    at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:29)\n    at org.gradle.internal.execution.impl.steps.CacheStep.executeWithoutCache(CacheStep.java:134)\n    at org.gradle.internal.execution.impl.steps.CacheStep.lambda$execute$3(CacheStep.java:83)\n    at java.util.Optional.orElseGet(Optional.java:267)\n    at org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:82)\n    at org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:36)\n    at org.gradle.internal.execution.impl.steps.PrepareCachingStep.execute(PrepareCachingStep.java:33)\n    at org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:38)\n    at org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:23)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:96)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:89)\n    at java.util.Optional.map(Optional.java:215)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\n    at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:34)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:91)\n    ... 35 more\n    Suppressed: java.util.concurrent.ExecutionException: java.lang.NullPointerException\n        at java.util.concurrent.ForkJoinTask.get(ForkJoinTask.java:1006)\n        ... 92 more\n    [CIRCULAR REFERENCE:java.lang.NullPointerException]\nCaused by: java.lang.NullPointerException\n    at com.android.tools.r8.ir.optimize.CodeRewriter.workaroundExceptionTargetingLoopHeaderBug(CodeRewriter.java:3839)\n    at com.android.tools.r8.ir.conversion.IRConverter.performRegisterAllocation(IRConverter.java:1251)\n    at com.android.tools.r8.ir.conversion.IRConverter.finalizeToDex(IRConverter.java:1207)\n    at com.android.tools.r8.ir.conversion.IRConverter.finalizeIR(IRConverter.java:1181)\n    at com.android.tools.r8.ir.conversion.IRConverter.rewriteCode(IRConverter.java:1122)\n    at com.android.tools.r8.ir.conversion.IRConverter.processMethod(IRConverter.java:805)\n    at com.android.tools.r8.ir.conversion.IRConverter.lambda$optimize$5(IRConverter.java:551)\n    at com.android.tools.r8.ir.conversion.CallGraph.lambda$forEachMethod$6(CallGraph.java:468)\n    at java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\n\n\n</code></pre>\n\n<p>Here is my build.gradle (Module: app)</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion '28.0.3'\n    defaultConfig {\n        applicationId \"com.microsoft.abiram.gkm\"\n        minSdkVersion 18\n        targetSdkVersion 28\n        versionCode 26\n        versionName \"1.7\"\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n    implementation 'com.google.firebase:firebase-core:16.0.8'\n    implementation 'io.branch.sdk.android:library:3.1.2'\n    implementation 'com.google.firebase:firebase-auth:16.2.1'\n    implementation 'com.google.android.gms:play-services-auth:16.0.1'\n    implementation 'pl.droidsonroids.gif:android-gif-drawable:1.2.16'\n    implementation 'com.google.firebase:firebase-config:16.5.0'\n    implementation 'com.google.firebase:firebase-messaging:17.6.0'\n    implementation 'com.google.android.material:material:1.1.0-alpha05'\n    implementation 'com.github.paolorotolo:expandableheightlistview:1.0.0'\n    implementation 'com.github.GrenderG:Toasty:1.4.1'\n    implementation 'com.getkeepsafe.taptargetview:taptargetview:1.12.0'\n    implementation 'com.github.AppIntro:AppIntro:v5.1.0'\n    implementation 'com.tapadoo.android:alerter:4.0.2'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.gdacciaro:iosdialog:1.0.3'\n\n}\n</code></pre>\n\n<p>build.grade (Project)</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.4.0'\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.gms:google-services:4.2.0'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven { url \"https://jitpack.io\" }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\nsubprojects\n        {\n            project.configurations.all {\n                resolutionStrategy.eachDependency { details -&gt;\n                    if (details.requested.group == 'com.android.support'\n                            &amp;&amp; !details.requested.name.contains('multidex') ) {\n                        details.useVersion \"26.1.0\"\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>gradle.properties</p>\n\n<pre><code># Project-wide Gradle settings.\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\norg.gradle.jvmargs=-Xmx1536m\nandroid.useAndroidX=true\nandroid.enableJetifier=true\nandroid.enableR8 = true\nmultiDexEnabled = true\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n\n</code></pre>\n"},{"tags":["java","android","xml","kotlin","search"],"comments":[{"owner":{"account_id":10058787,"reputation":152,"user_id":7436188,"display_name":"David Asher"},"score":0,"creation_date":1647423267,"post_id":71494530,"comment_id":126364824,"body_markdown":"Look here to see how to count the number of occurenes of a substring in string, https://stackoverflow.com/questions/49846295/kotlin-count-occurrences-of-chararray-in-string","body":"Look here to see how to count the number of occurenes of a substring in string, <a href=\"https://stackoverflow.com/questions/49846295/kotlin-count-occurrences-of-chararray-in-string\" title=\"kotlin count occurrences of chararray in string\">stackoverflow.com/questions/49846295/&hellip;</a>"},{"owner":{"account_id":13687694,"reputation":815,"user_id":9876410,"display_name":"XCarb"},"score":0,"creation_date":1647424919,"post_id":71494530,"comment_id":126365482,"body_markdown":"I tied it, but when i do : content.count {wordiamlokingfor. contains(it)} or any other method, i find result that has nonsense, i find occurence &gt; 1000 when the text is only 500 word. And i find 100 occurence when i look for word that doesnt existe for exemple &quot;efjwfnefn&quot;. Maybe i&#39;am missing something?","body":"I tied it, but when i do : content.count {wordiamlokingfor. contains(it)} or any other method, i find result that has nonsense, i find occurence &gt; 1000 when the text is only 500 word. And i find 100 occurence when i look for word that doesnt existe for exemple &quot;efjwfnefn&quot;. Maybe i&#39;am missing something?"},{"owner":{"account_id":13687694,"reputation":815,"user_id":9876410,"display_name":"XCarb"},"score":0,"creation_date":1647427438,"post_id":71494530,"comment_id":126366508,"body_markdown":"ok this count the occurence of the char, i was able to get the count with windowed thanks.","body":"ok this count the occurence of the char, i was able to get the count with windowed thanks."}],"owner":{"account_id":13687694,"reputation":815,"user_id":9876410,"display_name":"XCarb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647427620,"creation_date":1647422859,"question_id":71494530,"body_markdown":"In my project I have multiples xml file that I downloaded in internal memory of my application. I would like to be able to search a word in those file.\r\nI am able to able to get the text of my file like this :\r\n\r\n   var file = File(&quot;myPath&quot;, &quot;filename.xml&quot;)\r\n\r\nThen I used readfile and contain to know if the file contain my word :\r\n\r\n    var content = file.readText()\r\n    var contain = content.contains(&quot;wordiamlokingfor&quot;)\r\n\r\nif contain is true then the word appear in my file.\r\n\r\nMy problem is that first of all it&#39;s only search for one occurrence of my word and I would like to know how many times the word appear in the file. Then if I have to open every file and to look in every one of them, this seem to be very unefficient and taking a long time.\r\n\r\nSo I would like to know if there is a way, maybe using buffer or something else, to search text in multiple xml file. That is efficient, speaking in time and memory ? And finding all occurence of the word.\r\n\r\n**EDIT**\r\n\r\nAs someone sugested, i used : \r\n\r\n    content.windowed(myword.length){\r\n                    if (it.equals(string1))\r\n                        1\r\n                    else\r\n                        0\r\n                }.sum()\r\n\r\nAnd this gave me the number of occurence of my word in my file.\r\nNow i would like to know if there is a better search option than opening all files and read all content of each one ?","title":"Kotlin efficient way to search text in xml file","body":"<p>In my project I have multiples xml file that I downloaded in internal memory of my application. I would like to be able to search a word in those file.\nI am able to able to get the text of my file like this :</p>\n<p>var file = File(&quot;myPath&quot;, &quot;filename.xml&quot;)</p>\n<p>Then I used readfile and contain to know if the file contain my word :</p>\n<pre><code>var content = file.readText()\nvar contain = content.contains(&quot;wordiamlokingfor&quot;)\n</code></pre>\n<p>if contain is true then the word appear in my file.</p>\n<p>My problem is that first of all it's only search for one occurrence of my word and I would like to know how many times the word appear in the file. Then if I have to open every file and to look in every one of them, this seem to be very unefficient and taking a long time.</p>\n<p>So I would like to know if there is a way, maybe using buffer or something else, to search text in multiple xml file. That is efficient, speaking in time and memory ? And finding all occurence of the word.</p>\n<p><strong>EDIT</strong></p>\n<p>As someone sugested, i used :</p>\n<pre><code>content.windowed(myword.length){\n                if (it.equals(string1))\n                    1\n                else\n                    0\n            }.sum()\n</code></pre>\n<p>And this gave me the number of occurence of my word in my file.\nNow i would like to know if there is a better search option than opening all files and read all content of each one ?</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":18301757,"reputation":138,"user_id":13326385,"display_name":"Nicolas125841"},"score":1,"creation_date":1643309991,"post_id":70884217,"comment_id":125312276,"body_markdown":"For the array with odd elements, do you want it to include the middle element or not?","body":"For the array with odd elements, do you want it to include the middle element or not?"},{"owner":{"account_id":2684795,"reputation":182450,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1643310010,"post_id":70884217,"comment_id":125312284,"body_markdown":"Could you, please, secribe the *initial problem*? You compute `rightSum` and `leftSum` then compare them...","body":"Could you, please, secribe the <i>initial problem</i>? You compute <code>rightSum</code> and <code>leftSum</code> then compare them..."},{"owner":{"account_id":22938034,"reputation":37,"user_id":17071203,"display_name":"Patryk Szymańczyk"},"score":0,"creation_date":1647428774,"post_id":70884217,"comment_id":126367089,"body_markdown":"i wanted to compare both sides of array, if they are equal then return, about middle element i wanted to divide this element by 2 or take to one of side.","body":"i wanted to compare both sides of array, if they are equal then return, about middle element i wanted to divide this element by 2 or take to one of side."}],"answers":[{"tags":[],"owner":{"account_id":1837040,"reputation":844,"user_id":1667198,"display_name":"Ismael Sarmento"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643311324,"creation_date":1643311324,"answer_id":70884530,"question_id":70884217,"body_markdown":"Given your code, you can remove your if-else clause and have you loops like below (having the middle element ignored):\r\n\r\n    for (int i = 0; i &lt; array.length / 2; i++) {\r\n        leftSum += array[i];\r\n    }\r\n    for (int i = array.length - 1; i &gt; array.length/2; i--) {\r\n       rightSum += array[i];\r\n    }\r\n\r\nIf you want your middle element to be added to the left side, modify the condition on the first loop to *&#39;i **&lt;=** array.length / 2&#39;*; if you want the middle element added to the right side, modify the condition in your second loop to *&#39;i **&gt;=** array.length/2&#39;*\r\n\r\nI just fixed your code, but there is a better way to code this. I guess you are new to coding, Patryk, so try writing some automated tests for the code and refactor, to increase its quality. Happy learning.","title":"Start loop from half if array is odd in java","body":"<p>Given your code, you can remove your if-else clause and have you loops like below (having the middle element ignored):</p>\n<pre><code>for (int i = 0; i &lt; array.length / 2; i++) {\n    leftSum += array[i];\n}\nfor (int i = array.length - 1; i &gt; array.length/2; i--) {\n   rightSum += array[i];\n}\n</code></pre>\n<p>If you want your middle element to be added to the left side, modify the condition on the first loop to <em>'i <strong>&lt;=</strong> array.length / 2'</em>; if you want the middle element added to the right side, modify the condition in your second loop to <em>'i <strong>&gt;=</strong> array.length/2'</em></p>\n<p>I just fixed your code, but there is a better way to code this. I guess you are new to coding, Patryk, so try writing some automated tests for the code and refactor, to increase its quality. Happy learning.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643312679,"creation_date":1643312679,"answer_id":70884784,"question_id":70884217,"body_markdown":"If you want, you can do it in a single loop. Simply iterate halfway thru and sum the appropriate values from left and right.  If the array is of odd length, the middle value is ignored.\r\n\r\nNote that if you change the conditional to include the middle value, it will simply be added to both side sums.  So there is really no point in it.\r\n\r\n```\r\npublic static boolean halfSums(int[] arr) {\r\n\tint left = 0;\r\n\tint right = 0;\r\n\tfor (int i = 0; i &lt; arr.length/2; i++) {\r\n\t\tleft += arr[i];\r\n\t\tright+= arr[arr.length-i-1];\r\n\t}\r\n\treturn left == right;\r\n}","title":"Start loop from half if array is odd in java","body":"<p>If you want, you can do it in a single loop. Simply iterate halfway thru and sum the appropriate values from left and right.  If the array is of odd length, the middle value is ignored.</p>\n<p>Note that if you change the conditional to include the middle value, it will simply be added to both side sums.  So there is really no point in it.</p>\n<pre><code>public static boolean halfSums(int[] arr) {\n    int left = 0;\n    int right = 0;\n    for (int i = 0; i &lt; arr.length/2; i++) {\n        left += arr[i];\n        right+= arr[arr.length-i-1];\n    }\n    return left == right;\n}\n</code></pre>\n"}],"owner":{"account_id":22938034,"reputation":37,"user_id":17071203,"display_name":"Patryk Szymańczyk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70884530,"answer_count":2,"score":0,"last_activity_date":1647427549,"creation_date":1643309802,"question_id":70884217,"body_markdown":"I have a problem like in tittle, i want to make loop for for array with odd elements,\r\n\r\nEx. [ 5 , 5 , 3 , 7] in this way program will take 5+5 for left sum (array.lenght /2) and 3+7 for right sum. After all i want to compare them.\r\n\r\nProblem is when the array looks like [ 5 , 5 , 3 ] in that way i cannot make array.lenght/2 \r\n\r\nAnd the question is what can i do?\r\n\r\n\r\n        int rightSum = 0;\r\n        int leftSum = 0;\r\n\r\n        for (int i = 0; i &lt; array.length / 2; i++) {\r\n            leftSum += array[i];\r\n        }\r\n        if (array.length % 2 == 0) {\r\n            for (int i = array.length / 2; i &lt; array.length; i++) {\r\n                rightSum += array[i];\r\n            }\r\n        } else {\r\n\r\n        }\r\n\r\n        return leftSum == rightSum;\r\n    }\r\n\r\n\r\n","title":"Start loop from half if array is odd in java","body":"<p>I have a problem like in tittle, i want to make loop for for array with odd elements,</p>\n<p>Ex. [ 5 , 5 , 3 , 7] in this way program will take 5+5 for left sum (array.lenght /2) and 3+7 for right sum. After all i want to compare them.</p>\n<p>Problem is when the array looks like [ 5 , 5 , 3 ] in that way i cannot make array.lenght/2</p>\n<p>And the question is what can i do?</p>\n<pre><code>    int rightSum = 0;\n    int leftSum = 0;\n\n    for (int i = 0; i &lt; array.length / 2; i++) {\n        leftSum += array[i];\n    }\n    if (array.length % 2 == 0) {\n        for (int i = array.length / 2; i &lt; array.length; i++) {\n            rightSum += array[i];\n        }\n    } else {\n\n    }\n\n    return leftSum == rightSum;\n}\n</code></pre>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"score":0,"creation_date":1645988363,"post_id":71287589,"comment_id":126008053,"body_markdown":"What do you mean it won&#39;t resolve? Can you post what you have tried and what your error message is?","body":"What do you mean it won&#39;t resolve? Can you post what you have tried and what your error message is?"},{"owner":{"account_id":23594199,"reputation":85,"user_id":17631530,"display_name":"kofi boateng"},"score":0,"creation_date":1645989396,"post_id":71287589,"comment_id":126008310,"body_markdown":"@mikeb my apologize. See above &quot;Error Message&quot;. Basically i cannot find the dependency. I tried another set of dependency from a tutorial before trying the one in the code.","body":"@mikeb my apologize. See above &quot;Error Message&quot;. Basically i cannot find the dependency. I tried another set of dependency from a tutorial before trying the one in the code."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645989015,"creation_date":1645989015,"answer_id":71287722,"question_id":71287589,"body_markdown":"The [MvnRepository](https://mvnrepository.com/artifact/com.auth0/java-jwt/3.18.3) page says, it&#39;s in the central repo, and the central repo link to the pom.xml of the dependency also works: https://repo1.maven.org/maven2/com/auth0/java-jwt/3.18.3/java-jwt-3.18.3.pom\r\n\r\nSo did you maybe try to resolve it once when you were offline? Failed resolving also is cached in your local maven repo, so you might have to clean that up. You can try to use \r\n\r\n    mvn dependency:get -Dartifact=com.auth0:java-jwt:3.18.3\r\n\r\nor you clean the cached &quot;missing&quot; dependency manually: go to your local maven repo (usually in *~/.m2/repository*), descend to *com/auth0/java-jwt* and remove the folder *3.18.3* inside, then run your maven build again.\r\n","title":"Json webtoken dependency will not resolve in pom.xml","body":"<p>The <a href=\"https://mvnrepository.com/artifact/com.auth0/java-jwt/3.18.3\" rel=\"nofollow noreferrer\">MvnRepository</a> page says, it's in the central repo, and the central repo link to the pom.xml of the dependency also works: <a href=\"https://repo1.maven.org/maven2/com/auth0/java-jwt/3.18.3/java-jwt-3.18.3.pom\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/auth0/java-jwt/3.18.3/java-jwt-3.18.3.pom</a></p>\n<p>So did you maybe try to resolve it once when you were offline? Failed resolving also is cached in your local maven repo, so you might have to clean that up. You can try to use</p>\n<pre><code>mvn dependency:get -Dartifact=com.auth0:java-jwt:3.18.3\n</code></pre>\n<p>or you clean the cached &quot;missing&quot; dependency manually: go to your local maven repo (usually in <em>~/.m2/repository</em>), descend to <em>com/auth0/java-jwt</em> and remove the folder <em>3.18.3</em> inside, then run your maven build again.</p>\n"},{"tags":[],"owner":{"account_id":22219759,"reputation":1,"user_id":16457636,"display_name":"nouha bhy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647427437,"creation_date":1647427437,"answer_id":71495668,"question_id":71287589,"body_markdown":"I just reloaded the pom.xml file and it the works.","title":"Json webtoken dependency will not resolve in pom.xml","body":"<p>I just reloaded the pom.xml file and it the works.</p>\n"}],"owner":{"account_id":23594199,"reputation":85,"user_id":17631530,"display_name":"kofi boateng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1064,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71287722,"answer_count":2,"score":0,"last_activity_date":1647427437,"creation_date":1645987828,"question_id":71287589,"body_markdown":"I am currently working on a Spring Project, which I am new to, and have no idea why this dependency I got from the maven repository will now resolve itself. I have tried to use both the separated dependency (jjwt-api, etc..) and the one pasted in my pom.xml below but it will not resolve. If anyone can help me figure this out that would great appreciated. \r\n\r\nSpring v2.6.4\r\nJava JDK 17\r\nError message: Dependency &#39;com.auth0:java-jwt:3.18.3&#39; not found\r\n\r\n\r\n```\r\nl version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.legacy-banking&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;legacyBankingAPI&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;legacyBankingAPI&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n ---------THIS IS THE DEPENDENCY IN QUESTION BELOW---------------------------\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.18.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Json webtoken dependency will not resolve in pom.xml","body":"<p>I am currently working on a Spring Project, which I am new to, and have no idea why this dependency I got from the maven repository will now resolve itself. I have tried to use both the separated dependency (jjwt-api, etc..) and the one pasted in my pom.xml below but it will not resolve. If anyone can help me figure this out that would great appreciated.</p>\n<p>Spring v2.6.4\nJava JDK 17\nError message: Dependency 'com.auth0:java-jwt:3.18.3' not found</p>\n<pre><code>l version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.legacy-banking&lt;/groupId&gt;\n    &lt;artifactId&gt;legacyBankingAPI&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;legacyBankingAPI&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n ---------THIS IS THE DEPENDENCY IN QUESTION BELOW---------------------------\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.18.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15102634,"reputation":338,"user_id":10899197,"display_name":"Tr1monster"},"score":0,"creation_date":1647427213,"post_id":71495426,"comment_id":126366418,"body_markdown":"Your Method say. That every `Holder&lt;? extends A&gt;` allowed is. I assume that `B` and `C` not extend `A`. Your Solution could be an Interface wich A, B and C implement.","body":"Your Method say. That every <code>Holder&lt;? extends A&gt;</code> allowed is. I assume that <code>B</code> and <code>C</code> not extend <code>A</code>. Your Solution could be an Interface wich A, B and C implement."}],"answers":[{"tags":[],"owner":{"account_id":20491251,"reputation":1305,"user_id":15037284,"display_name":"V.D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647427395,"creation_date":1647427395,"answer_id":71495657,"question_id":71495426,"body_markdown":"I figured it out. As pecs says ? must extend type that your list will return. So next method works fine:\r\n```\r\npublic static void listMethod(List&lt;? extends Holder&lt;? extends A&gt;&gt; list){\r\n\r\n}\r\n```","title":"Java PECS fail for list of parametrized classes","body":"<p>I figured it out. As pecs says ? must extend type that your list will return. So next method works fine:</p>\n<pre><code>public static void listMethod(List&lt;? extends Holder&lt;? extends A&gt;&gt; list){\n\n}\n</code></pre>\n"}],"owner":{"account_id":20491251,"reputation":1305,"user_id":15037284,"display_name":"V.D."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71495657,"answer_count":1,"score":0,"last_activity_date":1647427395,"creation_date":1647426483,"question_id":71495426,"body_markdown":"Consider I have class named A, class B extends A and class C extends A. I have a method\r\n```java\r\npublic static void listMethod(List&lt;? extends A&gt; list){\r\n\r\n}\r\n```\r\nTo this method I can pass any List of A subclasses and A class itself. But if I introduce next class:\r\n```java\r\nclass Holder&lt;T&gt;{\r\n    private final T val;\r\n\r\n    public Holder(T val){\r\n        this.val = val;\r\n    }\r\n\r\n    public T getVal() {\r\n        return val;\r\n    }\r\n}\r\n```\r\nAnd also change my method to:\r\n```java\r\npublic static void listMethod(List&lt;Holder&lt;? extends A&gt;&gt; list){\r\n\r\n}\r\n```\r\nI can&#39;t pass to this method any of ```List&lt;Holder&lt;A&gt;&gt;```, ```List&lt;Holder&lt;B&gt;&gt;``` or ```List&lt;Holder&lt;C&gt;&gt;```\r\nWhy does this happen, and how do I change my method or my classes so I will be able to pass List of Holders","title":"Java PECS fail for list of parametrized classes","body":"<p>Consider I have class named A, class B extends A and class C extends A. I have a method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void listMethod(List&lt;? extends A&gt; list){\n\n}\n</code></pre>\n<p>To this method I can pass any List of A subclasses and A class itself. But if I introduce next class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Holder&lt;T&gt;{\n    private final T val;\n\n    public Holder(T val){\n        this.val = val;\n    }\n\n    public T getVal() {\n        return val;\n    }\n}\n</code></pre>\n<p>And also change my method to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void listMethod(List&lt;Holder&lt;? extends A&gt;&gt; list){\n\n}\n</code></pre>\n<p>I can't pass to this method any of <code>List&lt;Holder&lt;A&gt;&gt;</code>, <code>List&lt;Holder&lt;B&gt;&gt;</code> or <code>List&lt;Holder&lt;C&gt;&gt;</code>\nWhy does this happen, and how do I change my method or my classes so I will be able to pass List of Holders</p>\n"},{"tags":["java","spring","spring-boot","annotations","component-scan"],"answers":[{"tags":[],"owner":{"account_id":15915027,"reputation":588,"user_id":11483876,"display_name":"Tomoki Sato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647426411,"creation_date":1646996284,"answer_id":71437457,"question_id":71428380,"body_markdown":"It seems that `AnnotationTypeFilter` matches only classes as far as I investigated its [javadoc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/type/filter/AnnotationTypeFilter.html) and [implementation](https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-core/src/main/java/org/springframework/core/type/filter/AnnotationTypeFilter.java#L45).\r\n\r\nFortunately, we can customize `AnnotationTypeFilter` in order to make it match methods.\r\n\r\nThe following is an example.\r\n\r\n```\r\npublic class CustomAnnotationTypeFilter extends AnnotationTypeFilter {\r\n\r\n    public CustomAnnotationTypeFilter(\r\n        Class&lt;? extends Annotation&gt; annotationType) {\r\n        super(annotationType);\r\n    }\r\n\r\n    @Override\r\n    protected boolean matchSelf(MetadataReader metadataReader) {\r\n        AnnotationMetadata metadata = metadataReader.getAnnotationMetadata();\r\n        return metadata.hasAnnotatedMethods(getAnnotationType().getName());\r\n    }\r\n}\r\n\r\n....\r\n\r\nClassPathScanningCandidateComponentProvider scanner =\r\n    new ClassPathScanningCandidateComponentProvider(false);\r\n\r\nscanner.addIncludeFilter(new CustomAnnotationTypeFilter(MyAnnotationA.class));\r\n\r\n....\r\n\r\n```\r\n\r\nOur `CustomAnnotationTypeFilter` matches a class like:\r\n\r\n```\r\npublic class Hoge {\r\n\r\n    @MyAnnotationA String doSomething() {\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**NOTE**\r\n\r\nDeclaring a method with annotations in front of it means to annotate the **method** (not the return type) with the annotations.\r\n\r\n```\r\n@Procedure(name=&quot;PROC_MAPPING_NAME&quot;)\r\n@CursorList(cursorType=CursorObject.class)CursorHolder&lt;CursorObject&gt; getCursor(...) {\r\n ....\r\n};\r\n```\r\n\r\nThe example above means that you annotate `getCursor` method with `Procedure` and `CursorList`. In such cases, you need to check whether methods have an annotation when you create a custom filter.\r\n\r\n\r\n**EDIT_1 (2022/3/16)**\r\n\r\nI added some examples considering the comments below. The following `CustomAnnotationTypeFilter` matches `Baz`, `Foo`, `Fuga` and `Hoge`. \r\n\r\n```\r\npublic interface SomeInterface {\r\n    @MyAnnotationA\r\n    void doSomething();\r\n}\r\n\r\npublic class Baz {\r\n\r\n    public SomeInterface doSomething() {\r\n        return null;\r\n    }\r\n}\r\n\r\npublic class Foo implements SomeInterface {\r\n\r\n    @Override\r\n    public void doSomething() {\r\n    }\r\n}\r\n\r\npublic class Fuga implements IFuga {\r\n    @Override\r\n    public SomeInterface doSomething() {\r\n        return null;\r\n    }\r\n}\r\n\r\npublic class Hoge {\r\n\r\n    @MyAnnotationA String doSomething() {\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class CustomAnnotationTypeFilter extends AnnotationTypeFilter {\r\n\r\n    public CustomAnnotationTypeFilter(\r\n        Class&lt;? extends Annotation&gt; annotationType) {\r\n        super(annotationType);\r\n    }\r\n\r\n    @Override\r\n    protected boolean matchSelf(MetadataReader metadataReader) {\r\n        if (super.matchSelf(metadataReader)) {\r\n            return true;\r\n        }\r\n        String className = metadataReader.getClassMetadata().getClassName();\r\n        try {\r\n            Class&lt;?&gt; clazz = ClassUtils.forName(className, getClass().getClassLoader());\r\n            if (annotationExistsOnAMethod(clazz)) {\r\n                System.out.printf(&quot;1: matches %s\\n&quot;, className);\r\n                return true; // matches &#39;Hoge.java&#39; and &#39;Foo.java&#39;\r\n            }\r\n\r\n            for (Method m : clazz.getDeclaredMethods()) {\r\n                if (annotationExistsOnAMethod(m.getReturnType())) {\r\n                    System.out.printf(&quot;2: matches %s\\n&quot;, className);\r\n                    return true; // matches &#39;Baz.java&#39; and &#39;Fuga.java&#39;\r\n                }\r\n            }\r\n\r\n        } catch (ClassNotFoundException e) {\r\n            // ignore\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private boolean annotationExistsOnAMethod(Class&lt;?&gt; clazz) {\r\n        for (Method m : clazz.getDeclaredMethods()) {\r\n            if (AnnotationUtils.findAnnotation(m, this.getAnnotationType()) != null) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n```\r\n\r\nScanning components to find annotations is a complex problem. It is not equivalent to / similar to searching with grep command.\r\n\r\nYou have to explicitly specify the location that the target annotation is placed on. For example, if methods can be annotated with the annotation, you have to check methods explicitly like `AnnotationUtils.findAnnotation(method, this.getAnnotationType())` (as the example above shows). Also you may have to check the return types like the example above in a certain situation.\r\n\r\nIt is helpful to use the utility classes like `org.springframework.core.annotation.AnnotationUtils` when searching for annotations. Because some methods of such utilities can find \r\n annotations even when they are not directly present on the given target itself(See also its [javadoc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html)).\r\n\r\n","title":"In a Spring Boot application how can I scan for a method return type and the annoatation value using the return type annoatation as a filter?","body":"<p>It seems that <code>AnnotationTypeFilter</code> matches only classes as far as I investigated its <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/type/filter/AnnotationTypeFilter.html\" rel=\"nofollow noreferrer\">javadoc</a> and <a href=\"https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-core/src/main/java/org/springframework/core/type/filter/AnnotationTypeFilter.java#L45\" rel=\"nofollow noreferrer\">implementation</a>.</p>\n<p>Fortunately, we can customize <code>AnnotationTypeFilter</code> in order to make it match methods.</p>\n<p>The following is an example.</p>\n<pre><code>public class CustomAnnotationTypeFilter extends AnnotationTypeFilter {\n\n    public CustomAnnotationTypeFilter(\n        Class&lt;? extends Annotation&gt; annotationType) {\n        super(annotationType);\n    }\n\n    @Override\n    protected boolean matchSelf(MetadataReader metadataReader) {\n        AnnotationMetadata metadata = metadataReader.getAnnotationMetadata();\n        return metadata.hasAnnotatedMethods(getAnnotationType().getName());\n    }\n}\n\n....\n\nClassPathScanningCandidateComponentProvider scanner =\n    new ClassPathScanningCandidateComponentProvider(false);\n\nscanner.addIncludeFilter(new CustomAnnotationTypeFilter(MyAnnotationA.class));\n\n....\n\n</code></pre>\n<p>Our <code>CustomAnnotationTypeFilter</code> matches a class like:</p>\n<pre><code>public class Hoge {\n\n    @MyAnnotationA String doSomething() {\n        return &quot;&quot;;\n    }\n}\n\n</code></pre>\n<p><strong>NOTE</strong></p>\n<p>Declaring a method with annotations in front of it means to annotate the <strong>method</strong> (not the return type) with the annotations.</p>\n<pre><code>@Procedure(name=&quot;PROC_MAPPING_NAME&quot;)\n@CursorList(cursorType=CursorObject.class)CursorHolder&lt;CursorObject&gt; getCursor(...) {\n ....\n};\n</code></pre>\n<p>The example above means that you annotate <code>getCursor</code> method with <code>Procedure</code> and <code>CursorList</code>. In such cases, you need to check whether methods have an annotation when you create a custom filter.</p>\n<p><strong>EDIT_1 (2022/3/16)</strong></p>\n<p>I added some examples considering the comments below. The following <code>CustomAnnotationTypeFilter</code> matches <code>Baz</code>, <code>Foo</code>, <code>Fuga</code> and <code>Hoge</code>.</p>\n<pre><code>public interface SomeInterface {\n    @MyAnnotationA\n    void doSomething();\n}\n\npublic class Baz {\n\n    public SomeInterface doSomething() {\n        return null;\n    }\n}\n\npublic class Foo implements SomeInterface {\n\n    @Override\n    public void doSomething() {\n    }\n}\n\npublic class Fuga implements IFuga {\n    @Override\n    public SomeInterface doSomething() {\n        return null;\n    }\n}\n\npublic class Hoge {\n\n    @MyAnnotationA String doSomething() {\n        return &quot;&quot;;\n    }\n}\n\n</code></pre>\n<pre><code>public class CustomAnnotationTypeFilter extends AnnotationTypeFilter {\n\n    public CustomAnnotationTypeFilter(\n        Class&lt;? extends Annotation&gt; annotationType) {\n        super(annotationType);\n    }\n\n    @Override\n    protected boolean matchSelf(MetadataReader metadataReader) {\n        if (super.matchSelf(metadataReader)) {\n            return true;\n        }\n        String className = metadataReader.getClassMetadata().getClassName();\n        try {\n            Class&lt;?&gt; clazz = ClassUtils.forName(className, getClass().getClassLoader());\n            if (annotationExistsOnAMethod(clazz)) {\n                System.out.printf(&quot;1: matches %s\\n&quot;, className);\n                return true; // matches 'Hoge.java' and 'Foo.java'\n            }\n\n            for (Method m : clazz.getDeclaredMethods()) {\n                if (annotationExistsOnAMethod(m.getReturnType())) {\n                    System.out.printf(&quot;2: matches %s\\n&quot;, className);\n                    return true; // matches 'Baz.java' and 'Fuga.java'\n                }\n            }\n\n        } catch (ClassNotFoundException e) {\n            // ignore\n        }\n        return false;\n    }\n\n    private boolean annotationExistsOnAMethod(Class&lt;?&gt; clazz) {\n        for (Method m : clazz.getDeclaredMethods()) {\n            if (AnnotationUtils.findAnnotation(m, this.getAnnotationType()) != null) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n\n</code></pre>\n<p>Scanning components to find annotations is a complex problem. It is not equivalent to / similar to searching with grep command.</p>\n<p>You have to explicitly specify the location that the target annotation is placed on. For example, if methods can be annotated with the annotation, you have to check methods explicitly like <code>AnnotationUtils.findAnnotation(method, this.getAnnotationType())</code> (as the example above shows). Also you may have to check the return types like the example above in a certain situation.</p>\n<p>It is helpful to use the utility classes like <code>org.springframework.core.annotation.AnnotationUtils</code> when searching for annotations. Because some methods of such utilities can find\nannotations even when they are not directly present on the given target itself(See also its <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html\" rel=\"nofollow noreferrer\">javadoc</a>).</p>\n"}],"owner":{"account_id":23501907,"reputation":41,"user_id":17551704,"display_name":"Parawata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":869,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647426411,"creation_date":1646933328,"question_id":71428380,"body_markdown":"trying to scan for return type objects that are annoated with a custom annoation but the ClassPathScanningCandidateComponentProvider does not find them even though package is correct and metadata shows the methods annoated with them.\r\n\r\nI&#39;ve added a filter to my existing ClassPathScanningCandidateComponentProvider to include return types on methods annotated with a custom annoation, i.e.\r\n```\r\n@Procedure(name=&quot;PROC_MAPPING_NAME&quot;)\r\n@CursorList(cursorType=CursorObject.class)CursorHolder&lt;CursorObject&gt; getCursor(@Param(&quot;col_1&quot;) @NonNull String param);\r\n```\r\n\r\nFilter is added like so\r\n\r\n```\r\nClassPathScanningCandidateComponentProvider scanner =\r\n   new ClassPathScanningCandidateComponentProvider(false);\r\n   //existing filters\r\n   ....\r\n   //new filter\r\n   scanner.addIncludeFilter(new AnnotationTypeFilter(CursorList.class));\r\n   //scan packages\r\nreturn Arrays.stream(packages)\r\n  .map(scanner::findCandidateComponents)\r\n  .flatMap(Collection::stream)\r\n  .map(BeanDefinition::getBeanClassName)\r\n  .map(name -&gt; {\r\n    try {\r\n      return Class.forName(name);\r\n    } \r\n    catch (ClassNotFoundException e) {\r\n      //handle exception\r\n    }\r\n  }).collect(Collectors.toList());\r\n```\r\nWorks fine for all the existing filters and the package where the new annotation is used is definitely included as I&#39;ve stepped into the code. It just fails to meet the criteria required to be considered a match and returned.\r\n\r\nI&#39;ve also tested this annotation at class level and it is then found without issue. But, it does not seem to work at attribute level or method or param level.\r\n\r\nSo stupid question given the class name. Is the ClassPathScanningCandidateComponentProvider only suitable for scanning for annoation usage when the annotation is included at class level? i.e. only finds annoated components?\r\n\r\nIf that is the case has anyone any suggestions for finding annotations and the objects they annoate where the object is a return type? Or is this just not possible?\r\n\r\nThanks","title":"In a Spring Boot application how can I scan for a method return type and the annoatation value using the return type annoatation as a filter?","body":"<p>trying to scan for return type objects that are annoated with a custom annoation but the ClassPathScanningCandidateComponentProvider does not find them even though package is correct and metadata shows the methods annoated with them.</p>\n<p>I've added a filter to my existing ClassPathScanningCandidateComponentProvider to include return types on methods annotated with a custom annoation, i.e.</p>\n<pre><code>@Procedure(name=&quot;PROC_MAPPING_NAME&quot;)\n@CursorList(cursorType=CursorObject.class)CursorHolder&lt;CursorObject&gt; getCursor(@Param(&quot;col_1&quot;) @NonNull String param);\n</code></pre>\n<p>Filter is added like so</p>\n<pre><code>ClassPathScanningCandidateComponentProvider scanner =\n   new ClassPathScanningCandidateComponentProvider(false);\n   //existing filters\n   ....\n   //new filter\n   scanner.addIncludeFilter(new AnnotationTypeFilter(CursorList.class));\n   //scan packages\nreturn Arrays.stream(packages)\n  .map(scanner::findCandidateComponents)\n  .flatMap(Collection::stream)\n  .map(BeanDefinition::getBeanClassName)\n  .map(name -&gt; {\n    try {\n      return Class.forName(name);\n    } \n    catch (ClassNotFoundException e) {\n      //handle exception\n    }\n  }).collect(Collectors.toList());\n</code></pre>\n<p>Works fine for all the existing filters and the package where the new annotation is used is definitely included as I've stepped into the code. It just fails to meet the criteria required to be considered a match and returned.</p>\n<p>I've also tested this annotation at class level and it is then found without issue. But, it does not seem to work at attribute level or method or param level.</p>\n<p>So stupid question given the class name. Is the ClassPathScanningCandidateComponentProvider only suitable for scanning for annoation usage when the annotation is included at class level? i.e. only finds annoated components?</p>\n<p>If that is the case has anyone any suggestions for finding annotations and the objects they annoate where the object is a return type? Or is this just not possible?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-listview"],"comments":[{"owner":{"account_id":10833670,"reputation":549,"user_id":7967235,"display_name":"Avital"},"score":0,"creation_date":1647168583,"post_id":71410592,"comment_id":126298665,"body_markdown":"I copied and run your code (of course without volley... just made up one Order item) and it works fine to me!... maybe the json has some problem over it? I see you only print to trace. try to put a break point inside the json `catch` and see if you get in...","body":"I copied and run your code (of course without volley... just made up one Order item) and it works fine to me!... maybe the json has some problem over it? I see you only print to trace. try to put a break point inside the json <code>catch</code> and see if you get in..."}],"answers":[{"tags":[],"owner":{"account_id":10270629,"reputation":309,"user_id":7579123,"display_name":"ddassa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647426367,"creation_date":1647426367,"answer_id":71495394,"question_id":71410592,"body_markdown":"There are few things i would change here, \r\n\r\n1. use a json parse like [gson][1]\r\n2. separate ui from network calls, do not mix ui components(listview, etc) with background task\r\n3. add a method as follows in OrderListViewAdapter\r\n\r\n        public void setData(ArrayList&lt;Order&gt; orders) {\r\n        this.orders.clear();this.orders.addAll(orders);\r\n        notifyDataSetChanged();}\r\n\r\n4. In view, initialise adapter and set to list view as follows\r\n\r\n        ListView lvOrders = findViewById(R.id.orderContainer);\r\n        OrderListViewAdapter adapter = new OrderListViewAdapter(context, new ArrayList&lt;&gt;());\r\n        lvOrders.setAdapter(adapter);\r\n5. retrieve your data in a background thread (use Thread, [AsyncTask][2]) and set the result to adapter in activity\r\n\r\n        adapter.setData(resultFromApi);\r\n6. If its not too complex for you, try to use MVC,MVP, or MVVM pattern. It should work without any of these pattern, but always think ahead. makes it more easy to maintain in long run.\r\n\r\n7. Extra, always checks for null values\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return orders != null ? orders.size() : 0;\r\n        }\r\n        @Override\r\n        public Object getItem(int position) {\r\n            return orders != null ? orders.get(position) : null;\r\n        }\r\n    \r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://developer.android.com/reference/android/os/AsyncTask","title":"Android Listview not showing items","body":"<p>There are few things i would change here,</p>\n<ol>\n<li><p>use a json parse like <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">gson</a></p>\n</li>\n<li><p>separate ui from network calls, do not mix ui components(listview, etc) with background task</p>\n</li>\n<li><p>add a method as follows in OrderListViewAdapter</p>\n<pre><code> public void setData(ArrayList&lt;Order&gt; orders) {\n this.orders.clear();this.orders.addAll(orders);\n notifyDataSetChanged();}\n</code></pre>\n</li>\n<li><p>In view, initialise adapter and set to list view as follows</p>\n<pre><code> ListView lvOrders = findViewById(R.id.orderContainer);\n OrderListViewAdapter adapter = new OrderListViewAdapter(context, new ArrayList&lt;&gt;());\n lvOrders.setAdapter(adapter);\n</code></pre>\n</li>\n<li><p>retrieve your data in a background thread (use Thread, <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">AsyncTask</a>) and set the result to adapter in activity</p>\n<pre><code> adapter.setData(resultFromApi);\n</code></pre>\n</li>\n<li><p>If its not too complex for you, try to use MVC,MVP, or MVVM pattern. It should work without any of these pattern, but always think ahead. makes it more easy to maintain in long run.</p>\n</li>\n<li><p>Extra, always checks for null values</p>\n<pre><code> @Override\n public int getCount() {\n     return orders != null ? orders.size() : 0;\n }\n @Override\n public Object getItem(int position) {\n     return orders != null ? orders.get(position) : null;\n }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":6429211,"reputation":591,"user_id":4983101,"accept_rate":100,"display_name":"The Only Smart Boy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647426367,"creation_date":1646834631,"question_id":71410592,"body_markdown":"I&#39;m trying to add items to my list view dynamically from database using volley but it is not showing anything despite confirming that volley is actually returning the right items.\r\nMy approach in achieving my desire was as bellow.\r\nI created an orders retriever as bellow:\r\n\r\n          public class OrderRetriever {\r\n    private final Context d;\r\n    String user, token;\r\n    private OrderListViewAdapter orderAdapter;\r\n    final ArrayList&lt;Order&gt; myOrders = new ArrayList&lt;&gt;();\r\n\r\n    public OrderRetriever(Context d, String user, String token) {\r\n        this.d = d;\r\n        this.user = user;\r\n        this.token = token;\r\n    }\r\n\r\n    public void retrieveOrder(final ListView listView, final KProgressHUD myProgressBar){\r\n        myProgressBar.show();\r\n        StringRequest serviceStringRequest = new StringRequest(Request.Method.POST, NetworkConstants.URL_MY_ORDERS,\r\n                response -&gt; {\r\n                    JSONObject jsonObject,photoObject;\r\n                    Order order;\r\n                    try{\r\n                        JSONObject productObject = new JSONObject(response);\r\n                        JSONArray productArray = productObject.getJSONArray(&quot;orders&quot;);\r\n                        JSONArray photoArray = productObject.getJSONArray(&quot;photos&quot;);\r\n                        if(productArray.length()&gt;0){\r\n                            String image = &quot;&quot;, name, code,status;\r\n                            int id;\r\n                            double cost;\r\n                            for(int i=0; i&lt;productArray.length();i++){\r\n                                jsonObject = productArray.getJSONObject(i);\r\n                                id= jsonObject.getInt(&quot;id&quot;);\r\n                                name = jsonObject.getString(&quot;name&quot;);\r\n                                status = jsonObject.getString(&quot;status&quot;);\r\n                                code = jsonObject.getString(&quot;code&quot;);\r\n                                cost = jsonObject.getDouble(&quot;cost&quot;);\r\n                                if(photoArray.length()&gt;0){\r\n                                    for(int j=0; j&lt;photoArray.length(); j++) {\r\n                                        photoObject = photoArray.getJSONObject(j);\r\n                                        if(photoObject.getInt(&quot;p_id&quot;)==jsonObject.getInt(&quot;id&quot;)) {\r\n                                            image = photoObject.getString(&quot;path&quot;);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                order= new Order(name, status, code,NetworkConstants.URL_IMAGE +image,id,cost);\r\n                                Log.d(&quot;Products&quot;, &quot;retrieveFinalOrder: &quot;+order);\r\n                                myOrders.add(order);\r\n                            }\r\n                        }else{\r\n                            myProgressBar.dismiss();\r\n                            Toasty.warning(d,&quot;No Orders found&quot;, 5000).show();\r\n                        }\r\n                        Log.d(&quot;TAG&quot;, &quot;retrieveOrder: &quot;);\r\n                        orderAdapter = new OrderListViewAdapter(d,myOrders);\r\n                        Log.d(&quot;TAG&quot;, &quot;retrieveOrder: ading adapter&quot;);\r\n                        listView.setAdapter(orderAdapter);\r\n                        myProgressBar.dismiss();\r\n                    }catch (JSONException e){\r\n                        myProgressBar.dismiss();\r\n                        e.printStackTrace();\r\n                    }\r\n                },\r\n                error -&gt; {\r\n                    myProgressBar.dismiss();\r\n                    Log.d(&quot;Error&quot;, &quot;Failed with error msg:\\t&quot; + error.getMessage());\r\n                    Log.d(&quot;Error&quot;, &quot;Error StackTrace: \\t&quot; + Arrays.toString(error.getStackTrace()));\r\n                    // edited here\r\n                    try {\r\n                        byte[] htmlBodyBytes = error.networkResponse.data;\r\n                        Log.e(&quot;Error&quot;, new String(htmlBodyBytes), error);\r\n                    } catch (NullPointerException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    Toast.makeText(d,&quot;Error &quot; + error, Toast.LENGTH_SHORT).show();\r\n\r\n                }){\r\n            protected Map&lt;String, String&gt; getParams() {\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;user&quot;,user);\r\n                params.put(&quot;api_token&quot;, token);\r\n                return params;\r\n            }\r\n        };\r\n        serviceStringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                1000*5,\r\n                /*DefaultRetryPolicy.DEFAULT_MAX_RETRIES*/ 3,\r\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n        RequestQueue productRequestQue = Volley.newRequestQueue(d);\r\n        productRequestQue.add(serviceStringRequest);\r\n    }\r\n}\r\n\r\nThis created the orders from the database using the orders model and passed them to the adapter as follows\r\n\r\n          public class OrderListViewAdapter extends BaseAdapter {\r\n    Context c;\r\n    ArrayList&lt;Order&gt; orders;\r\n\r\n    public OrderListViewAdapter(Context c, ArrayList&lt;Order&gt; orders) {\r\n        this.c = c;\r\n        this.orders = orders;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return orders.size();\r\n    }\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return orders.get(position);\r\n    }\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n    @Override\r\n    public View getView(int position, View view, ViewGroup viewGroup) {\r\n        if(view==null){\r\n            view = LayoutInflater.from(c).inflate(R.layout.order_list_layout,null,false);\r\n        }\r\n        TextView name = view.findViewById(R.id.name);\r\n        TextView cost = view.findViewById(R.id.cost);\r\n        TextView status = view.findViewById(R.id.status);\r\n        ImageView image = view.findViewById(R.id.image);\r\n        final Order order = (Order) this.getItem(position);\r\n        name.setText(order.getName());\r\n        cost.setText(&quot;KSH &quot; + order.getCost());\r\n        status.setText(order.getStatus());\r\n        //check if there is an image returned\r\n        if(order.getImage()!= null &amp;&amp; order.getImage().length()&gt;0){\r\n            Picasso.with(c).load(order.getImage()).placeholder(R.drawable.drawerback).into(image);\r\n        }else{\r\n            Picasso.with(c).load(R.drawable.drawerback).into(image);\r\n        }\r\n        view.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(c, ProductActivity.class);\r\n            intent.putExtra(&quot;string_name&quot;,&quot;string_to_pass&quot;);\r\n            c.startActivity(intent);\r\n        });\r\n        return view;\r\n    }\r\n}\r\nThis is how the order model looks\r\n\r\n          public class Order {\r\n    private String name, status,code,image;\r\n    private int id;\r\n    double cost;\r\n\r\n    public Order(String name, String status, String code, String image, int id, double cost) {\r\n        this.name = name;\r\n        this.status = status;\r\n        this.code = code;\r\n        this.image = image;\r\n        this.id = id;\r\n        this.cost = cost;\r\n    }\r\nFinally I called the retriever as follows in the ordersActivity\r\n\r\n          container = findViewById(R.id.orderContainer);\r\n            new OrderRetriever(this, clientid, new Db(this).getToken()).retrieveOrder(container,myProgressBar);\r\n\r\nDespite all this and ensuring that the orders are available in response, nothing is shown\r\nWhat could I be missing or doing wrong?","title":"Android Listview not showing items","body":"<p>I'm trying to add items to my list view dynamically from database using volley but it is not showing anything despite confirming that volley is actually returning the right items.\nMy approach in achieving my desire was as bellow.\nI created an orders retriever as bellow:</p>\n<pre><code>      public class OrderRetriever {\nprivate final Context d;\nString user, token;\nprivate OrderListViewAdapter orderAdapter;\nfinal ArrayList&lt;Order&gt; myOrders = new ArrayList&lt;&gt;();\n\npublic OrderRetriever(Context d, String user, String token) {\n    this.d = d;\n    this.user = user;\n    this.token = token;\n}\n\npublic void retrieveOrder(final ListView listView, final KProgressHUD myProgressBar){\n    myProgressBar.show();\n    StringRequest serviceStringRequest = new StringRequest(Request.Method.POST, NetworkConstants.URL_MY_ORDERS,\n            response -&gt; {\n                JSONObject jsonObject,photoObject;\n                Order order;\n                try{\n                    JSONObject productObject = new JSONObject(response);\n                    JSONArray productArray = productObject.getJSONArray(&quot;orders&quot;);\n                    JSONArray photoArray = productObject.getJSONArray(&quot;photos&quot;);\n                    if(productArray.length()&gt;0){\n                        String image = &quot;&quot;, name, code,status;\n                        int id;\n                        double cost;\n                        for(int i=0; i&lt;productArray.length();i++){\n                            jsonObject = productArray.getJSONObject(i);\n                            id= jsonObject.getInt(&quot;id&quot;);\n                            name = jsonObject.getString(&quot;name&quot;);\n                            status = jsonObject.getString(&quot;status&quot;);\n                            code = jsonObject.getString(&quot;code&quot;);\n                            cost = jsonObject.getDouble(&quot;cost&quot;);\n                            if(photoArray.length()&gt;0){\n                                for(int j=0; j&lt;photoArray.length(); j++) {\n                                    photoObject = photoArray.getJSONObject(j);\n                                    if(photoObject.getInt(&quot;p_id&quot;)==jsonObject.getInt(&quot;id&quot;)) {\n                                        image = photoObject.getString(&quot;path&quot;);\n                                    }\n                                }\n                            }\n                            order= new Order(name, status, code,NetworkConstants.URL_IMAGE +image,id,cost);\n                            Log.d(&quot;Products&quot;, &quot;retrieveFinalOrder: &quot;+order);\n                            myOrders.add(order);\n                        }\n                    }else{\n                        myProgressBar.dismiss();\n                        Toasty.warning(d,&quot;No Orders found&quot;, 5000).show();\n                    }\n                    Log.d(&quot;TAG&quot;, &quot;retrieveOrder: &quot;);\n                    orderAdapter = new OrderListViewAdapter(d,myOrders);\n                    Log.d(&quot;TAG&quot;, &quot;retrieveOrder: ading adapter&quot;);\n                    listView.setAdapter(orderAdapter);\n                    myProgressBar.dismiss();\n                }catch (JSONException e){\n                    myProgressBar.dismiss();\n                    e.printStackTrace();\n                }\n            },\n            error -&gt; {\n                myProgressBar.dismiss();\n                Log.d(&quot;Error&quot;, &quot;Failed with error msg:\\t&quot; + error.getMessage());\n                Log.d(&quot;Error&quot;, &quot;Error StackTrace: \\t&quot; + Arrays.toString(error.getStackTrace()));\n                // edited here\n                try {\n                    byte[] htmlBodyBytes = error.networkResponse.data;\n                    Log.e(&quot;Error&quot;, new String(htmlBodyBytes), error);\n                } catch (NullPointerException e) {\n                    e.printStackTrace();\n                }\n                Toast.makeText(d,&quot;Error &quot; + error, Toast.LENGTH_SHORT).show();\n\n            }){\n        protected Map&lt;String, String&gt; getParams() {\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;user&quot;,user);\n            params.put(&quot;api_token&quot;, token);\n            return params;\n        }\n    };\n    serviceStringRequest.setRetryPolicy(new DefaultRetryPolicy(\n            1000*5,\n            /*DefaultRetryPolicy.DEFAULT_MAX_RETRIES*/ 3,\n            DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n    RequestQueue productRequestQue = Volley.newRequestQueue(d);\n    productRequestQue.add(serviceStringRequest);\n}\n</code></pre>\n<p>}</p>\n<p>This created the orders from the database using the orders model and passed them to the adapter as follows</p>\n<pre><code>      public class OrderListViewAdapter extends BaseAdapter {\nContext c;\nArrayList&lt;Order&gt; orders;\n\npublic OrderListViewAdapter(Context c, ArrayList&lt;Order&gt; orders) {\n    this.c = c;\n    this.orders = orders;\n}\n\n@Override\npublic int getCount() {\n    return orders.size();\n}\n@Override\npublic Object getItem(int position) {\n    return orders.get(position);\n}\n@Override\npublic long getItemId(int position) {\n    return position;\n}\n@Override\npublic View getView(int position, View view, ViewGroup viewGroup) {\n    if(view==null){\n        view = LayoutInflater.from(c).inflate(R.layout.order_list_layout,null,false);\n    }\n    TextView name = view.findViewById(R.id.name);\n    TextView cost = view.findViewById(R.id.cost);\n    TextView status = view.findViewById(R.id.status);\n    ImageView image = view.findViewById(R.id.image);\n    final Order order = (Order) this.getItem(position);\n    name.setText(order.getName());\n    cost.setText(&quot;KSH &quot; + order.getCost());\n    status.setText(order.getStatus());\n    //check if there is an image returned\n    if(order.getImage()!= null &amp;&amp; order.getImage().length()&gt;0){\n        Picasso.with(c).load(order.getImage()).placeholder(R.drawable.drawerback).into(image);\n    }else{\n        Picasso.with(c).load(R.drawable.drawerback).into(image);\n    }\n    view.setOnClickListener(v -&gt; {\n        Intent intent = new Intent(c, ProductActivity.class);\n        intent.putExtra(&quot;string_name&quot;,&quot;string_to_pass&quot;);\n        c.startActivity(intent);\n    });\n    return view;\n}\n</code></pre>\n<p>}\nThis is how the order model looks</p>\n<pre><code>      public class Order {\nprivate String name, status,code,image;\nprivate int id;\ndouble cost;\n\npublic Order(String name, String status, String code, String image, int id, double cost) {\n    this.name = name;\n    this.status = status;\n    this.code = code;\n    this.image = image;\n    this.id = id;\n    this.cost = cost;\n}\n</code></pre>\n<p>Finally I called the retriever as follows in the ordersActivity</p>\n<pre><code>      container = findViewById(R.id.orderContainer);\n        new OrderRetriever(this, clientid, new Db(this).getToken()).retrieveOrder(container,myProgressBar);\n</code></pre>\n<p>Despite all this and ensuring that the orders are available in response, nothing is shown\nWhat could I be missing or doing wrong?</p>\n"},{"tags":["java","spring","ssl","spring-vault"],"comments":[{"owner":{"account_id":7719340,"reputation":85,"user_id":5846031,"display_name":"thelearner"},"score":0,"creation_date":1659436886,"post_id":71495379,"comment_id":129289411,"body_markdown":"Hi @dishansh, did you find any answer to this?","body":"Hi @dishansh, did you find any answer to this?"},{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":0,"creation_date":1659950626,"post_id":71495379,"comment_id":129408333,"body_markdown":"Instead of disabling you can follow the official guide: https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#vault.config.ssl","body":"Instead of disabling you can follow the official guide: <a href=\"https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#vault.config.ssl\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-vault/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>"}],"owner":{"account_id":24565189,"reputation":21,"user_id":18472421,"display_name":"dishansh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647426329,"creation_date":1647426329,"question_id":71495379,"body_markdown":"I am getting below exception:\r\n \r\n\r\n    Cannot login using org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://&lt;kmaas_domain&gt;:443/v1/auth/aws/login&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    org.springframework.vault.authentication.VaultLoginException: Cannot login using org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://kmaas_domain:443/v1/auth/aws/login&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nI am using VaultTemplate to acquire the Token from Kmaas (implementation on HCP Vault) to get secrets. How can I disable this SSL check? Python based Boto library does have this option as\r\n\r\n \r\n\r\n```requests.request(request_type, RESOURCE_PATH, headers={&#39;X-Vault-Token&#39;: client_token}, **verify=False**, data=PAYLOAD)```\r\n\r\nbut I can&#39;t find any such option in Java\r\n","title":"How to disable SSL Verification in Spring Vault (Spring Vault Core - version: 2.3.1)","body":"<p>I am getting below exception:</p>\n<pre><code>Cannot login using org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://&lt;kmaas_domain&gt;:443/v1/auth/aws/login&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\norg.springframework.vault.authentication.VaultLoginException: Cannot login using org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://kmaas_domain:443/v1/auth/aws/login&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I am using VaultTemplate to acquire the Token from Kmaas (implementation on HCP Vault) to get secrets. How can I disable this SSL check? Python based Boto library does have this option as</p>\n<p><code>requests.request(request_type, RESOURCE_PATH, headers={'X-Vault-Token': client_token}, **verify=False**, data=PAYLOAD)</code></p>\n<p>but I can't find any such option in Java</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","shadow-root"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":1,"creation_date":1647269509,"post_id":71469627,"comment_id":126322570,"body_markdown":"please share a link to that page or the HTML of the entire page, not the single element","body":"please share a link to that page or the HTML of the entire page, not the single element"},{"owner":{"account_id":23786211,"reputation":2038,"user_id":17798239,"display_name":"Anand Gautam"},"score":0,"creation_date":1647269633,"post_id":71469627,"comment_id":126322625,"body_markdown":"It might be that the number `3` is not static, i.e., it maybe changing everytime, in which case, you may use something like this: `//input[contains(@aria-labelledby,&#39;vaadin-text-field-input&#39;)]`, which again depends on how many elements are there with `aria-labelledby, &#39;vaadin-text-field-input&#39;` attribute. If only one, then fine, otherwise you may have to use another stragegy. Could you post more html code for analysis?","body":"It might be that the number <code>3</code> is not static, i.e., it maybe changing everytime, in which case, you may use something like this: <code>&#47;&#47;input[contains(@aria-labelledby,&#39;vaadin-text-field-input&#39;)&zwnj;&#8203;]</code>, which again depends on how many elements are there with <code>aria-labelledby, &#39;vaadin-text-field-input&#39;</code> attribute. If only one, then fine, otherwise you may have to use another stragegy. Could you post more html code for analysis?"},{"owner":{"account_id":16449586,"reputation":73,"user_id":11883342,"display_name":"pixelhead"},"score":0,"creation_date":1647270240,"post_id":71469627,"comment_id":126322878,"body_markdown":"&lt;div class=&quot;vaadin-text-field-container&quot;&gt;\n &lt;label part=&quot;label&quot; id=&quot;vaadin-text-field-label-3&quot;&gt;&lt;/label&gt;\n   &lt;div part=&quot;input-field&quot; id=&quot;vaadin-text-field-input-3&quot;&gt;\n     &lt;slot name=&quot;prefix&quot;&gt;&lt;/slot&gt;\n      &lt;slot name=&quot;input&quot;&gt;\n        &lt;input part=&quot;value&quot; tabindex=&quot;0&quot; aria-labelledby=&quot;vaadin-text-field-input-3&quot;&gt;\n      &lt;/slot&gt;\n  &lt;/div&gt;\n&lt;/div&gt;","body":"&lt;div class=&quot;vaadin-text-field-container&quot;&gt;  &lt;label part=&quot;label&quot; id=&quot;vaadin-text-field-label-3&quot;&gt;&lt;/label&gt;    &lt;div part=&quot;input-field&quot; id=&quot;vaadin-text-field-input-3&quot;&gt;      &lt;slot name=&quot;prefix&quot;&gt;&lt;/slot&gt;       &lt;slot name=&quot;input&quot;&gt;         &lt;input part=&quot;value&quot; tabindex=&quot;0&quot; aria-labelledby=&quot;vaadin-text-field-input-3&quot;&gt;       &lt;/slot&gt;   &lt;/div&gt; &lt;/div&gt;"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1647271453,"post_id":71469627,"comment_id":126323434,"body_markdown":"Is that `3` constant ? or is it changing often ?","body":"Is that <code>3</code> constant ? or is it changing often ?"},{"owner":{"account_id":16449586,"reputation":73,"user_id":11883342,"display_name":"pixelhead"},"score":0,"creation_date":1647271673,"post_id":71469627,"comment_id":126323528,"body_markdown":"From what I see and know it is constant.","body":"From what I see and know it is constant."},{"owner":{"account_id":16449586,"reputation":73,"user_id":11883342,"display_name":"pixelhead"},"score":0,"creation_date":1647292559,"post_id":71469627,"comment_id":126330706,"body_markdown":"Not yet. There is this: `#shadow-root (open)  &lt;div class=&quot;vaadin-text-field-container&quot;&gt;` No idea how to find a solution to this.","body":"Not yet. There is this: <code>#shadow-root (open)  &lt;div class=&quot;vaadin-text-field-container&quot;&gt;</code> No idea how to find a solution to this."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1652218435,"post_id":71469627,"comment_id":127552753,"body_markdown":"@pixelhead is your question resolved?","body":"@pixelhead is your question resolved?"}],"answers":[{"tags":[],"owner":{"account_id":23786211,"reputation":2038,"user_id":17798239,"display_name":"Anand Gautam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647271646,"creation_date":1647271565,"answer_id":71470237,"question_id":71469627,"body_markdown":"Per the html provided, this works:\r\n\r\n\r\n`driver.find_element(By.XPATH, &quot;//input[@part=&#39;value&#39; and contains(@aria-labelledby, &#39;vaadin-text-field-input&#39;)]&quot;]`\r\n\r\n    x = WebDriverWait(driver, 10).until(EC.element_to_be_clickable((By.XPATH, &quot;//input[@part=&#39;value&#39; and contains(@aria-labelledby, &#39;vaadin-text-field-input&#39;)]&quot;)))\r\n    x.send_keys(&#39;This is typed here by selenium&#39;)\r\n    print(f&quot;the typed text in input box is: {x.get_attribute(&#39;value&#39;)}&quot;)\r\n\r\n\r\nOutput:\r\n\r\n    the typed text in input box is: This is typed here by selenium\r\n    \r\n    Process finished with exit code 0","title":"Selenium | Unable to locate input element","body":"<p>Per the html provided, this works:</p>\n<p><code>driver.find_element(By.XPATH, &quot;//input[@part='value' and contains(@aria-labelledby, 'vaadin-text-field-input')]&quot;]</code></p>\n<pre><code>x = WebDriverWait(driver, 10).until(EC.element_to_be_clickable((By.XPATH, &quot;//input[@part='value' and contains(@aria-labelledby, 'vaadin-text-field-input')]&quot;)))\nx.send_keys('This is typed here by selenium')\nprint(f&quot;the typed text in input box is: {x.get_attribute('value')}&quot;)\n</code></pre>\n<p>Output:</p>\n<pre><code>the typed text in input box is: This is typed here by selenium\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647276027,"creation_date":1647271613,"answer_id":71470243,"question_id":71469627,"body_markdown":"To send a _character sequence_ to the element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- [_css_selector_](https://stackoverflow.com/a/48578370/7429447):\r\n\r\n```\r\nnew WebDriverWait(driver, 20)\r\n    .until(ExpectedConditions.elementToBeClickable(\r\n          By.cssSelector(&quot;div.vaadin-text-field-container div[part=input-field][id^=&#39;vaadin-text-field-input&#39;] slot[name=&#39;input&#39;] &gt; input[part=&#39;value&#39;][aria-labelledby^=&#39;vaadin-text-field-input&#39;]&quot;)\r\n    )).sendKeys(&quot;pixelhead&quot;);\r\n```\r\n\t\r\n- [_xpath_](https://stackoverflow.com/a/50882166/7429447):\r\n\r\n```\r\nnew WebDriverWait(driver, 20)\r\n   .until(ExpectedConditions.elementToBeClickable(\r\n      By.xpath(&quot;//div[@class=&#39;vaadin-text-field-container&#39;]//div[@part=&#39;input-field&#39; and starts-with(@id, &#39;vaadin-text-field-input&#39;)]//slot[@name=&#39;input&#39;]/input[@part=&#39;value&#39; and starts-with(@aria-labelledby, &#39;vaadin-text-field-input&#39;)]&quot;)\r\n   )).sendKeys(&quot;pixelhead&quot;);\r\n```","title":"Selenium | Unable to locate input element","body":"<p>To send a <em>character sequence</em> to the element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/48578370/7429447\"><em>css_selector</em></a>:</li>\n</ul>\n<pre><code>new WebDriverWait(driver, 20)\n    .until(ExpectedConditions.elementToBeClickable(\n          By.cssSelector(&quot;div.vaadin-text-field-container div[part=input-field][id^='vaadin-text-field-input'] slot[name='input'] &gt; input[part='value'][aria-labelledby^='vaadin-text-field-input']&quot;)\n    )).sendKeys(&quot;pixelhead&quot;);\n</code></pre>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/50882166/7429447\"><em>xpath</em></a>:</li>\n</ul>\n<pre><code>new WebDriverWait(driver, 20)\n   .until(ExpectedConditions.elementToBeClickable(\n      By.xpath(&quot;//div[@class='vaadin-text-field-container']//div[@part='input-field' and starts-with(@id, 'vaadin-text-field-input')]//slot[@name='input']/input[@part='value' and starts-with(@aria-labelledby, 'vaadin-text-field-input')]&quot;)\n   )).sendKeys(&quot;pixelhead&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647279676,"creation_date":1647272002,"answer_id":71470329,"question_id":71469627,"body_markdown":"**Xpath:**\r\n\r\n    //div[@class=&#39;vaadin-text-field-container&#39;]//descendant::input[@part=&#39;value&#39; and starts-with(@aria-labelledby, &#39;vaadin-text-field-input&#39;)]\r\n\r\nPlease check in the `dev tools` (Google chrome) if we have **unique** entry in `HTML DOM` or not.\r\n\r\n**Steps to check:**\r\n\r\n`Press F12 in Chrome` -&gt; go to `element` section -&gt; do a `CTRL  + F` -&gt; then paste the `xpath` and see, if your desired `element` is getting **highlighted** with `1/1` matching node.\r\n\r\n\r\nIf this is unique `//div[@class=&#39;vaadin-text-field-container&#39;]//descendant::input[@part=&#39;value&#39; and starts-with(@aria-labelledby, &#39;vaadin-text-field-input&#39;)]` then you need to check for the below conditions as well. \r\n\r\n1. Check if it&#39;s in any `iframe/frame/frameset`.\r\n\r\n   **Solution:** switch to iframe/frame/frameset first and then interact with this web element. \r\n\r\n2. Check if it&#39;s in any `shadow-root`.\r\n\r\n   **Solution:** Use `driver.execute_script(&#39;return document.querySelector` to have returned a web element and then operates accordingly. \r\n\r\n \r\n3. Make sure that the element is rendered properly before interacting with it. Put some `hardcoded delay` or `Explicit wait` and try again.\r\n\r\n   **Solution:** `time.sleep(5)` or \r\n\r\n   `WebDriverWait(driver, 20).until(EC.visibility_of_element_located((By.XPATH, &quot;//div[@class=&#39;vaadin-text-field-container&#39;]//descendant::input[@part=&#39;value&#39; and starts-with(@aria-labelledby, &#39;vaadin-text-field-input&#39;)]&quot;))).send_keys(&quot;test&quot;)`\r\n\r\n \r\n4. If you have redirected to a `new tab/ or new windows` and you have not **switched** to that particular `new tab/new window`, otherwise you will likely get `NoSuchElement` exception.\r\n\r\n   **Solution:** switch to the relevant window/tab first.\r\n\r\n5. If you have switched to an iframe and the new desired element is not in the same iframe context then first `switch to default content` and then interact with it.\r\n\r\n   **Solution:** switch to default content and then switch to respective iframe. \r\n\r\n\r\nYou can start debugging from step1.\r\n\r\n**Update:**\r\n\r\nSolution specific to the problem:\r\n\r\n    Thread.sleep(2000);\r\n\tWebElement inputButton = (WebElement) ((JavascriptExecutor)driver).executeScript(&quot;return document.querySelector(&#39;#TextFieldTitle&#39;).shadowRoot.querySelector(&#39;#vaadin-text-field-input-3 &gt; slot:nth-child(2) &gt; input&#39;)&quot;);\r\n\tinputButton.sendKeys(&quot;test&quot;);\r\n\r\n\r\nin the place of `paste query selector here` you will have to go to dev tools again in goog chrome by pressing F12, and then \r\n\r\n1. Go to that input box\r\n2. Do a right click \r\n3. Select copy\r\n4. Select copy JS path.\r\n5. Ctrl + v into notepad to see what you&#39;ve got from the dev tool. \r\n\r\nIt&#39;d be something like this:\r\n\r\n    document.querySelector(&quot;#vaadin-text-field-input-3 &gt; slot:nth-child(2) &gt; input&quot;)\r\n\r\nreplace this `paste query selector here` with the stuff that is wrapped inside  `&quot;&quot;` ","title":"Selenium | Unable to locate input element","body":"<p><strong>Xpath:</strong></p>\n<pre><code>//div[@class='vaadin-text-field-container']//descendant::input[@part='value' and starts-with(@aria-labelledby, 'vaadin-text-field-input')]\n</code></pre>\n<p>Please check in the <code>dev tools</code> (Google chrome) if we have <strong>unique</strong> entry in <code>HTML DOM</code> or not.</p>\n<p><strong>Steps to check:</strong></p>\n<p><code>Press F12 in Chrome</code> -&gt; go to <code>element</code> section -&gt; do a <code>CTRL  + F</code> -&gt; then paste the <code>xpath</code> and see, if your desired <code>element</code> is getting <strong>highlighted</strong> with <code>1/1</code> matching node.</p>\n<p>If this is unique <code>//div[@class='vaadin-text-field-container']//descendant::input[@part='value' and starts-with(@aria-labelledby, 'vaadin-text-field-input')]</code> then you need to check for the below conditions as well.</p>\n<ol>\n<li><p>Check if it's in any <code>iframe/frame/frameset</code>.</p>\n<p><strong>Solution:</strong> switch to iframe/frame/frameset first and then interact with this web element.</p>\n</li>\n<li><p>Check if it's in any <code>shadow-root</code>.</p>\n<p><strong>Solution:</strong> Use <code>driver.execute_script('return document.querySelector</code> to have returned a web element and then operates accordingly.</p>\n</li>\n<li><p>Make sure that the element is rendered properly before interacting with it. Put some <code>hardcoded delay</code> or <code>Explicit wait</code> and try again.</p>\n<p><strong>Solution:</strong> <code>time.sleep(5)</code> or</p>\n<p><code>WebDriverWait(driver, 20).until(EC.visibility_of_element_located((By.XPATH, &quot;//div[@class='vaadin-text-field-container']//descendant::input[@part='value' and starts-with(@aria-labelledby, 'vaadin-text-field-input')]&quot;))).send_keys(&quot;test&quot;)</code></p>\n</li>\n<li><p>If you have redirected to a <code>new tab/ or new windows</code> and you have not <strong>switched</strong> to that particular <code>new tab/new window</code>, otherwise you will likely get <code>NoSuchElement</code> exception.</p>\n<p><strong>Solution:</strong> switch to the relevant window/tab first.</p>\n</li>\n<li><p>If you have switched to an iframe and the new desired element is not in the same iframe context then first <code>switch to default content</code> and then interact with it.</p>\n<p><strong>Solution:</strong> switch to default content and then switch to respective iframe.</p>\n</li>\n</ol>\n<p>You can start debugging from step1.</p>\n<p><strong>Update:</strong></p>\n<p>Solution specific to the problem:</p>\n<pre><code>Thread.sleep(2000);\nWebElement inputButton = (WebElement) ((JavascriptExecutor)driver).executeScript(&quot;return document.querySelector('#TextFieldTitle').shadowRoot.querySelector('#vaadin-text-field-input-3 &gt; slot:nth-child(2) &gt; input')&quot;);\ninputButton.sendKeys(&quot;test&quot;);\n</code></pre>\n<p>in the place of <code>paste query selector here</code> you will have to go to dev tools again in goog chrome by pressing F12, and then</p>\n<ol>\n<li>Go to that input box</li>\n<li>Do a right click</li>\n<li>Select copy</li>\n<li>Select copy JS path.</li>\n<li>Ctrl + v into notepad to see what you've got from the dev tool.</li>\n</ol>\n<p>It'd be something like this:</p>\n<pre><code>document.querySelector(&quot;#vaadin-text-field-input-3 &gt; slot:nth-child(2) &gt; input&quot;)\n</code></pre>\n<p>replace this <code>paste query selector here</code> with the stuff that is wrapped inside  <code>&quot;&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647277706,"creation_date":1647277706,"answer_id":71471630,"question_id":71469627,"body_markdown":"Looks like part of HTML looks like:\r\n\r\n```\r\n&lt;div class=&quot;vaadin-text-field-container&quot;&gt;\r\n    &lt;label part=&quot;label&quot; id=&quot;vaadin-text-field-label-3&quot;&gt;&lt;/label&gt;\r\n    &lt;div part=&quot;input-field&quot; id=&quot;vaadin-text-field-input-3&quot;&gt;\r\n        &lt;slot name=&quot;prefix&quot;&gt;&lt;/slot&gt;\r\n        &lt;slot name=&quot;input&quot;&gt;\r\n            &lt;input part=&quot;value&quot; tabindex=&quot;0&quot; aria-labelledby=&quot;vaadin-text-field-input-3&quot;&gt;\r\n        &lt;/slot&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nMuch better is to build your XPATH locator from some id field:\r\n\r\n&gt;//div[@id=&#39;vaadin-text-field-input-3&#39;]//input[contains(@aria-labelledby, &#39;vaadin-text-field-input&#39;)]&quot;]\r\n\r\nAlso, as mentioned earlier have to check:\r\n\r\n- if it is unique for this page\r\n- if the `input` element is not dynamic \r\n\r\nIf you found solved that comment you could move to the code part and use the founded locator with WebDriver:\r\n\r\n```\r\ndriver.findElement(\r\n     By.xpath(&quot;//div[@id=&#39;vaadin-text-field-input-3&#39;]//input[contains(@aria-labelledby, &#39;vaadin-text-field-input-3&#39;)]&quot;]&quot;\r\n)).sendKeys(&quot;test&quot;);\r\n```\r\n\r\nAlso, keep in mind that you have to know that element is already loaded on a page. As suggested before you could use some [explicit wait](https://www.browserstack.com/guide/wait-commands-in-selenium-webdriver) for your element.\r\n\r\n\r\n","title":"Selenium | Unable to locate input element","body":"<p>Looks like part of HTML looks like:</p>\n<pre><code>&lt;div class=&quot;vaadin-text-field-container&quot;&gt;\n    &lt;label part=&quot;label&quot; id=&quot;vaadin-text-field-label-3&quot;&gt;&lt;/label&gt;\n    &lt;div part=&quot;input-field&quot; id=&quot;vaadin-text-field-input-3&quot;&gt;\n        &lt;slot name=&quot;prefix&quot;&gt;&lt;/slot&gt;\n        &lt;slot name=&quot;input&quot;&gt;\n            &lt;input part=&quot;value&quot; tabindex=&quot;0&quot; aria-labelledby=&quot;vaadin-text-field-input-3&quot;&gt;\n        &lt;/slot&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Much better is to build your XPATH locator from some id field:</p>\n<blockquote>\n<p>//div[@id='vaadin-text-field-input-3']//input[contains(@aria-labelledby, 'vaadin-text-field-input')]&quot;]</p>\n</blockquote>\n<p>Also, as mentioned earlier have to check:</p>\n<ul>\n<li>if it is unique for this page</li>\n<li>if the <code>input</code> element is not dynamic</li>\n</ul>\n<p>If you found solved that comment you could move to the code part and use the founded locator with WebDriver:</p>\n<pre><code>driver.findElement(\n     By.xpath(&quot;//div[@id='vaadin-text-field-input-3']//input[contains(@aria-labelledby, 'vaadin-text-field-input-3')]&quot;]&quot;\n)).sendKeys(&quot;test&quot;);\n</code></pre>\n<p>Also, keep in mind that you have to know that element is already loaded on a page. As suggested before you could use some <a href=\"https://www.browserstack.com/guide/wait-commands-in-selenium-webdriver\" rel=\"nofollow noreferrer\">explicit wait</a> for your element.</p>\n"}],"owner":{"account_id":16449586,"reputation":73,"user_id":11883342,"display_name":"pixelhead"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1647426085,"creation_date":1647269161,"question_id":71469627,"body_markdown":"No idea how to address this input text field element with selenium / Java (openjdk 11 2018-09-25).\r\n\r\nI tried xpath, cssSelector etc. it never works. Its always &quot;Unable to locate element&quot;.\r\n\r\n    &lt;slot name=&quot;input&quot;&gt;\r\n       &lt;input part=&quot;value&quot; tabindex=&quot;0&quot; aria-labelledby=&quot;vaadin-text-field-input-3&quot;&gt;\r\n    &lt;/slot&gt;\r\n\r\nThis did NOT work:\r\n\r\n    driver.findElement(By.xpath(&quot;//input[@aria-labelledby=&#39;vaadin-text-field-input-3&#39;]&quot;)).sendKeys(&quot;test&quot;);\r\n\r\nIs there a solution for this?\r\n\r\nUPDATE:\r\n\r\nThis thread solved partly my problem. The solution that worked for me can be found [here](https://stackoverflow.com/questions/71486285/selenium-shadow-root-element-input-is-not-reachable-by-keyboard)&lt;a href=&quot;https://stackoverflow.com/questions/71486285/selenium-shadow-root-element-input-is-not-reachable-by-keyboard&quot;&gt; link&lt;/a&gt;.","title":"Selenium | Unable to locate input element","body":"<p>No idea how to address this input text field element with selenium / Java (openjdk 11 2018-09-25).</p>\n<p>I tried xpath, cssSelector etc. it never works. Its always &quot;Unable to locate element&quot;.</p>\n<pre><code>&lt;slot name=&quot;input&quot;&gt;\n   &lt;input part=&quot;value&quot; tabindex=&quot;0&quot; aria-labelledby=&quot;vaadin-text-field-input-3&quot;&gt;\n&lt;/slot&gt;\n</code></pre>\n<p>This did NOT work:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//input[@aria-labelledby='vaadin-text-field-input-3']&quot;)).sendKeys(&quot;test&quot;);\n</code></pre>\n<p>Is there a solution for this?</p>\n<p>UPDATE:</p>\n<p>This thread solved partly my problem. The solution that worked for me can be found <a href=\"https://stackoverflow.com/questions/71486285/selenium-shadow-root-element-input-is-not-reachable-by-keyboard\">here</a><a href=\"https://stackoverflow.com/questions/71486285/selenium-shadow-root-element-input-is-not-reachable-by-keyboard\"> link</a>.</p>\n"},{"tags":["java","intellij-idea","build.gradle"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1528464098,"post_id":50746525,"comment_id":88530642,"body_markdown":"Do you build artifact using &quot;Build | Build Artifact&quot; or using Gradle task?","body":"Do you build artifact using &quot;Build | Build Artifact&quot; or using Gradle task?"},{"owner":{"account_id":3564260,"reputation":2092,"user_id":2976267,"accept_rate":59,"display_name":"Vlad Alexeev"},"score":1,"creation_date":1528529368,"post_id":50746525,"comment_id":88551334,"body_markdown":"build artifact. Actually, after 20 times of deleting/creating artifact Manifest finally appeared in Artifact list. I had to place it in a src/java directory first, and then next time I had to put it in resources dir and was added to artifact. This is nothing but a bug in Intellij Idea","body":"build artifact. Actually, after 20 times of deleting/creating artifact Manifest finally appeared in Artifact list. I had to place it in a src/java directory first, and then next time I had to put it in resources dir and was added to artifact. This is nothing but a bug in Intellij Idea"},{"owner":{"account_id":10364641,"reputation":1607,"user_id":7644072,"display_name":"Robbie Cronin"},"score":2,"creation_date":1550564283,"post_id":50746525,"comment_id":96303678,"body_markdown":"Is there any news on this being fixed? It&#39;s really disappointing that JetBrains would miss a bug as important as this. From what I&#39;m seeing you also can&#39;t just add the manifest in as a file and make it work.","body":"Is there any news on this being fixed? It&#39;s really disappointing that JetBrains would miss a bug as important as this. From what I&#39;m seeing you also can&#39;t just add the manifest in as a file and make it work."}],"answers":[{"tags":[],"owner":{"account_id":1099341,"reputation":5547,"user_id":1092133,"display_name":"Bajal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1528445600,"creation_date":1528445600,"answer_id":50756250,"question_id":50746525,"body_markdown":"You can generate the MANIFEST.mf by going here in the Project Settings window:\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zJLuP.png","title":"How to fix Intellij idea not adding manifest to Artifact?","body":"<p>You can generate the MANIFEST.mf by going here in the Project Settings window:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zJLuP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zJLuP.png\" alt=\"enter image description here\"></a> </p>\n"},{"tags":[],"owner":{"account_id":5758519,"reputation":64,"user_id":4545629,"display_name":"Marco S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647425821,"creation_date":1647425821,"answer_id":71495263,"question_id":50746525,"body_markdown":"I had a similar problem: I selected my own manifest.mf but artifact-manager  apparently choosed the first manifest.mf from dependencies.\r\n\r\nI solved in the following way (it&#39;s just a workaround, of course):\r\n\r\nI edited \\&lt;MyProject&gt;/.idea/artifacts/\\&lt;MyProject&gt;.xml \r\n\r\n    &lt;component name=&quot;ArtifactManager&quot;&gt;\r\n      &lt;artifact type=&quot;jar&quot; build-on-make=&quot;true&quot; name=&quot;MyProject&quot;&gt;\r\n        &lt;output-path&gt;$PROJECT_DIR$/out/artifacts/MyProject&lt;/output-path&gt;\r\n        &lt;root id=&quot;archive&quot; name=&quot;myproject.jar&quot;&gt;\r\n          &lt;element id=&quot;module-output&quot; name=&quot;MyProject&quot; /&gt;\r\n          &lt;element id=&quot;module-output&quot; name=&quot;CmdLineArgsUtil&quot; /&gt;\r\n          &lt;element id=&quot;extracted-dir&quot; path=&quot;$PROJECT_DIR$/../libs/mylib-1.2.0.jar&quot; path-in-jar=&quot;/&quot; /&gt;\r\n          &lt;element id=&quot;directory&quot; name=&quot;META-INF&quot;&gt;\r\n            &lt;element id=&quot;file-copy&quot; path=&quot;$PROJECT_DIR$/META-INF/MANIFEST.MF&quot; /&gt;\r\n          &lt;/element&gt;\r\n        &lt;/root&gt;\r\n      &lt;/artifact&gt;\r\n    &lt;/component&gt;\r\n\r\n \r\nand moved node &quot;META-INF&quot; immediately after node &quot;MyProject&quot; as in the following example:\r\n\r\n    &lt;component name=&quot;ArtifactManager&quot;&gt;\r\n      &lt;artifact type=&quot;jar&quot; build-on-make=&quot;true&quot; name=&quot;MyProject&quot;&gt;\r\n        &lt;output-path&gt;$PROJECT_DIR$/out/artifacts/MyProject&lt;/output-path&gt;\r\n        &lt;root id=&quot;archive&quot; name=&quot;myproject.jar&quot;&gt;\r\n          &lt;element id=&quot;module-output&quot; name=&quot;MyProject&quot; /&gt;\r\n          &lt;element id=&quot;directory&quot; name=&quot;META-INF&quot;&gt;\r\n            &lt;element id=&quot;file-copy&quot; path=&quot;$PROJECT_DIR$/META-INF/MANIFEST.MF&quot; /&gt;\r\n          &lt;/element&gt;\r\n          &lt;element id=&quot;module-output&quot; name=&quot;CmdLineArgsUtil&quot; /&gt;\r\n          &lt;element id=&quot;extracted-dir&quot; path=&quot;$PROJECT_DIR$/../libs/mylib-1.2.0.jar&quot; path-in-jar=&quot;/&quot; /&gt;\r\n        &lt;/root&gt;\r\n      &lt;/artifact&gt;\r\n    &lt;/component&gt;\r\n\r\n","title":"How to fix Intellij idea not adding manifest to Artifact?","body":"<p>I had a similar problem: I selected my own manifest.mf but artifact-manager  apparently choosed the first manifest.mf from dependencies.</p>\n<p>I solved in the following way (it's just a workaround, of course):</p>\n<p>I edited &lt;MyProject&gt;/.idea/artifacts/&lt;MyProject&gt;.xml</p>\n<pre><code>&lt;component name=&quot;ArtifactManager&quot;&gt;\n  &lt;artifact type=&quot;jar&quot; build-on-make=&quot;true&quot; name=&quot;MyProject&quot;&gt;\n    &lt;output-path&gt;$PROJECT_DIR$/out/artifacts/MyProject&lt;/output-path&gt;\n    &lt;root id=&quot;archive&quot; name=&quot;myproject.jar&quot;&gt;\n      &lt;element id=&quot;module-output&quot; name=&quot;MyProject&quot; /&gt;\n      &lt;element id=&quot;module-output&quot; name=&quot;CmdLineArgsUtil&quot; /&gt;\n      &lt;element id=&quot;extracted-dir&quot; path=&quot;$PROJECT_DIR$/../libs/mylib-1.2.0.jar&quot; path-in-jar=&quot;/&quot; /&gt;\n      &lt;element id=&quot;directory&quot; name=&quot;META-INF&quot;&gt;\n        &lt;element id=&quot;file-copy&quot; path=&quot;$PROJECT_DIR$/META-INF/MANIFEST.MF&quot; /&gt;\n      &lt;/element&gt;\n    &lt;/root&gt;\n  &lt;/artifact&gt;\n&lt;/component&gt;\n</code></pre>\n<p>and moved node &quot;META-INF&quot; immediately after node &quot;MyProject&quot; as in the following example:</p>\n<pre><code>&lt;component name=&quot;ArtifactManager&quot;&gt;\n  &lt;artifact type=&quot;jar&quot; build-on-make=&quot;true&quot; name=&quot;MyProject&quot;&gt;\n    &lt;output-path&gt;$PROJECT_DIR$/out/artifacts/MyProject&lt;/output-path&gt;\n    &lt;root id=&quot;archive&quot; name=&quot;myproject.jar&quot;&gt;\n      &lt;element id=&quot;module-output&quot; name=&quot;MyProject&quot; /&gt;\n      &lt;element id=&quot;directory&quot; name=&quot;META-INF&quot;&gt;\n        &lt;element id=&quot;file-copy&quot; path=&quot;$PROJECT_DIR$/META-INF/MANIFEST.MF&quot; /&gt;\n      &lt;/element&gt;\n      &lt;element id=&quot;module-output&quot; name=&quot;CmdLineArgsUtil&quot; /&gt;\n      &lt;element id=&quot;extracted-dir&quot; path=&quot;$PROJECT_DIR$/../libs/mylib-1.2.0.jar&quot; path-in-jar=&quot;/&quot; /&gt;\n    &lt;/root&gt;\n  &lt;/artifact&gt;\n&lt;/component&gt;\n</code></pre>\n"}],"owner":{"account_id":3564260,"reputation":2092,"user_id":2976267,"accept_rate":59,"display_name":"Vlad Alexeev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2571,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1647425821,"creation_date":1528390330,"question_id":50746525,"body_markdown":"I ran into a problem which I cannot solve neither by cleaning, nor by deleting Artifact/recreating it. \r\nI stuck with it for several days now and google search doesn&#39;t know such problem.\r\n\r\nSo, I have a Gradle java project in Intellij Idea, and it doesn&#39;t extract my manifest to Artifact&#39;s jar.\r\n\r\nIt does it in a different project, but here it doesn&#39;t include manifest, so my jar says \r\n`no main manifest attribute, in txtadventureserver_main.jar`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere&#39;s the Artifact screen - manifest is not there and I don&#39;t see how I add it\r\n\r\n[![enter image description here][2]][2]\r\n\r\nhere&#39;s my gradle:\r\n\r\n    group &#39;com.vladdrummer.txtadventureserver&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;TextAdventureServer&#39;\r\n        }\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n        compile &quot;com.sparkjava:spark-core:2.7.2&quot;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qwc0i.png\r\n  [2]: https://i.stack.imgur.com/YiFav.png\r\n","title":"How to fix Intellij idea not adding manifest to Artifact?","body":"<p>I ran into a problem which I cannot solve neither by cleaning, nor by deleting Artifact/recreating it. \nI stuck with it for several days now and google search doesn't know such problem.</p>\n\n<p>So, I have a Gradle java project in Intellij Idea, and it doesn't extract my manifest to Artifact's jar.</p>\n\n<p>It does it in a different project, but here it doesn't include manifest, so my jar says \n<code>no main manifest attribute, in txtadventureserver_main.jar</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/qwc0i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qwc0i.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's the Artifact screen - manifest is not there and I don't see how I add it</p>\n\n<p><a href=\"https://i.stack.imgur.com/YiFav.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YiFav.png\" alt=\"enter image description here\"></a></p>\n\n<p>here's my gradle:</p>\n\n<pre><code>group 'com.vladdrummer.txtadventureserver'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'java'\napply plugin: 'idea'\n\nsourceCompatibility = 1.8\n\njar {\n    manifest {\n        attributes 'Main-Class': 'TextAdventureServer'\n    }\n}\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile \"com.sparkjava:spark-core:2.7.2\"\n}\n</code></pre>\n"},{"tags":["java","eclipse","jetty","jetty-9"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647425620,"creation_date":1647423123,"answer_id":71494601,"question_id":71494442,"body_markdown":"You want to use `Server.setErrorHandler(ErrorHandler)`\r\n\r\nSee: https://javadoc.io/static/org.eclipse.jetty/jetty-server/9.4.45.v20220203/org/eclipse/jetty/server/Server.html#setErrorHandler(org.eclipse.jetty.server.handler.ErrorHandler)\r\n\r\nSo that means ...\r\n\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot;\r\n &quot;http://www.eclipse.org/jetty/configure_9_3.dtd&quot;&gt;\r\n\r\n&lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\r\n    ...\r\n    &lt;Set name=&quot;errorHandler&quot;&gt;\r\n      &lt;New class=&quot;com.example.test.CustomErrorHandler&quot;/&gt;\r\n    &lt;/Set&gt;\r\n    ...\r\n&lt;/Configure&gt;\r\n```\r\n\r\nThis server level `ErrorHandler` is used for non-webapp based requests, or even requests that have an error that cannot be dispatched to a webapp.\r\n\r\nEach Web App will have it&#39;s own unique `ErrorPageErrorHandler`, created at the time when the Web App is being deployed.\r\n\r\n","title":"Error Handler For Server Instance using Jetty9 Ioc","body":"<p>You want to use <code>Server.setErrorHandler(ErrorHandler)</code></p>\n<p>See: <a href=\"https://javadoc.io/static/org.eclipse.jetty/jetty-server/9.4.45.v20220203/org/eclipse/jetty/server/Server.html#setErrorHandler(org.eclipse.jetty.server.handler.ErrorHandler)\" rel=\"nofollow noreferrer\">https://javadoc.io/static/org.eclipse.jetty/jetty-server/9.4.45.v20220203/org/eclipse/jetty/server/Server.html#setErrorHandler(org.eclipse.jetty.server.handler.ErrorHandler)</a></p>\n<p>So that means ...</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot;\n &quot;http://www.eclipse.org/jetty/configure_9_3.dtd&quot;&gt;\n\n&lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\n    ...\n    &lt;Set name=&quot;errorHandler&quot;&gt;\n      &lt;New class=&quot;com.example.test.CustomErrorHandler&quot;/&gt;\n    &lt;/Set&gt;\n    ...\n&lt;/Configure&gt;\n</code></pre>\n<p>This server level <code>ErrorHandler</code> is used for non-webapp based requests, or even requests that have an error that cannot be dispatched to a webapp.</p>\n<p>Each Web App will have it's own unique <code>ErrorPageErrorHandler</code>, created at the time when the Web App is being deployed.</p>\n"}],"owner":{"account_id":16531587,"reputation":3,"user_id":11944637,"display_name":"santh5858"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71494601,"answer_count":1,"score":0,"last_activity_date":1647425620,"creation_date":1647422451,"question_id":71494442,"body_markdown":"I have been trying to setup a jetty server with common error handling. I&#39;m using jetty 9.4.44.v20210927 home distribution. As per the [jetty-9 doc][1], i have written a class that extends ```ErrorHandler``` class and overrides the ```handle()``` method. I exported it as a jar and included it in lib/ext and the class is being discovered and loaded properly (verified using ```--debug``` and ```-Dorg.eclipse.jetty.LEVEL=DEBUG``` flags). I&#39;ve also added this to jetty.xml server instance as instructed in the doc. No matter what change is done, the error is only being handed by the default ErrorPageErrorHandler and not my custom class. This is the xml context file that i have\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/configure_9_3.dtd&quot;&gt;\r\n\r\n&lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\r\n    ...\r\n    &lt;Call name=&quot;addBean&quot;&gt;\r\n        &lt;Arg&gt;\r\n            &lt;New class=&quot;com.example.test.CustomErrorHandler&quot;/&gt;\r\n        &lt;/Arg&gt;\r\n    &lt;/Call&gt;\r\n    ...\r\n&lt;/Configure&gt;\r\n```\r\n\r\nNOTE : I&#39;m trying to set the errorHandler for the entire server instance and not for a specific context. Setting the same error handler for a single context works. But the same does not work for server instance. Also, i&#39;m trying to achieve this using jetty IoC.\r\n\r\n\r\n\r\n\r\n  [1]: https://www.eclipse.org/jetty/documentation/jetty-9/index.html#custom-error-pages","title":"Error Handler For Server Instance using Jetty9 Ioc","body":"<p>I have been trying to setup a jetty server with common error handling. I'm using jetty 9.4.44.v20210927 home distribution. As per the <a href=\"https://www.eclipse.org/jetty/documentation/jetty-9/index.html#custom-error-pages\" rel=\"nofollow noreferrer\">jetty-9 doc</a>, i have written a class that extends <code>ErrorHandler</code> class and overrides the <code>handle()</code> method. I exported it as a jar and included it in lib/ext and the class is being discovered and loaded properly (verified using <code>--debug</code> and <code>-Dorg.eclipse.jetty.LEVEL=DEBUG</code> flags). I've also added this to jetty.xml server instance as instructed in the doc. No matter what change is done, the error is only being handed by the default ErrorPageErrorHandler and not my custom class. This is the xml context file that i have</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/configure_9_3.dtd&quot;&gt;\n\n&lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\n    ...\n    &lt;Call name=&quot;addBean&quot;&gt;\n        &lt;Arg&gt;\n            &lt;New class=&quot;com.example.test.CustomErrorHandler&quot;/&gt;\n        &lt;/Arg&gt;\n    &lt;/Call&gt;\n    ...\n&lt;/Configure&gt;\n</code></pre>\n<p>NOTE : I'm trying to set the errorHandler for the entire server instance and not for a specific context. Setting the same error handler for a single context works. But the same does not work for server instance. Also, i'm trying to achieve this using jetty IoC.</p>\n"},{"tags":["java","sql-server","jdbc","liferay","mssql-jdbc"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":2,"creation_date":1647421589,"post_id":71493826,"comment_id":126364175,"body_markdown":"I&#39;m voting to close this question, because it is not programming related, thus off topic on stackoverflow. However, the error message is right: **Unsupported database type sqlserver**. Liferay CE (starting with version 7.0) does not support SQL-Server out of the box. There is a community plugin to provide this compatibility, or you&#39;ll have to go with the commercial edition, Liferay DXP. You may also want to start with a more recent release than 7.2.","body":"I&#39;m voting to close this question, because it is not programming related, thus off topic on stackoverflow. However, the error message is right: <b>Unsupported database type sqlserver</b>. Liferay CE (starting with version 7.0) does not support SQL-Server out of the box. There is a community plugin to provide this compatibility, or you&#39;ll have to go with the commercial edition, Liferay DXP. You may also want to start with a more recent release than 7.2."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1647423386,"post_id":71493826,"comment_id":126364869,"body_markdown":"Aside... `integratedSecurity=true` or `jdbc.default.username=test; jdbc.default.password=test@123`? Those options are mutually exclusive.","body":"Aside... <code>integratedSecurity=true</code> or <code>jdbc.default.username=test; jdbc.default.password=test@123</code>? Those options are mutually exclusive."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1647423558,"post_id":71493826,"comment_id":126364951,"body_markdown":"Have you downloaded a [Microsoft JDBC Driver for SQL Server](https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server) for your JRE version and added the appropriate .jar files to your `tomcat/lib/ext` folder? Refer to: [Installing to SQL Server Using Windows Integrated Authentication](https://liferay.dev/blogs/-/blogs/installing-to-sql-server-using-windows-integrated-authentication)","body":"Have you downloaded a <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server\" rel=\"nofollow noreferrer\">Microsoft JDBC Driver for SQL Server</a> for your JRE version and added the appropriate .jar files to your <code>tomcat&#47;lib&#47;ext</code> folder? Refer to: <a href=\"https://liferay.dev/blogs/-/blogs/installing-to-sql-server-using-windows-integrated-authentication\" rel=\"nofollow noreferrer\">Installing to SQL Server Using Windows Integrated Authentication</a>"}],"owner":{"account_id":9083115,"reputation":1,"user_id":6762235,"display_name":"Prince Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647425565,"creation_date":1647419465,"question_id":71493826,"body_markdown":"I am trying to set up Liferay with the SQL Server database. \r\nbelow are configured details.\r\n\r\nSQL Server Version: Microsoft SQL Server 2019 (RTM) - 15.0.2000.5 (X64)   Sep 24 2019 13:48:23   Copyright (C) 2019 Microsoft Corporation  Developer Edition (64-bit) on Windows 10 Pro 10.0 &lt;X64&gt; (Build 19041: ) \r\n\r\nLiferay version: liferay-ce-portal-7.2.1-ga2\r\n\r\nPortal-ext properties file.\r\n\r\n    \r\n```\r\njdbc.default.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\njdbc.default.url=jdbc:sqlserver://localhost;databaseName=testdb;integratedSecurity=true;encrypt=true;trustServerCertificate=true;\r\njdbc.default.username=test\r\njdbc.default.password=test@123\r\n```\r\n\r\nI am getting below error. \r\n\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liferayTransactionManager&#39; defined in class path resource [META-INF/hibernate-spring.xml]: Cannot resolve reference to bean &#39;liferayHibernateSessionFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liferayHibernateSessionFactory&#39; defined in class path resource [META-INF/hibernate-spring.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Unsupported database type sqlserver\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\r\n\r\n","title":"Unsupported database type sqlserver","body":"<p>I am trying to set up Liferay with the SQL Server database.\nbelow are configured details.</p>\n<p>SQL Server Version: Microsoft SQL Server 2019 (RTM) - 15.0.2000.5 (X64)   Sep 24 2019 13:48:23   Copyright (C) 2019 Microsoft Corporation  Developer Edition (64-bit) on Windows 10 Pro 10.0  (Build 19041: )</p>\n<p>Liferay version: liferay-ce-portal-7.2.1-ga2</p>\n<p>Portal-ext properties file.</p>\n<pre><code>jdbc.default.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\njdbc.default.url=jdbc:sqlserver://localhost;databaseName=testdb;integratedSecurity=true;encrypt=true;trustServerCertificate=true;\njdbc.default.username=test\njdbc.default.password=test@123\n</code></pre>\n<p>I am getting below error.</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liferayTransactionManager' defined in class path resource [META-INF/hibernate-spring.xml]: Cannot resolve reference to bean 'liferayHibernateSessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liferayHibernateSessionFactory' defined in class path resource [META-INF/hibernate-spring.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Unsupported database type sqlserver\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)</p>\n</blockquote>\n"},{"tags":["java","deployment","installation","desktop-application"],"comments":[{"owner":{"account_id":161274,"reputation":6294,"user_id":381897,"accept_rate":100,"display_name":"bhdrkn"},"score":0,"creation_date":1359975558,"post_id":14685149,"comment_id":20531929,"body_markdown":"One of the my project I used Nsis as installer. You can check it http://nsis.sourceforge.net/Main_Page.","body":"One of the my project I used Nsis as installer. You can check it <a href=\"http://nsis.sourceforge.net/Main_Page\" rel=\"nofollow noreferrer\">nsis.sourceforge.net/Main_Page</a>."},{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1359975731,"post_id":14685149,"comment_id":20532020,"body_markdown":"WiX is also a good option.","body":"WiX is also a good option."},{"owner":{"account_id":1068434,"reputation":1602,"user_id":1068314,"display_name":"AntonyM"},"score":2,"creation_date":1360066205,"post_id":14685149,"comment_id":20568952,"body_markdown":"You may also want to check out JWrapper.com, my company recently released it.  It is very easy to use, is written in pure Java (so runs on any OS) and generates native apps for Mac, Windows and Linux including icons (from PNGs you provide) and signing if you have certificates for Window and Mac.","body":"You may also want to check out JWrapper.com, my company recently released it.  It is very easy to use, is written in pure Java (so runs on any OS) and generates native apps for Mac, Windows and Linux including icons (from PNGs you provide) and signing if you have certificates for Window and Mac."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1572298201,"creation_date":1359976046,"answer_id":14685452,"question_id":14685149,"body_markdown":"If you want free and open source, you could take a look [IzPack](http://izpack.org/). We use this at work for its command line support in our builder.\r\n\r\nYou could also take a look [install4j](http://www.ej-technologies.com/products/install4j/overview.html) which is a commercial product we&#39;ve trialed on and off before (but when it comes to spending money, you tend to want to know you&#39;re getting what you want ;))","title":"Creating an installer for Java desktop application","body":"<p>If you want free and open source, you could take a look <a href=\"http://izpack.org/\" rel=\"nofollow noreferrer\">IzPack</a>. We use this at work for its command line support in our builder.</p>\n\n<p>You could also take a look <a href=\"http://www.ej-technologies.com/products/install4j/overview.html\" rel=\"nofollow noreferrer\">install4j</a> which is a commercial product we've trialed on and off before (but when it comes to spending money, you tend to want to know you're getting what you want ;))</p>\n"},{"tags":[],"owner":{"account_id":1950415,"reputation":41,"user_id":1754629,"display_name":"NormanC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359977514,"creation_date":1359977514,"answer_id":14685892,"question_id":14685149,"body_markdown":"I was in the same situation a few months ago. After trying out a lot. I suggest NSIS. There is a nice plug-in for Eclipse [EclipseNSIS](http://eclipsensis.sourceforge.net/) with some templates. It helps a lot to get a basic installer with just some easy clicks. If the resulting code is not sufficient you can do the rest work by coding, but most of the code is generated by EclipseNSIS.","title":"Creating an installer for Java desktop application","body":"<p>I was in the same situation a few months ago. After trying out a lot. I suggest NSIS. There is a nice plug-in for Eclipse <a href=\"http://eclipsensis.sourceforge.net/\" rel=\"nofollow\">EclipseNSIS</a> with some templates. It helps a lot to get a basic installer with just some easy clicks. If the resulting code is not sufficient you can do the rest work by coding, but most of the code is generated by EclipseNSIS.</p>\n"},{"tags":[],"owner":{"account_id":1123978,"reputation":8706,"user_id":1111674,"accept_rate":60,"display_name":"Adam Dyga"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1359978012,"creation_date":1359978012,"answer_id":14686023,"question_id":14685149,"body_markdown":"I have been using [InnoSetup][1] for a long time. It has always worked very well. It can do everything you need (unpack files, put shortcuts on desktop, start menu etc) and generates installers that we are used to.\r\n\r\n\r\n  [1]: http://www.jrsoftware.org/isinfo.php","title":"Creating an installer for Java desktop application","body":"<p>I have been using <a href=\"http://www.jrsoftware.org/isinfo.php\">InnoSetup</a> for a long time. It has always worked very well. It can do everything you need (unpack files, put shortcuts on desktop, start menu etc) and generates installers that we are used to.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607508066,"creation_date":1359978651,"answer_id":14686179,"question_id":14685149,"body_markdown":"**Edit: I&#39;ll leave this here for reference, but note: The Java plug-in needed to launch JWS and applets was removed by browser manufacturers, and both were deprecated in Java 9 and removed from the API.**\r\n\r\nUse [Java Web Start](https://stackoverflow.com/tags/java-web-start/info). \r\n\r\n\r\n&gt; Like, pressing Next for 2 - 3 times (which shows all the terms and conditions etc)\r\n\r\nThe [`ExtensionInstallerService`](http://docs.oracle.com/javase/7/docs/jre/api/javaws/jnlp/javax/jnlp/ExtensionInstallerService.html) of the JNLP API provides this.  Here is a [demo. of the installer service](http://pscode.org/jws/api.html#eis).\r\n\r\n&gt; ..then a user specify a location(like C:\\Program Files\\New Folder\\My App), ..\r\n\r\nThe `ExtensionInstallerService` provides a method [`getInstallPath()`](http://docs.oracle.com/javase/7/docs/jre/api/javaws/jnlp/javax/jnlp/ExtensionInstallerService.html#getInstallPath%28%29) which..\r\n\r\n&gt; Returns the directory where the installer is recommended to install the extension in. It is not required that the installer install in this directory, this is merely a suggested path.\r\n\r\nThat is not quite the same as what you are asking, but then I think it is generally a bad idea to allow the user that level of control.\r\n\r\n\r\n&gt; then my .exe, lib folder, img folder, other important folders get pasted in the destination folder along with the .exe file ..\r\n\r\nJWS installs the resources mentioned in the JNLP automatically, as and when they are needed.  Further, it updates the resources if the archives on the server change.\r\n\r\n&gt; and then a shortcut is created on a desktop.\r\n\r\nJWS can supply desktop shortcuts and menu items on supported systems.\r\n\r\nE.G. \r\n\r\n- From https://stackoverflow.com/questions/11323510/how-to-run-java-programs-by-clicking-on-their-icon-on-windows/11323662#11323662 &lt;br&gt;\r\n&lt;img src=&quot;http://i.stack.imgur.com/6O2UK.png&quot;&gt; \r\n- [This answer](https://stackoverflow.com/a/13871972/418556), which shows a JWS app. installed in &#39;Programs and Features&#39;, with the desktop icon to the left of it.&lt;br&gt;\r\n&lt;img src=&quot;http://i.stack.imgur.com/lPir0.png&quot; &gt;\r\n","title":"Creating an installer for Java desktop application","body":"<p><strong>Edit: I'll leave this here for reference, but note: The Java plug-in needed to launch JWS and applets was removed by browser manufacturers, and both were deprecated in Java 9 and removed from the API.</strong></p>\n<p>Use <a href=\"https://stackoverflow.com/tags/java-web-start/info\">Java Web Start</a>.</p>\n<blockquote>\n<p>Like, pressing Next for 2 - 3 times (which shows all the terms and conditions etc)</p>\n</blockquote>\n<p>The <a href=\"http://docs.oracle.com/javase/7/docs/jre/api/javaws/jnlp/javax/jnlp/ExtensionInstallerService.html\" rel=\"nofollow noreferrer\"><code>ExtensionInstallerService</code></a> of the JNLP API provides this.  Here is a <a href=\"http://pscode.org/jws/api.html#eis\" rel=\"nofollow noreferrer\">demo. of the installer service</a>.</p>\n<blockquote>\n<p>..then a user specify a location(like C:\\Program Files\\New Folder\\My App), ..</p>\n</blockquote>\n<p>The <code>ExtensionInstallerService</code> provides a method <a href=\"http://docs.oracle.com/javase/7/docs/jre/api/javaws/jnlp/javax/jnlp/ExtensionInstallerService.html#getInstallPath%28%29\" rel=\"nofollow noreferrer\"><code>getInstallPath()</code></a> which..</p>\n<blockquote>\n<p>Returns the directory where the installer is recommended to install the extension in. It is not required that the installer install in this directory, this is merely a suggested path.</p>\n</blockquote>\n<p>That is not quite the same as what you are asking, but then I think it is generally a bad idea to allow the user that level of control.</p>\n<blockquote>\n<p>then my .exe, lib folder, img folder, other important folders get pasted in the destination folder along with the .exe file ..</p>\n</blockquote>\n<p>JWS installs the resources mentioned in the JNLP automatically, as and when they are needed.  Further, it updates the resources if the archives on the server change.</p>\n<blockquote>\n<p>and then a shortcut is created on a desktop.</p>\n</blockquote>\n<p>JWS can supply desktop shortcuts and menu items on supported systems.</p>\n<p>E.G.</p>\n<ul>\n<li>From <a href=\"https://stackoverflow.com/questions/11323510/how-to-run-java-programs-by-clicking-on-their-icon-on-windows/11323662#11323662\">How to run Java programs by clicking on their icon on Windows?</a> <br>\n<img src=\"https://i.stack.imgur.com/6O2UK.png\"></li>\n<li><a href=\"https://stackoverflow.com/a/13871972/418556\">This answer</a>, which shows a JWS app. installed in 'Programs and Features', with the desktop icon to the left of it.<br>\n<img src=\"https://i.stack.imgur.com/lPir0.png\" ></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":473652,"reputation":10564,"user_id":882875,"display_name":"Bogdan Mitrache"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360057326,"creation_date":1360057326,"answer_id":14704325,"question_id":14685149,"body_markdown":"You can also use [Advanced Installer][1]. Since you already have an EXE to launch your JAR, you don&#39;t need to use the Java Launcher support from Advanced Installer, you can create a [Simple project][2], which is available in the free edition, so you don&#39;t need to purchase a license.\r\n\r\nIt will take you maximum 10 minutes to install it and create the setup package, as you will see it is very easy to learn using it.\r\n\r\n  [1]: http://www.advancedinstaller.com/\r\n  [2]: http://www.advancedinstaller.com/user-guide/tutorial-simple.html","title":"Creating an installer for Java desktop application","body":"<p>You can also use <a href=\"http://www.advancedinstaller.com/\" rel=\"nofollow\">Advanced Installer</a>. Since you already have an EXE to launch your JAR, you don't need to use the Java Launcher support from Advanced Installer, you can create a <a href=\"http://www.advancedinstaller.com/user-guide/tutorial-simple.html\" rel=\"nofollow\">Simple project</a>, which is available in the free edition, so you don't need to purchase a license.</p>\n\n<p>It will take you maximum 10 minutes to install it and create the setup package, as you will see it is very easy to learn using it.</p>\n"},{"tags":[],"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1638561042,"creation_date":1556080382,"answer_id":55822480,"question_id":14685149,"body_markdown":"If you are on JDK 13 or above, you can package any Java program along with its runtime by using the default packaging tool in the JDK called `jpackage`. \r\n\r\n[jpackage](https://docs.oracle.com/en/java/javase/15/jpackage/packaging-overview.html\r\n) can create installers for Linux, Mac and Windows operating system.\r\n\r\nYou can create a specific runtime by using [jlink](https://docs.oracle.com/javase/9/tools/jlink.htm).\r\n\r\njpackage needs some 3rd party free software for creating Windows bundles:\r\n\r\n&lt;s&gt;* To create `.exe` bundle, it uses Wix&lt;/s&gt;\r\n\r\n&lt;s&gt;* To create `.msi` bundle, it uses Inno&lt;/s&gt;\r\n\r\n* Wix is now the only dependency to create both `exe` and `msi` bundles.\r\n\r\nAll the details about jpackage can be found at [JEP 343: Packaging Tool](https://openjdk.java.net/jeps/343).","title":"Creating an installer for Java desktop application","body":"<p>If you are on JDK 13 or above, you can package any Java program along with its runtime by using the default packaging tool in the JDK called <code>jpackage</code>.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/15/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">jpackage</a> can create installers for Linux, Mac and Windows operating system.</p>\n<p>You can create a specific runtime by using <a href=\"https://docs.oracle.com/javase/9/tools/jlink.htm\" rel=\"nofollow noreferrer\">jlink</a>.</p>\n<p>jpackage needs some 3rd party free software for creating Windows bundles:</p>\n<p><s>* To create <code>.exe</code> bundle, it uses Wix</s></p>\n<p><s>* To create <code>.msi</code> bundle, it uses Inno</s></p>\n<ul>\n<li>Wix is now the only dependency to create both <code>exe</code> and <code>msi</code> bundles.</li>\n</ul>\n<p>All the details about jpackage can be found at <a href=\"https://openjdk.java.net/jeps/343\" rel=\"nofollow noreferrer\">JEP 343: Packaging Tool</a>.</p>\n"},{"tags":[],"owner":{"account_id":20835601,"reputation":1,"user_id":15303604,"display_name":"sami gharbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614555135,"creation_date":1614555135,"answer_id":66414931,"question_id":14685149,"body_markdown":"use Launch4j to create exe file. you must give the relative path to jre folder.\r\nnext use Inno Setup to make setup. You can bundle jre inside the installer.\r\nI&#39;ve use it and it works like a magic. I can show details.","title":"Creating an installer for Java desktop application","body":"<p>use Launch4j to create exe file. you must give the relative path to jre folder.\nnext use Inno Setup to make setup. You can bundle jre inside the installer.\nI've use it and it works like a magic. I can show details.</p>\n"},{"tags":[],"owner":{"account_id":7559823,"reputation":69,"user_id":6881084,"display_name":"Robert Makritsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647425351,"creation_date":1647425351,"answer_id":71495145,"question_id":14685149,"body_markdown":"I wanted to share another project. This project have two part:updating your desktop app and ready installers for mac os, linux, windows. If you want only installer so you can adopt for your needs [documentation][1] in this way you should replace starter-core-1.0.jar  with your jar\r\n\r\n\r\n  [1]: https://github.com/gdevby/desktop-starter-launch-update-bootstrap/wiki/Creating-installers","title":"Creating an installer for Java desktop application","body":"<p>I wanted to share another project. This project have two part:updating your desktop app and ready installers for mac os, linux, windows. If you want only installer so you can adopt for your needs <a href=\"https://github.com/gdevby/desktop-starter-launch-update-bootstrap/wiki/Creating-installers\" rel=\"nofollow noreferrer\">documentation</a> in this way you should replace starter-core-1.0.jar  with your jar</p>\n"}],"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52219,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":14686023,"answer_count":8,"score":28,"last_activity_date":1647425351,"creation_date":1359975149,"question_id":14685149,"body_markdown":"I know this question has been asked many a times and all the time there is an answer which says about using an executable jar or making an .exe using launch4j or similar app.\r\n\r\nI may sound like a novice, which I actually am. \r\n\r\nI have been trying a few things with a Java project. I have successfully made an executable jar and also an .exe file from it. All thanks to your previous answers in SO :)\r\n\r\nBut, I want to create a installer for Windows. Like, pressing Next for 2 - 3 times(which shows all the terms and conditions etc), then a user specify a location(like C:\\Program Files\\New Folder\\My App), then my .exe, lib folder, img folder, other important folders get pasted in the destination folder along with the .exe file and then a shortcut is created on a desktop.\r\n\r\nAny pointers to how can I achieve this ?","title":"Creating an installer for Java desktop application","body":"<p>I know this question has been asked many a times and all the time there is an answer which says about using an executable jar or making an .exe using launch4j or similar app.</p>\n\n<p>I may sound like a novice, which I actually am. </p>\n\n<p>I have been trying a few things with a Java project. I have successfully made an executable jar and also an .exe file from it. All thanks to your previous answers in SO :)</p>\n\n<p>But, I want to create a installer for Windows. Like, pressing Next for 2 - 3 times(which shows all the terms and conditions etc), then a user specify a location(like C:\\Program Files\\New Folder\\My App), then my .exe, lib folder, img folder, other important folders get pasted in the destination folder along with the .exe file and then a shortcut is created on a desktop.</p>\n\n<p>Any pointers to how can I achieve this ?</p>\n"},{"tags":["java","web","solidity"],"comments":[{"owner":{"account_id":24116057,"reputation":11,"user_id":18085917,"display_name":"Vincenzo Pendino"},"score":0,"creation_date":1647422778,"post_id":71494389,"comment_id":126364620,"body_markdown":"functionName: migrateToV2 was changed for MigrateToV2 as per ABI but still not working","body":"functionName: migrateToV2 was changed for MigrateToV2 as per ABI but still not working"},{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1647424440,"post_id":71494389,"comment_id":126365292,"body_markdown":"That is too much code to be easily analyzed for your question to be answered.  Can you reduce the amount to make it a [mre] please.","body":"That is too much code to be easily analyzed for your question to be answered.  Can you reduce the amount to make it a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please."}],"owner":{"account_id":24116057,"reputation":11,"user_id":18085917,"display_name":"Vincenzo Pendino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647425227,"creation_date":1647422149,"question_id":71494389,"body_markdown":"below is my code i am working on a migration project, user connected to the website when clicks on  migrate button should send the request for spender approval and then send all the token to the smart contract to receive the new one however doesn&#39;t seem to be working. \r\n\r\n&lt;!----- Javascript ------&gt;\r\n\r\n \r\n    const contractProcessor = useWeb3ExecuteFunction ();\r\n  \r\n    async function migration() {\r\n        let options = {\r\n    contractAddress:&quot;0x38401323a55ADB644429aF88E3e7705d2bD51a08&quot;,\r\n    functionName:&quot;MigrateToV2&quot;,\r\n    abi:[{&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;addr&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;amount&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;MigrateToV2&quot;,&quot;type&quot;:&quot;event&quot;}],\r\n    params:{\r\n    max_amount,\r\n      note:&quot;Migration completed!&quot;\r\n     }\r\n     }\r\n     await contractProcessor.fetch({ \r\n     params: options\r\n    })\r\n    }\r\n    const ethers = require(&#39;ethers&#39;);\r\n \r\n    const WENLAMBOInterface = [&#39;function approve(address spender, uint256 amount) external returns (bool)&#39;];\r\n    const WENLAMBOAddress = &#39;0xB1485622Ca84eAc032D9943ce4A0B7867a48614c&#39;;\r\n    const yourContractAddress = &quot;0x38401323a55ADB644429aF88E3e7705d2bD51a08&quot;;\r\n \r\n    let provider;\r\n    let signer;\r\n    let signerAddress;\r\n    let WENLAMBOContract;\r\n \r\n    const startFunction = async () =&gt; {\r\n       await ethereum.request({ method: &#39;eth_requestAccounts&#39;});\r\n       await ethereum.request({ method: &#39;wallet_switchEthereumChain&#39;, params:[{chainId: &#39;0x61&#39;}]});\r\n       provider = new ethers.providers.Web3Provider(window.ethereum);\r\n       signer = provider.getSigner();\r\n       signerAddress = await signer.getAddress();\r\n       USDTContract = await new ethers.Contract(WENLAMBOAddress, WENLAMBOInterface, signer);\r\n    }\r\n    startFunction();\r\n \r\n    async function approveWENLAMBO(){\r\n       WENLAMBOContract.approve(yourContractAddress, BigInt(&quot;9007199254740990&quot;)**3n);\r\n    }\r\n    //Whenever this function is called, a transaction request is sent to user&#39;s metamask and whenever\r\n    //user confirms it, it is approved!\r\n\r\n        &lt;/Card&gt;\r\n        &lt;center&gt;&lt;Button onClick={() =&gt; approveWENLAMBO &amp;&amp; migration()}&gt;Click to migrate &lt;/Button&gt;&lt;/center&gt;\r\n       &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    );\r\n     }\r\n    \r\n\r\nas you can see on click has been defined but the function is not executed when  i click ","title":"approve spender and migration is not working what i am doing wrong?","body":"<p>below is my code i am working on a migration project, user connected to the website when clicks on  migrate button should send the request for spender approval and then send all the token to the smart contract to receive the new one however doesn't seem to be working.</p>\n\n<pre><code>const contractProcessor = useWeb3ExecuteFunction ();\n\nasync function migration() {\n    let options = {\ncontractAddress:&quot;0x38401323a55ADB644429aF88E3e7705d2bD51a08&quot;,\nfunctionName:&quot;MigrateToV2&quot;,\nabi:[{&quot;inputs&quot;:[{&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;addr&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:false,&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;amount&quot;,&quot;type&quot;:&quot;uint256&quot;}],&quot;name&quot;:&quot;MigrateToV2&quot;,&quot;type&quot;:&quot;event&quot;}],\nparams:{\nmax_amount,\n  note:&quot;Migration completed!&quot;\n }\n }\n await contractProcessor.fetch({ \n params: options\n})\n}\nconst ethers = require('ethers');\n\nconst WENLAMBOInterface = ['function approve(address spender, uint256 amount) external returns (bool)'];\nconst WENLAMBOAddress = '0xB1485622Ca84eAc032D9943ce4A0B7867a48614c';\nconst yourContractAddress = &quot;0x38401323a55ADB644429aF88E3e7705d2bD51a08&quot;;\n\nlet provider;\nlet signer;\nlet signerAddress;\nlet WENLAMBOContract;\n\nconst startFunction = async () =&gt; {\n   await ethereum.request({ method: 'eth_requestAccounts'});\n   await ethereum.request({ method: 'wallet_switchEthereumChain', params:[{chainId: '0x61'}]});\n   provider = new ethers.providers.Web3Provider(window.ethereum);\n   signer = provider.getSigner();\n   signerAddress = await signer.getAddress();\n   USDTContract = await new ethers.Contract(WENLAMBOAddress, WENLAMBOInterface, signer);\n}\nstartFunction();\n\nasync function approveWENLAMBO(){\n   WENLAMBOContract.approve(yourContractAddress, BigInt(&quot;9007199254740990&quot;)**3n);\n}\n//Whenever this function is called, a transaction request is sent to user's metamask and whenever\n//user confirms it, it is approved!\n\n    &lt;/Card&gt;\n    &lt;center&gt;&lt;Button onClick={() =&gt; approveWENLAMBO &amp;&amp; migration()}&gt;Click to migrate &lt;/Button&gt;&lt;/center&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n);\n }\n</code></pre>\n<p>as you can see on click has been defined but the function is not executed when  i click</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8480,"page":1512,"page_size":100}
